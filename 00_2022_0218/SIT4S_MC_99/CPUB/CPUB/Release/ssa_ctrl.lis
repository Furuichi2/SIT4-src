*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ｃ／ｂ制御                              ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6036                              19     
 6037                              20     ;2015-11-15 二重回路対策の有効性の確認用
 6038                              21     ;1      .DEFINE         "1"
 6039                              22     ;0      .DEFINE         "0"
 6040                              23     
 6041                              24     _INCCMPERR_FORCE_USE    .DEFINE         "1"
 6042                              25     ;;1     .DEFINE         "0"
 6043                              26     
 6044                              27     
 6045 00000000                     28             .SECTION        P,CODE                  ;
 6046                              29     
 6047                              30     ;       //      ***********************************
 6048                              31     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6049                              32     ;       //      ***********************************
 6050                              33             .INCLUDE        "ssa_krom.ext"          ; //
 6051                               1 I1  ;       ***************************
 6052                               2 I1  ;       ***     汎用ルーチン    ***
 6053                               3 I1  ;       ***************************
 6054                               4 I1          .GLOBAL         _EMG_OUT                ;ssa_khad.src
 6055                               5 I1          .GLOBAL         _EXQ_OUT                ;ssa_khad.src
 6056                               6 I1          .GLOBAL         _RESET_OUT              ;ssa_khad.src
 6057                               7 I1          .GLOBAL         _RESET_END_OUT          ;ssa_khad.src
 6058                               8 I1          .GLOBAL         _VON1_ON                ;ssa_khad.src
 6059                               9 I1          .GLOBAL         _VON1_OF                ;ssa_khad.src
 6060                              10 I1          .GLOBAL         _VON2_ON                ;ssa_khad.src
 6061                              11 I1          .GLOBAL         _VON2_OF                ;ssa_khad.src
 6062                              12 I1          .GLOBAL         _VON3_ON                ;ssa_khad.src
 6063                              13 I1          .GLOBAL         _VON3_OF                ;ssa_khad.src
 6064                              14 I1          .GLOBAL         _RDY_ON                 ;ssa_khad.src
 6065                              15 I1          .GLOBAL         _RDY_OF                 ;ssa_khad.src
 6066                              16 I1          .GLOBAL         _ANTI_ON                ;ssa_khad.src
 6067                              17 I1          .GLOBAL         _ANTI_OF                ;ssa_khad.src
 6068                              18 I1          .GLOBAL         _AUTO_ON                ;ssa_khad.src
 6069                              19 I1          .GLOBAL         _AUTO_OF                ;ssa_khad.src
 6070                              20 I1          .GLOBAL         _FRCYCL_OF              ;ssa_khad.src
 6071                              21 I1          .GLOBAL         _FRCYCL_ON              ;ssa_khad.src
 6072                              22 I1  
 6073                              23 I1  ;       *******************************************
 6074                              24 I1  ;       ***                                     ***
 6075                              25 I1  ;       ***     各状態ハンドシェイクと処理      ***
 6076                              26 I1  ;       ***                                     ***
 6077                              27 I1  ;       *******************************************
 6078                              28 I1  ;_SH4_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 6079                              29 I1  ;_SH2_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 6080                              30 I1  ;_SH4_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 6081                              31 I1  ;_SH2_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 6082                              32 I1  ;_SH4_HD_POS_START      .SRES   2       ;起動したい
 6083                              33 I1  ;_SH2_HD_POS_START      .SRES   2       ;起動したい
 6084                              34 I1  ;_SH4_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6085                              35 I1  ;_SH2_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     2
PROGRAM NAME =

 6086                              36 I1  ;_SH4_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 6087                              37 I1  ;_SH2_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 6088                              38 I1  ;_SH4_HD_CNT_STOP       .SRES   2       ;連続停止
 6089                              39 I1  ;_SH2_HD_CNT_STOP       .SRES   2       ;連続停止
 6090                              40 I1  ;_SH4_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 6091                              41 I1  ;_SH2_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 6092                              42 I1  
 6093                              43 I1  
 6094                              44 I1  ;       ***********************************
 6095                              45 I1  ;       ***                             ***
 6096                              46 I1  ;       ***     READY 準備完了          ***
 6097                              47 I1  ;       ***                             ***
 6098                              48 I1  ;       ***********************************
 6099                              49 I1          .GLOBAL _CPU_AB_RDY_OF_OUT
 6100                              50 I1          .GLOBAL _CPU_BA_RDY_OF_OUT
 6101                              51 I1          .GLOBAL _CPU_AB_RDY_ON_OUT
 6102                              52 I1          .GLOBAL _CPU_BA_RDY_ON_JG
 6103                              53 I1          .GLOBAL _CPU_AB_RDY_OF_JG
 6104                              54 I1  
 6105                              55 I1  ;       ***********************************
 6106                              56 I1  ;       ***                             ***
 6107                              57 I1  ;       ***     BUSY 準備未完了         ***
 6108                              58 I1  ;       ***                             ***
 6109                              59 I1  ;       ***********************************
 6110                              60 I1          .GLOBAL _CPU_AB_BSY_OF_OUT
 6111                              61 I1          .GLOBAL _CPU_BA_BSY_OF_OUT
 6112                              62 I1          .GLOBAL _CPU_AB_BSY_ON_OUT
 6113                              63 I1          .GLOBAL _CPU_BA_BSY_ON_JG
 6114                              64 I1          .GLOBAL _CPU_AB_BSY_OF_JG
 6115                              65 I1  
 6116                              66 I1  ;       ***********************************
 6117                              67 I1  ;       ***                             ***
 6118                              68 I1  ;       ***     STR 運転開始            ***
 6119                              69 I1  ;       ***                             ***
 6120                              70 I1  ;       ***********************************
 6121                              71 I1          .GLOBAL _CPU_AB_STR_OF_OUT
 6122                              72 I1          .GLOBAL _CPU_BA_STR_OF_OUT
 6123                              73 I1          .GLOBAL _CPU_AB_STR_ON_OUT
 6124                              74 I1          .GLOBAL _CPU_BA_STR_ON_JG
 6125                              75 I1          .GLOBAL _CPU_AB_STR_OF_JG
 6126                              76 I1  
 6127                              77 I1  ;       ***********************************
 6128                              78 I1  ;       ***                             ***
 6129                              79 I1  ;       ***     AUTO    開始            ***
 6130                              80 I1  ;       ***                             ***
 6131                              81 I1  ;       ***********************************
 6132                              82 I1          .GLOBAL _CPU_AB_DRVSTOP_OF_OUT
 6133                              83 I1          .GLOBAL _CPU_AB_DRVSTOP_ON_OUT  ;
 6134                              84 I1          .GLOBAL _CPU_BA_DRVSTOP_ON_JG   ;
 6135                              85 I1          .GLOBAL _CPU_BA_DRVSTOP_OF_OUT  ;
 6136                              86 I1  
 6137                              87 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_OUT
 6138                              88 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_OF_OUT
 6139                              89 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_ON_OUT
 6140                              90 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_ON_JG
 6141                              91 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_JG
 6142                              92 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     3
PROGRAM NAME =

 6143                              93 I1  ;       ***********************************
 6144                              94 I1  ;       ***                             ***
 6145                              95 I1  ;       ***     ニアゼロ開始            ***
 6146                              96 I1  ;       ***                             ***
 6147                              97 I1  ;       ***********************************
 6148                              98 I1          .GLOBAL _CPU_AB_NZR_OF_OUT
 6149                              99 I1          .GLOBAL _CPU_BA_NZR_OF_OUT
 6150                             100 I1          .GLOBAL _CPU_AB_NZR_ON_OUT
 6151                             101 I1          .GLOBAL _CPU_BA_NZR_ON_JG
 6152                             102 I1          .GLOBAL _CPU_AB_NZR_OF_JG
 6153                             103 I1  
 6154                             104 I1  
 6155                             105 I1  ;       ***********************************
 6156                             106 I1  ;       ***                             ***
 6157                             107 I1  ;       ***     連続停止                ***
 6158                             108 I1  ;       ***                             ***
 6159                             109 I1  ;       ***********************************
 6160                             110 I1          .GLOBAL _CPU_AB_CST_OF_OUT1     ;
 6161                             111 I1          .GLOBAL _CPU_AB_CST_OF_OUT2     ;
 6162                             112 I1          .GLOBAL _CPU_BA_CST_OF_OUT
 6163                             113 I1          .GLOBAL _CPU_AB_CST_ON_OUT1
 6164                             114 I1          .GLOBAL _CPU_AB_CST_ON_OUT2
 6165                             115 I1          .GLOBAL _CPU_BA_CST_ON_JG
 6166                             116 I1          .GLOBAL _CPU_AB_CST_OF_JG
 6167                             117 I1  
 6168                             118 I1  ;       ***********************************
 6169                             119 I1  ;       ***                             ***
 6170                             120 I1  ;       ***     ステップ停止            ***
 6171                             121 I1  ;       ***                             ***
 6172                             122 I1  ;       ***********************************
 6173                             123 I1          .GLOBAL _CPU_AB_CED_OF_OUT
 6174                             124 I1          .GLOBAL _CPU_BA_CED_OF_OUT
 6175                             125 I1          .GLOBAL _CPU_AB_CED_ON_OUT
 6176                             126 I1          .GLOBAL _CPU_BA_CED_ON_JG
 6177                             127 I1          .GLOBAL _CPU_AB_CED_OF_JG
 6178                             128 I1  
 6179                             129 I1  ;       ***********************************
 6180                             130 I1  ;       ***                             ***
 6181                             131 I1  ;       ***     相手CPUの工程をROへ     ***
 6182                             132 I1  ;       ***                             ***
 6183                             133 I1  ;       ***********************************
 6184                             134 I1          .GLOBAL _CPU_BA_STEP_LOAD
 6185                             135 I1  
 6186                             136 I1  ;       ***********************************
 6187                             137 I1  ;       ***                             ***
 6188                             138 I1  ;       ***     ｽﾗｲﾄﾞ自動待機(hold)     ***
 6189                             139 I1  ;       ***                             ***
 6190                             140 I1  ;       ***********************************
 6191                             141 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_ON_OUT       ;
 6192                             142 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_OF_OUT       ;
 6193                             143 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_ON_JG        ;
 6194                             144 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_OF_JG        ;
 6195                             145 I1  
 6196                             146 I1  ;       *******************************************
 6197                             147 I1  ;       ***             ssa_com1.src            ***
 6198                             148 I1  ;       *******************************************
 6199                             149 I1          .GLOBAL         _DIVS_32REG2_32REG1_R4_32REG2_R2        ;(R2/R4-->R2)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     4
PROGRAM NAME =

 6200                             150 I1          .GLOBAL         _DIVS_64R1R2_32R4_32R2                  ;(R1,R2/R4-->R2)
 6201                             151 I1          .GLOBAL         _DIVU_64R1R2_32R4_32R2                  ;
 6202                             152 I1          .GLOBAL         _HIGH_DIVS_32REG2_16REG1_R4_16REG2_R2   ;(R2/R4-->R2)
 6203                             153 I1          .GLOBAL         _HIGH_S32R2_MUL_S32R1_DIV_S32R4_S32R2   ;(R2*R1/R4-->R2)
 6204                             154 I1          .GLOBAL         _FPU_R2_MUL_R1_DIV_R4                   ;
 6205                             155 I1          .GLOBAL         _FPU_R2_MUL_R1_R3_DIV_R4                ;
 6206                             156 I1          .GLOBAL         _FPU_DIVS_32REG2_32REG1_R4_32REG2_R2    ;
 6207                             157 I1          .GLOBAL         _FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1   ;
 6208                             158 I1  
 6209                             159 I1          .GLOBAL         _MULDIV_R2S32mR1S32dR4S32aR1R2S64;
 6210                             160 I1          .GLOBAL         _MULDIV_R1R2S64mR3S32dR4S32aR1R2S64
 6211                             161 I1          .GLOBAL         _MUL_R1R2S64mR3S32aR1R2S64              ;
 6212                             162 I1  
 6213                             163 I1          .GLOBAL         _DIVS_64R1R2_32R4_64R1R2        ;
 6214                             164 I1          .GLOBAL         _DIVU_64R1R2_32R4_64R1R2        ;
 6215                             165 I1  
 6216                             166 I1          .GLOBAL         _DIG_AREA_CHK0
 6217                             167 I1          .GLOBAL         _DIG_AREA_CHK1
 6218                             168 I1  
 6219                             169 I1          .GLOBAL         _FPU_POS_HOKAN1
 6220                             170 I1          .GLOBAL         _FPU_TIM_HOKAN1
 6221                             171 I1          .GLOBAL         _X_R2_MUL_R1_DIV_R4
 6222                              34             .IMPORT         _SELF_START_CONF        ;ssa_self.src
 6223                              35     
 6224                              36             .IMPORT         _MN_POS_CTRL_START              ;ssa_pos1.src
 6225                              37             .IMPORT         _MN_POS_CTRL_ACT                ;ssa_pos1.src
 6226                              38             .IMPORT         _NOW_POS_PRESET_OUTPLS          ;現在位置を目標位置に変える
 6227                              39     
 6228                              40             .IMPORT         _UP_AREA_DATCHK                 ;ssa_dtmk.src
 6229                              41             .IMPORT         _DAT_MOSTPOS_SIG_CLR
 6230                              42             .IMPORT         _ORG_END_SIG_CLR
 6231                              43     
 6232                              44             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6233                              45     
 6234                              46             .IMPORT         _RESET_ERR_SEQ_CLR
 6235                              47             .IMPORT         _RESET_ERR_SEQ_CLR1     ;2010-12-10
 6236                              48             .IMPORT         _RESET_ERR_SEQ_CLR2     ;2010-12-10
 6237                              49             .IMPORT         _FUL_DATA_INIT
 6238                              50     
 6239                              51     ;       ===== 2003-06-06 ===
 6240                              52             .IMPORT         _DAI_MOSTPOS_SMPLE
 6241                              53             .IMPORT         _BRK_ERR_WORK_CLR1      ;ERR1.SRC
 6242                              54     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6243                              55     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6244                              56     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6245                              57             .IMPORT         _STOP_ERR_CHK
 6246                              58             .IMPORT         _LSA_ERRCLR_INI         ;2006-07-16 SSA_ERR1.SRC
 6247                              59     
 6248                              60             .IMPORT         _FWD_REV_STSIG_OFF              ;
 6249                              61             .IMPORT         _POS_LSI_SLOW_STOP              ;
 6250                              62     
 6251                              63             .IMPORT         _ERR_INFO_RST_CLR
 6252                              64     
 6253                              65             .IMPORT         _EXQ_STOP_LEV_POS_CLR           ;
 6254                              66             .IMPORT         _IRQ_EMG_STP_CLR                ;2004-04-04
 6255                              67     
 6256                              68             .IMPORT         _GPOSIN_HOS_RESET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     5
PROGRAM NAME =

 6257                              69             .IMPORT         _CNTREST_HOS_RESET
 6258                              70     
 6259                              71             .IMPORT         _TEP_FLG_CLR                    ;FLGｸﾘｱ
 6260                              72             .IMPORT         _TEPA_START_CHK                 ;開始条件
 6261                              73             .IMPORT         _TEPA_PLSCNT_CLR                ;片手ONした瞬間0にする
 6262                              74             .IMPORT         _TEPA_PLSCNT_CHK                ;
 6263                              75     
 6264                              76     ;       ---------------------------------
 6265                              77             .IMPORT         _RNA_SCIF_ERR_CLR2              ;SCIF
 6266                              78     
 6267                              79             .IMPORT         _EMG_STOP                       ;
 6268                              80     
 6269                              81             .IMPORT         _API_BREAK_VALV_FLG_ON          ;
 6270                              82             .IMPORT         _API_BREAK_VALV_FLG_OF          ;2014-08-05
 6271                              83     
 6272                              84             .IMPORT         _PRESET_PV_FLGCLR               ;2014-09-14 異常が発生した
 6273                              85             .IMPORT         _NOW_INC_DIG_MAK                ;2014-09-26
 6274                              86     
 6275                              87     ;       //      ***********************************
 6276                              88     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6277                              89     ;       //      ***********************************
 6278                              90             .IMPORT         _LONG_BIT_TBL0
 6279                              91             .GLOBAL         _SQ_CBWK_TOP
 6280                              92     ;       ====================================
 6281                              93             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6282                              94             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6283                              95             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6284                              96             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6285                              97             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6286                              98             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6287                              99             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6288                             100             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6289                             101             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6290                             102             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6291                             103             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6292                             104             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6293                             105             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6294                             106             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
 6295                             107     ;       ==== 2003-07-09 ===
 6296                             108             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更 0:level 1:edge
 6297                             109             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6298                             110     
 6299                             111     ;       ==== 2006-04-10===
 6300                             112             .GLOBAL         _PAR_SFTY_BRKSEL        ;
 6301                             113             .GLOBAL         _PAR_BRKDISE_TIM        ;ﾌﾞﾚｰｷ釈放遅延時間3000msec
 6302                             114             .IMPORT         _PAR_BRKLOCK_TIM        ;ﾌﾞﾚｰｷﾛｯｸ遅延時間100msec
 6303                             115             .IMPORT         _PAR_SELF_WAIT_TM       ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの
                                          時間
 6304                             116             .IMPORT         _PAR_SLOCK_DLY2         ;
 6305                             117     
 6306                             118     
 6307                             119     ;       ==== 2011-09-06===
 6308                             120             .IMPORT         _PAR_UPCHK_SEL1
 6309                             121     
 6310                             122     
 6311                             123             .IMPORT         _PAR_UPMASK_SPD
 6312                             124             .IMPORT         _CB_SYS_PARAM000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     6
PROGRAM NAME =

 6313                             125     
 6314                             126     ;       ==== 2012-09-25===
 6315                             127             .IMPORT         _PAR_MYUTING_SEL        ;
 6316                             128     
 6317                             129     ;       ==== 2014-02-20===
 6318                             130             .IMPORT         _PAR_EXTDRV_SEL         ;
 6319                             131             .IMPORT         _PAR_BTNER_TM
 6320                             132             .IMPORT         _PAR_MYUTERR_SEL        ;3 0: 1:異常 行程異常を監視する[R02R03　20
                                          14-02-18]
 6321                             133     
 6322                             134     
 6323                             135     ;       ==== 2014-09-26===
 6324                             136             .IMPORT         _PAR_INCMODE_SEL
 6325                             137             .IMPORT         _PAR_INCMODE_EPLS
 6326                             138     
 6327                             139     ;       ==== 2017-05-12===
 6328                             140             .IMPORT         _PAR_POSHLD_BRKSEL
 6329                             141     
 6330                             142     
 6331                             143     ;       //      ***********************************
 6332                             144     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6333                             145     ;       //      ***********************************
 6334                             146             .EXPORT         _EMG_CTL_FLG_PROC       ;==>ssa_err1.src
 6335                             147             .EXPORT         _EXQ_CTL_FLG_PROC       ;==>ssa_err1.src
 6336                             148             .EXPORT         _STP_RST_FLG_PROC       ;==>ssa_err1.src
 6337                             149     
 6338                             150     
 6339                             151             .EXPORT         _RESET_CHEAK            ;==>ssa_cbmn.src
 6340                             152             .EXPORT         _MODE_CHANGE            ;==>ssa_cbmn.src
 6341                             153             .EXPORT         _MODE_CTRL              ;==>ssa_cbmn.src
 6342                             154             .EXPORT         _MODE_AREA_MAKE         ;ssa_ctrl.src 待機点AREA作成
 6343                             155     
 6344                             156             .EXPORT         _STEP_SIG_DSP_CLR
 6345                             157             .EXPORT         _STEP_SIG_DISP;
 6346                             158     
 6347                             159             .EXPORT         _STOPPING_TIM_MOV_INI
 6348                             160             .EXPORT         _STOPPING_TIM_STOP_INI
 6349                             161             .EXPORT         _STOPPING_TIM_CHK
 6350                             162     
 6351                             163             .IMPORT         _KJPHOS_SIG_CLR         ;2004-07-05 ssa_kjyu.inc
 6352                             164             .IMPORT         _KJPHOS_SAMPLING1       ;2004-07-05
 6353                             165     
 6354                             166     
 6355                             167             .IMPORT         _OVER_RID_UPDN_LAT_DTMK ;2005-01-17
 6356                             168             .IMPORT         _SET_PV_ABS_TO_OBJ      ;20060919
 6357                             169             .IMPORT         _OVERLID_DEF_SET        ;20060919
 6358                             170     
 6359                             171             .IMPORT         _LINK_CLANK_DIG_MAK             ;2009-07-17
 6360                             172     
 6361                             173             .AIF    1 EQ    0       ;
 6362                             174             .IMPORT _CBA_STS_BKUP_SAVE              ;2011-09-14 BAKUP
 6363                             175             .AENDI
 6364                             176     
 6365                             177     ;       ==== 2012-03-06====
 6366                             178             .IMPORT _BRKTMCAL_API1_STR              ;
 6367                             179             .IMPORT _BRKTMCAL_STG1_STOPINI          ;停止ソフト
 6368                             180             .IMPORT _BRKTMCAL_API3_ENDCNF1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     7
PROGRAM NAME =

 6369                             181             .IMPORT _BRKTMCAL_API4_ENDCNF2          ;
 6370                             182     
 6371                             183     
 6372                             184             .IMPORT _SH4_ORG_DIR_REV        ;原点復帰方向
 6373                             185     
 6374                             186             .IMPORT _SEQAB_DP_TOP           ;2014-08-30
 6375                             187             .IMPORT _EXQ_STOP               ;2014-08-30
 6376                             188             .IMPORT _SVP_INTLIM_SNO         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　行程
 6377                             189             .IMPORT _SVP_INTLIM_AGL         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　角度0.1度
 6378                             190             .IMPORT _SVP_INTLIM_POS         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　位置
 6379                             191             .IMPORT _SVP_WTTIM_MAX          ;//ｽﾗｲﾄﾞ自動待機機能  待機時間0.1秒
 6380                             192             .IMPORT _PVP_WTJUD_SNO          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（行程）
 6381                             193             .IMPORT _PVP_WTJUD_AGL          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（角度）0.1度
 6382                             194             .IMPORT _PVP_WTJUD_POS          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（位置）0.01mm
 6383                             195     
 6384                             196             .EXPORT _POS_HOLD_FLG_STR2CLR   ;2014-09-01
 6385                             197     
 6386                             198             .IMPORT _DNM_DATA_REV_SET       ;2014-09-18
 6387                             199             .IMPORT _PAR_MYU_BRK_SEL        ;2015-09-06
 6388                             200     
 6389                             201             .IMPORT _API_ENDHAND_SIGCHK     ;
 6390                             202     
 6391                             203              .AIF   1 EQ 1  ;
 6392                             204 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6393                             205              .AENDI
 6394                             206     ;       --------------------2016-07-18
 6395                             207             .IMPORT         _CPUA_LOT_CHK_FLG               ;2016-07-18CHECK
 6396                             208             .IMPORT         _CPUB_LOT_CHK_FLG               ;2016-07-18CHECK
 6397                             209             .IMPORT         _CPUA_LOT_CNT_FLG               ;
 6398                             210             .IMPORT         _CPUB_LOT_CNT_FLG               ;
 6399                             211             .IMPORT         _CPUA_CONT_MOD_CNT_PV           ;
 6400                             212             .IMPORT         _CPUB_CONT_MOD_CNT_PV           ;
 6401                             213             .IMPORT         _CPUB_DBG_MONI_CNT              ;2016-08-22
 6402                             214     
 6403                             215     
 6404                             216             .AIF    1 EQ    0
 6405                             217             .IMPORT _API_CAM_RST_ON ;2016-11-15
 6406                             218             .AENDI
 6407                             219     
 6408                             220     ;       *******************************************
 6409                             221     ;       ***                                     ***
 6410                             222     ;       ***     リセット処理                    ***
 6411                             223     ;       ***                                     ***
 6412                             224     ;       *******************************************
 6413                             225     ;       (ｽﾃｯﾌﾟをある程度またぐ時はR5以上を使用する)
 6414                             226     ;       モードはリセット時に確定する
 6415                             227     ;
 6416                             228     
 6417 00000000                    229             .ALIGN  4                               ;
 6418 00000000                    230     _RESET_CHEAK:           ;==>ssa_cbmn.src
 6419                             231             SUB_START
 6420 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6421                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6422                             232     
 6423                             233              .AIF   1 EQ 1  ;
 6424                             234 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6425                             235              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     8
PROGRAM NAME =

 6426                             236     ;       --------- 2016-10-31(2016-06-21)-------------
 6427                             237             FAR_JSR #_DNM_OBJ_AREA_SIG2,R0                  ;振り子の場合の目標の待機点信号
 6428 00000002 D01E                   M           MOV.L   #_DNM_OBJ_AREA_SIG2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6429 00000004 400B                   M           JSR     @R0                     ;
 6430 00000006 0009                   M           NOP                                     ;
 6431                             238     
 6432                             239     
 6433                             240     ;
 6434                             241     ;       ======= EMG ====
 6435 00000008 D61D               242             MOV.L   #_reset_flg,R6          ;
 6436 0000000A D51E               243             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6437 0000000C 6051               244             MOV.W   @R5,R0                  ;
 6438 0000000E D11E               245             MOV.L   #_ERR_LEV_IN2,R1        ;2010-12-10追加
 6439 00000010 6211               246             MOV.W   @R1,R2                  ;
 6440 00000012 202B               247             OR      R2,R0                   ;
 6441 00000014 D11D               248             MOV.L   #_ERR_LEV_IN3,R1        ;2010-12-10追加
 6442 00000016 6211               249             MOV.W   @R1,R2                  ;
 6443 00000018 202B               250             OR      R2,R0                   ;
 6444 0000001A D11D               251             MOV.L   #_ERR_LEV_IN4,R1        ;2010-12-10追加
 6445 0000001C 6211               252             MOV.W   @R1,R2                  ;
 6446 0000001E 202B               253             OR      R2,R0                   ;
 6447 00000020 D11C               254             MOV.L   #_ERR_LEV_IN5,R1        ;2010-12-10追加
 6448 00000022 6211               255             MOV.W   @R1,R2                  ;
 6449 00000024 202B               256             OR      R2,R0                   ;
 6450 00000026 2008               257             TST     R0,R0                   ;
 6451                             258             TST_BIT_OF RESET_CHK_100        ;
 6452 00000028 8909                   M           BT      RESET_CHK_100
 6453 0000002A D516               259             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6454 0000002C 200A               260             XOR     R0,R0                   ;
 6455 0000002E 2501               261             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6456 00000030 9122               262             MOV.W   #BIT0,R1                ;
 6457 00000032 2611               263             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6458                             264             PUSH_REG1 R6
 6459 00000034 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6460                                 M                                           ;REG=>[SP]
 6461                                 M                                           ;"-4" FF,FF,FF,FC
 6462                             265             FAR_JSR #_EMG_OUT,R0            ;
 6463 00000036 D018                   M           MOV.L   #_EMG_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6464 00000038 400B                   M           JSR     @R0                     ;
 6465 0000003A 0009                   M           NOP                                     ;
 6466                             266             POP_REG1 R6
 6467                                 M                                   ; RE"+4" 00,00,00,04
 6468 0000003C 66F6                   M           MOV.L   @R15+,R6        ;
 6469                             267     
 6470 0000003E                    268     RESET_CHK_100:                          ;==>ssa_cbmn.src
 6471                             269     
 6472                             270     ;       ======= EXQ ====
 6473 0000003E D517               271             MOV.L   #_exq_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6474 00000040 6051               272             MOV.W   @R5,R0                  ;
 6475 00000042 2008               273             TST     R0,R0                   ;
 6476                             274             TST_BIT_OF RESET_CHK_200        ;
 6477 00000044 8908                   M           BT      RESET_CHK_200
 6478 00000046 200A               275             XOR     R0,R0                   ;
 6479 00000048 2501               276             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6480 0000004A 9115               277             MOV.W   #BIT0,R1                ;
 6481 0000004C 2611               278             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6482                             279             PUSH_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE     9
PROGRAM NAME =

 6483 0000004E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6484                                 M                                           ;REG=>[SP]
 6485                                 M                                           ;"-4" FF,FF,FF,FC
 6486                             280             FAR_JSR #_EXQ_OUT,R0            ;
 6487 00000050 D013                   M           MOV.L   #_EXQ_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6488 00000052 400B                   M           JSR     @R0                     ;
 6489 00000054 0009                   M           NOP                                     ;
 6490                             281             POP_REG1 R6
 6491                                 M                                   ; RE"+4" 00,00,00,04
 6492 00000056 66F6                   M           MOV.L   @R15+,R6        ;
 6493                             282     
 6494 00000058                    283     RESET_CHK_200:                          ;==>ssa_cbmn.src
 6495                             284     
 6496 00000058 6061               285             MOV.W   @R6,R0                  ;
 6497 0000005A 2008               286             TST     R0,R0                   ;ﾘｾｯﾄ必要?
 6498                             287             TST_BIT_ON RESET_CHK_300        ;YES
 6499 0000005C 8B26                   M           BF      RESET_CHK_300
 6500                             288     
 6501 0000005E D111               289             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6502 00000060 6011               290             MOV.W   @R1,R0                  ;
 6503 00000062 D111               291             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 6504 00000064 6211               292             MOV.W   @R1,R2                  ;
 6505 00000066 202B               293             OR      R2,R0                   ;
 6506 00000068 2008               294             TST     R0,R0                   ;
 6507                             295             TST_BIT_OF RESET_CHK_250                                        ;
 6508 0000006A 8903                   M           BT      RESET_CHK_250
 6509 0000006C 0009               296             NOP                                                             ;ﾊﾞｸﾞ?//SEQ_CHK_BI
                                          T作成
 6510                             297             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;ﾘｾｯﾄ必要
 6511 0000006E D104                   M           MOV.L   #_reset_flg,R1          ;
 6512 00000070 9202                   M           MOV.W   #BIT0,R2                ;
 6513 00000072 2121                   M           MOV.W   R2,@R1  ;
 6514                             298     
 6515 00000074                    299     RESET_CHK_250:                                                          ;
 6516                             300             M_BRA   RESET_CHK_EXT                                           ;
 6517 00000074 A0EE                   M           BRA     RESET_CHK_EXT
 6518 00000076 0009                   M           NOP
 6519                             301     
 6520                             302     ;       ===== ﾘｾｯﾄが必要な状態======
 6521                                     ***** BEGIN-POOL *****
 6522 00000078 0001                       DATA FOR SOURCE-LINE 262,277,297
 6523 0000007A 0000                       ALIGNMENT CODE
 6524 0000007C 00000000                   DATA FOR SOURCE-LINE 237
 6525 00000080 00000000                   DATA FOR SOURCE-LINE 242,297
 6526 00000084 00000000                   DATA FOR SOURCE-LINE 243,259
 6527 00000088 00000000                   DATA FOR SOURCE-LINE 245
 6528 0000008C 00000000                   DATA FOR SOURCE-LINE 248
 6529 00000090 00000000                   DATA FOR SOURCE-LINE 251
 6530 00000094 00000000                   DATA FOR SOURCE-LINE 254
 6531 00000098 00000000                   DATA FOR SOURCE-LINE 265
 6532 0000009C 00000000                   DATA FOR SOURCE-LINE 271
 6533 000000A0 00000000                   DATA FOR SOURCE-LINE 280
 6534 000000A4 00000000                   DATA FOR SOURCE-LINE 289
 6535 000000A8 00000000                   DATA FOR SOURCE-LINE 291
 6536                                     ***** END-POOL *****
 6537 000000AC                    303     RESET_CHK_300:                          ;
 6538                             304                                             ;BIT0:ﾘｾｯﾄ必要       :EMGならANTI:OFF出力
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    10
PROGRAM NAME =

 6539                             305                                             ;BIT1:ﾘｾｯﾄONｴｯｼﾞ有り :RST出力 400
 6540                             306                                             ;BIT2:ﾘｾｯﾄOFF        :遅延開始 500
 6541                             307                                             ;
 6542 000000AC C804               308             TST     #BIT2,R0                ;
 6543                             309             TST_BIT_OF RESET_CHK_305        ;
 6544 000000AE 8901                   M           BT      RESET_CHK_305
 6545                             310             M_BRA   RESET_CHK_500           ;遅延完了待ち
 6546 000000B0 A0A4                   M           BRA     RESET_CHK_500
 6547 000000B2 0009                   M           NOP
 6548                             311     
 6549 000000B4                    312     RESET_CHK_305:                          ;
 6550                             313     ;;;     TST     #BIT1,R0                ;
 6551                             314     ;;;     TST_BIT_ON RESET_CHK_400        ;ﾘｾｯﾄOFF待ち
 6552                             315     
 6553 000000B4 C802               316             TST     #BIT1,R0                ;
 6554                             317             TST_BIT_OF RESET_CHK_305A       ;
 6555 000000B6 8901                   M           BT      RESET_CHK_305A
 6556                             318             M_BRA   RESET_CHK_400   ;ﾘｾｯﾄOFF待ち
 6557 000000B8 A080                   M           BRA     RESET_CHK_400
 6558 000000BA 0009                   M           NOP
 6559 000000BC                    319     RESET_CHK_305A:
 6560                             320     
 6561                             321             FAR_JSR #_DAT_MOSTPOS_SIG_CLR,R0
 6562 000000BC D013                   M           MOV.L   #_DAT_MOSTPOS_SIG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6563 000000BE 400B                   M           JSR     @R0                     ;
 6564 000000C0 0009                   M           NOP                                     ;
 6565                             322             FAR_JSR #_ORG_END_SIG_CLR,R0
 6566 000000C2 D013                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6567 000000C4 400B                   M           JSR     @R0                     ;
 6568 000000C6 0009                   M           NOP                                     ;
 6569                             323     
 6570                             324             FAR_JSR #_KJPHOS_SIG_CLR,R0     ;2004-07-05
 6571 000000C8 D012                   M           MOV.L   #_KJPHOS_SIG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6572 000000CA 400B                   M           JSR     @R0                     ;
 6573 000000CC 0009                   M           NOP                                     ;
 6574                             325             FAR_JSR #_LSA_ERRCLR_INI,R0     ;2006-07-16
 6575 000000CE D012                   M           MOV.L   #_LSA_ERRCLR_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6576 000000D0 400B                   M           JSR     @R0                     ;
 6577 000000D2 0009                   M           NOP                                     ;
 6578                             326             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6579 000000D4 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6580 000000D6 400B                   M           JSR     @R0                     ;
 6581 000000D8 0009                   M           NOP                                     ;
 6582                             327     
 6583                             328     
 6584                             329     ;;;;    MOV.L   #_di1_cb_ctl1_on,R1     ;//
 6585 000000DA D111               330             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼｰｹﾝｽがﾘｾ
                                          ｯﾄでｸﾘｱするため)
 6586 000000DC 6011               331             MOV.W   @R1,R0                  ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFしない)
 6587                             332     
 6588 000000DE 9414               333             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6589 000000E0 2048               334             TST     R4,R0                   ;ONｴｯｼﾞ
 6590                             335             TST_BIT_OF RESET_CHK_325        ;RESET_CHK_EXT  ;NO EXIT
 6591 000000E2 8910                   M           BT      RESET_CHK_325
 6592                             336     
 6593 000000E4 200A               337             XOR     R0,R0                           ;
 6594 000000E6 D50F               338             MOV.L   #_ORG_PRESET_TIM,R5             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    11
PROGRAM NAME =

 6595 000000E8 2501               339             MOV.W   R0,@R5                          ;
 6596                             340             FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;
 6597 000000EA D00F                   M           MOV.L   #_NOW_POS_PRESET_OUTPLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6598 000000EC 400B                   M           JSR     @R0                     ;
 6599 000000EE 0009                   M           NOP                                     ;
 6600                             341     
 6601                             342             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;
 6602 000000F0 D00E                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6603 000000F2 400B                   M           JSR     @R0                     ;
 6604 000000F4 0009                   M           NOP                                     ;
 6605                             343     
 6606                             344             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
 6607 000000F6 D00E                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6608 000000F8 400B                   M           JSR     @R0                     ;
 6609 000000FA 0009                   M           NOP                                     ;
 6610                             345     
 6611                             346             FAR_JSR #_RESET_CONF_CHK,R1     ;ANS R0 ﾘｾｯﾄ可能ですか？
 6612 000000FC D10D                   M           MOV.L   #_RESET_CONF_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6613 000000FE 410B                   M           JSR     @R1                     ;
 6614 00000100 0009                   M           NOP                                     ;
 6615 00000102 2008               347             TST     R0,R0                   ;
 6616                             348             TST_BIT_OF RESET_CHK_330        ;R0!=0 ﾘｾｯﾄ開始不可
 6617 00000104 8918                   M           BT      RESET_CHK_330
 6618 00000106                    349     RESET_CHK_325
 6619                             350             M_BRA   RESET_CHK_EXT           ;
 6620 00000106 A0A5                   M           BRA     RESET_CHK_EXT
 6621 00000108 0009                   M           NOP
 6622                                     ***** BEGIN-POOL *****
 6623 0000010A 8000                       DATA FOR SOURCE-LINE 333
 6624 0000010C 00000000                   DATA FOR SOURCE-LINE 321
 6625 00000110 00000000                   DATA FOR SOURCE-LINE 322
 6626 00000114 00000000                   DATA FOR SOURCE-LINE 324
 6627 00000118 00000000                   DATA FOR SOURCE-LINE 325
 6628 0000011C 00000000                   DATA FOR SOURCE-LINE 326
 6629 00000120 00000000                   DATA FOR SOURCE-LINE 330
 6630 00000124 00000000                   DATA FOR SOURCE-LINE 338
 6631 00000128 00000000                   DATA FOR SOURCE-LINE 340
 6632 0000012C 00000000                   DATA FOR SOURCE-LINE 342
 6633 00000130 00000000                   DATA FOR SOURCE-LINE 344
 6634 00000134 00000000                   DATA FOR SOURCE-LINE 346
 6635                                     ***** END-POOL *****
 6636 00000138                    351     RESET_CHK_330
 6637                             352     
 6638                             353             .AIF    1 EQ    0
 6639                             354             FAR_JSR #_API_CAM_RST_ON,R0     ;2016-11-15
 6640                             355             .AENDI
 6641                             356     
 6642                             357     ;;      TST     R0,R0                   ;
 6643                             358     ;;      TST_BIT_ON RESET_CHK_EXT        ;R0!=0 ﾘｾｯﾄ開始不可
 6644                             359     
 6645                             360     
 6646                             361             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT1,WKREG=R6   ;bit-set
 6647 00000138 D610                   M           MOV.L   #_reset_flg,R6          ;
 6648 0000013A 6061                   M           MOV.W   @R6,R0          ;
 6649 0000013C CB02                   M           OR      #BIT1,R0                ;
 6650 0000013E 2601                   M           MOV.W   R0,@R6          ;
 6651                             362             FAR_JSR #_RESET_ERR_SEQ_CLR,R0  ;移動しない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    12
PROGRAM NAME =

 6652 00000140 D00F                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6653 00000142 400B                   M           JSR     @R0                     ;
 6654 00000144 0009                   M           NOP                                     ;
 6655                             363             FAR_JSR #_RESET_OUT,R0                                          ;
 6656 00000146 D00F                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6657 00000148 400B                   M           JSR     @R0                     ;
 6658 0000014A 0009                   M           NOP                                     ;
 6659                             364             FAR_JSR #_RST_MOD_POS_START,R0
 6660 0000014C D00E                   M           MOV.L   #_RST_MOD_POS_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6661 0000014E 400B                   M           JSR     @R0                     ;
 6662 00000150 0009                   M           NOP                                     ;
 6663                             365             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0
 6664 00000152 D00E                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6665 00000154 400B                   M           JSR     @R0                     ;
 6666 00000156 0009                   M           NOP                                     ;
 6667                             366             FAR_JSR #_IRQ_EMG_STP_CLR,R0    ;2004-04-04
 6668 00000158 D00D                   M           MOV.L   #_IRQ_EMG_STP_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6669 0000015A 400B                   M           JSR     @R0                     ;
 6670 0000015C 0009                   M           NOP                                     ;
 6671                             367     
 6672                             368     
 6673                             369     ;       === EXQではやらない処理=====
 6674                             370     ;;      .AIF    1 EQ 1  ;ﾌﾟﾛｸﾞﾗﾑ変更箇所(反転仕様以外の標準に入れる変更)
 6675 0000015E D10D               371             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6676 00000160 6011               372             MOV.W   @R1,R0                  ;EMG
 6677 00000162 2008               373             TST     R0,R0                   ;
 6678                             374             TST_BIT_OF RESET_CHK_350        ;
 6679 00000164 891E                   M           BT      RESET_CHK_350
 6680                             375             FAR_JSR #_LOT_SIG_FLG_CLR,R0    ;
 6681 00000166 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6682 00000168 400B                   M           JSR     @R0                     ;
 6683 0000016A 0009                   M           NOP                                     ;
 6684                             376     
 6685 0000016C D10B               377             MOV.L   #_SELF_TIMING_SIG,R1    ;2006-04-10
 6686 0000016E 200A               378             XOR     R0,R0                   ;
 6687 00000170 2101               379             MOV.W   R0,@R1                  ;
 6688                             380     ;       ---EMGのときだけｸﾘｱするように変更[EXQではﾀｲﾏを継続させる]----
 6689                             381             FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0     ;
 6690 00000172 D00B                   M           MOV.L   #_CYCLE_TIME_REFLASH_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6691 00000174 400B                   M           JSR     @R0                     ;
 6692 00000176 0009                   M           NOP                                     ;
 6693                             382     
 6694                             383     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策RESET_CHK_350:                               ;
 6695                             384     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策     M_BRA   RESET_CHK_EXT
 6696                             385     
 6697                             386             M_BRA   RESET_CHK_399           ;2016-04-15
 6698 00000178 A017                   M           BRA     RESET_CHK_399
 6699 0000017A 0009                   M           NOP
 6700                             387     
 6701                             388     ;       -- 遮光時二重回路偏差オーバ対策---
 6702                             389     
 6703                                     ***** BEGIN-POOL *****
 6704 0000017C 00000000                   DATA FOR SOURCE-LINE 361
 6705 00000180 00000000                   DATA FOR SOURCE-LINE 362
 6706 00000184 00000000                   DATA FOR SOURCE-LINE 363
 6707 00000188 00000000                   DATA FOR SOURCE-LINE 364
 6708 0000018C 00000000                   DATA FOR SOURCE-LINE 365
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    13
PROGRAM NAME =

 6709 00000190 00000000                   DATA FOR SOURCE-LINE 366
 6710 00000194 00000000                   DATA FOR SOURCE-LINE 371
 6711 00000198 00000000                   DATA FOR SOURCE-LINE 375
 6712 0000019C 00000000                   DATA FOR SOURCE-LINE 377
 6713 000001A0 00000000                   DATA FOR SOURCE-LINE 381
 6714                                     ***** END-POOL *****
 6715 000001A4                    390     RESET_CHK_350:                          ;
 6716                             391     ;       ----- 2016-04-15 EXQ,遮光による行程違いのﾘｶﾊﾞﾘｰ処理-------
 6717                             392             FAR_JSR #_EXQ_PROC_STEP_RECOVER,R0      ;
 6718 000001A4 D003                   M           MOV.L   #_EXQ_PROC_STEP_RECOVER,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6719 000001A6 400B                   M           JSR     @R0                     ;
 6720 000001A8 0009                   M           NOP                                     ;
 6721                             393     
 6722 000001AA                    394     RESET_CHK_399:                                  ;
 6723                             395             FAR_JSR #_API_EXQ_STEP_FLGCLR,R0        ;
 6724 000001AA D003                   M           MOV.L   #_API_EXQ_STEP_FLGCLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6725 000001AC 400B                   M           JSR     @R0                     ;
 6726 000001AE 0009                   M           NOP                                     ;
 6727                             396             M_BRA   RESET_CHK_EXT
 6728 000001B0 A050                   M           BRA     RESET_CHK_EXT
 6729 000001B2 0009                   M           NOP
 6730                             397     
 6731                             398     ;       ==== ﾘｾｯﾄOFF待ち ====
 6732                                     ***** BEGIN-POOL *****
 6733 000001B4 00000000                   DATA FOR SOURCE-LINE 392
 6734 000001B8 00000000                   DATA FOR SOURCE-LINE 395
 6735                                     ***** END-POOL *****
 6736 000001BC                    399     RESET_CHK_400:  ;ﾘｾｯﾄOFF待ち
 6737 000001BC D10A               400             MOV.L   #_di1_cb_ctl1_dt,R1     ;//
 6738 000001BE 6011               401             MOV.W   @R1,R0                  ;
 6739 000001C0 9410               402             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6740 000001C2 2048               403             TST     R4,R0                   ;
 6741                             404             TST_BIT_ON RESET_CHK_EXT        ;ON継続
 6742 000001C4 8B46                   M           BF      RESET_CHK_EXT
 6743                             405     
 6744                             406     
 6745                             407             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT2,WKREG=R6   ;bit-set
 6746 000001C6 D609                   M           MOV.L   #_reset_flg,R6          ;
 6747 000001C8 6061                   M           MOV.W   @R6,R0          ;
 6748 000001CA CB04                   M           OR      #BIT2,R0                ;
 6749 000001CC 2601                   M           MOV.W   R0,@R6          ;
 6750                             408             MEM1_DATA_SET MEM=_reset_dly_tim,LG=W,DATA=_RST_DLY_TM,WKREG1=R1,WKREG2=R2
 6751 000001CE D108                   M           MOV.L   #_reset_dly_tim,R1              ;
 6752 000001D0 9209                   M           MOV.W   #_RST_DLY_TM,R2         ;
 6753 000001D2 2121                   M           MOV.W   R2,@R1  ;
 6754                             409             FAR_JSR #_RESET_OUT,R0                                          ;
 6755 000001D4 D007                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6756 000001D6 400B                   M           JSR     @R0                     ;
 6757 000001D8 0009                   M           NOP                                     ;
 6758                             410             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6759 000001DA D007                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6760 000001DC 400B                   M           JSR     @R0                     ;
 6761 000001DE 0009                   M           NOP                                     ;
 6762                             411             M_BRA   RESET_CHK_EXT
 6763 000001E0 A038                   M           BRA     RESET_CHK_EXT
 6764 000001E2 0009                   M           NOP
 6765                             412     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    14
PROGRAM NAME =

 6766                             413     
 6767                             414     ;       ==== 遅延待ち ==
 6768                                     ***** BEGIN-POOL *****
 6769 000001E4 8000                       DATA FOR SOURCE-LINE 402
 6770 000001E6 00C8                       DATA FOR SOURCE-LINE 408
 6771 000001E8 00000000                   DATA FOR SOURCE-LINE 400
 6772 000001EC 00000000                   DATA FOR SOURCE-LINE 407
 6773 000001F0 00000000                   DATA FOR SOURCE-LINE 408
 6774 000001F4 00000000                   DATA FOR SOURCE-LINE 409
 6775 000001F8 00000000                   DATA FOR SOURCE-LINE 410
 6776                                     ***** END-POOL *****
 6777 000001FC                    415     RESET_CHK_500:  ;
 6778 000001FC D11B               416             MOV.L   #_reset_dly_tim,R1
 6779 000001FE 6011               417             MOV.W   @R1,R0                                          ;
 6780 00000200 2008               418             TST     R0,R0                                                   ;
 6781                             419             TST_BIT_ON RESET_CHK_EXT                                        ;
 6782 00000202 8B27                   M           BF      RESET_CHK_EXT
 6783                             420     
 6784                             421             FAR_JSR #_RST_MOD_POS_END,R1
 6785 00000204 D11A                   M           MOV.L   #_RST_MOD_POS_END,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6786 00000206 410B                   M           JSR     @R1                     ;
 6787 00000208 0009                   M           NOP                                     ;
 6788                             422             FAR_JSR #_RESET_END_OUT,R1                                      ;
 6789 0000020A D11A                   M           MOV.L   #_RESET_END_OUT,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6790 0000020C 410B                   M           JSR     @R1                     ;
 6791 0000020E 0009                   M           NOP                                     ;
 6792                             423             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;完了
 6793 00000210 D119                   M           MOV.L   #_reset_flg,R1          ;
 6794 00000212 9227                   M           MOV.W   #0,R2           ;
 6795 00000214 2121                   M           MOV.W   R2,@R1  ;
 6796                             424     
 6797                             425     ;       -------- 2010-12-10 移動追加----
 6798                             426             FAR_JSR #_RESET_ERR_SEQ_CLR,R0
 6799 00000216 D019                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6800 00000218 400B                   M           JSR     @R0                     ;
 6801 0000021A 0009                   M           NOP                                     ;
 6802                             427             FAR_JSR #_RESET_ERR_SEQ_CLR2,R0
 6803 0000021C D018                   M           MOV.L   #_RESET_ERR_SEQ_CLR2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6804 0000021E 400B                   M           JSR     @R0                     ;
 6805 00000220 0009                   M           NOP                                     ;
 6806                             428     
 6807                             429     ;       === 2003-07-01 ====
 6808 00000222 D118               430             MOV.L   #_HIST_DAT_SEND_DIS,R1  ;//1:DISENABLE 0:ENABLE
 6809 00000224 200A               431             XOR     R0,R0                   ;
 6810 00000226 2101               432             MOV.W   R0,@R1                  ;
 6811                             433     
 6812 00000228 D117               434             MOV.L   #_TRD_CLR_CMD,R1        ;//01 CLR
 6813 0000022A 901C               435             MOV.W   #1,R0                   ;
 6814 0000022C 2101               436             MOV.W   R0,@R1                  ;CLR START
 6815                             437     
 6816                             438             FAR_JSR #_ERR_INFO_RST_CLR,R0
 6817 0000022E D017                   M           MOV.L   #_ERR_INFO_RST_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6818 00000230 400B                   M           JSR     @R0                     ;
 6819 00000232 0009                   M           NOP                                     ;
 6820                             439     
 6821                             440     ;       ----------- 2006-07-28 -------
 6822                             441             FAR_JSR #_TEPA_PLSCNT_CLR,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    15
PROGRAM NAME =

 6823 00000234 D016                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6824 00000236 400B                   M           JSR     @R0                     ;
 6825 00000238 0009                   M           NOP                                     ;
 6826                             442             FAR_JSR #_TEP_FLG_CLR,R0
 6827 0000023A D016                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6828 0000023C 400B                   M           JSR     @R0                     ;
 6829 0000023E 0009                   M           NOP                                     ;
 6830                             443             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6831 00000240 D015                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6832 00000242 400B                   M           JSR     @R0                     ;
 6833 00000244 0009                   M           NOP                                     ;
 6834                             444             FAR_JSR #_OVERLID_DEF_SET,R0    ;20060919
 6835 00000246 D015                   M           MOV.L   #_OVERLID_DEF_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6836 00000248 400B                   M           JSR     @R0                     ;
 6837 0000024A 0009                   M           NOP                                     ;
 6838                             445     
 6839                             446     ;       ======= 描画用 ======
 6840                             447             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;再描画
 6841 0000024C D114                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
 6842 0000024E 6011                   M           MOV.W   @R1,R0          ;
 6843 00000250 CB01                   M           OR      #BIT0,R0                ;
 6844 00000252 2101                   M           MOV.W   R0,@R1          ;
 6845                             448     
 6846                             449     
 6847                             450     ;;;;;;  EMGのときだけｸﾘｱするように変更ため移動<2013-07-19>
 6848                             451     ;;;;;;  FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0                                     ;
 6849                             452     
 6850                             453     
 6851 00000254                    454     RESET_CHK_EXT:
 6852                             455     
 6853 00000254 D113               456             mov.l   #_pass_err_flg1,r1      ;//異常ﾙｰﾁﾝ
 6854 00000256 6011               457             mov.w   @r1,r0                  ;
 6855 00000258 9206               458             mov.w   #H'FF80,r2              ;BIT7~BIT15
 6856 0000025A 202B               459             or      r2,r0                   ;
 6857 0000025C 2101               460             mov.w   r0,@r1                  ;
 6858                             461             SUB_END
 6859                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6860 0000025E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6861                             462             M_RTS
 6862 00000260 000B                   M           RTS                             ;RTSの後ろの
 6863 00000262 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6864                             463     
 6865                             464     ;       ***********************************
 6866                             465     ;       ***                             ***
 6867                             466     ;       ***     ﾘｾｯﾄ可能条件            ***
 6868                             467     ;       ***                             ***
 6869                             468     ;       ***                             ***
 6870                             469     ;       ***********************************
 6871                             470     ;
 6872                             471     ;
 6873                                     ***** BEGIN-POOL *****
 6874 00000264 0000                       DATA FOR SOURCE-LINE 423
 6875 00000266 0001                       DATA FOR SOURCE-LINE 435
 6876 00000268 FF80                       DATA FOR SOURCE-LINE 458
 6877 0000026A 0000                       ALIGNMENT CODE
 6878 0000026C 00000000                   DATA FOR SOURCE-LINE 416
 6879 00000270 00000000                   DATA FOR SOURCE-LINE 421
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    16
PROGRAM NAME =

 6880 00000274 00000000                   DATA FOR SOURCE-LINE 422
 6881 00000278 00000000                   DATA FOR SOURCE-LINE 423
 6882 0000027C 00000000                   DATA FOR SOURCE-LINE 426
 6883 00000280 00000000                   DATA FOR SOURCE-LINE 427
 6884 00000284 00000000                   DATA FOR SOURCE-LINE 430
 6885 00000288 00000000                   DATA FOR SOURCE-LINE 434
 6886 0000028C 00000000                   DATA FOR SOURCE-LINE 438
 6887 00000290 00000000                   DATA FOR SOURCE-LINE 441
 6888 00000294 00000000                   DATA FOR SOURCE-LINE 442
 6889 00000298 00000000                   DATA FOR SOURCE-LINE 443
 6890 0000029C 00000000                   DATA FOR SOURCE-LINE 444
 6891 000002A0 00000000                   DATA FOR SOURCE-LINE 447
 6892 000002A4 00000000                   DATA FOR SOURCE-LINE 456
 6893                                     ***** END-POOL *****
 6894 000002A8                    472             .ALIGN  4                               ;
 6895 000002A8                    473     _RESET_CONF_CHK:
 6896                             474             SUB_START
 6897 000002A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6898                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6899                             475     
 6900                             476     ;---2011-09-20 ﾌﾞﾚｰｷﾓｰﾄﾞSW-ONでは安全一行程か原点復帰のみ
 6901 000002AA D108               477             MOV.L   #_BRKTST_SW_IN,R1                               ;
 6902 000002AC 6011               478             MOV.W   @R1,R0                                          ;
 6903 000002AE C801               479             TST     #BIT0,R0                                        ;
 6904                             480             TST_BIT_OF RST_CONFCK_010                               ;
 6905 000002B0 8912                   M           BT      RST_CONFCK_010
 6906                             481     
 6907 000002B2 D107               482             MOV.L   #_INP_MODE,R1                           ;
 6908 000002B4 6011               483             MOV.W   @R1,R0                                  ;
 6909 000002B6 C840               484             TST     #_W1DUP,R0                              ;
 6910                             485             TST_BIT_ON RST_CONFCK_010                       ;
 6911 000002B8 8B0E                   M           BF      RST_CONFCK_010
 6912                             486     
 6913 000002BA C804               487             TST     #_W1SGL,R0                                      ;
 6914                             488             TST_BIT_OF RST_CONFCK_005                               ;
 6915 000002BC 8904                   M           BT      RST_CONFCK_005
 6916                             489     
 6917                             490     ;-------- 安全一----------
 6918 000002BE D105               491             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 6919 000002C0 6011               492             MOV.W   @R1,R0                                          ;
 6920 000002C2 C97F               493             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 6921                             494     
 6922 000002C4 C810               495             TST     #_W1OPT,R0                                      ;OPTION?
 6923                             496             TST_BIT_OF RST_CONFCK_010                               ;NO ちゃんとした安全一
 6924 000002C6 8907                   M           BT      RST_CONFCK_010
 6925 000002C8                    497     RST_CONFCK_005
 6926                             498             M_BRA   RST_CONFCK_NG                                   ;
 6927 000002C8 A0B0                   M           BRA     RST_CONFCK_NG
 6928 000002CA 0009                   M           NOP
 6929                             499     
 6930                                     ***** BEGIN-POOL *****
 6931 000002CC 00000000                   DATA FOR SOURCE-LINE 477
 6932 000002D0 00000000                   DATA FOR SOURCE-LINE 482
 6933 000002D4 00000000                   DATA FOR SOURCE-LINE 491
 6934                                     ***** END-POOL *****
 6935 000002D8                    500     RST_CONFCK_010
 6936                             501     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    17
PROGRAM NAME =

 6937                             502     ;       ----------------------------------------------
 6938                             503             _MONI_RESET_SET SETNO=1,SETREG=R0,WKREG=R1      ;2014-09-13
 6939 000002D8 9027                   M           MOV.W   #1,R0
 6940 000002DA D117                   M           MOV.L   #_MONI_RESET_STEP,R1
 6941 000002DC 2101                   M           MOV.W   R0,@R1
 6942                             504     
 6943 000002DE D117               505             MOV.L   #_INP_MODE,R1           ;
 6944 000002E0 6011               506             MOV.W   @R1,R0                  ;
 6945 000002E2 C801               507             TST     #_W1OFF,R0              ;
 6946                             508             TST_BIT_ON RST_CONFCK_NG70      ;[切]
 6947 000002E4 8B7E                   M           BF      RST_CONFCK_NG70
 6948                             509     
 6949                             510     ;       ======= 安全装置ﾁｪｯｸ ==============
 6950 000002E6 D116               511             MOV.L   #_SFTY_IN_DAT,R1        ;
 6951 000002E8 6011               512             MOV.W   @R1,R0                  ;有効・無効のSWのみ
 6952 000002EA C803               513             TST     #(BIT1+BIT0),R0
 6953                             514             TST_BIT_ON RST_CONFCK_NG70      ;
 6954 000002EC 8B7A                   M           BF      RST_CONFCK_NG70
 6955                             515     
 6956                             516     ;       ----------------------------------------------
 6957                             517             _MONI_RESET_SET SETNO=2,SETREG=R0,WKREG=R1      ;2014-09-13
 6958 000002EE 901D                   M           MOV.W   #2,R0
 6959 000002F0 D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6960 000002F2 2101                   M           MOV.W   R0,@R1
 6961                             518     
 6962                             519     ;-----EMGのswは見る 340.0は見ない---
 6963 000002F4 D113               520             MOV.L   #_di3_cb_inp1,R1                ;//+0:EMG1,EMG2 BIT1,BIT0
 6964                             521     ;;;340.0のor    MOV.L   #_di3_cb_inp1_dt,R1     ;//制御に使用するのは_dt(相手側の遮光も)
 6965 000002F6 6011               522             MOV.W   @R1,R0                  ;
 6966 000002F8 C803               523             TST     #(BIT1+BIT0),R0         ;EMG?
 6967                             524             TST_BIT_ON RST_CONFCK_NG70
 6968 000002FA 8B73                   M           BF      RST_CONFCK_NG70
 6969                             525     
 6970                             526             _MONI_RESET_SET SETNO=3,SETREG=R0,WKREG=R1      ;2014-09-13
 6971 000002FC 9017                   M           MOV.W   #3,R0
 6972 000002FE D10E                   M           MOV.L   #_MONI_RESET_STEP,R1
 6973 00000300 2101                   M           MOV.W   R0,@R1
 6974                             527     
 6975 00000302 D10E               528             MOV.L   #_INP_MODE,R1           ;
 6976 00000304 6011               529             MOV.W   @R1,R0                  ;
 6977 00000306 9113               530             MOV.W   #(_W1DUP),R1            ;[原点復帰]
 6978 00000308 2018               531             TST     R1,R0                   ;
 6979                             532             TST_BIT_ON RST_CONFCK_015_OK    ;何でもOK
 6980 0000030A 8B0C                   M           BF      RST_CONFCK_015_OK
 6981                             533     
 6982                             534     ;       === 段取は回転の場合は動作可能 ===
 6983 0000030C 9111               535             MOV.W   #(_W1DIC),R1                    ;
 6984 0000030E 2018               536             TST     R1,R0                           ;
 6985                             537             TST_BIT_OF RST_CONFCK_020               ;[段取寸動]
 6986 00000310 891C                   M           BT      RST_CONFCK_020
 6987                             538     
 6988                             539             _MONI_RESET_SET SETNO=4,SETREG=R0,WKREG=R1      ;2014-09-13
 6989 00000312 900F                   M           MOV.W   #4,R0
 6990 00000314 D108                   M           MOV.L   #_MONI_RESET_STEP,R1
 6991 00000316 2101                   M           MOV.W   R0,@R1
 6992                             540     
 6993 00000318 D50B               541             MOV.L   #_ORG_DND_NOMAL_FLG1,R5         ;段取動作はOK(POWER-ON/)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    18
PROGRAM NAME =

 6994 0000031A 6651               542             MOV.W   @R5,R6                          ;0異常
 6995 0000031C 2668               543             TST     R6,R6                           ;
 6996                             544             TST_BIT_OF RST_CONFCK_NG70              ;
 6997 0000031E 8961                   M           BT      RST_CONFCK_NG70
 6998                             545             _MONI_RESET_SET SETNO=5,SETREG=R0,WKREG=R1      ;2014-09-13
 6999 00000320 9009                   M           MOV.W   #5,R0
 7000 00000322 D105                   M           MOV.L   #_MONI_RESET_STEP,R1
 7001 00000324 2101                   M           MOV.W   R0,@R1
 7002                             546     
 7003 00000326                    547     RST_CONFCK_015_OK:
 7004                             548             M_BRA   RST_CONFCK_OK                   ;
 7005 00000326 A084                   M           BRA     RST_CONFCK_OK
 7006 00000328 0009                   M           NOP
 7007                             549     
 7008                             550     
 7009                                     ***** BEGIN-POOL *****
 7010 0000032A 0001                       DATA FOR SOURCE-LINE 503
 7011 0000032C 0002                       DATA FOR SOURCE-LINE 517
 7012 0000032E 0003                       DATA FOR SOURCE-LINE 526
 7013 00000330 0040                       DATA FOR SOURCE-LINE 530
 7014 00000332 0020                       DATA FOR SOURCE-LINE 535
 7015 00000334 0004                       DATA FOR SOURCE-LINE 539
 7016 00000336 0005                       DATA FOR SOURCE-LINE 545
 7017 00000338 00000000                   DATA FOR SOURCE-LINE 503,517,526,539,545
 7018 0000033C 00000000                   DATA FOR SOURCE-LINE 505,528
 7019 00000340 00000000                   DATA FOR SOURCE-LINE 511
 7020 00000344 00000000                   DATA FOR SOURCE-LINE 520
 7021 00000348 00000000                   DATA FOR SOURCE-LINE 541
 7022                                     ***** END-POOL *****
 7023 0000034C                    551     RST_CONFCK_020:
 7024                             552             _MONI_RESET_SET SETNO=6,SETREG=R0,WKREG=R1      ;2014-09-13
 7025 0000034C 901D                   M           MOV.W   #6,R0
 7026 0000034E D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 7027 00000350 2101                   M           MOV.W   R0,@R1
 7028                             553     
 7029                             554     ;       ===== (設定異常・原点復帰未完了)==
 7030 00000352 D511               555             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//段取りok,原点動作以外動作禁止 0:異常 1:
                                          OK
 7031 00000354 6651               556             MOV.W   @R5,R6                          ;0異常
 7032 00000356 2668               557             TST     R6,R6                           ;
 7033                             558             TST_BIT_OF RST_CONFCK_NG70              ;
 7034 00000358 8944                   M           BT      RST_CONFCK_NG70
 7035                             559     
 7036                             560             _MONI_RESET_SET SETNO=7,SETREG=R0,WKREG=R1      ;2014-09-13
 7037 0000035A 9017                   M           MOV.W   #7,R0
 7038 0000035C D10D                   M           MOV.L   #_MONI_RESET_STEP,R1
 7039 0000035E 2101                   M           MOV.W   R0,@R1
 7040                             561     
 7041                             562     
 7042                             563     ;;;2003-07-14   ===== (設定異常・原点復帰未完了)==
 7043                             564     ;;;     MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//原点動作以外動作禁止 0:異常 1:OK
 7044                             565     ;;;     MOV.W   @R5,R6                          ;0異常
 7045                             566     ;;;     TST     R6,R6                           ;
 7046                             567     ;;;     TST_BIT_OF RST_CONFCK_NG                ;
 7047                             568     
 7048                             569     ;;;     MOV.W   #(_W1DIC),R1                    ;
 7049                             570     ;;;     TST     R1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    19
PROGRAM NAME =

 7050                             571     ;;;     TST_BIT_ON RST_CONFCK_OK                ;
 7051                             572     
 7052                             573     ;       ==== 待機点ｴﾘｱか-->待機点選出=====
 7053 00000360                    574     RST_CONFCK_050:
 7054 00000360 D10E               575             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
 7055 00000362 6011               576             MOV.W   @R1,R0                          ;
 7056 00000364 2008               577             TST     R0,R0                           ;
 7057                             578             TST_BIT_OF RST_CONFCK_OK                ;EXQの場合
 7058 00000366 8964                   M           BT      RST_CONFCK_OK
 7059                             579     
 7060                             580             _MONI_RESET_SET SETNO=8,SETREG=R0,WKREG=R1      ;2014-09-13
 7061 00000368 9011                   M           MOV.W   #8,R0
 7062 0000036A D10A                   M           MOV.L   #_MONI_RESET_STEP,R1
 7063 0000036C 2101                   M           MOV.W   R0,@R1
 7064                             581     
 7065                             582     ;       ===     2011-09-14      ===
 7066 0000036E D10C               583             MOV.L   #_BRKTST_INPUT_CMD,R1   ;//安全一行程の試験モード指定時BIT0=ON
 7067 00000370 6011               584             MOV.W   @R1,R0                  ;
 7068 00000372 C801               585             TST     #BIT0,R0                ;
 7069                             586             TST_BIT_ON RST_CONFCK_BRK100    ;[]
 7070 00000374 8B4C                   M           BF      RST_CONFCK_BRK100
 7071                             587     ;       ===========================
 7072                             588     
 7073                             589             _MONI_RESET_SET SETNO=9,SETREG=R0,WKREG=R1      ;2014-09-13
 7074 00000376 900B                   M           MOV.W   #9,R0
 7075 00000378 D106                   M           MOV.L   #_MONI_RESET_STEP,R1
 7076 0000037A 2101                   M           MOV.W   R0,@R1
 7077                             590     
 7078                             591     
 7079                             592     
 7080                             593     ;       =====2014-09-25 ====================
 7081                             594             FAR_JSR #_INC_RSTMODE_CHK,R0
 7082 0000037C D009                   M           MOV.L   #_INC_RSTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7083 0000037E 400B                   M           JSR     @R0                     ;
 7084 00000380 0009                   M           NOP                                     ;
 7085 00000382 2008               595             TST     R0,R0                   ;
 7086                             596             TST_BIT_OF RST_CONFCK_055       ;通常ｿﾌﾄで判定して[待機点です]
 7087 00000384 8910                   M           BT      RST_CONFCK_055
 7088                             597             M_BRA   RST_CONFCK_OK           ;
 7089 00000386 A054                   M           BRA     RST_CONFCK_OK
 7090 00000388 0009                   M           NOP
 7091                             598     
 7092                             599     
 7093                                     ***** BEGIN-POOL *****
 7094 0000038A 0006                       DATA FOR SOURCE-LINE 552
 7095 0000038C 0007                       DATA FOR SOURCE-LINE 560
 7096 0000038E 0008                       DATA FOR SOURCE-LINE 580
 7097 00000390 0009                       DATA FOR SOURCE-LINE 589
 7098 00000392 0000                       ALIGNMENT CODE
 7099 00000394 00000000                   DATA FOR SOURCE-LINE 552,560,580,589
 7100 00000398 00000000                   DATA FOR SOURCE-LINE 555
 7101 0000039C 00000000                   DATA FOR SOURCE-LINE 575
 7102 000003A0 00000000                   DATA FOR SOURCE-LINE 583
 7103 000003A4 00000000                   DATA FOR SOURCE-LINE 594
 7104                                     ***** END-POOL *****
 7105 000003A8                    600     RST_CONFCK_055:
 7106                             601     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    20
PROGRAM NAME =

 7107                             602     
 7108                             603     ;       === 待機点だ！ ==== ﾘｾｯﾄ時の待機点ｹﾞｯﾄ====
 7109                             604     ;       ------- 2014-09-18-------
 7110 000003A8 D107               605             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
 7111 000003AA 6011               606             MOV.W   @R1,R0                                  ;
 7112 000003AC C804               607             TST     #(_DMATH_DNDRIV),R0                     ;
 7113                             608             TST_BIT_OF RST_CONFCK_080                       ;
 7114 000003AE 8921                   M           BT      RST_CONFCK_080
 7115                             609     
 7116 000003B0 D406               610             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
 7117 000003B2 6041               611             MOV.W   @R4,R0
 7118 000003B4 C810               612             TST     #BIT4,R0                                ;左側
 7119                             613             TST_BIT_ON RST_CONFCK_OK                        ;OK 初期値動作
 7120 000003B6 8B3C                   M           BF      RST_CONFCK_OK
 7121                             614     
 7122 000003B8 C880               615             TST     #BIT7,R0                                ;
 7123                             616             TST_BIT_ON RST_CONFCK_060                       ;逆側
 7124 000003BA 8B0B                   M           BF      RST_CONFCK_060
 7125                             617             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7126 000003BC 9003                   M           MOV.W   #10,R0
 7127 000003BE D104                   M           MOV.L   #_MONI_RESET_STEP,R1
 7128 000003C0 2101                   M           MOV.W   R0,@R1
 7129                             618             M_BRA   RST_CONFCK_NG                           ;
 7130 000003C2 A033                   M           BRA     RST_CONFCK_NG
 7131 000003C4 0009                   M           NOP
 7132                             619     
 7133                             620     
 7134                                     ***** BEGIN-POOL *****
 7135 000003C6 000A                       DATA FOR SOURCE-LINE 617
 7136 000003C8 00000000                   DATA FOR SOURCE-LINE 605
 7137 000003CC 00000000                   DATA FOR SOURCE-LINE 610
 7138 000003D0 00000000                   DATA FOR SOURCE-LINE 617
 7139                                     ***** END-POOL *****
 7140 000003D4                    621     RST_CONFCK_060:
 7141                             622             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
 7142 000003D4 D002                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7143 000003D6 400B                   M           JSR     @R0                     ;
 7144 000003D8 0009                   M           NOP                                     ;
 7145                             623             M_BRA   RST_CONFCK_OK                           ;
 7146 000003DA A02A                   M           BRA     RST_CONFCK_OK
 7147 000003DC 0009                   M           NOP
 7148                             624     
 7149                             625     
 7150                             626     ;       --2014-09-25-------------------------------------
 7151                                     ***** BEGIN-POOL *****
 7152 000003DE 0000                       ALIGNMENT CODE
 7153 000003E0 00000000                   DATA FOR SOURCE-LINE 622
 7154                                     ***** END-POOL *****
 7155 000003E4                    627     RST_CONFCK_NG70:
 7156                             628             _MONI_RESET_SET SETNO=11,SETREG=R0,WKREG=R1     ;
 7157 000003E4 9003                   M           MOV.W   #11,R0
 7158 000003E6 D102                   M           MOV.L   #_MONI_RESET_STEP,R1
 7159 000003E8 2101                   M           MOV.W   R0,@R1
 7160                             629             M_BRA   RST_CONFCK_NG                           ;
 7161 000003EA A01F                   M           BRA     RST_CONFCK_NG
 7162 000003EC 0009                   M           NOP
 7163                             630     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    21
PROGRAM NAME =

 7164                             631     ;       ----------------------------------------------------
 7165                                     ***** BEGIN-POOL *****
 7166 000003EE 000B                       DATA FOR SOURCE-LINE 628
 7167 000003F0 00000000                   DATA FOR SOURCE-LINE 628
 7168                                     ***** END-POOL *****
 7169 000003F4                    632     RST_CONFCK_080:
 7170 000003F4 D404               633             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
 7171 000003F6 6041               634             MOV.W   @R4,R0                                  ;
 7172 000003F8 C810               635             TST     #BIT4,R0                                ;
 7173                             636             TST_BIT_ON RST_CONFCK_OK                        ;
 7174 000003FA 8B1A                   M           BF      RST_CONFCK_OK
 7175                             637                                                             ;
 7176                             638             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7177 000003FC 9003                   M           MOV.W   #10,R0
 7178 000003FE D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7179 00000400 2101                   M           MOV.W   R0,@R1
 7180                             639             M_BRA   RST_CONFCK_NG                           ;2011-09-14 ADD
 7181 00000402 A013                   M           BRA     RST_CONFCK_NG
 7182 00000404 0009                   M           NOP
 7183                             640     
 7184                             641     ;       -- 2011-09-14 ADD--
 7185                                     ***** BEGIN-POOL *****
 7186 00000406 000A                       DATA FOR SOURCE-LINE 638
 7187 00000408 00000000                   DATA FOR SOURCE-LINE 633
 7188 0000040C 00000000                   DATA FOR SOURCE-LINE 638
 7189                                     ***** END-POOL *****
 7190 00000410                    642     RST_CONFCK_BRK100:
 7191 00000410 D404               643             MOV.L   #_BRKTST_AREA_SIG,R4                    ;//BIT0/BIT4:待機点範囲
 7192 00000412 6041               644             MOV.W   @R4,R0                                  ;//BIT1:下降(上昇信号はない)
 7193 00000414 C810               645             TST     #BIT4,R0                                ;
 7194                             646             TST_BIT_ON RST_CONFCK_OK                        ;
 7195 00000416 8B0C                   M           BF      RST_CONFCK_OK
 7196                             647     
 7197                             648             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7198 00000418 9003                   M           MOV.W   #10,R0
 7199 0000041A D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7200 0000041C 2101                   M           MOV.W   R0,@R1
 7201                             649             M_BRA   RST_CONFCK_NG                           ;
 7202 0000041E A005                   M           BRA     RST_CONFCK_NG
 7203 00000420 0009                   M           NOP
 7204                             650     
 7205                             651     
 7206                             652     
 7207                                     ***** BEGIN-POOL *****
 7208 00000422 000A                       DATA FOR SOURCE-LINE 648
 7209 00000424 00000000                   DATA FOR SOURCE-LINE 643
 7210 00000428 00000000                   DATA FOR SOURCE-LINE 648
 7211                                     ***** END-POOL *****
 7212 0000042C                    653     RST_CONFCK_NG:
 7213 0000042C E0FF               654             MOV     #-1,R0
 7214                             655             M_BRA   RST_CONFCK_END
 7215 0000042E A001                   M           BRA     RST_CONFCK_END
 7216 00000430 0009                   M           NOP
 7217 00000432                    656     RST_CONFCK_OK:
 7218 00000432 200A               657             XOR     R0,R0                           ;ﾘｾｯﾄ可能
 7219 00000434                    658     RST_CONFCK_END:
 7220                             659             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    22
PROGRAM NAME =

 7221                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7222 00000434 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7223                             660             M_RTS
 7224 00000436 000B                   M           RTS                             ;RTSの後ろの
 7225 00000438 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7226                             661     
 7227                             662     
 7228                             663     ;       *******************************************
 7229                             664     ;       ***                                     ***
 7230                             665     ;       ***     モード変更                      ***
 7231                             666     ;       ***     (ﾘｾｯﾄ中だけでも良い)            ***
 7232                             667     ;       *******************************************
 7233                             668     ;       INP_MODE(ﾘｾｯﾄ条件に必要)=MODE_SEL INP_MODE=>MODE_SEL
 7234                             669     ;       BIT0:切
 7235                             670     ;       BIT1:寸動・寸動一行程
 7236                             671     ;       BIT2:安全一行程・OPTION安全一行程・一行程
 7237                             672     ;       BIT3:連続・連続ﾀｲﾏ・ｶｳﾝﾀ、連続寸動一行程、連続一行程
 7238                             673     ;       BIT4:OPTION
 7239                             674     ;       BIT5:段取()
 7240                             675     ;       BIT6:強制上昇（待機点復帰）
 7241                             676     ;
 7242                             677     ;       BIT8:連続ﾀｲﾏ(BIT3=1)/寸動一行程(BIT1=1)
 7243                             678     ;       BIT9:連続ｶｳﾝﾀ(BIT3=1)
 7244                             679     ;       BIT10:一行程(BIT2=1)
 7245                             680     ;       BIT11:連続一行程(BIT4=1)
 7246                             681     ;       BIT12:連続寸動一行程(BIT4=1)
 7247                             682     ;       BIT13:
 7248                             683     ;       BIT14
 7249                             684     ;       BIT15
 7250                             685     ;
 7251                             686     ;
 7252 0000043C                    687             .ALIGN  4                               ;
 7253 0000043C                    688     _MODE_CHANGE:           ;==>ssa_cbmn.src
 7254                             689             SUB_START
 7255 0000043C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7256                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7257                             690     ;       U2b     INP_MODE;       //入力　ﾘｾｯﾄ条件に使用 INP_MODE-->MODE_SEL
 7258                             691     ;       U2b     MODE_SEL;       //ﾘｾｯﾄ時に決定
 7259                             692     ;                               //bit0:切 bit1寸動 bit2:安一(sgl,opt) bit3:連続 bit4:opt b
                                          it5:段取 bit6:待機点復帰
 7260                             693     ;                               //まずbit0~bit7のいずれかがonする　選択未は切(bit0)
 7261                             694     ;                               //bit8~bit15:詳細情報
 7262                             695     ;;;     MOV.L   #_reset_flg,R6                                  ;
 7263                             696     ;;;     MOV.W   @R6,R0                                          ;
 7264                             697     ;;;     TST     R0,R0                                           ;ﾘｾｯﾄ中?
 7265                             698     ;;;     TST_BIT_OF MODE_CHG_EXT                                 ;
 7266                             699     
 7267 0000043E D10B               700             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 7268 00000440 6011               701             MOV.W   @R1,R0                                          ;
 7269 00000442 C97F               702             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 7270                             703     
 7271 00000444 2008               704             TST     R0,R0                                   ;モード選択なし
 7272                             705             TST_BIT_ON MODE_CHG_050                         ;
 7273 00000446 8B00                   M           BF      MODE_CHG_050
 7274 00000448 CB01               706             OR      #_W1OFF,R0                              ;切
 7275 0000044A                    707     MODE_CHG_050:                                           ;(複数個は異常だからここではみない
                                          )
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    23
PROGRAM NAME =

 7276                             708     
 7277 0000044A C801               709             TST     #_W1OFF,R0
 7278                             710             TST_BIT_ON MODE_CHG_800                         ;切
 7279 0000044C 8B5D                   M           BF      MODE_CHG_800
 7280                             711     
 7281 0000044E C810               712             TST     #_W1OPT,R0                              ;OPTION?
 7282                             713             TST_BIT_OF MODE_CHG_100                         ;
 7283 00000450 893E                   M           BT      MODE_CHG_100
 7284                             714     
 7285                             715     ;       ==== OPTION ======(BIT10:一行程 BIT11:連続寸動 BIT12:連寸一 BIT13(安一))
 7286 00000452 D107               716             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7287 00000454 6211               717             MOV.W   @R1,R2                                  ;
 7288 00000456 9306               718             MOV.W   #(BIT14+BIT13+BIT12+BIT11+BIT10),R3     ;
 7289 00000458 2239               719             AND     R3,R2                                   ;
 7290 0000045A 2228               720             TST     R2,R2                                   ;
 7291                             721             TST_BIT_ON MODE_CHG_080                         ;(NO 安全一行程以外)
 7292 0000045C 8B0A                   M           BF      MODE_CHG_080
 7293                             722     ;       === 選択なし===
 7294 0000045E 9003               723             MOV.W   #_W1OFF,R0                              ;切
 7295 00000460 222A               724             XOR     R2,R2                                   ;
 7296                             725             M_BRA   MODE_CHG_800                            ;
 7297 00000462 A052                   M           BRA     MODE_CHG_800
 7298 00000464 0009                   M           NOP
 7299                             726     
 7300                             727     
 7301                             728     ;       =====選択があれば安全一行程か一行程====
 7302                             729     ;       =====選択があれば安全一行程か一行程か連寸一か連続一行程====
 7303                                     ***** BEGIN-POOL *****
 7304 00000466 7C00                       DATA FOR SOURCE-LINE 718
 7305 00000468 0001                       DATA FOR SOURCE-LINE 723
 7306 0000046A 0000                       ALIGNMENT CODE
 7307 0000046C 00000000                   DATA FOR SOURCE-LINE 700
 7308 00000470 00000000                   DATA FOR SOURCE-LINE 716
 7309                                     ***** END-POOL *****
 7310 00000474                    730     MODE_CHG_080:
 7311                             731     ;;2003-05-24 一行程追加 MOV.W   #BIT13,R3                               ;安全一行程
 7312                             732     ;;              XOR     R2,R2                                   ;
 7313                             733     ;;              MOV.W   #_W1SGL,R0                              ;安全一行程に変更
 7314                             734     ;;              M_BRA   MODE_CHG_800                            ;
 7315                             735     
 7316                             736     ;       ==== 2003-05-24 =====
 7317 00000474 9310               737             MOV.W   #BIT13,R3                                       ;安全一行程
 7318 00000476 2238               738             TST     R3,R2                                           ;
 7319                             739             TST_BIT_ON MODE_CHG_080_SGL                             ;
 7320 00000478 8B1E                   M           BF      MODE_CHG_080_SGL
 7321                             740     
 7322 0000047A 930E               741             MOV.W   #BIT10,R3                                       ;一行程
 7323 0000047C 2238               742             TST     R3,R2                                           ;
 7324                             743             TST_BIT_ON MODE_CHG_080_SNG                             ;
 7325 0000047E 8B20                   M           BF      MODE_CHG_080_SNG
 7326                             744     
 7327                             745     ;       ==== 2004-01-26
 7328 00000480 D107               746             MOV.L   #_WFSYS_OPT_CNT_SEL,R1                          ;
 7329 00000482 6011               747             MOV.W   @R1,R0                                          ;
 7330 00000484 8801               748             CMP/EQ  #1,R0                                           ;連寸一有効?
 7331 00000486 8B12               749             BF      MODE_CHG_OPT090                                 ;
 7332                             750     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    24
PROGRAM NAME =

 7333 00000488 9308               751             MOV.W   #BIT11,R3                                       ;連続一行程
 7334 0000048A 2238               752             TST     R3,R2                                           ;
 7335                             753             TST_BIT_ON MODE_CHG_OPT050                              ;
 7336 0000048C 8B0A                   M           BF      MODE_CHG_OPT050
 7337                             754     
 7338 0000048E 9306               755             MOV.W   #BIT12,R3                                       ;連寸一行程
 7339 00000490 2238               756             TST     R3,R2                                           ;
 7340                             757             TST_BIT_ON MODE_CHG_OPT050                              ;
 7341 00000492 8B07                   M           BF      MODE_CHG_OPT050
 7342                             758             M_BRA   MODE_CHG_OPT090                                 ;
 7343 00000494 A00B                   M           BRA     MODE_CHG_OPT090
 7344 00000496 0009                   M           NOP
 7345                             759     
 7346                                     ***** BEGIN-POOL *****
 7347 00000498 2000                       DATA FOR SOURCE-LINE 737
 7348 0000049A 0400                       DATA FOR SOURCE-LINE 741
 7349 0000049C 0800                       DATA FOR SOURCE-LINE 751
 7350 0000049E 1000                       DATA FOR SOURCE-LINE 755
 7351 000004A0 00000000                   DATA FOR SOURCE-LINE 746
 7352                                     ***** END-POOL *****
 7353 000004A4                    760     MODE_CHG_OPT050
 7354 000004A4 9002               761             MOV.W   #_W1CNT,R0                                      ;連続の運転の部類にいれる
 7355 000004A6 203B               762             OR      R3,R0                                           ;BIT11orBIT12
 7356                             763             M_BRA   MODE_CHG_800                                    ;
 7357 000004A8 A02F                   M           BRA     MODE_CHG_800
 7358 000004AA 0009                   M           NOP
 7359                             764     
 7360                             765     ;       === 選択なしと同じ扱い===
 7361                                     ***** BEGIN-POOL *****
 7362 000004AC 0008                       DATA FOR SOURCE-LINE 761
 7363                                     ***** END-POOL *****
 7364 000004AE                    766     MODE_CHG_OPT090
 7365 000004AE 9002               767             MOV.W   #_W1OFF,R0                                      ;切
 7366 000004B0 222A               768             XOR     R2,R2                                           ;
 7367                             769             M_BRA   MODE_CHG_800                                    ;
 7368 000004B2 A02A                   M           BRA     MODE_CHG_800
 7369 000004B4 0009                   M           NOP
 7370                             770     
 7371                             771     ;       ==== 安全一行程(OPTIONも)===
 7372                                     ***** BEGIN-POOL *****
 7373 000004B6 0001                       DATA FOR SOURCE-LINE 767
 7374                                     ***** END-POOL *****
 7375 000004B8                    772     MODE_CHG_080_SGL:
 7376 000004B8 222A               773             XOR     R2,R2                                           ;S
 7377 000004BA 9001               774             MOV.W   #_W1SGL,R0                                      ;安全一行程に変更
 7378                             775             M_BRA   MODE_CHG_800                                    ;
 7379 000004BC A025                   M           BRA     MODE_CHG_800
 7380 000004BE 0009                   M           NOP
 7381                             776     
 7382                                     ***** BEGIN-POOL *****
 7383 000004C0 0004                       DATA FOR SOURCE-LINE 774
 7384                                     ***** END-POOL *****
 7385 000004C2                    777     MODE_CHG_080_SNG:                                               ;SINGLE:一行程もﾓｰﾄﾞは安全
                                          一行程として扱う
 7386 000004C2 9203               778             MOV.W   #BIT10,R2                                       ;一行程
 7387 000004C4 9003               779             MOV.W   #_W1SGL,R0                                      ;
 7388 000004C6 202B               780             OR      R2,R0                                           ;BIT10+SGL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    25
PROGRAM NAME =

 7389                             781             M_BRA   MODE_CHG_800                                    ;
 7390 000004C8 A01F                   M           BRA     MODE_CHG_800
 7391 000004CA 0009                   M           NOP
 7392                             782     
 7393                                     ***** BEGIN-POOL *****
 7394 000004CC 0400                       DATA FOR SOURCE-LINE 778
 7395 000004CE 0004                       DATA FOR SOURCE-LINE 779
 7396                                     ***** END-POOL *****
 7397 000004D0                    783     MODE_CHG_100:                                           ;
 7398 000004D0 C808               784             TST     #_W1CNT,R0                              ;連続
 7399                             785             TST_BIT_OF MODE_CHG_150                         ;
 7400 000004D2 8909                   M           BT      MODE_CHG_150
 7401                             786     ;       ==== 連続 =======
 7402 000004D4 D103               787             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7403 000004D6 6211               788             MOV.W   @R1,R2                                  ;
 7404 000004D8 9303               789             MOV.W   #(BIT9+BIT8),R3                         ;
 7405 000004DA 2239               790             AND     R3,R2                                   ;
 7406 000004DC 202B               791             OR      R2,R0                                   ;R0(W1CNT)
 7407                             792             M_BRA   MODE_CHG_800                            ;
 7408 000004DE A014                   M           BRA     MODE_CHG_800
 7409 000004E0 0009                   M           NOP
 7410                             793     
 7411                                     ***** BEGIN-POOL *****
 7412 000004E2 0300                       DATA FOR SOURCE-LINE 789
 7413 000004E4 00000000                   DATA FOR SOURCE-LINE 787
 7414                                     ***** END-POOL *****
 7415 000004E8                    794     MODE_CHG_150:                                           ;
 7416 000004E8 C802               795             TST     #_W1INC,R0                              ;寸動?
 7417                             796             TST_BIT_OF MODE_CHG_200                         ;
 7418 000004EA 890D                   M           BT      MODE_CHG_200
 7419                             797     ;       ==== 寸動 =======
 7420 000004EC D105               798             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7421 000004EE 6211               799             MOV.W   @R1,R2                                  ;
 7422 000004F0 9405               800             MOV.W   #BIT3,R4                                ;
 7423 000004F2 2248               801             TST     R4,R2                                   ;
 7424                             802             TST_BIT_OF MODE_CHG_800                         ;
 7425 000004F4 8909                   M           BT      MODE_CHG_800
 7426 000004F6 9203               803             MOV.W   #BIT8,R2                                ;寸一
 7427 000004F8 202B               804             OR      R2,R0                                   ;
 7428                             805             M_BRA   MODE_CHG_800                            ;
 7429 000004FA A006                   M           BRA     MODE_CHG_800
 7430 000004FC 0009                   M           NOP
 7431                             806     
 7432                                     ***** BEGIN-POOL *****
 7433 000004FE 0008                       DATA FOR SOURCE-LINE 800
 7434 00000500 0100                       DATA FOR SOURCE-LINE 803
 7435 00000502 0000                       ALIGNMENT CODE
 7436 00000504 00000000                   DATA FOR SOURCE-LINE 798
 7437                                     ***** END-POOL *****
 7438 00000508                    807     MODE_CHG_200:                                           ;
 7439 00000508 0009               808             NOP                                             ;
 7440 0000050A                    809     MODE_CHG_800:                                           ;
 7441 0000050A D102               810             MOV.L   #_INP_MODE,R1                           ;一行程はOPTION+SGL
 7442 0000050C 2101               811             MOV.W   R0,@R1                                  ;OPTIONの安全一はSGLだけ
 7443 0000050E                    812     MODE_CHG_EXT:                                           ;
 7444                             813     
 7445                             814             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    26
PROGRAM NAME =

 7446                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7447 0000050E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7448                             815             M_RTS
 7449 00000510 000B                   M           RTS                             ;RTSの後ろの
 7450 00000512 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7451                             816     
 7452                             817     ;       ***************************************************
 7453                             818     ;       ***                                             ***
 7454                             819     ;       ***     各モードでのﾘｾｯﾄ条件に必要な位置信号    ***
 7455                             820     ;       ***     _INP_MODEと_MODE_SELを使い分ける        ***
 7456                             821     ;       ***     また回転とその他で待機点が異なる        ***
 7457                             822     ;       ***     ()                                      ***
 7458                             823     ;       ***************************************************
 7459                                     ***** BEGIN-POOL *****
 7460 00000514 00000000                   DATA FOR SOURCE-LINE 810
 7461                                     ***** END-POOL *****
 7462 00000518                    824     _MODE_AREA_MAKE:                ;ssa_ctrl.src 待機点AREA作成
 7463                             825             SUB_START
 7464 00000518 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7465                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7466 0000051A D102               826             MOV.L   #_SET1_MRTION_SEL1,R1   ;bit0~bit3
 7467                             827             SUB_END
 7468                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7469 0000051C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7470                             828             M_RTS
 7471 0000051E 000B                   M           RTS                             ;RTSの後ろの
 7472 00000520 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7473                             829     
 7474                             830     
 7475                             831     
 7476                             832     ;       *******************************************
 7477                             833     ;       ***                                     ***
 7478                             834     ;       ***     モード制御                      ***
 7479                             835     ;       ***                                     ***
 7480                             836     ;       *******************************************
 7481                             837     
 7482                                     ***** BEGIN-POOL *****
 7483 00000522 0000                       ALIGNMENT CODE
 7484 00000524 00000000                   DATA FOR SOURCE-LINE 826
 7485                                     ***** END-POOL *****
 7486 00000528                    838     _MODE_CTRL:             ;==>ssa_cbmn.src
 7487                             839             SUB_START                       ;
 7488 00000528 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7489                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7490                             840     
 7491                             841     ;       -------------- EPﾁｪｯｸ 2014-06-04 ------------
 7492                             842             FAR_JSR #_EP_SENCER_CHECK,R0
 7493 0000052A D004                   M           MOV.L   #_EP_SENCER_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7494 0000052C 400B                   M           JSR     @R0                     ;
 7495 0000052E 0009                   M           NOP                                     ;
 7496 00000530 D103               843             MOV.L   #_EPCHK_FLG,R1                  ;
 7497 00000532 6011               844             MOV.W   @R1,R0                          ;
 7498 00000534 C801               845             TST     #BIT0,R0                        ;動作中
 7499                             846             TST_BIT_OF MODE_CTL_100                 ;
 7500 00000536 8905                   M           BT      MODE_CTL_100
 7501                             847             M_BRA   MODE_CTL_EXIT                   ;
 7502 00000538 A04B                   M           BRA     MODE_CTL_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    27
PROGRAM NAME =

 7503 0000053A 0009                   M           NOP
 7504                             848     
 7505                                     ***** BEGIN-POOL *****
 7506 0000053C 00000000                   DATA FOR SOURCE-LINE 842
 7507 00000540 00000000                   DATA FOR SOURCE-LINE 843
 7508                                     ***** END-POOL *****
 7509 00000544                    849     MODE_CTL_100
 7510                             850     
 7511                             851     ;       ---------- 2010-08-20[制動モード]---------
 7512                             852             FAR_JSR #_BRKTST_CTRL,R0        ;
 7513 00000544 D026                   M           MOV.L   #_BRKTST_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7514 00000546 400B                   M           JSR     @R0                     ;
 7515 00000548 0009                   M           NOP                                     ;
 7516                             853     
 7517                             854              .AIF   1 EQ 1  ;
 7518                             855 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7519                             856              .AENDI
 7520                             857     ;       ---------- 2016-10-31(2016-05-11)----------
 7521                             858             FAR_JSR #_POSCTRL_CANSEL_RESET,R0
 7522 0000054A D026                   M           MOV.L   #_POSCTRL_CANSEL_RESET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7523 0000054C 400B                   M           JSR     @R0                     ;
 7524 0000054E 0009                   M           NOP                                     ;
 7525                             859     
 7526                             860     ;       -------------ＳＷ情報でモードによっては異常にするため[2014-02-20 R02R03]----------
                                          -----
 7527                             861             FAR_JSR #_MASK2_SAFTY_MAK,R0            ;[SWの条件だけを作る]
 7528 00000550 D025                   M           MOV.L   #_MASK2_SAFTY_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7529 00000552 400B                   M           JSR     @R0                     ;
 7530 00000554 0009                   M           NOP                                     ;
 7531                             862             FAR_JSR #_SFTY_MUTING_MODE_ERR,R0       ;
 7532 00000556 D025                   M           MOV.L   #_SFTY_MUTING_MODE_ERR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7533 00000558 400B                   M           JSR     @R0                     ;
 7534 0000055A 0009                   M           NOP                                     ;
 7535                             863     
 7536                             864     
 7537 0000055C D124               865             MOV.L   #_reset_flg,R1          ;
 7538 0000055E 6011               866             MOV.W   @R1,R0                  ;
 7539 00000560 2008               867             TST     R0,R0                   ;
 7540                             868             TST_BIT_ON MODE_CTL_EXIT        ;
 7541 00000562 8B36                   M           BF      MODE_CTL_EXIT
 7542                             869     
 7543 00000564 D123               870             MOV.L   #_SELF_FLG,R1           ;//BIT0:ｾﾙﾌﾁｪｯｸ中 //BIT7
 7544 00000566 6011               871             MOV.W   @R1,R0                  ;
 7545 00000568 D223               872             MOV.L   #_SELF_COM,R2           ;//BIT0:ｾﾙﾌﾁｪｯｸ指令
 7546 0000056A 6321               873             MOV.W   @R2,R3                  ;
 7547 0000056C 203B               874             OR      R3,R0                   ;
 7548 0000056E C801               875             TST     #BIT0,R0                ;ｾﾙﾌ中またはｾﾙﾌｺﾏﾝﾄﾞON
 7549                             876             TST_BIT_ON MODE_CTL_EXIT        ;
 7550 00000570 8B2F                   M           BF      MODE_CTL_EXIT
 7551                             877     
 7552 00000572 D122               878             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 7553 00000574 6011               879             MOV.W   @R1,R0                  ;
 7554 00000576 2008               880             TST     R0,R0                   ;
 7555                             881             TST_BIT_ON MODE_CTL_ET900       ;2003-06-06[2-3]
 7556 00000578 8B21                   M           BF      MODE_CTL_ET900
 7557                             882     
 7558 0000057A D121               883             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    28
PROGRAM NAME =

 7559 0000057C 6011               884             MOV.W   @R1,R0                  ;2003-06-06
 7560 0000057E 2008               885             TST     R0,R0                   ;
 7561                             886             TST_BIT_ON MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-4]
 7562 00000580 8B1D                   M           BF      MODE_CTL_ET900
 7563                             887     
 7564                             888     
 7565                             889             FAR_JSR #_ANTI_CHEAK,R0         ;(ｾﾙﾌﾁｪｯｸ開始条件､ｾﾙﾌﾁｪｯｸの開始)
 7566 00000582 D020                   M           MOV.L   #_ANTI_CHEAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7567 00000584 400B                   M           JSR     @R0                     ;
 7568 00000586 0009                   M           NOP                                     ;
 7569                             890     
 7570                             891     
 7571                             892     
 7572                             893     ;       ------- 2014-06-06[EPｾﾝｻﾁｪｯｸ]
 7573 00000588 D11F               894             MOV.L   #_EPCHK_FLG,R1          ;
 7574 0000058A 6011               895             MOV.W   @R1,R0                  ;
 7575 0000058C D11F               896             MOV.L   #_EPCHK_COM,R1          ;
 7576 0000058E 6211               897             MOV.W   @R1,R2                  ;
 7577 00000590 202B               898             OR      R2,R0                   ;
 7578 00000592 C801               899             TST     #BIT0,R0                ;
 7579                             900             TST_BIT_ON MODE_CTL_EXIT        ;
 7580 00000594 8B1D                   M           BF      MODE_CTL_EXIT
 7581                             901     
 7582                             902     
 7583                             903     ;       ------- 2010-08-20[制動モード]
 7584 00000596 D11E               904             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 7585 00000598 6011               905             MOV.W   @R1,R0                  ;
 7586 0000059A C801               906             TST     #BIT0,R0                ;
 7587                             907             TST_BIT_ON MODE_CTL_EXIT        ;
 7588 0000059C 8B19                   M           BF      MODE_CTL_EXIT
 7589                             908     
 7590                             909     
 7591                             910     
 7592                             911     
 7593 0000059E D11D               912             MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
 7594 000005A0 6011               913             MOV.W   @R1,R0                  ;
 7595 000005A2 C801               914             TST     #BIT0,R0                ;内部準備完了
 7596                             915             TST_BIT_OF MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-5]
 7597 000005A4 890B                   M           BT      MODE_CTL_ET900
 7598                             916     
 7599                             917             FAR_JSR #_TEPA_PLSCNT_CHK,R0    ;
 7600 000005A6 D01C                   M           MOV.L   #_TEPA_PLSCNT_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7601 000005A8 400B                   M           JSR     @R0                     ;
 7602 000005AA 0009                   M           NOP                                     ;
 7603                             918     
 7604                             919     ;       --------- 2007-12-24 --------
 7605                             920             FAR_JSR #_LOT_CNT_CNT,R0        ;
 7606 000005AC D01B                   M           MOV.L   #_LOT_CNT_CNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7607 000005AE 400B                   M           JSR     @R0                     ;
 7608 000005B0 0009                   M           NOP                                     ;
 7609                             921     
 7610                             922     
 7611                             923     ;;;;;;;2014-02-20       FAR_JSR #_MASK2_SAFTY_MAK,R0    ;[SWの条件だけを作る]
 7612                             924     
 7613                             925             FAR_JSR #_RDY_CHEAK,R0          ;運転動作
 7614 000005B2 D01B                   M           MOV.L   #_RDY_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7615 000005B4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    29
PROGRAM NAME =

 7616 000005B6 0009                   M           NOP                                     ;
 7617                             926             FAR_JSR #_RDY_HOLDSTP_FLGOUT,R0
 7618 000005B8 D01A                   M           MOV.L   #_RDY_HOLDSTP_FLGOUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7619 000005BA 400B                   M           JSR     @R0                     ;
 7620 000005BC 0009                   M           NOP                                     ;
 7621                             927     
 7622 000005BE                    928     MODE_CTL_ET900:                         ;
 7623                             929     
 7624                             930     ;       ==== 2003-06-06[2-2] ==
 7625 000005BE D11A               931             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7626 000005C0 6011               932             MOV.W   @R1,R0                          ;
 7627                             933     ;;[2009-10-07下振子]    TST     #_DMATH_CNTROT,R0               ;
 7628 000005C2 C805               934             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;回転or往復
 7629                             935             TST_BIT_OF MODE_CTL_EXIT                ;
 7630 000005C4 8905                   M           BT      MODE_CTL_EXIT
 7631                             936             FAR_JSR #_DAI_MOSTPOS_SMPLE,R0          ;
 7632 000005C6 D019                   M           MOV.L   #_DAI_MOSTPOS_SMPLE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7633 000005C8 400B                   M           JSR     @R0                     ;
 7634 000005CA 0009                   M           NOP                                     ;
 7635                             937     
 7636                             938     
 7637                             939             FAR_JSR #_KJPHOS_SAMPLING1,R0   ;2004-07-05
 7638 000005CC D018                   M           MOV.L   #_KJPHOS_SAMPLING1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7639 000005CE 400B                   M           JSR     @R0                     ;
 7640 000005D0 0009                   M           NOP                                     ;
 7641                             940     
 7642 000005D2                    941     MODE_CTL_EXIT:                          ;
 7643                             942     
 7644                             943     
 7645                             944              .AIF   1 EQ 1  ;
 7646                             945 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7647                             946              .AENDI
 7648                             947     
 7649                             948             FAR_JSR #_DEBUG_CMPERR_STSMAK,R0        ;2016-08-09
 7650 000005D2 D018                   M           MOV.L   #_DEBUG_CMPERR_STSMAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7651 000005D4 400B                   M           JSR     @R0                     ;
 7652 000005D6 0009                   M           NOP                                     ;
 7653                             949     
 7654                             950     
 7655                             951             SUB_END
 7656                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7657 000005D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7658                             952             M_RTS
 7659 000005DA 000B                   M           RTS                             ;RTSの後ろの
 7660 000005DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7661                             953     
 7662                             954     ;       *******************************************
 7663                             955     ;       ***             2016-08-09 調査用       ***
 7664                             956     ;       *******************************************
 7665                             957             .IMPORT _CPUB_DBG_MONI_STP      ;2016-08-12
 7666                                     ***** BEGIN-POOL *****
 7667 000005DE 0000                       ALIGNMENT CODE
 7668 000005E0 00000000                   DATA FOR SOURCE-LINE 852
 7669 000005E4 00000000                   DATA FOR SOURCE-LINE 858
 7670 000005E8 00000000                   DATA FOR SOURCE-LINE 861
 7671 000005EC 00000000                   DATA FOR SOURCE-LINE 862
 7672 000005F0 00000000                   DATA FOR SOURCE-LINE 865
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    30
PROGRAM NAME =

 7673 000005F4 00000000                   DATA FOR SOURCE-LINE 870
 7674 000005F8 00000000                   DATA FOR SOURCE-LINE 872
 7675 000005FC 00000000                   DATA FOR SOURCE-LINE 878
 7676 00000600 00000000                   DATA FOR SOURCE-LINE 883
 7677 00000604 00000000                   DATA FOR SOURCE-LINE 889
 7678 00000608 00000000                   DATA FOR SOURCE-LINE 894
 7679 0000060C 00000000                   DATA FOR SOURCE-LINE 896
 7680 00000610 00000000                   DATA FOR SOURCE-LINE 904
 7681 00000614 00000000                   DATA FOR SOURCE-LINE 912
 7682 00000618 00000000                   DATA FOR SOURCE-LINE 917
 7683 0000061C 00000000                   DATA FOR SOURCE-LINE 920
 7684 00000620 00000000                   DATA FOR SOURCE-LINE 925
 7685 00000624 00000000                   DATA FOR SOURCE-LINE 926
 7686 00000628 00000000                   DATA FOR SOURCE-LINE 931
 7687 0000062C 00000000                   DATA FOR SOURCE-LINE 936
 7688 00000630 00000000                   DATA FOR SOURCE-LINE 939
 7689 00000634 00000000                   DATA FOR SOURCE-LINE 948
 7690                                     ***** END-POOL *****
 7691 00000638                    958     _DEBUG_CMPERR_STSMAK                    ;2016-08-09
 7692                             959             SUB_START
 7693 00000638 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7694                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7695 0000063A 200A               960             XOR     R0,R0
 7696 0000063C D116               961             MOV.L   #_STOP_LATCH_B,R1               ;
 7697 0000063E 6211               962             MOV.W   @R1,R2                          ;
 7698 00000640 2228               963             TST     R2,R2                           ;
 7699                             964             TST_BIT_OF DEBUG_CMPERR_STSMK10         ;
 7700 00000642 8900                   M           BT      DEBUG_CMPERR_STSMK10
 7701 00000644 CB01               965             OR      #BIT0,R0                        ;257.0/327.0
 7702 00000646                    966     DEBUG_CMPERR_STSMK10
 7703                             967     
 7704 00000646 D115               968             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
 7705 00000648 6211               969             MOV.W   @R1,R2
 7706 0000064A 2228               970             TST     R2,R2                           ;
 7707                             971             TST_BIT_OF DEBUG_CMPERR_STSMK20         ;
 7708 0000064C 8900                   M           BT      DEBUG_CMPERR_STSMK20
 7709 0000064E CB02               972             OR      #BIT1,R0                        ;257.1/327.1HANDはcpuaから見てだけをﾓﾆﾀ
 7710 00000650                    973     DEBUG_CMPERR_STSMK20
 7711                             974     
 7712                             975     
 7713                             976             .AIF    1 EQ    0
 7714                             977             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7715                             978             .AELSE
 7716 00000650 D113               979 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7717                             980             .AENDI
 7718 00000652 6211               981             MOV.W   @R1,R2
 7719 00000654 2228               982             TST     R2,R2                           ;
 7720                             983             TST_BIT_OF DEBUG_CMPERR_STSMK40         ;
 7721 00000656 8900                   M           BT      DEBUG_CMPERR_STSMK40
 7722 00000658 CB04               984             OR      #BIT2,R0                        ;257.2HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7723 0000065A                    985     DEBUG_CMPERR_STSMK40
 7724                             986     
 7725                             987             .AIF    1 EQ    0
 7726                             988             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7727                             989             .AELSE
 7728 0000065A D112               990 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7729                             991             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    31
PROGRAM NAME =

 7730 0000065C 6211               992             MOV.W   @R1,R2
 7731 0000065E 2228               993             TST     R2,R2                           ;
 7732                             994             TST_BIT_OF DEBUG_CMPERR_STSMK60         ;
 7733 00000660 8900                   M           BT      DEBUG_CMPERR_STSMK60
 7734 00000662 CB08               995             OR      #BIT3,R0                        ;257.3HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7735 00000664                    996     DEBUG_CMPERR_STSMK60
 7736                             997     
 7737                             998     
 7738                             999             .AIF    1 EQ    0
 7739                            1000             MOV.L   #_SH4_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7740                            1001             .AELSE
 7741 00000664 D110              1002 C           MOV.L   #_SH2_HD_STEP_END,R1            ;
 7742                            1003             .AENDI
 7743 00000666 6211              1004             MOV.W   @R1,R2
 7744 00000668 2228              1005             TST     R2,R2                           ;
 7745                            1006             TST_BIT_OF DEBUG_CMPERR_STSMK80         ;
 7746 0000066A 8900                   M           BT      DEBUG_CMPERR_STSMK80
 7747 0000066C CB10              1007             OR      #BIT4,R0                        ;257.4HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7748 0000066E                   1008     DEBUG_CMPERR_STSMK80
 7749                            1009     
 7750                            1010     
 7751                            1011             .AIF    1 EQ    0
 7752                            1012             MOV.L   #_SH2_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7753                            1013             .AELSE
 7754 0000066E D10F              1014 C           MOV.L   #_SH4_HD_STEP_END,R1            ;
 7755                            1015             .AENDI
 7756 00000670 6211              1016             MOV.W   @R1,R2
 7757 00000672 2228              1017             TST     R2,R2                           ;
 7758                            1018             TST_BIT_OF DEBUG_CMPERR_STSMK100        ;
 7759 00000674 8900                   M           BT      DEBUG_CMPERR_STSMK100
 7760 00000676 CB20              1019             OR      #BIT5,R0                        ;257.5HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7761 00000678                   1020     DEBUG_CMPERR_STSMK100
 7762                            1021     
 7763                            1022     
 7764                            1023     
 7765                            1024     
 7766 00000678 D10D              1025             MOV.L   #_CMPSTEP_STEP_END,R1   ;
 7767 0000067A 6211              1026             MOV.W   @R1,R2
 7768 0000067C 2228              1027             TST     R2,R2                           ;
 7769                            1028             TST_BIT_OF DEBUG_CMPERR_STSMK150        ;
 7770 0000067E 8900                   M           BT      DEBUG_CMPERR_STSMK150
 7771 00000680 CB40              1029             OR      #BIT6,R0                        ;257.6/327.6 END
 7772 00000682                   1030     DEBUG_CMPERR_STSMK150
 7773                            1031     
 7774                            1032     
 7775                            1033     ;;;;;;;;;;;;2020-05-07  MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),
                                          4
 7776                            1034     ;;;;;;;;;;;;2020-05-07  MOV.W   R0,@R1
 7777                            1035     
 7778                            1036             .AIF    1 EQ    0
 7779                            1037     
 7780                            1038             .AELSE
 7781                            1039 C   
 7782 00000682 D10C              1040 C           MOV.L   #_CNT_STOP_WAIT_TIM,R1
 7783 00000684 6011              1041 C           MOV.W   @R1,R0
 7784 00000686 D10C              1042 C           MOV.L   #_CPUB_DBG_MONI_STP,R1  ;2016-08-12
 7785 00000688 2101              1043 C           MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    32
PROGRAM NAME =

 7786                            1044 C   
 7787 0000068A D10C              1045 C           MOV.L   #_CNT_STOP_DBG_CNT,R1   ;//2016-08-22 CHECK
 7788 0000068C 6011              1046 C           MOV.W   @R1,R0
 7789 0000068E D10C              1047 C           MOV.L   #_CPUB_DBG_MONI_CNT,R1  ;2016-08-22
 7790 00000690 2101              1048 C           MOV.W   R0,@R1                  ;
 7791                            1049 C   
 7792                            1050             .AENDI
 7793                            1051     
 7794                            1052             SUB_END
 7795                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7796 00000692 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7797                            1053             M_RTS
 7798 00000694 000B                   M           RTS                             ;RTSの後ろの
 7799 00000696 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7800                            1054     
 7801                            1055     ;       ***************************************************
 7802                            1056     ;       ***                                             ***
 7803                            1057     ;       ***     再起動防止OFF→ON条件,ON→OFF(ｾﾙﾌﾁｪｯｸ)  ***
 7804                            1058     ;       ***                                             ***
 7805                            1059     ;       ***************************************************
 7806                            1060     ;       Output ANTI-SIGNAL
 7807                            1061     ;       Output IN_RDY_FLG
 7808                                     ***** BEGIN-POOL *****
 7809 00000698 00000000                   DATA FOR SOURCE-LINE 961
 7810 0000069C 00000000                   DATA FOR SOURCE-LINE 968
 7811 000006A0 00000000                   DATA FOR SOURCE-LINE 979
 7812 000006A4 00000000                   DATA FOR SOURCE-LINE 990
 7813 000006A8 00000000                   DATA FOR SOURCE-LINE 1002
 7814 000006AC 00000000                   DATA FOR SOURCE-LINE 1014
 7815 000006B0 00000000                   DATA FOR SOURCE-LINE 1025
 7816 000006B4 00000000                   DATA FOR SOURCE-LINE 1040
 7817 000006B8 00000000                   DATA FOR SOURCE-LINE 1042
 7818 000006BC 00000000                   DATA FOR SOURCE-LINE 1045
 7819 000006C0 00000000                   DATA FOR SOURCE-LINE 1047
 7820                                     ***** END-POOL *****
 7821 000006C4                   1062     _ANTI_CHEAK:
 7822                            1063             SUB_START
 7823 000006C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7825                            1064     
 7826 000006C6 D114              1065             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 7827 000006C8 6011              1066             MOV.W   @R1,R0                  ;
 7828 000006CA C810              1067             TST     #_WOANT,R0              ;ANTI
 7829                            1068             TST_BIT_ON ANTI_CHK_0500        ;
 7830 000006CC 8B46                   M           BF      ANTI_CHK_0500
 7831                            1069     
 7832                            1070     ;       ===================================
 7833                            1071     ;       ===     ANTI - OFF 中           ===
 7834                            1072     ;       ===     ANTI - ON またはｾﾙﾌﾁｪｯｸ ===
 7835                            1073     ;       ===================================
 7836 000006CE D113              1074             MOV.L   #_MODE_SEL,R1                   ;
 7837 000006D0 6011              1075             MOV.W   @R1,R0                          ;
 7838 000006D2 C801              1076             TST     #_W1OFF,R0                      ;切?
 7839                            1077             TST_BIT_ON ANTI_CHK_EXIT                ;ﾘｾｯﾄ不可
 7840 000006D4 8B4C                   M           BF      ANTI_CHK_EXIT
 7841                            1078     
 7842                            1079     ;;;全モードセルフチェックを行う
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    33
PROGRAM NAME =

 7843                            1080     ;;;2006-05-09   MOV.W   #(_W1DUP+_W1DIC+_W1INC),R1      ;
 7844                            1081     ;;;2006-05-09   TST     R1,R0                           ;
 7845                            1082     ;;;2006-05-09   TST_BIT_ON ANTI_CHK_0100                ;寸動等
 7846                            1083     
 7847 000006D6 D112              1084             MOV.L   #_SELF_FLG,R1                   ;
 7848 000006D8 6011              1085             MOV.W   @R1,R0                          ;
 7849 000006DA C880              1086             TST     #BIT7,R0                        ;ｾﾙﾌﾁｪｯｸ完了?
 7850                            1087             TST_BIT_OF ANTI_CHK_0150                ;(ｾﾙﾌﾁｪｯｸ未完了)
 7851 000006DC 892E                   M           BT      ANTI_CHK_0150
 7852                            1088     
 7853 000006DE                   1089     ANTI_CHK_0100:                                  ;
 7854                            1090             FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 7855 000006DE D011                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7856 000006E0 400B                   M           JSR     @R0                     ;
 7857 000006E2 0009                   M           NOP                                     ;
 7858                            1091             FAR_JSR #_ANTI_ON,R1                    ;ANTI-ON
 7859 000006E4 D110                   M           MOV.L   #_ANTI_ON,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7860 000006E6 410B                   M           JSR     @R1                     ;
 7861 000006E8 0009                   M           NOP                                     ;
 7862                            1092             MEM1_DATA_SET MEM=_IN_RDY_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2        ;内部準備
                                          完了
 7863 000006EA D110                   M           MOV.L   #_IN_RDY_FLG,R1         ;
 7864 000006EC 9212                   M           MOV.W   #BIT0,R2                ;
 7865 000006EE 2121                   M           MOV.W   R2,@R1  ;
 7866                            1093     
 7867                            1094     ;       ------ 2006-04-10 ------
 7868                            1095             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7869 000006F0 D10F                   M           MOV.L   #_SELF_COM,R1           ;
 7870 000006F2 9210                   M           MOV.W   #0,R2           ;
 7871 000006F4 2121                   M           MOV.W   R2,@R1  ;
 7872                            1096             MEM1_DATA_SET MEM=_SELF_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7873 000006F6 D10A                   M           MOV.L   #_SELF_FLG,R1           ;
 7874 000006F8 920D                   M           MOV.W   #0,R2           ;
 7875 000006FA 2121                   M           MOV.W   R2,@R1  ;
 7876                            1097     
 7877                            1098     
 7878                            1099     ;       -----REQ-ON--------
 7879 000006FC D10D              1100             MOV.L   #_EPCHK_FLG,R1          ;
 7880 000006FE 6011              1101             MOV.W   @R1,R0                  ;
 7881 00000700 C880              1102             TST     #BIT7,R0                ;
 7882                            1103             TST_BIT_ON ANTI_CHK_0130        ;正常完了している
 7883 00000702 8B05                   M           BF      ANTI_CHK_0130
 7884                            1104             MEM1_DATA_SET MEM=_EPCHK_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;
 7885 00000704 D10C                   M           MOV.L   #_EPCHK_COM,R1          ;
 7886 00000706 9205                   M           MOV.W   #BIT0,R2                ;
 7887 00000708 2121                   M           MOV.W   R2,@R1  ;
 7888                            1105             MEM1_DATA_SET MEM=_EPCHK_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;
 7889 0000070A D10A                   M           MOV.L   #_EPCHK_FLG,R1          ;
 7890 0000070C 9203                   M           MOV.W   #0,R2           ;
 7891 0000070E 2121                   M           MOV.W   R2,@R1  ;
 7892 00000710                   1106     ANTI_CHK_0130:
 7893                            1107     
 7894                            1108     
 7895                            1109     
 7896                            1110             M_BRA   ANTI_CHK_EXIT                   ;
 7897 00000710 A02E                   M           BRA     ANTI_CHK_EXIT
 7898 00000712 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    34
PROGRAM NAME =

 7899                            1111     
 7900                                     ***** BEGIN-POOL *****
 7901 00000714 0001                       DATA FOR SOURCE-LINE 1092,1104
 7902 00000716 0000                       DATA FOR SOURCE-LINE 1095,1096,1105
 7903 00000718 00000000                   DATA FOR SOURCE-LINE 1065
 7904 0000071C 00000000                   DATA FOR SOURCE-LINE 1074
 7905 00000720 00000000                   DATA FOR SOURCE-LINE 1084,1096
 7906 00000724 00000000                   DATA FOR SOURCE-LINE 1090
 7907 00000728 00000000                   DATA FOR SOURCE-LINE 1091
 7908 0000072C 00000000                   DATA FOR SOURCE-LINE 1092
 7909 00000730 00000000                   DATA FOR SOURCE-LINE 1095
 7910 00000734 00000000                   DATA FOR SOURCE-LINE 1100,1105
 7911 00000738 00000000                   DATA FOR SOURCE-LINE 1104
 7912                                     ***** END-POOL *****
 7913 0000073C                   1112     ANTI_CHK_0150:
 7914                            1113     
 7915                            1114             FAR_JSR #_SELF_START_CONF,R1            ;ANS R0=00(ｾﾙﾌﾁｪｯｸ開始可能)
 7916 0000073C D105                   M           MOV.L   #_SELF_START_CONF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7917 0000073E 410B                   M           JSR     @R1                     ;
 7918 00000740 0009                   M           NOP                                     ;
 7919 00000742 2008              1115             TST     R0,R0                           ;
 7920                            1116             TST_BIT_ON ANTI_CHK_EXIT                ;
 7921 00000744 8B14                   M           BF      ANTI_CHK_EXIT
 7922                            1117     
 7923                            1118             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2  ;ｾﾙﾌ開始ｺﾏﾝﾄﾞ
 7924 00000746 D104                   M           MOV.L   #_SELF_COM,R1           ;
 7925 00000748 9202                   M           MOV.W   #BIT0,R2                ;
 7926 0000074A 2121                   M           MOV.W   R2,@R1  ;
 7927                            1119             M_BRA   ANTI_CHK_EXIT                   ;
 7928 0000074C A010                   M           BRA     ANTI_CHK_EXIT
 7929 0000074E 0009                   M           NOP
 7930                            1120     
 7931                            1121     
 7932                            1122     ;       ===================================
 7933                            1123     ;       ===     ANTI - ON 中            ===
 7934                            1124     ;       ===================================
 7935                                     ***** BEGIN-POOL *****
 7936 00000750 0001                       DATA FOR SOURCE-LINE 1118
 7937 00000752 0000                       ALIGNMENT CODE
 7938 00000754 00000000                   DATA FOR SOURCE-LINE 1114
 7939 00000758 00000000                   DATA FOR SOURCE-LINE 1118
 7940                                     ***** END-POOL *****
 7941 0000075C                   1125     ANTI_CHK_0500:
 7942 0000075C D106              1126             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 7943 0000075E 6011              1127             MOV.W   @R1,R0                          ;
 7944 00000760 C801              1128             TST     #BIT0,R0                        ;
 7945                            1129             TST_BIT_ON ANTI_CHK_EXIT                ;
 7946 00000762 8B05                   M           BF      ANTI_CHK_EXIT
 7947                            1130     
 7948                            1131             FAR_JSR #_ANTI_OF,R1                    ;ｾﾙﾌﾁｪｯｸ未完SET
 7949 00000764 D105                   M           MOV.L   #_ANTI_OF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7950 00000766 410B                   M           JSR     @R1                     ;
 7951 00000768 0009                   M           NOP                                     ;
 7952 0000076A 200A              1132             XOR     R0,R0
 7953 0000076C D104              1133             MOV.L   #_SELF_FLG,R1                   ;
 7954 0000076E 2101              1134             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    35
PROGRAM NAME =

 7955                            1135     
 7956 00000770                   1136     ANTI_CHK_EXIT:
 7957                            1137     
 7958                            1138             SUB_END
 7959                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7960 00000770 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7961                            1139             M_RTS
 7962 00000772 000B                   M           RTS                             ;RTSの後ろの
 7963 00000774 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7964                            1140     
 7965                            1141     
 7966                            1142     ;       ***************************************************
 7967                            1143     ;       ***                                             ***
 7968                            1144     ;       ***     準備完了・起動                          ***
 7969                            1145     ;       ***                                             ***
 7970                            1146     ;       ***************************************************
 7971                            1147     ;       U2b     DRV_ACT_FLG;    //運転動作ﾌﾗｸﾞ BIT0:運転中
 7972                            1148     ;       U2b     BTTN_FLG;       //BIT0:両手ﾌﾘ- BIT1:片手ON　BIT2:両手ON
 7973                            1149             .IMPORT _SH4_HD_HLDSTOP2        ;
 7974                            1150             .IMPORT _SH2_HD_HLDSTOP2        ;
 7975                            1151     
 7976                                     ***** BEGIN-POOL *****
 7977 00000776 0000                       ALIGNMENT CODE
 7978 00000778 00000000                   DATA FOR SOURCE-LINE 1126
 7979 0000077C 00000000                   DATA FOR SOURCE-LINE 1131
 7980 00000780 00000000                   DATA FOR SOURCE-LINE 1133
 7981                                     ***** END-POOL *****
 7982 00000784                   1152     _RDY_CHEAK:
 7983                            1153             SUB_START
 7984 00000784 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7985                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7986                            1154     
 7987                            1155     ;       -------------------------------------------
 7988                            1156     ;       ---                                     ---
 7989                            1157     ;       -------------------------------------------
 7990                            1158             FAR_JSR #_POSHLD1_SIG_CHK,R0            ;
 7991 00000786 D008                   M           MOV.L   #_POSHLD1_SIG_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7992 00000788 400B                   M           JSR     @R0                     ;
 7993 0000078A 0009                   M           NOP                                     ;
 7994                            1159     
 7995                            1160                                             ;"HOLD-CMDは必ず動作中で行うこと"
 7996 0000078C D107              1161             MOV.L   #_POS_HOLD_FLG,R1       ;BIT0=1:減速状態[既に停止ｺﾏﾝﾄﾞは個別ｿﾌﾄで発行して
                                          いる]
 7997 0000078E 6011              1162             MOV.W   @R1,R0                  ;BIT1=1:位置決め完了状態
 7998 00000790 2008              1163             TST     R0,R0                   ;
 7999                            1164             TST_BIT_ON RDY_HOLDCHK_0100
 8000 00000792 8B0F                   M           BF      RDY_HOLDCHK_0100
 8001                            1165     
 8002 00000794 D106              1166             MOV.L   #_POS_HOLD_CMD,R1                                               ;BIT0~BIT6
                                          の7個まで受け付ける
 8003 00000796 6011              1167             MOV.W   @R1,R0                                                          ;
 8004 00000798 2008              1168             TST     R0,R0                                                           ;
 8005                            1169             TST_BIT_OF RDY_HOLDCHK_END                                              ;
 8006 0000079A 8965                   M           BT      RDY_HOLDCHK_END
 8007                            1170     
 8008                            1171             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
 8009 0000079C D103                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    36
PROGRAM NAME =

 8010 0000079E 6011                   M           MOV.W   @R1,R0          ;
 8011 000007A0 CB01                   M           OR      #BIT0,R0                ;
 8012 000007A2 2101                   M           MOV.W   R0,@R1          ;
 8013                            1172             M_BRA   RDY_HOLDCHK_1000
 8014 000007A4 A054                   M           BRA     RDY_HOLDCHK_1000
 8015 000007A6 0009                   M           NOP
 8016                            1173     
 8017                                     ***** BEGIN-POOL *****
 8018 000007A8 00000000                   DATA FOR SOURCE-LINE 1158
 8019 000007AC 00000000                   DATA FOR SOURCE-LINE 1161,1171
 8020 000007B0 00000000                   DATA FOR SOURCE-LINE 1166
 8021                                     ***** END-POOL *****
 8022 000007B4                   1174     RDY_HOLDCHK_0100
 8023 000007B4 C802              1175             TST     #BIT1,R0                                                        ;位置決め
                                          完了状態?
 8024                            1176             TST_BIT_ON RDY_HOLDCHK_0200                                             ;
 8025 000007B6 8B19                   M           BF      RDY_HOLDCHK_0200
 8026                            1177     
 8027                            1178             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 8028 000007B8 D008                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8029 000007BA 400B                   M           JSR     @R0                     ;
 8030 000007BC 0009                   M           NOP                                     ;
 8031                            1179     
 8032 000007BE D108              1180             MOV.L   #_DRV_ACT_FLG,R1                                                ;//運転動
                                          作ﾌﾗｸﾞ BIT0:運転中
 8033 000007C0 6011              1181             MOV.W   @R1,R0                                                          ;
 8034 000007C2 C801              1182             TST     #BIT0,R0                                                        ;運転中?
 8035                            1183             TST_BIT_ON RDY_HOLDCHK_1000                                             ;YES 状態
                                          維持
 8036 000007C4 8B44                   M           BF      RDY_HOLDCHK_1000
 8037                            1184     
 8038                            1185             FAR_JSR #_HOLD_STOP_BA_JG,R0                                            ;
 8039 000007C6 D007                   M           MOV.L   #_HOLD_STOP_BA_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8040 000007C8 400B                   M           JSR     @R0                     ;
 8041 000007CA 0009                   M           NOP                                     ;
 8042 000007CC 2008              1186             TST     R0,R0                                                           ;
 8043                            1187             TST_BIT_OF RDY_HOLDCHK_1999                                             ;相手停止?
                                          NO
 8044 000007CE 8949                   M           BT      RDY_HOLDCHK_1999
 8045                            1188     
 8046                            1189             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT1,WKREG=R1        ;bit-set
 8047 000007D0 D105                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 8048 000007D2 6011                   M           MOV.W   @R1,R0          ;
 8049 000007D4 CB02                   M           OR      #BIT1,R0                ;
 8050 000007D6 2101                   M           MOV.W   R0,@R1          ;
 8051                            1190             M_BRA   RDY_HOLDCHK_1999
 8052 000007D8 A044                   M           BRA     RDY_HOLDCHK_1999
 8053 000007DA 0009                   M           NOP
 8054                            1191     
 8055                            1192     
 8056                            1193     ;       ---------------- 再スタート---------------------
 8057                                     ***** BEGIN-POOL *****
 8058 000007DC 00000000                   DATA FOR SOURCE-LINE 1178
 8059 000007E0 00000000                   DATA FOR SOURCE-LINE 1180
 8060 000007E4 00000000                   DATA FOR SOURCE-LINE 1185
 8061 000007E8 00000000                   DATA FOR SOURCE-LINE 1189
 8062                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    37
PROGRAM NAME =

 8063 000007EC                   1194     RDY_HOLDCHK_0200:
 8064                            1195             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 8065 000007EC D010                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8066 000007EE 400B                   M           JSR     @R0                     ;
 8067 000007F0 0009                   M           NOP                                     ;
 8068                            1196     
 8069                            1197             FAR_JSR #_POS_HOLD_RESTART_CHK,R0       ;ｺﾏﾝﾄﾞ発行
 8070 000007F2 D010                   M           MOV.L   #_POS_HOLD_RESTART_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8071 000007F4 400B                   M           JSR     @R0                     ;
 8072 000007F6 0009                   M           NOP                                     ;
 8073                            1198     
 8074 000007F8 D10F              1199             MOV.L   #_POS_HOLD_RESTARTCMD,R1        ;
 8075 000007FA 6011              1200             MOV.W   @R1,R0                          ;
 8076 000007FC 2008              1201             TST     R0,R0                           ;
 8077                            1202             TST_BIT_OF RDY_HOLDCHK_1999             ;
 8078 000007FE 8931                   M           BT      RDY_HOLDCHK_1999
 8079 00000800 6007              1203             NOT     R0,R0                           ;
 8080 00000802 D10E              1204             MOV.L   #_POS_HOLD_CMD,R1               ;BIT0~BIT6の7個まで受け付ける
 8081 00000804 6211              1205             MOV.W   @R1,R2                          ;
 8082 00000806 2209              1206             AND     R0,R2                           ;
 8083 00000808 2121              1207             MOV.W   R2,@R1                          ;
 8084 0000080A 2228              1208             TST     R2,R2                           ;
 8085                            1209             TST_BIT_ON RDY_HOLDCHK_1999             ;
 8086 0000080C 8B2A                   M           BF      RDY_HOLDCHK_1999
 8087                            1210     
 8088                            1211     ;       -------- 全てのHOLD条件無し -----------
 8089                            1212             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;
 8090 0000080E D00C                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8091 00000810 400B                   M           JSR     @R0                     ;
 8092 00000812 0009                   M           NOP                                     ;
 8093                            1213             FAR_JSR #_HOLD_RESTART_BA_JG,R0         ;
 8094 00000814 D00B                   M           MOV.L   #_HOLD_RESTART_BA_JG,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8095 00000816 400B                   M           JSR     @R0                     ;
 8096 00000818 0009                   M           NOP                                     ;
 8097 0000081A 2008              1214             TST     R0,R0                           ;
 8098                            1215             TST_BIT_ON RDY_HOLDCHK_1999             ;
 8099 0000081C 8B22                   M           BF      RDY_HOLDCHK_1999
 8100                            1216             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
 8101 0000081E D00A                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8102 00000820 400B                   M           JSR     @R0                     ;
 8103 00000822 0009                   M           NOP                                     ;
 8104                            1217     
 8105 00000824 E001              1218             MOV.B   #BIT0,R0                        ;
 8106 00000826 D109              1219             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8107 00000828 2101              1220             MOV.W   R0,@R1                          ;
 8108                            1221             M_BRA   RDY_CHK_0220                    ;再起動
 8109 0000082A A13D                   M           BRA     RDY_CHK_0220
 8110 0000082C 0009                   M           NOP
 8111                            1222     
 8112                                     ***** BEGIN-POOL *****
 8113 0000082E 0000                       ALIGNMENT CODE
 8114 00000830 00000000                   DATA FOR SOURCE-LINE 1195
 8115 00000834 00000000                   DATA FOR SOURCE-LINE 1197
 8116 00000838 00000000                   DATA FOR SOURCE-LINE 1199
 8117 0000083C 00000000                   DATA FOR SOURCE-LINE 1204
 8118 00000840 00000000                   DATA FOR SOURCE-LINE 1212
 8119 00000844 00000000                   DATA FOR SOURCE-LINE 1213
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    38
PROGRAM NAME =

 8120 00000848 00000000                   DATA FOR SOURCE-LINE 1216
 8121 0000084C 00000000                   DATA FOR SOURCE-LINE 1219
 8122                                     ***** END-POOL *****
 8123 00000850                   1223     RDY_HOLDCHK_1000
 8124 00000850 D102              1224             MOV.L   #_END_CMD_LATCH,R1              ;
 8125 00000852 6011              1225             MOV.W   @R1,R0                          ;
 8126 00000854 2008              1226             TST     R0,R0                           ;
 8127                            1227             TST_BIT_ON RDY_HOLDCHK_1200             ;
 8128 00000856 8B03                   M           BF      RDY_HOLDCHK_1200
 8129                            1228             M_BRA   RDY_CHK_1000                    ;
 8130 00000858 A263                   M           BRA     RDY_CHK_1000
 8131 0000085A 0009                   M           NOP
 8132                                     ***** BEGIN-POOL *****
 8133 0000085C 00000000                   DATA FOR SOURCE-LINE 1224
 8134                                     ***** END-POOL *****
 8135 00000860                   1229     RDY_HOLDCHK_1200
 8136                            1230             M_BRA   RDY_CHK_1200                    ;
 8137 00000860 A278                   M           BRA     RDY_CHK_1200
 8138 00000862 0009                   M           NOP
 8139                            1231     
 8140 00000864                   1232     RDY_HOLDCHK_1999
 8141                            1233             M_BRA   RDY_CHK_EXIT
 8142 00000864 A2AC                   M           BRA     RDY_CHK_EXIT
 8143 00000866 0009                   M           NOP
 8144                            1234     
 8145 00000868                   1235     RDY_HOLDCHK_END
 8146                            1236     
 8147                            1237     
 8148                            1238     
 8149                            1239     ;       --------運転／非運転-------------
 8150                            1240     
 8151                            1241     ;;;;;;;;;;;;;;  ==== 2003-07-09(非運転状態ではｻｲｸﾙ速度表示ON) ====
 8152                            1242             FAR_JSR #_CNT_CYCL_DISP_ST,R0   ;表示する(表示したくないならこのｽｷｬﾝ内に表示しない
                                          をONする)
 8153 00000868 D007                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8154 0000086A 400B                   M           JSR     @R0                     ;
 8155 0000086C 0009                   M           NOP                                     ;
 8156                            1243     
 8157                            1244     ;       ------------2019-08-20--------------
 8158                            1245             FAR_JSR #_CNT_SPM_DISP_CHK,R0   ;
 8159 0000086E D007                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8160 00000870 400B                   M           JSR     @R0                     ;
 8161 00000872 0009                   M           NOP                                     ;
 8162                            1246     
 8163                            1247     
 8164                            1248     ;       ================================
 8165 00000874 D106              1249             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 8166 00000876 6011              1250             MOV.W   @R1,R0                  ;
 8167 00000878 C801              1251             TST     #BIT0,R0                ;運転中?
 8168                            1252             TST_BIT_OF RDY_CHK_0050         ;
 8169 0000087A 890F                   M           BT      RDY_CHK_0050
 8170                            1253     ;       ===============================
 8171 0000087C D105              1254             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8172 0000087E 6011              1255             MOV.W   @R1,R0                  ;
 8173 00000880 2008              1256             TST     R0,R0                   ;
 8174                            1257             TST_BIT_ON RDY_CHK_0030         ;
 8175 00000882 8B09                   M           BF      RDY_CHK_0030
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    39
PROGRAM NAME =

 8176                            1258             M_BRA   RDY_CHK_1200            ;(終了待ち)
 8177 00000884 A266                   M           BRA     RDY_CHK_1200
 8178 00000886 0009                   M           NOP
 8179                            1259     
 8180                                     ***** BEGIN-POOL *****
 8181 00000888 00000000                   DATA FOR SOURCE-LINE 1242
 8182 0000088C 00000000                   DATA FOR SOURCE-LINE 1245
 8183 00000890 00000000                   DATA FOR SOURCE-LINE 1249
 8184 00000894 00000000                   DATA FOR SOURCE-LINE 1254
 8185                                     ***** END-POOL *****
 8186 00000898                   1260     RDY_CHK_0030:
 8187                            1261             M_BRA   RDY_CHK_0500            ;通常の位置決め状態
 8188 00000898 A1B8                   M           BRA     RDY_CHK_0500
 8189 0000089A 0009                   M           NOP
 8190                            1262     
 8191 0000089C                   1263     RDY_CHK_0050:
 8192                            1264     ;       ----------------------------------------------
 8193                            1265             _MONI_RDY_SET SETNO=1,SETREG=R0,WKREG=R1        ;2014-09-13
 8194 0000089C 9007                   M           MOV.W   #1,R0
 8195 0000089E D104                   M           MOV.L   #_MONI_RDY_STEP,R1
 8196 000008A0 2101                   M           MOV.W   R0,@R1
 8197                            1266     ;       ----------------------------------------------
 8198                            1267     
 8199 000008A2 D104              1268             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8200 000008A4 6011              1269             MOV.W   @R1,R0                  ;
 8201 000008A6 2008              1270             TST     R0,R0                   ;
 8202                            1271             TST_BIT_OF RDY_CHK_0060         ;
 8203 000008A8 8906                   M           BT      RDY_CHK_0060
 8204                            1272             M_BRA   RDY_CHK_0200_START_WAIT ;
 8205 000008AA A115                   M           BRA     RDY_CHK_0200_START_WAIT
 8206 000008AC 0009                   M           NOP
 8207                            1273     
 8208                                     ***** BEGIN-POOL *****
 8209 000008AE 0001                       DATA FOR SOURCE-LINE 1265
 8210 000008B0 00000000                   DATA FOR SOURCE-LINE 1265
 8211 000008B4 00000000                   DATA FOR SOURCE-LINE 1268
 8212                                     ***** END-POOL *****
 8213 000008B8                   1274     RDY_CHK_0060:
 8214                            1275     ;       ----------------------------------------------
 8215                            1276             _MONI_RDY_SET SETNO=2,SETREG=R0,WKREG=R1        ;2014-09-13
 8216 000008B8 900A                   M           MOV.W   #2,R0
 8217 000008BA D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 8218 000008BC 2101                   M           MOV.W   R0,@R1
 8219                            1277     ;       ----------------------------------------------
 8220                            1278     
 8221                            1279     ;       ------- 2007-01-16--
 8222                            1280     
 8223                            1281     
 8224                            1282     ;       ------- 2006-07-28---
 8225                            1283             FAR_JSR #_ORGIN_MODE_START_WAIT,R0      ;
 8226 000008BE D006                   M           MOV.L   #_ORGIN_MODE_START_WAIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8227 000008C0 400B                   M           JSR     @R0                     ;
 8228 000008C2 0009                   M           NOP                                     ;
 8229 000008C4 2008              1284             TST     R0,R0
 8230                            1285             TST_BIT_OF RDY_CHK_0070
 8231 000008C6 890B                   M           BT      RDY_CHK_0070
 8232 000008C8 8855              1286             CMP/EQ  #H'55,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    40
PROGRAM NAME =

 8233 000008CA 8B07              1287             BF      ORGIN_MODE_START_WT10           ;
 8234                            1288             M_BRA   RDY_CHK_0220                    ;55:起動
 8235 000008CC A0EC                   M           BRA     RDY_CHK_0220
 8236 000008CE 0009                   M           NOP
 8237                                     ***** BEGIN-POOL *****
 8238 000008D0 0002                       DATA FOR SOURCE-LINE 1276
 8239 000008D2 0000                       ALIGNMENT CODE
 8240 000008D4 00000000                   DATA FOR SOURCE-LINE 1276
 8241 000008D8 00000000                   DATA FOR SOURCE-LINE 1283
 8242                                     ***** END-POOL *****
 8243 000008DC                   1289     ORGIN_MODE_START_WT10
 8244                            1290             M_BRA   RDY_CHK_0399                    ;-1
 8245 000008DC A18C                   M           BRA     RDY_CHK_0399
 8246 000008DE 0009                   M           NOP
 8247                            1291     
 8248 000008E0                   1292     RDY_CHK_0070:
 8249                            1293     
 8250                            1294     ;       ----------------------------------------------
 8251                            1295             _MONI_RDY_SET SETNO=3,SETREG=R0,WKREG=R1        ;2014-09-13
 8252 000008E0 901B                   M           MOV.W   #3,R0
 8253 000008E2 D10E                   M           MOV.L   #_MONI_RDY_STEP,R1
 8254 000008E4 2101                   M           MOV.W   R0,@R1
 8255                            1296     ;       ----------------------------------------------
 8256                            1297     
 8257                            1298     ;       ------- 2008-04-28(ORGIN MODE) ------------
 8258                            1299             FAR_JSR #_ORGIN_180CHK,R0
 8259 000008E6 D00E                   M           MOV.L   #_ORGIN_180CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8260 000008E8 400B                   M           JSR     @R0                     ;
 8261 000008EA 0009                   M           NOP                                     ;
 8262                            1300     
 8263                            1301     
 8264                            1302     
 8265                            1303     
 8266                            1304     ;       ======= 非運転状態では位置決め完了待ちｸﾘｱ 2003-06-13 ====
 8267                            1305             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
 8268 000008EC D10D                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
 8269 000008EE 6011                   M           MOV.W   @R1,R0          ;
 8270 000008F0 C9FE                   M           AND     #LOW ~BIT0,R0           ;
 8271 000008F2 2101                   M           MOV.W   R0,@R1          ;
 8272                            1306     
 8273                            1307     ;       ------- 2006-07-28 ----------------
 8274                            1308             FAR_JSR #_TEP_FLG_CLR,R0
 8275 000008F4 D00C                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8276 000008F6 400B                   M           JSR     @R0                     ;
 8277 000008F8 0009                   M           NOP                                     ;
 8278                            1309     
 8279                            1310     ;       ===========================================
 8280                            1311     ;       ===     安全装置ﾏｽｸ                     ===
 8281                            1312     ;       ===========================================
 8282                            1313     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
 8283                            1314     
 8284                            1315     ;       ===========================================================
 8285                            1316     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択のSWの反映を停止の待機点で行う     ===
 8286                            1317     ;       ===========================================================
 8287                            1318     ;       ======>2013-08-20 停止中であればSW切り替えを反映させる
 8288                            1319     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    41
PROGRAM NAME =

 8289 000008FA D10C              1320             MOV.L   #_UPMSK2_MOD,R1                         ;
 8290 000008FC 6011              1321             MOV.W   @R1,R0                                  ;
 8291 000008FE 2008              1322             TST     R0,R0                                   ;
 8292                            1323             TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;SWを使用しない
 8293 00000900 8902                   M           BT      RDY_SFTY_MASK2CHK050
 8294                            1324     
 8295                            1325     ;;;;;;;;;;;;2013-08-20; <ふりこの場合、待機点の切替が起動後になってしまう。>
 8296                            1326     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 8297                            1327     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8298                            1328     ;;;;;;;;;;;;2013-08-20  TST     #(_DMATH_DNDRIV),R0                     ;
 8299                            1329     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK030                 ;
 8300                            1330     ;;;;;;;;;;;;2013-08-20
 8301                            1331     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1             ;
 8302                            1332     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8303                            1333     ;;;;;;;;;;;;2013-08-20  MOV.W   #BIT7,R4                                ;
 8304                            1334     ;;;;;;;;;;;;2013-08-20  TST     R4,R0                                   ;
 8305                            1335     ;;;;;;;;;;;;2013-08-20  TST_BIT_ON RDY_SFTY_MASK2CHK040                 ;
 8306                            1336     ;;;;;;;;;;;;2013-08-20
 8307                            1337     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK030
 8308                            1338     ;;;;;;;;;;;;2013-08-20
 8309                            1339     ;;;;;;;;;;;;2013-08-20  MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機
                                          点範囲
 8310                            1340     ;;;;;;;;;;;;2013-08-20  MOV.W   @R4,R0                                  ;
 8311                            1341     ;;;;;;;;;;;;2013-08-20  TST     #BIT0,R0                                ;
 8312                            1342     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;待機点ではない
 8313                            1343     ;;;;;;;;;;;;2013-08-20
 8314                            1344     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK040
 8315                            1345     
 8316                            1346             FAR_JSR #_MASK2_SAFTY_SW_MOV,R0                 ;
 8317 00000902 D00B                   M           MOV.L   #_MASK2_SAFTY_SW_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8318 00000904 400B                   M           JSR     @R0                     ;
 8319 00000906 0009                   M           NOP                                     ;
 8320                            1347     
 8321 00000908                   1348     RDY_SFTY_MASK2CHK050:
 8322                            1349     
 8323                            1350     
 8324                            1351     ;       ===========================================================
 8325                            1352     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択 停止中[待機点と待機点以外]        ===
 8326                            1353     ;       ===========================================================
 8327                            1354     ;;;;;   FAR_JSR #_SFTY_MASK_START,R0            ;従来のソフトは停止時いつでもマスク
 8328                            1355     ;;;;2015-09-06  FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8329                            1356     
 8330                            1357     
 8331                            1358     ;;;;_BRK_SADOU_CHG
 8332                            1359     ;       -------- 2015-09-06---------
 8333 00000908 D10A              1360             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
 8334 0000090A 6011              1361             MOV.W   @R1,R0                                                  ;
 8335 0000090C 8801              1362             CMP/EQ  #1,R0
 8336 0000090E 8915              1363             BT      RDY_SFTY_MASK2CHK055                                    ;停止制御有効
 8337                            1364     
 8338                            1365             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
 8339 00000910 D009                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8340 00000912 400B                   M           JSR     @R0                     ;
 8341 00000914 0009                   M           NOP                                     ;
 8342                            1366             M_BRA   RDY_SFTY_MASK2CHK100                                    ;
 8343 00000916 A022                   M           BRA     RDY_SFTY_MASK2CHK100
 8344 00000918 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    42
PROGRAM NAME =

 8345                            1367     
 8346                                     ***** BEGIN-POOL *****
 8347 0000091A 0003                       DATA FOR SOURCE-LINE 1295
 8348 0000091C 00000000                   DATA FOR SOURCE-LINE 1295
 8349 00000920 00000000                   DATA FOR SOURCE-LINE 1299
 8350 00000924 00000000                   DATA FOR SOURCE-LINE 1305
 8351 00000928 00000000                   DATA FOR SOURCE-LINE 1308
 8352 0000092C 00000000                   DATA FOR SOURCE-LINE 1320
 8353 00000930 00000000                   DATA FOR SOURCE-LINE 1346
 8354 00000934 00000000                   DATA FOR SOURCE-LINE 1360
 8355 00000938 00000000                   DATA FOR SOURCE-LINE 1365
 8356                                     ***** END-POOL *****
 8357 0000093C                   1368     RDY_SFTY_MASK2CHK055:
 8358                            1369     
 8359 0000093C D104              1370             MOV.L   #_DRV_START_KEEP,R1
 8360 0000093E 6011              1371             MOV.W   @R1,R0                          ;
 8361 00000940 C801              1372             TST     #BIT0,R0                        ;
 8362                            1373             TST_BIT_ON RDY_SFTY_MASK2CHK060         ;
 8363 00000942 8B09                   M           BF      RDY_SFTY_MASK2CHK060
 8364                            1374     
 8365                            1375             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8366 00000944 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8367 00000946 400B                   M           JSR     @R0                     ;
 8368 00000948 0009                   M           NOP                                     ;
 8369                            1376             M_BRA   RDY_SFTY_MASK2CHK100            ;
 8370 0000094A A008                   M           BRA     RDY_SFTY_MASK2CHK100
 8371 0000094C 0009                   M           NOP
 8372                                     ***** BEGIN-POOL *****
 8373 0000094E 0000                       ALIGNMENT CODE
 8374 00000950 00000000                   DATA FOR SOURCE-LINE 1370
 8375 00000954 00000000                   DATA FOR SOURCE-LINE 1375
 8376                                     ***** END-POOL *****
 8377 00000958                   1377     RDY_SFTY_MASK2CHK060:
 8378                            1378             FAR_JSR #_SFTY_MASK_END,R0              ;
 8379 00000958 D004                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8380 0000095A 400B                   M           JSR     @R0                     ;
 8381 0000095C 0009                   M           NOP                                     ;
 8382 0000095E                   1379     RDY_SFTY_MASK2CHK100:
 8383                            1380     
 8384                            1381     ;       ================================================================
 8385                            1382     
 8386 0000095E D104              1383             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 8387 00000960 6011              1384             MOV.W   @R1,R0                  ;
 8388 00000962 C820              1385             TST     #_WORDY,R0              ;RDY
 8389                            1386             TST_BIT_OF RDY_CHK_0120         ;準備未完了
 8390 00000964 8906                   M           BT      RDY_CHK_0120
 8391                            1387             M_BRA   RDY_CHK_0200            ;(準備完了ON)
 8392 00000966 A067                   M           BRA     RDY_CHK_0200
 8393 00000968 0009                   M           NOP
 8394                            1388     
 8395                                     ***** BEGIN-POOL *****
 8396 0000096A 0000                       ALIGNMENT CODE
 8397 0000096C 00000000                   DATA FOR SOURCE-LINE 1378
 8398 00000970 00000000                   DATA FOR SOURCE-LINE 1383
 8399                                     ***** END-POOL *****
 8400 00000974                   1389     RDY_CHK_0120:
 8401                            1390     ;       ----------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    43
PROGRAM NAME =

 8402                            1391             _MONI_RDY_SET SETNO=4,SETREG=R0,WKREG=R1        ;2014-09-13
 8403 00000974 9035                   M           MOV.W   #4,R0
 8404 00000976 D11F                   M           MOV.L   #_MONI_RDY_STEP,R1
 8405 00000978 2101                   M           MOV.W   R0,@R1
 8406                            1392     ;       ----------------------------------------------
 8407                            1393     
 8408                            1394     ;       ===================================
 8409                            1395     ;       ===                             ===
 8410                            1396     ;       ===     準備未完了              ===
 8411                            1397     ;       ===                             ===
 8412                            1398     ;       ===================================
 8413                            1399     ;       (本当は両手ﾌﾘ+連続停止OFF+,,,,,)
 8414                            1400     
 8415                            1401     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
 8416                            1402     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
 8417                            1403     
 8418                            1404     
 8419                            1405     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8420                            1406             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8421 0000097A D11F                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8422 0000097C 6011                   M           MOV.W   @R1,R0          ;
 8423 0000097E 9431                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8424 00000980 2049                   M           AND     R4,R0           ;
 8425 00000982 2101                   M           MOV.W   R0,@R1          ;
 8426                            1407     
 8427                            1408     ;       ----- 2006-04-10----
 8428                            1409     ;;;     MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK
 8429                            1410     
 8430                            1411     
 8431                            1412     
 8432                            1413     ;;;;;;;;;[2007-01-16]   MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;
 8433                            1414     ;;;;;;;;;[2007-01-16]   MOV.W   @R1,R0                  ;
 8434                            1415     ;;;;;;;;;[2007-01-16]   TST     R0,R0                   ;
 8435                            1416     ;;;;;;;;;[2007-01-16]   TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8436                            1417     
 8437                            1418     ;2015-09-06 _BRK_SADOU_CHG 遮光解除後の準備完了の遅延をやめる
 8438                            1419     ;2015-09-06;    ------- 2007-01-19(原点復帰のみこの処理を入れる)----------
 8439                            1420     ;2015-09-06     MOV.L   #_MODE_SEL,R1                   ;
 8440                            1421     ;2015-09-06     MOV.W   @R1,R0                          ;
 8441                            1422     ;2015-09-06     TST     #_W1DUP,R0                      ;原点復帰?
 8442                            1423     ;2015-09-06     TST_BIT_OF RDY_CHK_0130                 ;
 8443                            1424     ;2015-09-06
 8444                            1425     ;2015-09-06;    -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
 8445                            1426     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
 8446                            1427     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
 8447                            1428     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
 8448                            1429     ;2015-09-06     TST     R4,R0                           ;
 8449                            1430     ;2015-09-06     TST_BIT_ON RDY_CHK_0130                 ;"MC時=1"
 8450                            1431     ;2015-09-06
 8451                            1432     ;2015-09-06;    -------- 原点復帰[2007年の話]----------
 8452                            1433     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;原点復帰モードのみ準備完了を遅らせる　０
                                          ．８秒くらい
 8453                            1434     ;2015-09-06     MOV.W   @R1,R0                  ;パルス遅らせる方式では、チョン押しと長押
                                          し区別がしずらいから
 8454                            1435     ;2015-09-06     TST     R0,R0                   ;準備完了を遅らせている
 8455                            1436     ;2015-09-06     TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    44
PROGRAM NAME =

 8456                            1437     ;2015-09-06
 8457                            1438     ;2015-09-06RDY_CHK_0130:
 8458                            1439     ;       ----------------------------------------------
 8459                            1440             _MONI_RDY_SET SETNO=5,SETREG=R0,WKREG=R1        ;2014-09-13
 8460 00000984 902F                   M           MOV.W   #5,R0
 8461 00000986 D11B                   M           MOV.L   #_MONI_RDY_STEP,R1
 8462 00000988 2101                   M           MOV.W   R0,@R1
 8463                            1441     ;       ----------------------------------------------
 8464                            1442     
 8465                            1443     
 8466                            1444     ;       ------- 順番入れ替え 2006-07-28 (とりあえず不要な入れ替えでしたが、、)-------
 8467                            1445             FAR_JSR #_RDYON_CONF1,R1        ;
 8468 0000098A D11C                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8469 0000098C 410B                   M           JSR     @R1                     ;
 8470 0000098E 0009                   M           NOP                                     ;
 8471 00000990 2008              1446             TST     R0,R0                   ;
 8472                            1447             TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8473 00000992 8B45                   M           BF      RDY_CHK_0199
 8474                            1448     
 8475                            1449     
 8476                            1450     ;       ----------------------------------------------
 8477                            1451             _MONI_RDY_SET SETNO=20,SETREG=R0,WKREG=R1       ;2014-09-13
 8478 00000994 9028                   M           MOV.W   #20,R0
 8479 00000996 D117                   M           MOV.L   #_MONI_RDY_STEP,R1
 8480 00000998 2101                   M           MOV.W   R0,@R1
 8481                            1452     ;       ----------------------------------------------
 8482                            1453     
 8483                            1454     
 8484                            1455     
 8485 0000099A D119              1456             MOV.L   #_BTTN_FLG,R1           ;
 8486 0000099C 6011              1457             MOV.W   @R1,R0                  ;
 8487 0000099E C801              1458             TST     #BIT0,R0                ;両手ﾌﾘ?
 8488                            1459             TST_BIT_OF RDY_CHK_0199         ;NO
 8489 000009A0 893E                   M           BT      RDY_CHK_0199
 8490                            1460     
 8491                            1461     ;       ----------------------------------------------
 8492                            1462             _MONI_RDY_SET SETNO=21,SETREG=R0,WKREG=R1       ;2014-09-13
 8493 000009A2 9022                   M           MOV.W   #21,R0
 8494 000009A4 D113                   M           MOV.L   #_MONI_RDY_STEP,R1
 8495 000009A6 2101                   M           MOV.W   R0,@R1
 8496                            1463     ;       ----------------------------------------------
 8497                            1464     
 8498                            1465     ;;      ------- 順番入れ替え 2006-07-28-------
 8499                            1466     ;;      MOV.L   #_BTTN_FLG,R1           ;
 8500                            1467     ;;      MOV.W   @R1,R0                  ;
 8501                            1468     ;;      TST     #BIT0,R0                ;両手ﾌﾘ?
 8502                            1469     ;;      TST_BIT_OF RDY_CHK_0199         ;NO
 8503                            1470     ;;
 8504                            1471     ;;      FAR_JSR #_RDYON_CONF1,R1        ;
 8505                            1472     ;;      TST     R0,R0                   ;
 8506                            1473     ;;      TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8507                            1474     ;------- 両手フリ----
 8508                            1475     
 8509 000009A8 D116              1476             MOV.L   #_MODE_SEL,R1           ;
 8510 000009AA 6611              1477             MOV.W   @R1,R6                  ;
 8511 000009AC 921E              1478             MOV.W   #_W1CNT,R2              ;
 8512 000009AE 2628              1479             TST     R2,R6                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    45
PROGRAM NAME =

 8513                            1480             TST_BIT_OF RDY_CHK_0150         ;
 8514 000009B0 8904                   M           BT      RDY_CHK_0150
 8515                            1481     
 8516 000009B2 D315              1482             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 8517 000009B4 6131              1483             MOV.W   @R3,R1                  ;
 8518 000009B6 921A              1484             MOV.W   #_W2SUP,R2              ;
 8519 000009B8 2128              1485             TST     R2,R1                   ;
 8520                            1486             TST_BIT_ON RDY_CHK_0199         ;連続ｾｯﾄｱｯﾌﾟ釦中
 8521 000009BA 8B31                   M           BF      RDY_CHK_0199
 8522                            1487     
 8523 000009BC                   1488     RDY_CHK_0150:
 8524 000009BC 200A              1489             XOR     R0,R0
 8525 000009BE D113              1490             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
 8526 000009C0 2101              1491             MOV.W   R0,@R1                  ;
 8527                            1492     
 8528 000009C2 9215              1493             MOV.W   #_SYS_BSAME_TIM,R2      ;
 8529 000009C4 D112              1494             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 8530 000009C6 2121              1495             MOV.W   R2,@R1                  ;
 8531                            1496     
 8532                            1497             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0  ;
 8533 000009C8 D012                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8534 000009CA 400B                   M           JSR     @R0                     ;
 8535 000009CC 0009                   M           NOP                                     ;
 8536                            1498             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8537 000009CE D012                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8538 000009D0 400B                   M           JSR     @R0                     ;
 8539 000009D2 0009                   M           NOP                                     ;
 8540 000009D4 2008              1499             TST     R0,R0                   ;
 8541                            1500             TST_BIT_OF RDY_CHK_0198         ;WAIT
 8542 000009D6 8902                   M           BT      RDY_CHK_0198
 8543                            1501             FAR_JSR #_RDY_ON,R1             ;準備完了へ遷移
 8544 000009D8 D110                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8545 000009DA 410B                   M           JSR     @R1                     ;
 8546 000009DC 0009                   M           NOP                                     ;
 8547 000009DE                   1502     RDY_CHK_0198:
 8548                            1503             M_BRA   RDY_CHK_EXIT
 8549 000009DE A1EF                   M           BRA     RDY_CHK_EXIT
 8550 000009E0 0009                   M           NOP
 8551                            1504     
 8552                                     ***** BEGIN-POOL *****
 8553 000009E2 0004                       DATA FOR SOURCE-LINE 1391
 8554 000009E4 FFF7                       DATA FOR SOURCE-LINE 1406
 8555 000009E6 0005                       DATA FOR SOURCE-LINE 1440
 8556 000009E8 0014                       DATA FOR SOURCE-LINE 1451
 8557 000009EA 0015                       DATA FOR SOURCE-LINE 1462
 8558 000009EC 0008                       DATA FOR SOURCE-LINE 1478
 8559 000009EE 0080                       DATA FOR SOURCE-LINE 1484
 8560 000009F0 01F4                       DATA FOR SOURCE-LINE 1493
 8561 000009F2 0000                       ALIGNMENT CODE
 8562 000009F4 00000000                   DATA FOR SOURCE-LINE 1391,1440,1451,1462
 8563 000009F8 00000000                   DATA FOR SOURCE-LINE 1406
 8564 000009FC 00000000                   DATA FOR SOURCE-LINE 1445
 8565 00000A00 00000000                   DATA FOR SOURCE-LINE 1456
 8566 00000A04 00000000                   DATA FOR SOURCE-LINE 1476
 8567 00000A08 00000000                   DATA FOR SOURCE-LINE 1482
 8568 00000A0C 00000000                   DATA FOR SOURCE-LINE 1490
 8569 00000A10 00000000                   DATA FOR SOURCE-LINE 1494
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    46
PROGRAM NAME =

 8570 00000A14 00000000                   DATA FOR SOURCE-LINE 1497
 8571 00000A18 00000000                   DATA FOR SOURCE-LINE 1498
 8572 00000A1C 00000000                   DATA FOR SOURCE-LINE 1501
 8573                                     ***** END-POOL *****
 8574 00000A20                   1505     RDY_CHK_0199:
 8575                            1506             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したいをOFF
 8576 00000A20 D003                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8577 00000A22 400B                   M           JSR     @R0                     ;
 8578 00000A24 0009                   M           NOP                                     ;
 8579                            1507             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
 8580 00000A26 D003                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8581 00000A28 400B                   M           JSR     @R0                     ;
 8582 00000A2A 0009                   M           NOP                                     ;
 8583                            1508     
 8584                            1509             M_BRA   RDY_CHK_EXIT
 8585 00000A2C A1C8                   M           BRA     RDY_CHK_EXIT
 8586 00000A2E 0009                   M           NOP
 8587                            1510     
 8588                            1511     ;       ===================================
 8589                            1512     ;       ===     準備完了ON              ===
 8590                            1513     ;       ===     起動または準備未完了    ===
 8591                            1514     ;       ===================================
 8592                                     ***** BEGIN-POOL *****
 8593 00000A30 00000000                   DATA FOR SOURCE-LINE 1506
 8594 00000A34 00000000                   DATA FOR SOURCE-LINE 1507
 8595                                     ***** END-POOL *****
 8596 00000A38                   1515     RDY_CHK_0200:
 8597                            1516              .AIF   1 EQ 1  ;
 8598                            1517 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8599                            1518              .AENDI
 8600                            1519             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-07-22 二重回路対策
 8601 00000A38 D00E                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8602 00000A3A 400B                   M           JSR     @R0                     ;
 8603 00000A3C 0009                   M           NOP                                     ;
 8604                            1520     
 8605                            1521     
 8606                            1522             FAR_JSR #_RDYON_CONF1,R1                ;
 8607 00000A3E D10E                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8608 00000A40 410B                   M           JSR     @R1                     ;
 8609 00000A42 0009                   M           NOP                                     ;
 8610 00000A44 2008              1523             TST     R0,R0                           ;
 8611                            1524             TST_BIT_ON RDY_CHK_0299A                ;準備未完了へ
 8612 00000A46 8B2D                   M           BF      RDY_CHK_0299A
 8613                            1525     
 8614                            1526     
 8615                            1527     ;       ------------------------------------
 8616                            1528             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8617 00000A48 D00C                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8618 00000A4A 400B                   M           JSR     @R0                     ;
 8619 00000A4C 0009                   M           NOP                                     ;
 8620                            1529     ;       ------------------------------------
 8621                            1530     
 8622                            1531             FAR_JSR #_BTTN_START_CHK,R1             ;(0.5秒同時ON,) R0=00(KEEP) 55(起動) FF(準
                                          備未完へ)
 8623 00000A4E D10C                   M           MOV.L   #_BTTN_START_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8624 00000A50 410B                   M           JSR     @R1                     ;
 8625 00000A52 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    47
PROGRAM NAME =

 8626 00000A54 2008              1532             TST     R0,R0                           ;
 8627                            1533             TST_BIT_OF RDY_CHK_0290A                ;変化なし 2002-10-08 相手側ﾁｪｯｸ
 8628 00000A56 8923                   M           BT      RDY_CHK_0290A
 8629 00000A58 8855              1534             CMP/EQ  #H'55,R0                        ;
 8630 00000A5A 8B23              1535             BF      RDY_CHK_0299A                   ;失敗 -1
 8631                            1536     
 8632                            1537     ;       ---------------------------
 8633                            1538     ;       ---                     ---
 8634                            1539     ;       ---     起動が入った    ---
 8635                            1540     ;       ---     2007-01-16      ---
 8636                            1541     ;       ---                     ---
 8637                            1542     ;       ---------------------------
 8638                            1543             FAR_JSR #_DRV_START_KEP_WAIT,R0         ;
 8639 00000A5C D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8640 00000A5E 400B                   M           JSR     @R0                     ;
 8641 00000A60 0009                   M           NOP                                     ;
 8642 00000A62 2008              1544             TST     R0,R0                           ;
 8643                            1545             TST_BIT_OF RDY_CHK_0280                 ;(原点復帰または解除中ではない)
 8644 00000A64 8912                   M           BT      RDY_CHK_0280
 8645 00000A66 8855              1546             CMP/EQ  #H'55,R0                        ;
 8646 00000A68 8B1A              1547             BF      RDY_CHK_0290A                   ;
 8647                            1548     
 8648                            1549     ;       ------- 起動時の原点復帰時の演算(ﾚﾍﾞﾙﾀｲﾌﾟのみ使用可能)------
 8649                            1550             FAR_JSR #_ORGIN_MODE_SEL_START,R0       ;
 8650 00000A6A D007                   M           MOV.L   #_ORGIN_MODE_SEL_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8651 00000A6C 400B                   M           JSR     @R0                     ;
 8652 00000A6E 0009                   M           NOP                                     ;
 8653                            1551     
 8654                            1552             M_BRA   RDY_CHK_0220                    ;起動
 8655 00000A70 A01A                   M           BRA     RDY_CHK_0220
 8656 00000A72 0009                   M           NOP
 8657                            1553     
 8658                            1554     
 8659                                     ***** BEGIN-POOL *****
 8660 00000A74 00000000                   DATA FOR SOURCE-LINE 1519
 8661 00000A78 00000000                   DATA FOR SOURCE-LINE 1522
 8662 00000A7C 00000000                   DATA FOR SOURCE-LINE 1528
 8663 00000A80 00000000                   DATA FOR SOURCE-LINE 1531
 8664 00000A84 00000000                   DATA FOR SOURCE-LINE 1543
 8665 00000A88 00000000                   DATA FOR SOURCE-LINE 1550
 8666                                     ***** END-POOL *****
 8667 00000A8C                   1555     RDY_CHK_0280
 8668                            1556     
 8669                            1557     ;       ===================================
 8670                            1558     ;       ===                             ===
 8671                            1559     ;       ===     2006-07-28              ===
 8672                            1560     ;       ===     原点起動                ===
 8673                            1561     ;       ===                             ===
 8674                            1562     ;       ===================================
 8675                            1563     ;       ここには手動パルサ以外こない
 8676                            1564             FAR_JSR #_ORGIN_MODE_SEL_WAIT,R0        ;
 8677 00000A8C D003                   M           MOV.L   #_ORGIN_MODE_SEL_WAIT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8678 00000A8E 400B                   M           JSR     @R0                     ;
 8679 00000A90 0009                   M           NOP                                     ;
 8680 00000A92 2008              1565             TST     R0,R0                           ;
 8681                            1566             TST_BIT_OF RDY_CHK_0220                 ;起動
 8682 00000A94 8908                   M           BT      RDY_CHK_0220
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    48
PROGRAM NAME =

 8683                            1567             M_BRA   RDY_CHK_0399                    ;
 8684 00000A96 A0AF                   M           BRA     RDY_CHK_0399
 8685 00000A98 0009                   M           NOP
 8686                            1568     
 8687                            1569     
 8688                                     ***** BEGIN-POOL *****
 8689 00000A9A 0000                       ALIGNMENT CODE
 8690 00000A9C 00000000                   DATA FOR SOURCE-LINE 1564
 8691                                     ***** END-POOL *****
 8692 00000AA0                   1570     RDY_CHK_0290A:
 8693                            1571             M_BRA   RDY_CHK_0290                    ;
 8694 00000AA0 A094                   M           BRA     RDY_CHK_0290
 8695 00000AA2 0009                   M           NOP
 8696                            1572     
 8697 00000AA4                   1573     RDY_CHK_0299A:
 8698                            1574             M_BRA   RDY_CHK_0299                    ;失敗 -1
 8699 00000AA4 A09C                   M           BRA     RDY_CHK_0299
 8700 00000AA6 0009                   M           NOP
 8701                            1575     
 8702                            1576     
 8703 00000AA8                   1577     RDY_CHK_0220:
 8704                            1578     
 8705                            1579     ;       ===================================
 8706                            1580     ;       ===     擬似起動処理            ===
 8707                            1581     ;       ===================================
 8708                            1582             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
 8709 00000AA8 D007                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8710 00000AAA 400B                   M           JSR     @R0                     ;
 8711 00000AAC 0009                   M           NOP                                     ;
 8712                            1583     
 8713                            1584             FAR_JSR #_CPU_AB_STR_ON_OUT,R0          ;
 8714 00000AAE D007                   M           MOV.L   #_CPU_AB_STR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8715 00000AB0 400B                   M           JSR     @R0                     ;
 8716 00000AB2 0009                   M           NOP                                     ;
 8717 00000AB4 9006              1585             MOV.W   #BIT0,R0                        ;
 8718 00000AB6 D106              1586             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 8719 00000AB8 2101              1587             MOV.W   R0,@R1                          ;
 8720                            1588     
 8721                            1589     ;       ==== 2003-07-01 ====
 8722                            1590             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;
 8723 00000ABA D006                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8724 00000ABC 400B                   M           JSR     @R0                     ;
 8725 00000ABE 0009                   M           NOP                                     ;
 8726                            1591             M_BRA   RDY_CHK_0399                    ;準備完了はONのままとする
 8727 00000AC0 A09A                   M           BRA     RDY_CHK_0399
 8728 00000AC2 0009                   M           NOP
 8729                            1592     
 8730                                     ***** BEGIN-POOL *****
 8731 00000AC4 0001                       DATA FOR SOURCE-LINE 1585
 8732 00000AC6 0000                       ALIGNMENT CODE
 8733 00000AC8 00000000                   DATA FOR SOURCE-LINE 1582
 8734 00000ACC 00000000                   DATA FOR SOURCE-LINE 1584
 8735 00000AD0 00000000                   DATA FOR SOURCE-LINE 1586
 8736 00000AD4 00000000                   DATA FOR SOURCE-LINE 1590
 8737                                     ***** END-POOL *****
 8738 00000AD8                   1593     RDY_CHK_0200_START_WAIT:
 8739                            1594     ;       ---- 2015-03-15-------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    49
PROGRAM NAME =

 8740                            1595             .AIF    1 EQ    0       ;
 8741                            1596             .AELSE
 8742                            1597 C           FAR_JSR #_ELSE_CPU_START_POS_PRESET,R0  ;
 8743 00000AD8 D009                   M           MOV.L   #_ELSE_CPU_START_POS_PRESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8744 00000ADA 400B                   M           JSR     @R0                     ;
 8745 00000ADC 0009                   M           NOP                                     ;
 8746                            1598             .AENDI
 8747                            1599     
 8748                            1600             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 8749 00000ADE D009                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8750 00000AE0 400B                   M           JSR     @R0                     ;
 8751 00000AE2 0009                   M           NOP                                     ;
 8752 00000AE4 2008              1601             TST     R0,R0                           ;
 8753                            1602             TST_BIT_ON RDY_CHK_0200_START           ;相手も起動したいぞ(これを最初にﾁｪｯｸする事
                                          )
 8754 00000AE6 8B15                   M           BF      RDY_CHK_0200_START
 8755                            1603     
 8756                            1604     
 8757                            1605     ;       -------HOLDからの起動(運転釦無し、自動起動)　2014-09-01--------------
 8758 00000AE8 D107              1606             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8759 00000AEA 6011              1607             MOV.W   @R1,R0                          ;
 8760 00000AEC 2008              1608             TST     R0,R0                           ;
 8761                            1609             TST_BIT_ON RDY_CHK_0200_START_WT2       ;
 8762 00000AEE 8B0F                   M           BF      RDY_CHK_0200_START_WT2
 8763                            1610     ;       ------------------------------------------------
 8764                            1611     
 8765                            1612     
 8766                            1613             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
 8767 00000AF0 D006                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8768 00000AF2 400B                   M           JSR     @R0                     ;
 8769 00000AF4 0009                   M           NOP                                     ;
 8770                            1614     
 8771 00000AF6 2008              1615             TST     R0,R0                           ;
 8772                            1616             TST_BIT_ON RDY_CHK_0200_START_WT2       ;(準備完了ONならいつまでもまつ)
 8773 00000AF8 8B0A                   M           BF      RDY_CHK_0200_START_WT2
 8774                            1617             M_BRA   RDY_CHK_0299                    ;失敗:起動をあきらめる
 8775 00000AFA A071                   M           BRA     RDY_CHK_0299
 8776 00000AFC 0009                   M           NOP
 8777                            1618     
 8778                                     ***** BEGIN-POOL *****
 8779 00000AFE 0000                       ALIGNMENT CODE
 8780 00000B00 00000000                   DATA FOR SOURCE-LINE 1597
 8781 00000B04 00000000                   DATA FOR SOURCE-LINE 1600
 8782 00000B08 00000000                   DATA FOR SOURCE-LINE 1606
 8783 00000B0C 00000000                   DATA FOR SOURCE-LINE 1613
 8784                                     ***** END-POOL *****
 8785 00000B10                   1619     RDY_CHK_0200_START_WT2:
 8786                            1620             M_BRA   RDY_CHK_0399
 8787 00000B10 A072                   M           BRA     RDY_CHK_0399
 8788 00000B12 0009                   M           NOP
 8789                            1621     
 8790 00000B14                   1622     RDY_CHK_0200_START:
 8791                            1623     
 8792                            1624     ;       ===================================
 8793                            1625     ;       ===     起動処理                ===
 8794                            1626     ;       ===================================
 8795                            1627     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    50
PROGRAM NAME =

 8796                            1628     ;;;;;   FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8797                            1629     
 8798                            1630     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8799                            1631             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;2005-01-17
 8800 00000B14 D01C                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8801 00000B16 400B                   M           JSR     @R0                     ;
 8802 00000B18 0009                   M           NOP                                     ;
 8803                            1632     
 8804                            1633             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8805 00000B1A D11C                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8806 00000B1C 6011                   M           MOV.W   @R1,R0          ;
 8807 00000B1E 9430                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8808 00000B20 2049                   M           AND     R4,R0           ;
 8809 00000B22 2101                   M           MOV.W   R0,@R1          ;
 8810                            1634     
 8811                            1635             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
 8812 00000B24 D01A                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8813 00000B26 400B                   M           JSR     @R0                     ;
 8814 00000B28 0009                   M           NOP                                     ;
 8815                            1636             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
 8816 00000B2A D01A                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8817 00000B2C 400B                   M           JSR     @R0                     ;
 8818 00000B2E 0009                   M           NOP                                     ;
 8819                            1637             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
 8820 00000B30 D019                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8821 00000B32 400B                   M           JSR     @R0                     ;
 8822 00000B34 0009                   M           NOP                                     ;
 8823                            1638     
 8824                            1639     ;       ==== 2004-01-28 ==
 8825 00000B36 200A              1640             XOR     R0,R0
 8826 00000B38 D118              1641             MOV.L   #_ENC360_OVER_FLG,R1            ;
 8827 00000B3A 2101              1642             MOV.W   R0,@R1                          ;
 8828                            1643     
 8829                            1644             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
 8830 00000B3C D018                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8831 00000B3E 400B                   M           JSR     @R0                     ;
 8832 00000B40 0009                   M           NOP                                     ;
 8833                            1645     
 8834                            1646             FAR_JSR #_CB_CTL_START_INI,R0
 8835 00000B42 D018                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8836 00000B44 400B                   M           JSR     @R0                     ;
 8837 00000B46 0009                   M           NOP                                     ;
 8838                            1647             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
 8839 00000B48 D017                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8840 00000B4A 400B                   M           JSR     @R0                     ;
 8841 00000B4C 0009                   M           NOP                                     ;
 8842                            1648     
 8843                            1649     
 8844                            1650             FAR_JSR #_MN_POS_CTRL_START,R0                                                  ;
 8845 00000B4E D017                   M           MOV.L   #_MN_POS_CTRL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8846 00000B50 400B                   M           JSR     @R0                     ;
 8847 00000B52 0009                   M           NOP                                     ;
 8848                            1651     
 8849                            1652     
 8850                            1653     
 8851                            1654     ;       --------------------2014-09-19-----------------------
 8852                            1655             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    51
PROGRAM NAME =

 8853 00000B54 D016                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8854 00000B56 400B                   M           JSR     @R0                     ;
 8855 00000B58 0009                   M           NOP                                     ;
 8856                            1656     
 8857                            1657     ;       --------------------2014-09-12-----------------------
 8858                            1658     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
 8859                            1659     ;;;;;;;;;;;     MOV.W   @R1,R0                  ;
 8860                            1660     ;;;;;;;;;;;     PUSH_REG1 R0
 8861                            1661     ;;;;;;;;;;;
 8862                            1662     ;;;;;;;;;;;     FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12[位置計算後にCLR]
 8863                            1663     ;;;;;;;;;;;
 8864                            1664     ;;;;;;;;;;;     POP_REG1 R0
 8865                            1665     ;;;;;;;;;;;     TST     R0,R0                           ;
 8866                            1666     ;;;;;;;;;;;     TST_BIT_OF RDY_POSHLD_CHK050            ;再起動
 8867                            1667     ;;;;;;;;;;;
 8868                            1668     ;;;;;;;;;;;     MOV.B   #BIT0,R0                        ;
 8869                            1669     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
 8870                            1670     ;;;;;;;;;;;     MOV.W   R0,@R1                          ;
 8871                            1671     ;;;;;;;;;;;
 8872                            1672     ;;;;;;;;;;;RDY_POSHLD_CHK050
 8873                            1673     ;       --------------------------------------
 8874                            1674     
 8875                            1675             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
 8876 00000B5A D116                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
 8877 00000B5C 9212                   M           MOV.W   #BIT0,R2                ;
 8878 00000B5E 2121                   M           MOV.W   R2,@R1  ;
 8879                            1676             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
 8880 00000B60 D015                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8881 00000B62 400B                   M           JSR     @R0                     ;
 8882 00000B64 0009                   M           NOP                                     ;
 8883                            1677     
 8884                            1678             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8885 00000B66 D015                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8886 00000B68 400B                   M           JSR     @R0                     ;
 8887 00000B6A 0009                   M           NOP                                     ;
 8888                            1679             FAR_JSR #_RDY_OF,R1                     ;
 8889 00000B6C D114                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8890 00000B6E 410B                   M           JSR     @R1                     ;
 8891 00000B70 0009                   M           NOP                                     ;
 8892                            1680     
 8893                            1681              .AIF   1 EQ 1  ;
 8894                            1682 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8895                            1683              .AENDI
 8896                            1684             FAR_JSR #_SELFCHK_LOCK_SET,R0           ;2016-04-16
 8897 00000B72 D014                   M           MOV.L   #_SELFCHK_LOCK_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8898 00000B74 400B                   M           JSR     @R0                     ;
 8899 00000B76 0009                   M           NOP                                     ;
 8900                            1685     
 8901                            1686     
 8902                            1687     ;       ====== 2007-01-16========
 8903                            1688             FAR_JSR #_START_SFTY_LOCK_CLR,R0
 8904 00000B78 D013                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8905 00000B7A 400B                   M           JSR     @R0                     ;
 8906 00000B7C 0009                   M           NOP                                     ;
 8907                            1689     
 8908                            1690     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    52
PROGRAM NAME =

 8909                            1691     
 8910                            1692     
 8911                            1693     
 8912                            1694     ;;;     XOR     R0,R0                           ;
 8913                            1695     ;;;     MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したいは終わり側にも使用する
 8914                            1696     ;;;     MOV.W   R0,@R1                          ;
 8915                            1697     ;;;     FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 8916                            1698             M_BRA   RDY_CHK_0399                    ;
 8917 00000B7E A03B                   M           BRA     RDY_CHK_0399
 8918 00000B80 0009                   M           NOP
 8919                            1699     
 8920                            1700     ;       ====== 保持状態=======
 8921                                     ***** BEGIN-POOL *****
 8922 00000B82 FFF7                       DATA FOR SOURCE-LINE 1633
 8923 00000B84 0001                       DATA FOR SOURCE-LINE 1675
 8924 00000B86 0000                       ALIGNMENT CODE
 8925 00000B88 00000000                   DATA FOR SOURCE-LINE 1631
 8926 00000B8C 00000000                   DATA FOR SOURCE-LINE 1633
 8927 00000B90 00000000                   DATA FOR SOURCE-LINE 1635
 8928 00000B94 00000000                   DATA FOR SOURCE-LINE 1636
 8929 00000B98 00000000                   DATA FOR SOURCE-LINE 1637
 8930 00000B9C 00000000                   DATA FOR SOURCE-LINE 1641
 8931 00000BA0 00000000                   DATA FOR SOURCE-LINE 1644
 8932 00000BA4 00000000                   DATA FOR SOURCE-LINE 1646
 8933 00000BA8 00000000                   DATA FOR SOURCE-LINE 1647
 8934 00000BAC 00000000                   DATA FOR SOURCE-LINE 1650
 8935 00000BB0 00000000                   DATA FOR SOURCE-LINE 1655
 8936 00000BB4 00000000                   DATA FOR SOURCE-LINE 1675
 8937 00000BB8 00000000                   DATA FOR SOURCE-LINE 1676
 8938 00000BBC 00000000                   DATA FOR SOURCE-LINE 1678
 8939 00000BC0 00000000                   DATA FOR SOURCE-LINE 1679
 8940 00000BC4 00000000                   DATA FOR SOURCE-LINE 1684
 8941 00000BC8 00000000                   DATA FOR SOURCE-LINE 1688
 8942                                     ***** END-POOL *****
 8943 00000BCC                   1701     RDY_CHK_0290:                           ;((((()))))
 8944                            1702             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8945 00000BCC D003                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8946 00000BCE 400B                   M           JSR     @R0                     ;
 8947 00000BD0 0009                   M           NOP                                     ;
 8948 00000BD2 2008              1703             TST     R0,R0                   ;
 8949                            1704             TST_BIT_OF RDY_CHK_0299         ;相手側CPUのせいで準備未完了へ
 8950 00000BD4 8904                   M           BT      RDY_CHK_0299
 8951                            1705             M_BRA   RDY_CHK_0399            ;
 8952 00000BD6 A00F                   M           BRA     RDY_CHK_0399
 8953 00000BD8 0009                   M           NOP
 8954                            1706     
 8955                            1707     ;       ======= 準備完了失敗====
 8956                                     ***** BEGIN-POOL *****
 8957 00000BDA 0000                       ALIGNMENT CODE
 8958 00000BDC 00000000                   DATA FOR SOURCE-LINE 1702
 8959                                     ***** END-POOL *****
 8960 00000BE0                   1708     RDY_CHK_0299:
 8961                            1709             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
 8962 00000BE0 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8963 00000BE2 400B                   M           JSR     @R0                     ;
 8964 00000BE4 0009                   M           NOP                                     ;
 8965                            1710             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    53
PROGRAM NAME =

 8966 00000BE6 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8967 00000BE8 400B                   M           JSR     @R0                     ;
 8968 00000BEA 0009                   M           NOP                                     ;
 8969                            1711             FAR_JSR #_RDY_OF,R0                     ;準備未完了へ遷移
 8970 00000BEC D005                   M           MOV.L   #_RDY_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8971 00000BEE 400B                   M           JSR     @R0                     ;
 8972 00000BF0 0009                   M           NOP                                     ;
 8973                            1712     ;;;     FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 8974                            1713     
 8975                            1714     ;       ------- 2007-01-16----------
 8976 00000BF2 200A              1715             XOR     R0,R0
 8977 00000BF4 D104              1716             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 8978 00000BF6 2101              1717             MOV.W   R0,@R1                          ;
 8979                            1718     
 8980 00000BF8                   1719     RDY_CHK_0399:
 8981                            1720             M_BRA   RDY_CHK_EXIT
 8982 00000BF8 A0E2                   M           BRA     RDY_CHK_EXIT
 8983 00000BFA 0009                   M           NOP
 8984                            1721     
 8985                            1722     
 8986                            1723     
 8987                            1724     ;       ===================================
 8988                            1725     ;       ===     ﾊﾞﾙﾌﾞON(位置決め中)     ===
 8989                            1726     ;       ===================================
 8990                            1727     ;       >> ﾛｯﾄｶｳﾝﾀ処理 <<
 8991                                     ***** BEGIN-POOL *****
 8992 00000BFC 00000000                   DATA FOR SOURCE-LINE 1709
 8993 00000C00 00000000                   DATA FOR SOURCE-LINE 1710
 8994 00000C04 00000000                   DATA FOR SOURCE-LINE 1711
 8995 00000C08 00000000                   DATA FOR SOURCE-LINE 1716
 8996                                     ***** END-POOL *****
 8997 00000C0C                   1728     RDY_CHK_0500:
 8998                            1729     
 8999                            1730     ;;;2007-12-24   FAR_JSR #_LOT_CNT_CNT,R0        ;
 9000                            1731     
 9001                            1732     
 9002                            1733             FAR_JSR #_STEP_SIG_DISP,R0      ;
 9003 00000C0C D006                   M           MOV.L   #_STEP_SIG_DISP,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9004 00000C0E 400B                   M           JSR     @R0                     ;
 9005 00000C10 0009                   M           NOP                                     ;
 9006                            1734     ;       ==== 2003-07-09 ====
 9007                            1735             FAR_JSR #_CNT_SPM_DISP_CHK,R0
 9008 00000C12 D006                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9009 00000C14 400B                   M           JSR     @R0                     ;
 9010 00000C16 0009                   M           NOP                                     ;
 9011                            1736     ;       ====================
 9012                            1737     
 9013                            1738     ;       ---------------------------------------------------------
 9014                            1739     ;       --------------------[一旦停止処理]-------------------
 9015                            1740     ;       ---------------------------------------------------------
 9016                            1741             FAR_JSR #_POSHLD1_STEP1_STOPCMD_CHK,R0                  ;
 9017 00000C18 D005                   M           MOV.L   #_POSHLD1_STEP1_STOPCMD_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9018 00000C1A 400B                   M           JSR     @R0                     ;
 9019 00000C1C 0009                   M           NOP                                     ;
 9020 00000C1E 2008              1742             TST     R0,R0                                           ;
 9021                            1743             TST_BIT_OF RDY_CHK_0505                                 ;
 9022 00000C20 8908                   M           BT      RDY_CHK_0505
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    54
PROGRAM NAME =

 9023                            1744             M_BRA   RDY_CHK_1000                                    ;
 9024 00000C22 A07E                   M           BRA     RDY_CHK_1000
 9025 00000C24 0009                   M           NOP
 9026                                     ***** BEGIN-POOL *****
 9027 00000C26 0000                       ALIGNMENT CODE
 9028 00000C28 00000000                   DATA FOR SOURCE-LINE 1733
 9029 00000C2C 00000000                   DATA FOR SOURCE-LINE 1735
 9030 00000C30 00000000                   DATA FOR SOURCE-LINE 1741
 9031                                     ***** END-POOL *****
 9032 00000C34                   1745     RDY_CHK_0505:
 9033                            1746     
 9034                            1747     
 9035                            1748     
 9036                            1749     ;       --------- 2006-07-28---------------------
 9037                            1750     ;       位置決めキャンセル機能１
 9038                            1751             FAR_JSR #_POS_CANSEL_STOP_CHK,R0        ;
 9039 00000C34 D003                   M           MOV.L   #_POS_CANSEL_STOP_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9040 00000C36 400B                   M           JSR     @R0                     ;
 9041 00000C38 0009                   M           NOP                                     ;
 9042 00000C3A 2008              1752             TST     R0,R0                           ;
 9043                            1753             TST_BIT_OF RDY_CHK_0510                 ;
 9044 00000C3C 8904                   M           BT      RDY_CHK_0510
 9045                            1754             M_BRA   RDY_CHK_1000                    ;
 9046 00000C3E A070                   M           BRA     RDY_CHK_1000
 9047 00000C40 0009                   M           NOP
 9048                                     ***** BEGIN-POOL *****
 9049 00000C42 0000                       ALIGNMENT CODE
 9050 00000C44 00000000                   DATA FOR SOURCE-LINE 1751
 9051                                     ***** END-POOL *****
 9052 00000C48                   1755     RDY_CHK_0510:
 9053                            1756     ;       ----------------------------------------------
 9054                            1757     ;       ===== 各々のモード処理======
 9055 00000C48 D102              1758             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
 9056 00000C4A 6011              1759             MOV.W   @R1,R0                  ;
 9057 00000C4C 2008              1760             TST     R0,R0                   ;
 9058                            1761             TST_BIT_ON RDY_CHK_0520         ;BIT0
 9059 00000C4E 8B03                   M           BF      RDY_CHK_0520
 9060                            1762             M_BRA   RDY_CHK_1000            ;
 9061 00000C50 A067                   M           BRA     RDY_CHK_1000
 9062 00000C52 0009                   M           NOP
 9063                            1763     
 9064                                     ***** BEGIN-POOL *****
 9065 00000C54 00000000                   DATA FOR SOURCE-LINE 1758
 9066                                     ***** END-POOL *****
 9067 00000C58                   1764     RDY_CHK_0520:
 9068                            1765     
 9069                            1766     ;       ------ 2007-03-02[CMP]------------------------
 9070 00000C58 D102              1767             MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 9071 00000C5A 6011              1768             MOV.W   @R1,R0                          ;
 9072 00000C5C C802              1769             TST     #BIT1,R0                        ;
 9073                            1770             TST_BIT_OF RDY_CHK_0525                 ;
 9074 00000C5E 8903                   M           BT      RDY_CHK_0525
 9075                            1771             M_BRA   RDY_CHK_1000                    ;
 9076 00000C60 A05F                   M           BRA     RDY_CHK_1000
 9077 00000C62 0009                   M           NOP
 9078                                     ***** BEGIN-POOL *****
 9079 00000C64 00000000                   DATA FOR SOURCE-LINE 1767
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    55
PROGRAM NAME =

 9080                                     ***** END-POOL *****
 9081 00000C68                   1772     RDY_CHK_0525:
 9082                            1773     ;       ----------------------------------------
 9083                            1774     
 9084                            1775     
 9085                            1776     ;       -------- 2007-02-05 ----------
 9086                            1777     ;2015-09-06_BRK_SADOU_CHG EQ 1
 9087                            1778     ;;;廃止 FAR_JSR #_SFTY_DLY_SET2,R0      ;全モードで停止後の遮光ブレーキ遅延時間
 9088                            1779     
 9089 00000C68 D106              1780             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 9090 00000C6A 6011              1781             MOV.W   @R1,R0                  ;
 9091 00000C6C C808              1782             TST     #_W1CNT,R0              ;
 9092                            1783             TST_BIT_OF RDY_CHK_0600         ;
 9093 00000C6E 8915                   M           BT      RDY_CHK_0600
 9094                            1784     
 9095 00000C70 9106              1785             MOV.W   #(BIT12+BIT11),R1       ;
 9096 00000C72 2018              1786             TST     R1,R0
 9097                            1787             TST_BIT_OF RDY_CHK_0530         ;
 9098 00000C74 890A                   M           BT      RDY_CHK_0530
 9099                            1788     
 9100                            1789             FAR_JSR #_MODE_CSS_STOP_CHK,R0  ;連続一行程・連続寸動一行程
 9101 00000C76 D004                   M           MOV.L   #_MODE_CSS_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9102 00000C78 400B                   M           JSR     @R0                     ;
 9103 00000C7A 0009                   M           NOP                                     ;
 9104                            1790             M_BRA   RDY_CHK_1000
 9105 00000C7C A051                   M           BRA     RDY_CHK_1000
 9106 00000C7E 0009                   M           NOP
 9107                            1791     
 9108                                     ***** BEGIN-POOL *****
 9109 00000C80 1800                       DATA FOR SOURCE-LINE 1785
 9110 00000C82 0000                       ALIGNMENT CODE
 9111 00000C84 00000000                   DATA FOR SOURCE-LINE 1780
 9112 00000C88 00000000                   DATA FOR SOURCE-LINE 1789
 9113                                     ***** END-POOL *****
 9114 00000C8C                   1792     RDY_CHK_0530:
 9115                            1793             FAR_JSR #_MODE_CNT_STOP_CHK,R0  ;
 9116 00000C8C D002                   M           MOV.L   #_MODE_CNT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9117 00000C8E 400B                   M           JSR     @R0                     ;
 9118 00000C90 0009                   M           NOP                                     ;
 9119                            1794             M_BRA   RDY_CHK_1000
 9120 00000C92 A046                   M           BRA     RDY_CHK_1000
 9121 00000C94 0009                   M           NOP
 9122                                     ***** BEGIN-POOL *****
 9123 00000C96 0000                       ALIGNMENT CODE
 9124 00000C98 00000000                   DATA FOR SOURCE-LINE 1793
 9125                                     ***** END-POOL *****
 9126 00000C9C                   1795     RDY_CHK_0600:
 9127                            1796     
 9128 00000C9C C802              1797             TST     #_W1INC,R0              ;
 9129                            1798             TST_BIT_OF RDY_CHK_0650         ;
 9130 00000C9E 8907                   M           BT      RDY_CHK_0650
 9131                            1799             FAR_JSR #_MODE_INC_STOP_CHK,R0  ;
 9132 00000CA0 D002                   M           MOV.L   #_MODE_INC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9133 00000CA2 400B                   M           JSR     @R0                     ;
 9134 00000CA4 0009                   M           NOP                                     ;
 9135                            1800             M_BRA   RDY_CHK_1000
 9136 00000CA6 A03C                   M           BRA     RDY_CHK_1000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    56
PROGRAM NAME =

 9137 00000CA8 0009                   M           NOP
 9138                            1801     
 9139                                     ***** BEGIN-POOL *****
 9140 00000CAA 0000                       ALIGNMENT CODE
 9141 00000CAC 00000000                   DATA FOR SOURCE-LINE 1799
 9142                                     ***** END-POOL *****
 9143 00000CB0                   1802     RDY_CHK_0650:
 9144                            1803     
 9145 00000CB0 C804              1804             TST     #_W1SGL,R0              ;
 9146                            1805             TST_BIT_OF RDY_CHK_0700         ;
 9147 00000CB2 891B                   M           BT      RDY_CHK_0700
 9148                            1806     ;       === 回転時は一度                [作業一行程,一行程,外部安全一]
 9149                            1807             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9150 00000CB4 D008                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9151 00000CB6 400B                   M           JSR     @R0                     ;
 9152 00000CB8 0009                   M           NOP                                     ;
 9153                            1808                                             ;上昇ホールドするかしないか
 9154                            1809     
 9155                            1810             FAR_JSR #_UP_HOLD_AREA_MASK,R0  ;安全一行程中のマスクするかしないかの条件
 9156 00000CBA D008                   M           MOV.L   #_UP_HOLD_AREA_MASK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9157 00000CBC 400B                   M           JSR     @R0                     ;
 9158 00000CBE 0009                   M           NOP                                     ;
 9159                            1811     
 9160                            1812     
 9161                            1813             FAR_JSR #_MODE_SGL_STOP_CHK,R0  ;AUTO SIGNAL MAKE　AUTOのための処理
 9162 00000CC0 D007                   M           MOV.L   #_MODE_SGL_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9163 00000CC2 400B                   M           JSR     @R0                     ;
 9164 00000CC4 0009                   M           NOP                                     ;
 9165                            1814     
 9166 00000CC6 D107              1815             MOV.L   #_UP_HOLD_FLG,R1        ;
 9167 00000CC8 6011              1816             MOV.W   @R1,R0                  ;
 9168 00000CCA C802              1817             TST     #BIT1,R0                ;上昇無効
 9169                            1818             TST_BIT_OF SGL_UP_HOLD_MASK050  ;
 9170 00000CCC 8902                   M           BT      SGL_UP_HOLD_MASK050
 9171                            1819     
 9172                            1820             FAR_JSR #_SFTY_MASK_START,R0    ;[[[[]]]]
 9173 00000CCE D006                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9174 00000CD0 400B                   M           JSR     @R0                     ;
 9175 00000CD2 0009                   M           NOP                                     ;
 9176                            1821     
 9177                            1822     
 9178                            1823     ;       -------- 2007-02-05 ----------
 9179                            1824     ;2015-09-06_BRK_SADOU_CHG EQ 1
 9180                            1825     ;;;廃止 FAR_JSR #_SFTY_DLY_SET1,R0      ;
 9181                            1826     
 9182                            1827     ;;;;;   -------- 2006-11-21-------------
 9183                            1828     ;;;;;   MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
 9184                            1829     ;;;;;   MOV.W   @R1,R0                  ;
 9185                            1830     ;;;;;   -------- 2007-01-16-----
 9186                            1831     ;;;;;   MOV.L   #_PAR_SLOCK_DLY2,R1     ;
 9187                            1832     ;;;;;   MOV.W   @R1,R1                  ;
 9188                            1833     ;;;;;   ADD     R1,R0                   ;
 9189                            1834     ;;;;;   MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
 9190                            1835     ;;;;;   MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
 9191                            1836     ;;;;;;  ---------------------------------
 9192                            1837     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    57
PROGRAM NAME =

 9193                            1838     
 9194 00000CD4                   1839     SGL_UP_HOLD_MASK050:
 9195                            1840             M_BRA   RDY_CHK_1000            ;
 9196 00000CD4 A025                   M           BRA     RDY_CHK_1000
 9197 00000CD6 0009                   M           NOP
 9198                            1841     
 9199                                     ***** BEGIN-POOL *****
 9200 00000CD8 00000000                   DATA FOR SOURCE-LINE 1807
 9201 00000CDC 00000000                   DATA FOR SOURCE-LINE 1810
 9202 00000CE0 00000000                   DATA FOR SOURCE-LINE 1813
 9203 00000CE4 00000000                   DATA FOR SOURCE-LINE 1815
 9204 00000CE8 00000000                   DATA FOR SOURCE-LINE 1820
 9205                                     ***** END-POOL *****
 9206 00000CEC                   1842     RDY_CHK_0700:
 9207                            1843     
 9208 00000CEC C810              1844             TST     #_W1OPT,R0              ;
 9209                            1845             TST_BIT_OF RDY_CHK_0750         ;
 9210 00000CEE 890B                   M           BT      RDY_CHK_0750
 9211                            1846             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9212 00000CF0 D003                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9213 00000CF2 400B                   M           JSR     @R0                     ;
 9214 00000CF4 0009                   M           NOP                                     ;
 9215                            1847             FAR_JSR #_MODE_OPT_STOP_CHK,R0  ;OPTION=安全一工程(分けるか?)
 9216 00000CF6 D003                   M           MOV.L   #_MODE_OPT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9217 00000CF8 400B                   M           JSR     @R0                     ;
 9218 00000CFA 0009                   M           NOP                                     ;
 9219                            1848             M_BRA   RDY_CHK_1000            ;
 9220 00000CFC A011                   M           BRA     RDY_CHK_1000
 9221 00000CFE 0009                   M           NOP
 9222                                     ***** BEGIN-POOL *****
 9223 00000D00 00000000                   DATA FOR SOURCE-LINE 1846
 9224 00000D04 00000000                   DATA FOR SOURCE-LINE 1847
 9225                                     ***** END-POOL *****
 9226 00000D08                   1849     RDY_CHK_0750:
 9227                            1850     
 9228 00000D08 C840              1851             TST     #_W1DUP,R0                      ;
 9229                            1852             TST_BIT_OF RDY_CHK_0950                 ;
 9230 00000D0A 8907                   M           BT      RDY_CHK_0950
 9231                            1853             FAR_JSR #_MODE_DUP_STOP_CHK,R0          ;待機点復帰
 9232 00000D0C D002                   M           MOV.L   #_MODE_DUP_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9233 00000D0E 400B                   M           JSR     @R0                     ;
 9234 00000D10 0009                   M           NOP                                     ;
 9235                            1854             M_BRA   RDY_CHK_1000
 9236 00000D12 A006                   M           BRA     RDY_CHK_1000
 9237 00000D14 0009                   M           NOP
 9238                                     ***** BEGIN-POOL *****
 9239 00000D16 0000                       ALIGNMENT CODE
 9240 00000D18 00000000                   DATA FOR SOURCE-LINE 1853
 9241                                     ***** END-POOL *****
 9242 00000D1C                   1855     RDY_CHK_0950:
 9243                            1856     
 9244                            1857             FAR_JSR #_MODE_DIC_STOP_CHK,R0  ;段取
 9245 00000D1C D008                   M           MOV.L   #_MODE_DIC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9246 00000D1E 400B                   M           JSR     @R0                     ;
 9247 00000D20 0009                   M           NOP                                     ;
 9248                            1858     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    58
PROGRAM NAME =

 9249                            1859     ;       ===================================
 9250                            1860     ;       ===     位置決め部              ===
 9251                            1861     ;       ===================================
 9252 00000D22                   1862     RDY_CHK_1000:
 9253                            1863             FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 9254 00000D22 D108                   M           MOV.L   #_MN_POS_CTRL_ACT,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9255 00000D24 410B                   M           JSR     @R1                     ;
 9256 00000D26 0009                   M           NOP                                     ;
 9257                            1864                                                     ;<寸動等の停止 -->準備未完了へ "FF">
 9258                            1865                                                     ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 9259 00000D28 D107              1866             MOV.L   #_END_CMD_LATCH,R1
 9260 00000D2A 2101              1867             MOV.W   R0,@R1                          ;
 9261 00000D2C 2008              1868             TST     R0,R0                           ;
 9262                            1869             TST_BIT_OF RDY_CHK_EXIT                 ;(継続)
 9263 00000D2E 8947                   M           BT      RDY_CHK_EXIT
 9264                            1870     
 9265 00000D30 200A              1871             XOR     R0,R0                           ;
 9266 00000D32 D106              1872             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 9267 00000D34 2101              1873             MOV.W   R0,@R1                          ;
 9268                            1874             FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 9269 00000D36 D006                   M           MOV.L   #_CPU_BA_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9270 00000D38 400B                   M           JSR     @R0                     ;
 9271 00000D3A 0009                   M           NOP                                     ;
 9272                            1875             M_BRA   RDY_CHK_EXIT                    ;
 9273 00000D3C A040                   M           BRA     RDY_CHK_EXIT
 9274 00000D3E 0009                   M           NOP
 9275                            1876     
 9276                                     ***** BEGIN-POOL *****
 9277 00000D40 00000000                   DATA FOR SOURCE-LINE 1857
 9278 00000D44 00000000                   DATA FOR SOURCE-LINE 1863
 9279 00000D48 00000000                   DATA FOR SOURCE-LINE 1866
 9280 00000D4C 00000000                   DATA FOR SOURCE-LINE 1872
 9281 00000D50 00000000                   DATA FOR SOURCE-LINE 1874
 9282                                     ***** END-POOL *****
 9283 00000D54                   1877     RDY_CHK_1200:
 9284                            1878             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 9285 00000D54 D005                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9286 00000D56 400B                   M           JSR     @R0                     ;
 9287 00000D58 0009                   M           NOP                                     ;
 9288 00000D5A 2008              1879             TST     R0,R0                           ;
 9289                            1880             TST_BIT_ON RDY_CHK_EXIT                 ;起動状態のまま
 9290 00000D5C 8B30                   M           BF      RDY_CHK_EXIT
 9291                            1881     
 9292 00000D5E D104              1882             MOV.L   #_END_CMD_LATCH,R1              ;
 9293 00000D60 6011              1883             MOV.W   @R1,R0                          ;
 9294                            1884     
 9295 00000D62 8855              1885             CMP/EQ  #H'55,R0                        ;
 9296 00000D64 8906              1886             BT      RDY_CHK_CYCL_END                ;ｻｲｸﾙｴﾝﾄﾞ
 9297                            1887             M_BRA   RDY_CHK_END_COM                 ;寸動終了
 9298 00000D66 A014                   M           BRA     RDY_CHK_END_COM
 9299 00000D68 0009                   M           NOP
 9300                            1888     
 9301                                     ***** BEGIN-POOL *****
 9302 00000D6A 0000                       ALIGNMENT CODE
 9303 00000D6C 00000000                   DATA FOR SOURCE-LINE 1878
 9304 00000D70 00000000                   DATA FOR SOURCE-LINE 1882
 9305                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    59
PROGRAM NAME =

 9306 00000D74                   1889     RDY_CHK_CYCL_END:
 9307                            1890     ;;本当はここだけど、ここにこない        FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;(ﾛｯﾄｶｳﾝﾀ
                                          には使用できないので注意)
 9308                            1891     
 9309 00000D74 D115              1892             MOV.L   #_MODE_SEL,R1                   ;
 9310 00000D76 6011              1893             MOV.W   @R1,R0                          ;
 9311 00000D78 9225              1894             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9312 00000D7A 2028              1895             TST     R2,R0                           ;
 9313                            1896             TST_BIT_ON RDY_CHK_END_COM              ;
 9314 00000D7C 8B09                   M           BF      RDY_CHK_END_COM
 9315                            1897     
 9316 00000D7E D114              1898             MOV.L   #_SELF_CHK_SEL,R1               ;
 9317 00000D80 6011              1899             MOV.W   @R1,R0                          ;
 9318 00000D82 C802              1900             TST     #BIT1,R0                        ;2006-04-10 運転終了時にセルフするBIT1=1
 9319                            1901             TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9320 00000D84 8905                   M           BT      RDY_CHK_END_COM
 9321                            1902     
 9322                            1903     ;;2006-04-10    TST     #BIT0,R0                        ;
 9323                            1904     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9324                            1905     
 9325                            1906     ;;2006-04-10    TST     #BIT1,R0                        ;
 9326                            1907     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;//制御停止時ｾﾙﾌﾁｪｯｸしない JUMP
 9327                            1908     
 9328 00000D86 D113              1909             MOV.L   #_SELF_TIMING_SIG,R1            ;2006-04-10
 9329 00000D88 901E              1910             MOV.W   #1,R0                           ;2006-04-10
 9330 00000D8A 2101              1911             MOV.W   R0,@R1                          ;2006-04-10
 9331                            1912     
 9332                            1913     ; ==== //制御停止時ｾﾙﾌﾁｪｯｸする===
 9333 00000D8C D112              1914             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 9334 00000D8E 200A              1915             XOR     R0,R0                           ;
 9335 00000D90 2101              1916             MOV.W   R0,@R1                          ;
 9336                            1917     
 9337 00000D92                   1918     RDY_CHK_END_COM:
 9338                            1919             FAR_JSR #_STEP_SIG_DSP_CLR,R0           ;行程ｸﾘｱ
 9339 00000D92 D012                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9340 00000D94 400B                   M           JSR     @R0                     ;
 9341 00000D96 0009                   M           NOP                                     ;
 9342                            1920     
 9343                            1921             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;中断及び１回転終了時
 9344 00000D98 D011                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9345 00000D9A 400B                   M           JSR     @R0                     ;
 9346 00000D9C 0009                   M           NOP                                     ;
 9347                            1922     
 9348                            1923             FAR_JSR #_AUTO_OF,R0                    ;
 9349 00000D9E D011                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9350 00000DA0 400B                   M           JSR     @R0                     ;
 9351 00000DA2 0009                   M           NOP                                     ;
 9352                            1924     
 9353 00000DA4 200A              1925             XOR     R0,R0
 9354 00000DA6 D110              1926             MOV.L   #_DRV_ACT_FLG,R1                ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 9355 00000DA8 2101              1927             MOV.W   R0,@R1                          ;
 9356                            1928     
 9357                            1929     ;;;;;;;;2017-05-08      FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05
 9358                            1930     
 9359                            1931             FAR_JSR #_FRCYCL_OF,R0                  ;上昇無効
 9360 00000DAA D010                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    60
PROGRAM NAME =

 9361 00000DAC 400B                   M           JSR     @R0                     ;
 9362 00000DAE 0009                   M           NOP                                     ;
 9363                            1932     
 9364                            1933     ;       ==== 2017-05-12(一旦停止中)======
 9365                            1934             FAR_JSR #_API_HOLD_WAIT_BRKOFF_SIG,R0
 9366 00000DB0 D00F                   M           MOV.L   #_API_HOLD_WAIT_BRKOFF_SIG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9367 00000DB2 400B                   M           JSR     @R0                     ;
 9368 00000DB4 0009                   M           NOP                                     ;
 9369 00000DB6 2008              1935             TST     R0,R0                           ;
 9370                            1936             TST_BIT_ON RDY_CHK_EXIT                 ;
 9371 00000DB8 8B02                   M           BF      RDY_CHK_EXIT
 9372                            1937     
 9373                            1938             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2017-05-08
 9374 00000DBA D00E                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9375 00000DBC 400B                   M           JSR     @R0                     ;
 9376 00000DBE 0009                   M           NOP                                     ;
 9377                            1939     
 9378 00000DC0                   1940     RDY_CHK_EXIT:
 9379                            1941             SUB_END
 9380                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9381 00000DC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9382                            1942             M_RTS
 9383 00000DC2 000B                   M           RTS                             ;RTSの後ろの
 9384 00000DC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9385                            1943     
 9386                            1944     
 9387                            1945     ;       ***********************************
 9388                            1946     ;       ***                             ***
 9389                            1947     ;       ***     RDY-ON 維持条件         ***
 9390                            1948     ;       ***                             ***
 9391                            1949     ;       ***********************************
 9392                            1950     ;       R0=0 RDY ON KEEP
 9393                                     ***** BEGIN-POOL *****
 9394 00000DC6 0062                       DATA FOR SOURCE-LINE 1894
 9395 00000DC8 0001                       DATA FOR SOURCE-LINE 1910
 9396 00000DCA 0000                       ALIGNMENT CODE
 9397 00000DCC 00000000                   DATA FOR SOURCE-LINE 1892
 9398 00000DD0 00000000                   DATA FOR SOURCE-LINE 1898
 9399 00000DD4 00000000                   DATA FOR SOURCE-LINE 1909
 9400 00000DD8 00000000                   DATA FOR SOURCE-LINE 1914
 9401 00000DDC 00000000                   DATA FOR SOURCE-LINE 1919
 9402 00000DE0 00000000                   DATA FOR SOURCE-LINE 1921
 9403 00000DE4 00000000                   DATA FOR SOURCE-LINE 1923
 9404 00000DE8 00000000                   DATA FOR SOURCE-LINE 1926
 9405 00000DEC 00000000                   DATA FOR SOURCE-LINE 1931
 9406 00000DF0 00000000                   DATA FOR SOURCE-LINE 1934
 9407 00000DF4 00000000                   DATA FOR SOURCE-LINE 1938
 9408                                     ***** END-POOL *****
 9409 00000DF8                   1951     _RDYON_CONF1:
 9410                            1952             SUB_START
 9411 00000DF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9412                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9413 00000DFA D113              1953             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
 9414 00000DFC 6011              1954             MOV.W   @R1,R0                          ;
 9415 00000DFE 941D              1955             MOV.W   #BIT14,R4                       ;
 9416 00000E00 2048              1956             TST     R4,R0                           ;
 9417                            1957             TST_BIT_ON RDY_ON_CF_999                ;一旦停止指令
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    61
PROGRAM NAME =

 9418 00000E02 8B2B                   M           BF      RDY_ON_CF_999
 9419                            1958     
 9420                            1959     ;       ----------------------------------------------
 9421                            1960             _MONI_RDY_SET SETNO=10,SETREG=R0,WKREG=R1       ;2014-09-13
 9422 00000E04 901B                   M           MOV.W   #10,R0
 9423 00000E06 D111                   M           MOV.L   #_MONI_RDY_STEP,R1
 9424 00000E08 2101                   M           MOV.W   R0,@R1
 9425                            1961     ;       ----------------------------------------------
 9426                            1962     
 9427 00000E0A D111              1963             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9428 00000E0C 6011              1964             MOV.W   @R1,R0                          ;
 9429 00000E0E C803              1965             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9430                            1966             TST_BIT_ON RDY_ON_CF_999                ;
 9431 00000E10 8B24                   M           BF      RDY_ON_CF_999
 9432                            1967     
 9433                            1968     ;       ----------------------------------------------
 9434                            1969             _MONI_RDY_SET SETNO=11,SETREG=R0,WKREG=R1       ;2014-09-13
 9435 00000E12 9015                   M           MOV.W   #11,R0
 9436 00000E14 D10D                   M           MOV.L   #_MONI_RDY_STEP,R1
 9437 00000E16 2101                   M           MOV.W   R0,@R1
 9438                            1970     ;       ----------------------------------------------
 9439                            1971     
 9440 00000E18 D10E              1972             MOV.L   #_MODE_SEL,R1                   ;
 9441 00000E1A 6611              1973             MOV.W   @R1,R6                          ;
 9442 00000E1C 9211              1974             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9443 00000E1E 2628              1975             TST     R2,R6                           ;
 9444                            1976             TST_BIT_ON RDY_ON_CF_998                ;(寸動・段取はﾛｯﾄｶｳﾝﾄｱｯﾌﾟは関係なし)
 9445 00000E20 8B09                   M           BF      RDY_ON_CF_998
 9446                            1977     
 9447                            1978     ;       ----------------------------------------------
 9448                            1979             _MONI_RDY_SET SETNO=12,SETREG=R0,WKREG=R1       ;2014-09-13
 9449 00000E22 900F                   M           MOV.W   #12,R0
 9450 00000E24 D109                   M           MOV.L   #_MONI_RDY_STEP,R1
 9451 00000E26 2101                   M           MOV.W   R0,@R1
 9452                            1980     ;       ----------------------------------------------
 9453                            1981     
 9454 00000E28 D10B              1982             MOV.L   #_CNT_STOP_CMD,R1               ;
 9455 00000E2A 6011              1983             MOV.W   @R1,R0                          ;
 9456 00000E2C 2008              1984             TST     R0,R0                           ;
 9457                            1985             TST_BIT_ON RDY_ON_CF_999                ;連続停止,LOT,設定異常
 9458 00000E2E 8B15                   M           BF      RDY_ON_CF_999
 9459                            1986     
 9460                            1987     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
 9461                            1988     ;;      MOV.W   @R1,R0                          ;
 9462                            1989     ;;      MOV.W   #_W1END,R2                      ;
 9463                            1990     ;;      TST     R2,R0                           ;連続停止
 9464                            1991     ;;      TST_BIT_ON RDY_ON_CF_999                ;
 9465                            1992     
 9466                            1993     ;       ----------------------------------------------
 9467                            1994             _MONI_RDY_SET SETNO=13,SETREG=R0,WKREG=R1       ;2014-09-13
 9468 00000E30 9009                   M           MOV.W   #13,R0
 9469 00000E32 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 9470 00000E34 2101                   M           MOV.W   R0,@R1
 9471                            1995     ;       ----------------------------------------------
 9472                            1996     
 9473 00000E36                   1997     RDY_ON_CF_998:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    62
PROGRAM NAME =

 9474 00000E36 200A              1998             XOR     R0,R0                   ;準備完了
 9475                            1999             M_BRA   RDY_ON_CF_EXT           ;
 9476 00000E38 A011                   M           BRA     RDY_ON_CF_EXT
 9477 00000E3A 0009                   M           NOP
 9478                                     ***** BEGIN-POOL *****
 9479 00000E3C 4000                       DATA FOR SOURCE-LINE 1955
 9480 00000E3E 000A                       DATA FOR SOURCE-LINE 1960
 9481 00000E40 000B                       DATA FOR SOURCE-LINE 1969
 9482 00000E42 0062                       DATA FOR SOURCE-LINE 1974
 9483 00000E44 000C                       DATA FOR SOURCE-LINE 1979
 9484 00000E46 000D                       DATA FOR SOURCE-LINE 1994
 9485 00000E48 00000000                   DATA FOR SOURCE-LINE 1953
 9486 00000E4C 00000000                   DATA FOR SOURCE-LINE 1960,1969,1979,1994
 9487 00000E50 00000000                   DATA FOR SOURCE-LINE 1963
 9488 00000E54 00000000                   DATA FOR SOURCE-LINE 1972
 9489 00000E58 00000000                   DATA FOR SOURCE-LINE 1982
 9490                                     ***** END-POOL *****
 9491 00000E5C                   2000     RDY_ON_CF_999:
 9492 00000E5C E0FF              2001             MOV     #-1,R0                  ;準備未完了
 9493 00000E5E                   2002     RDY_ON_CF_EXT:
 9494                            2003             SUB_END
 9495                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9496 00000E5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9497                            2004             M_RTS
 9498 00000E60 000B                   M           RTS                             ;RTSの後ろの
 9499 00000E62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9500                            2005     
 9501                            2006     ;       ***********************************
 9502                            2007     ;       ***                             ***
 9503                            2008     ;       ***     2006-04-10              ***
 9504                            2009     ;       ***                             ***
 9505                            2010     ;       ***********************************
 9506                            2011     ;;;;2015-09-06
 9507                            2012     ;;;;_BRK_SADOU_CHG EQ 0 廃止
 9508                            2013     ;;;;_RDY_OF_SFTY_LOCK:
 9509                            2014     ;;;;    SUB_START
 9510                            2015     ;;;;    MOV.L   #_PAR_SFTY_BRKSEL,R1            ;
 9511                            2016     ;;;;    MOV.W   @R1,R0                          ;
 9512                            2017     ;;;;    CMP/EQ  #1,R0                           ;
 9513                            2018     ;;;;    BF      RDY_OF_SFTYLOCK_END             ;
 9514                            2019     ;;;;
 9515                            2020     ;;;;;   ----------- 位置決め完了から遅延時間分は遮光になってもブレーキかけない安一------
 9516                            2021     ;;;;;   (ｾﾙﾌﾁｪｯｸ遅延時間)2007-01-16(ﾌﾞﾚｰｷをかけない)
 9517                            2022     ;;;;    MOV.L   #_SFTY_LOCK_DLYTM,R1            ;
 9518                            2023     ;;;;    MOV.W   @R1,R0                          ;(上昇ﾎｰﾙﾄﾞ無効)
 9519                            2024     ;;;;    TST     R0,R0                           ;
 9520                            2025     ;;;;    TST_BIT_ON RDY_OF_SFTYLOCK_END          ;(位置決め完了遅延時間)
 9521                            2026     ;;;;
 9522                            2027     ;;;;
 9523                            2028     ;;;;    MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9524                            2029     ;;;;    MOV.W   @R1,R0                          ;
 9525                            2030     ;;;;    TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9526                            2031     ;;;;    TST_BIT_OF RDY_OF_SFTYLOCK_100          ;
 9527                            2032     ;;;;
 9528                            2033     ;;;;
 9529                            2034     ;;;;    MOV.W   #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    63
PROGRAM NAME =

 9530                            2035     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9531                            2036     ;;;;    MOV.W   R0,@R1                          ;
 9532                            2037     ;;;;    M_BRA   RDY_OF_SFTYLOCK_END             ;
 9533                            2038     ;;;;
 9534                            2039     ;;;;RDY_OF_SFTYLOCK_100:
 9535                            2040     ;;;;    XOR     R0,R0
 9536                            2041     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9537                            2042     ;;;;    MOV.W   R0,@R1                          ;
 9538                            2043     ;;;;
 9539                            2044     ;;;;RDY_OF_SFTYLOCK_END:
 9540                            2045     ;;;;    SUB_END
 9541                            2046     ;;;;    M_RTS
 9542                            2047     
 9543                            2048     
 9544                            2049     ;       ***********************************
 9545                            2050     ;       ***                             ***
 9546                            2051     ;       ***     RDY-ON から起動条件     ***
 9547                            2052     ;       ***             準備未完へ      ***
 9548                            2053     ;       ***                             ***
 9549                            2054     ;       ***********************************
 9550                            2055     ;       (0.5秒同時ON,)
 9551                            2056     ;       R0=00(KEEP) H'55(起動) FF(準備未完へ)
 9552 00000E64                   2057     _BTTN_START_CHK:
 9553                            2058             SUB_START
 9554 00000E64 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9555                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9556                            2059     
 9557                            2060     ;       ------- 2007-01-16(遮光装置の遅延時の起動記憶)----------
 9558 00000E66 D105              2061             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 9559 00000E68 6011              2062             MOV.W   @R1,R0                          ;
 9560 00000E6A C801              2063             TST     #BIT0,R0                        ;
 9561                            2064             TST_BIT_OF BTTN_DRVSEP_CHK_END          ;
 9562 00000E6C 890D                   M           BT      BTTN_DRVSEP_CHK_END
 9563                            2065     
 9564 00000E6E D104              2066             MOV.L   #_BTTN_FLG,R1                   ;
 9565 00000E70 6011              2067             MOV.W   @R1,R0                          ;
 9566 00000E72 C804              2068             TST     #BIT2,R0                        ;両手ON
 9567                            2069             TST_BIT_OF BTTN_DRVSEP_CHK_CLR          ;両手ONをやめた
 9568 00000E74 8906                   M           BT      BTTN_DRVSEP_CHK_CLR
 9569                            2070             M_BRA   BTTN_START_CK570                ;
 9570 00000E76 A09E                   M           BRA     BTTN_START_CK570
 9571 00000E78 0009                   M           NOP
 9572                            2071     
 9573                                     ***** BEGIN-POOL *****
 9574 00000E7A 0000                       ALIGNMENT CODE
 9575 00000E7C 00000000                   DATA FOR SOURCE-LINE 2061
 9576 00000E80 00000000                   DATA FOR SOURCE-LINE 2066
 9577                                     ***** END-POOL *****
 9578 00000E84                   2072     BTTN_DRVSEP_CHK_CLR:
 9579 00000E84 200A              2073             XOR     R0,R0                   ;
 9580 00000E86 D10B              2074             MOV.L   #_DRV_START_KEEP,R1     ;FLG
 9581 00000E88 2101              2075             MOV.W   R0,@R1                  ;;
 9582 00000E8A                   2076     BTTN_DRVSEP_CHK_END:
 9583                            2077     
 9584                            2078     
 9585                            2079     ;;_BRK_SADOU_CHG EQ 0
 9586                            2080     ;;;;;;2015-09-06
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    64
PROGRAM NAME =

 9587                            2081     ;;;;;;; ------- 2007-01-23(遮光装置の遅延時手動パルサは受け付けない)-------
 9588                            2082     ;;;;;;  MOV.L   #_RDY_SFTY_WAIT_TIM,R1                          ;
 9589                            2083     ;;;;;;  MOV.W   @R1,R0                                          ;
 9590                            2084     ;;;;;;  TST     R0,R0                                           ;
 9591                            2085     ;;;;;;  TST_BIT_OF BTTN_DRVTEP_CHKEND                           ;
 9592                            2086     ;;;;;;  FAR_JSR #_TEPA_PLSCNT_CLR,R0                            ;
 9593                            2087     ;;;;;;BTTN_DRVTEP_CHKEND
 9594                            2088     ;       ---------------------------------[2]
 9595                            2089     
 9596                            2090     
 9597                            2091     
 9598                            2092     
 9599                            2093     
 9600 00000E8A D10B              2094             MOV.L   #_BTTN_FLG,R1           ;
 9601 00000E8C 6011              2095             MOV.W   @R1,R0                  ;
 9602 00000E8E C801              2096             TST     #BIT0,R0                ;両手ﾌﾘ?
 9603                            2097             TST_BIT_OF BTTN_START_CK100     ;NO JUMP
 9604 00000E90 8905                   M           BT      BTTN_START_CK100
 9605                            2098     
 9606                            2099             FAR_JSR #_TEPA_PLSCNT_CLR,R0    ;2006-07-28
 9607 00000E92 D00A                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9608 00000E94 400B                   M           JSR     @R0                     ;
 9609 00000E96 0009                   M           NOP                                     ;
 9610                            2100     
 9611 00000E98 9209              2101             MOV.W   #_SYS_BSAME_TIM,R2      ;(両手ﾌﾘｰ)
 9612 00000E9A D109              2102             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9613 00000E9C 2121              2103             MOV.W   R2,@R1                  ;
 9614 00000E9E                   2104     BTTN_START_CK100:
 9615                            2105     
 9616 00000E9E D109              2106             MOV.L   #_MODE_SEL,R1           ;
 9617 00000EA0 6611              2107             MOV.W   @R1,R6                  ;
 9618 00000EA2 9205              2108             MOV.W   #_W1CNT,R2              ;
 9619 00000EA4 2628              2109             TST     R2,R6                   ;
 9620                            2110             TST_BIT_ON BTTN_START_CK150     ;
 9621 00000EA6 8B0F                   M           BF      BTTN_START_CK150
 9622 00000EA8 9203              2111             MOV.W   #H'7FFF,R2              ;連続以外はいつでも7FFF設定
 9623                            2112             M_BRA   BTTN_START_CK220        ;
 9624 00000EAA A042                   M           BRA     BTTN_START_CK220
 9625 00000EAC 0009                   M           NOP
 9626                            2113     
 9627                                     ***** BEGIN-POOL *****
 9628 00000EAE 01F4                       DATA FOR SOURCE-LINE 2101
 9629 00000EB0 0008                       DATA FOR SOURCE-LINE 2108
 9630 00000EB2 7FFF                       DATA FOR SOURCE-LINE 2111
 9631 00000EB4 00000000                   DATA FOR SOURCE-LINE 2074
 9632 00000EB8 00000000                   DATA FOR SOURCE-LINE 2094
 9633 00000EBC 00000000                   DATA FOR SOURCE-LINE 2099
 9634 00000EC0 00000000                   DATA FOR SOURCE-LINE 2102
 9635 00000EC4 00000000                   DATA FOR SOURCE-LINE 2106
 9636                                     ***** END-POOL *****
 9637 00000EC8                   2114     BTTN_START_CK150:
 9638                            2115     ;       **********************************
 9639                            2116     ;       ***     2004-01-26              **
 9640                            2117     ;       **********************************
 9641 00000EC8 D106              2118             MOV.L   #_MODE_SEL,R1           ;
 9642 00000ECA 6011              2119             MOV.W   @R1,R0                  ;
 9643 00000ECC 9108              2120             MOV.W   #(BIT12+BIT11),R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    65
PROGRAM NAME =

 9644 00000ECE 2018              2121             TST     R1,R0                   ;OPTIONの連続寸動
 9645                            2122             TST_BIT_ON BTTN_START_CK180     ;本当のｵﾌﾟｼｮﾝではない
 9646 00000ED0 8B03                   M           BF      BTTN_START_CK180
 9647                            2123     
 9648                            2124     ;       ===============================================
 9649                            2125     ;       ====== ｾｯﾄｱｯﾌﾟ仕様CHEAK 未なら 7FFF=R2 CK220へ==
 9650                            2126     ;       ================================================
 9651 00000ED2 D105              2127             MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
 9652 00000ED4 6011              2128             MOV.W   @R1,R0                  ;28.4
 9653 00000ED6 C810              2129             TST     #BIT4,R0                ;
 9654                            2130             TST_BIT_ON BTTN_START_CK190     ;ｾｯﾄｱｯﾌﾟ仕様
 9655 00000ED8 8B08                   M           BF      BTTN_START_CK190
 9656 00000EDA                   2131     BTTN_START_CK180:                       ;
 9657 00000EDA 9202              2132             MOV.W   #H'7FFF,R2              ;
 9658                            2133             M_BRA   BTTN_START_CK220        ;
 9659 00000EDC A029                   M           BRA     BTTN_START_CK220
 9660 00000EDE 0009                   M           NOP
 9661                            2134     
 9662                            2135     ;       ===== ｾｯﾄｱｯﾌﾟﾁｪｯｸ ====
 9663                                     ***** BEGIN-POOL *****
 9664 00000EE0 1800                       DATA FOR SOURCE-LINE 2120
 9665 00000EE2 7FFF                       DATA FOR SOURCE-LINE 2132
 9666 00000EE4 00000000                   DATA FOR SOURCE-LINE 2118
 9667 00000EE8 00000000                   DATA FOR SOURCE-LINE 2127
 9668                                     ***** END-POOL *****
 9669 00000EEC                   2136     BTTN_START_CK190:
 9670 00000EEC D105              2137             MOV.L   #_SET_UP_TIM,R1         ;
 9671 00000EEE 6211              2138             MOV.W   @R1,R2                  ;
 9672 00000EF0 2228              2139             TST     R2,R2                   ;
 9673                            2140             TST_BIT_OF BTTN_START_CK192     ;ｾｯﾄｱｯﾌﾟ待ち
 9674 00000EF2 890B                   M           BT      BTTN_START_CK192
 9675                            2141     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 9676                            2142             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 9677 00000EF4 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 9678 00000EF6 6011                   M           MOV.W   @R1,R0          ;
 9679 00000EF8 9403                   M           MOV.W   #LWORD (~BIT3),R4       ;
 9680 00000EFA 2049                   M           AND     R4,R0           ;
 9681 00000EFC 2101                   M           MOV.W   R0,@R1          ;
 9682                            2143             M_BRA   BTTN_START_CK195
 9683 00000EFE A00A                   M           BRA     BTTN_START_CK195
 9684 00000F00 0009                   M           NOP
 9685                                     ***** BEGIN-POOL *****
 9686 00000F02 FFF7                       DATA FOR SOURCE-LINE 2142
 9687 00000F04 00000000                   DATA FOR SOURCE-LINE 2137
 9688 00000F08 00000000                   DATA FOR SOURCE-LINE 2142
 9689                                     ***** END-POOL *****
 9690 00000F0C                   2144     BTTN_START_CK192:
 9691                            2145     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち状態 ======
 9692                            2146             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4
 9693 00000F0C D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
 9694 00000F0E 6011                   M           MOV.W   @R1,R0          ;
 9695 00000F10 9408                   M           MOV.W   #(BIT3),R4              ;
 9696 00000F12 204B                   M           OR      R4,R0           ;
 9697 00000F14 2101                   M           MOV.W   R0,@R1          ;
 9698 00000F16                   2147     BTTN_START_CK195:
 9699                            2148     
 9700 00000F16 D305              2149             MOV.L   #_di2_cb_ctl2_on,R3     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    66
PROGRAM NAME =

 9701 00000F18 6131              2150             MOV.W   @R3,R1                  ;
 9702 00000F1A 9204              2151             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9703 00000F1C 2128              2152             TST     R2,R1                   ;
 9704                            2153             TST_BIT_ON BTTN_START_CK200     ;
 9705 00000F1E 8B07                   M           BF      BTTN_START_CK200
 9706                            2154             M_BRA   BTTN_START_CK300        ;
 9707 00000F20 A009                   M           BRA     BTTN_START_CK300
 9708 00000F22 0009                   M           NOP
 9709                            2155     
 9710                                     ***** BEGIN-POOL *****
 9711 00000F24 0008                       DATA FOR SOURCE-LINE 2146
 9712 00000F26 0080                       DATA FOR SOURCE-LINE 2151
 9713 00000F28 00000000                   DATA FOR SOURCE-LINE 2146
 9714 00000F2C 00000000                   DATA FOR SOURCE-LINE 2149
 9715                                     ***** END-POOL *****
 9716 00000F30                   2156     BTTN_START_CK200:
 9717 00000F30 9214              2157             MOV.W   #_SYS_SETUP_TIM,R2      ;
 9718 00000F32                   2158     BTTN_START_CK220:
 9719 00000F32 D10B              2159             MOV.L   #_SET_UP_TIM,R1         ;
 9720 00000F34 2121              2160             MOV.W   R2,@R1                  ;
 9721                            2161     
 9722                            2162     ;       ============================
 9723 00000F36                   2163     BTTN_START_CK300:
 9724 00000F36 D10B              2164             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9725 00000F38 6211              2165             MOV.W   @R1,R2                  ;
 9726 00000F3A 2228              2166             TST     R2,R2                   ;
 9727                            2167             TST_BIT_OF BTTN_START_CK599     ;準備未完了へ
 9728 00000F3C 893E                   M           BT      BTTN_START_CK599
 9729                            2168     
 9730                            2169     ;;;;;   -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9731                            2170     ;;;;;                                   ;ｾｯﾄｱｯﾌﾟの処理が必要
 9732                            2171     ;;;;;           MOV.L   #_BTTN_FLG,R1           ;
 9733                            2172     ;;;;;           MOV.W   @R1,R0                  ;
 9734                            2173     ;;;;;           TST     #BIT2,R0                ;両手ON
 9735                            2174     ;;;;;           TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9736                            2175     ;;;;;
 9737                            2176     ;;;;;   ;       ------- 2006-07-28 ------------
 9738                            2177     ;;;;;           MOV.L   #_MODE_SEL,R1                   ;
 9739                            2178     ;;;;;           MOV.W   @R1,R0                          ;
 9740                            2179     ;;;;;           TST     #_W1DIC,R0                      ;
 9741                            2180     ;;;;;           TST_BIT_OF BTTN_START_CK320             ;
 9742                            2181     ;;;;;
 9743                            2182     ;;;;;           FAR_JSR #_TEPA_START_CHK,R0             ;
 9744                            2183     ;;;;;           TST     R0,R0                           ;
 9745                            2184     ;;;;;           TST_BIT_ON BTTN_START_CK570             ;
 9746                            2185     ;;;;;   BTTN_START_CK320:
 9747                            2186     ;       ---------------------------------
 9748                            2187     
 9749                            2188     ;       -------------------
 9750 00000F3E D10A              2189             MOV.L   #_MODE_SEL,R1                   ;
 9751 00000F40 6011              2190             MOV.W   @R1,R0                          ;
 9752 00000F42 C820              2191             TST     #_W1DIC,R0                      ;
 9753                            2192             TST_BIT_OF BTTN_START_CK320             ;
 9754 00000F44 8916                   M           BT      BTTN_START_CK320
 9755                            2193     
 9756 00000F46 D109              2194             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 9757 00000F48 6011              2195             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    67
PROGRAM NAME =

 9758 00000F4A C802              2196             TST     #BIT1,R0                        ;
 9759                            2197             TST_BIT_OF BTTN_START_CK320             ;手パ無効
 9760 00000F4C 8912                   M           BT      BTTN_START_CK320
 9761                            2198     
 9762                            2199             FAR_JSR #_TEPA_START_CHK,R0             ;
 9763 00000F4E D008                   M           MOV.L   #_TEPA_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9764 00000F50 400B                   M           JSR     @R0                     ;
 9765 00000F52 0009                   M           NOP                                     ;
 9766 00000F54 2008              2200             TST     R0,R0                           ;
 9767                            2201             TST_BIT_ON BTTN_START_CK570             ;
 9768 00000F56 8B2E                   M           BF      BTTN_START_CK570
 9769                            2202             M_BRA   BTTN_START_CK550                ;
 9770 00000F58 A02A                   M           BRA     BTTN_START_CK550
 9771 00000F5A 0009                   M           NOP
 9772                            2203     
 9773                                     ***** BEGIN-POOL *****
 9774 00000F5C 07D0                       DATA FOR SOURCE-LINE 2157
 9775 00000F5E 0000                       ALIGNMENT CODE
 9776 00000F60 00000000                   DATA FOR SOURCE-LINE 2159
 9777 00000F64 00000000                   DATA FOR SOURCE-LINE 2164
 9778 00000F68 00000000                   DATA FOR SOURCE-LINE 2189
 9779 00000F6C 00000000                   DATA FOR SOURCE-LINE 2194
 9780 00000F70 00000000                   DATA FOR SOURCE-LINE 2199
 9781                                     ***** END-POOL *****
 9782 00000F74                   2204     BTTN_START_CK320:
 9783                            2205     ;       -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9784                            2206                                     ;ｾｯﾄｱｯﾌﾟの処理が必要
 9785 00000F74 D107              2207             MOV.L   #_BTTN_FLG,R1           ;
 9786 00000F76 6011              2208             MOV.W   @R1,R0                  ;
 9787 00000F78 C804              2209             TST     #BIT2,R0                ;両手ON
 9788                            2210             TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9789 00000F7A 8B11                   M           BF      BTTN_START_CK350
 9790                            2211     
 9791                            2212     ;       ---------------------------------
 9792                            2213     
 9793                            2214     ;       ===== ｾｯﾄｱｯﾌﾟ釦を押しながら2秒経過してしまったのかチェック===
 9794 00000F7C D106              2215             MOV.L   #_SET_UP_TIM,R1         ;
 9795 00000F7E 6211              2216             MOV.W   @R1,R2                  ;
 9796 00000F80 2228              2217             TST     R2,R2                   ;
 9797                            2218             TST_BIT_ON BTTN_START_CK550     ;
 9798 00000F82 8B15                   M           BF      BTTN_START_CK550
 9799                            2219     
 9800 00000F84 D305              2220             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 9801 00000F86 6131              2221             MOV.W   @R3,R1                  ;
 9802 00000F88 9203              2222             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9803 00000F8A 2128              2223             TST     R2,R1                   ;ON続けて2秒経過
 9804                            2224             TST_BIT_ON BTTN_START_CK599     ;
 9805 00000F8C 8B16                   M           BF      BTTN_START_CK599
 9806                            2225             M_BRA   BTTN_START_CK550        ;
 9807 00000F8E A00F                   M           BRA     BTTN_START_CK550
 9808 00000F90 0009                   M           NOP
 9809                            2226     
 9810                            2227     ;       ==== 運転釦ON ====
 9811                                     ***** BEGIN-POOL *****
 9812 00000F92 0080                       DATA FOR SOURCE-LINE 2222
 9813 00000F94 00000000                   DATA FOR SOURCE-LINE 2207
 9814 00000F98 00000000                   DATA FOR SOURCE-LINE 2215
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    68
PROGRAM NAME =

 9815 00000F9C 00000000                   DATA FOR SOURCE-LINE 2220
 9816                                     ***** END-POOL *****
 9817 00000FA0                   2228     BTTN_START_CK350:
 9818 00000FA0 D102              2229             MOV.L   #_SET_UP_TIM,R1         ;
 9819 00000FA2 6211              2230             MOV.W   @R1,R2                  ;
 9820 00000FA4 2228              2231             TST     R2,R2                   ;
 9821                            2232             TST_BIT_OF BTTN_START_CK599     ;ｾｯﾄｱｯﾌﾟOFF
 9822 00000FA6 8909                   M           BT      BTTN_START_CK599
 9823                            2233             M_BRA   BTTN_START_CK570
 9824 00000FA8 A005                   M           BRA     BTTN_START_CK570
 9825 00000FAA 0009                   M           NOP
 9826                            2234     
 9827                            2235     
 9828                                     ***** BEGIN-POOL *****
 9829 00000FAC 00000000                   DATA FOR SOURCE-LINE 2229
 9830                                     ***** END-POOL *****
 9831 00000FB0                   2236     BTTN_START_CK550:                       ;
 9832 00000FB0 200A              2237             XOR     R0,R0                   ;
 9833                            2238             M_BRA   BTTN_START_CKEXT        ;
 9834 00000FB2 A004                   M           BRA     BTTN_START_CKEXT
 9835 00000FB4 0009                   M           NOP
 9836 00000FB6                   2239     BTTN_START_CK570:
 9837 00000FB6 E055              2240             MOV     #H'55,R0                ;起動
 9838                            2241             M_BRA   BTTN_START_CKEXT        ;
 9839 00000FB8 A001                   M           BRA     BTTN_START_CKEXT
 9840 00000FBA 0009                   M           NOP
 9841 00000FBC                   2242     BTTN_START_CK599:                       ;
 9842 00000FBC E0FF              2243             MOV     #-1,R0                  ;準備未完へ
 9843 00000FBE                   2244     BTTN_START_CKEXT:
 9844                            2245             SUB_END
 9845                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9846 00000FBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9847                            2246             M_RTS
 9848 00000FC0 000B                   M           RTS                             ;RTSの後ろの
 9849 00000FC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9850                            2247     
 9851                            2248     
 9852                            2249     ;       *******************************************
 9853                            2250     ;       ***                                     ***
 9854                            2251     ;       ***     2016-10-31(2016-04-16)          ***
 9855                            2252     ;       ***      ｻﾌﾞﾙｰﾁﾝにする(JUMP)            ***
 9856                            2253     ;       *******************************************
 9857                            2254              .AIF   1 EQ 1  ;
 9858                            2255 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9859                            2256              .AENDI
 9860                            2257     
 9861                            2258             .IMPORT _PAR_SELFCHK_POWSEL
 9862 00000FC4                   2259     _SELFCHK_LOCK_SET:              ;2016-04-16
 9863                            2260             SUB_START
 9864 00000FC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9865                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9866                            2261     
 9867 00000FC6 D108              2262             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
 9868 00000FC8 6011              2263             MOV.W   @R1,R0                          ;
 9869 00000FCA 8801              2264             CMP/EQ  #1,R0                           ;
 9870 00000FCC 8908              2265             BT      SELF_FORCE_POW_100              ;"1"ならちゃんとセルフする
 9871                            2266     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    69
PROGRAM NAME =

 9872                            2267     ;       ===== 2006-12-06 [1]=====
 9873 00000FCE 900A              2268             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
 9874 00000FD0 D106              2269             MOV.L   #_SELF_LOCK_FLG,R1              ;
 9875 00000FD2 2101              2270             MOV.W   R0,@R1                          ;
 9876 00000FD4 222A              2271             XOR     R2,R2                           ;
 9877 00000FD6 233A              2272             XOR     R3,R3                           ;
 9878 00000FD8 D105              2273             MOV.L   #_SELF_CHK_SEL,R1               ;
 9879 00000FDA 2121              2274             MOV.W   R2,@R1                          ;
 9880 00000FDC D105              2275             MOV.L   #_SELF_CHK_MATHED,R1            ;
 9881 00000FDE 2131              2276             MOV.W   R3,@R1                          ;
 9882                            2277     
 9883 00000FE0                   2278     SELF_FORCE_POW_100
 9884                            2279             SUB_END
 9885                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9886 00000FE0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9887                            2280             M_RTS
 9888 00000FE2 000B                   M           RTS                             ;RTSの後ろの
 9889 00000FE4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9890                            2281     
 9891                            2282     
 9892                            2283     ;       ***********************************
 9893                            2284     ;       ***                             ***
 9894                            2285     ;       ***     CPUA位置→CPUB位置      ***
 9895                            2286     ;       ***     2015-03-15 寸動対策     ***
 9896                            2287     ;       ***                             ***
 9897                            2288     ;       ***********************************
 9898                            2289             .IMPORT _SH_POSCTL_RL_ABSPLS
 9899                                     ***** BEGIN-POOL *****
 9900 00000FE6 0001                       DATA FOR SOURCE-LINE 2268
 9901 00000FE8 00000000                   DATA FOR SOURCE-LINE 2262
 9902 00000FEC 00000000                   DATA FOR SOURCE-LINE 2269
 9903 00000FF0 00000000                   DATA FOR SOURCE-LINE 2273
 9904 00000FF4 00000000                   DATA FOR SOURCE-LINE 2275
 9905                                     ***** END-POOL *****
 9906 00000FF8                   2290     _ELSE_CPU_START_POS_PRESET:
 9907                            2291             SUB_START
 9908 00000FF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9909                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9910                            2292             .AIF    1 EQ    0       ;
 9911                            2293     
 9912                            2294             .AELSE
 9913                            2295 C   
 9914 00000FFA D409              2296 C           MOV.L   #_SH_POSCTL_RL_ABSPLS,R4        ;CPUA
 9915 00000FFC 5140              2297 C           MOV.L   @(0,R4),R1                              ;
 9916 00000FFE 5241              2298 C           MOV.L   @(4,R4),R2                              ;
 9917                            2299 C   
 9918 00001000 5540              2300 C           MOV.L   @(0,R4),R5                              ;
 9919 00001002 5641              2301 C           MOV.L   @(4,R4),R6                              ;
 9920 00001004 3518              2302 C           SUB     R1,R5
 9921 00001006 3628              2303 C           SUB     R2,R6                                   ;
 9922 00001008 265B              2304 C           OR      R5,R6                                   ;
 9923 0000100A 2668              2305 C           TST     R6,R6                                   ;
 9924                            2306 C           TST_BIT_OF ELSECPU_GET_OBJPOS_100               ;8ﾊﾞｲﾄｱｸｾｽ中の問題
 9925 0000100C 8901                   M           BT      ELSECPU_GET_OBJPOS_100
 9926                            2307 C   
 9927 0000100E 5140              2308 C           MOV.L   @(0,R4),R1                              ;
 9928 00001010 5241              2309 C           MOV.L   @(4,R4),R2                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    70
PROGRAM NAME =

 9929                            2310 C   
 9930                            2311 C   
 9931 00001012                   2312 C   ELSECPU_GET_OBJPOS_100
 9932 00001012 D404              2313 C           MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
 9933 00001014 1410              2314 C           MOV.L   R1,@(0,R4)
 9934 00001016 1421              2315 C           MOV.L   R2,@(4,R4)
 9935                            2316 C   
 9936 00001018                   2317 C   ELSECPU_GET_OBJPOS_EXT
 9937                            2318 C   
 9938                            2319             .AENDI
 9939                            2320             SUB_END
 9940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9941 00001018 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9942                            2321             M_RTS
 9943 0000101A 000B                   M           RTS                             ;RTSの後ろの
 9944 0000101C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9945                            2322     
 9946                            2323     
 9947                            2324     
 9948                            2325     ;       *******************************************
 9949                            2326     ;       ***                                     ***
 9950                            2327     ;       ***                                     ***
 9951                            2328     ;       ***                                     ***
 9952                            2329     ;       *******************************************
 9953                                     ***** BEGIN-POOL *****
 9954 0000101E 0000                       ALIGNMENT CODE
 9955 00001020 00000000                   DATA FOR SOURCE-LINE 2296
 9956 00001024 00000000                   DATA FOR SOURCE-LINE 2313
 9957                                     ***** END-POOL *****
 9958 00001028                   2330     _MODE_CNT_STOP_CHK:
 9959                            2331             SUB_START
 9960 00001028 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9962                            2332             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
 9963 0000102A D017                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9964 0000102C 400B                   M           JSR     @R0                     ;
 9965 0000102E 0009                   M           NOP                                     ;
 9966 00001030 2118              2333             TST     R1,R1                   ;
 9967                            2334             TST_BIT_OF MODE_CNT_STPCMP_100  ;自分のいくぞ信号ON? NO
 9968 00001032 890F                   M           BT      MODE_CNT_STPCMP_100
 9969                            2335     
 9970 00001034 D115              2336             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
 9971 00001036 6011              2337             MOV.W   @R1,R0                  ;
 9972 00001038 D215              2338             MOV.L   #_CPOS_STEP_MAX,R2      ;
 9973 0000103A 6421              2339             MOV.W   @R2,R4                  ;
 9974 0000103C 7401              2340             ADD     #1,R4                   ;
 9975 0000103E 3400              2341             CMP/EQ  R0,R4                   ;
 9976 00001040 8908              2342             BT      MODE_CNT_STPCMP_100     ;最終工程
 9977                            2343     
 9978 00001042 6503              2344             MOV     R0,R5                   ;push
 9979                            2345             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
 9980 00001044 D213                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9981 00001046 420B                   M           JSR     @R2                     ;
 9982 00001048 0009                   M           NOP                                     ;
 9983 0000104A 3500              2346             CMP/EQ  R0,R5                   ;
 9984 0000104C 8B02              2347             BF      MODE_CNT_STPCMP_100     ;不一致状態
 9985                            2348     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    71
PROGRAM NAME =

 9986                            2349             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
 9987 0000104E D012                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9988 00001050 400B                   M           JSR     @R0                     ;
 9989 00001052 0009                   M           NOP                                     ;
 9990                            2350     
 9991 00001054                   2351     MODE_CNT_STPCMP_100:
 9992                            2352     
 9993                            2353     ;       -------- 2015-11-13-------------------
 9994                            2354     ;;      MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9995                            2355     ;;      MOV.W   @R1,R0                          ;
 9996                            2356     ;;      MOV.W   #_WOATO,R2                      ;AUTO
 9997                            2357     ;;      TST     R2,R0                           ;
 9998                            2358     ;;      TST_BIT_ON MODE_CNT_STPCHK_200          ;AUTO ON
 9999                            2359     ;;
10000                            2360     ;;      MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
10001                            2361     ;;      MOV.W   @R1,R0                          ;
10002                            2362     ;;      MOV.W   #(BIT9+BIT8),R4                 ;
10003                            2363     ;;      TST     R4,R0                           ;
10004                            2364     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ
10005                            2365     ;;
10006                            2366     ;;      MOV.W   #BIT8,R4                        ;
10007                            2367     ;;      TST     R4,R0                           ;ﾀｲﾏ?
10008                            2368     ;;      TST_BIT_OF MODE_CNT_STPCHK_050
10009                            2369     ;;      MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
10010                            2370     ;;      MOV.L   @R1,R0                          ;
10011                            2371     ;;      M_BRA   MODE_CNT_STPCHK_080             ;
10012                            2372     ;;
10013                            2373     ;;MODE_CNT_STPCHK_050:
10014                            2374     ;;      MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
10015                            2375     ;;      MOV.W   @R1,R0                          ;
10016                            2376     ;;MODE_CNT_STPCHK_080:
10017                            2377     ;;      TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
10018                            2378     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;
10019                            2379     
10020                            2380     
10021                            2381     ;       -------- 2015-11-13-------------------
10022 00001054 D111              2382             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
10023 00001056 6011              2383             MOV.W   @R1,R0                          ;
10024 00001058 9414              2384             MOV.W   #(BIT9+BIT8),R4                 ;
10025 0000105A 2048              2385             TST     R4,R0                           ;
10026                            2386             TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ:AUTO ON固定
10027 0000105C 895E                   M           BT      MODE_CNT_STPCHK_199
10028                            2387     
10029                            2388     ;       -------------AUTO ON[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
10030 0000105E D110              2389             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
10031 00001060 6011              2390             MOV.W   @R1,R0                          ;
10032 00001062 9210              2391             MOV.W   #_WOATO,R2                      ;AUTO
10033 00001064 2028              2392             TST     R2,R0                           ;
10034                            2393             TST_BIT_OF MODE_CNT_STPCHK_120          ;AUTO OFF
10035 00001066 8923                   M           BT      MODE_CNT_STPCHK_120
10036                            2394     
10037                            2395     ;;; .AIF 1 EQ 1
10038                            2396     ;       --------- 相手CPU停止判定必要[2015-11-15]------
10039                            2397             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;
10040 00001068 D00E                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10041 0000106A 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    72
PROGRAM NAME =

10042 0000106C 0009                   M           NOP                                     ;
10043 0000106E 2008              2398             TST     R0,R0                           ;
10044                            2399             TST_BIT_OF MODE_CNT_STPCHK_200
10045 00001070 8957                   M           BT      MODE_CNT_STPCHK_200
10046                            2400             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set[ﾃ
                                          ﾞﾊﾞｯｸ用だと思う]
10047 00001072 D10D                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10048 00001074 6011                   M           MOV.W   @R1,R0          ;
10049 00001076 CB01                   M           OR      #BIT0,R0                ;
10050 00001078 2101                   M           MOV.W   R0,@R1          ;
10051                            2401             FAR_JSR #_AUTO_OF,R0                    ;
10052 0000107A D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10053 0000107C 400B                   M           JSR     @R0                     ;
10054 0000107E 0009                   M           NOP                                     ;
10055                            2402             M_BRA   MODE_CNT_STPCHK_150             ;AUTO OFF
10056 00001080 A033                   M           BRA     MODE_CNT_STPCHK_150
10057 00001082 0009                   M           NOP
10058                            2403     
10059                            2404     ;;; .AENDI
10060                            2405     ;;;[2016-10-31不要]     M_BRA   MODE_CNT_STPCHK_200             ;AUTO ON
10061                            2406     
10062                            2407     
10063                            2408     ;       -------------AUTO OFF[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
10064                                     ***** BEGIN-POOL *****
10065 00001084 0300                       DATA FOR SOURCE-LINE 2384
10066 00001086 0040                       DATA FOR SOURCE-LINE 2391
10067 00001088 00000000                   DATA FOR SOURCE-LINE 2332
10068 0000108C 00000000                   DATA FOR SOURCE-LINE 2336
10069 00001090 00000000                   DATA FOR SOURCE-LINE 2338
10070 00001094 00000000                   DATA FOR SOURCE-LINE 2345
10071 00001098 00000000                   DATA FOR SOURCE-LINE 2349
10072 0000109C 00000000                   DATA FOR SOURCE-LINE 2382
10073 000010A0 00000000                   DATA FOR SOURCE-LINE 2389
10074 000010A4 00000000                   DATA FOR SOURCE-LINE 2397
10075 000010A8 00000000                   DATA FOR SOURCE-LINE 2400
10076 000010AC 00000000                   DATA FOR SOURCE-LINE 2401
10077                                     ***** END-POOL *****
10078 000010B0                   2409     MODE_CNT_STPCHK_120                             ;AUTO OFF
10079 000010B0 D104              2410             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
10080 000010B2 6011              2411             MOV.W   @R1,R0                          ;
10081 000010B4 9405              2412             MOV.W   #BIT8,R4                        ;
10082 000010B6 2048              2413             TST     R4,R0                           ;ﾀｲﾏ?
10083                            2414             TST_BIT_OF MODE_CNT_STPCHK_050
10084 000010B8 8908                   M           BT      MODE_CNT_STPCHK_050
10085 000010BA D103              2415             MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
10086 000010BC 6012              2416             MOV.L   @R1,R0                          ;
10087                            2417             M_BRA   MODE_CNT_STPCHK_080             ;
10088 000010BE A00A                   M           BRA     MODE_CNT_STPCHK_080
10089 000010C0 0009                   M           NOP
10090                            2418     
10091                                     ***** BEGIN-POOL *****
10092 000010C2 0100                       DATA FOR SOURCE-LINE 2412
10093 000010C4 00000000                   DATA FOR SOURCE-LINE 2410
10094 000010C8 00000000                   DATA FOR SOURCE-LINE 2415
10095                                     ***** END-POOL *****
10096 000010CC                   2419     MODE_CNT_STPCHK_050:
10097 000010CC D10C              2420             MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    73
PROGRAM NAME =

10098 000010CE 6011              2421             MOV.W   @R1,R0                          ;
10099                            2422     
10100                            2423              .AIF   1 EQ 1  ;
10101                            2424 C   ;       -------- 2016-10-31 ADD 二重回路対策
10102                            2425              .AENDI
10103                            2426     ;       -------- 2016-10-31(2016-07-21)(相手cpu状態)----------------
10104                            2427             .AIF    1 EQ    0       ;
10105                            2428             MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
10106                            2429             .AELSE
10107 000010D0 D10C              2430 C           MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
10108                            2431             .AENDI                                  ;
10109 000010D2 6411              2432             MOV.W   @R1,R4                          ;
10110 000010D4 204B              2433             OR      R4,R0                           ;自分+相手cpu
10111                            2434     
10112                            2435     
10113 000010D6                   2436     MODE_CNT_STPCHK_080:
10114 000010D6 2008              2437             TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
10115                            2438             TST_BIT_OF MODE_CNT_STPCHK_199          ;
10116 000010D8 8920                   M           BT      MODE_CNT_STPCHK_199
10117                            2439     
10118                            2440     
10119 000010DA D10B              2441             MOV.L   #_BTTN_FLG,R1                   ;
10120 000010DC 6011              2442             MOV.W   @R1,R0                          ;
10121 000010DE C804              2443             TST     #BIT2,R0                        ;両手ON
10122                            2444             TST_BIT_ON MODE_CNT_STPCHK_300          ;<200の方が安全かな>
10123 000010E0 8B57                   M           BF      MODE_CNT_STPCHK_300
10124                            2445     
10125                            2446              .AIF   1 EQ 1  ;
10126                            2447 C   ;       -------- 2016-10-31 ADD 二重回路対策
10127                            2448              .AENDI
10128                            2449     
10129                            2450     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
10130 000010E2 D10A              2451             MOV.L   #_CMPSTEP_STEP_END,R1           ;
10131 000010E4 6011              2452             MOV.W   @R1,R0                          ;
10132 000010E6 2008              2453             TST     R0,R0                           ;
10133                            2454             TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10134 000010E8 8B53                   M           BF      MODE_CNT_STPCHK_300
10135                            2455     
10136                            2456     
10137                            2457     ;[[2016-10-31]; ---------- 2015-11-13[行程2重回路対策]---------------
10138                            2458     ;[[2016-10-31];;; .AIF 1 EQ 1
10139                            2459     ;[[2016-10-31]  FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10140                            2460     ;[[2016-10-31]  TST     R0,R0                           ;
10141                            2461     ;[[2016-10-31]  TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10142                            2462     ;[[2016-10-31];;; .AENDI
10143                            2463     
10144 000010EA                   2464     MODE_CNT_STPCHK_150:                            ;AUTO OFF
10145                            2465     
10146                            2466     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10147                            2467             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10148 000010EA D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10149 000010EC 400B                   M           JSR     @R0                     ;
10150 000010EE 0009                   M           NOP                                     ;
10151                            2468     
10152                            2469     ;       ---2007-03-02-----
10153                            2470             MOD_LOW_STOP_R0_R1                      ;MNWR_POS_CMD=BIT1,減速停止,起動OFF
10154 000010F0 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    74
PROGRAM NAME =

10155 000010F2 E002                   M           MOV.B   #BIT1,R0                        ;
10156 000010F4 2101                   M           MOV.W   R0,@R1                          ;
10157                            2471             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;CPUBへSTOP(AUTO-ON,AUTO-OFF)に関わらず･･･
                                          AUTOにさせないため
10158 000010F6 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10159 000010F8 400B                   M           JSR     @R0                     ;
10160 000010FA 0009                   M           NOP                                     ;
10161                            2472     
10162                            2473             M_BRA   MODE_CNT_STPCHK_300             ;
10163 000010FC A049                   M           BRA     MODE_CNT_STPCHK_300
10164 000010FE 0009                   M           NOP
10165                            2474     
10166                                     ***** BEGIN-POOL *****
10167 00001100 00000000                   DATA FOR SOURCE-LINE 2420
10168 00001104 00000000                   DATA FOR SOURCE-LINE 2430
10169 00001108 00000000                   DATA FOR SOURCE-LINE 2441
10170 0000110C 00000000                   DATA FOR SOURCE-LINE 2451
10171 00001110 00000000                   DATA FOR SOURCE-LINE 2467
10172 00001114 00000000                   DATA FOR SOURCE-LINE 2470
10173 00001118 00000000                   DATA FOR SOURCE-LINE 2471
10174                                     ***** END-POOL *****
10175 0000111C                   2475     MODE_CNT_STPCHK_199:                            ;
10176                            2476             FAR_JSR #_AUTO_ON,R0                    ;
10177 0000111C D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10178 0000111E 400B                   M           JSR     @R0                     ;
10179 00001120 0009                   M           NOP                                     ;
10180 00001122                   2477     MODE_CNT_STPCHK_200:                            ;
10181                            2478     
10182                            2479     ;       -------------------------------------------
10183 00001122 D105              2480             MOV.L   #_POSHLD1_STOPLATCH,R1          ;
10184 00001124 6011              2481             MOV.W   @R1,R0                          ;
10185 00001126 2008              2482             TST     R0,R0                           ;
10186                            2483             TST_BIT_OF MODE_CNT_STPCHK_210          ;
10187 00001128 8908                   M           BT      MODE_CNT_STPCHK_210
10188 0000112A 200A              2484             XOR     R0,R0                           ;
10189 0000112C 2101              2485             MOV.W   R0,@R1                          ;
10190                            2486             M_BRA   MODE_CNT_STPCHK_220             ;
10191 0000112E A00D                   M           BRA     MODE_CNT_STPCHK_220
10192 00001130 0009                   M           NOP
10193                            2487     
10194                                     ***** BEGIN-POOL *****
10195 00001132 0000                       ALIGNMENT CODE
10196 00001134 00000000                   DATA FOR SOURCE-LINE 2476
10197 00001138 00000000                   DATA FOR SOURCE-LINE 2480
10198                                     ***** END-POOL *****
10199 0000113C                   2488     MODE_CNT_STPCHK_210:                            ;
10200                            2489     
10201 0000113C D10C              2490             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10202 0000113E 6011              2491             MOV.W   @R1,R0                          ;
10203 00001140 2008              2492             TST     R0,R0                           ;
10204                            2493             TST_BIT_OF MODE_CNT_STPCHK_250          ;
10205 00001142 8907                   M           BT      MODE_CNT_STPCHK_250
10206                            2494     
10207                            2495              .AIF   1 EQ 1  ;
10208                            2496 C   ;       -------- 2016-10-31 ADD 二重回路対策
10209                            2497              .AENDI
10210                            2498     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    75
PROGRAM NAME =

10211                            2499     ;       --2016-10-31(2016-08-11)(CMPERR対策)---------
10212 00001144 D10B              2500             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
10213 00001146 6011              2501             MOV.W   @R1,R0                          ;
10214 00001148 2008              2502             TST     R0,R0                           ;
10215                            2503             TST_BIT_ON MODE_CNT_STPCHK_250          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10216 0000114A 8B03                   M           BF      MODE_CNT_STPCHK_250
10217                            2504     
10218                            2505     
10219 0000114C                   2506     MODE_CNT_STPCHK_220:                            ;
10220                            2507     
10221 0000114C D10A              2508             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10222 0000114E 6011              2509             MOV.W   @R1,R0                          ;
10223 00001150 CB01              2510             OR      #BIT0,R0                        ;
10224 00001152 2101              2511             MOV.W   R0,@R1                          ;
10225 00001154                   2512     MODE_CNT_STPCHK_250:
10226                            2513     
10227 00001154 D108              2514             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10228 00001156 6011              2515             MOV.W   @R1,R0                          ;
10229 00001158 C801              2516             TST     #BIT0,R0                        ;
10230                            2517             TST_BIT_OF MODE_CNT_STPCHK_300          ;
10231 0000115A 891A                   M           BT      MODE_CNT_STPCHK_300
10232                            2518     
10233 0000115C D107              2519             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10234 0000115E 6011              2520             MOV.W   @R1,R0                          ;
10235 00001160 D207              2521             MOV.L   #_CPOS_STEP_MAX,R2              ;
10236 00001162 6421              2522             MOV.W   @R2,R4                          ;
10237 00001164 7401              2523             ADD     #1,R4                           ;
10238 00001166 3400              2524             CMP/EQ  R0,R4                           ;
10239 00001168 8B0C              2525             BF      MODE_CNT_STPCHK_280             ;最終工程以外?
10240                            2526             M_BRA   MODE_CNT_STPCHK_300             ;
10241 0000116A A012                   M           BRA     MODE_CNT_STPCHK_300
10242 0000116C 0009                   M           NOP
10243                            2527     
10244                                     ***** BEGIN-POOL *****
10245 0000116E 0000                       ALIGNMENT CODE
10246 00001170 00000000                   DATA FOR SOURCE-LINE 2490
10247 00001174 00000000                   DATA FOR SOURCE-LINE 2500
10248 00001178 00000000                   DATA FOR SOURCE-LINE 2508,2514
10249 0000117C 00000000                   DATA FOR SOURCE-LINE 2519
10250 00001180 00000000                   DATA FOR SOURCE-LINE 2521
10251                                     ***** END-POOL *****
10252 00001184                   2528     MODE_CNT_STPCHK_280:
10253                            2529     ;       == 2004-12-20====
10254 00001184 D104              2530             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10255 00001186 6011              2531             MOV.W   @R1,R0                          ;
10256 00001188 C804              2532             TST     #BIT2,R0                        ;2004-12-20
10257                            2533             TST_BIT_ON MODE_CNT_STPCHK_300          ;(待機点停止しないﾓｰﾄﾞは別)
10258 0000118A 8B02                   M           BF      MODE_CNT_STPCHK_300
10259                            2534     
10260                            2535             FAR_JSR #_STOP_LTH_OUT,R0
10261 0000118C D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10262 0000118E 400B                   M           JSR     @R0                     ;
10263 00001190 0009                   M           NOP                                     ;
10264                            2536     
10265                            2537     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10266                            2538     
10267 00001192                   2539     MODE_CNT_STPCHK_300:                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    76
PROGRAM NAME =

10268                            2540     
10269                            2541             SUB_END
10270                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10271 00001192 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10272                            2542             M_RTS
10273 00001194 000B                   M           RTS                             ;RTSの後ろの
10274 00001196 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10275                            2543     
10276                            2544     
10277                            2545     
10278                            2546     ;       ***************************************************
10279                            2547     ;       ***                                             ***
10280                            2548     ;       ***     2016-04-12                              ***
10281                            2549     ;       ***     連続一行程                              ***
10282                            2550     ;       ***     連続寸動一行程                          ***
10283                            2551     ;       ***     上記のための連続の共通部サブルーチン化  ***
10284                            2552     ;       ***     但し、連続には使用しないでおく          ***
10285                            2553     ;       ***                                             ***
10286                            2554     ;       ***************************************************
10287                                     ***** BEGIN-POOL *****
10288 00001198 00000000                   DATA FOR SOURCE-LINE 2530
10289 0000119C 00000000                   DATA FOR SOURCE-LINE 2535
10290                                     ***** END-POOL *****
10291 000011A0                   2555     _MODE_CNTCOM1_STOP_CHK:
10292                            2556             SUB_START
10293 000011A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10294                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10295                            2557     
10296                            2558             FAR_JSR #_CPU_AB_CST_OF_JG,R0           ;R0=_SH4_HD_CNT_STOP,R1=_SH4_HD_CNT_CNT
10297 000011A2 D00C                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10298 000011A4 400B                   M           JSR     @R0                     ;
10299 000011A6 0009                   M           NOP                                     ;
10300 000011A8 2118              2559             TST     R1,R1                           ;
10301                            2560             TST_BIT_OF MODE_CNTCOM1_STPCMP_100      ;自分のいくぞ信号ON? NO:
10302 000011AA 890F                   M           BT      MODE_CNTCOM1_STPCMP_100
10303                            2561     
10304 000011AC D10A              2562             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10305 000011AE 6011              2563             MOV.W   @R1,R0                          ;
10306 000011B0 D20A              2564             MOV.L   #_CPOS_STEP_MAX,R2              ;
10307 000011B2 6421              2565             MOV.W   @R2,R4                          ;
10308 000011B4 7401              2566             ADD     #1,R4                           ;
10309 000011B6 3400              2567             CMP/EQ  R0,R4                           ;
10310 000011B8 8908              2568             BT      MODE_CNTCOM1_STPCMP_100         ;最終工程
10311                            2569     
10312 000011BA 6503              2570             MOV     R0,R5                           ;push
10313                            2571             FAR_JSR #_CPU_BA_STEP_LOAD,R2           ;ANS R0 (SH2_STEP_NO,SH4_STEP_NO)
10314 000011BC D208                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10315 000011BE 420B                   M           JSR     @R2                     ;
10316 000011C0 0009                   M           NOP                                     ;
10317 000011C2 3500              2572             CMP/EQ  R0,R5                           ;
10318 000011C4 8B02              2573             BF      MODE_CNTCOM1_STPCMP_100         ;不一致状態
10319                            2574     
10320                            2575                                                     ;自分のいくぞ信号クリア(相手のもやったほう
                                          がいいのか？)
10321                            2576             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0         ;_SH4_HD_CNT_CNT=0CLR
10322 000011C6 D007                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10323 000011C8 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    77
PROGRAM NAME =

10324 000011CA 0009                   M           NOP                                     ;
10325                            2577     
10326 000011CC                   2578     MODE_CNTCOM1_STPCMP_100:
10327                            2579             SUB_END
10328                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10329 000011CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10330                            2580             M_RTS
10331 000011CE 000B                   M           RTS                             ;RTSの後ろの
10332 000011D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10333                            2581     
10334                            2582     
10335                            2583     ;       **************************************************
10336                            2584     ;       ***                                             ***
10337                            2585     ;       ***     AUTO_ON状態(停止条件の判定              ***
10338                            2586     ;       ***                                             ***
10339                            2587     ;       ***************************************************
10340                                     ***** BEGIN-POOL *****
10341 000011D2 0000                       ALIGNMENT CODE
10342 000011D4 00000000                   DATA FOR SOURCE-LINE 2558
10343 000011D8 00000000                   DATA FOR SOURCE-LINE 2562
10344 000011DC 00000000                   DATA FOR SOURCE-LINE 2564
10345 000011E0 00000000                   DATA FOR SOURCE-LINE 2571
10346 000011E4 00000000                   DATA FOR SOURCE-LINE 2576
10347                                     ***** END-POOL *****
10348 000011E8                   2588     _MODE_CNTCNF1_STOP_CHK:
10349                            2589             SUB_START
10350 000011E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
10351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10352                            2590     ;       -------------AUTO ON(連続一行程)------------
10353                            2591             FAR_JSR #_AUTO_ON,R0                            ;
10354 000011EA D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10355 000011EC 400B                   M           JSR     @R0                     ;
10356 000011EE 0009                   M           NOP                                     ;
10357                            2592     ;       -------------------------------------------
10358 000011F0 D104              2593             MOV.L   #_POSHLD1_STOPLATCH,R1                  ;
10359 000011F2 6011              2594             MOV.W   @R1,R0                                  ;
10360 000011F4 2008              2595             TST     R0,R0                                   ;
10361                            2596             TST_BIT_OF MODE_CNTCNF1_STPCHK_210              ;
10362 000011F6 8907                   M           BT      MODE_CNTCNF1_STPCHK_210
10363 000011F8 200A              2597             XOR     R0,R0                                   ;
10364 000011FA 2101              2598             MOV.W   R0,@R1                                  ;
10365                            2599             M_BRA   MODE_CNTCNF1_STPCHK_220                 ;
10366 000011FC A008                   M           BRA     MODE_CNTCNF1_STPCHK_220
10367 000011FE 0009                   M           NOP
10368                                     ***** BEGIN-POOL *****
10369 00001200 00000000                   DATA FOR SOURCE-LINE 2591
10370 00001204 00000000                   DATA FOR SOURCE-LINE 2593
10371                                     ***** END-POOL *****
10372 00001208                   2600     MODE_CNTCNF1_STPCHK_210:                                ;
10373                            2601     
10374 00001208 D105              2602             MOV.L   #_CNT_STOP_CMD,R1                       ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄ
                                          ｱｯﾌﾟ
10375 0000120A 6011              2603             MOV.W   @R1,R0                                  ;
10376 0000120C 2008              2604             TST     R0,R0                                   ;
10377                            2605             TST_BIT_OF MODE_CNTCNF1_STPCHK_250              ;(上死点停止指令OFF)
10378 0000120E 8903                   M           BT      MODE_CNTCNF1_STPCHK_250
10379 00001210                   2606     MODE_CNTCNF1_STPCHK_220:                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    78
PROGRAM NAME =

10380                            2607     
10381                            2608     ;       //BIT0:ｽﾄｯﾌﾟ釦記憶 停止可能なタイミングで出力される
10382                            2609             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10383 00001210 D104                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10384 00001212 6011                   M           MOV.W   @R1,R0          ;
10385 00001214 CB01                   M           OR      #BIT0,R0                ;
10386 00001216 2101                   M           MOV.W   R0,@R1          ;
10387                            2610     
10388 00001218                   2611     MODE_CNTCNF1_STPCHK_250:
10389                            2612             SUB_END
10390                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10391 00001218 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10392                            2613             M_RTS
10393 0000121A 000B                   M           RTS                             ;RTSの後ろの
10394 0000121C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10395                            2614     
10396                            2615     
10397                            2616     
10398                            2617     ;       **************************************************
10399                            2618     ;       ***                                             ***
10400                            2619     ;       ***     AUTO_ON状態(相手側も動作する状態)       ***
10401                            2620     ;       ***                                             ***
10402                            2621     ;       ***************************************************
10403                                     ***** BEGIN-POOL *****
10404 0000121E 0000                       ALIGNMENT CODE
10405 00001220 00000000                   DATA FOR SOURCE-LINE 2602
10406 00001224 00000000                   DATA FOR SOURCE-LINE 2609
10407                                     ***** END-POOL *****
10408 00001228                   2622     _MODE_CNTCOM2_STOP_CHK:
10409                            2623             SUB_START
10410 00001228 4F22                   M           STS.L   PR,@-R15                ;[必要]
10411                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10412                            2624     
10413 0000122A D106              2625             MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦等
10414 0000122C 6011              2626             MOV.W   @R1,R0                                  ;
10415 0000122E C801              2627             TST     #BIT0,R0                                ;
10416                            2628             TST_BIT_OF MODE_CNTCOM2_STPCHK_300              ;
10417 00001230 8915                   M           BT      MODE_CNTCOM2_STPCHK_300
10418                            2629     
10419 00001232 D105              2630             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10420 00001234 6011              2631             MOV.W   @R1,R0                          ;
10421 00001236 D205              2632             MOV.L   #_CPOS_STEP_MAX,R2              ;
10422 00001238 6421              2633             MOV.W   @R2,R4                          ;
10423 0000123A 7401              2634             ADD     #1,R4                           ;
10424 0000123C 3400              2635             CMP/EQ  R0,R4                           ;
10425 0000123E 8B07              2636             BF      MODE_CNTCOM2_STPCHK_280         ;最終工程以外?
10426                            2637             M_BRA   MODE_CNTCOM2_STPCHK_300         ;最終行程は別で行う
10427 00001240 A00D                   M           BRA     MODE_CNTCOM2_STPCHK_300
10428 00001242 0009                   M           NOP
10429                            2638     
10430                                     ***** BEGIN-POOL *****
10431 00001244 00000000                   DATA FOR SOURCE-LINE 2625
10432 00001248 00000000                   DATA FOR SOURCE-LINE 2630
10433 0000124C 00000000                   DATA FOR SOURCE-LINE 2632
10434                                     ***** END-POOL *****
10435 00001250                   2639     MODE_CNTCOM2_STPCHK_280:
10436                            2640     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    79
PROGRAM NAME =

10437 00001250 D104              2641             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10438 00001252 6011              2642             MOV.W   @R1,R0                          ;
10439 00001254 C804              2643             TST     #BIT2,R0                        ;2004-12-20
10440                            2644             TST_BIT_ON MODE_CNTCOM2_STPCHK_300      ;BIT2=1 待機点停止しないﾓｰﾄﾞは別で行う
10441 00001256 8B02                   M           BF      MODE_CNTCOM2_STPCHK_300
10442                            2645     
10443                            2646             FAR_JSR #_STOP_LTH_OUT,R0               ;STOP_LATCH.BIT0=1,SH4_HD_CNT_STOP=-1
10444 00001258 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10445 0000125A 400B                   M           JSR     @R0                     ;
10446 0000125C 0009                   M           NOP                                     ;
10447                            2647     
10448 0000125E                   2648     MODE_CNTCOM2_STPCHK_300:                        ;
10449                            2649     
10450                            2650             SUB_END
10451                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10452 0000125E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10453                            2651             M_RTS
10454 00001260 000B                   M           RTS                             ;RTSの後ろの
10455 00001262 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10456                            2652     
10457                            2653     ;       ***************************
10458                            2654     ;       ***                     ***
10459                            2655     ;       ***************************
10460                            2656             .EXPORT _STOP_LTH_OUT
10461                                     ***** BEGIN-POOL *****
10462 00001264 00000000                   DATA FOR SOURCE-LINE 2641
10463 00001268 00000000                   DATA FOR SOURCE-LINE 2646
10464                                     ***** END-POOL *****
10465 0000126C                   2657     _STOP_LTH_OUT:
10466                            2658             SUB_START
10467 0000126C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10468                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10469 0000126E D105              2659             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10470 00001270 6011              2660             MOV.W   @R1,R0                          ;
10471 00001272 CB01              2661             OR      #BIT0,R0                        ;
10472 00001274 2101              2662             MOV.W   R0,@R1                          ;
10473                            2663     
10474                            2664             FAR_JSR #_CPU_AB_CST_ON_OUT1,R0         ;SH4_HD_CNT_STOP=-1
10475 00001276 D004                   M           MOV.L   #_CPU_AB_CST_ON_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10476 00001278 400B                   M           JSR     @R0                     ;
10477 0000127A 0009                   M           NOP                                     ;
10478                            2665     
10479                            2666             SUB_END
10480                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10481 0000127C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10482                            2667             M_RTS
10483 0000127E 000B                   M           RTS                             ;RTSの後ろの
10484 00001280 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10485                            2668     
10486                            2669     
10487                            2670     ;       *******************************************
10488                            2671     ;       ***                                     ***
10489                            2672     ;       ***             安全一工程              ***
10490                            2673     ;       ***             一行程                  ***
10491                            2674     ;       *******************************************
10492                                     ***** BEGIN-POOL *****
10493 00001282 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    80
PROGRAM NAME =

10494 00001284 00000000                   DATA FOR SOURCE-LINE 2659
10495 00001288 00000000                   DATA FOR SOURCE-LINE 2664
10496                                     ***** END-POOL *****
10497 0000128C                   2675     _MODE_SGL_STOP_CHK:
10498                            2676             SUB_START
10499 0000128C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10501                            2677     ;       === 2003-05-24==
10502 0000128E D105              2678             MOV.L   #_MODE_SEL,R1                   ;寸動・安全一工程・連続・OPT
10503 00001290 6011              2679             MOV.W   @R1,R0                          ;
10504 00001292 9106              2680             MOV.W   #BIT10,R1                       ;
10505 00001294 2018              2681             TST     R1,R0                           ;
10506                            2682             TST_BIT_OF MODE_SGL_STPCHK_050          ;安全一行程
10507 00001296 8909                   M           BT      MODE_SGL_STPCHK_050
10508                            2683             FAR_JSR #_AUTO_ON,R0                    ;一行程
10509 00001298 D003                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10510 0000129A 400B                   M           JSR     @R0                     ;
10511 0000129C 0009                   M           NOP                                     ;
10512                            2684             M_BRA   MODE_SGL_STPCHK_200             ;
10513 0000129E A03F                   M           BRA     MODE_SGL_STPCHK_200
10514 000012A0 0009                   M           NOP
10515                            2685     
10516                                     ***** BEGIN-POOL *****
10517 000012A2 0400                       DATA FOR SOURCE-LINE 2680
10518 000012A4 00000000                   DATA FOR SOURCE-LINE 2678
10519 000012A8 00000000                   DATA FOR SOURCE-LINE 2683
10520                                     ***** END-POOL *****
10521 000012AC                   2686     MODE_SGL_STPCHK_050:                            ;
10522 000012AC D10A              2687             MOV.L   #_UP_HOLD_FLG,R1                ;
10523 000012AE 6011              2688             MOV.W   @R1,R0                          ;
10524 000012B0 C801              2689             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10525                            2690             TST_BIT_OF MODE_SGL_STPCHK_100          ;
10526 000012B2 8923                   M           BT      MODE_SGL_STPCHK_100
10527                            2691     ;;      FAR_JSR #_AUTO_ON,R0                    ;
10528                            2692     
10529                            2693     ;       ----2007-03-02-------------------------
10530                            2694             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;相手側はautoにならないで止めたみたいか？
10531 000012B4 D009                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10532 000012B6 400B                   M           JSR     @R0                     ;
10533 000012B8 0009                   M           NOP                                     ;
10534 000012BA 2008              2695             TST     R0,R0                           ;
10535                            2696             TST_BIT_OF MODE_SGL_STPCHK_080          ;
10536 000012BC 8916                   M           BT      MODE_SGL_STPCHK_080
10537                            2697             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10538 000012BE D108                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10539 000012C0 6011                   M           MOV.W   @R1,R0          ;
10540 000012C2 CB01                   M           OR      #BIT0,R0                ;
10541 000012C4 2101                   M           MOV.W   R0,@R1          ;
10542                            2698             FAR_JSR #_AUTO_OF,R0                    ;
10543 000012C6 D007                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10544 000012C8 400B                   M           JSR     @R0                     ;
10545 000012CA 0009                   M           NOP                                     ;
10546                            2699     
10547                            2700     ;       ---------- [2015-11-15]-------------------
10548                            2701     ;;; .AIF 1 EQ 1
10549                            2702             FAR_JSR #_UP_HOLD_MISS,R0       ;
10550 000012CC D006                   M           MOV.L   #_UP_HOLD_MISS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    81
PROGRAM NAME =

10551 000012CE 400B                   M           JSR     @R0                     ;
10552 000012D0 0009                   M           NOP                                     ;
10553                            2703     ;;; .AENDI
10554                            2704     ;       ---------------------------------------
10555                            2705     
10556                            2706             M_BRA   MODE_SGL_STPCHK_150             ;
10557 000012D2 A01C                   M           BRA     MODE_SGL_STPCHK_150
10558 000012D4 0009                   M           NOP
10559                            2707     
10560                                     ***** BEGIN-POOL *****
10561 000012D6 0000                       ALIGNMENT CODE
10562 000012D8 00000000                   DATA FOR SOURCE-LINE 2687
10563 000012DC 00000000                   DATA FOR SOURCE-LINE 2694
10564 000012E0 00000000                   DATA FOR SOURCE-LINE 2697
10565 000012E4 00000000                   DATA FOR SOURCE-LINE 2698
10566 000012E8 00000000                   DATA FOR SOURCE-LINE 2702
10567                                     ***** END-POOL *****
10568 000012EC                   2708     MODE_SGL_STPCHK_080             ;
10569                            2709             FAR_JSR #_AUTO_ON,R0                    ;
10570 000012EC D002                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10571 000012EE 400B                   M           JSR     @R0                     ;
10572 000012F0 0009                   M           NOP                                     ;
10573                            2710             M_BRA   MODE_SGL_STPCHK_200             ;
10574 000012F2 A015                   M           BRA     MODE_SGL_STPCHK_200
10575 000012F4 0009                   M           NOP
10576                            2711     
10577                                     ***** BEGIN-POOL *****
10578 000012F6 0000                       ALIGNMENT CODE
10579 000012F8 00000000                   DATA FOR SOURCE-LINE 2709
10580                                     ***** END-POOL *****
10581 000012FC                   2712     MODE_SGL_STPCHK_100:                            ;
10582                            2713     
10583                            2714     ;       ======= 2003-06-13 =====
10584                            2715     ;;;とりあえずくみこまない       MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分
                                          ) 2003-06-13
10585                            2716     ;;;とりあえずくみこまない       MOV.W   @R1,R0                          ;運転中止(寸動部分
                                          ) 2003-06-13
10586                            2717     ;;;とりあえずくみこまない       TST     R0,R0                           ;運転中止(寸動部分
                                          ) 2003-06-13
10587                            2718     ;;;とりあえずくみこまない       TST_BIT_OF MODE_SGL_STPCHK_150          ;TIME-OUT
10588                            2719     
10589                            2720     
10590 000012FC D10A              2721             MOV.L   #_BTTN_FLG,R1                   ;
10591 000012FE 6011              2722             MOV.W   @R1,R0                          ;
10592 00001300 C804              2723             TST     #BIT2,R0                        ;両手ON
10593                            2724             TST_BIT_ON MODE_SGL_STPCHK_200          ;
10594 00001302 8B0D                   M           BF      MODE_SGL_STPCHK_200
10595                            2725     
10596                            2726     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10597                            2727     ;;; .AIF 1 EQ 1
10598                            2728             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10599 00001304 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10600 00001306 400B                   M           JSR     @R0                     ;
10601 00001308 0009                   M           NOP                                     ;
10602 0000130A 2008              2729             TST     R0,R0                           ;
10603                            2730             TST_BIT_ON MODE_SGL_STPCHK_200          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10604 0000130C 8B08                   M           BF      MODE_SGL_STPCHK_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    82
PROGRAM NAME =

10605                            2731     ;;; .AENDI
10606                            2732     
10607 0000130E                   2733     MODE_SGL_STPCHK_150:
10608                            2734     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10609                            2735             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10610 0000130E D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10611 00001310 400B                   M           JSR     @R0                     ;
10612 00001312 0009                   M           NOP                                     ;
10613                            2736     
10614                            2737             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10615 00001314 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10616 00001316 E002                   M           MOV.B   #BIT1,R0                        ;
10617 00001318 2101                   M           MOV.W   R0,@R1                          ;
10618                            2738     ;       ---2007-03-02-----
10619                            2739             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10620 0000131A D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10621 0000131C 400B                   M           JSR     @R0                     ;
10622 0000131E 0009                   M           NOP                                     ;
10623                            2740     
10624                            2741     ;;;     MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10625                            2742     ;;;     MOV.W   #BIT1,R0                        ;
10626                            2743     ;;;     MOV.W   R0,@R1                          ;
10627 00001320                   2744     MODE_SGL_STPCHK_200:
10628                            2745             SUB_END
10629                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10630 00001320 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10631                            2746             M_RTS
10632 00001322 000B                   M           RTS                             ;RTSの後ろの
10633 00001324 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10634                            2747     
10635                            2748     
10636                            2749     
10637                            2750     ;       *******************************************
10638                            2751     ;       ***                                     ***
10639                            2752     ;       ***     2016-04-12正式に作成            ***
10640                            2753     ;       ***                                     ***
10641                            2754     ;       *******************************************
10642                                     ***** BEGIN-POOL *****
10643 00001326 0000                       ALIGNMENT CODE
10644 00001328 00000000                   DATA FOR SOURCE-LINE 2721
10645 0000132C 00000000                   DATA FOR SOURCE-LINE 2728
10646 00001330 00000000                   DATA FOR SOURCE-LINE 2735
10647 00001334 00000000                   DATA FOR SOURCE-LINE 2737
10648 00001338 00000000                   DATA FOR SOURCE-LINE 2739
10649                                     ***** END-POOL *****
10650 0000133C                   2755     _MODE_CSS_STOP_CHK:     ;連続一行程・連続寸動一行程
10651                            2756             SUB_START
10652 0000133C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10653                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10654                            2757     
10655 0000133E D104              2758             MOV.L   #_MODE_SEL,R1           ;
10656 00001340 6011              2759             MOV.W   @R1,R0                  ;
10657 00001342 9103              2760             MOV.W   #BIT11,R1
10658 00001344 2018              2761             TST     R1,R0           ;連続一行程？
10659                            2762             TST_BIT_ON MODE_CCC_STOPCHK     ;YES
10660 00001346 8B05                   M           BF      MODE_CCC_STOPCHK
10661                            2763             M_BRA   MODE_CSS_STOPCHK_START  ;連続寸動一行程
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    83
PROGRAM NAME =

10662 00001348 A022                   M           BRA     MODE_CSS_STOPCHK_START
10663 0000134A 0009                   M           NOP
10664                            2764     
10665                            2765     ;       == 連続一行程==
10666                                     ***** BEGIN-POOL *****
10667 0000134C 0800                       DATA FOR SOURCE-LINE 2760
10668 0000134E 0000                       ALIGNMENT CODE
10669 00001350 00000000                   DATA FOR SOURCE-LINE 2758
10670                                     ***** END-POOL *****
10671 00001354                   2766     MODE_CCC_STOPCHK:
10672                            2767             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;
10673 00001354 D009                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10674 00001356 400B                   M           JSR     @R0                     ;
10675 00001358 0009                   M           NOP                                     ;
10676                            2768             FAR_JSR #_MODE_CNTCNF1_STOP_CHK,R0              ;
10677 0000135A D009                   M           MOV.L   #_MODE_CNTCNF1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10678 0000135C 400B                   M           JSR     @R0                     ;
10679 0000135E 0009                   M           NOP                                     ;
10680 00001360 D108              2769             MOV.L   #_BTTN_FLG,R1                           ;
10681 00001362 6011              2770             MOV.W   @R1,R0                                  ;
10682 00001364 C804              2771             TST     #BIT2,R0                                ;
10683                            2772             TST_BIT_ON MODE_CCC_STPCMP_120                  ;両手ON
10684 00001366 8B03                   M           BF      MODE_CCC_STPCMP_120
10685                            2773             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10686 00001368 D107                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10687 0000136A 6011                   M           MOV.W   @R1,R0          ;
10688 0000136C CB01                   M           OR      #BIT0,R0                ;
10689 0000136E 2101                   M           MOV.W   R0,@R1          ;
10690 00001370                   2774     MODE_CCC_STPCMP_120:
10691                            2775     
10692                            2776             FAR_JSR #_MODE_CNTCOM2_STOP_CHK,R0              ;STOP_LATCH_B->STOP_LATCH
10693 00001370 D006                   M           MOV.L   #_MODE_CNTCOM2_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10694 00001372 400B                   M           JSR     @R0                     ;
10695 00001374 0009                   M           NOP                                     ;
10696                            2777                                                             ;良いﾀｲﾐﾝｸﾞで出力する()
10697                            2778     
10698                            2779     
10699                            2780             M_BRA   MODE_CSS_STOPCK1000     ;
10700 00001376 A0AD                   M           BRA     MODE_CSS_STOPCK1000
10701 00001378 0009                   M           NOP
10702                            2781     
10703                            2782     ;       ===========================================
10704                            2783     ;       ===             連続寸動一行程          ===
10705                            2784     ;       ===========================================
10706                            2785     ;       == 連続寸動一行程(あした考える->20190820) ==
10707                                     ***** BEGIN-POOL *****
10708 0000137A 0000                       ALIGNMENT CODE
10709 0000137C 00000000                   DATA FOR SOURCE-LINE 2767
10710 00001380 00000000                   DATA FOR SOURCE-LINE 2768
10711 00001384 00000000                   DATA FOR SOURCE-LINE 2769
10712 00001388 00000000                   DATA FOR SOURCE-LINE 2773
10713 0000138C 00000000                   DATA FOR SOURCE-LINE 2776
10714                                     ***** END-POOL *****
10715 00001390                   2786     MODE_CSS_STOPCHK_START: ;
10716                            2787             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;2019-08-20 共通化
10717 00001390 D00C                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10718 00001392 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    84
PROGRAM NAME =

10719 00001394 0009                   M           NOP                                     ;
10720                            2788     
10721                            2789     
10722                            2790     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10723                            2791     ;       本来なら200:~220でやるべき話だが　ここでやったほうが安全性は高い
10724                            2792             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10725 00001396 D00C                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10726 00001398 400B                   M           JSR     @R0                     ;
10727 0000139A 0009                   M           NOP                                     ;
10728 0000139C 2008              2793             TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10729                            2794             TST_BIT_OF MODE_CCS_STPCMP_105                                          ;
10730 0000139E 891F                   M           BT      MODE_CCS_STPCMP_105
10731                            2795             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10732 000013A0 D10A                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10733 000013A2 6011                   M           MOV.W   @R1,R0          ;
10734 000013A4 CB01                   M           OR      #BIT0,R0                ;
10735 000013A6 2101                   M           MOV.W   R0,@R1          ;
10736                            2796             FAR_JSR #_AUTO_OF,R0                                                    ;
10737 000013A8 D009                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10738 000013AA 400B                   M           JSR     @R0                     ;
10739 000013AC 0009                   M           NOP                                     ;
10740                            2797     
10741                            2798             FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10742 000013AE D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10743 000013B0 400B                   M           JSR     @R0                     ;
10744 000013B2 0009                   M           NOP                                     ;
10745                            2799             MOD_LOW_STOP_R0_R1                                              ;
10746 000013B4 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10747 000013B6 E002                   M           MOV.B   #BIT1,R0                        ;
10748 000013B8 2101                   M           MOV.W   R0,@R1                          ;
10749                            2800             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10750 000013BA D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10751 000013BC 400B                   M           JSR     @R0                     ;
10752 000013BE 0009                   M           NOP                                     ;
10753                            2801             M_BRA   MODE_CCS_STPCMP_300                                     ;
10754 000013C0 A088                   M           BRA     MODE_CCS_STPCMP_300
10755 000013C2 0009                   M           NOP
10756                            2802     
10757                            2803     
10758                            2804     
10759                                     ***** BEGIN-POOL *****
10760 000013C4 00000000                   DATA FOR SOURCE-LINE 2787
10761 000013C8 00000000                   DATA FOR SOURCE-LINE 2792
10762 000013CC 00000000                   DATA FOR SOURCE-LINE 2795
10763 000013D0 00000000                   DATA FOR SOURCE-LINE 2796
10764 000013D4 00000000                   DATA FOR SOURCE-LINE 2798
10765 000013D8 00000000                   DATA FOR SOURCE-LINE 2799
10766 000013DC 00000000                   DATA FOR SOURCE-LINE 2800
10767                                     ***** END-POOL *****
10768 000013E0                   2805     MODE_CCS_STPCMP_105:
10769                            2806     ;       ----------------------------------------------------------------
10770                            2807     
10771                            2808     
10772                            2809     
10773                            2810     ;;;;;;  ----- 2005-08-26 -------
10774                            2811     ;;;;;;  MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    85
PROGRAM NAME =

10775                            2812     ;;;;;;  MOV.W   @R1,R0                          ;
10776                            2813     ;;;;;;  TST     #BIT0,R0                        ;STOP-LATCH-ON
10777                            2814     ;;;;;;  TST_BIT_OF MODE_CCS_STPCMP_110          ;
10778                            2815     ;;;;;;  M_BRA   MODE_CCS_STPCMP_270
10779                            2816     ;;;;;;MODE_CCS_STPCMP_110:
10780                            2817     ;       ------------------------
10781                            2818     
10782 000013E0 D111              2819             MOV.L   #_BTTN_FLG,R1                   ;
10783 000013E2 6011              2820             MOV.W   @R1,R0                          ;
10784 000013E4 C804              2821             TST     #BIT2,R0                        ;
10785                            2822             TST_BIT_ON MODE_CCS_STPCMP_120          ;両手ON
10786 000013E6 8B02                   M           BF      MODE_CCS_STPCMP_120
10787                            2823     
10788 000013E8 901C              2824             MOV.W   #BIT0,R0                        ;
10789 000013EA D110              2825             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10790 000013EC 2101              2826             MOV.W   R0,@R1                          ;
10791                            2827     
10792 000013EE                   2828     MODE_CCS_STPCMP_120:
10793                            2829     ;       ---------回転の論理変更----------
10794 000013EE D110              2830             MOV.L   #_CPOS_CTL_MATH,R1              ;
10795 000013F0 6011              2831             MOV.W   @R1,R0                          ;
10796                            2832     ;;;2016-10-31   TST     #_DMATH_CNTROT,R0               ;
10797 000013F2 C805              2833             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10798                            2834             TST_BIT_OF MODE_CCS_STPCMP_140          ;
10799 000013F4 892C                   M           BT      MODE_CCS_STPCMP_140
10800                            2835     
10801 000013F6 D40F              2836             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
10802 000013F8 6041              2837             MOV.W   @R4,R0                          ;
10803 000013FA C802              2838             TST     #(BIT1),R0                      ;下降(停止)
10804                            2839             TST_BIT_ON MODE_CCS_STPCMP_145          ;
10805 000013FC 8B2C                   M           BF      MODE_CCS_STPCMP_145
10806                            2840     
10807 000013FE D50E              2841             MOV.L   #_INT_POS_CTL_STEP,R5           ;
10808 00001400 6251              2842             MOV.W   @R5,R2                          ;
10809 00001402 D40E              2843             MOV.L   #_UP_HOLD_STEP,R4               ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
10810 00001404 6541              2844             MOV.W   @R4,R5                          ;
10811 00001406 3252              2845             CMP/HS  R5,R2                           ;ﾁｪｯｸすべき工程にきたか
10812 00001408 8B26              2846             BF      MODE_CCS_STPCMP_145             ;NO(停止)
10813                            2847     
10814                            2848     ;;;2019-08-20   MOV.L   #_INC_ENC360,R4                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
10815 0000140A D40D              2849             MOV.L   #_DNM_CTL_INC3600,R4            ;
10816 0000140C 6241              2850             MOV.W   @R4,R2                          ;
10817 0000140E D50D              2851             MOV.L   #_UP_HOLD_DIG,R5                ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
10818 00001410 6151              2852             MOV.W   @R5,R1                          ;START
10819 00001412 D50D              2853             MOV.L   #_SETX_UPAREA_DIG,R5            ;
10820 00001414 6351              2854             MOV.W   @R5,R3                          ;
10821                            2855             FAR_JSR #_DIG_AREA_CHK1,R0              ;"ANS:R5"
10822 00001416 D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10823 00001418 400B                   M           JSR     @R0                     ;
10824 0000141A 0009                   M           NOP                                     ;
10825 0000141C 4511              2856             CMP/PZ  R5                              ;
10826 0000141E 8B1B              2857             BF      MODE_CCS_STPCMP_145             ;
10827                            2858             M_BRA   MODE_CCS_STPCMP_200             ;165~359.9　HOLD
10828 00001420 A042                   M           BRA     MODE_CCS_STPCMP_200
10829 00001422 0009                   M           NOP
10830                            2859     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    86
PROGRAM NAME =

10831                            2860     ;       -------- 反転------------
10832                                     ***** BEGIN-POOL *****
10833 00001424 0001                       DATA FOR SOURCE-LINE 2824
10834 00001426 0000                       ALIGNMENT CODE
10835 00001428 00000000                   DATA FOR SOURCE-LINE 2819
10836 0000142C 00000000                   DATA FOR SOURCE-LINE 2825
10837 00001430 00000000                   DATA FOR SOURCE-LINE 2830
10838 00001434 00000000                   DATA FOR SOURCE-LINE 2836
10839 00001438 00000000                   DATA FOR SOURCE-LINE 2841
10840 0000143C 00000000                   DATA FOR SOURCE-LINE 2843
10841 00001440 00000000                   DATA FOR SOURCE-LINE 2849
10842 00001444 00000000                   DATA FOR SOURCE-LINE 2851
10843 00001448 00000000                   DATA FOR SOURCE-LINE 2853
10844 0000144C 00000000                   DATA FOR SOURCE-LINE 2855
10845                                     ***** END-POOL *****
10846 00001450                   2861     MODE_CCS_STPCMP_140:
10847 00001450 D10D              2862             MOV.L   #_LOT_CNT_FLG,R1                ;//行程=1で0 最終工程で条件成立で=1()
10848 00001452 6011              2863             MOV.W   @R1,R0                          ;BIT0=1 上昇ﾎｰﾙﾄﾞ〜1工程または下降工程まで
10849 00001454 C801              2864             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10850                            2865             TST_BIT_ON MODE_CCS_STPCMP_200          ;
10851 00001456 8B27                   M           BF      MODE_CCS_STPCMP_200
10852                            2866     
10853                            2867     
10854 00001458                   2868     MODE_CCS_STPCMP_145:
10855                            2869             FAR_JSR #_AUTO_OF,R0                    ;
10856 00001458 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10857 0000145A 400B                   M           JSR     @R0                     ;
10858 0000145C 0009                   M           NOP                                     ;
10859                            2870     
10860                            2871     ;       === 上昇ﾎｰﾙﾄﾞではない===
10861 0000145E D10C              2872             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10862 00001460 6011              2873             MOV.W   @R1,R0                          ;
10863 00001462 C801              2874             TST     #BIT0,R0                        ;
10864                            2875             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10865 00001464 8936                   M           BT      MODE_CCS_STPCMP_300
10866                            2876     
10867                            2877     ;;;;2005-08-28  MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10868                            2878     
10869                            2879     ;下降行程で手を離したら無条件に停止する
10870                            2880     ;;;;2007-12-26  MOV.L   #_STOP_LATCH_B,R1               ;2005-08-28
10871                            2881     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10872                            2882     ;;;;2007-12-26  TST     #BIT0,R0                        ;
10873                            2883     ;;;;2007-12-26  TST_BIT_OF MODE_CCS_STPCMP_150          ;通常の停止
10874                            2884     ;;;;2007-12-26
10875                            2885     ;;;;2007-12-26  MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10876                            2886     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10877                            2887     ;;;;2007-12-26  MOV.L   #_CPOS_STEP_MAX,R2              ;
10878                            2888     ;;;;2007-12-26  MOV.W   @R2,R4                          ;
10879                            2889     ;;;;2007-12-26  ADD     #1,R4                           ;
10880                            2890     ;;;;2007-12-26  CMP/EQ  R0,R4                           ;
10881                            2891     ;;;;2007-12-26  BF      MODE_CCS_STPCMP_150             ;最終工程でないなら手動停止
10882                            2892     ;;;;2007-12-26  M_BRA   MODE_CCS_STPCMP_300             ;
10883                            2893     ;;;;2019-08-20MODE_CCS_STPCMP_150:
10884                            2894     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10885                            2895             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10886 00001466 D00B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    87
PROGRAM NAME =

10887 00001468 400B                   M           JSR     @R0                     ;
10888 0000146A 0009                   M           NOP                                     ;
10889                            2896             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10890 0000146C D10A                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10891 0000146E E002                   M           MOV.B   #BIT1,R0                        ;
10892 00001470 2101                   M           MOV.W   R0,@R1                          ;
10893                            2897     ;       ---2007-03-02-----
10894                            2898             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10895 00001472 D00A                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10896 00001474 400B                   M           JSR     @R0                     ;
10897 00001476 0009                   M           NOP                                     ;
10898                            2899     
10899                            2900     ;       ------- 2007-12-26-------
10900 00001478 200A              2901             XOR     R0,R0
10901 0000147A D109              2902             MOV.L   #_STOP_LATCH_B,R1               ;
10902 0000147C 2101              2903             MOV.W   R0,@R1
10903 0000147E D109              2904             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10904 00001480 2101              2905             MOV.W   R0,@R1
10905                            2906             M_BRA   MODE_CCS_STPCMP_300             ;
10906 00001482 A027                   M           BRA     MODE_CCS_STPCMP_300
10907 00001484 0009                   M           NOP
10908                            2907     
10909                            2908     ;       ====== 上昇ﾎｰﾙﾄﾞ中 =====
10910                                     ***** BEGIN-POOL *****
10911 00001486 0000                       ALIGNMENT CODE
10912 00001488 00000000                   DATA FOR SOURCE-LINE 2862
10913 0000148C 00000000                   DATA FOR SOURCE-LINE 2869
10914 00001490 00000000                   DATA FOR SOURCE-LINE 2872
10915 00001494 00000000                   DATA FOR SOURCE-LINE 2895
10916 00001498 00000000                   DATA FOR SOURCE-LINE 2896
10917 0000149C 00000000                   DATA FOR SOURCE-LINE 2898
10918 000014A0 00000000                   DATA FOR SOURCE-LINE 2902
10919 000014A4 00000000                   DATA FOR SOURCE-LINE 2904
10920                                     ***** END-POOL *****
10921 000014A8                   2909     MODE_CCS_STPCMP_200:
10922                            2910     ;2007-11-21 本来は200:~220:だけでいいが確認が難しいことと、不具合をださないなら上でやる
10923                            2911     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10924                            2912     ;       FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10925                            2913     ;       TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10926                            2914     ;       TST_BIT_OF MODE_CCS_STPCMP_220                                          ;
10927                            2915     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10928                            2916     ;       FAR_JSR #_AUTO_OF,R0                                                    ;
10929                            2917     ;
10930                            2918     ;       FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10931                            2919     ;       MOD_LOW_STOP_R0_R1                                              ;
10932                            2920     ;       FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10933                            2921     ;       M_BRA   MODE_CCS_STPCMP_300                                     ;
10934                            2922     ;MODE_CCS_STPCMP_220:
10935                            2923     ;       ----------------------------------------------------------------
10936                            2924     
10937                            2925             FAR_JSR #_AUTO_ON,R0                    ;
10938 000014A8 D00C                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10939 000014AA 400B                   M           JSR     @R0                     ;
10940 000014AC 0009                   M           NOP                                     ;
10941                            2926     
10942 000014AE D10C              2927             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    88
PROGRAM NAME =

10943 000014B0 6011              2928             MOV.W   @R1,R0                          ;
10944 000014B2 2008              2929             TST     R0,R0                           ;
10945                            2930             TST_BIT_ON MODE_CCS_STPCMP_250          ;停止すべき
10946 000014B4 8B03                   M           BF      MODE_CCS_STPCMP_250
10947                            2931     
10948 000014B6 D10B              2932             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10949 000014B8 6011              2933             MOV.W   @R1,R0                          ;
10950 000014BA C801              2934             TST     #BIT0,R0                        ;
10951                            2935             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10952 000014BC 890A                   M           BT      MODE_CCS_STPCMP_300
10953                            2936     
10954 000014BE                   2937     MODE_CCS_STPCMP_250:
10955 000014BE D10A              2938             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10956 000014C0 6011              2939             MOV.W   @R1,R0                          ;
10957 000014C2 CB01              2940             OR      #BIT0,R0                        ;
10958 000014C4 2101              2941             MOV.W   R0,@R1                          ;
10959                            2942     
10960 000014C6                   2943     MODE_CCS_STPCMP_270:
10961                            2944     
10962                            2945     ;;;;;;;;;;;2007-12-26 最終工程でなくても上昇ﾎｰﾙﾄﾞで停止ｺﾏﾝﾄﾞ出力
10963                            2946     ;;;     ------------- 追加 2005-08-26 -----------
10964                            2947     ;;;        MOV.L        #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10965                            2948     ;;;        MOV.W        @R1,R0                          ;
10966                            2949     ;;;        MOV.L        #_CPOS_STEP_MAX,R2              ;
10967                            2950     ;;;        MOV.W        @R2,R4                          ;
10968                            2951     ;;;        ADD  #1,R4                           ;
10969                            2952     ;;;        CMP/EQ       R0,R4                           ;
10970                            2953     ;;;        BF   MODE_CCS_STPCMP_280             ;最終工程以外?
10971                            2954     ;;;        M_BRA        MODE_CCS_STPCMP_300             ;
10972                            2955     
10973 000014C6                   2956     MODE_CCS_STPCMP_280:
10974 000014C6 D109              2957             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10975 000014C8 6011              2958             MOV.W   @R1,R0                                                  ;
10976 000014CA C804              2959             TST     #BIT2,R0                                                ;2004-12-20
10977                            2960             TST_BIT_ON MODE_CCS_STPCMP_300                                  ;
10978 000014CC 8B02                   M           BF      MODE_CCS_STPCMP_300
10979                            2961     
10980                            2962             FAR_JSR #_STOP_LTH_OUT,R0
10981 000014CE D008                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10982 000014D0 400B                   M           JSR     @R0                     ;
10983 000014D2 0009                   M           NOP                                     ;
10984                            2963     
10985                            2964     
10986 000014D4                   2965     MODE_CCS_STPCMP_300:
10987                            2966     
10988 000014D4                   2967     MODE_CSS_STOPCK1000:
10989                            2968     
10990                            2969             SUB_END
10991                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10992 000014D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10993                            2970             M_RTS
10994 000014D6 000B                   M           RTS                             ;RTSの後ろの
10995 000014D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10996                            2971     
10997                            2972     
10998                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    89
PROGRAM NAME =

10999 000014DA 0000                       ALIGNMENT CODE
11000 000014DC 00000000                   DATA FOR SOURCE-LINE 2925
11001 000014E0 00000000                   DATA FOR SOURCE-LINE 2927
11002 000014E4 00000000                   DATA FOR SOURCE-LINE 2932
11003 000014E8 00000000                   DATA FOR SOURCE-LINE 2938
11004 000014EC 00000000                   DATA FOR SOURCE-LINE 2957
11005 000014F0 00000000                   DATA FOR SOURCE-LINE 2962
11006                                     ***** END-POOL *****
11007 000014F4                   2973     _MODE_OPT_STOP_CHK:;//(ｵﾌﾟｼｮﾝではなくなってしまっている ここにはこないPSDIぐらい)
11008 000014F4                   2974     _MODE_INC_STOP_CHK:
11009                            2975             SUB_START
11010 000014F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11011                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11012 000014F6 D103              2976             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分) 2003-06-13
11013 000014F8 6011              2977             MOV.W   @R1,R0                          ;運転中止(寸動部分) 2003-06-13
11014 000014FA 2008              2978             TST     R0,R0                           ;運転中止(寸動部分) 2003-06-13
11015                            2979             TST_BIT_OF MODE_INC_STPCHK_050          ;運転中止(寸動部分) 2003-06-13
11016 000014FC 8923                   M           BT      MODE_INC_STPCHK_050
11017                            2980             M_BRA   MODE_INC_STPCHK_000             ;運転中止(寸動部分) 2003-06-13
11018 000014FE A019                   M           BRA     MODE_INC_STPCHK_000
11019 00001500 0009                   M           NOP
11020                            2981     
11021                            2982     
11022                                     ***** BEGIN-POOL *****
11023 00001502 0000                       ALIGNMENT CODE
11024 00001504 00000000                   DATA FOR SOURCE-LINE 2976
11025                                     ***** END-POOL *****
11026 00001508                   2983     _MODE_DIC_STOP_CHK:
11027                            2984             SUB_START
11028 00001508 4F22                   M           STS.L   PR,@-R15                ;[必要]
11029                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11030                            2985     ;       -------- 2006-07-28----
11031 0000150A D107              2986             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
11032 0000150C 6011              2987             MOV.W   @R1,R0                          ;
11033 0000150E 2008              2988             TST     R0,R0                           ;
11034                            2989             TST_BIT_OF MODE_INC_STPCHK_000          ;
11035 00001510 8910                   M           BT      MODE_INC_STPCHK_000
11036                            2990     
11037                            2991     
11038                            2992     ;       ---------手パﾓｰﾄﾞで手パ有効OFFなら終り[2011-07-04]
11039 00001512 D106              2993             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
11040 00001514 6011              2994             MOV.W   @R1,R0                          ;
11041 00001516 C802              2995             TST     #BIT1,R0                        ;
11042                            2996             TST_BIT_OF MODE_INC_STPCHK_050          ;
11043 00001518 8915                   M           BT      MODE_INC_STPCHK_050
11044                            2997     
11045                            2998     
11046 0000151A D105              2999             MOV.L   #_BTTN_FLG,R1                   ;
11047 0000151C 6011              3000             MOV.W   @R1,R0                          ;
11048 0000151E C802              3001             TST     #BIT1,R0                        ;
11049                            3002             TST_BIT_ON MODE_INC_STPCHK_100          ;片手ONなら継続
11050 00001520 8B1A                   M           BF      MODE_INC_STPCHK_100
11051                            3003             M_BRA   MODE_INC_STPCHK_050             ;
11052 00001522 A010                   M           BRA     MODE_INC_STPCHK_050
11053 00001524 0009                   M           NOP
11054                            3004     ;       -----------------------
11055                            3005     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    90
PROGRAM NAME =

11056                                     ***** BEGIN-POOL *****
11057 00001526 0000                       ALIGNMENT CODE
11058 00001528 00000000                   DATA FOR SOURCE-LINE 2986
11059 0000152C 00000000                   DATA FOR SOURCE-LINE 2993
11060 00001530 00000000                   DATA FOR SOURCE-LINE 2999
11061                                     ***** END-POOL *****
11062 00001534                   3006     MODE_INC_STPCHK_000:
11063 00001534 D10A              3007             MOV.L   #_BTTN_FLG,R1                   ;
11064 00001536 6011              3008             MOV.W   @R1,R0                          ;
11065 00001538 C804              3009             TST     #BIT2,R0                        ;両手ON
11066                            3010             TST_BIT_ON MODE_INC_STPCHK_100          ;
11067 0000153A 8B0D                   M           BF      MODE_INC_STPCHK_100
11068                            3011     
11069                            3012     ;       ---------- 2015-11-13[行程2重回路対策]---------------
11070                            3013     ;;;; .AIF 1 EQ 1
11071                            3014             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
11072 0000153C D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11073 0000153E 400B                   M           JSR     @R0                     ;
11074 00001540 0009                   M           NOP                                     ;
11075 00001542 2008              3015             TST     R0,R0                           ;
11076                            3016             TST_BIT_ON MODE_INC_STPCHK_100          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
11077 00001544 8B08                   M           BF      MODE_INC_STPCHK_100
11078                            3017     ;;;; .AENDI
11079                            3018     ;       ------------------------------------
11080                            3019     
11081 00001546                   3020     MODE_INC_STPCHK_050:
11082                            3021     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11083                            3022             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11084 00001546 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11085 00001548 400B                   M           JSR     @R0                     ;
11086 0000154A 0009                   M           NOP                                     ;
11087                            3023     
11088                            3024             MOD_LOW_STOP_R0_R1                      ;2007-03-02
11089 0000154C D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11090 0000154E E002                   M           MOV.B   #BIT1,R0                        ;
11091 00001550 2101                   M           MOV.W   R0,@R1                          ;
11092                            3025     ;       ---2007-03-02-----
11093                            3026             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11094 00001552 D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11095 00001554 400B                   M           JSR     @R0                     ;
11096 00001556 0009                   M           NOP                                     ;
11097                            3027     
11098                            3028     ;;;     MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11099                            3029     ;;;     MOV.W   #BIT1,R0                        ;
11100                            3030     ;;;     MOV.W   R0,@R1                          ;
11101 00001558                   3031     MODE_INC_STPCHK_100:
11102                            3032             SUB_END
11103                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11104 00001558 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11105                            3033             M_RTS
11106 0000155A 000B                   M           RTS                             ;RTSの後ろの
11107 0000155C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11108                            3034     
11109                            3035     ;       === 2003-07-09 =====
11110                                     ***** BEGIN-POOL *****
11111 0000155E 0000                       ALIGNMENT CODE
11112 00001560 00000000                   DATA FOR SOURCE-LINE 3007
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    91
PROGRAM NAME =

11113 00001564 00000000                   DATA FOR SOURCE-LINE 3014
11114 00001568 00000000                   DATA FOR SOURCE-LINE 3022
11115 0000156C 00000000                   DATA FOR SOURCE-LINE 3024
11116 00001570 00000000                   DATA FOR SOURCE-LINE 3026
11117                                     ***** END-POOL *****
11118 00001574                   3036     _MODE_DUP_STOP_CHK:
11119                            3037             SUB_START
11120 00001574 4F22                   M           STS.L   PR,@-R15                ;[必要]
11121                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11122                            3038     
11123 00001576 D109              3039             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
11124 00001578 6011              3040             MOV.W   @R1,R0                          ;
11125 0000157A 8801              3041             CMP/EQ  #1,R0                           ;
11126 0000157C 8918              3042             BT      MODE_DUP_STPCHK100              ;
11127                            3043     
11128 0000157E D108              3044             MOV.L   #_BTTN_FLG,R1                   ;
11129 00001580 6011              3045             MOV.W   @R1,R0                          ;
11130 00001582 C804              3046             TST     #BIT2,R0                        ;両手ON
11131                            3047             TST_BIT_ON MODE_DUP_STPCHK200           ;
11132 00001584 8B22                   M           BF      MODE_DUP_STPCHK200
11133                            3048             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11134 00001586 D007                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11135 00001588 400B                   M           JSR     @R0                     ;
11136 0000158A 0009                   M           NOP                                     ;
11137                            3049     ;;;20060916             FAR_JSR #_STOPPING_TIM_STOP_INI,R0      ;
11138                            3050             MOD_LOW_STOP_R0_R1                      ;減速停止
11139 0000158C D106                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11140 0000158E E002                   M           MOV.B   #BIT1,R0                        ;
11141 00001590 2101                   M           MOV.W   R0,@R1                          ;
11142                            3051     ;       ---2007-03-02-----
11143                            3052             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11144 00001592 D006                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11145 00001594 400B                   M           JSR     @R0                     ;
11146 00001596 0009                   M           NOP                                     ;
11147                            3053     
11148                            3054             M_BRA   MODE_DUP_STPCHK200
11149 00001598 A018                   M           BRA     MODE_DUP_STPCHK200
11150 0000159A 0009                   M           NOP
11151                            3055     
11152                                     ***** BEGIN-POOL *****
11153 0000159C 00000000                   DATA FOR SOURCE-LINE 3039
11154 000015A0 00000000                   DATA FOR SOURCE-LINE 3044
11155 000015A4 00000000                   DATA FOR SOURCE-LINE 3048
11156 000015A8 00000000                   DATA FOR SOURCE-LINE 3050
11157 000015AC 00000000                   DATA FOR SOURCE-LINE 3052
11158                                     ***** END-POOL *****
11159 000015B0                   3056     MODE_DUP_STPCHK100:
11160                            3057     ;       ====原点復帰完了待ち
11161 000015B0 D108              3058             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11162 000015B2 6011              3059             MOV.W   @R1,R0                          ;起動でBIT1=BIT0=0 完了でBIT0=1　LATCH/BIT
                                          1=1
11163 000015B4 C810              3060             TST     #BIT4,R0                        ;
11164                            3061             TST_BIT_ON MODE_DUP_STPCHK200           ;BIT4=1 全工程終了
11165 000015B6 8B09                   M           BF      MODE_DUP_STPCHK200
11166                            3062     
11167 000015B8 C808              3063             TST     #BIT3,R0                        ;終了 終了ﾗｯﾁ
11168                            3064             TST_BIT_OF MODE_DUP_STPCHK200           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    92
PROGRAM NAME =

11169 000015BA 8907                   M           BT      MODE_DUP_STPCHK200
11170 000015BC CB10              3065             OR      #BIT4,R0                        ;
11171 000015BE 2101              3066             MOV.W   R0,@R1                          ;
11172                            3067     
11173                            3068             MOD_LOW_STOP_R0_R1                      ;減速停止(本当は不要だけど終了させる為にあ
                                          えて)
11174 000015C0 D105                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11175 000015C2 E002                   M           MOV.B   #BIT1,R0                        ;
11176 000015C4 2101                   M           MOV.W   R0,@R1                          ;
11177                            3069     ;       ---2007-03-02-----
11178                            3070             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11179 000015C6 D005                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11180 000015C8 400B                   M           JSR     @R0                     ;
11181 000015CA 0009                   M           NOP                                     ;
11182                            3071     
11183 000015CC                   3072     MODE_DUP_STPCHK200
11184                            3073             SUB_END
11185                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11186 000015CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11187                            3074             M_RTS
11188 000015CE 000B                   M           RTS                             ;RTSの後ろの
11189 000015D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11190                            3075     
11191                            3076     ;       *******************************************
11192                            3077     ;       ***                                     ***
11193                            3078     ;       ***     位置決めキャンセル指令時クリア  ***
11194                            3079     ;       ***                                     ***
11195                            3080     ;       *******************************************
11196                                     ***** BEGIN-POOL *****
11197 000015D2 0000                       ALIGNMENT CODE
11198 000015D4 00000000                   DATA FOR SOURCE-LINE 3058
11199 000015D8 00000000                   DATA FOR SOURCE-LINE 3068
11200 000015DC 00000000                   DATA FOR SOURCE-LINE 3070
11201                                     ***** END-POOL *****
11202 000015E0                   3081     _POS_CANSEL_STOP_CHK:
11203                            3082             SUB_START
11204 000015E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
11205                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11206                            3083              .AIF   1 EQ 1  ;
11207                            3084 C   ;       -------- 2016-10-31 ADD 二重回路対策
11208                            3085              .AENDI
11209                            3086     
11210                            3087     ;;;2016-10-31   MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
11211                            3088     ;;;2016-10-31   MOV.W   @R1,R0                          ;
11212                            3089     ;;;2016-10-31   MOV.W   #BIT11,R4                       ;
11213                            3090     
11214                            3091     ;       -------- 2016-10-31(2016-05-11) ﾗｯﾁﾃﾞｰﾀに変更-----------
11215 000015E2 D10C              3092             MOV.L   #_POSCANSEL_CMD,R1              ;
11216 000015E4 6011              3093             MOV.W   @R1,R0                          ;
11217 000015E6 9413              3094             MOV.W   #BIT11,R4                       ;
11218                            3095     
11219 000015E8 2048              3096             TST     R4,R0                           ;
11220                            3097             TST_BIT_OF POS_CANSEL_STPCHK_MOV        ;
11221 000015EA 891F                   M           BT      POS_CANSEL_STPCHK_MOV
11222                            3098     
11223                            3099             FAR_JSR #_POS_CANSEL_CLR,R0
11224 000015EC D00A                   M           MOV.L   #_POS_CANSEL_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    93
PROGRAM NAME =

11225 000015EE 400B                   M           JSR     @R0                     ;
11226 000015F0 0009                   M           NOP                                     ;
11227                            3100             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
11228 000015F2 D00A                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11229 000015F4 400B                   M           JSR     @R0                     ;
11230 000015F6 0009                   M           NOP                                     ;
11231                            3101     
11232                            3102     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11233                            3103             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11234 000015F8 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11235 000015FA 400B                   M           JSR     @R0                     ;
11236 000015FC 0009                   M           NOP                                     ;
11237                            3104     
11238                            3105     ;       ---2007-03-02-----
11239                            3106             MOD_LOW_STOP_R0_R1              ;bit1->_MNWR_POS_CMD,R1         ;減速停止,起動OFF
11240 000015FE D109                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11241 00001600 E002                   M           MOV.B   #BIT1,R0                        ;
11242 00001602 2101                   M           MOV.W   R0,@R1                          ;
11243                            3107             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11244 00001604 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11245 00001606 400B                   M           JSR     @R0                     ;
11246 00001608 0009                   M           NOP                                     ;
11247                            3108     
11248                            3109     ;       ---- STOP ANS
11249 0000160A E001              3110             MOV     #1,R0
11250                            3111             M_BRA   POS_CANSEL_STPCHK_END
11251 0000160C A00F                   M           BRA     POS_CANSEL_STPCHK_END
11252 0000160E 0009                   M           NOP
11253                                     ***** BEGIN-POOL *****
11254 00001610 0800                       DATA FOR SOURCE-LINE 3094
11255 00001612 0000                       ALIGNMENT CODE
11256 00001614 00000000                   DATA FOR SOURCE-LINE 3092
11257 00001618 00000000                   DATA FOR SOURCE-LINE 3099
11258 0000161C 00000000                   DATA FOR SOURCE-LINE 3100
11259 00001620 00000000                   DATA FOR SOURCE-LINE 3103
11260 00001624 00000000                   DATA FOR SOURCE-LINE 3106
11261 00001628 00000000                   DATA FOR SOURCE-LINE 3107
11262                                     ***** END-POOL *****
11263 0000162C                   3112     POS_CANSEL_STPCHK_MOV:
11264 0000162C 200A              3113             XOR     R0,R0
11265 0000162E                   3114     POS_CANSEL_STPCHK_END:
11266                            3115             SUB_END
11267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11268 0000162E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11269                            3116             M_RTS
11270 00001630 000B                   M           RTS                             ;RTSの後ろの
11271 00001632 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11272                            3117     
11273 00001634                   3118     _POS_CANSEL_CLR
11274                            3119             SUB_START
11275 00001634 4F22                   M           STS.L   PR,@-R15                ;[必要]
11276                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11277                            3120             FAR_JSR #_AUTO_OF,R0                    ;
11278 00001636 D006                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11279 00001638 400B                   M           JSR     @R0                     ;
11280 0000163A 0009                   M           NOP                                     ;
11281 0000163C 200A              3121             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    94
PROGRAM NAME =

11282 0000163E D105              3122             MOV.L   #_STOP_LATCH_B,R1               ;
11283 00001640 2101              3123             MOV.W   R0,@R1
11284 00001642 D105              3124             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11285 00001644 2101              3125             MOV.W   R0,@R1
11286 00001646 D105              3126             MOV.L   #_INT_CLS_CTL_FLG,R1            ;//BIT0=1 START 起動時ｸﾘｱ
11287 00001648 2101              3127             MOV.W   R0,@R1                          ;
11288                            3128     
11289                            3129             SUB_END
11290                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11291 0000164A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11292                            3130             M_RTS
11293 0000164C 000B                   M           RTS                             ;RTSの後ろの
11294 0000164E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11295                            3131     
11296                            3132     
11297                            3133     ;       *******************************************
11298                            3134     ;       ***                                     ***
11299                            3135     ;       ***     モード制御フラグの異常時クリア  ***
11300                            3136     ;       ***                                     ***
11301                            3137     ;       *******************************************
11302                                     ***** BEGIN-POOL *****
11303 00001650 00000000                   DATA FOR SOURCE-LINE 3120
11304 00001654 00000000                   DATA FOR SOURCE-LINE 3122
11305 00001658 00000000                   DATA FOR SOURCE-LINE 3124
11306 0000165C 00000000                   DATA FOR SOURCE-LINE 3126
11307                                     ***** END-POOL *****
11308 00001660                   3138             .ALIGN  4                               ;
11309 00001660                   3139     _EMG_CTL_FLG_PROC:
11310                            3140             SUB_START
11311 00001660 4F22                   M           STS.L   PR,@-R15                ;[必要]
11312                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11313                            3141             FAR_JSR #_EXQ_CTL_FLG_PROC,R1           ;
11314 00001662 D10D                   M           MOV.L   #_EXQ_CTL_FLG_PROC,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11315 00001664 410B                   M           JSR     @R1                     ;
11316 00001666 0009                   M           NOP                                     ;
11317                            3142             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;(ﾛｯﾄｶｳﾝﾀには使用できないので注意)
11318 00001668 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11319 0000166A 400B                   M           JSR     @R0                     ;
11320 0000166C 0009                   M           NOP                                     ;
11321                            3143             FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;
11322 0000166E D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11323 00001670 400B                   M           JSR     @R0                     ;
11324 00001672 0009                   M           NOP                                     ;
11325                            3144     
11326 00001674 200A              3145             XOR     R0,R0                           ;
11327 00001676 D10B              3146             MOV.L   #_INT_POS_CTL_STEP,R1           ;
11328 00001678 2101              3147             MOV.W   R0,@R1                          ;
11329 0000167A D10B              3148             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
11330 0000167C 2101              3149             MOV.W   R0,@R1                          ;
11331                            3150     
11332                            3151             FAR_JSR #_STEP_SIG_DSP_CLR,R0
11333 0000167E D00B                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11334 00001680 400B                   M           JSR     @R0                     ;
11335 00001682 0009                   M           NOP                                     ;
11336                            3152     
11337 00001684 200A              3153             XOR     R0,R0                           ;2004-01-28
11338 00001686 D10A              3154             MOV.L   #_ENC360_OVER_FLG,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    95
PROGRAM NAME =

11339 00001688 2101              3155             MOV.W   R0,@R1                          ;
11340                            3156     
11341                            3157     ;       ----- 2006-04-26 ------------
11342 0000168A 200A              3158             XOR     R0,R0                           ;
11343 0000168C D109              3159             MOV.L   #_IN_RDY_FLG,R1                 ;ANTI LEVEL
11344 0000168E 2101              3160             MOV.W   R0,@R1                          ;
11345                            3161     
11346                            3162             SUB_END
11347                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11348 00001690 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11349                            3163             M_RTS
11350 00001692 000B                   M           RTS                             ;RTSの後ろの
11351 00001694 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11352                            3164     
11353                                     ***** BEGIN-POOL *****
11354 00001696 0000                       ALIGNMENT CODE
11355 00001698 00000000                   DATA FOR SOURCE-LINE 3141
11356 0000169C 00000000                   DATA FOR SOURCE-LINE 3142
11357 000016A0 00000000                   DATA FOR SOURCE-LINE 3143
11358 000016A4 00000000                   DATA FOR SOURCE-LINE 3146
11359 000016A8 00000000                   DATA FOR SOURCE-LINE 3148
11360 000016AC 00000000                   DATA FOR SOURCE-LINE 3151
11361 000016B0 00000000                   DATA FOR SOURCE-LINE 3154
11362 000016B4 00000000                   DATA FOR SOURCE-LINE 3159
11363                                     ***** END-POOL *****
11364 000016B8                   3165             .ALIGN  4                               ;
11365 000016B8                   3166     _EXQ_CTL_FLG_PROC:                              ;EMGでも呼ばれる
11366                            3167             SUB_START
11367 000016B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11368                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11369                            3168     ;;;     XOR     R0,R0                           ;
11370                            3169     ;;;2006-04-26   MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
11371                            3170     ;;;2006-04-26   MOV.W   R0,@R1                  ;
11372                            3171     
11373 000016BA 200A              3172             XOR     R0,R0                           ;
11374 000016BC D127              3173             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
11375 000016BE 2101              3174             MOV.W   R0,@R1                  ;
11376                            3175     
11377                            3176     
11378                            3177             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05[clr]
11379 000016C0 D027                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11380 000016C2 400B                   M           JSR     @R0                     ;
11381 000016C4 0009                   M           NOP                                     ;
11382                            3178     
11383                            3179     ;;      2007-01-16 START_SFTY_LOCK_CLRでｸﾘｱする
11384                            3180     ;;      MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK 2006-04-10
11385                            3181     ;;      MOV.W   R0,@R1                  ;2006-04-10
11386                            3182     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;2006-04-10
11387                            3183     ;;      MOV.W   R0,@R1                  ;2006-04-10
11388                            3184     
11389                            3185     ;       ====== 2007-01-16========
11390                            3186             FAR_JSR #_START_SFTY_LOCK_CLR,R0        ;2007-01-16[KEP--clr]
11391 000016C6 D027                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11392 000016C8 400B                   M           JSR     @R0                     ;
11393 000016CA 0009                   M           NOP                                     ;
11394                            3187     
11395                            3188     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    96
PROGRAM NAME =

11396                            3189     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
11397                            3190             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                ;2013-02-23 新ｿﾌﾄは
11398 000016CC D026                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11399 000016CE 400B                   M           JSR     @R0                     ;
11400 000016D0 0009                   M           NOP                                     ;
11401                            3191     
11402 000016D2 200A              3192             XOR     R0,R0                   ;
11403 000016D4 D125              3193             MOV.L   #_INT_CLS_CTL_FLG,R1    ;       //BIT0=1 START 起動時ｸﾘｱ
11404 000016D6 2101              3194             MOV.W   R0,@R1
11405                            3195     
11406 000016D8 200A              3196             XOR     R0,R0                           ;
11407 000016DA D125              3197             MOV.L   #_RST_ERR_CHK_FLG,R1            ;BIT0=偏差異常みない
11408 000016DC 2101              3198             MOV.W   R0,@R1                          ;
11409                            3199     ;       == 2003-07-09 ==
11410 000016DE D125              3200             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11411 000016E0 2101              3201             MOV.W   R0,@R1                          ;
11412                            3202     
11413                            3203     
11414                            3204     ;       ======ｻｲｸﾙ停止状態OFF==========================
11415                            3205             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
11416 000016E2 D125                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11417 000016E4 6011                   M           MOV.W   @R1,R0          ;
11418 000016E6 9436                   M           MOV.W   #LWORD (~BIT7),R4       ;
11419 000016E8 2049                   M           AND     R4,R0           ;
11420 000016EA 2101                   M           MOV.W   R0,@R1          ;
11421                            3206     
11422                            3207     ;       ======各一旦停止=================================
11423                            3208             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11424 000016EC D122                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11425 000016EE 6011                   M           MOV.W   @R1,R0          ;
11426 000016F0 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
11427 000016F2 2049                   M           AND     R4,R0           ;
11428 000016F4 2101                   M           MOV.W   R0,@R1          ;
11429                            3209     ;       ===============================================
11430                            3210             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
11431 000016F6 D121                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11432 000016F8 6011                   M           MOV.W   @R1,R0          ;
11433 000016FA C900                   M           AND     #LOW ~(H'FF),R0         ;
11434 000016FC 2101                   M           MOV.W   R0,@R1          ;
11435                            3211     
11436                            3212     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
11437                            3213             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
11438 000016FE D11E                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11439 00001700 6011                   M           MOV.W   @R1,R0          ;
11440 00001702 942A                   M           MOV.W   #LWORD (~BIT3),R4       ;
11441 00001704 2049                   M           AND     R4,R0           ;
11442 00001706 2101                   M           MOV.W   R0,@R1          ;
11443                            3214     ;       ===============================================
11444                            3215             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0                 ;起動したいもｸﾘｱ
11445 00001708 D01D                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11446 0000170A 400B                   M           JSR     @R0                     ;
11447 0000170C 0009                   M           NOP                                     ;
11448                            3216     
11449                            3217             FAR_JSR #_STOPPING_TIM_STOP_INI,R0
11450 0000170E D01D                   M           MOV.L   #_STOPPING_TIM_STOP_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11451 00001710 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    97
PROGRAM NAME =

11452 00001712 0009                   M           NOP                                     ;
11453                            3218     
11454                            3219     
11455                            3220     ;       ==== 2012-03-06====
11456                            3221             FAR_JSR #_BRKTMCAL_STG1_STOPINI,R0              ;停止ソフト
11457 00001714 D01C                   M           MOV.L   #_BRKTMCAL_STG1_STOPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11458 00001716 400B                   M           JSR     @R0                     ;
11459 00001718 0009                   M           NOP                                     ;
11460                            3222     
11461                            3223     
11462                            3224     ;       ==== 2003-07-01 ====
11463                            3225             FAR_JSR #_BRK_ERR_WORK_CLR1,R0
11464 0000171A D01C                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11465 0000171C 400B                   M           JSR     @R0                     ;
11466 0000171E 0009                   M           NOP                                     ;
11467                            3226     
11468                            3227     ;       ==== 2003-07-09 ====
11469                            3228             FAR_JSR #_CNT_CYCL_DISP_ST,R0
11470 00001720 D01B                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11471 00001722 400B                   M           JSR     @R0                     ;
11472 00001724 0009                   M           NOP                                     ;
11473                            3229     
11474                            3230     ;       === 2019-08-20==========
11475 00001726 200A              3231             XOR             R0,R0
11476 00001728 D11A              3232             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;
11477 0000172A 2101              3233             MOV.W   R0,@R1                                  ;
11478                            3234     
11479                            3235     
11480                            3236     
11481                            3237     ;       ==== 2004-03-29 ===
11482                            3238             FAR_JSR #_EXQ_STOP_LEV_POS_CLR,R0
11483 0000172C D01A                   M           MOV.L   #_EXQ_STOP_LEV_POS_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11484 0000172E 400B                   M           JSR     @R0                     ;
11485 00001730 0009                   M           NOP                                     ;
11486                            3239     
11487                            3240     ;       ==== 2004-04-19 ==
11488                            3241             FAR_JSR #_GPOSIN_HOS_RESET,R0
11489 00001732 D01A                   M           MOV.L   #_GPOSIN_HOS_RESET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11490 00001734 400B                   M           JSR     @R0                     ;
11491 00001736 0009                   M           NOP                                     ;
11492                            3242     
11493                            3243     ;       ==== 2004-12-20 =====
11494                            3244             FAR_JSR #_CNTREST_HOS_RESET,R0
11495 00001738 D019                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11496 0000173A 400B                   M           JSR     @R0                     ;
11497 0000173C 0009                   M           NOP                                     ;
11498                            3245     
11499                            3246     
11500                            3247     ;       ==== 2006-07-28 =====
11501                            3248             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0 ;
11502 0000173E D019                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11503 00001740 400B                   M           JSR     @R0                     ;
11504 00001742 0009                   M           NOP                                     ;
11505                            3249     
11506                            3250     
11507                            3251     ;       --------タイマ処理から再開をクリア[3/]------
11508                            3252             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    98
PROGRAM NAME =

11509 00001744 200A                   M           XOR     R0,R0           ;
11510 00001746 D118                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11511 00001748 2101                   M           MOV.W   R0,@R1          ;
11512                            3253     
11513                            3254     
11514                            3255     ;       -------------------2014-08-30 -----------
11515                            3256             FAR_JSR #_POS_HOLD_FLG_EXQ_CLR,R0
11516 0000174A D018                   M           MOV.L   #_POS_HOLD_FLG_EXQ_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11517 0000174C 400B                   M           JSR     @R0                     ;
11518 0000174E 0009                   M           NOP                                     ;
11519                            3257     
11520                            3258     
11521                            3259     
11522                            3260             SUB_END
11523                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11524 00001750 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11525                            3261             M_RTS
11526 00001752 000B                   M           RTS                             ;RTSの後ろの
11527 00001754 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11528                            3262     
11529                            3263     
11530                            3264     
11531                            3265     ;       *******************************************
11532                            3266     ;       ***                                     ***
11533                            3267     ;       ***     リセット制御フラグの異常時CLR   ***
11534                            3268     ;       ***                                     ***
11535                            3269     ;       *******************************************
11536                                     ***** BEGIN-POOL *****
11537 00001756 FF7F                       DATA FOR SOURCE-LINE 3205
11538 00001758 FDFF                       DATA FOR SOURCE-LINE 3208
11539 0000175A FFF7                       DATA FOR SOURCE-LINE 3213
11540 0000175C 00000000                   DATA FOR SOURCE-LINE 3173
11541 00001760 00000000                   DATA FOR SOURCE-LINE 3177
11542 00001764 00000000                   DATA FOR SOURCE-LINE 3186
11543 00001768 00000000                   DATA FOR SOURCE-LINE 3190
11544 0000176C 00000000                   DATA FOR SOURCE-LINE 3193
11545 00001770 00000000                   DATA FOR SOURCE-LINE 3197
11546 00001774 00000000                   DATA FOR SOURCE-LINE 3200
11547 00001778 00000000                   DATA FOR SOURCE-LINE 3205,3208,3213
11548 0000177C 00000000                   DATA FOR SOURCE-LINE 3210
11549 00001780 00000000                   DATA FOR SOURCE-LINE 3215
11550 00001784 00000000                   DATA FOR SOURCE-LINE 3217
11551 00001788 00000000                   DATA FOR SOURCE-LINE 3221
11552 0000178C 00000000                   DATA FOR SOURCE-LINE 3225
11553 00001790 00000000                   DATA FOR SOURCE-LINE 3228
11554 00001794 00000000                   DATA FOR SOURCE-LINE 3232
11555 00001798 00000000                   DATA FOR SOURCE-LINE 3238
11556 0000179C 00000000                   DATA FOR SOURCE-LINE 3241
11557 000017A0 00000000                   DATA FOR SOURCE-LINE 3244
11558 000017A4 00000000                   DATA FOR SOURCE-LINE 3248
11559 000017A8 00000000                   DATA FOR SOURCE-LINE 3252
11560 000017AC 00000000                   DATA FOR SOURCE-LINE 3256
11561                                     ***** END-POOL *****
11562 000017B0                   3270             .ALIGN  4                               ;
11563 000017B0                   3271     _STP_RST_FLG_PROC:
11564                            3272             SUB_START
11565 000017B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE    99
PROGRAM NAME =

11566                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11567 000017B2 200A              3273             XOR     R0,R0
11568 000017B4 D102              3274             MOV.L   #_reset_flg,R1                  ;
11569 000017B6 2101              3275             MOV.W   R0,@R1                          ;
11570                            3276             SUB_END
11571                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11572 000017B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11573                            3277             M_RTS
11574 000017BA 000B                   M           RTS                             ;RTSの後ろの
11575 000017BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11576                            3278     
11577                            3279     
11578                            3280     ;       ***************************************************
11579                            3281     ;       ***     ﾘｾｯﾄ開始時にｻｰﾎﾞを含めてやるべき処理    ***
11580                            3282     ;       ***************************************************
11581                            3283             .IMPORT _DEBUG_SIGNAL_OFF
11582                                     ***** BEGIN-POOL *****
11583 000017BE 0000                       ALIGNMENT CODE
11584 000017C0 00000000                   DATA FOR SOURCE-LINE 3274
11585                                     ***** END-POOL *****
11586 000017C4                   3284     _RST_MOD_POS_START:
11587                            3285             SUB_START
11588 000017C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11589                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11590                            3286     ;;;;;   FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;現在位置を目標位置に変える
11591                            3287             FAR_JSR #_DEBUG_SIGNAL_OFF,R0           ;2004-03-03
11592 000017C6 D003                   M           MOV.L   #_DEBUG_SIGNAL_OFF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11593 000017C8 400B                   M           JSR     @R0                     ;
11594 000017CA 0009                   M           NOP                                     ;
11595                            3288             SUB_END
11596                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11597 000017CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11598                            3289             M_RTS
11599 000017CE 000B                   M           RTS                             ;RTSの後ろの
11600 000017D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11601                            3290     
11602                            3291     
11603                            3292     ;       ***************************************************
11604                            3293     ;       ***     ﾘｾｯﾄ終了時にｻｰﾎﾞを含めてやるべき処理    ***
11605                            3294     ;       ***************************************************
11606                            3295     ;       [1]動作モードの決定
11607                            3296     ;       [2]
11608                            3297     ;
11609                            3298     ;
11610                                     ***** BEGIN-POOL *****
11611 000017D2 0000                       ALIGNMENT CODE
11612 000017D4 00000000                   DATA FOR SOURCE-LINE 3287
11613                                     ***** END-POOL *****
11614 000017D8                   3299     _RST_MOD_POS_END:
11615                            3300             SUB_START
11616 000017D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11617                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11618                            3301     
11619                            3302     ;;;;;;;;;       -----------2011-09-14 段取で安全一を動かすならこのソフトを生かす--
11620                            3303     ;;;;;;;;;       MOV.L   #_BRKTST_INPUT_CMD,R1           ;//BIT0:制動試験指令[349.0の替わり
                                          ],BIT1:制動試験停止指令
11621                            3304     ;;;;;;;;;       MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   100
PROGRAM NAME =

11622                            3305     ;;;;;;;;;       TST     #BIT0,R0                        ;
11623                            3306     ;;;;;;;;;       TST_BIT_OF RST_MOD_POSEND_100           ;
11624                            3307     ;;;;;;;;;       MOV.W   #(_W1DIC),R0                    ;
11625                            3308     ;;;;;;;;;       MOV.L   #_MODE_SEL,R1                   ;
11626                            3309     ;;;;;;;;;       MOV.W   R0,@R1                          ;
11627                            3310     ;;;;;;;;;       M_BRA   RST_MOD_POSEND_200              ;
11628                            3311     ;       ------------------------------------------
11629                            3312     
11630 000017DA                   3313     RST_MOD_POSEND_100:
11631 000017DA D106              3314             MOV.L   #_INP_MODE,R1                   ;
11632 000017DC 6011              3315             MOV.W   @R1,R0                          ;
11633 000017DE D106              3316             MOV.L   #_MODE_SEL,R1                   ;
11634 000017E0 2101              3317             MOV.W   R0,@R1                          ;
11635                            3318     
11636 000017E2                   3319     RST_MOD_POSEND_200:
11637                            3320     
11638 000017E2 200A              3321             XOR     R0,R0                           ;
11639 000017E4 D105              3322             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
11640 000017E6 2101              3323             MOV.W   R0,@R1                          ;
11641 000017E8 D105              3324             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
11642 000017EA 2101              3325             MOV.W   R0,@R1                          ;
11643                            3326             SUB_END
11644                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11645 000017EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11646                            3327             M_RTS
11647 000017EE 000B                   M           RTS                             ;RTSの後ろの
11648 000017F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11649                            3328     
11650                            3329     ;       *******************************************
11651                            3330     ;       ***     上昇ﾎｰﾙﾄﾞ位置検索               ***
11652                            3331     ;       *******************************************
11653                            3332     ;       -- 設定からくる上昇位置をチェックする --
11654                            3333     ;       運転ﾓｰﾄﾞと運転方法から待機点へ戻る
11655                                     ***** BEGIN-POOL *****
11656 000017F2 0000                       ALIGNMENT CODE
11657 000017F4 00000000                   DATA FOR SOURCE-LINE 3314
11658 000017F8 00000000                   DATA FOR SOURCE-LINE 3316
11659 000017FC 00000000                   DATA FOR SOURCE-LINE 3322
11660 00001800 00000000                   DATA FOR SOURCE-LINE 3324
11661                                     ***** END-POOL *****
11662 00001804                   3334     _SV_UP_HOLD_CHK:
11663                            3335             SUB_START
11664 00001804 4F22                   M           STS.L   PR,@-R15                ;[必要]
11665                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11666 00001806 D104              3336             MOV.L   #_MODE_SEL,R1                           ;
11667 00001808 6011              3337             MOV.W   @R1,R0                                  ;
11668 0000180A 9404              3338             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;
11669 0000180C 2048              3339             TST     R4,R0                                   ;ﾓｰｼｮﾝ運転か?
11670                            3340             TST_BIT_ON SV_UP_HLDCHK_0050                    ;
11671 0000180E 8B05                   M           BF      SV_UP_HLDCHK_0050
11672 00001810 200A              3341             XOR     R0,R0                                   ;
11673                            3342             M_BRA   SV_UP_HLDCHK_0900                       ;
11674 00001812 A040                   M           BRA     SV_UP_HLDCHK_0900
11675 00001814 0009                   M           NOP
11676                            3343     
11677                                     ***** BEGIN-POOL *****
11678 00001816 001E                       DATA FOR SOURCE-LINE 3338
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   101
PROGRAM NAME =

11679 00001818 00000000                   DATA FOR SOURCE-LINE 3336
11680                                     ***** END-POOL *****
11681 0000181C                   3344     SV_UP_HLDCHK_0050:
11682 0000181C D102              3345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11683 0000181E 6011              3346             MOV.W   @R1,R0                                  ;
11684 00001820 C808              3347             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11685                            3348             TST_BIT_ON SV_UP_HLDCHK_0100                    ;上往復
11686 00001822 8B03                   M           BF      SV_UP_HLDCHK_0100
11687                            3349             M_BRA   SV_UP_HLDCHK_0190                       ;
11688 00001824 A012                   M           BRA     SV_UP_HLDCHK_0190
11689 00001826 0009                   M           NOP
11690                            3350     ;       ======== 上往復 =======
11691                                     ***** BEGIN-POOL *****
11692 00001828 00000000                   DATA FOR SOURCE-LINE 3345
11693                                     ***** END-POOL *****
11694 0000182C                   3351     SV_UP_HLDCHK_0100:
11695                            3352             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11696 0000182C D404                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11697 0000182E 440B                   M           JSR     @R4                     ;
11698 00001830 0009                   M           NOP                                     ;
11699 00001832 D404              3353             MOV.L   #_UP_HOLD_STEP1,R4      ;
11700 00001834 2411              3354             MOV.W   R1,@R4
11701 00001836 D404              3355             MOV.L   #_UP_HOLD_STEP2,R4      ;
11702 00001838 2421              3356             MOV.W   R2,@R4
11703                            3357             M_BRA   SV_UP_HLDCHK_0900
11704 0000183A A02C                   M           BRA     SV_UP_HLDCHK_0900
11705 0000183C 0009                   M           NOP
11706                            3358     
11707                                     ***** BEGIN-POOL *****
11708 0000183E 0000                       ALIGNMENT CODE
11709 00001840 00000000                   DATA FOR SOURCE-LINE 3352
11710 00001844 00000000                   DATA FOR SOURCE-LINE 3353
11711 00001848 00000000                   DATA FOR SOURCE-LINE 3355
11712                                     ***** END-POOL *****
11713 0000184C                   3359     SV_UP_HLDCHK_0190:
11714 0000184C C804              3360             TST     #_DMATH_DNDRIV,R0               ;DRIVE MATH 下往復
11715                            3361             TST_BIT_ON SV_UP_HLDCHK_0200
11716 0000184E 8B01                   M           BF      SV_UP_HLDCHK_0200
11717                            3362             M_BRA   SV_UP_HLDCHK_0290               ;
11718 00001850 A002                   M           BRA     SV_UP_HLDCHK_0290
11719 00001852 0009                   M           NOP
11720                            3363     
11721                            3364     ;       =====   下往復  =====
11722 00001854                   3365     SV_UP_HLDCHK_0200:
11723                            3366             M_BRA   SV_UP_HLDCHK_0295               ;回転と同じ論理[2009-10-07]
11724 00001854 A002                   M           BRA     SV_UP_HLDCHK_0295
11725 00001856 0009                   M           NOP
11726                            3367     
11727                            3368     ;;[20091007下振子]      FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11728                            3369     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP1,R4      ;
11729                            3370     ;;[20091007下振子]      MOV.W   R1,@R4                  ;
11730                            3371     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP2,R4      ;
11731                            3372     ;;[20091007下振子]      MOV.W   R2,@R4                  ;運転開始時にUP_HOLD_STEPにCOPY
11732                            3373     ;;[20091007下振子]      M_BRA   SV_UP_HLDCHK_0900
11733                            3374     
11734                            3375     
11735 00001858                   3376     SV_UP_HLDCHK_0290:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   102
PROGRAM NAME =

11736 00001858 C802              3377             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
11737                            3378             TST_BIT_ON SV_UP_HLDCHK_0300            ;
11738 0000185A 8B13                   M           BF      SV_UP_HLDCHK_0300
11739 0000185C                   3379     SV_UP_HLDCHK_0295:              ;20091007下振り子は回転と同じ論理
11740                            3380     ;       =====   回転    =====
11741                            3381             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R1
11742 0000185C D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11743 0000185E 440B                   M           JSR     @R4                     ;
11744 00001860 0009                   M           NOP                                     ;
11745 00001862 D405              3382             MOV.L   #_UP_HOLD_STEP,R4;      //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11746 00001864 2411              3383             MOV.W   R1,@R4
11747 00001866 D405              3384             MOV.L   #_UP_HOLD_STEP1,R4      ;
11748 00001868 2411              3385             MOV.W   R1,@R4
11749 0000186A D405              3386             MOV.L   #_UP_HOLD_STEP2,R4      ;
11750 0000186C 2411              3387             MOV.W   R1,@R4
11751                            3388             M_BRA   SV_UP_HLDCHK_0900
11752 0000186E A012                   M           BRA     SV_UP_HLDCHK_0900
11753 00001870 0009                   M           NOP
11754                            3389     
11755                            3390     ;       =====   反転    =====
11756                                     ***** BEGIN-POOL *****
11757 00001872 0000                       ALIGNMENT CODE
11758 00001874 00000000                   DATA FOR SOURCE-LINE 3381
11759 00001878 00000000                   DATA FOR SOURCE-LINE 3382
11760 0000187C 00000000                   DATA FOR SOURCE-LINE 3384
11761 00001880 00000000                   DATA FOR SOURCE-LINE 3386
11762                                     ***** END-POOL *****
11763 00001884                   3391     SV_UP_HLDCHK_0300:
11764                            3392             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R2
11765 00001884 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11766 00001886 440B                   M           JSR     @R4                     ;
11767 00001888 0009                   M           NOP                                     ;
11768 0000188A D405              3393             MOV.L   #_UP_HOLD_STEP,R4       ;       //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11769 0000188C 2421              3394             MOV.W   R2,@R4
11770 0000188E D405              3395             MOV.L   #_UP_HOLD_STEP1,R4      ;
11771 00001890 2421              3396             MOV.W   R2,@R4
11772 00001892 D405              3397             MOV.L   #_UP_HOLD_STEP2,R4      ;
11773 00001894 2421              3398             MOV.W   R2,@R4
11774 00001896                   3399     SV_UP_HLDCHK_0900:
11775                            3400     
11776                            3401             SUB_END
11777                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11778 00001896 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11779                            3402             M_RTS
11780 00001898 000B                   M           RTS                             ;RTSの後ろの
11781 0000189A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11782                            3403     
11783                            3404     ;       *******************************************
11784                            3405     ;       ***                                     ***
11785                            3406     ;       ***     以降/時計回転ステップ検索       ***
11786                            3407     ;       ***     以降/反時計回転ステップ検索     ***
11787                            3408     ;       ***                                     ***
11788                            3409     ;       *******************************************
11789                            3410     ;       1,2,3,4,5,6(5段の最終)
11790                            3411     ;       ここでは段数を決定する
11791                            3412     ;       実動作で、角度を判定する
11792                            3413     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   103
PROGRAM NAME =

11793                            3414     ;       待機点を横切る運転はない
11794                            3415     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=3
11795                            3416     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11796                            3417     ;
11797                            3418     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11798                            3419     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=4
11799                            3420     ;
11800                            3421     ;       < つまり >      R1は位置増加(CW/正転:待機点への戻りの方向)
11801                            3422     ;                       R2は位置減少(CCW/逆転:待機点への戻りの方向)
11802                            3423     ;
11803                                     ***** BEGIN-POOL *****
11804 0000189C 00000000                   DATA FOR SOURCE-LINE 3392
11805 000018A0 00000000                   DATA FOR SOURCE-LINE 3393
11806 000018A4 00000000                   DATA FOR SOURCE-LINE 3395
11807 000018A8 00000000                   DATA FOR SOURCE-LINE 3397
11808                                     ***** END-POOL *****
11809 000018AC                   3424             .ALIGN  4
11810 000018AC                   3425     _CW_CCW_ENDSTEP_SERACH:
11811                            3426             SUB_START
11812 000018AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11813                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11814 000018AE D110              3427             MOV.L   #_SETX_POS_STEP_MAX,R1          ;//設定=1~10(2~11)
11815 000018B0 6511              3428             MOV.W   @R1,R5                          ;R5ｶｳﾝﾀ
11816 000018B2 7501              3429             ADD     #1,R5                           ;設定+1=MAX
11817 000018B4 6153              3430             MOV     R5,R1                           ;MAX-SET
11818 000018B6 6253              3431             MOV     R5,R2                           ;MAX-SET
11819 000018B8 6053              3432             MOV     R5,R0                           ;
11820 000018BA 70FF              3433             ADD     #-1,R0                          ;
11821 000018BC 4008              3434             SHLL2   R0                              ;*4
11822 000018BE DA0D              3435             MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10     ;
11823 000018C0 3A0C              3436             ADD     R0,R10                          ;
11824 000018C2 68A2              3437             MOV.L   @R10,R8                         ;最終工程(待機点)
11825 000018C4 7AFC              3438             ADD     #-4,R10                         ;
11826 000018C6 6053              3439             MOV     R5,R0
11827                            3440     
11828 000018C8 233A              3441             XOR     R3,R3                           ;
11829 000018CA 244A              3442             XOR     R4,R4                           ;
11830                            3443     
11831 000018CC                   3444     CW_CCW_ESTEP_LOP000:
11832 000018CC 2008              3445             TST     R0,R0                           ;MAX STEP
11833                            3446             TST_BIT_OF CW_CCW_ESTEP_LOPEND          ;
11834 000018CE 8927                   M           BT      CW_CCW_ESTEP_LOPEND
11835                            3447     
11836 000018D0 67A2              3448             MOV.L   @R10,R7                         ;
11837 000018D2 8801              3449             CMP/EQ  #1,R0                           ;1ｽﾃｯﾌﾟ
11838 000018D4 8B01              3450             BF      CW_CCW_ESTEP_LOP050             ;最後? NO
11839 000018D6 D508              3451             MOV.L   #_SETX_UPAREA_PLS,R5            ;//4;待機点
11840 000018D8 6752              3452             MOV.L   @R5,R7                          ;
11841 000018DA                   3453     CW_CCW_ESTEP_LOP050:                            ;
11842                            3454     
11843                            3455     
11844 000018DA 3870              3456             CMP/EQ  R7,R8                           ;R7(前段)=<R8(現段)
11845 000018DC 8914              3457             BT      CW_CCW_ESTEP_LOP300             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   104
PROGRAM NAME =

11846                            3458     
11847 000018DE 3877              3459             CMP/GT  R7,R8                           ;
11848 000018E0 8B0C              3460             BF      CW_CCW_ESTEP_LOP150             ;R7(前段)>=R8(現段)
11849 000018E2 E401              3461             MOV     #1,R4                           ;逆転終了
11850                            3462     
11851 000018E4 2338              3463             TST     R3,R3                           ;一回でも逆転があったか
11852                            3464             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11853 000018E6 8B16                   M           BF      CW_CCW_ESTEP_LOP400
11854                            3465     ;       ===== 正転===
11855 000018E8 6103              3466             MOV     R0,R1                           ;
11856                            3467             M_BRA   CW_CCW_ESTEP_LOP400
11857 000018EA A014                   M           BRA     CW_CCW_ESTEP_LOP400
11858 000018EC 0009                   M           NOP
11859                            3468     
11860                                     ***** BEGIN-POOL *****
11861 000018EE 0000                       ALIGNMENT CODE
11862 000018F0 00000000                   DATA FOR SOURCE-LINE 3427
11863 000018F4 00000000                   DATA FOR SOURCE-LINE 3435
11864 000018F8 00000000                   DATA FOR SOURCE-LINE 3451
11865                                     ***** END-POOL *****
11866 000018FC                   3469     CW_CCW_ESTEP_LOP150:                            ;
11867 000018FC E301              3470             MOV     #1,R3                           ;正転終了
11868 000018FE 2448              3471             TST     R4,R4                           ;
11869                            3472             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11870 00001900 8B09                   M           BF      CW_CCW_ESTEP_LOP400
11871                            3473     ;       ===== 逆転===
11872 00001902 6203              3474             MOV     R0,R2                           ;
11873                            3475             M_BRA   CW_CCW_ESTEP_LOP400             ;
11874 00001904 A007                   M           BRA     CW_CCW_ESTEP_LOP400
11875 00001906 0009                   M           NOP
11876                            3476     
11877                            3477     
11878                            3478     ;       ===== ﾃﾞｰﾀEQU時の処理====
11879                            3479     ;       ===== 前段時の処理 =====
11880 00001908                   3480     CW_CCW_ESTEP_LOP300:                            ;
11881 00001908 2338              3481             TST     R3,R3                           ;
11882                            3482             TST_BIT_ON CW_CCW_ESTEP_LOP320          ;
11883 0000190A 8B00                   M           BF      CW_CCW_ESTEP_LOP320
11884                            3483     ;;;     ADD     #-1,R1                          ;
11885 0000190C 6203              3484             MOV     R0,R2                           ;
11886 0000190E                   3485     CW_CCW_ESTEP_LOP320:                            ;
11887                            3486     
11888 0000190E 2448              3487             TST     R4,R4                           ;
11889                            3488             TST_BIT_ON CW_CCW_ESTEP_LOP340          ;
11890 00001910 8B00                   M           BF      CW_CCW_ESTEP_LOP340
11891                            3489     ;;;     ADD     #-1,R2                          ;
11892 00001912 6203              3490             MOV     R0,R2                           ;
11893                            3491     
11894 00001914                   3492     CW_CCW_ESTEP_LOP340:                            ;
11895 00001914 0009              3493             NOP
11896 00001916                   3494     CW_CCW_ESTEP_LOP400:                            ;
11897 00001916 70FF              3495             ADD     #-1,R0                          ;
11898 00001918 7AFC              3496             ADD     #-4,R10                         ;
11899 0000191A 6873              3497             MOV     R7,R8                           ;入れ替え
11900                            3498             M_BRA   CW_CCW_ESTEP_LOP000             ;
11901 0000191C AFD6                   M           BRA     CW_CCW_ESTEP_LOP000
11902 0000191E 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   105
PROGRAM NAME =

11903                            3499     
11904 00001920                   3500     CW_CCW_ESTEP_LOPEND:
11905                            3501             M_BRA   CW_CCW_ESTEPTMCHK_START
11906 00001920 A000                   M           BRA     CW_CCW_ESTEPTMCHK_START
11907 00001922 0009                   M           NOP
11908                            3502     
11909                            3503     ;       --------- input R1,R2 OUTPUT R1,R2---------
11910 00001924                   3504     CW_CCW_ESTEPTMCHK_START:
11911                            3505     ;;;     MOV.L   #_PAR_UPCHK_SEL1,R4             ;
11912 00001924 D402              3506             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R4     ;2012-03-06
11913 00001926 6041              3507             MOV.W   @R4,R0                          ;
11914 00001928 8801              3508             CMP/EQ  #1,R0                           ;
11915 0000192A 8903              3509             BT      CW_CCW_ESTEPTMCHK_010           ;
11916                            3510             M_BRA   CW_CCW_ESTEPTMCHK_LOPEND        ;
11917 0000192C A026                   M           BRA     CW_CCW_ESTEPTMCHK_LOPEND
11918 0000192E 0009                   M           NOP
11919                            3511     
11920                                     ***** BEGIN-POOL *****
11921 00001930 00000000                   DATA FOR SOURCE-LINE 3506
11922                                     ***** END-POOL *****
11923 00001934                   3512     CW_CCW_ESTEPTMCHK_010
11924                            3513     
11925                            3514     
11926                            3515     ;       ========== 2011-09-01 r1:これ以降cw,r2:これ以降ccw
11927                            3516     ;タイマ停止があればその工程は上昇ホールドではない
11928                            3517     ;[R1,R2]
11929 00001934 D40F              3518             MOV.L   #_SETX_POS_STEP_MAX,R4          ;//設定=1~10(2~11)
11930 00001936 6541              3519             MOV.W   @R4,R5                          ;R5ｶｳﾝﾀ
11931                            3520     
11932 00001938 7501              3521             ADD     #1,R5                           ;設定+1=MAX
11933 0000193A 6053              3522             MOV     R5,R0                           ;
11934 0000193C D40E              3523             MOV.L   #_SETX_POS_SDAT1_TIM,R4         ;
11935 0000193E 70FE              3524             ADD     #-2,R0                          ;
11936 00001940 4008              3525             SHLL2   R0                              ;
11937 00001942 340C              3526             ADD     R0,R4                           ;
11938 00001944 6053              3527             MOV     R5,R0                           ;R0=2~6,2~11
11939 00001946 70FF              3528             ADD     #-1,R0                          ;R0=2~5,2~10:　5段目が0以外なら6ｽﾃｯﾌﾟから
11940                            3529     
11941                            3530     
11942 00001948                   3531     CW_CCW_ESTEPTMCHK_LOP:
11943 00001948 2008              3532             TST     R0,R0
11944                            3533             TST_BIT_OF CW_CCW_ESTEPTMCHK_LOPEND     ;
11945 0000194A 8917                   M           BT      CW_CCW_ESTEPTMCHK_LOPEND
11946                            3534     
11947 0000194C 6342              3535             MOV.L   @R4,R3                          ;R3:data
11948                            3536     
11949 0000194E 3152              3537             CMP/HS  R5,R1                           ;MAX=< R1 演算不要
11950 00001950 8905              3538             BT      CW_CCW_ESTEPTMCHK_100           ;
11951 00001952 3106              3539             CMP/HI  R0,R1                           ;
11952 00001954 8903              3540             BT      CW_CCW_ESTEPTMCHK_100           ;
11953                            3541     
11954 00001956 2338              3542             TST     R3,R3                           ;
11955                            3543             TST_BIT_OF CW_CCW_ESTEPTMCHK_100        ;
11956 00001958 8901                   M           BT      CW_CCW_ESTEPTMCHK_100
11957 0000195A 6103              3544             MOV     R0,R1                           ;
11958 0000195C 7101              3545             ADD     #1,R1                           ;
11959 0000195E                   3546     CW_CCW_ESTEPTMCHK_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   106
PROGRAM NAME =

11960                            3547     
11961                            3548     
11962 0000195E 3252              3549             CMP/HS  R5,R2                           ;MAX=< R2 演算不要
11963 00001960 8903              3550             BT      CW_CCW_ESTEPTMCHK_200           ;
11964 00001962 3206              3551             CMP/HI  R0,R2                           ;
11965 00001964 8901              3552             BT      CW_CCW_ESTEPTMCHK_200           ;
11966                            3553     
11967 00001966 6203              3554             MOV     R0,R2                           ;
11968 00001968 7201              3555             ADD     #1,R2                           ;
11969                            3556     
11970 0000196A                   3557     CW_CCW_ESTEPTMCHK_200:
11971 0000196A 74FC              3558             ADD     #-4,R4                          ;
11972 0000196C 70FF              3559             ADD     #-1,R0                          ;
11973                            3560             M_BRA   CW_CCW_ESTEPTMCHK_LOP           ;
11974 0000196E AFEB                   M           BRA     CW_CCW_ESTEPTMCHK_LOP
11975 00001970 0009                   M           NOP
11976                                     ***** BEGIN-POOL *****
11977 00001972 0000                       ALIGNMENT CODE
11978 00001974 00000000                   DATA FOR SOURCE-LINE 3518
11979 00001978 00000000                   DATA FOR SOURCE-LINE 3523
11980                                     ***** END-POOL *****
11981 0000197C                   3561     CW_CCW_ESTEPTMCHK_LOPEND                ;
11982                            3562             SUB_END
11983                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11984 0000197C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11985                            3563             M_RTS
11986 0000197E 000B                   M           RTS                             ;RTSの後ろの
11987 00001980 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11988                            3564     
11989                            3565     ;       ***********************************
11990                            3566     ;       ***                             ***
11991                            3567     ;       ***     上昇ﾎｰﾙﾄﾞ状態ならﾎｰﾙﾄﾞ  ***
11992                            3568     ;       ***                             ***
11993                            3569     ;       ***                             ***
11994                            3570     ;       ***********************************
11995 00001984                   3571             .ALIGN  4
11996 00001984                   3572     _CTRL_UP_HOLD_CHK:
11997                            3573             SUB_START
11998 00001984 4F22                   M           STS.L   PR,@-R15                ;[必要]
11999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12000                            3574     ;;2012-03-06    MOV.L   #_INT_POS_CTL_STEP,R5   ;
12001                            3575     ;;2012-03-06    MOV.W   @R5,R0                  ;
12002                            3576     ;;2012-03-06    TST     R0,R0                   ;
12003                            3577     ;;2012-03-06    TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
12004                            3578     ;;2012-03-06    M_BRA   CTRL_UP_HOLD_CK_END     ;
12005                            3579     
12006                            3580     ;ﾃｽﾄﾓｰﾄﾞ中はﾏｽｸ,AUTOにしない
12007 00001986 D105              3581             MOV.L   #_BRKTST_SW_IN,R1               ;2012-03-06
12008 00001988 6011              3582             MOV.W   @R1,R0                          ;2012-03-06
12009 0000198A 2008              3583             TST     R0,R0                           ;2012-03-06
12010                            3584             TST_BIT_ON CTRL_UP_HOLD_CK_STAA         ;2012-03-06EXIT
12011 0000198C 8B03                   M           BF      CTRL_UP_HOLD_CK_STAA
12012                            3585     
12013 0000198E D504              3586             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12014 00001990 6051              3587             MOV.W   @R5,R0                  ;
12015 00001992 2008              3588             TST     R0,R0                   ;
12016                            3589             TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   107
PROGRAM NAME =

12017 00001994 8B06                   M           BF      CTRL_UP_HOLD_CK_ST00
12018 00001996                   3590     CTRL_UP_HOLD_CK_STAA:
12019                            3591             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
12020 00001996 A027                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
12021 00001998 0009                   M           NOP
12022                            3592     
12023                            3593     
12024                            3594     
12025                            3595     
12026                            3596     
12027                                     ***** BEGIN-POOL *****
12028 0000199A 0000                       ALIGNMENT CODE
12029 0000199C 00000000                   DATA FOR SOURCE-LINE 3581
12030 000019A0 00000000                   DATA FOR SOURCE-LINE 3586
12031                                     ***** END-POOL *****
12032 000019A4                   3597     CTRL_UP_HOLD_CK_ST00:
12033 000019A4 D102              3598             MOV.L   #_UP_HOLD_FLG,R1        ;       //BIT0=1 上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝ
                                          ﾓｰﾄﾞでこの信号はON/OFFする
12034 000019A6 6011              3599             MOV.W   @R1,R0                  ;BIT4(OBJ~待機),BIT5(待機~OBJ)
12035 000019A8 C801              3600             TST     #BIT0,R0                ;
12036                            3601             TST_BIT_OF CTRL_UP_HOLD_CK_ST20 ;
12037 000019AA 8903                   M           BT      CTRL_UP_HOLD_CK_ST20
12038                            3602             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
12039 000019AC A01C                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
12040 000019AE 0009                   M           NOP
12041                            3603     
12042                                     ***** BEGIN-POOL *****
12043 000019B0 00000000                   DATA FOR SOURCE-LINE 3598
12044                                     ***** END-POOL *****
12045 000019B4                   3604     CTRL_UP_HOLD_CK_ST20:
12046                            3605     ;       ===== 一度ｴﾘｱ外にでたかﾁｪｯｸ ======
12047 000019B4 D40E              3606             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
12048 000019B6 6041              3607             MOV.W   @R4,R0                          ;
12049 000019B8 C810              3608             TST     #BIT4,R0                        ;
12050                            3609             TST_BIT_ON CTRL_UP_HOLD_CK_ST40         ;
12051 000019BA 8B03                   M           BF      CTRL_UP_HOLD_CK_ST40
12052 000019BC D10D              3610             MOV.L   #_UP_HOLD_FLG,R1                ;１回目の運転開始(異常時または1CYCLEND)
12053 000019BE 6011              3611             MOV.W   @R1,R0                          ;
12054 000019C0 CB30              3612             OR      #(BIT5+BIT4),R0                 ;
12055 000019C2 2101              3613             MOV.W   R0,@R1                          ;
12056 000019C4                   3614     CTRL_UP_HOLD_CK_ST40:
12057                            3615             FAR_JSR #_UP_HOLD_SIG_MAK,R0
12058 000019C4 D00C                   M           MOV.L   #_UP_HOLD_SIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12059 000019C6 400B                   M           JSR     @R0                     ;
12060 000019C8 0009                   M           NOP                                     ;
12061 000019CA 2008              3616             TST     R0,R0
12062                            3617             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT
12063 000019CC 890C                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
12064                            3618     
12065                            3619     ;;2012-03-06    MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこ
                                          の信号はON/OFFする
12066                            3620     ;;2012-03-06    MOV.W   @R1,R0                  ;
12067                            3621     ;;2012-03-06    OR      #BIT0,R0                ;
12068                            3622     ;;2012-03-06    MOV.W   R0,@R1                  ;
12069                            3623     ;速度がある程度になったらホールドする
12070                            3624     
12071                            3625     ;       ===========================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   108
PROGRAM NAME =

12072                            3626     ;       ===     2012-03-06      ===
12073                            3627     ;       ===　　速度チェック     ===
12074                            3628     ;       ===========================
12075 000019CE D10B              3629             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
12076 000019D0 6011              3630             MOV.W   @R1,R0                          ;
12077 000019D2 8801              3631             CMP/EQ  #1,R0                           ;
12078 000019D4 8B04              3632             BF      CTRL_UP_HOLD_CK_ST50            ;
12079                            3633     
12080                            3634     ;       -------2012-03-06--------
12081                            3635             FAR_JSR #_UP_HOLD_MASK_SPDCHK,R0        ;
12082 000019D6 D00A                   M           MOV.L   #_UP_HOLD_MASK_SPDCHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12083 000019D8 400B                   M           JSR     @R0                     ;
12084 000019DA 0009                   M           NOP                                     ;
12085 000019DC 2008              3636             TST     R0,R0                           ;
12086                            3637             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT       ;動作方向でその速度に達していない
12087 000019DE 8903                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
12088                            3638     
12089 000019E0                   3639     CTRL_UP_HOLD_CK_ST50:
12090                            3640     
12091 000019E0 D104              3641             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12092 000019E2 6011              3642             MOV.W   @R1,R0                  ;
12093 000019E4 CB01              3643             OR      #BIT0,R0                ;
12094 000019E6 2101              3644             MOV.W   R0,@R1                  ;
12095                            3645     
12096                            3646     
12097                            3647     
12098                            3648     
12099                            3649     
12100                            3650     
12101                            3651     
12102                            3652     
12103 000019E8                   3653     CTRL_UP_HOLD_CK_ST_EXT:
12104                            3654     
12105                            3655             SUB_END
12106                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12107 000019E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12108                            3656             M_RTS
12109 000019EA 000B                   M           RTS                             ;RTSの後ろの
12110 000019EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12111                            3657     
12112                            3658     ;       ***************************************************
12113                            3659     ;       ***                                             ***
12114                            3660     ;       ***     上昇ホールドが相手ＣＰＵが行わないで    ***
12115                            3661     ;       ***     強制停止に向かった                      ***
12116                            3662     ;       ***                                             ***
12117                            3663     ;       ***************************************************
12118                            3664     ;       2015-11-15
12119                            3665     ;;; .AIF 1 EQ 1
12120                                     ***** BEGIN-POOL *****
12121 000019EE 0000                       ALIGNMENT CODE
12122 000019F0 00000000                   DATA FOR SOURCE-LINE 3606
12123 000019F4 00000000                   DATA FOR SOURCE-LINE 3610,3641
12124 000019F8 00000000                   DATA FOR SOURCE-LINE 3615
12125 000019FC 00000000                   DATA FOR SOURCE-LINE 3629
12126 00001A00 00000000                   DATA FOR SOURCE-LINE 3635
12127                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   109
PROGRAM NAME =

12128 00001A04                   3666     _UP_HOLD_MISS
12129                            3667             SUB_START
12130 00001A04 4F22                   M           STS.L   PR,@-R15                ;[必要]
12131                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12132                            3668             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;
12133 00001A06 D004                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12134 00001A08 400B                   M           JSR     @R0                     ;
12135 00001A0A 0009                   M           NOP                                     ;
12136                            3669             FAR_JSR #_SFTY_MASK_END,R0      ;(結果としてはﾏｽｸするかもしれない)
12137 00001A0C D003                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12138 00001A0E 400B                   M           JSR     @R0                     ;
12139 00001A10 0009                   M           NOP                                     ;
12140                            3670     
12141                            3671             SUB_END
12142                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12143 00001A12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12144                            3672             M_RTS
12145 00001A14 000B                   M           RTS                             ;RTSの後ろの
12146 00001A16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12147                            3673     ;;; .AENDI
12148                            3674     
12149                            3675     ;       ***********************************
12150                            3676     ;       ***                             ***
12151                            3677     ;       ***                             ***
12152                            3678     ;       ***                             ***
12153                            3679     ;       ***********************************
12154                            3680     ;
12155                                     ***** BEGIN-POOL *****
12156 00001A18 00000000                   DATA FOR SOURCE-LINE 3668
12157 00001A1C 00000000                   DATA FOR SOURCE-LINE 3669
12158                                     ***** END-POOL *****
12159 00001A20                   3681             .ALIGN  4
12160 00001A20                   3682     _UP_HOLD_SIG_MAK:
12161                            3683             SUB_START
12162 00001A20 4F22                   M           STS.L   PR,@-R15                ;[必要]
12163                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12164 00001A22 D50A              3684             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12165 00001A24 6251              3685             MOV.W   @R5,R2                  ;
12166 00001A26 D40A              3686             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
12167 00001A28 6541              3687             MOV.W   @R4,R5                  ;
12168 00001A2A 3252              3688             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
12169 00001A2C 8B34              3689             BF      CTRL_UP_HOLD_CK_END     ;
12170                            3690     
12171                            3691     ;       ======== ﾁｪｯｸすべき工程だ =======
12172                            3692     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
12173                            3693     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
12174                            3694     ;       --------- [2009-10-07下振子]----
12175 00001A2E D409              3695             MOV.L   #_DNM_CTL_INC3600,R4    ;2009-10-07
12176 00001A30 6241              3696             MOV.W   @R4,R2                  ;
12177                            3697     
12178 00001A32 D509              3698             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
12179 00001A34 6151              3699             MOV.W   @R5,R1                  ;START
12180 00001A36 D509              3700             MOV.L   #_SETX_UPAREA_DIG,R5    ;
12181 00001A38 6351              3701             MOV.W   @R5,R3                  ;
12182                            3702             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
12183 00001A3A D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12184 00001A3C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   110
PROGRAM NAME =

12185 00001A3E 0009                   M           NOP                                     ;
12186                            3703     
12187                            3704     
12188 00001A40 D108              3705             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12189 00001A42 6011              3706             MOV.W   @R1,R0                                  ;
12190 00001A44 C808              3707             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12191                            3708             TST_BIT_OF CTRL_UP_HOLD_CK_200                  ;
12192 00001A46 890F                   M           BT      CTRL_UP_HOLD_CK_200
12193                            3709             M_BRA   CTRL_UP_HOLD_CK_400                     ;2009-10-07
12194 00001A48 A018                   M           BRA     CTRL_UP_HOLD_CK_400
12195 00001A4A 0009                   M           NOP
12196                            3710     ;;      M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12197                            3711     
12198                                     ***** BEGIN-POOL *****
12199 00001A4C 00000000                   DATA FOR SOURCE-LINE 3684
12200 00001A50 00000000                   DATA FOR SOURCE-LINE 3686
12201 00001A54 00000000                   DATA FOR SOURCE-LINE 3695
12202 00001A58 00000000                   DATA FOR SOURCE-LINE 3698
12203 00001A5C 00000000                   DATA FOR SOURCE-LINE 3700
12204 00001A60 00000000                   DATA FOR SOURCE-LINE 3702
12205 00001A64 00000000                   DATA FOR SOURCE-LINE 3705
12206                                     ***** END-POOL *****
12207 00001A68                   3712     CTRL_UP_HOLD_CK_200:
12208 00001A68 C804              3713             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12209                            3714             TST_BIT_OF CTRL_UP_HOLD_CK_300                  ;
12210 00001A6A 8901                   M           BT      CTRL_UP_HOLD_CK_300
12211                            3715             M_BRA   CTRL_UP_HOLD_CK_400                     ;[2009-10-07下振子]
12212 00001A6C A006                   M           BRA     CTRL_UP_HOLD_CK_400
12213 00001A6E 0009                   M           NOP
12214                            3716     ;;;[2009-10-07下振子]   M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12215                            3717     
12216 00001A70                   3718     CTRL_UP_HOLD_CK_300:
12217 00001A70 C802              3719             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12218                            3720             TST_BIT_OF CTRL_UP_HOLD_CK_400                  ;
12219 00001A72 8903                   M           BT      CTRL_UP_HOLD_CK_400
12220                            3721     
12221                            3722     ;       ==== 反転R5=0,-1 ====
12222 00001A74 4515              3723             CMP/PL  R5                                      ;
12223 00001A76 8B0B              3724             BF      CTRL_UP_HOLD_CK_700                     ;成立
12224                            3725             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12225 00001A78 A00E                   M           BRA     CTRL_UP_HOLD_CK_END
12226 00001A7A 0009                   M           NOP
12227                            3726     
12228 00001A7C                   3727     CTRL_UP_HOLD_CK_400:
12229                            3728     ;       ==== 正転R5=0,1 ====
12230 00001A7C D603              3729             MOV.L   #_UP_HOLD_FLG,R6                ;
12231 00001A7E 6061              3730             MOV.W   @R6,R0                          ;
12232 00001A80 C820              3731             TST     #BIT5,R0                        ;範囲外へ一度いっているか？
12233                            3732             TST_BIT_OF CTRL_UP_HOLD_CK_END
12234 00001A82 8909                   M           BT      CTRL_UP_HOLD_CK_END
12235 00001A84 4511              3733             CMP/PZ  R5
12236 00001A86 8903              3734             BT      CTRL_UP_HOLD_CK_700                     ;成立
12237                            3735             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12238 00001A88 A006                   M           BRA     CTRL_UP_HOLD_CK_END
12239 00001A8A 0009                   M           NOP
12240                                     ***** BEGIN-POOL *****
12241 00001A8C 00000000                   DATA FOR SOURCE-LINE 3729
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   111
PROGRAM NAME =

12242                                     ***** END-POOL *****
12243 00001A90                   3736     CTRL_UP_HOLD_CK_700:
12244                            3737     
12245 00001A90 E0FF              3738             MOV     #-1,R0                  ;
12246                            3739     
12247                            3740             SUB_END
12248                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12249 00001A92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12250                            3741             M_RTS
12251 00001A94 000B                   M           RTS                             ;RTSの後ろの
12252 00001A96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12253                            3742     
12254                            3743     
12255                            3744     
12256 00001A98                   3745     CTRL_UP_HOLD_CK_END:
12257 00001A98 200A              3746             XOR     R0,R0
12258                            3747             SUB_END
12259                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12260 00001A9A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12261                            3748             M_RTS
12262 00001A9C 000B                   M           RTS                             ;RTSの後ろの
12263 00001A9E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12264                            3749     
12265                            3750     
12266                            3751     
12267                            3752     ;       ***********************************
12268                            3753     ;       ***                             ***
12269                            3754     ;       ***     2012-03-06              ***
12270                            3755     ;       ***     　　速度チェック        ***
12271                            3756     ;       ***                             ***
12272                            3757     ;       ***********************************
12273                            3758     ;動作方向にその速度以上になったらホールド・マスクする
12274 00001AA0                   3759             .ALIGN  4                               ;
12275 00001AA0                   3760     _UP_HOLD_MASK_SPDCHK:
12276                            3761             SUB_START
12277 00001AA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12279                            3762     
12280 00001AA2 D109              3763             MOV.L   #_ENC_PLS_SPD_DIR,R1                                    ;
12281 00001AA4 6211              3764             MOV.W   @R1,R2                                                  ;
12282                            3765     
12283 00001AA6 D109              3766             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12284 00001AA8 6011              3767             MOV.W   @R1,R0                                  ;
12285 00001AAA C801              3768             TST     #_DMATH_CNTROT,R0                       ;
12286                            3769             TST_BIT_ON UP_HOLD_MASKSPDCHK_FWD
12287 00001AAC 8B07                   M           BF      UP_HOLD_MASKSPDCHK_FWD
12288                            3770     
12289 00001AAE C802              3771             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12290                            3772             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;
12291 00001AB0 8B10                   M           BF      UP_HOLD_MASKSPDCHK_REV
12292                            3773     
12293 00001AB2 C804              3774             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH ふりこ
12294                            3775             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;選択されていない
12295 00001AB4 891E                   M           BT      UP_HOLD_MASKSPDCHK_NG
12296                            3776     
12297                            3777     ;ふりこ[今往路?復路]
12298 00001AB6 D106              3778             MOV.L   #_DNM_DIR_SET_FLG,R1                    ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   112
PROGRAM NAME =

12299 00001AB8 6011              3779             MOV.W   @R1,R0                                  ;0:往路
12300 00001ABA 2008              3780             TST     R0,R0                                   ;
12301                            3781             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;1:復路
12302 00001ABC 8B0A                   M           BF      UP_HOLD_MASKSPDCHK_REV
12303                            3782     
12304 00001ABE                   3783     UP_HOLD_MASKSPDCHK_FWD:
12305 00001ABE 2228              3784             TST     R2,R2                                   ;
12306                            3785             TST_BIT_ON UP_HOLD_MASKSPDCHK_NG                ;逆回転 EXIT
12307 00001AC0 8B18                   M           BF      UP_HOLD_MASKSPDCHK_NG
12308                            3786             M_BRA   UP_HOLD_MASKSPDCHK_COM                  ;
12309 00001AC2 A009                   M           BRA     UP_HOLD_MASKSPDCHK_COM
12310 00001AC4 0009                   M           NOP
12311                            3787     
12312                                     ***** BEGIN-POOL *****
12313 00001AC6 0000                       ALIGNMENT CODE
12314 00001AC8 00000000                   DATA FOR SOURCE-LINE 3763
12315 00001ACC 00000000                   DATA FOR SOURCE-LINE 3766
12316 00001AD0 00000000                   DATA FOR SOURCE-LINE 3778
12317                                     ***** END-POOL *****
12318 00001AD4                   3788     UP_HOLD_MASKSPDCHK_REV:
12319 00001AD4 2228              3789             TST     R2,R2                                   ;
12320                            3790             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;正回転 EXIT
12321 00001AD6 890D                   M           BT      UP_HOLD_MASKSPDCHK_NG
12322                            3791     
12323 00001AD8                   3792     UP_HOLD_MASKSPDCHK_COM:
12324                            3793     
12325                            3794     
12326                            3795     
12327 00001AD8 D104              3796             MOV.L   #(_PAR_UPMASK_SPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
12328 00001ADA 6211              3797             MOV.W   @R1,R2                                                  ;
12329 00001ADC D104              3798             MOV.L   #_PV_ENC_SPD_PER,R1                                     ;
12330 00001ADE 6311              3799             MOV.W   @R1,R3                                                  ;
12331 00001AE0 3323              3800             CMP/GE  R2,R3                                                   ;R2=<R3[PV]
12332 00001AE2 8B07              3801             BF      UP_HOLD_MASKSPDCHK_NG
12333                            3802     ;       ------------------------------------------------------------------
12334                            3803     ;       ---回転では+方向
12335                            3804     ;       ---反転では-方向
12336                            3805     ;       ---ふりこ往路では+方向
12337                            3806     ;       ---ふりこ復路では-方向
12338                            3807     ;       ---ブレーキテストでは
12339                            3808     
12340 00001AE4                   3809     UP_HOLD_MASKSPDCHK_STR:
12341 00001AE4 E001              3810             MOV.B   #1,R0
12342                            3811             M_BRA   UP_HOLD_MASKSPDCHK_END
12343 00001AE6 A006                   M           BRA     UP_HOLD_MASKSPDCHK_END
12344 00001AE8 0009                   M           NOP
12345                            3812     
12346                                     ***** BEGIN-POOL *****
12347 00001AEA 0000                       ALIGNMENT CODE
12348 00001AEC 00000000                   DATA FOR SOURCE-LINE 3796
12349 00001AF0 00000000                   DATA FOR SOURCE-LINE 3798
12350                                     ***** END-POOL *****
12351 00001AF4                   3813     UP_HOLD_MASKSPDCHK_NG:
12352 00001AF4 200A              3814             XOR     R0,R0
12353 00001AF6                   3815     UP_HOLD_MASKSPDCHK_END
12354                            3816     
12355                            3817             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   113
PROGRAM NAME =

12356                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12357 00001AF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12358                            3818             M_RTS
12359 00001AF8 000B                   M           RTS                             ;RTSの後ろの
12360 00001AFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12361                            3819     
12362                            3820     
12363                            3821     ;       ===================================
12364                            3822     ;       ===     上昇ﾎｰﾙﾄﾞ無効出力       ===
12365                            3823     ;       ===================================
12366 00001AFC                   3824     _UP_HOLD_AREA_MASK:
12367                            3825             SUB_START
12368 00001AFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12369                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12370 00001AFE D10D              3826             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12371 00001B00 6011              3827             MOV.W   @R1,R0                  ;
12372 00001B02 C802              3828             TST     #BIT1,R0                ;
12373                            3829             TST_BIT_ON UP_HOLD_ARA_MASK500  ;既に終了
12374 00001B04 8B12                   M           BF      UP_HOLD_ARA_MASK500
12375 00001B06 C801              3830             TST     #BIT0,R0                ;ﾎｰﾙﾄﾞ状態か
12376                            3831             TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12377 00001B08 8910                   M           BT      UP_HOLD_ARA_MASK500
12378                            3832     
12379                            3833     ;       === 上昇無効仕様か ===
12380                            3834     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12381                            3835     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.W   @R1,R0                  ;28.2
12382                            3836     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST     #BIT2,R0                ;
12383                            3837     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12384                            3838     
12385                            3839     
12386                            3840     ;       ---2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]--
12387                            3841     ;;;     FAR_JSR #_OPT_SFTY_MASK_CHK,R0  ;
12388                            3842     ;;;     TST     R0,R0                           ;
12389                            3843     ;;;;    TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12390                            3844     
12391                            3845             FAR_JSR #_OPT_SGL_SFTY_MASK_CHK,R0      ;
12392 00001B0A D00B                   M           MOV.L   #_OPT_SGL_SFTY_MASK_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12393 00001B0C 400B                   M           JSR     @R0                     ;
12394 00001B0E 0009                   M           NOP                                     ;
12395 00001B10 2008              3846             TST     R0,R0                           ;R0=-1　上昇無効にしない
12396                            3847             TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12397 00001B12 8B0B                   M           BF      UP_HOLD_ARA_MASK500
12398                            3848                                                     ;・作業一行程、一行程は待機点２ＳＷに従う
12399                            3849     
12400                            3850     
12401                            3851     ;;;;2013-02-20 振子・反転とも上昇ホールド＋マスク有り
12402                            3852     ;;;;2013-02-20 ;        ----2011-09-06 振り子と反転は　上昇ホールドはするが上昇無効にはし
                                          ない
12403                            3853     ;;;;2013-02-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12404                            3854     ;;;;2013-02-20  MOV.W   @R1,R0                                  ;
12405                            3855     ;;;;2013-02-20  TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12406                            3856     ;;;;2013-02-20  TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12407                            3857     ;;;;反転がマスクはされているが遮光停止するのはなぜ？
12408                            3858     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   114
PROGRAM NAME =

12409                            3859     
12410                            3860     ;       ====== 2013-02-23 やっぱり　ふりこと反転は　マスクする、しないを切り替える
12411 00001B14 D109              3861             MOV.L   #_UPMSK2_DRVSEL,R1                      ;//2013-02-23
12412 00001B16 6011              3862             MOV.W   @R1,R0                                  ;0:反転,ふりこを上昇無効にしない
12413 00001B18 2008              3863             TST     R0,R0                                   ;
12414                            3864             TST_BIT_ON UP_HOLD_ARA_MASK480                  ;1の場合見なくする
12415 00001B1A 8B03                   M           BF      UP_HOLD_ARA_MASK480
12416                            3865     ;       -------------------------------------------------------------------
12417                            3866     
12418 00001B1C D108              3867             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12419 00001B1E 6011              3868             MOV.W   @R1,R0                                  ;
12420 00001B20 C806              3869             TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12421                            3870             TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12422 00001B22 8B03                   M           BF      UP_HOLD_ARA_MASK500
12423                            3871     
12424                            3872     
12425 00001B24                   3873     UP_HOLD_ARA_MASK480:
12426                            3874     
12427                            3875     ;       ======= このフラグをONすれば上昇ﾎｰﾙﾄﾞ+速度条件でﾏｽｸ===-
12428 00001B24 D103              3876             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12429 00001B26 6011              3877             MOV.W   @R1,R0                  ;
12430 00001B28 CB02              3878             OR      #BIT1,R0                ;
12431 00001B2A 2101              3879             MOV.W   R0,@R1                  ;
12432                            3880     
12433                            3881     
12434 00001B2C                   3882     UP_HOLD_ARA_MASK500:
12435                            3883     
12436                            3884             SUB_END
12437                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12438 00001B2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12439                            3885             M_RTS
12440 00001B2E 000B                   M           RTS                             ;RTSの後ろの
12441 00001B30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12442                            3886     
12443                            3887     
12444                            3888     
12445                                     ***** BEGIN-POOL *****
12446 00001B32 0000                       ALIGNMENT CODE
12447 00001B34 00000000                   DATA FOR SOURCE-LINE 3826,3876
12448 00001B38 00000000                   DATA FOR SOURCE-LINE 3845
12449 00001B3C 00000000                   DATA FOR SOURCE-LINE 3861
12450 00001B40 00000000                   DATA FOR SOURCE-LINE 3867
12451                                     ***** END-POOL *****
12452 00001B44                   3889     _UP_HOLD_FLG_CLR1:
12453                            3890             SUB_START
12454 00001B44 4F22                   M           STS.L   PR,@-R15                ;[必要]
12455                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12456 00001B46 D103              3891             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ信号(手放し自動、上昇無効出力用)
12457 00001B48 6011              3892             MOV.W   @R1,R0                  ;
12458 00001B4A C9FC              3893             AND     #LOW ~(BIT1+BIT0),R0    ;(ここでOFFする必要があるのか？)
12459 00001B4C 2101              3894             MOV.W   R0,@R1                  ;
12460                            3895             SUB_END
12461                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12462 00001B4E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12463                            3896             M_RTS
12464 00001B50 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   115
PROGRAM NAME =

12465 00001B52 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12466                            3897     
12467                                     ***** BEGIN-POOL *****
12468 00001B54 00000000                   DATA FOR SOURCE-LINE 3891
12469                                     ***** END-POOL *****
12470 00001B58                   3898     _UP_HOLD_FLG_CLR2:
12471                            3899             SUB_START
12472 00001B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
12473                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12474 00001B5A D103              3900             MOV.L   #_UP_HOLD_FLG,R1        ;１回目の運転開始(異常時または1CYCLEND)
12475 00001B5C 6011              3901             MOV.W   @R1,R0                  ;
12476 00001B5E C9CF              3902             AND     #LOW ~(BIT5+BIT4),R0    ;
12477 00001B60 2101              3903             MOV.W   R0,@R1                  ;
12478                            3904             SUB_END
12479                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12480 00001B62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12481                            3905             M_RTS
12482 00001B64 000B                   M           RTS                             ;RTSの後ろの
12483 00001B66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12484                            3906     
12485                            3907     
12486                            3908     
12487                            3909     
12488                            3910     
12489                            3911     
12490                            3912     
12491                            3913     
12492                            3914     ;       ***************************************************
12493                            3915     ;       ***                                             ***
12494                            3916     ;       ***     ミューテングの定義変更                  ***
12495                            3917     ;       ***     2012-09-25                              ***
12496                            3918     ;       ***     準備完了・未完了中も急停止にする        ***
12497                            3919     ;       ***                                             ***
12498                            3920     ;       ***************************************************
12499                            3921     ;;;2013-02-23 不要      .ALIGN  4                               ;
12500                            3922     ;;;2013-02-23 不要_SFTY_MASK_ST_NOT_DRV:
12501                            3923     ;;;2013-02-23 不要      SUB_START
12502                            3924     ;;;2013-02-23 不要
12503                            3925     ;;;2013-02-23 不要;     ======== 2013-02-20[SEQ349.9] ====
12504                            3926     ;;;2013-02-23 不要      MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃ
                                          ﾝｸﾞ無効)
12505                            3927     ;;;2013-02-23 不要      MOV.W   @R1,R0                          ;
12506                            3928     ;;;2013-02-23 不要      CMP/EQ  #1,R0                           ;
12507                            3929     ;;;2013-02-23 不要      BT      SFTY_MASK_ST_NOTDRV100          ;
12508                            3930     ;;;2013-02-23 不要
12509                            3931     ;;;2013-02-23 不要
12510                            3932     ;;;2013-02-23 不要;;;2012-10-15 MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照
                                          しない 1:参照する
12511                            3933     ;;;2013-02-23 不要      MOV.L   #_UPMSK2_MATH,R1                        ;//0:参照しない 1:
                                          参照する
12512                            3934     ;;;2013-02-23 不要      MOV.W   @R1,R0                                  ;
12513                            3935     ;;;2013-02-23 不要      TST     R0,R0                                   ;
12514                            3936     ;;;2013-02-23 不要      TST_BIT_ON SFTY_MASK_ST_NOTDRV100               ;
12515                            3937     ;;;2013-02-23 不要
12516                            3938     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12517                            3939     ;;;2013-02-23 不要
12518                            3940     ;;;2013-02-23 不要      M_BRA   SFTY_MASK_ST_NOTDRV500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   116
PROGRAM NAME =

12519                            3941     ;;;2013-02-23 不要
12520                            3942     ;;;2013-02-23 不要
12521                            3943     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV100:
12522                            3944     ;;;2013-02-23 不要
12523                            3945     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_END,R0                      ;
12524                            3946     ;;;2013-02-23 不要
12525                            3947     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV500:                                       ;
12526                            3948     ;;;2013-02-23 不要
12527                            3949     ;;;2013-02-23 不要      SUB_END
12528                            3950     ;;;2013-02-23 不要      M_RTS
12529                            3951     
12530                            3952     
12531                            3953     ;       ***********************************
12532                            3954     ;       ***                             ***
12533                            3955     ;       ***     停止中のマスク          ***
12534                            3956     ;       ***                             ***
12535                            3957     ;       ***********************************
12536                            3958     ;       ***************************
12537                            3959     ;       ***     2013-02-23      ***
12538                            3960     ;       ***************************
12539                            3961     ;       上昇無効が有効/無効
12540                            3962     ;       SWが有効で,SWがONか?
12541                            3963     ;
12542                            3964     ;
12543                                     ***** BEGIN-POOL *****
12544 00001B68 00000000                   DATA FOR SOURCE-LINE 3900
12545                                     ***** END-POOL *****
12546 00001B6C                   3965     _NEWMASK_SEL_STOPMSK
12547                            3966             SUB_START                               ;
12548 00001B6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12549                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12550                            3967     
12551                            3968     ;       ======== 2013-02-20[SEQ349.9] ====
12552 00001B6E D10A              3969             MOV.L   #_MYUTING_MOD_STOPSEL,R1                ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12553 00001B70 6011              3970             MOV.W   @R1,R0                                  ;
12554 00001B72 8801              3971             CMP/EQ  #1,R0                                   ;
12555 00001B74 890B              3972             BT      NEWMASK_SELSTOPCHK400                   ;
12556                            3973     
12557                            3974     ;       ----------------------------------
12558 00001B76 D109              3975             MOV.L   #_UPMSK2_MATH,R1                ;[0:停止中はﾏｽｸ固定],[1:停止中はﾏｽｸする/し
                                          ないをSWで決定]
12559 00001B78 6011              3976             MOV.W   @R1,R0                          ;
12560 00001B7A 2008              3977             TST     R0,R0                           ;
12561                            3978             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12562 00001B7C 8916                   M           BT      NEWMASK_SELSTOPCHK500
12563                            3979     
12564 00001B7E D108              3980             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない:1:参照する
12565 00001B80 6011              3981             MOV.W   @R1,R0                          ;
12566 00001B82 2008              3982             TST     R0,R0                           ;
12567                            3983             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12568 00001B84 8912                   M           BT      NEWMASK_SELSTOPCHK500
12569                            3984     
12570 00001B86 D107              3985             MOV.L   #_UPMAK2_MOD_USE_SW,R1          ;
12571 00001B88 6011              3986             MOV.W   @R1,R0                          ;
12572 00001B8A 2008              3987             TST     R0,R0
12573                            3988             TST_BIT_ON NEWMASK_SELSTOPCHK500        ;上昇無効にする
12574 00001B8C 8B0E                   M           BF      NEWMASK_SELSTOPCHK500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   117
PROGRAM NAME =

12575                            3989     
12576                            3990     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にしない----
12577 00001B8E                   3991     NEWMASK_SELSTOPCHK400
12578                            3992             FAR_JSR #_SFTY_MASK_END,R0                      ;
12579 00001B8E D006                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12580 00001B90 400B                   M           JSR     @R0                     ;
12581 00001B92 0009                   M           NOP                                     ;
12582                            3993             M_BRA   NEWMASK_SELSTOPCHKEND
12583 00001B94 A00D                   M           BRA     NEWMASK_SELSTOPCHKEND
12584 00001B96 0009                   M           NOP
12585                            3994     
12586                            3995     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にする----
12587                                     ***** BEGIN-POOL *****
12588 00001B98 00000000                   DATA FOR SOURCE-LINE 3969
12589 00001B9C 00000000                   DATA FOR SOURCE-LINE 3975
12590 00001BA0 00000000                   DATA FOR SOURCE-LINE 3980
12591 00001BA4 00000000                   DATA FOR SOURCE-LINE 3985
12592 00001BA8 00000000                   DATA FOR SOURCE-LINE 3992
12593                                     ***** END-POOL *****
12594 00001BAC                   3996     NEWMASK_SELSTOPCHK500
12595                            3997             FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12596 00001BAC D002                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12597 00001BAE 400B                   M           JSR     @R0                     ;
12598 00001BB0 0009                   M           NOP                                     ;
12599 00001BB2                   3998     NEWMASK_SELSTOPCHKEND
12600                            3999     
12601                            4000     
12602                            4001             SUB_END
12603                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12604 00001BB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12605                            4002             M_RTS
12606 00001BB4 000B                   M           RTS                             ;RTSの後ろの
12607 00001BB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12608                            4003     
12609                            4004     
12610                            4005     ;       ***********************************
12611                            4006     ;       ***     動作上ﾏｽｸしたい         ***
12612                            4007     ;       ***     上昇無効,運転終了       ***
12613                            4008     ;       ***********************************
12614                                     ***** BEGIN-POOL *****
12615 00001BB8 00000000                   DATA FOR SOURCE-LINE 3997
12616                                     ***** END-POOL *****
12617 00001BBC                   4009     _SFTY_MASK_START:
12618                            4010             SUB_START
12619 00001BBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12620                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12621 00001BBE D105              4011             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12622 00001BC0 6011              4012             MOV.W   @R1,R0                  ;
12623 00001BC2 CB03              4013             OR      #(BIT1+BIT0),R0         ;
12624 00001BC4 2101              4014             MOV.W   R0,@R1                  ;
12625                            4015             FAR_JSR #_FRCYCL_OF,R0          ;
12626 00001BC6 D004                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12627 00001BC8 400B                   M           JSR     @R0                     ;
12628 00001BCA 0009                   M           NOP                                     ;
12629                            4016             SUB_END
12630                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12631 00001BCC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   118
PROGRAM NAME =

12632                            4017             M_RTS
12633 00001BCE 000B                   M           RTS                             ;RTSの後ろの
12634 00001BD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12635                            4018     
12636                            4019     ;       ***********************************
12637                            4020     ;       ***     動作上ﾏｽｸやめたい       ***
12638                            4021     ;       ***     起動時                  ***
12639                            4022     ;       ***********************************
12640                                     ***** BEGIN-POOL *****
12641 00001BD2 0000                       ALIGNMENT CODE
12642 00001BD4 00000000                   DATA FOR SOURCE-LINE 4011
12643 00001BD8 00000000                   DATA FOR SOURCE-LINE 4015
12644                                     ***** END-POOL *****
12645 00001BDC                   4023     _SFTY_MASK_END:
12646                            4024             SUB_START
12647 00001BDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12648                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12649 00001BDE D104              4025             MOV.L   #_SW_DEV_MASK_FLG,R1    ;//BIT1=BIT0=0 安全装置無効  BIT1=BIT0=1 安全装置
                                          有効
12650 00001BE0 6011              4026             MOV.W   @R1,R0                  ;
12651 00001BE2 C803              4027             TST     #(BIT1+BIT0),R0         ;
12652                            4028             TST_BIT_ON SFTY_MASK_ED_100     ;
12653 00001BE4 8B08                   M           BF      SFTY_MASK_ED_100
12654                            4029             FAR_JSR #_SFTY_MASK_START,R0    ;
12655 00001BE6 D003                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12656 00001BE8 400B                   M           JSR     @R0                     ;
12657 00001BEA 0009                   M           NOP                                     ;
12658                            4030             M_BRA   SFTY_MASK_ED_200        ;
12659 00001BEC A00B                   M           BRA     SFTY_MASK_ED_200
12660 00001BEE 0009                   M           NOP
12661                            4031     
12662                                     ***** BEGIN-POOL *****
12663 00001BF0 00000000                   DATA FOR SOURCE-LINE 4025
12664 00001BF4 00000000                   DATA FOR SOURCE-LINE 4029
12665                                     ***** END-POOL *****
12666 00001BF8                   4032     SFTY_MASK_ED_100:
12667 00001BF8 D104              4033             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12668 00001BFA 6011              4034             MOV.W   @R1,R0                  ;
12669 00001BFC C9FC              4035             AND     #LOW ~(BIT1+BIT0),R0    ;
12670 00001BFE 2101              4036             MOV.W   R0,@R1                  ;
12671                            4037             FAR_JSR #_FRCYCL_ON,R0          ;
12672 00001C00 D003                   M           MOV.L   #_FRCYCL_ON,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12673 00001C02 400B                   M           JSR     @R0                     ;
12674 00001C04 0009                   M           NOP                                     ;
12675 00001C06                   4038     SFTY_MASK_ED_200:
12676                            4039             SUB_END
12677                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12678 00001C06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12679                            4040             M_RTS
12680 00001C08 000B                   M           RTS                             ;RTSの後ろの
12681 00001C0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12682                            4041     
12683                            4042     
12684                            4043     
12685                            4044     
12686                            4045     
12687                            4046     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   119
PROGRAM NAME =

12688                            4047     
12689                            4048     
12690                            4049     
12691                            4050     
12692                            4051     ;       *******************************************************************
12693                            4052     ;       ***                                                             ***
12694                            4053     ;       ***     2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]     ***
12695                            4054     ;       ***                                                             ***
12696                            4055     ;       *******************************************************************
12697                            4056     ;       ANS R0=0
12698                            4057     ;       ANS R0=-1 (上昇無効にしない)
12699                            4058     ;;_OPT_SFTY_MASK_CHK:
12700                            4059     ;;      SUB_START
12701                            4060     ;;      XOR     R2,R2                   ;
12702                            4061     ;;
12703                            4062     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
12704                            4063     ;;      MOV.W   @R1,R0                          ;
12705                            4064     ;;      TST     #_W1OPT,R0                      ;OPTION?
12706                            4065     ;;      TST_BIT_OF OPT_SFTY_MASKCHK_100         ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12707                            4066     ;;
12708                            4067     ;;      MOV.L   #_MODE_SEL,R1                   ;
12709                            4068     ;;      MOV.W   @R1,R0                          ;
12710                            4069     ;;      MOV.W   #BIT10,R1                       ;
12711                            4070     ;;      TST     R1,R0                           ;
12712                            4071     ;;      TST_BIT_ON OPT_SFTY_MASKCHK_100         ;ON:一行程
12713                            4072     ;;
12714                            4073     ;;      ---ｵﾌﾟｼｮﾝの安全一行程--
12715                            4074     ;;      MOV.L   #_WPAR_SFYOPT_USEL,R1           ;
12716                            4075     ;;      MOV.W   @R1,R0                          ;
12717                            4076     ;;      CMP/EQ  #1,R0                           ;
12718                            4077     ;;      BF      OPT_SFTY_MASKCHK_100            ;
12719                            4078     ;;
12720                            4079     ;;      MOV.B   #-1,R2                          ;
12721                            4080     ;;
12722                            4081     ;;OPT_SFTY_MASKCHK_100:
12723                            4082     ;;      MOV     R2,R0
12724                            4083     ;;      SUB_END
12725                            4084     ;;      M_RTS
12726                            4085     
12727                            4086     ;       ***************************************************************************
12728                            4087     ;       ***                                                                     ***
12729                            4088     ;       ***     2012-09-25                                                      ***
12730                            4089     ;       ***     [ｵﾌﾟｼｮﾝの安全一行程はｼｽﾊﾟﾗの指示に従い上昇無効にする/しない]    ***
12731                            4090     ;       ***                                                                     ***
12732                            4091     ;       ***************************************************************************
12733                            4092     ;       ANS R0=0:上昇無効にする,-1:上昇無効にしない
12734                                     ***** BEGIN-POOL *****
12735 00001C0C 00000000                   DATA FOR SOURCE-LINE 4033
12736 00001C10 00000000                   DATA FOR SOURCE-LINE 4037
12737                                     ***** END-POOL *****
12738 00001C14                   4093             .ALIGN  4                               ;
12739 00001C14                   4094     _OPT_SGL_SFTY_MASK_CHK:
12740                            4095             SUB_START
12741 00001C14 4F22                   M           STS.L   PR,@-R15                ;[必要]
12742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12743 00001C16 222A              4096             XOR     R2,R2                   ;
12744                            4097     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   120
PROGRAM NAME =

12745                            4098     ;       ======== 2013-02-20[SEQ349.9] ====
12746 00001C18 D10B              4099             MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12747 00001C1A 6011              4100             MOV.W   @R1,R0                          ;
12748 00001C1C 8801              4101             CMP/EQ  #1,R0                           ;
12749 00001C1E 8936              4102             BT      OPT_SGL_SFTY_MASKCHK_500        ;
12750                            4103     
12751                            4104     
12752 00001C20 D10A              4105             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12753 00001C22 6011              4106             MOV.W   @R1,R0                          ;28.2
12754 00001C24 C804              4107             TST     #BIT2,R0                        ;
12755                            4108             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;
12756 00001C26 8932                   M           BT      OPT_SGL_SFTY_MASKCHK_500
12757                            4109     
12758                            4110     
12759 00001C28 D109              4111             MOV.L   #_di1_cb_ctl1_dt,R1             ;
12760 00001C2A 6011              4112             MOV.W   @R1,R0                          ;
12761 00001C2C C810              4113             TST     #_W1OPT,R0                      ;OPTION?
12762                            4114             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_100     ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12763 00001C2E 891D                   M           BT      OPT_SGL_SFTY_MASKCHK_100
12764                            4115     
12765 00001C30 D108              4116             MOV.L   #_MODE_SEL,R1                   ;
12766 00001C32 6011              4117             MOV.W   @R1,R0                          ;
12767 00001C34 9107              4118             MOV.W   #BIT10,R1                       ;
12768 00001C36 2018              4119             TST     R1,R0                           ;
12769                            4120             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_080     ;ON:一行程　2012-09-25
12770 00001C38 8B10                   M           BF      OPT_SGL_SFTY_MASKCHK_080
12771                            4121     ;;;;;;  TST_BIT_ON OPT_SGL_SFTY_MASKCHK_100     ;ON:一行程
12772                            4122     
12773                            4123     ;       ---ｵﾌﾟｼｮﾝの安全一行程--
12774 00001C3A D107              4124             MOV.L   #_WPAR_SFYOPT_USEL,R1           ;PARAM66
12775 00001C3C 6011              4125             MOV.W   @R1,R0                          ;
12776 00001C3E 8801              4126             CMP/EQ  #1,R0                           ;
12777 00001C40 8925              4127             BT      OPT_SGL_SFTY_MASKCHK_500        ;1:上昇無効にしない
12778                            4128             M_BRA   OPT_SGL_SFTY_MASKCHK_400        ;0,2上昇無効にする
12779 00001C42 A021                   M           BRA     OPT_SGL_SFTY_MASKCHK_400
12780 00001C44 0009                   M           NOP
12781                            4129     
12782                            4130     ;       --------一行程[新ﾓｰﾄﾞでは上昇無効にしない]---
12783                                     ***** BEGIN-POOL *****
12784 00001C46 0400                       DATA FOR SOURCE-LINE 4118
12785 00001C48 00000000                   DATA FOR SOURCE-LINE 4099
12786 00001C4C 00000000                   DATA FOR SOURCE-LINE 4105
12787 00001C50 00000000                   DATA FOR SOURCE-LINE 4111
12788 00001C54 00000000                   DATA FOR SOURCE-LINE 4116
12789 00001C58 00000000                   DATA FOR SOURCE-LINE 4124
12790                                     ***** END-POOL *****
12791 00001C5C                   4131     OPT_SGL_SFTY_MASKCHK_080:
12792                            4132     ;;;;2012-10-15  MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:参照する
12793                            4133     ;;;;2013-08-20  MOV.L   #_UPMSK2_MATH,R1                ;//0: 1:
12794                            4134     
12795 00001C5C D102              4135             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない[旧ﾓｰﾄﾞ] 1:参照する 2013-08
                                          -20
12796 00001C5E 6011              4136             MOV.W   @R1,R0                          ;
12797 00001C60 2008              4137             TST     R0,R0                           ;
12798                            4138             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12799 00001C62 8911                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12800                            4139             M_BRA   OPT_SGL_SFTY_MASKCHK_500        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   121
PROGRAM NAME =

12801 00001C64 A013                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12802 00001C66 0009                   M           NOP
12803                            4140     
12804                            4141     
12805                            4142     ;       ======== 通常の安全一行程の条件(GAMEN-SWは上昇無効有り)===
12806                                     ***** BEGIN-POOL *****
12807 00001C68 00000000                   DATA FOR SOURCE-LINE 4135
12808                                     ***** END-POOL *****
12809 00001C6C                   4143     OPT_SGL_SFTY_MASKCHK_100:
12810                            4144     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MATH,R1                ;//0:参照しない 1:
                                          参照する
12811                            4145     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12812                            4146     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12813                            4147     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12814                            4148     ;;;;;;;;;;;;;;2013-08-20
12815                            4149     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:
                                          参照する
12816                            4150     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12817                            4151     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12818                            4152     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;2012-10-15
12819                            4153     ;;;;;;;;;;;;;;2013-08-20
12820                            4154     ;;;;;;;;;;;;;;2013-08-20;;;;2012-10-15  TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までど
                                          おりする
12821                            4155     
12822                            4156     ;       ===2013-08-20 SWを使用しない場合は 旧動作(上昇無効にする)==
12823 00001C6C D104              4157             MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照しない 1:参照する
12824 00001C6E 6011              4158             MOV.W   @R1,R0                                  ;
12825 00001C70 2008              4159             TST     R0,R0                                   ;
12826                            4160             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400             ;今までどおりする
12827 00001C72 8909                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12828                            4161     
12829 00001C74 D103              4162             MOV.L   #_UPMAK2_MOD_USE_SW,R1                  ;
12830 00001C76 6011              4163             MOV.W   @R1,R0                                  ;
12831 00001C78 2008              4164             TST     R0,R0
12832                            4165             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_400             ;ON する
12833 00001C7A 8B05                   M           BF      OPT_SGL_SFTY_MASKCHK_400
12834                            4166             M_BRA   OPT_SGL_SFTY_MASKCHK_500                ;しない
12835 00001C7C A007                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12836 00001C7E 0009                   M           NOP
12837                            4167     
12838                            4168     ;       ----------上昇無効にする----
12839                                     ***** BEGIN-POOL *****
12840 00001C80 00000000                   DATA FOR SOURCE-LINE 4157
12841 00001C84 00000000                   DATA FOR SOURCE-LINE 4162
12842                                     ***** END-POOL *****
12843 00001C88                   4169     OPT_SGL_SFTY_MASKCHK_400:
12844 00001C88 222A              4170             XOR     R2,R2
12845                            4171             M_BRA   OPT_SGL_SFTY_MASKCHK_END
12846 00001C8A A001                   M           BRA     OPT_SGL_SFTY_MASKCHK_END
12847 00001C8C 0009                   M           NOP
12848                            4172     
12849                            4173     ;       ---------しない----
12850 00001C8E                   4174     OPT_SGL_SFTY_MASKCHK_500:
12851 00001C8E E2FF              4175             MOV.B   #-1,R2                          ;
12852 00001C90                   4176     OPT_SGL_SFTY_MASKCHK_END:
12853 00001C90 6023              4177             MOV     R2,R0
12854                            4178     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   122
PROGRAM NAME =

12855                            4179             SUB_END
12856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12857 00001C92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12858                            4180             M_RTS
12859 00001C94 000B                   M           RTS                             ;RTSの後ろの
12860 00001C96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12861                            4181     
12862                            4182     
12863                            4183     
12864                            4184     
12865                            4185     
12866                            4186     
12867                            4187     
12868                            4188     
12869                            4189     
12870                            4190     ;       ***********************************
12871                            4191     ;       ***     ロットカウント処理      ***
12872                            4192     ;       ***********************************
12873                            4193     ;
12874                            4194     ;
12875                            4195     ;       <待機点内->待機点外>
12876                            4196             .IMPORT _LOT_SIG_SET            ;
12877 00001C98                   4197     _LOT_CNT_CNT:
12878                            4198             SUB_START
12879 00001C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
12880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12881                            4199     
12882                            4200     ;       ====待機点復帰はロットカウンタをカウントしない S00ejの2回目===
12883 00001C9A D105              4201             MOV.L   #_MODE_SEL,R1           ;
12884 00001C9C 6011              4202             MOV.W   @R1,R0                  ;
12885 00001C9E C860              4203             TST     #(_W1DUP+_W1DIC),R0     ;TST #_W1DUP 原点復帰と段取はｶｳﾝﾄしない 2003-07-01
12886                            4204             TST_BIT_ON LOT_CNTCNT_200       ;原点時はｶｳﾝﾄしない
12887 00001CA0 8B2B                   M           BF      LOT_CNTCNT_200
12888                            4205     
12889                            4206     
12890                            4207     ;;;;;;;;        --------- 2020-05-07(2019-09-05)ADD　待機点切替前に手を離すと次回にならな
                                          い-------
12891                            4208     ;;;;;;; TST             #_W1CNT,R0                              ;
12892                            4209     ;;;;;;; TST_BIT_OF LOT_CNTCNT_MOD49             ;(連続以外はパス)
12893                            4210     ;;;;;;;
12894                            4211     ;;;;;;; MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12895                            4212     ;;;;;;; MOV.W   @R1,R0                                  ;.8=TIM .9=CNT
12896                            4213     ;;;;;;; MOV.W   #(BIT9|BIT8),R4                 ;
12897                            4214     ;;;;;;; TST             R4,R0                                   ;
12898                            4215     ;;;;;;; TST_BIT_OF LOT_CNTCNT_MOD49             ;(ﾀｲﾏ,回転以外はパス)
12899                            4216     ;;;;;;;
12900                            4217     ;;;;;;; MOV.L   #_LOT_CHK_FLG,R1                ;
12901                            4218     ;;;;;;; MOV.W   @R1,R0                                  ;
12902                            4219     ;;;;;;; TST             #(BIT4),R0                              ;
12903                            4220     ;;;;;;; TST_BIT_ON      LOT_CNTCNT_080          ;下降領域に入った
12904                            4221     ;;;;;;; M_BRA   LOT_CNTCNT_200                  ;
12905                            4222     ;;;;;;;
12906                            4223     ;;;;;;;LOT_CNTCNT_MOD49:
12907                            4224     ;;;;;;; --------------------------------------------
12908                            4225     
12909                            4226     
12910                            4227     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   123
PROGRAM NAME =

12911                            4228     
12912                            4229     
12913                            4230     
12914 00001CA2 D104              4231             MOV.L   #_LOT_CHK_FLG,R1        ;
12915 00001CA4 6011              4232             MOV.W   @R1,R0                  ;
12916 00001CA6 C911              4233             AND     #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12917 00001CA8 8811              4234             CMP/EQ  #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12918 00001CAA 8905              4235             BT      LOT_CNTCNT_050          ;下降領域に入った
12919                            4236             M_BRA   LOT_CNTCNT_200          ;
12920 00001CAC A025                   M           BRA     LOT_CNTCNT_200
12921 00001CAE 0009                   M           NOP
12922                            4237     
12923                            4238     
12924                                     ***** BEGIN-POOL *****
12925 00001CB0 00000000                   DATA FOR SOURCE-LINE 4201
12926 00001CB4 00000000                   DATA FOR SOURCE-LINE 4231
12927                                     ***** END-POOL *****
12928 00001CB8                   4239     LOT_CNTCNT_050:
12929                            4240              .AIF   1 EQ 1  ;
12930                            4241 C   ;       -------- 2016-10-31 ADD 二重回路対策
12931                            4242              .AENDI
12932                            4243     ;       ---------- 2016-10-31(2016-07-16) ----------------
12933                            4244             .AIF    1 EQ    0       ;
12934                            4245             MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12935                            4246             .AELSE                                  ;
12936 00001CB8 D103              4247 C           MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12937                            4248             .AENDI                                  ;
12938                            4249     
12939 00001CBA 6011              4250             MOV.W   @R1,R0                          ;
12940 00001CBC C911              4251             AND     #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12941 00001CBE 8811              4252             CMP/EQ  #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12942 00001CC0 8904              4253             BT      LOT_CNTCNT_080                  ;下降領域に入った
12943                            4254             M_BRA   LOT_CNTCNT_200                  ;
12944 00001CC2 A01A                   M           BRA     LOT_CNTCNT_200
12945 00001CC4 0009                   M           NOP
12946                            4255     
12947                                     ***** BEGIN-POOL *****
12948 00001CC6 0000                       ALIGNMENT CODE
12949 00001CC8 00000000                   DATA FOR SOURCE-LINE 4247
12950                                     ***** END-POOL *****
12951 00001CCC                   4256     LOT_CNTCNT_080:                                 ;
12952                            4257     
12953                            4258     
12954 00001CCC D10E              4259             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1() <===ﾓｰｼｮﾝ時
                                          のみ=1
12955 00001CCE 6011              4260             MOV.W   @R1,R0                  ;
12956 00001CD0 2008              4261             TST     R0,R0                   ;
12957                            4262             TST_BIT_ON LOT_CNTCNT_200       ;
12958 00001CD2 8B12                   M           BF      LOT_CNTCNT_200
12959                            4263     
12960                            4264             FAR_JSR #_UP_LOT_SIG_MAK,R0
12961 00001CD4 D00D                   M           MOV.L   #_UP_LOT_SIG_MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12962 00001CD6 400B                   M           JSR     @R0                     ;
12963 00001CD8 0009                   M           NOP                                     ;
12964                            4265     
12965 00001CDA 2008              4266             TST     R0,R0                   ;
12966                            4267             TST_BIT_OF LOT_CNTCNT_200       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   124
PROGRAM NAME =

12967 00001CDC 890D                   M           BT      LOT_CNTCNT_200
12968                            4268     
12969 00001CDE D10A              4269             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12970 00001CE0 6011              4270             MOV.W   @R1,R0                  ;
12971 00001CE2 CB01              4271             OR      #BIT0,R0                ;
12972 00001CE4 2101              4272             MOV.W   R0,@R1                  ;
12973                            4273     
12974                            4274     
12975                            4275     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
12976                            4276     ;;2016-10-31未使用      MOV.W   @R1,R0                  ;
12977                            4277     ;;2016-10-31未使用      OR      #BIT0,R0                ;
12978                            4278     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
12979                            4279     
12980                            4280     
12981                            4281     
12982                            4282             FAR_JSR #_LOT_SIG_SET,R0                                                ;
12983 00001CE6 D00A                   M           MOV.L   #_LOT_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12984 00001CE8 400B                   M           JSR     @R0                     ;
12985 00001CEA 0009                   M           NOP                                     ;
12986                            4283     
12987                            4284     ;       ===========ﾛｯﾄｶｳﾝﾀでの処理==================
12988 00001CEC D109              4285             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12989 00001CEE 6011              4286             MOV.W   @R1,R0                  ;
12990 00001CF0 2008              4287             TST     R0,R0
12991                            4288             TST_BIT_OF CONT_LOT_CHK050
12992 00001CF2 8901                   M           BT      CONT_LOT_CHK050
12993 00001CF4 70FF              4289             ADD     #-1,R0
12994 00001CF6 2101              4290             MOV.W   R0,@R1
12995 00001CF8                   4291     CONT_LOT_CHK050:
12996 00001CF8 0009              4292             NOP
12997                            4293     
12998                            4294     
12999 00001CFA                   4295     LOT_CNTCNT_200:
13000                            4296              .AIF   1 EQ 1  ;
13001                            4297 C   ;       -------- 2016-10-31 ADD 二重回路対策
13002                            4298              .AENDI
13003                            4299             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13004 00001CFA D007                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13005 00001CFC 400B                   M           JSR     @R0                     ;
13006 00001CFE 0009                   M           NOP                                     ;
13007                            4300     
13008                            4301     ;;;2019-02-05 TEST      FAR_JSR #_DEBUG_SQ_SIG_246_247,R0       ;2018-02-10ﾃﾞﾊﾞｯｸ
13009                            4302     
13010                            4303             SUB_END
13011                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13012 00001D00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13013                            4304             M_RTS
13014 00001D02 000B                   M           RTS                             ;RTSの後ろの
13015 00001D04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13016                            4305     
13017                            4306     
13018                                     ***** BEGIN-POOL *****
13019 00001D06 0000                       ALIGNMENT CODE
13020 00001D08 00000000                   DATA FOR SOURCE-LINE 4259,4269
13021 00001D0C 00000000                   DATA FOR SOURCE-LINE 4264
13022 00001D10 00000000                   DATA FOR SOURCE-LINE 4282
13023 00001D14 00000000                   DATA FOR SOURCE-LINE 4285
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   125
PROGRAM NAME =

13024 00001D18 00000000                   DATA FOR SOURCE-LINE 4299
13025                                     ***** END-POOL *****
13026 00001D1C                   4307     _DEBUG_SQ_SIG_246_247
13027                            4308             SUB_START
13028 00001D1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13029                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13030                            4309     
13031                            4310     ;---------2018-02-10 ﾃﾞﾊﾞｯｸ--------------
13032                            4311     ;;;2021-06-24   MOV.L   #_LOT_CNT_FLG,R1                        ;BIT0->BIT8
13033                            4312     ;;;2021-06-24   MOV.W   @R1,R2                                          ;
13034                            4313     ;;;2021-06-24   SHLL8   R2                                                      ;
13035                            4314     ;;;2021-06-24   MOV.L   #_LOT_CHK_FLG,R1                        ;BIT0,BIT4
13036                            4315     ;;;2021-06-24   MOV.W   @R1,R0                                          ;
13037                            4316     ;;;2021-06-24   EXTU.B  R0,R0                                           ;
13038                            4317     ;;;2021-06-24   OR              R2,R0                                           ;
13039                            4318     ;;;2021-06-24MOV.L      #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
13040                            4319     ;;;2021-06-24MOV.W      R0,@R1                                          ;
13041                            4320     ;;;2021-06-24
13042                            4321     ;;;2021-06-24   MOV.L   #_DEBUG_STS_CNT1,R1                     ;
13043                            4322     ;;;2021-06-24   MOV.W   @R1,R2                                          ;
13044                            4323     ;;;2021-06-24   SHLL8   R2                                                      ;
13045                            4324     ;;;2021-06-24   MOV.L   #_DEBUG_STS_CNT2,R1                     ;
13046                            4325     ;;;2021-06-24   MOV.W   @R1,R0                                          ;
13047                            4326     ;;;2021-06-24   EXTU.B  R0,R0                                           ;
13048                            4327     ;;;2021-06-24   OR              R2,R0                                           ;
13049                            4328     ;;;2021-06-24MOV.L      #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
13050                            4329     ;;;2021-06-24MOV.W      R0,@R1                                          ;
13051                            4330     
13052                            4331             SUB_END
13053                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13054 00001D1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13055                            4332             M_RTS
13056 00001D20 000B                   M           RTS                             ;RTSの後ろの
13057 00001D22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13058                            4333     
13059                            4334     
13060                            4335              .AIF   1 EQ 1  ;
13061                            4336 C   ;       -------- 2016-10-31 ADD 二重回路対策
13062                            4337              .AENDI
13063                            4338     ;       ---------- 二重回路 2016-07-21---------
13064 00001D24                   4339     _CNT_MODE_CNT_SIG_OUT
13065                            4340             SUB_START
13066 00001D24 4F22                   M           STS.L   PR,@-R15                ;[必要]
13067                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13068                            4341     
13069                            4342     ;       ------2016-07-16
13070 00001D26 D107              4343             MOV.L   #_LOT_CHK_FLG,R1                ;
13071 00001D28 6011              4344             MOV.W   @R1,R0                          ;
13072                            4345             .AIF    1 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13073                            4346             MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
13074                            4347             .AELSE
13075 00001D2A D107              4348 C           MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
13076                            4349             .AENDI                                  ;
13077 00001D2C 2101              4350             MOV.W   R0,@R1                          ;
13078                            4351     
13079                            4352     
13080 00001D2E D107              4353             MOV.L   #_LOT_CNT_FLG,R1                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   126
PROGRAM NAME =

13081 00001D30 6011              4354             MOV.W   @R1,R0                          ;
13082                            4355             .AIF    1 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13083                            4356             MOV.L   #_CPUA_LOT_CNT_FLG,R1           ;2016-07-18CHECK
13084                            4357             .AELSE
13085 00001D32 D107              4358 C           MOV.L   #_CPUB_LOT_CNT_FLG,R1           ;2016-07-18CHECK
13086                            4359             .AENDI                                  ;
13087 00001D34 2101              4360             MOV.W   R0,@R1                          ;
13088                            4361     
13089                            4362     
13090 00001D36 D107              4363             MOV.L   #_CONT_MOD_CNT_PV,R1            ;
13091 00001D38 6011              4364             MOV.W   @R1,R0                          ;
13092                            4365             .AIF    1 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13093                            4366             MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
13094                            4367             .AELSE
13095 00001D3A D107              4368 C           MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
13096                            4369             .AENDI                                  ;
13097 00001D3C 2101              4370             MOV.W   R0,@R1                          ;
13098                            4371             SUB_END
13099                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13100 00001D3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13101                            4372             M_RTS
13102 00001D40 000B                   M           RTS                             ;RTSの後ろの
13103 00001D42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13104                            4373     
13105                            4374     
13106                            4375     
13107                            4376             .EXPORT _LOT_SIG_FLG_CLR
13108                            4377     
13109                                     ***** BEGIN-POOL *****
13110 00001D44 00000000                   DATA FOR SOURCE-LINE 4343
13111 00001D48 00000000                   DATA FOR SOURCE-LINE 4348
13112 00001D4C 00000000                   DATA FOR SOURCE-LINE 4353
13113 00001D50 00000000                   DATA FOR SOURCE-LINE 4358
13114 00001D54 00000000                   DATA FOR SOURCE-LINE 4363
13115 00001D58 00000000                   DATA FOR SOURCE-LINE 4368
13116                                     ***** END-POOL *****
13117 00001D5C                   4378     _LOT_SIG_FLG_CLR:
13118                            4379             SUB_START
13119 00001D5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13120                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13121 00001D5E D107              4380             MOV.L   #_LOT_CHK_FLG,R1        ;
13122 00001D60 6011              4381             MOV.W   @R1,R0                  ;
13123 00001D62 C9EE              4382             AND     #LOW ~(BIT4+BIT0),R0    ;
13124 00001D64 2101              4383             MOV.W   R0,@R1
13125                            4384     
13126 00001D66 D106              4385             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
13127 00001D68 200A              4386             XOR     R0,R0                   ;
13128 00001D6A 2101              4387             MOV.W   R0,@R1                  ;
13129                            4388     
13130                            4389     ;       ---2018-02-10 DEBUG --------------
13131 00001D6C D105              4390             MOV.L   #_DEBUG_STS_CNT1,R1                     ;
13132 00001D6E 6011              4391             MOV.W   @R1,R0                                          ;
13133 00001D70 7001              4392             ADD             #1,R0                                           ;
13134 00001D72 2101              4393             MOV.W   R0,@R1                                          ;
13135                            4394     ;       ----------------------------------
13136                            4395     
13137                            4396             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   127
PROGRAM NAME =

13138                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13139 00001D74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13140                            4397             M_RTS
13141 00001D76 000B                   M           RTS                             ;RTSの後ろの
13142 00001D78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13143                            4398     
13144                            4399     
13145                                     ***** BEGIN-POOL *****
13146 00001D7A 0000                       ALIGNMENT CODE
13147 00001D7C 00000000                   DATA FOR SOURCE-LINE 4380
13148 00001D80 00000000                   DATA FOR SOURCE-LINE 4385
13149 00001D84 00000000                   DATA FOR SOURCE-LINE 4390
13150                                     ***** END-POOL *****
13151 00001D88                   4400     _UP_LOT_SIG_MAK:
13152                            4401             SUB_START
13153 00001D88 4F22                   M           STS.L   PR,@-R15                ;[必要]
13154                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13155 00001D8A D50A              4402             MOV.L   #_INT_POS_CTL_STEP,R5   ;
13156 00001D8C 6251              4403             MOV.W   @R5,R2                  ;
13157 00001D8E D40A              4404             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
13158 00001D90 6541              4405             MOV.W   @R4,R5                  ;
13159 00001D92 3252              4406             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
13160 00001D94 8B2E              4407             BF      CTRL_UP_LOT_CK_END      ;
13161                            4408     
13162                            4409     ;       == ﾁｪｯｸすべく工程より大きい====
13163                            4410     ;       ======== ﾁｪｯｸすべき工程だ =======
13164                            4411     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
13165                            4412     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
13166                            4413     
13167 00001D96 D409              4414             MOV.L   #_DNM_CTL_INC3600,R4    ;[2009-10-07下振子]
13168 00001D98 6241              4415             MOV.W   @R4,R2                  ;
13169                            4416     
13170 00001D9A D509              4417             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
13171 00001D9C 6151              4418             MOV.W   @R5,R1                  ;START
13172 00001D9E D509              4419             MOV.L   #_SETX_UPAREA_DIG,R5    ;
13173 00001DA0 6351              4420             MOV.W   @R5,R3                  ;
13174                            4421             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
13175 00001DA2 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13176 00001DA4 400B                   M           JSR     @R0                     ;
13177 00001DA6 0009                   M           NOP                                     ;
13178                            4422     
13179                            4423     
13180 00001DA8 D108              4424             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
13181 00001DAA 6011              4425             MOV.W   @R1,R0                                  ;
13182 00001DAC C808              4426             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
13183                            4427             TST_BIT_OF CTRL_UP_LOT_CK_200                   ;
13184 00001DAE 890F                   M           BT      CTRL_UP_LOT_CK_200
13185                            4428             M_BRA   CTRL_UP_LOT_CK_END                      ;(作成未)
13186 00001DB0 A020                   M           BRA     CTRL_UP_LOT_CK_END
13187 00001DB2 0009                   M           NOP
13188                            4429     
13189                                     ***** BEGIN-POOL *****
13190 00001DB4 00000000                   DATA FOR SOURCE-LINE 4402
13191 00001DB8 00000000                   DATA FOR SOURCE-LINE 4404
13192 00001DBC 00000000                   DATA FOR SOURCE-LINE 4414
13193 00001DC0 00000000                   DATA FOR SOURCE-LINE 4417
13194 00001DC4 00000000                   DATA FOR SOURCE-LINE 4419
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   128
PROGRAM NAME =

13195 00001DC8 00000000                   DATA FOR SOURCE-LINE 4421
13196 00001DCC 00000000                   DATA FOR SOURCE-LINE 4424
13197                                     ***** END-POOL *****
13198 00001DD0                   4430     CTRL_UP_LOT_CK_200:
13199 00001DD0 C804              4431             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
13200                            4432             TST_BIT_OF CTRL_UP_LOT_CK_300                   ;
13201 00001DD2 8901                   M           BT      CTRL_UP_LOT_CK_300
13202                            4433             M_BRA   CTRL_UP_LOT_CK_400                      ;[2009-10-07下振子]
13203 00001DD4 A006                   M           BRA     CTRL_UP_LOT_CK_400
13204 00001DD6 0009                   M           NOP
13205                            4434     ;;[2009-10-07下振子]    M_BRA   CTRL_UP_LOT_CK_END      ;(作成未)
13206                            4435     
13207 00001DD8                   4436     CTRL_UP_LOT_CK_300:
13208 00001DD8 C802              4437             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
13209                            4438             TST_BIT_OF CTRL_UP_LOT_CK_400                   ;
13210 00001DDA 8903                   M           BT      CTRL_UP_LOT_CK_400
13211                            4439     
13212                            4440     ;       ==== 反転R5=0,-1 ====
13213 00001DDC 4515              4441             CMP/PL  R5                                      ;
13214 00001DDE 8B05              4442             BF      CTRL_UP_LOT_CK_700                      ;成立
13215                            4443             M_BRA   CTRL_UP_LOT_CK_END                      ;
13216 00001DE0 A008                   M           BRA     CTRL_UP_LOT_CK_END
13217 00001DE2 0009                   M           NOP
13218                            4444     
13219                            4445     ;-----------回転-----------
13220 00001DE4                   4446     CTRL_UP_LOT_CK_400:
13221                            4447     ;       ==== 正転R5=0,1 ====
13222 00001DE4 4511              4448             CMP/PZ  R5
13223 00001DE6 8901              4449             BT      CTRL_UP_LOT_CK_700                      ;成立
13224                            4450             M_BRA   CTRL_UP_LOT_CK_END                      ;
13225 00001DE8 A004                   M           BRA     CTRL_UP_LOT_CK_END
13226 00001DEA 0009                   M           NOP
13227 00001DEC                   4451     CTRL_UP_LOT_CK_700:
13228 00001DEC E0FF              4452             MOV     #-1,R0                  ;
13229                            4453     
13230                            4454             SUB_END
13231                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13232 00001DEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13233                            4455             M_RTS
13234 00001DF0 000B                   M           RTS                             ;RTSの後ろの
13235 00001DF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13236                            4456     
13237 00001DF4                   4457     CTRL_UP_LOT_CK_END:
13238 00001DF4 200A              4458             XOR     R0,R0
13239                            4459             SUB_END
13240                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13241 00001DF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13242                            4460             M_RTS
13243 00001DF8 000B                   M           RTS                             ;RTSの後ろの
13244 00001DFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13245                            4461     
13246                            4462     
13247                            4463     
13248                            4464     ;       *******************************************
13249                            4465     ;       ***                                     ***
13250                            4466     ;       ***     クラッチ・ブレーキ起動処理      ***
13251                            4467     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   129
PROGRAM NAME =

13252                            4468     ;       *******************************************
13253 00001DFC                   4469     _CB_CTL_START_INI:
13254                            4470             SUB_START
13255 00001DFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13256                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13257                            4471     
13258                            4472              .AIF   1 EQ 1  ;
13259                            4473 C   ;       -------- 2016-10-31 ADD 二重回路対策
13260                            4474              .AENDI
13261                            4475             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-10-31(2016-07-22) 二重回路対策
13262 00001DFE D00D                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13263 00001E00 400B                   M           JSR     @R0                     ;
13264 00001E02 0009                   M           NOP                                     ;
13265                            4476     
13266                            4477     ;2016-10-31     XOR     R2,R2
13267                            4478     ;2016-10-31     XOR     R3,R3
13268                            4479     ;2016-10-31     MOV.L   #_MODE_SEL,R1                           ;
13269                            4480     ;2016-10-31     MOV.W   @R1,R0                                  ;
13270                            4481     ;2016-10-31     TST     #_W1CNT,R0                              ;
13271                            4482     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100
13272                            4483     ;2016-10-31
13273                            4484     ;2016-10-31;    **********************************
13274                            4485     ;2016-10-31;    ***     2004-01-26              **
13275                            4486     ;2016-10-31;    **********************************
13276                            4487     ;2016-10-31     MOV.W   #(BIT12+BIT11),R1       ;
13277                            4488     ;2016-10-31     TST     R1,R0                   ;OPTIONの連続寸動
13278                            4489     ;2016-10-31     TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13279                            4490     ;2016-10-31
13280                            4491     ;2016-10-31     MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13281                            4492     ;2016-10-31     MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13282                            4493     ;2016-10-31     MOV.W   #BIT8,R4                        ;
13283                            4494     ;2016-10-31     TST     R4,R0                           ;
13284                            4495     ;2016-10-31     TST_BIT_OF CONT_MD_CHK050       ;
13285                            4496     ;2016-10-31     MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13286                            4497     ;2016-10-31     MOV.L   @R1,R2                  ;
13287                            4498     ;2016-10-31     M_BRA   CONT_MD_CHK100          ;
13288                            4499     ;2016-10-31CONT_MD_CHK050:
13289                            4500     ;2016-10-31
13290                            4501     ;2016-10-31     MOV.W   #BIT9,R4                        ;
13291                            4502     ;2016-10-31     TST     R4,R0                           ;
13292                            4503     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100       ;
13293                            4504     ;2016-10-31     MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13294                            4505     ;2016-10-31     MOV.W   @R1,R3                  ;
13295                            4506     ;2016-10-31CONT_MD_CHK100:
13296                            4507     ;2016-10-31
13297                            4508     ;2016-10-31     MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13298                            4509     ;2016-10-31     MOV.L   R2,@R1                  ;
13299                            4510     ;2016-10-31     MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13300                            4511     ;2016-10-31     MOV.W   R3,@R1                  ;
13301                            4512     
13302                            4513     ;       ======ｻｲｸﾙ停止状態OFF==========================
13303 00001E04 D50C              4514             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R5             ;
13304 00001E06 6051              4515             MOV.W   @R5,R0                                  ;
13305 00001E08 9412              4516             MOV.W   #LWORD ~(BIT7),R4                       ;
13306 00001E0A 2049              4517             AND     R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13307 00001E0C 2501              4518             MOV.W   R0,@R5                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   130
PROGRAM NAME =

13308                            4519     ;       ===============================================
13309                            4520     
13310                            4521     ;       ======= ｻｰﾎﾞ 2003-05-24 ====
13311 00001E0E D10B              4522             MOV.L   #_WPAR_INCSTP_EDYTM1,R1         ;停止遅延時間1=>ﾊﾟﾗﾒｰﾀﾜｰｸへ
13312 00001E10 6011              4523             MOV.W   @R1,R0                          ;
13313 00001E12 D10B              4524             MOV.L   #_WPAR_INCSTP_EDYTM,R1          ;
13314 00001E14 2101              4525             MOV.W   R0,@R1                          ;
13315                            4526     
13316                            4527             FAR_JSR #_DRV_START_INI_NEW1,R0         ;2003-07-09
13317 00001E16 D00B                   M           MOV.L   #_DRV_START_INI_NEW1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13318 00001E18 400B                   M           JSR     @R0                     ;
13319 00001E1A 0009                   M           NOP                                     ;
13320                            4528     
13321                            4529     
13322                            4530             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
13323 00001E1C D10A                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13324 00001E1E 6011                   M           MOV.W   @R1,R0          ;
13325 00001E20 C900                   M           AND     #LOW ~(H'FF),R0         ;
13326 00001E22 2101                   M           MOV.W   R0,@R1          ;
13327                            4531     
13328                            4532     ;       ----- 2007-03-02 ----
13329 00001E24 200A              4533             XOR     R0,R0
13330 00001E26 D109              4534             MOV.L   #_CMP_RECOVER_FLG,R1            ;(ﾃﾞﾊﾞｯｸ用)
13331 00001E28 2101              4535             MOV.W   R0,@R1                          ;
13332                            4536     
13333                            4537     
13334                            4538     
13335                            4539             SUB_END
13336                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13337 00001E2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13338                            4540             M_RTS
13339 00001E2C 000B                   M           RTS                             ;RTSの後ろの
13340 00001E2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13341                            4541     
13342                            4542     ;       *******************************************
13343                            4543     ;       ***                                     ***
13344                            4544     ;       ***     2016-10-31(2016-07-22)          ***
13345                            4545     ;       ***     二重回路対策                    ***
13346                            4546     ;       *******************************************
13347                            4547              .AIF   1 EQ 1  ;
13348                            4548 C   ;       -------- 2016-10-31 ADD 二重回路対策
13349                            4549              .AENDI
13350                            4550     ;
13351                                     ***** BEGIN-POOL *****
13352 00001E30 FF7F                       DATA FOR SOURCE-LINE 4516
13353 00001E32 0000                       ALIGNMENT CODE
13354 00001E34 00000000                   DATA FOR SOURCE-LINE 4475
13355 00001E38 00000000                   DATA FOR SOURCE-LINE 4514
13356 00001E3C 00000000                   DATA FOR SOURCE-LINE 4522
13357 00001E40 00000000                   DATA FOR SOURCE-LINE 4524
13358 00001E44 00000000                   DATA FOR SOURCE-LINE 4527
13359 00001E48 00000000                   DATA FOR SOURCE-LINE 4530
13360 00001E4C 00000000                   DATA FOR SOURCE-LINE 4534
13361                                     ***** END-POOL *****
13362 00001E50                   4551     _START_CNT_INFO_OUT
13363                            4552             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   131
PROGRAM NAME =

13364 00001E50 4F22                   M           STS.L   PR,@-R15                ;[必要]
13365                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13366 00001E52 222A              4553             XOR     R2,R2
13367 00001E54 233A              4554             XOR     R3,R3
13368 00001E56 D109              4555             MOV.L   #_MODE_SEL,R1                           ;
13369 00001E58 6011              4556             MOV.W   @R1,R0                                  ;
13370 00001E5A C808              4557             TST     #_W1CNT,R0                              ;
13371                            4558             TST_BIT_OF CONT_MD_CHK100
13372 00001E5C 8919                   M           BT      CONT_MD_CHK100
13373                            4559     
13374                            4560     ;       **********************************
13375                            4561     ;       ***     2004-01-26              **
13376                            4562     ;       **********************************
13377 00001E5E 910A              4563             MOV.W   #(BIT12+BIT11),R1       ;
13378 00001E60 2018              4564             TST     R1,R0                   ;OPTIONの連続寸動
13379                            4565             TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13380 00001E62 8B16                   M           BF      CONT_MD_CHK100
13381                            4566     
13382 00001E64 D106              4567             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13383 00001E66 6011              4568             MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13384 00001E68 9406              4569             MOV.W   #BIT8,R4                        ;
13385 00001E6A 2048              4570             TST     R4,R0                           ;
13386                            4571             TST_BIT_OF CONT_MD_CHK050       ;
13387 00001E6C 890C                   M           BT      CONT_MD_CHK050
13388 00001E6E D105              4572             MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13389 00001E70 6212              4573             MOV.L   @R1,R2                  ;
13390                            4574             M_BRA   CONT_MD_CHK100          ;
13391 00001E72 A00E                   M           BRA     CONT_MD_CHK100
13392 00001E74 0009                   M           NOP
13393                                     ***** BEGIN-POOL *****
13394 00001E76 1800                       DATA FOR SOURCE-LINE 4563
13395 00001E78 0100                       DATA FOR SOURCE-LINE 4569
13396 00001E7A 0000                       ALIGNMENT CODE
13397 00001E7C 00000000                   DATA FOR SOURCE-LINE 4555
13398 00001E80 00000000                   DATA FOR SOURCE-LINE 4567
13399 00001E84 00000000                   DATA FOR SOURCE-LINE 4572
13400                                     ***** END-POOL *****
13401 00001E88                   4575     CONT_MD_CHK050:
13402                            4576     
13403 00001E88 940D              4577             MOV.W   #BIT9,R4                        ;
13404 00001E8A 2048              4578             TST     R4,R0                           ;
13405                            4579             TST_BIT_OF CONT_MD_CHK100       ;
13406 00001E8C 8901                   M           BT      CONT_MD_CHK100
13407 00001E8E D106              4580             MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13408 00001E90 6311              4581             MOV.W   @R1,R3                  ;
13409 00001E92                   4582     CONT_MD_CHK100:
13410                            4583     
13411 00001E92 D106              4584             MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13412 00001E94 2122              4585             MOV.L   R2,@R1                  ;
13413 00001E96 D106              4586             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13414 00001E98 2131              4587             MOV.W   R3,@R1                  ;
13415                            4588     
13416                            4589             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13417 00001E9A D006                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13418 00001E9C 400B                   M           JSR     @R0                     ;
13419 00001E9E 0009                   M           NOP                                     ;
13420                            4590     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   132
PROGRAM NAME =

13421                            4591             SUB_END
13422                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13423 00001EA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13424                            4592             M_RTS
13425 00001EA2 000B                   M           RTS                             ;RTSの後ろの
13426 00001EA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13427                            4593     
13428                            4594     ;       =====================================
13429                            4595     ;       ==== 2003-07-09に追加した起動ｸﾘｱ ====
13430                            4596     ;       =====================================
13431                                     ***** BEGIN-POOL *****
13432 00001EA6 0200                       DATA FOR SOURCE-LINE 4577
13433 00001EA8 00000000                   DATA FOR SOURCE-LINE 4580
13434 00001EAC 00000000                   DATA FOR SOURCE-LINE 4584
13435 00001EB0 00000000                   DATA FOR SOURCE-LINE 4586
13436 00001EB4 00000000                   DATA FOR SOURCE-LINE 4589
13437                                     ***** END-POOL *****
13438          00000002          4597     _EQ_CNT_DISP_STCNT      .EQU    2       ;
13439                            4598     
13440 00001EB8                   4599     _DRV_START_INI_NEW1:
13441                            4600             SUB_START
13442 00001EB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13444                            4601     ;       == 2003-07-09 ==
13445 00001EBA 200A              4602             XOR     R0,R0
13446 00001EBC D109              4603             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
13447 00001EBE 2101              4604             MOV.W   R0,@R1                          ;
13448                            4605     
13449 00001EC0 D109              4606             MOV.L   #_PAR_ORGDRV_CNT,R1             ;
13450 00001EC2 6011              4607             MOV.W   @R1,R0                          ;
13451 00001EC4 D109              4608             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13452 00001EC6 2101              4609             MOV.W   R0,@R1                          ;
13453                            4610     
13454                            4611     ;       ======== 連続======
13455 00001EC8 D109              4612             MOV.L   #_MODE_SEL,R1                   ;
13456 00001ECA 6011              4613             MOV.W   @R1,R0                          ;
13457 00001ECC C808              4614             TST     #_W1CNT,R0                      ;
13458                            4615             TST_BIT_OF DRV_START_ININW1_050         ;
13459 00001ECE 8915                   M           BT      DRV_START_ININW1_050
13460                            4616     
13461 00001ED0 9006              4617             MOV.W   #_EQ_CNT_DISP_STCNT,R0          ;
13462 00001ED2 D108              4618             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13463 00001ED4 2101              4619             MOV.W   R0,@R1                          ;
13464                            4620     
13465 00001ED6 9004              4621             MOV.W   #BIT0,R0                        ;
13466 00001ED8 D107              4622             MOV.L   #_CYCL_DSP_DISENB,R1;//0:表示 1:非表示 => 反転して出力
13467 00001EDA 2101              4623             MOV.W   R0,@R1
13468                            4624             M_BRA   DRV_START_ININW1_100
13469 00001EDC A011                   M           BRA     DRV_START_ININW1_100
13470 00001EDE 0009                   M           NOP
13471                                     ***** BEGIN-POOL *****
13472 00001EE0 0002                       DATA FOR SOURCE-LINE 4617
13473 00001EE2 0001                       DATA FOR SOURCE-LINE 4621
13474 00001EE4 00000000                   DATA FOR SOURCE-LINE 4603
13475 00001EE8 00000000                   DATA FOR SOURCE-LINE 4606
13476 00001EEC 00000000                   DATA FOR SOURCE-LINE 4608
13477 00001EF0 00000000                   DATA FOR SOURCE-LINE 4612
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   133
PROGRAM NAME =

13478 00001EF4 00000000                   DATA FOR SOURCE-LINE 4618
13479 00001EF8 00000000                   DATA FOR SOURCE-LINE 4622
13480                                     ***** END-POOL *****
13481 00001EFC                   4625     DRV_START_ININW1_050:
13482 00001EFC 200A              4626             XOR     R0,R0                           ;
13483 00001EFE D102              4627             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13484 00001F00 2101              4628             MOV.W   R0,@R1
13485 00001F02                   4629     DRV_START_ININW1_100:
13486                            4630             SUB_END
13487                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13488 00001F02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13489                            4631             M_RTS
13490 00001F04 000B                   M           RTS                             ;RTSの後ろの
13491 00001F06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13492                            4632     
13493                            4633     ;       ===================================
13494                            4634     ;       ==== 2003-07-09連続SPM表示開始  ===
13495                            4635     ;       ===================================
13496                                     ***** BEGIN-POOL *****
13497 00001F08 00000000                   DATA FOR SOURCE-LINE 4627
13498                                     ***** END-POOL *****
13499 00001F0C                   4636     _CNT_CYCL_DISP_ST:
13500                            4637             SUB_START
13501 00001F0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13502                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13503 00001F0E 200A              4638             XOR     R0,R0                           ;
13504 00001F10 D102              4639             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13505 00001F12 2101              4640             MOV.W   R0,@R1
13506                            4641             SUB_END
13507                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13508 00001F14 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13509                            4642             M_RTS
13510 00001F16 000B                   M           RTS                             ;RTSの後ろの
13511 00001F18 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13512                            4643     ;       =====================================
13513                            4644     ;       ==== 2003-07-09連続SPM非表示条件  ===
13514                            4645     ;       =====================================
13515                                     ***** BEGIN-POOL *****
13516 00001F1A 0000                       ALIGNMENT CODE
13517 00001F1C 00000000                   DATA FOR SOURCE-LINE 4639
13518                                     ***** END-POOL *****
13519 00001F20                   4646     _CNT_SPM_DISP_CHK:
13520                            4647             SUB_START
13521 00001F20 4F22                   M           STS.L   PR,@-R15                ;[必要]
13522                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13523 00001F22 D107              4648             MOV.L   #_MODE_SEL,R1                   ;
13524 00001F24 6011              4649             MOV.W   @R1,R0                          ;
13525 00001F26 C808              4650             TST     #_W1CNT,R0                      ;
13526                            4651             TST_BIT_OF CNT_SPM_DSPCK050             ;
13527 00001F28 8906                   M           BT      CNT_SPM_DSPCK050
13528 00001F2A D106              4652             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13529 00001F2C 6011              4653             MOV.W   @R1,R0                                  ;
13530 00001F2E 2008              4654             TST     R0,R0                                           ;
13531                            4655             TST_BIT_OF CNT_SPM_DSPCK050             ;表示する
13532 00001F30 8902                   M           BT      CNT_SPM_DSPCK050
13533                            4656     
13534 00001F32 9004              4657             MOV.W   #BIT0,R0                                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   134
PROGRAM NAME =

13535 00001F34 D104              4658             MOV.L   #_CYCL_DSP_DISENB,R1            ;1:非表示 => 反転して出力
13536 00001F36 2101              4659             MOV.W   R0,@R1                          ;
13537                            4660     
13538 00001F38                   4661     CNT_SPM_DSPCK050:
13539                            4662     
13540                            4663             SUB_END
13541                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13542 00001F38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13543                            4664             M_RTS
13544 00001F3A 000B                   M           RTS                             ;RTSの後ろの
13545 00001F3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13546                            4665     
13547                            4666     
13548                            4667     
13549                            4668     ;       ***********************************
13550                            4669     ;       ***                             ***
13551                            4670     ;       ***     終了処理の二重回路対策  ***
13552                            4671     ;       ***                             ***
13553                            4672     ;       ***********************************
13554                            4673     ;自分のやるべき事が終わったらこのチェックを行う
13555                            4674     ;       Output  R0=FF:終了
13556                            4675     ;               R0=0 :WAIT
13557                            4676     ;       "この処理が終わり上位でフラグをクリアする事"
13558                            4677     ;
13559                            4678     ;
13560                            4679             .EXPORT _CMPAB_NEAR_END_PROC    ;
13561                            4680             .EXPORT _CMPAB_STEP_END_PROC    ;
13562                            4681     
13563                            4682             .EXPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
13564                            4683             .EXPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
13565                            4684             .EXPORT _CMPSTP_POS_START_CLR;//起動したい
13566                            4685             .EXPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13567                            4686             .EXPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
13568                            4687             .EXPORT _CMPSTP_CNT_STOP_CLR;//連続停止
13569                            4688             .EXPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
13570                            4689             .EXPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13571                            4690             .EXPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13572                            4691     
13573                            4692             .EXPORT _CMPEMG_EXQ_FLG_CLR;//
13574                            4693             .EXPORT _POS_CMP_1STEP_START_INI
13575                            4694     
13576                                     ***** BEGIN-POOL *****
13577 00001F3E 0001                       DATA FOR SOURCE-LINE 4657
13578 00001F40 00000000                   DATA FOR SOURCE-LINE 4648
13579 00001F44 00000000                   DATA FOR SOURCE-LINE 4652
13580 00001F48 00000000                   DATA FOR SOURCE-LINE 4658
13581                                     ***** END-POOL *****
13582 00001F4C                   4695     _CMPAB_NEAR_END_PROC
13583                            4696             SUB_START
13584 00001F4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13585                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13586                            4697             PUSH_REG1 R5
13587 00001F4E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13588                                 M                                           ;REG=>[SP]
13589                                 M                                           ;"-4" FF,FF,FF,FC
13590 00001F50 D505              4698             MOV.L   #_CMPSTEP_NEAR_ZERO,R5          ;//ﾆｱｾﾞﾛ処理を行いたい
13591 00001F52 6051              4699             MOV.W   @R5,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   135
PROGRAM NAME =

13592 00001F54 2008              4700             TST     R0,R0                           ;
13593                            4701             TST_BIT_ON CMPAB_NEAR_END_PC_100        ;
13594 00001F56 8B0B                   M           BF      CMPAB_NEAR_END_PC_100
13595 00001F58 E001              4702             MOV     #BIT0,R0                        ;
13596 00001F5A 2501              4703             MOV.W   R0,@R5                          ;START FLG ON bit0
13597                            4704             FAR_JSR #_CPU_AB_NZR_ON_OUT,R0          ;R0,R1 USED
13598 00001F5C D003                   M           MOV.L   #_CPU_AB_NZR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13599 00001F5E 400B                   M           JSR     @R0                     ;
13600 00001F60 0009                   M           NOP                                     ;
13601                            4705             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13602 00001F62 A029                   M           BRA     CMPAB_NEAR_END_PC_NG
13603 00001F64 0009                   M           NOP
13604                            4706     
13605                            4707     ;       ===== 処理開始 =========
13606                                     ***** BEGIN-POOL *****
13607 00001F66 0000                       ALIGNMENT CODE
13608 00001F68 00000000                   DATA FOR SOURCE-LINE 4698
13609 00001F6C 00000000                   DATA FOR SOURCE-LINE 4704
13610                                     ***** END-POOL *****
13611 00001F70                   4708     CMPAB_NEAR_END_PC_100:
13612 00001F70 6051              4709             MOV.W   @R5,R0                          ;
13613 00001F72 C802              4710             TST     #BIT1,R0                        ;
13614                            4711             TST_BIT_ON CMPAB_NEAR_END_PC_200        ;
13615 00001F74 8B10                   M           BF      CMPAB_NEAR_END_PC_200
13616                            4712             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;R0 !=0 END
13617 00001F76 D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13618 00001F78 400B                   M           JSR     @R0                     ;
13619 00001F7A 0009                   M           NOP                                     ;
13620 00001F7C 2008              4713             TST     R0,R0                           ;
13621                            4714             TST_BIT_OF CMPAB_NEAR_END_PC_NG         ;CPU-Bまだ処理中
13622 00001F7E 891B                   M           BT      CMPAB_NEAR_END_PC_NG
13623 00001F80 6051              4715             MOV.W   @R5,R0                          ;
13624 00001F82 CB02              4716             OR      #BIT1,R0                        ;
13625 00001F84 2501              4717             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13626                            4718             FAR_JSR #_CPU_BA_NZR_OF_OUT,R0          ;CPU-B信号ｸﾘｱ
13627 00001F86 D003                   M           MOV.L   #_CPU_BA_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13628 00001F88 400B                   M           JSR     @R0                     ;
13629 00001F8A 0009                   M           NOP                                     ;
13630                            4719             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13631 00001F8C A014                   M           BRA     CMPAB_NEAR_END_PC_NG
13632 00001F8E 0009                   M           NOP
13633                            4720     
13634                                     ***** BEGIN-POOL *****
13635 00001F90 00000000                   DATA FOR SOURCE-LINE 4712
13636 00001F94 00000000                   DATA FOR SOURCE-LINE 4718
13637                                     ***** END-POOL *****
13638 00001F98                   4721     CMPAB_NEAR_END_PC_200:
13639 00001F98 6051              4722             MOV.W   @R5,R0                          ;
13640 00001F9A C804              4723             TST     #BIT2,R0                        ;(完了状態)
13641                            4724             TST_BIT_ON CMPAB_NEAR_END_PC_OK         ;
13642 00001F9C 8B07                   M           BF      CMPAB_NEAR_END_PC_OK
13643                            4725     
13644                            4726             FAR_JSR #_CPU_AB_NZR_OF_JG,R0           ;R0=0;完了
13645 00001F9E D005                   M           MOV.L   #_CPU_AB_NZR_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13646 00001FA0 400B                   M           JSR     @R0                     ;
13647 00001FA2 0009                   M           NOP                                     ;
13648 00001FA4 2008              4727             TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   136
PROGRAM NAME =

13649                            4728             TST_BIT_ON CMPAB_NEAR_END_PC_NG         ;自分の信号がｸﾘｱされていない
13650 00001FA6 8B07                   M           BF      CMPAB_NEAR_END_PC_NG
13651 00001FA8 6051              4729             MOV.W   @R5,R0                          ;
13652 00001FAA CB04              4730             OR      #BIT2,R0                        ;
13653 00001FAC 2501              4731             MOV.W   R0,@R5                          ;
13654 00001FAE                   4732     CMPAB_NEAR_END_PC_OK:
13655 00001FAE E0FF              4733             MOV     #-1,R0                          ;
13656                            4734             M_BRA   CMPAB_NEAR_END_PC_ED            ;
13657 00001FB0 A003                   M           BRA     CMPAB_NEAR_END_PC_ED
13658 00001FB2 0009                   M           NOP
13659                            4735     
13660                                     ***** BEGIN-POOL *****
13661 00001FB4 00000000                   DATA FOR SOURCE-LINE 4726
13662                                     ***** END-POOL *****
13663 00001FB8                   4736     CMPAB_NEAR_END_PC_NG:
13664 00001FB8 200A              4737             XOR     R0,R0                   ;
13665 00001FBA                   4738     CMPAB_NEAR_END_PC_ED:
13666                            4739             POP_REG1 R5                     ;
13667                                 M                                   ; RE"+4" 00,00,00,04
13668 00001FBA 65F6                   M           MOV.L   @R15+,R5        ;
13669                            4740             SUB_END
13670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13671 00001FBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13672                            4741             M_RTS
13673 00001FBE 000B                   M           RTS                             ;RTSの後ろの
13674 00001FC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13675                            4742     
13676                            4743     
13677                            4744             .MACRO  CMPAB_STEP_END_MAC FLG,ABON_OUT,BAON_JG,BAOF_OUT,ABOF_JG
13678                            4745             PUSH_REG1 R5
13679                            4746             MOV.L   #\FLG,R5                        ;//ﾆｱｾﾞﾛ処理を行いたい
13680                            4747             MOV.W   @R5,R0                          ;
13681                            4748             TST     R0,R0                           ;
13682                            4749             TST_BIT_ON JMP100\@                     ;
13683                            4750             MOV     #BIT0,R0                        ;
13684                            4751             MOV.W   R0,@R5                          ;START FLG ON bit0
13685                            4752             FAR_JSR #\ABON_OUT,R0                   ;R0,R1 USED
13686                            4753             M_BRA   JMP_NG\@                        ;
13687                            4754     
13688                            4755     ;       ===== 処理開始 =========
13689                            4756     JMP100\@:
13690                            4757             MOV.W   @R5,R0                          ;
13691                            4758             TST     #BIT1,R0                        ;
13692                            4759             TST_BIT_ON JMP200\@                     ;
13693                            4760     
13694                            4761             FAR_JSR #\BAON_JG,R0                    ;R0 !=0 END
13695                            4762             TST     R0,R0                           ;
13696                            4763             TST_BIT_OF JMP_NG\@                     ;CPU-Bまだ処理中
13697                            4764             MOV.W   @R5,R0                          ;
13698                            4765             OR      #BIT1,R0                        ;
13699                            4766             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13700                            4767             FAR_JSR #\BAOF_OUT,R0                   ;CPU-B信号ｸﾘｱ
13701                            4768             M_BRA   JMP_NG\@
13702                            4769     
13703                            4770     JMP200\@:
13704                            4771             MOV.W   @R5,R0                          ;
13705                            4772             TST     #BIT2,R0                        ;(完了状態)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   137
PROGRAM NAME =

13706                            4773             TST_BIT_ON JMP_OK\@                     ;
13707                            4774     
13708                            4775             FAR_JSR #\ABOF_JG,R0            ;R0=0;完了
13709                            4776             TST     R0,R0                           ;
13710                            4777             TST_BIT_ON JMP_NG\@             ;自分の信号がｸﾘｱされていない
13711                            4778             MOV.W   @R5,R0                          ;
13712                            4779             OR      #BIT2,R0                        ;
13713                            4780             MOV.W   R0,@R5                          ;
13714                            4781     JMP_OK\@:
13715                            4782             MOV     #-1,R0                          ;
13716                            4783             M_BRA   JMP_ED\@
13717                            4784     
13718                            4785     JMP_NG\@:
13719                            4786             XOR     R0,R0                   ;
13720                            4787     JMP_ED\@:
13721                            4788             POP_REG1 R5                     ;
13722                            4789             .ENDM
13723                            4790     
13724                            4791     
13725 00001FC2                   4792     _CMPAB_STEP_END_PROC
13726                            4793             SUB_START
13727 00001FC2 4F22                   M           STS.L   PR,@-R15                ;[必要]
13728                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13729                            4794             CMPAB_STEP_END_MAC FLG=         _CMPSTEP_STEP_END
13730                            4795     +                       ,ABON_OUT=      _CPU_AB_CED_ON_OUT
13731                            4796     +                       ,BAON_JG=       _CPU_BA_CED_ON_JG
13732                            4797     +                       ,BAOF_OUT=      _CPU_BA_CED_OF_OUT
13733                            4798     +                       ,ABOF_JG=       _CPU_AB_CED_OF_JG
13734                                 M           PUSH_REG1 R5
13735 00001FC4 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13736                                 M                                           ;REG=>[SP]
13737                                 M                                           ;"-4" FF,FF,FF,FC
13738 00001FC6 D505                   M           MOV.L   #_CMPSTEP_STEP_END,R5                   ;//ﾆｱｾﾞﾛ処理を行いたい
13739 00001FC8 6051                   M           MOV.W   @R5,R0                          ;
13740 00001FCA 2008                   M           TST     R0,R0                           ;
13741                                 M           TST_BIT_ON JMP10000000                  ;
13742 00001FCC 8B0A                   M           BF      JMP10000000
13743 00001FCE E001                   M           MOV     #BIT0,R0                        ;
13744 00001FD0 2501                   M           MOV.W   R0,@R5                          ;START FLG ON bit0
13745                                 M           FAR_JSR #_CPU_AB_CED_ON_OUT,R0                  ;R0,R1 USED
13746 00001FD2 D003                   M           MOV.L   #_CPU_AB_CED_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13747 00001FD4 400B                   M           JSR     @R0                     ;
13748 00001FD6 0009                   M           NOP                                     ;
13749                                 M           M_BRA   JMP_NG00000                     ;
13750 00001FD8 A028                   M           BRA     JMP_NG00000
13751 00001FDA 0009                   M           NOP
13752                                 M   
13753                                 M   ;       ===== 処理開始 =========
13754                                 M   ***** BEGIN-POOL *****
13755 00001FDC 00000000               M   DATA FOR SOURCE-LINE 4794
13756 00001FE0 00000000               M   DATA FOR SOURCE-LINE 4794
13757                                 M   ***** END-POOL *****
13758 00001FE4                        M   JMP10000000:
13759 00001FE4 6051                   M           MOV.W   @R5,R0                          ;
13760 00001FE6 C802                   M           TST     #BIT1,R0                        ;
13761                                 M           TST_BIT_ON JMP20000000                  ;
13762 00001FE8 8B10                   M           BF      JMP20000000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   138
PROGRAM NAME =

13763                                 M   
13764                                 M           FAR_JSR #_CPU_BA_CED_ON_JG,R0                   ;R0 !=0 END
13765 00001FEA D006                   M           MOV.L   #_CPU_BA_CED_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13766 00001FEC 400B                   M           JSR     @R0                     ;
13767 00001FEE 0009                   M           NOP                                     ;
13768 00001FF0 2008                   M           TST     R0,R0                           ;
13769                                 M           TST_BIT_OF JMP_NG00000                  ;CPU-Bまだ処理中
13770 00001FF2 891B                   M           BT      JMP_NG00000
13771 00001FF4 6051                   M           MOV.W   @R5,R0                          ;
13772 00001FF6 CB02                   M           OR      #BIT1,R0                        ;
13773 00001FF8 2501                   M           MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13774                                 M           FAR_JSR #_CPU_BA_CED_OF_OUT,R0                  ;CPU-B信号ｸﾘｱ
13775 00001FFA D003                   M           MOV.L   #_CPU_BA_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13776 00001FFC 400B                   M           JSR     @R0                     ;
13777 00001FFE 0009                   M           NOP                                     ;
13778                                 M           M_BRA   JMP_NG00000
13779 00002000 A014                   M           BRA     JMP_NG00000
13780 00002002 0009                   M           NOP
13781                                 M   
13782                                 M   ***** BEGIN-POOL *****
13783 00002004 00000000               M   DATA FOR SOURCE-LINE 4794
13784 00002008 00000000               M   DATA FOR SOURCE-LINE 4794
13785                                 M   ***** END-POOL *****
13786 0000200C                        M   JMP20000000:
13787 0000200C 6051                   M           MOV.W   @R5,R0                          ;
13788 0000200E C804                   M           TST     #BIT2,R0                        ;(完了状態)
13789                                 M           TST_BIT_ON JMP_OK00000                  ;
13790 00002010 8B07                   M           BF      JMP_OK00000
13791                                 M   
13792                                 M           FAR_JSR #_CPU_AB_CED_OF_JG,R0           ;R0=0;完了
13793 00002012 D005                   M           MOV.L   #_CPU_AB_CED_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13794 00002014 400B                   M           JSR     @R0                     ;
13795 00002016 0009                   M           NOP                                     ;
13796 00002018 2008                   M           TST     R0,R0                           ;
13797                                 M           TST_BIT_ON JMP_NG00000          ;自分の信号がｸﾘｱされていない
13798 0000201A 8B07                   M           BF      JMP_NG00000
13799 0000201C 6051                   M           MOV.W   @R5,R0                          ;
13800 0000201E CB04                   M           OR      #BIT2,R0                        ;
13801 00002020 2501                   M           MOV.W   R0,@R5                          ;
13802 00002022                        M   JMP_OK00000:
13803 00002022 E0FF                   M           MOV     #-1,R0                          ;
13804                                 M           M_BRA   JMP_ED00000
13805 00002024 A003                   M           BRA     JMP_ED00000
13806 00002026 0009                   M           NOP
13807                                 M   
13808                                 M   ***** BEGIN-POOL *****
13809 00002028 00000000               M   DATA FOR SOURCE-LINE 4794
13810                                 M   ***** END-POOL *****
13811 0000202C                        M   JMP_NG00000:
13812 0000202C 200A                   M           XOR     R0,R0                   ;
13813 0000202E                        M   JMP_ED00000:
13814                                 M           POP_REG1 R5                     ;
13815                                 M                                   ; RE"+4" 00,00,00,04
13816 0000202E 65F6                   M           MOV.L   @R15+,R5        ;
13817                            4799             SUB_END
13818                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13819 00002030 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   139
PROGRAM NAME =

13820                            4800             M_RTS
13821 00002032 000B                   M           RTS                             ;RTSの後ろの
13822 00002034 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13823                            4801     
13824                            4802     
13825                            4803     ;
13826                            4804     ;
13827                            4805     ;
13828 00002036                   4806     _CMPSTP_CTRL_REDY_CLR:;//準備完了にしたいをOFF
13829                            4807             SUB_START
13830 00002036 4F22                   M           STS.L   PR,@-R15                ;[必要]
13831                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13832                            4808             FAR_JSR #_CPU_AB_RDY_OF_OUT,R0
13833 00002038 D004                   M           MOV.L   #_CPU_AB_RDY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13834 0000203A 400B                   M           JSR     @R0                     ;
13835 0000203C 0009                   M           NOP                                     ;
13836 0000203E D104              4809             MOV.L   #_CMPSTEP_CTRL_REDY,R1;//準備完了にしたくない<<完了・未完了は共通で1:完了
                                          0:>>
13837 00002040 200A              4810             XOR     R0,R0
13838 00002042 2101              4811             MOV.W   R0,@R1
13839                            4812             SUB_END
13840                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13841 00002044 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13842                            4813             M_RTS
13843 00002046 000B                   M           RTS                             ;RTSの後ろの
13844 00002048 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13845                            4814     
13846                                     ***** BEGIN-POOL *****
13847 0000204A 0000                       ALIGNMENT CODE
13848 0000204C 00000000                   DATA FOR SOURCE-LINE 4808
13849 00002050 00000000                   DATA FOR SOURCE-LINE 4809
13850                                     ***** END-POOL *****
13851 00002054                   4815     _CMPSTP_CTRL_BUSY_CLR:;//準備未完了にしたいをOFF
13852                            4816             SUB_START
13853 00002054 4F22                   M           STS.L   PR,@-R15                ;[必要]
13854                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13855                            4817             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0
13856 00002056 D004                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13857 00002058 400B                   M           JSR     @R0                     ;
13858 0000205A 0009                   M           NOP                                     ;
13859 0000205C D103              4818             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたくない
13860 0000205E 200A              4819             XOR     R0,R0
13861 00002060 2101              4820             MOV.W   R0,@R1
13862                            4821             SUB_END
13863                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13864 00002062 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13865                            4822             M_RTS
13866 00002064 000B                   M           RTS                             ;RTSの後ろの
13867 00002066 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13868                            4823     
13869                                     ***** BEGIN-POOL *****
13870 00002068 00000000                   DATA FOR SOURCE-LINE 4817
13871 0000206C 00000000                   DATA FOR SOURCE-LINE 4818
13872                                     ***** END-POOL *****
13873 00002070                   4824     _CMPSTP_POS_START_CLR:;//起動したいをOFF
13874                            4825             SUB_START
13875 00002070 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   140
PROGRAM NAME =

13876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13877                            4826             FAR_JSR #_CPU_AB_STR_OF_OUT,R0
13878 00002072 D004                   M           MOV.L   #_CPU_AB_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13879 00002074 400B                   M           JSR     @R0                     ;
13880 00002076 0009                   M           NOP                                     ;
13881 00002078 D103              4827             MOV.L   #_CMPSTEP_POS_START,R1;//起動したいくない
13882 0000207A 200A              4828             XOR     R0,R0
13883 0000207C 2101              4829             MOV.W   R0,@R1
13884                            4830             SUB_END
13885                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13886 0000207E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13887                            4831             M_RTS
13888 00002080 000B                   M           RTS                             ;RTSの後ろの
13889 00002082 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13890                            4832     
13891                                     ***** BEGIN-POOL *****
13892 00002084 00000000                   DATA FOR SOURCE-LINE 4826
13893 00002088 00000000                   DATA FOR SOURCE-LINE 4827
13894                                     ***** END-POOL *****
13895 0000208C                   4833     _CMPSTP_SFTY_AUTO_CLR:;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13896                            4834             SUB_START
13897 0000208C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13898                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13899                            4835     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13900                            4836             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13901 0000208E D006                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13902 00002090 400B                   M           JSR     @R0                     ;
13903 00002092 0009                   M           NOP                                     ;
13904                            4837             FAR_JSR #_CPU_BA_DRVSTOP_OF_OUT,R0      ;相手側CLR
13905 00002094 D005                   M           MOV.L   #_CPU_BA_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13906 00002096 400B                   M           JSR     @R0                     ;
13907 00002098 0009                   M           NOP                                     ;
13908                            4838     
13909 0000209A D105              4839             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13910 0000209C 200A              4840             XOR     R0,R0
13911 0000209E 2101              4841             MOV.W   R0,@R1
13912                            4842             SUB_END
13913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13914 000020A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13915                            4843             M_RTS
13916 000020A2 000B                   M           RTS                             ;RTSの後ろの
13917 000020A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13918                            4844     
13919                                     ***** BEGIN-POOL *****
13920 000020A6 0000                       ALIGNMENT CODE
13921 000020A8 00000000                   DATA FOR SOURCE-LINE 4836
13922 000020AC 00000000                   DATA FOR SOURCE-LINE 4837
13923 000020B0 00000000                   DATA FOR SOURCE-LINE 4839
13924                                     ***** END-POOL *****
13925 000020B4                   4845     _CMPSTP_NEAR_ZERO_CLR:;//ﾆｱｾﾞﾛ処理を行いたい
13926                            4846             SUB_START
13927 000020B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13928                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13929                            4847             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0
13930 000020B6 D004                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13931 000020B8 400B                   M           JSR     @R0                     ;
13932 000020BA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   141
PROGRAM NAME =

13933 000020BC D103              4848             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13934 000020BE 200A              4849             XOR     R0,R0
13935 000020C0 2101              4850             MOV.W   R0,@R1
13936                            4851             SUB_END
13937                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13938 000020C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13939                            4852             M_RTS
13940 000020C4 000B                   M           RTS                             ;RTSの後ろの
13941 000020C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13942                            4853     
13943                                     ***** BEGIN-POOL *****
13944 000020C8 00000000                   DATA FOR SOURCE-LINE 4847
13945 000020CC 00000000                   DATA FOR SOURCE-LINE 4848
13946                                     ***** END-POOL *****
13947 000020D0                   4854     _CMPSTP_CNT_STOP_CLR:;//連続停止
13948                            4855             SUB_START
13949 000020D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13950                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13951                            4856             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13952 000020D2 D006                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13953 000020D4 400B                   M           JSR     @R0                     ;
13954 000020D6 0009                   M           NOP                                     ;
13955                            4857             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13956 000020D8 D005                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13957 000020DA 400B                   M           JSR     @R0                     ;
13958 000020DC 0009                   M           NOP                                     ;
13959 000020DE D105              4858             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13960 000020E0 200A              4859             XOR     R0,R0
13961 000020E2 2101              4860             MOV.W   R0,@R1
13962                            4861             SUB_END
13963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13964 000020E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13965                            4862             M_RTS
13966 000020E6 000B                   M           RTS                             ;RTSの後ろの
13967 000020E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13968                            4863     
13969                                     ***** BEGIN-POOL *****
13970 000020EA 0000                       ALIGNMENT CODE
13971 000020EC 00000000                   DATA FOR SOURCE-LINE 4856
13972 000020F0 00000000                   DATA FOR SOURCE-LINE 4857
13973 000020F4 00000000                   DATA FOR SOURCE-LINE 4858
13974                                     ***** END-POOL *****
13975 000020F8                   4864     _CMPSTP_STEP_END_CLR:;//位置決め完了としたい
13976                            4865             SUB_START
13977 000020F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13978                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13979                            4866             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13980 000020FA D004                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13981 000020FC 400B                   M           JSR     @R0                     ;
13982 000020FE 0009                   M           NOP                                     ;
13983 00002100 D103              4867             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13984 00002102 200A              4868             XOR     R0,R0
13985 00002104 2101              4869             MOV.W   R0,@R1
13986                            4870             SUB_END
13987                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13988 00002106 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13989                            4871             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   142
PROGRAM NAME =

13990 00002108 000B                   M           RTS                             ;RTSの後ろの
13991 0000210A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13992                            4872     
13993                            4873     ;       ***************************
13994                            4874     ;       ***     EMG/EXQ         ***
13995                            4875     ;       ***************************
13996                                     ***** BEGIN-POOL *****
13997 0000210C 00000000                   DATA FOR SOURCE-LINE 4866
13998 00002110 00000000                   DATA FOR SOURCE-LINE 4867
13999                                     ***** END-POOL *****
14000 00002114                   4876     _CMPEMG_EXQ_FLG_CLR:
14001                            4877             SUB_START
14002 00002114 4F22                   M           STS.L   PR,@-R15                ;[必要]
14003                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14004                            4878             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
14005 00002116 D014                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14006 00002118 400B                   M           JSR     @R0                     ;
14007 0000211A 0009                   M           NOP                                     ;
14008                            4879             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
14009 0000211C D013                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14010 0000211E 400B                   M           JSR     @R0                     ;
14011 00002120 0009                   M           NOP                                     ;
14012                            4880     
14013                            4881             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0  ;
14014 00002122 D013                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14015 00002124 400B                   M           JSR     @R0                     ;
14016 00002126 0009                   M           NOP                                     ;
14017                            4882     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
14018                            4883             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
14019 00002128 D012                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14020 0000212A 400B                   M           JSR     @R0                     ;
14021 0000212C 0009                   M           NOP                                     ;
14022                            4884     
14023                            4885             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0  ;
14024 0000212E D012                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14025 00002130 400B                   M           JSR     @R0                     ;
14026 00002132 0009                   M           NOP                                     ;
14027                            4886             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
14028 00002134 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14029 00002136 400B                   M           JSR     @R0                     ;
14030 00002138 0009                   M           NOP                                     ;
14031                            4887             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
14032 0000213A D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14033 0000213C 400B                   M           JSR     @R0                     ;
14034 0000213E 0009                   M           NOP                                     ;
14035                            4888             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
14036 00002140 D010                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14037 00002142 400B                   M           JSR     @R0                     ;
14038 00002144 0009                   M           NOP                                     ;
14039                            4889     
14040 00002146 200A              4890             XOR     R0,R0
14041 00002148 D10F              4891             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたい
14042 0000214A 2101              4892             MOV.W   R0,@R1
14043 0000214C D10F              4893             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
14044 0000214E 2101              4894             MOV.W   R0,@R1
14045 00002150 D10F              4895             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
14046 00002152 2101              4896             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   143
PROGRAM NAME =

14047 00002154 D10F              4897             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
14048 00002156 2101              4898             MOV.W   R0,@R1
14049 00002158 D10F              4899             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
14050 0000215A 2101              4900             MOV.W   R0,@R1
14051                            4901     
14052                            4902     ;       == 2004-12-20 ==
14053 0000215C D10F              4903             MOV.L   #_CNT_BANK_CALC_ERR,R1
14054 0000215E 2101              4904             MOV.W   R0,@R1
14055                            4905     
14056                            4906     
14057                            4907             SUB_END
14058                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14059 00002160 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14060                            4908             M_RTS
14061 00002162 000B                   M           RTS                             ;RTSの後ろの
14062 00002164 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14063                            4909     
14064                            4910     ;       ***************************
14065                            4911     ;       ***     開始時          ***
14066                            4912     ;       ***     START           ***
14067                            4913     ;       ***************************
14068                                     ***** BEGIN-POOL *****
14069 00002166 0000                       ALIGNMENT CODE
14070 00002168 00000000                   DATA FOR SOURCE-LINE 4878
14071 0000216C 00000000                   DATA FOR SOURCE-LINE 4879
14072 00002170 00000000                   DATA FOR SOURCE-LINE 4881
14073 00002174 00000000                   DATA FOR SOURCE-LINE 4883
14074 00002178 00000000                   DATA FOR SOURCE-LINE 4885
14075 0000217C 00000000                   DATA FOR SOURCE-LINE 4886
14076 00002180 00000000                   DATA FOR SOURCE-LINE 4887
14077 00002184 00000000                   DATA FOR SOURCE-LINE 4888
14078 00002188 00000000                   DATA FOR SOURCE-LINE 4891
14079 0000218C 00000000                   DATA FOR SOURCE-LINE 4893
14080 00002190 00000000                   DATA FOR SOURCE-LINE 4895
14081 00002194 00000000                   DATA FOR SOURCE-LINE 4897
14082 00002198 00000000                   DATA FOR SOURCE-LINE 4899
14083 0000219C 00000000                   DATA FOR SOURCE-LINE 4903
14084                                     ***** END-POOL *****
14085 000021A0                   4914     _CMPCYC_START_CLR:
14086                            4915             SUB_START
14087 000021A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14088                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14089                            4916             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
14090 000021A2 D004                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14091 000021A4 400B                   M           JSR     @R0                     ;
14092 000021A6 0009                   M           NOP                                     ;
14093                            4917             FAR_JSR #_CMPSTP_SFTY_AUTO_CLR,R0;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
14094 000021A8 D003                   M           MOV.L   #_CMPSTP_SFTY_AUTO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14095 000021AA 400B                   M           JSR     @R0                     ;
14096 000021AC 0009                   M           NOP                                     ;
14097                            4918             SUB_END
14098                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14099 000021AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14100                            4919             M_RTS
14101 000021B0 000B                   M           RTS                             ;RTSの後ろの
14102 000021B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14103                            4920     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   144
PROGRAM NAME =

14104                            4921     ;       ***********************************
14105                            4922     ;       ***     終了前                  ***
14106                            4923     ;       ***     起動に必要な信号の準備  ***
14107                            4924     ;       ***********************************
14108                                     ***** BEGIN-POOL *****
14109 000021B4 00000000                   DATA FOR SOURCE-LINE 4916
14110 000021B8 00000000                   DATA FOR SOURCE-LINE 4917
14111                                     ***** END-POOL *****
14112 000021BC                   4925     _CMPCYC_END_CLR:
14113                            4926             SUB_START
14114 000021BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
14115                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14116                            4927             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたい
14117 000021BE D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14118 000021C0 400B                   M           JSR     @R0                     ;
14119 000021C2 0009                   M           NOP                                     ;
14120                            4928             FAR_JSR #_CMPSTP_CTRL_BUSY_CLR,R0;//準備未完了にしたい
14121 000021C4 D005                   M           MOV.L   #_CMPSTP_CTRL_BUSY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14122 000021C6 400B                   M           JSR     @R0                     ;
14123 000021C8 0009                   M           NOP                                     ;
14124                            4929             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したい
14125 000021CA D005                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14126 000021CC 400B                   M           JSR     @R0                     ;
14127 000021CE 0009                   M           NOP                                     ;
14128                            4930             SUB_END
14129                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14130 000021D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14131                            4931             M_RTS
14132 000021D2 000B                   M           RTS                             ;RTSの後ろの
14133 000021D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14134                            4932     
14135                            4933     ;       ***********************************
14136                            4934     ;       ***                             ***
14137                            4935     ;       ***     1つのｽﾃｯﾌﾟの起動時      ***
14138                            4936     ;       ***                             ***
14139                            4937     ;       ***********************************
14140                                     ***** BEGIN-POOL *****
14141 000021D6 0000                       ALIGNMENT CODE
14142 000021D8 00000000                   DATA FOR SOURCE-LINE 4927
14143 000021DC 00000000                   DATA FOR SOURCE-LINE 4928
14144 000021E0 00000000                   DATA FOR SOURCE-LINE 4929
14145                                     ***** END-POOL *****
14146 000021E4                   4938     _POS_CMP_1STEP_START_INI:
14147                            4939             SUB_START
14148 000021E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14149                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14150                            4940             FAR_JSR #_CMPSTP_STEP_END_CLR,R0;//位置決め完了としたい
14151 000021E6 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14152 000021E8 400B                   M           JSR     @R0                     ;
14153 000021EA 0009                   M           NOP                                     ;
14154                            4941             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾆｱｾﾞﾛ処理を行いたい
14155 000021EC D00A                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14156 000021EE 400B                   M           JSR     @R0                     ;
14157 000021F0 0009                   M           NOP                                     ;
14158                            4942             FAR_JSR #_FUL_DATA_INIT,R0                      ;
14159 000021F2 D00A                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14160 000021F4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   145
PROGRAM NAME =

14161 000021F6 0009                   M           NOP                                     ;
14162 000021F8 200A              4943             XOR     R0,R0                                   ;
14163 000021FA D109              4944             MOV.L   #_NEAR_IN_FLG,R1                        ;
14164 000021FC 2101              4945             MOV.W   R0,@R1                                  ;
14165                            4946     
14166                            4947             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
14167 000021FE D009                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14168 00002200 400B                   M           JSR     @R0                     ;
14169 00002202 0009                   M           NOP                                     ;
14170                            4948     
14171                            4949     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
14172                            4950             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
14173 00002204 D108                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
14174 00002206 6011                   M           MOV.W   @R1,R0          ;
14175 00002208 C9FE                   M           AND     #LOW ~BIT0,R0           ;
14176 0000220A 2101                   M           MOV.W   R0,@R1          ;
14177                            4951     
14178                            4952     
14179                            4953             SUB_END
14180                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14181 0000220C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14182                            4954             M_RTS
14183 0000220E 000B                   M           RTS                             ;RTSの後ろの
14184 00002210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14185                            4955     
14186                            4956     ;       ***********************************
14187                            4957     ;       **      ステップ表示            ***
14188                            4958     ;       ***********************************
14189                            4959     ;       ５段仕様は段数によらず最終工程は６行程目＋BIT15
14190                            4960     ;       10段仕様は段数によらず最終工程は１１行程目＋BIT15
14191                            4961     ;
14192                            4962     ;
14193                                     ***** BEGIN-POOL *****
14194 00002212 0000                       ALIGNMENT CODE
14195 00002214 00000000                   DATA FOR SOURCE-LINE 4940
14196 00002218 00000000                   DATA FOR SOURCE-LINE 4941
14197 0000221C 00000000                   DATA FOR SOURCE-LINE 4942
14198 00002220 00000000                   DATA FOR SOURCE-LINE 4944
14199 00002224 00000000                   DATA FOR SOURCE-LINE 4947
14200 00002228 00000000                   DATA FOR SOURCE-LINE 4950
14201                                     ***** END-POOL *****
14202 0000222C                   4963     _STEP_SIG_DSP_CLR;
14203                            4964             SUB_START
14204 0000222C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14205                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14206 0000222E 244A              4965             XOR     R4,R4           ;210.0~210.15
14207 00002230 266A              4966             XOR     R6,R6           ;2015-10-01 100段
14208                            4967             M_BRA   STEP_SIG_DSP200
14209 00002232 A017                   M           BRA     STEP_SIG_DSP200
14210 00002234 0009                   M           NOP
14211                            4968     
14212 00002236                   4969     _STEP_SIG_DISP;
14213                            4970             SUB_START
14214 00002236 4F22                   M           STS.L   PR,@-R15                ;[必要]
14215                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14216                            4971     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   146
PROGRAM NAME =

14217                            4972     ;;;;;;  10段でも100段でもこっち
14218                            4973     ;;;;;;  XOR     R5,R5
14219                            4974     ;;;;;;  XOR     R6,R6
14220                            4975     ;;;;;;  MOV.L   #_SYS_100STEP_USE,R1    ;//100段ｿﾌﾄ
14221                            4976     ;;;;;;  MOV.W   @R1,R0                  ;
14222                            4977     ;;;;;;  TST     R0,R0                   ;
14223                            4978     ;;;;;;  TST_BIT_OF STEP_SIG_DSP050      ;
14224                            4979     
14225 00002238 255A              4980             XOR     R5,R5                   ;
14226 0000223A D108              4981             MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
14227 0000223C 6011              4982             MOV.W   @R1,R0                  ;
14228 0000223E D108              4983             MOV.L   #_CPOS_STEP_MAX,R1      ;
14229 00002240 6411              4984             MOV.W   @R1,R4                  ;
14230 00002242 7401              4985             ADD     #1,R4                   ;
14231 00002244 3042              4986             CMP/HS  R4,R0                   ;
14232 00002246 8B01              4987             BF      STEP_SIG_DSP020         ;
14233                            4988     
14234 00002248 9005              4989             MOV.W   #D'100,R0               ;戻り行程は100
14235 0000224A 9505              4990             MOV.W   #BIT15,R5               ;
14236                            4991     
14237 0000224C                   4992     STEP_SIG_DSP020                         ;
14238 0000224C 6603              4993             MOV     R0,R6                   ;0,1~98,100
14239 0000224E 250B              4994             OR      R0,R5                   ;BIT15+ 0,1~98,100
14240 00002250 6453              4995             MOV     R5,R4                   ;
14241                            4996             M_BRA   STEP_SIG_DSP200         ;OUTPUT　行程数R4,[*表示]R6
14242 00002252 A007                   M           BRA     STEP_SIG_DSP200
14243 00002254 0009                   M           NOP
14244                            4997     
14245                            4998     
14246                            4999     ;;;;;;;;2015-10-25;     ----------- 5/10段仕様----------
14247                            5000     ;;;;;;;;2015-10-25STEP_SIG_DSP030                               ;
14248                            5001     ;;;;;;;;2015-10-25      MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
14249                            5002     ;;;;;;;;2015-10-25      MOV.W   @R1,R0                  ;
14250                            5003     ;;;;;;;;2015-10-25      MOV.L   #_CPOS_STEP_MAX,R1      ;
14251                            5004     ;;;;;;;;2015-10-25      MOV.W   @R1,R4                  ;
14252                            5005     ;;;;;;;;2015-10-25      ADD     #1,R4                   ;
14253                            5006     ;;;;;;;;2015-10-25      CMP/HS  R4,R0                   ;
14254                            5007     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP100         ;
14255                            5008     ;;;;;;;;2015-10-25
14256                            5009     ;;;;;;;;2015-10-25;     ==== 最終工程==
14257                            5010     ;;;;;;;;2015-10-25      MOV.L   #_WFSYS_MAX_STEP_SEL,R1 ;2004-01-26
14258                            5011     ;;;;;;;;2015-10-25      MOV.W   @R1,R0                  ;
14259                            5012     ;;;;;;;;2015-10-25      CMP/EQ  #1,R0                   ;
14260                            5013     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP050         ;
14261                            5014     ;;;;;;;;2015-10-25
14262                            5015     ;;;;;;;;2015-10-25      MOV.W   #_EQ_STEP_MAX+1,R0      ;1~5の時は2~6
14263                            5016     ;;;;;;;;2015-10-25      CMP/HI  R0,R4                   ;5+1 < MAX+1
14264                            5017     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP050         ;NO MAX=1~5
14265                            5018     ;;;;;;;;2015-10-25
14266                            5019     ;;;;;;;;2015-10-25      MOV.W   #(BIT15+BIT10),R4       ;"*"はBIT10
14267                            5020     ;;;;;;;;2015-10-25      M_BRA   STEP_SIG_DSP200         ;
14268                            5021     ;;;;;;;;2015-10-25
14269                            5022     ;;;;;;;;2015-10-25STEP_SIG_DSP050:
14270                            5023     ;;;;;;;;2015-10-25      MOV.W   #(BIT15+BIT5),R4        ;"*"はBIT5
14271                            5024     ;;;;;;;;2015-10-25      M_BRA   STEP_SIG_DSP200         ;
14272                            5025     ;;;;;;;;2015-10-25
14273                            5026     ;;;;;;;;2015-10-25STEP_SIG_DSP100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   147
PROGRAM NAME =

14274                            5027     ;;;;;;;;2015-10-25      MOV.L   #_LONG_BIT_TBL0,R1              ;
14275                            5028     ;;;;;;;;2015-10-25      SHLL2   R0                              ;data=1 BIT0
14276                            5029     ;;;;;;;;2015-10-25      ADD     R1,R0                           ;
14277                            5030     ;;;;;;;;2015-10-25      MOV.L   @R0,R4                          ;
14278                            5031     ;;;;;;;;2015-10-25
14279                            5032     ;;;;;;;;2015-10-25
14280                            5033     
14281                                     ***** BEGIN-POOL *****
14282 00002256 0064                       DATA FOR SOURCE-LINE 4989
14283 00002258 8000                       DATA FOR SOURCE-LINE 4990
14284 0000225A 0000                       ALIGNMENT CODE
14285 0000225C 00000000                   DATA FOR SOURCE-LINE 4981
14286 00002260 00000000                   DATA FOR SOURCE-LINE 4983
14287                                     ***** END-POOL *****
14288 00002264                   5034     STEP_SIG_DSP200:
14289                            5035     
14290                            5036     ;       ---------2014-09-22 追加BIT13--------------
14291 00002264 D105              5037             MOV.L   #_MOT_REP_F,R1                  ;//BIT0(ﾘﾋﾟｰﾄ動作
14292 00002266 6011              5038             MOV.W   @R1,R0                          ;
14293 00002268 C801              5039             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ中
14294                            5040             TST_BIT_OF STEP_SIG_DSP300              ;
14295 0000226A 8901                   M           BT      STEP_SIG_DSP300
14296 0000226C 9005              5041             MOV.W   #BIT13,R0                       ;
14297 0000226E 240B              5042             OR      R0,R4                           ;
14298 00002270                   5043     STEP_SIG_DSP300:                                ;
14299 00002270 D503              5044             MOV.L   #_SQ_CBWK_TOP+_WKSQCB210,R5     ;
14300 00002272 2541              5045             MOV.W   R4,@R5                          ;
14301                            5046     
14302                            5047             .AIF    1 EQ    0       ;
14303                            5048             .IMPORT _PVP_MOT_ACT_STEP
14304                            5049             MOV.L   #_PVP_MOT_ACT_STEP,R5           ;
14305                            5050             MOV.W   R6,@R5                          ;
14306                            5051             .AENDI
14307                            5052     
14308                            5053             SUB_END
14309                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14310 00002274 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14311                            5054             M_RTS
14312 00002276 000B                   M           RTS                             ;RTSの後ろの
14313 00002278 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14314                            5055     
14315                            5056     
14316                            5057     ;       ***********************************
14317                            5058     ;       ***                             ***
14318                            5059     ;       ***     運転開始                ***
14319                            5060     ;       ***                             ***
14320                            5061     ;       ***********************************
14321                                     ***** BEGIN-POOL *****
14322 0000227A 2000                       DATA FOR SOURCE-LINE 5041
14323 0000227C 00000000                   DATA FOR SOURCE-LINE 5037
14324 00002280 00000000                   DATA FOR SOURCE-LINE 5044
14325                                     ***** END-POOL *****
14326 00002284                   5062     _STOPPING_TIM_MOV_INI:
14327                            5063             SUB_START
14328 00002284 4F22                   M           STS.L   PR,@-R15                ;[必要]
14329                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14330 00002286 D104              5064             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   148
PROGRAM NAME =

14331 00002288 200A              5065             XOR     R0,R0                   ;動作開始
14332 0000228A 2101              5066             MOV.W   R0,@R1                  ;
14333                            5067     
14334                            5068     
14335                            5069     ;       ==== 2012-03-06====
14336                            5070             FAR_JSR #_BRKTMCAL_API1_STR,R0          ;JUMP力がないため
14337 0000228C D003                   M           MOV.L   #_BRKTMCAL_API1_STR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14338 0000228E 400B                   M           JSR     @R0                     ;
14339 00002290 0009                   M           NOP                                     ;
14340                            5071     
14341                            5072             SUB_END
14342                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14343 00002292 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14344                            5073             M_RTS
14345 00002294 000B                   M           RTS                             ;RTSの後ろの
14346 00002296 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14347                            5074     
14348                            5075     ;       ***********************************
14349                            5076     ;       ***                             ***
14350                            5077     ;       ***     停止条件成立(測定開始)  ***
14351                            5078     ;       ***                             ***
14352                            5079     ;       ***********************************
14353                            5080     
14354                                     ***** BEGIN-POOL *****
14355 00002298 00000000                   DATA FOR SOURCE-LINE 5064
14356 0000229C 00000000                   DATA FOR SOURCE-LINE 5070
14357                                     ***** END-POOL *****
14358 000022A0                   5081     _STOPPING_TIM_STOP_INI:
14359                            5082             SUB_START
14360 000022A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14361                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14362 000022A2 D114              5083             MOV.L   #_STOPPING_TIM_FLG,R1           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停
                                          止中
14363 000022A4 6011              5084             MOV.W   @R1,R0                          ;
14364 000022A6 C841              5085             TST     #(BIT6+BIT0),R0                 ;
14365                            5086             TST_BIT_ON STOPPING_TIM_STOPINI_100     ;動作開始?/停止後の停止?
14366 000022A8 8B1E                   M           BF      STOPPING_TIM_STOPINI_100
14367                            5087     
14368                            5088     ;;2010-08-20    MOV.W   #_SYS_STOPPING_TIM,R2
14369 000022AA D113              5089             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14370 000022AC 6211              5090             MOV.W   @R1,R2                          ;
14371                            5091     
14372 000022AE D113              5092             MOV.L   #_STOPPING_STOP_TIM,R1  ;//停止を測定するタイマ
14373 000022B0 2121              5093             MOV.W   R2,@R1                  ;
14374                            5094     
14375 000022B2 D413              5095             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;RL_OBJ->PV 200609
                                          19
14376 000022B4 6146              5096             MOV.L   @R4+,R1                                                 ;
14377 000022B6 6242              5097             MOV.L   @R4,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14378 000022B8 D412              5098             MOV.L   #_STOPPING_VLVOFF_POS,R4;//停止処理開始時点の位置
14379 000022BA 2412              5099             MOV.L   R1,@R4                  ;
14380 000022BC 1421              5100             MOV.L   R2,@(4,R4)              ;
14381                            5101     
14382 000022BE D412              5102             MOV.L   #_STOPPING_STOP_POS,R4  ;//停止処理測定位置
14383 000022C0 2412              5103             MOV.L   R1,@R4                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   149
PROGRAM NAME =

14384 000022C2 1421              5104             MOV.L   R2,@(4,R4)              ;
14385                            5105     
14386 000022C4 D10B              5106             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14387 000022C6 9012              5107             MOV.W   #BIT0,R0                ;
14388 000022C8 2101              5108             MOV.W   R0,@R1
14389                            5109     
14390 000022CA 200A              5110             XOR     R0,R0                   ;
14391 000022CC D10F              5111             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14392 000022CE 2101              5112             MOV.W   R0,@R1                  ;
14393 000022D0 D10F              5113             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14394 000022D2 2101              5114             MOV.W   R0,@R1                  ;
14395                            5115     
14396                            5116     ;       ==== 2003-07-09 ========
14397 000022D4 D10F              5117             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14398 000022D6 900B              5118             MOV.W   #BIT4,R0                ;
14399 000022D8 2101              5119             MOV.W   R0,@R1                  ;BIT4:起動有り ELSE = 0
14400                            5120     
14401                            5121     
14402                            5122     ;       --2009-07-17 add[不具合対策 ﾌﾞﾚｰｷ角度ｵｰﾊﾞ3]---
14403                            5123             FAR_JSR #_LINK_CLANK_DIG_MAK,R0 ;2009-07-17
14404 000022DA D00F                   M           MOV.L   #_LINK_CLANK_DIG_MAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14405 000022DC 400B                   M           JSR     @R0                     ;
14406 000022DE 0009                   M           NOP                                     ;
14407                            5124     
14408 000022E0 D10E              5125             MOV.L   #_LINK_CLANK_PV,R1      ;//0.1度
14409 000022E2 6011              5126             MOV.W   @R1,R0                  ;
14410 000022E4 D10E              5127             MOV.L   #_VALV_OFF_DIG_CLANK,R1 ;
14411 000022E6 2101              5128             MOV.W   R0,@R1                  ;
14412                            5129     
14413                            5130     ;       =========================
14414                            5131     
14415 000022E8                   5132     STOPPING_TIM_STOPINI_100:
14416                            5133     
14417                            5134             SUB_END
14418                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14419 000022E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14420                            5135             M_RTS
14421 000022EA 000B                   M           RTS                             ;RTSの後ろの
14422 000022EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14423                            5136     
14424                            5137     ;       ***********************************
14425                            5138     ;       ***                             ***
14426                            5139     ;       ***     (測定中)                ***
14427                            5140     ;       ***                             ***
14428                            5141     ;       ***********************************
14429                            5142     
14430                                     ***** BEGIN-POOL *****
14431 000022EE 0001                       DATA FOR SOURCE-LINE 5107
14432 000022F0 0010                       DATA FOR SOURCE-LINE 5118
14433 000022F2 0000                       ALIGNMENT CODE
14434 000022F4 00000000                   DATA FOR SOURCE-LINE 5083,5106
14435 000022F8 00000000                   DATA FOR SOURCE-LINE 5089
14436 000022FC 00000000                   DATA FOR SOURCE-LINE 5092
14437 00002300 00000000                   DATA FOR SOURCE-LINE 5095
14438 00002304 00000000                   DATA FOR SOURCE-LINE 5098
14439 00002308 00000000                   DATA FOR SOURCE-LINE 5102
14440 0000230C 00000000                   DATA FOR SOURCE-LINE 5111
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   150
PROGRAM NAME =

14441 00002310 00000000                   DATA FOR SOURCE-LINE 5113
14442 00002314 00000000                   DATA FOR SOURCE-LINE 5117
14443 00002318 00000000                   DATA FOR SOURCE-LINE 5123
14444 0000231C 00000000                   DATA FOR SOURCE-LINE 5125
14445 00002320 00000000                   DATA FOR SOURCE-LINE 5127
14446                                     ***** END-POOL *****
14447 00002324                   5143     _STOPPING_TIM_CHK:
14448                            5144             SUB_START
14449 00002324 4F22                   M           STS.L   PR,@-R15                ;[必要]
14450                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14451                            5145     
14452 00002326 D104              5146             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14453 00002328 9004              5147             MOV.W   #BIT0,R0                ;
14454 0000232A 6011              5148             MOV.W   @R1,R0                  ;
14455 0000232C C840              5149             TST     #BIT6,R0                ;測定完了?
14456                            5150             TST_BIT_OF STOPPING_TIM_CK050   ;
14457 0000232E 8905                   M           BT      STOPPING_TIM_CK050
14458                            5151             M_BRA   STOPPING_TIM_CK900      ;完了
14459 00002330 A065                   M           BRA     STOPPING_TIM_CK900
14460 00002332 0009                   M           NOP
14461                            5152     
14462                                     ***** BEGIN-POOL *****
14463 00002334 0001                       DATA FOR SOURCE-LINE 5147
14464 00002336 0000                       ALIGNMENT CODE
14465 00002338 00000000                   DATA FOR SOURCE-LINE 5146
14466                                     ***** END-POOL *****
14467 0000233C                   5153     STOPPING_TIM_CK050:                                                     ;
14468 0000233C C801              5154             TST     #BIT0,R0
14469                            5155             TST_BIT_ON STOPPING_TIM_CK080   ;
14470 0000233E 8B01                   M           BF      STOPPING_TIM_CK080
14471                            5156             M_BRA   STOPPING_TIM_CK900      ;未
14472 00002340 A05D                   M           BRA     STOPPING_TIM_CK900
14473 00002342 0009                   M           NOP
14474 00002344                   5157     STOPPING_TIM_CK080
14475                            5158     
14476                            5159     
14477 00002344 D114              5160             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14478 00002346 6211              5161             MOV.W   @R1,R2                  ;
14479 00002348 7201              5162             ADD     #1,R2                   ;
14480 0000234A 2121              5163             MOV.W   R2,@R1                  ;
14481                            5164     
14482 0000234C D013              5165             MOV.L   #_LINK_PV_ABSPLS,R0                     ;RL_OBJ->PV20060919
14483 0000234E 6106              5166             MOV.L   @R0+,R1                                                 ;
14484 00002350 6202              5167             MOV.L   @R0,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14485                            5168     
14486 00002352 D013              5169             MOV.L   #_STOPPING_VLVOFF_POS,R0                ;//停止処理開始時点の位置
14487 00002354 6306              5170             MOV.L   @R0+,R3                                 ;
14488 00002356 6402              5171             MOV.L   @R0,R4                                  ;
14489                            5172     
14490 00002358 D012              5173             MOV.L   #_STOPPING_STOP_POS,R0                  ;
14491 0000235A 6502              5174             MOV.L   @R0,R5                                  ;
14492 0000235C 2012              5175             MOV.L   R1,@R0                                  ;
14493 0000235E 5601              5176             MOV.L   @(4,R0),R6                              ;
14494 00002360 1021              5177             MOV.L   R2,@(4,R0)                              ;
14495                            5178     
14496                            5179             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R3,DT_ANS_REGL=R4       ;ﾊﾞﾙﾌﾞOFF開始−今
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   151
PROGRAM NAME =

                                          回
14497 00002362 0008                   M           CLRT
14498 00002364 342A                   M           SUBC    R2,R4
14499 00002366 331A                   M           SUBC    R1,R3
14500                            5180             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;前回−今回
14501 00002368 0008                   M           CLRT
14502 0000236A 362A                   M           SUBC    R2,R6
14503 0000236C 351A                   M           SUBC    R1,R5
14504                            5181     
14505                            5182     
14506                            5183     ;ﾊﾞﾙﾌﾞOFF位置+/-10ﾊﾟﾙｽの範囲では停止中と判断する[2011-08-29]
14507 0000236E 6043              5184             MOV     R4,R0                                   ;
14508 00002370 4011              5185             CMP/PZ  R0                                      ;
14509 00002372 8900              5186             BT      STOPPING_TIM_CK100                      ;
14510 00002374 600B              5187             NEG     R0,R0                                   ;
14511 00002376                   5188     STOPPING_TIM_CK100:                                     ;
14512 00002376 910D              5189             MOV.W   #D'10,R1                                ;
14513 00002378 3102              5190             CMP/HS  R0,R1                                   ;
14514 0000237A 8903              5191             BT      STOPPING_TIM_CK120                      ;
14515                            5192     ;       -------------------------------------------------------
14516                            5193     
14517                            5194     
14518 0000237C 6063              5195             MOV     R6,R0                   ;
14519 0000237E 205B              5196             OR      R5,R0                   ;
14520 00002380 2008              5197             TST     R0,R0                   ;
14521                            5198             TST_BIT_ON STOPPING_TIM_CK400   ;
14522 00002382 8B27                   M           BF      STOPPING_TIM_CK400
14523 00002384                   5199     STOPPING_TIM_CK120:
14524                            5200     ;       ===== 停止状態() =====
14525 00002384 D408              5201             MOV.L   #_STOPPING_STOP_TIM,R4                                  ;//停止を測定する
                                          タイマ
14526 00002386 6041              5202             MOV.W   @R4,R0                                                  ;
14527 00002388 2008              5203             TST     R0,R0                                                   ;
14528                            5204             TST_BIT_OF STOPPING_TIM_CK200                                   ;
14529 0000238A 890F                   M           BT      STOPPING_TIM_CK200
14530 0000238C 70FF              5205             ADD     #-1,R0                                                  ;
14531 0000238E 2401              5206             MOV.W   R0,@R4                                                  ;
14532                            5207             M_BRA   STOPPING_TIM_CK900                                      ;
14533 00002390 A035                   M           BRA     STOPPING_TIM_CK900
14534 00002392 0009                   M           NOP
14535                            5208     ;       ====== ﾀｲﾑｱｯﾌﾟ停止=======
14536                                     ***** BEGIN-POOL *****
14537 00002394 000A                       DATA FOR SOURCE-LINE 5189
14538 00002396 0000                       ALIGNMENT CODE
14539 00002398 00000000                   DATA FOR SOURCE-LINE 5160
14540 0000239C 00000000                   DATA FOR SOURCE-LINE 5165
14541 000023A0 00000000                   DATA FOR SOURCE-LINE 5169
14542 000023A4 00000000                   DATA FOR SOURCE-LINE 5173
14543 000023A8 00000000                   DATA FOR SOURCE-LINE 5201
14544                                     ***** END-POOL *****
14545 000023AC                   5209     STOPPING_TIM_CK200:
14546 000023AC D106              5210             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14547 000023AE 6211              5211             MOV.W   @R1,R2                  ;
14548                            5212     
14549                            5213     ;;;2010-08-20   MOV.W   #_SYS_STOPPING_TIM,R4   ;
14550 000023B0 D106              5214             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   152
PROGRAM NAME =

14551 000023B2 6411              5215             MOV.W   @R1,R4                          ;
14552                            5216     
14553 000023B4 3248              5217             SUB     R4,R2                   ;
14554 000023B6 4211              5218             CMP/PZ  R2                      ;
14555 000023B8 8900              5219             BT      STOPPING_TIM_CK250      ;
14556 000023BA 222A              5220             XOR     R2,R2                   ;
14557 000023BC                   5221     STOPPING_TIM_CK250:                     ;
14558                            5222     
14559                            5223             FAR_JSR #_BRKTMCAL_API3_ENDCNF1,R0      ;2012-03-06
14560 000023BC D004                   M           MOV.L   #_BRKTMCAL_API3_ENDCNF1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14561 000023BE 400B                   M           JSR     @R0                     ;
14562 000023C0 0009                   M           NOP                                     ;
14563                            5224             M_BRA   STOPPING_TIM_CK600      ;
14564 000023C2 A013                   M           BRA     STOPPING_TIM_CK600
14565 000023C4 0009                   M           NOP
14566                            5225     
14567                            5226     ;       ==== 動作状態 ============
14568                                     ***** BEGIN-POOL *****
14569 000023C6 0000                       ALIGNMENT CODE
14570 000023C8 00000000                   DATA FOR SOURCE-LINE 5210
14571 000023CC 00000000                   DATA FOR SOURCE-LINE 5214
14572 000023D0 00000000                   DATA FOR SOURCE-LINE 5223
14573                                     ***** END-POOL *****
14574 000023D4                   5227     STOPPING_TIM_CK400:
14575                            5228     
14576                            5229     ;;;;2010-08-20  MOV.W   #_SYS_STOPPING_TIM,R0           ;
14577 000023D4 D40D              5230             MOV.L   #_WPAR_STOPING_TIM,R4           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14578 000023D6 6041              5231             MOV.W   @R4,R0                          ;
14579                            5232     
14580 000023D8 D40D              5233             MOV.L   #_STOPPING_STOP_TIM,R4          ;//停止を測定するタイマ
14581 000023DA 2401              5234             MOV.W   R0,@R4                          ;
14582                            5235     
14583 000023DC 235A              5236             XOR     R5,R3                           ;動作方向[[[[[[[[]]]]]]]]]]
14584 000023DE 4311              5237             CMP/PZ  R3                              ;
14585 000023E0 890D              5238             BT      STOPPING_TIM_CK900              ;同一方向NO 反転した
14586                            5239     
14587                            5240             FAR_JSR #_BRKTMCAL_API4_ENDCNF2,R0      ;2012-03-06
14588 000023E2 D00C                   M           MOV.L   #_BRKTMCAL_API4_ENDCNF2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14589 000023E4 400B                   M           JSR     @R0                     ;
14590 000023E6 0009                   M           NOP                                     ;
14591                            5241     
14592                            5242     ;       ===== 反転停止 ======
14593 000023E8 D10B              5243             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14594 000023EA 6211              5244             MOV.W   @R1,R2                  ;
14595                            5245     
14596 000023EC                   5246     STOPPING_TIM_CK600:
14597 000023EC D10B              5247             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14598 000023EE 2121              5248             MOV.W   R2,@R1                  ;
14599                            5249     
14600 000023F0 D10B              5250             MOV.L   #_STOPPING_TIM_FLG,R1                           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0
                                          測定開始 BIT6:停止中
14601 000023F2 900A              5251             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
14602 000023F4 2101              5252             MOV.W   R0,@R1                                          ;BIT1~BIT5はその他の処理用
14603                            5253                                                                     ;BIT1:画面へ
14604                            5254     
14605                            5255     ;       ==== 2003-07-09 ========
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   153
PROGRAM NAME =

14606 000023F6 D10B              5256             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14607 000023F8 6011              5257             MOV.W   @R1,R0                  ;
14608 000023FA CB20              5258             OR      #(BIT5),R0              ;
14609 000023FC 2101              5259             MOV.W   R0,@R1                  ;BIT5起動有り/完了有り
14610                            5260     ;       =========================
14611                            5261     
14612 000023FE                   5262     STOPPING_TIM_CK900:
14613                            5263     
14614                            5264             FAR_JSR #_STOP_ERR_CHK,R0
14615 000023FE D00A                   M           MOV.L   #_STOP_ERR_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14616 00002400 400B                   M           JSR     @R0                     ;
14617 00002402 0009                   M           NOP                                     ;
14618                            5265     
14619                            5266             SUB_END
14620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14621 00002404 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14622                            5267             M_RTS
14623 00002406 000B                   M           RTS                             ;RTSの後ろの
14624 00002408 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14625                            5268     
14626                            5269     
14627                            5270     ;//     *******************************************
14628                            5271     ;//     ***     2003-06-13                      ***
14629                            5272     ;//     ***     ニアゼロタイムアウトセット      ***
14630                            5273     ;//     *******************************************
14631                            5274             .EXPORT _SET_NZ_TIM_DAT
14632                            5275             .EXPORT _NZ_TIM_CHK1
14633                                     ***** BEGIN-POOL *****
14634 0000240A 007F                       DATA FOR SOURCE-LINE 5251
14635 0000240C 00000000                   DATA FOR SOURCE-LINE 5230
14636 00002410 00000000                   DATA FOR SOURCE-LINE 5233
14637 00002414 00000000                   DATA FOR SOURCE-LINE 5240
14638 00002418 00000000                   DATA FOR SOURCE-LINE 5243
14639 0000241C 00000000                   DATA FOR SOURCE-LINE 5247
14640 00002420 00000000                   DATA FOR SOURCE-LINE 5250
14641 00002424 00000000                   DATA FOR SOURCE-LINE 5256
14642 00002428 00000000                   DATA FOR SOURCE-LINE 5264
14643                                     ***** END-POOL *****
14644 0000242C                   5276     _SET_NZ_TIM_DAT
14645                            5277             SUB_START
14646 0000242C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14647                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14648 0000242E D109              5278             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14649 00002430 6011              5279             MOV.W   @R1,R0                          ;
14650 00002432 2008              5280             TST     R0,R0                           ;
14651                            5281             TST_BIT_ON SET_NZ_TIMDT_010             ;
14652 00002434 8B00                   M           BF      SET_NZ_TIMDT_010
14653 00002436 900B              5282             MOV.W   #H'7FFF,R0                      ;
14654 00002438                   5283     SET_NZ_TIMDT_010
14655 00002438 D107              5284             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14656 0000243A 2101              5285             MOV.W   R0,@R1                          ;
14657                            5286     
14658 0000243C D107              5287             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;異常(機能は入れない)
14659 0000243E 6011              5288             MOV.W   @R1,R0                          ;
14660 00002440 2008              5289             TST     R0,R0                           ;
14661                            5290             TST_BIT_ON SET_NZ_TIMDT_020             ;
14662 00002442 8B00                   M           BF      SET_NZ_TIMDT_020
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   154
PROGRAM NAME =

14663 00002444 9004              5291             MOV.W   #H'7FFF,R0                      ;
14664 00002446                   5292     SET_NZ_TIMDT_020                                ;
14665 00002446 D106              5293             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;
14666 00002448 2101              5294             MOV.W   R0,@R1                          ;
14667                            5295     
14668                            5296             SUB_END
14669                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14670 0000244A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14671                            5297             M_RTS
14672 0000244C 000B                   M           RTS                             ;RTSの後ろの
14673 0000244E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14674                            5298     
14675                            5299     ;//     *******************************************
14676                            5300     ;//     ***     2003-06-13                      ***
14677                            5301     ;//     ***     ニアゼロタイムアウト            ***
14678                            5302     ;//     *******************************************
14679                                     ***** BEGIN-POOL *****
14680 00002450 7FFF                       DATA FOR SOURCE-LINE 5282,5291
14681 00002452 0000                       ALIGNMENT CODE
14682 00002454 00000000                   DATA FOR SOURCE-LINE 5278
14683 00002458 00000000                   DATA FOR SOURCE-LINE 5284
14684 0000245C 00000000                   DATA FOR SOURCE-LINE 5287
14685 00002460 00000000                   DATA FOR SOURCE-LINE 5293
14686                                     ***** END-POOL *****
14687 00002464                   5303     _NZ_TIM_CHK1
14688                            5304             SUB_START
14689 00002464 4F22                   M           STS.L   PR,@-R15                ;[必要]
14690                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14691 00002466 D10B              5305             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14692 00002468 6011              5306             MOV.W   @R1,R0                          ;
14693 0000246A 2008              5307             TST     R0,R0                           ;
14694                            5308             TST_BIT_OF NZ_TIM_CK1_100               ;
14695 0000246C 8905                   M           BT      NZ_TIM_CK1_100
14696                            5309     
14697 0000246E D10A              5310             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14698 00002470 6011              5311             MOV.W   @R1,R0                          ;
14699 00002472 2008              5312             TST     R0,R0                           ;
14700                            5313             TST_BIT_OF NZ_TIM_CK1_100               ;
14701 00002474 8901                   M           BT      NZ_TIM_CK1_100
14702 00002476 70FF              5314             ADD     #-1,R0                          ;
14703 00002478 2101              5315             MOV.W   R0,@R1                          ;
14704 0000247A                   5316     NZ_TIM_CK1_100
14705                            5317     
14706 0000247A D108              5318             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;運転中止(寸動部分)
14707 0000247C 6011              5319             MOV.W   @R1,R0                          ;
14708 0000247E 2008              5320             TST     R0,R0                           ;
14709                            5321             TST_BIT_OF NZ_TIM_CK1_200               ;
14710 00002480 8905                   M           BT      NZ_TIM_CK1_200
14711                            5322     
14712 00002482 D107              5323             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;運転中止(寸動部分)
14713 00002484 6011              5324             MOV.W   @R1,R0                          ;
14714 00002486 2008              5325             TST     R0,R0                           ;
14715                            5326             TST_BIT_OF NZ_TIM_CK1_200               ;
14716 00002488 8901                   M           BT      NZ_TIM_CK1_200
14717 0000248A 70FF              5327             ADD     #-1,R0                          ;
14718 0000248C 2101              5328             MOV.W   R0,@R1                          ;
14719 0000248E                   5329     NZ_TIM_CK1_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   155
PROGRAM NAME =

14720                            5330     
14721                            5331             SUB_END
14722                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14723 0000248E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14724                            5332             M_RTS
14725 00002490 000B                   M           RTS                             ;RTSの後ろの
14726 00002492 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14727                            5333     
14728                            5334     ;       ***********************************
14729                            5335     ;       ***                             ***
14730                            5336     ;       ***     2006-07-28              ***
14731                            5337     ;       ***                             ***
14732                            5338     ;       ***********************************
14733                            5339     ;       ANS R0=0 START // ELSE WAIT
14734                                     ***** BEGIN-POOL *****
14735 00002494 00000000                   DATA FOR SOURCE-LINE 5305
14736 00002498 00000000                   DATA FOR SOURCE-LINE 5310
14737 0000249C 00000000                   DATA FOR SOURCE-LINE 5318
14738 000024A0 00000000                   DATA FOR SOURCE-LINE 5323
14739                                     ***** END-POOL *****
14740 000024A4                   5340     _ORGIN_MODE_SEL_WAIT:
14741                            5341             SUB_START
14742 000024A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14743                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14744 000024A6 222A              5342             XOR     R2,R2
14745 000024A8 D10A              5343             MOV.L   #_MODE_SEL,R1           ;
14746 000024AA 6011              5344             MOV.W   @R1,R0                  ;
14747 000024AC C840              5345             TST     #_W1DUP,R0              ;
14748                            5346             TST_BIT_OF ORGIN_MODE_SEL_WTEND ;
14749 000024AE 8921                   M           BT      ORGIN_MODE_SEL_WTEND
14750                            5347     
14751                            5348     
14752                            5349     ;_BRK_SADOU_CHG 2015-09-06
14753                            5350     ;2015-09-06;    ======= 2010-10-25 針の穴===
14754                            5351     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14755                            5352     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14756                            5353     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
14757                            5354     ;2015-09-06     TST     R4,R0
14758                            5355     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;off今まで通り
14759                            5356     ;2015-09-06
14760                            5357     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14761                            5358     ;2015-09-06     MOV.W   @R1,R0                          ;
14762                            5359     ;2015-09-06     TST     R0,R0                           ;
14763                            5360     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;
14764                            5361     ;2015-09-06     MOV.W   #1,R2                           ;ﾀｲﾏではないがﾀｲﾏ代わりに入れる
14765                            5362     ;2015-09-06     M_BRA   ORGIN_MODE_SEL_WTEND            ;
14766                            5363     ;2015-09-06
14767                            5364     ;2015-09-06
14768                            5365     ;2015-09-06ORGIN_MODE_SEL_WT030:                                ;
14769                            5366     
14770                            5367     
14771                            5368     
14772                            5369     ;       === 2008-09-16 原点復帰方法ﾚﾍﾞﾙなら即起動===========
14773 000024B0 D109              5370             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
14774 000024B2 6011              5371             MOV.W   @R1,R0                          ;
14775 000024B4 8801              5372             CMP/EQ  #1,R0                           ;ｴｯｼﾞ?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   156
PROGRAM NAME =

14776 000024B6 8915              5373             BT      ORGIN_MODE_SEL_WT100            ;YES ｴｯｼﾞ
14777                            5374     
14778 000024B8 233A              5375             XOR     R3,R3                           ;(ｻｰﾁ)
14779 000024BA D108              5376             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14780 000024BC 6011              5377             MOV.W   @R1,R0                          ;
14781 000024BE 9407              5378             MOV.W   #BIT15,R4                       ;
14782 000024C0 2048              5379             TST     R4,R0                           ;
14783                            5380             TST_BIT_OF ORGIN_MODE_SEL_WT090         ;
14784 000024C2 8900                   M           BT      ORGIN_MODE_SEL_WT090
14785 000024C4 9305              5381             MOV.W   #1,R3                           ;待機点位置決め
14786 000024C6                   5382     ORGIN_MODE_SEL_WT090:                           ;
14787 000024C6 D106              5383             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14788 000024C8 2131              5384             MOV.W   R3,@R1                          ;
14789 000024CA 222A              5385             XOR     R2,R2                           ;ﾚﾍﾞﾙ
14790                            5386             M_BRA   ORGIN_MODE_SEL_WTEND            ;
14791 000024CC A012                   M           BRA     ORGIN_MODE_SEL_WTEND
14792 000024CE 0009                   M           NOP
14793                            5387     ;       ====================================================
14794                            5388     
14795                            5389     
14796                                     ***** BEGIN-POOL *****
14797 000024D0 8000                       DATA FOR SOURCE-LINE 5378
14798 000024D2 0001                       DATA FOR SOURCE-LINE 5381
14799 000024D4 00000000                   DATA FOR SOURCE-LINE 5343
14800 000024D8 00000000                   DATA FOR SOURCE-LINE 5370
14801 000024DC 00000000                   DATA FOR SOURCE-LINE 5376
14802 000024E0 00000000                   DATA FOR SOURCE-LINE 5383
14803                                     ***** END-POOL *****
14804 000024E4                   5390     ORGIN_MODE_SEL_WT100:
14805 000024E4 D106              5391             MOV.L   #_WPAR_ORGMOD2_TIM,R1           ;
14806 000024E6 6211              5392             MOV.W   @R1,R2                          ;
14807 000024E8 2228              5393             TST     R2,R2                           ;
14808                            5394             TST_BIT_OF ORGIN_MODE_SEL_WTEND         ;
14809 000024EA 8903                   M           BT      ORGIN_MODE_SEL_WTEND
14810                            5395     
14811                            5396     
14812                            5397             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORGIN_MOD2_START_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14813 000024EC D105                   M           MOV.L   #_ORGIN_MOD2_START_FLG,R1               ;
14814 000024EE 6011                   M           MOV.W   @R1,R0          ;
14815 000024F0 CB01                   M           OR      #BIT0,R0                ;
14816 000024F2 2101                   M           MOV.W   R0,@R1          ;
14817                            5398     
14818                            5399     
14819 000024F4                   5400     ORGIN_MODE_SEL_WTEND:
14820 000024F4 D104              5401             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;
14821 000024F6 2121              5402             MOV.W   R2,@R1                  ;
14822 000024F8 6023              5403             MOV     R2,R0                   ;
14823                            5404     
14824                            5405             SUB_END
14825                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14826 000024FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14827                            5406             M_RTS
14828 000024FC 000B                   M           RTS                             ;RTSの後ろの
14829 000024FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14830                            5407     
14831                            5408             .EXPORT _ORGIN_MODE_FLG_CLR     ;
14832                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   157
PROGRAM NAME =

14833 00002500 00000000                   DATA FOR SOURCE-LINE 5391
14834 00002504 00000000                   DATA FOR SOURCE-LINE 5397
14835 00002508 00000000                   DATA FOR SOURCE-LINE 5401
14836                                     ***** END-POOL *****
14837 0000250C                   5409     _ORGIN_MODE_FLG_CLR:
14838                            5410             SUB_START
14839 0000250C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14840                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14841 0000250E 200A              5411             XOR     R0,R0                           ;
14842 00002510 D102              5412             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14843 00002512 2101              5413             MOV.W   R0,@R1                          ;
14844                            5414             SUB_END
14845                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14846 00002514 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14847                            5415             M_RTS
14848 00002516 000B                   M           RTS                             ;RTSの後ろの
14849 00002518 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14850                            5416     
14851                            5417     
14852                            5418     
14853                            5419     
14854                            5420     
14855                            5421     
14856                            5422     
14857                            5423     
14858                            5424     ;       ***********************************
14859                            5425     ;       ***                             ***
14860                            5426     ;       ***     2015-10-13              ***
14861                            5427     ;       ***                             ***
14862                            5428     ;       ***********************************
14863                            5429     ;       ANS R0=0 START // ELSE WAIT
14864                            5430     ;       レベルタイプのみ
14865                                     ***** BEGIN-POOL *****
14866 0000251A 0000                       ALIGNMENT CODE
14867 0000251C 00000000                   DATA FOR SOURCE-LINE 5412
14868                                     ***** END-POOL *****
14869 00002520                   5431     _ORGIN_MODE_SEL_START:
14870                            5432             SUB_START
14871 00002520 4F22                   M           STS.L   PR,@-R15                ;[必要]
14872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14873                            5433     
14874 00002522 D109              5434             MOV.L   #_MODE_SEL,R1           ;
14875 00002524 6011              5435             MOV.W   @R1,R0                  ;
14876 00002526 C840              5436             TST     #_W1DUP,R0              ;
14877                            5437             TST_BIT_OF ORGIN_MODE_SEL_STEND ;
14878 00002528 8908                   M           BT      ORGIN_MODE_SEL_STEND
14879                            5438     
14880 0000252A 233A              5439             XOR     R3,R3                           ;(ｻｰﾁ)
14881 0000252C D107              5440             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14882 0000252E 6011              5441             MOV.W   @R1,R0                          ;
14883 00002530 9407              5442             MOV.W   #BIT15,R4                       ;
14884 00002532 2048              5443             TST     R4,R0                           ;
14885                            5444             TST_BIT_OF ORGIN_MODE_SEL_ST090         ;
14886 00002534 8900                   M           BT      ORGIN_MODE_SEL_ST090
14887 00002536 9305              5445             MOV.W   #1,R3                           ;待機点位置決め
14888 00002538                   5446     ORGIN_MODE_SEL_ST090:                           ;
14889 00002538 D105              5447             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   158
PROGRAM NAME =

14890 0000253A 2131              5448             MOV.W   R3,@R1                          ;
14891 0000253C                   5449     ORGIN_MODE_SEL_STEND:
14892                            5450     
14893                            5451             SUB_END
14894                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14895 0000253C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14896                            5452             M_RTS
14897 0000253E 000B                   M           RTS                             ;RTSの後ろの
14898 00002540 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14899                            5453     
14900                            5454     
14901                            5455     
14902                            5456     ;       ***********************************
14903                            5457     ;       ***                             ***
14904                            5458     ;       ***     2006-07-28              ***
14905                            5459     ;       ***     ﾓｰﾄﾞ判定・起動          ***
14906                            5460     ;       ***********************************
14907                            5461     ;       00:EXIT
14908                            5462     ;       55:起動
14909                            5463     ;       FF:WAIT
14910                                     ***** BEGIN-POOL *****
14911 00002542 8000                       DATA FOR SOURCE-LINE 5442
14912 00002544 0001                       DATA FOR SOURCE-LINE 5445
14913 00002546 0000                       ALIGNMENT CODE
14914 00002548 00000000                   DATA FOR SOURCE-LINE 5434
14915 0000254C 00000000                   DATA FOR SOURCE-LINE 5440
14916 00002550 00000000                   DATA FOR SOURCE-LINE 5447
14917                                     ***** END-POOL *****
14918 00002554                   5464     _ORGIN_MODE_START_WAIT:
14919                            5465             SUB_START
14920 00002554 4F22                   M           STS.L   PR,@-R15                ;[必要]
14921                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14922 00002556 D10C              5466             MOV.L   #_MODE_SEL,R1           ;
14923 00002558 6011              5467             MOV.W   @R1,R0                  ;
14924 0000255A C840              5468             TST     #_W1DUP,R0              ;
14925                            5469             TST_BIT_OF ORGIN_MODE_ST_WT_NOT ;
14926 0000255C 892C                   M           BT      ORGIN_MODE_ST_WT_NOT
14927                            5470     
14928 0000255E D10B              5471             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14929 00002560 6011              5472             MOV.W   @R1,R0                          ;
14930 00002562 2008              5473             TST     R0,R0                           ;
14931                            5474             TST_BIT_OF ORGIN_MODE_ST_WT_NOT         ;
14932 00002564 8928                   M           BT      ORGIN_MODE_ST_WT_NOT
14933                            5475     
14934 00002566 D10A              5476             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;//2.0sec
14935 00002568 6211              5477             MOV.W   @R1,R2                  ;
14936 0000256A 2228              5478             TST     R2,R2                   ;
14937                            5479             TST_BIT_OF ORGIN_MODE_ST_WT100  ;TIME UP 2.0
14938 0000256C 8916                   M           BT      ORGIN_MODE_ST_WT100
14939 0000256E 72FF              5480             ADD     #-1,R2
14940 00002570 2121              5481             MOV.W   R2,@R1
14941                            5482     
14942 00002572 D108              5483             MOV.L   #_BTTN_FLG,R1                   ;
14943 00002574 6011              5484             MOV.W   @R1,R0                          ;
14944 00002576 C804              5485             TST     #BIT2,R0                        ;両手ON
14945                            5486             TST_BIT_ON ORGIN_MODE_ST_WT_WAIT        ;YES
14946 00002578 8B1B                   M           BF      ORGIN_MODE_ST_WT_WAIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   159
PROGRAM NAME =

14947                            5487     
14948 0000257A 9003              5488             MOV.W   #1,R0                           ;ﾁｮﾝ押し
14949 0000257C D106              5489             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14950 0000257E 2101              5490             MOV.W   R0,@R1                          ;
14951                            5491             M_BRA   ORGIN_MODE_ST_WT_START          ;
14952 00002580 A014                   M           BRA     ORGIN_MODE_ST_WT_START
14953 00002582 0009                   M           NOP
14954                            5492     
14955                                     ***** BEGIN-POOL *****
14956 00002584 0001                       DATA FOR SOURCE-LINE 5488
14957 00002586 0000                       ALIGNMENT CODE
14958 00002588 00000000                   DATA FOR SOURCE-LINE 5466
14959 0000258C 00000000                   DATA FOR SOURCE-LINE 5471
14960 00002590 00000000                   DATA FOR SOURCE-LINE 5476
14961 00002594 00000000                   DATA FOR SOURCE-LINE 5483
14962 00002598 00000000                   DATA FOR SOURCE-LINE 5489
14963                                     ***** END-POOL *****
14964 0000259C                   5493     ORGIN_MODE_ST_WT100                             ;
14965 0000259C 200A              5494             XOR     R0,R0                           ;長い押し
14966 0000259E D102              5495             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14967 000025A0 2101              5496             MOV.W   R0,@R1                          ;
14968                            5497             M_BRA   ORGIN_MODE_ST_WT_START          ;
14969 000025A2 A003                   M           BRA     ORGIN_MODE_ST_WT_START
14970 000025A4 0009                   M           NOP
14971                            5498     
14972                            5499     
14973                                     ***** BEGIN-POOL *****
14974 000025A6 0000                       ALIGNMENT CODE
14975 000025A8 00000000                   DATA FOR SOURCE-LINE 5495
14976                                     ***** END-POOL *****
14977 000025AC                   5500     ORGIN_MODE_ST_WT_START          ;
14978 000025AC E055              5501             MOV.B   #H'55,R0                ;
14979                            5502             M_BRA   ORGIN_MODE_ST_WTEND     ;
14980 000025AE A004                   M           BRA     ORGIN_MODE_ST_WTEND
14981 000025B0 0009                   M           NOP
14982 000025B2                   5503     ORGIN_MODE_ST_WT_WAIT           ;
14983 000025B2 E0FF              5504             MOV.B   #-1,R0
14984                            5505             M_BRA   ORGIN_MODE_ST_WTEND     ;
14985 000025B4 A001                   M           BRA     ORGIN_MODE_ST_WTEND
14986 000025B6 0009                   M           NOP
14987                            5506     
14988 000025B8                   5507     ORGIN_MODE_ST_WT_NOT    ;
14989 000025B8 200A              5508             XOR     R0,R0
14990 000025BA                   5509     ORGIN_MODE_ST_WTEND     ;
14991                            5510             SUB_END
14992                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14993 000025BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14994                            5511             M_RTS
14995 000025BC 000B                   M           RTS                             ;RTSの後ろの
14996 000025BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14997                            5512     
14998                            5513     ;       *******************************************
14999                            5514     ;       ***                                     ***
15000                            5515     ;       ***     通信側にも処理がある            ***
15001                            5516     ;       ***                                     ***
15002                            5517     ;       *******************************************
15003                            5518             .IMPORT         _RENEA_ERR_RESET_INI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   160
PROGRAM NAME =

15004                            5519             .IMPORT         _LT_RNA_REF_ERR_FLG1    ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
15005                            5520     
15006                            5521      .AIF   1 EQ    0       ;
15007                            5522             .IMPORT         _API_X_PRO_SEND_START2  ;
15008                            5523      .AENDI
15009                            5524     
15010 000025C0                   5525     _RNA_SCIF_ERR_CLR1:
15011                            5526             SUB_START
15012 000025C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15013                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15014                            5527             .AIF    1 EQ    0               ;
15015                            5528             .IMPORT _IN_RNA_REF_ERR_FLG1
15016                            5529             .IMPORT _IN_RNA_REF_ERR_FLG2
15017                            5530     
15018                            5531             MOV.L   #_LT_RNA_REF_ERR_FLG1,R1                ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
15019                            5532             MOV.W   @R1,R0                                  ;
15020                            5533             TST     #(BIT6+BIT4),R0                         ;ﾘﾆｱ異常
15021                            5534             TST_BIT_ON RNA_SCIF_ERRCLR1_050                 ;
15022                            5535     
15023                            5536     ;;;[温度ﾃｽﾄ用でﾘｾｯﾄ毎に読出たい時用]
15024                            5537     ;;; .AIF        1 EQ    0       ;
15025                            5538     ;;;     FAR_JSR #_API_X_PRO_SEND_START2,R0              ;2015-10-15
15026                            5539     ;;; .AENDI
15027                            5540     
15028                            5541             M_BRA   RNA_SCIF_ERRCLR1_100                    ;
15029                            5542     
15030                            5543     RNA_SCIF_ERRCLR1_050:
15031                            5544             FAR_JSR #_RNA_SCIF_ERR_CLR2,R0                  ;
15032                            5545             FAR_JSR #_RENEA_ERR_RESET_INI,R0                ;
15033                            5546             M_BRA   RNA_SCIF_ERRCLR1_200                    ;
15034                            5547     
15035                            5548     RNA_SCIF_ERRCLR1_100:
15036                            5549     
15037                            5550             FAR_JSR #_RNA_SCIF_ERR_CLR2,R0
15038                            5551     
15039                            5552     RNA_SCIF_ERRCLR1_200:
15040                            5553     
15041                            5554             .AENDI
15042                            5555             SUB_END
15043                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15044 000025C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15045                            5556             M_RTS
15046 000025C4 000B                   M           RTS                             ;RTSの後ろの
15047 000025C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15048                            5557     
15049                            5558             .EXPORT _CLRSQ206_BIT11
15050                            5559             .EXPORT _SETSQ206_BIT11
15051                            5560     
15052 000025C8                   5561     _CLRSQ206_BIT11:
15053                            5562             SUB_START
15054 000025C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15056                            5563             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT11),WKRG1=R1,WKRG2=R
                                          4       ;
15057 000025CA D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
15058 000025CC 6011                   M           MOV.W   @R1,R0          ;
15059 000025CE 9404                   M           MOV.W   #LWORD (~BIT11),R4      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   161
PROGRAM NAME =

15060 000025D0 2049                   M           AND     R4,R0           ;
15061 000025D2 2101                   M           MOV.W   R0,@R1          ;
15062                            5564             SUB_END
15063                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15064 000025D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15065                            5565             M_RTS
15066 000025D6 000B                   M           RTS                             ;RTSの後ろの
15067 000025D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15068                            5566     
15069                                     ***** BEGIN-POOL *****
15070 000025DA F7FF                       DATA FOR SOURCE-LINE 5563
15071 000025DC 00000000                   DATA FOR SOURCE-LINE 5563
15072                                     ***** END-POOL *****
15073 000025E0                   5567     _SETSQ206_BIT11:
15074                            5568             SUB_START
15075 000025E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15076                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15077                            5569             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4
                                                  ;
15078 000025E2 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
15079 000025E4 6011                   M           MOV.W   @R1,R0          ;
15080 000025E6 9404                   M           MOV.W   #(BIT11),R4             ;
15081 000025E8 204B                   M           OR      R4,R0           ;
15082 000025EA 2101                   M           MOV.W   R0,@R1          ;
15083                            5570             SUB_END
15084                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15085 000025EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15086                            5571             M_RTS
15087 000025EE 000B                   M           RTS                             ;RTSの後ろの
15088 000025F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15089                            5572     
15090                            5573     
15091                            5574     
15092                            5575     
15093                            5576     ;       ---------------------------
15094                            5577     ;       ---     2007-01-16      ---
15095                            5578     ;       ---------------------------
15096                            5579     ;       ﾚﾍﾞﾙﾀｲﾌﾟのみ対象
15097                            5580     ;
15098                                     ***** BEGIN-POOL *****
15099 000025F2 0800                       DATA FOR SOURCE-LINE 5569
15100 000025F4 00000000                   DATA FOR SOURCE-LINE 5569
15101                                     ***** END-POOL *****
15102 000025F8                   5581     _DRV_START_KEP_WAIT
15103                            5582             SUB_START
15104 000025F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15105                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15106                            5583     
15107                            5584     
15108                            5585     ;_BRK_SADOU_CHG 2015-09-06
15109                            5586     ;;;2015-09-06   MOV.L   #_MODE_SEL,R1                   ;
15110                            5587     ;;;2015-09-06   MOV.W   @R1,R0                          ;
15111                            5588     ;;;2015-09-06   TST     #_W1DUP,R0                      ;
15112                            5589     ;;;2015-09-06   TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
15113                            5590     
15114 000025FA D109              5591             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
15115 000025FC 6011              5592             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   162
PROGRAM NAME =

15116 000025FE 2008              5593             TST     R0,R0
15117                            5594             TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
15118 00002600 8B1C                   M           BF      DRV_START_KEP_WAIT_NON
15119                            5595     
15120 00002602 D108              5596             MOV.L   #_DRV_START_KEEP,R1             ;FLG
15121 00002604 6011              5597             MOV.W   @R1,R0                          ;
15122 00002606 C801              5598             TST     #BIT0,R0                        ;
15123                            5599             TST_BIT_ON DRV_START_KEP_WAIT_100       ;
15124 00002608 8B10                   M           BF      DRV_START_KEP_WAIT_100
15125                            5600     
15126                            5601     ;       --- OFF---
15127 0000260A D107              5602             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15128 0000260C 6011              5603             MOV.W   @R1,R0                          ;
15129 0000260E 2008              5604             TST     R0,R0                           ;
15130                            5605             TST_BIT_OF DRV_START_KEP_WAIT_100
15131 00002610 890C                   M           BT      DRV_START_KEP_WAIT_100
15132                            5606     
15133 00002612 9003              5607             MOV.W   #BIT0,R0                        ;
15134 00002614 D103              5608             MOV.L   #_DRV_START_KEEP,R1             ;FLG
15135 00002616 2101              5609             MOV.W   R0,@R1                          ;
15136                            5610             M_BRA   DRV_START_KEP_WAIT_USE          ;
15137 00002618 A013                   M           BRA     DRV_START_KEP_WAIT_USE
15138 0000261A 0009                   M           NOP
15139                            5611     
15140                                     ***** BEGIN-POOL *****
15141 0000261C 0001                       DATA FOR SOURCE-LINE 5607
15142 0000261E 0000                       ALIGNMENT CODE
15143 00002620 00000000                   DATA FOR SOURCE-LINE 5591
15144 00002624 00000000                   DATA FOR SOURCE-LINE 5596,5608
15145 00002628 00000000                   DATA FOR SOURCE-LINE 5602
15146                                     ***** END-POOL *****
15147 0000262C                   5612     DRV_START_KEP_WAIT_100
15148 0000262C D102              5613             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;「「「「ﾛｯｸ解除の遅延時間中?」」」
15149 0000262E 6011              5614             MOV.W   @R1,R0                          ;
15150 00002630 2008              5615             TST     R0,R0                           ;
15151                            5616             TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
15152 00002632 8B06                   M           BF      DRV_START_KEP_WAIT_USE
15153                            5617     ;       -- 起動--
15154                            5618             M_BRA   DRV_START_KEP_WAIT_START
15155 00002634 A009                   M           BRA     DRV_START_KEP_WAIT_START
15156 00002636 0009                   M           NOP
15157                            5619     
15158                            5620     
15159                                     ***** BEGIN-POOL *****
15160 00002638 00000000                   DATA FOR SOURCE-LINE 5613
15161                                     ***** END-POOL *****
15162 0000263C                   5621     DRV_START_KEP_WAIT_NON
15163 0000263C 200A              5622             XOR     R0,R0                   ;
15164                            5623             M_BRA   DRV_START_KEP_WAIT_END  ;
15165 0000263E A008                   M           BRA     DRV_START_KEP_WAIT_END
15166 00002640 0009                   M           NOP
15167 00002642                   5624     DRV_START_KEP_WAIT_USE
15168 00002642 9001              5625             MOV.W   #1,R0
15169                            5626             M_BRA   DRV_START_KEP_WAIT_END
15170 00002644 A005                   M           BRA     DRV_START_KEP_WAIT_END
15171 00002646 0009                   M           NOP
15172                            5627     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   163
PROGRAM NAME =

15173                                     ***** BEGIN-POOL *****
15174 00002648 0001                       DATA FOR SOURCE-LINE 5625
15175                                     ***** END-POOL *****
15176 0000264A                   5628     DRV_START_KEP_WAIT_START
15177 0000264A 200A              5629             XOR     R0,R0                           ;
15178 0000264C D103              5630             MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
15179 0000264E 2101              5631             MOV.W   R0,@R1                          ;
15180 00002650 9002              5632             MOV.W   #H'55,R0                        ;
15181 00002652                   5633     DRV_START_KEP_WAIT_END
15182                            5634             SUB_END
15183                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15184 00002652 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15185                            5635             M_RTS
15186 00002654 000B                   M           RTS                             ;RTSの後ろの
15187 00002656 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15188                            5636     
15189                            5637     ;;      ---------------------------
15190                            5638     ;;      ---     2007-01-16      ---
15191                            5639     ;;      ---------------------------
15192                            5640     ;;_DRV_START_KEP_WAIT
15193                            5641     ;;      SUB_START
15194                            5642     ;;
15195                            5643     ;;      -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
15196                            5644     ;;      MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
15197                            5645     ;;      MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
15198                            5646     ;;      MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2秒だから
15199                            5647     ;;      TST     R4,R0
15200                            5648     ;;      TST_BIT_ON DRV_START_KEP_WAIT_050       ;原点復帰でもﾊﾟﾙｽ出力を遅らせる
15201                            5649     ;;
15202                            5650     ;;      MOV.L   #_MODE_SEL,R1                   ;
15203                            5651     ;;      MOV.W   @R1,R0                          ;
15204                            5652     ;;      TST     #_W1DUP,R0                      ;
15205                            5653     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
15206                            5654     ;;
15207                            5655     ;;      MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
15208                            5656     ;;      MOV.W   @R1,R0                          ;
15209                            5657     ;;      TST     R0,R0
15210                            5658     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
15211                            5659     ;;
15212                            5660     ;;DRV_START_KEP_WAIT_050
15213                            5661     ;;
15214                            5662     ;;
15215                            5663     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
15216                            5664     ;;      MOV.W   @R1,R0                          ;
15217                            5665     ;;      TST     #BIT0,R0                        ;
15218                            5666     ;;      TST_BIT_ON DRV_START_KEP_WAIT_100       ;
15219                            5667     ;;
15220                            5668     ;;      --- OFF---
15221                            5669     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15222                            5670     ;;      MOV.W   @R1,R0                          ;
15223                            5671     ;;      TST     R0,R0                           ;
15224                            5672     ;;      TST_BIT_OF DRV_START_KEP_WAIT_100
15225                            5673     ;;
15226                            5674     ;;      MOV.W   #BIT0,R0                        ;
15227                            5675     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
15228                            5676     ;;      MOV.W   R0,@R1                          ;
15229                            5677     ;;      M_BRA   DRV_START_KEP_WAIT_USE          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   164
PROGRAM NAME =

15230                            5678     ;;
15231                            5679     ;;DRV_START_KEP_WAIT_100
15232                            5680     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15233                            5681     ;;      MOV.W   @R1,R0                          ;
15234                            5682     ;;      TST     R0,R0                           ;
15235                            5683     ;;      TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
15236                            5684     ;;      -- 起動--
15237                            5685     ;;      M_BRA   DRV_START_KEP_WAIT_START
15238                            5686     ;;
15239                            5687     ;;
15240                            5688     ;;DRV_START_KEP_WAIT_NON
15241                            5689     ;;      XOR     R0,R0                   ;
15242                            5690     ;;      M_BRA   DRV_START_KEP_WAIT_END  ;
15243                            5691     ;;DRV_START_KEP_WAIT_USE
15244                            5692     ;;      MOV.W   #1,R0
15245                            5693     ;;      M_BRA   DRV_START_KEP_WAIT_END
15246                            5694     ;;
15247                            5695     ;;DRV_START_KEP_WAIT_START
15248                            5696     ;;      XOR     R0,R0                           ;
15249                            5697     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
15250                            5698     ;;      MOV.W   R0,@R1                          ;
15251                            5699     ;;      MOV.W   #H'55,R0                        ;
15252                            5700     ;;DRV_START_KEP_WAIT_END
15253                            5701     ;;      SUB_END
15254                            5702     ;;      M_RTS
15255                            5703     
15256                            5704     
15257                            5705     ;       ---------------------------
15258                            5706     ;       ---     2007-01-16      ---
15259                            5707     ;       ---------------------------
15260                                     ***** BEGIN-POOL *****
15261 00002658 0055                       DATA FOR SOURCE-LINE 5632
15262 0000265A 0000                       ALIGNMENT CODE
15263 0000265C 00000000                   DATA FOR SOURCE-LINE 5630
15264                                     ***** END-POOL *****
15265 00002660                   5708     _START_SFTY_LOCK_CLR
15266                            5709             SUB_START
15267 00002660 4F22                   M           STS.L   PR,@-R15                ;[必要]
15268                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15269 00002662 200A              5710             XOR     R0,R0
15270                            5711     
15271 00002664 D103              5712             MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;ﾛｯｸ釈放の遅延時間
15272 00002666 2101              5713             MOV.W   R0,@R1                  ;
15273                            5714     
15274                            5715     ;_BRK_SADOU_CHG 2015-09-06
15275                            5716     ;;;2015-09-06廃止       MOV.L   #_SFTY_LOCK_DLYTM,R1    ;位置決め完了の遅延時間
15276                            5717     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
15277                            5718     
15278                            5719     ;;;2015-09-06廃止       MOV.L   #_RDY_SFTY_LOCK,R1      ;FLG
15279                            5720     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
15280                            5721     
15281 00002668 D103              5722             MOV.L   #_DRV_START_KEEP,R1     ;FLG
15282 0000266A 2101              5723             MOV.W   R0,@R1                  ;
15283                            5724     
15284                            5725             SUB_END
15285                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15286 0000266C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   165
PROGRAM NAME =

15287                            5726             M_RTS
15288 0000266E 000B                   M           RTS                             ;RTSの後ろの
15289 00002670 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15290                            5727     
15291                            5728     
15292                            5729     
15293                            5730     ;       ***********************************
15294                            5731     ;       ***                             ***
15295                            5732     ;       ***     2007-02-05              ***
15296                            5733     ;       ***     運転完了、中断時        ***
15297                            5734     ;       ***     遮光遅延を働かせる      ***
15298                            5735     ;       ***                             ***
15299                            5736     ;       ***********************************
15300                            5737     ;2015-09-06_BRK_SADOU_CHG EQ 1
15301                            5738     ;;廃止_SFTY_DLY_SET1                            ;安一専用
15302                            5739     ;;廃止  SUB_START
15303                            5740     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15304                            5741     ;;廃止  MOV.W   @R1,R0                  ;
15305                            5742     ;;廃止
15306                            5743     ;;廃止  MOV.L   #_PAR_SLOCK_DLY2,R1     ;
15307                            5744     ;;廃止  MOV.W   @R1,R1                  ;
15308                            5745     ;;廃止  ADD     R1,R0                   ;
15309                            5746     ;;廃止
15310                            5747     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15311                            5748     ;;廃止  MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
15312                            5749     ;;廃止  SUB_END
15313                            5750     ;;廃止  M_RTS
15314                            5751     ;;廃止
15315                            5752     ;;廃止_SFTY_DLY_SET2
15316                            5753     ;;廃止  SUB_START
15317                            5754     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15318                            5755     ;;廃止  MOV.W   @R1,R0                  ;
15319                            5756     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15320                            5757     ;;廃止  MOV.W   R0,@R1                  ;
15321                            5758     ;;廃止  SUB_END
15322                            5759     ;;廃止  M_RTS
15323                            5760     ;;廃止; ------このNOP4がないと変になる2007-02-26-----------
15324                            5761     ;;廃止  NOP
15325                            5762     ;;廃止  NOP
15326                            5763     ;;廃止  NOP
15327                            5764     ;;廃止  NOP
15328                            5765     
15329                            5766     ;       *******************************************
15330                            5767     ;       ***                                     ***
15331                            5768     ;       ***     ORGIN DIRECT CHECK              ***
15332                            5769     ;       ***     2008-04-28　180度近辺           ***
15333                            5770     ;       ***     2008-05-07  181はパス           ***
15334                            5771     ;       *******************************************
15335                            5772     ;       179,180でON
15336                            5773     ;       178,180,181以外でOFF
15337                            5774     
15338                                     ***** BEGIN-POOL *****
15339 00002672 0000                       ALIGNMENT CODE
15340 00002674 00000000                   DATA FOR SOURCE-LINE 5712
15341 00002678 00000000                   DATA FOR SOURCE-LINE 5722
15342                                     ***** END-POOL *****
15343          000006FE          5775     _EQ_ORG_ONDIG   .EQU    179*10  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   166
PROGRAM NAME =

15344          00000708          5776     _EQ_ORG_OFDIG   .EQU    180*10  ;
15345          0000000A          5777     _EQ_ORG_HIS     .EQU    10      ;
15346                            5778     
15347 0000267C                   5779             .ALIGN  4                               ;2008-05-07
15348 0000267C                   5780     _ORGIN_180CHK
15349                            5781             SUB_START
15350 0000267C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15352                            5782     
15353 0000267E D408              5783             MOV.L   #_INC_ENC360,R4                                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と
                                          同じ)
15354 00002680 6241              5784             MOV.W   @R4,R2                                          ;
15355                            5785     
15356 00002682 910A              5786             MOV.W   #_EQ_ORG_ONDIG,R1                                       ;179~181
15357 00002684 930A              5787             MOV.W   #_EQ_ORG_OFDIG,R3                                       ;
15358                            5788             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15359 00002686 3313                   M           CMP/GE  R1,R3
15360 00002688 8B0C                   M           BF      JMP0100001
15361                                 M   ;       === 0度をはさなまい===
15362 0000268A 200A                   M           XOR     R0,R0
15363 0000268C 3213                   M           CMP/GE  R1,R2           ;
15364 0000268E 8B0F                   M           BF      JMP0200001                      ; PV<SV1
15365 00002690 3323                   M           CMP/GE  R2,R3           ;
15366 00002692 8B0D                   M           BF      JMP0200001                      ; SV2<PV2 (1)
15367 00002694 E001                   M           MOV     #1,R0           ;
15368                                 M           M_BRA   JMP0200001                      ;
15369 00002696 A00B                   M           BRA     JMP0200001
15370 00002698 0009                   M           NOP
15371                                 M   
15372                                 M   ;       ==== ０度をはさむ====
15373                                 M   ***** BEGIN-POOL *****
15374 0000269A 06FE                   M   DATA FOR SOURCE-LINE 5786
15375 0000269C 0708                   M   DATA FOR SOURCE-LINE 5787
15376 0000269E 0000                   M   ALIGNMENT CODE
15377 000026A0 00000000               M   DATA FOR SOURCE-LINE 5783
15378                                 M   ***** END-POOL *****
15379 000026A4                        M   JMP0100001:
15380 000026A4 E001                   M           MOV     #1,R0
15381 000026A6 3213                   M           CMP/GE  R1,R2
15382 000026A8 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
15383 000026AA 3323                   M           CMP/GE  R2,R3           ;
15384 000026AC 8900                   M           BT      JMP0200001                      ;
15385 000026AE 200A                   M           XOR     R0,R0           ;
15386 000026B0                        M   JMP0200001:
15387                            5789     
15388 000026B0 2008              5790             TST     R0,R0                                           ;
15389                            5791             TST_BIT_OF ORGIN_180CK_100                              ;範囲内ﾋｽﾃﾘｼｽ中
15390 000026B2 8911                   M           BT      ORGIN_180CK_100
15391                            5792     
15392                            5793             MEM1_BIT0_F_ORSET MEM=_ORIGN_180ARA_FLG,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15393 000026B4 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15394 000026B6 6041                   M           MOV.W   @R4,R0          ;
15395 000026B8 9108                   M           MOV.W   #BIT5,R1                ;
15396 000026BA 201B                   M           OR      R1,R0           ;
15397 000026BC 2401                   M           MOV.W   R0,@R4          ;
15398                            5794             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15399 000026BE D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   167
PROGRAM NAME =

15400 000026C0 6041                   M           MOV.W   @R4,R0          ;
15401 000026C2 9103                   M           MOV.W   #BIT5,R1                ;
15402 000026C4 201B                   M           OR      R1,R0           ;
15403 000026C6 2401                   M           MOV.W   R0,@R4          ;
15404                            5795     
15405                            5796     ;;;;    ------- 2009-03-19 不具合(だめ) S05p~現在までの不具合 S05vにて修正
15406                            5797     ;;;;    MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15407                            5798     ;;;;    MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15408                            5799     
15409                            5800     
15410                            5801             M_BRA   ORGIN_180CK_300                                 ;
15411 000026C8 A032                   M           BRA     ORGIN_180CK_300
15412 000026CA 0009                   M           NOP
15413                            5802     
15414                            5803     
15415                                     ***** BEGIN-POOL *****
15416 000026CC 0020                       DATA FOR SOURCE-LINE 5793,5794
15417 000026CE 0000                       ALIGNMENT CODE
15418 000026D0 00000000                   DATA FOR SOURCE-LINE 5793
15419 000026D4 00000000                   DATA FOR SOURCE-LINE 5794
15420                                     ***** END-POOL *****
15421 000026D8                   5804     ORGIN_180CK_100
15422 000026D8 910A              5805             MOV.W   #_EQ_ORG_ONDIG-_EQ_ORG_HIS,R1                   ;178~182
15423 000026DA 930A              5806             MOV.W   #_EQ_ORG_OFDIG+_EQ_ORG_HIS,R3                   ;
15424                            5807             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15425 000026DC 3313                   M           CMP/GE  R1,R3
15426 000026DE 8B09                   M           BF      JMP0100002
15427                                 M   ;       === 0度をはさなまい===
15428 000026E0 200A                   M           XOR     R0,R0
15429 000026E2 3213                   M           CMP/GE  R1,R2           ;
15430 000026E4 8B0C                   M           BF      JMP0200002                      ; PV<SV1
15431 000026E6 3323                   M           CMP/GE  R2,R3           ;
15432 000026E8 8B0A                   M           BF      JMP0200002                      ; SV2<PV2 (1)
15433 000026EA E001                   M           MOV     #1,R0           ;
15434                                 M           M_BRA   JMP0200002                      ;
15435 000026EC A008                   M           BRA     JMP0200002
15436 000026EE 0009                   M           NOP
15437                                 M   
15438                                 M   ;       ==== ０度をはさむ====
15439                                 M   ***** BEGIN-POOL *****
15440 000026F0 06F4                   M   DATA FOR SOURCE-LINE 5805
15441 000026F2 0712                   M   DATA FOR SOURCE-LINE 5806
15442                                 M   ***** END-POOL *****
15443 000026F4                        M   JMP0100002:
15444 000026F4 E001                   M           MOV     #1,R0
15445 000026F6 3213                   M           CMP/GE  R1,R2
15446 000026F8 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
15447 000026FA 3323                   M           CMP/GE  R2,R3           ;
15448 000026FC 8900                   M           BT      JMP0200002                      ;
15449 000026FE 200A                   M           XOR     R0,R0           ;
15450 00002700                        M   JMP0200002:
15451 00002700 2008              5808             TST     R0,R0                                           ;
15452                            5809             TST_BIT_ON ORGIN_180CK_200                              ;範囲内ﾋｽﾃﾘｼｽ中
15453 00002702 8B11                   M           BF      ORGIN_180CK_200
15454                            5810     
15455                            5811             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15456 00002704 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   168
PROGRAM NAME =

15457 00002706 6041                   M           MOV.W   @R4,R0          ;
15458 00002708 9108                   M           MOV.W   #LWORD (~BIT5),R1       ;
15459 0000270A 2019                   M           AND     R1,R0           ;
15460 0000270C 2401                   M           MOV.W   R0,@R4          ;
15461                            5812             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15462 0000270E D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15463 00002710 6041                   M           MOV.W   @R4,R0          ;
15464 00002712 9103                   M           MOV.W   #LWORD (~BIT5),R1       ;
15465 00002714 2019                   M           AND     R1,R0           ;
15466 00002716 2401                   M           MOV.W   R0,@R4          ;
15467                            5813             M_BRA   ORGIN_180CK_300                                 ;
15468 00002718 A00A                   M           BRA     ORGIN_180CK_300
15469 0000271A 0009                   M           NOP
15470                            5814     
15471                            5815     ;       --------- ﾋｽﾃﾘｼｽ中---
15472                                     ***** BEGIN-POOL *****
15473 0000271C FFDF                       DATA FOR SOURCE-LINE 5811,5812
15474 0000271E 0000                       ALIGNMENT CODE
15475 00002720 00000000                   DATA FOR SOURCE-LINE 5811
15476 00002724 00000000                   DATA FOR SOURCE-LINE 5812
15477                                     ***** END-POOL *****
15478 00002728                   5816     ORGIN_180CK_200
15479                            5817     ;       ======== CPUA => CPUB DIRECTION===
15480                            5818             .AIF    1 EQ    0
15481                            5819             .AELSE
15482 00002728 D103              5820 C           MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15483 0000272A 6011              5821 C           MOV.W   @R1,R0                          ;
15484 0000272C D103              5822 C           MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15485 0000272E 2101              5823 C           MOV.W   R0,@R1                          ;
15486                            5824             .AENDI
15487                            5825     
15488 00002730                   5826     ORGIN_180CK_300
15489                            5827     
15490                            5828     ;       ======== CPUB => CPUA DIRECTION===
15491                            5829             .AIF    1 EQ    0       ;
15492                            5830             MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15493                            5831             MOV.W   @R1,R0                          ;
15494                            5832             MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15495                            5833             MOV.W   R0,@R1                          ;
15496                            5834             .AELSE
15497                            5835             .AENDI
15498                            5836     
15499                            5837     
15500                            5838     
15501                            5839             SUB_END
15502                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15503 00002730 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15504                            5840             M_RTS
15505 00002732 000B                   M           RTS                             ;RTSの後ろの
15506 00002734 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15507                            5841     
15508                            5842     ;       ***********************************
15509                            5843     ;       ***                             ***
15510                            5844     ;       ***     2008-11-11              ***
15511                            5845     ;       ***                             ***
15512                            5846     ;       ***********************************
15513                            5847     ;       ﾘﾆｱｽｹｰﾙ異常で停止させない場合、ﾘｾｯﾄをｼｰｹﾝｽから行う
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   169
PROGRAM NAME =

15514                            5848             .EXPORT _RNA_ERR_RSTCHK                 ;
15515                                     ***** BEGIN-POOL *****
15516 00002736 0000                       ALIGNMENT CODE
15517 00002738 00000000                   DATA FOR SOURCE-LINE 5820
15518 0000273C 00000000                   DATA FOR SOURCE-LINE 5822
15519                                     ***** END-POOL *****
15520 00002740                   5849             .ALIGN  4                               ;
15521 00002740                   5850     _RNA_ERR_RSTCHK                                 ;
15522                            5851             SUB_START
15523 00002740 4F22                   M           STS.L   PR,@-R15                ;[必要]
15524                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15525                            5852     
15526                            5853     
15527 00002742 D10C              5854             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15528 00002744 6011              5855             MOV.W   @R1,R0                          ;
15529 00002746 D10C              5856             MOV.L   #_SQ_RNA_ALMRST_OLD,R1          ;
15530 00002748 6211              5857             MOV.W   @R1,R2                          ;
15531 0000274A 2101              5858             MOV.W   R0,@R1                          ;
15532 0000274C 220A              5859             XOR     R0,R2                           ;EDGE
15533 0000274E 2209              5860             AND     R0,R2                           ;ON EDGE
15534                            5861     
15535 00002750 D10A              5862             MOV.L   #_IN_PARAM_RNA_CHK,R1           ;1:ERRを見ない　特殊ﾊﾞｰｼﾞｮﾝ
15536 00002752 6011              5863             MOV.W   @R1,R0                          ;
15537 00002754 2008              5864             TST     R0,R0                           ;
15538                            5865             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15539 00002756 8909                   M           BT      RNA_ERR_RSTCKEXT
15540                            5866     
15541 00002758 D109              5867             MOV.L   #_RNA_RESET_FLG,R1              ;(TIME-OUTを見ないだけ)
15542 0000275A 6011              5868             MOV.W   @R1,R0                          ;
15543 0000275C 2008              5869             TST     R0,R0                           ;
15544                            5870             TST_BIT_ON RNA_ERR_RSTCKEXT             ;
15545 0000275E 8B05                   M           BF      RNA_ERR_RSTCKEXT
15546                            5871     
15547 00002760 9407              5872             MOV.W   #BIT12,R4                       ;
15548 00002762 2248              5873             TST     R4,R2                           ;
15549                            5874             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15550 00002764 8902                   M           BT      RNA_ERR_RSTCKEXT
15551                            5875     
15552                            5876             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;(ﾊｰﾄﾞ異常があれば異常ｺﾏﾝﾄﾞを出力する)
15553 00002766 D007                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15554 00002768 400B                   M           JSR     @R0                     ;
15555 0000276A 0009                   M           NOP                                     ;
15556                            5877     
15557                            5878     
15558 0000276C                   5879     RNA_ERR_RSTCKEXT                ;
15559                            5880             SUB_END
15560                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15561 0000276C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15562                            5881             M_RTS
15563 0000276E 000B                   M           RTS                             ;RTSの後ろの
15564 00002770 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15565                            5882     
15566                            5883     
15567                            5884     ;       ***************************************************
15568                            5885     ;       ***                                             ***
15569                            5886     ;       ***     準備完了、未完了の遮光を急停止にする    ***
15570                            5887     ;       ***     このソフトでは停止にしない              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   170
PROGRAM NAME =

15571                            5888     ;       ***     MASKをやめる条件をつくるだけ            ***
15572                            5889     ;       ***     2012-09-25                              ***
15573                            5890     ;       ***************************************************
15574                                     ***** BEGIN-POOL *****
15575 00002772 1000                       DATA FOR SOURCE-LINE 5872
15576 00002774 00000000                   DATA FOR SOURCE-LINE 5854
15577 00002778 00000000                   DATA FOR SOURCE-LINE 5856
15578 0000277C 00000000                   DATA FOR SOURCE-LINE 5862
15579 00002780 00000000                   DATA FOR SOURCE-LINE 5867
15580 00002784 00000000                   DATA FOR SOURCE-LINE 5876
15581                                     ***** END-POOL *****
15582 00002788                   5891             .ALIGN  4                               ;
15583 00002788                   5892     _MASK2_SAFTY_MAK:
15584                            5893             SUB_START
15585 00002788 4F22                   M           STS.L   PR,@-R15                ;[必要]
15586                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15587                            5894     
15588 0000278A D10B              5895             MOV.L   #(_PAR_MYUTING_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15589 0000278C 6011              5896             MOV.W   @R1,R0                                                  ;
15590 0000278E 8801              5897             CMP/EQ  #1,R0                                                   ;
15591 00002790 8B1F              5898             BF      MASK2_SFYSTP500                                         ;ﾐｭｰﾃﾝｸﾞ選択外部SW
                                          を参照しない
15592                            5899     
15593 00002792 D10A              5900             MOV.L   #_SW_DEV_MASK_FLG,R1                                    ;
15594 00002794 6011              5901             MOV.W   @R1,R0                                                  ;
15595 00002796 C803              5902             TST     #(BIT1+BIT0),R0                                         ;
15596                            5903             TST_BIT_OF MASK2_SFYSTP400                                      ;安全装置の有効・
                                          無効ＳＷ兼ROMパラ含む
15597 00002798 8918                   M           BT      MASK2_SFYSTP400
15598                            5904     
15599 0000279A D109              5905             MOV.L   #_di2_cb_ctl2_dt,R1                                     ;
15600 0000279C 6211              5906             MOV.W   @R1,R2                                                  ;
15601 0000279E 9409              5907             MOV.W   #_W2WT2,R4                                              ;BIT5
15602 000027A0 2249              5908             AND     R4,R2                                                   ;
15603 000027A2 D108              5909             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15604 000027A4 2121              5910             MOV.W   R2,@R1                                                  ;
15605                            5911     
15606 000027A6 D108              5912             MOV.L   #_SELF_FLG,R1                                           ;//BIT0:ｾﾙﾌﾁｪｯｸ中
15607 000027A8 6011              5913             MOV.W   @R1,R0                                                  ;
15608 000027AA C801              5914             TST     #BIT0,R0                                                ;
15609                            5915             TST_BIT_ON MASK2_SFYSTP500                                      ;
15610 000027AC 8B11                   M           BF      MASK2_SFYSTP500
15611                            5916     
15612 000027AE 9002              5917             MOV.W   #1,R0                                                   ;この時点である一
                                          部を安全一を除き準備完了中もEXQ停止
15613                            5918             M_BRA   MASK2_SFYSTP600                                         ;
15614 000027B0 A010                   M           BRA     MASK2_SFYSTP600
15615 000027B2 0009                   M           NOP
15616                            5919     
15617                            5920     
15618                                     ***** BEGIN-POOL *****
15619 000027B4 0020                       DATA FOR SOURCE-LINE 5907
15620 000027B6 0001                       DATA FOR SOURCE-LINE 5917
15621 000027B8 00000000                   DATA FOR SOURCE-LINE 5895
15622 000027BC 00000000                   DATA FOR SOURCE-LINE 5900
15623 000027C0 00000000                   DATA FOR SOURCE-LINE 5905
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   171
PROGRAM NAME =

15624 000027C4 00000000                   DATA FOR SOURCE-LINE 5909
15625 000027C8 00000000                   DATA FOR SOURCE-LINE 5912
15626                                     ***** END-POOL *****
15627 000027CC                   5921     MASK2_SFYSTP400:
15628 000027CC 222A              5922             XOR     R2,R2
15629 000027CE D104              5923             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15630 000027D0 2121              5924             MOV.W   R2,@R1                                                  ;
15631                            5925     
15632 000027D2                   5926     MASK2_SFYSTP500:
15633 000027D2 200A              5927             XOR     R0,R0
15634 000027D4                   5928     MASK2_SFYSTP600:
15635 000027D4 D103              5929             MOV.L   #_UPMSK2_MOD,R1         ;//SWを0:参照しない,1:参照する
15636 000027D6 2101              5930             MOV.W   R0,@R1                  ;
15637                            5931     
15638 000027D8                   5932     MASK2_SFYSTPEXT:
15639                            5933     
15640                            5934             SUB_END
15641                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15642 000027D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15643                            5935             M_RTS
15644 000027DA 000B                   M           RTS                             ;RTSの後ろの
15645 000027DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15646                            5936     
15647                                     ***** BEGIN-POOL *****
15648 000027DE 0000                       ALIGNMENT CODE
15649 000027E0 00000000                   DATA FOR SOURCE-LINE 5923
15650 000027E4 00000000                   DATA FOR SOURCE-LINE 5929
15651                                     ***** END-POOL *****
15652 000027E8                   5937     _MASK2_SAFTY_SW_MOV:
15653                            5938             SUB_START
15654 000027E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15655                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15656 000027EA D103              5939             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15657 000027EC 6011              5940             MOV.W   @R1,R0                                                  ;
15658 000027EE D103              5941             MOV.L   #_UPMAK2_MOD_USE_SW,R1                                  ;//0,1(反映ﾀｲﾐﾝｸﾞ
                                          後)
15659 000027F0 2101              5942             MOV.W   R0,@R1                                                  ;
15660                            5943     
15661                            5944             SUB_END
15662                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15663 000027F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15664                            5945             M_RTS
15665 000027F4 000B                   M           RTS                             ;RTSの後ろの
15666 000027F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15667                            5946     
15668                            5947     
15669                            5948     
15670                            5949     
15671                            5950     
15672                            5951     ;       *******************************************
15673                            5952     ;       ***                                     ***
15674                            5953     ;       ***             2014-02-20              ***
15675                            5954     ;       ***             SWによるﾓｰﾄﾞ制限        ***
15676                            5955     ;       *******************************************
15677                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   172
PROGRAM NAME =

15678 000027F8 00000000                   DATA FOR SOURCE-LINE 5939
15679 000027FC 00000000                   DATA FOR SOURCE-LINE 5941
15680                                     ***** END-POOL *****
15681 00002800                   5956     _SFTY_MUTING_MODE_ERR:
15682                            5957             SUB_START
15683 00002800 4F22                   M           STS.L   PR,@-R15                ;[必要]
15684                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15685 00002802 D10C              5958             MOV.L   #(_PAR_MYUTERR_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15686 00002804 6011              5959             MOV.W   @R1,R0
15687 00002806 8801              5960             CMP/EQ  #1,R0
15688 00002808 8B39              5961             BF      SFTY_MUTING_MODER_EXT           ;
15689                            5962     
15690 0000280A D10B              5963             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15691 0000280C 6011              5964             MOV.W   @R1,R0                                                  ;
15692 0000280E D10B              5965             MOV.L   #_UPMSK2_MOD_IN_SWOLD,R1        ;//2014-02-20
15693 00002810 6211              5966             MOV.W   @R1,R2                          ;
15694 00002812 2101              5967             MOV.W   R0,@R1                          ;
15695 00002814 220A              5968             XOR     R0,R2                           ;
15696 00002816 2028              5969             TST     R2,R0                           ;
15697                            5970             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15698 00002818 8916                   M           BT      SFTY_MUTING_MODER_100
15699                            5971     
15700                            5972     ;       ------無効から有効になった--------
15701 0000281A D109              5973             MOV.L   #_INP_MODE,R1                   ;
15702 0000281C 6011              5974             MOV.W   @R1,R0                          ;
15703 0000281E 9407              5975             MOV.W   #_W1CNT+_W1OPT,R4               ;
15704 00002820 2048              5976             TST     R4,R0                           ;
15705                            5977             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15706 00002822 8911                   M           BT      SFTY_MUTING_MODER_100
15707                            5978     
15708 00002824 9404              5979             MOV.W   #H'0018,R4                      ;
15709                            5980             FAR_JSR #_EMG_STOP,R0                   ;
15710 00002826 D007                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15711 00002828 400B                   M           JSR     @R0                     ;
15712 0000282A 0009                   M           NOP                                     ;
15713                            5981             M_BRA   SFTY_MUTING_MODER_EXT           ;
15714 0000282C A027                   M           BRA     SFTY_MUTING_MODER_EXT
15715 0000282E 0009                   M           NOP
15716                            5982     
15717                            5983     
15718                                     ***** BEGIN-POOL *****
15719 00002830 0018                       DATA FOR SOURCE-LINE 5975,5979
15720 00002832 0000                       ALIGNMENT CODE
15721 00002834 00000000                   DATA FOR SOURCE-LINE 5958
15722 00002838 00000000                   DATA FOR SOURCE-LINE 5963
15723 0000283C 00000000                   DATA FOR SOURCE-LINE 5965
15724 00002840 00000000                   DATA FOR SOURCE-LINE 5973
15725 00002844 00000000                   DATA FOR SOURCE-LINE 5980
15726                                     ***** END-POOL *****
15727 00002848                   5984     SFTY_MUTING_MODER_100:
15728                            5985     
15729                            5986     ;       -------------------------------------------
15730                            5987     ;       ---             ﾓｰﾄﾞ制限                ---
15731                            5988     ;       -------------------------------------------
15732                            5989     
15733 00002848 D104              5990             MOV.L   #_INP_MODE,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   173
PROGRAM NAME =

15734 0000284A 6011              5991             MOV.W   @R1,R0                                  ;
15735 0000284C C808              5992             TST     #_W1CNT,R0                              ;
15736                            5993             TST_BIT_ON SFTY_MUTING_MODER_200                ;連続
15737 0000284E 8B09                   M           BF      SFTY_MUTING_MODER_200
15738                            5994     
15739 00002850 D103              5995             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
15740 00002852 6011              5996             MOV.W   @R1,R0                                  ;
15741 00002854 C810              5997             TST     #_W1OPT,R0                              ;
15742                            5998             TST_BIT_ON SFTY_MUTING_MODER_200                ;ｵﾌﾟｼｮﾝ
15743 00002856 8B05                   M           BF      SFTY_MUTING_MODER_200
15744                            5999             M_BRA   SFTY_MUTING_MODER_EXT                   ;
15745 00002858 A011                   M           BRA     SFTY_MUTING_MODER_EXT
15746 0000285A 0009                   M           NOP
15747                            6000     
15748                            6001     
15749                                     ***** BEGIN-POOL *****
15750 0000285C 00000000                   DATA FOR SOURCE-LINE 5990
15751 00002860 00000000                   DATA FOR SOURCE-LINE 5995
15752                                     ***** END-POOL *****
15753 00002864                   6002     SFTY_MUTING_MODER_200:
15754                            6003     
15755 00002864 D108              6004             MOV.L   #_UPMSK2_MOD_IN_SW,R1                   ;//BIT5=0/1(生　待機点2)
15756 00002866 6011              6005             MOV.W   @R1,R0                                  ;
15757 00002868 2008              6006             TST     R0,R0                                   ;
15758                            6007             TST_BIT_OF SFTY_MUTING_MODER_EXT                ;
15759 0000286A 8908                   M           BT      SFTY_MUTING_MODER_EXT
15760                            6008     
15761                            6009             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
                                          ;
15762 0000286C D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
15763 0000286E 6011                   M           MOV.W   @R1,R0          ;
15764 00002870 9408                   M           MOV.W   #(BIT4),R4              ;
15765 00002872 204B                   M           OR      R4,R0           ;
15766 00002874 2101                   M           MOV.W   R0,@R1          ;
15767 00002876 9406              6010             MOV.W   #H'2164,R4
                                          ;
15768                            6011             FAR_JSR #_EMG_STOP,R0
                                          ;
15769 00002878 D005                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15770 0000287A 400B                   M           JSR     @R0                     ;
15771 0000287C 0009                   M           NOP                                     ;
15772                            6012     
15773 0000287E                   6013     SFTY_MUTING_MODER_EXT:
15774                            6014     
15775                            6015             SUB_END
15776                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15777 0000287E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15778                            6016             M_RTS
15779 00002880 000B                   M           RTS                             ;RTSの後ろの
15780 00002882 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15781                            6017     
15782                            6018     
15783                            6019     
15784                            6020     
15785                            6021     
15786                            6022     ;       ***************************************************
15787                            6023     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   174
PROGRAM NAME =

15788                            6024     ;       ***                                             ***
15789                            6025     ;       ***             制動試験                        ***
15790                            6026     ;       ***                                             ***
15791                            6027     ;       ***             2010-08-20                      ***
15792                            6028     ;       ***                                             ***
15793                            6029     ;       ***************************************************
15794                            6030     ;       ﾊﾟﾗﾒｰﾀ21から
15795                            6031     ;_PAR_SELF_MATH_SEL
15796                            6032     ;       MOV.L   #_SELF_CHK_SEL,R1               ;
15797                            6033     ;       MOV.W   R2,@R1                          ;0:ｾﾙﾌﾁｪｯｸなし
15798                            6034     ;                                               ;BIT0=1:非常停止解除時
15799                            6035     ;                                               ;BIT1=1:動作終了時
15800                            6036     ;       MOV.L   #_SELF_CHK_MATHED,R1            ;
15801                            6037     ;       MOV.W   R3,@R1                          ;項目
15802                            6038     ;       _PAR_SELFCHK_POWSEL     .DATA.W         1       ;0:電源投入時のみPARAM21 1:PARAM21
                                          のﾀｲﾐﾝｸﾞ
15803                            6039     ;
15804                            6040     ;       1回ｾﾙﾌﾁｪｯｸが終了し、起動したら、通常のｾﾙﾌﾁｪｯｸ _SELF_CHK_SEL
15805                            6041     ;       MOV.L   #_SELF_LOCK_FLG,R1
15806                            6042     ;
15807                            6043     ;
15808                            6044     
15809                                     ***** BEGIN-POOL *****
15810 00002884 0010                       DATA FOR SOURCE-LINE 6009
15811 00002886 2164                       DATA FOR SOURCE-LINE 6010
15812 00002888 00000000                   DATA FOR SOURCE-LINE 6004
15813 0000288C 00000000                   DATA FOR SOURCE-LINE 6009
15814 00002890 00000000                   DATA FOR SOURCE-LINE 6011
15815                                     ***** END-POOL *****
15816 00002894                   6045             .ALIGN  4
15817 00002894                   6046     _BRKTST_CTRL:
15818                            6047             SUB_START
15819 00002894 4F22                   M           STS.L   PR,@-R15                ;[必要]
15820                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15821                            6048     
15822                            6049     ;       ------2011-09-14-------
15823                            6050             FAR_JSR #_BRKTST_INPUT_MAK,R0           ;
15824 00002896 D010                   M           MOV.L   #_BRKTST_INPUT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15825 00002898 400B                   M           JSR     @R0                     ;
15826 0000289A 0009                   M           NOP                                     ;
15827                            6051     
15828                            6052     
15829 0000289C D10F              6053             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15830 0000289E 6011              6054             MOV.W   @R1,R0                          ;
15831 000028A0 C801              6055             TST     #BIT0,R0                        ;
15832                            6056             TST_BIT_ON BRKTST_CTL_100               ;
15833 000028A2 8B27                   M           BF      BRKTST_CTL_100
15834                            6057                                                     ;BIT0=1 START
15835                            6058                                                     ;BIT1=0 起動待ち BIT1=1 起動完了
15836                            6059                                                     ;BIT2=0 起動中   BIT2=1 停止指令ON
15837                            6060                                                     ;BIT3=0 停止待ち BIT3=1 停止完了
15838                            6061                                                     ;BIT4=1:98%到達
15839                            6062                                                     ;BIT5=0:正常 1:速度到達しないまたは停止時
                                          間ｵｰﾊﾞした失敗
15840                            6063                                                     ;BIT6=1 完了(指令OFF待ち)
15841                            6064                                                     ;BIT7=1 完了(このソフトでは使用しない)
15842                            6065     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   175
PROGRAM NAME =

15843                            6066     
15844                            6067     ;       ========== ILDE =========
15845                            6068     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15846 000028A4 D10E              6069             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15847 000028A6 6011              6070             MOV.W   @R1,R0                          ;
15848 000028A8 C801              6071             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15849                            6072             TST_BIT_OF BRKTST_CTL_090               ;OFF
15850 000028AA 8911                   M           BT      BRKTST_CTL_090
15851                            6073     
15852                            6074     ;       --- ｾﾙﾌﾁｪｯｸ有ならｾﾙﾌﾁｪｯｸ完了後に行う---
15853 000028AC D10D              6075             MOV.L   #_SELF_CHK_SEL,R1               ;
15854 000028AE 6011              6076             MOV.W   @R1,R0                          ;
15855 000028B0 2008              6077             TST     R0,R0                           ;
15856                            6078             TST_BIT_OF BRKTST_CTL_050               ;SELFﾁｪｯｸ有効？ NO
15857 000028B2 8903                   M           BT      BRKTST_CTL_050
15858                            6079     
15859 000028B4 D10C              6080             MOV.L   #_SELF_FLG,R1                   ;//BIT0:ｾﾙﾌﾁｪｯｸ中  BIT7ｾﾙﾌﾁｪｯｸ正常完了
15860 000028B6 6011              6081             MOV.W   @R1,R0                          ;
15861 000028B8 C880              6082             TST     #BIT7,R0                        ;
15862                            6083             TST_BIT_OF BRKTST_CTL_090               ;ｾﾙﾌﾁｪｯｸ未完了
15863 000028BA 8909                   M           BT      BRKTST_CTL_090
15864 000028BC                   6084     BRKTST_CTL_050:
15865                            6085     
15866                            6086             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15867 000028BC D00B                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15868 000028BE 400B                   M           JSR     @R0                     ;
15869 000028C0 0009                   M           NOP                                     ;
15870 000028C2 2008              6087             TST     R0,R0                           ;
15871                            6088             TST_BIT_ON BRKTST_CTL_090               ;R0!=0 EXIT
15872 000028C4 8B04                   M           BF      BRKTST_CTL_090
15873                            6089     
15874 000028C6 9005              6090             MOV.W   #BIT0,R0                        ;
15875 000028C8 D104              6091             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15876 000028CA 2101              6092             MOV.W   R0,@R1                          ;
15877                            6093                                                     ;BIT7が変化するときにCALL
15878 000028CC D108              6094             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15879 000028CE 2101              6095             MOV.W   R0,@R1                          ;2011-09-14
15880                            6096             .AIF    1 EQ    0       ;
15881                            6097             FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15882                            6098             .AENDI
15883                            6099     
15884                            6100     
15885 000028D0                   6101     BRKTST_CTL_090:
15886                            6102             M_BRA   BRKTST_CTL_900                  ;
15887 000028D0 A0E8                   M           BRA     BRKTST_CTL_900
15888 000028D2 0009                   M           NOP
15889                            6103     
15890                            6104     
15891                            6105     ;       ------------- 動作中---------------
15892                                     ***** BEGIN-POOL *****
15893 000028D4 0001                       DATA FOR SOURCE-LINE 6090
15894 000028D6 0000                       ALIGNMENT CODE
15895 000028D8 00000000                   DATA FOR SOURCE-LINE 6050
15896 000028DC 00000000                   DATA FOR SOURCE-LINE 6053,6091
15897 000028E0 00000000                   DATA FOR SOURCE-LINE 6069
15898 000028E4 00000000                   DATA FOR SOURCE-LINE 6075
15899 000028E8 00000000                   DATA FOR SOURCE-LINE 6080
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   176
PROGRAM NAME =

15900 000028EC 00000000                   DATA FOR SOURCE-LINE 6086
15901 000028F0 00000000                   DATA FOR SOURCE-LINE 6094
15902                                     ***** END-POOL *****
15903 000028F4                   6106     BRKTST_CTL_100:
15904                            6107     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15905 000028F4 D10C              6108             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15906 000028F6 6011              6109             MOV.W   @R1,R0                          ;
15907 000028F8 C801              6110             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15908                            6111             TST_BIT_ON BRKTST_CTL_200               ;
15909 000028FA 8B2D                   M           BF      BRKTST_CTL_200
15910                            6112     
15911 000028FC D10B              6113             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15912 000028FE 6011              6114             MOV.W   @R1,R0                          ;
15913 00002900 C960              6115             AND     #(BIT6+BIT5),R0                 ;
15914 00002902 8840              6116             CMP/EQ  #BIT6,R0                        ;異常がなくて正常完了している
15915 00002904 891C              6117             BT      BRKTST_CTL_150                  ;正常完了状態でのOFF
15916                            6118     
15917                            6119     ;;;;2011-09-14  TST     #BIT6,R0                ;
15918                            6120     ;;;;2011-09-14  TST_BIT_ON BRKTST_CTL_150       ;完了状態でのOFF
15919                            6121     
15920                            6122                                                     ;動作中にモードＯＦＦした、異常停止
15921 00002906 940E              6123             MOV.W   #H'3490,R4                      ;2010-12-21
15922                            6124             FAR_JSR #_EMG_STOP,R0                   ;
15923 00002908 D009                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15924 0000290A 400B                   M           JSR     @R0                     ;
15925 0000290C 0009                   M           NOP                                     ;
15926                            6125     
15927 0000290E 200A              6126             XOR     R0,R0                           ;
15928 00002910 D106              6127             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15929 00002912 2101              6128             MOV.W   R0,@R1                          ;
15930                            6129                                                     ;BIT7が変化するときにCALL
15931 00002914 D107              6130             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15932 00002916 2101              6131             MOV.W   R0,@R1                          ;2011-09-14
15933                            6132             .AIF    1 EQ    0       ;
15934                            6133             FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15935                            6134             .AENDI
15936                            6135     
15937 00002918 200A              6136             XOR     R0,R0
15938 0000291A D107              6137             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15939 0000291C 2101              6138             MOV.W   R0,@R1
15940 0000291E D107              6139             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
15941 00002920 2101              6140             MOV.W   R0,@R1
15942                            6141     
15943                            6142             M_BRA   BRKTST_CTL_190
15944 00002922 A012                   M           BRA     BRKTST_CTL_190
15945 00002924 0009                   M           NOP
15946                            6143     
15947                            6144     ;       --------- 正常完了状態でoffされた----------
15948                                     ***** BEGIN-POOL *****
15949 00002926 3490                       DATA FOR SOURCE-LINE 6123
15950 00002928 00000000                   DATA FOR SOURCE-LINE 6108
15951 0000292C 00000000                   DATA FOR SOURCE-LINE 6113,6127
15952 00002930 00000000                   DATA FOR SOURCE-LINE 6124
15953 00002934 00000000                   DATA FOR SOURCE-LINE 6130
15954 00002938 00000000                   DATA FOR SOURCE-LINE 6137
15955 0000293C 00000000                   DATA FOR SOURCE-LINE 6139
15956                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   177
PROGRAM NAME =

15957 00002940                   6145     BRKTST_CTL_150:
15958                            6146     
15959 00002940 9005              6147             MOV.W   #BIT7,R0                        ;
15960 00002942 D103              6148             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15961 00002944 2101              6149             MOV.W   R0,@R1                          ;
15962                            6150                                                     ;BIT7が変化するときにCALL
15963 00002946 D103              6151             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15964 00002948 2101              6152             MOV.W   R0,@R1                          ;2011-09-14
15965                            6153             .AIF    1 EQ    0       ;
15966                            6154             FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15967                            6155             .AENDI
15968                            6156     
15969                            6157     
15970 0000294A                   6158     BRKTST_CTL_190:
15971                            6159             M_BRA   BRKTST_CTL_900                  ;
15972 0000294A A0AB                   M           BRA     BRKTST_CTL_900
15973 0000294C 0009                   M           NOP
15974                            6160     
15975                            6161     ;       -------------起動待ち(BIT1=0),起動中(),停止判定待ち-----------------
15976                                     ***** BEGIN-POOL *****
15977 0000294E 0080                       DATA FOR SOURCE-LINE 6147
15978 00002950 00000000                   DATA FOR SOURCE-LINE 6148
15979 00002954 00000000                   DATA FOR SOURCE-LINE 6151
15980                                     ***** END-POOL *****
15981 00002958                   6162     BRKTST_CTL_200:
15982 00002958 D102              6163             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15983 0000295A 6011              6164             MOV.W   @R1,R0                          ;
15984                            6165     
15985 0000295C C808              6166             TST     #BIT3,R0                        ;
15986                            6167             TST_BIT_OF BRKTST_CTL_220               ;
15987 0000295E 8903                   M           BT      BRKTST_CTL_220
15988                            6168             M_BRA   BRKTST_CTL_500                  ;[停止完了]
15989 00002960 A090                   M           BRA     BRKTST_CTL_500
15990 00002962 0009                   M           NOP
15991                            6169     
15992                                     ***** BEGIN-POOL *****
15993 00002964 00000000                   DATA FOR SOURCE-LINE 6163
15994                                     ***** END-POOL *****
15995 00002968                   6170     BRKTST_CTL_220:
15996 00002968 C804              6171             TST     #BIT2,R0                        ;
15997                            6172             TST_BIT_ON BRKTST_CTL_400               ;
15998 0000296A 8B6D                   M           BF      BRKTST_CTL_400
15999 0000296C C802              6173             TST     #BIT1,R0                        ;
16000                            6174             TST_BIT_ON BRKTST_CTL_300               ;
16001 0000296E 8B35                   M           BF      BRKTST_CTL_300
16002                            6175     
16003                            6176     ;       ---- 起動待ち[BIT1=0]-----
16004                            6177     
16005                            6178     ;       ===============準備完了・未完了処置===========
16006                            6179     ;       --- 2010-10-22 ---------
16007                            6180             FAR_JSR #_BRKTST_RDY_CHK,R0             ;
16008 00002970 D003                   M           MOV.L   #_BRKTST_RDY_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16009 00002972 400B                   M           JSR     @R0                     ;
16010 00002974 0009                   M           NOP                                     ;
16011                            6181     
16012 00002976 2008              6182             TST     R0,R0                           ;
16013                            6183             TST_BIT_OF BRKTST_CTL_250               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   178
PROGRAM NAME =

16014 00002978 8904                   M           BT      BRKTST_CTL_250
16015                            6184             M_BRA   BRKTST_CTL_290                  ;RDY-OFFまたはrdy-onだが(起動不可)
16016 0000297A A024                   M           BRA     BRKTST_CTL_290
16017 0000297C 0009                   M           NOP
16018                            6185     
16019                            6186     ;       ---------- 準備完了で”起動受付可能”な状況
16020                                     ***** BEGIN-POOL *****
16021 0000297E 0000                       ALIGNMENT CODE
16022 00002980 00000000                   DATA FOR SOURCE-LINE 6180
16023                                     ***** END-POOL *****
16024 00002984                   6187     BRKTST_CTL_250:
16025                            6188     
16026                            6189             FAR_JSR #_BTTN_START_CHK,R0     ;
16027 00002984 D005                   M           MOV.L   #_BTTN_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16028 00002986 400B                   M           JSR     @R0                     ;
16029 00002988 0009                   M           NOP                                     ;
16030 0000298A 2008              6190             TST     R0,R0                   ;
16031                            6191             TST_BIT_OF BRKTST_CTL_290       ;変化なし
16032 0000298C 891B                   M           BT      BRKTST_CTL_290
16033 0000298E 8855              6192             CMP/EQ  #H'55,R0                ;
16034 00002990 8908              6193             BT      BRKTST_CTL_260          ;起動
16035                            6194     
16036                            6195     ;       ---------- 失敗-----------
16037                            6196             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16038 00002992 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16039 00002994 400B                   M           JSR     @R0                     ;
16040 00002996 0009                   M           NOP                                     ;
16041                            6197             M_BRA   BRKTST_CTL_290                  ;
16042 00002998 A015                   M           BRA     BRKTST_CTL_290
16043 0000299A 0009                   M           NOP
16044                            6198     
16045                            6199     
16046                                     ***** BEGIN-POOL *****
16047 0000299C 00000000                   DATA FOR SOURCE-LINE 6189
16048 000029A0 00000000                   DATA FOR SOURCE-LINE 6196
16049                                     ***** END-POOL *****
16050 000029A4                   6200     BRKTST_CTL_260:
16051                            6201             FAR_JSR #_DRV_START_KEP_WAIT,R0                         ;
16052 000029A4 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16053 000029A6 400B                   M           JSR     @R0                     ;
16054 000029A8 0009                   M           NOP                                     ;
16055 000029AA 2008              6202             TST     R0,R0                                           ;
16056                            6203             TST_BIT_OF BRKTST_CTL_290                               ;
16057 000029AC 890B                   M           BT      BRKTST_CTL_290
16058 000029AE 8855              6204             CMP/EQ  #H'55,R0
16059 000029B0 8B09              6205             BF      BRKTST_CTL_290                                  ;"1"ﾛｯｸ解除中待ち
16060                            6206     
16061                            6207             FAR_JSR #_BRKTST_CHKDT_MAK,R0
16062 000029B2 D007                   M           MOV.L   #_BRKTST_CHKDT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16063 000029B4 400B                   M           JSR     @R0                     ;
16064 000029B6 0009                   M           NOP                                     ;
16065                            6208             FAR_JSR #_BRKTST_MOTOR_START,R0                                         ;起動
16066 000029B8 D006                   M           MOV.L   #_BRKTST_MOTOR_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16067 000029BA 400B                   M           JSR     @R0                     ;
16068 000029BC 0009                   M           NOP                                     ;
16069                            6209             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
16070 000029BE D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   179
PROGRAM NAME =

16071 000029C0 6011                   M           MOV.W   @R1,R0          ;
16072 000029C2 CB02                   M           OR      #BIT1,R0                ;
16073 000029C4 2101                   M           MOV.W   R0,@R1          ;
16074 000029C6                   6210     BRKTST_CTL_290:
16075                            6211             M_BRA   BRKTST_CTL_900                                                  ;
16076 000029C6 A06D                   M           BRA     BRKTST_CTL_900
16077 000029C8 0009                   M           NOP
16078                            6212     
16079                            6213     ;       ----------------------------------------
16080                                     ***** BEGIN-POOL *****
16081 000029CA 0000                       ALIGNMENT CODE
16082 000029CC 00000000                   DATA FOR SOURCE-LINE 6201
16083 000029D0 00000000                   DATA FOR SOURCE-LINE 6207
16084 000029D4 00000000                   DATA FOR SOURCE-LINE 6208
16085 000029D8 00000000                   DATA FOR SOURCE-LINE 6209
16086                                     ***** END-POOL *****
16087 000029DC                   6214     BRKTST_CTL_300:
16088                            6215     ;       ------ 98%CHKCK----
16089                            6216             FAR_JSR #_BRKTST_SPD_CHK,R0
16090 000029DC D008                   M           MOV.L   #_BRKTST_SPD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16091 000029DE 400B                   M           JSR     @R0                     ;
16092 000029E0 0009                   M           NOP                                     ;
16093                            6217     
16094                            6218     ;       ---- 起動中・停止指令待ち[BIT2=0]-----
16095                            6219     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
16096 000029E2 D108              6220             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
16097 000029E4 6011              6221             MOV.W   @R1,R0                                                          ;
16098 000029E6 C802              6222             TST     #BIT1,R0                                                        ;349.1(停
                                          止指令)
16099                            6223             TST_BIT_OF BRKTST_CTL_350                                               ;
16100 000029E8 8912                   M           BT      BRKTST_CTL_350
16101 000029EA 9408              6224             MOV.W   #H'3491,R4                                                      ;2010-12-2
                                          1
16102                            6225             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
16103 000029EC D006                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16104 000029EE 400B                   M           JSR     @R0                     ;
16105 000029F0 0009                   M           NOP                                     ;
16106                            6226             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT2,WKREG=R1      ;ちゃんと
                                          した停止
16107 000029F2 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16108 000029F4 6011                   M           MOV.W   @R1,R0          ;
16109 000029F6 CB04                   M           OR      #BIT2,R0                ;
16110 000029F8 2101                   M           MOV.W   R0,@R1          ;
16111                            6227             M_BRA   BRKTST_CTL_390
16112 000029FA A01A                   M           BRA     BRKTST_CTL_390
16113 000029FC 0009                   M           NOP
16114                            6228     
16115                                     ***** BEGIN-POOL *****
16116 000029FE 3491                       DATA FOR SOURCE-LINE 6224
16117 00002A00 00000000                   DATA FOR SOURCE-LINE 6216
16118 00002A04 00000000                   DATA FOR SOURCE-LINE 6220
16119 00002A08 00000000                   DATA FOR SOURCE-LINE 6225
16120 00002A0C 00000000                   DATA FOR SOURCE-LINE 6226
16121                                     ***** END-POOL *****
16122 00002A10                   6229     BRKTST_CTL_350:
16123 00002A10 D109              6230             MOV.L   #_BTTN_FLG,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   180
PROGRAM NAME =

16124 00002A12 6011              6231             MOV.W   @R1,R0                          ;
16125 00002A14 C804              6232             TST     #BIT2,R0                        ;両手ON
16126                            6233             TST_BIT_OF BRKTST_CTL_360               ;両手ONでない
16127 00002A16 8904                   M           BT      BRKTST_CTL_360
16128                            6234     
16129                            6235             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
16130 00002A18 D008                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16131 00002A1A 400B                   M           JSR     @R0                     ;
16132 00002A1C 0009                   M           NOP                                     ;
16133 00002A1E 2008              6236             TST     R0,R0                           ;
16134                            6237             TST_BIT_OF BRKTST_CTL_390               ;
16135 00002A20 8907                   M           BT      BRKTST_CTL_390
16136                            6238     
16137 00002A22                   6239     BRKTST_CTL_360                                  ;両手ONでない
16138 00002A22 9408              6240             MOV.W   #H'3492,R4                      ;2010-12-21
16139                            6241     ;;;;    FAR_JSR #_BRKTST_MOTOR_STOP,R0          ;動作中に運転釦を離したまたは異常が発生し
                                          た
16140                            6242             FAR_JSR #_EMG_STOP,R0                   ;
16141 00002A24 D006                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16142 00002A26 400B                   M           JSR     @R0                     ;
16143 00002A28 0009                   M           NOP                                     ;
16144                            6243             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT5+BIT2),WKREG=R1       ;B
                                          IT5異常
16145 00002A2A D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16146 00002A2C 6011                   M           MOV.W   @R1,R0          ;
16147 00002A2E CB24                   M           OR      #(BIT5+BIT2),R0         ;
16148 00002A30 2101                   M           MOV.W   R0,@R1          ;
16149 00002A32                   6244     BRKTST_CTL_390:
16150                            6245             M_BRA   BRKTST_CTL_900                  ;
16151 00002A32 A037                   M           BRA     BRKTST_CTL_900
16152 00002A34 0009                   M           NOP
16153                            6246     
16154                            6247     
16155                            6248     
16156                            6249     
16157                            6250     ;       ----------------------------------------
16158                                     ***** BEGIN-POOL *****
16159 00002A36 3492                       DATA FOR SOURCE-LINE 6240
16160 00002A38 00000000                   DATA FOR SOURCE-LINE 6230
16161 00002A3C 00000000                   DATA FOR SOURCE-LINE 6235
16162 00002A40 00000000                   DATA FOR SOURCE-LINE 6242
16163 00002A44 00000000                   DATA FOR SOURCE-LINE 6243
16164                                     ***** END-POOL *****
16165 00002A48                   6251     BRKTST_CTL_400:
16166                            6252     ;       ---- 停止指令ON 停止判定待ち[BIT3=0]-----
16167 00002A48 D10B              6253             MOV.L   #_STOPPING_TIM_FLG,R1                                           ;
16168 00002A4A 6011              6254             MOV.W   @R1,R0
16169 00002A4C C840              6255             TST     #BIT6,R0                                                        ;
16170                            6256             TST_BIT_OF BRKTST_CTL_490                                               ;
16171 00002A4E 8910                   M           BT      BRKTST_CTL_490
16172                            6257     
16173                            6258             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT3,WKREG=R1      ;[停止完了
                                          ]
16174 00002A50 D10A                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16175 00002A52 6011                   M           MOV.W   @R1,R0          ;
16176 00002A54 CB08                   M           OR      #BIT3,R0                ;
16177 00002A56 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   181
PROGRAM NAME =

16178                            6259     
16179                            6260     
16180                            6261     ;;;;    MOV.L   #_SQ_CBWK_TOP+_WKSQCB212,R1
16181                            6262     ;;;;    MOV.W   @R1,R0
16182                            6263     ;;;;    MOV.W   #(BIT9+BIT8),R4                                                 ;
16183                            6264     
16184 00002A58 D109              6265             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1
16185 00002A5A 6011              6266             MOV.W   @R1,R0
16186 00002A5C 940B              6267             MOV.W   #(BIT15+BIT14),R4                                                       ;
16187 00002A5E 2048              6268             TST     R4,R0                                                           ;
16188                            6269             TST_BIT_ON BRKTST_CTL_450                                               ;
16189 00002A60 8B03                   M           BF      BRKTST_CTL_450
16190                            6270     
16191 00002A62 D106              6271             MOV.L   #_BRKTST_MOD_FLG,R1                                             ;
16192 00002A64 6011              6272             MOV.W   @R1,R0                                                          ;
16193 00002A66 C810              6273             TST     #BIT4,R0                                                        ;
16194                            6274             TST_BIT_ON BRKTST_CTL_490                                               ;速度到達
16195 00002A68 8B03                   M           BF      BRKTST_CTL_490
16196                            6275     
16197 00002A6A                   6276     BRKTST_CTL_450:
16198                            6277             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT5,WKREG=R1      ;停止ｵｰﾊﾞ
16199 00002A6A D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16200 00002A6C 6011                   M           MOV.W   @R1,R0          ;
16201 00002A6E CB20                   M           OR      #BIT5,R0                ;
16202 00002A70 2101                   M           MOV.W   R0,@R1          ;
16203                            6278     
16204 00002A72                   6279     BRKTST_CTL_490:
16205                            6280             M_BRA   BRKTST_CTL_900                  ;
16206 00002A72 A017                   M           BRA     BRKTST_CTL_900
16207 00002A74 0009                   M           NOP
16208                            6281     
16209                            6282     
16210                            6283     ;       ---------[正常に停止完了した 異常にして、リセットを待つ]-----------------
16211                                     ***** BEGIN-POOL *****
16212 00002A76 C000                       DATA FOR SOURCE-LINE 6267
16213 00002A78 00000000                   DATA FOR SOURCE-LINE 6253
16214 00002A7C 00000000                   DATA FOR SOURCE-LINE 6258,6271,6277
16215 00002A80 00000000                   DATA FOR SOURCE-LINE 6265
16216                                     ***** END-POOL *****
16217 00002A84                   6284     BRKTST_CTL_500:
16218 00002A84 9408              6285             MOV.W   #H'3493,R4                                                      ;2010-12-2
                                          1
16219                            6286             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
16220 00002A86 D005                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16221 00002A88 400B                   M           JSR     @R0                     ;
16222 00002A8A 0009                   M           NOP                                     ;
16223                            6287             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
16224 00002A8C D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16225 00002A8E 6011                   M           MOV.W   @R1,R0          ;
16226 00002A90 CB40                   M           OR      #BIT6,R0                ;
16227 00002A92 2101                   M           MOV.W   R0,@R1          ;
16228                            6288             M_BRA   BRKTST_CTL_900                                                  ;
16229 00002A94 A006                   M           BRA     BRKTST_CTL_900
16230 00002A96 0009                   M           NOP
16231                            6289     
16232                            6290     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   182
PROGRAM NAME =

16233                            6291     
16234                            6292     ;       ---------------------------------------------
16235                                     ***** BEGIN-POOL *****
16236 00002A98 3493                       DATA FOR SOURCE-LINE 6285
16237 00002A9A 0000                       ALIGNMENT CODE
16238 00002A9C 00000000                   DATA FOR SOURCE-LINE 6286
16239 00002AA0 00000000                   DATA FOR SOURCE-LINE 6287
16240                                     ***** END-POOL *****
16241 00002AA4                   6293     BRKTST_CTL_900:
16242                            6294     
16243 00002AA4 D10C              6295             MOV.L   #_BRKTST_MOD_FLG,R1             ;
16244 00002AA6 6011              6296             MOV.W   @R1,R0                          ;
16245 00002AA8 D10C              6297             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1     ;
16246 00002AAA 6211              6298             MOV.W   @R1,R2                          ;
16247 00002AAC 9411              6299             MOV.W   #H'FF00,R4                      ;
16248 00002AAE 2249              6300             AND     R4,R2
16249 00002AB0 6447              6301             NOT     R4,R4
16250 00002AB2 2049              6302             AND     R4,R0
16251 00002AB4 220B              6303             OR      R0,R2
16252 00002AB6 2121              6304             MOV.W   R2,@R1                          ;
16253                            6305     
16254                            6306     
16255                            6307     
16256                            6308     
16257                            6309     ;       -----------ﾌﾞﾚｰｷﾃｽﾄ時にｽﾄｯﾋﾟﾝｸﾞﾀｲﾏﾘｾｯﾄ
16258 00002AB8 D109              6310             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更
16259 00002ABA 6011              6311             MOV.W   @R1,R0                  ;
16260 00002ABC 940A              6312             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
16261 00002ABE 2048              6313             TST     R4,R0                   ;ONｴｯｼﾞ
16262                            6314             TST_BIT_OF BRKTST_CTL_950       ;
16263 00002AC0 8904                   M           BT      BRKTST_CTL_950
16264                            6315             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB229,LG=W,BIT=~(BIT15+BIT14+BIT13+BIT12),
                                          WKRG1=R1,WKRG2=R4       ;
16265 00002AC2 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1             ;
16266 00002AC4 6011                   M           MOV.W   @R1,R0          ;
16267 00002AC6 9406                   M           MOV.W   #LWORD ~(BIT15+BIT14+BIT13+BIT12),R4    ;
16268 00002AC8 2049                   M           AND     R4,R0           ;
16269 00002ACA 2101                   M           MOV.W   R0,@R1          ;
16270 00002ACC                   6316     BRKTST_CTL_950:
16271                            6317     
16272                            6318     
16273                            6319             SUB_END
16274                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16275 00002ACC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16276                            6320             M_RTS
16277 00002ACE 000B                   M           RTS                             ;RTSの後ろの
16278 00002AD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16279                            6321     
16280                            6322     
16281                            6323     
16282                            6324     ;       ***********************************
16283                            6325     ;       ***                             ***
16284                            6326     ;       ***     制動モード条件          ***
16285                            6327     ;       ***                             ***
16286                            6328     ;       ***********************************
16287                            6329     ;ANS:R0=0 NOMAL
16288                            6330     ;    R0=-1 ERR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   183
PROGRAM NAME =

16289                                     ***** BEGIN-POOL *****
16290 00002AD2 FF00                       DATA FOR SOURCE-LINE 6299
16291 00002AD4 8000                       DATA FOR SOURCE-LINE 6312
16292 00002AD6 0FFF                       DATA FOR SOURCE-LINE 6315
16293 00002AD8 00000000                   DATA FOR SOURCE-LINE 6295
16294 00002ADC 00000000                   DATA FOR SOURCE-LINE 6297,6315
16295 00002AE0 00000000                   DATA FOR SOURCE-LINE 6310
16296                                     ***** END-POOL *****
16297 00002AE4                   6331     _BRKTST_MODE_CONF:
16298                            6332             SUB_START
16299 00002AE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16300                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16301                            6333     
16302 00002AE6 E2FF              6334             MOV.B   #-1,R2                                  ;
16303                            6335     
16304                            6336     ;;;;2011-09-14  MOV.L   #_INP_MODE,R1                           ;
16305                            6337     ;;;;;   MOV.W   @R1,R0                                  ;
16306                            6338     ;;;;2010-08     TST     #_W1DUP,R0                              ;上死点復帰
16307                            6339     ;;;;2011-09-14  TST     #_W1DIC,R0                              ;段取寸動
16308                            6340     ;;;;2011-09-14  TST_BIT_OF BRKTST_MOD_CF_END                    ;NO END[[[[[[[ここは実行さ
                                          れない CMDを落とすから]]]]]
16309                            6341     
16310 00002AE8 D105              6342             MOV.L   #_emg_err_flg,R1                        ;//異常ﾗｯﾁ
16311 00002AEA 6011              6343             MOV.W   @R1,R0                                  ;
16312 00002AEC D105              6344             MOV.L   #_exq_err_flg,R1                        ;//異常ﾗｯﾁ
16313 00002AEE 6311              6345             MOV.W   @R1,R3                                  ;
16314 00002AF0 203B              6346             OR      R3,R0                                   ;
16315 00002AF2 2008              6347             TST     R0,R0                                   ;
16316                            6348             TST_BIT_ON BRKTST_MOD_CF_END                    ;
16317 00002AF4 8B00                   M           BF      BRKTST_MOD_CF_END
16318                            6349     
16319 00002AF6 222A              6350             XOR     R2,R2                                   ;
16320 00002AF8                   6351     BRKTST_MOD_CF_END:
16321 00002AF8 6023              6352             MOV     R2,R0                                   ;
16322                            6353             SUB_END
16323                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16324 00002AFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16325                            6354             M_RTS
16326 00002AFC 000B                   M           RTS                             ;RTSの後ろの
16327 00002AFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16328                            6355     
16329                            6356     ;       *******************************************
16330                            6357     ;       ***                                     ***
16331                            6358     ;       ***                                     ***
16332                            6359     ;       ***                                     ***
16333                            6360     ;       *******************************************
16334                                     ***** BEGIN-POOL *****
16335 00002B00 00000000                   DATA FOR SOURCE-LINE 6342
16336 00002B04 00000000                   DATA FOR SOURCE-LINE 6344
16337                                     ***** END-POOL *****
16338 00002B08                   6361             .ALIGN  4
16339 00002B08                   6362     _BRKTST_INPUT_MAK:
16340                            6363             SUB_START
16341 00002B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
16342                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16343                            6364     ;       -------- 2011-09-14---
16344 00002B0A D10A              6365             MOV.L   #_INP_MODE,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   184
PROGRAM NAME =

16345 00002B0C 6011              6366             MOV.W   @R1,R0                                  ;
16346 00002B0E C804              6367             TST     #_W1SGL,R0                              ;安全一行程SW
16347                            6368             TST_BIT_OF BRKTST_INPUTMK_100                   ;
16348 00002B10 891A                   M           BT      BRKTST_INPUTMK_100
16349                            6369     
16350 00002B12 D109              6370             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
16351 00002B14 6011              6371             MOV.W   @R1,R0                                  ;
16352 00002B16 C810              6372             TST     #_W1OPT,R0                              ;OPT
16353                            6373             TST_BIT_ON BRKTST_INPUTMK_100                   ;OPTIONの安全でした
16354 00002B18 8B16                   M           BF      BRKTST_INPUTMK_100
16355                            6374     
16356                            6375     ;;;;    MOV.L   #_CB_SEQ_CB_COM349,R1                           ;これは本当は違う　安全装
                                          置入／切
16357                            6376     ;;;;    MOV.W   @R1,R0                                          ;
16358                            6377     ;;;;    TST     #BIT0,R0                                        ;
16359                            6378     ;;;;    TST_BIT_OF BRKTST_INPUTMK_100                           ;
16360                            6379     
16361 00002B1A D108              6380             MOV.L   #_BRKTST_SW_IN,R1                               ;
16362 00002B1C 6011              6381             MOV.W   @R1,R0                                          ;
16363 00002B1E C801              6382             TST     #BIT0,R0                                        ;
16364                            6383             TST_BIT_OF BRKTST_INPUTMK_100                           ;BIT0=BIT1=1でくる
16365 00002B20 8912                   M           BT      BRKTST_INPUTMK_100
16366                            6384     
16367                            6385             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_INPUT_CMD,LG=W,BIT=(BIT0),WKREG=R1  ;[安全一行
                                          程のみonする]
16368 00002B22 D107                   M           MOV.L   #_BRKTST_INPUT_CMD,R1           ;
16369 00002B24 6011                   M           MOV.W   @R1,R0          ;
16370 00002B26 CB01                   M           OR      #(BIT0),R0              ;
16371 00002B28 2101                   M           MOV.W   R0,@R1          ;
16372                            6386             FAR_JSR #_BRKTST_STOPSIG_MAKE,R0                                        ;
16373 00002B2A D006                   M           MOV.L   #_BRKTST_STOPSIG_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16374 00002B2C 400B                   M           JSR     @R0                     ;
16375 00002B2E 0009                   M           NOP                                     ;
16376                            6387             M_BRA   BRKTST_INPUTMK_200                                              ;
16377 00002B30 A00F                   M           BRA     BRKTST_INPUTMK_200
16378 00002B32 0009                   M           NOP
16379                            6388     
16380                                     ***** BEGIN-POOL *****
16381 00002B34 00000000                   DATA FOR SOURCE-LINE 6365
16382 00002B38 00000000                   DATA FOR SOURCE-LINE 6370
16383 00002B3C 00000000                   DATA FOR SOURCE-LINE 6380
16384 00002B40 00000000                   DATA FOR SOURCE-LINE 6385
16385 00002B44 00000000                   DATA FOR SOURCE-LINE 6386
16386                                     ***** END-POOL *****
16387 00002B48                   6389     BRKTST_INPUTMK_100:
16388 00002B48 200A              6390             XOR     R0,R0                                   ;
16389 00002B4A D103              6391             MOV.L   #_BRKTST_INPUT_CMD,R1                   ;2011-09-14
16390 00002B4C 2101              6392             MOV.W   R0,@R1                                  ;
16391 00002B4E D103              6393             MOV.L   #_BRKTST_STR_FLG,R1                     ;
16392 00002B50 2101              6394             MOV.W   R0,@R1                                  ;
16393                            6395     
16394 00002B52                   6396     BRKTST_INPUTMK_200:
16395                            6397     
16396                            6398             SUB_END
16397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16398 00002B52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16399                            6399             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   185
PROGRAM NAME =

16400 00002B54 000B                   M           RTS                             ;RTSの後ろの
16401 00002B56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16402                            6400     
16403                            6401     
16404                            6402     
16405                            6403     ;       ***********************************
16406                            6404     ;       ***                             ***
16407                            6405     ;       ***     制動試験準備完了条件    ***
16408                            6406     ;       ***     2010-10-22              ***
16409                            6407     ;       ***********************************
16410                            6408     ;ANS:R0=0 RDY-ON
16411                            6409     ;    R0=-1 RDY-OFF
16412                            6410     ;       FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
16413                                     ***** BEGIN-POOL *****
16414 00002B58 00000000                   DATA FOR SOURCE-LINE 6391
16415 00002B5C 00000000                   DATA FOR SOURCE-LINE 6393
16416                                     ***** END-POOL *****
16417 00002B60                   6411     _BRKTST_RDY_CHK:
16418                            6412             SUB_START
16419 00002B60 4F22                   M           STS.L   PR,@-R15                ;[必要]
16420                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16421                            6413     
16422                            6414     ;       ===========================
16423                            6415     ;       ===     安全装置ﾏｽｸ     ===
16424                            6416     ;       ===========================
16425                            6417     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
16426                            6418     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
16427                            6419     
16428                            6420     ;;;;_BRK_SADOU_CHG 2015-09-06[MCは後から修正]
16429                            6421     ;;;     FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23
16430                            6422     
16431                            6423     ;       -------- 2015-09-06---------
16432 00002B62 D104              6424             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
16433 00002B64 6011              6425             MOV.W   @R1,R0                                                  ;
16434 00002B66 8801              6426             CMP/EQ  #1,R0
16435 00002B68 8908              6427             BT      BRKTST_RDY_SFTY_MASK2CHK055                                     ;停止制御
                                          有効
16436                            6428     
16437                            6429             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
16438 00002B6A D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16439 00002B6C 400B                   M           JSR     @R0                     ;
16440 00002B6E 0009                   M           NOP                                     ;
16441                            6430             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100                                     ;
16442 00002B70 A015                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16443 00002B72 0009                   M           NOP
16444                            6431     
16445                                     ***** BEGIN-POOL *****
16446 00002B74 00000000                   DATA FOR SOURCE-LINE 6424
16447 00002B78 00000000                   DATA FOR SOURCE-LINE 6429
16448                                     ***** END-POOL *****
16449 00002B7C                   6432     BRKTST_RDY_SFTY_MASK2CHK055:
16450                            6433     
16451 00002B7C D104              6434             MOV.L   #_DRV_START_KEEP,R1
16452 00002B7E 6011              6435             MOV.W   @R1,R0                          ;
16453 00002B80 C801              6436             TST     #BIT0,R0                        ;
16454                            6437             TST_BIT_ON BRKTST_RDY_SFTY_MASK2CHK060          ;
16455 00002B82 8B09                   M           BF      BRKTST_RDY_SFTY_MASK2CHK060
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   186
PROGRAM NAME =

16456                            6438     
16457                            6439             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
16458 00002B84 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16459 00002B86 400B                   M           JSR     @R0                     ;
16460 00002B88 0009                   M           NOP                                     ;
16461                            6440             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100             ;
16462 00002B8A A008                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16463 00002B8C 0009                   M           NOP
16464                            6441     
16465                                     ***** BEGIN-POOL *****
16466 00002B8E 0000                       ALIGNMENT CODE
16467 00002B90 00000000                   DATA FOR SOURCE-LINE 6434
16468 00002B94 00000000                   DATA FOR SOURCE-LINE 6439
16469                                     ***** END-POOL *****
16470 00002B98                   6442     BRKTST_RDY_SFTY_MASK2CHK060:
16471                            6443             FAR_JSR #_SFTY_MASK_END,R0              ;
16472 00002B98 D011                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16473 00002B9A 400B                   M           JSR     @R0                     ;
16474 00002B9C 0009                   M           NOP                                     ;
16475 00002B9E                   6444     BRKTST_RDY_SFTY_MASK2CHK100:
16476                            6445     
16477                            6446     
16478                            6447     
16479 00002B9E D111              6448             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
16480 00002BA0 6011              6449             MOV.W   @R1,R0                  ;
16481 00002BA2 C820              6450             TST     #_WORDY,R0              ;RDY
16482                            6451             TST_BIT_ON BRKTST_RDYCK_0200    ;(準備完了ON)
16483 00002BA4 8B2E                   M           BF      BRKTST_RDYCK_0200
16484                            6452     
16485                            6453     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
16486                            6454     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;
16487                            6455     
16488                            6456             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16489 00002BA6 D010                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16490 00002BA8 400B                   M           JSR     @R0                     ;
16491 00002BAA 0009                   M           NOP                                     ;
16492 00002BAC 2008              6457             TST     R0,R0                   ;
16493                            6458             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16494 00002BAE 8B41                   M           BF      BRKTST_RDYCHK_OFF
16495                            6459     
16496 00002BB0 D10E              6460             MOV.L   #_BTTN_FLG,R1           ;
16497 00002BB2 6011              6461             MOV.W   @R1,R0                  ;
16498 00002BB4 C801              6462             TST     #BIT0,R0                ;両手ﾌﾘ?
16499                            6463             TST_BIT_OF BRKTST_RDYCHK_OFF    ;
16500 00002BB6 893D                   M           BT      BRKTST_RDYCHK_OFF
16501                            6464     
16502 00002BB8 200A              6465             XOR     R0,R0
16503 00002BBA D10D              6466             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
16504 00002BBC 2101              6467             MOV.W   R0,@R1                  ;
16505                            6468     
16506 00002BBE 920E              6469             MOV.W   #_SYS_BSAME_TIM,R2      ;
16507 00002BC0 D10C              6470             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
16508 00002BC2 2121              6471             MOV.W   R2,@R1                  ;
16509                            6472     
16510                            6473             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0          ;
16511 00002BC4 D00C                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16512 00002BC6 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   187
PROGRAM NAME =

16513 00002BC8 0009                   M           NOP                                     ;
16514                            6474             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
16515 00002BCA D00C                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16516 00002BCC 400B                   M           JSR     @R0                     ;
16517 00002BCE 0009                   M           NOP                                     ;
16518 00002BD0 2008              6475             TST     R0,R0                           ;
16519                            6476             TST_BIT_OF BRKTST_RDYCK_0198            ;WAIT
16520 00002BD2 8902                   M           BT      BRKTST_RDYCK_0198
16521                            6477             FAR_JSR #_RDY_ON,R1                     ;準備完了へ遷移
16522 00002BD4 D10A                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16523 00002BD6 410B                   M           JSR     @R1                     ;
16524 00002BD8 0009                   M           NOP                                     ;
16525 00002BDA                   6478     BRKTST_RDYCK_0198:                              ;
16526                            6479             M_BRA   BRKTST_RDYCHK_START_WAIT        ;RDY-ON待ち
16527 00002BDA A02E                   M           BRA     BRKTST_RDYCHK_START_WAIT
16528 00002BDC 0009                   M           NOP
16529                            6480     
16530                            6481     
16531                            6482     
16532                            6483     ;       -------準備完了状態
16533                                     ***** BEGIN-POOL *****
16534 00002BDE 01F4                       DATA FOR SOURCE-LINE 6469
16535 00002BE0 00000000                   DATA FOR SOURCE-LINE 6443
16536 00002BE4 00000000                   DATA FOR SOURCE-LINE 6448
16537 00002BE8 00000000                   DATA FOR SOURCE-LINE 6456
16538 00002BEC 00000000                   DATA FOR SOURCE-LINE 6460
16539 00002BF0 00000000                   DATA FOR SOURCE-LINE 6466
16540 00002BF4 00000000                   DATA FOR SOURCE-LINE 6470
16541 00002BF8 00000000                   DATA FOR SOURCE-LINE 6473
16542 00002BFC 00000000                   DATA FOR SOURCE-LINE 6474
16543 00002C00 00000000                   DATA FOR SOURCE-LINE 6477
16544                                     ***** END-POOL *****
16545 00002C04                   6484     BRKTST_RDYCK_0200       ;(準備完了ON状態)
16546                            6485             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16547 00002C04 D003                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16548 00002C06 400B                   M           JSR     @R0                     ;
16549 00002C08 0009                   M           NOP                                     ;
16550 00002C0A 2008              6486             TST     R0,R0                   ;
16551                            6487             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16552 00002C0C 8B12                   M           BF      BRKTST_RDYCHK_OFF
16553                            6488             M_BRA   BRKTST_RDYCHK_ON        ;
16554 00002C0E A003                   M           BRA     BRKTST_RDYCHK_ON
16555 00002C10 0009                   M           NOP
16556                            6489     
16557                            6490     
16558                                     ***** BEGIN-POOL *****
16559 00002C12 0000                       ALIGNMENT CODE
16560 00002C14 00000000                   DATA FOR SOURCE-LINE 6485
16561                                     ***** END-POOL *****
16562 00002C18                   6491     BRKTST_RDYCHK_ON:
16563                            6492             FAR_JSR #_RDY_ON,R1                                     ;
16564 00002C18 D104                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16565 00002C1A 410B                   M           JSR     @R1                     ;
16566 00002C1C 0009                   M           NOP                                     ;
16567                            6493             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0                          ;
16568 00002C1E D004                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16569 00002C20 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   188
PROGRAM NAME =

16570 00002C22 0009                   M           NOP                                     ;
16571 00002C24 255A              6494             XOR     R5,R5                                           ;
16572                            6495             M_BRA   BRKTST_RDYCHK_END                               ;
16573 00002C26 A009                   M           BRA     BRKTST_RDYCHK_END
16574 00002C28 0009                   M           NOP
16575                            6496     
16576                            6497     
16577                            6498     
16578                                     ***** BEGIN-POOL *****
16579 00002C2A 0000                       ALIGNMENT CODE
16580 00002C2C 00000000                   DATA FOR SOURCE-LINE 6492
16581 00002C30 00000000                   DATA FOR SOURCE-LINE 6493
16582                                     ***** END-POOL *****
16583 00002C34                   6499     BRKTST_RDYCHK_OFF:
16584                            6500             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16585 00002C34 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16586 00002C36 400B                   M           JSR     @R0                     ;
16587 00002C38 0009                   M           NOP                                     ;
16588 00002C3A                   6501     BRKTST_RDYCHK_START_WAIT:
16589 00002C3A E5FF              6502             MOV     #-1,R5                                          ;起動受付不可
16590 00002C3C                   6503     BRKTST_RDYCHK_END:
16591 00002C3C 6053              6504             MOV     R5,R0                                           ;
16592                            6505     
16593                            6506             SUB_END
16594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16595 00002C3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16596                            6507             M_RTS
16597 00002C40 000B                   M           RTS                             ;RTSの後ろの
16598 00002C42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16599                            6508     
16600                            6509     
16601                                     ***** BEGIN-POOL *****
16602 00002C44 00000000                   DATA FOR SOURCE-LINE 6500
16603                                     ***** END-POOL *****
16604 00002C48                   6510     _BRKTST_RDY_OFF_OUT:
16605                            6511             SUB_START
16606 00002C48 4F22                   M           STS.L   PR,@-R15                ;[必要]
16607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16608                            6512             FAR_JSR #_RDY_OF,R1                     ;
16609 00002C4A D107                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16610 00002C4C 410B                   M           JSR     @R1                     ;
16611 00002C4E 0009                   M           NOP                                     ;
16612                            6513             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
16613 00002C50 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16614 00002C52 400B                   M           JSR     @R0                     ;
16615 00002C54 0009                   M           NOP                                     ;
16616                            6514             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16617 00002C56 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16618 00002C58 400B                   M           JSR     @R0                     ;
16619 00002C5A 0009                   M           NOP                                     ;
16620 00002C5C 200A              6515             XOR     R0,R0                           ;
16621 00002C5E D105              6516             MOV.L   #_DRV_START_KEEP,R1             ;FLG
16622 00002C60 2101              6517             MOV.W   R0,@R1                          ;
16623                            6518             SUB_END
16624                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16625 00002C62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16626                            6519             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   189
PROGRAM NAME =

16627 00002C64 000B                   M           RTS                             ;RTSの後ろの
16628 00002C66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16629                            6520     
16630                            6521     ;       ***********************************
16631                            6522     ;       ***                             ***
16632                            6523     ;       ***     motor起動               ***
16633                            6524     ;       ***                             ***
16634                            6525     ;       ***********************************
16635                            6526             .IMPORT _BRKTST_POS_START               ;
16636                            6527     ;       --------------<同期ソフトはできないつくり>-----------------------------
16637                                     ***** BEGIN-POOL *****
16638 00002C68 00000000                   DATA FOR SOURCE-LINE 6512
16639 00002C6C 00000000                   DATA FOR SOURCE-LINE 6513
16640 00002C70 00000000                   DATA FOR SOURCE-LINE 6514
16641 00002C74 00000000                   DATA FOR SOURCE-LINE 6516
16642                                     ***** END-POOL *****
16643 00002C78                   6528     _BRKTST_MOTOR_START:
16644                            6529             SUB_START
16645 00002C78 4F22                   M           STS.L   PR,@-R15                ;[必要]
16646                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16647                            6530     
16648                            6531     ;       ===================================
16649                            6532     ;       ===     起動処理                ===
16650                            6533     ;       ===================================
16651                            6534             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
16652 00002C7A D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
16653 00002C7C 6011                   M           MOV.W   @R1,R0          ;
16654 00002C7E 9442                   M           MOV.W   #LWORD (~BIT3),R4       ;
16655 00002C80 2049                   M           AND     R4,R0           ;
16656 00002C82 2101                   M           MOV.W   R0,@R1          ;
16657                            6535             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
16658 00002C84 D022                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16659 00002C86 400B                   M           JSR     @R0                     ;
16660 00002C88 0009                   M           NOP                                     ;
16661                            6536             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
16662 00002C8A D022                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16663 00002C8C 400B                   M           JSR     @R0                     ;
16664 00002C8E 0009                   M           NOP                                     ;
16665                            6537             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
16666 00002C90 D021                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16667 00002C92 400B                   M           JSR     @R0                     ;
16668 00002C94 0009                   M           NOP                                     ;
16669                            6538     
16670                            6539     ;       ==== 2004-01-28 ==
16671 00002C96 200A              6540             XOR     R0,R0
16672 00002C98 D120              6541             MOV.L   #_ENC360_OVER_FLG,R1            ;
16673 00002C9A 2101              6542             MOV.W   R0,@R1                          ;
16674                            6543     
16675                            6544             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
16676 00002C9C D020                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16677 00002C9E 400B                   M           JSR     @R0                     ;
16678 00002CA0 0009                   M           NOP                                     ;
16679                            6545             FAR_JSR #_CB_CTL_START_INI,R0
16680 00002CA2 D020                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16681 00002CA4 400B                   M           JSR     @R0                     ;
16682 00002CA6 0009                   M           NOP                                     ;
16683                            6546             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   190
PROGRAM NAME =

16684 00002CA8 D01F                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16685 00002CAA 400B                   M           JSR     @R0                     ;
16686 00002CAC 0009                   M           NOP                                     ;
16687                            6547     
16688                            6548     ;;;;;   FAR_JSR #_MN_POS_CTRL_START,R0          ;
16689                            6549     
16690                            6550     
16691                            6551             FAR_JSR #_BRKTST_POS_START,R0
16692 00002CAE D01F                   M           MOV.L   #_BRKTST_POS_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16693 00002CB0 400B                   M           JSR     @R0                     ;
16694 00002CB2 0009                   M           NOP                                     ;
16695                            6552     
16696                            6553     
16697                            6554     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
16698                            6555             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
16699 00002CB4 D41E                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
16700 00002CB6 6041                   M           MOV.W   @R4,R0          ;
16701 00002CB8 9126                   M           MOV.W   #LWORD (~BIT5),R1       ;
16702 00002CBA 2019                   M           AND     R1,R0           ;
16703 00002CBC 2401                   M           MOV.W   R0,@R4          ;
16704                            6556             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
16705 00002CBE D41D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
16706 00002CC0 6041                   M           MOV.W   @R4,R0          ;
16707 00002CC2 9121                   M           MOV.W   #LWORD (~BIT5),R1       ;
16708 00002CC4 2019                   M           AND     R1,R0           ;
16709 00002CC6 2401                   M           MOV.W   R0,@R4          ;
16710                            6557     
16711                            6558     
16712                            6559             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
16713 00002CC8 D11B                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
16714 00002CCA 921E                   M           MOV.W   #BIT0,R2                ;
16715 00002CCC 2121                   M           MOV.W   R2,@R1  ;
16716                            6560             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
16717 00002CCE D01B                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16718 00002CD0 400B                   M           JSR     @R0                     ;
16719 00002CD2 0009                   M           NOP                                     ;
16720                            6561     
16721                            6562             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16722 00002CD4 D01A                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16723 00002CD6 400B                   M           JSR     @R0                     ;
16724 00002CD8 0009                   M           NOP                                     ;
16725                            6563             FAR_JSR #_RDY_OF,R1                     ;
16726 00002CDA D11A                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16727 00002CDC 410B                   M           JSR     @R1                     ;
16728 00002CDE 0009                   M           NOP                                     ;
16729                            6564     
16730                            6565     ;       ==== 2007-09-07 ちゃんとｾﾙﾌを生かす===
16731                            6566     ;;      .IMPORT _PAR_SELFCHK_POWSEL
16732                            6567     
16733 00002CE0 D119              6568             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
16734 00002CE2 6011              6569             MOV.W   @R1,R0                          ;
16735 00002CE4 8801              6570             CMP/EQ  #1,R0                           ;
16736 00002CE6 8908              6571             BT      BRKTST_STR_POW_100              ;"1"ならちゃんとセルフする
16737                            6572     
16738                            6573     ;       ===== 2006-12-06 [1]=====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   191
PROGRAM NAME =

16739 00002CE8 900F              6574             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
16740 00002CEA D118              6575             MOV.L   #_SELF_LOCK_FLG,R1              ;
16741 00002CEC 2101              6576             MOV.W   R0,@R1                          ;
16742 00002CEE 222A              6577             XOR     R2,R2                           ;
16743 00002CF0 233A              6578             XOR     R3,R3                           ;
16744 00002CF2 D117              6579             MOV.L   #_SELF_CHK_SEL,R1               ;
16745 00002CF4 2121              6580             MOV.W   R2,@R1                          ;
16746 00002CF6 D117              6581             MOV.L   #_SELF_CHK_MATHED,R1            ;
16747 00002CF8 2131              6582             MOV.W   R3,@R1                          ;
16748                            6583     
16749 00002CFA                   6584     BRKTST_STR_POW_100
16750                            6585     
16751                            6586     ;       ====== 2007-01-16========
16752                            6587             FAR_JSR #_START_SFTY_LOCK_CLR,R0
16753 00002CFA D017                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16754 00002CFC 400B                   M           JSR     @R0                     ;
16755 00002CFE 0009                   M           NOP                                     ;
16756                            6588     
16757                            6589     
16758                            6590             SUB_END
16759                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16760 00002D00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16761                            6591             M_RTS
16762 00002D02 000B                   M           RTS                             ;RTSの後ろの
16763 00002D04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16764                            6592     
16765                            6593     
16766                                     ***** BEGIN-POOL *****
16767 00002D06 FFF7                       DATA FOR SOURCE-LINE 6534
16768 00002D08 FFDF                       DATA FOR SOURCE-LINE 6555,6556
16769 00002D0A 0001                       DATA FOR SOURCE-LINE 6559,6574
16770 00002D0C 00000000                   DATA FOR SOURCE-LINE 6534
16771 00002D10 00000000                   DATA FOR SOURCE-LINE 6535
16772 00002D14 00000000                   DATA FOR SOURCE-LINE 6536
16773 00002D18 00000000                   DATA FOR SOURCE-LINE 6537
16774 00002D1C 00000000                   DATA FOR SOURCE-LINE 6541
16775 00002D20 00000000                   DATA FOR SOURCE-LINE 6544
16776 00002D24 00000000                   DATA FOR SOURCE-LINE 6545
16777 00002D28 00000000                   DATA FOR SOURCE-LINE 6546
16778 00002D2C 00000000                   DATA FOR SOURCE-LINE 6551
16779 00002D30 00000000                   DATA FOR SOURCE-LINE 6555
16780 00002D34 00000000                   DATA FOR SOURCE-LINE 6556
16781 00002D38 00000000                   DATA FOR SOURCE-LINE 6559
16782 00002D3C 00000000                   DATA FOR SOURCE-LINE 6560
16783 00002D40 00000000                   DATA FOR SOURCE-LINE 6562
16784 00002D44 00000000                   DATA FOR SOURCE-LINE 6563
16785 00002D48 00000000                   DATA FOR SOURCE-LINE 6568
16786 00002D4C 00000000                   DATA FOR SOURCE-LINE 6575
16787 00002D50 00000000                   DATA FOR SOURCE-LINE 6579
16788 00002D54 00000000                   DATA FOR SOURCE-LINE 6581
16789 00002D58 00000000                   DATA FOR SOURCE-LINE 6587
16790                                     ***** END-POOL *****
16791 00002D5C                   6594             .ALIGN  4
16792 00002D5C                   6595     _BRKTST_CHKDT_MAK:
16793                            6596             SUB_START
16794 00002D5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16795                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   192
PROGRAM NAME =

16796 00002D5E D00C              6597             MOV.L   #_LINK_MAX_SPD_PLS,R0   ;
16797 00002D60 6202              6598             MOV.L   @R0,R2                  ;
16798 00002D62 9414              6599             MOV.W   #_SPD_PER_MAX,R4        ;100.00per
16799                            6600     
16800 00002D64 D00B              6601             MOV.L   #_WPAR_BRKTOUT_SPD,R0           ;出力LATE
16801 00002D66 6101              6602             MOV.W   @R0,R1                          ;
16802 00002D68 4115              6603             CMP/PL  R1                              ;
16803 00002D6A 8900              6604             BT      BRKTST_CHKDTMK_100                      ;
16804 00002D6C 6143              6605             MOV     R4,R1                                   ;
16805 00002D6E                   6606     BRKTST_CHKDTMK_100:                                     ;
16806                            6607             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16807 00002D6E D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16808 00002D70 400B                   M           JSR     @R0                     ;
16809 00002D72 0009                   M           NOP                                     ;
16810 00002D74 D109              6608             MOV.L   #_BRKTST_OUTSPD_PLS,R1          ;
16811 00002D76 2122              6609             MOV.L   R2,@R1                          ;
16812                            6610     
16813 00002D78 D009              6611             MOV.L   #_WPAR_BRKTCHK_SPD,R0           ;
16814 00002D7A 6101              6612             MOV.W   @R0,R1                          ;
16815 00002D7C 9407              6613             MOV.W   #_SPD_PER_MAX,R4                ;100.00per
16816                            6614             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
16817 00002D7E D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16818 00002D80 400B                   M           JSR     @R0                     ;
16819 00002D82 0009                   M           NOP                                     ;
16820 00002D84 D107              6615             MOV.L   #_BRKTST_CHKSPD_PLS,R1
16821 00002D86 2122              6616             MOV.L   R2,@R1                          ;
16822                            6617     
16823                            6618             SUB_END
16824                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16825 00002D88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16826                            6619             M_RTS
16827 00002D8A 000B                   M           RTS                             ;RTSの後ろの
16828 00002D8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16829                            6620     
16830                            6621     
16831                            6622     
16832                            6623     
16833                            6624     
16834                            6625     ;       ***********************************
16835                            6626     ;       ***                             ***
16836                            6627     ;       ***             速度            ***
16837                            6628     ;       ***                             ***
16838                            6629     ;       ***********************************
16839                                     ***** BEGIN-POOL *****
16840 00002D8E 2710                       DATA FOR SOURCE-LINE 6599,6613
16841 00002D90 00000000                   DATA FOR SOURCE-LINE 6597
16842 00002D94 00000000                   DATA FOR SOURCE-LINE 6601
16843 00002D98 00000000                   DATA FOR SOURCE-LINE 6607,6614
16844 00002D9C 00000000                   DATA FOR SOURCE-LINE 6608
16845 00002DA0 00000000                   DATA FOR SOURCE-LINE 6611
16846 00002DA4 00000000                   DATA FOR SOURCE-LINE 6615
16847                                     ***** END-POOL *****
16848 00002DA8                   6630             .ALIGN  4
16849 00002DA8                   6631     _BRKTST_SPD_CHK:
16850                            6632             SUB_START
16851 00002DA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16852                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   193
PROGRAM NAME =

16853 00002DAA D106              6633             MOV.L   #_ABS_ENC_PLS_SPD,R1    ;
16854 00002DAC 6212              6634             MOV.L   @R1,R2                  ;PV(ABS)
16855 00002DAE D106              6635             MOV.L   #_BRKTST_CHKSPD_PLS,R1  ;
16856 00002DB0 6012              6636             MOV.L   @R1,R0                  ;SV
16857 00002DB2 3202              6637             CMP/HS  R0,R2                   ;R0=< R2?
16858 00002DB4 8B03              6638             BF      BRKTST_SPDCHK_100       ;NO JUMP
16859                            6639     
16860                            6640             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT4),WKREG=R1    ;BIT4速度ﾗ
                                          ｯﾁ
16861 00002DB6 D105                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16862 00002DB8 6011                   M           MOV.W   @R1,R0          ;
16863 00002DBA CB10                   M           OR      #(BIT4),R0              ;
16864 00002DBC 2101                   M           MOV.W   R0,@R1          ;
16865                            6641     
16866 00002DBE                   6642     BRKTST_SPDCHK_100:
16867                            6643             SUB_END
16868                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16869 00002DBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16870                            6644             M_RTS
16871 00002DC0 000B                   M           RTS                             ;RTSの後ろの
16872 00002DC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16873                            6645     
16874                            6646     
16875                            6647     ;       ***********************************
16876                            6648     ;       ***                             ***
16877                            6649     ;       ***     motor停止               ***
16878                            6650     ;       ***                             ***
16879                            6651     ;       ***********************************
16880                                     ***** BEGIN-POOL *****
16881 00002DC4 00000000                   DATA FOR SOURCE-LINE 6633
16882 00002DC8 00000000                   DATA FOR SOURCE-LINE 6635
16883 00002DCC 00000000                   DATA FOR SOURCE-LINE 6640
16884                                     ***** END-POOL *****
16885 00002DD0                   6652             .ALIGN  4
16886                            6653             .IMPORT _EMG_STOP_SPEC;相手には教えない
16887                            6654     
16888 00002DD0                   6655     _BRKTST_MOTOR_STOP:
16889                            6656             SUB_START
16890 00002DD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16891                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16892                            6657             FAR_JSR #_EMG_STOP_SPEC,R0              ;相手には教えない
16893 00002DD2 D003                   M           MOV.L   #_EMG_STOP_SPEC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16894 00002DD4 400B                   M           JSR     @R0                     ;
16895 00002DD6 0009                   M           NOP                                     ;
16896                            6658             SUB_END
16897                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16898 00002DD8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16899                            6659             M_RTS
16900 00002DDA 000B                   M           RTS                             ;RTSの後ろの
16901 00002DDC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16902                            6660     
16903                            6661     ;       *******************************************
16904                            6662     ;       ***                                     ***
16905                            6663     ;       ***                                     ***
16906                            6664     ;       ***                                     ***
16907                            6665     ;       *******************************************
16908                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   194
PROGRAM NAME =

16909 00002DDE 0000                       ALIGNMENT CODE
16910 00002DE0 00000000                   DATA FOR SOURCE-LINE 6657
16911                                     ***** END-POOL *****
16912 00002DE4                   6666             .ALIGN  4                               ;
16913 00002DE4                   6667     _BRKTST_STOPSIG_MAKE:
16914                            6668             SUB_START
16915 00002DE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16916                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16917 00002DE6 D10D              6669             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16918 00002DE8 6011              6670             MOV.W   @R1,R0                                          ;
16919 00002DEA C801              6671             TST     #BIT0,R0                                        ;
16920                            6672             TST_BIT_OF BRKTST_STOPSIG_MK300                         ;
16921 00002DEC 8912                   M           BT      BRKTST_STOPSIG_MK300
16922                            6673     
16923 00002DEE D40C              6674             MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
16924 00002DF0 6542              6675             MOV.L   @R4,R5                                                  ;
16925 00002DF2 5641              6676             MOV.L   @(1*4,R4),R6                                            ;
16926                            6677     
16927 00002DF4 D40B              6678             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;
16928 00002DF6 6146              6679             MOV.L   @R4+,R1                                                 ;
16929 00002DF8 6242              6680             MOV.L   @R4,R2                                                  ;
16930                            6681     
16931                            6682             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;R5,R6 - R1,R2 =R5
                                          ,R6<0なら停止
16932 00002DFA 0008                   M           CLRT
16933 00002DFC 362A                   M           SUBC    R2,R6
16934 00002DFE 351A                   M           SUBC    R1,R5
16935 00002E00 4511              6683             CMP/PZ  R5
16936 00002E02 8907              6684             BT      BRKTST_STOPSIG_MK300                            ;
16937                            6685     
16938 00002E04 D105              6686             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16939 00002E06 6011              6687             MOV.W   @R1,R0                                          ;
16940 00002E08 C9FE              6688             AND     #LOW ~BIT0,R0                                   ;
16941 00002E0A 2101              6689             MOV.W   R0,@R1                                          ;
16942                            6690     
16943 00002E0C D106              6691             MOV.L   #_BRKTST_INPUT_CMD,R1                           ;2011-09-14
16944 00002E0E 6011              6692             MOV.W   @R1,R0                                          ;
16945 00002E10 CB02              6693             OR      #BIT1,R0                                        ;
16946 00002E12 2101              6694             MOV.W   R0,@R1                                          ;
16947                            6695     
16948 00002E14                   6696     BRKTST_STOPSIG_MK300:
16949                            6697             SUB_END
16950                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16951 00002E14 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16952                            6698             M_RTS
16953 00002E16 000B                   M           RTS                             ;RTSの後ろの
16954 00002E18 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16955                            6699     
16956                            6700     
16957                            6701     
16958                            6702     ;       ***********************************
16959                            6703     ;       ***                             ***
16960                            6704     ;       ***     RDY-ON 維持条件         ***
16961                            6705     ;       ***                             ***
16962                            6706     ;       ***********************************
16963                            6707     ;       R0=0 RDY ON KEEP
16964                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   195
PROGRAM NAME =

16965 00002E1A 0000                       ALIGNMENT CODE
16966 00002E1C 00000000                   DATA FOR SOURCE-LINE 6669,6686
16967 00002E20 00000000                   DATA FOR SOURCE-LINE 6674
16968 00002E24 00000000                   DATA FOR SOURCE-LINE 6678
16969 00002E28 00000000                   DATA FOR SOURCE-LINE 6691
16970                                     ***** END-POOL *****
16971 00002E2C                   6708     _BRK_RDYON_CONF1:
16972                            6709             SUB_START
16973 00002E2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16974                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16975 00002E2E D108              6710             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
16976 00002E30 6011              6711             MOV.W   @R1,R0                          ;
16977 00002E32 940C              6712             MOV.W   #BIT14,R4                       ;
16978 00002E34 2048              6713             TST     R4,R0                           ;
16979                            6714             TST_BIT_ON BRK_RDY_ON_CF_999            ;一旦停止指令
16980 00002E36 8B11                   M           BF      BRK_RDY_ON_CF_999
16981                            6715     
16982 00002E38 D106              6716             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
16983 00002E3A 6011              6717             MOV.W   @R1,R0                          ;
16984 00002E3C C803              6718             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
16985                            6719             TST_BIT_ON BRK_RDY_ON_CF_999            ;
16986 00002E3E 8B0D                   M           BF      BRK_RDY_ON_CF_999
16987                            6720     
16988 00002E40 D105              6721             MOV.L   #_CNT_STOP_CMD,R1               ;
16989 00002E42 6011              6722             MOV.W   @R1,R0                          ;
16990 00002E44 C801              6723             TST     #BIT0,R0                        ;
16991                            6724             TST_BIT_ON BRK_RDY_ON_CF_999            ;BIT0=連続停止,(BIT2:LOT,設定異常)
16992 00002E46 8B09                   M           BF      BRK_RDY_ON_CF_999
16993                            6725     
16994                            6726     
16995 00002E48                   6727     BRK_RDY_ON_CF_998:
16996 00002E48 200A              6728             XOR     R0,R0                   ;準備完了
16997                            6729             M_BRA   BRK_RDY_ON_CF_EXT               ;
16998 00002E4A A008                   M           BRA     BRK_RDY_ON_CF_EXT
16999 00002E4C 0009                   M           NOP
17000                            6730     
17001                                     ***** BEGIN-POOL *****
17002 00002E4E 4000                       DATA FOR SOURCE-LINE 6712
17003 00002E50 00000000                   DATA FOR SOURCE-LINE 6710
17004 00002E54 00000000                   DATA FOR SOURCE-LINE 6716
17005 00002E58 00000000                   DATA FOR SOURCE-LINE 6721
17006                                     ***** END-POOL *****
17007 00002E5C                   6731     BRK_RDY_ON_CF_999:
17008 00002E5C E0FF              6732             MOV     #-1,R0                  ;準備未完了
17009 00002E5E                   6733     BRK_RDY_ON_CF_EXT:
17010                            6734             SUB_END
17011                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17012 00002E5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17013                            6735             M_RTS
17014 00002E60 000B                   M           RTS                             ;RTSの後ろの
17015 00002E62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17016                            6736     
17017 00002E64                   6737             .ALIGN  4
17018 00002E64 0009              6738             NOP
17019 00002E66 0009              6739             NOP
17020 00002E68 0009              6740             NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   196
PROGRAM NAME =

17021 00002E6A 0009              6741             NOP
17022                            6742     
17023                            6743     ;       *******************************************
17024                            6744     ;       ***                                     ***
17025                            6745     ;       ***                                     ***
17026                            6746     ;       ***                                     ***
17027                            6747     ;       ***                                     ***
17028                            6748     ;       ***                                     ***
17029                            6749     ;       ***                                     ***
17030                            6750     ;       ***             R02R03新機能            ***
17031                            6751     ;       ***                                     ***
17032                            6752     ;       ***                                     ***
17033                            6753     ;       ***                                     ***
17034                            6754     ;       ***                                     ***
17035                            6755     ;       ***                                     ***
17036                            6756     ;       ***                                     ***
17037                            6757     ;       *******************************************
17038                            6758     
17039                            6759     ;       *******************************************
17040                            6760     ;       ***                                     ***
17041                            6761     ;       ***                                     ***
17042                            6762     ;       ***             外部起動                ***
17043                            6763     ;       ***                                     ***
17044                            6764     ;       ***                                     ***
17045                            6765     ;       *******************************************
17046                            6766             .EXPORT _EXT_DRVBTTN_MODE
17047 00002E6C                   6767     _EXT_DRVBTTN_MODE
17048                            6768             SUB_START
17049 00002E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17050                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17051                            6769     
17052 00002E6E D10D              6770             MOV.L   #(_PAR_EXTDRV_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
17053 00002E70 6011              6771             MOV.W   @R1,R0                                                  ;
17054 00002E72 8801              6772             CMP/EQ  #1,R0                                                   ;
17055 00002E74 8B12              6773             BF      EXT_DRVBTTN_MOD_END                                     ;
17056                            6774     
17057                            6775             FAR_JSR #_EXT_DRVBTTN_INFO_MAKE,R0              ;
17058 00002E76 D00C                   M           MOV.L   #_EXT_DRVBTTN_INFO_MAKE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17059 00002E78 400B                   M           JSR     @R0                     ;
17060 00002E7A 0009                   M           NOP                                     ;
17061                            6776     
17062                            6777     
17063                            6778             FAR_JSR #_EXT_DRVBTTN_MODJG_CONF,R0     ;
17064 00002E7C D00B                   M           MOV.L   #_EXT_DRVBTTN_MODJG_CONF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17065 00002E7E 400B                   M           JSR     @R0                     ;
17066 00002E80 0009                   M           NOP                                     ;
17067                            6779     
17068 00002E82 930E              6780             MOV.W   #BIT15,R3
17069 00002E84 244A              6781             XOR     R4,R4                           ;
17070 00002E86 D10A              6782             MOV.L   #_EXTDRV_BTTN_USE,R1            ;//SYSPARAM+各条件
17071 00002E88 6011              6783             MOV.W   @R1,R0                          ;
17072 00002E8A 2008              6784             TST     R0,R0                           ;
17073                            6785             TST_BIT_OF EXT_DRVBTTN_MOD100           ;
17074 00002E8C 8900                   M           BT      EXT_DRVBTTN_MOD100
17075 00002E8E 6433              6786             MOV     R3,R4                           ;
17076 00002E90                   6787     EXT_DRVBTTN_MOD100
17077                            6788     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   197
PROGRAM NAME =

17078 00002E90 6337              6789             NOT     R3,R3                           ;
17079 00002E92 D108              6790             MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1     ;
17080 00002E94 6211              6791             MOV.W   @R1,R2                          ;
17081 00002E96 2239              6792             AND     R3,R2                           ;
17082 00002E98 224B              6793             OR      R4,R2                           ;
17083 00002E9A 2121              6794             MOV.W   R2,@R1                          ;
17084                            6795     
17085                            6796     
17086 00002E9C                   6797     EXT_DRVBTTN_MOD_END
17087                            6798     
17088                            6799             SUB_END
17089                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17090 00002E9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17091                            6800             M_RTS
17092 00002E9E 000B                   M           RTS                             ;RTSの後ろの
17093 00002EA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17094                            6801     
17095                            6802     
17096                            6803     
17097                            6804     ;       ***********************************
17098                            6805     ;       ***                             ***
17099                            6806     ;       ***     釦入力                  ***
17100                            6807     ;       ***                             ***
17101                            6808     ;       ***********************************
17102                                     ***** BEGIN-POOL *****
17103 00002EA2 8000                       DATA FOR SOURCE-LINE 6780
17104 00002EA4 00000000                   DATA FOR SOURCE-LINE 6770
17105 00002EA8 00000000                   DATA FOR SOURCE-LINE 6775
17106 00002EAC 00000000                   DATA FOR SOURCE-LINE 6778
17107 00002EB0 00000000                   DATA FOR SOURCE-LINE 6782
17108 00002EB4 00000000                   DATA FOR SOURCE-LINE 6790
17109                                     ***** END-POOL *****
17110 00002EB8                   6809     _EXT_DRVBTTN_INFO_MAKE:
17111                            6810             SUB_START
17112 00002EB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17113                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17114                            6811     
17115                            6812     ;       ---------- 打ち抜き記憶処理だけ先に行う------------------
17116 00002EBA 255A              6813             XOR     R5,R5
17117 00002EBC D10D              6814             MOV.L   #_CB_SEQ_CB_COM352,R1           ;//
17118 00002EBE 6011              6815             MOV.W   @R1,R0                          ;
17119 00002EC0 C801              6816             TST     #BIT0,R0                        ;
17120                            6817             TST_BIT_OF EXT_DRVBTTN_INFO_MK100       ;
17121 00002EC2 8907                   M           BT      EXT_DRVBTTN_INFO_MK100
17122                            6818     
17123 00002EC4 D10C              6819             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17124 00002EC6 6511              6820             MOV.W   @R1,R5                          ;自己保持
17125                            6821     
17126 00002EC8 D10C              6822             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
17127 00002ECA 6011              6823             MOV.W   @R1,R0                          ;
17128 00002ECC 940E              6824             MOV.W   #_WOATO,R4                      ;
17129 00002ECE 2048              6825             TST     R4,R0                           ;AUTO ON?
17130                            6826             TST_BIT_OF EXT_DRVBTTN_INFO_MK100
17131 00002ED0 8900                   M           BT      EXT_DRVBTTN_INFO_MK100
17132                            6827     
17133 00002ED2 E501              6828             MOV.B   #BIT0,R5                        ;
17134                            6829     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   198
PROGRAM NAME =

17135 00002ED4                   6830     EXT_DRVBTTN_INFO_MK100:
17136 00002ED4 D108              6831             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17137 00002ED6 2151              6832             MOV.W   R5,@R1                          ;
17138                            6833     
17139                            6834     
17140                            6835     ;       -----------------釦入力---------------------------
17141 00002ED8 D109              6836             MOV.L   #_CB_IN_HANYO,R1                        ;//BIT8,9,10,11,12,13 6点(SQ004相
                                          当)
17142 00002EDA 6011              6837             MOV.W   @R1,R0                                  ;(論理あわせ済み信号)
17143 00002EDC 9307              6838             MOV.W   #(BIT11+BIT10),R3                       ;BIT10=N.C　0:運転 BIT11=N.O 1:運
                                          転
17144 00002EDE 2039              6839             AND     R3,R0                                   ;
17145 00002EE0 9406              6840             MOV.W   #(0+BIT10),R4                           ;両手OFF
17146 00002EE2 3040              6841             CMP/EQ  R4,R0                                   ;
17147 00002EE4 8B0E              6842             BF      EXT_DRVBTTN_INFO_MK200                  ;
17148 00002EE6 E201              6843             MOV.B   #BIT0,R2                                ;
17149                            6844             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
17150 00002EE8 A014                   M           BRA     EXT_DRVBTTN_INFO_MK400
17151 00002EEA 0009                   M           NOP
17152                            6845     
17153                                     ***** BEGIN-POOL *****
17154 00002EEC 0040                       DATA FOR SOURCE-LINE 6824
17155 00002EEE 0C00                       DATA FOR SOURCE-LINE 6838
17156 00002EF0 0400                       DATA FOR SOURCE-LINE 6840
17157 00002EF2 0000                       ALIGNMENT CODE
17158 00002EF4 00000000                   DATA FOR SOURCE-LINE 6814
17159 00002EF8 00000000                   DATA FOR SOURCE-LINE 6819,6831
17160 00002EFC 00000000                   DATA FOR SOURCE-LINE 6822
17161 00002F00 00000000                   DATA FOR SOURCE-LINE 6836
17162                                     ***** END-POOL *****
17163 00002F04                   6846     EXT_DRVBTTN_INFO_MK200
17164 00002F04 9404              6847             MOV.W   #(BIT11+0),R4                           ;両手ON
17165 00002F06 3040              6848             CMP/EQ  R4,R0                                   ;
17166 00002F08 8B03              6849             BF      EXT_DRVBTTN_INFO_MK300                  ;
17167 00002F0A E204              6850             MOV.B   #BIT2,R2                                ;
17168                            6851             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
17169 00002F0C A002                   M           BRA     EXT_DRVBTTN_INFO_MK400
17170 00002F0E 0009                   M           NOP
17171                            6852     
17172                                     ***** BEGIN-POOL *****
17173 00002F10 0800                       DATA FOR SOURCE-LINE 6847
17174                                     ***** END-POOL *****
17175 00002F12                   6853     EXT_DRVBTTN_INFO_MK300
17176                            6854     
17177 00002F12 E202              6855             MOV.B   #BIT1,R2                                ;片手ON
17178                            6856     
17179 00002F14                   6857     EXT_DRVBTTN_INFO_MK400:
17180 00002F14 D107              6858             MOV.L   #_EXT_BTTN_FLG,R1                       ;
17181 00002F16 2121              6859             MOV.W   R2,@R1                                  ;
17182                            6860                                                             ;BIT10=BIT11=1 1秒で異常
17183                            6861     
17184                            6862     
17185 00002F18 D107              6863             MOV.L   #_EXTDRV_BTTN_USE,R1                    ;//SYSPARAM+各条件
17186 00002F1A 6211              6864             MOV.W   @R1,R2                                  ;
17187 00002F1C 2228              6865             TST     R2,R2                                   ;
17188                            6866             TST_BIT_OF EXT_DRVBTTN_INFO_MK410               ;
17189 00002F1E 8902                   M           BT      EXT_DRVBTTN_INFO_MK410
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   199
PROGRAM NAME =

17190                            6867     
17191                            6868     ;       ---------- 釦異常ﾁｪｯｸ input R0[実入力]
17192 00002F20 9406              6869             MOV.W   #(BIT11+BIT10),R4                       ;
17193 00002F22 3040              6870             CMP/EQ  R4,R0                                   ;異常?
17194 00002F24 890C              6871             BT      EXT_DRVBTTN_INFO_MK420                  ;YES
17195 00002F26                   6872     EXT_DRVBTTN_INFO_MK410:
17196                            6873             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0             ;
17197 00002F26 D005                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17198 00002F28 400B                   M           JSR     @R0                     ;
17199 00002F2A 0009                   M           NOP                                     ;
17200                            6874             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMAL
17201 00002F2C A01B                   M           BRA     EXT_DRVBTTN_INFO_MK500
17202 00002F2E 0009                   M           NOP
17203                            6875     
17204                                     ***** BEGIN-POOL *****
17205 00002F30 0C00                       DATA FOR SOURCE-LINE 6869
17206 00002F32 0000                       ALIGNMENT CODE
17207 00002F34 00000000                   DATA FOR SOURCE-LINE 6858
17208 00002F38 00000000                   DATA FOR SOURCE-LINE 6863
17209 00002F3C 00000000                   DATA FOR SOURCE-LINE 6873
17210                                     ***** END-POOL *****
17211 00002F40                   6876     EXT_DRVBTTN_INFO_MK420:
17212 00002F40 D103              6877             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                ;
17213 00002F42 6011              6878             MOV.W   @R1,R0                                  ;
17214 00002F44 2008              6879             TST     R0,R0                                   ;
17215                            6880             TST_BIT_OF EXT_DRVBTTN_INFO_MK450               ;異常
17216 00002F46 8905                   M           BT      EXT_DRVBTTN_INFO_MK450
17217 00002F48 70FF              6881             ADD     #-1,R0                                  ;
17218 00002F4A 2101              6882             MOV.W   R0,@R1                                  ;
17219                            6883             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMALだが
17220 00002F4C A00B                   M           BRA     EXT_DRVBTTN_INFO_MK500
17221 00002F4E 0009                   M           NOP
17222                            6884     
17223                                     ***** BEGIN-POOL *****
17224 00002F50 00000000                   DATA FOR SOURCE-LINE 6877
17225                                     ***** END-POOL *****
17226 00002F54                   6885     EXT_DRVBTTN_INFO_MK450:
17227                            6886     
17228                            6887             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT15),WKRG1=R1,WKRG2=R4
                                          ;
17229 00002F54 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
17230 00002F56 6011                   M           MOV.W   @R1,R0          ;
17231 00002F58 9408                   M           MOV.W   #(BIT15),R4             ;
17232 00002F5A 204B                   M           OR      R4,R0           ;
17233 00002F5C 2101                   M           MOV.W   R0,@R1          ;
17234 00002F5E 9406              6888             MOV.W   #H'216F,R4
                                          ;216.15
17235                            6889             FAR_JSR #_EMG_STOP,R0
                                          ;
17236 00002F60 D004                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17237 00002F62 400B                   M           JSR     @R0                     ;
17238 00002F64 0009                   M           NOP                                     ;
17239                            6890     
17240 00002F66                   6891     EXT_DRVBTTN_INFO_MK500:
17241                            6892     
17242                            6893     
17243                            6894             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   200
PROGRAM NAME =

17244                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17245 00002F66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17246                            6895             M_RTS
17247 00002F68 000B                   M           RTS                             ;RTSの後ろの
17248 00002F6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17249                            6896     
17250                            6897     
17251                            6898     ;       ***********************************
17252                            6899     ;       ***                             ***
17253                            6900     ;       ***     切替                    ***
17254                            6901     ;       ***                             ***
17255                            6902     ;       ***********************************
17256                                     ***** BEGIN-POOL *****
17257 00002F6C 8000                       DATA FOR SOURCE-LINE 6887
17258 00002F6E 216F                       DATA FOR SOURCE-LINE 6888
17259 00002F70 00000000                   DATA FOR SOURCE-LINE 6887
17260 00002F74 00000000                   DATA FOR SOURCE-LINE 6889
17261                                     ***** END-POOL *****
17262 00002F78                   6903     _EXT_DRVBTTN_MODJG_CONF
17263                            6904             SUB_START
17264 00002F78 4F22                   M           STS.L   PR,@-R15                ;[必要]
17265                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17266                            6905     
17267 00002F7A 266A              6906             XOR     R6,R6                                                   ;ANS
17268                            6907     
17269                            6908     ;       ----------------------------------------------
17270 00002F7C D10F              6909             MOV.L   #_di1_cb_ctl1_dt,R1                                     ;//
17271 00002F7E 6011              6910             MOV.W   @R1,R0                                                  ;
17272 00002F80 C810              6911             TST     #_W1OPT,R0                                              ;OPT
17273                            6912             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500                              ;ｵﾌﾟｼｮﾝ行程ではな
                                          い
17274 00002F82 8924                   M           BT      EXT_DRVBTTN_MODJG_CF500
17275                            6913     
17276                            6914     ;       ------------[ﾉｯﾁsw=ｵﾌﾟｼｮﾝ行程]----------------------------------
17277                            6915     
17278                            6916     ;       ----------- 352,1=1 外部入力　外部起動ﾓｰﾄﾞ----------------------
17279 00002F84 D10E              6917             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2014-09-01
17280 00002F86 6011              6918             MOV.W   @R1,R0                                  ;
17281 00002F88 C802              6919             TST     #BIT1,R0                                ;
17282                            6920             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300              ;
17283 00002F8A 8B1F                   M           BF      EXT_DRVBTTN_MODJG_CF300
17284                            6921     
17285                            6922     ;       ------------[仕様設定107 22.10=1]----------------------------------
17286 00002F8C D10D              6923             MOV.L   #_CB_SEQ_SW_SEL022,R1           ;
17287 00002F8E 6011              6924             MOV.W   @R1,R0                          ;
17288 00002F90 9410              6925             MOV.W   #BIT10,R4                       ;107
17289 00002F92 2048              6926             TST     R4,R0                           ;
17290                            6927             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.10=1 有効
17291 00002F94 8B1A                   M           BF      EXT_DRVBTTN_MODJG_CF300
17292                            6928     
17293                            6929     
17294 00002F96 940E              6930             MOV.W   #BIT11,R4                       ;108 22.11
17295 00002F98 2048              6931             TST     R4,R0                           ;
17296                            6932             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500      ;22.11=0 無効
17297 00002F9A 8918                   M           BT      EXT_DRVBTTN_MODJG_CF500
17298                            6933     
17299                            6934     ;       ------------[仕様設定108 22.11=1]----------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   201
PROGRAM NAME =

17300 00002F9C 940C              6935             MOV.W   #(BIT6+BIT4),R4                 ;
17301 00002F9E 2048              6936             TST     R4,R0                           ;
17302                            6937             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.6(103) 22.4(101)のどちらかONで有効
17303 00002FA0 8B14                   M           BF      EXT_DRVBTTN_MODJG_CF300
17304                            6938     
17305 00002FA2 940A              6939             MOV.W   #(BIT8+BIT7),R4                 ;22.8(105) 22.7(104)の両方OFFで有効
17306 00002FA4 2048              6940             TST     R4,R0                           ;
17307                            6941             TST_BIT_OF EXT_DRVBTTN_MODJG_CF300      ;
17308 00002FA6 8911                   M           BT      EXT_DRVBTTN_MODJG_CF300
17309                            6942     
17310                            6943     ;       打抜記憶
17311 00002FA8 D107              6944             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17312 00002FAA 6011              6945             MOV.W   @R1,R0                          ;
17313 00002FAC C801              6946             TST     #BIT0,R0                        ;
17314                            6947             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;有効
17315 00002FAE 8B0D                   M           BF      EXT_DRVBTTN_MODJG_CF300
17316                            6948             M_BRA   EXT_DRVBTTN_MODJG_CF500         ;
17317 00002FB0 A00D                   M           BRA     EXT_DRVBTTN_MODJG_CF500
17318 00002FB2 0009                   M           NOP
17319                            6949     ;       ----------------------------------------------------------------------
17320                            6950     
17321                            6951     
17322                            6952     ;       --------------- 有効----------------------
17323                                     ***** BEGIN-POOL *****
17324 00002FB4 0400                       DATA FOR SOURCE-LINE 6925
17325 00002FB6 0800                       DATA FOR SOURCE-LINE 6930
17326 00002FB8 0050                       DATA FOR SOURCE-LINE 6935
17327 00002FBA 0180                       DATA FOR SOURCE-LINE 6939
17328 00002FBC 00000000                   DATA FOR SOURCE-LINE 6909
17329 00002FC0 00000000                   DATA FOR SOURCE-LINE 6917
17330 00002FC4 00000000                   DATA FOR SOURCE-LINE 6923
17331 00002FC8 00000000                   DATA FOR SOURCE-LINE 6944
17332                                     ***** END-POOL *****
17333 00002FCC                   6953     EXT_DRVBTTN_MODJG_CF300
17334 00002FCC E601              6954             MOV.B   #BIT0,R6                        ;
17335 00002FCE                   6955     EXT_DRVBTTN_MODJG_CF500
17336 00002FCE D106              6956             MOV.L   #_EXTDRV_BTTN_USE,R1    ;//SYSPARAM+各条件
17337 00002FD0 6011              6957             MOV.W   @R1,R0                  ;
17338 00002FD2 2161              6958             MOV.W   R6,@R1                  ;NEW=R6
17339                            6959     
17340 00002FD4 206A              6960             XOR     R6,R0                           ;
17341 00002FD6 2069              6961             AND     R6,R0                           ;R0=BIT0
17342 00002FD8 C801              6962             TST     #BIT0,R0                        ;
17343                            6963             TST_BIT_OF EXT_DRVBTTN_MODJG_CF700      ;
17344 00002FDA 8902                   M           BT      EXT_DRVBTTN_MODJG_CF700
17345                            6964     
17346                            6965     ;       ------- 立ち上がり[異常検出タイマプリセット]　-----------
17347                            6966             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0     ;
17348 00002FDC D003                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17349 00002FDE 400B                   M           JSR     @R0                     ;
17350 00002FE0 0009                   M           NOP                                     ;
17351                            6967     
17352                            6968     
17353 00002FE2                   6969     EXT_DRVBTTN_MODJG_CF700
17354                            6970             SUB_END
17355                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17356 00002FE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   202
PROGRAM NAME =

17357                            6971             M_RTS
17358 00002FE4 000B                   M           RTS                             ;RTSの後ろの
17359 00002FE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17360                            6972     
17361                            6973     
17362                                     ***** BEGIN-POOL *****
17363 00002FE8 00000000                   DATA FOR SOURCE-LINE 6956
17364 00002FEC 00000000                   DATA FOR SOURCE-LINE 6966
17365                                     ***** END-POOL *****
17366 00002FF0                   6974     _EXT_DRVBTTN_ERRTIM_SET
17367                            6975             SUB_START
17368 00002FF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17369                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17370 00002FF2 D103              6976             MOV.L   #(_PAR_BTNER_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1       ;NO=NC=1 THEN 異常
17371 00002FF4 6011              6977             MOV.W   @R1,R0                                                  ;
17372 00002FF6 D103              6978             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                                ;
17373 00002FF8 2101              6979             MOV.W   R0,@R1                                                  ;運転ボタン異常時
                                          間１秒
17374                            6980             SUB_END
17375                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17376 00002FFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17377                            6981             M_RTS
17378 00002FFC 000B                   M           RTS                             ;RTSの後ろの
17379 00002FFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17380                            6982     
17381                            6983     
17382                            6984     
17383                            6985     ;       *******************************************
17384                            6986     ;       ***                                     ***
17385                            6987     ;       ***     位置決め一旦停止(自動待機位置)  ***
17386                            6988     ;       ***                                     ***
17387                            6989     ;       *******************************************
17388                            6990     ;       ﾊﾝﾄﾞｼｪｲｸの考え
17389                            6991     ;       ----------- 停止処理側---------------------------------
17390                            6992     ;               [1]運転
17391                            6993     ;               [2]停止判定したCPU(A)            -->[SH4_HD_HLDSTOP1]=-1 -->CPU(B)
17392                            6994     ;               [3]停止状態
17393                            6995     ;               [4]相手CPU同状態(停止)判定待ち   -->[SH4==SH2==-1]
17394                            6996     ;       ----------- 起動処理側---------------------------------
17395                            6997     ;               [5]起動条件待ち->起動条件成立    -->[SH4_HD_HLDSTOP1]=0  -->CPU(B)
17396                            6998     ;               [6]相手CPU同状態(起動)待ち       -->[SH4==SH2==0]
17397                            6999     ;               [7]実起動処理
17398                            7000     ;;      _CPU_AB_DRVHLDSTOP_ON_OUT       ;
17399                            7001     ;;      _CPU_AB_DRVHLDSTOP_OF_OUT       ;
17400                            7002     ;;      _CPU_BA_DRVHLDSTOP_ON_JG        ;
17401                            7003     ;;      _CPU_BA_DRVHLDSTOP_OF_JG        ;
17402                            7004     
17403                            7005     ;       ***************************
17404                            7006     ;       ***                     ***
17405                            7007     ;       ***     停止側処理      ***
17406                            7008     ;       ***                     ***
17407                            7009     ;       ***************************
17408                            7010     ;       //BIT0=1:ﾎｰﾙﾄﾞ停止受付[自分停止ON または相手停止ON]
17409                            7011             .IMPORT _CMP_HOLD_CTLGENSOK
17410                            7012     
17411                                     ***** BEGIN-POOL *****
17412 00003000 00000000                   DATA FOR SOURCE-LINE 6976
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   203
PROGRAM NAME =

17413 00003004 00000000                   DATA FOR SOURCE-LINE 6978
17414                                     ***** END-POOL *****
17415 00003008                   7013     _POSHLD1_STEP1_STOPCMD_CHK:
17416                            7014             SUB_START
17417 00003008 4F22                   M           STS.L   PR,@-R15                ;[必要]
17418                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17419 0000300A D103              7015             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17420 0000300C 6011              7016             MOV.W   @R1,R0                          ;
17421 0000300E C801              7017             TST     #BIT0,R0                        ;
17422                            7018             TST_BIT_OF POSHLD1_STEP1_STOP100        ;
17423 00003010 8904                   M           BT      POSHLD1_STEP1_STOP100
17424                            7019             M_BRA   POSHLD1_STEP1_STOPWAIT          ;BIT0=1:停止側の処理は終了:上のソフトの処
                                          理待ち
17425 00003012 A056                   M           BRA     POSHLD1_STEP1_STOPWAIT
17426 00003014 0009                   M           NOP
17427                            7020     
17428                            7021     ;       -------------停止信号待ち-----------------------
17429                            7022     ;       自分は範囲でしか停止出力しない
17430                            7023     ;       相手からはいつでも受け付ける
17431                            7024     
17432                                     ***** BEGIN-POOL *****
17433 00003016 0000                       ALIGNMENT CODE
17434 00003018 00000000                   DATA FOR SOURCE-LINE 7015
17435                                     ***** END-POOL *****
17436 0000301C                   7025     POSHLD1_STEP1_STOP100:
17437                            7026             FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;相手CPUから止まれといわれたか
17438 0000301C D00D                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17439 0000301E 400B                   M           JSR     @R0                     ;
17440 00003020 0009                   M           NOP                                     ;
17441 00003022 2008              7027             TST     R0,R0                                   ;
17442                            7028             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17443 00003024 8B20                   M           BF      POSHLD1_STEP1_STOP150
17444                            7029     
17445 00003026 D10C              7030             MOV.L   #_SEQAB_DP_TOP+151*2,R1                 ;151.8[本仕様有]
17446 00003028 6011              7031             MOV.W   @R1,R0                                  ;
17447 0000302A 9411              7032             MOV.W   #BIT8,R4                                ;
17448 0000302C 2048              7033             TST     R4,R0                                   ;
17449                            7034             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17450 0000302E 8945                   M           BT      POSHLD1_STEP1_STOPNO
17451                            7035     
17452 00003030 D10A              7036             MOV.L   #_SEQAB_DP_TOP+32*2,R1                  ;32.12[入/切]
17453 00003032 6011              7037             MOV.W   @R1,R0                                  ;
17454 00003034 940D              7038             MOV.W   #BIT12,R4                               ;
17455 00003036 2048              7039             TST     R4,R0                                   ;
17456                            7040             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17457 00003038 8940                   M           BT      POSHLD1_STEP1_STOPNO
17458                            7041     
17459 0000303A D109              7042             MOV.L   #_MODE_SEL,R1                   ;
17460 0000303C 6011              7043             MOV.W   @R1,R0                          ;
17461 0000303E C81C              7044             TST     #_W1CNT+_W1SGL+_W1OPT,R0        ;
17462                            7045             TST_BIT_OF POSHLD1_STEP1_STOPNO
17463 00003040 893C                   M           BT      POSHLD1_STEP1_STOPNO
17464                            7046     
17465                            7047     
17466                            7048             FAR_JSR #_POSHLD1_STOP_CONFCHK,R0
17467 00003042 D008                   M           MOV.L   #_POSHLD1_STOP_CONFCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17468 00003044 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   204
PROGRAM NAME =

17469 00003046 0009                   M           NOP                                     ;
17470 00003048 2008              7049             TST     R0,R0                                   ;
17471                            7050             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17472 0000304A 8B0D                   M           BF      POSHLD1_STEP1_STOP150
17473                            7051             M_BRA   POSHLD1_STEP1_STOPNO                    ;
17474 0000304C A036                   M           BRA     POSHLD1_STEP1_STOPNO
17475 0000304E 0009                   M           NOP
17476                            7052     
17477                            7053     
17478                                     ***** BEGIN-POOL *****
17479 00003050 0100                       DATA FOR SOURCE-LINE 7032
17480 00003052 1000                       DATA FOR SOURCE-LINE 7038
17481 00003054 00000000                   DATA FOR SOURCE-LINE 7026
17482 00003058 00000000                   DATA FOR SOURCE-LINE 7030
17483 0000305C 00000000                   DATA FOR SOURCE-LINE 7036
17484 00003060 00000000                   DATA FOR SOURCE-LINE 7042
17485 00003064 00000000                   DATA FOR SOURCE-LINE 7048
17486                                     ***** END-POOL *****
17487 00003068                   7054     POSHLD1_STEP1_STOP150:
17488                            7055     
17489                            7056             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0            ;停止釦を記憶
17490 00003068 D00D                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17491 0000306A 400B                   M           JSR     @R0                     ;
17492 0000306C 0009                   M           NOP                                     ;
17493                            7057     
17494                            7058     ;       --------- 停止条件成立---------
17495                            7059             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
17496 0000306E D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17497 00003070 400B                   M           JSR     @R0                     ;
17498 00003072 0009                   M           NOP                                     ;
17499                            7060     
17500                            7061             MOD_LOW_STOP_R0_R1
                                          ;
17501 00003074 D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
17502 00003076 E002                   M           MOV.B   #BIT1,R0                        ;
17503 00003078 2101                   M           MOV.W   R0,@R1                          ;
17504                            7062             FAR_JSR #_CPU_AB_DRVHLDSTOP_ON_OUT,R0
                                          ;
17505 0000307A D00C                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_ON_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17506 0000307C 400B                   M           JSR     @R0                     ;
17507 0000307E 0009                   M           NOP                                     ;
17508                            7063             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17509 00003080 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17510 00003082 6011                   M           MOV.W   @R1,R0          ;
17511 00003084 CB01                   M           OR      #(BIT0),R0              ;
17512 00003086 2101                   M           MOV.W   R0,@R1          ;
17513                            7064             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_CMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17514 00003088 D10A                   M           MOV.L   #_POS_HOLD_CMD,R1               ;
17515 0000308A 6011                   M           MOV.W   @R1,R0          ;
17516 0000308C CB01                   M           OR      #(BIT0),R0              ;
17517 0000308E 2101                   M           MOV.W   R0,@R1          ;
17518                            7065             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17519 00003090 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17520 00003092 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   205
PROGRAM NAME =

17521 00003094 9403                   M           MOV.W   #(BIT6),R4              ;
17522 00003096 204B                   M           OR      R4,R0           ;
17523 00003098 2101                   M           MOV.W   R0,@R1          ;
17524                            7066     
17525                            7067             M_BRA   POSHLD1_STEP1_STOPWAIT
17526 0000309A A012                   M           BRA     POSHLD1_STEP1_STOPWAIT
17527 0000309C 0009                   M           NOP
17528                            7068     
17529                            7069     
17530                                     ***** BEGIN-POOL *****
17531 0000309E 0040                       DATA FOR SOURCE-LINE 7065
17532 000030A0 00000000                   DATA FOR SOURCE-LINE 7056
17533 000030A4 00000000                   DATA FOR SOURCE-LINE 7059
17534 000030A8 00000000                   DATA FOR SOURCE-LINE 7061
17535 000030AC 00000000                   DATA FOR SOURCE-LINE 7062
17536 000030B0 00000000                   DATA FOR SOURCE-LINE 7063
17537 000030B4 00000000                   DATA FOR SOURCE-LINE 7064
17538 000030B8 00000000                   DATA FOR SOURCE-LINE 7065
17539                                     ***** END-POOL *****
17540 000030BC                   7070     POSHLD1_STEP1_STOPNO:
17541 000030BC 200A              7071             XOR     R0,R0                   ;何もない(動いていいよ、動くことを妨げない)
17542                            7072             M_BRA   POSHLD1_STEP1_STOPEXT
17543 000030BE A004                   M           BRA     POSHLD1_STEP1_STOPEXT
17544 000030C0 0009                   M           NOP
17545                            7073     
17546 000030C2                   7074     POSHLD1_STEP1_STOPWAIT:
17547 000030C2 E0FF              7075             MOV.B   #-1,R0                  ;停止処理中
17548                            7076             M_BRA   POSHLD1_STEP1_STOPEXT
17549 000030C4 A001                   M           BRA     POSHLD1_STEP1_STOPEXT
17550 000030C6 0009                   M           NOP
17551                            7077     
17552 000030C8                   7078     POSHLD1_STEP1_STOPSTOP:
17553 000030C8 E001              7079             MOV.B   #1,R0                   ;停止終了
17554 000030CA                   7080     POSHLD1_STEP1_STOPEXT:
17555                            7081     
17556                            7082             SUB_END
17557                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17558 000030CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17559                            7083             M_RTS
17560 000030CC 000B                   M           RTS                             ;RTSの後ろの
17561 000030CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17562                            7084     
17563                            7085     
17564                            7086     ;       ***********************************************************
17565                            7087     ;       ***     位置決め停止前の停止釦、一旦停止中停止釦の記憶  ***
17566                            7088     ;       ***********************************************************
17567                            7089     ;       1ｻｲｸﾙに2回の停止位置は存在しない
17568 000030D0                   7090     _POSHLD1_STOPBTTNCMD_CHK
17569                            7091             SUB_START
17570 000030D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17571                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17572                            7092     
17573 000030D2 D107              7093             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
17574 000030D4 6011              7094             MOV.W   @R1,R0                          ;
17575 000030D6 2008              7095             TST     R0,R0                           ;
17576                            7096             TST_BIT_ON  POSHLD1_STOPBTTNCMDCK_050
17577 000030D8 8B03                   M           BF      POSHLD1_STOPBTTNCMDCK_050
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   206
PROGRAM NAME =

17578 000030DA D106              7097             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
17579 000030DC 6011              7098             MOV.W   @R1,R0                          ;
17580 000030DE 2008              7099             TST     R0,R0
17581                            7100             TST_BIT_OF POSHLD1_STOPBTTNCMDCK_100    ;
17582 000030E0 8903                   M           BT      POSHLD1_STOPBTTNCMDCK_100
17583 000030E2                   7101     POSHLD1_STOPBTTNCMDCK_050
17584                            7102             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSHLD1_STOPLATCH,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17585 000030E2 D105                   M           MOV.L   #_POSHLD1_STOPLATCH,R1          ;
17586 000030E4 6011                   M           MOV.W   @R1,R0          ;
17587 000030E6 CB01                   M           OR      #(BIT0),R0              ;
17588 000030E8 2101                   M           MOV.W   R0,@R1          ;
17589 000030EA                   7103     POSHLD1_STOPBTTNCMDCK_100
17590                            7104     
17591                            7105     
17592                            7106             SUB_END
17593                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17594 000030EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17595                            7107             M_RTS
17596 000030EC 000B                   M           RTS                             ;RTSの後ろの
17597 000030EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17598                            7108     
17599                            7109     
17600                            7110     
17601                                     ***** BEGIN-POOL *****
17602 000030F0 00000000                   DATA FOR SOURCE-LINE 7093
17603 000030F4 00000000                   DATA FOR SOURCE-LINE 7097
17604 000030F8 00000000                   DATA FOR SOURCE-LINE 7102
17605                                     ***** END-POOL *****
17606 000030FC                   7111     _POSHLD1_STOP_CONFCHK:
17607                            7112             SUB_START
17608 000030FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17609                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17610                            7113     
17611 000030FE D125              7114             MOV.L   #_POS_HOLDABS_CALCF,R1  ;//1:終了
17612 00003100 6011              7115             MOV.W   @R1,R0                  ;
17613 00003102 E401              7116             MOV.B   #BIT0,R4                ;
17614 00003104 2048              7117             TST     R4,R0                   ;
17615                            7118             TST_BIT_OF POSHLD1_STOPCONF_100 ;ﾛｯﾄ変更無し
17616 00003106 8905                   M           BT      POSHLD1_STOPCONF_100
17617 00003108 6447              7119             NOT     R4,R4                   ;
17618 0000310A 2049              7120             AND     R4,R0                   ;
17619 0000310C 2101              7121             MOV.W   R0,@R1                  ;
17620                            7122     
17621 0000310E 200A              7123             XOR     R0,R0
17622 00003110 D121              7124             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//1:終了
17623 00003112 2101              7125             MOV.W   R0,@R1                  ;
17624                            7126     
17625 00003114                   7127     POSHLD1_STOPCONF_100
17626                            7128     
17627 00003114 D121              7129             MOV.L   #_SETX_POS_STEP_MAX,R1          ;
17628 00003116 6811              7130             MOV.W   @R1,R8                          ;LOOP data 1~10
17629 00003118 7801              7131             ADD     #1,R8                           ;2~11
17630                            7132     
17631 0000311A E401              7133             MOV.B   #BIT0,R4                ;
17632 0000311C D61E              7134             MOV.L   #_POSHLD1_CHKLST_FLG,R6 ;//1:終了
17633                            7135     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   207
PROGRAM NAME =

17634 0000311E D520              7136             MOV.L   #_POSHLD1_STOP_STEP,R5  ;//11個
17635                            7137     
17636 00003120                   7138     POSHLD1_STOPCONF_200LOP
17637 00003120 6361              7139             MOV.W   @R6,R3                          ;毎回読む
17638                            7140     
17639 00003122 6055              7141             MOV.W   @R5+,R0                         ;
17640 00003124 2008              7142             TST     R0,R0                           ;
17641                            7143             TST_BIT_OF POSHLD1_STOPCONF_500         ;
17642 00003126 8954                   M           BT      POSHLD1_STOPCONF_500
17643                            7144     
17644 00003128 2348              7145             TST     R4,R3                           ;終了?
17645                            7146             TST_BIT_ON POSHLD1_STOPCONF_400         ;YES
17646 0000312A 8B4B                   M           BF      POSHLD1_STOPCONF_400
17647                            7147     
17648 0000312C 70FF              7148             ADD     #-1,R0
17649 0000312E DB1D              7149             MOV.L   #_SETX_POS_SDAT1_CNTSTEP,R11    ;速度連続.LONG
17650 00003130 4008              7150             SHLL2   R0                              ;
17651 00003132 0CBE              7151             MOV.L   @(R0,R11),R12                   ;指定されている目標行程
17652                            7152     
17653 00003134 D11C              7153             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
17654 00003136 6011              7154             MOV.W   @R1,R0                          ;
17655 00003138 2008              7155             TST     R0,R0                           ;
17656                            7156             TST_BIT_OF POSHLD1_STOPCONF_STOPNO      ;起動していない
17657 0000313A 894A                   M           BT      POSHLD1_STOPCONF_STOPNO
17658                            7157     
17659 0000313C 70FF              7158             ADD     #-1,R0
17660 0000313E 4008              7159             SHLL2   R0                              ;
17661 00003140 0DBE              7160             MOV.L   @(R0,R11),R13                   ;今回運転している目標行程
17662                            7161     
17663 00003142 3DC0              7162             CMP/EQ  R12,R13                         ;R12=R13
17664 00003144 8B3A              7163             BF      POSHLD1_STOPCONF_300            ;
17665                            7164     
17666                            7165             PUSH_REG1       R3                      ;CHKFLG
17667 00003146 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17668                                 M                                           ;REG=>[SP]
17669                                 M                                           ;"-4" FF,FF,FF,FC
17670                            7166             PUSH_REG1       R4                      ;CHKBIT
17671 00003148 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17672                                 M                                           ;REG=>[SP]
17673                                 M                                           ;"-4" FF,FF,FF,FC
17674                            7167             PUSH_REG1       R5                      ;STEP
17675 0000314A 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17676                                 M                                           ;REG=>[SP]
17677                                 M                                           ;"-4" FF,FF,FF,FC
17678                            7168             PUSH_REG1       R6                      ;CHKFLG
17679 0000314C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17680                                 M                                           ;REG=>[SP]
17681                                 M                                           ;"-4" FF,FF,FF,FC
17682                            7169             PUSH_REG1       R8                      ;CHKFLG
17683 0000314E 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17684                                 M                                           ;REG=>[SP]
17685                                 M                                           ;"-4" FF,FF,FF,FC
17686                            7170     ;       演算
17687                            7171             FAR_JSR #_HOLD1_DNSTART_POSCHK,R0       ;
17688 00003150 D016                   M           MOV.L   #_HOLD1_DNSTART_POSCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17689 00003152 400B                   M           JSR     @R0                     ;
17690 00003154 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   208
PROGRAM NAME =

17691                            7172     
17692                            7173             POP_REG1        R8
17693                                 M                                   ; RE"+4" 00,00,00,04
17694 00003156 68F6                   M           MOV.L   @R15+,R8        ;
17695                            7174             POP_REG1        R6
17696                                 M                                   ; RE"+4" 00,00,00,04
17697 00003158 66F6                   M           MOV.L   @R15+,R6        ;
17698                            7175             POP_REG1        R5
17699                                 M                                   ; RE"+4" 00,00,00,04
17700 0000315A 65F6                   M           MOV.L   @R15+,R5        ;
17701                            7176             POP_REG1        R4
17702                                 M                                   ; RE"+4" 00,00,00,04
17703 0000315C 64F6                   M           MOV.L   @R15+,R4        ;
17704                            7177             POP_REG1        R3
17705                                 M                                   ; RE"+4" 00,00,00,04
17706 0000315E 63F6                   M           MOV.L   @R15+,R3        ;
17707                            7178     
17708 00003160 2008              7179             TST     R0,R0
17709                            7180             TST_BIT_OF POSHLD1_STOPCONF_400         ;0:まだ未到達
17710 00003162 892F                   M           BT      POSHLD1_STOPCONF_400
17711                            7181     
17712 00003164 8801              7182             CMP/EQ  #1,R0
17713 00003166 8B2B              7183             BF      POSHLD1_STOPCONF_350            ;-1:MISS[目標位置を超えた] 1:NOMAL 0:まだ
17714                            7184     
17715 00003168 6033              7185             MOV     R3,R0                           ;
17716 0000316A 234B              7186             OR      R4,R3                           ;
17717 0000316C 2631              7187             MOV.W   R3,@R6                          ;CHKLISTSAVE
17718 0000316E 2048              7188             TST     R4,R0                           ;
17719                            7189             TST_BIT_ON POSHLD1_STOPCONF_400         ;前回もＯＮだった
17720 00003170 8B28                   M           BF      POSHLD1_STOPCONF_400
17721                            7190     
17722                            7191     ;       ---------- 前回OFFで今回ON-----------------------
17723 00003172 D10F              7192             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17724 00003174 6011              7193             MOV.W   @R1,R0                                  ;
17725 00003176 920B              7194             MOV.W   #BIT12,R2                               ;
17726 00003178 2028              7195             TST     R2,R0                                   ;
17727                            7196             TST_BIT_ON POSHLD1_STOPCONF_STOPSTOP            ;2015-02-20[論理入れ替え]
17728 0000317A 8B2D                   M           BF      POSHLD1_STOPCONF_STOPSTOP
17729                            7197     
17730                            7198             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R2;
                                          通過信号
17731 0000317C D10D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17732 0000317E 6011                   M           MOV.W   @R1,R0          ;
17733 00003180 9206                   M           MOV.W   #(BIT12),R2             ;
17734 00003182 202B                   M           OR      R2,R0           ;
17735 00003184 2101                   M           MOV.W   R0,@R1          ;
17736 00003186 9004              7199             MOV.W   #D'20,R0                                        ;
17737 00003188 D10B              7200             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1                       ;2015-02-20追加　20msecだ
                                          け再起動または通過時
17738 0000318A 2101              7201             MOV.W   R0,@R1                                          ;
17739                            7202             M_BRA   POSHLD1_STOPCONF_400                    ;
17740 0000318C A01A                   M           BRA     POSHLD1_STOPCONF_400
17741 0000318E 0009                   M           NOP
17742                            7203     
17743                            7204     ;;;;2015-02-20[論理入れ替え]
17744                            7205     ;;;;    TST_BIT_OF POSHLD1_STOPCONF_400                 ;
17745                            7206     ;;;;    M_BRA   POSHLD1_STOPCONF_STOPSTOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   209
PROGRAM NAME =

17746                            7207     
17747                            7208     
17748                            7209     
17749                            7210     
17750                            7211     
17751                            7212     
17752                            7213     
17753                            7214     
17754                            7215     
17755                                     ***** BEGIN-POOL *****
17756 00003190 1000                       DATA FOR SOURCE-LINE 7194,7198
17757 00003192 0014                       DATA FOR SOURCE-LINE 7199
17758 00003194 00000000                   DATA FOR SOURCE-LINE 7114
17759 00003198 00000000                   DATA FOR SOURCE-LINE 7124,7134
17760 0000319C 00000000                   DATA FOR SOURCE-LINE 7129
17761 000031A0 00000000                   DATA FOR SOURCE-LINE 7136
17762 000031A4 00000000                   DATA FOR SOURCE-LINE 7149
17763 000031A8 00000000                   DATA FOR SOURCE-LINE 7153
17764 000031AC 00000000                   DATA FOR SOURCE-LINE 7171
17765 000031B0 00000000                   DATA FOR SOURCE-LINE 7192
17766 000031B4 00000000                   DATA FOR SOURCE-LINE 7198
17767 000031B8 00000000                   DATA FOR SOURCE-LINE 7200
17768                                     ***** END-POOL *****
17769 000031BC                   7216     POSHLD1_STOPCONF_300
17770 000031BC 3DC7              7217             CMP/GT  R12,R13                         ;R12[指定]<R13[現状]?
17771 000031BE 8B01              7218             BF      POSHLD1_STOPCONF_400            ;NO! R13[現状]<R12[指定]まだその行程でない
17772                            7219     
17773                            7220     ;       -------------通り過ぎた R12[指定]<R13[現状]----------------
17774 000031C0                   7221     POSHLD1_STOPCONF_350
17775 000031C0 234B              7222             OR      R4,R3                           ;
17776 000031C2 2631              7223             MOV.W   R3,@R6                          ;CHKLISTSAVE
17777                            7224     
17778 000031C4                   7225     POSHLD1_STOPCONF_400
17779 000031C4 4400              7226             SHLL    R4                      ;
17780 000031C6 78FF              7227             ADD     #-1,R8                  ;
17781 000031C8 2888              7228             TST     R8,R8                   ;
17782                            7229             TST_BIT_OF POSHLD1_STOPCONF_499 ;MAX(ここではひっかっかることはない)
17783 000031CA 8901                   M           BT      POSHLD1_STOPCONF_499
17784                            7230             M_BRA   POSHLD1_STOPCONF_200LOP
17785 000031CC AFA8                   M           BRA     POSHLD1_STOPCONF_200LOP
17786 000031CE 0009                   M           NOP
17787                            7231     
17788 000031D0                   7232     POSHLD1_STOPCONF_499
17789 000031D0 0009              7233             NOP
17790 000031D2                   7234     POSHLD1_STOPCONF_500
17791 000031D2                   7235     POSHLD1_STOPCONF_STOPNO         ;
17792 000031D2 200A              7236             XOR     R0,R0
17793                            7237             M_BRA   POSHLD1_STOPCONF_STOPEND
17794 000031D4 A001                   M           BRA     POSHLD1_STOPCONF_STOPEND
17795 000031D6 0009                   M           NOP
17796                            7238     
17797 000031D8                   7239     POSHLD1_STOPCONF_STOPSTOP               ;
17798 000031D8 E001              7240             MOV.B   #BIT0,R0                ;
17799                            7241     
17800 000031DA                   7242     POSHLD1_STOPCONF_STOPEND
17801                            7243             SUB_END
17802                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   210
PROGRAM NAME =

17803 000031DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17804                            7244             M_RTS
17805 000031DC 000B                   M           RTS                             ;RTSの後ろの
17806 000031DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17807                            7245     
17808                            7246     
17809 000031E0                   7247     _HOLD1_DNSTART_POSCHK:
17810                            7248             SUB_START
17811 000031E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17812                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17813 000031E2 D106              7249             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
17814 000031E4 6011              7250             MOV.W   @R1,R0                                  ;
17815 000031E6 C804              7251             TST     #_DMATH_DNDRIV,R0                       ;ふりこ
17816                            7252             TST_BIT_OF HOLD1_DNSTARTPOSCK100                ;
17817 000031E8 890E                   M           BT      HOLD1_DNSTARTPOSCK100
17818                            7253     
17819 000031EA D105              7254             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//このフラグでいいのかな？
17820 000031EC 6011              7255             MOV.W   @R1,R0                          ;
17821 000031EE 2008              7256             TST     R0,R0                           ;
17822                            7257             TST_BIT_OF HOLD1_DNSTARTPOSCK100        ;
17823 000031F0 890A                   M           BT      HOLD1_DNSTARTPOSCK100
17824                            7258     
17825 000031F2 D404              7259             MOV.L   #_POSHLD1_SDAT2_HOLDPOS,R4;//停止位置
17826 000031F4 6146              7260             MOV.L   @R4+,R1
17827 000031F6 6246              7261             MOV.L   @R4+,R2
17828                            7262             M_BRA   HOLD1_DNSTARTPOSCK200           ;
17829 000031F8 A009                   M           BRA     HOLD1_DNSTARTPOSCK200
17830 000031FA 0009                   M           NOP
17831                            7263     
17832                                     ***** BEGIN-POOL *****
17833 000031FC 00000000                   DATA FOR SOURCE-LINE 7249
17834 00003200 00000000                   DATA FOR SOURCE-LINE 7254
17835 00003204 00000000                   DATA FOR SOURCE-LINE 7259
17836                                     ***** END-POOL *****
17837 00003208                   7264     HOLD1_DNSTARTPOSCK100:
17838 00003208 D404              7265             MOV.L   #_POSHLD1_SDAT1_HOLDPOS,R4;//停止位置
17839 0000320A 6146              7266             MOV.L   @R4+,R1
17840 0000320C 6246              7267             MOV.L   @R4+,R2
17841                            7268     
17842 0000320E                   7269     HOLD1_DNSTARTPOSCK200:
17843                            7270             FAR_JSR #_CMP_HOLD_CTLGENSOK,R0         ;R0=01
17844 0000320E D004                   M           MOV.L   #_CMP_HOLD_CTLGENSOK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17845 00003210 400B                   M           JSR     @R0                     ;
17846 00003212 0009                   M           NOP                                     ;
17847                            7271     
17848                            7272             SUB_END
17849                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17850 00003214 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17851                            7273             M_RTS
17852 00003216 000B                   M           RTS                             ;RTSの後ろの
17853 00003218 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17854                            7274     
17855                            7275     ;       *******************************************
17856                            7276     ;       ***                                     ***
17857                            7277     ;       ***     開始側処理                      ***
17858                            7278     ;       ***     (完全に停止した時点)            ***
17859                            7279     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   211
PROGRAM NAME =

17860                            7280     ;       *******************************************
17861                            7281     ;
17862                                     ***** BEGIN-POOL *****
17863 0000321A 0000                       ALIGNMENT CODE
17864 0000321C 00000000                   DATA FOR SOURCE-LINE 7265
17865 00003220 00000000                   DATA FOR SOURCE-LINE 7270
17866                                     ***** END-POOL *****
17867 00003224                   7282     _POSHLD1_STEP2_START_CHK:
17868                            7283             SUB_START
17869 00003224 4F22                   M           STS.L   PR,@-R15                ;[必要]
17870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17871 00003226 D113              7284             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17872 00003228 6011              7285             MOV.W   @R1,R0                          ;
17873 0000322A C801              7286             TST     #BIT0,R0                        ;
17874                            7287             TST_BIT_OF POSHLD1_STEP2_STARTEXT       ;このソフトには関係ないのに呼ばれた
17875 0000322C 896B                   M           BT      POSHLD1_STEP2_STARTEXT
17876                            7288     
17877 0000322E C804              7289             TST     #BIT2,R0                        ;
17878                            7290             TST_BIT_ON POSHLD1_STEP2_STARTEXT       ;
17879 00003230 8B69                   M           BF      POSHLD1_STEP2_STARTEXT
17880                            7291     
17881 00003232 C802              7292             TST     #BIT1,R0                        ;ﾀｲﾏ設定?
17882                            7293             TST_BIT_ON POSHLD1_STEP2_START100       ;
17883 00003234 8B14                   M           BF      POSHLD1_STEP2_START100
17884                            7294     
17885                            7295     ;       ------------内部停止状態成立-----------
17886 00003236 D110              7296             MOV.L   #_SVP_WTTIM_MAX,R1              ;//ｽﾗｲﾄﾞ自動待機機能  待機時間上限
17887 00003238 6211              7297             MOV.W   @R1,R2                          ;
17888 0000323A 9417              7298             MOV.W   #D'100,R4                       ;0.1秒
17889 0000323C 324D              7299             DMULS.L R4,R2                           ;
17890 0000323E 021A              7300             STS.L   MACL,R2                         ;
17891 00003240 D10E              7301             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17892 00003242 2122              7302             MOV.L   R2,@R1                          ;
17893                            7303     
17894                            7304             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT1),WKREG=R1          ;
17895 00003244 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17896 00003246 6011                   M           MOV.W   @R1,R0          ;
17897 00003248 CB02                   M           OR      #(BIT1),R0              ;
17898 0000324A 2101                   M           MOV.W   R0,@R1          ;
17899                            7305             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4 ;
                                          待機停止中
17900 0000324C D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17901 0000324E 6011                   M           MOV.W   @R1,R0          ;
17902 00003250 940D                   M           MOV.W   #(BIT7),R4              ;
17903 00003252 204B                   M           OR      R4,R0           ;
17904 00003254 2101                   M           MOV.W   R0,@R1          ;
17905                            7306             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17906 00003256 D10A                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17907 00003258 6011                   M           MOV.W   @R1,R0          ;
17908 0000325A 9409                   M           MOV.W   #LWORD (~BIT6),R4       ;
17909 0000325C 2049                   M           AND     R4,R0           ;
17910 0000325E 2101                   M           MOV.W   R0,@R1          ;
17911                            7307     
17912                            7308     
17913                            7309     
17914 00003260                   7310     POSHLD1_STEP2_START100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   212
PROGRAM NAME =

17915                            7311     ;       ------------------------------------------------
17916                            7312     ;       ----------<2017-05-12>--------------------------
17917                            7313     ;       ------------------------------------------------
17918                            7314     ;       停止上限をみない
17919 00003260 D108              7315             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2017-05-12追加
17920 00003262 6011              7316             MOV.W   @R1,R0                                  ;
17921 00003264 C804              7317             TST     #BIT2,R0                                ;
17922                            7318             TST_BIT_OF POSHLD1_STEP2_START110               ;OFF:今まで通りﾀｲﾏを見る
17923 00003266 890F                   M           BT      POSHLD1_STEP2_START110
17924                            7319             M_BRA   POSHLD1_STEP2_START200                  ;ﾀｲﾏを見ない.いつもでも待つ
17925 00003268 A014                   M           BRA     POSHLD1_STEP2_START200
17926 0000326A 0009                   M           NOP
17927                            7320     
17928                                     ***** BEGIN-POOL *****
17929 0000326C 0064                       DATA FOR SOURCE-LINE 7298
17930 0000326E 0080                       DATA FOR SOURCE-LINE 7305
17931 00003270 FFBF                       DATA FOR SOURCE-LINE 7306
17932 00003272 0000                       ALIGNMENT CODE
17933 00003274 00000000                   DATA FOR SOURCE-LINE 7284,7304
17934 00003278 00000000                   DATA FOR SOURCE-LINE 7296
17935 0000327C 00000000                   DATA FOR SOURCE-LINE 7301
17936 00003280 00000000                   DATA FOR SOURCE-LINE 7305,7306
17937 00003284 00000000                   DATA FOR SOURCE-LINE 7315
17938                                     ***** END-POOL *****
17939 00003288                   7321     POSHLD1_STEP2_START110:
17940                            7322     ;       ------------------------------------------------
17941                            7323     ;       ------------------------------------------------
17942                            7324     
17943 00003288 D113              7325             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17944 0000328A 6212              7326             MOV.L   @R1,R2                          ;
17945 0000328C 2228              7327             TST     R2,R2                           ;
17946                            7328             TST_BIT_OF POSHLD1_STEP2_START500       ;ﾀｲﾑｱｯﾌﾟ,0設定
17947 0000328E 8931                   M           BT      POSHLD1_STEP2_START500
17948 00003290 72FF              7329             ADD     #-1,R2                          ;
17949 00003292 2122              7330             MOV.L   R2,@R1                          ;
17950                            7331     
17951                            7332     
17952 00003294                   7333     POSHLD1_STEP2_START200:
17953                            7334     ;       --------------------試し------------------------
17954                            7335     ;       "本仕様有／無ｼｰｹﾝｽ+有効/無効sw+角度範囲+停止指令",相手信号
17955 00003294 D111              7336             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17956 00003296 6011              7337             MOV.W   @R1,R0                                  ;
17957 00003298 941A              7338             MOV.W   #BIT12,R4                               ;
17958 0000329A 2048              7339             TST     R4,R0                                   ;
17959                            7340             TST_BIT_ON POSHLD1_STEP2_STARTEXT               ;
17960 0000329C 8B33                   M           BF      POSHLD1_STEP2_STARTEXT
17961                            7341     
17962                            7342     ;       ----------------起動条件成立--------------------------------
17963                            7343             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT2),WKREG=R1
                                          ;
17964 0000329E D110                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17965 000032A0 6011                   M           MOV.W   @R1,R0          ;
17966 000032A2 CB04                   M           OR      #(BIT2),R0              ;
17967 000032A4 2101                   M           MOV.W   R0,@R1          ;
17968                            7344             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_RESTARTCMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;RESTART
17969 000032A6 D10F                   M           MOV.L   #_POS_HOLD_RESTARTCMD,R1                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   213
PROGRAM NAME =

17970 000032A8 6011                   M           MOV.W   @R1,R0          ;
17971 000032AA CB01                   M           OR      #(BIT0),R0              ;
17972 000032AC 2101                   M           MOV.W   R0,@R1          ;
17973                            7345             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                          ;待機停止中
17974 000032AE D10E                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17975 000032B0 6011                   M           MOV.W   @R1,R0          ;
17976 000032B2 940E                   M           MOV.W   #LWORD (~BIT7),R4       ;
17977 000032B4 2049                   M           AND     R4,R0           ;
17978 000032B6 2101                   M           MOV.W   R0,@R1          ;
17979                            7346     ;;;;2015-02-20  MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT8),WKRG1=R1,WKR
                                          G2=R4           ;再起動ON
17980                            7347             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12|BIT8),WKRG1=R1,WKRG2
                                          =R4             ;再起動ON
17981 000032B8 D10B                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17982 000032BA 6011                   M           MOV.W   @R1,R0          ;
17983 000032BC 940A                   M           MOV.W   #(BIT12|BIT8),R4                ;
17984 000032BE 204B                   M           OR      R4,R0           ;
17985 000032C0 2101                   M           MOV.W   R0,@R1          ;
17986                            7348     
17987 000032C2 9008              7349             MOV.W   #D'20,R0                                ;
17988 000032C4 D109              7350             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1               ;20msecだけ再起動をONする
17989 000032C6 2101              7351             MOV.W   R0,@R1                                  ;
17990 000032C8 D109              7352             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1               ;2015-02-20追加　20msecだけ再起動
                                          または通過時
17991 000032CA 2101              7353             MOV.W   R0,@R1                                  ;
17992                            7354             M_BRA   POSHLD1_STEP2_STARTEXT
                                          ;
17993 000032CC A01B                   M           BRA     POSHLD1_STEP2_STARTEXT
17994 000032CE 0009                   M           NOP
17995                            7355     
17996                                     ***** BEGIN-POOL *****
17997 000032D0 1000                       DATA FOR SOURCE-LINE 7338
17998 000032D2 FF7F                       DATA FOR SOURCE-LINE 7345
17999 000032D4 1100                       DATA FOR SOURCE-LINE 7347
18000 000032D6 0014                       DATA FOR SOURCE-LINE 7349
18001 000032D8 00000000                   DATA FOR SOURCE-LINE 7325
18002 000032DC 00000000                   DATA FOR SOURCE-LINE 7336
18003 000032E0 00000000                   DATA FOR SOURCE-LINE 7343
18004 000032E4 00000000                   DATA FOR SOURCE-LINE 7344
18005 000032E8 00000000                   DATA FOR SOURCE-LINE 7345,7347
18006 000032EC 00000000                   DATA FOR SOURCE-LINE 7350
18007 000032F0 00000000                   DATA FOR SOURCE-LINE 7352
18008                                     ***** END-POOL *****
18009 000032F4                   7356     POSHLD1_STEP2_START500:
18010                            7357     
18011                            7358     
18012 000032F4 D506              7359             MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R5             ;
18013 000032F6 6151              7360             MOV.W   @R5,R1                                  ;
18014 000032F8 9008              7361             MOV.W   #BIT13,R0
18015 000032FA 210B              7362             OR      R0,R1
18016 000032FC 2511              7363             MOV.W   R1,@R5
18017                            7364     
18018 000032FE 9406              7365             MOV.W   #H'224D,R4                              ;2010-12-21
18019                            7366             FAR_JSR #_EXQ_STOP,R0                           ;EXQ_FLG
18020 00003300 D004                   M           MOV.L   #_EXQ_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18021 00003302 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   214
PROGRAM NAME =

18022 00003304 0009                   M           NOP                                     ;
18023                            7367     
18024 00003306                   7368     POSHLD1_STEP2_STARTEXT:
18025                            7369     
18026                            7370             SUB_END
18027                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18028 00003306 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18029                            7371             M_RTS
18030 00003308 000B                   M           RTS                             ;RTSの後ろの
18031 0000330A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18032                            7372     
18033                            7373     
18034                                     ***** BEGIN-POOL *****
18035 0000330C 2000                       DATA FOR SOURCE-LINE 7361
18036 0000330E 224D                       DATA FOR SOURCE-LINE 7365
18037 00003310 00000000                   DATA FOR SOURCE-LINE 7359
18038 00003314 00000000                   DATA FOR SOURCE-LINE 7366
18039                                     ***** END-POOL *****
18040 00003318                   7374     _POSHLD1_FLG_CLR:
18041                            7375             SUB_START
18042 00003318 4F22                   M           STS.L   PR,@-R15                ;[必要]
18043                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18044 0000331A 200A              7376             XOR     R0,R0
18045 0000331C D106              7377             MOV.L   #_POS_HLDSTOP1_FLG,R1   ;
18046 0000331E 2101              7378             MOV.W   R0,@R1                  ;
18047 00003320 D106              7379             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//
18048 00003322 2101              7380             MOV.W   R0,@R1
18049                            7381     
18050                            7382             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT7|BIT6),WKRG1=R1,WKRG2
                                          =R4     ;
18051 00003324 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18052 00003326 6011                   M           MOV.W   @R1,R0          ;
18053 00003328 9404                   M           MOV.W   #LWORD ~(BIT7|BIT6),R4  ;
18054 0000332A 2049                   M           AND     R4,R0           ;
18055 0000332C 2101                   M           MOV.W   R0,@R1          ;
18056                            7383     
18057                            7384             SUB_END
18058                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18059 0000332E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18060                            7385             M_RTS
18061 00003330 000B                   M           RTS                             ;RTSの後ろの
18062 00003332 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18063                            7386     
18064                            7387     
18065                            7388     
18066                            7389     
18067                            7390     
18068                                     ***** BEGIN-POOL *****
18069 00003334 FF3F                       DATA FOR SOURCE-LINE 7382
18070 00003336 0000                       ALIGNMENT CODE
18071 00003338 00000000                   DATA FOR SOURCE-LINE 7377
18072 0000333C 00000000                   DATA FOR SOURCE-LINE 7379
18073 00003340 00000000                   DATA FOR SOURCE-LINE 7382
18074                                     ***** END-POOL *****
18075 00003344                   7391     _POSHLD1_SIG_CHK
18076                            7392             SUB_START
18077 00003344 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   215
PROGRAM NAME =

18078                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18079                            7393     ;       --------- 再起動信号--------------
18080 00003346 D507              7394             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
18081 00003348 6351              7395             MOV.W   @R5,R3
18082 0000334A 9409              7396             MOV.W   #BIT8,R4
18083 0000334C 2348              7397             TST     R4,R3
18084                            7398             TST_BIT_OF POSHLD1_SIGCHK_200   ;
18085 0000334E 8910                   M           BT      POSHLD1_SIGCHK_200
18086                            7399     
18087 00003350 D105              7400             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;       //100msecだけ再起動をONする
18088 00003352 6011              7401             MOV.W   @R1,R0                          ;
18089 00003354 2008              7402             TST     R0,R0
18090                            7403             TST_BIT_OF POSHLD1_SIGCHK_100           ;
18091 00003356 8909                   M           BT      POSHLD1_SIGCHK_100
18092 00003358 70FF              7404             ADD     #-1,R0
18093 0000335A 2101              7405             MOV.W   R0,@R1
18094                            7406             M_BRA   POSHLD1_SIGCHK_200
18095 0000335C A009                   M           BRA     POSHLD1_SIGCHK_200
18096 0000335E 0009                   M           NOP
18097                                     ***** BEGIN-POOL *****
18098 00003360 0100                       DATA FOR SOURCE-LINE 7396
18099 00003362 0000                       ALIGNMENT CODE
18100 00003364 00000000                   DATA FOR SOURCE-LINE 7394
18101 00003368 00000000                   DATA FOR SOURCE-LINE 7400
18102                                     ***** END-POOL *****
18103 0000336C                   7407     POSHLD1_SIGCHK_100
18104 0000336C 6447              7408             NOT     R4,R4
18105 0000336E 2349              7409             AND     R4,R3
18106 00003370 2531              7410             MOV.W   R3,@R5                          ;
18107                            7411     
18108 00003372                   7412     POSHLD1_SIGCHK_200
18109                            7413     
18110                            7414     
18111                            7415     
18112                            7416     ;       --------- 通過信号2015-02-20--------------
18113 00003372 D507              7417             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
18114 00003374 6351              7418             MOV.W   @R5,R3
18115 00003376 9409              7419             MOV.W   #BIT12,R4
18116 00003378 2348              7420             TST     R4,R3
18117                            7421             TST_BIT_OF POSHLD1_SIGCHK_400   ;
18118 0000337A 8910                   M           BT      POSHLD1_SIGCHK_400
18119                            7422     
18120 0000337C D105              7423             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;       //100msecだけ再起動をONする
18121 0000337E 6011              7424             MOV.W   @R1,R0                          ;
18122 00003380 2008              7425             TST     R0,R0
18123                            7426             TST_BIT_OF POSHLD1_SIGCHK_300           ;
18124 00003382 8909                   M           BT      POSHLD1_SIGCHK_300
18125 00003384 70FF              7427             ADD     #-1,R0
18126 00003386 2101              7428             MOV.W   R0,@R1
18127                            7429             M_BRA   POSHLD1_SIGCHK_400
18128 00003388 A009                   M           BRA     POSHLD1_SIGCHK_400
18129 0000338A 0009                   M           NOP
18130                                     ***** BEGIN-POOL *****
18131 0000338C 1000                       DATA FOR SOURCE-LINE 7419
18132 0000338E 0000                       ALIGNMENT CODE
18133 00003390 00000000                   DATA FOR SOURCE-LINE 7417
18134 00003394 00000000                   DATA FOR SOURCE-LINE 7423
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   216
PROGRAM NAME =

18135                                     ***** END-POOL *****
18136 00003398                   7430     POSHLD1_SIGCHK_300
18137 00003398 6447              7431             NOT     R4,R4
18138 0000339A 2349              7432             AND     R4,R3
18139 0000339C 2531              7433             MOV.W   R3,@R5                          ;
18140                            7434     
18141 0000339E                   7435     POSHLD1_SIGCHK_400
18142                            7436     
18143                            7437             SUB_END
18144                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18145 0000339E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18146                            7438             M_RTS
18147 000033A0 000B                   M           RTS                             ;RTSの後ろの
18148 000033A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18149                            7439     
18150                            7440     ;       *******************************************
18151                            7441     ;       ***                                     ***
18152                            7442     ;       ***     複数個で一旦停止を行える構造    ***
18153                            7443     ;       ***                                     ***
18154                            7444     ;       ***                                     ***
18155                            7445     ;       *******************************************
18156                            7446     ;
18157                            7447     ;
18158                            7448     ;_POS_HLDSTOP1_FLG;     //位置決め状態、準備未完了状態にて行う
18159 000033A4                   7449     _POS_HOLD_RESTART_CHK:
18160                            7450             SUB_START
18161 000033A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18162                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18163                            7451             FAR_JSR #_POSHLD1_STEP2_START_CHK,R0            ;ｺﾏﾝﾄﾞで出力
18164 000033A6 D003                   M           MOV.L   #_POSHLD1_STEP2_START_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18165 000033A8 400B                   M           JSR     @R0                     ;
18166 000033AA 0009                   M           NOP                                     ;
18167                            7452     
18168                            7453             SUB_END
18169                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18170 000033AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18171                            7454             M_RTS
18172 000033AE 000B                   M           RTS                             ;RTSの後ろの
18173 000033B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18174                            7455     
18175                            7456     
18176                            7457     
18177                            7458     
18178                                     ***** BEGIN-POOL *****
18179 000033B2 0000                       ALIGNMENT CODE
18180 000033B4 00000000                   DATA FOR SOURCE-LINE 7451
18181                                     ***** END-POOL *****
18182 000033B8                   7459     _HOLD_RESTART_OF_OUT:
18183                            7460             SUB_START
18184 000033B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18185                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18186                            7461             FAR_JSR #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;
18187 000033BA D003                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18188 000033BC 400B                   M           JSR     @R0                     ;
18189 000033BE 0009                   M           NOP                                     ;
18190                            7462             SUB_END
18191                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   217
PROGRAM NAME =

18192 000033C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18193                            7463             M_RTS
18194 000033C2 000B                   M           RTS                             ;RTSの後ろの
18195 000033C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18196                            7464     
18197                            7465     
18198                            7466     ;       -----R0=0 RESTART-OK----------
18199                                     ***** BEGIN-POOL *****
18200 000033C6 0000                       ALIGNMENT CODE
18201 000033C8 00000000                   DATA FOR SOURCE-LINE 7461
18202                                     ***** END-POOL *****
18203 000033CC                   7467     _HOLD_RESTART_BA_JG:
18204                            7468             SUB_START
18205 000033CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18206                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18207                            7469             FAR_JSR #_CPU_BA_DRVHLDSTOP_OF_JG,R0    ;R0=0 起動 とりあえず１個
18208 000033CE D003                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_OF_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18209 000033D0 400B                   M           JSR     @R0                     ;
18210 000033D2 0009                   M           NOP                                     ;
18211                            7470             SUB_END
18212                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18213 000033D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18214                            7471             M_RTS
18215 000033D6 000B                   M           RTS                             ;RTSの後ろの
18216 000033D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18217                            7472     
18218                            7473     ;       -----R0=0 RESTART-OK----------
18219                            7474     ;;;;;;;;;;_HOLD_STOP_BA_JG:
18220                            7475     ;;;;;;;;;;      SUB_START
18221                            7476     ;;;;;;;;;;      FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0    ;R0=FFFF 停止 とりあえず1個(複数時
                                          でもどれか１つがFFFFでいいと思う)
18222                            7477     ;;;;;;;;;;      SUB_END
18223                            7478     ;;;;;;;;;       M_RTS
18224                            7479     
18225                            7480     
18226                            7481     
18227                            7482     
18228                                     ***** BEGIN-POOL *****
18229 000033DA 0000                       ALIGNMENT CODE
18230 000033DC 00000000                   DATA FOR SOURCE-LINE 7469
18231                                     ***** END-POOL *****
18232 000033E0                   7483     _POS_HOLD_FLG_CLR:
18233                            7484             SUB_START
18234 000033E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18235                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18236                            7485     
18237 000033E2 200A              7486             XOR     R0,R0
18238 000033E4 D105              7487             MOV.L   #_POS_HOLD_RESTARTCMD,R1
18239 000033E6 2101              7488             MOV.W   R0,@R1
18240 000033E8 D105              7489             MOV.L   #_POS_HOLD_CMD,R1
18241 000033EA 2101              7490             MOV.W   R0,@R1
18242 000033EC D105              7491             MOV.L   #_POS_HOLD_FLG,R1
18243 000033EE 2101              7492             MOV.W   R0,@R1
18244                            7493     
18245                            7494             FAR_JSR #_POSHLD1_FLG_CLR,R0            ;
18246 000033F0 D005                   M           MOV.L   #_POSHLD1_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18247 000033F2 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   218
PROGRAM NAME =

18248 000033F4 0009                   M           NOP                                     ;
18249                            7495     
18250                            7496             SUB_END
18251                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18252 000033F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18253                            7497             M_RTS
18254 000033F8 000B                   M           RTS                             ;RTSの後ろの
18255 000033FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18256                            7498     
18257                            7499     ;
18258                                     ***** BEGIN-POOL *****
18259 000033FC 00000000                   DATA FOR SOURCE-LINE 7487
18260 00003400 00000000                   DATA FOR SOURCE-LINE 7489
18261 00003404 00000000                   DATA FOR SOURCE-LINE 7491
18262 00003408 00000000                   DATA FOR SOURCE-LINE 7494
18263                                     ***** END-POOL *****
18264 0000340C                   7500     _POS_HOLD_FLG_STR2CLR:
18265                            7501             SUB_START
18266 0000340C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18267                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18268 0000340E 200A              7502             XOR     R0,R0
18269 00003410 D102              7503             MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
18270 00003412 2101              7504             MOV.W   R0,@R1                  ;
18271                            7505     
18272                            7506     ;;;;;;;;;;      MOV.L   #_POS_HOLD_RDY_EXITF2,R1;//しょうがない
18273                            7507     ;;;;;;;;;;      MOV.W   R0,@R1                  ;
18274                            7508     
18275                            7509             SUB_END
18276                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18277 00003414 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18278                            7510             M_RTS
18279 00003416 000B                   M           RTS                             ;RTSの後ろの
18280 00003418 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18281                            7511     
18282                            7512     
18283                            7513     
18284                            7514     
18285                            7515     
18286                            7516     ;       *******************************************
18287                            7517     ;       ***                                     ***
18288                            7518     ;       ***     ｽﾗｲﾄﾞ位置自動待機中信号         ***
18289                            7519     ;       ***     ﾌﾞﾚｰｷを解除するﾀｲﾐﾝｸﾞ           ***
18290                            7520     ;       ***     2017-05-12                      ***
18291                            7521     ;       ***                                     ***
18292                            7522     ;       *******************************************
18293                                     ***** BEGIN-POOL *****
18294 0000341A 0000                       ALIGNMENT CODE
18295 0000341C 00000000                   DATA FOR SOURCE-LINE 7503
18296                                     ***** END-POOL *****
18297 00003420                   7523     _API_HOLD_WAIT_BRKOFF_SIG
18298                            7524             SUB_START
18299 00003420 4F22                   M           STS.L   PR,@-R15                ;[必要]
18300                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18301                            7525     
18302 00003422 222A              7526             XOR     R2,R2
18303                            7527     
18304 00003424 D107              7528             MOV.L   #(_PAR_POSHLD_BRKSEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1  ;2017-05-10　CE3-9
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   219
PROGRAM NAME =

                                          9 自動待機中に連続時ﾌﾞﾚｰｷかける(0)/かけない(1)
18305 00003426 6011              7529             MOV.W   @R1,R0                                                  ;
18306 00003428 8801              7530             CMP/EQ  #1,R0                                                   ;
18307 0000342A 8B07              7531             BF      API_HOLD_WAIT_BRKOFFSIG_END                             ;
18308                            7532     
18309 0000342C D106              7533             MOV.L   #_MODE_SEL,R1                                           ;
18310 0000342E 6011              7534             MOV.W   @R1,R0                                                  ;
18311 00003430 C808              7535             TST     #_W1CNT,R0                                              ;
18312                            7536             TST_BIT_OF API_HOLD_WAIT_BRKOFFSIG_END                          ;
18313 00003432 8903                   M           BT      API_HOLD_WAIT_BRKOFFSIG_END
18314                            7537     
18315                            7538     
18316                            7539             FAR_JSR #_HOLD_WAIT_DURING_SIG,R0
18317 00003434 D005                   M           MOV.L   #_HOLD_WAIT_DURING_SIG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18318 00003436 400B                   M           JSR     @R0                     ;
18319 00003438 0009                   M           NOP                                     ;
18320 0000343A 6203              7540             MOV     R0,R2                                                   ;
18321                            7541     
18322 0000343C                   7542     API_HOLD_WAIT_BRKOFFSIG_END                                             ;
18323 0000343C 6023              7543             MOV     R2,R0                                                   ;
18324                            7544     
18325                            7545             SUB_END
18326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18327 0000343E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18328                            7546             M_RTS
18329 00003440 000B                   M           RTS                             ;RTSの後ろの
18330 00003442 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18331                            7547     
18332                            7548     
18333                                     ***** BEGIN-POOL *****
18334 00003444 00000000                   DATA FOR SOURCE-LINE 7528
18335 00003448 00000000                   DATA FOR SOURCE-LINE 7533
18336 0000344C 00000000                   DATA FOR SOURCE-LINE 7539
18337                                     ***** END-POOL *****
18338 00003450                   7549     _HOLD_WAIT_DURING_SIG
18339                            7550             SUB_START
18340 00003450 4F22                   M           STS.L   PR,@-R15                ;[必要]
18341                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18342                            7551     
18343 00003452 222A              7552             XOR     R2,R2
18344 00003454 D107              7553             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;起動のCPUA/Bﾊﾝﾄﾞｼｪｲｸ中
18345 00003456 6011              7554             MOV.W   @R1,R0                          ;
18346 00003458 C901              7555             AND     #BIT0,R0
18347 0000345A 220B              7556             OR      R0,R2                           ;
18348                            7557     
18349 0000345C D106              7558             MOV.L   #_POS_HOLD_FLG,R1
18350 0000345E 6011              7559             MOV.W   @R1,R0
18351 00003460 C907              7560             AND     #(BIT2+BIT1+BIT0),R0            ;BIT0:ｺﾏﾝﾄﾞ受付,BIT1(待機中):,BIT2再起動中
18352 00003462 220B              7561             OR      R0,R2                           ;
18353                            7562     
18354 00003464 D105              7563             MOV.L   #_POS_HOLD_CMD,R1               ;
18355 00003466 6011              7564             MOV.W   @R1,R0                          ;
18356 00003468 C901              7565             AND     #(BIT0),R0                      ;BIT0
18357 0000346A 220B              7566             OR      R0,R2                           ;
18358                            7567     
18359 0000346C 6023              7568             MOV     R2,R0                           ;
18360                            7569     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   220
PROGRAM NAME =

18361                            7570             SUB_END
18362                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18363 0000346E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18364                            7571             M_RTS
18365 00003470 000B                   M           RTS                             ;RTSの後ろの
18366 00003472 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18367                            7572     
18368                            7573     
18369                            7574     
18370                            7575     
18371                            7576     
18372                            7577     
18373                            7578     
18374                            7579     
18375                            7580     
18376                            7581     
18377                            7582     ;       ***********************************
18378                            7583     ;       ***     EXQ,EMG時の内部ｸﾘｱ      ***
18379                            7584     ;       ***********************************
18380                                     ***** BEGIN-POOL *****
18381 00003474 00000000                   DATA FOR SOURCE-LINE 7553
18382 00003478 00000000                   DATA FOR SOURCE-LINE 7558
18383 0000347C 00000000                   DATA FOR SOURCE-LINE 7563
18384                                     ***** END-POOL *****
18385 00003480                   7585     _POS_HOLD_FLG_EXQ_CLR:
18386                            7586             SUB_START
18387 00003480 4F22                   M           STS.L   PR,@-R15                ;[必要]
18388                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18389                            7587     
18390                            7588             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
18391 00003482 D00E                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18392 00003484 400B                   M           JSR     @R0                     ;
18393 00003486 0009                   M           NOP                                     ;
18394                            7589             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
18395 00003488 D00D                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18396 0000348A 400B                   M           JSR     @R0                     ;
18397 0000348C 0009                   M           NOP                                     ;
18398                            7590     
18399 0000348E 200A              7591             XOR     R0,R0                           ;
18400 00003490 D10C              7592             MOV.L   #_POSHLD1_STOPLATCH,R1          ;//停止前、停止中に停止釦相当が発生したか?
18401 00003492 2101              7593             MOV.W   R0,@R1                          ;
18402                            7594     
18403 00003494 D10C              7595             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;251.8   20msecだけ再起動をONする
18404 00003496 2101              7596             MOV.W   R0,@R1                          ;
18405 00003498 D10C              7597             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;251.12  20msecだけ通過時もしくは再起動時O
                                          Nする[2015-02-20]
18406 0000349A 2101              7598             MOV.W   R0,@R1                          ;
18407                            7599     
18408                            7600     ;       ---     2015-02-20 BIT9は設定条件       ---
18409                            7601             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT12|BIT8|BIT7|BIT6),WKR
                                          G1=R1,WKRG2=R4  ;
18410 0000349C D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18411 0000349E 6011                   M           MOV.W   @R1,R0          ;
18412 000034A0 940A                   M           MOV.W   #LWORD ~(BIT12|BIT8|BIT7|BIT6),R4       ;
18413 000034A2 2049                   M           AND     R4,R0           ;
18414 000034A4 2101                   M           MOV.W   R0,@R1          ;
18415                            7602     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   221
PROGRAM NAME =

18416                            7603     
18417                            7604             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;DPRAM ｺﾏﾝﾄﾞｸﾘｱ
18418 000034A6 D00B                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18419 000034A8 400B                   M           JSR     @R0                     ;
18420 000034AA 0009                   M           NOP                                     ;
18421                            7605             FAR_JSR #_RDY_HOLDSTP_OF_FLGOUT,R0      ;
18422 000034AC D00A                   M           MOV.L   #_RDY_HOLDSTP_OF_FLGOUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18423 000034AE 400B                   M           JSR     @R0                     ;
18424 000034B0 0009                   M           NOP                                     ;
18425                            7606     
18426                            7607     
18427                            7608     
18428                            7609     
18429                            7610             SUB_END
18430                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18431 000034B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18432                            7611             M_RTS
18433 000034B4 000B                   M           RTS                             ;RTSの後ろの
18434 000034B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18435                            7612     
18436                            7613     ;EMG,EXQなのでRDY_CHECKは通らないから強制OFF[2015-02-20]
18437                                     ***** BEGIN-POOL *****
18438 000034B8 EE3F                       DATA FOR SOURCE-LINE 7601
18439 000034BA 0000                       ALIGNMENT CODE
18440 000034BC 00000000                   DATA FOR SOURCE-LINE 7588
18441 000034C0 00000000                   DATA FOR SOURCE-LINE 7589
18442 000034C4 00000000                   DATA FOR SOURCE-LINE 7592
18443 000034C8 00000000                   DATA FOR SOURCE-LINE 7595
18444 000034CC 00000000                   DATA FOR SOURCE-LINE 7597
18445 000034D0 00000000                   DATA FOR SOURCE-LINE 7601
18446 000034D4 00000000                   DATA FOR SOURCE-LINE 7604
18447 000034D8 00000000                   DATA FOR SOURCE-LINE 7605
18448                                     ***** END-POOL *****
18449 000034DC                   7614     _RDY_HOLDSTP_OF_FLGOUT:
18450                            7615             SUB_START
18451 000034DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18452                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18453 000034DE 200A              7616             XOR     R0,R0
18454 000034E0 D103              7617             MOV.L   #_SH4_HD_HLDSTOP2,R1
18455 000034E2 2101              7618             MOV.W   R0,@R1
18456 000034E4 D103              7619             MOV.L   #_SH2_HD_HLDSTOP2,R1
18457 000034E6 2101              7620             MOV.W   R0,@R1
18458                            7621             SUB_END
18459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18460 000034E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18461                            7622             M_RTS
18462 000034EA 000B                   M           RTS                             ;RTSの後ろの
18463 000034EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18464                            7623     
18465                            7624     
18466                                     ***** BEGIN-POOL *****
18467 000034EE 0000                       ALIGNMENT CODE
18468 000034F0 00000000                   DATA FOR SOURCE-LINE 7617
18469 000034F4 00000000                   DATA FOR SOURCE-LINE 7619
18470                                     ***** END-POOL *****
18471 000034F8                   7625     _RDY_HOLDSTP_FLGOUT:
18472                            7626             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   222
PROGRAM NAME =

18473 000034F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18474                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18475                            7627     
18476 000034FA D103              7628             MOV.L   #_POS_HOLD_FLG,R1       ;
18477 000034FC 6011              7629             MOV.W   @R1,R0                  ;
18478                            7630     
18479                            7631             .AIF    1 EQ    0       ;
18480                            7632             MOV.L   #_SH4_HD_HLDSTOP2,R1
18481                            7633             .AELSE
18482 000034FE D103              7634 C           MOV.L   #_SH2_HD_HLDSTOP2,R1
18483                            7635             .AENDI
18484 00003500 2101              7636             MOV.W   R0,@R1
18485                            7637     
18486                            7638             SUB_END
18487                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18488 00003502 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18489                            7639             M_RTS
18490 00003504 000B                   M           RTS                             ;RTSの後ろの
18491 00003506 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18492                            7640     
18493                                     ***** BEGIN-POOL *****
18494 00003508 00000000                   DATA FOR SOURCE-LINE 7628
18495 0000350C 00000000                   DATA FOR SOURCE-LINE 7634
18496                                     ***** END-POOL *****
18497 00003510                   7641     _HOLD_STOP_BA_JG:
18498                            7642             SUB_START
18499 00003510 4F22                   M           STS.L   PR,@-R15                ;[必要]
18500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18501                            7643     
18502                            7644             .AIF    1 EQ    0       ;
18503                            7645             MOV.L   #_SH2_HD_HLDSTOP2,R1
18504                            7646             .AELSE
18505 00003512 D102              7647 C           MOV.L   #_SH4_HD_HLDSTOP2,R1
18506                            7648             .AENDI
18507 00003514 6011              7649             MOV.W   @R1,R0
18508                            7650     
18509                            7651             SUB_END
18510                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18511 00003516 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18512                            7652             M_RTS
18513 00003518 000B                   M           RTS                             ;RTSの後ろの
18514 0000351A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18515                            7653     
18516                            7654     
18517                            7655     ;       *******************************************
18518                            7656     ;       ***                                     ***
18519                            7657     ;       ***                                     ***
18520                            7658     ;       ***                                     ***
18521                            7659     ;       ***     寸動任意角度起動                ***
18522                            7660     ;       ***                                     ***
18523                            7661     ;       ***                                     ***
18524                            7662     ;       ***                                     ***
18525                            7663     ;       *******************************************
18526                            7664     
18527                            7665     ;       *******************************************
18528                            7666     ;       ***                                     ***
18529                            7667     ;       ***     EMG時ワーククリア               ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   223
PROGRAM NAME =

18530                            7668     ;       ***                                     ***
18531                            7669     ;       *******************************************
18532                            7670     ;       起動時もCALLされる
18533                            7671             .EXPORT _INC_RST_WORK_CLR
18534                                     ***** BEGIN-POOL *****
18535 0000351C 00000000                   DATA FOR SOURCE-LINE 7647
18536                                     ***** END-POOL *****
18537 00003520                   7672     _INC_RST_WORK_CLR
18538                            7673             SUB_START                               ;
18539 00003520 4F22                   M           STS.L   PR,@-R15                ;[必要]
18540                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18541 00003522 200A              7674             XOR     R0,R0                           ;
18542 00003524 D103              7675             MOV.L   #_INC_RESET_STEP,R1             ;//0,1:1ｽﾃｯﾌﾟから起動 2~11
18543 00003526 2101              7676             MOV.W   R0,@R1                          ;//
18544                            7677     
18545 00003528 D103              7678             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18546 0000352A 2101              7679             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18547                            7680     
18548                            7681             SUB_END                                 ;
18549                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18550 0000352C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18551                            7682             M_RTS                                   ;
18552 0000352E 000B                   M           RTS                             ;RTSの後ろの
18553 00003530 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18554                            7683     
18555                            7684     ;       *******************************************
18556                            7685     ;       ***                                     ***
18557                            7686     ;       ***     リセット時の開始行程判断        ***
18558                            7687     ;       ***                                     ***
18559                            7688     ;       *******************************************
18560                            7689             .IMPORT _POS_STEP1_SEARCH               ;
18561                            7690     
18562                                     ***** BEGIN-POOL *****
18563 00003532 0000                       ALIGNMENT CODE
18564 00003534 00000000                   DATA FOR SOURCE-LINE 7675
18565 00003538 00000000                   DATA FOR SOURCE-LINE 7678
18566                                     ***** END-POOL *****
18567 0000353C                   7691     _INC_RSTMODE_CHK
18568                            7692             SUB_START                                                       ;
18569 0000353C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18570                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18571                            7693     
18572                            7694             FAR_JSR #_INC_SPEC_RSTCHK,R0                    ;ｼｽﾊﾟﾗが有効で且つ寸動
18573 0000353E D004                   M           MOV.L   #_INC_SPEC_RSTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18574 00003540 400B                   M           JSR     @R0                     ;
18575 00003542 0009                   M           NOP                                     ;
18576                            7695     
18577 00003544 222A              7696             XOR     R2,R2                                   ;
18578 00003546 2008              7697             TST     R0,R0
18579                            7698             TST_BIT_ON INC_RSTMODECK020                     ;寸動で且つ、リセット有効
18580 00003548 8B04                   M           BF      INC_RSTMODECK020
18581                            7699             M_BRA   INC_RSTMODECK499                        ;特殊なﾓｰﾄﾞではない
18582 0000354A A08A                   M           BRA     INC_RSTMODECK499
18583 0000354C 0009                   M           NOP
18584                            7700     
18585                                     ***** BEGIN-POOL *****
18586 0000354E 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   224
PROGRAM NAME =

18587 00003550 00000000                   DATA FOR SOURCE-LINE 7694
18588                                     ***** END-POOL *****
18589 00003554                   7701     INC_RSTMODECK020
18590                            7702     
18591                            7703     ;       ----------------------------------
18592 00003554 D104              7704             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18593 00003556 6011              7705             MOV.W   @R1,R0                                  ;
18594 00003558 C804              7706             TST     #(_DMATH_DNDRIV),R0                     ;
18595                            7707             TST_BIT_OF INC_RSTMODECK100                     ;振子でない
18596 0000355A 8909                   M           BT      INC_RSTMODECK100
18597                            7708     
18598 0000355C D403              7709             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
18599 0000355E 6041              7710             MOV.W   @R4,R0
18600 00003560 C890              7711             TST     #(BIT7+BIT4),R0                         ;
18601                            7712             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18602 00003562 8B7D                   M           BF      INC_RSTMODECK490
18603                            7713             M_BRA   INC_RSTMODECK200                        ;
18604 00003564 A008                   M           BRA     INC_RSTMODECK200
18605 00003566 0009                   M           NOP
18606                            7714     
18607                            7715     
18608                                     ***** BEGIN-POOL *****
18609 00003568 00000000                   DATA FOR SOURCE-LINE 7704
18610 0000356C 00000000                   DATA FOR SOURCE-LINE 7709
18611                                     ***** END-POOL *****
18612 00003570                   7716     INC_RSTMODECK100
18613 00003570 D412              7717             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
18614 00003572 6041              7718             MOV.W   @R4,R0                                  ;
18615 00003574 C810              7719             TST     #BIT4,R0                                ;左側
18616                            7720             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18617 00003576 8B73                   M           BF      INC_RSTMODECK490
18618                            7721     
18619                            7722     ;       --------- 待機点にいない いままではここはＮＧ区間-----------
18620 00003578                   7723     INC_RSTMODECK200
18621                            7724     
18622                            7725             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0          ;
18623 00003578 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18624 0000357A 400B                   M           JSR     @R0                     ;
18625 0000357C 0009                   M           NOP                                     ;
18626                            7726             FAR_JSR #_NOW_INC_DIG_MAK,R0            ;
18627 0000357E D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18628 00003580 400B                   M           JSR     @R0                     ;
18629 00003582 0009                   M           NOP                                     ;
18630                            7727     
18631                            7728     
18632 00003584 D110              7729             MOV.L   #_LINK_NOWROT_OFSPLS_P,R1               ;[[[目標]]]
18633 00003586 6712              7730             MOV.L   @R1,R7                                  ;
18634                            7731     
18635                            7732     ;       -------2018-01-25[回転で待機点359度のとき 0の場合は問題なし]-----------
18636                            7733             FAR_JSR #_INC_RST_DATA_CHK,R0                   ;input R7 /output R7
18637 00003588 D010                   M           MOV.L   #_INC_RST_DATA_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18638 0000358A 400B                   M           JSR     @R0                     ;
18639 0000358C 0009                   M           NOP                                     ;
18640                            7734     ;       -------------- 2018-01-25 追加----------------
18641                            7735     
18642                            7736     ;       -----------INPUT R7--------------------
18643                            7737             FAR_JSR #_POS_STEP1_SEARCH,R0                   ;INPUT R7
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   225
PROGRAM NAME =

18644 0000358E D010                   M           MOV.L   #_POS_STEP1_SEARCH,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18645 00003590 400B                   M           JSR     @R0                     ;
18646 00003592 0009                   M           NOP                                     ;
18647                            7738                                                             ;OUTPUT R0(R6):ｽﾃｯﾌﾟ R5方向
18648                            7739                                                             ;R2(Sn),R3(Sn_1),R7(入力=目標位置)
18649 00003594 2008              7740             TST     R0,R0                                   ;
18650                            7741             TST_BIT_OF INC_RSTMODECK490                     ;OKにはできない
18651 00003596 8963                   M           BT      INC_RSTMODECK490
18652 00003598 D10E              7742             MOV.L   #_INC_RESET_STEP,R1                     ;
18653 0000359A 2101              7743             MOV.W   R0,@R1                                  ;開始行程
18654                            7744     
18655                            7745     ;       -- R5=方向 BIT1=0(正)/1(逆)---
18656 0000359C D10E              7746             MOV.L   #(_PAR_INCMODE_EPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
18657 0000359E 6011              7747             MOV.W   @R1,R0                                                  ;
18658 000035A0 2008              7748             TST     R0,R0                                                   ;
18659                            7749             TST_BIT_OF INC_RSTMODECK280                                     ;
18660 000035A2 8929                   M           BT      INC_RSTMODECK280
18661                            7750     
18662 000035A4 E402              7751             MOV.B   #BIT1,R4                                ;
18663 000035A6 2548              7752             TST     R4,R5                                   ;
18664                            7753             TST_BIT_OF INC_RSTMODECK240                     ;方向
18665 000035A8 8918                   M           BT      INC_RSTMODECK240
18666 000035AA 600B              7754             NEG     R0,R0                                   ;
18667 000035AC 307C              7755             ADD     R7,R0                                   ;
18668                            7756     
18669                            7757             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R7,MINRG=R0    ;T=1:範囲内　R7 >= R2 => R0(R7-α)
                                          　なら次行程
18670 000035AE 3203                   M           CMP/GE  R0,R2           ;MIN =< DT THEN T=1
18671 000035B0 8B00                   M           BF      JMP0100003                      ;DT < MIN T=0
18672 000035B2 3723                   M           CMP/GE  R2,R7           ;
18673 000035B4                        M   JMP0100003                                      ;
18674 000035B4 8917              7758             BT      INC_RSTMODECK260                        ;
18675                            7759             M_BRA   INC_RSTMODECK280                        ;範囲内ではない
18676 000035B6 A01F                   M           BRA     INC_RSTMODECK280
18677 000035B8 0009                   M           NOP
18678                            7760     
18679                                     ***** BEGIN-POOL *****
18680 000035BA 0000                       ALIGNMENT CODE
18681 000035BC 00000000                   DATA FOR SOURCE-LINE 7717
18682 000035C0 00000000                   DATA FOR SOURCE-LINE 7725
18683 000035C4 00000000                   DATA FOR SOURCE-LINE 7726
18684 000035C8 00000000                   DATA FOR SOURCE-LINE 7729
18685 000035CC 00000000                   DATA FOR SOURCE-LINE 7733
18686 000035D0 00000000                   DATA FOR SOURCE-LINE 7737
18687 000035D4 00000000                   DATA FOR SOURCE-LINE 7742
18688 000035D8 00000000                   DATA FOR SOURCE-LINE 7746
18689                                     ***** END-POOL *****
18690 000035DC                   7761     INC_RSTMODECK240                                        ;
18691 000035DC 307C              7762             ADD     R7,R0                                   ;
18692                            7763             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R0,MINRG=R7    ;T=1:範囲内　R7=<R2<=R0(R7+α)なら
                                          次行程
18693 000035DE 3273                   M           CMP/GE  R7,R2           ;MIN =< DT THEN T=1
18694 000035E0 8B00                   M           BF      JMP0100004                      ;DT < MIN T=0
18695 000035E2 3023                   M           CMP/GE  R2,R0           ;
18696 000035E4                        M   JMP0100004                                      ;
18697 000035E4 8B08              7764             BF      INC_RSTMODECK280                        ;範囲内ではない2016-05-17抜けてい
                                          た
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   226
PROGRAM NAME =

18698 000035E6                   7765     INC_RSTMODECK260                                        ;
18699                            7766     
18700 000035E6 D50D              7767             MOV.L   #_INC_RESET_STEP,R5                     ;
18701 000035E8 6051              7768             MOV.W   @R5,R0                                  ;
18702 000035EA 7001              7769             ADD     #1,R0
18703 000035EC D40C              7770             MOV.L   #_SETX_POS_STEP_MAX,R4                  ;
18704 000035EE 6141              7771             MOV.W   @R4,R1                                  ;
18705 000035F0 7101              7772             ADD     #1,R1                                   ;
18706 000035F2 3103              7773             CMP/GE  R0,R1                                   ;
18707 000035F4 8B00              7774             BF      INC_RSTMODECK280                        ;ｵｰﾊﾞしてしまう
18708 000035F6 2501              7775             MOV.W   R0,@R5                                  ;
18709                            7776     
18710                            7777     
18711 000035F8                   7778     INC_RSTMODECK280
18712 000035F8 D10A              7779             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18713 000035FA 6011              7780             MOV.W   @R1,R0                                  ;
18714 000035FC C804              7781             TST     #(_DMATH_DNDRIV),R0                     ;
18715                            7782             TST_BIT_OF INC_RSTMODECK300                     ;ふりこではない
18716 000035FE 8921                   M           BT      INC_RSTMODECK300
18717                            7783     
18718                            7784     ;       ------前回がﾓｰｼｮﾝ運転ならその運転の方向を引き継ぐ[2014-11-10]-----
18719 00003600 D109              7785             MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
18720 00003602 6011              7786             MOV.W   @R1,R0                          ;
18721 00003604 C801              7787             TST     #BIT0,R0                        ;
18722                            7788             TST_BIT_OF INC_RSTMODECK290             ;前はﾓｰｼｮﾝではないorふりこではない
18723 00003606 8915                   M           BT      INC_RSTMODECK290
18724                            7789     
18725 00003608 D108              7790             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
18726 0000360A 6011              7791             MOV.W   @R1,R0                          ;
18727 0000360C C801              7792             TST     #BIT0,R0                        ;
18728                            7793             TST_BIT_OF INC_RSTMODECK300             ;正
18729 0000360E 8919                   M           BT      INC_RSTMODECK300
18730                            7794     
18731                            7795             FAR_JSR #_DNM_DATA_REV_SET,R0           ;逆
18732 00003610 D007                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18733 00003612 400B                   M           JSR     @R0                     ;
18734 00003614 0009                   M           NOP                                     ;
18735                            7796             M_BRA   INC_RSTMODECK300                ;
18736 00003616 A015                   M           BRA     INC_RSTMODECK300
18737 00003618 0009                   M           NOP
18738                            7797     
18739                            7798     
18740                            7799     
18741                                     ***** BEGIN-POOL *****
18742 0000361A 0000                       ALIGNMENT CODE
18743 0000361C 00000000                   DATA FOR SOURCE-LINE 7767
18744 00003620 00000000                   DATA FOR SOURCE-LINE 7770
18745 00003624 00000000                   DATA FOR SOURCE-LINE 7779
18746 00003628 00000000                   DATA FOR SOURCE-LINE 7785
18747 0000362C 00000000                   DATA FOR SOURCE-LINE 7790
18748 00003630 00000000                   DATA FOR SOURCE-LINE 7795
18749                                     ***** END-POOL *****
18750 00003634                   7800     INC_RSTMODECK290
18751                            7801     
18752 00003634 930C              7802             MOV.W   #_UPDN_DIRJG_DIG,R3                     ;               .EQU    1800    ;
18753 00003636 D107              7803             MOV.L   #_INC_ENC360,R1                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   227
PROGRAM NAME =

18754 00003638 6211              7804             MOV.W   @R1,R2                                  ;
18755 0000363A 3237              7805             CMP/GT  R3,R2                                   ;
18756 0000363C 8B02              7806             BF      INC_RSTMODECK300                        ;
18757                            7807     
18758                            7808     ;       --------0~180-------------
18759                            7809             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
18760 0000363E D006                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18761 00003640 400B                   M           JSR     @R0                     ;
18762 00003642 0009                   M           NOP                                     ;
18763                            7810     
18764 00003644                   7811     INC_RSTMODECK300
18765                            7812     
18766 00003644 E001              7813             MOV.B   #BIT0,R0                        ;
18767 00003646 D105              7814             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18768 00003648 2101              7815             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18769                            7816     
18770                            7817     ;       -----------------------------------------
18771                            7818     ;;;INC_RSTMODECK480
18772 0000364A E201              7819             MOV.B   #BIT0,R2                        ;
18773                            7820             M_BRA   INC_RSTMODECK500                ;OKして!
18774 0000364C A00A                   M           BRA     INC_RSTMODECK500
18775 0000364E 0009                   M           NOP
18776                            7821     
18777                            7822     
18778                                     ***** BEGIN-POOL *****
18779 00003650 0708                       DATA FOR SOURCE-LINE 7802
18780 00003652 0000                       ALIGNMENT CODE
18781 00003654 00000000                   DATA FOR SOURCE-LINE 7803
18782 00003658 00000000                   DATA FOR SOURCE-LINE 7809
18783 0000365C 00000000                   DATA FOR SOURCE-LINE 7814
18784                                     ***** END-POOL *****
18785 00003660                   7823     INC_RSTMODECK490
18786 00003660 0009              7824             NOP
18787 00003662                   7825     INC_RSTMODECK499
18788 00003662 200A              7826             XOR     R0,R0                           ;通常ｿﾌﾄを流して
18789 00003664                   7827     INC_RSTMODECK500
18790                            7828     
18791                            7829             SUB_END                                                         ;
18792                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18793 00003664 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18794                            7830             M_RTS                                                           ;
18795 00003666 000B                   M           RTS                             ;RTSの後ろの
18796 00003668 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18797                            7831     
18798                            7832     
18799                            7833     
18800                            7834             .EXPORT _INC_SPEC_RSTCHK
18801 0000366A                   7835     _INC_SPEC_RSTCHK
18802                            7836             SUB_START                                                       ;
18803 0000366A 4F22                   M           STS.L   PR,@-R15                ;[必要]
18804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18805                            7837     
18806 0000366C D105              7838             MOV.L   #(_PAR_INCMODE_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
18807 0000366E 6011              7839             MOV.W   @R1,R0                                                  ;
18808 00003670 8801              7840             CMP/EQ  #1,R0                                                   ;
18809 00003672 8B0B              7841             BF      INC_SPEC_RSTCK100                                       ;
18810                            7842     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   228
PROGRAM NAME =

18811 00003674 D104              7843             MOV.L   #_INP_MODE,R1                                           ;
18812 00003676 6011              7844             MOV.W   @R1,R0                                                  ;
18813 00003678 C802              7845             TST     #_W1INC,R0                                              ;寸動?
18814                            7846             TST_BIT_OF INC_SPEC_RSTCK100                                    ;
18815 0000367A 8907                   M           BT      INC_SPEC_RSTCK100
18816                            7847     
18817 0000367C E001              7848             MOV.B   #BIT0,R0
18818                            7849             M_BRA   INC_SPEC_RSTCK200
18819 0000367E A006                   M           BRA     INC_SPEC_RSTCK200
18820 00003680 0009                   M           NOP
18821                            7850     
18822                                     ***** BEGIN-POOL *****
18823 00003682 0000                       ALIGNMENT CODE
18824 00003684 00000000                   DATA FOR SOURCE-LINE 7838
18825 00003688 00000000                   DATA FOR SOURCE-LINE 7843
18826                                     ***** END-POOL *****
18827 0000368C                   7851     INC_SPEC_RSTCK100:
18828 0000368C 200A              7852             XOR     R0,R0
18829 0000368E                   7853     INC_SPEC_RSTCK200:
18830                            7854     
18831                            7855     
18832                            7856             SUB_END                                                         ;
18833                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18834 0000368E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18835                            7857             M_RTS                                                           ;
18836 00003690 000B                   M           RTS                             ;RTSの後ろの
18837 00003692 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18838                            7858     
18839                            7859     ;
18840                            7860     ;
18841                            7861     ;       INPUT R7/OUTPUT R7
18842                            7862     
18843                            7863     ;       -------------- 2018-01-25 追加----------------
18844 00003694                   7864     _INC_RST_DATA_CHK:
18845                            7865             SUB_START                                                       ;
18846 00003694 4F22                   M           STS.L   PR,@-R15                ;[必要]
18847                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18848                            7866     
18849 00003696 D107              7867             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18850 00003698 6011              7868             MOV.W   @R1,R0                                                  ;
18851 0000369A C801              7869             TST             #_DMATH_CNTROT,R0                               ;
18852                            7870             TST_BIT_OF INC_RSTDAT_CHK230
18853 0000369C 8906                   M           BT      INC_RSTDAT_CHK230
18854                            7871     
18855 0000369E D106              7872             MOV.L   #_SETX_UPAREA_PLS,R1                    ;//4;待機点
18856 000036A0 6212              7873             MOV.L   @R1,R2                                                  ;起点(Sn_1)
18857 000036A2 3723              7874             CMP/GE  R2,R7                                                   ;待機点(起点)<=現
                                          在位置:正常
18858 000036A4 8902              7875             BT              INC_RSTDAT_CHK230
18859                            7876     
18860 000036A6 D105              7877             MOV.L   #_LINK_1ROT_PLS,R1                              ;
18861 000036A8 6412              7878             MOV.L   @R1,R4                                                  ;
18862 000036AA 374C              7879             ADD             R4,R7                                                   ;
18863 000036AC                   7880     INC_RSTDAT_CHK230
18864                            7881     
18865                            7882             SUB_END                                                         ;
18866                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   229
PROGRAM NAME =

18867 000036AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18868                            7883             M_RTS                                                           ;
18869 000036AE 000B                   M           RTS                             ;RTSの後ろの
18870 000036B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18871                            7884     
18872                            7885     ;       *******************************************
18873                            7886     ;       ***                                     ***
18874                            7887     ;       ***             EPｾﾝｻﾁｪｯｸ               ***
18875                            7888     ;       ***                                     ***
18876                            7889     ;       *******************************************
18877                            7890             .INCLUDE        "ssa_epchk.inc"         ;//
18878                               1 I1  ;       ***********************************
18879                               2 I1  ;       ***                             ***
18880                               3 I1  ;       ***     EPｾﾝｻﾁｪｯｸ               ***
18881                               4 I1  ;       ***                             ***
18882                               5 I1  ;       ***********************************
18883                               6 I1  ;       電源投入時
18884                               7 I1  ;       位置づけはｾﾙﾌﾁｪｯｸだが,独立した機能
18885                               8 I1  ;       ANTI-ONしてから
18886                               9 I1  
18887                              10 I1          .EXPORT         _EPSEN_CLR
18888                              11 I1  
18889                              12 I1          .GLOBAL         _PAR_EPCHK_SEL          ;5 0:EPｾﾝｻﾁｪｯｸしない 1:ﾁｪｯｸする
18890                              13 I1          .GLOBAL         _PAR_EP1STR_DLYTM       ;6 開始遅延時間 ms
18891                              14 I1          .GLOBAL         _PAR_EP2FVINOF_ERTM     ;7 片方ﾘﾚｰOF(0)確認時間兼ﾀｲﾑｱｳﾄ
18892                              15 I1          .GLOBAL         _PAR_EP3BRKON_DLYTM     ;8 ﾌﾞﾚｰｷON出力遅延
18893                              16 I1          .GLOBAL         _PAR_EP4EPINOF_ERTM     ;9 EPｾﾝｻoff確認時間兼ﾀｲﾑｱｳﾄ
18894                              17 I1          .GLOBAL         _PAR_EP5RSTON_DLYTM     ;10 EPｾﾝｻﾘｾｯﾄON遅延時間
18895                              18 I1          .GLOBAL         _PAR_EP6RSTON_JGTM      ;1 ﾘｾｯﾄON時間兼判定時間
18896                              19 I1          .GLOBAL         _PAR_EP6RSTOF_INTTM     ;2 OFFｲﾝﾀ-ﾊﾞﾙ時間
18897                              20 I1          .GLOBAL         _PAR_EP6RST_RETRY       ;3 ﾘｾｯﾄﾘﾄﾗｲ回数
18898                              21 I1          .GLOBAL         _PAR_EP7AB_DLYTM        ;4 CPUA-->CPUBﾃｽﾄ遅延時間
18899                              22 I1          .GLOBAL         _PAR_EP7END_DLYTM       ;5 CPUB-->終了遅延時間
18900                              23 I1  
18901                              24 I1  
18902                              25 I1          .MACRO  STEP_NEXT MEM
18903                              26 I1          MOV.L   #\MEM,R1        ;
18904                              27 I1          MOV.W   @R1,R0          ;
18905                              28 I1          ADD     #1,R0           ;
18906                              29 I1          MOV.W   R0,@R1          ;
18907                              30 I1          .ENDM
18908                              31 I1  
18909                                 I1  ***** BEGIN-POOL *****
18910 000036B2 0000                   I1  ALIGNMENT CODE
18911 000036B4 00000000               I1  DATA FOR SOURCE-LINE 7867
18912 000036B8 00000000               I1  DATA FOR SOURCE-LINE 7872
18913 000036BC 00000000               I1  DATA FOR SOURCE-LINE 7877
18914                                 I1  ***** END-POOL *****
18915 000036C0                     32 I1          .ALIGN  4                               ;
18916 000036C0                     33 I1  _EP_JMP_TBL
18917                              34 I1  
18918 000036C0 00000000            35 I1          .DATA.L         EP_STEP_USE_RY_DATSET_A ;0
18919 000036C4 00000000            36 I1          .DATA.L         EP_STEP_USE_RY_A        ;1 片効有効RY-ON,片効きｾﾝｻ確認
18920 000036C8 00000000            37 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;2
18921 000036CC 00000000            38 I1          .DATA.L         EP_STEP_VALVON_COM      ;3 ﾊﾞﾙﾌﾞON,EPｾﾝｻ確認
18922 000036D0 00000000            39 I1          .DATA.L         EP_STEP_EPSENSIG_A      ;4
18923 000036D4 00000000            40 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   230
PROGRAM NAME =

18924 000036D8 00000000            41 I1          .DATA.L         EP_STEP_RESETON_COM     ;6
18925 000036DC 00000000            42 I1          .DATA.L         EP_STEP_ENDSIG_A        ;7
18926 000036E0 00000000            43 I1          .DATA.L         EP_STEP_USE_RY_DATSET_B ;8
18927 000036E4 00000000            44 I1          .DATA.L         EP_STEP_USE_RY_B        ;9
18928 000036E8 00000000            45 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;10
18929 000036EC 00000000            46 I1          .DATA.L         EP_STEP_VALVON_COM      ;11
18930 000036F0 00000000            47 I1          .DATA.L         EP_STEP_EPSENSIG_B      ;12
18931 000036F4 00000000            48 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;13
18932 000036F8 00000000            49 I1          .DATA.L         EP_STEP_RESETON_COM     ;14
18933 000036FC 00000000            50 I1          .DATA.L         EP_STEP_ENDSIG_B        ;15
18934 00003700 00000000            51 I1          .DATA.L         EP_STEP_XX              ;16
18935 00003704 00000000            52 I1          .DATA.L         EP_STEP_XX              ;17
18936 00003708 00000000            53 I1          .DATA.L         EP_STEP_XX              ;18
18937 0000370C 00000000            54 I1          .DATA.L         EP_STEP_XX              ;19
18938 00003710 00000000            55 I1          .DATA.L         EP_STEP_XX              ;20
18939 00003714 00000000            56 I1          .DATA.L         EP_STEP_XX              ;21
18940 00003718 00000000            57 I1          .DATA.L         EP_STEP_XX              ;22
18941 0000371C 00000000            58 I1          .DATA.L         EP_STEP_XX              ;23
18942 00003720 00000000            59 I1          .DATA.L         EP_STEP_XX              ;24
18943 00003724 00000000            60 I1          .DATA.L         EP_STEP_XX              ;25
18944 00003728 00000000            61 I1          .DATA.L         EP_STEP_XX              ;26
18945 0000372C 00000000            62 I1          .DATA.L         EP_STEP_XX              ;27
18946 00003730 00000000            63 I1          .DATA.L         EP_STEP_XX              ;28
18947 00003734 00000000            64 I1          .DATA.L         EP_STEP_XX              ;29
18948 00003738 00000000            65 I1          .DATA.L         EP_STEP_XX              ;30
18949 0000373C 00000000            66 I1          .DATA.L         EP_STEP_XX              ;31
18950 00003740 00000000            67 I1          .DATA.L         EP_STEP_XX              ;32
18951                              68 I1  
18952                              69 I1  
18953                              70 I1  
18954 00003744                     71 I1          .ALIGN  4                               ;
18955                              72 I1          .EXPORT _EP_SENCER_CHECK
18956 00003744                     73 I1  _EP_SENCER_CHECK
18957                              74 I1          SUB_START
18958 00003744 4F22                   M           STS.L   PR,@-R15                ;[必要]
18959                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18960                              75 I1  
18961 00003746 D105                76 I1          MOV.L   #_EPCHK_FLG,R1                  ;
18962 00003748 6011                77 I1          MOV.W   @R1,R0                          ;
18963 0000374A 2008                78 I1          TST     R0,R0                           ;
18964                              79 I1          TST_BIT_ON EP_SENCER_CK050              ;
18965 0000374C 8B36                   M           BF      EP_SENCER_CK050
18966                              80 I1  
18967 0000374E D104                81 I1          MOV.L   #_EPCHK_COM,R1                  ;
18968 00003750 6011                82 I1          MOV.W   @R1,R0                          ;
18969 00003752 2008                83 I1          TST     R0,R0                           ;
18970                              84 I1          TST_BIT_ON EP_SENCER_CK020              ;
18971 00003754 8B06                   M           BF      EP_SENCER_CK020
18972                              85 I1          M_BRA   EP_SENCER_CKEXT                 ;IDEL
18973 00003756 A1F6                   M           BRA     EP_SENCER_CKEXT
18974 00003758 0009                   M           NOP
18975                              86 I1  
18976                              87 I1  ;       --------- 開始処理-----------
18977                                 I1  ***** BEGIN-POOL *****
18978 0000375A 0000                   I1  ALIGNMENT CODE
18979 0000375C 00000000               I1  DATA FOR SOURCE-LINE 76
18980 00003760 00000000               I1  DATA FOR SOURCE-LINE 81
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   231
PROGRAM NAME =

18981                                 I1  ***** END-POOL *****
18982 00003764                     88 I1  EP_SENCER_CK020:
18983                              89 I1  
18984 00003764 D102                90 I1          MOV.L   #(_PAR_EPCHK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1      ;
18985 00003766 6011                91 I1          MOV.W   @R1,R0                                                  ;
18986 00003768 8801                92 I1          CMP/EQ  #1,R0                                                   ;
18987 0000376A 8903                93 I1          BT      EP_SENCER_CK030                                         ;
18988                              94 I1          M_BRA   EP_SENCER_CK800                                         ;正常終了
18989 0000376C A1C6                   M           BRA     EP_SENCER_CK800
18990 0000376E 0009                   M           NOP
18991                              95 I1  
18992                              96 I1  
18993                                 I1  ***** BEGIN-POOL *****
18994 00003770 00000000               I1  DATA FOR SOURCE-LINE 90
18995                                 I1  ***** END-POOL *****
18996 00003774                     97 I1  EP_SENCER_CK030:
18997                              98 I1  
18998                              99 I1          FAR_JSR #_EP_SENCHK_STOPCONF1,R0        ;
18999 00003774 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19000 00003776 400B                   M           JSR     @R0                     ;
19001 00003778 0009                   M           NOP                                     ;
19002 0000377A 2008               100 I1          TST     R0,R0                           ;
19003                             101 I1          TST_BIT_OF EP_SENCER_CK040              ;
19004 0000377C 8908                   M           BT      EP_SENCER_CK040
19005                             102 I1  
19006 0000377E 200A               103 I1          XOR     R0,R0
19007 00003780 D102               104 I1          MOV.L   #_EPCHK_STS,R1                  ;
19008 00003782 2101               105 I1          MOV.W   R0,@R1                          ;
19009                             106 I1          M_BRA   EP_SENCER_CK900                 ;
19010 00003784 A1C8                   M           BRA     EP_SENCER_CK900
19011 00003786 0009                   M           NOP
19012                             107 I1  
19013                                 I1  ***** BEGIN-POOL *****
19014 00003788 00000000               I1  DATA FOR SOURCE-LINE 99
19015 0000378C 00000000               I1  DATA FOR SOURCE-LINE 104
19016                                 I1  ***** END-POOL *****
19017 00003790                    108 I1  EP_SENCER_CK040:
19018 00003790 E001               109 I1          MOV.B   #BIT0,R0                ;
19019 00003792 D106               110 I1          MOV.L   #_EPCHK_FLG,R1          ;
19020 00003794 2101               111 I1          MOV.W   R0,@R1                  ;
19021                             112 I1  
19022 00003796 200A               113 I1          XOR     R0,R0                   ;
19023 00003798 D105               114 I1          MOV.L   #_EPCHK_STEP,R1         ;
19024 0000379A 2101               115 I1          MOV.W   R0,@R1                  ;
19025                             116 I1  
19026 0000379C E001               117 I1          MOV.B   #BIT0,R0                ;
19027 0000379E D105               118 I1          MOV.L   #_EPCHK_STS,R1          ;
19028 000037A0 2101               119 I1          MOV.W   R0,@R1                  ;
19029                             120 I1  
19030                             121 I1  ;       ---------------------------
19031 000037A2 222A               122 I1          XOR     R2,R2
19032 000037A4 D104               123 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19033 000037A6 2121               124 I1          MOV.W   R2,@R1                                                  ;
19034                             125 I1  
19035                             126 I1          M_BRA   EP_SENCER_CKEND         ;
19036 000037A8 A1C9                   M           BRA     EP_SENCER_CKEND
19037 000037AA 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   232
PROGRAM NAME =

19038                             127 I1  
19039                             128 I1  
19040                                 I1  ***** BEGIN-POOL *****
19041 000037AC 00000000               I1  DATA FOR SOURCE-LINE 110
19042 000037B0 00000000               I1  DATA FOR SOURCE-LINE 114
19043 000037B4 00000000               I1  DATA FOR SOURCE-LINE 118
19044 000037B8 00000000               I1  DATA FOR SOURCE-LINE 123
19045                                 I1  ***** END-POOL *****
19046 000037BC                    129 I1  EP_SENCER_CK050:
19047 000037BC C880               130 I1          TST     #BIT7,R0                ;
19048                             131 I1          TST_BIT_OF EP_SENCER_CK100      ;
19049 000037BE 8901                   M           BT      EP_SENCER_CK100
19050                             132 I1          M_BRA   EP_SENCER_CKEND ;
19051 000037C0 A1BD                   M           BRA     EP_SENCER_CKEND
19052 000037C2 0009                   M           NOP
19053                             133 I1  
19054                             134 I1  ;       ---------- 処理中---------------
19055 000037C4                    135 I1  EP_SENCER_CK100:
19056                             136 I1  
19057                             137 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_DLY_TIM,WKREG1=R1,WKREG2=R4 ;
19058 000037C4 D106                   M           MOV.L   #_EPCHK_DLY_TIM,R1              ;SORCE ADRESS SET
19059 000037C6 6411                   M           MOV.W   @R1,R4          ;
19060 000037C8 2448                   M           TST     R4,R4                   ;
19061 000037CA 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
19062 000037CC 4410                   M           DT      R4                              ;
19063 000037CE 2141                   M           MOV.W   R4,@R1          ;STORE
19064 000037D0                        M   JMP_0100005:
19065                             138 I1  
19066                             139 I1  ;       -------- 中断条件--------------------
19067                             140 I1          FAR_JSR #_EP_SENCHK_STOPCONF2,R0        ;
19068 000037D0 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19069 000037D2 400B                   M           JSR     @R0                     ;
19070 000037D4 0009                   M           NOP                                     ;
19071 000037D6 2008               141 I1          TST     R0,R0                           ;
19072                             142 I1          TST_BIT_OF EP_SENCER_CK150              ;
19073 000037D8 8906                   M           BT      EP_SENCER_CK150
19074                             143 I1          M_BRA   EP_SENCER_CK900                 ;異常
19075 000037DA A19D                   M           BRA     EP_SENCER_CK900
19076 000037DC 0009                   M           NOP
19077                             144 I1  
19078                                 I1  ***** BEGIN-POOL *****
19079 000037DE 0000                   I1  ALIGNMENT CODE
19080 000037E0 00000000               I1  DATA FOR SOURCE-LINE 137
19081 000037E4 00000000               I1  DATA FOR SOURCE-LINE 140
19082                                 I1  ***** END-POOL *****
19083 000037E8                    145 I1  EP_SENCER_CK150:
19084                             146 I1  
19085                             147 I1  ;       -----------遅延時間処理--------
19086 000037E8 D102               148 I1          MOV.L   #_EPCHK_DLY_TIM,R1              ;
19087 000037EA 6011               149 I1          MOV.W   @R1,R0                          ;
19088 000037EC 2008               150 I1          TST     R0,R0                           ;
19089                             151 I1          TST_BIT_OF EP_SENCER_CK200              ;
19090 000037EE 8903                   M           BT      EP_SENCER_CK200
19091                             152 I1          M_BRA   EP_SENCER_CKEND         ;
19092 000037F0 A1A5                   M           BRA     EP_SENCER_CKEND
19093 000037F2 0009                   M           NOP
19094                             153 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   233
PROGRAM NAME =

19095                             154 I1  ;       ---------- 遅延時間中は異常ﾀｲﾏｶｳﾝﾄしない-----------
19096                                 I1  ***** BEGIN-POOL *****
19097 000037F4 00000000               I1  DATA FOR SOURCE-LINE 148
19098                                 I1  ***** END-POOL *****
19099 000037F8                    155 I1  EP_SENCER_CK200:
19100                             156 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_ERR_TIM,WKREG1=R1,WKREG2=R4 ;
19101 000037F8 D107                   M           MOV.L   #_EPCHK_ERR_TIM,R1              ;SORCE ADRESS SET
19102 000037FA 6411                   M           MOV.W   @R1,R4          ;
19103 000037FC 2448                   M           TST     R4,R4                   ;
19104 000037FE 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
19105 00003800 4410                   M           DT      R4                              ;
19106 00003802 2141                   M           MOV.W   R4,@R1          ;STORE
19107 00003804                        M   JMP_0100006:
19108                             157 I1  
19109 00003804 D105               158 I1          MOV.L   #_EPCHK_STEP,R1                         ;
19110 00003806 6011               159 I1          MOV.W   @R1,R0                                  ;
19111 00003808 C91F               160 I1          AND     #H'1F,R0                                ;MAX 16ｽﾃｯﾌﾟ
19112 0000380A 4008               161 I1          SHLL2   R0                                      ;
19113 0000380C D104               162 I1          MOV.L   #_EP_JMP_TBL,R1                         ;
19114 0000380E 310C               163 I1          ADD     R0,R1                                   ;
19115 00003810 6012               164 I1          MOV.L   @R1,R0                                  ;
19116                             165 I1          REG_JMP WKREG=R0                                ;
19117 00003812 402B                   M           JMP     @R0
19118 00003814 0009                   M           NOP
19119                             166 I1  
19120                             167 I1  
19121                             168 I1  ;       ---------------------------------------------------
19122                             169 I1  ;       ---     遅延ﾀｲﾏ,有効ﾘﾚｰ,異常ﾀｲﾏｾｯﾄ[STEP0]       ---
19123                             170 I1  ;       ---------------------------------------------------
19124                                 I1  ***** BEGIN-POOL *****
19125 00003816 0000                   I1  ALIGNMENT CODE
19126 00003818 00000000               I1  DATA FOR SOURCE-LINE 156
19127 0000381C 00000000               I1  DATA FOR SOURCE-LINE 158
19128 00003820 00000000               I1  DATA FOR SOURCE-LINE 162
19129                                 I1  ***** END-POOL *****
19130 00003824                    171 I1  EP_STEP_USE_RY_DATSET_A
19131                             172 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19132 00003824 D102               173 I1          MOV.L   #(_PAR_EP1STR_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;開始遅延
19133 00003826 6211               174 I1          MOV.W   @R1,R2                                                  ;
19134 00003828 D102               175 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19135 0000382A 2121               176 I1          MOV.W   R2,@R1                                                  ;
19136                             177 I1          M_BRA   EP_STEP_USE_RY_DATSETCOM
19137 0000382C A008                   M           BRA     EP_STEP_USE_RY_DATSETCOM
19138 0000382E 0009                   M           NOP
19139                             178 I1  
19140                                 I1  ***** BEGIN-POOL *****
19141 00003830 00000000               I1  DATA FOR SOURCE-LINE 173
19142 00003834 00000000               I1  DATA FOR SOURCE-LINE 175
19143                                 I1  ***** END-POOL *****
19144 00003838                    179 I1  EP_STEP_USE_RY_DATSET_B
19145                             180 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19146 00003838 D106               181 I1          MOV.L   #(_PAR_EP7AB_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;開始遅延
19147 0000383A 6211               182 I1          MOV.W   @R1,R2                                                  ;
19148 0000383C D106               183 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19149 0000383E 2121               184 I1          MOV.W   R2,@R1                                                  ;
19150                             185 I1  
19151 00003840                    186 I1  EP_STEP_USE_RY_DATSETCOM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   234
PROGRAM NAME =

19152                             187 I1  
19153                             188 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19154 00003840 D106               189 I1          MOV.L   #(_PAR_EP2FVINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;片方ﾘﾚｰOF(0)確認
                                          時間兼ﾀｲﾑｱｳﾄ
19155 00003842 6211               190 I1          MOV.W   @R1,R2                                                  ;
19156 00003844 D106               191 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
19157 00003846 2121               192 I1          MOV.W   R2,@R1                                                  ;
19158                             193 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
19159 00003848 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19160 0000384A 6011                   M           MOV.W   @R1,R0          ;
19161 0000384C 7001                   M           ADD     #1,R0           ;
19162 0000384E 2101                   M           MOV.W   R0,@R1          ;
19163                             194 I1          M_BRA   EP_SENCER_CKEND                                         ;
19164 00003850 A175                   M           BRA     EP_SENCER_CKEND
19165 00003852 0009                   M           NOP
19166                             195 I1  
19167                             196 I1  
19168                             197 I1  ;       ---------------------------------------------------
19169                             198 I1  ;       ---     VF-RYの片効ｱﾝｻ待ち，異常CHK[STEP1]      ---
19170                             199 I1  ;       ---------------------------------------------------
19171                             200 I1  ;       ﾀｲﾑｱｯﾌﾟ前に入力を確認し、入力が"L"なら即遷移する,時間内に"L"にならなければ異常
19172                             201 I1  ;       ----------- A:ｽﾃｯﾌﾟ1,B:ｽﾃｯﾌﾟ1----------
19173                                 I1  ***** BEGIN-POOL *****
19174 00003854 00000000               I1  DATA FOR SOURCE-LINE 181
19175 00003858 00000000               I1  DATA FOR SOURCE-LINE 183
19176 0000385C 00000000               I1  DATA FOR SOURCE-LINE 189
19177 00003860 00000000               I1  DATA FOR SOURCE-LINE 191
19178 00003864 00000000               I1  DATA FOR SOURCE-LINE 193
19179                                 I1  ***** END-POOL *****
19180 00003868                    202 I1  EP_STEP_USE_RY_A
19181                             203 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R4      ;BIT5=1:A
                                          片効要求
19182 00003868 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19183 0000386A 6011                   M           MOV.W   @R1,R0          ;
19184 0000386C 9403                   M           MOV.W   #(BIT5),R4              ;
19185 0000386E 204B                   M           OR      R4,R0           ;
19186 00003870 2101                   M           MOV.W   R0,@R1          ;
19187                             204 I1          M_BRA   EP_STEP_USE_RY_COM              ;
19188 00003872 A008                   M           BRA     EP_STEP_USE_RY_COM
19189 00003874 0009                   M           NOP
19190                             205 I1  
19191                             206 I1  
19192                                 I1  ***** BEGIN-POOL *****
19193 00003876 0020                   I1  DATA FOR SOURCE-LINE 203
19194 00003878 00000000               I1  DATA FOR SOURCE-LINE 203
19195                                 I1  ***** END-POOL *****
19196 0000387C                    207 I1  EP_STEP_USE_RY_B
19197                             208 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4      ;BIT6=A片
                                          効要求
19198 0000387C D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19199 0000387E 6011                   M           MOV.W   @R1,R0          ;
19200 00003880 940C                   M           MOV.W   #(BIT6),R4              ;
19201 00003882 204B                   M           OR      R4,R0           ;
19202 00003884 2101                   M           MOV.W   R0,@R1          ;
19203 00003886                    209 I1  EP_STEP_USE_RY_COM
19204                             210 I1  
19205                             211 I1          FAR_JSR #_VFRY_IN_CHK,R0                                                ;ANS R0=0(
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   235
PROGRAM NAME =

                                          OFF) R0=BIT14(ON)
19206 00003886 D007                   M           MOV.L   #_VFRY_IN_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19207 00003888 400B                   M           JSR     @R0                     ;
19208 0000388A 0009                   M           NOP                                     ;
19209                             212 I1  
19210 0000388C 2008               213 I1          TST     R0,R0                                                           ;
19211                             214 I1          TST_BIT_ON EP_STEP_USE_RY_COM_150                                       ;
19212 0000388E 8B0D                   M           BF      EP_STEP_USE_RY_COM_150
19213                             215 I1  
19214                             216 I1  ;       ------- OFF発見 ------
19215                             217 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19216 00003890 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19217 00003892 6011                   M           MOV.W   @R1,R0          ;
19218 00003894 7001                   M           ADD     #1,R0           ;
19219 00003896 2101                   M           MOV.W   R0,@R1          ;
19220                             218 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19221 00003898 A151                   M           BRA     EP_SENCER_CKEND
19222 0000389A 0009                   M           NOP
19223                             219 I1  
19224                                 I1  ***** BEGIN-POOL *****
19225 0000389C 0040                   I1  DATA FOR SOURCE-LINE 208
19226 0000389E 0000                   I1  ALIGNMENT CODE
19227 000038A0 00000000               I1  DATA FOR SOURCE-LINE 208
19228 000038A4 00000000               I1  DATA FOR SOURCE-LINE 211
19229 000038A8 00000000               I1  DATA FOR SOURCE-LINE 217
19230                                 I1  ***** END-POOL *****
19231 000038AC                    220 I1  EP_STEP_USE_RY_COM_150                                                          ;
19232 000038AC D105               221 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19233 000038AE 6011               222 I1          MOV.W   @R1,R0                                                          ;
19234 000038B0 2008               223 I1          TST     R0,R0                                                           ;
19235                             224 I1          TST_BIT_ON EP_STEP_USE_RY_COM_190                                       ;
19236 000038B2 8B0B                   M           BF      EP_STEP_USE_RY_COM_190
19237                             225 I1  
19238                             226 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R4      ;ﾌｨｰﾄﾞﾊﾞｯｸ
                                          失敗
19239 000038B4 D104                   M           MOV.L   #_EPCHK_STS,R1          ;
19240 000038B6 6011                   M           MOV.W   @R1,R0          ;
19241 000038B8 9403                   M           MOV.W   #(BIT2),R4              ;
19242 000038BA 204B                   M           OR      R4,R0           ;
19243 000038BC 2101                   M           MOV.W   R0,@R1          ;
19244                             227 I1          M_BRA   EP_SENCER_CK900                                                 ;
19245 000038BE A12B                   M           BRA     EP_SENCER_CK900
19246 000038C0 0009                   M           NOP
19247                             228 I1  
19248                                 I1  ***** BEGIN-POOL *****
19249 000038C2 0004                   I1  DATA FOR SOURCE-LINE 226
19250 000038C4 00000000               I1  DATA FOR SOURCE-LINE 221
19251 000038C8 00000000               I1  DATA FOR SOURCE-LINE 226
19252                                 I1  ***** END-POOL *****
19253 000038CC                    229 I1  EP_STEP_USE_RY_COM_190                                                          ;
19254                             230 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19255 000038CC A137                   M           BRA     EP_SENCER_CKEND
19256 000038CE 0009                   M           NOP
19257                             231 I1  
19258                             232 I1  
19259                             233 I1  
19260                             234 I1  ;       ---------------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   236
PROGRAM NAME =

19261                             235 I1  ;       ---     遅延ﾀｲﾏ,ﾊﾞﾙﾌﾞON,異常ﾀｲﾏｾｯﾄ[STEP2]       ---
19262                             236 I1  ;       ---------------------------------------------------
19263 000038D0                    237 I1  EP_STEP_VALVON_DATSET
19264                             238 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19265 000038D0 D106               239 I1          MOV.L   #(_PAR_EP3BRKON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾌﾞﾚｰｷON出
                                          力遅延
19266 000038D2 6211               240 I1          MOV.W   @R1,R2                                                          ;
19267 000038D4 D106               241 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19268 000038D6 2121               242 I1          MOV.W   R2,@R1                                                          ;
19269                             243 I1  
19270                             244 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19271 000038D8 D106               245 I1          MOV.L   #(_PAR_EP4EPINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;ﾊﾞﾙﾌﾞON時間兼ﾀｲﾑｱ
                                          ｳﾄ時間
19272 000038DA 6211               246 I1          MOV.W   @R1,R2                                                  ;
19273 000038DC D106               247 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
19274 000038DE 2121               248 I1          MOV.W   R2,@R1                                                  ;
19275                             249 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
19276 000038E0 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19277 000038E2 6011                   M           MOV.W   @R1,R0          ;
19278 000038E4 7001                   M           ADD     #1,R0           ;
19279 000038E6 2101                   M           MOV.W   R0,@R1          ;
19280                             250 I1          M_BRA   EP_SENCER_CKEND                                         ;
19281 000038E8 A129                   M           BRA     EP_SENCER_CKEND
19282 000038EA 0009                   M           NOP
19283                             251 I1  
19284                             252 I1  
19285                             253 I1  ;       ---------------------------------------------------
19286                             254 I1  ;       ---     ﾊﾞﾙﾌﾞONのｱﾝｻEP待ち，異常CHK[STEP3]      ---
19287                             255 I1  ;       ---------------------------------------------------
19288                             256 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"L"なら遷移,"H"なら異常
19289                             257 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19290                                 I1  ***** BEGIN-POOL *****
19291 000038EC 00000000               I1  DATA FOR SOURCE-LINE 239
19292 000038F0 00000000               I1  DATA FOR SOURCE-LINE 241
19293 000038F4 00000000               I1  DATA FOR SOURCE-LINE 245
19294 000038F8 00000000               I1  DATA FOR SOURCE-LINE 247
19295 000038FC 00000000               I1  DATA FOR SOURCE-LINE 249
19296                                 I1  ***** END-POOL *****
19297 00003900                    258 I1  EP_STEP_VALVON_COM
19298 00003900 E001               259 I1          MOV.B   #(BIT0),R0                      ;ﾌﾞﾚｰｷ解除
19299 00003902 D10A               260 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
19300 00003904 2101               261 I1          MOV.W   R0,@R1                          ;
19301                             262 I1  
19302                             263 I1  
19303 00003906 D10A               264 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19304 00003908 6011               265 I1          MOV.W   @R1,R0                                                          ;
19305 0000390A 2008               266 I1          TST     R0,R0                                                           ;
19306                             267 I1          TST_BIT_ON EP_STEP_VALV_COM_190                                 ;
19307 0000390C 8B20                   M           BF      EP_STEP_VALV_COM_190
19308                             268 I1  
19309                             269 I1  ;       ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ
19310 0000390E 200A               270 I1          XOR     R0,R0                           ;
19311 00003910 D106               271 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
19312 00003912 2101               272 I1          MOV.W   R0,@R1                          ;
19313                             273 I1  
19314                             274 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   237
PROGRAM NAME =

19315 00003914 D007                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19316 00003916 400B                   M           JSR     @R0                     ;
19317 00003918 0009                   M           NOP                                     ;
19318                             275 I1  
19319 0000391A 2008               276 I1          TST     R0,R0                                                           ;
19320                             277 I1          TST_BIT_ON EP_STEP_VALV_COM_150                                 ;
19321 0000391C 8B0E                   M           BF      EP_STEP_VALV_COM_150
19322                             278 I1  
19323                             279 I1  ;       ------- OFF発見 ------
19324                             280 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19325 0000391E D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19326 00003920 6011                   M           MOV.W   @R1,R0          ;
19327 00003922 7001                   M           ADD     #1,R0           ;
19328 00003924 2101                   M           MOV.W   R0,@R1          ;
19329                             281 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19330 00003926 A10A                   M           BRA     EP_SENCER_CKEND
19331 00003928 0009                   M           NOP
19332                             282 I1  
19333                                 I1  ***** BEGIN-POOL *****
19334 0000392A 0000                   I1  ALIGNMENT CODE
19335 0000392C 00000000               I1  DATA FOR SOURCE-LINE 260,271
19336 00003930 00000000               I1  DATA FOR SOURCE-LINE 264
19337 00003934 00000000               I1  DATA FOR SOURCE-LINE 274
19338 00003938 00000000               I1  DATA FOR SOURCE-LINE 280
19339                                 I1  ***** END-POOL *****
19340 0000393C                    283 I1  EP_STEP_VALV_COM_150                                                            ;
19341                             284 I1  
19342                             285 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻ失敗
19343 0000393C D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19344 0000393E 6011                   M           MOV.W   @R1,R0          ;
19345 00003940 9403                   M           MOV.W   #(BIT3),R4              ;
19346 00003942 204B                   M           OR      R4,R0           ;
19347 00003944 2101                   M           MOV.W   R0,@R1          ;
19348                             286 I1          M_BRA   EP_SENCER_CK900                                                 ;
19349 00003946 A0E7                   M           BRA     EP_SENCER_CK900
19350 00003948 0009                   M           NOP
19351                             287 I1  
19352                                 I1  ***** BEGIN-POOL *****
19353 0000394A 0008                   I1  DATA FOR SOURCE-LINE 285
19354 0000394C 00000000               I1  DATA FOR SOURCE-LINE 285
19355                                 I1  ***** END-POOL *****
19356 00003950                    288 I1  EP_STEP_VALV_COM_190
19357                             289 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19358 00003950 A0F5                   M           BRA     EP_SENCER_CKEND
19359 00003952 0009                   M           NOP
19360                             290 I1  
19361                             291 I1  
19362                             292 I1  
19363                             293 I1  ;       ---------------------------------------------------
19364                             294 I1  ;       ---     EP確認完了[STEP4]                       ---
19365                             295 I1  ;       ---------------------------------------------------
19366 00003954                    296 I1  EP_STEP_EPSENSIG_A:
19367                             297 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4      ;
19368 00003954 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
19369 00003956 6011                   M           MOV.W   @R1,R0          ;
19370 00003958 940A                   M           MOV.W   #(BIT7),R4              ;
19371 0000395A 204B                   M           OR      R4,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   238
PROGRAM NAME =

19372 0000395C 2101                   M           MOV.W   R0,@R1          ;
19373 0000395E 200A               298 I1          XOR     R0,R0                                                           ;
19374 00003960 D105               299 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;STEP5の前
                                          に行う
19375 00003962 2101               300 I1          MOV.W   R0,@R1                                                          ;
19376                             301 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19377 00003964 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19378 00003966 6011                   M           MOV.W   @R1,R0          ;
19379 00003968 7001                   M           ADD     #1,R0           ;
19380 0000396A 2101                   M           MOV.W   R0,@R1          ;
19381                             302 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19382 0000396C A0E7                   M           BRA     EP_SENCER_CKEND
19383 0000396E 0009                   M           NOP
19384                             303 I1  
19385                                 I1  ***** BEGIN-POOL *****
19386 00003970 0080                   I1  DATA FOR SOURCE-LINE 297
19387 00003972 0000                   I1  ALIGNMENT CODE
19388 00003974 00000000               I1  DATA FOR SOURCE-LINE 297
19389 00003978 00000000               I1  DATA FOR SOURCE-LINE 299
19390 0000397C 00000000               I1  DATA FOR SOURCE-LINE 301
19391                                 I1  ***** END-POOL *****
19392 00003980                    304 I1  EP_STEP_EPSENSIG_B:
19393                             305 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT8),WKRG1=R1,WKRG2=R4      ;
19394 00003980 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
19395 00003982 6011                   M           MOV.W   @R1,R0          ;
19396 00003984 940A                   M           MOV.W   #(BIT8),R4              ;
19397 00003986 204B                   M           OR      R4,R0           ;
19398 00003988 2101                   M           MOV.W   R0,@R1          ;
19399 0000398A 200A               306 I1          XOR     R0,R0                                                           ;STEP5の前
                                          に行う
19400 0000398C D105               307 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;
19401 0000398E 2101               308 I1          MOV.W   R0,@R1                                                          ;
19402                             309 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19403 00003990 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19404 00003992 6011                   M           MOV.W   @R1,R0          ;
19405 00003994 7001                   M           ADD     #1,R0           ;
19406 00003996 2101                   M           MOV.W   R0,@R1          ;
19407                             310 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19408 00003998 A0D1                   M           BRA     EP_SENCER_CKEND
19409 0000399A 0009                   M           NOP
19410                             311 I1  
19411                             312 I1  
19412                             313 I1  ;       ---------------------------------------------------
19413                             314 I1  ;       ---     EPﾘｾｯﾄON遅延,ﾀｲﾑｱｳﾄ設定[STEP5]          ---
19414                             315 I1  ;       ---------------------------------------------------
19415                                 I1  ***** BEGIN-POOL *****
19416 0000399C 0100                   I1  DATA FOR SOURCE-LINE 305
19417 0000399E 0000                   I1  ALIGNMENT CODE
19418 000039A0 00000000               I1  DATA FOR SOURCE-LINE 305
19419 000039A4 00000000               I1  DATA FOR SOURCE-LINE 307
19420 000039A8 00000000               I1  DATA FOR SOURCE-LINE 309
19421                                 I1  ***** END-POOL *****
19422 000039AC                    316 I1  EP_STEP_RESET_DATSET1:
19423 000039AC D104               317 I1          MOV.L   #_EPCHK_RETRY_CNT,R1            ;
19424 000039AE 6011               318 I1          MOV.W   @R1,R0                          ;
19425 000039B0 2008               319 I1          TST     R0,R0                           ;
19426                             320 I1          TST_BIT_ON EP_STEP_RESET_100            ;ﾘﾄﾗｲ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   239
PROGRAM NAME =

19427 000039B2 8B0B                   M           BF      EP_STEP_RESET_100
19428                             321 I1  
19429                             322 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19430 000039B4 D103               323 I1          MOV.L   #(_PAR_EP5RSTON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間
19431 000039B6 6211               324 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19432 000039B8 D103               325 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19433 000039BA 2121               326 I1          MOV.W   R2,@R1                                                          ;
19434                             327 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19435 000039BC A00A                   M           BRA     EP_STEP_RESET_DATSET_COM
19436 000039BE 0009                   M           NOP
19437                             328 I1  
19438                                 I1  ***** BEGIN-POOL *****
19439 000039C0 00000000               I1  DATA FOR SOURCE-LINE 317
19440 000039C4 00000000               I1  DATA FOR SOURCE-LINE 323
19441 000039C8 00000000               I1  DATA FOR SOURCE-LINE 325
19442                                 I1  ***** END-POOL *****
19443 000039CC                    329 I1  EP_STEP_RESET_100:
19444                             330 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19445 000039CC D106               331 I1          MOV.L   #(_PAR_EP6RSTOF_INTTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間(ｲﾝﾀｰﾊﾞﾙ時間)
19446 000039CE 6211               332 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19447 000039D0 D106               333 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19448 000039D2 2121               334 I1          MOV.W   R2,@R1                                                          ;
19449                             335 I1  
19450 000039D4                    336 I1  EP_STEP_RESET_DATSET_COM:
19451                             337 I1  
19452                             338 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19453 000039D4 D106               339 I1          MOV.L   #(_PAR_EP6RSTON_JGTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1          ;ﾘｾｯﾄON時
                                          間兼ﾀｲﾑｱｳﾄ時間
19454 000039D6 6211               340 I1          MOV.W   @R1,R2                                                          ;
19455 000039D8 D106               341 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19456 000039DA 2121               342 I1          MOV.W   R2,@R1                                                          ;
19457                             343 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19458 000039DC D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19459 000039DE 6011                   M           MOV.W   @R1,R0          ;
19460 000039E0 7001                   M           ADD     #1,R0           ;
19461 000039E2 2101                   M           MOV.W   R0,@R1          ;
19462                             344 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19463 000039E4 A0AB                   M           BRA     EP_SENCER_CKEND
19464 000039E6 0009                   M           NOP
19465                             345 I1  
19466                             346 I1  
19467                             347 I1  
19468                             348 I1  
19469                             349 I1  ;       ---------------------------------------------------
19470                             350 I1  ;       ---     ﾘｾｯﾄONのｱﾝｻEP待ち，異常CHK[STEP6]       ---
19471                             351 I1  ;       ---------------------------------------------------
19472                             352 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"Ｈ"なら遷移,"Ｌ"なら異常　ﾘﾄﾗｲ
19473                             353 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19474                                 I1  ***** BEGIN-POOL *****
19475 000039E8 00000000               I1  DATA FOR SOURCE-LINE 331
19476 000039EC 00000000               I1  DATA FOR SOURCE-LINE 333
19477 000039F0 00000000               I1  DATA FOR SOURCE-LINE 339
19478 000039F4 00000000               I1  DATA FOR SOURCE-LINE 341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   240
PROGRAM NAME =

19479 000039F8 00000000               I1  DATA FOR SOURCE-LINE 343
19480                                 I1  ***** END-POOL *****
19481 000039FC                    354 I1  EP_STEP_RESETON_COM
19482                             355 I1  
19483                             356 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4      ;ﾘｾｯﾄｺﾏﾝﾄﾞ
19484 000039FC D10D                   M           MOV.L   #_EPCHK_STS,R1          ;
19485 000039FE 6011                   M           MOV.W   @R1,R0          ;
19486 00003A00 9415                   M           MOV.W   #(BIT9),R4              ;
19487 00003A02 204B                   M           OR      R4,R0           ;
19488 00003A04 2101                   M           MOV.W   R0,@R1          ;
19489                             357 I1  
19490 00003A06 D10C               358 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19491 00003A08 6011               359 I1          MOV.W   @R1,R0                                                          ;
19492 00003A0A 2008               360 I1          TST     R0,R0                                                           ;
19493                             361 I1          TST_BIT_ON EP_STEP_RESET_COM_190                                        ;
19494 00003A0C 8B38                   M           BF      EP_STEP_RESET_COM_190
19495                             362 I1  
19496                             363 I1  ;       ------- ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ--------
19497                             364 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9),WKRG1=R1,WKRG2=R4     ;ﾘｾｯﾄOFF
19498 00003A0E D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19499 00003A10 6011                   M           MOV.W   @R1,R0          ;
19500 00003A12 940D                   M           MOV.W   #LWORD ~(BIT9),R4       ;
19501 00003A14 2049                   M           AND     R4,R0           ;
19502 00003A16 2101                   M           MOV.W   R0,@R1          ;
19503                             365 I1  
19504                             366 I1  
19505                             367 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19506 00003A18 D008                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19507 00003A1A 400B                   M           JSR     @R0                     ;
19508 00003A1C 0009                   M           NOP                                     ;
19509                             368 I1  
19510 00003A1E 2008               369 I1          TST     R0,R0                                                           ;
19511                             370 I1          TST_BIT_OF EP_STEP_RESET_COM_150                                        ;
19512 00003A20 8910                   M           BT      EP_STEP_RESET_COM_150
19513                             371 I1  
19514                             372 I1  ;       ------- ON発見 ------
19515                             373 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19516 00003A22 D107                   M           MOV.L   #_EPCHK_STEP,R1 ;
19517 00003A24 6011                   M           MOV.W   @R1,R0          ;
19518 00003A26 7001                   M           ADD     #1,R0           ;
19519 00003A28 2101                   M           MOV.W   R0,@R1          ;
19520                             374 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19521 00003A2A A088                   M           BRA     EP_SENCER_CKEND
19522 00003A2C 0009                   M           NOP
19523                             375 I1  
19524                                 I1  ***** BEGIN-POOL *****
19525 00003A2E 0200                   I1  DATA FOR SOURCE-LINE 356
19526 00003A30 FDFF                   I1  DATA FOR SOURCE-LINE 364
19527 00003A32 0000                   I1  ALIGNMENT CODE
19528 00003A34 00000000               I1  DATA FOR SOURCE-LINE 356,364
19529 00003A38 00000000               I1  DATA FOR SOURCE-LINE 358
19530 00003A3C 00000000               I1  DATA FOR SOURCE-LINE 367
19531 00003A40 00000000               I1  DATA FOR SOURCE-LINE 373
19532                                 I1  ***** END-POOL *****
19533 00003A44                    376 I1  EP_STEP_RESET_COM_150                                                           ;
19534 00003A44 D106               377 I1          MOV.L   #(_PAR_EP6RST_RETRY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;ﾘｾｯﾄﾘﾄﾗｲ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   241
PROGRAM NAME =

                                          回数
19535 00003A46 6211               378 I1          MOV.W   @R1,R2                                                          ;0:ﾘﾄﾗｲし
                                          ない
19536 00003A48 D506               379 I1          MOV.L   #_EPCHK_RETRY_CNT,R5                                            ;
19537 00003A4A 6051               380 I1          MOV.W   @R5,R0                                                          ;
19538 00003A4C 3022               381 I1          CMP/HS  R2,R0                                                           ;0(SV)=<0(
                                          PV)
19539 00003A4E 890D               382 I1          BT      EP_STEP_RESET_COM_170                                           ;ﾘﾄﾗｲｵｰﾊﾞ
19540 00003A50 7001               383 I1          ADD     #1,R0                                                           ;
19541 00003A52 2501               384 I1          MOV.W   R0,@R5                                                          ;
19542                             385 I1  
19543 00003A54 D104               386 I1          MOV.L   #_EPCHK_STEP,R1                         ;1個前からやり直す
19544 00003A56 6011               387 I1          MOV.W   @R1,R0                                  ;
19545 00003A58 70FF               388 I1          ADD     #-1,R0                                  ;
19546 00003A5A 2101               389 I1          MOV.W   R0,@R1                                  ;
19547                             390 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19548 00003A5C A06F                   M           BRA     EP_SENCER_CKEND
19549 00003A5E 0009                   M           NOP
19550                             391 I1  
19551                             392 I1  
19552                                 I1  ***** BEGIN-POOL *****
19553 00003A60 00000000               I1  DATA FOR SOURCE-LINE 377
19554 00003A64 00000000               I1  DATA FOR SOURCE-LINE 379
19555 00003A68 00000000               I1  DATA FOR SOURCE-LINE 386
19556                                 I1  ***** END-POOL *****
19557 00003A6C                    393 I1  EP_STEP_RESET_COM_170                                                           ;終了処理
19558                             394 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻﾘｾｯﾄ
                                          失敗
19559 00003A6C D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19560 00003A6E 6011                   M           MOV.W   @R1,R0          ;
19561 00003A70 9403                   M           MOV.W   #(BIT4),R4              ;
19562 00003A72 204B                   M           OR      R4,R0           ;
19563 00003A74 2101                   M           MOV.W   R0,@R1          ;
19564                             395 I1          M_BRA   EP_SENCER_CK900                                                 ;
19565 00003A76 A04F                   M           BRA     EP_SENCER_CK900
19566 00003A78 0009                   M           NOP
19567                             396 I1  
19568                                 I1  ***** BEGIN-POOL *****
19569 00003A7A 0010                   I1  DATA FOR SOURCE-LINE 394
19570 00003A7C 00000000               I1  DATA FOR SOURCE-LINE 394
19571                                 I1  ***** END-POOL *****
19572 00003A80                    397 I1  EP_STEP_RESET_COM_190
19573                             398 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19574 00003A80 A05D                   M           BRA     EP_SENCER_CKEND
19575 00003A82 0009                   M           NOP
19576                             399 I1  
19577                             400 I1  
19578                             401 I1  
19579                             402 I1  ;       ---------------------------------------------------
19580                             403 I1  ;       ---     CPUA終了,CPUB開始遅延+ﾀｲﾑｱｳﾄ設定[STEP7] ---
19581                             404 I1  ;       ---------------------------------------------------
19582 00003A84                    405 I1  EP_STEP_ENDSIG_A
19583                             406 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT5),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19584 00003A84 D10B                   M           MOV.L   #_EPCHK_STS,R1          ;
19585 00003A86 6011                   M           MOV.W   @R1,R0          ;
19586 00003A88 9411                   M           MOV.W   #LWORD ~(BIT9|BIT5),R4  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   242
PROGRAM NAME =

19587 00003A8A 2049                   M           AND     R4,R0           ;
19588 00003A8C 2101                   M           MOV.W   R0,@R1          ;
19589                             407 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT10),WKRG1=R1,WKRG2=R4             ;A
                                          完了
19590 00003A8E D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19591 00003A90 6011                   M           MOV.W   @R1,R0          ;
19592 00003A92 940D                   M           MOV.W   #(BIT10),R4             ;
19593 00003A94 204B                   M           OR      R4,R0           ;
19594 00003A96 2101                   M           MOV.W   R0,@R1          ;
19595                             408 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4              ;B
                                          開始
19596 00003A98 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19597 00003A9A 6011                   M           MOV.W   @R1,R0          ;
19598 00003A9C 9409                   M           MOV.W   #(BIT1),R4              ;
19599 00003A9E 204B                   M           OR      R4,R0           ;
19600 00003AA0 2101                   M           MOV.W   R0,@R1          ;
19601                             409 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19602 00003AA2 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19603 00003AA4 6011                   M           MOV.W   @R1,R0          ;
19604 00003AA6 7001                   M           ADD     #1,R0           ;
19605 00003AA8 2101                   M           MOV.W   R0,@R1          ;
19606                             410 I1          M_BRA   EP_SENCER_CKEND                                                         ;
19607 00003AAA A048                   M           BRA     EP_SENCER_CKEND
19608 00003AAC 0009                   M           NOP
19609                             411 I1  
19610                                 I1  ***** BEGIN-POOL *****
19611 00003AAE FDDF                   I1  DATA FOR SOURCE-LINE 406
19612 00003AB0 0400                   I1  DATA FOR SOURCE-LINE 407
19613 00003AB2 0002                   I1  DATA FOR SOURCE-LINE 408
19614 00003AB4 00000000               I1  DATA FOR SOURCE-LINE 406,407,408
19615 00003AB8 00000000               I1  DATA FOR SOURCE-LINE 409
19616                                 I1  ***** END-POOL *****
19617 00003ABC                    412 I1  EP_STEP_ENDSIG_B
19618                             413 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT6),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19619 00003ABC D10A                   M           MOV.L   #_EPCHK_STS,R1          ;
19620 00003ABE 6011                   M           MOV.W   @R1,R0          ;
19621 00003AC0 9410                   M           MOV.W   #LWORD ~(BIT9|BIT6),R4  ;
19622 00003AC2 2049                   M           AND     R4,R0           ;
19623 00003AC4 2101                   M           MOV.W   R0,@R1          ;
19624                             414 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4     ;
19625 00003AC6 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19626 00003AC8 6011                   M           MOV.W   @R1,R0          ;
19627 00003ACA 940C                   M           MOV.W   #(BIT11),R4             ;
19628 00003ACC 204B                   M           OR      R4,R0           ;
19629 00003ACE 2101                   M           MOV.W   R0,@R1          ;
19630                             415 I1  
19631                             416 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19632 00003AD0 D106               417 I1          MOV.L   #(_PAR_EP7END_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;終了遅延
19633 00003AD2 6211               418 I1          MOV.W   @R1,R2                                                          ;
19634 00003AD4 D106               419 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19635 00003AD6 2121               420 I1          MOV.W   R2,@R1                                                          ;
19636                             421 I1  ;;;;2015-10-26ｺﾞﾐ　悪さはしないが       M_BRA   EP_STEP_RESET_DATSET_COM
                                                          ;
19637                             422 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19638 00003AD8 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19639 00003ADA 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   243
PROGRAM NAME =

19640 00003ADC 7001                   M           ADD     #1,R0           ;
19641 00003ADE 2101                   M           MOV.W   R0,@R1          ;
19642                             423 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19643 00003AE0 A02D                   M           BRA     EP_SENCER_CKEND
19644 00003AE2 0009                   M           NOP
19645                             424 I1  
19646                             425 I1  
19647                                 I1  ***** BEGIN-POOL *****
19648 00003AE4 FDBF                   I1  DATA FOR SOURCE-LINE 413
19649 00003AE6 0800                   I1  DATA FOR SOURCE-LINE 414
19650 00003AE8 00000000               I1  DATA FOR SOURCE-LINE 413,414
19651 00003AEC 00000000               I1  DATA FOR SOURCE-LINE 417
19652 00003AF0 00000000               I1  DATA FOR SOURCE-LINE 419
19653 00003AF4 00000000               I1  DATA FOR SOURCE-LINE 422
19654                                 I1  ***** END-POOL *****
19655 00003AF8                    426 I1  EP_STEP_ENDSIG
19656                             427 I1          M_BRA   EP_SENCER_CK800                                                 ;
19657 00003AF8 A000                   M           BRA     EP_SENCER_CK800
19658 00003AFA 0009                   M           NOP
19659                             428 I1  
19660                             429 I1  
19661 00003AFC                    430 I1  EP_STEP_XX:
19662                             431 I1  
19663                             432 I1  ;       -----------正常終了処理--------
19664 00003AFC                    433 I1  EP_SENCER_CK800:
19665                             434 I1  
19666 00003AFC 9006               435 I1          MOV.W   #BIT7,R0                        ;
19667 00003AFE D104               436 I1          MOV.L   #_EPCHK_FLG,R1                  ;
19668 00003B00 2101               437 I1          MOV.W   R0,@R1                          ;
19669                             438 I1  
19670 00003B02 9004               439 I1          MOV.W   #BIT15,R0
19671 00003B04 D103               440 I1          MOV.L   #_EPCHK_STS,R1                  ;BIT15:正常完了
19672 00003B06 2101               441 I1          MOV.W   R0,@R1                          ;
19673                             442 I1  
19674                             443 I1          M_BRA   EP_SENCER_CK950                 ;
19675 00003B08 A014                   M           BRA     EP_SENCER_CK950
19676 00003B0A 0009                   M           NOP
19677                             444 I1  
19678                             445 I1  
19679                             446 I1  ;       -----------異常終了処理--------
19680                                 I1  ***** BEGIN-POOL *****
19681 00003B0C 0080                   I1  DATA FOR SOURCE-LINE 435
19682 00003B0E 8000                   I1  DATA FOR SOURCE-LINE 439
19683 00003B10 00000000               I1  DATA FOR SOURCE-LINE 436
19684 00003B14 00000000               I1  DATA FOR SOURCE-LINE 440
19685                                 I1  ***** END-POOL *****
19686 00003B18                    447 I1  EP_SENCER_CK900:
19687                             448 I1  
19688 00003B18 9418               449 I1          MOV.W   #H'239E,R4              ;2010-12-21
19689                             450 I1          FAR_JSR #_EMG_STOP,R0                   ;
19690 00003B1A D00E                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19691 00003B1C 400B                   M           JSR     @R0                     ;
19692 00003B1E 0009                   M           NOP                                     ;
19693                             451 I1  
19694 00003B20 200A               452 I1          XOR     R0,R0                                   ;
19695 00003B22 D10D               453 I1          MOV.L   #_EPCHK_FLG,R1                          ;
19696 00003B24 2101               454 I1          MOV.W   R0,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   244
PROGRAM NAME =

19697                             455 I1  
19698 00003B26 D10D               456 I1          MOV.L   #_EPCHK_STS,R1                          ;
19699 00003B28 6011               457 I1          MOV.W   @R1,R0                                  ;
19700 00003B2A 9410               458 I1          MOV.W   #(BIT4|BIT3|BIT2),R4                    ;異常要因以外をｸﾘｱ
19701 00003B2C 2049               459 I1          AND     R4,R0                                   ;
19702                             460 I1  
19703 00003B2E 940F               461 I1          MOV.W   #BIT14,R4                               ;BIT14異常終了ｾｯﾄ
19704 00003B30 204B               462 I1          OR      R4,R0                                   ;
19705 00003B32 2101               463 I1          MOV.W   R0,@R1                                  ;
19706                             464 I1  
19707                             465 I1  ;       -----------終了共通処理--------
19708 00003B34                    466 I1  EP_SENCER_CK950:
19709 00003B34 200A               467 I1          XOR     R0,R0                                   ;
19710 00003B36 D10A               468 I1          MOV.L   #_EPCHK_COM,R1                          ;
19711 00003B38 2101               469 I1          MOV.W   R0,@R1                                  ;
19712 00003B3A D10A               470 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1                 ;強制ﾊﾞﾙﾌﾞON:OFF
19713 00003B3C 2101               471 I1          MOV.W   R0,@R1                                  ;
19714                             472 I1  
19715                             473 I1  
19716 00003B3E                    474 I1  EP_SENCER_CKEND
19717 00003B3E D107               475 I1          MOV.L   #_EPCHK_STS,R1                  ;
19718 00003B40 6211               476 I1          MOV.W   @R1,R2                          ;
19719 00003B42 D109               477 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19720 00003B44 2121               478 I1          MOV.W   R2,@R1                          ;
19721                             479 I1  
19722 00003B46                    480 I1  EP_SENCER_CKEXT
19723                             481 I1          SUB_END
19724                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19725 00003B46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19726                             482 I1          M_RTS
19727 00003B48 000B                   M           RTS                             ;RTSの後ろの
19728 00003B4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19729                             483 I1  
19730                             484 I1  
19731                                 I1  ***** BEGIN-POOL *****
19732 00003B4C 239E                   I1  DATA FOR SOURCE-LINE 449
19733 00003B4E 001C                   I1  DATA FOR SOURCE-LINE 458
19734 00003B50 4000                   I1  DATA FOR SOURCE-LINE 461
19735 00003B52 0000                   I1  ALIGNMENT CODE
19736 00003B54 00000000               I1  DATA FOR SOURCE-LINE 450
19737 00003B58 00000000               I1  DATA FOR SOURCE-LINE 453
19738 00003B5C 00000000               I1  DATA FOR SOURCE-LINE 456,475
19739 00003B60 00000000               I1  DATA FOR SOURCE-LINE 468
19740 00003B64 00000000               I1  DATA FOR SOURCE-LINE 470
19741 00003B68 00000000               I1  DATA FOR SOURCE-LINE 477
19742                                 I1  ***** END-POOL *****
19743 00003B6C                    485 I1  _EP_SENCHK_STOPCONF1:
19744 00003B6C                    486 I1  _EP_SENCHK_STOPCONF2:
19745                             487 I1          SUB_START
19746 00003B6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19747                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19748                             488 I1  
19749 00003B6E D104               489 I1          MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
19750 00003B70 6011               490 I1          MOV.W   @R1,R0                  ;
19751 00003B72 D104               491 I1          MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
19752 00003B74 6211               492 I1          MOV.W   @R1,R2                  ;
19753 00003B76 202B               493 I1          OR      R2,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   245
PROGRAM NAME =

19754                             494 I1  
19755                             495 I1          SUB_END
19756                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19757 00003B78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19758                             496 I1          M_RTS
19759 00003B7A 000B                   M           RTS                             ;RTSの後ろの
19760 00003B7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19761                             497 I1  
19762                             498 I1  
19763                             499 I1  ;       ANS R0=0(OFF) R0=BIT14(ON)
19764                                 I1  ***** BEGIN-POOL *****
19765 00003B7E 0000                   I1  ALIGNMENT CODE
19766 00003B80 00000000               I1  DATA FOR SOURCE-LINE 489
19767 00003B84 00000000               I1  DATA FOR SOURCE-LINE 491
19768                                 I1  ***** END-POOL *****
19769 00003B88                    500 I1  _VFRY_IN_CHK:
19770                             501 I1          SUB_START
19771 00003B88 4F22                   M           STS.L   PR,@-R15                ;[必要]
19772                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19773 00003B8A 9405               502 I1          MOV.W   #BIT14,R4                       ;
19774 00003B8C D103               503 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19775 00003B8E 6011               504 I1          MOV.W   @R1,R0                          ;
19776 00003B90 2049               505 I1          AND     R4,R0                           ;0orBIT14
19777                             506 I1  
19778                             507 I1          SUB_END
19779                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19780 00003B92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19781                             508 I1          M_RTS
19782 00003B94 000B                   M           RTS                             ;RTSの後ろの
19783 00003B96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19784                             509 I1  
19785                             510 I1  
19786                                 I1  ***** BEGIN-POOL *****
19787 00003B98 4000                   I1  DATA FOR SOURCE-LINE 502
19788 00003B9A 0000                   I1  ALIGNMENT CODE
19789 00003B9C 00000000               I1  DATA FOR SOURCE-LINE 503
19790                                 I1  ***** END-POOL *****
19791 00003BA0                    511 I1  _EPSEN_IN_CHK
19792                             512 I1          SUB_START
19793 00003BA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19794                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19795 00003BA2 9405               513 I1          MOV.W   #BIT15,R4                       ;
19796 00003BA4 D103               514 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19797 00003BA6 6011               515 I1          MOV.W   @R1,R0                          ;
19798 00003BA8 2049               516 I1          AND     R4,R0                           ;0orBIT15
19799                             517 I1  
19800                             518 I1          SUB_END
19801                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19802 00003BAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19803                             519 I1          M_RTS
19804 00003BAC 000B                   M           RTS                             ;RTSの後ろの
19805 00003BAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19806                             520 I1  
19807                             521 I1  
19808                                 I1  ***** BEGIN-POOL *****
19809 00003BB0 8000                   I1  DATA FOR SOURCE-LINE 513
19810 00003BB2 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   246
PROGRAM NAME =

19811 00003BB4 00000000               I1  DATA FOR SOURCE-LINE 514
19812                                 I1  ***** END-POOL *****
19813 00003BB8                    522 I1  _EPSEN_CLR
19814                             523 I1          SUB_START
19815 00003BB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19816                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19817                             524 I1  
19818 00003BBA 9408               525 I1          MOV.W   #BIT15,R4
19819 00003BBC D104               526 I1          MOV.L   #_EPCHK_STS,R1                  ;
19820 00003BBE 6011               527 I1          MOV.W   @R1,R0
19821 00003BC0 2049               528 I1          AND     R4,R0
19822 00003BC2 2101               529 I1          MOV.W   R0,@R1                          ;
19823 00003BC4 D103               530 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19824 00003BC6 2101               531 I1          MOV.W   R0,@R1                          ;
19825                             532 I1  
19826                             533 I1          SUB_END
19827                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19828 00003BC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19829                             534 I1          M_RTS
19830 00003BCA 000B                   M           RTS                             ;RTSの後ろの
19831 00003BCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19832                             535 I1  
19833                            7891     
19834                                     ***** BEGIN-POOL *****
19835 00003BCE 8000                       DATA FOR SOURCE-LINE 525
19836 00003BD0 00000000                   DATA FOR SOURCE-LINE 526
19837 00003BD4 00000000                   DATA FOR SOURCE-LINE 530
19838                                     ***** END-POOL *****
19839 00003BD8                   7892             .ALIGN  4
19840                            7893     ;       *******************************************
19841                            7894     ;       ***                                     ***
19842                            7895     ;       ***                                     ***
19843                            7896     ;       ***                                     ***
19844                            7897     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19845                            7898     ;       ***             2016-04-16              ***
19846                            7899     ;       ***             2016-01-10              ***
19847                            7900     ;       ***                                     ***
19848                            7901     ;       ***                                     ***
19849                            7902     ;       ***                                     ***
19850                            7903     ;       *******************************************
19851                            7904     ;       リセット時に行う
19852                            7905     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19853                            7906     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19854                            7907     ;       このリカバーはハンドシェイク時のみのリカバーとする
19855                            7908     
19856                            7909             .IMPORT _CPUA_SV_STEP                           ;
19857                            7910             .IMPORT _CPUB_SV_STEP                           ;
19858                            7911     
19859                            7912             .IMPORT _EMG_POS_FLG_PROC
19860                            7913     
19861                            7914     
19862 00003BD8                   7915     _EXQ_PROC_STEP_RECOVER:
19863                            7916             SUB_START
19864 00003BD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19865                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19866                            7917     
19867                            7918     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   247
PROGRAM NAME =

19868 00003BDA D117              7919             MOV.L   #_MODE_SEL,R1                           ;
19869 00003BDC 6011              7920             MOV.W   @R1,R0                                  ;
19870                            7921     
19871 00003BDE 942A              7922             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
19872 00003BE0 2048              7923             TST     R4,R0                                   ;
19873                            7924             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19874 00003BE2 896B                   M           BT      EXQ_PROC_STEPRECOVER_END1
19875                            7925     
19876 00003BE4 D115              7926             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19877 00003BE6 6011              7927             MOV.W   @R1,R0                                  ;
19878                            7928     ;;;;    TST     #_DMATH_CNTROT,R0                       ;
19879                            7929     ;;;;    TST     #(_DMATH_DNDRIV),R0                     ;回転or往復
19880 00003BE8 C805              7930             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
19881                            7931             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;
19882 00003BEA 8967                   M           BT      EXQ_PROC_STEPRECOVER_END1
19883                            7932     
19884 00003BEC D114              7933             MOV.L   #_EXQ_LT_GET_FLG,R1                     ;[]
19885 00003BEE 6011              7934             MOV.W   @R1,R0                                  ;
19886 00003BF0 2008              7935             TST     R0,R0                                   ;
19887                            7936             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19888 00003BF2 8963                   M           BT      EXQ_PROC_STEPRECOVER_END1
19889                            7937     
19890                            7938     
19891                            7939     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
19892 00003BF4 D113              7940             MOV.L   #_EXQ_LT_PROC_CNT1,R1
19893 00003BF6 6011              7941             MOV.W   @R1,R0
19894 00003BF8 7001              7942             ADD     #1,R0
19895 00003BFA 2101              7943             MOV.W   R0,@R1
19896                            7944     
19897 00003BFC E401              7945             MOV.B   #BIT0,R4
19898 00003BFE D112              7946             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19899 00003C00 6011              7947             MOV.W   @R1,R0
19900 00003C02 204A              7948             XOR     R4,R0
19901 00003C04 2101              7949             MOV.W   R0,@R1
19902                            7950     
19903                            7951     
19904                            7952     ;---------------------------------------------------------
19905                            7953     ;切替条件
19906                            7954     ;       EXQ_LT_GET_FLGがON
19907                            7955     ;       (1)R1:自分が0(emg)でない
19908                            7956     ;       (1)R2:相手も0(emg)でない
19909                            7957     ;         (2-1)自分が最終行程の場合
19910                            7958     ;               (3-1)待機点範囲の場合
19911                            7959     ;                       相手CPUが0または1の場合　
19912                            7960     ;                       自分はEMG処理相当を行う(行程1からはじめる)
19913                            7961     ;               (3-2)待機点範囲でない場合:演算しない
19914                            7962     ;         (2-2)自分が最終行程でない場合
19915                            7963     ;               自分<相手であれば行程を入れ替える
19916                            7964     ;       EXQ_LT_HAND_STEP2_FLG=_CMPSTEP_STEP_END
19917                            7965     
19918                            7966             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
19919 00003C06 D011                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19920 00003C08 400B                   M           JSR     @R0                     ;
19921 00003C0A 0009                   M           NOP                                     ;
19922 00003C0C 6303              7967             MOV     R0,R3                           ;R3!=0:待機点
19923                            7968     
19924 00003C0E D510              7969             MOV.L   #_SV_POS_CTL_STEP,R5            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   248
PROGRAM NAME =

19925 00003C10 6151              7970             MOV.W   @R5,R1                          ;自分
19926                            7971             .AIF    1 EQ    0
19927                            7972             MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
19928                            7973             .AELSE
19929 00003C12 D610              7974 C           MOV.L   #_CPUA_SV_STEP,R6               ;
19930                            7975             .AENDI
19931 00003C14 6261              7976             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
19932 00003C16 2118              7977             TST     R1,R1                           ;CPUA(自分)
19933                            7978             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;[次の工程は１行程から行う]
19934 00003C18 8950                   M           BT      EXQ_PROC_STEPRECOVER_END1
19935                            7979     
19936 00003C1A 2338              7980             TST     R3,R3                           ;待機点？
19937                            7981             TST_BIT_OF EXQ_PROC_STEPRECOVER_200     ;NO!
19938 00003C1C 8950                   M           BT      EXQ_PROC_STEPRECOVER_200
19939                            7982     
19940 00003C1E D40E              7983             MOV.L   #_CPOS_STEP_MAX,R4              ;
19941 00003C20 6041              7984             MOV.W   @R4,R0                          ;
19942 00003C22 7001              7985             ADD     #1,R0                           ;
19943 00003C24 3010              7986             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
19944 00003C26 8B49              7987             BF      EXQ_PROC_STEPRECOVER_END1       ;NO!(待機点だが最終ステップではない)
19945                            7988     
19946                            7989     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
19947 00003C28 E001              7990             MOV.B   #1,R0                           ;
19948 00003C2A 2228              7991             TST     R2,R2                           ;
19949                            7992             TST_BIT_OF EXQ_PROC_STEPRECOVER_100     ;(R2=0:次の工程は0から YES:EMG)
19950 00003C2C 8916                   M           BT      EXQ_PROC_STEPRECOVER_100
19951                            7993     
19952 00003C2E 3200              7994             CMP/EQ  R0,R2                           ;
19953 00003C30 8914              7995             BT      EXQ_PROC_STEPRECOVER_100        ;相手CPU=1です
19954                            7996             M_BRA   EXQ_PROC_STEPRECOVER_END1       ;
19955 00003C32 A043                   M           BRA     EXQ_PROC_STEPRECOVER_END1
19956 00003C34 0009                   M           NOP
19957                            7997     
19958                            7998     ;
19959                            7999     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
19960                            8000     ;
19961                            8001     ;待機点での方向変更処理が必要
19962                            8002     ;       「EMGと同じ処理」
19963                                     ***** BEGIN-POOL *****
19964 00003C36 001E                       DATA FOR SOURCE-LINE 7922
19965 00003C38 00000000                   DATA FOR SOURCE-LINE 7919
19966 00003C3C 00000000                   DATA FOR SOURCE-LINE 7926
19967 00003C40 00000000                   DATA FOR SOURCE-LINE 7933
19968 00003C44 00000000                   DATA FOR SOURCE-LINE 7940
19969 00003C48 00000000                   DATA FOR SOURCE-LINE 7946
19970 00003C4C 00000000                   DATA FOR SOURCE-LINE 7966
19971 00003C50 00000000                   DATA FOR SOURCE-LINE 7969
19972 00003C54 00000000                   DATA FOR SOURCE-LINE 7974
19973 00003C58 00000000                   DATA FOR SOURCE-LINE 7983
19974                                     ***** END-POOL *****
19975 00003C5C                   8003     EXQ_PROC_STEPRECOVER_100:
19976                            8004     
19977 00003C5C D105              8005             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19978 00003C5E 6011              8006             MOV.W   @R1,R0                          ;
19979 00003C60 C804              8007             TST     #_DMATH_DNDRIV,R0               ;
19980                            8008             TST_BIT_ON EXQ_PROC_STEPRECOVER_150     ;
19981 00003C62 8B0D                   M           BF      EXQ_PROC_STEPRECOVER_150
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   249
PROGRAM NAME =

19982                            8009     
19983                            8010             FAR_JSR #_EMG_POS_FLG_PROC,R0           ;振り子以外なら非常停止と同じ処理でいい
19984 00003C64 D004                   M           MOV.L   #_EMG_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19985 00003C66 400B                   M           JSR     @R0                     ;
19986 00003C68 0009                   M           NOP                                     ;
19987                            8011             FAR_JSR #_EMG_CTL_FLG_PROC,R0           ;
19988 00003C6A D004                   M           MOV.L   #_EMG_CTL_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19989 00003C6C 400B                   M           JSR     @R0                     ;
19990 00003C6E 0009                   M           NOP                                     ;
19991                            8012             M_BRA   EXQ_PROC_STEPRECOVER_180        ;
19992 00003C70 A00C                   M           BRA     EXQ_PROC_STEPRECOVER_180
19993 00003C72 0009                   M           NOP
19994                            8013     
19995                                     ***** BEGIN-POOL *****
19996 00003C74 00000000                   DATA FOR SOURCE-LINE 8005
19997 00003C78 00000000                   DATA FOR SOURCE-LINE 8010
19998 00003C7C 00000000                   DATA FOR SOURCE-LINE 8011
19999                                     ***** END-POOL *****
20000 00003C80                   8014     EXQ_PROC_STEPRECOVER_150:
20001                            8015             FAR_JSR #_DNM_CYCLE_END,R0              ;
20002 00003C80 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20003 00003C82 400B                   M           JSR     @R0                     ;
20004 00003C84 0009                   M           NOP                                     ;
20005                            8016             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20006 00003C86 D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20007 00003C88 400B                   M           JSR     @R0                     ;
20008 00003C8A 0009                   M           NOP                                     ;
20009 00003C8C                   8017     EXQ_PROC_STEPRECOVER_180:
20010                            8018             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20011 00003C8C D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20012 00003C8E 400B                   M           JSR     @R0                     ;
20013 00003C90 0009                   M           NOP                                     ;
20014                            8019     
20015                            8020     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20016 00003C92 D108              8021             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20017 00003C94 6011              8022             MOV.W   @R1,R0                          ;
20018 00003C96 7001              8023             ADD     #1,R0                           ;
20019 00003C98 2101              8024             MOV.W   R0,@R1                          ;
20020                            8025     
20021 00003C9A E402              8026             MOV.B   #BIT1,R4
20022 00003C9C D106              8027             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20023 00003C9E 6011              8028             MOV.W   @R1,R0
20024 00003CA0 204A              8029             XOR     R4,R0
20025 00003CA2 2101              8030             MOV.W   R0,@R1
20026                            8031     ;       ------ﾃﾞﾊﾞｯｸ--------
20027                            8032             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20028 00003CA4 A030                   M           BRA     EXQ_PROC_STEPRECOVER_END
20029 00003CA6 0009                   M           NOP
20030                            8033     
20031                            8034     
20032                            8035     ;       ==============================================
20033                                     ***** BEGIN-POOL *****
20034 00003CA8 00000000                   DATA FOR SOURCE-LINE 8015
20035 00003CAC 00000000                   DATA FOR SOURCE-LINE 8016
20036 00003CB0 00000000                   DATA FOR SOURCE-LINE 8018
20037 00003CB4 00000000                   DATA FOR SOURCE-LINE 8021
20038 00003CB8 00000000                   DATA FOR SOURCE-LINE 8027
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   250
PROGRAM NAME =

20039                                     ***** END-POOL *****
20040 00003CBC                   8036     EXQ_PROC_STEPRECOVER_END1       ;
20041                            8037             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20042 00003CBC A024                   M           BRA     EXQ_PROC_STEPRECOVER_END
20043 00003CBE 0009                   M           NOP
20044                            8038     
20045                            8039     
20046                            8040     ;       ---------------------途中行程-----------------------
20047 00003CC0                   8041     EXQ_PROC_STEPRECOVER_200:                       ;NO!
20048                            8042     
20049 00003CC0 D109              8043             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;[HANDｼｪｲｸ中]
20050 00003CC2 6011              8044             MOV.W   @R1,R0                          ;
20051 00003CC4 2008              8045             TST     R0,R0                           ;
20052                            8046             TST_BIT_OF EXQ_PROC_STEPRECOVER_END     ;
20053 00003CC6 891F                   M           BT      EXQ_PROC_STEPRECOVER_END
20054                            8047     
20055 00003CC8 6151              8048             MOV.W   @R5,R1                          ;CPUA(自分)
20056 00003CCA 6261              8049             MOV.W   @R6,R2                          ;CPUB 2BYTE
20057                            8050     
20058                            8051     
20059 00003CCC 3216              8052             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20060 00003CCE 8911              8053             BT      EXQ_PROC_STEPRECOVER_250        ;YES
20061                            8054     
20062                            8055     
20063 00003CD0 D106              8056             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20064 00003CD2 6011              8057             MOV.W   @R1,R0                          ;
20065 00003CD4 7001              8058             ADD     #1,R0                           ;
20066 00003CD6 2101              8059             MOV.W   R0,@R1                          ;
20067                            8060     
20068 00003CD8 E408              8061             MOV.B   #BIT3,R4
20069 00003CDA D105              8062             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20070 00003CDC 6011              8063             MOV.W   @R1,R0
20071 00003CDE 204A              8064             XOR     R4,R0
20072 00003CE0 2101              8065             MOV.W   R0,@R1
20073                            8066             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20074 00003CE2 A011                   M           BRA     EXQ_PROC_STEPRECOVER_END
20075 00003CE4 0009                   M           NOP
20076                            8067     
20077                            8068     
20078                            8069     ;       ------------- 行程変更実地
20079                                     ***** BEGIN-POOL *****
20080 00003CE6 0000                       ALIGNMENT CODE
20081 00003CE8 00000000                   DATA FOR SOURCE-LINE 8043
20082 00003CEC 00000000                   DATA FOR SOURCE-LINE 8056
20083 00003CF0 00000000                   DATA FOR SOURCE-LINE 8062
20084                                     ***** END-POOL *****
20085 00003CF4                   8070     EXQ_PROC_STEPRECOVER_250:                       ;NO!
20086 00003CF4 2521              8071             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20087                            8072     
20088                            8073     ;       ------ 必要があれば目標位置演算-------------
20089                            8074     
20090 00003CF6 D106              8075             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20091 00003CF8 6011              8076             MOV.W   @R1,R0                          ;
20092 00003CFA 7001              8077             ADD     #1,R0                           ;
20093 00003CFC 2101              8078             MOV.W   R0,@R1                          ;
20094                            8079     
20095 00003CFE E404              8080             MOV.B   #BIT2,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   251
PROGRAM NAME =

20096 00003D00 D104              8081             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20097 00003D02 6011              8082             MOV.W   @R1,R0
20098 00003D04 204A              8083             XOR     R4,R0
20099 00003D06 2101              8084             MOV.W   R0,@R1
20100                            8085     
20101                            8086     
20102                            8087     
20103 00003D08                   8088     EXQ_PROC_STEPRECOVER_END:
20104                            8089     
20105                            8090             SUB_END
20106                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20107 00003D08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20108                            8091             M_RTS
20109 00003D0A 000B                   M           RTS                             ;RTSの後ろの
20110 00003D0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20111                            8092     
20112                            8093     
20113                            8094     
20114                            8095     
20115                            8096             .IMPORT _DNM_CYCLE_END          ;
20116                            8097             .IMPORT _CYC_END_POS_FLG_CLR
20117                            8098     
20118                            8099     ;       *******************************************
20119                            8100     ;       ***     待機点かどうかのチェック        ***
20120                            8101     ;       *******************************************
20121                            8102     ;       ANS R0
20122                                     ***** BEGIN-POOL *****
20123 00003D0E 0000                       ALIGNMENT CODE
20124 00003D10 00000000                   DATA FOR SOURCE-LINE 8075
20125 00003D14 00000000                   DATA FOR SOURCE-LINE 8081
20126                                     ***** END-POOL *****
20127 00003D18                   8103     _RECOVER_WAIT_AREA_CHK:
20128                            8104             SUB_START
20129 00003D18 4F22                   M           STS.L   PR,@-R15                ;[必要]
20130                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20131                            8105             PUSH_REG1 R1
20132 00003D1A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20133                                 M                                           ;REG=>[SP]
20134                                 M                                           ;"-4" FF,FF,FF,FC
20135                            8106             PUSH_REG1 R2
20136 00003D1C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20137                                 M                                           ;REG=>[SP]
20138                                 M                                           ;"-4" FF,FF,FF,FC
20139                            8107             PUSH_REG1 R3
20140 00003D1E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20141                                 M                                           ;REG=>[SP]
20142                                 M                                           ;"-4" FF,FF,FF,FC
20143                            8108             PUSH_REG1 R4
20144 00003D20 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20145                                 M                                           ;REG=>[SP]
20146                                 M                                           ;"-4" FF,FF,FF,FC
20147 00003D22 233A              8109             XOR     R3,R3                           ;ANS R3=0
20148                            8110     
20149 00003D24 D104              8111             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20150 00003D26 6011              8112             MOV.W   @R1,R0                          ;
20151 00003D28 C804              8113             TST     #_DMATH_DNDRIV,R0               ;
20152                            8114             TST_BIT_OF RECOVER_WAIT_AREACHK_100     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   252
PROGRAM NAME =

20153 00003D2A 8909                   M           BT      RECOVER_WAIT_AREACHK_100
20154                            8115     
20155                            8116              .AIF   1 EQ 1  ;
20156                            8117 C   ;       -------- 2016-10-31 ADD 二重回路対策
20157                            8118              .AENDI
20158                            8119     
20159                            8120     ;;;信号変更 2016-10-31
20160 00003D2C D103              8121             MOV.L   #_DNM_RST_SPEC_AREASIG,R1
20161 00003D2E 6011              8122             MOV.W   @R1,R0                          ;
20162 00003D30 C801              8123             TST     #BIT0,R0
20163                            8124             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
20164 00003D32 8B0D                   M           BF      RECOVER_WAIT_AREACHK_200
20165                            8125     
20166                            8126     ;;;信号変更     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1
20167                            8127     ;;;信号変更     MOV.W   @R1,R0                          ;
20168                            8128     ;;;信号変更     MOV.W   #BIT7,R4                        ;
20169                            8129     ;;;信号変更     TST     R4,R0                           ;
20170                            8130     ;;;信号変更     TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
20171                            8131     
20172                            8132     ;;;;記述ミス    MOV.L   #_M_LINK_AREASIG,R4             ;
20173                            8133     ;;;;記述ミス    MOV.W   @R4,R0                          ;
20174                            8134     ;;;;記述ミス    TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
20175                            8135             M_BRA   RECOVER_WAIT_AREACHK_END
20176 00003D34 A00D                   M           BRA     RECOVER_WAIT_AREACHK_END
20177 00003D36 0009                   M           NOP
20178                            8136     
20179                                     ***** BEGIN-POOL *****
20180 00003D38 00000000                   DATA FOR SOURCE-LINE 8111
20181 00003D3C 00000000                   DATA FOR SOURCE-LINE 8121
20182                                     ***** END-POOL *****
20183 00003D40                   8137     RECOVER_WAIT_AREACHK_100
20184 00003D40 D402              8138             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲(ふりこでは使えない
                                          )
20185 00003D42 6041              8139             MOV.W   @R4,R0                          ;
20186 00003D44 C810              8140             TST     #BIT4,R0                        ;
20187                            8141             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
20188 00003D46 8B03                   M           BF      RECOVER_WAIT_AREACHK_200
20189                            8142             M_BRA   RECOVER_WAIT_AREACHK_END
20190 00003D48 A003                   M           BRA     RECOVER_WAIT_AREACHK_END
20191 00003D4A 0009                   M           NOP
20192                            8143     
20193                            8144     
20194                                     ***** BEGIN-POOL *****
20195 00003D4C 00000000                   DATA FOR SOURCE-LINE 8138
20196                                     ***** END-POOL *****
20197 00003D50                   8145     RECOVER_WAIT_AREACHK_200
20198 00003D50 E301              8146             MOV.B   #BIT0,R3
20199 00003D52                   8147     RECOVER_WAIT_AREACHK_END
20200 00003D52 6033              8148             MOV     R3,R0                           ;ANS R0=0 R0=BIT0(待機点範囲)
20201                            8149             POP_REG1 R4
20202                                 M                                   ; RE"+4" 00,00,00,04
20203 00003D54 64F6                   M           MOV.L   @R15+,R4        ;
20204                            8150             POP_REG1 R3
20205                                 M                                   ; RE"+4" 00,00,00,04
20206 00003D56 63F6                   M           MOV.L   @R15+,R3        ;
20207                            8151             POP_REG1 R2
20208                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   253
PROGRAM NAME =

20209 00003D58 62F6                   M           MOV.L   @R15+,R2        ;
20210                            8152             POP_REG1 R1
20211                                 M                                   ; RE"+4" 00,00,00,04
20212 00003D5A 61F6                   M           MOV.L   @R15+,R1        ;
20213                            8153     
20214                            8154             SUB_END
20215                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20216 00003D5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20217                            8155             M_RTS
20218 00003D5E 000B                   M           RTS                             ;RTSの後ろの
20219 00003D60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20220                            8156     
20221                            8157     
20222                            8158     ;       *******************************************
20223                            8159     ;       ***                                     ***
20224                            8160     ;       ***                                     ***
20225                            8161     ;       ***     2016-10-31(2016-06-21)          ***
20226                            8162     ;       ***                                     ***
20227                            8163     ;       *******************************************
20228                            8164              .AIF   1 EQ 1  ;
20229                            8165 C   ;       -------- 2016-10-31 ADD 二重回路対策
20230                            8166              .AENDI
20231                            8167     
20232 00003D62                   8168     _DNM_OBJ_AREA_SIG2:             ;振り子の場合の目標の待機点信号
20233                            8169             SUB_START
20234 00003D62 4F22                   M           STS.L   PR,@-R15                ;[必要]
20235                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20236                            8170     
20237 00003D64 D10C              8171             MOV.L   #_MODE_SEL,R1                           ;
20238 00003D66 6011              8172             MOV.W   @R1,R0                                  ;
20239 00003D68 C81E              8173             TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
20240                            8174             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;
20241 00003D6A 893D                   M           BT      DNMOBJ_ARASIG2_150
20242                            8175     
20243 00003D6C D10B              8176             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20244 00003D6E 6011              8177             MOV.W   @R1,R0                                  ;
20245 00003D70 C804              8178             TST     #_DMATH_DNDRIV,R0                       ;
20246                            8179             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;ふりこじゃない
20247 00003D72 8939                   M           BT      DNMOBJ_ARASIG2_150
20248                            8180     
20249 00003D74 D10A              8181             MOV.L   #_BRKTST_SW_IN,R1                       ;
20250 00003D76 6011              8182             MOV.W   @R1,R0                                  ;
20251 00003D78 C801              8183             TST     #BIT0,R0                                ;
20252                            8184             TST_BIT_ON DNMOBJ_ARASIG2_150                   ;
20253 00003D7A 8B35                   M           BF      DNMOBJ_ARASIG2_150
20254                            8185     
20255 00003D7C D409              8186             MOV.L   #_DNM_SETX_LINK_UP_POS_DN,R4            ;ﾘﾝｸ(範囲比較)
20256 00003D7E 6141              8187             MOV.W   @R4,R1                                  ;待機点-α
20257 00003D80 D409              8188             MOV.L   #_DNM_SETX_LINK_UP_POS_UP,R4            ;
20258 00003D82 6341              8189             MOV.W   @R4,R3                                  ;待機点+α
20259 00003D84 D409              8190             MOV.L   #_INC_ENC360,R4                         ;PG
20260 00003D86 6241              8191             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
20261                            8192             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
20262 00003D88 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20263 00003D8A 400B                   M           JSR     @R0                     ;
20264 00003D8C 0009                   M           NOP                                     ;
20265 00003D8E 4511              8193             CMP/PZ  R5                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   254
PROGRAM NAME =

20266 00003D90 8B10              8194             BF      DNMOBJ_ARASIG2_100                      ;
20267                            8195             M_BRA   DNMOBJ_ARASIG2_120_SET
20268 00003D92 A019                   M           BRA     DNMOBJ_ARASIG2_120_SET
20269 00003D94 0009                   M           NOP
20270                            8196     
20271                            8197     
20272                                     ***** BEGIN-POOL *****
20273 00003D96 0000                       ALIGNMENT CODE
20274 00003D98 00000000                   DATA FOR SOURCE-LINE 8171
20275 00003D9C 00000000                   DATA FOR SOURCE-LINE 8176
20276 00003DA0 00000000                   DATA FOR SOURCE-LINE 8181
20277 00003DA4 00000000                   DATA FOR SOURCE-LINE 8186
20278 00003DA8 00000000                   DATA FOR SOURCE-LINE 8188
20279 00003DAC 00000000                   DATA FOR SOURCE-LINE 8190
20280 00003DB0 00000000                   DATA FOR SOURCE-LINE 8192
20281                                     ***** END-POOL *****
20282 00003DB4                   8198     DNMOBJ_ARASIG2_100:
20283 00003DB4 D407              8199             MOV.L   #_SETX_LINK_UP_POS_DN,R4                ;ﾘﾝｸ(範囲比較)
20284 00003DB6 6141              8200             MOV.W   @R4,R1                                  ;待機点-α
20285 00003DB8 D407              8201             MOV.L   #_SETX_LINK_UP_POS_UP,R4                ;
20286 00003DBA 6341              8202             MOV.W   @R4,R3                                  ;待機点+α
20287 00003DBC D407              8203             MOV.L   #_INC_ENC360,R4                         ;PG
20288 00003DBE 6241              8204             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
20289                            8205             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
20290 00003DC0 D007                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20291 00003DC2 400B                   M           JSR     @R0                     ;
20292 00003DC4 0009                   M           NOP                                     ;
20293 00003DC6 8B0F              8206             BF      DNMOBJ_ARASIG2_150                      ;
20294 00003DC8                   8207     DNMOBJ_ARASIG2_120_SET:
20295                            8208     
20296                            8209             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
20297 00003DC8 D106                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
20298 00003DCA 6011                   M           MOV.W   @R1,R0          ;
20299 00003DCC CB01                   M           OR      #(BIT0),R0              ;
20300 00003DCE 2101                   M           MOV.W   R0,@R1          ;
20301                            8210             M_BRA   DNMOBJ_ARASIG2_200
20302 00003DD0 A00E                   M           BRA     DNMOBJ_ARASIG2_200
20303 00003DD2 0009                   M           NOP
20304                            8211     
20305                                     ***** BEGIN-POOL *****
20306 00003DD4 00000000                   DATA FOR SOURCE-LINE 8199
20307 00003DD8 00000000                   DATA FOR SOURCE-LINE 8201
20308 00003DDC 00000000                   DATA FOR SOURCE-LINE 8203
20309 00003DE0 00000000                   DATA FOR SOURCE-LINE 8205
20310 00003DE4 00000000                   DATA FOR SOURCE-LINE 8209
20311                                     ***** END-POOL *****
20312 00003DE8                   8212     DNMOBJ_ARASIG2_150:
20313                            8213     
20314                            8214             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(~BIT0),WKREG=R1    ;
20315 00003DE8 D103                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
20316 00003DEA 6011                   M           MOV.W   @R1,R0          ;
20317 00003DEC C9FE                   M           AND     #LOW (~BIT0),R0         ;
20318 00003DEE 2101                   M           MOV.W   R0,@R1          ;
20319                            8215     
20320 00003DF0                   8216     DNMOBJ_ARASIG2_200:
20321                            8217     
20322                            8218             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   255
PROGRAM NAME =

20323                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20324 00003DF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20325                            8219             M_RTS
20326 00003DF2 000B                   M           RTS                             ;RTSの後ろの
20327 00003DF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20328                            8220     
20329                            8221     
20330                            8222     
20331                            8223     ;       *******************************************
20332                            8224     ;       ***                                     ***
20333                            8225     ;       ***     EXQ発生時　ﾊﾝﾄﾞｼｪｲｸ中かﾁｪｯｸ     ***
20334                            8226     ;       ***     2016-01-10[]                    ***
20335                            8227     ;       ***     2016-04-15                      ***
20336                            8228     ;       *******************************************
20337                            8229             .EXPORT _API_EXQ_STEP_STS_GET
20338                                     ***** BEGIN-POOL *****
20339 00003DF6 0000                       ALIGNMENT CODE
20340 00003DF8 00000000                   DATA FOR SOURCE-LINE 8214
20341                                     ***** END-POOL *****
20342 00003DFC                   8230     _API_EXQ_STEP_STS_GET
20343                            8231             SUB_START
20344 00003DFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20346                            8232     
20347 00003DFE D106              8233             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
20348 00003E00 6011              8234             MOV.W   @R1,R0                          ;
20349 00003E02 2008              8235             TST     R0,R0                           ;
20350                            8236             TST_BIT_ON API_EXQ_STEP_STSGET_EXT      ;
20351 00003E04 8B05                   M           BF      API_EXQ_STEP_STSGET_EXT
20352 00003E06 E001              8237             MOV.B   #BIT0,R0                        ;
20353 00003E08 2101              8238             MOV.W   R0,@R1                          ;
20354                            8239     
20355 00003E0A D104              8240             MOV.L   #_CMPSTEP_STEP_END,R1   ;(HAND)
20356 00003E0C 6011              8241             MOV.W   @R1,R0                          ;
20357 00003E0E D104              8242             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
20358 00003E10 2101              8243             MOV.W   R0,@R1                          ;
20359                            8244     
20360                            8245     
20361 00003E12                   8246     API_EXQ_STEP_STSGET_EXT
20362                            8247     
20363                            8248             SUB_END
20364                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20365 00003E12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20366                            8249             M_RTS
20367 00003E14 000B                   M           RTS                             ;RTSの後ろの
20368 00003E16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20369                            8250     
20370                            8251     
20371                            8252     ;       *******************************************
20372                            8253     ;       ***                                     ***
20373                            8254     ;       ***     クリア                          ***
20374                            8255     ;       ***     2016-01-10                      ***
20375                            8256     ;       *******************************************
20376                            8257             .EXPORT _API_EXQ_STEP_FLGCLR
20377                                     ***** BEGIN-POOL *****
20378 00003E18 00000000                   DATA FOR SOURCE-LINE 8233
20379 00003E1C 00000000                   DATA FOR SOURCE-LINE 8240
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   256
PROGRAM NAME =

20380 00003E20 00000000                   DATA FOR SOURCE-LINE 8242
20381                                     ***** END-POOL *****
20382 00003E24                   8258     _API_EXQ_STEP_FLGCLR
20383                            8259             SUB_START
20384 00003E24 4F22                   M           STS.L   PR,@-R15                ;[必要]
20385                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20386 00003E26 200A              8260             XOR     R0,R0
20387 00003E28 D103              8261             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
20388 00003E2A 2101              8262             MOV.W   R0,@R1                          ;
20389 00003E2C D103              8263             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
20390 00003E2E 2101              8264             MOV.W   R0,@R1                          ;
20391                            8265     
20392                            8266             SUB_END
20393                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20394 00003E30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20395                            8267             M_RTS
20396 00003E32 000B                   M           RTS                             ;RTSの後ろの
20397 00003E34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20398                            8268     
20399                            8269     ;       *******************************************
20400                            8270     ;       ***                                     ***
20401                            8271     ;       ***     リセット処理                    ***
20402                            8272     ;       ***     2016-10-31(2016-05-11)          ***
20403                            8273     ;       ***                                     ***
20404                            8274     ;       *******************************************
20405                            8275              .AIF   1 EQ 1  ;
20406                            8276 C   ;       -------- 2016-10-31 ADD 二重回路対策
20407                            8277              .AENDI
20408                                     ***** BEGIN-POOL *****
20409 00003E36 0000                       ALIGNMENT CODE
20410 00003E38 00000000                   DATA FOR SOURCE-LINE 8261
20411 00003E3C 00000000                   DATA FOR SOURCE-LINE 8263
20412                                     ***** END-POOL *****
20413 00003E40                   8278     _POSCTRL_CANSEL_RESET:
20414                            8279             SUB_START
20415 00003E40 4F22                   M           STS.L   PR,@-R15                ;[必要]
20416                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20417 00003E42 D10E              8280             MOV.L   #_POSCANSEL_CMD,R1              ;
20418 00003E44 6011              8281             MOV.W   @R1,R0                          ;
20419 00003E46 2008              8282             TST     R0,R0                           ;
20420                            8283             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20421 00003E48 8913                   M           BT      POSCTRL_CANSEL_RST_EXT
20422                            8284     
20423 00003E4A D10D              8285             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
20424 00003E4C 6011              8286             MOV.W   @R1,R0                          ;
20425 00003E4E 9413              8287             MOV.W   #BIT11,R4                       ;
20426 00003E50 2048              8288             TST     R4,R0                           ;指令OFF
20427                            8289             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;
20428 00003E52 8B0E                   M           BF      POSCTRL_CANSEL_RST_EXT
20429                            8290     
20430 00003E54 D10B              8291             MOV.L   #_di1_cb_ctl1_dt,R1             ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼ
                                          ｰｹﾝｽがﾘｾｯﾄでｸﾘｱするため)
20431 00003E56 6011              8292             MOV.W   @R1,R0                          ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFし
                                          ない)
20432 00003E58 940F              8293             MOV.W   #_W1RST,R4                      ;ﾘｾｯﾄ釦
20433 00003E5A 2048              8294             TST     R4,R0                           ;ONｴｯｼﾞ
20434                            8295             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   257
PROGRAM NAME =

20435 00003E5C 8909                   M           BT      POSCTRL_CANSEL_RST_EXT
20436                            8296     
20437 00003E5E 200A              8297             XOR     R0,R0                           ;
20438 00003E60 D106              8298             MOV.L   #_POSCANSEL_CMD,R1              ;
20439 00003E62 2101              8299             MOV.W   R0,@R1                          ;
20440                            8300     
20441 00003E64 D108              8301             MOV.L   #_reset_flg,R1                  ;
20442 00003E66 6011              8302             MOV.W   @R1,R0                          ;
20443 00003E68 2008              8303             TST     R0,R0                           ;
20444                            8304             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;EXQ,EMG
20445 00003E6A 8B02                   M           BF      POSCTRL_CANSEL_RST_EXT
20446                            8305     
20447                            8306             FAR_JSR #_POSCAN_PROC_STEP_RECOVER,R0   ;
20448 00003E6C D007                   M           MOV.L   #_POSCAN_PROC_STEP_RECOVER,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20449 00003E6E 400B                   M           JSR     @R0                     ;
20450 00003E70 0009                   M           NOP                                     ;
20451                            8307     
20452                            8308     
20453 00003E72                   8309     POSCTRL_CANSEL_RST_EXT:
20454                            8310     
20455                            8311             SUB_END
20456                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20457 00003E72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20458                            8312             M_RTS
20459 00003E74 000B                   M           RTS                             ;RTSの後ろの
20460 00003E76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20461                            8313     
20462                            8314     
20463                            8315     
20464                            8316     ;       *******************************************
20465                            8317     ;       ***                                     ***
20466                            8318     ;       ***                                     ***
20467                            8319     ;       ***                                     ***
20468                            8320     ;       ***     EXQ,遮光による行程違いのRECOVER ***
20469                            8321     ;       ***     2016-10-31                      ***
20470                            8322     ;       ***                                     ***
20471                            8323     ;       ***                                     ***
20472                            8324     ;       *******************************************
20473                            8325     ;       リセット時に行う
20474                            8326     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
20475                            8327     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
20476                            8328     ;       このリカバーはハンドシェイク時のみのリカバーとする
20477                            8329              .AIF   1 EQ 1  ;
20478                            8330 C   ;       -------- 2016-10-31 ADD 二重回路対策
20479                            8331              .AENDI
20480                            8332     
20481                            8333     
20482                                     ***** BEGIN-POOL *****
20483 00003E78 0800                       DATA FOR SOURCE-LINE 8287
20484 00003E7A 8000                       DATA FOR SOURCE-LINE 8293
20485 00003E7C 00000000                   DATA FOR SOURCE-LINE 8280,8298
20486 00003E80 00000000                   DATA FOR SOURCE-LINE 8285
20487 00003E84 00000000                   DATA FOR SOURCE-LINE 8291
20488 00003E88 00000000                   DATA FOR SOURCE-LINE 8301
20489 00003E8C 00000000                   DATA FOR SOURCE-LINE 8306
20490                                     ***** END-POOL *****
20491 00003E90                   8334     _POSCAN_PROC_STEP_RECOVER:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   258
PROGRAM NAME =

20492                            8335             SUB_START
20493 00003E90 4F22                   M           STS.L   PR,@-R15                ;[必要]
20494                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20495                            8336     
20496                            8337     
20497 00003E92 D115              8338             MOV.L   #_MODE_SEL,R1                           ;
20498 00003E94 6011              8339             MOV.W   @R1,R0                                  ;
20499                            8340     
20500 00003E96 9426              8341             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
20501 00003E98 2048              8342             TST     R4,R0                                   ;
20502                            8343             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1
20503 00003E9A 8953                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20504                            8344     
20505 00003E9C D113              8345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20506 00003E9E 6011              8346             MOV.W   @R1,R0                                  ;
20507 00003EA0 C805              8347             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
20508                            8348             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;
20509 00003EA2 894F                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20510                            8349     
20511                            8350     
20512                            8351     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
20513 00003EA4 D112              8352             MOV.L   #_EXQ_LT_PROC_CNT1,R1
20514 00003EA6 6011              8353             MOV.W   @R1,R0
20515 00003EA8 7001              8354             ADD     #1,R0
20516 00003EAA 2101              8355             MOV.W   R0,@R1
20517                            8356     
20518 00003EAC E401              8357             MOV.B   #BIT0,R4
20519 00003EAE D111              8358             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20520 00003EB0 6011              8359             MOV.W   @R1,R0
20521 00003EB2 204A              8360             XOR     R4,R0
20522 00003EB4 2101              8361             MOV.W   R0,@R1
20523                            8362     
20524                            8363     
20525                            8364     ;---------------------------------------------------------
20526                            8365     ;切替条件
20527                            8366     ;       (1)R1:自分が0(emg)でない
20528                            8367     ;       (1)R2:相手も0(emg)でない
20529                            8368     ;         (2-1)自分が最終行程の場合
20530                            8369     ;               (3-1)待機点範囲の場合
20531                            8370     ;                       相手CPUが0または1の場合　
20532                            8371     ;                       自分はEMG処理相当を行う(行程1からはじめる)
20533                            8372     ;               (3-2)待機点範囲でない場合:演算しない
20534                            8373     ;         (2-2)自分が最終行程でない場合
20535                            8374     ;               自分<相手であれば行程を入れ替える
20536                            8375     
20537                            8376             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
20538 00003EB6 D010                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20539 00003EB8 400B                   M           JSR     @R0                     ;
20540 00003EBA 0009                   M           NOP                                     ;
20541 00003EBC 6303              8377             MOV     R0,R3                           ;R3!=0:待機点
20542                            8378     
20543 00003EBE D50F              8379             MOV.L   #_SV_POS_CTL_STEP,R5            ;
20544 00003EC0 6151              8380             MOV.W   @R5,R1                          ;自分
20545                            8381             .AIF    1 EQ    0
20546                            8382             MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
20547                            8383             .AELSE
20548 00003EC2 D60F              8384 C           MOV.L   #_CPUA_SV_STEP,R6               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   259
PROGRAM NAME =

20549                            8385             .AENDI
20550 00003EC4 6261              8386             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
20551 00003EC6 2118              8387             TST     R1,R1                           ;CPUA(自分)
20552                            8388             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;[次の工程は１行程から行う]
20553 00003EC8 893C                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20554                            8389     
20555 00003ECA 2338              8390             TST     R3,R3                           ;待機点？
20556                            8391             TST_BIT_OF POSCAN_PROCSTEPRECOVER_200   ;NO!
20557 00003ECC 893C                   M           BT      POSCAN_PROCSTEPRECOVER_200
20558                            8392     
20559 00003ECE D40D              8393             MOV.L   #_CPOS_STEP_MAX,R4              ;
20560 00003ED0 6041              8394             MOV.W   @R4,R0                          ;
20561 00003ED2 7001              8395             ADD     #1,R0                           ;
20562 00003ED4 3010              8396             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
20563 00003ED6 8B35              8397             BF      POSCAN_PROCSTEPRECOVER_END1     ;NO!(待機点だが最終ステップではない)
20564                            8398     
20565                            8399     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
20566 00003ED8 E001              8400             MOV.B   #1,R0                           ;
20567 00003EDA 2228              8401             TST     R2,R2                           ;
20568                            8402             TST_BIT_OF POSCAN_PROCSTEPRECOVER_100   ;(R2=0:次の工程は0から YES:EMG)
20569 00003EDC 8914                   M           BT      POSCAN_PROCSTEPRECOVER_100
20570                            8403     
20571 00003EDE 3200              8404             CMP/EQ  R0,R2                           ;
20572 00003EE0 8912              8405             BT      POSCAN_PROCSTEPRECOVER_100      ;相手CPU=1です
20573                            8406             M_BRA   POSCAN_PROCSTEPRECOVER_END1     ;
20574 00003EE2 A02F                   M           BRA     POSCAN_PROCSTEPRECOVER_END1
20575 00003EE4 0009                   M           NOP
20576                            8407     
20577                            8408     ;
20578                            8409     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
20579                            8410     ;待機点での方向変更処理が必要
20580                            8411     ;       「EMGと同じ処理」
20581                                     ***** BEGIN-POOL *****
20582 00003EE6 001E                       DATA FOR SOURCE-LINE 8341
20583 00003EE8 00000000                   DATA FOR SOURCE-LINE 8338
20584 00003EEC 00000000                   DATA FOR SOURCE-LINE 8345
20585 00003EF0 00000000                   DATA FOR SOURCE-LINE 8352
20586 00003EF4 00000000                   DATA FOR SOURCE-LINE 8358
20587 00003EF8 00000000                   DATA FOR SOURCE-LINE 8376
20588 00003EFC 00000000                   DATA FOR SOURCE-LINE 8379
20589 00003F00 00000000                   DATA FOR SOURCE-LINE 8384
20590 00003F04 00000000                   DATA FOR SOURCE-LINE 8393
20591                                     ***** END-POOL *****
20592 00003F08                   8412     POSCAN_PROCSTEPRECOVER_100:
20593                            8413             FAR_JSR #_DNM_CYCLE_END,R0              ;
20594 00003F08 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20595 00003F0A 400B                   M           JSR     @R0                     ;
20596 00003F0C 0009                   M           NOP                                     ;
20597                            8414             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20598 00003F0E D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20599 00003F10 400B                   M           JSR     @R0                     ;
20600 00003F12 0009                   M           NOP                                     ;
20601                            8415             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20602 00003F14 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20603 00003F16 400B                   M           JSR     @R0                     ;
20604 00003F18 0009                   M           NOP                                     ;
20605                            8416     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   260
PROGRAM NAME =

20606                            8417     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20607 00003F1A D108              8418             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20608 00003F1C 6011              8419             MOV.W   @R1,R0                          ;
20609 00003F1E 7001              8420             ADD     #1,R0                           ;
20610 00003F20 2101              8421             MOV.W   R0,@R1                          ;
20611                            8422     
20612 00003F22 E402              8423             MOV.B   #BIT1,R4
20613 00003F24 D106              8424             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20614 00003F26 6011              8425             MOV.W   @R1,R0
20615 00003F28 204A              8426             XOR     R4,R0
20616 00003F2A 2101              8427             MOV.W   R0,@R1
20617                            8428     ;       ------ﾃﾞﾊﾞｯｸ--------
20618                            8429             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20619 00003F2C A033                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20620 00003F2E 0009                   M           NOP
20621                            8430     
20622                            8431     
20623                            8432     ;       ==============================================
20624                                     ***** BEGIN-POOL *****
20625 00003F30 00000000                   DATA FOR SOURCE-LINE 8413
20626 00003F34 00000000                   DATA FOR SOURCE-LINE 8414
20627 00003F38 00000000                   DATA FOR SOURCE-LINE 8415
20628 00003F3C 00000000                   DATA FOR SOURCE-LINE 8418
20629 00003F40 00000000                   DATA FOR SOURCE-LINE 8424
20630                                     ***** END-POOL *****
20631 00003F44                   8433     POSCAN_PROCSTEPRECOVER_END1     ;
20632                            8434             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20633 00003F44 A027                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20634 00003F46 0009                   M           NOP
20635                            8435     
20636                            8436     
20637                            8437     ;       ---------------------途中行程-----------------------
20638 00003F48                   8438     POSCAN_PROCSTEPRECOVER_200:                     ;NO!
20639 00003F48 6151              8439             MOV.W   @R5,R1                          ;CPUA(自分)
20640 00003F4A 6261              8440             MOV.W   @R6,R2                          ;CPUB 2BYTE
20641                            8441     
20642 00003F4C 3216              8442             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20643 00003F4E 890F              8443             BT      POSCAN_PROCSTEPRECOVER_250      ;YES
20644                            8444     
20645                            8445     
20646 00003F50 D105              8446             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20647 00003F52 6011              8447             MOV.W   @R1,R0                          ;
20648 00003F54 7001              8448             ADD     #1,R0                           ;
20649 00003F56 2101              8449             MOV.W   R0,@R1                          ;
20650                            8450     
20651 00003F58 E408              8451             MOV.B   #BIT3,R4
20652 00003F5A D104              8452             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20653 00003F5C 6011              8453             MOV.W   @R1,R0
20654 00003F5E 204A              8454             XOR     R4,R0
20655 00003F60 2101              8455             MOV.W   R0,@R1
20656                            8456             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20657 00003F62 A018                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20658 00003F64 0009                   M           NOP
20659                            8457     
20660                            8458     
20661                            8459     ;       ------------- 行程変更実地
20662                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   261
PROGRAM NAME =

20663 00003F66 0000                       ALIGNMENT CODE
20664 00003F68 00000000                   DATA FOR SOURCE-LINE 8446
20665 00003F6C 00000000                   DATA FOR SOURCE-LINE 8452
20666                                     ***** END-POOL *****
20667 00003F70                   8460     POSCAN_PROCSTEPRECOVER_250:                     ;NO!
20668                            8461     ;       -------2016-07-16---------------
20669                            8462             PUSH_REG1 R2
20670 00003F70 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20671                                 M                                           ;REG=>[SP]
20672                                 M                                           ;"-4" FF,FF,FF,FC
20673                            8463             PUSH_REG1 R5
20674 00003F72 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20675                                 M                                           ;REG=>[SP]
20676                                 M                                           ;"-4" FF,FF,FF,FC
20677                            8464             FAR_JSR #_ROT_CNTMODE_CHK,R0
20678 00003F74 D009                   M           MOV.L   #_ROT_CNTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20679 00003F76 400B                   M           JSR     @R0                     ;
20680 00003F78 0009                   M           NOP                                     ;
20681                            8465             POP_REG1 R5
20682                                 M                                   ; RE"+4" 00,00,00,04
20683 00003F7A 65F6                   M           MOV.L   @R15+,R5        ;
20684                            8466             POP_REG1 R2
20685                                 M                                   ; RE"+4" 00,00,00,04
20686 00003F7C 62F6                   M           MOV.L   @R15+,R2        ;
20687                            8467     ;       -------------------------------
20688                            8468     
20689 00003F7E 2008              8469             TST     R0,R0
20690                            8470             TST_BIT_ON POSCAN_PROCSTEPRECOVER_END   ;
20691 00003F80 8B09                   M           BF      POSCAN_PROCSTEPRECOVER_END
20692                            8471     
20693 00003F82 2521              8472             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20694                            8473     
20695                            8474     ;       ------ 必要があれば目標位置演算-------------
20696 00003F84 D106              8475             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20697 00003F86 6011              8476             MOV.W   @R1,R0                          ;
20698 00003F88 7001              8477             ADD     #1,R0                           ;
20699 00003F8A 2101              8478             MOV.W   R0,@R1                          ;
20700                            8479     
20701 00003F8C E404              8480             MOV.B   #BIT2,R4
20702 00003F8E D105              8481             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20703 00003F90 6011              8482             MOV.W   @R1,R0
20704 00003F92 204A              8483             XOR     R4,R0
20705 00003F94 2101              8484             MOV.W   R0,@R1
20706                            8485     
20707                            8486     
20708 00003F96                   8487     POSCAN_PROCSTEPRECOVER_END:
20709                            8488     
20710                            8489             SUB_END
20711                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20712 00003F96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20713                            8490             M_RTS
20714 00003F98 000B                   M           RTS                             ;RTSの後ろの
20715 00003F9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20716                            8491     
20717                                     ***** BEGIN-POOL *****
20718 00003F9C 00000000                   DATA FOR SOURCE-LINE 8464
20719 00003FA0 00000000                   DATA FOR SOURCE-LINE 8475
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   262
PROGRAM NAME =

20720 00003FA4 00000000                   DATA FOR SOURCE-LINE 8481
20721                                     ***** END-POOL *****
20722 00003FA8                   8492     _ROT_CNTMODE_CHK:
20723                            8493             SUB_START
20724 00003FA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20725                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20726                            8494     
20727 00003FAA 9416              8495             MOV.W   #1,R4   ;
20728 00003FAC 3140              8496             CMP/EQ  R4,R1   ;自分はSTEP1
20729 00003FAE 8B1F              8497             BF      ROT_CNTMODCHK_100               ;変更可能(自分が1でない)
20730                            8498     
20731 00003FB0 D40B              8499             MOV.L   #_CPOS_STEP_MAX,R4              ;
20732 00003FB2 6041              8500             MOV.W   @R4,R0                          ;
20733 00003FB4 7001              8501             ADD     #1,R0                           ;
20734 00003FB6 3020              8502             CMP/EQ  R2,R0                           ;相手が最終行程
20735 00003FB8 8B1A              8503             BF      ROT_CNTMODCHK_100               ;変更可能(相手が最終ｽﾃｯﾌﾟではない)
20736                            8504     
20737 00003FBA D10A              8505             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20738 00003FBC 6011              8506             MOV.W   @R1,R0                          ;
20739 00003FBE C801              8507             TST     #(_DMATH_CNTROT),R0             ;回転
20740                            8508             TST_BIT_OF ROT_CNTMODCHK_100            ;NO! 変更可能
20741 00003FC0 8916                   M           BT      ROT_CNTMODCHK_100
20742                            8509     
20743                            8510     ;待機点Vﾓｰﾄﾞ
20744 00003FC2 D109              8511             MOV.L   #_SETX_POS_MOD_FLG1,R1          ;
20745 00003FC4 6011              8512             MOV.W   @R1,R0                          ;
20746 00003FC6 C905              8513             AND     #(BIT2+BIT0),R0                 ;
20747 00003FC8 8805              8514             CMP/EQ  #(BIT2+BIT0),R0                 ;
20748 00003FCA 8B11              8515             BF      ROT_CNTMODCHK_100               ;回転,連続で待機点停止無し? NO
20749                            8516     
20750                            8517     
20751 00003FCC D107              8518             MOV.L   #_LINK_CLANK_PV,R1              ;
20752 00003FCE 6011              8519             MOV.W   @R1,R0                          ;
20753 00003FD0 9404              8520             MOV.W   #D'600,R4                       ;60.0
20754 00003FD2 3042              8521             CMP/HS  R4,R0                           ;
20755 00003FD4 890C              8522             BT      ROT_CNTMODCHK_100               ;60<ｸﾗﾝｸ角度が大きい
20756                            8523             M_BRA   ROT_CNTMODCHK_200               ;0~60度だ.
20757 00003FD6 A00E                   M           BRA     ROT_CNTMODCHK_200
20758 00003FD8 0009                   M           NOP
20759                            8524     
20760                                     ***** BEGIN-POOL *****
20761 00003FDA 0001                       DATA FOR SOURCE-LINE 8495
20762 00003FDC 0258                       DATA FOR SOURCE-LINE 8520
20763 00003FDE 0000                       ALIGNMENT CODE
20764 00003FE0 00000000                   DATA FOR SOURCE-LINE 8499
20765 00003FE4 00000000                   DATA FOR SOURCE-LINE 8505
20766 00003FE8 00000000                   DATA FOR SOURCE-LINE 8511
20767 00003FEC 00000000                   DATA FOR SOURCE-LINE 8518
20768                                     ***** END-POOL *****
20769 00003FF0                   8525     ROT_CNTMODCHK_100:
20770 00003FF0 200A              8526             XOR     R0,R0                   ;変更する
20771                            8527             M_BRA   ROT_CNTMODCHK_END       ;
20772 00003FF2 A001                   M           BRA     ROT_CNTMODCHK_END
20773 00003FF4 0009                   M           NOP
20774                            8528     
20775 00003FF6                   8529     ROT_CNTMODCHK_200:
20776 00003FF6 E001              8530             MOV.B   #1,R0                   ;変更しない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   263
PROGRAM NAME =

20777 00003FF8                   8531     ROT_CNTMODCHK_END:
20778                            8532             SUB_END
20779                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20780 00003FF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20781                            8533             M_RTS
20782 00003FFA 000B                   M           RTS                             ;RTSの後ろの
20783 00003FFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20784                            8534     
20785                            8535     
20786                            8536     
20787                            8537             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   264

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ANTI_CHK_0100                    P             000006DE   7853*
ANTI_CHK_0130                    P             00000710   7883  7892*
ANTI_CHK_0150                    P             0000073C   7851  7913*
ANTI_CHK_0500                    P             0000075C   7830  7941*
ANTI_CHK_EXIT                    P             00000770   7840  7897  7921  7928  7946  7956*
API_EXQ_STEP_STSGET_EXT          P             00003E12  20351 20361*
API_HOLD_WAIT_BRKOFFSIG_END      P             0000343C  18307 18313 18322*
BIT0                                      EQU  00000001     15* 2040  2349  2364  6456  6480  6512  6843  6903  6920  6952  6966 
                                                          7068  7269  7498  7548  7578  7586  7595  7701  7864  7886  7925  7944 
                                                          8011  8034  8105  8167  8270  8361  8487  8717  8877  9429  9560  9602 
                                                          9873 10049 10223 10229 10385 10415 10471 10524 10540 10688 10734 10788 
                                                         10849 10863 10950 10957 12035 12093 12375 12458 12623 12651 12669 12916 
                                                         12917 12940 12941 12971 13123 13465 13534 13595 13743 14175 14293 14364 
                                                         14387 14453 14468 14601 14815 15122 15133 15595 15608 15831 15848 15874 
                                                         15907 16363 16370 16453 16498 16714 16739 16919 16940 16984 16990 17119 
                                                         17133 17148 17313 17334 17342 17421 17511 17516 17587 17613 17631 17798 
                                                         17873 17971 18346 18351 18356 18721 18727 18766 18772 18817 19018 19026 
                                                         19298 19897 20162 20198 20251 20299 20317 20352 20518 20746 20747 
BIT1                                      EQU  00000002     16* 2041  2350  2365  6553  6649  6920  6952  6966  7269  7709  8023 
                                                          8049  9072  9168  9318  9429  9758 10155 10616 10747 10803 10891 11041 
                                                         11048 11090 11140 11175 11241 12372 12430 12458 12623 12651 12669 13613 
                                                         13624 13760 13772 14601 15595 15999 16072 16098 16945 16984 17177 17281 
                                                         17502 17881 17897 18351 18662 19598 20021 20612 
BIT10                                     EQU  00000400     25* 2375  7288  7322  7386 10504 12767 17143 17145 17192 17288 19592 
BIT11                                     EQU  00000800     26* 2376  7288  7333  9095  9643 10657 11217 13377 15059 15080 17143 
                                                         17164 17192 17294 19627 20425 
BIT12                                     EQU  00001000     27* 2381  7288  7338  9095  9643 13377 15547 16267 17454 17725 17733 
                                                         17957 17983 18115 18412 
BIT13                                     EQU  00002000     28* 2382  7288  7317 14296 16267 18014 
BIT14                                     EQU  00004000     29* 2383  7288  9415 16186 16267 16977 19703 19773 
BIT15                                     EQU  00008000     30* 2384 14235 14781 14883 16186 16267 17068 17231 19670 19795 19818 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2042  2351  2366  2386  6542  6748  6920  7269  7722  9566  9787 
                                                         10121 10256 10439 10592 10682 10784 10976 11065 11130 12754 13640 13652 
                                                         13788 13800 14601 14944 15996 16109 16125 16147 17167 17877 17921 17966 
                                                         18351 19241 19700 20095 20701 20746 20747 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2043  2352  2367  2387  6920  7269  7422  7734  8423  8807  9679 
                                                          9695 11167 11440 14601 15985 16176 16654 19345 19700 20068 20651 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2353  2368  2388  6920  7118  7172  7193  7269  7747  9653 11163 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   265

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         11170 12049 12054 12476 12916 12917 12940 12941 13123 14398 14601 15764 
                                                         16193 16863 17300 18600 18615 19561 19700 20186 
BIT5                                      EQU  00000020     20* 2354  2369  2389  6920  7269  7760 12054 12232 12476 14601 14608 
                                                         15395 15401 15458 15464 15913 16147 16201 16701 16707 19184 19586 
BIT6                                      EQU  00000040     21* 2355  2370  2390  6920  7269  7771 14364 14455 14601 15913 15914 
                                                         16169 16226 17300 17521 17908 18053 18412 19200 19621 
BIT7                                      EQU  00000080     22* 2356  2371  2391  7122  7849  7881 11418 13305 15861 15959 17305 
                                                         17902 17976 18053 18412 18600 19047 19370 19666 
BIT8                                      EQU  00000100     23* 2357  2372  7404  7426 10024 10081 13384 17305 17447 17983 18082 
                                                         18412 19396 
BIT9                                      EQU  00000200     24* 2358  2373  7404 10024 11426 13403 19486 19500 19586 19621 
BRKTST_CHKDTMK_100               P             00002D6E  16803 16805*
BRKTST_CTL_050                   P             000028BC  15857 15864*
BRKTST_CTL_090                   P             000028D0  15850 15863 15872 15885*
BRKTST_CTL_100                   P             000028F4  15833 15903*
BRKTST_CTL_150                   P             00002940  15915 15957*
BRKTST_CTL_190                   P             0000294A  15944 15970*
BRKTST_CTL_200                   P             00002958  15909 15981*
BRKTST_CTL_220                   P             00002968  15987 15995*
BRKTST_CTL_250                   P             00002984  16014 16024*
BRKTST_CTL_260                   P             000029A4  16034 16050*
BRKTST_CTL_290                   P             000029C6  16016 16032 16042 16057 16059 16074*
BRKTST_CTL_300                   P             000029DC  16001 16087*
BRKTST_CTL_350                   P             00002A10  16100 16122*
BRKTST_CTL_360                   P             00002A22  16127 16137*
BRKTST_CTL_390                   P             00002A32  16112 16135 16149*
BRKTST_CTL_400                   P             00002A48  15998 16165*
BRKTST_CTL_450                   P             00002A6A  16189 16197*
BRKTST_CTL_490                   P             00002A72  16171 16195 16204*
BRKTST_CTL_500                   P             00002A84  15989 16217*
BRKTST_CTL_900                   P             00002AA4  15887 15972 16076 16151 16206 16229 16241*
BRKTST_CTL_950                   P             00002ACC  16263 16270*
BRKTST_INPUTMK_100               P             00002B48  16348 16354 16365 16387*
BRKTST_INPUTMK_200               P             00002B52  16377 16394*
BRKTST_MOD_CF_END                P             00002AF8  16317 16320*
BRKTST_RDYCHK_END                P             00002C3C  16573 16590*
BRKTST_RDYCHK_OFF                P             00002C34  16494 16500 16552 16583*
BRKTST_RDYCHK_ON                 P             00002C18  16554 16562*
BRKTST_RDYCHK_START_WAIT         P             00002C3A  16527 16588*
BRKTST_RDYCK_0198                P             00002BDA  16520 16525*
BRKTST_RDYCK_0200                P             00002C04  16483 16545*
BRKTST_RDY_SFTY_MASK2CHK055      P             00002B7C  16435 16449*
BRKTST_RDY_SFTY_MASK2CHK060      P             00002B98  16455 16470*
BRKTST_RDY_SFTY_MASK2CHK100      P             00002B9E  16442 16462 16475*
BRKTST_SPDCHK_100                P             00002DBE  16858 16866*
BRKTST_STOPSIG_MK300             P             00002E14  16921 16936 16948*
BRKTST_STR_POW_100               P             00002CFA  16736 16749*
BRK_RDY_ON_CF_998                P             00002E48  16995*
BRK_RDY_ON_CF_999                P             00002E5C  16980 16986 16992 17007*
BRK_RDY_ON_CF_EXT                P             00002E5E  16998 17009*
BTTN_DRVSEP_CHK_CLR              P             00000E84   9568  9578*
BTTN_DRVSEP_CHK_END              P             00000E8A   9562  9582*
BTTN_START_CK100                 P             00000E9E   9604  9614*
BTTN_START_CK150                 P             00000EC8   9621  9637*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   266

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BTTN_START_CK180                 P             00000EDA   9646  9656*
BTTN_START_CK190                 P             00000EEC   9655  9669*
BTTN_START_CK192                 P             00000F0C   9674  9690*
BTTN_START_CK195                 P             00000F16   9683  9698*
BTTN_START_CK200                 P             00000F30   9705  9716*
BTTN_START_CK220                 P             00000F32   9624  9659  9718*
BTTN_START_CK300                 P             00000F36   9707  9723*
BTTN_START_CK320                 P             00000F74   9754  9760  9782*
BTTN_START_CK350                 P             00000FA0   9789  9817*
BTTN_START_CK550                 P             00000FB0   9770  9798  9807  9831*
BTTN_START_CK570                 P             00000FB6   9570  9768  9824  9836*
BTTN_START_CK599                 P             00000FBC   9728  9805  9822  9841*
BTTN_START_CKEXT                 P             00000FBE   9834  9839  9843*
CMPAB_NEAR_END_PC_100            P             00001F70  13594 13611*
CMPAB_NEAR_END_PC_200            P             00001F98  13615 13638*
CMPAB_NEAR_END_PC_ED             P             00001FBA  13657 13665*
CMPAB_NEAR_END_PC_NG             P             00001FB8  13602 13622 13631 13650 13663*
CMPAB_NEAR_END_PC_OK             P             00001FAE  13642 13654*
CNT_SPM_DSPCK050                 P             00001F38  13527 13532 13538*
CONT_LOT_CHK050                  P             00001CF8  12992 12995*
CONT_MD_CHK050                   P             00001E88  13387 13401*
CONT_MD_CHK100                   P             00001E92  13372 13380 13391 13406 13409*
CTRL_UP_HOLD_CK_200              P             00001A68  12192 12207*
CTRL_UP_HOLD_CK_300              P             00001A70  12210 12216*
CTRL_UP_HOLD_CK_400              P             00001A7C  12194 12212 12219 12228*
CTRL_UP_HOLD_CK_700              P             00001A90  12223 12236 12243*
CTRL_UP_HOLD_CK_END              P             00001A98  12169 12225 12234 12238 12256*
CTRL_UP_HOLD_CK_ST00             P             000019A4  12017 12032*
CTRL_UP_HOLD_CK_ST20             P             000019B4  12037 12045*
CTRL_UP_HOLD_CK_ST40             P             000019C4  12051 12056*
CTRL_UP_HOLD_CK_ST50             P             000019E0  12078 12089*
CTRL_UP_HOLD_CK_STAA             P             00001996  12011 12018*
CTRL_UP_HOLD_CK_ST_EXT           P             000019E8  12020 12039 12063 12087 12103*
CTRL_UP_LOT_CK_200               P             00001DD0  13184 13198*
CTRL_UP_LOT_CK_300               P             00001DD8  13201 13207*
CTRL_UP_LOT_CK_400               P             00001DE4  13203 13210 13220*
CTRL_UP_LOT_CK_700               P             00001DEC  13214 13223 13227*
CTRL_UP_LOT_CK_END               P             00001DF4  13160 13186 13216 13225 13237*
CW_CCW_ESTEPTMCHK_010            P             00001934  11915 11923*
CW_CCW_ESTEPTMCHK_100            P             0000195E  11950 11952 11956 11959*
CW_CCW_ESTEPTMCHK_200            P             0000196A  11963 11965 11970*
CW_CCW_ESTEPTMCHK_LOP            P             00001948  11942*11974 
CW_CCW_ESTEPTMCHK_LOPEND         P             0000197C  11917 11945 11981*
CW_CCW_ESTEPTMCHK_START          P             00001924  11906 11910*
CW_CCW_ESTEP_LOP000              P             000018CC  11831*11901 
CW_CCW_ESTEP_LOP050              P             000018DA  11838 11841*
CW_CCW_ESTEP_LOP150              P             000018FC  11848 11866*
CW_CCW_ESTEP_LOP300              P             00001908  11845 11880*
CW_CCW_ESTEP_LOP320              P             0000190E  11883 11886*
CW_CCW_ESTEP_LOP340              P             00001914  11890 11894*
CW_CCW_ESTEP_LOP400              P             00001916  11853 11857 11870 11874 11896*
CW_CCW_ESTEP_LOPEND              P             00001920  11834 11904*
DEBUG_CMPERR_STSMK10             P             00000646   7700  7702*
DEBUG_CMPERR_STSMK100            P             00000678   7759  7761*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   267

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DEBUG_CMPERR_STSMK150            P             00000682   7770  7772*
DEBUG_CMPERR_STSMK20             P             00000650   7708  7710*
DEBUG_CMPERR_STSMK40             P             0000065A   7721  7723*
DEBUG_CMPERR_STSMK60             P             00000664   7733  7735*
DEBUG_CMPERR_STSMK80             P             0000066E   7746  7748*
DNMOBJ_ARASIG2_100               P             00003DB4  20266 20282*
DNMOBJ_ARASIG2_120_SET           P             00003DC8  20268 20294*
DNMOBJ_ARASIG2_150               P             00003DE8  20241 20247 20253 20293 20312*
DNMOBJ_ARASIG2_200               P             00003DF0  20302 20320*
DRV_START_ININW1_050             P             00001EFC  13459 13481*
DRV_START_ININW1_100             P             00001F02  13469 13485*
DRV_START_KEP_WAIT_100           P             0000262C  15124 15131 15147*
DRV_START_KEP_WAIT_END           P             00002652  15165 15170 15181*
DRV_START_KEP_WAIT_NON           P             0000263C  15118 15162*
DRV_START_KEP_WAIT_START         P             0000264A  15155 15176*
DRV_START_KEP_WAIT_USE           P             00002642  15137 15152 15167*
ELSECPU_GET_OBJPOS_100           P             00001012   9925  9931*
ELSECPU_GET_OBJPOS_EXT           P             00001018   9936*
EP_SENCER_CK020                  P             00003764  18971 18982*
EP_SENCER_CK030                  P             00003774  18987 18996*
EP_SENCER_CK040                  P             00003790  19004 19017*
EP_SENCER_CK050                  P             000037BC  18965 19046*
EP_SENCER_CK100                  P             000037C4  19049 19055*
EP_SENCER_CK150                  P             000037E8  19073 19083*
EP_SENCER_CK200                  P             000037F8  19090 19099*
EP_SENCER_CK800                  P             00003AFC  18989 19657 19664*
EP_SENCER_CK900                  P             00003B18  19010 19075 19245 19349 19565 19686*
EP_SENCER_CK950                  P             00003B34  19675 19708*
EP_SENCER_CKEND                  P             00003B3E  19036 19051 19092 19164 19221 19255 19281 19330 19358 19382 19408 19463 
                                                         19521 19548 19574 19607 19643 19716*
EP_SENCER_CKEXT                  P             00003B46  18973 19722*
EP_STEP_ENDSIG                   P             00003AF8  19655*
EP_STEP_ENDSIG_A                 P             00003A84  18925 19582*
EP_STEP_ENDSIG_B                 P             00003ABC  18933 19617*
EP_STEP_EPSENSIG_A               P             00003954  18922 19366*
EP_STEP_EPSENSIG_B               P             00003980  18930 19392*
EP_STEP_RESETON_COM              P             000039FC  18924 18932 19481*
EP_STEP_RESET_100                P             000039CC  19427 19443*
EP_STEP_RESET_COM_150            P             00003A44  19512 19533*
EP_STEP_RESET_COM_170            P             00003A6C  19539 19557*
EP_STEP_RESET_COM_190            P             00003A80  19494 19572*
EP_STEP_RESET_DATSET1            P             000039AC  18923 18931 19422*
EP_STEP_RESET_DATSET_COM         P             000039D4  19435 19450*
EP_STEP_USE_RY_A                 P             00003868  18919 19180*
EP_STEP_USE_RY_B                 P             0000387C  18927 19196*
EP_STEP_USE_RY_COM               P             00003886  19188 19203*
EP_STEP_USE_RY_COM_150           P             000038AC  19212 19231*
EP_STEP_USE_RY_COM_190           P             000038CC  19236 19253*
EP_STEP_USE_RY_DATSETCOM         P             00003840  19137 19151*
EP_STEP_USE_RY_DATSET_A          P             00003824  18918 19130*
EP_STEP_USE_RY_DATSET_B          P             00003838  18926 19144*
EP_STEP_VALVON_COM               P             00003900  18921 18929 19297*
EP_STEP_VALVON_DATSET            P             000038D0  18920 18928 19263*
EP_STEP_VALV_COM_150             P             0000393C  19321 19340*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   268

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

EP_STEP_VALV_COM_190             P             00003950  19307 19356*
EP_STEP_XX                       P             00003AFC  18934 18935 18936 18937 18938 18939 18940 18941 18942 18943 18944 18945 
                                                         18946 18947 18948 18949 18950 19661*
EXQ_PROC_STEPRECOVER_100         P             00003C5C  19950 19953 19975*
EXQ_PROC_STEPRECOVER_150         P             00003C80  19981 20000*
EXQ_PROC_STEPRECOVER_180         P             00003C8C  19992 20009*
EXQ_PROC_STEPRECOVER_200         P             00003CC0  19938 20047*
EXQ_PROC_STEPRECOVER_250         P             00003CF4  20060 20085*
EXQ_PROC_STEPRECOVER_END         P             00003D08  20028 20042 20053 20074 20103*
EXQ_PROC_STEPRECOVER_END1        P             00003CBC  19874 19882 19888 19934 19944 19955 20040*
EXT_DRVBTTN_INFO_MK100           P             00002ED4  17121 17131 17135*
EXT_DRVBTTN_INFO_MK200           P             00002F04  17147 17163*
EXT_DRVBTTN_INFO_MK300           P             00002F12  17166 17175*
EXT_DRVBTTN_INFO_MK400           P             00002F14  17150 17169 17179*
EXT_DRVBTTN_INFO_MK410           P             00002F26  17189 17195*
EXT_DRVBTTN_INFO_MK420           P             00002F40  17194 17211*
EXT_DRVBTTN_INFO_MK450           P             00002F54  17216 17226*
EXT_DRVBTTN_INFO_MK500           P             00002F66  17201 17220 17240*
EXT_DRVBTTN_MOD100               P             00002E90  17074 17076*
EXT_DRVBTTN_MODJG_CF300          P             00002FCC  17283 17291 17303 17308 17315 17333*
EXT_DRVBTTN_MODJG_CF500          P             00002FCE  17274 17297 17317 17335*
EXT_DRVBTTN_MODJG_CF700          P             00002FE2  17344 17353*
EXT_DRVBTTN_MOD_END              P             00002E9C  17055 17086*
HOLD1_DNSTARTPOSCK100            P             00003208  17817 17823 17837*
HOLD1_DNSTARTPOSCK200            P             0000320E  17829 17842*
H_BYTE                                    EQU  00000000     82*
INC_RSTDAT_CHK230                P             000036AC  18853 18858 18863*
INC_RSTMODECK020                 P             00003554  18580 18589*
INC_RSTMODECK100                 P             00003570  18596 18612*
INC_RSTMODECK200                 P             00003578  18604 18620*
INC_RSTMODECK240                 P             000035DC  18665 18690*
INC_RSTMODECK260                 P             000035E6  18674 18698*
INC_RSTMODECK280                 P             000035F8  18660 18676 18697 18707 18711*
INC_RSTMODECK290                 P             00003634  18723 18750*
INC_RSTMODECK300                 P             00003644  18716 18729 18736 18756 18764*
INC_RSTMODECK490                 P             00003660  18602 18617 18651 18785*
INC_RSTMODECK499                 P             00003662  18582 18787*
INC_RSTMODECK500                 P             00003664  18774 18789*
INC_SPEC_RSTCK100                P             0000368C  18809 18815 18827*
INC_SPEC_RSTCK200                P             0000368E  18819 18829*
JMP0100001                       P             000026A4  15360 15379*
JMP0100002                       P             000026F4  15426 15443*
JMP0100003                       P             000035B4  18671 18673*
JMP0100004                       P             000035E4  18694 18696*
JMP0200001                       P             000026B0  15364 15366 15369 15382 15384 15386*
JMP0200002                       P             00002700  15430 15432 15435 15446 15448 15450*
JMP10000000                      P             00001FE4  13742 13758*
JMP20000000                      P             0000200C  13762 13786*
JMP_0100005                      P             000037D0  19061 19064*
JMP_0100006                      P             00003804  19104 19107*
JMP_ED00000                      P             0000202E  13805 13813*
JMP_NG00000                      P             0000202C  13750 13770 13779 13798 13811*
JMP_OK00000                      P             00002022  13790 13802*
LOT_CNTCNT_050                   P             00001CB8  12918 12928*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   269

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LOT_CNTCNT_080                   P             00001CCC  12942 12951*
LOT_CNTCNT_200                   P             00001CFA  12887 12920 12944 12958 12967 12999*
L_BYTE                                    EQU  00000001     81*
MASK2_SFYSTP400                  P             000027CC  15597 15627*
MASK2_SFYSTP500                  P             000027D2  15591 15610 15632*
MASK2_SFYSTP600                  P             000027D4  15614 15634*
MASK2_SFYSTPEXT                  P             000027D8  15638*
MODE_CCC_STOPCHK                 P             00001354  10660 10671*
MODE_CCC_STPCMP_120              P             00001370  10684 10690*
MODE_CCS_STPCMP_105              P             000013E0  10730 10768*
MODE_CCS_STPCMP_120              P             000013EE  10786 10792*
MODE_CCS_STPCMP_140              P             00001450  10799 10846*
MODE_CCS_STPCMP_145              P             00001458  10805 10812 10826 10854*
MODE_CCS_STPCMP_200              P             000014A8  10828 10851 10921*
MODE_CCS_STPCMP_250              P             000014BE  10946 10954*
MODE_CCS_STPCMP_270              P             000014C6  10960*
MODE_CCS_STPCMP_280              P             000014C6  10973*
MODE_CCS_STPCMP_300              P             000014D4  10754 10865 10906 10952 10978 10986*
MODE_CHG_050                     P             0000044A   7273  7275*
MODE_CHG_080                     P             00000474   7292  7310*
MODE_CHG_080_SGL                 P             000004B8   7320  7375*
MODE_CHG_080_SNG                 P             000004C2   7325  7385*
MODE_CHG_100                     P             000004D0   7283  7397*
MODE_CHG_150                     P             000004E8   7400  7415*
MODE_CHG_200                     P             00000508   7418  7438*
MODE_CHG_800                     P             0000050A   7279  7297  7357  7368  7379  7390  7408  7425  7429  7440*
MODE_CHG_EXT                     P             0000050E   7443*
MODE_CHG_OPT050                  P             000004A4   7336  7341  7353*
MODE_CHG_OPT090                  P             000004AE   7331  7343  7364*
MODE_CNTCNF1_STPCHK_210          P             00001208  10362 10372*
MODE_CNTCNF1_STPCHK_220          P             00001210  10366 10379*
MODE_CNTCNF1_STPCHK_250          P             00001218  10378 10388*
MODE_CNTCOM1_STPCMP_100          P             000011CC  10302 10310 10318 10326*
MODE_CNTCOM2_STPCHK_280          P             00001250  10425 10435*
MODE_CNTCOM2_STPCHK_300          P             0000125E  10417 10427 10441 10448*
MODE_CNT_STPCHK_050              P             000010CC  10084 10096*
MODE_CNT_STPCHK_080              P             000010D6  10088 10113*
MODE_CNT_STPCHK_120              P             000010B0  10035 10078*
MODE_CNT_STPCHK_150              P             000010EA  10056 10144*
MODE_CNT_STPCHK_199              P             0000111C  10027 10116 10175*
MODE_CNT_STPCHK_200              P             00001122  10045 10180*
MODE_CNT_STPCHK_210              P             0000113C  10187 10199*
MODE_CNT_STPCHK_220              P             0000114C  10191 10219*
MODE_CNT_STPCHK_250              P             00001154  10205 10216 10225*
MODE_CNT_STPCHK_280              P             00001184  10239 10252*
MODE_CNT_STPCHK_300              P             00001192  10123 10134 10163 10231 10241 10258 10267*
MODE_CNT_STPCMP_100              P             00001054   9968  9976  9984  9991*
MODE_CSS_STOPCHK_START           P             00001390  10662 10715*
MODE_CSS_STOPCK1000              P             000014D4  10700 10988*
MODE_CTL_100                     P             00000544   7500  7509*
MODE_CTL_ET900                   P             000005BE   7556  7562  7597  7622*
MODE_CTL_EXIT                    P             000005D2   7502  7541  7550  7580  7588  7630  7642*
MODE_DUP_STPCHK100               P             000015B0  11126 11159*
MODE_DUP_STPCHK200               P             000015CC  11132 11149 11165 11169 11183*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   270

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MODE_INC_STPCHK_000              P             00001534  11018 11035 11062*
MODE_INC_STPCHK_050              P             00001546  11016 11043 11052 11081*
MODE_INC_STPCHK_100              P             00001558  11050 11067 11077 11101*
MODE_SGL_STPCHK_050              P             000012AC  10507 10521*
MODE_SGL_STPCHK_080              P             000012EC  10536 10568*
MODE_SGL_STPCHK_100              P             000012FC  10526 10581*
MODE_SGL_STPCHK_150              P             0000130E  10557 10607*
MODE_SGL_STPCHK_200              P             00001320  10513 10574 10594 10604 10627*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEWMASK_SELSTOPCHK400            P             00001B8E  12555 12577*
NEWMASK_SELSTOPCHK500            P             00001BAC  12562 12568 12574 12594*
NEWMASK_SELSTOPCHKEND            P             00001BB2  12583 12599*
NZ_TIM_CK1_100                   P             0000247A  14695 14701 14704*
NZ_TIM_CK1_200                   P             0000248E  14710 14716 14719*
OPT_SGL_SFTY_MASKCHK_080         P             00001C5C  12770 12791*
OPT_SGL_SFTY_MASKCHK_100         P             00001C6C  12763 12809*
OPT_SGL_SFTY_MASKCHK_400         P             00001C88  12779 12799 12827 12833 12843*
OPT_SGL_SFTY_MASKCHK_500         P             00001C8E  12749 12756 12777 12801 12835 12850*
OPT_SGL_SFTY_MASKCHK_END         P             00001C90  12846 12852*
ORGIN_180CK_100                  P             000026D8  15390 15421*
ORGIN_180CK_200                  P             00002728  15453 15478*
ORGIN_180CK_300                  P             00002730  15411 15468 15488*
ORGIN_MODE_SEL_ST090             P             00002538  14886 14888*
ORGIN_MODE_SEL_STEND             P             0000253C  14878 14891*
ORGIN_MODE_SEL_WT090             P             000024C6  14784 14786*
ORGIN_MODE_SEL_WT100             P             000024E4  14776 14804*
ORGIN_MODE_SEL_WTEND             P             000024F4  14749 14791 14809 14819*
ORGIN_MODE_START_WT10            P             000008DC   8233  8243*
ORGIN_MODE_ST_WT100              P             0000259C  14938 14964*
ORGIN_MODE_ST_WTEND              P             000025BA  14980 14985 14990*
ORGIN_MODE_ST_WT_NOT             P             000025B8  14926 14932 14988*
ORGIN_MODE_ST_WT_START           P             000025AC  14952 14969 14977*
ORGIN_MODE_ST_WT_WAIT            P             000025B2  14946 14982*
P                                P        SCT  00000000   6045*
POSCAN_PROCSTEPRECOVER_100       P             00003F08  20569 20572 20592*
POSCAN_PROCSTEPRECOVER_200       P             00003F48  20557 20638*
POSCAN_PROCSTEPRECOVER_250       P             00003F70  20643 20667*
POSCAN_PROCSTEPRECOVER_END       P             00003F96  20619 20633 20657 20691 20708*
POSCAN_PROCSTEPRECOVER_END1      P             00003F44  20503 20509 20553 20563 20574 20631*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   271

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSCTRL_CANSEL_RST_EXT           P             00003E72  20421 20428 20435 20445 20453*
POSHLD1_SIGCHK_100               P             0000336C  18091 18103*
POSHLD1_SIGCHK_200               P             00003372  18085 18095 18108*
POSHLD1_SIGCHK_300               P             00003398  18124 18136*
POSHLD1_SIGCHK_400               P             0000339E  18118 18128 18141*
POSHLD1_STEP1_STOP100            P             0000301C  17423 17436*
POSHLD1_STEP1_STOP150            P             00003068  17443 17472 17487*
POSHLD1_STEP1_STOPEXT            P             000030CA  17543 17549 17554*
POSHLD1_STEP1_STOPNO             P             000030BC  17450 17457 17463 17474 17540*
POSHLD1_STEP1_STOPSTOP           P             000030C8  17552*
POSHLD1_STEP1_STOPWAIT           P             000030C2  17425 17526 17546*
POSHLD1_STEP2_START100           P             00003260  17883 17914*
POSHLD1_STEP2_START110           P             00003288  17923 17939*
POSHLD1_STEP2_START200           P             00003294  17925 17952*
POSHLD1_STEP2_START500           P             000032F4  17947 18009*
POSHLD1_STEP2_STARTEXT           P             00003306  17875 17879 17960 17993 18024*
POSHLD1_STOPBTTNCMDCK_050        P             000030E2  17577 17583*
POSHLD1_STOPBTTNCMDCK_100        P             000030EA  17582 17589*
POSHLD1_STOPCONF_100             P             00003114  17616 17625*
POSHLD1_STOPCONF_200LOP          P             00003120  17636*17785 
POSHLD1_STOPCONF_300             P             000031BC  17664 17769*
POSHLD1_STOPCONF_350             P             000031C0  17713 17774*
POSHLD1_STOPCONF_400             P             000031C4  17646 17710 17720 17740 17771 17778*
POSHLD1_STOPCONF_499             P             000031D0  17783 17788*
POSHLD1_STOPCONF_500             P             000031D2  17642 17790*
POSHLD1_STOPCONF_STOPEND         P             000031DA  17794 17800*
POSHLD1_STOPCONF_STOPNO          P             000031D2  17657 17791*
POSHLD1_STOPCONF_STOPSTOP        P             000031D8  17728 17797*
POS_CANSEL_STPCHK_END            P             0000162E  11251 11265*
POS_CANSEL_STPCHK_MOV            P             0000162C  11221 11263*
RDY_CHK_0030                     P             00000898   8175  8186*
RDY_CHK_0050                     P             0000089C   8169  8191*
RDY_CHK_0060                     P             000008B8   8203  8213*
RDY_CHK_0070                     P             000008E0   8231  8248*
RDY_CHK_0120                     P             00000974   8390  8400*
RDY_CHK_0150                     P             000009BC   8514  8523*
RDY_CHK_0198                     P             000009DE   8542  8547*
RDY_CHK_0199                     P             00000A20   8473  8489  8521  8574*
RDY_CHK_0200                     P             00000A38   8392  8596*
RDY_CHK_0200_START               P             00000B14   8754  8790*
RDY_CHK_0200_START_WAIT          P             00000AD8   8205  8738*
RDY_CHK_0200_START_WT2           P             00000B10   8762  8773  8785*
RDY_CHK_0220                     P             00000AA8   8109  8235  8655  8682  8703*
RDY_CHK_0280                     P             00000A8C   8644  8667*
RDY_CHK_0290                     P             00000BCC   8694  8943*
RDY_CHK_0290A                    P             00000AA0   8628  8646  8692*
RDY_CHK_0299                     P             00000BE0   8699  8775  8950  8960*
RDY_CHK_0299A                    P             00000AA4   8612  8630  8697*
RDY_CHK_0399                     P             00000BF8   8245  8684  8727  8787  8917  8952  8980*
RDY_CHK_0500                     P             00000C0C   8188  8997*
RDY_CHK_0505                     P             00000C34   9022  9032*
RDY_CHK_0510                     P             00000C48   9044  9052*
RDY_CHK_0520                     P             00000C58   9059  9067*
RDY_CHK_0525                     P             00000C68   9074  9081*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   272

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RDY_CHK_0530                     P             00000C8C   9098  9114*
RDY_CHK_0600                     P             00000C9C   9093  9126*
RDY_CHK_0650                     P             00000CB0   9130  9143*
RDY_CHK_0700                     P             00000CEC   9147  9206*
RDY_CHK_0750                     P             00000D08   9210  9226*
RDY_CHK_0950                     P             00000D1C   9230  9242*
RDY_CHK_1000                     P             00000D22   8130  9024  9046  9061  9076  9105  9120  9136  9196  9220  9236  9252*
RDY_CHK_1200                     P             00000D54   8137  8177  9283*
RDY_CHK_CYCL_END                 P             00000D74   9296  9306*
RDY_CHK_END_COM                  P             00000D92   9298  9314  9320  9337*
RDY_CHK_EXIT                     P             00000DC0   8142  8549  8585  8982  9263  9273  9290  9371  9378*
RDY_HOLDCHK_0100                 P             000007B4   8000  8022*
RDY_HOLDCHK_0200                 P             000007EC   8025  8063*
RDY_HOLDCHK_1000                 P             00000850   8014  8036  8123*
RDY_HOLDCHK_1200                 P             00000860   8128  8135*
RDY_HOLDCHK_1999                 P             00000864   8044  8052  8078  8086  8099  8140*
RDY_HOLDCHK_END                  P             00000868   8006  8145*
RDY_ON_CF_998                    P             00000E36   9445  9473*
RDY_ON_CF_999                    P             00000E5C   9418  9431  9458  9491*
RDY_ON_CF_EXT                    P             00000E5E   9476  9493*
RDY_SFTY_MASK2CHK050             P             00000908   8293  8321*
RDY_SFTY_MASK2CHK055             P             0000093C   8336  8357*
RDY_SFTY_MASK2CHK060             P             00000958   8363  8377*
RDY_SFTY_MASK2CHK100             P             0000095E   8343  8370  8382*
RECOVER_WAIT_AREACHK_100         P             00003D40  20153 20183*
RECOVER_WAIT_AREACHK_200         P             00003D50  20164 20188 20197*
RECOVER_WAIT_AREACHK_END         P             00003D52  20176 20190 20199*
RESET_CHK_100                    P             0000003E   6452  6470*
RESET_CHK_200                    P             00000058   6477  6494*
RESET_CHK_250                    P             00000074   6508  6515*
RESET_CHK_300                    P             000000AC   6499  6537*
RESET_CHK_305                    P             000000B4   6544  6549*
RESET_CHK_305A                   P             000000BC   6555  6559*
RESET_CHK_325                    P             00000106   6591  6618*
RESET_CHK_330                    P             00000138   6617  6636*
RESET_CHK_350                    P             000001A4   6679  6715*
RESET_CHK_399                    P             000001AA   6698  6722*
RESET_CHK_400                    P             000001BC   6557  6736*
RESET_CHK_500                    P             000001FC   6546  6777*
RESET_CHK_EXT                    P             00000254   6517  6620  6728  6742  6763  6782  6851*
RNA_ERR_RSTCKEXT                 P             0000276C  15539 15545 15550 15558*
ROT_CNTMODCHK_100                P             00003FF0  20729 20735 20741 20748 20755 20769*
ROT_CNTMODCHK_200                P             00003FF6  20757 20775*
ROT_CNTMODCHK_END                P             00003FF8  20772 20777*
RST_CONFCK_005                   P             000002C8   6915  6925*
RST_CONFCK_010                   P             000002D8   6905  6911  6924  6935*
RST_CONFCK_015_OK                P             00000326   6980  7003*
RST_CONFCK_020                   P             0000034C   6986  7023*
RST_CONFCK_050                   P             00000360   7053*
RST_CONFCK_055                   P             000003A8   7087  7105*
RST_CONFCK_060                   P             000003D4   7124  7140*
RST_CONFCK_080                   P             000003F4   7114  7169*
RST_CONFCK_BRK100                P             00000410   7070  7190*
RST_CONFCK_END                   P             00000434   7215  7219*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   273

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RST_CONFCK_NG                    P             0000042C   6927  7130  7161  7181  7202  7212*
RST_CONFCK_NG70                  P             000003E4   6947  6954  6968  6997  7034  7155*
RST_CONFCK_OK                    P             00000432   7005  7058  7089  7120  7146  7174  7195  7217*
RST_MOD_POSEND_100               P             000017DA  11630*
RST_MOD_POSEND_200               P             000017E2  11636*
SELF_FORCE_POW_100               P             00000FE0   9870  9883*
SET_NZ_TIMDT_010                 P             00002438  14652 14654*
SET_NZ_TIMDT_020                 P             00002446  14662 14664*
SFTY_MASK_ED_100                 P             00001BF8  12653 12666*
SFTY_MASK_ED_200                 P             00001C06  12659 12675*
SFTY_MUTING_MODER_100            P             00002848  15698 15706 15727*
SFTY_MUTING_MODER_200            P             00002864  15737 15743 15753*
SFTY_MUTING_MODER_EXT            P             0000287E  15688 15714 15745 15759 15773*
SGL_UP_HOLD_MASK050              P             00000CD4   9170  9194*
STEP_SIG_DSP020                  P             0000224C  14232 14237*
STEP_SIG_DSP200                  P             00002264  14209 14242 14288*
STEP_SIG_DSP300                  P             00002270  14295 14298*
STOPPING_TIM_CK050               P             0000233C  14457 14467*
STOPPING_TIM_CK080               P             00002344  14470 14474*
STOPPING_TIM_CK100               P             00002376  14509 14511*
STOPPING_TIM_CK120               P             00002384  14514 14523*
STOPPING_TIM_CK200               P             000023AC  14529 14545*
STOPPING_TIM_CK250               P             000023BC  14555 14557*
STOPPING_TIM_CK400               P             000023D4  14522 14574*
STOPPING_TIM_CK600               P             000023EC  14564 14596*
STOPPING_TIM_CK900               P             000023FE  14459 14472 14533 14585 14612*
STOPPING_TIM_STOPINI_100         P             000022E8  14366 14415*
SV_UP_HLDCHK_0050                P             0000181C  11671 11681*
SV_UP_HLDCHK_0100                P             0000182C  11686 11694*
SV_UP_HLDCHK_0190                P             0000184C  11688 11713*
SV_UP_HLDCHK_0200                P             00001854  11716 11722*
SV_UP_HLDCHK_0290                P             00001858  11718 11735*
SV_UP_HLDCHK_0295                P             0000185C  11724 11739*
SV_UP_HLDCHK_0300                P             00001884  11738 11763*
SV_UP_HLDCHK_0900                P             00001896  11674 11704 11752 11774*
UP_HOLD_ARA_MASK480              P             00001B24  12415 12425*
UP_HOLD_ARA_MASK500              P             00001B2C  12374 12377 12397 12422 12434*
UP_HOLD_MASKSPDCHK_COM           P             00001AD8  12309 12323*
UP_HOLD_MASKSPDCHK_END           P             00001AF6  12343 12353*
UP_HOLD_MASKSPDCHK_FWD           P             00001ABE  12287 12304*
UP_HOLD_MASKSPDCHK_NG            P             00001AF4  12295 12307 12321 12332 12351*
UP_HOLD_MASKSPDCHK_REV           P             00001AD4  12291 12302 12318*
UP_HOLD_MASKSPDCHK_STR           P             00001AE4  12340*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3442 16853 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3452 
_ACCERR_ACC_HENSA                         IMPT 00000000   4459 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   274

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCERR_ACC_OBJ                           IMPT 00000000   4458 
_ACCERR_ACC_PV                            IMPT 00000000   4457 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4468 
_ACCERR_ERR_CNT                           IMPT 00000000   4460 
_ACCESS_ERR1                              IMPT 00000000   3538 
_ACCLW_CALC_FLG                           IMPT 00000000   5401 
_ACCLW_GEN_MAX_LNG                        IMPT 00000000   5410 
_ACCLW_GET_SET_SPD                        IMPT 00000000   5407 
_ACCLW_GET_STEP_NO                        IMPT 00000000   5406 
_ACCLW_OUT_SET_SPD                        IMPT 00000000   5408 
_ACCLW_REAL_SPD1MS                        IMPT 00000000   5396 
_ACCLW_SET_SPD                            IMPT 00000000   5395 
_ACCLW_USE_CONF                           IMPT 00000000   5397 
_ACCST_ACC_MATH_SEL                       IMPT 00000000   5427 
_ACCST_CALC_FLG                           IMPT 00000000   5422 
_ACCST_GEN_MAX_LNG                        IMPT 00000000   5433 
_ACCST_GET_SET_SPD                        IMPT 00000000   5431 
_ACCST_GET_STEP_NO                        IMPT 00000000   5426 
_ACCST_OUT_SET_SPD                        IMPT 00000000   5432 
_ACCST_REAL_SPD1MS                        IMPT 00000000   5420 
_ACCST_SET_SPD                            IMPT 00000000   5419 
_ACCST_USE_CONF                           IMPT 00000000   5421 
_ACC_MONITOR_DAT1                         IMPT 00000000   4271 
_ACC_MONITOR_DAT2                         IMPT 00000000   4272 
_ACC_MONITOR_DAT3                         IMPT 00000000   4273 
_ACC_MONITOR_DAT4                         IMPT 00000000   4274 
_ACC_MONITOR_DAT5                         IMPT 00000000   4275 
_ACC_MONITOR_DAT6                         IMPT 00000000   4276 
_ACC_MONITOR_DAT7                         IMPT 00000000   4277 
_ACC_MONITOR_DAT8                         IMPT 00000000   4278 
_ACC_REST_ABS_PLS                         IMPT 00000000   4228 
_ACC_REST_FLG                             IMPT 00000000   4229 
_ANTI_CHEAK                      P             000006C4   7566  7821*
_ANTI_OF                                  IMPT 00000000   6067  7949 
_ANTI_ON                                  IMPT 00000000   6066  7859 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6270  9374 11379 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6269  8880 16717 
_API_ENDHAND_SIGCHK                       IMPT 00000000   6389 10599 11072 
_API_EXQ_STEP_FLGCLR             P        EXPT 00003E24   6724 20376 20382*
_API_EXQ_STEP_STS_GET            P        EXPT 00003DFC  20337 20342*
_API_HOLD_WAIT_BRKOFF_SIG        P             00003420   9366 18297*
_AUTO_OF                                  IMPT 00000000   6069  9349 10052 10543 10737 10856 11278 
_AUTO_ON                                  IMPT 00000000   6068 10177 10354 10509 10570 10938 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3685 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3678 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3683 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3682 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3679 
_BASE_TIM010MS                            IMPT 00000000   2499 
_BASE_TIM100MS                            IMPT 00000000   2500 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4444 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4443 
_BBN_MESURE_POINT                         IMPT 00000000   4438 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4428 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   275

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BBN_MESURE_PSPD                          IMPT 00000000   4430 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4429 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4424 
_BBN_MESURE_SSPD                          IMPT 00000000   4426 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4425 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4442 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4436 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4433 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4435 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4432 
_BBN_SET_TIME                             IMPT 00000000   4439 
_BKTMCL_ACCDAT                            IMPT 00000000   4630 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4631 
_BKTMCL_ACCPOINT                          IMPT 00000000   4633 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4647 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4655 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4654 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4660 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4661 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4662 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4657 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4665 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4666 
_BKTMCL_ENC_DIR                           IMPT 00000000   4638 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4637 
_BKTMCL_POINTMAX                          IMPT 00000000   4634 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4649 
_BKTMCL_SPDBUF                            IMPT 00000000   4629 
_BKTMCL_STOP_SPD                          IMPT 00000000   4653 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4646 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4648 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4642 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4643 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4645 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3431 
_BRK1_CHKDLY_TM                           IMPT 00000000   3419 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3427 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3426 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3425 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3424 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3422 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3423 
_BRK1_SV_DN_ACC                           IMPT 00000000   3430 
_BRK2_CHKDLY_TM                           IMPT 00000000   3420 
_BRK2_SV_DN_ACC                           IMPT 00000000   3432 
_BRKTMCAL_API1_STR                        IMPT 00000000   6366 14337 
_BRKTMCAL_API3_ENDCNF1                    IMPT 00000000   6368 14560 
_BRKTMCAL_API4_ENDCNF2                    IMPT 00000000   6369 14588 
_BRKTMCAL_STG1_STOPINI                    IMPT 00000000   6367 11457 
_BRKTST_AREA_SIG                          IMPT 00000000   4169  7191 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4179 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4180 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4177 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4178 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   276

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_CHKDT_MAK                P             00002D5C  16062 16792*
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4159 16820 16855 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4172 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4171 
_BRKTST_CTRL                     P             00002894   7513 15817*
_BRKTST_INPUT_CMD                         IMPT 00000000   4162  7066 15846 15905 16096 16368 16389 16943 
_BRKTST_INPUT_MAK                P             00002B08  15824 16339*
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4174 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4173 
_BRKTST_MODE_CONF                P             00002AE4  15867 16130 16297*
_BRKTST_MOD_FLG                           IMPT 00000000   4157  7584 15829 15875 15911 15928 15960 15982 16070 16107 16145 16174 
                                                         16191 16199 16224 16243 16861 
_BRKTST_MOTOR_START              P             00002C78  16066 16643*
_BRKTST_MOTOR_STOP               P             00002DD0  16103 16220 16888*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4158 16810 
_BRKTST_POS_START                         IMPT 00000000  16635 16692 
_BRKTST_RDY_CHK                  P             00002B60  16008 16417*
_BRKTST_RDY_OFF_OUT              P             00002C48  16038 16585 16604*
_BRKTST_SPD_CHK                  P             00002DA8  16090 16849*
_BRKTST_STOPSIG_MAKE             P             00002DE4  16373 16913*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4166 16923 
_BRKTST_STR_FLG                           IMPT 00000000   4167 16391 16917 16938 
_BRKTST_SW_IN                             IMPT 00000000   4168  6901 12007 16361 20249 
_BRK_CHK_COM                              IMPT 00000000   3416 
_BRK_CHK_FLG                              IMPT 00000000   3417 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6241  8723 10148 10610 10742 10886 11084 11134 11234 11464 17496 
_BRK_RDYON_CONF1                 P             00002E2C  16489 16547 16971*
_BTTN_FLG                                 IMPT 00000000   2567  8485  9564  9600  9785 10119 10590 10680 10782 11046 11063 11128 
                                                         14942 16123 16496 
_BTTN_ON_TIME                             IMPT 00000000   3708 
_BTTN_START_CHK                  P             00000E64   8623  9552*16027 
_BVLV_CTL_FLG                             IMPT 00000000   4839 
_BVLV_CTL_ON                              IMPT 00000000   4840 
_BVLV_START_IN                            IMPT 00000000   4843 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3188 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2913 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2912 
_CALC_MISS_FLG1                           IMPT 00000000   3791 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2089*
_CALC_PLS_MMIN_L32                        EQU  00000001   2090*
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2085*
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2086*
_CALC_ROT_MAX                             EQU  60000000   2081*
_CALPOSANSLNG                             IMPT 00000000   4774 
_CALPOSLNWORK                             IMPT 00000000   4776 
_CALPOSWORK1                              IMPT 00000000   4770 
_CALPOSWORK2                              IMPT 00000000   4771 
_CALSPDANSPER                             IMPT 00000000   4773 
_CALSPDWORK1                              IMPT 00000000   4768 
_CALSPDWORK2                              IMPT 00000000   4769 
_CALSPDWORKANS                            IMPT 00000000   4772 
_CAM_CNT_CHG_FLG                          IMPT 00000000   3288 11329 
_CAM_CTL_STEP                             IMPT 00000000   2643 
_CAM_DNM_USE_DIR_FLG                      IMPT 00000000   5096 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   277

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_DT_FLG                               EQU  0000000E   2199*
_CAM_INF_D1                               EQU  00000010   2200*
_CAM_INF_D2                               EQU  00000012   2201*
_CAM_NOW_DIG                              IMPT 00000000   3285 
_CAM_OF_DGT                               EQU  0000000C   2198*
_CAM_OF_DIG                               EQU  00000008   2195* 2196 
_CAM_OF_DIR                               EQU  0000000A   2197*
_CAM_OF_STP                               EQU  00000006   2194*
_CAM_OF_TIM                               EQU  00000008   2196*
_CAM_OLD_DIG                              IMPT 00000000   3286 
_CAM_ON_DIG                               EQU  00000002   2192*
_CAM_ON_DIR                               EQU  00000004   2193*
_CAM_ON_STP                               EQU  00000000   2191*
_CAM_OUTPUT_DT                            IMPT 00000000   3279 
_CAM_OUTPUT_SW                            IMPT 00000000   3277 
_CAM_POS_CTL_STEP                         IMPT 00000000   3287 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3043 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3044 
_CAM_SELECT_SW                            IMPT 00000000   3278 
_CAM_START_FLG                            IMPT 00000000   3280 
_CAM_START_MODE                           IMPT 00000000   3281 
_CAM_STEP_MAX                             IMPT 00000000   3284 
_CAM_STEP_NO                              IMPT 00000000   3282 
_CAM_STEP_NO_OLD                          IMPT 00000000   3283 
_CAM_STRCUT                               EQU  00000014   2190*
_CBSTS_LOAD_FLG                           IMPT 00000000   4579 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4587 
_CBSTS_SAVE_DAT                           IMPT 00000000   4596 15878 15931 15963 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_CTL_START_INI                P             00001DFC   8835 13253*16680 
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2496 
_CB_IN_HANYO                              IMPT 00000000   4878 17141 
_CB_SEQ_CB_COM340                         IMPT 00000000   3029  9413 16975 17723 17955 20423 
_CB_SEQ_CB_COM345                         IMPT 00000000   3032 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5614 
_CB_SEQ_CB_COM346                         IMPT 00000000   3033 
_CB_SEQ_CB_COM347                         IMPT 00000000   3034 
_CB_SEQ_CB_COM348                         IMPT 00000000   3035 
_CB_SEQ_CB_COM349                         IMPT 00000000   3036 19774 19796 
_CB_SEQ_CB_COM350                         IMPT 00000000   3038 
_CB_SEQ_CB_COM351                         IMPT 00000000   3039 
_CB_SEQ_CB_COM352                         IMPT 00000000   3040 17117 17279 17919 
_CB_SEQ_CB_COM356                         IMPT 00000000   5442 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3030  9756 11039 14779 14881 15527 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3031 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3024 17286 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3025 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3026  7286  7402  7420  9651 10022 10079 12752 13382 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3027 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   278

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SEQ_SW_SEL058                         IMPT 00000000   4928 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_PARAM000                          IMPT 00000000   6312  8333 11912 12075 12327 15588 15685 16432 17052 17370 18304 18656 
                                                         18806 18984 19132 19146 19154 19265 19271 19430 19445 19453 19534 19632 
_CB_TIME                                  EQU  0000000A   2004* 2017  2018  2019  2024 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3530 10789 10861 10948 
_CHKACCINF0                               IMPT 00000000   4761 
_CHKACCINF1                               IMPT 00000000   4762 
_CHKACCINF2                               IMPT 00000000   4763 
_CHKPOSANSDIG                             IMPT 00000000   4750 
_CHKPOSWORK0                              IMPT 00000000   4757 
_CHKPOSWORK1                              IMPT 00000000   4737 
_CHKPOSWORK2                              IMPT 00000000   4738 
_CHKPOSWORKANS                            IMPT 00000000   4743 
_CHKPOS_Ln1                               IMPT 00000000   4765 
_CHKSPDANSPER                             IMPT 00000000   4742 
_CHKSPDPERWORK0                           IMPT 00000000   4758 
_CHKSPDPERWORK1                           IMPT 00000000   4745 
_CHKSPDPERWORK2                           IMPT 00000000   4746 
_CHKSPDPOSINFO                            IMPT 00000000   4748 
_CHKSPDPOSOFS                             IMPT 00000000   4749 
_CHKSPDWORK0                              IMPT 00000000   4756 
_CHKSPDWORK1                              IMPT 00000000   4735 
_CHKSPDWORK2                              IMPT 00000000   4736 
_CHKSPDWORKANS                            IMPT 00000000   4739 
_CHKSPDWORKTMAX                           IMPT 00000000   4741 
_CHKSPDWORKVMAX                           IMPT 00000000   4740 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4268 
_CHK_CLK_SIG                              IMPT 00000000   4804 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4017 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   4016 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   5386 
_CHK_SET1_UPAREA_TIM0                     IMPT 00000000   5385 
_CLRSQ206_BIT11                  P        EXPT 000025C8  15049 15052*
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2779 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2778 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3597 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3591 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3594 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3588 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3596 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3590 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3598 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3592 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3595 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3589 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   279

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMPAB_NEAR_END_PROC             P        EXPT 00001F4C  13560 13582*
_CMPAB_STEP_END_PROC             P        EXPT 00001FC2  13561 13725*
_CMPCYC_END_CLR                  P        EXPT 000021BC  13571 14112*
_CMPCYC_START_CLR                P        EXPT 000021A0  13570 14085*
_CMPEMG_EXQ_FLG_CLR              P        EXPT 00002114   6664 11445 13573 14000*
_CMPSTEP_CNT_STOP                         IMPT 00000000   2687 13959 14047 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2683 13859 14041 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2682 13836 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2686 13590 13933 14045 
_CMPSTEP_POS_START                        IMPT 00000000   2684  8171  8199  8718  9266 13881 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2685 13909 14043 
_CMPSTEP_STEP_END                         IMPT 00000000   2688  7766 10130 13738 13983 14049 20355 
_CMPSTP_CNT_STOP_CLR             P        EXPT 000020D0  13568 13947*
_CMPSTP_CTRL_BUSY_CLR            P        EXPT 00002054  13564 13851*14121 
_CMPSTP_CTRL_REDY_CLR            P        EXPT 00002036   8580  8885  8966 13563 13828*14005 14117 16617 16722 
_CMPSTP_NEAR_ZERO_CLR            P        EXPT 000020B4  13567 13925*14155 
_CMPSTP_POS_START_CLR            P        EXPT 00002070   8576  8962 13565 13873*14009 14125 16613 
_CMPSTP_SFTY_AUTO_CLR            P        EXPT 0000208C  13566 13895*14094 
_CMPSTP_STEP_END_CLR             P        EXPT 000020F8  13569 13975*14151 
_CMP_ERR_CHK_STSA                         IMPT 00000000   2896 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2897 
_CMP_ERR_STEP_A                           IMPT 00000000   2902 
_CMP_ERR_STEP_B                           IMPT 00000000   2903 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2898 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2899 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2900 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2901 
_CMP_ERR_TIM1                             IMPT 00000000   2599 
_CMP_HOLD_CTLGENSOK                       IMPT 00000000  17409 17844 
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3701 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3906 
_CMP_RECOVER_FLG                          IMPT 00000000   4011 10047 10538 10732 13330 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3702 
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2601 
_CNTREST_HOS_RESET                        IMPT 00000000   6257 11495 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3688 14053 
_CNT_CYCL_DISP_ST                P             00001F0C   8153 11470 13499*
_CNT_GRF_I_DATA                           IMPT 00000000   5607 
_CNT_GRF_POINT                            IMPT 00000000   5609 
_CNT_GRF_Y_DATA                           IMPT 00000000   5608 
_CNT_MODE_CNT_SIG_OUT            P             00001D24  13004 13064*13417 
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3955 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3694 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3695 
_CNT_SPM_DISP_CHK                P             00001F20   8159  9008 13519*
_CNT_STOP_CMD                             IMPT 00000000   2522  9454 10201 10374 10942 16988 17573 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4405 
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3675 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5503  7787 
_CNT_STOP_LNGTH                           IMPT 00000000   3681 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5502  7782 10212 
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3970 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3971 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3953 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   280

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3972 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3967 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3968 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3969 
_CNT_SYNC_STS_FLG                         IMPT 00000000   3954 
_CONT_MOD_CNT_PV                          IMPT 00000000   3100 10097 12988 13090 13413 
_CONT_MOD_TIM_PV                          IMPT 00000000   3102 10085 13411 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3687 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3348 
_COP_DIG_SIG_FLG                          IMPT 00000000   3347 
_COP_OLD_ENC3600                          IMPT 00000000   3366 
_CPOS_BANK_USELFUL                        IMPT 00000000   3674 
_CPOS_CTL_MATH                            IMPT 00000000   2763  7625 10794 
_CPOS_DND_DIGTOP                          IMPT 00000000   3783 
_CPOS_DND_PLSTOP                          IMPT 00000000   3784 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3782 
_CPOS_DND_STOP_SW                         IMPT 00000000   3780 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3781 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4863 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4865 
_CPOS_MOD_FLG1                            IMPT 00000000   2762 10254 10437 10974 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2760 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3676 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2757 
_CPOS_SDAT1_INF1                          IMPT 00000000   2758 
_CPOS_SDAT1_NUM                           IMPT 00000000   2759 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2754 
_CPOS_SDAT1_SPD                           IMPT 00000000   2755 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2761 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3677 
_CPOS_SDAT1_TIM                           IMPT 00000000   2756 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2782 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2783 
_CPOS_STEP_MAX                            IMPT 00000000   2764  9972 10235 10306 10421 14228 19940 20559 20731 
_CPOS_UPAREA_PLS                          IMPT 00000000   2777 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5111 
_CPUA_CONT_MOD_CNT_PV                     IMPT 00000000   6399 10107 
_CPUA_LOT_CHK_FLG                         IMPT 00000000   6395 12936 
_CPUA_LOT_CNT_FLG                         IMPT 00000000   6397 
_CPUA_SV_STEP                             IMPT 00000000  19856 19929 20548 
_CPUBX_MEM1_BUF                           IMPT 00000000   5623 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5622 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5621 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5632 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5634 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5633 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5629 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5630 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5628 
_CPUB_CONT_MOD_CNT_PV                     IMPT 00000000   6400 13095 
_CPUB_DBG_MONI_CNT                        IMPT 00000000   6401  7789 
_CPUB_DBG_MONI_STP                        IMPT 00000000   7665  7784 
_CPUB_LOT_CHK_FLG                         IMPT 00000000   6396 13075 
_CPUB_LOT_CNT_FLG                         IMPT 00000000   6398 13085 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   281

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPUB_PARAM_ERR_NO                        IMPT 00000000   5205 
_CPUB_SV_STEP                             IMPT 00000000  19857 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5204 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5625 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5624 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5102 
_CPUD_CHK_TIME                            IMPT 00000000   5103 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5194 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5195 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   6114 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   6110 13856 14014 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   6112 
_CPU_AB_CED_OF_JG                         IMPT 00000000   6177 13793 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   6173 13980 14036 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   6175 13746 
_CPU_AB_CST_OF_JG                         IMPT 00000000   6166  9963 10297 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   6160 13952 14028 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   6161  9987 10322 13956 14032 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   6163 10475 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   6164 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   6192 18187 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   6191 17505 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   6132 13901 14019 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   6133 10158 10620 10750 10895 11094 11144 11179 11244 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   6152 13645 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   6148 13930 14024 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   6150 13598 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   6103 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   6099 13833 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   6101  8533 16511 16568 
_CPU_AB_STR_OF_JG                         IMPT 00000000   6125 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   6121 13878 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   6123  8714 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   6111 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   6113 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   6174 13775 
_CPU_BA_CED_ON_JG                         IMPT 00000000   6176 13765 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   6162 
_CPU_BA_CST_ON_JG                         IMPT 00000000   6165 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   6194 18208 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   6193 17438 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   6135 13905 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   6134 10040 10531 10725 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   6149 13627 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   6151 13617 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   6100 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   6102  8537  8767  8945 16515 
_CPU_BA_STEP_LOAD                         IMPT 00000000   6184  9980 10314 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   6122  9269 
_CPU_BA_STR_ON_JG                         IMPT 00000000   6124  8749  9285 
_CPU_SV_HAND_IN                           IMPT 00000000   2524 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2525 
_CPU_SV_HAND_OUT                          IMPT 00000000   2527 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3973 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   282

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CTL_ENC360                               IMPT 00000000   2536 
_CTL_ENC360_OLD                           IMPT 00000000   4057 
_CTRL_UP_HOLD_CHK                P             00001984   9150  9212 11996*
_CW_CCW_ENDSTEP_SERACH           P             000018AC  11696 11742 11765 11810*
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4315 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4316 
_CYCLE_TIME_DAT                           IMPT 00000000   3016 
_CYCLE_TIME_FLG                           IMPT 00000000   3018 
_CYCLE_TIME_PV                            IMPT 00000000   3017 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6232  6690 
_CYCL_DSP_CNT_PV                          IMPT 00000000   3482 11476 13462 13528 
_CYCL_DSP_DISENB                          IMPT 00000000   3481 13466 13483 13504 13535 
_CYCL_START_CNT                           IMPT 00000000   2780 
_CYC_END_POS_FLG_CLR                      IMPT 00000000  20006 20116 20598 
_DAIHAI_CALC_WORK1                        IMPT 00000000   4356 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4365 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4367 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4368 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4369 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4357 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4358 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4359 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4360 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4361 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4362 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4363 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4364 
_DAI_CMP_SMPSTART                         IMPT 00000000   2960 
_DAI_HOSEI1_FLG                           IMPT 00000000   2950 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6240  7632 
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6229  6562 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5132 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5133 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5135 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5134 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5136 
_DBG_CNT_GPOSINT                          IMPT 00000000   3612 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3606 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3605 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3607 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5486 
_DBG_DNM_END_CNT                          IMPT 00000000   5485 
_DBG_DNM_STR_CNT                          IMPT 00000000   5484 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3246 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3248 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3245 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3247 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3615 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3619 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3627 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3623 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3609 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3616 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3620 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   283

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3628 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3624 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3610 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3617 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3631 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3621 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3629 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3625 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3611 
_DEBUG_CMPERR_STSMAK             P             00000638   7650  7691*
_DEBUG_ENC360_STS                         IMPT 00000000   4669 
_DEBUG_ENC360_STS2                        IMPT 00000000   4670 
_DEBUG_MOD_CODE                           IMPT 00000000   5130 
_DEBUG_SIGNAL_OFF                         IMPT 00000000  11581 11592 
_DEBUG_SPD_CHG_FLG1                       IMPT 00000000   5521 
_DEBUG_SPD_CHG_FLG2                       IMPT 00000000   5522 
_DEBUG_SPD_OLD_DAT1                       IMPT 00000000   5520 
_DEBUG_SQ_SIG_246_247            P             00001D1C  13026*
_DEBUG_STS_CNT1                           IMPT 00000000   5508 13131 
_DEBUG_STS_CNT2                           IMPT 00000000   5509 
_DEF_DAI_POS_PV                           IMPT 00000000   2989 
_DG_PS_INF_CHK1                           EQU  00000000   2208*
_DG_PS_INF_CHK2                           EQU  0000003C   2213*
_DG_PS_INF_CONT                           EQU  00000004   2209*
_DG_PS_INF_LATE                           EQU  00000010   2212*
_DG_PS_INF_STLK                           EQU  0000000C   2211*
_DG_PS_INF_UNIT                           EQU  00000008   2210*
_DIG_AREA_CHK0                            IMPT 00000000   6216 
_DIG_AREA_CHK1                            IMPT 00000000   6217 10822 12183 13175 20262 20290 
_DIR_FLG                                  IMPT 00000000   4069 
_DISP_ENC360                              IMPT 00000000   2540 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3019  6841 
_DISP_SV_DG_DAT                           IMPT 00000000   3332 
_DISP_SV_MM_DAT                           IMPT 00000000   3333 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   6199 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   6200 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   6213 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   6201 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   6214 
_DMATH_CNTROT                             EQU  00000001   2040* 7628 10797 12285 18851 19880 20507 20739 
_DMATH_DNDRIV                             EQU  00000004   2042* 7112  7628 10797 11714 12208 12293 12420 13199 17815 18594 18714 
                                                         19880 19979 20151 20245 20507 
_DMATH_REVRSE                             EQU  00000002   2041*11736 12217 12289 12420 13208 
_DMATH_UPDRIV                             EQU  00000008   2043*11684 12190 13182 
_DNDINC_CTRL_STEP                         IMPT 00000000   3779 
_DND_CALC_WORK                            IMPT 00000000   2806 
_DND_OVERCHK_DIG                          IMPT 00000000   4269 
_DNM_ACC_CALFLG                           IMPT 00000000   4239 
_DNM_CTL_INC3600                          IMPT 00000000   4107 10815 12175 13167 
_DNM_CYCLE_END                            IMPT 00000000  20002 20115 20594 
_DNM_DATA_REV_SET                         IMPT 00000000   6386  7142 18732 18760 
_DNM_DEBUG_CNT                            IMPT 00000000   4710 
_DNM_DEBUG_STS1                           IMPT 00000000   4709 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4105 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   284

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_DIR_CHG_TIM                          IMPT 00000000   4106 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5089 18725 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4145 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4103 17819 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4104 
_DNM_DIR_SET_FLG                          IMPT 00000000   4102 12298 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4781 
_DNM_OBJ_AREA_SIG2               P             00003D62   6428 20232*
_DNM_RESET_AREA                           IMPT 00000000   5044  7116 18598 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5476 20160 20297 20315 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4101 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4099 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4100 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4098 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4474 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4115 20255 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4114 20257 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5069 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4110 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4109 
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4111 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4113 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4112 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5177 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5186 
_DPCHK_ERR_SIG                            IMPT 00000000   5176 
_DPCHK_WR_COD                             IMPT 00000000   5178 
_DPSQ022                                  EQU  0000002C   2095*
_DPSQ024                                  EQU  00000030   2096*
_DPSQ028                                  EQU  00000038   2097*
_DPSQ029                                  EQU  0000003A   2098*
_DPSQ058                                  EQU  00000074   2099*
_DPSQ287                                  EQU  0000023E   2110*
_DPSQ288                                  EQU  00000240   2111*
_DPSQ340                                  EQU  000002A8   2101*
_DPSQ341                                  EQU  000002AA   2102*
_DPSQ356                                  EQU  000002C8   2103*
_DPSQ358                                  EQU  000002CC   2104*
_DPSQ359                                  EQU  000002CE   2105*
_DPSQ367                                  EQU  000002DE   2106*
_DPSQ368                                  EQU  000002E0   2107*
_DPSQ369                                  EQU  000002E2   2108*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2982 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2974 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2981 
_DRVHOS_IDO_BUF                           IMPT 00000000   2986 
_DRVHOS_IDO_CNT                           IMPT 00000000   2977 
_DRVHOS_IDO_POINT                         IMPT 00000000   2975 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2985 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2983 
_DRVHOS_USE_FLG                           IMPT 00000000   2972 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2973 
_DRVHOS_WORK_BUF                          IMPT 00000000   2987 
_DRV_ACT_FLG                              IMPT 00000000   2673  8032  8165  8876  9354 11374 16713 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   285

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DRV_START_INI_NEW1              P             00001EB8  13317 13440*
_DRV_START_KEEP                           IMPT 00000000   4005  8359  8977  9558  9580 15120 15134 15178 15281 16451 16621 
_DRV_START_KEP_WAIT              P             000025F8   8639 15102*16052 
_DT_100PER_0                              EQU  00000064   2008*
_DT_100PER_1                              EQU  000003E8   2007*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3342 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3341 
_DUM_OVERLIDE_COF                         IMPT 00000000   5383 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3340 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5382 
_DUM_SET1_UPAREA_SPD0                     IMPT 00000000   5381 
_DUM_UPAREA_DIG0                          IMPT 00000000   3339 
_DURING_TIM_FX                            IMPT 00000000   4672 11510 
_ELSE_CPU_START_POS_PRESET       P             00000FF8   8743  9906*
_ELSE_ERR_FLG1                            IMPT 00000000   2595 
_ELSE_ERR_FLG2                            IMPT 00000000   2596 
_EMG_CTL_FLG_PROC                P        EXPT 00001660   6334 11309*19988 
_EMG_OUT                                  IMPT 00000000   6054  6463 
_EMG_POS_FLG_PROC                         IMPT 00000000  19859 19984 
_EMG_SCANCUT_FLG                          IMPT 00000000   4817 
_EMG_STOP                                 IMPT 00000000   6267 15710 15769 15923 16141 17236 19690 
_EMG_STOP_SPEC                            IMPT 00000000  16886 16893 
_ENC360_BITERR_CNT                        IMPT 00000000   2560 
_ENC360_BITFLW_CNT                        IMPT 00000000   2559 
_ENC360_BITNML_CNT                        IMPT 00000000   2561 
_ENC360_HEX                               IMPT 00000000   2535 
_ENC360_INDT                              IMPT 00000000   2534 
_ENC360_INOLD                             IMPT 00000000   2533 
_ENC360_LINK_AREASIG                      IMPT 00000000   3654 
_ENC360_OVER_ENC                          IMPT 00000000   3546 
_ENC360_OVER_FLG                          IMPT 00000000   3545  8826 11338 16672 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3448 
_ENCPLS_DELT                              IMPT 00000000   3444 
_ENCPLS_POINT_SEL                         IMPT 00000000   3447 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3445 
_ENCPLS_SPD_POINT                         IMPT 00000000   3446 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3440 
_ENC_PLS_SPD                              IMPT 00000000   3441 
_ENC_PLS_SPD_DIR                          IMPT 00000000   3443 12280 
_ENC_SYSRST_CMD                           IMPT 00000000   2551 
_ENC_TIMEXT_FLG                           IMPT 00000000   2552 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5145 
_END_CMD_LATCH                            IMPT 00000000   2646  8124  9259  9292 
_EPCHK_COM                                IMPT 00000000   4963  7575  7885 18967 19710 
_EPCHK_DLY_TIM                            IMPT 00000000   4966 19032 19058 19086 19134 19148 19267 19432 19447 19634 
_EPCHK_ERR_TIM                            IMPT 00000000   4967 19101 19156 19232 19273 19303 19455 19490 
_EPCHK_FLG                                IMPT 00000000   4964  7496  7573  7879  7889 18961 19019 19667 19695 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4970 19299 19311 19712 
_EPCHK_RETRY_CNT                          IMPT 00000000   4968 19374 19400 19423 19536 
_EPCHK_STEP                               IMPT 00000000   4965 19023 19109 19159 19216 19276 19325 19377 19403 19458 19516 19543 
                                                         19602 19638 
_EPCHK_STOP_DISENB                        IMPT 00000000   5290 
_EPCHK_STS                                IMPT 00000000   4969 19007 19027 19182 19198 19239 19343 19368 19394 19484 19498 19559 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   286

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         19584 19590 19596 19619 19625 19671 19698 19717 19819 
_EPSEN_CLR                       P        EXPT 00003BB8  18887 19813*
_EPSEN_IN_CHK                    P             00003BA0  19315 19506 19791*
_EP_JMP_TBL                      P             000036C0  18916*19113 
_EP_SENCER_CHECK                 P        EXPT 00003744   7493 18955 18956*
_EP_SENCHK_STOPCONF1             P             00003B6C  18999 19743*
_EP_SENCHK_STOPCONF2             P             00003B6C  19068 19744*
_EQ_CNT_DISP_STCNT                        EQU  00000002  13438*13461 
_EQ_DND_MAX                               EQU  00000002   2045*
_EQ_ORG_HIS                               EQU  0000000A  15345*15422 15423 
_EQ_ORG_OFDIG                             EQU  00000708  15344*15357 15423 
_EQ_ORG_ONDIG                             EQU  000006FE  15343*15356 15422 
_EQ_STEP_MAX                              EQU  00000005   2034*
_EQ_STEP_MX2                              EQU  0000000A   2035*
_EQ_STEP_MX3                              EQU  00000062   2036*
_ERRCHK_ENC360                            IMPT 00000000   4621 
_ERR_FIRST_ST                             IMPT 00000000   5032 
_ERR_INFO_A01                             EQU  00000020   2264*
_ERR_INFO_A02                             EQU  00000022   2265*
_ERR_INFO_A03                             EQU  00000024   2266*
_ERR_INFO_A04                             EQU  00000026   2267*
_ERR_INFO_A05                             EQU  00000028   2268*
_ERR_INFO_A06                             EQU  0000002A   2269*
_ERR_INFO_A07                             EQU  0000002C   2270*
_ERR_INFO_A08                             EQU  0000002E   2271*
_ERR_INFO_B01                             EQU  00000030   2272*
_ERR_INFO_B02                             EQU  00000032   2273*
_ERR_INFO_B03                             EQU  00000034   2274*
_ERR_INFO_B04                             EQU  00000036   2275*
_ERR_INFO_B05                             EQU  00000038   2276*
_ERR_INFO_B06                             EQU  0000003A   2277*
_ERR_INFO_B07                             EQU  0000003C   2278*
_ERR_INFO_B08                             EQU  0000003E   2279*
_ERR_INFO_C01                             EQU  00000000   2256*
_ERR_INFO_C02                             EQU  00000004   2257*
_ERR_INFO_C03                             EQU  00000008   2258*
_ERR_INFO_C04                             EQU  0000000C   2259*
_ERR_INFO_C05                             EQU  00000010   2260*
_ERR_INFO_C06                             EQU  00000014   2261*
_ERR_INFO_C07                             EQU  00000018   2262*
_ERR_INFO_C08                             EQU  0000001C   2263*
_ERR_INFO_DLY_TIM                         IMPT 00000000   3540 
_ERR_INFO_RST_CLR                         IMPT 00000000   6251  6817 
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3541 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3542 
_ERR_LEV_IN2                              IMPT 00000000   4294  6438 
_ERR_LEV_IN3                              IMPT 00000000   4295  6441 
_ERR_LEV_IN4                              IMPT 00000000   4296  6444 
_ERR_LEV_IN5                              IMPT 00000000   4297  6447 
_ERR_LEV_IN6                              IMPT 00000000   4298 
_EXQ_CTL_FLG_PROC                P        EXPT 000016B8   6335 11314 11365*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5460 20049 20357 20387 
_EXQ_LT_GET_FLG                           IMPT 00000000   5459 19884 20347 20389 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5461 19892 20513 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   287

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EXQ_LT_PROC_CNT2                         IMPT 00000000   5462 20016 20607 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5463 20090 20696 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5464 20063 20646 
_EXQ_OUT                                  IMPT 00000000   6055  6487 
_EXQ_PROC_STEP_RECOVER           P             00003BD8   6718 19862*
_EXQ_STOP                                 IMPT 00000000   6375 18020 
_EXQ_STOP_LEV_POS_CLR                     IMPT 00000000   6253 11483 
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4886 17212 17372 
_EXTDRV_BTTN_USE                          IMPT 00000000   4879 17070 17185 17336 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4880 17123 17136 17311 
_EXT_BTTN_FLG                             IMPT 00000000   4883 17180 
_EXT_DRVBTTN_ERRTIM_SET          P             00002FF0  17197 17348 17366*
_EXT_DRVBTTN_INFO_MAKE           P             00002EB8  17058 17110*
_EXT_DRVBTTN_MODE                P        EXPT 00002E6C  17046 17047*
_EXT_DRVBTTN_MODJG_CONF          P             00002F78  17064 17262*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   6206 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   6207 
_FPU_POS_HOKAN1                           IMPT 00000000   6219 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   6204 16807 16817 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   6205 
_FPU_TIM_HOKAN1                           IMPT 00000000   6220 
_FRCYCL_OF                                IMPT 00000000   6070  9360 12626 
_FRCYCL_ON                                IMPT 00000000   6071 12672 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3587 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3586 
_FREQ_SV_SPD                              IMPT 00000000   3519 
_FR_CYL_MASK_FLG                          IMPT 00000000   2645 12621 12667 
_FULCLS_ELSE_STS                          IMPT 00000000   4869 
_FULCLS_MATHED                            IMPT 00000000   4859 
_FULCLS_TIM_SETFLG                        IMPT 00000000   4867 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3081 
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4676 
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4677 
_FUL_CLS_RNADIG                           EQU  00000320   2012*
_FUL_DATA_INIT                            IMPT 00000000   6237 14159 
_FWD_REV_STSIG_OFF                        IMPT 00000000   6248 
_GMN_HANYO_DI1                            IMPT 00000000   5540 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5541 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3885 
_GPOSIN_HOS_RESET                         IMPT 00000000   6256 11489 
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3961 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3962 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2881 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2880 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   6202 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   6203 
_HIST_DAT_SEND_COM                        IMPT 00000000   5601 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5600  6808 
_HIST_EVENT_COD                           IMPT 00000000   5602 
_HIST_KEP_SEND_COM                        IMPT 00000000   5603 
_HOLD1_DNSTART_POSCHK            P             000031E0  17688 17809*
_HOLD_RESTART_BA_JG              P             000033CC   8094 18203*
_HOLD_RESTART_OF_OUT             P             000033B8   8090 18182*18418 
_HOLD_STOP_BA_JG                 P             00003510   8039 18497*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   288

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HOLD_WAIT_DURING_SIG            P             00003450  18317 18338*
_INCENC_ADD                               EQU  00000000   2067*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2702 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2701 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2703 
_INCHEN_ADD                               EQU  00000000   2066*
_INCREV_ADD                               EQU  00000000   2071*
_INCRNA_ADD                               EQU  00000000   2068*
_INCSTP_ADD                               EQU  00000000   2069*
_INC_ABS_ORGWORK                          IMPT 00000000   2928 
_INC_ABS_ORGWORK2                         IMPT 00000000   4348 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4349 
_INC_ENC360                               IMPT 00000000   2539 15353 18753 20259 20287 
_INC_ENC_MM_POS                           IMPT 00000000   2723 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4350 
_INC_RESET_STEP                           IMPT 00000000   5084 18542 18652 18700 
_INC_RESET_USE_F                          IMPT 00000000   5085 18545 18767 
_INC_RSTMODE_CHK                 P             0000353C   7082 18567*
_INC_RST_DATA_CHK                P             00003694  18637 18844*
_INC_RST_WORK_CLR                P        EXPT 00003520  18533 18537*
_INC_SPEC_RSTCHK                 P        EXPT 0000366A  18573 18800 18801*
_INC_STOP_CNT                             IMPT 00000000   3260 
_INFO_CHK1_COD                            EQU  5AA51234   2206*
_INFO_CHK2_COD                            EQU  4321A55A   2207*
_INPUT_MODE_SW                            IMPT 00000000   2594 
_INP_ERR_FLG                              IMPT 00000000   4612 
_INP_MODE                                 IMPT 00000000   2626  6907  6943  6975  7441 11631 15701 15733 16344 18811 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5153 
_INT1MS_SCAN_02MS                         IMPT 00000000   4287 
_INT1MS_SCAN_03MS                         IMPT 00000000   4288 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4289 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4290 
_INT1MS_SCAN_10MS                         IMPT 00000000   4291 
_INT_CLS_CTL_FLG                          IMPT 00000000   2847 11286 11403 
_INT_CLS_DYL_TIM                          IMPT 00000000   2848 
_INT_CYC_DRV_STS                          IMPT 00000000   2846 
_INT_DND_CTL_STEP                         IMPT 00000000   2842 
_INT_DND_NEG_STEP                         IMPT 00000000   2850 
_INT_DND_STEP_FLG                         IMPT 00000000   2845 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2859 
_INT_POS_CTL_FLAG                         IMPT 00000000   2843 15938 
_INT_POS_CTL_STEP                         IMPT 00000000   2840  9970 10233 10304 10419 10807 11327 12013 12164 13155 14226 17653 
_INT_POS_STEP_FLG                         IMPT 00000000   2844 
_INT_SFY_INP_DAT                          IMPT 00000000   3647 
_INT_SPD_CHG_FLG                          IMPT 00000000   5514 
_INT_STP_INP_DAT                          IMPT 00000000   3648 
_INT_STP_INP_DAT1                         IMPT 00000000   3649 
_INT_STP_INP_DAT2                         IMPT 00000000   3650 
_INT_STP_INP_DAT3                         IMPT 00000000   3651 
_INT_TIM_CHG_FLG                          IMPT 00000000   5515 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4044 15535 
_IN_POS_GPOINT_POS                        IMPT 00000000   3946 
_IN_RDY_FLG                               IMPT 00000000   2634  7593  7863  7942  9333 11343 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   289

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_IRQ_EMG_CNT                              IMPT 00000000   3641 
_IRQ_EMG_FLG                              IMPT 00000000   3640 
_IRQ_EMG_STP_CLR                          IMPT 00000000   6254  6668 
_IRQ_SFY_CNT                              IMPT 00000000   3643 
_IRQ_SFY_FLG                              IMPT 00000000   3642 
_IRQ_STP_CNT                              IMPT 00000000   3645 
_IRQ_STP_FLG                              IMPT 00000000   3644 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4202 
_KAJLIV_TTL_POINT                         IMPT 00000000   4201 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4199 
_KJPHOS_CAL_PRS                           IMPT 00000000   3009 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   3001 
_KJPHOS_IDO_BUF                           IMPT 00000000   3004 
_KJPHOS_IDO_CNT                           IMPT 00000000   2998 
_KJPHOS_IDO_POINT                         IMPT 00000000   2997 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   3003 
_KJPHOS_SAMPLING1                         IMPT 00000000   6352  7638 
_KJPHOS_SIG_CLR                           IMPT 00000000   6351  6571 
_KJPHOS_USE_FLG                           IMPT 00000000   2996 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   3000 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4856 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4857 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4855 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   3007 
_KJYUU_IN_DAT_PV                          IMPT 00000000   3006 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   3008 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4866 
_KJYU_CMP_CMD                             IMPT 00000000   4925 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4931 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4930 
_KJ_AREATRD_SIG                           IMPT 00000000   4907 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4908 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3765 
_KJ_AREA_SIG                              IMPT 00000000   3764 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2487 
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3680 
_LINK_1000ROT_PLS                         IMPT 00000000   4220 
_LINK_1ROT_PLS                            IMPT 00000000   2774 18860 
_LINK_2ROT_PLS                            IMPT 00000000   4217 
_LINK_3ROT_PLS                            IMPT 00000000   4218 
_LINK_4ROT_PLS                            IMPT 00000000   4219 
_LINK_CLANK_DIG_MAK                       IMPT 00000000   6359 14404 
_LINK_CLANK_PV                            IMPT 00000000   3497 14408 20751 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3049 16796 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2697 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2696 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2698 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2699 18632 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2768 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2767 
_LINK_POS_OFFSET1                         IMPT 00000000   2861 
_LINK_POS_OFFSET2                         IMPT 00000000   2862 
_LINK_PV_ABSPLS                           IMPT 00000000   2860 14375 14482 16927 
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2821  9932 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   290

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2829 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2830 
_LNGTH_ADD_DATA                           IMPT 00000000   2855 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2856 
_LONG_BIT_TBL0                            IMPT 00000000   6278 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3484 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3485 
_LOT_CHK_FLG                              IMPT 00000000   2666 12914 13070 13121 
_LOT_CNT_CNT                     P             00001C98   7606 12877*
_LOT_CNT_FLG                              IMPT 00000000   2664 10847 12954 12969 13080 13126 
_LOT_SIG_FLG_CLR                 P        EXPT 00001D5C   6681 13107 13117*20011 20602 
_LOT_SIG_SET                              IMPT 00000000  12876 12983 
_LSA1_FILETR_TIM                          IMPT 00000000   3746 
_LSA2_FILETR_TIM                          IMPT 00000000   3747 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3752 
_LSA_ENC_DIG                              IMPT 00000000   3739 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3740 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3741 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3742 
_LSA_ERRCLR_INI                           IMPT 00000000   6246  6575 
_LSA_ERR_SIG                              IMPT 00000000   3751 
_LSA_SIG_DT                               IMPT 00000000   3743 
_LSA_SIG_DT2                              IMPT 00000000   4068 
_LSA_SIG_OLD_DT                           IMPT 00000000   3744 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3745 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3603 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4476 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4477 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4478 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4479 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3582 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3581 
_LSI_LOAD_PLS                             IMPT 00000000   5214 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3571 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3572 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3573 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3554 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3567 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3565 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3564 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3568 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3574 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3575 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3576 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3577 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3578 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3555 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3665 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3666 
_LSI_SET_SPD_SV                           IMPT 00000000   3664 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3515 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3514 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3516 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3517 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   291

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LT_RNA_REF_ERR_FLG1                      IMPT 00000000  15004 
_MAIN_CLK                                 IMPT 00000000   4803 
_MAIN_SPD_CHG_FLG                         IMPT 00000000   5516 
_MAIN_START_OK                            IMPT 00000000   2497 
_MAIN_TIM_CHG_FLG                         IMPT 00000000   5517 
_MASK2_SAFTY_MAK                 P             00002788   7528 15583*
_MASK2_SAFTY_SW_MOV              P             000027E8   8317 15652*
_MCN_DBG_COD11                            EQU  00000063   2241*
_MCN_DBG_COD21                            EQU  00000059   2243*
_MCN_DBG_COD22                            EQU  00000058   2244*
_MCN_DBG_COD23                            EQU  00000058   2245*
_MCN_DBG_COD31                            EQU  0000004F   2247*
_MCN_DBG_COD32                            EQU  0000004E   2248*
_MCN_DBG_COD33                            EQU  0000004D   2249*
_MCN_FUJI_DBG1                            EQU  000004D2   2251*
_MISS_KEN_CAM_IN                          IMPT 00000000   5557 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5558 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5560 
_MISS_KEN_DI                              IMPT 00000000   5553 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5554 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5561 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5550 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5551 
_MNWR_POS_CMD                             IMPT 00000000   2790  9055  9070 10154 10615 10746 10890 11089 11139 11174 11240 15940 
                                                         17501 
_MN_POS_CTRL_ACT                          IMPT 00000000   6225  9254 
_MN_POS_CTRL_START                        IMPT 00000000   6224  8845 
_MODE_AREA_MAKE                  P        EXPT 00000518   6342  7462*
_MODE_CHANGE                     P        EXPT 0000043C   6340  7253*
_MODE_CNTCNF1_STOP_CHK           P             000011E8  10348*10677 
_MODE_CNTCOM1_STOP_CHK           P             000011A0  10291*10673 10717 
_MODE_CNTCOM2_STOP_CHK           P             00001228  10408*10693 
_MODE_CNT_STOP_CHK               P             00001028   9116  9958*
_MODE_CSS_STOP_CHK               P             0000133C   9101 10650*
_MODE_CTRL                       P        EXPT 00000528   6341  7486*
_MODE_DIC_STOP_CHK               P             00001508   9245 11026*
_MODE_DUP_STOP_CHK               P             00001574   9232 11118*
_MODE_INC_STOP_CHK               P             000014F4   9132 11008*
_MODE_OPT_STOP_CHK               P             000014F4   9216 11007*
_MODE_SEL                                 IMPT 00000000   2627  7836  8509  9089  9309  9440  9616  9641  9750 10502 10655 11633 
                                                         11666 12765 12883 13368 13455 13523 14745 14874 14922 17459 18309 19868 
                                                         20237 20497 
_MODE_SGL_STOP_CHK               P             0000128C   9162 10497*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3921 
_MONI_DISP_MOD                            IMPT 00000000   5605 
_MONI_RDY_STEP                            IMPT 00000000   5025  8195  8217  8253  8404  8461  8479  8494  9423  9436  9450  9469 
_MONI_RESET_STEP                          IMPT 00000000   5024  6940  6959  6972  6990  7000  7026  7038  7062  7075  7127  7158 
                                                          7178  7199 
_MONI_SELF_STS1                           IMPT 00000000   5026 
_MONI_SELF_STS2                           IMPT 00000000   5027 
_MOTION_CHK_START_FLG                     IMPT 00000000   5331 
_MOTION_SPD_CHKCNT                        IMPT 00000000   5448 
_MOT_REP_CNT                              IMPT 00000000   5071 
_MOT_REP_F                                IMPT 00000000   5070 14291 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   292

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5088 18719 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2600 
_MOV_ERR_FLG1                             IMPT 00000000   2597 
_MRTION_SEL                               IMPT 00000000   2632 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   6210 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   6209 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   6211 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4729 12552 12746 
_M_LINK_AREASIG                           IMPT 00000000   2706  7170 10801 12047 18613 20184 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2814 
_NEAR_IN_FLG                              IMPT 00000000   2689 14163 
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4328 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4326 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4327 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5569 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5568 
_NEG_EXITTIM                              IMPT 00000000   4698 
_NEWMASK_SEL_STOPMSK             P             00001B6C   8339  8366 11398 12546*16438 16458 
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3583 
_NEW_TEP_CNT                              IMPT 00000000   3811 
_NOW_INC_DIG_MAK                          IMPT 00000000   6273 18627 
_NOW_MOTREP_DIR                           IMPT 00000000   5072 
_NOW_POS_PRESET_OUTPLS                    IMPT 00000000   6226  6597 
_NZ_TIM_CHK1                     P        EXPT 00002464  14632 14687*
_NZ_TIM_OUT_PV1                           IMPT 00000000   3399 11012 14655 14697 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3400 14665 14712 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3397 14648 14691 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3398 14658 14706 
_OBJDIG_CLANK                             IMPT 00000000   4701 
_OBJ_ENC360                               IMPT 00000000   2541 
_OLD_RNAORG_POS1                          IMPT 00000000   2528 
_OPT_SGL_SFTY_MASK_CHK           P             00001C14  12392 12739*
_ORGIN2_STEP_FLG                          IMPT 00000000   4337 
_ORGIN_180CHK                    P             0000267C   8259 15348*
_ORGIN_END_FLG1                           IMPT 00000000   3071 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3835 14820 14934 
_ORGIN_MOD2_SEL                           IMPT 00000000   3834 14787 14889 14949 14966 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3836 14813 14842 14928 
_ORGIN_MODE_FLG_CLR              P        EXPT 0000250C   8709 11228 11502 14831 14837*
_ORGIN_MODE_SEL_START            P             00002520   8650 14869*
_ORGIN_MODE_SEL_WAIT             P             000024A4   8677 14740*
_ORGIN_MODE_START_WAIT           P             00002554   8226 14918*
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4393 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4394 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4395 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2604  6993 
_ORG_DRV_CNT_PV                           IMPT 00000000   3471 13451 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2603  7030 
_ORG_END_SIG_CLR                          IMPT 00000000   6230  6566 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3062 
_ORG_PRESET_TIM                           IMPT 00000000   2612  6594 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3472 11161 11410 13446 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3063 
_ORIGN_180ARA_FLG                         IMPT 00000000   4029 15393 15456 15484 16699 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   293

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3667 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3458 
_OUTPLS_DELT                              IMPT 00000000   3454 
_OUTPLS_DIV                               IMPT 00000000   2864 
_OUTPLS_MOD                               IMPT 00000000   2863 
_OUTPLS_POINT_SEL                         IMPT 00000000   3457 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3455 
_OUTPLS_SPD_POINT                         IMPT 00000000   3456 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3450 
_OUT_PLS_SPD                              IMPT 00000000   3451 
_OUT_PLS_SPD_DIR                          IMPT 00000000   3453 
_OVER1_JGDIG                              EQU  00000032   2050*
_OVERH_CALC_USE                           IMPT 00000000   4695 
_OVERH_MODE_SEL                           IMPT 00000000   4693 
_OVERLIDE_DT_SEL                          IMPT 00000000   3883 
_OVERLID_DEF_SET                          IMPT 00000000   6357  6835 
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3910 
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3873 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3871 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3872 
_OVER_RIDE_USEFUL                         IMPT 00000000   3905 
_OVER_RID_UPDN_LAT_DTMK                   IMPT 00000000   6355  8800 
_OVER_UPDN_DBGCNT                         IMPT 00000000   3907 
_OVRLIDE_LATE_MAX                         EQU  00000064   2282*
_PAR_BRKDISE_TIM                          IMPT 00000000   6301 
_PAR_BRKLOCK_TIM                          IMPT 00000000   6302 
_PAR_BTNER_TM                             IMPT 00000000   6319 17370 
_PAR_EP1STR_DLYTM                         IMPT 00000000  18890 19132 
_PAR_EP2FVINOF_ERTM                       IMPT 00000000  18891 19154 
_PAR_EP3BRKON_DLYTM                       IMPT 00000000  18892 19265 
_PAR_EP4EPINOF_ERTM                       IMPT 00000000  18893 19271 
_PAR_EP5RSTON_DLYTM                       IMPT 00000000  18894 19430 
_PAR_EP6RSTOF_INTTM                       IMPT 00000000  18896 19445 
_PAR_EP6RSTON_JGTM                        IMPT 00000000  18895 19453 
_PAR_EP6RST_RETRY                         IMPT 00000000  18897 19534 
_PAR_EP7AB_DLYTM                          IMPT 00000000  18898 19146 
_PAR_EP7END_DLYTM                         IMPT 00000000  18899 19632 
_PAR_EPCHK_SEL                            IMPT 00000000  18889 18984 
_PAR_EXTDRV_SEL                           IMPT 00000000   6318 17052 
_PAR_INCMODE_EPLS                         IMPT 00000000   6325 18656 
_PAR_INCMODE_SEL                          IMPT 00000000   6324 18806 
_PAR_MYUTERR_SEL                          IMPT 00000000   6320 15685 
_PAR_MYUTING_SEL                          IMPT 00000000   6315 15588 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6387  8333 16432 
_PAR_ORGDRV_CNT                           IMPT 00000000   6297 13449 
_PAR_ORGDRV_MOD                           IMPT 00000000   6296 11123 14773 
_PAR_POSHLD_BRKSEL                        IMPT 00000000   6328 18304 
_PAR_SELFCHK_POWSEL                       IMPT 00000000   9861  9867 16733 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6303 
_PAR_SFTY_BRKSEL                          IMPT 00000000   6300 
_PAR_SLOCK_DLY2                           IMPT 00000000   6304 
_PAR_UPCHK_SEL1                           IMPT 00000000   6308 11912 12075 
_PAR_UPMASK_SPD                           IMPT 00000000   6311 12327 
_PLSOUTEND_FLG                            IMPT 00000000   5237 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   294

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLSOUTEND_PVPLS                          IMPT 00000000   5235 
_PLSOUTEND_SHIN                           IMPT 00000000   5236 
_PLS_OUTPUT_FLG                           IMPT 00000000   3390 
_PLS_OUT_END_STS                          IMPT 00000000   4786 
_PON_ERR_WAIT_TIM                         IMPT 00000000   5167 
_POSCANSEL_CMD                            IMPT 00000000   5475 11215 20417 20438 
_POSCAN_PROC_STEP_RECOVER        P             00003E90  20448 20491*
_POSCTL_CALC_ERR                          IMPT 00000000   3858 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3914 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3913 
_POSCTL_RL_PLS                            IMPT 00000000   3845 
_POSCTL_RL_SPD                            IMPT 00000000   3849 
_POSCTL_SET_SPD                           IMPT 00000000   3847 
_POSCTL_STEP_CMD                          IMPT 00000000   3856 
_POSCTL_STEP_FLG                          IMPT 00000000   3857 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3852 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3854 
_POSCTL_SV_PLS                            IMPT 00000000   3844 
_POSCTL_SV_SPD                            IMPT 00000000   3848 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3851 
_POSCTRL_CANSEL_RESET            P             00003E40   7522 20413*
_POSHLD1_CHKLST_FLG                       IMPT 00000000   5019 17622 17632 18047 
_POSHLD1_FLG_CLR                 P             00003318  18040*18246 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4998 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4999 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   5001 17838 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   5002 17825 
_POSHLD1_SIG_CHK                 P             00003344   7991 18075*
_POSHLD1_STEP1_STOPCMD_CHK       P             00003008   9017 17415*
_POSHLD1_STEP2_START_CHK         P             00003224  17867*18164 
_POSHLD1_STOPBTTNCMD_CHK         P             000030D0   8028  8065 17490 17568*
_POSHLD1_STOPLATCH                        IMPT 00000000   5007 10183 10358 17585 18400 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4996 
_POSHLD1_STOP_CONFCHK            P             000030FC  17467 17606*
_POSHLD1_STOP_STEP                        IMPT 00000000   4995 17634 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4994 
_POSHLD_SET_DN_ACC                        IMPT 00000000   5006 
_POSINER_FLG                              IMPT 00000000   4947 
_POSINER_MOSTPV_POS                       IMPT 00000000   4943 
_POSINER_OLDPV_POS                        IMPT 00000000   4942 
_POSINER_PV_POS                           IMPT 00000000   4941 
_POSINER_RETRY_CNT                        IMPT 00000000   4949 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4950 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4951 
_POSINER_STS                              IMPT 00000000   4948 
_POSINER_SV_OVRPOS                        IMPT 00000000   4945 
_POSINER_SV_POS                           IMPT 00000000   4944 
_POSINER_SV_STPPOS                        IMPT 00000000   4946 
_POSLSI_CHK_CNT                           IMPT 00000000   2873 
_POSLSI_CHK_DLT                           IMPT 00000000   2874 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2867 
_POSLSI_CHK_STS                           IMPT 00000000   2875 
_POSLSI_CMP_DATA                          IMPT 00000000   2857 
_POSLSI_DELT_POS                          IMPT 00000000   2858 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   295

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSLSI_DRIV_SHIN                         IMPT 00000000   2866 
_POSLSI_DRV_FRQ                           IMPT 00000000   3584 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2871 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2869 
_POS_CALC_ERR_FLG1                        IMPT 00000000   3557 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3558 
_POS_CALC_ERR_INF1                        IMPT 00000000   3561 
_POS_CALC_ERR_INF2                        IMPT 00000000   3562 
_POS_CANSEL_CLR                  P             00001634  11224 11273*
_POS_CANSEL_STOP_CHK             P             000015E0   9039 11202*
_POS_CMP_1STEP_START_INI         P        EXPT 000021E4  13574 14090 14146*
_POS_CTRL_SQ_STS                          IMPT 00000000   2837  8268 11431 13323 14173 
_POS_DRV_DIRECT                           IMPT 00000000   2831 
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5256 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5255 
_POS_END_WAIT_TIM                         IMPT 00000000   5246 
_POS_FRQ_SPDMAX                           IMPT 00000000   3055 
_POS_GPOINT_POS                           IMPT 00000000   3947 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4978 17891 17943 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4979 17419 17509 17871 17895 17964 18045 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4980 17988 18087 18403 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4981 17737 17990 18120 18405 
_POS_HOLDABS_CALCF                        IMPT 00000000   5018 17611 
_POS_HOLD_CMD                             IMPT 00000000   5013  8002  8080 17514 18240 18354 
_POS_HOLD_FLG                             IMPT 00000000   5014  7996  8009  8047 18242 18349 18476 
_POS_HOLD_FLG_CLR                P             000033E0   8101 18232*18391 
_POS_HOLD_FLG_EXQ_CLR            P             00003480  11516 18385*
_POS_HOLD_FLG_STR2CLR            P        EXPT 0000340C   6384  8617  8853 18264*18395 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   5015  8106  8758 18269 18344 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   5016 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   5012  8074 17969 18238 
_POS_HOLD_RESTART_CHK            P             000033A4   8070 18159*
_POS_LSI_ABSPLS                           IMPT 00000000   2919 
_POS_LSI_ACCLT1                           IMPT 00000000   3059 
_POS_LSI_ACCLT2                           IMPT 00000000   3060 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3556 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3560 
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3077 
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3076 
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2923 
_POS_LSI_OFFSET1                          IMPT 00000000   2921 
_POS_LSI_OFFSET2                          IMPT 00000000   2922 
_POS_LSI_OLDCNT                           IMPT 00000000   2925 
_POS_LSI_SLOW_STOP                        IMPT 00000000   6249 
_POS_LSI_SPDBAS                           IMPT 00000000   3058 
_POS_LSI_SPDLAT                           IMPT 00000000   3057 
_POS_LSI_SPDMAX                           IMPT 00000000   3056 
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2918 
_POS_STEP1_SEARCH                         IMPT 00000000  18560 18644 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3509 
_PRD_DAI_POS0                             IMPT 00000000   3507 
_PRD_DAI_POS1                             IMPT 00000000   3508 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3995 
_PRESET_PV_FLGCLR                         IMPT 00000000   6272  6607 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   296

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PS_DG_INF_CHK1                           EQU  00000000   2215*
_PS_DG_INF_CHK2                           EQU  0000003C   2220*
_PS_DG_INF_CONT                           EQU  00000004   2216*
_PS_DG_INF_LATE                           EQU  00000010   2219*
_PS_DG_INF_STLK                           EQU  0000000C   2218*
_PS_DG_INF_UNIT                           EQU  00000008   2217*
_PS_TIME                                  EQU  00000002   2005*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3258 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3462 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3463 
_PVPX1_CKLMT_AGLTOP                       IMPT 00000000   5333 
_PVPX1_CKLMT_SPDTOP                       IMPT 00000000   5334 
_PVP_WTJUD_AGL                            IMPT 00000000   6381 
_PVP_WTJUD_POS                            IMPT 00000000   6382 
_PVP_WTJUD_SNO                            IMPT 00000000   6380 
_PVX_AMPERR_TIM1                          IMPT 00000000   3195 
_PVX_AMPERR_TIM2                          IMPT 00000000   3196 
_PVX_AMPERR_TIM3                          IMPT 00000000   3197 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4753 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4734 
_PVX_DAI_POS0                             IMPT 00000000   2939 
_PVX_DAI_POS1                             IMPT 00000000   2940 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4718 
_PVX_DYHITO_POS                           IMPT 00000000   2947 
_PVX_IAMP_VLT                             IMPT 00000000   3198 
_PVX_INPPOS_TIM1                          IMPT 00000000   3171 
_PVX_MOTINS_AG2                           IMPT 00000000   4538 
_PVX_MOTINS_AG2X                          IMPT 00000000   4539 
_PVX_MOTINS_AG3                           IMPT 00000000   4544 
_PVX_MOTINS_AG3X                          IMPT 00000000   4545 
_PVX_MOTINS_AGL                           IMPT 00000000   4541 
_PVX_MOTINS_AGLX                          IMPT 00000000   4542 
_PVX_MOTINS_DAN                           IMPT 00000000   4549 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4550 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4548 
_PVX_MOTINS_INF                           IMPT 00000000   4552 
_PVX_MOTINS_POS                           IMPT 00000000   4535 
_PVX_MOTINS_PS2                           IMPT 00000000   4534 
_PVX_MOTINS_PS3                           IMPT 00000000   4536 
_PVX_RNA_STLORK                           IMPT 00000000   2941 
_PV_ENC_SPD_PER                           IMPT 00000000   3460 12329 
_PV_OUT_SPD_PER                           IMPT 00000000   3461 
_RDYON_CONF1                     P             00000DF8   8468  8607  9409*
_RDY_CHEAK                       P             00000784   7614  7982*
_RDY_HOLDSTP_FLGOUT              P             000034F8   7618 18471*
_RDY_HOLDSTP_OF_FLGOUT           P             000034DC  18422 18449*
_RDY_OF                                   IMPT 00000000   6065  8889  8970 16609 16726 
_RDY_ON                                   IMPT 00000000   6064  8544 16522 16564 
_RDY_SFTY_LOCK                            IMPT 00000000   3731 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3732 15127 15148 15271 
_RECOVER_WAIT_AREA_CHK           P             00003D18  19919 20127*20538 
_RENEA_ERR_RESET_INI                      IMPT 00000000  15003 
_REP_CAMOBJ_DIG                           IMPT 00000000   5073 
_RESET_CHEAK                     P        EXPT 00000000   6339  6418*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   297

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RESET_CONF_CHK                  P             000002A8   6612  6895*
_RESET_END_OUT                            IMPT 00000000   6057  6789 
_RESET_ERR_SEQ_CLR                        IMPT 00000000   6234  6652  6799 
_RESET_ERR_SEQ_CLR1                       IMPT 00000000   6235 
_RESET_ERR_SEQ_CLR2                       IMPT 00000000   6236  6803 
_RESET_OUT                                IMPT 00000000   6056  6656  6755 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2731 
_RESET_ROTNUM_ZR                          IMPT 00000000   2730 
_REVCHK_DRIV_SHIN                         IMPT 00000000   4619 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4620 
_REVMOD_REVDN_DIG                         IMPT 00000000   4622 
_REV_CALC_WORK0                           IMPT 00000000   3249 
_REV_CALC_WORK1                           IMPT 00000000   3250 
_REV_CALC_WORK2                           IMPT 00000000   3251 
_REV_ERR_FLG                              IMPT 00000000   5277 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5280 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5281 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4618 
_REV_LATCH_ENCPOS                         IMPT 00000000   2889 
_REV_LATCH_OUTPLS                         IMPT 00000000   2888 
_REV_LATCH_RNAPOS                         IMPT 00000000   2890 
_RM1_CHK_OLDSTS                           IMPT 00000000   5105 
_RM1_CHK_TIME                             IMPT 00000000   5106 
_RM2_CHK_OLDSTS                           IMPT 00000000   5108 
_RM2_CHK_TIME                             IMPT 00000000   5109 
_RNAREV_ADD                               EQU  00000000   2072*
_RNASTP_ADD                               EQU  00000000   2070*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2980 
_RNA_ABS_MAXPOS                           IMPT 00000000   2959 
_RNA_ABS_MD2_C1                           IMPT 00000000   4352 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4353 
_RNA_ABS_MD2_C2                           IMPT 00000000   4354 
_RNA_ABS_MD_DT0                           IMPT 00000000   2943 
_RNA_ABS_MD_DT1                           IMPT 00000000   2944 
_RNA_ABS_MEMORG                           IMPT 00000000   2936 
_RNA_ABS_MINPOS                           IMPT 00000000   2958 
_RNA_ABS_ORGWORK                          IMPT 00000000   2927 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4346 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4347 
_RNA_ABS_POS                              IMPT 00000000   2935 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2957 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2956 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4493 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4486 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4488 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4487 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4490 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4489 
_RNA_BBN_SET_TIME                         IMPT 00000000   4492 
_RNA_CMD_RD_CNT                           IMPT 00000000   2554 
_RNA_CMD_SND_CNT                          IMPT 00000000   2553 
_RNA_COM_ERR_CNT                          IMPT 00000000   2546 
_RNA_COM_NML_CNT                          IMPT 00000000   2547 
_RNA_CTL_POS0                             IMPT 00000000   2945 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   298

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_CTL_POS1                             IMPT 00000000   2946 
_RNA_ENC360                               IMPT 00000000   2538 
_RNA_ERR_RSTCHK                  P        EXPT 00002740  15514 15521*
_RNA_HOS_DELT                             IMPT 00000000   2948 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4505 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2722 
_RNA_OLD_STEP                             IMPT 00000000   4508 
_RNA_POS_OFFSET1                          IMPT 00000000   2933 
_RNA_POS_OFFSET2                          IMPT 00000000   2934 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4045 
_RNA_PROTOCOL_X                           IMPT 00000000   4048 
_RNA_RESET_FLG                            IMPT 00000000   2549 15541 
_RNA_RESET_TIM                            IMPT 00000000   2550 
_RNA_SCIF_ERR_CLR1               P             000025C0   6602 15010*15553 
_RNA_SCIF_ERR_CLR2                        IMPT 00000000   6265 
_RNA_STLORK                               IMPT 00000000   2938 
_RNA_STLORK_HALF                          IMPT 00000000   4344 
_RNA_STOP_CNT                             IMPT 00000000   3259 
_RNA_TECH_POINT                           IMPT 00000000   4504 
_RNA_TECH_POSBUF                          IMPT 00000000   4503 
_ROOT_MAIN_INP                            IMPT 00000000   5611 
_ROOT_MAIN_OUT                            IMPT 00000000   5612 
_ROT_CNTMODE_CHK                 P             00003FA8  20678 20722*
_RST_DLY_TM                               EQU  000000C8   2024* 6752 
_RST_ERR_CHK_ERR                          IMPT 00000000   2894 
_RST_ERR_CHK_FLG                          IMPT 00000000   2892 11407 
_RST_MOD_POS_END                 P             000017D8   6785 11614*
_RST_MOD_POS_START               P             000017C4   6660 11586*
_SAME_TIM                                 IMPT 00000000   2674  8529  9612  9724 16507 
_SCAN_DBG_CNT                             IMPT 00000000   4822 
_SCAN_SMP_SIG                             IMPT 00000000   4809 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4800 
_SCAN_TIM_IN                              IMPT 00000000   4805 
_SCAN_TIM_POINT                           IMPT 00000000   4801 
_SCAN_TIM_TOTAL                           IMPT 00000000   4799 
_SDATCLS_OBJMM                            IMPT 00000000   3083 
_SDATCLS_OBJPLS                           IMPT 00000000   3082 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3084 
_SDATCLS_TRG_STEP                         IMPT 00000000   3086 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3085 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2776 
_SELFCHK_LOCK_SET                P             00000FC4   8897  9862*
_SELF_AD_LATCH                            IMPT 00000000   3720 
_SELF_BRK_LOCK                            IMPT 00000000   3716 
_SELF_CHK_MATHED                          IMPT 00000000   3715  9880 16746 
_SELF_CHK_SEL                             IMPT 00000000   2621  9316  9878 15853 16744 
_SELF_COM                                 IMPT 00000000   2619  7545  7869  7924 
_SELF_FIRST_END_FLG                       IMPT 00000000   3713 
_SELF_FLG                                 IMPT 00000000   2617  7543  7847  7873  7953 15606 15859 
_SELF_LOCK_FLG                            IMPT 00000000   4000  9874 16740 
_SELF_MOV_LENGTH                          IMPT 00000000   3723 
_SELF_MOV_SPEED                           IMPT 00000000   3724 
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3718 
_SELF_SECOND_STEP                         IMPT 00000000   3719 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   299

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_START_CONF                          IMPT 00000000   6222  7916 
_SELF_START_POS_LATCH                     IMPT 00000000   3722 
_SELF_START_WAIT_TM                       IMPT 00000000   2620 
_SELF_TIMING_SIG                          IMPT 00000000   3714  6685  9328 
_SEQAB_DP_TOP                             IMPT 00000000   6374 17445 17452 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3158 
_SET1_AMP100P_VLT                         IMPT 00000000   3192 
_SET1_ARACHK_LNG1                         IMPT 00000000   3173 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4959 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4954 
_SET1_ATSLID_COEF1                        IMPT 00000000   4957 
_SET1_ATSLID_COEF2                        IMPT 00000000   4958 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4955 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4956 
_SET1_BREAK_DIG                           IMPT 00000000   3495 
_SET1_BREAK_TIM1                          IMPT 00000000   3493 
_SET1_CNT_CNT                             IMPT 00000000   3101 13407 
_SET1_CNT_TIM                             IMPT 00000000   3099 13388 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3184 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3185 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3186 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3203 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3205 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3204 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3207 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3206 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3209 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3208 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3211 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3210 
_SET1_DNAREA_INPX                         IMPT 00000000   3161 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3165 
_SET1_DNAREA_JUDG                         IMPT 00000000   3135 
_SET1_DNDINC_SPD1                         IMPT 00000000   3144 
_SET1_DND_DIGTOP                          IMPT 00000000   3774 
_SET1_DND_PLSTOP                          IMPT 00000000   3775 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3773 
_SET1_DND_STOP_SW                         IMPT 00000000   3772 
_SET1_DND_UPPLS                           IMPT 00000000   3776 
_SET1_EJECAM_OFR                          IMPT 00000000   5062 
_SET1_EJECAM_ONR                          IMPT 00000000   5061 
_SET1_ENC360_HOS1                         IMPT 00000000   3175 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3187 
_SET1_INCDIR_SEL1                         IMPT 00000000   3116 
_SET1_INCENC_ELNG                         IMPT 00000000   3178 
_SET1_INCHEN_ELNG                         IMPT 00000000   3177 
_SET1_INCPLS_1REV                         IMPT 00000000   3113 
_SET1_INCPLS_HOSM                         IMPT 00000000   3118 
_SET1_INCPLS_HOSN                         IMPT 00000000   3117 
_SET1_INCPOS_KP01                         IMPT 00000000   3156 
_SET1_INCREV_ELNG                         IMPT 00000000   3182 
_SET1_INCRNA_ELNG                         IMPT 00000000   3179 
_SET1_INCSTP_ELNG                         IMPT 00000000   3180 
_SET1_INPPOS_TIM1                         IMPT 00000000   3170 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   300

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INTLIM_AGL                          IMPT 00000000   4984 
_SET1_INTLIM_PLS                          IMPT 00000000   4986 
_SET1_KAJAREA_ENO                         IMPT 00000000   4895 
_SET1_KAJAREA_SEL                         IMPT 00000000   4909 
_SET1_KAJAREA_SNO                         IMPT 00000000   4894 
_SET1_KATTCH_EAG                          IMPT 00000000   4917 
_SET1_KATTCH_SAG                          IMPT 00000000   4916 
_SET1_KATTCH_SPD                          IMPT 00000000   4562 
_SET1_KJEND_DIG1                          IMPT 00000000   3763 
_SET1_KJEND_DIG2                          IMPT 00000000   4898 
_SET1_KJEND_STEP1                         IMPT 00000000   3762 
_SET1_KJSTR_DIG1                          IMPT 00000000   3761 
_SET1_KJSTR_DIG2                          IMPT 00000000   4897 
_SET1_KJSTR_STEP1                         IMPT 00000000   3760 
_SET1_LSAABN_AGL1                         IMPT 00000000   3749 
_SET1_LSAABN_AGL2                         IMPT 00000000   3750 
_SET1_MAX_KJYU                            IMPT 00000000   4205 
_SET1_MISCAM_OFR                          IMPT 00000000   5064 
_SET1_MISCAM_ONR                          IMPT 00000000   5063 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3130 
_SET1_MOTREP_CNT                          IMPT 00000000   5054 
_SET1_MOTREP_SPD                          IMPT 00000000   5053 
_SET1_MOTREP_STGE                         IMPT 00000000   5052 
_SET1_MOTREP_STGS                         IMPT 00000000   5051 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5050 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3120 
_SET1_MOT_INF                             IMPT 00000000   5447 
_SET1_MRTION_SEL1                         IMPT 00000000   3213  7466 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3214 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3191 
_SET1_OBJARA_INPX                         IMPT 00000000   3162 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3166 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3168 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3239 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3224 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3219 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3227 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3231 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3273 
_SET1_OVERLIDE_COF                        IMPT 00000000   3884 
_SET1_PLSAHI_PLS                          IMPT 00000000   3800 
_SET1_PLSALO_PLS                          IMPT 00000000   3799 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3275 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3276 
_SET1_REVDAT_SPD1                         IMPT 00000000   3147 
_SET1_REVDAT_SPD2                         IMPT 00000000   3150 
_SET1_REVDAT_SPD3                         IMPT 00000000   3151 
_SET1_RNADIR_SEL1                         IMPT 00000000   3115 
_SET1_RNAORG_POS1                         IMPT 00000000   3131 
_SET1_RNAPOS_KP01                         IMPT 00000000   3157 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3132 
_SET1_RNAPOS_MINP                         IMPT 00000000   3133 
_SET1_RNAREV_ELNG                         IMPT 00000000   3183 
_SET1_RNASTP_ELNG                         IMPT 00000000   3181 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   301

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_ROTCAM_OFR                          IMPT 00000000   5060 
_SET1_ROTCAM_ONR                          IMPT 00000000   5059 
_SET1_RPARAM_TOP1                         IMPT 00000000   3109 
_SET1_SSCURV_TIM1                         IMPT 00000000   3159 
_SET1_STDINC_SPD1                         IMPT 00000000   3146 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3807 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3153 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3154 
_SET1_UPAREA_DIG0                         IMPT 00000000   3238 
_SET1_UPAREA_DIG1                         IMPT 00000000   3174 
_SET1_UPAREA_INPX                         IMPT 00000000   3160 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3164 
_SET1_UPAREA_JUDG                         IMPT 00000000   3134 
_SET1_UPAREA_PLS0                         IMPT 00000000   3222 
_SET1_UPAREA_PLS1                         IMPT 00000000   3223 
_SET1_UPAREA_POS0                         IMPT 00000000   3218 
_SET1_UPAREA_POS1                         IMPT 00000000   3054 
_SET1_UPAREA_SPD0                         IMPT 00000000   3226 
_SET1_UPAREA_SPD1                         IMPT 00000000   3145 
_SET1_UPAREA_TIM0                         IMPT 00000000   3230 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3148 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4204 
_SET2_INTLIM_AGL                          IMPT 00000000   4985 
_SET2_INTLIM_PLS                          IMPT 00000000   4987 
_SET360_UPAREA_DIG1                       IMPT 00000000   4060 
_SET360_UPAREA_PLS1                       IMPT 00000000   4061 
_SETC_KJEND_DIG1                          IMPT 00000000   4143 
_SETC_KJEND_DIG2                          IMPT 00000000   4905 
_SETC_KJSTR_DIG1                          IMPT 00000000   4142 
_SETC_KJSTR_DIG2                          IMPT 00000000   4904 
_SETD_DEGSPD_MAX                          IMPT 00000000   3311 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4253 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4254 
_SETSQ206_BIT11                  P        EXPT 000025E0  15050 15073*
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4124 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4123 
_SETXY_UPAREA_DIG                         IMPT 00000000   4119 
_SETXY_UPAREA_PLS                         IMPT 00000000   4118 
_SETX_ACCERR_DLY1                         IMPT 00000000   4461 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4456 
_SETX_ACCERR_SEL                          IMPT 00000000   4466 
_SETX_BANK_USELFUL                        IMPT 00000000   3673 
_SETX_BREAK_DIG2                          IMPT 00000000   4189 
_SETX_BREAK_TIM2                          IMPT 00000000   4190 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3140 
_SETX_DAIPOS_MINP                         IMPT 00000000   3141 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3136 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3137 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3079 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3080 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4862 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4473 
_SETX_INCPLS_HOSM                         IMPT 00000000   3119 
_SETX_KJEND_DIG1                          IMPT 00000000   4138 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   302

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_KJEND_DIG2                          IMPT 00000000   4901 
_SETX_KJSTR_DIG1                          IMPT 00000000   4137 
_SETX_KJSTR_DIG2                          IMPT 00000000   4900 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4864 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5157 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2717 20283 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2716 20285 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4450 
_SETX_MOTREP_DIR                          IMPT 00000000   5068 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3127 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3128 
_SETX_OVERH_AMP                           IMPT 00000000   4692 
_SETX_OVERH_LNGTH                         IMPT 00000000   4691 
_SETX_POS_CTL_MATH                        IMPT 00000000   2750  7110 11682 12188 12283 12418 13180 17813 18592 18712 18849 19876 
                                                         19977 20149 20243 20505 20737 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2749 20744 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2741 17649 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2742 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2738 11822 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2739 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2740 11934 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2748 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2744 
_SETX_POS_STEP_MAX                        IMPT 00000000   2751 11814 11929 17627 18703 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4506 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4507 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4988 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4989 
_SETX_UPAREA_DIG                          IMPT 00000000   3052 10819 12180 13172 
_SETX_UPAREA_PLS                          IMPT 00000000   3050 11839 18855 
_SETX_UPAREA_RNA                          IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3067 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3069 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3066 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3068 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4472 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3125 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3124 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3123 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3122 
_SETY_KJEND_DIG1                          IMPT 00000000   4140 
_SETY_KJEND_DIG2                          IMPT 00000000   4903 
_SETY_KJSTR_DIG1                          IMPT 00000000   4139 
_SETY_KJSTR_DIG2                          IMPT 00000000   4902 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4991 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4992 
_SET_ACC_OVRLIDE                          IMPT 00000000   3895 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3863 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3861 
_SET_DN_ACC_LATE                          IMPT 00000000   3912 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3887 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3886 
_SET_NZ_TIM_DAT                  P        EXPT 0000242C  14167 14631 14644*
_SET_PV_ABS_TO_OBJ                        IMPT 00000000   6356  6579  6759  6831 18623 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   303

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3875 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3874 
_SET_SPDBAS_PLS                           IMPT 00000000   3862 
_SET_SPD_OVRLIDE                          IMPT 00000000   3894 
_SET_UP_ACC_LATE                          IMPT 00000000   3911 
_SET_UP_TIM                               IMPT 00000000   2675  8525  9670  9719  9794  9818 16503 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5223 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5224 
_SFTYCHK_RNA_POS                          IMPT 00000000   3391 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2569 
_SFTY_IN_DAT                              IMPT 00000000   2568  6950  9427 16982 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3994 
_SFTY_MASK_END                   P             00001BDC   8379  8830 12137 12579 12645*16472 16676 
_SFTY_MASK_START                 P             00001BBC   9173 12596 12617*12655 
_SFTY_MUTING_MODE_ERR            P             00002800   7532 15681*
_SH2_ADD_PLS                              IMPT 00000000   5799 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5759 
_SH2_CNT_REST_HF                          IMPT 00000000   5770 
_SH2_CNT_REST_PLS                         IMPT 00000000   5754 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5807 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5808 
_SH2_HD_CNT_STOP                          IMPT 00000000   6292  7716 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6284 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6282 
_SH2_HD_HLDSTOP2                          IMPT 00000000   7974 18456 18482 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6290 
_SH2_HD_POS_START                         IMPT 00000000   6286 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6288 
_SH2_HD_STEP_END                          IMPT 00000000   6294  7741 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5755 
_SH2_LOT_CNT_A                            IMPT 00000000   5766 
_SH2_LOT_STEP_A                           IMPT 00000000   5767 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5761 
_SH2_NOW_STEP                             IMPT 00000000   5805 
_SH2_PLSI_ACCS                            IMPT 00000000   5763 
_SH2_PLSI_LATE                            IMPT 00000000   5764 
_SH2_REST_PLS_RL                          IMPT 00000000   5757 
_SH2_REST_PLS_SR                          IMPT 00000000   5756 
_SH2_REST_RL_HF                           IMPT 00000000   5769 
_SH2_REST_SR_HF                           IMPT 00000000   5768 
_SH2_STEP1_FRQ                            IMPT 00000000   5787 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5782 
_SH2_STEP1_REST_P                         IMPT 00000000   5777 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5772 
_SH2_STEP1_TIM                            IMPT 00000000   5792 
_SH2_STEP2_FRQ                            IMPT 00000000   5788 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5783 
_SH2_STEP2_REST_P                         IMPT 00000000   5778 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5773 
_SH2_STEP2_TIM                            IMPT 00000000   5793 
_SH2_STEP3_FRQ                            IMPT 00000000   5789 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5784 
_SH2_STEP3_REST_P                         IMPT 00000000   5779 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5774 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   304

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP3_TIM                            IMPT 00000000   5794 
_SH2_STEP4_FRQ                            IMPT 00000000   5790 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5785 
_SH2_STEP4_REST_P                         IMPT 00000000   5780 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5775 
_SH2_STEP4_TIM                            IMPT 00000000   5795 
_SH2_STEP5_FRQ                            IMPT 00000000   5791 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5786 
_SH2_STEP5_REST_P                         IMPT 00000000   5781 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5776 
_SH2_STEP5_TIM                            IMPT 00000000   5796 
_SH2_STEP_FRQ                             IMPT 00000000   5803 
_SH2_STEP_PV_PLS                          IMPT 00000000   5801 
_SH2_STEP_REST_P                          IMPT 00000000   5802 
_SH2_STEP_SV_PLS                          IMPT 00000000   5800 
_SH2_STEP_TIM                             IMPT 00000000   5804 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5760 
_SH2_TOTAL_PLS                            IMPT 00000000   5798 
_SH4_ADD_PLS                              IMPT 00000000   5742 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5704 
_SH4_CNT_REST_HF                          IMPT 00000000   5714 
_SH4_CNT_REST_PLS                         IMPT 00000000   5700 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5750 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5751 
_SH4_HD_CNT_STOP                          IMPT 00000000   6291  7728 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6283 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6281 
_SH4_HD_HLDSTOP2                          IMPT 00000000   7973 18454 18505 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6289 
_SH4_HD_POS_START                         IMPT 00000000   6285 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6287 
_SH4_HD_STEP_END                          IMPT 00000000   6293  7754 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5701 
_SH4_LOT_CNT_A                            IMPT 00000000   5710 
_SH4_LOT_STEP_A                           IMPT 00000000   5711 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5706 
_SH4_NOW_STEP                             IMPT 00000000   5748 
_SH4_ORG_DIR_REV                          IMPT 00000000   6372 15482 
_SH4_PLSI_ACCS                            IMPT 00000000   5708 
_SH4_PLSI_LATE                            IMPT 00000000   5709 
_SH4_REST_PLS_RL                          IMPT 00000000   5703 
_SH4_REST_PLS_SR                          IMPT 00000000   5702 
_SH4_REST_RL_HF                           IMPT 00000000   5713 
_SH4_REST_SR_HF                           IMPT 00000000   5712 
_SH4_STEP1_FRQ                            IMPT 00000000   5731 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5726 
_SH4_STEP1_REST_P                         IMPT 00000000   5721 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5716 
_SH4_STEP1_TIM                            IMPT 00000000   5736 
_SH4_STEP2_FRQ                            IMPT 00000000   5732 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5727 
_SH4_STEP2_REST_P                         IMPT 00000000   5722 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5717 
_SH4_STEP2_TIM                            IMPT 00000000   5737 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   305

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP3_FRQ                            IMPT 00000000   5733 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5728 
_SH4_STEP3_REST_P                         IMPT 00000000   5723 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5718 
_SH4_STEP3_TIM                            IMPT 00000000   5738 
_SH4_STEP4_FRQ                            IMPT 00000000   5734 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5729 
_SH4_STEP4_REST_P                         IMPT 00000000   5724 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5719 
_SH4_STEP4_TIM                            IMPT 00000000   5739 
_SH4_STEP5_FRQ                            IMPT 00000000   5735 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5730 
_SH4_STEP5_REST_P                         IMPT 00000000   5725 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5720 
_SH4_STEP5_TIM                            IMPT 00000000   5740 
_SH4_STEP_FRQ                             IMPT 00000000   5746 
_SH4_STEP_PV_PLS                          IMPT 00000000   5744 
_SH4_STEP_REST_P                          IMPT 00000000   5745 
_SH4_STEP_SV_PLS                          IMPT 00000000   5743 
_SH4_STEP_TIM                             IMPT 00000000   5747 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5705 
_SH4_TOTAL_PLS                            IMPT 00000000   5741 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4023 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4024 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000   9898  9914 
_SINKAKU_INF                              IMPT 00000000   3292 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3294 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3293 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3296 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3295 
_SINWK_CALC_SCAN                          IMPT 00000000   3304 
_SIN_RCAMOF_SW1                           IMPT 00000000   3320 
_SIN_RCAMON_SW1                           IMPT 00000000   3319 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3299 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3323 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3298 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3322 
_SLIDALM_CHK_FLG                          IMPT 00000000   4381 
_SLIDALM_CHK_POS                          IMPT 00000000   4383 
_SLIDALM_CHK_TIM                          IMPT 00000000   4382 
_SLIDALM_POS_MINAS                        IMPT 00000000   4385 
_SLIDALM_POS_PULAS                        IMPT 00000000   4384 
_SPD_PER_MAX                              EQU  00002710   2006*16798 16815 
_SPLCHK_FLG                               IMPT 00000000   5038 
_SPLCHK_TIM                               IMPT 00000000   5039 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5118 
_SQ_CBWK_TOP                              IMPT 00000000   6279  8421  8805  9677  9693 11416 11424 11438 13303 14299 15057 15078 
                                                         15399 15462 15762 16184 16245 16265 16652 16705 17079 17229 17519 17731 
                                                         17900 17906 17974 17981 18012 18051 18080 18113 18410 19719 19823 19898 
                                                         20022 20069 20096 20519 20613 20652 20702 
_SQ_OVERH_CMP                             IMPT 00000000   4694 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4043 15529 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_INFO_OUT              P             00001E50   8601 13262 13362*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   306

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_START_FLG_AFTER_EMG                      IMPT 00000000   3373 
_START_REQ_COD                            EQU  00009876    212*
_START_SFTY_LOCK_CLR             P             00002660   8904 11391 15265*16753 
_STEP_CMPERR_TIMX1                        IMPT 00000000   5495 
_STEP_SIG_DISP                   P        EXPT 00002236   6345  9003 14212*
_STEP_SIG_DSP_CLR                P        EXPT 0000222C   6344  9339 11333 14202*
_STOPCHK_INC_POS                          IMPT 00000000   3257 
_STOPCHK_RNA_POS                          IMPT 00000000   3256 
_STOPPING_STOP_POS                        IMPT 00000000   2653 14382 14490 
_STOPPING_STOP_TIM                        IMPT 00000000   2655 14372 14525 14580 
_STOPPING_TIM_CHK                P        EXPT 00002324   6349 14447*
_STOPPING_TIM_FLG                         IMPT 00000000   2654 14330 14362 14386 14452 14600 16167 
_STOPPING_TIM_MOV_INI            P        EXPT 00002284   6347  8839 14326*16684 
_STOPPING_TIM_PV1                         IMPT 00000000   2656 14391 14477 14546 14593 
_STOPPING_TIM_PV2                         IMPT 00000000   2657 14393 14597 
_STOPPING_TIM_STOP_INI           P        EXPT 000022A0   6348 11450 14358*
_STOPPING_VLVOFF_POS                      IMPT 00000000   2652 14378 14486 
_STOP_360ENC_DIG                          IMPT 00000000   4076 
_STOP_ERR_CHK                             IMPT 00000000   6245 14615 
_STOP_ERR_LATCH                           IMPT 00000000   3494 14397 14606 
_STOP_LATCH                               IMPT 00000000   2635  7704 10469 10903 11284 
_STOP_LATCH_B                             IMPT 00000000   2636  7696 10221 10227 10383 10413 10686 10901 10955 11282 17578 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2886 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2884 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2883 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2885 
_STOP_LTH_OUT                    P        EXPT 0000126C  10261 10444 10460 10465*10981 
_STP_RST_FLG_PROC                P        EXPT 000017B0   6336 11563*
_STR_ENC3600_DIG                          IMPT 00000000   2803 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2804 
_SVCHK_SCAN                               IMPT 00000000   4713 
_SVPX1_FED_DEG                            IMPT 00000000   5317 
_SVPX1_FED_POS                            IMPT 00000000   5318 
_SVPX1_MOT_INF                            IMPT 00000000   5316 
_SVPX1_OBJECT_DIG_TOP                     IMPT 00000000   5312 
_SVPX1_OBJECT_POS_TOP                     IMPT 00000000   5311 
_SVPX1_OBJECT_PRS_TOP                     IMPT 00000000   5315 
_SVPX1_OBJECT_SPD_TOP                     IMPT 00000000   5313 
_SVPX1_OBJECT_TIM_TOP                     IMPT 00000000   5314 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3242 
_SVP_INTLIM_AGL                           IMPT 00000000   6377 
_SVP_INTLIM_POS                           IMPT 00000000   6378 
_SVP_INTLIM_SNO                           IMPT 00000000   6376 
_SVP_WTTIM_MAX                            IMPT 00000000   6379 17886 
_SVX_DNM_MAXSPM                           IMPT 00000000   4262 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3548 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3549 
_SV_CHG_FLG1                              IMPT 00000000   3335 
_SV_CHG_FLG2                              IMPT 00000000   3336 
_SV_CONST_SUB_PV                          IMPT 00000000   3963 
_SV_DAT_ERR1                              IMPT 00000000   3337 
_SV_OBJ360                                IMPT 00000000   3520 
_SV_POS_CTL_STEP                          IMPT 00000000   2836 19924 20543 
_SV_REAL_PLS                              IMPT 00000000   3964 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   307

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SV_REAL_SUB_PV                           IMPT 00000000   3965 
_SV_UP_HOLD_CHK                  P             00001804   8812 11662*16658 
_SW_DEV_MASK_FLG                          IMPT 00000000   2644 12649 15593 
_SYS_100STEP_DNM_SEL                      IMPT 00000000   5309 
_SYS_100STEP_USE                          IMPT 00000000   5308 
_SYS_BSAME_TIM                            EQU  000001F4   2017* 8528  9611 16506 
_SYS_SETUP_TIM                            EQU  000007D0   2018* 9717 
_SYS_STEP_MAX                             IMPT 00000000   5306 
_SYS_STOPPING_TIM                         EQU  00000032   2019*
_TABLE_ERR_FLG                            IMPT 00000000   2501 
_TBL_ANS_ACCTIM                           IMPT 00000000   4258 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4260 
_TBL_ANS_MAXSPM                           IMPT 00000000   4259 
_TBL_USE_POS0                             IMPT 00000000   4257 
_TECH2_KJYU_DIG                           IMPT 00000000   4525 
_TECH2_KJYU_LNG                           IMPT 00000000   4523 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4516 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4517 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4518 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4519 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4520 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4521 
_TECH2_KJYU_PLS                           IMPT 00000000   4524 
_TECH2_KJYU_PLSX                          IMPT 00000000   4522 
_TECH2_KN_FLG                             IMPT 00000000   4526 
_TECH_USED_F                              IMPT 00000000   4563 
_TECH_WK_DIG1                             IMPT 00000000   4556 
_TECH_WK_DIG2                             IMPT 00000000   4557 
_TECH_WK_DIG3                             IMPT 00000000   4558 
_TECH_WK_DIG4                             IMPT 00000000   4559 
_TECH_WK_PLS1                             IMPT 00000000   4555 
_TEPA_PLSCNT_CHK                          IMPT 00000000   6262  7600 
_TEPA_PLSCNT_CLR                          IMPT 00000000   6261  6823  7855  9607 
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4419 
_TEPA_START_CHK                           IMPT 00000000   6260  9763 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3821 
_TEP_CHG_SPD1                             IMPT 00000000   3825 
_TEP_CHG_SPD2                             IMPT 00000000   3826 
_TEP_CNTSMP_TIM                           IMPT 00000000   4792 
_TEP_DND_SPD_PLS                          IMPT 00000000   4791 
_TEP_FLG_CLR                              IMPT 00000000   6259  6827  8275 
_TEP_INPLS_FLG                            IMPT 00000000   3816 
_TEP_IN_ADD                               IMPT 00000000   3810 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3823 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3822 
_TEP_MODE_DRV                             IMPT 00000000   3812 11031 15114 
_TEP_POS_ADD_CNT                          IMPT 00000000   3808 
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4793 
_TEP_STEP_FLG                             IMPT 00000000   3813 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3820 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3819 
_TEP_STEP_WTTM                            IMPT 00000000   3814 
_TIM_1MSEC                                EQU  0000000A   2003* 2017  2018  2019  2024 
_TIM_CNT010MS_DT                          EQU  0000000A   2342*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   308

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TIM_CNT100MS_DT                          EQU  00000064   2343*
_TIM_SEC                                  EQU  00002710   2002*
_TMP_SCI_DEBUG                            IMPT 00000000   5374 
_TRD_CLR_CMD                              IMPT 00000000   5588  6812 
_TRD_DP_MOV_CNT                           IMPT 00000000   5594 
_TRD_DP_MOV_FLG                           IMPT 00000000   5593 
_TRD_EVENT_COD                            IMPT 00000000   5583 
_TRD_EVENT_LATCH                          IMPT 00000000   5585 
_TRD_LATE_PV                              IMPT 00000000   5590 
_TRD_LATE_SV                              IMPT 00000000   5589 
_TRD_POINT_END                            IMPT 00000000   5587 
_TRD_POINT_EVENT                          IMPT 00000000   5586 
_TRD_SMP_DAT1                             IMPT 00000000   5574 
_TRD_SMP_DAT2                             IMPT 00000000   5575 
_TRD_SMP_DAT3                             IMPT 00000000   5576 
_TRD_SMP_DAT4                             IMPT 00000000   5577 
_TRD_SMP_DAT5                             IMPT 00000000   5578 
_TRD_SMP_DAT6                             IMPT 00000000   5579 
_TRD_SMP_DAT7                             IMPT 00000000   5580 
_TRD_SMP_DAT8                             IMPT 00000000   5581 
_TRD_SMP_FLG                              IMPT 00000000   5591 
_TRD_SMP_POINT                            IMPT 00000000   5582 
_UP360_CHK_LIST                           IMPT 00000000   4058 
_UP360_JGDIG                              EQU  00000028   2049*
_UPDN_DIRJG_DIG                           EQU  00000708   2011*18752 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5268 
_UPLIMIT_START_F                          IMPT 00000000   4724 
_UPLIMIT_SV_SPD                           IMPT 00000000   4723 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4684 12570 12829 15658 
_UPMSK2_DRVSEL                            IMPT 00000000   4686 12411 
_UPMSK2_MATH                              IMPT 00000000   4685 12558 
_UPMSK2_MOD                               IMPT 00000000   4682  8289 12564 12795 12823 15635 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4683 15603 15629 15656 15690 15755 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4687 15692 
_UP_AREA_DATCHK                           IMPT 00000000   6228 
_UP_HOLD_AREA_MASK               P             00001AFC   9156 12366*
_UP_HOLD_DIG                              IMPT 00000000   2641 10817 12178 13170 
_UP_HOLD_FLG                              IMPT 00000000   2642  9166 10522 12033 12052 12091 12230 12370 12428 12456 12474 
_UP_HOLD_FLG_CLR1                P             00001B44   8816  9344 11318 12133 12452*16662 
_UP_HOLD_FLG_CLR2                P             00001B58   8820 11322 12470*16666 
_UP_HOLD_MASK_SPDCHK             P             00001AA0  12082 12275*
_UP_HOLD_MISS                    P             00001A04  10550 12128*
_UP_HOLD_SIG_MAK                 P             00001A20  12058 12160*
_UP_HOLD_STEP                             IMPT 00000000   2638 10809 11745 11768 12166 13157 
_UP_HOLD_STEP1                            IMPT 00000000   2639 11699 11747 11770 
_UP_HOLD_STEP2                            IMPT 00000000   2640 11701 11749 11772 
_UP_LOT_SIG_MAK                  P             00001D88  12961 13151*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3496 14410 
_VALV_ON_FLG                              IMPT 00000000   4070 
_VFRY_IN_CHK                     P             00003B88  19206 19769*
_VIB_DLY_TIM                              IMPT 00000000   4212 
_VIB_GET_SET_TIM                          IMPT 00000000   4209 
_VIB_PV_UP_TIM                            IMPT 00000000   4211 
_VIB_STEP_COM                             IMPT 00000000   4208 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   309

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VIB_STEP_FLG                             IMPT 00000000   4207 
_VIB_USE_SET_TIM                          IMPT 00000000   4210 
_VON1_OF                                  IMPT 00000000   6059 
_VON1_ON                                  IMPT 00000000   6058 
_VON2_OF                                  IMPT 00000000   6061 
_VON2_ON                                  IMPT 00000000   6060 
_VON3_OF                                  IMPT 00000000   6063 
_VON3_ON                                  IMPT 00000000   6062 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2367* 7354  7398  8511  9091  9618 11668 13370 13457 13525 15703 15735 
                                                         17461 18311 19871 20239 20500 
_W1DIC                                    EQU  00000020   2369* 6983  9311  9442  9752 12885 
_W1DUP                                    EQU  00000040   2370* 6909  6977  9228  9311  9442 12885 14747 14876 14924 
_W1END                                    EQU  00000080   2371*
_W1INC                                    EQU  00000002   2365* 7416  9128  9311  9442 11668 18813 19871 20239 20500 
_W1LNC                                    EQU  00000400   2375*
_W1LNO                                    EQU  00000800   2376*
_W1OFF                                    EQU  00000001   2364* 6945  7274  7277  7294  7365  7838 
_W1OPT                                    EQU  00000010   2368* 6922  7281  9208 11668 12761 15703 15741 16352 17272 17461 19871 
                                                         20239 20500 
_W1REV                                    EQU  00004000   2383*
_W1RNC                                    EQU  00000100   2372*
_W1RNO                                    EQU  00000200   2373*
_W1RST                                    EQU  00008000   2384* 6588  6739 16260 20432 
_W1SGL                                    EQU  00000004   2366* 6913  7377  7387  9145 11668 16346 17461 19871 20239 20500 
_W1SNC                                    EQU  00001000   2381*
_W1SNO                                    EQU  00002000   2382*
_W2LS1                                    EQU  00000004   2386*
_W2LS2                                    EQU  00000008   2387*
_W2SUP                                    EQU  00000080   2391* 8518  9702  9802 
_W2WT1                                    EQU  00000010   2388*
_W2WT2                                    EQU  00000020   2389*15601 
_W2WT3                                    EQU  00000040   2390*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5122 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4853 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4851 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4852 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3527  7328 
_WKSQCB200                                EQU  00000000   2115*
_WKSQCB201                                EQU  00000002   2116*
_WKSQCB202                                EQU  00000004   2117*
_WKSQCB203                                EQU  00000006   2118*
_WKSQCB204                                EQU  00000008   2119*
_WKSQCB205                                EQU  0000000A   2120*
_WKSQCB206                                EQU  0000000C   2121* 8421  8805  9677  9693 11416 11424 11438 13303 15057 15078 16652 
_WKSQCB207                                EQU  0000000E   2122*15399 15462 16705 
_WKSQCB208                                EQU  00000010   2123*
_WKSQCB209                                EQU  00000012   2124*
_WKSQCB210                                EQU  00000014   2125*14299 
_WKSQCB211                                EQU  00000016   2126*
_WKSQCB212                                EQU  00000018   2127*
_WKSQCB213                                EQU  0000001A   2128*
_WKSQCB214                                EQU  0000001C   2129*
_WKSQCB215                                EQU  0000001E   2130*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   310

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB216                                EQU  00000020   2131*15762 17229 
_WKSQCB217                                EQU  00000022   2132*
_WKSQCB218                                EQU  00000024   2133*
_WKSQCB219                                EQU  00000026   2134*
_WKSQCB220                                EQU  00000028   2135*
_WKSQCB221                                EQU  0000002A   2136*
_WKSQCB222                                EQU  0000002C   2137*
_WKSQCB223                                EQU  0000002E   2138*
_WKSQCB224                                EQU  00000030   2139*18012 
_WKSQCB225                                EQU  00000032   2140*
_WKSQCB226                                EQU  00000034   2141*
_WKSQCB227                                EQU  00000036   2142*17079 
_WKSQCB228                                EQU  00000038   2143*
_WKSQCB229                                EQU  0000003A   2144*16184 16245 16265 
_WKSQCB230                                EQU  0000003C   2145*
_WKSQCB231                                EQU  0000003E   2146*
_WKSQCB232                                EQU  00000040   2147*
_WKSQCB233                                EQU  00000042   2148*
_WKSQCB234                                EQU  00000044   2149*
_WKSQCB235                                EQU  00000046   2150*
_WKSQCB236                                EQU  00000048   2151*
_WKSQCB237                                EQU  0000004A   2152*
_WKSQCB238                                EQU  0000004C   2153*
_WKSQCB239                                EQU  0000004E   2154*19719 19823 
_WKSQCB240                                EQU  00000050   2155*
_WKSQCB241                                EQU  00000052   2156*
_WKSQCB242                                EQU  00000054   2157*
_WKSQCB243                                EQU  00000056   2158*
_WKSQCB244                                EQU  00000058   2159*
_WKSQCB245                                EQU  0000005A   2160*
_WKSQCB246                                EQU  0000005C   2161*
_WKSQCB247                                EQU  0000005E   2162*
_WKSQCB248                                EQU  00000060   2163*
_WKSQCB249                                EQU  00000062   2164*
_WKSQCB250                                EQU  00000064   2165*
_WKSQCB251                                EQU  00000066   2166*17519 17731 17900 17906 17974 17981 18051 18080 18113 18410 
_WKSQCB252                                EQU  00000068   2167*
_WKSQCB253                                EQU  0000006A   2168*
_WKSQCB254                                EQU  0000006C   2169*
_WKSQCB255                                EQU  0000006E   2170*
_WKSQCB256                                EQU  00000070   2171*
_WKSQCB257                                EQU  00000072   2172*
_WKSQCB258                                EQU  00000074   2173*
_WKSQCB259                                EQU  00000076   2174*19898 20022 20069 20096 20519 20613 20652 20702 
_WKSQCB260                                EQU  00000078   2175*
_WKSQCB261                                EQU  0000007A   2176*
_WKSQCB262                                EQU  0000007C   2177*
_WKSQCB263                                EQU  0000007E   2178*
_WKSQCB264                                EQU  00000080   2179*
_WKSQCB265                                EQU  00000082   2180*
_WKSQCB266                                EQU  00000084   2181*
_WKSQCB267                                EQU  00000086   2182*
_WKSQCB268                                EQU  00000088   2183*
_WKSQCB269                                EQU  0000008A   2184*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   311

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3539 
_WK_OBJECT_TIM_TOP                        IMPT 00000000   3233 
_WK_PVP_MOT_STS                           IMPT 00000000   5335 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3317 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3316 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3302 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3309 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3310 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3301 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3307 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3308 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3314 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3313 
_WOANT                                    EQU  00000010   2353* 7828 
_WOATO                                    EQU  00000040   2355*10032 17128 
_WOFCY                                    EQU  00000080   2356*
_WOQST                                    EQU  00000001   2349*
_WORCY                                    EQU  00000100   2357*
_WORDY                                    EQU  00000020   2354* 8388 16481 
_WORST                                    EQU  00000200   2358*
_WOVN1                                    EQU  00000002   2350*
_WOVN2                                    EQU  00000004   2351*
_WOVN3                                    EQU  00000008   2352*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4605 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4413 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4414 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4163 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4165 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4164 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4130 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4131 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4128 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4129 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4134 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4135 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4132 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4133 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4706 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4705 
_WPAR_360STP_HAB                          IMPT 00000000   4055 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3981 
_WPAR_ACC_MATHED                          IMPT 00000000   4225 
_WPAR_ANAIN_SEL                           IMPT 00000000   3979 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4652 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3410 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3409 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3411 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4153 16813 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4152 16800 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4412 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3408 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4306 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4307 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3352 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   312

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3353 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3350 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3351 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4317 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3357 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3358 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3355 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3356 
_WPAR_COP_SDG1                            IMPT 00000000   3362 
_WPAR_COP_SDG2                            IMPT 00000000   3363 
_WPAR_COP_ZDG1                            IMPT 00000000   3360 
_WPAR_COP_ZDG2                            IMPT 00000000   3361 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4054 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4371 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2969 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2966 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2967 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2970 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2965 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2968 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3414 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3413 
_WPAR_INCOVER_LNG                         IMPT 00000000   3379 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3380 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3381 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3382 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3386 13313 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3384 13311 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3385 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4200 
_WPAR_LSA_FILTIM                          IMPT 00000000   3748 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4053 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4336 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3833 14805 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4396 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3882 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3388 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4154 12774 
_WPAR_SLDALM_LNG                          IMPT 00000000   4378 
_WPAR_SLDALM_TIM                          IMPT 00000000   4379 
_WPAR_STOPING_TIM                         IMPT 00000000   4223 14369 14550 14577 
_WPAR_ZERO_SPD                            IMPT 00000000   3407 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4203 
_WPV_ABS_AD_DATA                          IMPT 00000000   3987 
_WPV_AD_DATA                              IMPT 00000000   3986 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5571 
_WPV_CB_STS_POINT                         IMPT 00000000   5596 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5572 
_WPV_CB_TRD_POINT                         IMPT 00000000   5597 
_WPV_POWER_MONI                           IMPT 00000000   3988 
_WPV_POWER_ON_CNT                         IMPT 00000000   5598 
_WPV_SCAN_MAX01                           IMPT 00000000   4811 
_WPV_SCAN_MAX10                           IMPT 00000000   4810 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4807 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   313

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPV_SCAN_TIM_REAL                        IMPT 00000000   4806 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2226*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2227*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2228*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2229*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4120 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4122 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4121 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2713 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2715 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2714 
_WXPV_ERR_DISP                            IMPT 00000000   3658 
_W_PARAM_TOP                              IMPT 00000000   4571  8333 11912 12075 12327 15588 15685 16432 17052 17370 18304 18656 
                                                         18806 18984 19132 19146 19154 19265 19271 19430 19445 19453 19534 19632 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5371 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5366 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5359 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5364 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5363 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5372 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5360 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5362 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5370 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5361 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5367 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   6221 
_ZERO_INCENC                              EQU  00000000   2058*
_ZERO_INCHEN                              EQU  00000000   2057*
_ZERO_INCREV                              EQU  00000000   2062*
_ZERO_INCRNA                              EQU  00000001   2059*
_ZERO_INCSTP                              EQU  00000000   2060*
_ZERO_RNAREV                              EQU  00000001   2063*
_ZERO_RNASTP                              EQU  00000001   2061*
_cbsys_tbl_err                            IMPT 00000000   4245 
_di1_cb_ctl1                              IMPT 00000000   2506 
_di1_cb_ctl1_dt                           IMPT 00000000   2514  6585  6737  6918  7267 12759 15739 16258 16350 17270 20430 
_di1_cb_ctl1_of                           IMPT 00000000   2516 
_di1_cb_ctl1_on                           IMPT 00000000   2515 
_di2_cb_ctl2                              IMPT 00000000   2507 
_di2_cb_ctl2_dt                           IMPT 00000000   2518  8516  9800 15599 
_di2_cb_ctl2_of                           IMPT 00000000   2520 
_di2_cb_ctl2_on                           IMPT 00000000   2519  9700 
_di3_cb_inp1                              IMPT 00000000   2508  6963 
_di3_cb_inp1_dt                           IMPT 00000000   2512 
_di4_cb_inp2                              IMPT 00000000   2509 
_dq1_cb_out1                              IMPT 00000000   2510  7826  8386 10030 16479 17126 
_emg_err_flg                              IMPT 00000000   2590  6501  6675  7054  7552 11639 16310 19749 
_emg_lev_flg                              IMPT 00000000   2589  6436  6453 
_exq_err_flg                              IMPT 00000000   2593  6503  7558 11641 16312 19751 
_exq_lev_flg                              IMPT 00000000   2591  6473 
_pass_err_flg1                            IMPT 00000000   2587  6853 
_pass_err_flg2                            IMPT 00000000   2588 
_reset_dly_tim                            IMPT 00000000   2611  6751  6778 
_reset_flg                                IMPT 00000000   2610  6435  6511  6647  6746  6793  7537 11568 20441 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:04:11                                                  PAGE   314

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000003FFE        
