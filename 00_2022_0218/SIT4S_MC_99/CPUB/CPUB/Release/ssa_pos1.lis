*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     位置決め                                ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6228                              40     
 6229 00000000                     41             .SECTION        P,CODE                  ;
 6230                              42     
 6231                              43     
 6232          00000014            44     _SGL_CMPERR_CNTMAX      .EQU    20      ;2;(600回確認済み) 2005-04-14(4/18)
 6233          000007D0            45     _PLS_ERR_HABPLS1        .EQU    2000    ;2000pls
 6234                              46     
 6235                              47     
 6236          00001770            48     _SYNC_ERR_HABPLS1       .EQU    6000    ;2000pls(連続の異常範囲)
 6237          000007D0            49     _SYNC_ERR_HOSHAB        .EQU    2000    ;500pls(この範囲にある時補正はしない) 1msec=MAX500
                                          pls
 6238          00000064            50     _SYNC_ERR_HOSHAB_M      .EQU    100     ;100pls(この範囲にある時補正はしない)
 6239                              51     
 6240          00000064            52     _SYNC_GEN_HOS_ERR       .EQU    100     ;<==1000
 6241          00000001            53     _SYNC_GEN_HOS_HAB       .EQU    1       ;<==10
 6242          00000001            54     _SYNC_GEN_HOS_ADD       .EQU    1       ;
 6243                              55     
 6244          00000003            56     _LSI_RETRY_ERR_MAX      .EQU    3       ;
 6245          0000000A            57     _LSI_CMP_ERR_MAX        .EQU    10      ;
 6246                              58     
 6247                              59     
 6248          0000000F            60     _LSI_G_HOS_SPD          .EQU    15      ;500K=65535 250K=32767 1%=327 0.1%=32 (15代わった
                                          ら)
 6249          00080000            61     _DBG_XOR_SIG            .EQU    BIT3*H'10000    ;
 6250                              62     
 6251                              63     ;;2015-07-07 移動 _OVRLIDE_LATE_MAX     .EQU    100             ;1~100% 2006-09-19
 6252          00E4E1C0            64     _GENSOK_LNGTH_MAX       .EQU    30*500000       ;30秒×500,000HZ=E4,E1C0 2006-09-19
 6253          000003E8            65     _ACC_UNIT               .EQU    1000            ;1msec
 6254                              66     
 6255                              67     _CMP_ERR_SPEC_ENB       .DEFINE "0"     ;//noなら新ｱｸｾｽ部のLSI異常を見ない
 6256                              68     _OBJ_PLS_CTL_TYP        .DEFINE "1"     ;//
 6257                              69     
 6258                              70     
 6259                              71     ;       ***********************************
 6260                              72     ;       ***     2010-10-05              ***
 6261                              73     ;       ***********************************
 6262                              74     _X_SET_PV_ABS_TO_OBJ                    .DEFINE "_dum_SET_PV_ABS_TO_OBJ"        ;
 6263                              75     _X_LINK_PV_ABSPLS                       .DEFINE "_LINK_RL_OBJ_ABSPLS"           ;
 6264                              76     
 6265                              77             .IMPORT _PV_POWER_ON_CNT                        ;
 6266                              78             .IMPORT _CPU_CTRL_CLK                           ;
 6267                              79     
 6268                              80             .IMPORT _SVP_MACINE_SEL1
 6269                              81             .IMPORT _CHK_DNM_SPEC_MOD1
 6270                              82     
 6271                              83     
 6272                              84     ;       //      ***********************************
 6273                              85     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6274                              86     ;       //      ***********************************
 6275                              87     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     2
PROGRAM NAME =

 6276                              88     
 6277                              89             .IMPORT         _CPOS_INI1_DTMOV1;ssa_dtmk.src
 6278                              90             .IMPORT         _CPOS_INI1_DTMOV2;ssa_dtmk.src
 6279                              91             .IMPORT         _CPOS_ROT_NUM_SET;ssa_dtmk.src
 6280                              92             .IMPORT         _CPOS_ABS_POS_SET;ssa_dtmk.src
 6281                              93             .IMPORT         _CPOS_SPD_DTMOV
 6282                              94             .IMPORT         _CPOS_TIM_DTMOV
 6283                              95     
 6284                              96             .IMPORT         _HLDCAM_ABS_POS_SET             ;ssa_dtmk.src 2014-08-30
 6285                              97             .IMPORT         _HLDCAM_BANK2_ABS_POS_SET       ;ssa_dtmk.src 2014-08-30
 6286                              98     
 6287                              99     
 6288                             100             .IMPORT         _DIG_LNGTH_CALC1;ssa_sca1.src
 6289                             101     ;;;;    .IMPORT         _POS_INC_TO_OUT_CHG_MOD 使用されない
 6290                             102     ;;;;    .IMPORT         _POS_OUT_TO_INC_CHG　使用されない
 6291                             103     
 6292                             104             .IMPORT         _ORGIN_MODE_INI         ;ssa_else.src
 6293                             105             .IMPORT         _ORGIN_MODE_SMP         ;
 6294                             106             .IMPORT         _ORGIN_MODE_END         ;
 6295                             107     ;;;;;   .IMPORT         _ORGIN2_MODE_END        ;
 6296                             108     
 6297                             109             .IMPORT         _LOT_SIG_SET            ;
 6298                             110     
 6299                             111             .IMPORT         _CYCLE_TIME_REFLASH_START
 6300                             112             .IMPORT         _CYCLE_TIME_REFLASH_END
 6301                             113             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6302                             114     
 6303                             115             .IMPORT         _NOW_INC_DIG_MAK        ;DTMK
 6304                             116     
 6305                             117             .IMPORT _DAT_MOSTPOS_SIG_CLR
 6306                             118             .IMPORT _DAI_MOSTPOS_SMPINI
 6307                             119             .IMPORT _DAI_MOSTPOS_SMPLE
 6308                             120             .IMPORT _DAI_MOSTPOS_CMPARE
 6309                             121     
 6310                             122             .IMPORT _DAI_FULL_SCALE_SMP_INI ;
 6311                             123             .IMPORT _DAI_FULL_SCALE_SMPLE   ;
 6312                             124             .IMPORT _DAI_FULL_SCALE_SMP_END ;
 6313                             125     
 6314                             126             .IMPORT _ORG_END_SIG_CLR;
 6315                             127     
 6316                             128             .IMPORT _CMPAB_NEAR_END_PROC    ;
 6317                             129             .IMPORT _CMPAB_STEP_END_PROC    ;
 6318                             130     
 6319                             131             .IMPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
 6320                             132             .IMPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
 6321                             133             .IMPORT _CMPSTP_POS_START_CLR;//起動したい
 6322                             134             .IMPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6323                             135             .IMPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
 6324                             136             .IMPORT _CMPSTP_CNT_STOP_CLR;//連続停止
 6325                             137             .IMPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
 6326                             138             .IMPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6327                             139             .IMPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6328                             140     
 6329                             141             .IMPORT _CMPEMG_EXQ_FLG_CLR;
 6330                             142             .IMPORT _POS_CMP_1STEP_START_INI
 6331                             143     
 6332                             144             .IMPORT _STOP_LTH_OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     3
PROGRAM NAME =

 6333                             145             .IMPORT _LOT_SIG_FLG_CLR                        ;通常の連続
 6334                             146             .IMPORT _STOPPING_TIM_STOP_INI
 6335                             147     
 6336                             148             .IMPORT _POS_OVER_RUN_CHK1      ;[S01m 2003-04-03]
 6337                             149     
 6338                             150             .IMPORT         _BRK_ERR_WORK_CLR1              ;ERR1.SRC
 6339                             151     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6340                             152     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6341                             153     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6342                             154             .IMPORT         _BRK_ERR_CHK_START4             ;
 6343                             155     
 6344                             156             .IMPORT         _SET_NZ_TIM_DAT
 6345                             157             .IMPORT         _NZ_TIM_CHK1
 6346                             158     
 6347                             159     ;       ======= 2004-12-20 ==
 6348                             160             .IMPORT         _BANK2_CPOS_ABS_POS_SET ;2004-12-20 ssa_dtmk
 6349                             161             .IMPORT         _BANK2_TO_BANK1_MOV     ;
 6350                             162     
 6351                             163     ;       ======= 2006-07-28 ==
 6352                             164             .IMPORT _DND_POS_START_DAT_INI
 6353                             165     
 6354                             166             .AIF    1 EQ    0
 6355                             167     
 6356                             168             .IMPORT _VIB_PLS_OUT_ON         ;2010-08-23加振動制御 ssa_kjyu.inc
 6357                             169             .IMPORT _VIB_PLS_OUT_OF         ;2010-08-23加振動制御 ssa_kjyu.inc
 6358                             170     
 6359                             171             .IMPORT _API_IVW_CYC_START                      ;2010-09-21
 6360                             172             .IMPORT _API_IVW_CYC_END                        ;2010-09-21
 6361                             173     
 6362                             174     ;;;;;2012-10-19 .IMPORT _OVERH_CYC_START                        ;2012-09-25
 6363                             175             .IMPORT _OVERH_CYC_END                          ;2012-09-25
 6364                             176     
 6365                             177             .AENDI
 6366                             178     
 6367                             179             .IMPORT _API_BREAK_VALV_FLG_ON
 6368                             180             .IMPORT _API_BREAK_VALV_FLG_OF
 6369                             181     
 6370                             182     ;       //      ***********************************
 6371                             183     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6372                             184     ;       //      ***********************************
 6373                             185             .IMPORT         _LONG_BIT_TBL0
 6374                             186             .IMPORT         _SQ_CBWK_TOP
 6375                             187     ;       ====================================
 6376                             188             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6377                             189             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6378                             190             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6379                             191             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6380                             192             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6381                             193             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6382                             194             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6383                             195             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6384                             196             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6385                             197             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6386                             198             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6387                             199             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6388                             200             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6389                             201             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     4
PROGRAM NAME =

 6390                             202     
 6391                             203     ;       ==== 2003-07-09 ===
 6392                             204             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更
 6393                             205             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6394                             206     
 6395                             207             .GLOBAL         _PAR_INSERT_SMPTM       ;2012-09-25
 6396                             208             .GLOBAL         _CB_SYS_PARAM000        ;2012-09-25
 6397                             209             .GLOBAL         _PAR_INCSPD_UPLMT       ;
 6398                             210             .GLOBAL         _PAR_STOPTIM_SEL        ;
 6399                             211     
 6400                             212     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT1         ;
 6401                             213     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT1         ;
 6402                             214     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT2         ;
 6403                             215     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT2         ;
 6404                             216     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT3         ;
 6405                             217     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT3         ;
 6406                             218     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT4         ;
 6407                             219     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT4         ;
 6408                             220     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT5         ;
 6409                             221     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT5         ;
 6410                             222     
 6411                             223             .IMPORT         _PVP_CB_A_VER           ;
 6412                             224             .IMPORT         _SH4_GPOINT_LNG         ;
 6413                             225             .IMPORT         _SH2_GPOINT_LNG         ;
 6414                             226     
 6415                             227             .IMPORT         _KJPHOS_SMPINI          ;2004-07-05
 6416                             228             .IMPORT         _KJPHOS_SMPLING_END1    ;2004-07-05
 6417                             229     
 6418                             230             .IMPORT         _ORIGIN_POS_CHK_INI2    ;2011-03-23 待機点移動完了
 6419                             231     
 6420                             232             .IMPORT         _UP_ACCERR_START_INI    ;2011-08-29
 6421                             233     
 6422                             234             .IMPORT         _PVPAB_KAJLIV_TTL               ;//荷重生（TON）(1word)
 6423                             235     
 6424                             236     
 6425                             237             .IMPORT         _POS_HOLD_FLG_STR2CLR           ;2014-09-12
 6426                             238     
 6427                             239     ;       //      ***********************************
 6428                             240     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6429                             241     ;       //      ***********************************
 6430                             242             .EXPORT         _INT_POS_CTRL           ;-->ssa_k.src
 6431                             243             .EXPORT         _INT_POS_DATA_REF       ;-->ssa_k.src
 6432                             244     
 6433                             245             .EXPORT         _EMG_POS_FLG_PROC
 6434                             246             .EXPORT         _EXQ_POS_FLG_PROC
 6435                             247     
 6436                             248             .EXPORT         _MN_POS_CTRL_START              ;===>ssa_ctrl
 6437                             249             .EXPORT         _MN_POS_CTRL_ACT                ;===>ssa_ctrl
 6438                             250     
 6439                             251             .EXPORT         _FWD_REV_STSIG_OFF      ;SSA_CTRL1 2004-01-26
 6440                             252             .EXPORT         _POS_LSI_SLOW_STOP      ;SSA_CTRL1 2004-01-26
 6441                             253     
 6442                             254             .EXPORT _POS_LSI_START_INITAL           ;SPEED,LATE
 6443                             255             .EXPORT _POS_LSI_TOP_SPEED_SET  ;SPEED
 6444                             256             .EXPORT _LENGH_ADD_CALC         ;
 6445                             257             .EXPORT _LENGH_ADD_CALC_SV_TYPE ;
 6446                             258     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     5
PROGRAM NAME =

 6447                             259             .EXPORT _POS_LENGTH_ADD_DATA    ;
 6448                             260             .EXPORT _POS_PLS_OUTPUT_DATA    ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 6449                             261             .EXPORT _FWD_REV_START          ;起動
 6450                             262             .EXPORT _LOD_POS_STS_REG        ;
 6451                             263             .EXPORT _LOD_POS_STS_REG_POR    ;
 6452                             264             .EXPORT _FWD_REV_STSIG_OFF_SPEC ;
 6453                             265     
 6454                             266             .EXPORT _SET_PV_ABS_TO_OBJ      ;20060919
 6455                             267             .EXPORT _CHG_LSI_LATE_TO_PLS    ;20060919
 6456                             268             .EXPORT _OVERLID_DEF_SET        ;20060919
 6457                             269     
 6458                             270             .IMPORT _DIG01_CHG_DN_DATA_MAKE ;[20091007下振子]
 6459                             271     
 6460                             272             .IMPORT         _DIG36000_CHG_RENEA1            ;360.00度-->0.001mm
 6461                             273             .IMPORT _SVP_UPAREA_SPD0        ;0.1%　戻り速度
 6462                             274     
 6463                             275     ;       ------
 6464                             276             .IMPORT _CYCLE_SPD1             ;
 6465                             277     
 6466                             278             .IMPORT _INC_RST_WORK_CLR       ;
 6467                             279     
 6468                             280     ;;;     _BRK_SADOU_CHG EQ 1
 6469                             281     ;       ------ 2015-09-06(H2W 2015-03-15,H1F 2015-07-14)-------
 6470                             282     ;       -------- 2015-07-14------
 6471                             283             .IMPORT _PAR_MYUBRK_TIM1        ;[H1F=未作or無][H2W=2015-03-16 行程終了時　ﾐｭｰﾃﾝｸﾞ
                                          切替時間]
 6472                             284             .IMPORT _PAR_MYUBRK_TIM2        ;[H1F=未作or無][H2W=2015-03-16 終了時　ﾐｭｰﾃﾝｸﾞ切替
                                          時間]
 6473                             285             .IMPORT _PAR_MYU_BRK_SEL        ;[H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK
                                          :LOCK]
 6474                             286             .IMPORT _PAR_SELF_WAIT_TM       ;P22ｾﾙﾌﾁｪｯｸまたは位置決めからﾛｯｸ開始遅延時間(停止
                                          確認用)
 6475                             287     
 6476                             288             .AIF    1 EQ    0
 6477                             289             .IMPORT _API_CAM_DRV_DNM_DIR_SET        ;2016-11-16
 6478                             290             .AENDI
 6479                             291     
 6480                             292     
 6481                             293     
 6482                             294     ;       ***************************************************
 6483                             295     ;       ***                                             ***
 6484                             296     ;       ***                                             ***
 6485                             297     ;       ***                                             ***
 6486                             298     ;       ***             位置決めＬＳＩアクセス          ***
 6487                             299     ;       ***                                             ***
 6488                             300     ;       ***                                             ***
 6489                             301     ;       ***                                             ***
 6490                             302     ;       ***************************************************
 6491                             303     ;       ?加減速時間の演算と指令周波数の演算
 6492                             304     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
 6493                             305     ;       "_poslsi1_top"
 6494                             306     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
 6495                             307     ;       *速度周波数の演算
 6496                             308     ;       *ベース周波数=1?
 6497                             309     ;       *加速時間
 6498                             310     ;       *急停止の時間
 6499                             311     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     6
PROGRAM NAME =

 6500                             312     ;       ***                             ***
 6501                             313     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
 6502                             314     ;       ***                             ***
 6503                             315     ;       ***********************************
 6504                             316     ;       25MHZ*1/N*1/LATE=65535
 6505                             317             .IMPORT _poslsi1_top
 6506                             318     ;;;;_PLS_OUTPUT_MAX             .EQU    H'7FFF  ;
 6507          00FFFFFF           319     _PLS_OUTPUT_MAX         .EQU    H'00FFFFFF;128倍までは余裕あり
 6508          00000000           320     _PLSI_CH1               .equ    0
 6509          00000030           321     _PLSI_CH2               .equ    h'30
 6510                             322     
 6511          00000000           323     _PLS_BitComdL           .equ    h'0     ;R/W
 6512                             324     ;;_PLS_BitComdH         .equ    h'2     ;R/W
 6513          00000004           325     _PLS_BitInfoL           .equ    h'4     ;R
 6514                             326     ;;_PLS_BitInfoH         .equ    h'6     ;R
 6515          00000008           327     _PLS_TopFreqL           .EQU    H'8     ;R/W ﾄｯﾌﾟ周波数
 6516                             328     ;;_PLS_TopFreqH         .EQU    H'A     ;R/W
 6517          0000000C           329     _PLS_BasFreqL           .EQU    H'C     ;R/W ﾍﾞｰｽ周波数
 6518                             330     ;;_PLS_BasFreqH         .EQU    H'E     ;R/W
 6519          00000010           331     _PLS_NowFreqL           .EQU    H'10    ;R/W 現在周波数
 6520                             332     ;;_PLS_NowFreqH         .EQU    H'12    ;R/W
 6521          00000014           333     _PLS_OutPposL           .EQU    H'14    ;R/W 指令ﾊﾟﾙｽ数(これに払い出したいﾃﾞｰﾀを入れる:残
                                          量ｶｳﾝﾀでもある)
 6522                             334     ;;_PLS_OutPposH         .EQU    H'16    ;R/W
 6523          00000018           335     _PLS_GNpointL           .EQU    H'18    ;R/W 減速点
 6524                             336     ;;_PLS_GNpointH         .EQU    H'1A    ;R/W
 6525          0000001C           337     _PLS_AccLate1           .EQU    H'1C    ;R/W 通常運転加減速(減速指令時)
 6526          0000001E           338     _PLS_AccLate2           .EQU    H'1E    ;R/W 急停止加減速(急停止指令時)
 6527          00000020           339     _PLS_SpedLate           .EQU    H'20    ;R/W 周波数のLATE
 6528          00000022           340     _PLS_OutcntPS           .EQU    H'22    ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(1回の起動での払出ﾊﾟﾙｽ数up-cnt)
 6529          00000024           341     _PLS_NowPos1L           .equ    h'24
 6530                             342     ;;_PLS_NowPos1H         .equ    h'26
 6531          00000028           343     _PLS_NowPos2            .equ    h'28
 6532          0000002A           344     _PLS_CtrlReg            .equ    h'2A
 6533                             345     
 6534                             346     
 6535          00000000           347     _PLSI_CH_COM            .EQU    0
 6536          0000007E           348     _PLS_LTCHReg            .EQU    H'7E    ;LATCH
 6537                             349     
 6538                             350     ;       *******************************************
 6539                             351     ;       ***                                     ***
 6540                             352     ;       ***     DE LATCH                        ***
 6541                             353     ;       ***     32BIT ﾃﾞｰﾀを読み込む時のラッチ  ***
 6542                             354     ;       ***                                     ***
 6543                             355     ;       *******************************************
 6544                             356             .MACRO  PLS_READ_LATCH          ;ﾚｼﾞｽﾀ破壊せず
 6545                             357             PUSH_REG1 R0                                            ;
 6546                             358             MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
 6547                             359             MOV.W   @R0,R0                                          ;
 6548                             360             POP_REG1 R0                                             ;
 6549                             361             .ENDM
 6550                             362     
 6551                             363     ;       ***************************************************
 6552                             364     ;       ***     *CSを一旦上げてWAITを作成する為         ***
 6553                             365     ;       ***************************************************
 6554                             366             .MACRO  POS_LSI_WORD_DUM_LOD    ;ﾚｼﾞｽﾀ破壊せず
 6555                             367             PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     7
PROGRAM NAME =

 6556                             368             MOV.L   #_PVP_CB_A_VER,R0       ;
 6557                             369             MOV.W   @R0,R0
 6558                             370             POP_REG1 R0
 6559                             371             .ENDM
 6560                             372     
 6561                             373             .MACRO  POSLSI_RD_WR_WAIT_NOP
 6562                             374             NOP
 6563                             375             NOP
 6564                             376             NOP
 6565                             377             NOP
 6566                             378             NOP
 6567                             379             NOP
 6568                             380             NOP
 6569                             381             NOP
 6570                             382             NOP
 6571                             383             NOP
 6572                             384             .ENDM
 6573                             385     
 6574                             386             .MACRO  TIM_CNT_ADD MEM,LG,ADR_REG,DAT_REG,LATE
 6575                             387             MOV.L   #\MEM,\ADR_REG          ;
 6576                             388             MOV.\LG @\ADR_REG,\DAT_REG      ;
 6577                             389             ADD     #\LATE,\DAT_REG         ;
 6578                             390             MOV.\LG \DAT_REG,@\ADR_REG      ;
 6579                             391             .ENDM
 6580                             392     
 6581                             393             .MACRO  eSHi_SET_MEM_MOV SRC,L1,DST,L2
 6582                             394             PUSH_REG1 R0
 6583                             395             PUSH_REG1 R1
 6584                             396             MOV.L   #\SRC,R1        ;
 6585                             397             MOV.\L1 @R1,R0          ;
 6586                             398             MOV.L   #\DST,R1        ;
 6587                             399             MOV.\L2 R0,@R1          ;
 6588                             400             POP_REG1 R1
 6589                             401             POP_REG1 R0
 6590                             402             .ENDM
 6591                             403     
 6592                             404             .MACRO  eSHi_SET_REG_MOV DST,L1,SETREG,WKREG1
 6593                             405             PUSH_REG1 \WKREG1               ;
 6594                             406             MOV.L   #\DST,\WKREG1           ;
 6595                             407             MOV.\L1 \SETREG,@\WKREG1        ;
 6596                             408             POP_REG1 \WKREG1                ;
 6597                             409             .ENDM
 6598                             410     
 6599                             411             .MACRO  eSHi_SET_IM_MOV DST,L1,WKREG1,WKREG2,IMD
 6600                             412             PUSH_REG1 \WKREG1               ;
 6601                             413             PUSH_REG1 \WKREG2               ;
 6602                             414             MOV.W   #\IMD,\WKREG2           ;
 6603                             415             MOV.L   #\DST,\WKREG1           ;
 6604                             416             MOV.\L1 \WKREG2,@\WKREG1        ;
 6605                             417             POP_REG1 \WKREG2                ;
 6606                             418             POP_REG1 \WKREG1                ;
 6607                             419             .ENDM
 6608                             420     
 6609                             421     
 6610                             422     
 6611                             423     ;       *******************************************
 6612                             424     ;       ***     WRITEｱｸｾｽ開始時にON(H)          ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     8
PROGRAM NAME =

 6613                             425     ;       *******************************************
 6614                             426     
 6615                             427             .AIF    1 EQ    0
 6616                             428             .IMPORT _PDTRA
 6617                             429             .AENDI
 6618                             430     
 6619                             431             .MACRO  DEBUG_LSI_ACS_ON2_BIT BITDT
 6620                             432     
 6621                             433             .AIF    1 EQ    0
 6622                             434     ;;      (波形測定時)
 6623                             435             PUSH_REG1 R0
 6624                             436             PUSH_REG1 R1
 6625                             437             PUSH_REG1 R2
 6626                             438             MOV.L   #_PDTRA,R1                      ;
 6627                             439             MOV.W   @R1,R0                          ;
 6628                             440             MOV.W   #\BITDT,R2                      ;
 6629                             441             OR      R2,R0                           ;
 6630                             442             MOV.W   R0,@R1                          ;
 6631                             443     
 6632                             444             POP_REG1 R2
 6633                             445             POP_REG1 R1
 6634                             446             POP_REG1 R0
 6635                             447             .AENDI
 6636                             448     
 6637                             449             .ENDM
 6638                             450     
 6639                             451             .MACRO  DEBUG_LSI_ACS_OF2_BIT BITDT
 6640                             452     
 6641                             453             .AIF    1 EQ    0
 6642                             454     ;;      (波形測定時)
 6643                             455             PUSH_REG1 R0
 6644                             456             PUSH_REG1 R1
 6645                             457             PUSH_REG1 R2
 6646                             458             MOV.L   #_PDTRA,R1                      ;
 6647                             459             MOV.W   @R1,R0                          ;
 6648                             460             MOV.W   #LWORD ~\BITDT,R2               ;
 6649                             461             AND     R2,R0                           ;
 6650                             462             MOV.W   R0,@R1                          ;
 6651                             463             POP_REG1 R2
 6652                             464             POP_REG1 R1
 6653                             465             POP_REG1 R0
 6654                             466             .AENDI
 6655                             467     
 6656                             468             .ENDM
 6657                             469     
 6658                             470     
 6659                             471     
 6660                             472     ;       ***********************************
 6661                             473     ;       ***                             ***
 6662                             474     ;       ***     起動時呼ばれる          ***
 6663                             475     ;       ***                             ***
 6664                             476     ;       ***********************************
 6665                             477     ;
 6666                             478     ;       ・データのラッチ
 6667                             479             .IMPORT _CPUB_HENSA_FLG_CLR             ;2012-02-08
 6668                             480     ;
 6669 00000000                    481             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE     9
PROGRAM NAME =

 6670 00000000                    482     _MN_POS_CTRL_START:             ;ssa_pos1.src
 6671                             483             SUB_START
 6672 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6673                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6674                             484     
 6675                             485     
 6676                             486     ;       ----------2014-11-10------------
 6677 00000002 222A               487             XOR     R2,R2
 6678 00000004 D12C               488             MOV.L   #_CPOS_CTL_MATH,R1                      ;
 6679 00000006 6011               489             MOV.W   @R1,R0                                  ;
 6680 00000008 C804               490             TST     #_DMATH_DNDRIV,R0                       ;往復?
 6681                             491             TST_BIT_OF MN_POSCTL_ST050                      ;違う
 6682 0000000A 8904                   M           BT      MN_POSCTL_ST050
 6683                             492     
 6684 0000000C D12B               493             MOV.L   #_MODE_SEL,R1                           ;
 6685 0000000E 6011               494             MOV.W   @R1,R0                                  ;
 6686 00000010 C81E               495             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0       ;
 6687                             496             TST_BIT_OF MN_POSCTL_ST050                      ;
 6688 00000012 8900                   M           BT      MN_POSCTL_ST050
 6689                             497     
 6690 00000014 E201               498             MOV.B   #BIT0,R2                                ;対象運転開始
 6691                             499     
 6692 00000016                    500     MN_POSCTL_ST050                                         ;
 6693 00000016 D12A               501             MOV.L   #_MOVE_MODE_MATH_LATCH,R1               ;//0:(ふりこ以外 または 段取・原点
                                          モード)1:(ふりこでﾓｰｼｮﾝしていた)
 6694 00000018 2121               502             MOV.W   R2,@R1                                  ;
 6695                             503     ;       --------------------------------------------------
 6696                             504     
 6697                             505     ;       -------- 2013-02-08-------
 6698                             506     ;;;;;   MOV.L   #_CPOS_CTL_MATH,R1              ;
 6699                             507     ;;;;;   MOV.W   @R1,R0                          ;
 6700                             508     ;;;;;   TST     #_DMATH_DNDRIV,R0               ; 往復?
 6701                             509     ;;;;;   TST_BIT_OF MN_POSCTL_ST200              ;
 6702                             510     
 6703                             511             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
 6704 0000001A D02A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6705 0000001C 400B                   M           JSR     @R0                     ;
 6706 0000001E 0009                   M           NOP                                     ;
 6707                             512     
 6708                             513     ;;;;;MN_POSCTL_ST200:                           ;
 6709                             514     
 6710                             515     ;       --------------- 2014-09-12 [HLD後の起動なので再演算しない]-------
 6711                             516     ;;;;収集が付かないのでSET_PV_ABS_TO_OBJの中で抜ける     MOV.L   #_POS_HOLD_RDY_EXITF,R1
                                          ;
 6712                             517     ;;;;収集が付かないので  MOV.W   @R1,R0                          ;
 6713                             518     ;;;;収集が付かないので  TST     #BIT0,R0                        ;
 6714                             519     ;;;;収集が付かないので  TST_BIT_ON MN_POSCTL_START_050          ;
 6715                             520     
 6716                             521     ;       ======== 20060919 ======================
 6717                             522     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
 6718                             523     ;;;;;;  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
 6719                             524     ;       =======================================
 6720                             525     
 6721                             526     ;;;;収集が付かないので  M_BRA   MN_POSCTL_START_060             ;
 6722                             527     ;;;;収集が付かないので
 6723                             528     ;;;;収集が付かないのでMN_POSCTL_START_050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    10
PROGRAM NAME =

 6724                             529     ;;;;収集が付かないので  NOP
 6725                             530     ;;;;収集が付かないのでMN_POSCTL_START_060:
 6726                             531     
 6727                             532             FAR_JSR #_PRESET_PV_ABS_TO_OBJ,R0       ;
 6728 00000020 D029                   M           MOV.L   #_PRESET_PV_ABS_TO_OBJ,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6729 00000022 400B                   M           JSR     @R0                     ;
 6730 00000024 0009                   M           NOP                                     ;
 6731                             533     
 6732                             534     
 6733                             535     
 6734                             536     
 6735                             537     
 6736                             538     ;       --------------2013-02-15 寸動制限------------
 6737                             539             FAR_JSR #_INC_UPLIMT_CALC,R0    ;
 6738 00000026 D029                   M           MOV.L   #_INC_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6739 00000028 400B                   M           JSR     @R0                     ;
 6740 0000002A 0009                   M           NOP                                     ;
 6741                             540     
 6742                             541     
 6743                             542     ;       === 2005-04-14-E(4/18) ====
 6744                             543             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
 6745 0000002C D028                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6746 0000002E 400B                   M           JSR     @R0                     ;
 6747 00000030 0009                   M           NOP                                     ;
 6748                             544     
 6749                             545     ;       ----- [2009-10-07下振子]-----
 6750                             546             FAR_JSR #_DNM_CYCLE_START,R0    ;
 6751 00000032 D028                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6752 00000034 400B                   M           JSR     @R0                     ;
 6753 00000036 0009                   M           NOP                                     ;
 6754                             547     
 6755                             548             FAR_JSR #_CPOS_INI1_DTMOV1,R0           ;//運転ﾃﾞｰﾀﾗｯﾁ
 6756 00000038 D027                   M           MOV.L   #_CPOS_INI1_DTMOV1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6757 0000003A 400B                   M           JSR     @R0                     ;
 6758 0000003C 0009                   M           NOP                                     ;
 6759                             549             FAR_JSR #_DND_POS_START_DAT_INI,R0      ;2006-07-28
 6760 0000003E D027                   M           MOV.L   #_DND_POS_START_DAT_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6761 00000040 400B                   M           JSR     @R0                     ;
 6762 00000042 0009                   M           NOP                                     ;
 6763                             550     
 6764                             551             FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
 6765 00000044 D026                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6766 00000046 400B                   M           JSR     @R0                     ;
 6767 00000048 0009                   M           NOP                                     ;
 6768                             552             FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
 6769 0000004A D026                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6770 0000004C 400B                   M           JSR     @R0                     ;
 6771 0000004E 0009                   M           NOP                                     ;
 6772                             553     
 6773 00000050 222A               554             XOR     R2,R2
 6774 00000052 D125               555             MOV.L   #_INT_DND_CTL_STEP,R1;
 6775 00000054 2121               556             MOV.W   R2,@R1
 6776 00000056 D125               557             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 6777 00000058 2121               558             MOV.W   R2,@R1
 6778                             559     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6779 0000005A 200A               560             XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    11
PROGRAM NAME =

 6780 0000005C D124               561             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6781 0000005E 2101               562             MOV.W   R0,@R1                          ;
 6782                             563     
 6783                             564     ;       === 2004-12-20 ===
 6784 00000060 D124               565             MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
 6785 00000062 2101               566             MOV.W   R0,@R1                          ;
 6786                             567     
 6787                             568             FAR_JSR #_CNTREST_HOS_RESET,R1  ;
 6788 00000064 D124                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6789 00000066 410B                   M           JSR     @R1                     ;
 6790 00000068 0009                   M           NOP                                     ;
 6791                             569     
 6792                             570     ;       === 2004-01-26 CCS===
 6793 0000006A 200A               571             XOR     R0,R0
 6794 0000006C D123               572             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
 6795 0000006E 2101               573             MOV.W   R0,@R1                          ;
 6796                             574     
 6797                             575     
 6798                             576     ;       ====== 一旦停止信号OFF=====
 6799                             577             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
 6800 00000070 D123                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 6801 00000072 6011                   M           MOV.W   @R1,R0          ;
 6802 00000074 941F                   M           MOV.W   #LWORD (~BIT9),R4       ;
 6803 00000076 2049                   M           AND     R4,R0           ;
 6804 00000078 2101                   M           MOV.W   R0,@R1          ;
 6805                             578     
 6806                             579             FAR_JSR #_CMPCYC_START_CLR,R0           ;
 6807 0000007A D022                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6808 0000007C 400B                   M           JSR     @R0                     ;
 6809 0000007E 0009                   M           NOP                                     ;
 6810                             580             FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
 6811 00000080 D021                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6812 00000082 400B                   M           JSR     @R0                     ;
 6813 00000084 0009                   M           NOP                                     ;
 6814                             581             FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
 6815 00000086 D021                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6816 00000088 400B                   M           JSR     @R0                     ;
 6817 0000008A 0009                   M           NOP                                     ;
 6818                             582     
 6819                             583             FAR_JSR #_MOTION_CYCLE_START,R0         ;
 6820 0000008C D020                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6821 0000008E 400B                   M           JSR     @R0                     ;
 6822 00000090 0009                   M           NOP                                     ;
 6823                             584     
 6824                             585             FAR_JSR #_POS_LSI_WORK_STOP2,R0
 6825 00000092 D020                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6826 00000094 400B                   M           JSR     @R0                     ;
 6827 00000096 0009                   M           NOP                                     ;
 6828                             586     
 6829 00000098 200A               587             XOR     R0,R0                   ;
 6830 0000009A D11F               588             MOV.L   #_INT_CYC_DRV_STS,R1    ;
 6831 0000009C 2101               589             MOV.W   R0,@R1                  ;
 6832 0000009E D11F               590             MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
 6833 000000A0 2101               591             MOV.W   R0,@R1                  ;
 6834 000000A2 D11F               592             MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    12
PROGRAM NAME =

 6835 000000A4 2101               593             MOV.W   R0,@R1                  ;
 6836 000000A6 D11F               594             MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
 6837 000000A8 2101               595             MOV.W   R0,@R1                  ;
 6838                             596     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
 6839                             597     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
 6840                             598     
 6841                             599     ;;      FAR_JSR #_CPOS_INI1_DTMOV1,R0   ;//運転ﾃﾞｰﾀﾗｯﾁ
 6842                             600     
 6843 000000AA D104               601             MOV.L   #_MODE_SEL,R1                                           ;
 6844 000000AC 6011               602             MOV.W   @R1,R0                                                  ;
 6845 000000AE C81E               603             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0                       ;
 6846                             604             TST_BIT_OF MN_POSCTL_START_110                                  ;
 6847 000000B0 893A                   M           BT      MN_POSCTL_START_110
 6848                             605             M_BRA   MN_POSCTL_START_500                                     ;寸動,安一,連続
 6849 000000B2 A07B                   M           BRA     MN_POSCTL_START_500
 6850 000000B4 0009                   M           NOP
 6851                                     ***** BEGIN-POOL *****
 6852 000000B6 FDFF                       DATA FOR SOURCE-LINE 577
 6853 000000B8 00000000                   DATA FOR SOURCE-LINE 488
 6854 000000BC 00000000                   DATA FOR SOURCE-LINE 493,601
 6855 000000C0 00000000                   DATA FOR SOURCE-LINE 501
 6856 000000C4 00000000                   DATA FOR SOURCE-LINE 511
 6857 000000C8 00000000                   DATA FOR SOURCE-LINE 532
 6858 000000CC 00000000                   DATA FOR SOURCE-LINE 539
 6859 000000D0 00000000                   DATA FOR SOURCE-LINE 543
 6860 000000D4 00000000                   DATA FOR SOURCE-LINE 546
 6861 000000D8 00000000                   DATA FOR SOURCE-LINE 548
 6862 000000DC 00000000                   DATA FOR SOURCE-LINE 549
 6863 000000E0 00000000                   DATA FOR SOURCE-LINE 551
 6864 000000E4 00000000                   DATA FOR SOURCE-LINE 552
 6865 000000E8 00000000                   DATA FOR SOURCE-LINE 555
 6866 000000EC 00000000                   DATA FOR SOURCE-LINE 557
 6867 000000F0 00000000                   DATA FOR SOURCE-LINE 561
 6868 000000F4 00000000                   DATA FOR SOURCE-LINE 565
 6869 000000F8 00000000                   DATA FOR SOURCE-LINE 568
 6870 000000FC 00000000                   DATA FOR SOURCE-LINE 572
 6871 00000100 00000000                   DATA FOR SOURCE-LINE 577
 6872 00000104 00000000                   DATA FOR SOURCE-LINE 579
 6873 00000108 00000000                   DATA FOR SOURCE-LINE 580
 6874 0000010C 00000000                   DATA FOR SOURCE-LINE 581
 6875 00000110 00000000                   DATA FOR SOURCE-LINE 583
 6876 00000114 00000000                   DATA FOR SOURCE-LINE 585
 6877 00000118 00000000                   DATA FOR SOURCE-LINE 588
 6878 0000011C 00000000                   DATA FOR SOURCE-LINE 590
 6879 00000120 00000000                   DATA FOR SOURCE-LINE 592
 6880 00000124 00000000                   DATA FOR SOURCE-LINE 594
 6881                                     ***** END-POOL *****
 6882 00000128                    606     MN_POSCTL_START_110:
 6883                             607     
 6884                             608     ;       === 待機点作成(最寄)  :上死点復帰の場合は360ｴﾝｺｰﾀﾞから算出する  ;
 6885 00000128 C840               609             TST     #(_W1DUP),R0                                            ;
 6886                             610             TST_BIT_ON MN_POSCTL_START_200                                  ;強制上昇
 6887 0000012A 8B07                   M           BF      MN_POSCTL_START_200
 6888                             611     
 6889                             612     ;       === 段取モード========
 6890                             613             FAR_JSR #_MN_DNDINC_START,R0            ;2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化
 6891 0000012C D002                   M           MOV.L   #_MN_DNDINC_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    13
PROGRAM NAME =

 6892 0000012E 400B                   M           JSR     @R0                     ;
 6893 00000130 0009                   M           NOP                                     ;
 6894                             614             M_BRA   MN_POSCTL_START_800             ;
 6895 00000132 A064                   M           BRA     MN_POSCTL_START_800
 6896 00000134 0009                   M           NOP
 6897                             615     
 6898                             616     ;;      -- 2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化--
 6899                             617     ;;      MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 6900                             618     ;;      MOV.W   @R1,R0                          ;
 6901                             619     ;;      CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 6902                             620     ;;      BF      MN_POSCTL_START_150             ;
 6903                             621     ;;
 6904                             622     ;;      ====== 反転/段取寸動===
 6905                             623     ;;      FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 6906                             624     ;;      FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 6907                             625     ;;      M_BRA   MN_POSCTL_START_180             ;
 6908                             626     ;;
 6909                             627     ;;MN_POSCTL_START_150:
 6910                             628     ;;      ====== 回転/段取寸動===
 6911                             629     ;;      +/-MAX位置を目標とする                                  ;
 6912                             630     ;;      === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 6913                             631     ;;      FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 6914                             632     ;;      MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 6915                             633     ;;      MOV.W   @R1,R0
 6916                             634     ;;      FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 6917                             635     ;;MN_POSCTL_START_180:
 6918                             636     ;;      FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 6919                             637     ;;      M_BRA   MN_POSCTL_START_800                             ;
 6920                             638     
 6921                             639     
 6922                             640     ;       ===================================
 6923                             641     ;       ===     (原点復帰開始処理)      ===
 6924                             642     ;       ===================================
 6925                             643     ;2008-09-16(論理変更　ﾚﾍﾞﾙ動作も活かす)
 6926                                     ***** BEGIN-POOL *****
 6927 00000136 0000                       ALIGNMENT CODE
 6928 00000138 00000000                   DATA FOR SOURCE-LINE 613
 6929                                     ***** END-POOL *****
 6930 0000013C                    644     MN_POSCTL_START_200:                                                    ;
 6931 0000013C D10B               645             MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6932 0000013E 6011               646             MOV.W   @R1,R0                          ;
 6933 00000140 C801               647             TST     #BIT0,R0                        ;
 6934                             648             TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6935 00000142 891D                   M           BT      MN_POSCTL_START_220
 6936                             649     
 6937                             650     ;       --------[2014-09-18]-----------
 6938 00000144 D10A               651             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R1
 6939 00000146 6011               652             MOV.W   @R1,R0                          ;
 6940 00000148 C801               653             TST     #BIT0,R0                        ;
 6941                             654             TST_BIT_OF MN_POSCTL_START_220          ;1:ﾓｰｼｮﾝ運転可能=待機動作もｻｰﾁ無し可能
 6942 0000014A 8919                   M           BT      MN_POSCTL_START_220
 6943                             655     
 6944                             656     ;       --------------------------------
 6945                             657     
 6946 0000014C D109               658             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6947 0000014E 6011               659             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    14
PROGRAM NAME =

 6948 00000150 2008               660             TST     R0,R0                           ;
 6949                             661             TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6950 00000152 8915                   M           BT      MN_POSCTL_START_220
 6951                             662     
 6952 00000154 D108               663             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6953 00000156 6011               664             MOV.W   @R1,R0                          ;
 6954 00000158 9406               665             MOV.W   #BIT15,R4                       ;
 6955 0000015A 2048               666             TST     R4,R0                           ;
 6956                             667             TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6957 0000015C 8910                   M           BT      MN_POSCTL_START_220
 6958                             668     
 6959                             669             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6960 0000015E D007                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6961 00000160 400B                   M           JSR     @R0                     ;
 6962 00000162 0009                   M           NOP                                     ;
 6963                             670                                                     ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6964                             671                                                     ;
 6965                             672             M_BRA   MN_POSCTL_START_800             ;
 6966 00000164 A04B                   M           BRA     MN_POSCTL_START_800
 6967 00000166 0009                   M           NOP
 6968                             673     
 6969                             674     ;;;;----------- 2008-09-16 論理変更
 6970                             675     ;;;;2006-11-21
 6971                             676     ;;;;MN_POSCTL_START_200:                                                        ;
 6972                             677     ;;;;    MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6973                             678     ;;;;    MOV.W   @R1,R0                          ;
 6974                             679     ;;;;    MOV.W   #BIT15,R4                       ;
 6975                             680     ;;;;    TST     R4,R0                           ;
 6976                             681     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6977                             682     ;;;;
 6978                             683     ;;;;    ============ 2006-07-28=========
 6979                             684     ;;;;    MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6980                             685     ;;;;    MOV.W   @R1,R0                          ;
 6981                             686     ;;;;    TST     R0,R0                           ;
 6982                             687     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6983                             688     ;;;;
 6984                             689     ;;;;    MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6985                             690     ;;;;    MOV.W   @R1,R0                          ;
 6986                             691     ;;;;    TST     #BIT0,R0                        ;
 6987                             692     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6988                             693     ;;;;
 6989                             694     ;;;;    FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6990                             695     ;;;;                                            ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6991                             696     ;;;;                                            ;
 6992                             697     ;;;;    M_BRA   MN_POSCTL_START_800             ;
 6993                             698     
 6994                             699     
 6995                             700     
 6996                             701     ;----------- 2006-11-21 論理変更
 6997                             702     ;;;MN_POSCTL_START_200:                                                 ;
 6998                             703     ;;;     ============ 2006-07-28=========
 6999                             704     ;;;     MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 7000                             705     ;;;     MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    15
PROGRAM NAME =

 7001                             706     ;;;     TST     R0,R0                           ;
 7002                             707     ;;;     TST_BIT_ON MN_POSCTL_START_210          ;
 7003                             708     ;;;
 7004                             709     ;;;     ============2004-05-24=========================
 7005                             710     ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7006                             711     ;;;     MOV.W   @R1,R0                          ;
 7007                             712     ;;;     MOV.W   #BIT15,R4                       ;
 7008                             713     ;;;     TST     R4,R0                           ;
 7009                             714     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 7010                             715     ;;;MN_POSCTL_START_210:                                                 ;
 7011                             716     ;;;     MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 7012                             717     ;;;     MOV.W   @R1,R0                          ;
 7013                             718     ;;;     TST     #BIT0,R0                        ;
 7014                             719     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 7015                             720     ;;;
 7016                             721     ;;;     FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 7017                             722     ;;;                                             ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 7018                             723     ;;;                                             ;
 7019                             724     ;;;     M_BRA   MN_POSCTL_START_800             ;
 7020                             725     
 7021                             726     ;       ----------------- ｻｰﾁﾀｲﾌﾟ-----------------------
 7022                                     ***** BEGIN-POOL *****
 7023 00000168 8000                       DATA FOR SOURCE-LINE 665
 7024 0000016A 0000                       ALIGNMENT CODE
 7025 0000016C 00000000                   DATA FOR SOURCE-LINE 645
 7026 00000170 00000000                   DATA FOR SOURCE-LINE 651
 7027 00000174 00000000                   DATA FOR SOURCE-LINE 658
 7028 00000178 00000000                   DATA FOR SOURCE-LINE 663
 7029 0000017C 00000000                   DATA FOR SOURCE-LINE 669
 7030                                     ***** END-POOL *****
 7031 00000180                    727     MN_POSCTL_START_220:
 7032 00000180 D106               728             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
 7033 00000182 200A               729             XOR     R0,R0                           ;
 7034 00000184 2101               730             MOV.W   R0,@R1                          ;
 7035                             731     
 7036                             732     ;       ===============================================
 7037                             733     ;       ==== 上死点復帰・待機点復帰====
 7038                             734     ;       今の位置から上死点＋３度を目指す
 7039                             735     ;       今の位置から上死点−３度を目指す
 7040                             736             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R1       ;
 7041 00000186 D106                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7042 00000188 410B                   M           JSR     @R1                     ;
 7043 0000018A 0009                   M           NOP                                     ;
 7044                             737             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 7045 0000018C D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7046 0000018E 440B                   M           JSR     @R4                     ;
 7047 00000190 0009                   M           NOP                                     ;
 7048                             738             FAR_JSR #_ORG_END_SIG_CLR,R0            ;
 7049 00000192 D005                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7050 00000194 400B                   M           JSR     @R0                     ;
 7051 00000196 0009                   M           NOP                                     ;
 7052                             739             M_BRA   MN_POSCTL_START_800             ;
 7053 00000198 A031                   M           BRA     MN_POSCTL_START_800
 7054 0000019A 0009                   M           NOP
 7055                             740     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    16
PROGRAM NAME =

 7056                                     ***** BEGIN-POOL *****
 7057 0000019C 00000000                   DATA FOR SOURCE-LINE 728
 7058 000001A0 00000000                   DATA FOR SOURCE-LINE 736
 7059 000001A4 00000000                   DATA FOR SOURCE-LINE 737
 7060 000001A8 00000000                   DATA FOR SOURCE-LINE 738
 7061                                     ***** END-POOL *****
 7062 000001AC                    741     MN_POSCTL_START_500:                            ;
 7063                             742             FAR_JSR #_CPOS_INI1_DTMOV2,R0           ;
 7064 000001AC D009                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7065 000001AE 400B                   M           JSR     @R0                     ;
 7066 000001B0 0009                   M           NOP                                     ;
 7067                             743     
 7068                             744     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 7069                             745     ;;      XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 7070                             746     ;;      MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 7071                             747     ;;      MOV.W   R0,@R1                          ;
 7072                             748     
 7073                             749     ;(急停止の場合はSV_POS_CTL_SEPは0ではない ok!)
 7074                             750     ;(ｻｲｸﾙ停止では、回転数を演算する必要はない)
 7075                             751     
 7076                             752     ;
 7077                             753     ;       === 待機点作成(方向あり)====
 7078 000001B2 D109               754             MOV.L   #_SV_POS_CTL_STEP,R1            ;
 7079 000001B4 6011               755             MOV.W   @R1,R0                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
 7080                             756     
 7081 000001B6 2008               757             TST     R0,R0                           ;
 7082                             758             TST_BIT_ON MN_POSCTL_START_600          ;(ﾘｾｯﾄ時に待機点を決定する)
 7083 000001B8 8B1E                   M           BF      MN_POSCTL_START_600
 7084                             759     ;;;;;;;;;;STEP=0:非常停止後の起動
 7085                             760     ;;;;;;;;;;2014-09-19    ----------- [2009-10-07下振子]
 7086                             761     ;;;;;;;;;;2014-09-19    MOV.L   #_CPOS_CTL_MATH,R1              ;
 7087                             762     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 7088                             763     ;;;;;;;;;;2014-09-19    TST     #_DMATH_DNDRIV,R0               ; 往復?
 7089                             764     ;;;;;;;;;;2014-09-19    TST_BIT_OF MN_POSCTL_START_520          ;
 7090                             765     ;;;;;;;;;;2014-09-19    MOV.L   #_DNM_DIR_SET_FLG,R1            ;(この論理はよくない)
 7091                             766     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 7092                             767     ;;;;;;;;;;2014-09-19    TST     R0,R0                           ;
 7093                             768     ;;;;;;;;;;2014-09-19    TST_BIT_ON MN_POSCTL_START_540          ;DNM_DIR_NOW_FLG
 7094                             769     ;;;;;;;;;;2014-09-19MN_POSCTL_START_520:                                ;
 7095                             770     ;;;;;;;;;;2014-09-19 目標位置から演算するから不要に思える.待機点を跨ぐなら別
 7096                             771     
 7097                             772     ;       ------------ これがいまのところインターロックではたらいていなそう(20091007コメント
                                          )----------
 7098 000001BA D108               773             MOV.L   #_INT_CYC_DRV_STS,R1            ;SV=0非常停止またはｻｲｸﾙ停止(BIT0=1:ｻｲｸﾙ停
                                          止)
 7099 000001BC 6011               774             MOV.W   @R1,R0                          ;
 7100 000001BE C801               775             TST     #BIT0,R0                        ;
 7101                             776             TST_BIT_ON MN_POSCTL_START_540          ;(これがうまくとれていない ｻｲｸﾙ停止時は演
                                          算しない)
 7102 000001C0 8B12                   M           BF      MN_POSCTL_START_540
 7103                             777     
 7104                             778     ;       ---------- 非常停止後の起動-----------
 7105                             779             FAR_JSR #_NEXT_CYCL_START2,R0                   ;(((((何の起動??)))))
 7106 000001C2 D007                   M           MOV.L   #_NEXT_CYCL_START2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7107 000001C4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    17
PROGRAM NAME =

 7108 000001C6 0009                   M           NOP                                     ;
 7109                             780             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 7110 000001C8 D006                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7111 000001CA 400B                   M           JSR     @R0                     ;
 7112 000001CC 0009                   M           NOP                                     ;
 7113                             781     
 7114                             782     
 7115                             783     ;
 7116                             784     
 7117                             785     
 7118                             786             M_BRA   MN_POSCTL_START_600                     ;
 7119 000001CE A013                   M           BRA     MN_POSCTL_START_600
 7120 000001D0 0009                   M           NOP
 7121                             787     
 7122                             788     ;       -------遮光停止でこれをやった場合で　待機点を越えていたら以外にだめ？(コメント2009
                                          1007)--------
 7123                             789     ;       遮光による停止、またはサイクルＥＮＤ後の自動起動
 7124                             790     
 7125                                     ***** BEGIN-POOL *****
 7126 000001D2 0000                       ALIGNMENT CODE
 7127 000001D4 00000000                   DATA FOR SOURCE-LINE 742
 7128 000001D8 00000000                   DATA FOR SOURCE-LINE 754
 7129 000001DC 00000000                   DATA FOR SOURCE-LINE 773
 7130 000001E0 00000000                   DATA FOR SOURCE-LINE 779
 7131 000001E4 00000000                   DATA FOR SOURCE-LINE 780
 7132                                     ***** END-POOL *****
 7133 000001E8                    791     MN_POSCTL_START_540:                                    ;
 7134 000001E8 D115               792             MOV.L   #_LINK_OBJROT_NUM_ZR,R1                 ;//NOW ROTATION 番号
 7135 000001EA 6212               793             MOV.L   @R1,R2                                  ;+0
 7136                             794             FAR_JSR #_NEXT_CYCL_START1,R0                   ;(連続時は転送でも良いがとりあえず
                                          このまま残す)
 7137 000001EC D015                   M           MOV.L   #_NEXT_CYCL_START1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7138 000001EE 400B                   M           JSR     @R0                     ;
 7139 000001F0 0009                   M           NOP                                     ;
 7140                             795             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 7141 000001F2 D015                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7142 000001F4 400B                   M           JSR     @R0                     ;
 7143 000001F6 0009                   M           NOP                                     ;
 7144 000001F8                    796     MN_POSCTL_START_600:                            ;
 7145 000001F8 0009               797             NOP                                     ;何もしないくて良いはず
 7146 000001FA 0009               798             NOP                                     ;
 7147 000001FC 0009               799             NOP                                     ;
 7148 000001FE                    800     MN_POSCTL_START_800:                            ;
 7149                             801     
 7150                             802     
 7151 000001FE 901D               803             MOV.W   #BIT0,R0                        ;起動
 7152 00000200 D112               804             MOV.L   #_MNWR_POS_CMD,R1               ;
 7153 00000202 2101               805             MOV.W   R0,@R1                          ;
 7154                             806     
 7155                             807     
 7156                             808     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
 7157                             809             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
 7158 00000204 D412                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
 7159 00000206 6041                   M           MOV.W   @R4,R0          ;
 7160 00000208 9119                   M           MOV.W   #LWORD (~BIT5),R1       ;
 7161 0000020A 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    18
PROGRAM NAME =

 7162 0000020C 2401                   M           MOV.W   R0,@R4          ;
 7163                             810             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
 7164 0000020E D411                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
 7165 00000210 6041                   M           MOV.W   @R4,R0          ;
 7166 00000212 9114                   M           MOV.W   #LWORD (~BIT5),R1       ;
 7167 00000214 2019                   M           AND     R1,R0           ;
 7168 00000216 2401                   M           MOV.W   R0,@R4          ;
 7169                             811     
 7170                             812     
 7171                             813     ;       --------2011-05-11　起動時　本当は.160度手前.....----
 7172                             814             FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
 7173 00000218 D00F                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7174 0000021A 400B                   M           JSR     @R0                     ;
 7175 0000021C 0009                   M           NOP                                     ;
 7176                             815     
 7177                             816     
 7178                             817     ;       -2012-05-30 反転
 7179                             818             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
 7180 0000021E D00F                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7181 00000220 400B                   M           JSR     @R0                     ;
 7182 00000222 0009                   M           NOP                                     ;
 7183                             819     
 7184                             820     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
 7185                             821             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
 7186                             822 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
 7187 00000224 D00E                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7188 00000226 400B                   M           JSR     @R0                     ;
 7189 00000228 0009                   M           NOP                                     ;
 7190                             823 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
 7191 0000022A D00E                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7192 0000022C 400B                   M           JSR     @R0                     ;
 7193 0000022E 0009                   M           NOP                                     ;
 7194                             824             .AENDI
 7195                             825     
 7196                             826     ;       -------- 2015-11-17 ---------
 7197                             827     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_START1,R0
 7198                             828             FAR_JSR #_API_ACC_MATHED_COM_DRV_START1,R0      ;2016-04-18
 7199 00000230 D00D                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_START1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7200 00000232 400B                   M           JSR     @R0                     ;
 7201 00000234 0009                   M           NOP                                     ;
 7202                             829     
 7203                             830             SUB_END
 7204                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7205 00000236 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7206                             831             M_RTS
 7207 00000238 000B                   M           RTS                             ;RTSの後ろの
 7208 0000023A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7209                             832     
 7210                             833     
 7211                             834     ;       ***********************************
 7212                             835     ;       ***     運転中に呼ばれる        ***
 7213                             836     ;       ***********************************
 7214                             837     ;       FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 7215                             838     ;                                               ;<寸動等の停止 -->準備未完了へ "FF">
 7216                             839     ;                                               ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 7217                             840     ;
 7218                             841     ;       ・１回転分のデータを作成するだけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    19
PROGRAM NAME =

 7219                             842     ;       ・位置決め完了を見るだけ
 7220                             843     ;
 7221                                     ***** BEGIN-POOL *****
 7222 0000023C 0001                       DATA FOR SOURCE-LINE 803
 7223 0000023E FFDF                       DATA FOR SOURCE-LINE 809,810
 7224 00000240 00000000                   DATA FOR SOURCE-LINE 792
 7225 00000244 00000000                   DATA FOR SOURCE-LINE 794
 7226 00000248 00000000                   DATA FOR SOURCE-LINE 795
 7227 0000024C 00000000                   DATA FOR SOURCE-LINE 804
 7228 00000250 00000000                   DATA FOR SOURCE-LINE 809
 7229 00000254 00000000                   DATA FOR SOURCE-LINE 810
 7230 00000258 00000000                   DATA FOR SOURCE-LINE 814
 7231 0000025C 00000000                   DATA FOR SOURCE-LINE 818
 7232 00000260 00000000                   DATA FOR SOURCE-LINE 822
 7233 00000264 00000000                   DATA FOR SOURCE-LINE 823
 7234 00000268 00000000                   DATA FOR SOURCE-LINE 828
 7235                                     ***** END-POOL *****
 7236 0000026C                    844             .ALIGN  4                               ;
 7237 0000026C                    845     _MN_POS_CTRL_ACT:                               ;ssa_pos1.src
 7238                             846             SUB_START
 7239 0000026C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7240                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7241                             847     
 7242 0000026E D103               848             MOV.L   #_INT_CYC_DRV_STS,R1            ;
 7243 00000270 6011               849             MOV.W   @R1,R0                          ;
 7244 00000272 C840               850             TST     #BIT6,R0                        ;工程終了
 7245                             851             TST_BIT_OF MN_POS_CTLACT_100            ;(位置決め完了 NO!)
 7246 00000274 8904                   M           BT      MN_POS_CTLACT_100
 7247                             852             M_BRA   MN_POS_CTLACT_800               ;
 7248 00000276 A029                   M           BRA     MN_POS_CTLACT_800
 7249 00000278 0009                   M           NOP
 7250                             853     
 7251                                     ***** BEGIN-POOL *****
 7252 0000027A 0000                       ALIGNMENT CODE
 7253 0000027C 00000000                   DATA FOR SOURCE-LINE 848
 7254                                     ***** END-POOL *****
 7255 00000280                    854     MN_POS_CTLACT_100:                              ;
 7256                             855     
 7257                             856     
 7258                             857     ;;;     _BRK_SADOU_CHG EQ 1
 7259                             858     ;       ------------2015-09-06 ﾌﾞﾚｰｷ作動(H2W 2015-03-16,H1F 2015-07-14)-----------------
 7260 00000280 D104               859             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1                    ;[
                                          H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK:LOCK]
 7261 00000282 6011               860             MOV.W   @R1,R0                                  ;
 7262 00000284 8801               861             CMP/EQ  #1,R0
 7263 00000286 8B09               862             BF      MN_POS_CTLACT_130                       ;
 7264                             863     
 7265                             864     ;       -------------2015-09-06 (2015-07-14)-------------------------
 7266                             865     ;       ｲﾝﾎﾟｼﾞｼｮﾝから位置決め完了(ﾌﾞﾚｰｷまでの遅延)
 7267                             866             FAR_JSR #_POS_ENDWAIT_TIM_SET,R0                ;[安一,連続のAUTO それ以外でとるか
                                          ]
 7268 00000288 D003                   M           MOV.L   #_POS_ENDWAIT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7269 0000028A 400B                   M           JSR     @R0                     ;
 7270 0000028C 0009                   M           NOP                                     ;
 7271                             867             M_BRA   MN_POS_CTLACT_150                                       ;
 7272 0000028E A008                   M           BRA     MN_POS_CTLACT_150
 7273 00000290 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    20
PROGRAM NAME =

 7274                             868     
 7275                                     ***** BEGIN-POOL *****
 7276 00000292 0000                       ALIGNMENT CODE
 7277 00000294 00000000                   DATA FOR SOURCE-LINE 859
 7278 00000298 00000000                   DATA FOR SOURCE-LINE 866
 7279                                     ***** END-POOL *****
 7280 0000029C                    869     MN_POS_CTLACT_130:                                      ;
 7281                             870     ;       --------------2015-09-06(2015-07-14)------------------------
 7282                             871             FAR_JSR #_POS_ENDMYUT_TIM_SET,R0                ;終了から動力遮断するorﾐｭｰﾃﾝｸﾞにす
                                          る時間
 7283 0000029C D007                   M           MOV.L   #_POS_ENDMYUT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7284 0000029E 400B                   M           JSR     @R0                     ;
 7285 000002A0 0009                   M           NOP                                     ;
 7286                             872     ;       -------------------------------------------------
 7287 000002A2                    873     MN_POS_CTLACT_150:                                      ;
 7288                             874     
 7289                             875     
 7290                             876     
 7291                             877     
 7292                             878     
 7293                             879     
 7294 000002A2 D107               880             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7295 000002A4 6011               881             MOV.W   @R1,R0                          ;
 7296 000002A6 C805               882             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;[20091007下振子]
 7297                             883             TST_BIT_OF DAI_CHK01_200                ;
 7298 000002A8 8902                   M           BT      DAI_CHK01_200
 7299                             884             FAR_JSR #_DAI_FULL_SCALE_SMPLE,R0       ;2003-02-03
 7300 000002AA D006                   M           MOV.L   #_DAI_FULL_SCALE_SMPLE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7301 000002AC 400B                   M           JSR     @R0                     ;
 7302 000002AE 0009                   M           NOP                                     ;
 7303 000002B0                    885     DAI_CHK01_200:
 7304                             886     
 7305                             887             FAR_JSR #_MOST_DISP_DAT_SMP,R0          ;
 7306 000002B0 D005                   M           MOV.L   #_MOST_DISP_DAT_SMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7307 000002B2 400B                   M           JSR     @R0                     ;
 7308 000002B4 0009                   M           NOP                                     ;
 7309                             888             M_BRA   MN_POS_CTLACT_CONTINUE          ;
 7310 000002B6 A01D                   M           BRA     MN_POS_CTLACT_CONTINUE
 7311 000002B8 0009                   M           NOP
 7312                             889     
 7313                                     ***** BEGIN-POOL *****
 7314 000002BA 0000                       ALIGNMENT CODE
 7315 000002BC 00000000                   DATA FOR SOURCE-LINE 871
 7316 000002C0 00000000                   DATA FOR SOURCE-LINE 880
 7317 000002C4 00000000                   DATA FOR SOURCE-LINE 884
 7318 000002C8 00000000                   DATA FOR SOURCE-LINE 887
 7319                                     ***** END-POOL *****
 7320 000002CC                    890     MN_POS_CTLACT_800:
 7321 000002CC 200A               891             XOR     R0,R0                           ;ｻｲｸﾙ停止
 7322 000002CE D106               892             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
 7323 000002D0 2101               893             MOV.W   R0,@R1                          ;
 7324                             894     
 7325                             895     ;;;     _BRK_SADOU_CHG EQ 1
 7326                             896     ;       --------2015-09-06(2015-07-14)----------------
 7327 000002D2 D106               897             MOV.L   #_POS_END_WAIT_TIM,R1           ;
 7328 000002D4 6011               898             MOV.W   @R1,R0                          ;
 7329 000002D6 2008               899             TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    21
PROGRAM NAME =

 7330                             900             TST_BIT_ON MN_POS_CTLACT_CONTINUE       ;(位置決め完了を待つ---遮光時は動力遮断状
                                          態だから大丈夫)
 7331 000002D8 8B0C                   M           BF      MN_POS_CTLACT_CONTINUE
 7332                             901     ;       -----------------------------------------
 7333                             902     
 7334                             903     
 7335 000002DA D105               904             MOV.L   #_INT_CYC_DRV_STS,R1    ;//BIT0:CYCLE　END()
 7336 000002DC 6011               905             MOV.W   @R1,R0
 7337 000002DE C801               906             TST     #BIT0,R0                        ;(わざとｻｲｸﾙ停止にしない)
 7338                             907             TST_BIT_ON MN_POS_CTLACT_CYCLE_END      ;
 7339 000002E0 8B0E                   M           BF      MN_POS_CTLACT_CYCLE_END
 7340                             908             M_BRA   MN_POS_CTLACT_STOP_END          ;
 7341 000002E2 A00A                   M           BRA     MN_POS_CTLACT_STOP_END
 7342 000002E4 0009                   M           NOP
 7343                             909     
 7344                             910     
 7345                                     ***** BEGIN-POOL *****
 7346 000002E6 0000                       ALIGNMENT CODE
 7347 000002E8 00000000                   DATA FOR SOURCE-LINE 892
 7348 000002EC 00000000                   DATA FOR SOURCE-LINE 897
 7349 000002F0 00000000                   DATA FOR SOURCE-LINE 904
 7350                                     ***** END-POOL *****
 7351 000002F4                    911     MN_POS_CTLACT_CONTINUE:
 7352 000002F4 200A               912             XOR     R0,R0
 7353                             913             M_BRA   MN_POS_CTLACT_EXIT
 7354 000002F6 A004                   M           BRA     MN_POS_CTLACT_EXIT
 7355 000002F8 0009                   M           NOP
 7356                             914     
 7357 000002FA                    915     MN_POS_CTLACT_STOP_END:
 7358 000002FA E0FF               916             MOV     #-1,R0
 7359                             917             M_BRA   MN_POS_CTLACT_EXIT
 7360 000002FC A001                   M           BRA     MN_POS_CTLACT_EXIT
 7361 000002FE 0009                   M           NOP
 7362 00000300                    918     MN_POS_CTLACT_CYCLE_END:
 7363 00000300 E055               919             MOV     #H'55,R0        ;CYCLE END
 7364 00000302                    920     MN_POS_CTLACT_EXIT:
 7365                             921             SUB_END
 7366                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7367 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7368                             922             M_RTS
 7369 00000304 000B                   M           RTS                             ;RTSの後ろの
 7370 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7371                             923     
 7372                             924     
 7373                             925     
 7374                             926     
 7375                             927     ;       ***********************************
 7376                             928     ;       ***                             ***
 7377                             929     ;       ***     2015-09-06              ***
 7378                             930     ;       ***     2015-07-14              ***
 7379                             931     ;       ***                             ***
 7380                             932     ;       ***********************************
 7381                             933     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動
 7382                             934     ;;;     _BRK_SADOU_CHG EQ 1
 7383 00000308                    935     _POS_ENDWAIT_TIM_SET
 7384                             936             SUB_START
 7385 00000308 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    22
PROGRAM NAME =

 7386                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7387                             937     
 7388                             938     
 7389                             939     ;       --------------------------------------------
 7390 0000030A D109               940             MOV.L   #(_PAR_MYUBRK_TIM2-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[PNO.95][H2W=2015
                                          -03-16 寸動終了時ﾀｲﾏ]
 7391 0000030C 6211               941             MOV.W   @R1,R2                          ;
 7392                             942     
 7393 0000030E D109               943             MOV.L   #_MODE_SEL,R1                   ;
 7394 00000310 6011               944             MOV.W   @R1,R0                          ;
 7395 00000312 C81C               945             TST     #(_W1OPT+_W1CNT+_W1SGL),R0      ;
 7396                             946             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;
 7397 00000314 8906                   M           BT      POS_ENDWAIT_TIMSET_END
 7398                             947     
 7399 00000316 D108               948             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 7400 00000318 6011               949             MOV.W   @R1,R0                          ;
 7401 0000031A 9408               950             MOV.W   #_WOATO,R4                      ;AUTO
 7402 0000031C 2048               951             TST     R4,R0                           ;
 7403                             952             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;[AUTOじゃない]
 7404 0000031E 8901                   M           BT      POS_ENDWAIT_TIMSET_END
 7405                             953     
 7406                             954     ;       ----------- 1ｻｲｸﾙ停止時用 2015-07-14--------
 7407 00000320 D106               955             MOV.L   #(_PAR_MYUBRK_TIM1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[H2W=2015-03-14
                                          行程終了時　ﾐｭｰﾃﾝｸﾞ切替時間]
 7408 00000322 6211               956             MOV.W   @R1,R2                          ;[PNO.94]
 7409                             957                                                     ;
 7410                             958     
 7411 00000324                    959     POS_ENDWAIT_TIMSET_END
 7412 00000324 D106               960             MOV.L   #_POS_END_WAIT_TIM,R1           ;[位置決め完了遅延時間==動力遮断を伸ばす時
                                          間]
 7413 00000326 2121               961             MOV.W   R2,@R1
 7414                             962     
 7415                             963     
 7416                             964     
 7417                             965             SUB_END
 7418                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7419 00000328 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7420                             966             M_RTS
 7421 0000032A 000B                   M           RTS                             ;RTSの後ろの
 7422 0000032C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7423                             967     
 7424                             968     
 7425                             969     
 7426                             970     ;       ***********************************
 7427                             971     ;       ***                             ***
 7428                             972     ;       ***     2015-07-14              ***
 7429                             973     ;       ***                             ***
 7430                             974     ;       ***********************************
 7431                             975     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動しない
 7432                             976     ;       P22　ﾊﾟﾙｽ出力完了~ﾌﾞﾚｰｷをかけても良い時間
 7433                             977     ;       ﾐｭｰﾃﾝｸﾞ中はﾐｭｰﾃﾝｸﾞ継続時間
 7434                             978     ;       ﾐｭｰﾃﾝｸﾞしない状態では動力遮断時間
 7435                             979     ;
 7436                             980     ;       今までは遮光を検知しない時間=ﾐｭｰﾃﾝｸﾞ継続時間相当
 7437                             981     ;
 7438                             982     
 7439                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    23
PROGRAM NAME =

 7440 0000032E 0040                       DATA FOR SOURCE-LINE 950
 7441 00000330 00000000                   DATA FOR SOURCE-LINE 940
 7442 00000334 00000000                   DATA FOR SOURCE-LINE 943
 7443 00000338 00000000                   DATA FOR SOURCE-LINE 948
 7444 0000033C 00000000                   DATA FOR SOURCE-LINE 955
 7445 00000340 00000000                   DATA FOR SOURCE-LINE 960
 7446                                     ***** END-POOL *****
 7447 00000344                    983     _POS_ENDMYUT_TIM_SET:
 7448                             984             SUB_START
 7449 00000344 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7450                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7451                             985     
 7452 00000346 D10C               986             MOV.L   #(_PAR_SELF_WAIT_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;P22ｾﾙﾌﾁｪｯｸまたは
                                          位置決めからﾛｯｸ開始遅延時間(停止確認用)
 7453 00000348 6211               987             MOV.W   @R1,R2                  ;
 7454 0000034A 233A               988             XOR     R3,R3
 7455                             989     
 7456                             990     
 7457 0000034C D10B               991             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 7458 0000034E 6011               992             MOV.W   @R1,R0                  ;
 7459 00000350 C804               993             TST     #_W1SGL,R0              ;
 7460                             994             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7461 00000352 890A                   M           BT      POS_ENDMYUTTIM_STOP
 7462                             995     
 7463 00000354 D10A               996             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
 7464 00000356 6011               997             MOV.W   @R1,R0                  ;
 7465 00000358 C802               998             TST     #BIT1,R0                ;
 7466                             999             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7467 0000035A 8906                   M           BT      POS_ENDMYUTTIM_STOP
 7468                            1000     
 7469 0000035C D109              1001             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
 7470 0000035E 6011              1002             MOV.W   @R1,R0                  ;
 7471 00000360 C803              1003             TST     #(BIT1+BIT0),R0         ;
 7472                            1004             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;
 7473 00000362 8902                   M           BT      POS_ENDMYUTTIM_STOP
 7474                            1005     
 7475                            1006     
 7476                            1007     ;       ---     ﾐｭｰﾃﾝｸﾞする     ---
 7477 00000364                   1008     POS_ENDMYUTTIM_KEEP:
 7478 00000364 6023              1009             MOV     R2,R0                   ;
 7479 00000366 6233              1010             MOV     R3,R2                   ;
 7480 00000368 6303              1011             MOV     R0,R3                   ;
 7481                            1012     
 7482                            1013     ;       ---     ﾐｭｰﾃﾝｸﾞじゃない ---
 7483 0000036A                   1014     POS_ENDMYUTTIM_STOP
 7484 0000036A D107              1015             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1     ;//終了後この時間であれば動力遮断する時間
 7485 0000036C 2121              1016             MOV.W   R2,@R1                          ;
 7486 0000036E D107              1017             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1     ;//終了後上昇無効を継続する時間
 7487 00000370 2131              1018             MOV.W   R3,@R1                          ;
 7488                            1019     
 7489                            1020     
 7490                            1021     
 7491                            1022             SUB_END
 7492                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7493 00000372 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7494                            1023             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    24
PROGRAM NAME =

 7495 00000374 000B                   M           RTS                             ;RTSの後ろの
 7496 00000376 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7497                            1024     
 7498                            1025     ;       ***********************************
 7499                            1026     ;       ***                             ***
 7500                            1027     ;       ***     2015-07-14              ***
 7501                            1028     ;       ***                             ***
 7502                            1029     ;       ***     一応ｸﾘｱしておく         ***
 7503                            1030     ;       ***********************************
 7504                                     ***** BEGIN-POOL *****
 7505 00000378 00000000                   DATA FOR SOURCE-LINE 986
 7506 0000037C 00000000                   DATA FOR SOURCE-LINE 991
 7507 00000380 00000000                   DATA FOR SOURCE-LINE 996
 7508 00000384 00000000                   DATA FOR SOURCE-LINE 1001
 7509 00000388 00000000                   DATA FOR SOURCE-LINE 1015
 7510 0000038C 00000000                   DATA FOR SOURCE-LINE 1017
 7511                                     ***** END-POOL *****
 7512 00000390                   1031     _POS_END_MYUTIG_TIMER_CLR
 7513                            1032             SUB_START
 7514 00000390 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7515                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7516 00000392 200A              1033             XOR     R0,R0
 7517 00000394 D104              1034             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1;    //終了後この時間であれば動力遮断する時間
 7518 00000396 2101              1035             MOV.W   R0,@R1
 7519                            1036     
 7520 00000398 D104              1037             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1;    //終了後上昇無効を継続する時間
 7521 0000039A 2101              1038             MOV.W   R0,@R1
 7522                            1039     
 7523 0000039C D104              1040             MOV.L   #_POS_END_WAIT_TIM,R1;          //[位置決め完了遅延時間==動力遮断を伸ばす
                                          時間]
 7524 0000039E 2101              1041             MOV.W   R0,@R1
 7525                            1042             SUB_END
 7526                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7527 000003A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7528                            1043             M_RTS
 7529 000003A2 000B                   M           RTS                             ;RTSの後ろの
 7530 000003A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7531                            1044     
 7532                            1045     
 7533                            1046     ;;;LENGTH_ADD[2]=LINK_SV_OBJ_ABSPLS[2]-LINK_RL_OBJ_ABSPLS[2];//abs停止目標位置-ﾘｱﾙﾀｲﾑ目標
                                          絶対位置
 7534                            1047     ;       ***********************************
 7535                            1048     ;       ***                             ***
 7536                            1049     ;       ***     ﾓｰﾄﾞに関わるｻﾌﾞﾙｰﾁﾝ     ***
 7537                            1050     ;       ***                             ***
 7538                            1051     ;       ***********************************
 7539                            1052     
 7540                            1053     
 7541                            1054     
 7542                            1055     ;;;;;;@@@@@@@@@@
 7543                            1056     
 7544                            1057     ;       ***********************************
 7545                            1058     ;       ***                             ***
 7546                            1059     ;       ***     上死点復帰              ***
 7547                            1060     ;       ***     速度設定                ***
 7548                            1061     ;       ***                             ***
 7549                            1062     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    25
PROGRAM NAME =

 7550                                     ***** BEGIN-POOL *****
 7551 000003A6 0000                       ALIGNMENT CODE
 7552 000003A8 00000000                   DATA FOR SOURCE-LINE 1034
 7553 000003AC 00000000                   DATA FOR SOURCE-LINE 1037
 7554 000003B0 00000000                   DATA FOR SOURCE-LINE 1040
 7555                                     ***** END-POOL *****
 7556 000003B4                   1063             .ALIGN  4                               ;
 7557 000003B4                   1064     _DNDUPS_SPD_SET:
 7558                            1065             SUB_START
 7559 000003B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7561 000003B6 D103              1066             MOV.L   #_SET1_UPAREA_SPD1,R1   ;
 7562 000003B8 6212              1067             MOV.L   @R1,R2                  ;
 7563 000003BA D103              1068             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7564 000003BC 2122              1069             MOV.L   R2,@R1                  ;
 7565                            1070             SUB_END
 7566                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7567 000003BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7568                            1071             M_RTS
 7569 000003C0 000B                   M           RTS                             ;RTSの後ろの
 7570 000003C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7571                            1072     
 7572                                     ***** BEGIN-POOL *****
 7573 000003C4 00000000                   DATA FOR SOURCE-LINE 1066
 7574 000003C8 00000000                   DATA FOR SOURCE-LINE 1068
 7575                                     ***** END-POOL *****
 7576 000003CC                   1073             .ALIGN  4                               ;
 7577 000003CC                   1074     _DNDUPS_CLEEP_SPD_SET:
 7578                            1075             SUB_START
 7579 000003CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7580                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7581 000003CE D103              1076             MOV.L   #_SET1_UPCLEEP_SPD,R1   ;
 7582 000003D0 6212              1077             MOV.L   @R1,R2                  ;
 7583 000003D2 D103              1078             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7584 000003D4 2122              1079             MOV.L   R2,@R1                  ;
 7585                            1080             SUB_END
 7586                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7587 000003D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7588                            1081             M_RTS
 7589 000003D8 000B                   M           RTS                             ;RTSの後ろの
 7590 000003DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7591                            1082     
 7592                            1083     
 7593                            1084     
 7594                            1085     ;       ***********************************
 7595                            1086     ;       ***                             ***
 7596                            1087     ;       ***     2006-07-28              ***
 7597                            1088     ;       ***                             ***
 7598                            1089     ;       ***********************************
 7599                                     ***** BEGIN-POOL *****
 7600 000003DC 00000000                   DATA FOR SOURCE-LINE 1076
 7601 000003E0 00000000                   DATA FOR SOURCE-LINE 1078
 7602                                     ***** END-POOL *****
 7603 000003E4                   1090             .ALIGN  4                               ;
 7604 000003E4                   1091     _MN_DNDINC_START:
 7605                            1092             SUB_START
 7606 000003E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    26
PROGRAM NAME =

 7607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7608 000003E6 D104              1093             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 7609 000003E8 6011              1094             MOV.W   @R1,R0                          ;
 7610 000003EA 2008              1095             TST     R0,R0                           ;
 7611                            1096             TST_BIT_OF DNDINC_ST_100                ;
 7612 000003EC 8908                   M           BT      DNDINC_ST_100
 7613                            1097     
 7614                            1098             FAR_JSR #_MN_TEP_START,R0
 7615 000003EE D003                   M           MOV.L   #_MN_TEP_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7616 000003F0 400B                   M           JSR     @R0                     ;
 7617 000003F2 0009                   M           NOP                                     ;
 7618                            1099             M_BRA   DNDINC_ST_END                           ;
 7619 000003F4 A071                   M           BRA     DNDINC_ST_END
 7620 000003F6 0009                   M           NOP
 7621                            1100     
 7622                                     ***** BEGIN-POOL *****
 7623 000003F8 00000000                   DATA FOR SOURCE-LINE 1093
 7624 000003FC 00000000                   DATA FOR SOURCE-LINE 1098
 7625                                     ***** END-POOL *****
 7626 00000400                   1101     DNDINC_ST_100:
 7627 00000400 D10B              1102             MOV.L   #_CPOS_DND_STOP_SW,R1           ;
 7628 00000402 6011              1103             MOV.W   @R1,R0                          ;
 7629 00000404 C803              1104             TST     #(BIT1+BIT0),R0                 ;停止有り?
 7630                            1105             TST_BIT_OF DNDINC_ST_520                ;
 7631 00000406 8941                   M           BT      DNDINC_ST_520
 7632                            1106     
 7633 00000408 D10A              1107             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 7634 0000040A 6011              1108             MOV.W   @R1,R0                                  ;
 7635 0000040C 8802              1109             CMP/EQ  #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
 7636 0000040E 8B27              1110             BF      DNDINC_ST_350                           ;
 7637                            1111     
 7638                            1112     ;;;[2021-11-15];        ====== 反転/段取寸動===
 7639                            1113     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0                ;//<どの工程から開始するか
                                          > CHEAK
 7640                            1114     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標
                                          位置/待機点2 _POS_DRV_DIRECT
 7641                            1115     ;;;[2021-11-15] M_BRA   DNDINC_ST_380                           ;
 7642                            1116     ;       ====== [2021-11-15]停止付き===
 7643                            1117     ;       ====== 反転/段取寸動===
 7644                            1118             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7645 00000410 D009                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7646 00000412 400B                   M           JSR     @R0                     ;
 7647 00000414 0009                   M           NOP                                     ;
 7648                            1119             FAR_JSR #_DND_NEG_START_FLG_CLR,R0              ;
 7649 00000416 D009                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7650 00000418 400B                   M           JSR     @R0                     ;
 7651 0000041A 0009                   M           NOP                                     ;
 7652                            1120     
 7653                            1121     ;       ------- 2021-11-15ADD[[]]]
 7654 0000041C D108              1122             MOV.L   #_NEG_DND_STOP_USE_F,R1                 ;       //上死点(0)<停止<170の時 O
                                          n
 7655 0000041E 6010              1123             MOV.B   @R1,R0                                                  ;
 7656 00000420 2008              1124             TST             R0,R0                                                   ;
 7657                            1125             TST_BIT_ON DNDINC_ST_250                                ;
 7658 00000422 8B11                   M           BF      DNDINC_ST_250
 7659                            1126             FAR_JSR #_DND_LNK_STEP_CHECK0,R0                ;
 7660 00000424 D007                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    27
PROGRAM NAME =

 7661 00000426 400B                   M           JSR     @R0                     ;
 7662 00000428 0009                   M           NOP                                     ;
 7663                            1127             M_BRA   DNDINC_ST_290                                   ;
 7664 0000042A A010                   M           BRA     DNDINC_ST_290
 7665 0000042C 0009                   M           NOP
 7666                                     ***** BEGIN-POOL *****
 7667 0000042E 0000                       ALIGNMENT CODE
 7668 00000430 00000000                   DATA FOR SOURCE-LINE 1102
 7669 00000434 00000000                   DATA FOR SOURCE-LINE 1107
 7670 00000438 00000000                   DATA FOR SOURCE-LINE 1118
 7671 0000043C 00000000                   DATA FOR SOURCE-LINE 1119
 7672 00000440 00000000                   DATA FOR SOURCE-LINE 1122
 7673 00000444 00000000                   DATA FOR SOURCE-LINE 1126
 7674                                     ***** END-POOL *****
 7675 00000448                   1128     DNDINC_ST_250:
 7676                            1129             FAR_JSR #_DND_LNK_STEP_CHECK2,R0                ;//<どの工程から開始するか> CHEAK
 7677 00000448 D003                   M           MOV.L   #_DND_LNK_STEP_CHECK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7678 0000044A 400B                   M           JSR     @R0                     ;
 7679 0000044C 0009                   M           NOP                                     ;
 7680 0000044E                   1130     DNDINC_ST_290:
 7681                            1131             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7682 0000044E D103                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7683 00000450 410B                   M           JSR     @R1                     ;
 7684 00000452 0009                   M           NOP                                     ;
 7685                            1132             M_BRA   DNDINC_ST_380                           ;
 7686 00000454 A00D                   M           BRA     DNDINC_ST_380
 7687 00000456 0009                   M           NOP
 7688                            1133     
 7689                            1134     
 7690                            1135     
 7691                                     ***** BEGIN-POOL *****
 7692 00000458 00000000                   DATA FOR SOURCE-LINE 1129
 7693 0000045C 00000000                   DATA FOR SOURCE-LINE 1131
 7694                                     ***** END-POOL *****
 7695 00000460                   1136     DNDINC_ST_350:
 7696                            1137     ;       ====== 回転/段取寸動===
 7697                            1138     ;       +/-MAX位置を目標とする                                  ;
 7698                            1139     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7699                            1140             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7700 00000460 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7701 00000462 410B                   M           JSR     @R1                     ;
 7702 00000464 0009                   M           NOP                                     ;
 7703                            1141             FAR_JSR #_DNDINC_STEP_MAKE,R1                           ;
 7704 00000466 D106                   M           MOV.L   #_DNDINC_STEP_MAKE,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7705 00000468 410B                   M           JSR     @R1                     ;
 7706 0000046A 0009                   M           NOP                                     ;
 7707                            1142             FAR_JSR #_DNDINC_MAKE_OBJPOS,R1                         ;
 7708 0000046C D105                   M           MOV.L   #_DNDINC_MAKE_OBJPOS,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7709 0000046E 410B                   M           JSR     @R1                     ;
 7710 00000470 0009                   M           NOP                                     ;
 7711                            1143     
 7712 00000472                   1144     DNDINC_ST_380:
 7713                            1145             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7714 00000472 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7715 00000474 440B                   M           JSR     @R4                     ;
 7716 00000476 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    28
PROGRAM NAME =

 7717                            1146             M_BRA   DNDINC_ST_END                                   ;
 7718 00000478 A02F                   M           BRA     DNDINC_ST_END
 7719 0000047A 0009                   M           NOP
 7720                            1147     
 7721                            1148     
 7722                            1149     ;       -------- 今までのソフトをそのまま流す-------------
 7723                                     ***** BEGIN-POOL *****
 7724 0000047C 00000000                   DATA FOR SOURCE-LINE 1140
 7725 00000480 00000000                   DATA FOR SOURCE-LINE 1141
 7726 00000484 00000000                   DATA FOR SOURCE-LINE 1142
 7727 00000488 00000000                   DATA FOR SOURCE-LINE 1145
 7728                                     ***** END-POOL *****
 7729 0000048C                   1150     DNDINC_ST_520:
 7730 0000048C D108              1151             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 7731 0000048E 6011              1152             MOV.W   @R1,R0                          ;
 7732 00000490 8802              1153             CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 7733 00000492 8B17              1154             BF      DNDINC_ST_550           ;
 7734                            1155     
 7735                            1156     ;       ====== 反転/段取寸動===
 7736                            1157     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 7737                            1158     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7738                            1159             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7739 00000494 D007                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7740 00000496 400B                   M           JSR     @R0                     ;
 7741 00000498 0009                   M           NOP                                     ;
 7742                            1160             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
 7743 0000049A D007                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7744 0000049C 400B                   M           JSR     @R0                     ;
 7745 0000049E 0009                   M           NOP                                     ;
 7746                            1161             FAR_JSR #_DND_LNK_STEP_CHECK0,R0        ;//<どの工程から開始するか> CHEAK
 7747 000004A0 D006                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7748 000004A2 400B                   M           JSR     @R0                     ;
 7749 000004A4 0009                   M           NOP                                     ;
 7750                            1162             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 7751 000004A6 D106                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7752 000004A8 410B                   M           JSR     @R1                     ;
 7753 000004AA 0009                   M           NOP                                     ;
 7754                            1163             M_BRA   DNDINC_ST_580           ;
 7755 000004AC A012                   M           BRA     DNDINC_ST_580
 7756 000004AE 0009                   M           NOP
 7757                            1164     
 7758                                     ***** BEGIN-POOL *****
 7759 000004B0 00000000                   DATA FOR SOURCE-LINE 1151
 7760 000004B4 00000000                   DATA FOR SOURCE-LINE 1159
 7761 000004B8 00000000                   DATA FOR SOURCE-LINE 1160
 7762 000004BC 00000000                   DATA FOR SOURCE-LINE 1161
 7763 000004C0 00000000                   DATA FOR SOURCE-LINE 1162
 7764                                     ***** END-POOL *****
 7765 000004C4                   1165     DNDINC_ST_550:
 7766                            1166     ;       ====== 回転/段取寸動===
 7767                            1167     ;       +/-MAX位置を目標とする                                  ;
 7768                            1168     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7769                            1169             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7770 000004C4 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7771 000004C6 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    29
PROGRAM NAME =

 7772 000004C8 0009                   M           NOP                                     ;
 7773 000004CA D106              1170             MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 7774 000004CC 6011              1171             MOV.W   @R1,R0
 7775                            1172             FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 7776 000004CE D406                   M           MOV.L   #_LINK_P_M_MAX,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7777 000004D0 440B                   M           JSR     @R4                     ;
 7778 000004D2 0009                   M           NOP                                     ;
 7779 000004D4                   1173     DNDINC_ST_580:
 7780                            1174             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7781 000004D4 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7782 000004D6 440B                   M           JSR     @R4                     ;
 7783 000004D8 0009                   M           NOP                                     ;
 7784 000004DA                   1175     DNDINC_ST_END:
 7785                            1176             SUB_END
 7786                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7787 000004DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7788                            1177             M_RTS
 7789 000004DC 000B                   M           RTS                             ;RTSの後ろの
 7790 000004DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7791                            1178     
 7792                            1179     
 7793                            1180     
 7794                            1181     ;       ***********************************
 7795                            1182     ;       ***                             ***
 7796                            1183     ;       ***     段取寸動(回転仕様)      ***
 7797                            1184     ;       ***     方向                    ***
 7798                            1185     ;       ***     目標位置abs             ***
 7799                            1186     ;       ***                             ***
 7800                            1187     ;       ***********************************
 7801                            1188     ;       ANS R0          BIT0
 7802                            1189     ;                       BIT1=1:EQU ｲｺｰﾙ時は逆転から始める
 7803                            1190     ;       ｼｰｹﾝｽﾋﾞｯﾄから決定
 7804                            1191     ;       (増加方向ならMAX)
 7805                            1192     ;       (減少方向ならMIN)
 7806                            1193     ;
 7807                                     ***** BEGIN-POOL *****
 7808 000004E0 00000000                   DATA FOR SOURCE-LINE 1169
 7809 000004E4 00000000                   DATA FOR SOURCE-LINE 1170
 7810 000004E8 00000000                   DATA FOR SOURCE-LINE 1172
 7811 000004EC 00000000                   DATA FOR SOURCE-LINE 1174
 7812                                     ***** END-POOL *****
 7813 000004F0                   1194             .ALIGN  4                               ;
 7814 000004F0                   1195     _DNDINC_DIRECT_MAKE1:
 7815                            1196             SUB_START
 7816 000004F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7817                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7818 000004F2 D006              1197             MOV.L   #_CTL_ENC360,R0                 ;//360.0度(いまのところ不要)
 7819 000004F4 6101              1198             MOV.W   @R0,R1                          ;
 7820 000004F6 D406              1199             MOV.L   #_STR_ENC3600_DIG,R4            ;//運転開始時の360.0角度
 7821 000004F8 2411              1200             MOV.W   R1,@R4                          ;
 7822                            1201     
 7823 000004FA D106              1202             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7824 000004FC 6011              1203             MOV.W   @R1,R0                          ;
 7825 000004FE C901              1204             AND     #BIT0,R0                        ;(BIT0=0正転　BIT0=1逆転)
 7826                            1205     
 7827 00000500 D105              1206             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7828 00000502 2101              1207             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    30
PROGRAM NAME =

 7829                            1208             SUB_END
 7830                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7831 00000504 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7832                            1209             M_RTS
 7833 00000506 000B                   M           RTS                             ;RTSの後ろの
 7834 00000508 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7835                            1210     
 7836                            1211     ;       ***********************************
 7837                            1212     ;       ***                             ***
 7838                            1213     ;       ***     段取寸動(反転仕様)      ***
 7839                            1214     ;       ***     方向                    ***
 7840                            1215     ;       ***     目標位置abs             ***
 7841                            1216     ;       ***                             ***
 7842                            1217     ;       ***********************************
 7843                            1218     ;       <1>EXQ,EMG後の運転なら180を通らない方向待機点に向かう方向で,
 7844                            1219     ;          待機点を目指して運転開始
 7845                            1220     ;          待機点まで辿りついたら、一旦停止する。<FLG=0-->1>
 7846                            1221     ;
 7847                            1222     ;       <2>FLG=1
 7848                            1223     ;          下降から開始する.下限位置を目指す
 7849                            1224     ;          下限位置まで辿りついたら、一旦停止する。<FLG=1-->2>
 7850                            1225     ;
 7851                            1226     ;       <3>FLG=2
 7852                            1227     ;          上昇から開始する.待機位置を目指す
 7853                            1228     ;          待機位置まで辿りついたら、一旦停止する。<FLG=2-->1>
 7854                            1229     ;
 7855                            1230     ;
 7856                            1231     ;
 7857                            1232     ;       *******************************************
 7858                            1233     ;       ***                                     ***
 7859                            1234     ;       ***     運転釦による起動                ***
 7860                            1235     ;       ***     INT_DND_NEG_STEPを作成          ***
 7861                            1236     ;       ***                                     ***
 7862                            1237     ;       *******************************************
 7863                                     ***** BEGIN-POOL *****
 7864 0000050A 0000                       ALIGNMENT CODE
 7865 0000050C 00000000                   DATA FOR SOURCE-LINE 1197
 7866 00000510 00000000                   DATA FOR SOURCE-LINE 1199
 7867 00000514 00000000                   DATA FOR SOURCE-LINE 1202
 7868 00000518 00000000                   DATA FOR SOURCE-LINE 1206
 7869                                     ***** END-POOL *****
 7870 0000051C                   1238             .ALIGN  4                               ;
 7871                            1239     ;;2021-11-15_DND_LNK_STEP_CHECK1:
 7872                            1240     ;;2021-11-15    SUB_START
 7873                            1241     ;;2021-11-15;   ------- 2007-01-23-----
 7874                            1242     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL342,R1                           ;342
 7875                            1243     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7876                            1244     ;;2021-11-15    TST     #BIT3,R0                                        ;342.3
 7877                            1245     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_100                         ;OFF(往復運転　今
                                          までの)
 7878                            1246     ;;2021-11-15
 7879                            1247     ;;2021-11-15    MOV     #1,R2                                           ;
 7880                            1248     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL341,R1                           ;341.0=0 上昇
 7881                            1249     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7882                            1250     ;;2021-11-15    TST     #BIT0,R0                                        ;
 7883                            1251     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_050                         ;
 7884                            1252     ;;2021-11-15    MOV     #2,R2                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    31
PROGRAM NAME =

 7885                            1253     ;;2021-11-15DND_LNK_STEP_CK1_050:                                               ;
 7886                            1254     ;;2021-11-15    MOV.L   #_INT_DND_NEG_STEP,R1                           ;
 7887                            1255     ;;2021-11-15    MOV.W   R2,@R1                                          ;
 7888                            1256     ;;2021-11-15
 7889                            1257     ;;2021-11-15DND_LNK_STEP_CK1_100:
 7890                            1258     ;;2021-11-15;   ---------------------------
 7891                            1259     ;;2021-11-15
 7892                            1260     ;;2021-11-15    SUB_END
 7893                            1261     ;;2021-11-15    M_RTS
 7894                            1262     ;       ----------2021-11-15 ------------
 7895                            1263     ;       --------------------------------------
 7896                            1264     ;       ----------- 停止なし 起動       ----------
 7897                            1265     ;       --------------------------------------
 7898 0000051C                   1266     _DND_LNK_STEP_CHECK0:
 7899                            1267             SUB_START
 7900 0000051C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7901                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7902                            1268     
 7903                            1269     
 7904                            1270     ;---------------- 2007-01-23----------------------------------
 7905 0000051E D106              1271             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7906 00000520 6011              1272             MOV.W   @R1,R0                                                                  ;
 7907 00000522 C808              1273             TST             #BIT3,R0
                                          ;342.3
 7908                            1274             TST_BIT_OF DND_LNK_STEP_CHK0_200                                ;OFF(往復)
 7909 00000524 890C                   M           BT      DND_LNK_STEP_CHK0_200
 7910                            1275     
 7911                            1276     ;       ---------------- 下降運転／上昇-----------------------
 7912 00000526 E204              1277             MOV.B   #4,R2                                                                   ;
 7913 00000528 D104              1278             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7914 0000052A 6011              1279             MOV.W   @R1,R0                                                                  ;
 7915 0000052C C801              1280             TST             #BIT0,R0
                                          ;
 7916                            1281             TST_BIT_ON DND_LNK_STEP_CHK0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7917 0000052E 8B00                   M           BF      DND_LNK_STEP_CHK0_100
 7918 00000530 E202              1282             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7919 00000532                   1283     DND_LNK_STEP_CHK0_100:                                                          ;
 7920 00000532 6023              1284             MOV             R2,R0
                                          ;
 7921                            1285             M_BRA   DND_LNK_STEP_CHK0_450                                   ;
 7922 00000534 A00D                   M           BRA     DND_LNK_STEP_CHK0_450
 7923 00000536 0009                   M           NOP
 7924                            1286     
 7925                            1287     
 7926                            1288     ;       ---------------- 往復運転-----------------------
 7927                                     ***** BEGIN-POOL *****
 7928 00000538 00000000                   DATA FOR SOURCE-LINE 1271
 7929 0000053C 00000000                   DATA FOR SOURCE-LINE 1278
 7930                                     ***** END-POOL *****
 7931 00000540                   1289     DND_LNK_STEP_CHK0_200:                                                          ;
 7932 00000540 D502              1290             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7933 00000542 6051              1291             MOV.W   @R5,R0                                                                  ;
 7934 00000544 2008              1292             TST             R0,R0
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    32
PROGRAM NAME =

 7935                            1293             TST_BIT_OF DND_LNK_STEP_CHK0_400                                ;
 7936 00000546 8903                   M           BT      DND_LNK_STEP_CHK0_400
 7937                            1294             M_BRA   DND_LNK_STEP_CHK0_END                                   ;
 7938 00000548 A005                   M           BRA     DND_LNK_STEP_CHK0_END
 7939 0000054A 0009                   M           NOP
 7940                            1295     
 7941                                     ***** BEGIN-POOL *****
 7942 0000054C 00000000                   DATA FOR SOURCE-LINE 1290
 7943                                     ***** END-POOL *****
 7944 00000550                   1296     DND_LNK_STEP_CHK0_400:                                                          ;
 7945 00000550 E004              1297             MOV.B   #4,R0                                                                   ;
                                          上昇
 7946                            1298     
 7947 00000552                   1299     DND_LNK_STEP_CHK0_450:                                                          ;
 7948 00000552 D502              1300             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7949 00000554 2501              1301             MOV.W   R0,@R5                                                                  ;
 7950                            1302     
 7951 00000556                   1303     DND_LNK_STEP_CHK0_END:                                                          ;
 7952                            1304     
 7953                            1305             SUB_END
 7954                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7955 00000556 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7956                            1306             M_RTS
 7957 00000558 000B                   M           RTS                             ;RTSの後ろの
 7958 0000055A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7959                            1307     
 7960                            1308     ;       ---------------------------------------
 7961                            1309     ;       ----                                                            ---
 7962                            1310     ;       ---                     停止なし工程変更                ---
 7963                            1311     ;       ----                                                            ---
 7964                            1312     ;       ---------------------------------------
 7965                                     ***** BEGIN-POOL *****
 7966 0000055C 00000000                   DATA FOR SOURCE-LINE 1300
 7967                                     ***** END-POOL *****
 7968 00000560                   1313     _DND_NEG_LNK_STEP_CHANGE0:
 7969                            1314             SUB_START
 7970 00000560 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7971                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7972                            1315     
 7973                            1316     
 7974                            1317     ;       ---------------- 2007-01-23----------------------------------
 7975 00000562 D106              1318             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7976 00000564 6011              1319             MOV.W   @R1,R0                                                                  ;
 7977 00000566 C808              1320             TST             #BIT3,R0
                                          ;342.3
 7978                            1321             TST_BIT_OF DND_LNK_STEP_CHG0_400                                ;
 7979 00000568 890C                   M           BT      DND_LNK_STEP_CHG0_400
 7980                            1322     
 7981 0000056A E204              1323             MOV.B   #4,R2                                                                   ;
 7982 0000056C D104              1324             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7983 0000056E 6011              1325             MOV.W   @R1,R0                                                                  ;
 7984 00000570 C801              1326             TST             #BIT0,R0
                                          ;
 7985                            1327             TST_BIT_ON DND_LNK_STEP_CHG0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7986 00000572 8B00                   M           BF      DND_LNK_STEP_CHG0_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    33
PROGRAM NAME =

 7987 00000574 E202              1328             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7988 00000576                   1329     DND_LNK_STEP_CHG0_100:                                                          ;
 7989 00000576 6023              1330             MOV             R2,R0
                                          ;
 7990                            1331             M_BRA   DND_LNK_STEP_CHG0_425                                   ;固定
 7991 00000578 A00F                   M           BRA     DND_LNK_STEP_CHG0_425
 7992 0000057A 0009                   M           NOP
 7993                            1332     
 7994                            1333     
 7995                                     ***** BEGIN-POOL *****
 7996 0000057C 00000000                   DATA FOR SOURCE-LINE 1318
 7997 00000580 00000000                   DATA FOR SOURCE-LINE 1324
 7998                                     ***** END-POOL *****
 7999 00000584                   1334     DND_LNK_STEP_CHG0_400:                                                  ;
 8000                            1335     
 8001 00000584 D503              1336             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8002 00000586 6051              1337             MOV.W   @R5,R0                                                          ;
 8003 00000588 8804              1338             CMP/EQ  #4,R0                                                           ;4:上昇
 8004 0000058A 8B05              1339             BF              DND_LNK_STEP_CHG0_423                           ;
 8005 0000058C E002              1340             MOV.B   #2,R0                                                           ;2:下降
 8006                            1341             M_BRA   DND_LNK_STEP_CHG0_425                           ;
 8007 0000058E A004                   M           BRA     DND_LNK_STEP_CHG0_425
 8008 00000590 0009                   M           NOP
 8009                                     ***** BEGIN-POOL *****
 8010 00000592 0000                       ALIGNMENT CODE
 8011 00000594 00000000                   DATA FOR SOURCE-LINE 1336
 8012                                     ***** END-POOL *****
 8013 00000598                   1342     DND_LNK_STEP_CHG0_423:                                                  ;
 8014 00000598 E004              1343             MOV.B   #4,R0                                                           ;上昇
 8015                            1344     
 8016 0000059A                   1345     DND_LNK_STEP_CHG0_425:                                                  ;
 8017                            1346     
 8018 0000059A D502              1347             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8019 0000059C 2501              1348             MOV.W   R0,@R5                                                          ;
 8020                            1349     
 8021                            1350     
 8022 0000059E                   1351     DND_LNK_STEP_CHG0_END:                                                  ;
 8023                            1352             SUB_END
 8024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8025 0000059E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8026                            1353             M_RTS
 8027 000005A0 000B                   M           RTS                             ;RTSの後ろの
 8028 000005A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8029                            1354     
 8030                            1355     
 8031                            1356     
 8032                            1357     ;       ---------------------------------------
 8033                            1358     ;       ---                                                                     ---
 8034                            1359     ;       ---                     停止有起動                              ---
 8035                            1360     ;       ---                                                                     ---
 8036                            1361     ;       ---------------------------------------
 8037                            1362     ;       AREA
 8038                            1363     ;               停止角度(100):101~270度　停止角度100
 8039                            1364     ;
 8040                            1365     
 8041                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    34
PROGRAM NAME =

 8042 000005A4 00000000                   DATA FOR SOURCE-LINE 1347
 8043                                     ***** END-POOL *****
 8044 000005A8                   1366     _DND_LNK_STEP_CHECK2:
 8045                            1367             SUB_START
 8046 000005A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8047                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8048                            1368     
 8049                            1369     ;       ---------------- 2007-01-23----------------------------------
 8050 000005AA D108              1370             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 8051 000005AC 6011              1371             MOV.W   @R1,R0                                                                  ;
 8052 000005AE C808              1372             TST             #BIT3,R0
                                          ;342.3
 8053                            1373             TST_BIT_OF DND_LNK_STEP_CHK2_300                                ;OFF(往復)
 8054 000005B0 891E                   M           BT      DND_LNK_STEP_CHK2_300
 8055                            1374     
 8056                            1375     ;       ---------------- 下降運転／上昇-----------------------
 8057 000005B2 D107              1376             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 8058 000005B4 6011              1377             MOV.W   @R1,R0                                                                  ;
 8059 000005B6 C801              1378             TST             #BIT0,R0
                                          ;
 8060                            1379             TST_BIT_ON DND_LNK_STEP_CHK2_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 8061 000005B8 8B0E                   M           BF      DND_LNK_STEP_CHK2_100
 8062                            1380     
 8063                            1381     ;       --------- 下降から開始----------
 8064                            1382             FAR_JSR #_DND_NEG_AREA_JUDE1,R0                                 ;
 8065 000005BA D006                   M           MOV.L   #_DND_NEG_AREA_JUDE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8066 000005BC 400B                   M           JSR     @R0                     ;
 8067 000005BE 0009                   M           NOP                                     ;
 8068 000005C0 E202              1383             MOV.B   #2,R2                                                                   ;
                                          下限
 8069 000005C2 2008              1384             TST             R0,R0
                                          ;
 8070                            1385             TST_BIT_ON DND_LNK_STEP_CHK2_199                                ;ON:
 8071 000005C4 8B0F                   M           BF      DND_LNK_STEP_CHK2_199
 8072 000005C6 E201              1386             MOV.B   #1,R2
 8073                            1387             M_BRA   DND_LNK_STEP_CHK2_199                                           ;ON:
 8074 000005C8 A00D                   M           BRA     DND_LNK_STEP_CHK2_199
 8075 000005CA 0009                   M           NOP
 8076                            1388     
 8077                            1389     ;       --------- 上昇から開始----------
 8078                                     ***** BEGIN-POOL *****
 8079 000005CC 00000000                   DATA FOR SOURCE-LINE 1370
 8080 000005D0 00000000                   DATA FOR SOURCE-LINE 1376
 8081 000005D4 00000000                   DATA FOR SOURCE-LINE 1382
 8082                                     ***** END-POOL *****
 8083 000005D8                   1390     DND_LNK_STEP_CHK2_100:                                                          ;
 8084                            1391             FAR_JSR #_DND_NEG_AREA_JUDE2,R0                                 ;
 8085 000005D8 D004                   M           MOV.L   #_DND_NEG_AREA_JUDE2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8086 000005DA 400B                   M           JSR     @R0                     ;
 8087 000005DC 0009                   M           NOP                                     ;
 8088                            1392     
 8089 000005DE E204              1393             MOV.B   #4,R2                                                                   ;0
                                          度
 8090 000005E0 2008              1394             TST             R0,R0
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    35
PROGRAM NAME =

 8091                            1395             TST_BIT_OF DND_LNK_STEP_CHK2_199                                ;OFF
 8092 000005E2 8900                   M           BT      DND_LNK_STEP_CHK2_199
 8093 000005E4 E203              1396             MOV.B   #3,R2                                                                   ;
 8094 000005E6                   1397     DND_LNK_STEP_CHK2_199:                                                          ;
 8095 000005E6 6023              1398             MOV             R2,R0
                                          ;
 8096                            1399             M_BRA   DND_LNK_STEP_CHK2_450
 8097 000005E8 A00B                   M           BRA     DND_LNK_STEP_CHK2_450
 8098 000005EA 0009                   M           NOP
 8099                            1400     
 8100                            1401     
 8101                            1402     ;       ---------------- 往復運転-----------------------
 8102                                     ***** BEGIN-POOL *****
 8103 000005EC 00000000                   DATA FOR SOURCE-LINE 1391
 8104                                     ***** END-POOL *****
 8105 000005F0                   1403     DND_LNK_STEP_CHK2_300:                                                          ;
 8106 000005F0 D502              1404             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 8107 000005F2 6051              1405             MOV.W   @R5,R0                                                                  ;
 8108 000005F4 2008              1406             TST             R0,R0
                                          ;
 8109                            1407             TST_BIT_OF DND_LNK_STEP_CHK2_400                                ;
 8110 000005F6 8903                   M           BT      DND_LNK_STEP_CHK2_400
 8111                            1408             M_BRA   DND_LNK_STEP_CHK2_END                                   ;
 8112 000005F8 A005                   M           BRA     DND_LNK_STEP_CHK2_END
 8113 000005FA 0009                   M           NOP
 8114                            1409     
 8115                                     ***** BEGIN-POOL *****
 8116 000005FC 00000000                   DATA FOR SOURCE-LINE 1404
 8117                                     ***** END-POOL *****
 8118 00000600                   1410     DND_LNK_STEP_CHK2_400:                                                          ;
 8119 00000600 E004              1411             MOV.B   #4,R0                                                                   ;
                                          上昇
 8120                            1412     
 8121 00000602                   1413     DND_LNK_STEP_CHK2_450:                                                          ;
 8122 00000602 D502              1414             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 8123 00000604 2501              1415             MOV.W   R0,@R5                                                                  ;
 8124                            1416     
 8125 00000606                   1417     DND_LNK_STEP_CHK2_END:                                                          ;
 8126                            1418     
 8127                            1419             SUB_END
 8128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8129 00000606 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8130                            1420             M_RTS
 8131 00000608 000B                   M           RTS                             ;RTSの後ろの
 8132 0000060A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8133                            1421     
 8134                            1422     
 8135                            1423     
 8136                            1424     
 8137                            1425     ;       ---------------------------------------
 8138                            1426     ;       ----                                                            ---
 8139                            1427     ;       ---                     停止工程変更                    ---
 8140                            1428     ;       ----                                                            ---
 8141                            1429     ;       ---------------------------------------
 8142                            1430     ;       1->2
 8143                            1431     ;       3->4
 8144                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    36
PROGRAM NAME =

 8145 0000060C 00000000                   DATA FOR SOURCE-LINE 1414
 8146                                     ***** END-POOL *****
 8147 00000610                   1432     _DND_NEG_LNK_STEP_CHANGE2:
 8148                            1433             SUB_START
 8149 00000610 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8150                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8151                            1434     
 8152                            1435     
 8153                            1436     ;       ---------------- 2007-01-23----------------------------------
 8154 00000612 D103              1437             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 8155 00000614 6011              1438             MOV.W   @R1,R0                                                                  ;
 8156 00000616 C808              1439             TST             #BIT3,R0
                                          ;342.3
 8157                            1440             TST_BIT_OF DND_LNK_STEP_CHG2_300                                ;OFF(往復)
 8158 00000618 8904                   M           BT      DND_LNK_STEP_CHG2_300
 8159                            1441             M_BRA   DND_LNK_STEP_CHG2_END                                   ;
 8160 0000061A A014                   M           BRA     DND_LNK_STEP_CHG2_END
 8161 0000061C 0009                   M           NOP
 8162                            1442     
 8163                            1443     ;       -----------------------------------------
 8164                                     ***** BEGIN-POOL *****
 8165 0000061E 0000                       ALIGNMENT CODE
 8166 00000620 00000000                   DATA FOR SOURCE-LINE 1437
 8167                                     ***** END-POOL *****
 8168 00000624                   1444     DND_LNK_STEP_CHG2_300:                                                  ;
 8169                            1445     
 8170 00000624 D505              1446             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8171 00000626 6051              1447             MOV.W   @R5,R0                                                          ;
 8172 00000628 2008              1448             TST             R0,R0                                                           ;
 8173                            1449             TST_BIT_OF DND_LNK_STEP_CHG2_END                        ;EXIT
 8174 0000062A 890C                   M           BT      DND_LNK_STEP_CHG2_END
 8175                            1450     
 8176 0000062C 9404              1451             MOV.W   #4,R4
 8177 0000062E 3042              1452             CMP/HS  R4,R0                                                           ;4:上昇最
                                          終
 8178 00000630 8906              1453             BT              DND_LNK_STEP_CHG2_320                           ;
 8179                            1454     
 8180 00000632 7001              1455             ADD             #1,R0                                                           ;
 8181                            1456             M_BRA   DND_LNK_STEP_CHG2_400                           ;
 8182 00000634 A005                   M           BRA     DND_LNK_STEP_CHG2_400
 8183 00000636 0009                   M           NOP
 8184                            1457     
 8185                                     ***** BEGIN-POOL *****
 8186 00000638 0004                       DATA FOR SOURCE-LINE 1451
 8187 0000063A 0000                       ALIGNMENT CODE
 8188 0000063C 00000000                   DATA FOR SOURCE-LINE 1446
 8189                                     ***** END-POOL *****
 8190 00000640                   1458     DND_LNK_STEP_CHG2_320:                                                  ;
 8191 00000640 E001              1459             MOV.B   #1,R0                                                           ;
 8192                            1460     
 8193 00000642                   1461     DND_LNK_STEP_CHG2_400:                                                  ;
 8194 00000642 D502              1462             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8195 00000644 2501              1463             MOV.W   R0,@R5                                                          ;
 8196                            1464     
 8197                            1465     
 8198 00000646                   1466     DND_LNK_STEP_CHG2_END:                                                  ;
 8199                            1467     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    37
PROGRAM NAME =

 8200                            1468             SUB_END
 8201                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8202 00000646 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8203                            1469             M_RTS
 8204 00000648 000B                   M           RTS                             ;RTSの後ろの
 8205 0000064A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8206                            1470     
 8207                            1471     
 8208                            1472     ;
 8209                            1473     ;
 8210                            1474     ;
 8211                            1475     ;
 8212                                     ***** BEGIN-POOL *****
 8213 0000064C 00000000                   DATA FOR SOURCE-LINE 1462
 8214                                     ***** END-POOL *****
 8215 00000650                   1476     _DND_NEG_START_FLG_CLR
 8216                            1477             SUB_START
 8217 00000650 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8218                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8219                            1478     
 8220 00000652 200A              1479             XOR             R0,R0
 8221 00000654 D102              1480             MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
 8222 00000656 2100              1481             MOV.B   R0,@R1                                                          ;
 8223                            1482     
 8224                            1483             SUB_END
 8225                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8226 00000658 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8227                            1484             M_RTS
 8228 0000065A 000B                   M           RTS                             ;RTSの後ろの
 8229 0000065C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8230                            1485     
 8231                            1486     
 8232                            1487     ;//     ***********************************************
 8233                            1488     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8234                            1489     ;//     ***********************************************
 8235                            1490     ;段取停止STOP-SW-ON
 8236                            1491     ;0<段取停止位置<170[下限]
 8237                            1492     ;_SVP_DND_STOPDIG1      .SRES   2               ;段取停止角度 0~358.0
 8238                            1493     ;_SET1_DND_STOPDIG_UP(0):設定
 8239                            1494     ;       MOV.L   #_SET1_DND_STOP_SW,R1           ;0,BIT0,BIT1
 8240                            1495     ;       MOV.W   R0,@R1                          ;
 8241                            1496     ;
 8242                            1497             .IMPORT _SVP_DND_STOPDIG1                       ;
 8243                            1498             .IMPORT _SVP_DNAREA_JUDG                        ;
 8244                            1499     
 8245                                     ***** BEGIN-POOL *****
 8246 0000065E 0000                       ALIGNMENT CODE
 8247 00000660 00000000                   DATA FOR SOURCE-LINE 1480
 8248                                     ***** END-POOL *****
 8249 00000664                   1500     _DND_NEG_STOP_SVCHK:
 8250                            1501             SUB_START
 8251 00000664 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8252                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8253                            1502     
 8254 00000666 277A              1503             XOR             R7,R7                                           ;
 8255                            1504     
 8256                            1505     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    38
PROGRAM NAME =

 8257 00000668 D109              1506             MOV.L   #_SET1_DND_STOP_SW,R1                                   ;0,BIT0,BIT1
 8258 0000066A 6011              1507             MOV.W   @R1,R0                                                                  ;
 8259 0000066C C802              1508             TST             #BIT1,R0
                                          ;
 8260                            1509             TST_BIT_OF      DND_NEG_STOP_SVCK_OFF                           ;
 8261 0000066E 890A                   M           BT      DND_NEG_STOP_SVCK_OFF
 8262                            1510     
 8263 00000670 D108              1511             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;[2021-11-15a] 342
 8264 00000672 6011              1512             MOV.W   @R1,R0                                                                  ;[
                                          2021-11-15a]
 8265 00000674 C808              1513             TST             #BIT3,R0
                                          ;[2021-11-15a]342.3
 8266                            1514             TST_BIT_OF DND_NEG_STOP_SVCK_OFF                                ;[2021-11-15a][停
                                          止させない]
 8267 00000676 8906                   M           BT      DND_NEG_STOP_SVCK_OFF
 8268                            1515     
 8269 00000678 D107              1516             MOV.L   #_SVP_DND_STOPDIG1,R1           ;
 8270 0000067A 6211              1517             MOV.W   @R1,R2                                          ;停止角度
 8271                            1518     
 8272 0000067C D107              1519             MOV.L   #_SVP_DNAREA_JUDG,R1            ;
 8273 0000067E 6312              1520             MOV.L   @R1,R3                                          ;
 8274                            1521     
 8275 00000680 3322              1522             CMP/HS  R2,R3                                           ;R2() < R3(170)
 8276 00000682 8B00              1523             BF              DND_NEG_STOP_SVCK_OFF           ;170より大きい
 8277                            1524     
 8278 00000684                   1525     DND_NEG_STOP_SVCK_ON:
 8279 00000684 E701              1526             MOV.B   #BIT0,R7                                        ;
 8280 00000686                   1527     DND_NEG_STOP_SVCK_OFF:
 8281 00000686                   1528     DND_NEG_STOP_SVCK_SET:
 8282 00000686 D106              1529             MOV.L   #_NEG_DND_STOP_USE_F,R1         ;       //上死点(0)<停止<170の時 On
 8283 00000688 2170              1530             MOV.B   R7,@R1                                          ;
 8284                            1531     
 8285 0000068A                   1532     DND_NEG_STOP_SVCK_EXT:
 8286                            1533             SUB_END
 8287                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8288 0000068A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8289                            1534             M_RTS
 8290 0000068C 000B                   M           RTS                             ;RTSの後ろの
 8291 0000068E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8292                            1535     
 8293                            1536     ;//     ***********************************************
 8294                            1537     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8295                            1538     ;//     ***********************************************
 8296                            1539     ;R2=3,4(停止位置より上)
 8297                            1540     ;
 8298                            1541     ;
 8299                            1542     ;
 8300                            1543     ;;;_DND_NEG_UP_AREA_JUDE_STEP_MAKE:
 8301                            1544     ;;;     SUB_START
 8302                            1545     ;;;
 8303                            1546     ;;;     MOV.B   #4,R2                                                                   ;
 8304                            1547     
 8305                            1548     ;       --------- 上昇する-------------
 8306                            1549     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8307                            1550     ;;;     MOV.B   @R1,R0
                                          ;
 8308                            1551     ;;;     TST             R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    39
PROGRAM NAME =

                                                  ;
 8309                            1552     ;;;     TST_BIT_OF DND_NEG_UP_AREAJUDE_STEP_MKEND                       ;
 8310                            1553     ;;;
 8311                            1554     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8312                            1555     ;;;     TST             R0,R0
                                                  ;
 8313                            1556     ;;;     TST_BIT_OF      DND_NEG_UP_AREAJUDE_STEP_MKEND                  ;0~停止角度内 0度
                                          をめざす[R2=4]
 8314                            1557     ;;;
 8315                            1558     ;;;
 8316                            1559     ;;;     MOV.B   #3,R2                                                                   ;
 8317                            1560     ;;;
 8318                            1561     ;;;
 8319                            1562     ;;;DND_NEG_UP_AREAJUDE_STEP_MKEND:
 8320                            1563     ;;;
 8321                            1564     ;;;     SUB_END
 8322                            1565     ;;;     M_RTS
 8323                            1566     
 8324                            1567     
 8325                            1568     
 8326                            1569     ;//     ***********************************************
 8327                            1570     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8328                            1571     ;//     ***********************************************
 8329                            1572     ;;;_DND_NEG_DN_AREA_JUDE_STEP_MAKE:
 8330                            1573     ;;;     SUB_START
 8331                            1574     ;;;
 8332                            1575     ;;;     MOV.B   #2,R2                                                                   ;
 8333                            1576     ;;;
 8334                            1577     ;       --------- 下降する-------------
 8335                            1578     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8336                            1579     ;;;     MOV.B   @R1,R0
                                          ;
 8337                            1580     ;;;     TST             R0,R0
                                                  ;
 8338                            1581     ;;;     TST_BIT_OF DND_NEG_DN_AREAJUDE_STEP_MKEND                       ;
 8339                            1582     ;;;
 8340                            1583     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8341                            1584     ;;;     TST             R0,R0
                                                  ;
 8342                            1585     ;;;     TST_BIT_ON      DND_NEG_DN_AREAJUDE_STEP_MKEND                  ;停止角度内~170度
                                          170度をめざす[R2=2]
 8343                            1586     ;;;
 8344                            1587     ;;;
 8345                            1588     ;;;     MOV.B   #1,R2                                                                   ;
 8346                            1589     ;;;
 8347                            1590     ;;;
 8348                            1591     ;;;DND_NEG_DN_AREAJUDE_STEP_MKEND:
 8349                            1592     ;;;
 8350                            1593     ;;;     SUB_END
 8351                            1594     ;;;     M_RTS
 8352                            1595     
 8353                            1596     
 8354                            1597     
 8355                            1598     
 8356                            1599     
 8357                            1600     ;//     ***********************************************
 8358                            1601     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    40
PROGRAM NAME =

 8359                            1602     ;//     ***********************************************
 8360                            1603     ;       停止角度100度
 8361                            1604     ;       101度~270:      上昇時は100度を目標とする
 8362                            1605     ;                               下降時は170度を目標とする
 8363                            1606     ;       R0=0 上昇時は待機点を目標にする
 8364                            1607     ;       R0=0 下降時時は停止角度を目標にする
 8365                            1608     ;
 8366                            1609     ;[下降のため]
 8367                                     ***** BEGIN-POOL *****
 8368 00000690 00000000                   DATA FOR SOURCE-LINE 1506
 8369 00000694 00000000                   DATA FOR SOURCE-LINE 1511
 8370 00000698 00000000                   DATA FOR SOURCE-LINE 1516
 8371 0000069C 00000000                   DATA FOR SOURCE-LINE 1519
 8372 000006A0 00000000                   DATA FOR SOURCE-LINE 1529
 8373                                     ***** END-POOL *****
 8374 000006A4                   1610     _DND_NEG_AREA_JUDE1
 8375                            1611             SUB_START
 8376 000006A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8378                            1612     
 8379 000006A6 200A              1613             XOR             R0,R0
 8380                            1614     
 8381 000006A8 9410              1615             MOV.W   #D'10,R4
 8382 000006AA D109              1616             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8383 000006AC 6311              1617             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8384 000006AE 3348              1618             SUB             R4,R3                                                   ;
 8385 000006B0 4311              1619             CMP/PZ  R3                                                              ;
 8386 000006B2 8900              1620             BT      DND_NEG_AREA_JD1_050                            ;
 8387 000006B4 233A              1621             XOR             R3,R3                                                   ;
 8388 000006B6                   1622     DND_NEG_AREA_JD1_050                                            ;
 8389                            1623     
 8390 000006B6 D107              1624             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8391 000006B8 6211              1625             MOV.W   @R1,R2                                                  ;
 8392 000006BA 9108              1626             MOV.W   #D'2700,R1                                              ;270.0
 8393                            1627     
 8394 000006BC 3232              1628             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8395 000006BE 8B02              1629             BF              DND_NEG_AREA_JD1_100                            ;NO! R2<ANS R0=0
 8396                            1630     
 8397 000006C0 3212              1631             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8398 000006C2 8900              1632             BT              DND_NEG_AREA_JD1_100                    ;YES:0:0停止角度
 8399                            1633     
 8400 000006C4 E001              1634             MOV.B   #1,R0                                                   ;
 8401                            1635     
 8402 000006C6                   1636     DND_NEG_AREA_JD1_100
 8403                            1637     
 8404                            1638     
 8405                            1639     
 8406                            1640             SUB_END
 8407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8408 000006C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8409                            1641             M_RTS
 8410 000006C8 000B                   M           RTS                             ;RTSの後ろの
 8411 000006CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8412                            1642     
 8413                            1643     
 8414                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    41
PROGRAM NAME =

 8415 000006CC 000A                       DATA FOR SOURCE-LINE 1615
 8416 000006CE 0A8C                       DATA FOR SOURCE-LINE 1626
 8417 000006D0 00000000                   DATA FOR SOURCE-LINE 1616
 8418 000006D4 00000000                   DATA FOR SOURCE-LINE 1624
 8419                                     ***** END-POOL *****
 8420 000006D8                   1644     _DND_NEG_AREA_JUDE2
 8421                            1645             SUB_START
 8422 000006D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8423                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8424                            1646     
 8425 000006DA 200A              1647             XOR             R0,R0
 8426                            1648     
 8427 000006DC 940D              1649             MOV.W   #D'10,R4
 8428 000006DE D108              1650             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8429 000006E0 6311              1651             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8430 000006E2 334C              1652             ADD             R4,R3                                                   ;101.0~
 8431 000006E4 D107              1653             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8432 000006E6 6211              1654             MOV.W   @R1,R2                                                  ;
 8433 000006E8 9108              1655             MOV.W   #D'2700,R1                                              ;270.0
 8434                            1656     
 8435 000006EA 3232              1657             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8436 000006EC 8B02              1658             BF              DND_NEG_AREA_JD2_100                            ;NO! R2<ANS R0=0
 8437                            1659     
 8438 000006EE 3212              1660             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8439 000006F0 8900              1661             BT              DND_NEG_AREA_JD2_100                            ;YES:0:0停止角度
 8440                            1662     
 8441 000006F2 E001              1663             MOV.B   #1,R0                                                   ;
 8442                            1664     
 8443 000006F4                   1665     DND_NEG_AREA_JD2_100
 8444                            1666     
 8445                            1667     
 8446                            1668     
 8447                            1669             SUB_END
 8448                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8449 000006F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8450                            1670             M_RTS
 8451 000006F6 000B                   M           RTS                             ;RTSの後ろの
 8452 000006F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8453                            1671     
 8454                            1672     
 8455                            1673     
 8456                            1674     
 8457                            1675     ;               -------------- 反転専用-------------
 8458                            1676     ;               ------------- 往復自動運転---------------
 8459                            1677     ;               ------------- 上昇のみ運転---------------
 8460                            1678     ;               ------------- 下降のみ運転---------------
 8461                                     ***** BEGIN-POOL *****
 8462 000006FA 000A                       DATA FOR SOURCE-LINE 1649
 8463 000006FC 0A8C                       DATA FOR SOURCE-LINE 1655
 8464 000006FE 0000                       ALIGNMENT CODE
 8465 00000700 00000000                   DATA FOR SOURCE-LINE 1650
 8466 00000704 00000000                   DATA FOR SOURCE-LINE 1653
 8467                                     ***** END-POOL *****
 8468 00000708                   1679             .ALIGN  4                               ;
 8469 00000708                   1680     _DND_LNKPLS_OBJMAK1:
 8470                            1681             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    42
PROGRAM NAME =

 8471 00000708 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8472                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8473                            1682     
 8474                            1683     
 8475 0000070A D10C              1684             MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8476 0000070C 6011              1685             MOV.W   @R1,R0                                          ;
 8477 0000070E 2008              1686             TST             R0,R0                                           ;
 8478                            1687             TST_BIT_OF DND_LNKPLS_OBJ_UPPOS1        ;0:上へ(自動運転のみ)
 8479 00000710 8907                   M           BT      DND_LNKPLS_OBJ_UPPOS1
 8480                            1688     
 8481 00000712 8802              1689             CMP/EQ  #2,R0                                           ;
 8482 00000714 891C              1690             BT      DND_LNKPLS_OBJ_DNPOS1                   ;反転STEP=2:170度:下死点を目標に動
                                          作
 8483 00000716 8804              1691             CMP/EQ  #4,R0                                           ;
 8484 00000718 8903              1692             BT      DND_LNKPLS_OBJ_UPPOS1                   ;反転STEP=4:0度:待機点を目標に動作
 8485                            1693     
 8486 0000071A 8801              1694             CMP/EQ  #1,R0                                           ;
 8487 0000071C 8924              1695             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8488 0000071E 8803              1696             CMP/EQ  #3,R0                                           ;
 8489 00000720 8922              1697             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8490                            1698     
 8491                            1699     ;       ------[0][基本無しとする]-----
 8492                            1700     
 8493                            1701     ;       === 方向を判別して待機点を目指す ===
 8494                            1702     ;       ------------ 上死点位置---------------
 8495 00000722                   1703     DND_LNKPLS_OBJ_UPPOS1:
 8496 00000722                   1704     DND_LNKPLS_OBJ_UPPOS0:
 8497 00000722 D007              1705             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点0度固定(上死点)
 8498 00000724 6202              1706             MOV.L   @R0,R2                                                  ;
 8499                            1707     
 8500                            1708     
 8501                            1709     ;       ==== 2004-05-23====
 8502 00000726 D007              1710             MOV.L   #_PAR_WTSEL_USE,R0                              ;
 8503 00000728 6001              1711             MOV.W   @R0,R0                                                  ;
 8504 0000072A 8801              1712             CMP/EQ  #1,R0                                                   ;待機点選択使用時
                                          は上死点ではない
 8505 0000072C 8B01              1713             BF      DND_LNKPLS_OBJ_CHG050                           ;
 8506                            1714     
 8507 0000072E D006              1715             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8508 00000730 6202              1716             MOV.L   @R0,R2                                                  ;
 8509 00000732                   1717     DND_LNKPLS_OBJ_CHG050:
 8510                            1718             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8511 00000732 D006                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8512 00000734 400B                   M           JSR     @R0                     ;
 8513 00000736 0009                   M           NOP                                     ;
 8514                            1719             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8515 00000738 A01B                   M           BRA     DND_LNKPLS_OBJMK1_END
 8516 0000073A 0009                   M           NOP
 8517                            1720     
 8518                            1721     
 8519                            1722     ;       ------------ 下限位置---------------
 8520                                     ***** BEGIN-POOL *****
 8521 0000073C 00000000                   DATA FOR SOURCE-LINE 1684
 8522 00000740 00000000                   DATA FOR SOURCE-LINE 1705
 8523 00000744 00000000                   DATA FOR SOURCE-LINE 1710
 8524 00000748 00000000                   DATA FOR SOURCE-LINE 1715
 8525 0000074C 00000000                   DATA FOR SOURCE-LINE 1718
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    43
PROGRAM NAME =

 8526                                     ***** END-POOL *****
 8527 00000750                   1723     DND_LNKPLS_OBJ_DNPOS1:
 8528 00000750 D003              1724             MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8529 00000752 6202              1725             MOV.L   @R0,R2                                                  ;
 8530                            1726             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8531 00000754 D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8532 00000756 400B                   M           JSR     @R0                     ;
 8533 00000758 0009                   M           NOP                                     ;
 8534                            1727             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8535 0000075A A00A                   M           BRA     DND_LNKPLS_OBJMK1_END
 8536 0000075C 0009                   M           NOP
 8537                            1728     
 8538                            1729     
 8539                            1730     
 8540                            1731     ;[2021-11-11]
 8541                            1732     ;       ------------ 停止位置---------------
 8542                            1733     ;       MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8543                            1734     
 8544                                     ***** BEGIN-POOL *****
 8545 0000075E 0000                       ALIGNMENT CODE
 8546 00000760 00000000                   DATA FOR SOURCE-LINE 1724
 8547 00000764 00000000                   DATA FOR SOURCE-LINE 1726
 8548                                     ***** END-POOL *****
 8549 00000768                   1735     DND_LNKPLS_OBJ_STOPPOS1
 8550 00000768 D003              1736             MOV.L   #_SET1_DND_PLSTOP+1*4,R0                ;
 8551 0000076A 6202              1737             MOV.L   @R0,R2                                                  ;
 8552                            1738             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8553 0000076C D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8554 0000076E 400B                   M           JSR     @R0                     ;
 8555 00000770 0009                   M           NOP                                     ;
 8556 00000772                   1739     DND_LNKPLS_OBJMK1_END:
 8557                            1740     
 8558                            1741     
 8559                            1742             SUB_END
 8560                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8561 00000772 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8562                            1743             M_RTS
 8563 00000774 000B                   M           RTS                             ;RTSの後ろの
 8564 00000776 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8565                            1744     
 8566                            1745     ;;[2021-11-15]  .ALIGN  4                               ;
 8567                            1746     ;;[2021-11-15]_DND_LNKPLS_OBJMAK1:
 8568                            1747     ;;[2021-11-15]  SUB_START
 8569                            1748     ;;[2021-11-15]  MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8570                            1749     ;;[2021-11-15]  MOV.W   @R1,R0                          ;
 8571                            1750     ;;[2021-11-15]  CMP/EQ  #1,R0                           ;
 8572                            1751     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_DNPOS1           ;下死点を目標に動作
 8573                            1752     ;;[2021-11-15]  CMP/EQ  #2,R0                           ;
 8574                            1753     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_UPPOS1           ;待機点を目標に動作
 8575                            1754     ;;[2021-11-15]
 8576                            1755     ;;[2021-11-15]; === 方向を判別して待機点を目指す ===
 8577                            1756     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS1:
 8578                            1757     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS0:
 8579                            1758     ;;[2021-11-15];;;ｵﾘｷﾞﾅﾙｿﾌﾄ      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 8580                            1759     ;;[2021-11-15]  MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(上死点)
 8581                            1760     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    44
PROGRAM NAME =

 8582                            1761     ;;[2021-11-15]; ==== 2004-05-23====
 8583                            1762     ;;[2021-11-15]  MOV.L   #_PAR_WTSEL_USE,R0
 8584                            1763     ;;[2021-11-15]  MOV.W   @R0,R0                                  ;
 8585                            1764     ;;[2021-11-15]  CMP/EQ  #1,R0                                   ;待機点選択使用時は上死点
                                          ではない
 8586                            1765     ;;[2021-11-15]  BF      DND_LNKPLS_OBJ_CHG050                   ;
 8587                            1766     ;;[2021-11-15]  MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8588                            1767     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8589                            1768     ;;[2021-11-15]DND_LNKPLS_OBJ_CHG050:
 8590                            1769     ;;[2021-11-15]; ===================
 8591                            1770     ;;[2021-11-15]
 8592                            1771     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8593                            1772     ;;[2021-11-15]  M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8594                            1773     ;;[2021-11-15]
 8595                            1774     ;;[2021-11-15]DND_LNKPLS_OBJ_DNPOS1:
 8596                            1775     ;;[2021-11-15]  MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8597                            1776     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8598                            1777     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8599                            1778     ;;[2021-11-15]DND_LNKPLS_OBJMK1_END:
 8600                            1779     ;;[2021-11-15]  SUB_END
 8601                            1780     ;;[2021-11-15]  M_RTS
 8602                            1781     
 8603                            1782     
 8604                            1783     ;       *******************************************
 8605                            1784     ;       ***                                     ***
 8606                            1785     ;       ***             Input R2                ***
 8607                            1786     ;       ***             ﾘﾝｸ(内部制御)ﾊﾟﾙｽ       ***
 8608                            1787     ;       ***                                     ***
 8609                            1788     ;       *******************************************
 8610                            1789     ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
 8611                            1790     ;       MOV.L   @R4,R2                                  ;
 8612                            1791     ;
 8613                                     ***** BEGIN-POOL *****
 8614 00000778 00000000                   DATA FOR SOURCE-LINE 1736
 8615 0000077C 00000000                   DATA FOR SOURCE-LINE 1738
 8616                                     ***** END-POOL *****
 8617 00000780                   1792             .ALIGN  4                               ;
 8618 00000780                   1793     _LNKPLS_OBJ_DAT_MAK1:
 8619                            1794             SUB_START
 8620 00000780 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8621                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8622                            1795             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;
 8623 00000782 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8624 00000784 400B                   M           JSR     @R0                     ;
 8625 00000786 0009                   M           NOP                                     ;
 8626                            1796     
 8627                            1797             PUSH_REG1 R2
 8628 00000788 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8629                                 M                                           ;REG=>[SP]
 8630                                 M                                           ;"-4" FF,FF,FF,FC
 8631                            1798     
 8632                            1799     
 8633                            1800             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8634 0000078A D00A                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8635 0000078C 400B                   M           JSR     @R0                     ;
 8636 0000078E 0009                   M           NOP                                     ;
 8637                            1801     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    45
PROGRAM NAME =

 8638                            1802             POP_REG1 R2
 8639                                 M                                   ; RE"+4" 00,00,00,04
 8640 00000790 62F6                   M           MOV.L   @R15+,R2        ;
 8641                            1803     ;       === 目標角度(R2) ====
 8642                            1804     
 8643                            1805     ;;      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8644                            1806     ;;      MOV.L   @R0,R2                                  ;
 8645                            1807     
 8646 00000792 D409              1808             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8647 00000794 6142              1809             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8648                            1810                                                             ;目標 ***.* pls
 8649 00000796 D409              1811             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8650 00000798 6342              1812             MOV.L   @R4,R3                                  ;
 8651                            1813     ;
 8652                            1814     ;       ===== R3~R2の範囲にR1がいれば正転===
 8653                            1815             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8654 0000079A 3233                   M           CMP/GE  R3,R2
 8655 0000079C 8B10                   M           BF      JMP0100000
 8656                                 M   ;       === 0度をはさなまい===
 8657 0000079E 200A                   M           XOR     R0,R0
 8658 000007A0 3133                   M           CMP/GE  R3,R1           ;
 8659 000007A2 8B13                   M           BF      JMP0200000                      ; PV<SV1
 8660 000007A4 3213                   M           CMP/GE  R1,R2           ;
 8661 000007A6 8B11                   M           BF      JMP0200000                      ; SV2<PV2 (1)
 8662 000007A8 E001                   M           MOV     #1,R0           ;
 8663                                 M           M_BRA   JMP0200000                      ;
 8664 000007AA A00F                   M           BRA     JMP0200000
 8665 000007AC 0009                   M           NOP
 8666                                 M   
 8667                                 M   ;       ==== ０度をはさむ====
 8668                                 M   ***** BEGIN-POOL *****
 8669 000007AE 0000                   M   ALIGNMENT CODE
 8670 000007B0 00000000               M   DATA FOR SOURCE-LINE 1795
 8671 000007B4 00000000               M   DATA FOR SOURCE-LINE 1800
 8672 000007B8 00000000               M   DATA FOR SOURCE-LINE 1808
 8673 000007BC 00000000               M   DATA FOR SOURCE-LINE 1811
 8674                                 M   ***** END-POOL *****
 8675 000007C0                        M   JMP0100000:
 8676 000007C0 E001                   M           MOV     #1,R0
 8677 000007C2 3133                   M           CMP/GE  R3,R1
 8678 000007C4 8902                   M           BT      JMP0200000                      ;SV1=<PV=<360
 8679 000007C6 3213                   M           CMP/GE  R1,R2           ;
 8680 000007C8 8900                   M           BT      JMP0200000                      ;
 8681 000007CA 200A                   M           XOR     R0,R0           ;
 8682 000007CC                        M   JMP0200000:
 8683 000007CC 233A              1816             XOR     R3,R3
 8684 000007CE 2008              1817             TST     R0,R0
 8685                            1818             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_150               ;
 8686 000007D0 8B00                   M           BF      LNKPLS_OBJ_DAT_MK1_150
 8687 000007D2 E3FF              1819             MOV     #-1,R3
 8688 000007D4                   1820     LNKPLS_OBJ_DAT_MK1_150:                                 ;R2
 8689                            1821     
 8690 000007D4 2338              1822             TST     R3,R3                                   ;正転
 8691                            1823             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_300               ;逆転 JUMP
 8692 000007D6 8B0D                   M           BF      LNKPLS_OBJ_DAT_MK1_300
 8693                            1824     ;       ==== 正転方向でいく ====
 8694 000007D8 3218              1825             SUB     R1,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    46
PROGRAM NAME =

 8695 000007DA 4211              1826             CMP/PZ  R2
 8696 000007DC 8915              1827             BT      LNKPLS_OBJ_DAT_MK1_500                  ;R2 >= 0(R2は符号付距離)
 8697 000007DE D504              1828             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8698 000007E0 6452              1829             MOV.L   @R5,R4                                  ;
 8699 000007E2 324C              1830             ADD     R4,R2                                   ;
 8700 000007E4 4211              1831             CMP/PZ  R2
 8701 000007E6 8910              1832             BT      LNKPLS_OBJ_DAT_MK1_500          ;
 8702 000007E8 222A              1833             XOR     R2,R2                                   ;
 8703                            1834             M_BRA   LNKPLS_OBJ_DAT_MK1_500                  ;
 8704 000007EA A00E                   M           BRA     LNKPLS_OBJ_DAT_MK1_500
 8705 000007EC 0009                   M           NOP
 8706                            1835     
 8707                                     ***** BEGIN-POOL *****
 8708 000007EE 0000                       ALIGNMENT CODE
 8709 000007F0 00000000                   DATA FOR SOURCE-LINE 1828
 8710                                     ***** END-POOL *****
 8711 000007F4                   1836     LNKPLS_OBJ_DAT_MK1_300:                         ;R2
 8712 000007F4 3218              1837             SUB     R1,R2                                   ;300-270
 8713 000007F6 622B              1838             NEG     R2,R2                                   ;
 8714 000007F8 4211              1839             CMP/PZ  R2
 8715 000007FA 8905              1840             BT      LNKPLS_OBJ_DAT_MK1_400                  ;R2 >= 0(R2は符号付距離)
 8716 000007FC D514              1841             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8717 000007FE 6452              1842             MOV.L   @R5,R4                                  ;
 8718 00000800 324C              1843             ADD     R4,R2                                   ;
 8719 00000802 4211              1844             CMP/PZ  R2
 8720 00000804 8900              1845             BT      LNKPLS_OBJ_DAT_MK1_400                  ;
 8721 00000806 222A              1846             XOR     R2,R2                                   ;
 8722 00000808                   1847     LNKPLS_OBJ_DAT_MK1_400:                         ;
 8723 00000808 622B              1848             NEG     R2,R2                                   ;
 8724 0000080A                   1849     LNKPLS_OBJ_DAT_MK1_500:                         ;
 8725 0000080A 255A              1850             XOR     R5,R5                                   ;
 8726 0000080C 6623              1851             MOV     R2,R6                                   ;
 8727 0000080E 4211              1852             CMP/PZ  R2                                      ;
 8728 00000810 8900              1853             BT      LNKPLS_OBJ_DAT_MK1_600                  ;
 8729 00000812 E5FF              1854             MOV     #-1,R5                                  ;
 8730 00000814                   1855     LNKPLS_OBJ_DAT_MK1_600:                                 ;
 8731                            1856     
 8732 00000814 D40F              1857             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
 8733 00000816 6146              1858             MOV.L   @R4+,R1                                 ;
 8734 00000818 6242              1859             MOV.L   @R4,R2                                  ;
 8735                            1860             PUSH_REG1 R1
 8736 0000081A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8737                                 M                                           ;REG=>[SP]
 8738                                 M                                           ;"-4" FF,FF,FF,FC
 8739                            1861             PUSH_REG1 R2
 8740 0000081C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8741                                 M                                           ;REG=>[SP]
 8742                                 M                                           ;"-4" FF,FF,FF,FC
 8743                            1862             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8744 0000081E 0008                   M           CLRT
 8745 00000820 326E                   M           ADDC    R6,R2
 8746 00000822 315E                   M           ADDC    R5,R1
 8747                            1863     
 8748 00000824 D40C              1864             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8749 00000826 2412              1865             MOV.L   R1,@R4                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    47
PROGRAM NAME =

 8750 00000828 1421              1866             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8751                            1867             POP_REG1 R6
 8752                                 M                                   ; RE"+4" 00,00,00,04
 8753 0000082A 66F6                   M           MOV.L   @R15+,R6        ;
 8754                            1868             POP_REG1 R5
 8755                                 M                                   ; RE"+4" 00,00,00,04
 8756 0000082C 65F6                   M           MOV.L   @R15+,R5        ;
 8757                            1869     
 8758                            1870             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8759 0000082E 0008                   M           CLRT
 8760 00000830 326A                   M           SUBC    R6,R2
 8761 00000832 315A                   M           SUBC    R5,R1
 8762 00000834 233A              1871             XOR     R3,R3
 8763 00000836 4111              1872             CMP/PZ  R1                              ;
 8764 00000838 8900              1873             BT      LNKPLS_OBJ_DAT_MK1_750          ;
 8765 0000083A E301              1874             MOV     #BIT0,R3                        ;
 8766 0000083C                   1875     LNKPLS_OBJ_DAT_MK1_750:                         ;
 8767 0000083C D107              1876             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8768 0000083E 2131              1877             MOV.W   R3,@R1                          ;
 8769                            1878     
 8770 00000840 D107              1879             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8771 00000842 6011              1880             MOV.W   @R1,R0                  ;
 8772 00000844 C9FE              1881             AND     #LOW ~BIT0,R0           ;
 8773 00000846 203B              1882             OR      R3,R0                   ;
 8774 00000848 2101              1883             MOV.W   R0,@R1                  ;
 8775                            1884     
 8776                            1885             SUB_END
 8777                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8778 0000084A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8779                            1886             M_RTS
 8780 0000084C 000B                   M           RTS                             ;RTSの後ろの
 8781 0000084E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8782                            1887     
 8783                            1888     
 8784                            1889     
 8785                            1890     
 8786                            1891     
 8787                            1892     
 8788                            1893     
 8789                            1894     
 8790                            1895     
 8791                            1896     
 8792                            1897     
 8793                            1898     
 8794                            1899     
 8795                            1900     
 8796                            1901     
 8797                            1902     
 8798                            1903     ;       ***********************************
 8799                            1904     ;       ***                             ***
 8800                            1905     ;       ***     段取寸動                ***
 8801                            1906     ;       ***     速度設定                ***
 8802                            1907     ;       ***                             ***
 8803                            1908     ;       ***********************************
 8804                                     ***** BEGIN-POOL *****
 8805 00000850 00000000                   DATA FOR SOURCE-LINE 1841
 8806 00000854 00000000                   DATA FOR SOURCE-LINE 1857
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    48
PROGRAM NAME =

 8807 00000858 00000000                   DATA FOR SOURCE-LINE 1864
 8808 0000085C 00000000                   DATA FOR SOURCE-LINE 1876
 8809 00000860 00000000                   DATA FOR SOURCE-LINE 1879
 8810                                     ***** END-POOL *****
 8811 00000864                   1909             .ALIGN  4                               ;
 8812 00000864                   1910     _DNDINC_SPD_SET:
 8813                            1911             SUB_START
 8814 00000864 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8815                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8816                            1912     
 8817                            1913     ;       --------2011-09-20-
 8818                            1914             PUSH_REG1 R0    ;2011-09-20
 8819 00000866 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8820                                 M                                           ;REG=>[SP]
 8821                                 M                                           ;"-4" FF,FF,FF,FC
 8822                            1915     
 8823                            1916     
 8824                            1917     ;;;;2016-04-16  MOV.L   #_SET1_DNDINC_SPD1,R1   ;
 8825                            1918     ;;;;2016-04-16  MOV.L   @R1,R2                  ;
 8826                            1919     
 8827                            1920             FAR_JSR #_DND_SPD_SEQ_SET,R0            ;2016-04-16
 8828 00000868 D008                   M           MOV.L   #_DND_SPD_SEQ_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8829 0000086A 400B                   M           JSR     @R0                     ;
 8830 0000086C 0009                   M           NOP                                     ;
 8831                            1921     
 8832                            1922     ;       ---------------------------
 8833 0000086E D108              1923             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8834 00000870 6011              1924             MOV.W   @R1,R0                          ;
 8835 00000872 C840              1925             TST     #BIT6,R0                        ;
 8836                            1926             TST_BIT_OF DNDINC_SPDSET_100            ;
 8837 00000874 8904                   M           BT      DNDINC_SPDSET_100
 8838                            1927     
 8839 00000876 D107              1928             MOV.L   #_WPARX_BRKTST_DNDLMT,R1        ;
 8840 00000878 6012              1929             MOV.L   @R1,R0                          ;
 8841                            1930     
 8842 0000087A 3202              1931             CMP/HS  R0,R2                           ;R0<R2
 8843 0000087C 8B00              1932             BF      DNDINC_SPDSET_100               ;NO JUMP(R2=<R0)
 8844 0000087E 6203              1933             MOV     R0,R2                           ;
 8845 00000880                   1934     DNDINC_SPDSET_100:
 8846                            1935     ;       ---------------------------
 8847                            1936     
 8848 00000880 D105              1937             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 8849 00000882 2122              1938             MOV.L   R2,@R1                  ;
 8850                            1939     
 8851                            1940             POP_REG1 R0     ;2011-09-20
 8852                                 M                                   ; RE"+4" 00,00,00,04
 8853 00000884 60F6                   M           MOV.L   @R15+,R0        ;
 8854                            1941     
 8855                            1942             SUB_END
 8856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8857 00000886 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8858                            1943             M_RTS
 8859 00000888 000B                   M           RTS                             ;RTSの後ろの
 8860 0000088A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8861                            1944     
 8862                            1945     ;       *******************************************
 8863                            1946     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    49
PROGRAM NAME =

 8864                            1947     ;       ***     2016-04-16 段取速度SEQ変更      ***
 8865                            1948     ;       ***                                     ***
 8866                            1949     ;       *******************************************
 8867                                     ***** BEGIN-POOL *****
 8868 0000088C 00000000                   DATA FOR SOURCE-LINE 1920
 8869 00000890 00000000                   DATA FOR SOURCE-LINE 1923
 8870 00000894 00000000                   DATA FOR SOURCE-LINE 1928
 8871 00000898 00000000                   DATA FOR SOURCE-LINE 1937
 8872                                     ***** END-POOL *****
 8873 0000089C                   1950     _DND_SPD_SEQ_SET:
 8874                            1951             SUB_START
 8875 0000089C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8877                            1952     
 8878 0000089E D10C              1953             MOV.L   #_SET1_DNDINC_SPD1,R1           ;
 8879 000008A0 6212              1954             MOV.L   @R1,R2                          ;
 8880                            1955     
 8881 000008A2 D10C              1956             MOV.L   #_CB_SEQ_CB_COM356,R1           ;
 8882 000008A4 6011              1957             MOV.W   @R1,R0                          ;
 8883 000008A6 C880              1958             TST     #BIT7,R0                        ;356.7
 8884                            1959             TST_BIT_OF DND_SPD_SEQSET_END           ;
 8885 000008A8 890D                   M           BT      DND_SPD_SEQSET_END
 8886                            1960     
 8887 000008AA C97F              1961             AND     #H'7F,R0                        ;
 8888 000008AC 2008              1962             TST     R0,R0                           ;
 8889                            1963             TST_BIT_OF DND_SPD_SEQSET_END           ;指定速度=0
 8890 000008AE 890A                   M           BT      DND_SPD_SEQSET_END
 8891                            1964     
 8892 000008B0 940C              1965             MOV.W   #D'100,R4                       ;100%単位
 8893 000008B2 3046              1966             CMP/HI  R4,R0                           ;R4 < R0
 8894 000008B4 8B00              1967             BF      DND_SPD_SEQSET_100              ;NO!
 8895 000008B6 6043              1968             MOV     R4,R0                           ;
 8896 000008B8                   1969     DND_SPD_SEQSET_100:                             ;
 8897 000008B8 6203              1970             MOV     R0,R2                           ;
 8898 000008BA D007              1971             MOV.L   #_LINK_MAX_SPD_PLS,R0           ;
 8899 000008BC 6102              1972             MOV.L   @R0,R1                          ;data(R2) *R1/R4
 8900 000008BE 9405              1973             MOV.W   #D'100,R4                       ;100%単位
 8901                            1974             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
 8902 000008C0 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8903 000008C2 400B                   M           JSR     @R0                     ;
 8904 000008C4 0009                   M           NOP                                     ;
 8905                            1975     
 8906 000008C6                   1976     DND_SPD_SEQSET_END:
 8907                            1977     
 8908                            1978             SUB_END
 8909                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8910 000008C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8911                            1979             M_RTS
 8912 000008C8 000B                   M           RTS                             ;RTSの後ろの
 8913 000008CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8914                            1980     
 8915                            1981     ;       *******************************************
 8916                            1982     ;       ***                                     ***
 8917                            1983     ;       ***     今の回転上の上死点+3．0を目指す ***
 8918                            1984     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8919                            1985     ;       *******************************************
 8920                            1986     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    50
PROGRAM NAME =

 8921                            1987     ;                                           -180度以下相当のパルスなら +1回転
 8922                            1988             .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8923                            1989             .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8924                            1990     
 8925                            1991     
 8926                            1992     
 8927                            1993     
 8928                            1994     ;       *******************************************
 8929                            1995     ;       ***                                     ***
 8930                            1996     ;       ***     今の回転上の上死点-3．0を目指す ***
 8931                            1997     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8932                            1998     ;       *******************************************
 8933                            1999     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8934                            2000     ;                                           -180度以下相当のパルスなら +1回転
 8935                            2001     ;;      .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8936                            2002     ;;      .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8937                                     ***** BEGIN-POOL *****
 8938 000008CC 0064                       DATA FOR SOURCE-LINE 1965,1973
 8939 000008CE 0000                       ALIGNMENT CODE
 8940 000008D0 00000000                   DATA FOR SOURCE-LINE 1953
 8941 000008D4 00000000                   DATA FOR SOURCE-LINE 1956
 8942 000008D8 00000000                   DATA FOR SOURCE-LINE 1971
 8943 000008DC 00000000                   DATA FOR SOURCE-LINE 1974
 8944                                     ***** END-POOL *****
 8945 000008E0                   2003             .ALIGN  4                               ;
 8946 000008E0                   2004     _LINK_UPPLS_A_OBJMAK1:
 8947                            2005             SUB_START
 8948 000008E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8949                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8950                            2006     
 8951                            2007     
 8952                            2008             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8953 000008E2 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8954 000008E4 400B                   M           JSR     @R0                     ;
 8955 000008E6 0009                   M           NOP                                     ;
 8956                            2009     
 8957                            2010     ;       === 目標角度 ====
 8958 000008E8 D010              2011             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(1回目は上死点)
 8959 000008EA 6202              2012             MOV.L   @R0,R2                                  ;これは反転でも回転で待機点選択有
                                          りでも同じ
 8960 000008EC D010              2013             MOV.L   #_ORG_FIRST_OBJPLS,R0                   ;[-ﾏｲﾅｽﾃﾞｰﾀ]
 8961 000008EE 6102              2014             MOV.L   @R0,R1                                  ;
 8962 000008F0 321C              2015             ADD     R1,R2                                   ;
 8963 000008F2 D510              2016             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8964 000008F4 6452              2017             MOV.L   @R5,R4                                  ;
 8965                            2018     
 8966                            2019     ;;;2011-03-22[0度不具合]        CMP/HI  R2,R4                                   ;R2 < R4
 8967 000008F6 3423              2020             CMP/GE  R2,R4                                   ;R2 < R4
 8968 000008F8 8900              2021             BT      LINK_UPPLS_A_OBJMK1_100                 ;
 8969 000008FA 3248              2022             SUB     R4,R2                                   ;
 8970 000008FC                   2023     LINK_UPPLS_A_OBJMK1_100:                                ;R2
 8971                            2024     
 8972                            2025     ;       ------ 2011-03-22--------
 8973 000008FC 4211              2026             CMP/PZ  R2
 8974 000008FE 8900              2027             BT      LINK_UPPLS_A_OBJMK1_110                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    51
PROGRAM NAME =

 8975 00000900 324C              2028             ADD     R4,R2                                   ;
 8976 00000902                   2029     LINK_UPPLS_A_OBJMK1_110:                                ;
 8977                            2030     
 8978                            2031     
 8979                            2032     
 8980                            2033     
 8981                            2034     
 8982 00000902 D40D              2035             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8983 00000904 6142              2036             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8984                            2037                                                             ;目標 ***.* pls
 8985 00000906 D40D              2038             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8986 00000908 6342              2039             MOV.L   @R4,R3                                  ;
 8987                            2040     
 8988                            2041     ;       ===========2008-04-28 =======
 8989                            2042     ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R0             ;
 8990                            2043     
 8991 0000090A D00D              2044             MOV.L   #_ORIGN_180ARA_FLG,R0   ;
 8992 0000090C 6001              2045             MOV.W   @R0,R0                                  ;
 8993 0000090E C820              2046             TST     #BIT5,R0                                ;
 8994                            2047             TST_BIT_ON LINK_UPPLS_A_OBJMK1_145              ;逆転固定
 8995 00000910 8B21                   M           BF      LINK_UPPLS_A_OBJMK1_145
 8996                            2048     ;       ================================
 8997                            2049     
 8998                            2050     
 8999                            2051     ;       ===== R3~R2の範囲にR1がいれば正転===
 9000                            2052             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 9001 00000912 3233                   M           CMP/GE  R3,R2
 9002 00000914 8B16                   M           BF      JMP0100001
 9003                                 M   ;       === 0度をはさなまい===
 9004 00000916 200A                   M           XOR     R0,R0
 9005 00000918 3133                   M           CMP/GE  R3,R1           ;
 9006 0000091A 8B19                   M           BF      JMP0200001                      ; PV<SV1
 9007 0000091C 3213                   M           CMP/GE  R1,R2           ;
 9008 0000091E 8B17                   M           BF      JMP0200001                      ; SV2<PV2 (1)
 9009 00000920 E001                   M           MOV     #1,R0           ;
 9010                                 M           M_BRA   JMP0200001                      ;
 9011 00000922 A015                   M           BRA     JMP0200001
 9012 00000924 0009                   M           NOP
 9013                                 M   
 9014                                 M   ;       ==== ０度をはさむ====
 9015                                 M   ***** BEGIN-POOL *****
 9016 00000926 0000                   M   ALIGNMENT CODE
 9017 00000928 00000000               M   DATA FOR SOURCE-LINE 2008
 9018 0000092C 00000000               M   DATA FOR SOURCE-LINE 2011
 9019 00000930 00000000               M   DATA FOR SOURCE-LINE 2013
 9020 00000934 00000000               M   DATA FOR SOURCE-LINE 2016
 9021 00000938 00000000               M   DATA FOR SOURCE-LINE 2035
 9022 0000093C 00000000               M   DATA FOR SOURCE-LINE 2038
 9023 00000940 00000000               M   DATA FOR SOURCE-LINE 2044
 9024                                 M   ***** END-POOL *****
 9025 00000944                        M   JMP0100001:
 9026 00000944 E001                   M           MOV     #1,R0
 9027 00000946 3133                   M           CMP/GE  R3,R1
 9028 00000948 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
 9029 0000094A 3213                   M           CMP/GE  R1,R2           ;
 9030 0000094C 8900                   M           BT      JMP0200001                      ;
 9031 0000094E 200A                   M           XOR     R0,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    52
PROGRAM NAME =

 9032 00000950                        M   JMP0200001:
 9033 00000950 233A              2053             XOR     R3,R3
 9034 00000952 2008              2054             TST     R0,R0
 9035                            2055             TST_BIT_ON LINK_UPPLS_A_OBJMK1_150              ;
 9036 00000954 8B00                   M           BF      LINK_UPPLS_A_OBJMK1_150
 9037 00000956                   2056     LINK_UPPLS_A_OBJMK1_145:                                ;R2
 9038 00000956 E3FF              2057             MOV     #-1,R3
 9039 00000958                   2058     LINK_UPPLS_A_OBJMK1_150:                                ;R2
 9040                            2059     
 9041 00000958 2338              2060             TST     R3,R3                                   ;正転
 9042                            2061             TST_BIT_ON LINK_UPPLS_A_OBJMK1_300              ;逆転 JUMP
 9043 0000095A 8B0D                   M           BF      LINK_UPPLS_A_OBJMK1_300
 9044                            2062     ;       ==== 正転方向でいく ====
 9045 0000095C 3218              2063             SUB     R1,R2                                   ;
 9046 0000095E 4211              2064             CMP/PZ  R2
 9047 00000960 8915              2065             BT      LINK_UPPLS_A_OBJMK1_500                 ;R2 >= 0(R2は符号付距離)
 9048 00000962 D504              2066             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9049 00000964 6452              2067             MOV.L   @R5,R4                                  ;
 9050 00000966 324C              2068             ADD     R4,R2                                   ;
 9051 00000968 4211              2069             CMP/PZ  R2
 9052 0000096A 8910              2070             BT      LINK_UPPLS_A_OBJMK1_500         ;
 9053 0000096C 222A              2071             XOR     R2,R2                                   ;
 9054                            2072             M_BRA   LINK_UPPLS_A_OBJMK1_500                 ;
 9055 0000096E A00E                   M           BRA     LINK_UPPLS_A_OBJMK1_500
 9056 00000970 0009                   M           NOP
 9057                            2073     
 9058                                     ***** BEGIN-POOL *****
 9059 00000972 0000                       ALIGNMENT CODE
 9060 00000974 00000000                   DATA FOR SOURCE-LINE 2066
 9061                                     ***** END-POOL *****
 9062 00000978                   2074     LINK_UPPLS_A_OBJMK1_300:                                ;R2
 9063 00000978 3218              2075             SUB     R1,R2                                   ;300-270
 9064 0000097A 622B              2076             NEG     R2,R2                                   ;
 9065 0000097C 4211              2077             CMP/PZ  R2
 9066 0000097E 8905              2078             BT      LINK_UPPLS_A_OBJMK1_400                 ;R2 >= 0(R2は符号付距離)
 9067 00000980 D514              2079             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9068 00000982 6452              2080             MOV.L   @R5,R4                                  ;
 9069 00000984 324C              2081             ADD     R4,R2                                   ;
 9070 00000986 4211              2082             CMP/PZ  R2
 9071 00000988 8900              2083             BT      LINK_UPPLS_A_OBJMK1_400         ;
 9072 0000098A 222A              2084             XOR     R2,R2                                   ;
 9073 0000098C                   2085     LINK_UPPLS_A_OBJMK1_400:                                ;
 9074 0000098C 622B              2086             NEG     R2,R2                                   ;
 9075 0000098E                   2087     LINK_UPPLS_A_OBJMK1_500:                                ;
 9076 0000098E 255A              2088             XOR     R5,R5
 9077 00000990 6623              2089             MOV     R2,R6                                   ;
 9078 00000992 4211              2090             CMP/PZ  R2                                      ;
 9079 00000994 8900              2091             BT      LINK_UPPLS_A_OBJMK1_600                 ;
 9080 00000996 E5FF              2092             MOV     #-1,R5                                  ;
 9081 00000998                   2093     LINK_UPPLS_A_OBJMK1_600:                                ;
 9082                            2094     
 9083                            2095     
 9084 00000998 D40F              2096             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9085 0000099A 6146              2097             MOV.L   @R4+,R1                                                 ;
 9086 0000099C 6242              2098             MOV.L   @R4,R2                                                  ;
 9087                            2099             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    53
PROGRAM NAME =

 9088 0000099E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9089                                 M                                           ;REG=>[SP]
 9090                                 M                                           ;"-4" FF,FF,FF,FC
 9091                            2100             PUSH_REG1 R2
 9092 000009A0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9093                                 M                                           ;REG=>[SP]
 9094                                 M                                           ;"-4" FF,FF,FF,FC
 9095                            2101             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9096 000009A2 0008                   M           CLRT
 9097 000009A4 326E                   M           ADDC    R6,R2
 9098 000009A6 315E                   M           ADDC    R5,R1
 9099                            2102     
 9100 000009A8 D40C              2103             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9101 000009AA 2412              2104             MOV.L   R1,@R4                                          ;
 9102 000009AC 1421              2105             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9103                            2106             POP_REG1 R6
 9104                                 M                                   ; RE"+4" 00,00,00,04
 9105 000009AE 66F6                   M           MOV.L   @R15+,R6        ;
 9106                            2107             POP_REG1 R5
 9107                                 M                                   ; RE"+4" 00,00,00,04
 9108 000009B0 65F6                   M           MOV.L   @R15+,R5        ;
 9109                            2108             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9110 000009B2 0008                   M           CLRT
 9111 000009B4 326A                   M           SUBC    R6,R2
 9112 000009B6 315A                   M           SUBC    R5,R1
 9113 000009B8 233A              2109             XOR     R3,R3
 9114 000009BA 4111              2110             CMP/PZ  R1                              ;+
 9115 000009BC 8900              2111             BT      LINK_UPPLS_A_OBJMK1_700         ;
 9116 000009BE E301              2112             MOV     #BIT0,R3
 9117 000009C0                   2113     LINK_UPPLS_A_OBJMK1_700:                                ;
 9118 000009C0 D107              2114             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9119 000009C2 2131              2115             MOV.W   R3,@R1                          ;
 9120                            2116     
 9121 000009C4 D107              2117             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9122 000009C6 6011              2118             MOV.W   @R1,R0                  ;
 9123 000009C8 C9FE              2119             AND     #LOW ~BIT0,R0           ;
 9124 000009CA 203B              2120             OR      R3,R0                   ;
 9125 000009CC 2101              2121             MOV.W   R0,@R1                  ;
 9126                            2122     
 9127                            2123             SUB_END
 9128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9129 000009CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9130                            2124             M_RTS
 9131 000009D0 000B                   M           RTS                             ;RTSの後ろの
 9132 000009D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9133                            2125     
 9134                            2126     
 9135                            2127     ;       ***************************************************
 9136                            2128     ;       ***                                             ***
 9137                            2129     ;       ***     １回目の目標位置+6.0を目指す            ***
 9138                            2130     ;       ***                                             ***
 9139                            2131     ;       ***************************************************
 9140                                     ***** BEGIN-POOL *****
 9141 000009D4 00000000                   DATA FOR SOURCE-LINE 2079
 9142 000009D8 00000000                   DATA FOR SOURCE-LINE 2096
 9143 000009DC 00000000                   DATA FOR SOURCE-LINE 2103
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    54
PROGRAM NAME =

 9144 000009E0 00000000                   DATA FOR SOURCE-LINE 2114
 9145 000009E4 00000000                   DATA FOR SOURCE-LINE 2117
 9146                                     ***** END-POOL *****
 9147 000009E8                   2132             .ALIGN  4                               ;
 9148 000009E8                   2133     _LINK_UPPLS_A_OBJMAK2:
 9149                            2134             SUB_START
 9150 000009E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9151                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9152                            2135             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 9153 000009EA D013                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9154 000009EC 400B                   M           JSR     @R0                     ;
 9155 000009EE 0009                   M           NOP                                     ;
 9156                            2136     
 9157 000009F0 D412              2137             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9158 000009F2 6142              2138             MOV.L   @R4,R1                                          ;
 9159 000009F4 5241              2139             MOV.L   @(1*4,R4),R2                                    ;目標位置ｾｯﾄ
 9160 000009F6 D412              2140             MOV.L   #_ORG_SECOND_OBJPLS,R4                          ;
 9161 000009F8 6642              2141             MOV.L   @R4,R6                                          ;
 9162 000009FA 255A              2142             XOR     R5,R5                                           ;
 9163 000009FC 4611              2143             CMP/PZ  R6
 9164 000009FE 8900              2144             BT      LINK_UPPLS_A_OBJMK2_030                         ;あり得ない
 9165 00000A00 75FF              2145             ADD     #-1,R5                                          ;
 9166 00000A02                   2146     LINK_UPPLS_A_OBJMK2_030:                                                ;
 9167                            2147             FAR_JSR #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;
 9168 00000A02 D010                   M           MOV.L   #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9169 00000A04 400B                   M           JSR     @R0                     ;
 9170 00000A06 0009                   M           NOP                                     ;
 9171                            2148     
 9172 00000A08 D40C              2149             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9173 00000A0A 2412              2150             MOV.L   R1,@R4                                          ;
 9174 00000A0C 1421              2151             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9175                            2152     
 9176 00000A0E D40E              2153             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9177 00000A10 6546              2154             MOV.L   @R4+,R5                                                         ;
 9178 00000A12 6642              2155             MOV.L   @R4,R6                                                          ;
 9179                            2156             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9180 00000A14 0008                   M           CLRT
 9181 00000A16 326A                   M           SUBC    R6,R2
 9182 00000A18 315A                   M           SUBC    R5,R1
 9183 00000A1A 233A              2157             XOR     R3,R3
 9184 00000A1C 4111              2158             CMP/PZ  R1                              ;
 9185 00000A1E 8900              2159             BT      LINK_UPPLS_A_OBJMK2_050         ;
 9186 00000A20 E301              2160             MOV     #BIT0,R3                        ;
 9187 00000A22                   2161     LINK_UPPLS_A_OBJMK2_050:                                ;
 9188 00000A22 D10A              2162             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9189 00000A24 2131              2163             MOV.W   R3,@R1                          ;
 9190                            2164     
 9191 00000A26 D10A              2165             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9192 00000A28 6011              2166             MOV.W   @R1,R0                  ;
 9193 00000A2A C9FE              2167             AND     #LOW ~BIT0,R0           ;
 9194 00000A2C 203B              2168             OR      R3,R0                   ;
 9195 00000A2E 2101              2169             MOV.W   R0,@R1                  ;
 9196                            2170     
 9197                            2171             SUB_END
 9198                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    55
PROGRAM NAME =

 9199 00000A30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9200                            2172             M_RTS
 9201 00000A32 000B                   M           RTS                             ;RTSの後ろの
 9202 00000A34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9203                            2173     
 9204                            2174     ;       ***************************************************
 9205                            2175     ;       ***                                             ***
 9206                            2176     ;       ***     今の回転上の待機点を目指す              ***
 9207                            2177     ;       ***     本当は正転する待機点を目指す            ***
 9208                            2178     ;       ***************************************************
 9209                            2179     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9210                            2180     ;
 9211                                     ***** BEGIN-POOL *****
 9212 00000A36 0000                       ALIGNMENT CODE
 9213 00000A38 00000000                   DATA FOR SOURCE-LINE 2135
 9214 00000A3C 00000000                   DATA FOR SOURCE-LINE 2137,2149
 9215 00000A40 00000000                   DATA FOR SOURCE-LINE 2140
 9216 00000A44 00000000                   DATA FOR SOURCE-LINE 2147
 9217 00000A48 00000000                   DATA FOR SOURCE-LINE 2153
 9218 00000A4C 00000000                   DATA FOR SOURCE-LINE 2162
 9219 00000A50 00000000                   DATA FOR SOURCE-LINE 2165
 9220                                     ***** END-POOL *****
 9221 00000A54                   2181             .ALIGN  4                               ;
 9222 00000A54                   2182     _LINK_UPPLS_A_OBJMAK3:
 9223                            2183             SUB_START
 9224 00000A54 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9225                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9226                            2184     
 9227                            2185     
 9228                            2186             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
 9229 00000A56 D009                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9230 00000A58 400B                   M           JSR     @R0                     ;
 9231 00000A5A 0009                   M           NOP                                     ;
 9232                            2187     
 9233                            2188     
 9234                            2189             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9235 00000A5C D008                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9236 00000A5E 400B                   M           JSR     @R0                     ;
 9237 00000A60 0009                   M           NOP                                     ;
 9238                            2190     
 9239                            2191     ;       ----------- 2014-09-18 -----------------
 9240                            2192             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9241 00000A62 D008                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9242 00000A64 400B                   M           JSR     @R0                     ;
 9243 00000A66 0009                   M           NOP                                     ;
 9244                            2193     
 9245                            2194     
 9246                            2195     ;;2014-09-18　SELECT1へ移動;    -------2012-10-19 別目的　ふりこ退避
 9247                            2196     ;;2014-09-18　SELECT1へ移動     MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9248                            2197     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9249                            2198     ;;2014-09-18　SELECT1へ移動     TST     #BIT5,R0                        ;
 9250                            2199     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_050      ;R2
 9251                            2200     ;;2014-09-18　SELECT1へ移動
 9252                            2201     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好き
                                          なとこ
 9253                            2202     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9254                            2203     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    56
PROGRAM NAME =

 9255                            2204     ;;2014-09-18　SELECT1へ移動
 9256                            2205     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_050:
 9257                            2206     ;;2014-09-18　SELECT1へ移動;    -----------------------------
 9258                            2207     ;;2014-09-18　SELECT1へ移動
 9259                            2208     ;;2014-09-18　SELECT1へ移動     MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9260                            2209     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9261                            2210     ;;2014-09-18　SELECT1へ移動     TST     #BIT0,R0                        ;
 9262                            2211     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_100A     ;R2
 9263                            2212     ;;2014-09-18　SELECT1へ移動
 9264                            2213     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機
                                          点X
 9265                            2214     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9266                            2215     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 9267                            2216     ;;2014-09-18　SELECT1へ移動
 9268                            2217     ;;2014-09-18　SELECT1へ移動
 9269                            2218     ;;2014-09-18　SELECT1へ移動;    === 目標角度 ====
 9270                            2219     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_100A:                            ;R2
 9271                            2220     ;;2014-09-18　SELECT1へ移動     MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 9272                            2221     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9273                            2222     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_110B:                            ;R2
 9274                            2223     ;;;2011-05-11   MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9275                            2224     ;;;2011-05-11   MOV.L   @R0,R2                                  ;
 9276                            2225     
 9277                            2226     
 9278                            2227     ;       ===========2008-04-28 =======
 9279 00000A68 D007              2228             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9280 00000A6A 6001              2229             MOV.W   @R0,R0                                  ;
 9281 00000A6C C920              2230             AND     #BIT5,R0                                ;
 9282                            2231     
 9283                            2232             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4               ;input R2(目標),R0=0(自動判別) R0!
                                          =0(BIT5=1)逆転固定
 9284 00000A6E D407                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9285 00000A70 440B                   M           JSR     @R4                     ;
 9286 00000A72 0009                   M           NOP                                     ;
 9287                            2233     
 9288                            2234             SUB_END
 9289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9290 00000A74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9291                            2235             M_RTS
 9292 00000A76 000B                   M           RTS                             ;RTSの後ろの
 9293 00000A78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9294                            2236     
 9295                            2237     
 9296                            2238     
 9297                            2239     ;       *******************************************
 9298                            2240     ;       ***                                     ***
 9299                            2241     ;       ***     待機点位置決めの目標位置選択    ***
 9300                            2242     ;       ***                                     ***
 9301                            2243     ;       *******************************************
 9302                            2244     ;       2014-09-18 ｻﾌﾞﾙｰﾁﾝ化しただけ
 9303                            2245     ;
 9304                            2246     ;       ANS R0=0:強制書き換え無し R2=待機点
 9305                            2247     ;       ANS R0=1:強制書き換え有り R2=変更目標
 9306                            2248     ;
 9307                            2249     ;
 9308                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    57
PROGRAM NAME =

 9309 00000A7A 0000                       ALIGNMENT CODE
 9310 00000A7C 00000000                   DATA FOR SOURCE-LINE 2186
 9311 00000A80 00000000                   DATA FOR SOURCE-LINE 2189
 9312 00000A84 00000000                   DATA FOR SOURCE-LINE 2192
 9313 00000A88 00000000                   DATA FOR SOURCE-LINE 2228
 9314 00000A8C 00000000                   DATA FOR SOURCE-LINE 2232
 9315                                     ***** END-POOL *****
 9316 00000A90                   2250     _LINK_UPPLS_OBJ_SELECT1
 9317                            2251             SUB_START
 9318 00000A90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9319                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9320                            2252     
 9321                            2253     ;       -------2012-10-19 別目的　ふりこ退避
 9322 00000A92 D104              2254             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9323 00000A94 6011              2255             MOV.W   @R1,R0                          ;
 9324 00000A96 C820              2256             TST     #BIT5,R0                        ;
 9325                            2257             TST_BIT_OF LINK_UPPLS_OBJ_SEL_050       ;R2
 9326 00000A98 8908                   M           BT      LINK_UPPLS_OBJ_SEL_050
 9327                            2258     
 9328 00000A9A D003              2259             MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好きなとこ
 9329 00000A9C 6202              2260             MOV.L   @R0,R2                                  ;
 9330                            2261             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9331 00000A9E A019                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9332 00000AA0 0009                   M           NOP
 9333                            2262     
 9334                                     ***** BEGIN-POOL *****
 9335 00000AA2 0000                       ALIGNMENT CODE
 9336 00000AA4 00000000                   DATA FOR SOURCE-LINE 2254
 9337 00000AA8 00000000                   DATA FOR SOURCE-LINE 2259
 9338                                     ***** END-POOL *****
 9339 00000AAC                   2263     LINK_UPPLS_OBJ_SEL_050:
 9340                            2264     ;       -----------------------------
 9341                            2265     
 9342 00000AAC D103              2266             MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9343 00000AAE 6011              2267             MOV.W   @R1,R0                          ;
 9344 00000AB0 C801              2268             TST     #BIT0,R0                        ;
 9345                            2269             TST_BIT_OF LINK_UPPLS_OBJ_SEL_100A      ;R2
 9346 00000AB2 8907                   M           BT      LINK_UPPLS_OBJ_SEL_100A
 9347                            2270     
 9348 00000AB4 D002              2271             MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機点X
 9349 00000AB6 6202              2272             MOV.L   @R0,R2                                  ;
 9350                            2273             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9351 00000AB8 A00C                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9352 00000ABA 0009                   M           NOP
 9353                            2274     
 9354                            2275     
 9355                            2276     ;       === 目標角度(通常の待機点) ====
 9356                                     ***** BEGIN-POOL *****
 9357 00000ABC 00000000                   DATA FOR SOURCE-LINE 2266
 9358 00000AC0 00000000                   DATA FOR SOURCE-LINE 2271
 9359                                     ***** END-POOL *****
 9360 00000AC4                   2277     LINK_UPPLS_OBJ_SEL_100A:                                ;R2
 9361 00000AC4 D002              2278             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9362 00000AC6 6202              2279             MOV.L   @R0,R2                                  ;
 9363 00000AC8 200A              2280             XOR     R0,R0                                   ;強制書換無し
 9364                            2281             M_BRA   LINK_UPPLS_OBJ_SEL_END                  ;
 9365 00000ACA A004                   M           BRA     LINK_UPPLS_OBJ_SEL_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    58
PROGRAM NAME =

 9366 00000ACC 0009                   M           NOP
 9367                            2282     
 9368                                     ***** BEGIN-POOL *****
 9369 00000ACE 0000                       ALIGNMENT CODE
 9370 00000AD0 00000000                   DATA FOR SOURCE-LINE 2278
 9371                                     ***** END-POOL *****
 9372 00000AD4                   2283     LINK_UPPLS_OBJ_SEL_110B:                                ;
 9373 00000AD4 E0FF              2284             MOV.B   #-1,R0                                  ;強制書換有り
 9374                            2285     
 9375 00000AD6                   2286     LINK_UPPLS_OBJ_SEL_END:                         ;R2
 9376                            2287     
 9377                            2288             SUB_END
 9378                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9379 00000AD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9380                            2289             M_RTS
 9381 00000AD8 000B                   M           RTS                             ;RTSの後ろの
 9382 00000ADA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9383                            2290     
 9384                            2291     
 9385                            2292     
 9386                            2293     
 9387                            2294     ;       ***************************************************
 9388                            2295     ;       ***                                             ***
 9389                            2296     ;       ***     待機位置決めの方向判別＋目標＋方向      ***
 9390                            2297     ;       ***     R2:目標位置ｵﾌｾｯﾄﾊﾟﾙｽ相当の角度          ***
 9391                            2298     ;       ***     R0=0自動判別　R0=BIT5逆転固定           ***
 9392                            2299     ;       ***                                             ***
 9393                            2300     ;       ***************************************************
 9394                            2301     ;
 9395                            2302     ;input R2(目標),R0=0(自動判別) R0!=0(BIT5=1)逆転固定
 9396                            2303     
 9397                            2304     
 9398 00000ADC                   2305     _UPPLS1_OBJMAK_COMMON:
 9399                            2306             SUB_START
 9400 00000ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9401                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9402                            2307     
 9403 00000ADE D408              2308             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 9404 00000AE0 6142              2309             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9405                            2310                                                             ;目標 ***.* pls
 9406 00000AE2 D408              2311             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 9407 00000AE4 6342              2312             MOV.L   @R4,R3                                  ;
 9408                            2313     
 9409                            2314     
 9410                            2315     ;;;;    TST     #BIT5,R0                        ;
 9411 00000AE6 2008              2316             TST     R0,R0                           ;
 9412                            2317             TST_BIT_ON UPPLS1_OBJMAK_COM_145        ;逆転固定(1回起動した場合は0になるのでｻｰﾁ
                                          完了時は0)
 9413 00000AE8 8B17                   M           BF      UPPLS1_OBJMAK_COM_145
 9414                            2318     
 9415                            2319     ;       ===== R3[下死点]~R2[待機点]の範囲にR1がいれば正転===
 9416                            2320             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 9417 00000AEA 3233                   M           CMP/GE  R3,R2
 9418 00000AEC 8B0C                   M           BF      JMP0100002
 9419                                 M   ;       === 0度をはさなまい===
 9420 00000AEE 200A                   M           XOR     R0,R0
 9421 00000AF0 3133                   M           CMP/GE  R3,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    59
PROGRAM NAME =

 9422 00000AF2 8B0F                   M           BF      JMP0200002                      ; PV<SV1
 9423 00000AF4 3213                   M           CMP/GE  R1,R2           ;
 9424 00000AF6 8B0D                   M           BF      JMP0200002                      ; SV2<PV2 (1)
 9425 00000AF8 E001                   M           MOV     #1,R0           ;
 9426                                 M           M_BRA   JMP0200002                      ;
 9427 00000AFA A00B                   M           BRA     JMP0200002
 9428 00000AFC 0009                   M           NOP
 9429                                 M   
 9430                                 M   ;       ==== ０度をはさむ====
 9431                                 M   ***** BEGIN-POOL *****
 9432 00000AFE 0000                   M   ALIGNMENT CODE
 9433 00000B00 00000000               M   DATA FOR SOURCE-LINE 2308
 9434 00000B04 00000000               M   DATA FOR SOURCE-LINE 2311
 9435                                 M   ***** END-POOL *****
 9436 00000B08                        M   JMP0100002:
 9437 00000B08 E001                   M           MOV     #1,R0
 9438 00000B0A 3133                   M           CMP/GE  R3,R1
 9439 00000B0C 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
 9440 00000B0E 3213                   M           CMP/GE  R1,R2           ;
 9441 00000B10 8900                   M           BT      JMP0200002                      ;
 9442 00000B12 200A                   M           XOR     R0,R0           ;
 9443 00000B14                        M   JMP0200002:
 9444 00000B14 233A              2321             XOR     R3,R3
 9445 00000B16 2008              2322             TST     R0,R0
 9446                            2323             TST_BIT_ON UPPLS1_OBJMAK_COM_150                ;
 9447 00000B18 8B00                   M           BF      UPPLS1_OBJMAK_COM_150
 9448 00000B1A                   2324     UPPLS1_OBJMAK_COM_145:                          ;R2
 9449 00000B1A E3FF              2325             MOV     #-1,R3
 9450 00000B1C                   2326     UPPLS1_OBJMAK_COM_150:                          ;R2
 9451                            2327     
 9452 00000B1C 2338              2328             TST     R3,R3                                   ;正転
 9453                            2329             TST_BIT_ON UPPLS1_OBJMAK_COM_300                ;逆転 JUMP
 9454 00000B1E 8B0D                   M           BF      UPPLS1_OBJMAK_COM_300
 9455                            2330     ;       ==== 正転方向でいく ====
 9456 00000B20 3218              2331             SUB     R1,R2                                   ;
 9457 00000B22 4211              2332             CMP/PZ  R2
 9458 00000B24 8915              2333             BT      UPPLS1_OBJMAK_COM_500                   ;R2 >= 0(R2は符号付距離)
 9459 00000B26 D504              2334             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9460 00000B28 6452              2335             MOV.L   @R5,R4                                  ;
 9461 00000B2A 324C              2336             ADD     R4,R2                                   ;
 9462 00000B2C 4211              2337             CMP/PZ  R2
 9463 00000B2E 8910              2338             BT      UPPLS1_OBJMAK_COM_500           ;
 9464 00000B30 222A              2339             XOR     R2,R2                                   ;
 9465                            2340             M_BRA   UPPLS1_OBJMAK_COM_500                   ;
 9466 00000B32 A00E                   M           BRA     UPPLS1_OBJMAK_COM_500
 9467 00000B34 0009                   M           NOP
 9468                            2341     
 9469                                     ***** BEGIN-POOL *****
 9470 00000B36 0000                       ALIGNMENT CODE
 9471 00000B38 00000000                   DATA FOR SOURCE-LINE 2334
 9472                                     ***** END-POOL *****
 9473 00000B3C                   2342     UPPLS1_OBJMAK_COM_300:                          ;R2
 9474 00000B3C 3218              2343             SUB     R1,R2                                   ;300-270
 9475 00000B3E 622B              2344             NEG     R2,R2                                   ;
 9476 00000B40 4211              2345             CMP/PZ  R2
 9477 00000B42 8905              2346             BT      UPPLS1_OBJMAK_COM_400                   ;R2 >= 0(R2は符号付距離)
 9478 00000B44 D514              2347             MOV.L   #_LINK_1ROT_PLS,R5                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    60
PROGRAM NAME =

 9479 00000B46 6452              2348             MOV.L   @R5,R4                                  ;
 9480 00000B48 324C              2349             ADD     R4,R2                                   ;
 9481 00000B4A 4211              2350             CMP/PZ  R2
 9482 00000B4C 8900              2351             BT      UPPLS1_OBJMAK_COM_400                   ;
 9483 00000B4E 222A              2352             XOR     R2,R2                                   ;
 9484 00000B50                   2353     UPPLS1_OBJMAK_COM_400:                          ;
 9485 00000B50 622B              2354             NEG     R2,R2                                   ;
 9486 00000B52                   2355     UPPLS1_OBJMAK_COM_500:                          ;
 9487 00000B52 255A              2356             XOR     R5,R5                                   ;
 9488 00000B54 6623              2357             MOV     R2,R6                                   ;
 9489 00000B56 4211              2358             CMP/PZ  R2                                      ;
 9490 00000B58 8900              2359             BT      UPPLS1_OBJMAK_COM_600                   ;
 9491 00000B5A E5FF              2360             MOV     #-1,R5                                  ;
 9492 00000B5C                   2361     UPPLS1_OBJMAK_COM_600:                          ;
 9493                            2362     
 9494                            2363     
 9495 00000B5C D40F              2364             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9496 00000B5E 6146              2365             MOV.L   @R4+,R1                                                 ;
 9497 00000B60 6242              2366             MOV.L   @R4,R2                                                  ;
 9498                            2367             PUSH_REG1 R1
 9499 00000B62 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9500                                 M                                           ;REG=>[SP]
 9501                                 M                                           ;"-4" FF,FF,FF,FC
 9502                            2368             PUSH_REG1 R2
 9503 00000B64 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9504                                 M                                           ;REG=>[SP]
 9505                                 M                                           ;"-4" FF,FF,FF,FC
 9506                            2369             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9507 00000B66 0008                   M           CLRT
 9508 00000B68 326E                   M           ADDC    R6,R2
 9509 00000B6A 315E                   M           ADDC    R5,R1
 9510                            2370     
 9511 00000B6C D40C              2371             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9512 00000B6E 2412              2372             MOV.L   R1,@R4                                          ;
 9513 00000B70 1421              2373             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9514                            2374             POP_REG1 R6
 9515                                 M                                   ; RE"+4" 00,00,00,04
 9516 00000B72 66F6                   M           MOV.L   @R15+,R6        ;
 9517                            2375             POP_REG1 R5
 9518                                 M                                   ; RE"+4" 00,00,00,04
 9519 00000B74 65F6                   M           MOV.L   @R15+,R5        ;
 9520                            2376     
 9521                            2377             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9522 00000B76 0008                   M           CLRT
 9523 00000B78 326A                   M           SUBC    R6,R2
 9524 00000B7A 315A                   M           SUBC    R5,R1
 9525 00000B7C 233A              2378             XOR     R3,R3
 9526 00000B7E 4111              2379             CMP/PZ  R1                              ;
 9527 00000B80 8900              2380             BT      UPPLS1_OBJMAK_COM_750           ;
 9528 00000B82 E301              2381             MOV     #BIT0,R3                        ;
 9529 00000B84                   2382     UPPLS1_OBJMAK_COM_750:                          ;
 9530 00000B84 D107              2383             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9531 00000B86 2131              2384             MOV.W   R3,@R1                          ;
 9532                            2385     
 9533 00000B88 D107              2386             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    61
PROGRAM NAME =

 9534 00000B8A 6011              2387             MOV.W   @R1,R0                  ;
 9535 00000B8C C9FE              2388             AND     #LOW ~BIT0,R0           ;
 9536 00000B8E 203B              2389             OR      R3,R0                   ;
 9537 00000B90 2101              2390             MOV.W   R0,@R1                  ;
 9538                            2391     
 9539                            2392             SUB_END
 9540                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9541 00000B92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9542                            2393             M_RTS
 9543 00000B94 000B                   M           RTS                             ;RTSの後ろの
 9544 00000B96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9545                            2394     
 9546                            2395     
 9547                            2396     
 9548                            2397     
 9549                            2398     ;       ***************************************************
 9550                            2399     ;       ***                                             ***
 9551                            2400     ;       ***     シーケンスによる運転方向の決定          ***
 9552                            2401     ;       ***                                             ***
 9553                            2402     ;       ***************************************************
 9554                            2403     ;       Input   R0 ==0 正転
 9555                            2404     ;               R0 !=0(BIT13)逆転
 9556                            2405     ;       2004-07-01
 9557                            2406     ;
 9558                                     ***** BEGIN-POOL *****
 9559 00000B98 00000000                   DATA FOR SOURCE-LINE 2347
 9560 00000B9C 00000000                   DATA FOR SOURCE-LINE 2364
 9561 00000BA0 00000000                   DATA FOR SOURCE-LINE 2371
 9562 00000BA4 00000000                   DATA FOR SOURCE-LINE 2383
 9563 00000BA8 00000000                   DATA FOR SOURCE-LINE 2386
 9564                                     ***** END-POOL *****
 9565 00000BAC                   2407             .ALIGN  4                               ;
 9566 00000BAC                   2408     _LINK_DIR_OBJMAK3:
 9567                            2409             SUB_START
 9568 00000BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9569                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9570                            2410     
 9571                            2411             PUSH_REG1 R0
 9572 00000BAE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 9573                                 M                                           ;REG=>[SP]
 9574                                 M                                           ;"-4" FF,FF,FF,FC
 9575                            2412     
 9576                            2413     
 9577                            2414             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 9578 00000BB0 D00E                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9579 00000BB2 400B                   M           JSR     @R0                     ;
 9580 00000BB4 0009                   M           NOP                                     ;
 9581                            2415     
 9582                            2416             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9583 00000BB6 D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9584 00000BB8 400B                   M           JSR     @R0                     ;
 9585 00000BBA 0009                   M           NOP                                     ;
 9586                            2417     
 9587                            2418     ;       === 目標角度() ====
 9588 00000BBC D00D              2419             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9589 00000BBE 6202              2420             MOV.L   @R0,R2                                  ;
 9590 00000BC0 D40D              2421             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    62
PROGRAM NAME =

 9591 00000BC2 6142              2422             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9592                            2423                                                             ;目標 ***.* pls
 9593                            2424     
 9594                            2425             POP_REG1 R0                                     ;
 9595                                 M                                   ; RE"+4" 00,00,00,04
 9596 00000BC4 60F6                   M           MOV.L   @R15+,R0        ;
 9597                            2426     
 9598 00000BC6 2008              2427             TST     R0,R0                                   ;
 9599                            2428             TST_BIT_ON LINK_DIR_OBJMK3_300                  ;
 9600 00000BC8 8B1C                   M           BF      LINK_DIR_OBJMK3_300
 9601                            2429     ;       ==== 正転方向でいく ====
 9602 00000BCA 3218              2430             SUB     R1,R2                                   ;
 9603 00000BCC 4211              2431             CMP/PZ  R2
 9604 00000BCE 8905              2432             BT      LINK_DIR_OBJMK3_250                             ;R2 >= 0(R2は符号付距離)
 9605 00000BD0 D50A              2433             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9606 00000BD2 6452              2434             MOV.L   @R5,R4                                  ;
 9607 00000BD4 324C              2435             ADD     R4,R2                                   ;
 9608 00000BD6 4211              2436             CMP/PZ  R2
 9609 00000BD8 8900              2437             BT      LINK_DIR_OBJMK3_250                     ;
 9610 00000BDA 222A              2438             XOR     R2,R2                                   ;
 9611 00000BDC                   2439     LINK_DIR_OBJMK3_250:                                    ;
 9612                            2440             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0!=0 NEAR ZERO
 9613 00000BDC D008                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9614 00000BDE 400B                   M           JSR     @R0                     ;
 9615 00000BE0 0009                   M           NOP                                     ;
 9616 00000BE2 2008              2441             TST     R0,R0                                   ;
 9617                            2442             TST_BIT_OF LINK_DIR_OBJMK3_280                  ;NOT NEAR ZERO JUMP
 9618 00000BE4 8900                   M           BT      LINK_DIR_OBJMK3_280
 9619 00000BE6 222A              2443             XOR     R2,R2                                   ;
 9620 00000BE8                   2444     LINK_DIR_OBJMK3_280:
 9621                            2445             M_BRA   LINK_DIR_OBJMK3_500                             ;
 9622 00000BE8 A01D                   M           BRA     LINK_DIR_OBJMK3_500
 9623 00000BEA 0009                   M           NOP
 9624                            2446     
 9625                            2447     ;       ====逆転方向でいく=====
 9626                                     ***** BEGIN-POOL *****
 9627 00000BEC 00000000                   DATA FOR SOURCE-LINE 2414
 9628 00000BF0 00000000                   DATA FOR SOURCE-LINE 2416
 9629 00000BF4 00000000                   DATA FOR SOURCE-LINE 2419
 9630 00000BF8 00000000                   DATA FOR SOURCE-LINE 2421
 9631 00000BFC 00000000                   DATA FOR SOURCE-LINE 2433
 9632 00000C00 00000000                   DATA FOR SOURCE-LINE 2440
 9633                                     ***** END-POOL *****
 9634 00000C04                   2448     LINK_DIR_OBJMK3_300:                                    ;R2
 9635 00000C04 3218              2449             SUB     R1,R2                                   ;
 9636 00000C06 622B              2450             NEG     R2,R2                                   ;
 9637 00000C08 4211              2451             CMP/PZ  R2                                      ;
 9638 00000C0A 8905              2452             BT      LINK_DIR_OBJMK3_400                             ;R2 >= 0(R2は符号付距離)
 9639 00000C0C D517              2453             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9640 00000C0E 6452              2454             MOV.L   @R5,R4                                  ;
 9641 00000C10 324C              2455             ADD     R4,R2                                   ;
 9642 00000C12 4211              2456             CMP/PZ  R2
 9643 00000C14 8900              2457             BT      LINK_DIR_OBJMK3_400                     ;
 9644 00000C16 222A              2458             XOR     R2,R2                                   ;
 9645 00000C18                   2459     LINK_DIR_OBJMK3_400:                                    ;R2 ≦NERA-ZERO or  1REV-NEAR≦R2
                                          なら R2=0とする
 9646                            2460     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    63
PROGRAM NAME =

 9647                            2461             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0=0 NOT NEAR ZERO
 9648 00000C18 D015                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9649 00000C1A 400B                   M           JSR     @R0                     ;
 9650 00000C1C 0009                   M           NOP                                     ;
 9651 00000C1E 2008              2462             TST     R0,R0                                   ;
 9652                            2463             TST_BIT_OF LINK_DIR_OBJMK3_450                  ;
 9653 00000C20 8900                   M           BT      LINK_DIR_OBJMK3_450
 9654 00000C22 222A              2464             XOR     R2,R2                                   ;
 9655 00000C24                   2465     LINK_DIR_OBJMK3_450:                                    ;
 9656                            2466     
 9657 00000C24 622B              2467             NEG     R2,R2                                   ;
 9658 00000C26                   2468     LINK_DIR_OBJMK3_500:                                    ;R2:+/-
 9659 00000C26 255A              2469             XOR     R5,R5                                   ;
 9660 00000C28 6623              2470             MOV     R2,R6                                   ;
 9661 00000C2A 4211              2471             CMP/PZ  R2                                      ;
 9662 00000C2C 8900              2472             BT      LINK_DIR_OBJMK3_600                     ;
 9663 00000C2E E5FF              2473             MOV     #-1,R5                                  ;
 9664 00000C30                   2474     LINK_DIR_OBJMK3_600:                                    ;
 9665                            2475     
 9666                            2476     
 9667 00000C30 D410              2477             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9668 00000C32 6146              2478             MOV.L   @R4+,R1                                                 ;
 9669 00000C34 6242              2479             MOV.L   @R4,R2                                                  ;
 9670                            2480             PUSH_REG1 R1
 9671 00000C36 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9672                                 M                                           ;REG=>[SP]
 9673                                 M                                           ;"-4" FF,FF,FF,FC
 9674                            2481             PUSH_REG1 R2
 9675 00000C38 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9676                                 M                                           ;REG=>[SP]
 9677                                 M                                           ;"-4" FF,FF,FF,FC
 9678                            2482             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9679 00000C3A 0008                   M           CLRT
 9680 00000C3C 326E                   M           ADDC    R6,R2
 9681 00000C3E 315E                   M           ADDC    R5,R1
 9682 00000C40 D40D              2483             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9683 00000C42 2412              2484             MOV.L   R1,@R4                                          ;
 9684 00000C44 1421              2485             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9685                            2486             POP_REG1 R6
 9686                                 M                                   ; RE"+4" 00,00,00,04
 9687 00000C46 66F6                   M           MOV.L   @R15+,R6        ;
 9688                            2487             POP_REG1 R5
 9689                                 M                                   ; RE"+4" 00,00,00,04
 9690 00000C48 65F6                   M           MOV.L   @R15+,R5        ;
 9691                            2488     
 9692                            2489             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9693 00000C4A 0008                   M           CLRT
 9694 00000C4C 326A                   M           SUBC    R6,R2
 9695 00000C4E 315A                   M           SUBC    R5,R1
 9696 00000C50 233A              2490             XOR     R3,R3
 9697 00000C52 4111              2491             CMP/PZ  R1                              ;
 9698 00000C54 8900              2492             BT      LINK_DIR_OBJMK3_750             ;
 9699 00000C56 E301              2493             MOV     #BIT0,R3                        ;
 9700 00000C58                   2494     LINK_DIR_OBJMK3_750:                            ;
 9701 00000C58 D108              2495             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    64
PROGRAM NAME =

 9702 00000C5A 2131              2496             MOV.W   R3,@R1                          ;
 9703                            2497     
 9704 00000C5C D108              2498             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9705 00000C5E 6011              2499             MOV.W   @R1,R0                  ;
 9706 00000C60 C9FE              2500             AND     #LOW ~BIT0,R0           ;
 9707 00000C62 203B              2501             OR      R3,R0                   ;
 9708 00000C64 2101              2502             MOV.W   R0,@R1                  ;
 9709                            2503     
 9710                            2504             SUB_END
 9711                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9712 00000C66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9713                            2505             M_RTS
 9714 00000C68 000B                   M           RTS                             ;RTSの後ろの
 9715 00000C6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9716                            2506     
 9717                            2507     ;       ***************************************************
 9718                            2508     ;       ***                                             ***
 9719                            2509     ;       ***     今の回転上の待機点を目指す              ***
 9720                            2510     ;       ***     本当は正転する待機点を目指す            ***
 9721                            2511     ;       ***************************************************
 9722                            2512     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9723                            2513     ;
 9724                                     ***** BEGIN-POOL *****
 9725 00000C6C 00000000                   DATA FOR SOURCE-LINE 2453
 9726 00000C70 00000000                   DATA FOR SOURCE-LINE 2461
 9727 00000C74 00000000                   DATA FOR SOURCE-LINE 2477
 9728 00000C78 00000000                   DATA FOR SOURCE-LINE 2483
 9729 00000C7C 00000000                   DATA FOR SOURCE-LINE 2495
 9730 00000C80 00000000                   DATA FOR SOURCE-LINE 2498
 9731                                     ***** END-POOL *****
 9732 00000C84                   2514             .ALIGN  4                               ;
 9733 00000C84                   2515     _LINK_UPPLS_DNDRIV:
 9734                            2516             SUB_START
 9735 00000C84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9736                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9737                            2517     
 9738                            2518             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9739 00000C86 D005                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9740 00000C88 400B                   M           JSR     @R0                     ;
 9741 00000C8A 0009                   M           NOP                                     ;
 9742                            2519     
 9743                            2520     ;       ----------- 2014-09-18 -----------------
 9744                            2521             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9745 00000C8C D004                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9746 00000C8E 400B                   M           JSR     @R0                     ;
 9747 00000C90 0009                   M           NOP                                     ;
 9748 00000C92 2008              2522             TST     R0,R0                                   ;
 9749                            2523             TST_BIT_OF LINK_UPPLSDN_DRV050                  ;強制書き換えなし
 9750 00000C94 8906                   M           BT      LINK_UPPLSDN_DRV050
 9751                            2524             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9752 00000C96 A01B                   M           BRA     LINK_UPPLSDN_DRV130
 9753 00000C98 0009                   M           NOP
 9754                            2525     
 9755                            2526     
 9756                                     ***** BEGIN-POOL *****
 9757 00000C9A 0000                       ALIGNMENT CODE
 9758 00000C9C 00000000                   DATA FOR SOURCE-LINE 2518
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    65
PROGRAM NAME =

 9759 00000CA0 00000000                   DATA FOR SOURCE-LINE 2521
 9760                                     ***** END-POOL *****
 9761 00000CA4                   2527     LINK_UPPLSDN_DRV050:
 9762                            2528             PUSH_REG1 R2                                    ;
 9763 00000CA4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9764                                 M                                           ;REG=>[SP]
 9765                                 M                                           ;"-4" FF,FF,FF,FC
 9766                            2529             FAR_JSR #_AREACHK_0DIG_TO_180,R0                ;ANS:R0
 9767 00000CA6 D007                   M           MOV.L   #_AREACHK_0DIG_TO_180,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9768 00000CA8 400B                   M           JSR     @R0                     ;
 9769 00000CAA 0009                   M           NOP                                     ;
 9770                            2530             POP_REG1 R2                                     ;R2;右側待機点
 9771                                 M                                   ; RE"+4" 00,00,00,04
 9772 00000CAC 62F6                   M           MOV.L   @R15+,R2        ;
 9773                            2531     
 9774 00000CAE 2008              2532             TST     R0,R0                                   ;
 9775                            2533             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;0~180度：右半球
 9776 00000CB0 8B0E                   M           BF      LINK_UPPLSDN_DRV130
 9777                            2534     
 9778 00000CB2 D005              2535             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9779 00000CB4 6001              2536             MOV.W   @R0,R0                                  ;
 9780 00000CB6 C820              2537             TST     #BIT5,R0                                ;
 9781                            2538             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;181~182度：右半球
 9782 00000CB8 8B0A                   M           BF      LINK_UPPLSDN_DRV130
 9783                            2539     
 9784                            2540     
 9785 00000CBA D004              2541             MOV.L   #_DNM_SETX_UPAREA_PLS,R0                ;//4;左半球待機点
 9786 00000CBC 6202              2542             MOV.L   @R0,R2                                  ;
 9787                            2543             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9788 00000CBE A007                   M           BRA     LINK_UPPLSDN_DRV130
 9789 00000CC0 0009                   M           NOP
 9790                            2544     
 9791                            2545     
 9792                            2546     ;       --------------- INPUT:R2----------
 9793                                     ***** BEGIN-POOL *****
 9794 00000CC2 0000                       ALIGNMENT CODE
 9795 00000CC4 00000000                   DATA FOR SOURCE-LINE 2529
 9796 00000CC8 00000000                   DATA FOR SOURCE-LINE 2535
 9797 00000CCC 00000000                   DATA FOR SOURCE-LINE 2541
 9798                                     ***** END-POOL *****
 9799 00000CD0                   2547     LINK_UPPLSDN_DRV130:
 9800 00000CD0 200A              2548             XOR     R0,R0                                   ;
 9801                            2549             M_BRA   LINK_UPPLSDN_DRV140
 9802 00000CD2 A001                   M           BRA     LINK_UPPLSDN_DRV140
 9803 00000CD4 0009                   M           NOP
 9804 00000CD6                   2550     LINK_UPPLSDN_DRV135:
 9805 00000CD6 E020              2551             MOV.B   #BIT5,R0                                ;
 9806                            2552     
 9807 00000CD8                   2553     LINK_UPPLSDN_DRV140:
 9808                            2554     
 9809                            2555             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4
 9810 00000CD8 D402                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9811 00000CDA 440B                   M           JSR     @R4                     ;
 9812 00000CDC 0009                   M           NOP                                     ;
 9813                            2556     
 9814                            2557     
 9815                            2558             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    66
PROGRAM NAME =

 9816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9817 00000CDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9818                            2559             M_RTS
 9819 00000CE0 000B                   M           RTS                             ;RTSの後ろの
 9820 00000CE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9821                            2560     
 9822                            2561     
 9823                                     ***** BEGIN-POOL *****
 9824 00000CE4 00000000                   DATA FOR SOURCE-LINE 2555
 9825                                     ***** END-POOL *****
 9826 00000CE8                   2562     _AREACHK_0DIG_TO_180:
 9827                            2563             SUB_START
 9828 00000CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9830                            2564     
 9831 00000CEA D006              2565             MOV.L   #_SET1_UPAREA_DIG1,R0
 9832 00000CEC 6101              2566             MOV.W   @R0,R1                  ;0度相当
 9833                            2567     
 9834 00000CEE D006              2568             MOV.L   #_INC_ENC360,R0         ;ｸﾗﾝｸ変換前角度
 9835 00000CF0 6201              2569             MOV.W   @R0,R2                  ;
 9836                            2570     
 9837 00000CF2 9305              2571             MOV.W   #_UPDN_DIRJG_DIG,R3     ;
 9838                            2572     
 9839                            2573             FAR_JSR #_DIG_AREA_CHK0,R0      ;R1<= R2 <= R3 THEN R0=1
 9840 00000CF4 D005                   M           MOV.L   #_DIG_AREA_CHK0,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9841 00000CF6 400B                   M           JSR     @R0                     ;
 9842 00000CF8 0009                   M           NOP                                     ;
 9843                            2574     
 9844                            2575     
 9845                            2576             SUB_END
 9846                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9847 00000CFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9848                            2577             M_RTS
 9849 00000CFC 000B                   M           RTS                             ;RTSの後ろの
 9850 00000CFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9851                            2578     
 9852                            2579     
 9853                            2580     ;       ***********************************
 9854                            2581     ;       ***                             ***
 9855                            2582     ;       ***     R2：移動距離            ***
 9856                            2583     ;       ***                             ***
 9857                            2584     ;       ***********************************
 9858                            2585     ;       ANS R0
 9859                            2586     ;       MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9860                            2587     ;       MOV.L   @R5,R4                                  ;
 9861                            2588     ;LINK_DIR_OBJMK3_400:                                   ;
 9862                            2589     ;       R2 ≦NEAR(1)  or  1REV-NEAR≦R2(-1)
 9863                            2590     ;       NEAR<R2<1REV-NEAR THEN R0=0
 9864                            2591     
 9865                                     ***** BEGIN-POOL *****
 9866 00000D00 0708                       DATA FOR SOURCE-LINE 2571
 9867 00000D02 0000                       ALIGNMENT CODE
 9868 00000D04 00000000                   DATA FOR SOURCE-LINE 2565
 9869 00000D08 00000000                   DATA FOR SOURCE-LINE 2568
 9870 00000D0C 00000000                   DATA FOR SOURCE-LINE 2573
 9871                                     ***** END-POOL *****
 9872 00000D10                   2592             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    67
PROGRAM NAME =

 9873 00000D10                   2593     _OBJ_NEAR_CHK1:
 9874                            2594             SUB_START
 9875 00000D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9877 00000D12 200A              2595             XOR     R0,R0
 9878 00000D14 D505              2596             MOV.L   #_SET1_OBJARA_INPXPLS,R5                ;
 9879 00000D16 6451              2597             MOV.W   @R5,R4                                  ;
 9880 00000D18 9507              2598             MOV.W   #D'100,R5                               ;min 100pls
 9881 00000D1A 3453              2599             CMP/GE  R5,R4                                   ;
 9882 00000D1C 8900              2600             BT      OBJ_NEAR_CK_030                         ;
 9883 00000D1E 6453              2601             MOV     R5,R4                                   ;
 9884 00000D20                   2602     OBJ_NEAR_CK_030:                                        ;
 9885                            2603     
 9886 00000D20 3247              2604             CMP/GT  R4,R2                                   ;
 9887 00000D22 8905              2605             BT      OBJ_NEAR_CK_050                         ;R4 < R2 JUMP
 9888 00000D24 E001              2606             MOV     #1,R0                                   ;R2≦R4
 9889                            2607             M_BRA   OBJ_NEAR_CK_EXT                         ;ﾆｱｾﾞﾛ幅
 9890 00000D26 A009                   M           BRA     OBJ_NEAR_CK_EXT
 9891 00000D28 0009                   M           NOP
 9892                            2608     
 9893                                     ***** BEGIN-POOL *****
 9894 00000D2A 0064                       DATA FOR SOURCE-LINE 2598
 9895 00000D2C 00000000                   DATA FOR SOURCE-LINE 2596
 9896                                     ***** END-POOL *****
 9897 00000D30                   2609     OBJ_NEAR_CK_050:
 9898 00000D30 D504              2610             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9899 00000D32 6552              2611             MOV.L   @R5,R5                                  ;
 9900 00000D34 3548              2612             SUB     R4,R5                                   ;
 9901 00000D36 3527              2613             CMP/GT  R2,R5                                   ;R2<R5(1ROT-)
 9902 00000D38 8900              2614             BT      OBJ_NEAR_CK_EXT                         ;
 9903 00000D3A E0FF              2615             MOV     #-1,R0                                  ;
 9904 00000D3C                   2616     OBJ_NEAR_CK_EXT:
 9905                            2617             SUB_END
 9906                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9907 00000D3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9908                            2618             M_RTS
 9909 00000D3E 000B                   M           RTS                             ;RTSの後ろの
 9910 00000D40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9911                            2619     
 9912                            2620     
 9913                            2621     
 9914                            2622     
 9915                            2623     ;       *******************************************
 9916                            2624     ;       ***     回転ﾊﾟﾙｽR1,R2+ｵﾌｾｯﾄR5,R6        ***
 9917                            2625     ;       ***     LIMIT MAX/MIN                   ***
 9918                            2626     ;       *******************************************
 9919                            2627     ;       Input R1,R2,R5,R6
 9920                            2628     ;       Output R1,R2
 9921                            2629     ;       Keep R5,R6
 9922                                     ***** BEGIN-POOL *****
 9923 00000D42 0000                       ALIGNMENT CODE
 9924 00000D44 00000000                   DATA FOR SOURCE-LINE 2610
 9925                                     ***** END-POOL *****
 9926 00000D48                   2630             .ALIGN  4                               ;
 9927 00000D48                   2631     _ADDR56_R12_ANS_R12_LIMIT_MAX_MIN:
 9928                            2632             SUB_START
 9929 00000D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    68
PROGRAM NAME =

 9930                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9931                            2633             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2               ;
 9932 00000D4A 0008                   M           CLRT
 9933 00000D4C 326E                   M           ADDC    R6,R2
 9934 00000D4E 315E                   M           ADDC    R5,R1
 9935                            2634             MAX_MIN8B       DT_REGH=R1,DT_REGL=R2,WKRG1=R0,WKRG2=R4,                ;
 9936                            2635     +                       MAX_H=_CALC_PLS_PMAX_H32,MAX_L=_CALC_PLS_PMAX_L32,      ;
 9937                            2636     +                       MIN_H=_CALC_PLS_MMIN_H32,MIN_L=_CALC_PLS_MMIN_L32       ;
 9938 00000D50 0008                   M           CLRT
 9939 00000D52 D00B                   M           MOV.L   #_CALC_PLS_PMAX_L32,R0
 9940 00000D54 302A                   M           SUBC    R2,R0           ;
 9941 00000D56 D00B                   M           MOV.L   #_CALC_PLS_PMAX_H32,R0
 9942 00000D58 301A                   M           SUBC    R1,R0           ;
 9943 00000D5A 4011                   M           CMP/PZ  R0                      ;
 9944 00000D5C 8901                   M           BT      JMP0100003                      ;DATA=<MAX
 9945 00000D5E D208                   M           MOV.L   #_CALC_PLS_PMAX_L32,R2  ;data >= max
 9946 00000D60 D108                   M           MOV.L   #_CALC_PLS_PMAX_H32,R1  ;LIMIT
 9947 00000D62                        M   JMP0100003                                      ;
 9948 00000D62 0008                   M           CLRT
 9949 00000D64 D008                   M           MOV.L   #_CALC_PLS_MMIN_L32,R0          ;
 9950 00000D66 302A                   M           SUBC    R2,R0           ;
 9951 00000D68 D408                   M           MOV.L   #_CALC_PLS_MMIN_H32,R4          ;
 9952 00000D6A 341A                   M           SUBC    R1,R4           ;
 9953 00000D6C 4415                   M           CMP/PL  R4                      ;
 9954 00000D6E 8B04                   M           BF      JMP0200003                      ;"-" R3 < 0 THEN OK!
 9955 00000D70 240B                   M           OR      R0,R4           ;
 9956 00000D72 2448                   M           TST     R4,R4           ;
 9957                                 M           TST_BIT_OF JMP0200003           ;
 9958 00000D74 8901                   M           BT      JMP0200003
 9959 00000D76 D204                   M           MOV.L   #_CALC_PLS_MMIN_L32,R2  ;data < min
 9960 00000D78 D104                   M           MOV.L   #_CALC_PLS_MMIN_H32,R1  ;LIMIT
 9961 00000D7A                        M   JMP0200003:
 9962                            2637             SUB_END
 9963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9964 00000D7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9965                            2638             M_RTS
 9966 00000D7C 000B                   M           RTS                             ;RTSの後ろの
 9967 00000D7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9968                            2639     
 9969                            2640     
 9970                            2641     ;       ***********************************
 9971                            2642     ;       ***                             ***
 9972                            2643     ;       ***     最大正転値・最小値      ***
 9973                            2644     ;       ***                             ***
 9974                            2645     ;       ***********************************
 9975                            2646     ;       Input R0 BIT0=0正転 BIT0=1逆転
 9976                                     ***** BEGIN-POOL *****
 9977 00000D80 FFFFFFFF                   DATA FOR SOURCE-LINE 2634,2634
 9978 00000D84 3FFFFFFF                   DATA FOR SOURCE-LINE 2634,2634
 9979 00000D88 00000001                   DATA FOR SOURCE-LINE 2634,2634
 9980 00000D8C C0000000                   DATA FOR SOURCE-LINE 2634,2634
 9981                                     ***** END-POOL *****
 9982 00000D90                   2647             .ALIGN  4                               ;
 9983 00000D90                   2648     _LINK_P_M_MAX:
 9984                            2649             SUB_START
 9985 00000D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9986                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    69
PROGRAM NAME =

 9987                            2650     
 9988 00000D92 D106              2651             MOV.L   #_CALC_PLS_PMAX_H32,R1  ;
 9989 00000D94 D206              2652             MOV.L   #_CALC_PLS_PMAX_L32,R2  ;
 9990                            2653     
 9991 00000D96 C801              2654             TST     #BIT0,R0                ;
 9992                            2655             TST_BIT_OF LINK_PM_MX50
 9993 00000D98 8901                   M           BT      LINK_PM_MX50
 9994 00000D9A D106              2656             MOV.L   #_CALC_PLS_MMIN_H32,R1  ;
 9995 00000D9C D206              2657             MOV.L   #_CALC_PLS_MMIN_L32,R2  ;
 9996                            2658     
 9997 00000D9E                   2659     LINK_PM_MX50:                   ;
 9998 00000D9E D407              2660             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
 9999 00000DA0 2412              2661             MOV.L   R1,@R4                          ;
10000 00000DA2 1421              2662             MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
10001                            2663             SUB_END
10002                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10003 00000DA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10004                            2664             M_RTS
10005 00000DA6 000B                   M           RTS                             ;RTSの後ろの
10006 00000DA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10007                            2665     
10008                            2666     ;       ***************************************************
10009                            2667     ;       ***                                             ***
10010                            2668     ;       ***     はじめから待機点目標位置への位置決め    ***
10011                            2669     ;       ***     2004-05-24(ﾒｲﾝ側での目標位置作成)       ***
10012                            2670     ;       ***                                             ***
10013                            2671     ;       ***************************************************
10014                                     ***** BEGIN-POOL *****
10015 00000DAA 0000                       ALIGNMENT CODE
10016 00000DAC 3FFFFFFF                   DATA FOR SOURCE-LINE 2651
10017 00000DB0 FFFFFFFF                   DATA FOR SOURCE-LINE 2652
10018 00000DB4 C0000000                   DATA FOR SOURCE-LINE 2656
10019 00000DB8 00000001                   DATA FOR SOURCE-LINE 2657
10020 00000DBC 00000000                   DATA FOR SOURCE-LINE 2660
10021                                     ***** END-POOL *****
10022 00000DC0                   2672             .ALIGN  4                               ;
10023 00000DC0                   2673     _ORGIN_OBJ_POS_CTRL_ST1:                        ;
10024                            2674             SUB_START
10025 00000DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10026                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10027 00000DC2 D109              2675             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
10028 00000DC4 900C              2676             MOV.W   #BIT0,R0                        ;
10029 00000DC6 2101              2677             MOV.W   R0,@R1                          ;
10030                            2678     
10031 00000DC8 D108              2679             MOV.L   #_CB_SEQ_CB_COM346,R1           ;2004-07-01
10032 00000DCA 6011              2680             MOV.W   @R1,R0                          ;
10033 00000DCC 9109              2681             MOV.W   #BIT14,R1                       ;
10034 00000DCE 2018              2682             TST     R1,R0                           ;
10035                            2683             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_100     ;BIT14=0 自動判別
10036 00000DD0 8910                   M           BT      ORGIN_OBJ_POS_CTLST1_100
10037                            2684     
10038 00000DD2 9107              2685             MOV.W   #BIT13,R1                       ;
10039 00000DD4 2019              2686             AND     R1,R0
10040                            2687             FAR_JSR #_LINK_DIR_OBJMAK3,R1           ;Input R0 R0==0/R0!=0(BIT13)
10041 00000DD6 D106                   M           MOV.L   #_LINK_DIR_OBJMAK3,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10042 00000DD8 410B                   M           JSR     @R1                     ;
10043 00000DDA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    70
PROGRAM NAME =

10044                            2688             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
10045 00000DDC A01B                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
10046 00000DDE 0009                   M           NOP
10047                            2689     
10048                            2690     
10049                                     ***** BEGIN-POOL *****
10050 00000DE0 0001                       DATA FOR SOURCE-LINE 2676
10051 00000DE2 4000                       DATA FOR SOURCE-LINE 2681
10052 00000DE4 2000                       DATA FOR SOURCE-LINE 2685
10053 00000DE6 0000                       ALIGNMENT CODE
10054 00000DE8 00000000                   DATA FOR SOURCE-LINE 2675
10055 00000DEC 00000000                   DATA FOR SOURCE-LINE 2679
10056 00000DF0 00000000                   DATA FOR SOURCE-LINE 2687
10057                                     ***** END-POOL *****
10058 00000DF4                   2691     ORGIN_OBJ_POS_CTLST1_100:
10059                            2692     ;       --------- 2014-09-18-------------
10060 00000DF4 D104              2693             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
10061 00000DF6 6011              2694             MOV.W   @R1,R0                          ;
10062 00000DF8 C804              2695             TST     #(_DMATH_DNDRIV),R0             ;
10063                            2696             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_150     ;ふりこ以外
10064 00000DFA 8909                   M           BT      ORGIN_OBJ_POS_CTLST1_150
10065                            2697     
10066                            2698     ;       -------- ふりこ範囲確認--------------
10067                            2699     ;       待機点+0~181までは右半球
10068                            2700             FAR_JSR #_LINK_UPPLS_DNDRIV,R0          ;
10069 00000DFC D003                   M           MOV.L   #_LINK_UPPLS_DNDRIV,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10070 00000DFE 400B                   M           JSR     @R0                     ;
10071 00000E00 0009                   M           NOP                                     ;
10072                            2701             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
10073 00000E02 A008                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
10074 00000E04 0009                   M           NOP
10075                            2702     
10076                            2703     
10077                            2704     
10078                            2705     
10079                                     ***** BEGIN-POOL *****
10080 00000E06 0000                       ALIGNMENT CODE
10081 00000E08 00000000                   DATA FOR SOURCE-LINE 2693
10082 00000E0C 00000000                   DATA FOR SOURCE-LINE 2700
10083                                     ***** END-POOL *****
10084 00000E10                   2706     ORGIN_OBJ_POS_CTLST1_150:
10085                            2707             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;自動で方向判別(2004-05-24)
10086 00000E10 D005                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10087 00000E12 400B                   M           JSR     @R0                     ;
10088 00000E14 0009                   M           NOP                                     ;
10089 00000E16                   2708     ORGIN_OBJ_POS_CTLST1_200:                       ;
10090                            2709     
10091                            2710     
10092                            2711             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
10093 00000E16 D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10094 00000E18 440B                   M           JSR     @R4                     ;
10095 00000E1A 0009                   M           NOP                                     ;
10096                            2712             FAR_JSR #_ORG_END_SIG_CLR,R0            ;206.4 OFF
10097 00000E1C D004                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10098 00000E1E 400B                   M           JSR     @R0                     ;
10099 00000E20 0009                   M           NOP                                     ;
10100                            2713     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    71
PROGRAM NAME =

10101                            2714             SUB_END
10102                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10103 00000E22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10104                            2715             M_RTS
10105 00000E24 000B                   M           RTS                             ;RTSの後ろの
10106 00000E26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10107                            2716     
10108                                     ***** BEGIN-POOL *****
10109 00000E28 00000000                   DATA FOR SOURCE-LINE 2707
10110 00000E2C 00000000                   DATA FOR SOURCE-LINE 2711
10111 00000E30 00000000                   DATA FOR SOURCE-LINE 2712
10112                                     ***** END-POOL *****
10113 00000E34                   2717             .ALIGN  4                               ;
10114 00000E34                   2718     _ORGIN_OBJ_POS_CTRL_ST2:                                ;
10115                            2719             SUB_START
10116 00000E34 4F22                   M           STS.L   PR,@-R15                ;[必要]
10117                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10118 00000E36 D105              2720             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
10119 00000E38 6011              2721             MOV.W   @R1,R0                          ;
10120 00000E3A C801              2722             TST     #BIT0,R0                        ;
10121                            2723             TST_BIT_OF ORGIN_OBJ_POSCTLST2_EXT      ;(待機点位置決め中 NO! JUMP)
10122 00000E3C 8903                   M           BT      ORGIN_OBJ_POSCTLST2_EXT
10123                            2724     
10124 00000E3E D104              2725             MOV.L   #_INT_DND_CTL_STEP,R1           ;
10125 00000E40 6011              2726             MOV.W   @R1,R0                          ;
10126 00000E42 CB02              2727             OR      #BIT1,R0                        ;
10127 00000E44 2101              2728             MOV.W   R0,@R1                          ;
10128                            2729     
10129 00000E46                   2730     ORGIN_OBJ_POSCTLST2_EXT                         ;
10130                            2731     
10131                            2732             SUB_END
10132                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10133 00000E46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10134                            2733             M_RTS
10135 00000E48 000B                   M           RTS                             ;RTSの後ろの
10136 00000E4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10137                            2734     
10138                            2735     
10139                            2736     
10140                            2737     ;       ***************************************************
10141                            2738     ;       ***                                             ***
10142                            2739     ;       ***                                             ***
10143                            2740     ;       ***                                             ***
10144                            2741     ;       ***                                             ***
10145                            2742     ;       ***             位置決め200usec割込             ***
10146                            2743     ;       ***             1msecでも可能                   ***
10147                            2744     ;       ***                                             ***
10148                            2745     ;       ***                                             ***
10149                            2746     ;       ***                                             ***
10150                            2747     ;       ***                                             ***
10151                            2748     ;       ***************************************************
10152                            2749     ;       停止ﾀｲﾏの処理・多段全てを行う
10153                            2750     ;       即停止状態
10154                            2751     ;       ここではﾊﾟﾙｽの払出しﾊﾟﾙｽの積算は行う
10155                            2752     ;       _INT_POS_CTL_FLAG
10156                            2753     ;               0000,0000:IDEL()
10157                            2754     ;                       BIT0:(INITAL完了)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    72
PROGRAM NAME =

10158                            2755     ;                             BIT0=1で払いﾃﾞｰﾀ作成,起動中
10159                            2756     ;                       BIT2:減速停止ﾗｯﾁ(払出停止待ち)
10160                            2757     ;                       BIT3:急停止ﾗｯﾁ(払出停止待ち)
10161                            2758     ;                       BIT4:
10162                            2759     ;                       BIT6:位置決め完了(ﾆｱｾﾞﾛ)--->IDELへ
10163                            2760     ;
10164                            2761     ;       S2b     INT_POS_STEP_FLG(ｽﾃｯﾌﾟ,段取共通);
10165                            2762     ;                               BIT0:1ｽﾃｯﾌﾟﾃﾞｰﾀ作成完了 :
10166                            2763     ;                               BIT1:払い出し開始       :
10167                            2764     ;                               BIT2:
10168                            2765     ;                               BIT3:ﾀｲﾏ測定中
10169                            2766     ;                               BIT4:完了
10170                                     ***** BEGIN-POOL *****
10171 00000E4C 00000000                   DATA FOR SOURCE-LINE 2720
10172 00000E50 00000000                   DATA FOR SOURCE-LINE 2725
10173                                     ***** END-POOL *****
10174 00000E54                   2767             .ALIGN  4                               ;
10175 00000E54                   2768     _INT_POS_CTRL:
10176                            2769             SUB_START
10177 00000E54 4F22                   M           STS.L   PR,@-R15                ;[必要]
10178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10179                            2770     
10180                            2771             FAR_JSR #_ERR_INFO_DT_IN0,R0    ;
10181 00000E56 D006                   M           MOV.L   #_ERR_INFO_DT_IN0,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10182 00000E58 400B                   M           JSR     @R0                     ;
10183 00000E5A 0009                   M           NOP                                     ;
10184                            2772     
10185                            2773     ;-------------------[2015-04-08]---------------
10186                            2774             FAR_JSR #_ENDHAND_WAIT_TIMCNT,R0        ;
10187 00000E5C D005                   M           MOV.L   #_ENDHAND_WAIT_TIMCNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10188 00000E5E 400B                   M           JSR     @R0                     ;
10189 00000E60 0009                   M           NOP                                     ;
10190                            2775     
10191 00000E62 D105              2776             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
10192 00000E64 6011              2777             MOV.W   @R1,R0                  ;
10193 00000E66 2008              2778             TST     R0,R0                   ;
10194                            2779             TST_BIT_OF INT_POSCTL_CHK00     ;
10195 00000E68 8908                   M           BT      INT_POSCTL_CHK00
10196                            2780             M_BRA   INT_POSCTL_0910         ;
10197 00000E6A A224                   M           BRA     INT_POSCTL_0910
10198 00000E6C 0009                   M           NOP
10199                            2781     
10200                            2782     
10201                                     ***** BEGIN-POOL *****
10202 00000E6E 0000                       ALIGNMENT CODE
10203 00000E70 00000000                   DATA FOR SOURCE-LINE 2771
10204 00000E74 00000000                   DATA FOR SOURCE-LINE 2774
10205 00000E78 00000000                   DATA FOR SOURCE-LINE 2776
10206                                     ***** END-POOL *****
10207 00000E7C                   2783     INT_POSCTL_CHK00:
10208                            2784     
10209                            2785     ;       ------- 2010-08-20[制動モード]
10210 00000E7C D104              2786             MOV.L   #_BRKTST_MOD_FLG,R1     ;
10211 00000E7E 6011              2787             MOV.W   @R1,R0                  ;
10212 00000E80 C801              2788             TST     #BIT0,R0                ;
10213                            2789             TST_BIT_OF INT_POSCTL_CHK10     ;
10214 00000E82 8909                   M           BT      INT_POSCTL_CHK10
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    73
PROGRAM NAME =

10215                            2790     
10216                            2791             FAR_JSR #_BRKTST_POS_CTL,R0     ;
10217 00000E84 D003                   M           MOV.L   #_BRKTST_POS_CTL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10218 00000E86 400B                   M           JSR     @R0                     ;
10219 00000E88 0009                   M           NOP                                     ;
10220                            2792     
10221                            2793             M_BRA   INT_POSCTL_0910         ;
10222 00000E8A A214                   M           BRA     INT_POSCTL_0910
10223 00000E8C 0009                   M           NOP
10224                            2794     
10225                                     ***** BEGIN-POOL *****
10226 00000E8E 0000                       ALIGNMENT CODE
10227 00000E90 00000000                   DATA FOR SOURCE-LINE 2786
10228 00000E94 00000000                   DATA FOR SOURCE-LINE 2791
10229                                     ***** END-POOL *****
10230 00000E98                   2795     INT_POSCTL_CHK10:
10231                            2796     
10232                            2797     
10233                            2798     
10234                            2799     
10235                            2800     
10236                            2801             FAR_JSR #_GAMEN_OVER_RIDE,R0            ;MAIN LOOP DATA 1 CHECK
10237 00000E98 D00D                   M           MOV.L   #_GAMEN_OVER_RIDE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10238 00000E9A 400B                   M           JSR     @R0                     ;
10239 00000E9C 0009                   M           NOP                                     ;
10240                            2802             FAR_JSR #_OVER_LIDE_SEQREF,R0           ;SEQ       DATA 1 CHKEAK
10241 00000E9E D00D                   M           MOV.L   #_OVER_LIDE_SEQREF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10242 00000EA0 400B                   M           JSR     @R0                     ;
10243 00000EA2 0009                   M           NOP                                     ;
10244                            2803             FAR_JSR #_SET_OVER_RIDE,R0              ;
10245 00000EA4 D00C                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10246 00000EA6 400B                   M           JSR     @R0                     ;
10247 00000EA8 0009                   M           NOP                                     ;
10248                            2804     
10249                            2805     ;;      --------- 2006-10-16---
10250                            2806     ;;      MOV.L   #_OVER_RIDE_USEFUL,R1
10251                            2807     ;;      MOV.W   @R1,R0
10252                            2808     ;;      TST     #BIT0,R0
10253                            2809     ;;      TST_BIT_OF OVERRIDE_CHG050
10254                            2810     ;;      FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;速度ﾘｱﾙﾀｲﾑ
10255                            2811     ;;OVERRIDE_CHG050
10256                            2812     
10257                            2813     
10258                            2814     
10259                            2815     
10260                            2816     ;       ------------------------------------------
10261                            2817     ;       ------ 2010-10-07 ------------------------
10262                            2818     ;       ------------------------------------------
10263                            2819     ;       -----ふりこの場合待機点でのみ速度反映 ----
10264                            2820             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
10265 00000EAA D00C                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10266 00000EAC 400B                   M           JSR     @R0                     ;
10267 00000EAE 0009                   M           NOP                                     ;
10268 00000EB0 2008              2821             TST     R0,R0                           ;
10269                            2822             TST_BIT_ON OVERRIDE_CHG050              ;ふりこだ!
10270 00000EB2 8B06                   M           BF      OVERRIDE_CHG050
10271                            2823     ;       ---------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    74
PROGRAM NAME =

10272                            2824     
10273                            2825     
10274 00000EB4 D10A              2826             MOV.L   #_OVER_RIDE_USEFUL,R1
10275 00000EB6 6011              2827             MOV.W   @R1,R0
10276 00000EB8 C803              2828             TST     #(BIT1+BIT0),R0                 ;SEQ
10277                            2829             TST_BIT_OF OVERRIDE_CHG050
10278 00000EBA 8902                   M           BT      OVERRIDE_CHG050
10279                            2830     
10280                            2831             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
10281 00000EBC D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10282 00000EBE 400B                   M           JSR     @R0                     ;
10283 00000EC0 0009                   M           NOP                                     ;
10284                            2832     
10285 00000EC2                   2833     OVERRIDE_CHG050
10286                            2834     
10287                            2835     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
10288                            2836     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
10289                            2837     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
10290                            2838     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
10291                            2839     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
10292                            2840     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;（段取でもある)
10293                            2841     ;;;;;;;;;;;;;
10294                            2842     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0                 ;
10295                            2843     ;;;;;;;;;;;;;   TST     R0,R0
10296                            2844     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;
10297                            2845     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND100                   ;
10298                            2846     ;;;;;;;;;;;;;FORCE_STEPEND_HAND100EXT
10299                            2847     
10300                            2848     
10301                            2849     
10302 00000EC2 D509              2850             MOV.L   #_INT_CYC_DRV_STS,R5            ;//BIT0:CYCLE　END()
10303 00000EC4 6051              2851             MOV.W   @R5,R0                          ;
10304 00000EC6 C840              2852             TST     #BIT6,R0                        ;位置決め完了?
10305                            2853             TST_BIT_OF INT_POSCTL_0020              ;
10306 00000EC8 8910                   M           BT      INT_POSCTL_0020
10307                            2854             M_BRA   INT_POSCTL_0700
10308 00000ECA A1DB                   M           BRA     INT_POSCTL_0700
10309 00000ECC 0009                   M           NOP
10310                            2855     
10311                                     ***** BEGIN-POOL *****
10312 00000ECE 0000                       ALIGNMENT CODE
10313 00000ED0 00000000                   DATA FOR SOURCE-LINE 2801
10314 00000ED4 00000000                   DATA FOR SOURCE-LINE 2802
10315 00000ED8 00000000                   DATA FOR SOURCE-LINE 2803
10316 00000EDC 00000000                   DATA FOR SOURCE-LINE 2820
10317 00000EE0 00000000                   DATA FOR SOURCE-LINE 2826
10318 00000EE4 00000000                   DATA FOR SOURCE-LINE 2831
10319 00000EE8 00000000                   DATA FOR SOURCE-LINE 2850
10320                                     ***** END-POOL *****
10321 00000EEC                   2856     INT_POSCTL_0020:
10322 00000EEC D502              2857             MOV.L   #_INT_POS_CTL_FLAG,R5           ;
10323 00000EEE 6051              2858             MOV.W   @R5,R0                          ;
10324 00000EF0 C85C              2859             TST     #(BIT6+BIT4+BIT3+BIT2),R0       ;
10325                            2860             TST_BIT_OF INT_POSCTL_0040              ;
10326 00000EF2 8903                   M           BT      INT_POSCTL_0040
10327                            2861             M_BRA   INT_POSCTL_0300                 ;
10328 00000EF4 A196                   M           BRA     INT_POSCTL_0300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    75
PROGRAM NAME =

10329 00000EF6 0009                   M           NOP
10330                            2862     
10331                                     ***** BEGIN-POOL *****
10332 00000EF8 00000000                   DATA FOR SOURCE-LINE 2857
10333                                     ***** END-POOL *****
10334 00000EFC                   2863     INT_POSCTL_0040:
10335 00000EFC C801              2864             TST     #BIT0,R0                ;
10336                            2865             TST_BIT_OF INT_POSCTL_0045      ;
10337 00000EFE 8901                   M           BT      INT_POSCTL_0045
10338                            2866             M_BRA   INT_POSCTL_0200 ;起動処理 BIT0
10339 00000F00 A10A                   M           BRA     INT_POSCTL_0200
10340 00000F02 0009                   M           NOP
10341 00000F04                   2867     INT_POSCTL_0045:
10342                            2868     
10343                            2869     ;       ===================
10344 00000F04 D603              2870             MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
10345 00000F06 6061              2871             MOV.W   @R6,R0                  ;
10346 00000F08 C907              2872             AND     #(BIT2+BIT1+BIT0),R0    ;
10347 00000F0A 8801              2873             CMP/EQ  #BIT0,R0                ;
10348 00000F0C 8904              2874             BT      INT_POSCTL_0048         ;001[起動]
10349                            2875             M_BRA   INT_POSCTL_0190         ;EXIT
10350 00000F0E A0E4                   M           BRA     INT_POSCTL_0190
10351 00000F10 0009                   M           NOP
10352                            2876     ;       ==== 通常の位置決め起動コマンド状態
10353                                     ***** BEGIN-POOL *****
10354 00000F12 0000                       ALIGNMENT CODE
10355 00000F14 00000000                   DATA FOR SOURCE-LINE 2870
10356                                     ***** END-POOL *****
10357 00000F18                   2877     INT_POSCTL_0048:
10358                            2878     
10359 00000F18 222A              2879             XOR     R2,R2
10360 00000F1A D111              2880             MOV.L   #_INT_POS_STEP_FLG,R1   ;
10361 00000F1C 2121              2881             MOV.W   R2,@R1                  ;
10362 00000F1E D111              2882             MOV.L   #_INT_DND_CTL_STEP,R1;
10363 00000F20 2121              2883             MOV.W   R2,@R1
10364 00000F22 D111              2884             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
10365 00000F24 2121              2885             MOV.W   R2,@R1                  ;
10366                            2886     
10367                            2887     ;       ===========================
10368 00000F26 D111              2888             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
10369 00000F28 2121              2889             MOV.W   R2,@R1                          ;
10370                            2890     ;       ===========================
10371                            2891     
10372                            2892     
10373                            2893     ;       -------- 2014-09-26 寸動--------------
10374 00000F2A D111              2894             MOV.L   #_INC_RESET_USE_F,R1    ;//STEPを参照して!
10375 00000F2C 6011              2895             MOV.W   @R1,R0                  ;
10376 00000F2E 2008              2896             TST     R0,R0                   ;
10377                            2897             TST_BIT_OF INT_POSCTL_0080      ;
10378 00000F30 8906                   M           BT      INT_POSCTL_0080
10379                            2898     
10380 00000F32 D110              2899             MOV.L   #_INC_RESET_STEP,R1     ;
10381 00000F34 6411              2900             MOV.W   @R1,R4
10382 00000F36 D110              2901             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10383 00000F38 2141              2902             MOV.W   R4,@R1                  ;
10384                            2903     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    76
PROGRAM NAME =

10385                            2904             FAR_JSR #_INC_RST_WORK_CLR,R0
10386 00000F3A D010                   M           MOV.L   #_INC_RST_WORK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10387 00000F3C 400B                   M           JSR     @R0                     ;
10388 00000F3E 0009                   M           NOP                                     ;
10389                            2905     
10390 00000F40                   2906     INT_POSCTL_0080
10391                            2907     ;       ------ ﾓｰｼｮﾝ運転 --------
10392 00000F40 D10D              2908             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10393 00000F42 6411              2909             MOV.W   @R1,R4                  ;
10394 00000F44 D20E              2910             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
10395 00000F46 2241              2911             MOV.W   R4,@R2                  ;
10396                            2912     
10397                            2913     
10398                            2914     
10399                            2915     
10400                            2916     
10401                            2917     
10402                            2918     
10403 00000F48                   2919     INT_POSCTL_0100:
10404                            2920     ;       ===========================================
10405                            2921     ;       ===             起動処理                ===
10406                            2922     ;       ===========================================
10407                            2923     ;;2002-09-05    FAR_JSR #_POS_LSI_START_INITAL,R0       ;
10408                            2924     
10409                            2925     ;       ----------- 2012-05-17 反転のタイマ継続処理CHK---------
10410                            2926             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0                                     ;
10411 00000F48 D00E                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10412 00000F4A 400B                   M           JSR     @R0                     ;
10413 00000F4C 0009                   M           NOP                                     ;
10414 00000F4E 2008              2927             TST     R0,R0                                                           ;
10415                            2928             TST_BIT_OF INT_POSCTL_0102                                              ;
10416 00000F50 891C                   M           BT      INT_POSCTL_0102
10417                            2929             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;必要があ
                                          ればここでつじつまあわせ
10418 00000F52 D10D                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10419 00000F54 6011                   M           MOV.W   @R1,R0          ;
10420 00000F56 CB01                   M           OR      #BIT0,R0                ;
10421 00000F58 2101                   M           MOV.W   R0,@R1          ;
10422                            2930             M_BRA   INT_POSCTL_0190                                                 ;
10423 00000F5A A0BE                   M           BRA     INT_POSCTL_0190
10424 00000F5C 0009                   M           NOP
10425                                     ***** BEGIN-POOL *****
10426 00000F5E 0000                       ALIGNMENT CODE
10427 00000F60 00000000                   DATA FOR SOURCE-LINE 2880
10428 00000F64 00000000                   DATA FOR SOURCE-LINE 2882
10429 00000F68 00000000                   DATA FOR SOURCE-LINE 2884
10430 00000F6C 00000000                   DATA FOR SOURCE-LINE 2888
10431 00000F70 00000000                   DATA FOR SOURCE-LINE 2894
10432 00000F74 00000000                   DATA FOR SOURCE-LINE 2899
10433 00000F78 00000000                   DATA FOR SOURCE-LINE 2901,2908
10434 00000F7C 00000000                   DATA FOR SOURCE-LINE 2904
10435 00000F80 00000000                   DATA FOR SOURCE-LINE 2910
10436 00000F84 00000000                   DATA FOR SOURCE-LINE 2926
10437 00000F88 00000000                   DATA FOR SOURCE-LINE 2929
10438                                     ***** END-POOL *****
10439 00000F8C                   2931     INT_POSCTL_0102:
10440                            2932     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    77
PROGRAM NAME =

10441                            2933     
10442                            2934     
10443                            2935     
10444 00000F8C D108              2936             MOV.L   #_MODE_SEL,R1                   ;
10445 00000F8E 6011              2937             MOV.W   @R1,R0                          ;
10446 00000F90 C860              2938             TST     #(_W1DUP+_W1DIC),R0             ;
10447                            2939             TST_BIT_ON INT_POSCTL_0120              ;
10448 00000F92 8B5B                   M           BF      INT_POSCTL_0120
10449                            2940     
10450                            2941     
10451                            2942             .AIF    1 EQ 1
10452 00000F94 D107              2943 C           MOV.L   #_START_FLG_AFTER_EMG,R1        ;???
10453 00000F96 9009              2944 C           MOV.W   #1,R0                           ;
10454 00000F98 2101              2945 C           MOV.W   R0,@R1                          ;
10455                            2946             .AENDI
10456                            2947     
10457                            2948     
10458                            2949     ;       -------------繰り返し 2014-09-22 ---------------
10459 00000F9A D107              2950             MOV.L   #_MOT_REP_F,R1                          ;
10460 00000F9C 6011              2951             MOV.W   @R1,R0                                  ;
10461 00000F9E C801              2952             TST     #BIT0,R0                                ;
10462                            2953             TST_BIT_OF INT_POSCTL_0102A                     ;
10463 00000FA0 890E                   M           BT      INT_POSCTL_0102A
10464                            2954     
10465                            2955     ;       -------- 繰り返しの待機点戻り工程--------------
10466                            2956             FAR_JSR #_MOT_REPSTART_CALC,R0                  ;
10467 00000FA2 D006                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10468 00000FA4 400B                   M           JSR     @R0                     ;
10469 00000FA6 0009                   M           NOP                                     ;
10470                            2957             M_BRA   INT_POSCTL_0115
10471 00000FA8 A044                   M           BRA     INT_POSCTL_0115
10472 00000FAA 0009                   M           NOP
10473                            2958     
10474                            2959     
10475                                     ***** BEGIN-POOL *****
10476 00000FAC 0001                       DATA FOR SOURCE-LINE 2944
10477 00000FAE 0000                       ALIGNMENT CODE
10478 00000FB0 00000000                   DATA FOR SOURCE-LINE 2936
10479 00000FB4 00000000                   DATA FOR SOURCE-LINE 2943
10480 00000FB8 00000000                   DATA FOR SOURCE-LINE 2950
10481 00000FBC 00000000                   DATA FOR SOURCE-LINE 2956
10482                                     ***** END-POOL *****
10483 00000FC0                   2960     INT_POSCTL_0102A:
10484                            2961     
10485 00000FC0 D00C              2962             MOV.L   #_CPOS_CTL_MATH,R0                      ;
10486 00000FC2 6001              2963             MOV.W   @R0,R0                                  ;
10487 00000FC4 C805              2964             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復[2011-03-23]
10488                            2965             TST_BIT_OF INT_POSCTL_0110
10489 00000FC6 892F                   M           BT      INT_POSCTL_0110
10490                            2966     ;       ===== 回転時の起動===
10491                            2967             FAR_JSR #_HIST_INFO_DT_IN1,R0           ;起動前の目標停止位置
10492 00000FC8 D00B                   M           MOV.L   #_HIST_INFO_DT_IN1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10493 00000FCA 400B                   M           JSR     @R0                     ;
10494 00000FCC 0009                   M           NOP                                     ;
10495                            2968     
10496                            2969             FAR_JSR #_POS_LSI_START_INITAL,R0       ;[本当にふりこはここを通していいのかな2011
                                          -03-23]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    78
PROGRAM NAME =

10497 00000FCE D00B                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10498 00000FD0 400B                   M           JSR     @R0                     ;
10499 00000FD2 0009                   M           NOP                                     ;
10500                            2970     
10501                            2971             FAR_JSR #_ERR_INFO_DT_CHK1,R0           ;POS_LSI_START_INITALでｸﾘｱされるﾃﾞｰﾀが0か
                                          ？
10502 00000FD4 D00A                   M           MOV.L   #_ERR_INFO_DT_CHK1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10503 00000FD6 400B                   M           JSR     @R0                     ;
10504 00000FD8 0009                   M           NOP                                     ;
10505                            2972             FAR_JSR #_ERR_INFO_DT_IN1,R0            ;2004-01-28(今一)
10506 00000FDA D00A                   M           MOV.L   #_ERR_INFO_DT_IN1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10507 00000FDC 400B                   M           JSR     @R0                     ;
10508 00000FDE 0009                   M           NOP                                     ;
10509                            2973     
10510 00000FE0 D109              2974             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
10511 00000FE2 6011              2975             MOV.W   @R1,R0                          ;
10512 00000FE4 C801              2976             TST     #BIT0,R0                        ;
10513                            2977             TST_BIT_ON INT_POSCTL_0103              ;上死停止有り
10514 00000FE6 8B13                   M           BF      INT_POSCTL_0103
10515                            2978     
10516                            2979             FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<停止からの起動か実ﾊﾟﾙｽ
                                          から>
10517 00000FE8 D008                   M           MOV.L   #_POS_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10518 00000FEA 400B                   M           JSR     @R0                     ;
10519 00000FEC 0009                   M           NOP                                     ;
10520                            2980     
10521                            2981             M_BRA   INT_POSCTL_0105
10522 00000FEE A012                   M           BRA     INT_POSCTL_0105
10523 00000FF0 0009                   M           NOP
10524                                     ***** BEGIN-POOL *****
10525 00000FF2 0000                       ALIGNMENT CODE
10526 00000FF4 00000000                   DATA FOR SOURCE-LINE 2962
10527 00000FF8 00000000                   DATA FOR SOURCE-LINE 2967
10528 00000FFC 00000000                   DATA FOR SOURCE-LINE 2969
10529 00001000 00000000                   DATA FOR SOURCE-LINE 2971
10530 00001004 00000000                   DATA FOR SOURCE-LINE 2972
10531 00001008 00000000                   DATA FOR SOURCE-LINE 2974
10532 0000100C 00000000                   DATA FOR SOURCE-LINE 2979
10533                                     ***** END-POOL *****
10534 00001010                   2982     INT_POSCTL_0103:                                ;上死停止なし
10535                            2983             FAR_JSR #_POS_CNT_BANK_DTMAK1,R0        ;これは必ずSVから演算(2004-12-20)もう１回
                                          転先になる
10536 00001010 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10537 00001012 400B                   M           JSR     @R0                     ;
10538 00001014 0009                   M           NOP                                     ;
10539                            2984     
10540 00001016                   2985     INT_POSCTL_0105:
10541                            2986     
10542                            2987             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-28(data-smp-only)
10543 00001016 D003                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10544 00001018 400B                   M           JSR     @R0                     ;
10545 0000101A 0009                   M           NOP                                     ;
10546                            2988             M_BRA   INT_POSCTL_0115                 ;
10547 0000101C A00A                   M           BRA     INT_POSCTL_0115
10548 0000101E 0009                   M           NOP
10549                            2989     
10550                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    79
PROGRAM NAME =

10551 00001020 00000000                   DATA FOR SOURCE-LINE 2983
10552 00001024 00000000                   DATA FOR SOURCE-LINE 2987
10553                                     ***** END-POOL *****
10554 00001028                   2990     INT_POSCTL_0110:
10555                            2991     ;       ===== 反転時の起動===
10556                            2992             FAR_JSR #_POS_LSI_START_INITL2,R0       ;
10557 00001028 D005                   M           MOV.L   #_POS_LSI_START_INITL2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10558 0000102A 400B                   M           JSR     @R0                     ;
10559 0000102C 0009                   M           NOP                                     ;
10560                            2993             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0      ;目標位置に対して少しパルスを減らす 2011-0
                                          2-19
10561 0000102E D005                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10562 00001030 400B                   M           JSR     @R0                     ;
10563 00001032 0009                   M           NOP                                     ;
10564                            2994     
10565                            2995     
10566 00001034                   2996     INT_POSCTL_0115:
10567                            2997             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12
10568 00001034 D004                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10569 00001036 400B                   M           JSR     @R0                     ;
10570 00001038 0009                   M           NOP                                     ;
10571                            2998             M_BRA   INT_POSCTL_0140                 ;
10572 0000103A A029                   M           BRA     INT_POSCTL_0140
10573 0000103C 0009                   M           NOP
10574                            2999     
10575                            3000     
10576                            3001     ;       ------------段取、原点復帰、手動パルサ
10577                                     ***** BEGIN-POOL *****
10578 0000103E 0000                       ALIGNMENT CODE
10579 00001040 00000000                   DATA FOR SOURCE-LINE 2992
10580 00001044 00000000                   DATA FOR SOURCE-LINE 2993
10581 00001048 00000000                   DATA FOR SOURCE-LINE 2997
10582                                     ***** END-POOL *****
10583 0000104C                   3002     INT_POSCTL_0120:                                ;
10584                            3003     ;       ---------- 2006-07-28------
10585 0000104C D108              3004             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10586 0000104E 6011              3005             MOV.W   @R1,R0                          ;
10587 00001050 2008              3006             TST     R0,R0                           ;
10588                            3007             TST_BIT_OF INT_POSCTL_0130              ;
10589 00001052 8917                   M           BT      INT_POSCTL_0130
10590                            3008     ;;;;;   FAR_JSR #_POS_LSI_START_INITAL,R0       ;手動パルサ
10591                            3009             FAR_JSR #_POS_LSI_START_INITAL_TEP,R0   ;2013-06-13
10592 00001054 D007                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10593 00001056 400B                   M           JSR     @R0                     ;
10594 00001058 0009                   M           NOP                                     ;
10595 0000105A D107              3010             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10596 0000105C 6212              3011             MOV.L   @R1,R2                          ;
10597                            3012             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10598 0000105E D107                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10599 00001060 410B                   M           JSR     @R1                     ;
10600 00001062 0009                   M           NOP                                     ;
10601                            3013             FAR_JSR #_TEP_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10602 00001064 D006                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10603 00001066 400B                   M           JSR     @R0                     ;
10604 00001068 0009                   M           NOP                                     ;
10605                            3014             M_BRA   INT_POSCTL_0140                 ;
10606 0000106A A011                   M           BRA     INT_POSCTL_0140
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    80
PROGRAM NAME =

10607 0000106C 0009                   M           NOP
10608                            3015     
10609                                     ***** BEGIN-POOL *****
10610 0000106E 0000                       ALIGNMENT CODE
10611 00001070 00000000                   DATA FOR SOURCE-LINE 3004
10612 00001074 00000000                   DATA FOR SOURCE-LINE 3009
10613 00001078 00000000                   DATA FOR SOURCE-LINE 3010
10614 0000107C 00000000                   DATA FOR SOURCE-LINE 3012
10615 00001080 00000000                   DATA FOR SOURCE-LINE 3013
10616                                     ***** END-POOL *****
10617 00001084                   3016     INT_POSCTL_0130:                                ;
10618                            3017             FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
10619 00001084 D016                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10620 00001086 400B                   M           JSR     @R0                     ;
10621 00001088 0009                   M           NOP                                     ;
10622                            3018             FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10623 0000108A D016                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10624 0000108C 400B                   M           JSR     @R0                     ;
10625 0000108E 0009                   M           NOP                                     ;
10626                            3019     
10627                            3020     
10628 00001090                   3021     INT_POSCTL_0140:                                ;
10629                            3022             FAR_JSR #_POS_LENGTH_ADD_DATA,R0
10630 00001090 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10631 00001092 400B                   M           JSR     @R0                     ;
10632 00001094 0009                   M           NOP                                     ;
10633                            3023             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
10634 00001096 D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10635 00001098 400B                   M           JSR     @R0                     ;
10636 0000109A 0009                   M           NOP                                     ;
10637                            3024     
10638                            3025     ;;;;;   FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
10639                            3026             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
10640 0000109C D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10641 0000109E 400B                   M           JSR     @R0                     ;
10642 000010A0 0009                   M           NOP                                     ;
10643                            3027     
10644                            3028     ;       == 2004-03 ===
10645                            3029             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
10646 000010A2 D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10647 000010A4 400B                   M           JSR     @R0                     ;
10648 000010A6 0009                   M           NOP                                     ;
10649 000010A8 9019              3030             MOV.W   #D'2,R0                 ;
10650 000010AA D113              3031             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
10651 000010AC 2101              3032             MOV.W   R0,@R1                          ;
10652                            3033     
10653                            3034             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
10654 000010AE D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10655 000010B0 400B                   M           JSR     @R0                     ;
10656 000010B2 0009                   M           NOP                                     ;
10657                            3035             FAR_JSR #_FWD_REV_START,R1              ;起動
10658 000010B4 D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10659 000010B6 410B                   M           JSR     @R1                     ;
10660 000010B8 0009                   M           NOP                                     ;
10661                            3036     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    81
PROGRAM NAME =

10662                            3037     ;       -------- 2010-09-27 ふりこ情報--------
10663                            3038             FAR_JSR #_DNM_START_ACC_CALC,R0
10664 000010BA D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10665 000010BC 400B                   M           JSR     @R0                     ;
10666 000010BE 0009                   M           NOP                                     ;
10667                            3039     
10668                            3040             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
10669 000010C0 D111                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10670 000010C2 6011                   M           MOV.W   @R1,R0          ;
10671 000010C4 CB01                   M           OR      #BIT0,R0                ;
10672 000010C6 2101                   M           MOV.W   R0,@R1          ;
10673                            3041     
10674                            3042             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
10675 000010C8 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10676 000010CA 400B                   M           JSR     @R0                     ;
10677 000010CC 0009                   M           NOP                                     ;
10678                            3043     
10679                            3044             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
10680 000010CE D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10681 000010D0 400B                   M           JSR     @R0                     ;
10682 000010D2 0009                   M           NOP                                     ;
10683                            3045     
10684                            3046     ;       ---------------- 起動 2011-09-01 -------------------
10685                            3047             FAR_JSR #_UP_ACCERR_START_INI,R0
10686 000010D4 D00F                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10687 000010D6 400B                   M           JSR     @R0                     ;
10688 000010D8 0009                   M           NOP                                     ;
10689                            3048     
10690 000010DA                   3049     INT_POSCTL_0190:
10691                            3050             M_BRA   INT_POSCTL_0800                 ;
10692 000010DA A0DC                   M           BRA     INT_POSCTL_0800
10693 000010DC 0009                   M           NOP
10694                            3051     
10695                                     ***** BEGIN-POOL *****
10696 000010DE 0002                       DATA FOR SOURCE-LINE 3030
10697 000010E0 00000000                   DATA FOR SOURCE-LINE 3017
10698 000010E4 00000000                   DATA FOR SOURCE-LINE 3018
10699 000010E8 00000000                   DATA FOR SOURCE-LINE 3022
10700 000010EC 00000000                   DATA FOR SOURCE-LINE 3023
10701 000010F0 00000000                   DATA FOR SOURCE-LINE 3026
10702 000010F4 00000000                   DATA FOR SOURCE-LINE 3029
10703 000010F8 00000000                   DATA FOR SOURCE-LINE 3031
10704 000010FC 00000000                   DATA FOR SOURCE-LINE 3034
10705 00001100 00000000                   DATA FOR SOURCE-LINE 3035
10706 00001104 00000000                   DATA FOR SOURCE-LINE 3038
10707 00001108 00000000                   DATA FOR SOURCE-LINE 3040
10708 0000110C 00000000                   DATA FOR SOURCE-LINE 3042
10709 00001110 00000000                   DATA FOR SOURCE-LINE 3044
10710 00001114 00000000                   DATA FOR SOURCE-LINE 3047
10711                                     ***** END-POOL *****
10712 00001118                   3052     INT_POSCTL_0200:
10713                            3053     ;       ===========================================
10714                            3054     ;       ===                                     ===
10715                            3055     ;       ===             起動中                  ===
10716                            3056     ;       ===                                     ===
10717                            3057     ;       ===========================================
10718 00001118 D609              3058             MOV.L   #_MNWR_POS_CMD,R6                                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    82
PROGRAM NAME =

10719 0000111A 6061              3059             MOV.W   @R6,R0                                                          ;
10720 0000111C 2008              3060             TST     R0,R0                                                           ;ﾊﾟﾙｽ払出
                                          即停止
10721                            3061             TST_BIT_ON INT_POSCTL_0220                                              ;
10722 0000111E 8B19                   M           BF      INT_POSCTL_0220
10723                            3062             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
10724 00001120 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10725 00001122 6011                   M           MOV.W   @R1,R0          ;
10726 00001124 CB08                   M           OR      #BIT3,R0                ;
10727 00001126 2101                   M           MOV.W   R0,@R1          ;
10728                            3063             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10729 00001128 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10730 0000112A 400B                   M           JSR     @R0                     ;
10731 0000112C 0009                   M           NOP                                     ;
10732                            3064             FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
10733 0000112E D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10734 00001130 400B                   M           JSR     @R0                     ;
10735 00001132 0009                   M           NOP                                     ;
10736                            3065             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10737 00001134 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10738 00001136 400B                   M           JSR     @R0                     ;
10739 00001138 0009                   M           NOP                                     ;
10740                            3066             M_BRA   INT_POSCTL_0800                                                 ;
10741 0000113A A0AC                   M           BRA     INT_POSCTL_0800
10742 0000113C 0009                   M           NOP
10743                            3067     
10744                                     ***** BEGIN-POOL *****
10745 0000113E 0000                       ALIGNMENT CODE
10746 00001140 00000000                   DATA FOR SOURCE-LINE 3058
10747 00001144 00000000                   DATA FOR SOURCE-LINE 3062
10748 00001148 00000000                   DATA FOR SOURCE-LINE 3063
10749 0000114C 00000000                   DATA FOR SOURCE-LINE 3064
10750 00001150 00000000                   DATA FOR SOURCE-LINE 3065
10751                                     ***** END-POOL *****
10752 00001154                   3068     INT_POSCTL_0220:                                                                ;
10753 00001154 C802              3069             TST     #BIT1,R0                                                        ;減速停止ｺ
                                          ﾏﾝﾄﾞ
10754                            3070             TST_BIT_OF INT_POSCTL_0240                                              ;
10755 00001156 8917                   M           BT      INT_POSCTL_0240
10756                            3071             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT2,WKREG=R1    ;
10757 00001158 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10758 0000115A 6011                   M           MOV.W   @R1,R0          ;
10759 0000115C CB04                   M           OR      #BIT2,R0                ;
10760 0000115E 2101                   M           MOV.W   R0,@R1          ;
10761                            3072             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10762 00001160 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10763 00001162 400B                   M           JSR     @R0                     ;
10764 00001164 0009                   M           NOP                                     ;
10765                            3073             FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
10766 00001166 D006                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10767 00001168 400B                   M           JSR     @R0                     ;
10768 0000116A 0009                   M           NOP                                     ;
10769                            3074             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10770 0000116C D005                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10771 0000116E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    83
PROGRAM NAME =

10772 00001170 0009                   M           NOP                                     ;
10773                            3075             M_BRA   INT_POSCTL_0800                                                 ;
10774 00001172 A090                   M           BRA     INT_POSCTL_0800
10775 00001174 0009                   M           NOP
10776                            3076     
10777                                     ***** BEGIN-POOL *****
10778 00001176 0000                       ALIGNMENT CODE
10779 00001178 00000000                   DATA FOR SOURCE-LINE 3071
10780 0000117C 00000000                   DATA FOR SOURCE-LINE 3072
10781 00001180 00000000                   DATA FOR SOURCE-LINE 3073
10782 00001184 00000000                   DATA FOR SOURCE-LINE 3074
10783                                     ***** END-POOL *****
10784 00001188                   3077     INT_POSCTL_0240:
10785                            3078     ;       ==========(位置決め完了・継続) ==========
10786 00001188 D109              3079             MOV.L   #_INT_POS_STEP_FLG,R1                                           ;//ｽﾃｯﾌﾟ,
                                          段取り共通
10787 0000118A 6011              3080             MOV.W   @R1,R0                                                          ;
10788 0000118C C840              3081             TST     #BIT6,R0                                                        ;工程終了
10789                            3082             TST_BIT_OF INT_POSCTL_0250                                              ;
10790 0000118E 8919                   M           BT      INT_POSCTL_0250
10791                            3083             FAR_JSR #_CYC_END_POS_FLG_SET,R0                                        ;
10792 00001190 D008                   M           MOV.L   #_CYC_END_POS_FLG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10793 00001192 400B                   M           JSR     @R0                     ;
10794 00001194 0009                   M           NOP                                     ;
10795                            3084             FAR_JSR #_CYC_END_POS_FLG_CLR,R0                                        ;
10796 00001196 D008                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10797 00001198 400B                   M           JSR     @R0                     ;
10798 0000119A 0009                   M           NOP                                     ;
10799                            3085     
10800                            3086              .AIF   1 EQ 1  ;
10801                            3087 C   ;       -------- 2016-10-31 ADD 二重回路対策
10802                            3088              .AENDI
10803                            3089     ;       ---------2016-06-13[3]
10804                            3090             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
10805 0000119C D007                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10806 0000119E 400B                   M           JSR     @R0                     ;
10807 000011A0 0009                   M           NOP                                     ;
10808                            3091     
10809                            3092             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10810 000011A2 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10811 000011A4 6011                   M           MOV.W   @R1,R0          ;
10812 000011A6 CB40                   M           OR      #BIT6,R0                ;
10813 000011A8 2101                   M           MOV.W   R0,@R1          ;
10814                            3093             M_BRA   INT_POSCTL_0800                                                 ;
10815 000011AA A074                   M           BRA     INT_POSCTL_0800
10816 000011AC 0009                   M           NOP
10817                            3094     
10818                            3095     
10819                                     ***** BEGIN-POOL *****
10820 000011AE 0000                       ALIGNMENT CODE
10821 000011B0 00000000                   DATA FOR SOURCE-LINE 3079
10822 000011B4 00000000                   DATA FOR SOURCE-LINE 3083
10823 000011B8 00000000                   DATA FOR SOURCE-LINE 3084
10824 000011BC 00000000                   DATA FOR SOURCE-LINE 3090
10825 000011C0 00000000                   DATA FOR SOURCE-LINE 3092
10826                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    84
PROGRAM NAME =

10827 000011C4                   3096     INT_POSCTL_0250:
10828 000011C4 D105              3097             MOV.L   #_MODE_SEL,R1                   ;
10829 000011C6 6011              3098             MOV.W   @R1,R0                          ;
10830 000011C8 C820              3099             TST     #_W1DIC,R0                      ;
10831                            3100             TST_BIT_ON INT_POSCTL_0260              ;段取
10832 000011CA 8B0B                   M           BF      INT_POSCTL_0260
10833                            3101     
10834 000011CC C840              3102             TST     #_W1DUP,R0                      ;
10835                            3103             TST_BIT_ON INT_POSCTL_0260              ;待機点復帰
10836 000011CE 8B09                   M           BF      INT_POSCTL_0260
10837                            3104     
10838                            3105     
10839                            3106             FAR_JSR #_POS_ALL_STEP_CTRL,R0          ;ﾓｰｼｮﾝ
10840 000011D0 D003                   M           MOV.L   #_POS_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10841 000011D2 400B                   M           JSR     @R0                     ;
10842 000011D4 0009                   M           NOP                                     ;
10843                            3107     
10844                            3108             M_BRA   INT_POSCTL_0280                 ;
10845 000011D6 A008                   M           BRA     INT_POSCTL_0280
10846 000011D8 0009                   M           NOP
10847                            3109     
10848                                     ***** BEGIN-POOL *****
10849 000011DA 0000                       ALIGNMENT CODE
10850 000011DC 00000000                   DATA FOR SOURCE-LINE 3097
10851 000011E0 00000000                   DATA FOR SOURCE-LINE 3106
10852                                     ***** END-POOL *****
10853 000011E4                   3110     INT_POSCTL_0260:                                ;
10854                            3111             FAR_JSR #_DND_ALL_STEP_CTRL,R0          ;(((((((((((段取毎スキャン)))))))))))))))
10855 000011E4 D00A                   M           MOV.L   #_DND_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10856 000011E6 400B                   M           JSR     @R0                     ;
10857 000011E8 0009                   M           NOP                                     ;
10858 000011EA                   3112     INT_POSCTL_0280:
10859                            3113             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
10860 000011EA D00A                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10861 000011EC 400B                   M           JSR     @R0                     ;
10862 000011EE 0009                   M           NOP                                     ;
10863                            3114     
10864                            3115     ;       === FLAG SET(REST-PLS REFLASH-END)====
10865                            3116             eSHi_SET_IM_MOV DST=_SH2_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
10866                                 M           PUSH_REG1 R1            ;
10867 000011F0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
10868                                 M                                           ;REG=>[SP]
10869                                 M                                           ;"-4" FF,FF,FF,FC
10870                                 M           PUSH_REG1 R0            ;
10871 000011F2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10872                                 M                                           ;REG=>[SP]
10873                                 M                                           ;"-4" FF,FF,FF,FC
10874 000011F4 900B                   M           MOV.W   #1,R0           ;
10875 000011F6 D108                   M           MOV.L   #_SH2_REST_RL_HF,R1             ;
10876 000011F8 2101                   M           MOV.W   R0,@R1  ;
10877                                 M           POP_REG1 R0             ;
10878                                 M                                   ; RE"+4" 00,00,00,04
10879 000011FA 60F6                   M           MOV.L   @R15+,R0        ;
10880                                 M           POP_REG1 R1             ;
10881                                 M                                   ; RE"+4" 00,00,00,04
10882 000011FC 61F6                   M           MOV.L   @R15+,R1        ;
10883                            3117     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    85
PROGRAM NAME =

10884                            3118     
10885                            3119     ;       === 2004-01-28===
10886                            3120             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
10887 000011FE D007                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10888 00001200 400B                   M           JSR     @R0                     ;
10889 00001202 0009                   M           NOP                                     ;
10890                            3121             FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
10891 00001204 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10892 00001206 400B                   M           JSR     @R0                     ;
10893 00001208 0009                   M           NOP                                     ;
10894                            3122     
10895                            3123             .AIF 0  EQ 1    ;2006-09-19
10896                            3124             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
10897                            3125             .AENDI
10898                            3126     
10899                            3127             M_BRA   INT_POSCTL_0800
10900 0000120A A044                   M           BRA     INT_POSCTL_0800
10901 0000120C 0009                   M           NOP
10902                            3128     
10903                            3129     
10904                            3130     ;       ***************************************************
10905                            3131     ;       ***             終わりへ向かう状態              ***
10906                            3132     ;       ***************************************************
10907                                     ***** BEGIN-POOL *****
10908 0000120E 0001                       DATA FOR SOURCE-LINE 3116
10909 00001210 00000000                   DATA FOR SOURCE-LINE 3111
10910 00001214 00000000                   DATA FOR SOURCE-LINE 3113
10911 00001218 00000000                   DATA FOR SOURCE-LINE 3116
10912 0000121C 00000000                   DATA FOR SOURCE-LINE 3120
10913 00001220 00000000                   DATA FOR SOURCE-LINE 3121
10914                                     ***** END-POOL *****
10915 00001224                   3133     INT_POSCTL_0300:
10916 00001224 C840              3134             TST     #BIT6,R0                        ;
10917                            3135             TST_BIT_ON INT_POSCTL_0700              ;(位置決め完了状態)起動指令OFF待ち
10918 00001226 8B2D                   M           BF      INT_POSCTL_0700
10919 00001228 C808              3136             TST     #BIT3,R0                        ;
10920                            3137             TST_BIT_ON INT_POSCTL_0500              ;急停止の払出待ち
10921 0000122A 8B1B                   M           BF      INT_POSCTL_0500
10922 0000122C C804              3138             TST     #BIT2,R0                        ;
10923                            3139             TST_BIT_ON INT_POSCTL_0320              ;減速停止の払出待ち
10924 0000122E 8B01                   M           BF      INT_POSCTL_0320
10925                            3140             M_BRA   INT_POSCTL_0900                 ;ｱｲﾄﾞﾙ
10926 00001230 A032                   M           BRA     INT_POSCTL_0900
10927 00001232 0009                   M           NOP
10928                            3141     
10929 00001234                   3142     INT_POSCTL_0320:
10930                            3143     ;       ===========================================
10931                            3144     ;       ===             減速停止中              ===
10932                            3145     ;       ===========================================
10933 00001234 D607              3146             MOV.L   #_MNWR_POS_CMD,R6               ;
10934 00001236 6061              3147             MOV.W   @R6,R0                          ;
10935 00001238 2008              3148             TST     R0,R0                           ;ﾊﾟﾙｽ払出即停止
10936                            3149             TST_BIT_ON INT_POSCTL_0500      ;
10937 0000123A 8B13                   M           BF      INT_POSCTL_0500
10938                            3150             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;起動信号一定時間ONしたらOFF:但し払い出し
                                          中が立つ
10939 0000123C D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    86
PROGRAM NAME =

10940 0000123E 400B                   M           JSR     @R0                     ;
10941 00001240 0009                   M           NOP                                     ;
10942                            3151             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
10943 00001242 D006                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10944 00001244 400B                   M           JSR     @R0                     ;
10945 00001246 0009                   M           NOP                                     ;
10946                            3152             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;急停止へ
10947 00001248 D105                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10948 0000124A 6011                   M           MOV.W   @R1,R0          ;
10949 0000124C CB08                   M           OR      #BIT3,R0                ;
10950 0000124E 2101                   M           MOV.W   R0,@R1          ;
10951                            3153             M_BRA   INT_POSCTL_0800                 ;
10952 00001250 A021                   M           BRA     INT_POSCTL_0800
10953 00001252 0009                   M           NOP
10954                            3154     
10955                            3155     
10956                            3156     ;       ===========================================
10957                            3157     ;       ===             急停止中                ===
10958                            3158     ;       ===========================================
10959                                     ***** BEGIN-POOL *****
10960 00001254 00000000                   DATA FOR SOURCE-LINE 3146
10961 00001258 00000000                   DATA FOR SOURCE-LINE 3150
10962 0000125C 00000000                   DATA FOR SOURCE-LINE 3151
10963 00001260 00000000                   DATA FOR SOURCE-LINE 3152
10964                                     ***** END-POOL *****
10965 00001264                   3159     INT_POSCTL_0500:
10966                            3160             FAR_JSR #_LOD_POS_STS_REG_SLOW,R1       ;
10967 00001264 D105                   M           MOV.L   #_LOD_POS_STS_REG_SLOW,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10968 00001266 410B                   M           JSR     @R1                     ;
10969 00001268 0009                   M           NOP                                     ;
10970 0000126A C804              3161             TST     #BIT2,R0                        ;停止?
10971                            3162             TST_BIT_OF INT_POSCTL_0800              ;
10972 0000126C 8913                   M           BT      INT_POSCTL_0800
10973                            3163             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10974 0000126E D104                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10975 00001270 6011                   M           MOV.W   @R1,R0          ;
10976 00001272 CB40                   M           OR      #BIT6,R0                ;
10977 00001274 2101                   M           MOV.W   R0,@R1          ;
10978                            3164             M_BRA   INT_POSCTL_0800         ;
10979 00001276 A00E                   M           BRA     INT_POSCTL_0800
10980 00001278 0009                   M           NOP
10981                            3165     
10982                            3166     
10983                            3167     
10984                            3168     
10985                            3169     
10986                            3170     
10987                            3171     
10988                            3172     ;       ===========================================
10989                            3173     ;       ===             位置決め完了待ち        ===
10990                            3174     ;       ===========================================
10991                                     ***** BEGIN-POOL *****
10992 0000127A 0000                       ALIGNMENT CODE
10993 0000127C 00000000                   DATA FOR SOURCE-LINE 3160
10994 00001280 00000000                   DATA FOR SOURCE-LINE 3163
10995                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    87
PROGRAM NAME =

10996 00001284                   3175     INT_POSCTL_0700:                                        ;
10997 00001284 D512              3176             MOV.L   #_INT_CYC_DRV_STS,R5    ;//BIT0:CYCLE　END()
10998 00001286 6051              3177             MOV.W   @R5,R0                  ;
10999 00001288 C840              3178             TST     #BIT6,R0                ;
11000                            3179             TST_BIT_ON INT_POSCTL_0900      ;
11001 0000128A 8B05                   M           BF      INT_POSCTL_0900
11002 0000128C CB40              3180             OR      #BIT6,R0                ;
11003 0000128E 2501              3181             MOV.W   R0,@R5                  ;位置決め完了SET
11004                            3182     ;       ===========================     ;
11005                            3183     ;       ===     運転終了        ===     ;
11006                            3184     ;       ===========================     ;
11007                            3185             FAR_JSR #_INT_POS_CTL_END,R0    ;
11008 00001290 D010                   M           MOV.L   #_INT_POS_CTL_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11009 00001292 400B                   M           JSR     @R0                     ;
11010 00001294 0009                   M           NOP                                     ;
11011 00001296                   3186     INT_POSCTL_0800:
11012 00001296 0009              3187             NOP
11013 00001298                   3188     INT_POSCTL_0900:
11014                            3189             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG1,W    ,_POS_CALC_ERR_INF1,W,R1,R2,R3
                                          ;
11015 00001298 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1
11016 0000129A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
11017 0000129C D30F                   M           MOV.L   #_POS_CALC_ERR_INF1,R3  ;DST_ADR
11018 0000129E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
11019                            3190             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG2,W    ,_POS_CALC_ERR_INF2,W,R1,R2,R3
                                          ;
11020 000012A0 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1
11021 000012A2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
11022 000012A4 D30F                   M           MOV.L   #_POS_CALC_ERR_INF2,R3  ;DST_ADR
11023 000012A6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
11024                            3191             MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_FLG1,W ,_POS_LSI_ACS_ERR_INF1,W,R1,R2,R3
                                          ;
11025 000012A8 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1
11026 000012AA 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
11027 000012AC D30F                   M           MOV.L   #_POS_LSI_ACS_ERR_INF1,R3       ;DST_ADR
11028 000012AE 2321                   M           MOV.W   R2,@R3  ;DST_ADR
11029                            3192     
11030                            3193     
11031                            3194     
11032                            3195             FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[S01m 2003-04-03]
11033 000012B0 D00F                   M           MOV.L   #_POS_OVER_RUN_CHK1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11034 000012B2 400B                   M           JSR     @R0                     ;
11035 000012B4 0009                   M           NOP                                     ;
11036                            3196     
11037 000012B6                   3197     INT_POSCTL_0910:
11038                            3198     
11039                            3199     
11040                            3200     ;;;2011-09-14移動[ﾌﾞﾚｰｷﾃｽﾄ中はｵｰﾊﾞﾗﾝを見ない]   FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[
                                          S01m 2003-04-03]
11041                            3201     
11042                            3202     
11043                            3203     
11044                            3204     
11045                            3205             FAR_JSR #_ERR_STOP_MOV_CHK,R0           ;FLG=R0
11046 000012B6 D00F                   M           MOV.L   #_ERR_STOP_MOV_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11047 000012B8 400B                   M           JSR     @R0                     ;
11048 000012BA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    88
PROGRAM NAME =

11049 000012BC 2008              3206             TST     R0,R0                           ;
11050                            3207             TST_BIT_ON INT_POSCTL_0920              ;
11051 000012BE 8B1D                   M           BF      INT_POSCTL_0920
11052                            3208             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT1),WKRG1=R1,WKRG2=R4
11053 000012C0 D10D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11054 000012C2 6011                   M           MOV.W   @R1,R0          ;
11055 000012C4 9403                   M           MOV.W   #LWORD (~BIT1),R4       ;
11056 000012C6 2049                   M           AND     R4,R0           ;
11057 000012C8 2101                   M           MOV.W   R0,@R1          ;
11058                            3209             M_BRA   INT_POSCTL_0950                 ;
11059 000012CA A01C                   M           BRA     INT_POSCTL_0950
11060 000012CC 0009                   M           NOP
11061                                     ***** BEGIN-POOL *****
11062 000012CE FFFD                       DATA FOR SOURCE-LINE 3208
11063 000012D0 00000000                   DATA FOR SOURCE-LINE 3176
11064 000012D4 00000000                   DATA FOR SOURCE-LINE 3185
11065 000012D8 00000000                   DATA FOR SOURCE-LINE 3189
11066 000012DC 00000000                   DATA FOR SOURCE-LINE 3189
11067 000012E0 00000000                   DATA FOR SOURCE-LINE 3190
11068 000012E4 00000000                   DATA FOR SOURCE-LINE 3190
11069 000012E8 00000000                   DATA FOR SOURCE-LINE 3191
11070 000012EC 00000000                   DATA FOR SOURCE-LINE 3191
11071 000012F0 00000000                   DATA FOR SOURCE-LINE 3195
11072 000012F4 00000000                   DATA FOR SOURCE-LINE 3205
11073 000012F8 00000000                   DATA FOR SOURCE-LINE 3208
11074                                     ***** END-POOL *****
11075 000012FC                   3210     INT_POSCTL_0920:
11076                            3211             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4
11077 000012FC D11A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11078 000012FE 6011                   M           MOV.W   @R1,R0          ;
11079 00001300 9430                   M           MOV.W   #(BIT1),R4              ;
11080 00001302 204B                   M           OR      R4,R0           ;
11081 00001304 2101                   M           MOV.W   R0,@R1          ;
11082 00001306                   3212     INT_POSCTL_0950:
11083                            3213     
11084                            3214     ;       ------ 2006-09-19 -------
11085                            3215             FAR_JSR #_MONI_SEINOU_CMP_OUTPUT,R0                     ;制御(_SH_POSCTL_RL_ABSPLS
                                          )を使用している注意
11086 00001306 D019                   M           MOV.L   #_MONI_SEINOU_CMP_OUTPUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11087 00001308 400B                   M           JSR     @R0                     ;
11088 0000130A 0009                   M           NOP                                     ;
11089                            3216             FAR_JSR #_RL_POS_DATA_CHK,R0                            ;
11090 0000130C D018                   M           MOV.L   #_RL_POS_DATA_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11091 0000130E 400B                   M           JSR     @R0                     ;
11092 00001310 0009                   M           NOP                                     ;
11093                            3217     
11094                            3218             FAR_JSR #_CNT_HOSEI_CHK_CALC,R0                         ;
11095 00001312 D018                   M           MOV.L   #_CNT_HOSEI_CHK_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11096 00001314 400B                   M           JSR     @R0                     ;
11097 00001316 0009                   M           NOP                                     ;
11098                            3219     
11099                            3220     ;       ----------------------------------------------
11100                            3221             FAR_JSR #_PLS_LSI_CTRL,R0                       ;
11101 00001318 D017                   M           MOV.L   #_PLS_LSI_CTRL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11102 0000131A 400B                   M           JSR     @R0                     ;
11103 0000131C 0009                   M           NOP                                     ;
11104                            3222     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    89
PROGRAM NAME =

11105                            3223     
11106                            3224     ;       ------2012-05-15---------------
11107 0000131E D117              3225             MOV.L   #_DURING_TIM_FX,R1              ;ﾓﾆﾀ
11108 00001320 6211              3226             MOV.W   @R1,R2                          ;
11109 00001322 622C              3227             EXTU.B  R2,R2                           ;
11110                            3228     
11111 00001324 D116              3229             MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
11112 00001326 6011              3230             MOV.W   @R1,R0                          ;
11113 00001328 4018              3231             SHLL8   R0                              ;
11114 0000132A 220B              3232             OR      R0,R2                           ;
11115                            3233     
11116 0000132C D115              3234             MOV.L   #_SQ_CBWK_TOP+_WKSQCB231,R1     ;
11117 0000132E 2121              3235             MOV.W   R2,@R1                          ;
11118                            3236     
11119                            3237     ;       ------2012-10-01---------------
11120 00001330 D115              3238             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
11121 00001332 6211              3239             MOV.W   @R1,R2                          ;
11122 00001334 622C              3240             EXTU.B  R2,R2                           ;
11123                            3241     
11124                            3242     ;       -------- 2019-04-10-------------
11125 00001336 233A              3243             XOR             R3,R3
11126 00001338 D114              3244             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向(今回動
                                          きべき方向) 非常停止の影響ない
11127 0000133A 6011              3245             MOV.W   @R1,R0                                          ;
11128 0000133C 2008              3246             TST             R0,R0
11129                            3247             TST_BIT_OF      DEBUG_SIGINC_100
11130 0000133E 8900                   M           BT      DEBUG_SIGINC_100
11131 00001340 E302              3248             MOV.B   #BIT1,R3
11132 00001342                   3249     DEBUG_SIGINC_100:
11133                            3250     
11134 00001342 244A              3251             XOR             R4,R4
11135                            3252     ;;;
11136                            3253     ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1         ;
11137                            3254     ;;;     MOV.W   @R1,R0                                          ;
11138                            3255     ;;;     TST             R0,R0
11139                            3256     ;;;     TST_BIT_OF      DEBUG_SIGNEG_100                ;
11140                            3257     ;;;     MOV.B   #BIT2,R4
11141                            3258     ;;;DEBUG_SIGNEG_100:                                            ;
11142                            3259     ;;;
11143                            3260     
11144 00001344 D112              3261             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
11145 00001346 6011              3262             MOV.W   @R1,R0                                          ;
11146 00001348 C901              3263             AND             #BIT0,R0                                        ;
11147                            3264     
11148 0000134A 203B              3265             OR              R3,R0                                           ;BIT1->232.9
11149 0000134C 204B              3266             OR              R4,R0                                           ;BIT2->232.10
11150 0000134E 4018              3267             SHLL8   R0                                                      ;BIT0->232.8
11151 00001350 220B              3268             OR      R0,R2                                                   ;
11152                            3269     
11153 00001352 D110              3270             MOV.L   #_SQ_CBWK_TOP+_WKSQCB232,R1     ;
11154 00001354 2121              3271             MOV.W   R2,@R1                          ;
11155                            3272     
11156                            3273     
11157                            3274     ;----------2013-08-20
11158 00001356 D110              3275             MOV.L   #_POSCTL_STEP_FLG,R1            ;
11159 00001358 6211              3276             MOV.W   @R1,R2                          ;
11160 0000135A D110              3277             MOV.L   #_SQ_CBWK_TOP+_WKSQCB233,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    90
PROGRAM NAME =

11161 0000135C 2121              3278             MOV.W   R2,@R1                          ;
11162                            3279     
11163                            3280     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+0,R1
11164                            3281     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
11165                            3282     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB234,R1     ;
11166                            3283     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
11167                            3284     ;;;;;;;;;;;;;;;;;;;2015-07-07
11168                            3285     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+2,R1
11169                            3286     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
11170                            3287     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB235,R1     ;
11171                            3288     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
11172                            3289     
11173                            3290     
11174                            3291     
11175                            3292             SUB_END
11176                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11177 0000135E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11178                            3293             M_RTS
11179 00001360 000B                   M           RTS                             ;RTSの後ろの
11180 00001362 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11181                            3294     
11182                            3295     ;       ***********************************
11183                            3296     ;       ***                             ***
11184                            3297     ;       ***     INT                     ***
11185                            3298     ;       ***                             ***
11186                            3299     ;       ***********************************
11187                                     ***** BEGIN-POOL *****
11188 00001364 0002                       DATA FOR SOURCE-LINE 3211
11189 00001366 0000                       ALIGNMENT CODE
11190 00001368 00000000                   DATA FOR SOURCE-LINE 3211
11191 0000136C 00000000                   DATA FOR SOURCE-LINE 3215
11192 00001370 00000000                   DATA FOR SOURCE-LINE 3216
11193 00001374 00000000                   DATA FOR SOURCE-LINE 3218
11194 00001378 00000000                   DATA FOR SOURCE-LINE 3221
11195 0000137C 00000000                   DATA FOR SOURCE-LINE 3225
11196 00001380 00000000                   DATA FOR SOURCE-LINE 3229
11197 00001384 00000000                   DATA FOR SOURCE-LINE 3234
11198 00001388 00000000                   DATA FOR SOURCE-LINE 3238
11199 0000138C 00000000                   DATA FOR SOURCE-LINE 3244
11200 00001390 00000000                   DATA FOR SOURCE-LINE 3261
11201 00001394 00000000                   DATA FOR SOURCE-LINE 3270
11202 00001398 00000000                   DATA FOR SOURCE-LINE 3275
11203 0000139C 00000000                   DATA FOR SOURCE-LINE 3277
11204                                     ***** END-POOL *****
11205 000013A0                   3300             .ALIGN  4                               ;
11206 000013A0                   3301     _INT_POS_CTL_END:
11207                            3302             SUB_START
11208 000013A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
11209                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11210 000013A2 200A              3303             XOR     R0,R0
11211 000013A4 D10E              3304             MOV.L   #_INT_POS_CTL_FLAG,R1;
11212 000013A6 2101              3305             MOV.W   R0,@R1
11213 000013A8 D10E              3306             MOV.L   #_INT_POS_STEP_FLG,R1;
11214 000013AA 2101              3307             MOV.W   R0,@R1
11215 000013AC D10E              3308             MOV.L   #_INT_POS_CTL_STEP,R1;
11216 000013AE 2101              3309             MOV.W   R0,@R1
11217                            3310     ;       ===========================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    91
PROGRAM NAME =

11218 000013B0 D10E              3311             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11219 000013B2 2101              3312             MOV.W   R0,@R1                          ;
11220                            3313     ;       ===========================
11221                            3314     
11222 000013B4 D10E              3315             MOV.L   #_INT_DND_CTL_STEP,R1;
11223 000013B6 2101              3316             MOV.W   R0,@R1
11224 000013B8 D10E              3317             MOV.L   #_INT_DND_STEP_FLG,R1;
11225 000013BA 2101              3318             MOV.W   R0,@R1
11226                            3319     
11227 000013BC D10E              3320             MOV.L   #_LNGTH_ADD_DATA,R1;[2];//符号付き
11228 000013BE 2102              3321             MOV.L   R0,@R1
11229 000013C0 1101              3322             MOV.L   R0,@(4,R1)
11230                            3323     
11231 000013C2 D10E              3324             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1;[2];//符号つき TOTAL=TOTAL+ADD ADD_DATA<=0
11232 000013C4 2102              3325             MOV.L   R0,@R1
11233 000013C6 1101              3326             MOV.L   R0,@(4,R1)
11234                            3327     
11235 000013C8 D10D              3328             MOV.L   #_POSLSI_CMP_DATA,R1;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
11236 000013CA 2102              3329             MOV.L   R0,@R1
11237                            3330     
11238 000013CC D10D              3331             MOV.L   #_POSLSI_DELT_POS,R1;//変化分
11239 000013CE 2102              3332             MOV.L   R0,@R1
11240                            3333     
11241 000013D0 D10D              3334             MOV.L   #_OUTPLS_MOD,R1         ;
11242 000013D2 2102              3335             MOV.L   R0,@R1                  ;
11243                            3336     
11244                            3337     
11245                            3338     ;       ------- 2015-11-17 -----------------------
11246                            3339     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
11247                            3340             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
11248 000013D4 D00D                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11249 000013D6 400B                   M           JSR     @R0                     ;
11250 000013D8 0009                   M           NOP                                     ;
11251                            3341     
11252                            3342             SUB_END
11253                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11254 000013DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11255                            3343             M_RTS
11256 000013DC 000B                   M           RTS                             ;RTSの後ろの
11257 000013DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11258                            3344     
11259                            3345     
11260                            3346     
11261                            3347     
11262                            3348     ;       ***********************************
11263                            3349     ;       ***                             ***
11264                            3350     ;       ***     移動距離と速度          ***
11265                            3351     ;       ***                             ***
11266                            3352     ;       ***********************************
11267                                     ***** BEGIN-POOL *****
11268 000013E0 00000000                   DATA FOR SOURCE-LINE 3304
11269 000013E4 00000000                   DATA FOR SOURCE-LINE 3306
11270 000013E8 00000000                   DATA FOR SOURCE-LINE 3308
11271 000013EC 00000000                   DATA FOR SOURCE-LINE 3311
11272 000013F0 00000000                   DATA FOR SOURCE-LINE 3315
11273 000013F4 00000000                   DATA FOR SOURCE-LINE 3317
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    92
PROGRAM NAME =

11274 000013F8 00000000                   DATA FOR SOURCE-LINE 3320
11275 000013FC 00000000                   DATA FOR SOURCE-LINE 3324
11276 00001400 00000000                   DATA FOR SOURCE-LINE 3328
11277 00001404 00000000                   DATA FOR SOURCE-LINE 3331
11278 00001408 00000000                   DATA FOR SOURCE-LINE 3334
11279 0000140C 00000000                   DATA FOR SOURCE-LINE 3340
11280                                     ***** END-POOL *****
11281 00001410                   3353             .ALIGN  4
11282 00001410                   3354     _POS_1STEP_DATA_MAK1:
11283                            3355             SUB_START
11284 00001410 4F22                   M           STS.L   PR,@-R15                ;[必要]
11285                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11286                            3356             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;DUMMY CALL
11287 00001412 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11288 00001414 400B                   M           JSR     @R0                     ;
11289 00001416 0009                   M           NOP                                     ;
11290                            3357     
11291 00001418 D211              3358             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11292 0000141A 6021              3359             MOV.W   @R2,R0                          ;
11293 0000141C 70FF              3360             ADD     #-1,R0                          ;
11294 0000141E 4008              3361             SHLL2   R0                              ;
11295 00001420 D410              3362             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11296 00001422 024E              3363             MOV.L   @(R0,R4),R2                     ;
11297 00001424 D110              3364             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11298 00001426 2122              3365             MOV.L   R2,@R1                          ;
11299                            3366     
11300                            3367     
11301                            3368             PUSH_REG1       R0
11302 00001428 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11303                                 M                                           ;REG=>[SP]
11304                                 M                                           ;"-4" FF,FF,FF,FC
11305                            3369             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11306 0000142A D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11307 0000142C 410B                   M           JSR     @R1                     ;
11308 0000142E 0009                   M           NOP                                     ;
11309                            3370             POP_REG1        R0                      ;R0=*4
11310                                 M                                   ; RE"+4" 00,00,00,04
11311 00001430 60F6                   M           MOV.L   @R15+,R0        ;
11312 00001432 4000              3371             SHLL    R0                              ;*2
11313 00001434 D40E              3372             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11314 00001436 340C              3373             ADD     R0,R4                   ;
11315 00001438 6146              3374             MOV.L   @R4+,R1                 ;
11316 0000143A 6242              3375             MOV.L   @R4,R2                  ;(目標位置)
11317                            3376             FAR_JSR #_LENGH_ADD_CALC,R0     ;
11318 0000143C D00D                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11319 0000143E 400B                   M           JSR     @R0                     ;
11320 00001440 0009                   M           NOP                                     ;
11321                            3377     
11322 00001442 233A              3378             XOR     R3,R3                   ;
11323 00001444 4111              3379             CMP/PZ  R1                      ;+正転?
11324 00001446 8900              3380             BT      POS_1STEP_DATMK1_050    ;
11325 00001448 E301              3381             MOV     #BIT0,R3                ;
11326 0000144A                   3382     POS_1STEP_DATMK1_050:
11327 0000144A D10B              3383             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11328 0000144C 6011              3384             MOV.W   @R1,R0                  ;
11329 0000144E C9FE              3385             AND     #LOW ~BIT0,R0           ;
11330 00001450 203B              3386             OR      R3,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    93
PROGRAM NAME =

11331 00001452 2101              3387             MOV.W   R0,@R1                  ;
11332                            3388             SUB_END
11333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11334 00001454 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11335                            3389             M_RTS
11336 00001456 000B                   M           RTS                             ;RTSの後ろの
11337 00001458 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11338                            3390     
11339                            3391     
11340                            3392     ;       ***********************************
11341                            3393     ;       ***                             ***
11342                            3394     ;       ***     移動距離と速度          ***
11343                            3395     ;       ***     反転用                  ***
11344                            3396     ;       ***     2011-02-19              ***
11345                            3397     ;       ***                             ***
11346                            3398     ;       ***********************************
11347                            3399     ;
11348                            3400     ;       ・上昇のときはBEFOREしない
11349                            3401     ;       ・
11350                            3402     
11351                                     ***** BEGIN-POOL *****
11352 0000145A 0000                       ALIGNMENT CODE
11353 0000145C 00000000                   DATA FOR SOURCE-LINE 3356
11354 00001460 00000000                   DATA FOR SOURCE-LINE 3358
11355 00001464 00000000                   DATA FOR SOURCE-LINE 3362
11356 00001468 00000000                   DATA FOR SOURCE-LINE 3364
11357 0000146C 00000000                   DATA FOR SOURCE-LINE 3369
11358 00001470 00000000                   DATA FOR SOURCE-LINE 3372
11359 00001474 00000000                   DATA FOR SOURCE-LINE 3376
11360 00001478 00000000                   DATA FOR SOURCE-LINE 3383
11361                                     ***** END-POOL *****
11362 0000147C                   3403             .ALIGN  4
11363 0000147C                   3404     _POS_1STEP_DATA_MAK1CL:
11364                            3405             SUB_START
11365 0000147C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11366                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11367                            3406     ;----------------------------------------
11368                            3407             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;
11369 0000147E D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11370 00001480 400B                   M           JSR     @R0                     ;
11371 00001482 0009                   M           NOP                                     ;
11372                            3408     
11373 00001484 D20F              3409             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11374 00001486 6021              3410             MOV.W   @R2,R0                          ;
11375 00001488 70FF              3411             ADD     #-1,R0                          ;
11376 0000148A 4008              3412             SHLL2   R0                              ;
11377 0000148C D40E              3413             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11378 0000148E 024E              3414             MOV.L   @(R0,R4),R2                     ;
11379 00001490 D10E              3415             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11380 00001492 2122              3416             MOV.L   R2,@R1                          ;
11381                            3417     
11382                            3418     
11383                            3419             PUSH_REG1       R0
11384 00001494 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11385                                 M                                           ;REG=>[SP]
11386                                 M                                           ;"-4" FF,FF,FF,FC
11387                            3420             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    94
PROGRAM NAME =

11388 00001496 D10E                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11389 00001498 410B                   M           JSR     @R1                     ;
11390 0000149A 0009                   M           NOP                                     ;
11391                            3421             POP_REG1        R0                      ;R0=*4
11392                                 M                                   ; RE"+4" 00,00,00,04
11393 0000149C 60F6                   M           MOV.L   @R15+,R0        ;
11394                            3422     
11395                            3423             PUSH_REG1 R0                            ;2012-10-05
11396 0000149E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11397                                 M                                           ;REG=>[SP]
11398                                 M                                           ;"-4" FF,FF,FF,FC
11399                            3424     
11400 000014A0 4000              3425             SHLL    R0                              ;*2
11401 000014A2 D40C              3426             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11402 000014A4 340C              3427             ADD     R0,R4                           ;
11403 000014A6 6146              3428             MOV.L   @R4+,R1                         ;
11404 000014A8 6242              3429             MOV.L   @R4,R2                          ;(目標位置)
11405                            3430     
11406                            3431             POP_REG1 R0                             ;2012-10-05
11407                                 M                                   ; RE"+4" 00,00,00,04
11408 000014AA 60F6                   M           MOV.L   @R15+,R0        ;
11409                            3432     
11410                            3433     
11411                            3434     ;       --------------------
11412 000014AC D40A              3435             MOV.L   #_CPOS_SDAT1_INF1,R4            ;
11413 000014AE 340C              3436             ADD     R0,R4                           ;
11414 000014B0 6042              3437             MOV.L   @R4,R0                          ;
11415 000014B2 C802              3438             TST     #BIT1,R0                        ;
11416                            3439             TST_BIT_OF POS_1STEP_DATMK1CL_020       ;正
11417 000014B4 8914                   M           BT      POS_1STEP_DATMK1CL_020
11418                            3440     
11419                            3441     ;       ------------逆転[手前減速位置演算をしない]-------------
11420 000014B6 D409              3442             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
11421 000014B8 2412              3443             MOV.L   R1,@R4                          ;
11422 000014BA 1421              3444             MOV.L   R2,@(4,R4)                      ;save
11423                            3445             M_BRA   POS_1STEP_DATMK1CL_040          ;
11424 000014BC A013                   M           BRA     POS_1STEP_DATMK1CL_040
11425 000014BE 0009                   M           NOP
11426                            3446     
11427                                     ***** BEGIN-POOL *****
11428 000014C0 00000000                   DATA FOR SOURCE-LINE 3407
11429 000014C4 00000000                   DATA FOR SOURCE-LINE 3409
11430 000014C8 00000000                   DATA FOR SOURCE-LINE 3413
11431 000014CC 00000000                   DATA FOR SOURCE-LINE 3415
11432 000014D0 00000000                   DATA FOR SOURCE-LINE 3420
11433 000014D4 00000000                   DATA FOR SOURCE-LINE 3426
11434 000014D8 00000000                   DATA FOR SOURCE-LINE 3435
11435 000014DC 00000000                   DATA FOR SOURCE-LINE 3442
11436                                     ***** END-POOL *****
11437 000014E0                   3447     POS_1STEP_DATMK1CL_020:
11438                            3448     ;       ============== input R1,R2 ===============
11439                            3449             FAR_JSR #_FUL_BEFOR_CALC,R0             ;[引いた結果が前段や待機点より小さくなる場
                                          合はそれより引かない]
11440 000014E0 D008                   M           MOV.L   #_FUL_BEFOR_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11441 000014E2 400B                   M           JSR     @R0                     ;
11442 000014E4 0009                   M           NOP                                     ;
11443                            3450     ;       ============== output R1,R2  =============
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    95
PROGRAM NAME =

11444 000014E6                   3451     POS_1STEP_DATMK1CL_040:
11445                            3452     
11446                            3453     
11447                            3454     
11448                            3455             FAR_JSR #_LENGH_ADD_CALC,R0             ;
11449 000014E6 D008                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11450 000014E8 400B                   M           JSR     @R0                     ;
11451 000014EA 0009                   M           NOP                                     ;
11452                            3456     
11453 000014EC 233A              3457             XOR     R3,R3                           ;
11454 000014EE 4111              3458             CMP/PZ  R1                              ;+正転?
11455 000014F0 8900              3459             BT      POS_1STEP_DATMK1CL_050          ;
11456 000014F2 E301              3460             MOV     #BIT0,R3                        ;
11457 000014F4                   3461     POS_1STEP_DATMK1CL_050:
11458 000014F4 D105              3462             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
11459 000014F6 6011              3463             MOV.W   @R1,R0                          ;
11460 000014F8 C9FE              3464             AND     #LOW ~BIT0,R0                   ;
11461 000014FA 203B              3465             OR      R3,R0                           ;
11462 000014FC 2101              3466             MOV.W   R0,@R1                          ;
11463                            3467     ;       ----------------------------------------
11464                            3468             SUB_END
11465                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11466 000014FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11467                            3469             M_RTS
11468 00001500 000B                   M           RTS                             ;RTSの後ろの
11469 00001502 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11470                            3470     
11471                            3471     ;       *******************************************
11472                            3472     ;       ***     input R1,R2 /Output R1,R2       ***
11473                            3473     ;       *******************************************
11474                                     ***** BEGIN-POOL *****
11475 00001504 00000000                   DATA FOR SOURCE-LINE 3449
11476 00001508 00000000                   DATA FOR SOURCE-LINE 3455
11477 0000150C 00000000                   DATA FOR SOURCE-LINE 3462
11478                                     ***** END-POOL *****
11479 00001510                   3474             .ALIGN  4                               ;
11480 00001510                   3475     _FUL_BEFOR_CALC:
11481                            3476             SUB_START
11482 00001510 4F22                   M           STS.L   PR,@-R15                ;[必要]
11483                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11484                            3477             PUSH_REG1 R0
11485 00001512 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11486                                 M                                           ;REG=>[SP]
11487                                 M                                           ;"-4" FF,FF,FF,FC
11488                            3478             PUSH_REG1 R3
11489 00001514 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
11490                                 M                                           ;REG=>[SP]
11491                                 M                                           ;"-4" FF,FF,FF,FC
11492                            3479             PUSH_REG1 R4
11493 00001516 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
11494                                 M                                           ;REG=>[SP]
11495                                 M                                           ;"-4" FF,FF,FF,FC
11496                            3480             PUSH_REG1 R5
11497 00001518 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
11498                                 M                                           ;REG=>[SP]
11499                                 M                                           ;"-4" FF,FF,FF,FC
11500                            3481             PUSH_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    96
PROGRAM NAME =

11501 0000151A 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
11502                                 M                                           ;REG=>[SP]
11503                                 M                                           ;"-4" FF,FF,FF,FC
11504                            3482     
11505 0000151C D508              3483             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11506 0000151E 2512              3484             MOV.L   R1,@R5                                  ;
11507 00001520 1521              3485             MOV.L   R2,@(4,R5)                              ;save
11508                            3486     
11509 00001522 D408              3487             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
11510 00001524 6642              3488             MOV.L   @R4,R6                          ;
11511 00001526 255A              3489             XOR     R5,R5                           ;
11512 00001528 2668              3490             TST     R6,R6                           ;
11513                            3491             TST_BIT_OF FUL_BEFOR_CAL500             ;
11514 0000152A 8914                   M           BT      FUL_BEFOR_CAL500
11515                            3492     
11516 0000152C D306              3493             MOV.L   #_INT_POS_CTL_STEP,R3           ;//内部制御工程1~11
11517 0000152E 6031              3494             MOV.W   @R3,R0                          ;
11518 00001530 D306              3495             MOV.L   #_CPOS_STEP_MAX,R3              ;
11519 00001532 6431              3496             MOV.W   @R3,R4                          ;
11520 00001534 7401              3497             ADD     #1,R4                           ;
11521 00001536 3040              3498             CMP/EQ  R4,R0                           ;
11522 00001538 8B0A              3499             BF      FUL_BEFOR_CAL100                ;（この論理では戻り工程は１つだけになる）
11523                            3500             M_BRA   FUL_BEFOR_CAL500                ;戻り工程は演算しない
11524 0000153A A00C                   M           BRA     FUL_BEFOR_CAL500
11525 0000153C 0009                   M           NOP
11526                            3501     
11527                                     ***** BEGIN-POOL *****
11528 0000153E 0000                       ALIGNMENT CODE
11529 00001540 00000000                   DATA FOR SOURCE-LINE 3483
11530 00001544 00000000                   DATA FOR SOURCE-LINE 3487
11531 00001548 00000000                   DATA FOR SOURCE-LINE 3493
11532 0000154C 00000000                   DATA FOR SOURCE-LINE 3495
11533                                     ***** END-POOL *****
11534 00001550                   3502     FUL_BEFOR_CAL100:
11535                            3503     
11536                            3504             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
11537 00001550 0008                   M           CLRT
11538 00001552 326A                   M           SUBC    R6,R2
11539 00001554 315A                   M           SUBC    R5,R1
11540                            3505     
11541 00001556                   3506     FUL_BEFOR_CAL500:
11542                            3507             POP_REG1 R6
11543                                 M                                   ; RE"+4" 00,00,00,04
11544 00001556 66F6                   M           MOV.L   @R15+,R6        ;
11545                            3508             POP_REG1 R5
11546                                 M                                   ; RE"+4" 00,00,00,04
11547 00001558 65F6                   M           MOV.L   @R15+,R5        ;
11548                            3509             POP_REG1 R4
11549                                 M                                   ; RE"+4" 00,00,00,04
11550 0000155A 64F6                   M           MOV.L   @R15+,R4        ;
11551                            3510             POP_REG1 R3
11552                                 M                                   ; RE"+4" 00,00,00,04
11553 0000155C 63F6                   M           MOV.L   @R15+,R3        ;
11554                            3511             POP_REG1 R0
11555                                 M                                   ; RE"+4" 00,00,00,04
11556 0000155E 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    97
PROGRAM NAME =

11557                            3512     
11558                            3513             SUB_END
11559                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11560 00001560 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11561                            3514             M_RTS
11562 00001562 000B                   M           RTS                             ;RTSの後ろの
11563 00001564 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11564                            3515     
11565                            3516     
11566 00001568                   3517             .ALIGN  4                               ;
11567 00001568                   3518     _FUL_START_FUL_OBJ_SET
11568                            3519             SUB_START
11569 00001568 4F22                   M           STS.L   PR,@-R15                ;[必要]
11570                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11571                            3520     
11572 0000156A D509              3521             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11573 0000156C 6152              3522             MOV.L   @R5,R1                                  ;
11574 0000156E 5251              3523             MOV.L   @(4,R5),R2                              ;save
11575                            3524     
11576 00001570 D408              3525             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
11577 00001572 1410              3526             MOV.L   R1,@(0,R4)
11578 00001574 1421              3527             MOV.L   R2,@(4,R4)                              ;
11579                            3528     
11580 00001576 D408              3529             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
11581 00001578 1410              3530             MOV.L   R1,@(0,R4)
11582 0000157A 1421              3531             MOV.L   R2,@(4,R4)                              ;
11583                            3532     
11584                            3533     ;       ---------------リアルタイム目標位置-----------
11585 0000157C D407              3534             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
11586 0000157E 1410              3535             MOV.L   R1,@(0,R4)
11587 00001580 1421              3536             MOV.L   R2,@(4,R4)                              ;
11588                            3537     
11589 00001582 D407              3538             MOV.L   #_POSCTL_RL_PLS,R4                      ;
11590 00001584 1410              3539             MOV.L   R1,@(0,R4)
11591 00001586 1421              3540             MOV.L   R2,@(4,R4)                              ;
11592                            3541             SUB_END
11593                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11594 00001588 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11595                            3542             M_RTS
11596 0000158A 000B                   M           RTS                             ;RTSの後ろの
11597 0000158C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11598                            3543     
11599                            3544     
11600                            3545     ;       ***********************************
11601                            3546     ;       ***                             ***
11602                            3547     ;       ***     移動距離と速度          ***
11603                            3548     ;       ***     ふりこ・回転の通常      ***
11604                            3549     ;       ***                             ***
11605                            3550     ;       ***********************************
11606                            3551     ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
11607                            3552     ;       が
11608                            3553     ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11609                            3554     ;       になっているだけ
11610                            3555     ;
11611                            3556     
11612                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    98
PROGRAM NAME =

11613 0000158E 0000                       ALIGNMENT CODE
11614 00001590 00000000                   DATA FOR SOURCE-LINE 3521
11615 00001594 00000000                   DATA FOR SOURCE-LINE 3525
11616 00001598 00000000                   DATA FOR SOURCE-LINE 3529
11617 0000159C 00000000                   DATA FOR SOURCE-LINE 3534
11618 000015A0 00000000                   DATA FOR SOURCE-LINE 3538
11619                                     ***** END-POOL *****
11620 000015A4                   3557             .ALIGN  4                               ;
11621 000015A4                   3558     _POS_1STEP_DATA_MAK2:
11622                            3559             SUB_START
11623 000015A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11625                            3560     
11626                            3561             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測を取り込まない
11627 000015A6 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11628 000015A8 400B                   M           JSR     @R0                     ;
11629 000015AA 0009                   M           NOP                                     ;
11630                            3562     
11631 000015AC D211              3563             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11632 000015AE 6021              3564             MOV.W   @R2,R0                          ;
11633 000015B0 70FF              3565             ADD     #-1,R0                          ;
11634 000015B2 4008              3566             SHLL2   R0                              ;
11635 000015B4 D410              3567             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11636 000015B6 024E              3568             MOV.L   @(R0,R4),R2                     ;
11637 000015B8 D110              3569             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11638 000015BA 2122              3570             MOV.L   R2,@R1                          ;
11639                            3571     
11640                            3572             PUSH_REG1       R0
11641 000015BC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11642                                 M                                           ;REG=>[SP]
11643                                 M                                           ;"-4" FF,FF,FF,FC
11644                            3573             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11645 000015BE D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11646 000015C0 410B                   M           JSR     @R1                     ;
11647 000015C2 0009                   M           NOP                                     ;
11648                            3574             POP_REG1        R0                      ;R0=*4
11649                                 M                                   ; RE"+4" 00,00,00,04
11650 000015C4 60F6                   M           MOV.L   @R15+,R0        ;
11651 000015C6 4000              3575             SHLL    R0                              ;*2
11652 000015C8 D40E              3576             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11653 000015CA 340C              3577             ADD     R0,R4                   ;
11654 000015CC 6146              3578             MOV.L   @R4+,R1                 ;
11655 000015CE 6242              3579             MOV.L   @R4,R2                  ;(目標位置)
11656                            3580             FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11657 000015D0 D00D                   M           MOV.L   #_LENGH_ADD_CALC_SV_TYPE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11658 000015D2 400B                   M           JSR     @R0                     ;
11659 000015D4 0009                   M           NOP                                     ;
11660                            3581     
11661 000015D6 233A              3582             XOR     R3,R3                   ;
11662 000015D8 4111              3583             CMP/PZ  R1                      ;+正転?
11663 000015DA 8900              3584             BT      POS_1STEP_DATMK2_050    ;
11664 000015DC E301              3585             MOV     #BIT0,R3                ;
11665 000015DE                   3586     POS_1STEP_DATMK2_050:
11666 000015DE D10B              3587             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11667 000015E0 6011              3588             MOV.W   @R1,R0                  ;
11668 000015E2 C9FE              3589             AND     #LOW ~BIT0,R0           ;
11669 000015E4 203B              3590             OR      R3,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE    99
PROGRAM NAME =

11670 000015E6 2101              3591             MOV.W   R0,@R1                  ;
11671                            3592             SUB_END
11672                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11673 000015E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11674                            3593             M_RTS
11675 000015EA 000B                   M           RTS                             ;RTSの後ろの
11676 000015EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11677                            3594     
11678                            3595     ;       ***********************************
11679                            3596     ;       ***                             ***
11680                            3597     ;       ***     移動距離と速度          ***
11681                            3598     ;       ***                             ***
11682                            3599     ;       ***********************************
11683                            3600     ;;;;;未使用みたい       .ALIGN  4                               ;
11684                            3601     ;;;;;未使用みたい_POS_1STEP_DATA_MAK3:
11685                            3602     ;;;;;未使用みたい       SUB_START
11686                            3603     ;;;;;未使用みたい       FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
11687                            3604     ;;;;;未使用みたい
11688                            3605     ;;;;;未使用みたい       MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11689                            3606     ;;;;;未使用みたい       MOV.W   @R2,R0                          ;
11690                            3607     ;;;;;未使用みたい       ADD     #-1,R0                          ;
11691                            3608     ;;;;;未使用みたい       SHLL2   R0                              ;
11692                            3609     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COP
                                          Y
11693                            3610     ;;;;;未使用みたい       MOV.L   @(R0,R4),R2                     ;
11694                            3611     ;;;;;未使用みたい       MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11695                            3612     ;;;;;未使用みたい       MOV.L   R2,@R1                          ;
11696                            3613     ;;;;;未使用みたい
11697                            3614     ;;;;;未使用みたい       PUSH_REG1       R0
11698                            3615     ;;;;;未使用みたい       FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11699                            3616     ;;;;;未使用みたい       POP_REG1        R0                      ;R0=*4
11700                            3617     ;;;;;未使用みたい       SHLL    R0                              ;*2
11701                            3618     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11702                            3619     ;;;;;未使用みたい       ADD     R0,R4                   ;
11703                            3620     ;;;;;未使用みたい       MOV.L   @R4+,R1                 ;
11704                            3621     ;;;;;未使用みたい       MOV.L   @R4,R2                  ;(目標位置)
11705                            3622     ;;;;;未使用みたい
11706                            3623     ;;;;;未使用みたい       FAR_JSR #_FUL_CLS_LENGH_ADD_CALC,R0
11707                            3624     ;;;;;未使用みたい
11708                            3625     ;;;;;未使用みたい       XOR     R3,R3                   ;
11709                            3626     ;;;;;未使用みたい       CMP/PZ  R1                      ;+正転?
11710                            3627     ;;;;;未使用みたい       BT      POS_1STEP_DATMK3_050    ;
11711                            3628     ;;;;;未使用みたい       MOV     #BIT0,R3                ;
11712                            3629     ;;;;;未使用みたいPOS_1STEP_DATMK3_050:
11713                            3630     ;;;;;未使用みたい       MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11714                            3631     ;;;;;未使用みたい       MOV.W   @R1,R0                  ;
11715                            3632     ;;;;;未使用みたい       AND     #LOW ~BIT0,R0           ;
11716                            3633     ;;;;;未使用みたい       OR      R3,R0                   ;
11717                            3634     ;;;;;未使用みたい       MOV.W   R0,@R1                  ;
11718                            3635     ;;;;;未使用みたい       SUB_END
11719                            3636     ;;;;;未使用みたい       M_RTS
11720                            3637     
11721                            3638     ;       ***********************************
11722                            3639     ;       ***                             ***
11723                            3640     ;       ***     初回起動                ***
11724                            3641     ;       ***                             ***
11725                            3642     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   100
PROGRAM NAME =

11726                            3643     ;
11727                                     ***** BEGIN-POOL *****
11728 000015EE 0000                       ALIGNMENT CODE
11729 000015F0 00000000                   DATA FOR SOURCE-LINE 3561
11730 000015F4 00000000                   DATA FOR SOURCE-LINE 3563
11731 000015F8 00000000                   DATA FOR SOURCE-LINE 3567
11732 000015FC 00000000                   DATA FOR SOURCE-LINE 3569
11733 00001600 00000000                   DATA FOR SOURCE-LINE 3573
11734 00001604 00000000                   DATA FOR SOURCE-LINE 3576
11735 00001608 00000000                   DATA FOR SOURCE-LINE 3580
11736 0000160C 00000000                   DATA FOR SOURCE-LINE 3587
11737                                     ***** END-POOL *****
11738 00001610                   3644             .ALIGN  4                               ;
11739 00001610                   3645     _DND_1STEP_DATA_MAK1:
11740                            3646             SUB_START
11741 00001610 4F22                   M           STS.L   PR,@-R15                ;[必要]
11742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11743 00001612 D10B              3647             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11744 00001614 6212              3648             MOV.L   @R1,R2                          ;
11745                            3649     
11746                            3650             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11747 00001616 D10B                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11748 00001618 410B                   M           JSR     @R1                     ;
11749 0000161A 0009                   M           NOP                                     ;
11750                            3651     
11751 0000161C D50A              3652             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;(はじめの起動分はﾒｲﾝで作られている)
11752 0000161E 6152              3653             MOV.L   @R5,R1                          ;
11753 00001620 5251              3654             MOV.L   @(4,R5),R2                      ;
11754                            3655             FAR_JSR #_LENGH_ADD_CALC,R0             ;ANS R1,R2
11755 00001622 D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11756 00001624 400B                   M           JSR     @R0                     ;
11757 00001626 0009                   M           NOP                                     ;
11758 00001628 233A              3656             XOR     R3,R3                           ;
11759 0000162A 4111              3657             CMP/PZ  R1                              ;+正転?
11760 0000162C 8900              3658             BT      DND_1STEP_DATMK1_050            ;
11761 0000162E E301              3659             MOV     #BIT0,R3                        ;
11762 00001630                   3660     DND_1STEP_DATMK1_050:
11763 00001630 D107              3661             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11764 00001632 6011              3662             MOV.W   @R1,R0                  ;
11765 00001634 C9FE              3663             AND     #LOW ~BIT0,R0           ;
11766 00001636 203B              3664             OR      R3,R0                   ;
11767 00001638 2101              3665             MOV.W   R0,@R1                  ;
11768                            3666             SUB_END
11769                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11770 0000163A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11771                            3667             M_RTS
11772 0000163C 000B                   M           RTS                             ;RTSの後ろの
11773 0000163E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11774                            3668     
11775                            3669     
11776                            3670     
11777                            3671     ;       ***********************************
11778                            3672     ;       ***                             ***
11779                            3673     ;       ***     ﾓｰｼｮﾝ全工程             ***
11780                            3674     ;       ***                             ***
11781                            3675     ;       ***********************************
11782                            3676     ;       ======== 停止待ち(速度変更)     0000,0000       ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   101
PROGRAM NAME =

11783                            3677     ;       ======== ﾀｲﾏ計測                BIT0            ====
11784                            3678     ;       ======== 再起動/終了            BIT1            ====
11785                            3679     ;       ======== BIT6;終了
11786                                     ***** BEGIN-POOL *****
11787 00001640 00000000                   DATA FOR SOURCE-LINE 3647
11788 00001644 00000000                   DATA FOR SOURCE-LINE 3650
11789 00001648 00000000                   DATA FOR SOURCE-LINE 3652
11790 0000164C 00000000                   DATA FOR SOURCE-LINE 3655
11791 00001650 00000000                   DATA FOR SOURCE-LINE 3661
11792                                     ***** END-POOL *****
11793 00001654                   3680             .ALIGN  4                               ;
11794 00001654                   3681     _POS_ALL_STEP_CTRL:
11795                            3682             SUB_START
11796 00001654 4F22                   M           STS.L   PR,@-R15                ;[必要]
11797                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11798                            3683     
11799                            3684     ;;;;;;;;;;;;[2015-11-15]ちゃんとした場所へ移動
11800                            3685     ;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
11801                            3686     ;;;;;;;;;;;;    MOV.L   #_MODE_SEL,R1                           ;
11802                            3687     ;;;;;;;;;;;;    MOV.W   @R1,R0                                  ;
11803                            3688     ;;;;;;;;;;;;    TST     #_W1INC+_W1SGL,R0                       ;
11804                            3689     ;;;;;;;;;;;;    TST_BIT_OF FORCE_STEPEND_HAND200EXT             ;（段取でもある)
11805                            3690     ;;;;;;;;;;;;
11806                            3691     ;;;;;;;;;;;;    FAR_JSR #_API_ENDHAND_SIGCHK,R0         ;
11807                            3692     ;;;;;;;;;;;;    TST     R0,R0                           ;
11808                            3693     ;;;;;;;;;;;;    TST_BIT_OF FORCE_STEPEND_HAND200EXT     ;
11809                            3694     ;;;;;;;;;;;;    M_BRA   FORCE_STEPEND_HAND200           ;
11810                            3695     ;;;;;;;;;;;;FORCE_STEPEND_HAND200EXT
11811                            3696     
11812                            3697     
11813                            3698     ;       ==== 停止した場合、次の工程の起動、工程がなくなれば終わり====
11814                            3699     ;       停止はﾊﾟﾙｽ払出
11815 00001656 D103              3700             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
11816 00001658 6011              3701             MOV.W   @R1,R0                          ;BIT
11817 0000165A C840              3702             TST     #BIT6,R0                        ;
11818                            3703             TST_BIT_OF POS_ALLSTEPCTL_020           ;
11819 0000165C 8904                   M           BT      POS_ALLSTEPCTL_020
11820                            3704             M_BRA   POS_ALLSTEPCTL_900              ;位置決め完了
11821 0000165E A2F8                   M           BRA     POS_ALLSTEPCTL_900
11822 00001660 0009                   M           NOP
11823                            3705     
11824                                     ***** BEGIN-POOL *****
11825 00001662 0000                       ALIGNMENT CODE
11826 00001664 00000000                   DATA FOR SOURCE-LINE 3700
11827                                     ***** END-POOL *****
11828 00001668                   3706     POS_ALLSTEPCTL_020:
11829 00001668 C803              3707             TST     #(BIT1+BIT0),R0         ;
11830                            3708             TST_BIT_OF POS_ALLSTEPCTL_100   ;BIT0:ﾀｲﾏ制御開始
11831 0000166A 8901                   M           BT      POS_ALLSTEPCTL_100
11832                            3709             M_BRA   POS_ALLSTEPCTL_300      ;BIT1:次の回転起動
11833 0000166C A13A                   M           BRA     POS_ALLSTEPCTL_300
11834 0000166E 0009                   M           NOP
11835                            3710     
11836 00001670                   3711     POS_ALLSTEPCTL_100:
11837                            3712     
11838                            3713     
11839                            3714     ;       ----------- 2012-05-17 全モード,(反転)タイマ継続処理CHK---------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   102
PROGRAM NAME =

11840                            3715             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0             ;
11841 00001670 D003                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11842 00001672 400B                   M           JSR     @R0                     ;
11843 00001674 0009                   M           NOP                                     ;
11844 00001676 2008              3716             TST     R0,R0                                   ;
11845                            3717             TST_BIT_OF POS_ALLSTEPCTL_101                   ;
11846 00001678 8904                   M           BT      POS_ALLSTEPCTL_101
11847                            3718             M_BRA   POS_ALLSTEPCTL_230                      ;
11848 0000167A A0CF                   M           BRA     POS_ALLSTEPCTL_230
11849 0000167C 0009                   M           NOP
11850                            3719     
11851                                     ***** BEGIN-POOL *****
11852 0000167E 0000                       ALIGNMENT CODE
11853 00001680 00000000                   DATA FOR SOURCE-LINE 3715
11854                                     ***** END-POOL *****
11855 00001684                   3720     POS_ALLSTEPCTL_101:
11856                            3721     
11857                            3722     
11858                            3723     ;       ---------- 2019-04-10 -----------------
11859                            3724     ;;;     FAR_JSR #_HANTEN_LAST_SIG_CLR,R0
11860                            3725     ;       ---------------------------------------
11861                            3726     
11862 00001684 D105              3727             MOV.L   #_CPOS_CTL_MATH,R1                      ;
11863 00001686 6011              3728             MOV.W   @R1,R0                                  ;
11864 00001688 C805              3729             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
11865                            3730             TST_BIT_ON POS_ALLSTEPCTL_120                   ;YES
11866 0000168A 8B0D                   M           BF      POS_ALLSTEPCTL_120
11867                            3731     
11868                            3732     
11869                            3733             FAR_JSR #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾌﾙｸﾛｰｽﾞ,ﾌﾙｸﾛｰｽﾞのｵｰﾌﾟﾝ時は中でﾁｪｯ
                                          ｸする
11870 0000168C D004                   M           MOV.L   #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11871 0000168E 400B                   M           JSR     @R0                     ;
11872 00001690 0009                   M           NOP                                     ;
11873 00001692 2008              3734             TST     R0,R0                                   ;
11874                            3735             TST_BIT_OF POS_ALLSTEPCTL_105                   ;
11875 00001694 8906                   M           BT      POS_ALLSTEPCTL_105
11876                            3736             M_BRA   POS_ALLSTEPCTL_230                      ;(BIT2=1)
11877 00001696 A0C1                   M           BRA     POS_ALLSTEPCTL_230
11878 00001698 0009                   M           NOP
11879                            3737     
11880                                     ***** BEGIN-POOL *****
11881 0000169A 0000                       ALIGNMENT CODE
11882 0000169C 00000000                   DATA FOR SOURCE-LINE 3727
11883 000016A0 00000000                   DATA FOR SOURCE-LINE 3733
11884                                     ***** END-POOL *****
11885 000016A4                   3738     POS_ALLSTEPCTL_105:
11886                            3739             M_BRA   POS_ALLSTEPCTL_900                      ;
11887 000016A4 A2D5                   M           BRA     POS_ALLSTEPCTL_900
11888 000016A6 0009                   M           NOP
11889                            3740     
11890 000016A8                   3741     POS_ALLSTEPCTL_120:
11891                            3742     ;       ======== 2003-07-01 ======
11892                            3743             FAR_JSR #_BRK_ERR_CHK_START4,R0         ;
11893 000016A8 D018                   M           MOV.L   #_BRK_ERR_CHK_START4,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11894 000016AA 400B                   M           JSR     @R0                     ;
11895 000016AC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   103
PROGRAM NAME =

11896                            3744     
11897                            3745     
11898                            3746     
11899                            3747     
11900                            3748     ;       ===========================================
11901                            3749     ;       === 回転はニアゼロをチェックする        ===
11902                            3750     ;       ===========================================
11903                            3751             FAR_JSR #_OPEN_ROT_NEAR1_ZERO_CHK,R0    ;
11904 000016AE D018                   M           MOV.L   #_OPEN_ROT_NEAR1_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11905 000016B0 400B                   M           JSR     @R0                     ;
11906 000016B2 0009                   M           NOP                                     ;
11907                            3752     
11908                            3753     
11909                            3754             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
11910 000016B4 D117                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11911 000016B6 410B                   M           JSR     @R1                     ;
11912 000016B8 0009                   M           NOP                                     ;
11913 000016BA C804              3755             TST     #BIT2,R0                        ;停止?
11914                            3756             TST_BIT_ON POS_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
11915 000016BC 8B5A                   M           BF      POS_ALLSTEPCTL_200
11916                            3757     
11917                            3758     ;       ===========================================
11918                            3759     ;       ===     払出中                          ===
11919                            3760     ;       ===========================================
11920                            3761     
11921                            3762     ;       ===================================================
11922                            3763     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11923                            3764     ;       ===================================================
11924                            3765             FAR_JSR #_DNMODE_ENDWAIT_TIM_SET,R0     ;[[[2013-03-24復活]]]
11925 000016BE D016                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11926 000016C0 400B                   M           JSR     @R0                     ;
11927 000016C2 0009                   M           NOP                                     ;
11928                            3766     
11929                            3767     
11930                            3768             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT4),WKREG=R1  ;2012-12-1
                                          0 DEBUG
11931 000016C4 D115                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11932 000016C6 6011                   M           MOV.W   @R1,R0          ;
11933 000016C8 C9EF                   M           AND     #LOW ~(BIT4),R0         ;
11934 000016CA 2101                   M           MOV.W   R0,@R1          ;
11935                            3769     
11936                            3770     ;       ===== 払出中のBUSYﾁｪｯｸ ======
11937                            3771             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
11938 000016CC D014                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11939 000016CE 400B                   M           JSR     @R0                     ;
11940 000016D0 0009                   M           NOP                                     ;
11941                            3772     ;       ===== 払出中 ======
11942                            3773     ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
11943                            3774             FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
11944 000016D2 D014                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11945 000016D4 400B                   M           JSR     @R0                     ;
11946 000016D6 0009                   M           NOP                                     ;
11947                            3775     
11948                            3776     
11949                            3777     ;       ======== 回転の連続・ﾀｲﾏ=0処理====
11950 000016D8 D113              3778             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11951 000016DA 6011              3779             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   104
PROGRAM NAME =

11952 000016DC C801              3780             TST     #BIT0,R0                        ;
11953                            3781             TST_BIT_ON POS_ALLSTEPCTL_190           ;
11954 000016DE 8B3C                   M           BF      POS_ALLSTEPCTL_190
11955                            3782     
11956                            3783     ;       ========== 2004-01-26 連続寸動一工程/連続一工程 ======
11957 000016E0 D112              3784             MOV.L   #_WFSYS_OPT_CNT_SEL,R1          ;SEL=1 連寸一、連続一行程有効
11958 000016E2 6011              3785             MOV.W   @R1,R0                          ;
11959 000016E4 8801              3786             CMP/EQ  #1,R0                           ;
11960 000016E6 8B29              3787             BF      POS_ALLSTEPCTL_189              ;
11961                            3788     
11962 000016E8 D111              3789             MOV.L   #_MODE_SEL,R1                   ;
11963 000016EA 6011              3790             MOV.W   @R1,R0                          ;
11964 000016EC C808              3791             TST     #_W1CNT,R0                      ;
11965                            3792             TST_BIT_OF POS_ALLSTEPCTL_189           ;
11966 000016EE 8925                   M           BT      POS_ALLSTEPCTL_189
11967 000016F0 910A              3793             MOV.W   #(BIT12+BIT11),R1               ;
11968 000016F2 2018              3794             TST     R1,R0                           ;
11969                            3795             TST_BIT_OF POS_ALLSTEPCTL_189           ;(通常連続)
11970 000016F4 8922                   M           BT      POS_ALLSTEPCTL_189
11971                            3796     
11972                            3797     
11973                            3798     ;       ==============20071106======================
11974 000016F6 D10F              3799             MOV.L   #_CPOS_BANK_USELFUL,R1          ;大バグ
11975 000016F8 6011              3800             MOV.W   @R1,R0                          ;
11976 000016FA C801              3801             TST     #BIT0,R0                        ;
11977                            3802             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11978 000016FC 892C                   M           BT      POS_ALLSTEPCTL_189A
11979                            3803     
11980                            3804     ;;      FAR_JSR #_CCS_STEP_NEXT_CHK,R0          ;
11981                            3805             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;
11982 000016FE D00E                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11983 00001700 400B                   M           JSR     @R0                     ;
11984 00001702 0009                   M           NOP                                     ;
11985                            3806             M_BRA   POS_ALLSTEPCTL_190              ;
11986 00001704 A029                   M           BRA     POS_ALLSTEPCTL_190
11987 00001706 0009                   M           NOP
11988                            3807     ;       ===========================================
11989                            3808     
11990                            3809     
11991                                     ***** BEGIN-POOL *****
11992 00001708 1800                       DATA FOR SOURCE-LINE 3793
11993 0000170A 0000                       ALIGNMENT CODE
11994 0000170C 00000000                   DATA FOR SOURCE-LINE 3743
11995 00001710 00000000                   DATA FOR SOURCE-LINE 3751
11996 00001714 00000000                   DATA FOR SOURCE-LINE 3754
11997 00001718 00000000                   DATA FOR SOURCE-LINE 3765
11998 0000171C 00000000                   DATA FOR SOURCE-LINE 3768
11999 00001720 00000000                   DATA FOR SOURCE-LINE 3771
12000 00001724 00000000                   DATA FOR SOURCE-LINE 3774
12001 00001728 00000000                   DATA FOR SOURCE-LINE 3778
12002 0000172C 00000000                   DATA FOR SOURCE-LINE 3784
12003 00001730 00000000                   DATA FOR SOURCE-LINE 3789
12004 00001734 00000000                   DATA FOR SOURCE-LINE 3799
12005 00001738 00000000                   DATA FOR SOURCE-LINE 3805
12006                                     ***** END-POOL *****
12007 0000173C                   3810     POS_ALLSTEPCTL_189:                             ;
12008                            3811     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   105
PROGRAM NAME =

12009 0000173C D104              3812             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
12010 0000173E 6011              3813             MOV.W   @R1,R0                          ;
12011 00001740 C801              3814             TST     #BIT0,R0                        ;
12012                            3815             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
12013 00001742 8909                   M           BT      POS_ALLSTEPCTL_189A
12014                            3816             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;(連続の上死点停止なし)
12015 00001744 D003                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12016 00001746 400B                   M           JSR     @R0                     ;
12017 00001748 0009                   M           NOP                                     ;
12018                            3817             M_BRA   POS_ALLSTEPCTL_190              ;
12019 0000174A A006                   M           BRA     POS_ALLSTEPCTL_190
12020 0000174C 0009                   M           NOP
12021                            3818     
12022                                     ***** BEGIN-POOL *****
12023 0000174E 0000                       ALIGNMENT CODE
12024 00001750 00000000                   DATA FOR SOURCE-LINE 3812
12025 00001754 00000000                   DATA FOR SOURCE-LINE 3816
12026                                     ***** END-POOL *****
12027 00001758                   3819     POS_ALLSTEPCTL_189A:                                    ;
12028                            3820     ;;;;未使用      FAR_JSR #_CNT_STEP_NEXT_CHK,R0          ;<ここはくせもの>
12029 00001758 0009              3821             NOP                                             ;安一、寸動、上死点停止付連続、一
                                          工程
12030 0000175A                   3822     POS_ALLSTEPCTL_190:                                     ;
12031                            3823     
12032                            3824     ;       ==== 2003-06-13===
12033                            3825             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12034 0000175A D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12035 0000175C 6011                   M           MOV.W   @R1,R0          ;
12036 0000175E C9FE                   M           AND     #LOW ~BIT0,R0           ;
12037 00001760 2101                   M           MOV.W   R0,@R1          ;
12038                            3826             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
12039 00001762 D003                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12040 00001764 400B                   M           JSR     @R0                     ;
12041 00001766 0009                   M           NOP                                     ;
12042                            3827     
12043                            3828             M_BRA   POS_ALLSTEPCTL_900              ;
12044 00001768 A273                   M           BRA     POS_ALLSTEPCTL_900
12045 0000176A 0009                   M           NOP
12046                            3829     
12047                            3830     ;       ===========================
12048                            3831     ;       ===     払出停止        ===
12049                            3832     ;       ===     回転時          ===
12050                            3833     ;       ===========================
12051                                     ***** BEGIN-POOL *****
12052 0000176C 00000000                   DATA FOR SOURCE-LINE 3825
12053 00001770 00000000                   DATA FOR SOURCE-LINE 3826
12054                                     ***** END-POOL *****
12055 00001774                   3834     POS_ALLSTEPCTL_200:
12056                            3835             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT1,WKREG=R1 ;2012-12-10 DEB
                                          UG
12057 00001774 D113                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12058 00001776 6011                   M           MOV.W   @R1,R0          ;
12059 00001778 CB02                   M           OR      #BIT1,R0                ;
12060 0000177A 2101                   M           MOV.W   R0,@R1          ;
12061                            3836     
12062                            3837     ;       ------- 2015-11-17 -----------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   106
PROGRAM NAME =

12063                            3838     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
12064                            3839             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
12065 0000177C D012                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12066 0000177E 400B                   M           JSR     @R0                     ;
12067 00001780 0009                   M           NOP                                     ;
12068                            3840     
12069                            3841     
12070 00001782 D112              3842             MOV.L   #_CNT_PLSOUT_STOP_CNT,R1
12071 00001784 6011              3843             MOV.W   @R1,R0
12072 00001786 7001              3844             ADD     #1,R0                           ;
12073 00001788 2101              3845             MOV.W   R0,@R1                          ;
12074                            3846             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0  ;2004-03-03
12075 0000178A D011                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12076 0000178C 400B                   M           JSR     @R0                     ;
12077 0000178E 0009                   M           NOP                                     ;
12078                            3847     
12079                            3848     
12080 00001790 D110              3849             MOV.L   #_NEAR_IN_FLG,R1                ;
12081 00001792 6011              3850             MOV.W   @R1,R0                          ;
12082 00001794 2008              3851             TST     R0,R0                           ;
12083                            3852             TST_BIT_ON POS_ALLSTEPCTL_220           ;ﾆｱｾﾞﾛOK
12084 00001796 8B27                   M           BF      POS_ALLSTEPCTL_220
12085                            3853     
12086                            3854     
12087                            3855             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;ﾆｱｾﾞﾛ代わり
12088 00001798 D00F                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12089 0000179A 400B                   M           JSR     @R0                     ;
12090 0000179C 0009                   M           NOP                                     ;
12091 0000179E 2008              3856             TST     R0,R0
12092                            3857             TST_BIT_OF POS_ALLSTEPCTL_210           ;
12093 000017A0 8903                   M           BT      POS_ALLSTEPCTL_210
12094 000017A2 D10C              3858             MOV.L   #_NEAR_IN_FLG,R1                ;ﾆｱｾﾞﾛ扱い
12095 000017A4 6011              3859             MOV.W   @R1,R0                          ;
12096 000017A6 CB01              3860             OR      #BIT0,R0                        ;
12097 000017A8 2101              3861             MOV.W   R0,@R1                          ;
12098 000017AA                   3862     POS_ALLSTEPCTL_210:                             ;
12099                            3863     
12100                            3864             FAR_JSR #_NZ_TIM_CHK1,R0                ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏｶｳﾝﾄﾀﾞｳﾝ
12101 000017AA D00C                   M           MOV.L   #_NZ_TIM_CHK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12102 000017AC 400B                   M           JSR     @R0                     ;
12103 000017AE 0009                   M           NOP                                     ;
12104                            3865     
12105                            3866     
12106                            3867     ;       -----------2012-03-06ｲﾝﾎﾟｼﾞ異常ﾁｪｯｸ------------------------------
12107 000017B0 D10B              3868             MOV.L   #_NZ_TIM_OUT_PV2,R1                                     ;
12108 000017B2 6011              3869             MOV.W   @R1,R0                                                  ;
12109 000017B4 2008              3870             TST     R0,R0                                                   ;
12110                            3871             TST_BIT_ON POS_ALLSTEPCTL_211                                   ;
12111 000017B6 8B03                   M           BF      POS_ALLSTEPCTL_211
12112                            3872             MEM1_BIT0_TO_BIT7_ORSET MEM=_INP_ERR_FLG,LG=W,BIT=BIT0,WKREG=R1 ;
12113 000017B8 D10A                   M           MOV.L   #_INP_ERR_FLG,R1                ;
12114 000017BA 6011                   M           MOV.W   @R1,R0          ;
12115 000017BC CB01                   M           OR      #BIT0,R0                ;
12116 000017BE 2101                   M           MOV.W   R0,@R1          ;
12117 000017C0                   3873     POS_ALLSTEPCTL_211:                                                     ;
12118                            3874     
12119                            3875             M_BRA   POS_ALLSTEPCTL_900              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   107
PROGRAM NAME =

12120 000017C0 A247                   M           BRA     POS_ALLSTEPCTL_900
12121 000017C2 0009                   M           NOP
12122                            3876     
12123                                     ***** BEGIN-POOL *****
12124 000017C4 00000000                   DATA FOR SOURCE-LINE 3835
12125 000017C8 00000000                   DATA FOR SOURCE-LINE 3839
12126 000017CC 00000000                   DATA FOR SOURCE-LINE 3842
12127 000017D0 00000000                   DATA FOR SOURCE-LINE 3846
12128 000017D4 00000000                   DATA FOR SOURCE-LINE 3849,3858
12129 000017D8 00000000                   DATA FOR SOURCE-LINE 3855
12130 000017DC 00000000                   DATA FOR SOURCE-LINE 3864
12131 000017E0 00000000                   DATA FOR SOURCE-LINE 3868
12132 000017E4 00000000                   DATA FOR SOURCE-LINE 3872
12133                                     ***** END-POOL *****
12134 000017E8                   3877     POS_ALLSTEPCTL_220:
12135                            3878     
12136                            3879     ;       ===================================================
12137                            3880     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
12138                            3881     ;       ===================================================
12139                            3882     
12140                            3883     ;;;;    ===========================================
12141                            3884     ;;;;    ===     ふりこの終了遅延ﾀｲﾏ2013-02-08   ===
12142                            3885     ;;;;    ===     CPUB_CURVSEL[5]                 ===
12143                            3886     ;;;;    ===========================================
12144                            3887             FAR_JSR #_DNMODE_ENDWAIT_TIM_CHK,R0     ;[[[2013-03-24復活]]]
12145 000017E8 D003                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12146 000017EA 400B                   M           JSR     @R0                     ;
12147 000017EC 0009                   M           NOP                                     ;
12148 000017EE 2008              3888             TST     R0,R0                           ;[[[2013-03-24復活]]]
12149                            3889             TST_BIT_OF POS_ALLSTEPCTL_225           ;[[[2013-03-24復活]]]
12150 000017F0 8904                   M           BT      POS_ALLSTEPCTL_225
12151                            3890             M_BRA   POS_ALLSTEPCTL_900              ;[[[2013-03-24復活]]]
12152 000017F2 A22E                   M           BRA     POS_ALLSTEPCTL_900
12153 000017F4 0009                   M           NOP
12154                            3891     
12155                                     ***** BEGIN-POOL *****
12156 000017F6 0000                       ALIGNMENT CODE
12157 000017F8 00000000                   DATA FOR SOURCE-LINE 3887
12158                                     ***** END-POOL *****
12159 000017FC                   3892     POS_ALLSTEPCTL_225:
12160                            3893     
12161                            3894     ;       =====================================================
12162                            3895     
12163                            3896     
12164                            3897             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT2,WKREG=R1 ;2012-12-10 DEB
                                          UG
12165 000017FC D105                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12166 000017FE 6011                   M           MOV.W   @R1,R0          ;
12167 00001800 CB04                   M           OR      #BIT2,R0                ;
12168 00001802 2101                   M           MOV.W   R0,@R1          ;
12169                            3898     
12170                            3899             FAR_JSR #_CMPAB_NEAR_END_PROC,R0        ;ｵｰﾌﾟﾝ時ﾆｱｾﾞﾛの終わり
12171 00001804 D004                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12172 00001806 400B                   M           JSR     @R0                     ;
12173 00001808 0009                   M           NOP                                     ;
12174 0000180A 2008              3900             TST     R0,R0                           ;
12175                            3901             TST_BIT_ON POS_ALLSTEPCTL_230           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   108
PROGRAM NAME =

12176 0000180C 8B06                   M           BF      POS_ALLSTEPCTL_230
12177                            3902             M_BRA   POS_ALLSTEPCTL_900              ;
12178 0000180E A220                   M           BRA     POS_ALLSTEPCTL_900
12179 00001810 0009                   M           NOP
12180                            3903     
12181                                     ***** BEGIN-POOL *****
12182 00001812 0000                       ALIGNMENT CODE
12183 00001814 00000000                   DATA FOR SOURCE-LINE 3897
12184 00001818 00000000                   DATA FOR SOURCE-LINE 3899
12185                                     ***** END-POOL *****
12186 0000181C                   3904     POS_ALLSTEPCTL_230:
12187                            3905     
12188                            3906     ;       ===============================================
12189                            3907             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT3,WKREG=R1 ;2012-12-10 DEB
                                          UG
12190 0000181C D121                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12191 0000181E 6011                   M           MOV.W   @R1,R0          ;
12192 00001820 CB08                   M           OR      #BIT3,R0                ;
12193 00001822 2101                   M           MOV.W   R0,@R1          ;
12194                            3908             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12195 00001824 D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12196 00001826 6011                   M           MOV.W   @R1,R0          ;
12197 00001828 C9FE                   M           AND     #LOW ~BIT0,R0           ;
12198 0000182A 2101                   M           MOV.W   R0,@R1          ;
12199                            3909     
12200                            3910     ;       =====================
12201                            3911     ;       ===== 状態遷移時=====
12202                            3912     ;       =====================
12203                            3913     ;       ==========================
12204                            3914     ;       ===== ﾌﾙｸﾛｰｽﾞ信号ｸﾘｱ======
12205                            3915     ;       ==========================
12206                            3916             FAR_JSR #_FUL_DATA_INIT,R0      ;R0,R1 USED
12207 0000182C D01F                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12208 0000182E 400B                   M           JSR     @R0                     ;
12209 00001830 0009                   M           NOP                                     ;
12210                            3917     ;       ===============================================
12211                            3918             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
12212 00001832 D11F                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
12213 00001834 6011                   M           MOV.W   @R1,R0          ;
12214 00001836 C9FE                   M           AND     #LOW ~BIT0,R0           ;
12215 00001838 2101                   M           MOV.W   R0,@R1          ;
12216                            3919     ;       ===============================================
12217                            3920             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾌﾗｸﾞｸﾘｱしたい
12218 0000183A D01E                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12219 0000183C 400B                   M           JSR     @R0                     ;
12220 0000183E 0009                   M           NOP                                     ;
12221                            3921     ;       ===============================================
12222                            3922             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
12223 00001840 D01D                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12224 00001842 400B                   M           JSR     @R0                     ;
12225 00001844 0009                   M           NOP                                     ;
12226                            3923     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
12227                            3924             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12228 00001846 D118                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12229 00001848 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   109
PROGRAM NAME =

12230 0000184A C9FE                   M           AND     #LOW ~BIT0,R0           ;
12231 0000184C 2101                   M           MOV.W   R0,@R1          ;
12232                            3925     
12233                            3926     
12234 0000184E D21B              3927             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
12235 00001850 6021              3928             MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
12236 00001852 70FF              3929             ADD     #-1,R0                  ;
12237 00001854 D41A              3930             MOV.L   #_CPOS_SDAT1_TIM,R4     ;
12238 00001856 4008              3931             SHLL2   R0                      ;
12239 00001858 014E              3932             MOV.L   @(R0,R4),R1             ;
12240                            3933     
12241                            3934     ;       ----------------------------
12242 0000185A D41A              3935             MOV.L   #_MOT_REP_F,R4                  ;//BIT0(ﾘﾋﾟｰﾄ動作
12243 0000185C 6041              3936             MOV.W   @R4,R0                          ;
12244 0000185E C801              3937             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ動作直後の停止
12245                            3938             TST_BIT_OF POS_ALLSTEPCTL_REP231        ;
12246 00001860 8900                   M           BT      POS_ALLSTEPCTL_REP231
12247 00001862 211A              3939             XOR     R1,R1                           ;
12248 00001864                   3940     POS_ALLSTEPCTL_REP231:                          ;
12249                            3941     
12250                            3942     
12251                            3943     
12252                            3944     
12253                            3945     
12254                            3946     
12255                            3947     
12256                            3948     
12257                            3949     
12258 00001864 D418              3950             MOV.L   #_MODE_SEL,R4           ;
12259 00001866 6041              3951             MOV.W   @R4,R0                  ;
12260 00001868 C808              3952             TST     #_W1CNT,R0              ;
12261                            3953             TST_BIT_ON POS_ALLSTEPCTL_280   ;
12262 0000186A 8B07                   M           BF      POS_ALLSTEPCTL_280
12263                            3954     
12264                            3955     ;       == 連続以外は最終工程は0固定 ==
12265                            3956     
12266 0000186C D213              3957             MOV.L   #_INT_POS_CTL_STEP,R2   ;1~5,6
12267 0000186E 6021              3958             MOV.W   @R2,R0                  ;
12268 00001870 D216              3959             MOV.L   #_CPOS_STEP_MAX,R2      ;
12269 00001872 6421              3960             MOV.W   @R2,R4                  ;
12270 00001874 7401              3961             ADD     #1,R4                   ;
12271 00001876 3400              3962             CMP/EQ  R0,R4                   ;R0 =< R4(MAX)
12272 00001878 8B00              3963             BF      POS_ALLSTEPCTL_280      ;最終工程ではない
12273 0000187A 211A              3964             XOR     R1,R1                   ;最終工程
12274 0000187C                   3965     POS_ALLSTEPCTL_280:                     ;
12275                            3966     
12276                            3967             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12277                            3968 C   ;2015-03-15
12278 0000187C D014              3969 C           MOV.L   #_FULCLS_TIM_SETFLG,R0          ;
12279 0000187E 6001              3970 C           MOV.W   @R0,R0                          ;
12280 00001880 C802              3971 C           TST     #BIT1,R0                        ;
12281                            3972 C           TST_BIT_OF POS_ALLSTEPCTL_285           ;
12282 00001882 8900                   M           BT      POS_ALLSTEPCTL_285
12283 00001884 211A              3973 C           XOR     R1,R1                           ;ﾀｲﾏ=0にする
12284 00001886                   3974 C   POS_ALLSTEPCTL_285:                             ;
12285                            3975             .AENDI
12286                            3976     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   110
PROGRAM NAME =

12287                            3977     ;       input R1
12288                            3978             FAR_JSR #_DURING_TIM_PRESET_CALC,R0     ;2014-05-30 ﾀｲﾏ継続
12289 00001886 D013                   M           MOV.L   #_DURING_TIM_PRESET_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12290 00001888 400B                   M           JSR     @R0                     ;
12291 0000188A 0009                   M           NOP                                     ;
12292                            3979     ;;;2014-05-30   MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
12293                            3980     ;;;2014-05-30   MOV.L   R1,@R4                                                          ;
12294                            3981     
12295                            3982             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
12296 0000188C D112                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12297 0000188E 6011                   M           MOV.W   @R1,R0          ;
12298 00001890 CB01                   M           OR      #BIT0,R0                ;
12299 00001892 2101                   M           MOV.W   R0,@R1          ;
12300                            3983     
12301                            3984     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
12302                            3985             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12303                            3986 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
12304 00001894 D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12305 00001896 400B                   M           JSR     @R0                     ;
12306 00001898 0009                   M           NOP                                     ;
12307                            3987             .AENDI
12308                            3988     
12309                            3989     ;       ===================
12310                            3990     ;       ===     CAM1    ===
12311                            3991     ;       ===================
12312                            3992             FAR_JSR #_CAM_1STEP_END_SIG1,R0 ;
12313 0000189A D011                   M           MOV.L   #_CAM_1STEP_END_SIG1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12314 0000189C 400B                   M           JSR     @R0                     ;
12315 0000189E 0009                   M           NOP                                     ;
12316                            3993             M_BRA   POS_ALLSTEPCTL_900      ;
12317 000018A0 A1D7                   M           BRA     POS_ALLSTEPCTL_900
12318 000018A2 0009                   M           NOP
12319                            3994     
12320                            3995     
12321                            3996     ;       ====<<<<2段目以降の起動処理>>>====
12322                                     ***** BEGIN-POOL *****
12323 000018A4 00000000                   DATA FOR SOURCE-LINE 3907
12324 000018A8 00000000                   DATA FOR SOURCE-LINE 3908,3924
12325 000018AC 00000000                   DATA FOR SOURCE-LINE 3916
12326 000018B0 00000000                   DATA FOR SOURCE-LINE 3918
12327 000018B4 00000000                   DATA FOR SOURCE-LINE 3920
12328 000018B8 00000000                   DATA FOR SOURCE-LINE 3922
12329 000018BC 00000000                   DATA FOR SOURCE-LINE 3927,3957
12330 000018C0 00000000                   DATA FOR SOURCE-LINE 3930
12331 000018C4 00000000                   DATA FOR SOURCE-LINE 3935
12332 000018C8 00000000                   DATA FOR SOURCE-LINE 3950
12333 000018CC 00000000                   DATA FOR SOURCE-LINE 3959
12334 000018D0 00000000                   DATA FOR SOURCE-LINE 3969
12335 000018D4 00000000                   DATA FOR SOURCE-LINE 3978
12336 000018D8 00000000                   DATA FOR SOURCE-LINE 3982
12337 000018DC 00000000                   DATA FOR SOURCE-LINE 3986
12338 000018E0 00000000                   DATA FOR SOURCE-LINE 3992
12339                                     ***** END-POOL *****
12340 000018E4                   3997     POS_ALLSTEPCTL_300:
12341 000018E4 C802              3998             TST     #BIT1,R0                ;
12342                            3999             TST_BIT_ON POS_ALLSTEPCTL_400   ;
12343 000018E6 8B3B                   M           BF      POS_ALLSTEPCTL_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   111
PROGRAM NAME =

12344                            4000     
12345                            4001     ;       ==== 各段一旦停止機能====
12346 000018E8 D106              4002             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
12347 000018EA 6011              4003             MOV.W   @R1,R0                          ;
12348 000018EC 9408              4004             MOV.W   #BIT13,R4                       ;
12349 000018EE 2048              4005             TST     R4,R0                           ;
12350                            4006             TST_BIT_OF POS_ALLSTEPCTL_310           ;
12351 000018F0 890C                   M           BT      POS_ALLSTEPCTL_310
12352                            4007             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4
12353 000018F2 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12354 000018F4 6011                   M           MOV.W   @R1,R0          ;
12355 000018F6 9404                   M           MOV.W   #(BIT9),R4              ;
12356 000018F8 204B                   M           OR      R4,R0           ;
12357 000018FA 2101                   M           MOV.W   R0,@R1          ;
12358                            4008             M_BRA   POS_ALLSTEPCTL_900              ;
12359 000018FC A1A9                   M           BRA     POS_ALLSTEPCTL_900
12360 000018FE 0009                   M           NOP
12361                            4009     
12362                                     ***** BEGIN-POOL *****
12363 00001900 2000                       DATA FOR SOURCE-LINE 4004
12364 00001902 0200                       DATA FOR SOURCE-LINE 4007
12365 00001904 00000000                   DATA FOR SOURCE-LINE 4002
12366 00001908 00000000                   DATA FOR SOURCE-LINE 4007
12367                                     ***** END-POOL *****
12368 0000190C                   4010     POS_ALLSTEPCTL_310:
12369                            4011             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
12370 0000190C D10A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
12371 0000190E 6011                   M           MOV.W   @R1,R0          ;
12372 00001910 9411                   M           MOV.W   #LWORD (~BIT9),R4       ;
12373 00001912 2049                   M           AND     R4,R0           ;
12374 00001914 2101                   M           MOV.W   R0,@R1          ;
12375                            4012     
12376                            4013     
12377                            4014     ;       --------反転及び全動作 タイマ計測から再開
12378                            4015             MEM1_BIT0_TO_BIT7_ORSET MEM=_DURING_TIM_FX,LG=W,BIT=BIT0,WKREG=R1       ;する
12379 00001916 D109                   M           MOV.L   #_DURING_TIM_FX,R1              ;
12380 00001918 6011                   M           MOV.W   @R1,R0          ;
12381 0000191A CB01                   M           OR      #BIT0,R0                ;
12382 0000191C 2101                   M           MOV.W   R0,@R1          ;
12383                            4016     
12384                            4017             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
12385 0000191E D108                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
12386 00001920 6412                   M           MOV.L   @R1,R4          ;
12387 00001922 2448                   M           TST     R4,R4                   ;
12388 00001924 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
12389 00001926 4410                   M           DT      R4                              ;
12390 00001928 2142                   M           MOV.L   R4,@R1          ;STORE
12391 0000192A                        M   JMP_0100004:
12392                            4018     
12393 0000192A D405              4019             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
12394 0000192C 6142              4020             MOV.L   @R4,R1                  ;
12395 0000192E 2118              4021             TST     R1,R1                   ;
12396                            4022             TST_BIT_OF POS_ALLSTEPCTL_320   ;
12397 00001930 8908                   M           BT      POS_ALLSTEPCTL_320
12398                            4023             M_BRA   POS_ALLSTEPCTL_900      ;
12399 00001932 A18E                   M           BRA     POS_ALLSTEPCTL_900
12400 00001934 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   112
PROGRAM NAME =

12401                            4024     
12402                                     ***** BEGIN-POOL *****
12403 00001936 FDFF                       DATA FOR SOURCE-LINE 4011
12404 00001938 00000000                   DATA FOR SOURCE-LINE 4011
12405 0000193C 00000000                   DATA FOR SOURCE-LINE 4015
12406 00001940 00000000                   DATA FOR SOURCE-LINE 4017,4019
12407                                     ***** END-POOL *****
12408 00001944                   4025     POS_ALLSTEPCTL_320:
12409                            4026     ;;;     ===================
12410                            4027     ;;;     ===     CAM2    ===
12411                            4028     ;;;     ===================
12412                            4029     ;;;     FAR_JSR #_CAM_1STEP_END_SIG2,R0 ;
12413                            4030     
12414                            4031             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
12415 00001944 D104                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12416 00001946 6011                   M           MOV.W   @R1,R0          ;
12417 00001948 CB02                   M           OR      #BIT1,R0                ;
12418 0000194A 2101                   M           MOV.W   R0,@R1          ;
12419                            4032     
12420                            4033     ;       --------反転及び全モードタイマ時はタイマ処理から再開をクリア[2/]------
12421                            4034             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
12422 0000194C 200A                   M           XOR     R0,R0           ;
12423 0000194E D103                   M           MOV.L   #_DURING_TIM_FX,R1      ;
12424 00001950 2101                   M           MOV.W   R0,@R1          ;
12425                            4035             M_BRA   POS_ALLSTEPCTL_900                      ;
12426 00001952 A17E                   M           BRA     POS_ALLSTEPCTL_900
12427 00001954 0009                   M           NOP
12428                            4036     
12429                            4037     
12430                            4038     ;       ======= 次の起動の演算または終了の判断=====
12431                                     ***** BEGIN-POOL *****
12432 00001956 0000                       ALIGNMENT CODE
12433 00001958 00000000                   DATA FOR SOURCE-LINE 4031
12434 0000195C 00000000                   DATA FOR SOURCE-LINE 4034
12435                                     ***** END-POOL *****
12436 00001960                   4039     POS_ALLSTEPCTL_400:
12437                            4040              .AIF   1 EQ 1  ;
12438                            4041 C   ;       -------- 2016-10-31 ADD 二重回路対策
12439                            4042              .AENDI
12440                            4043     
12441                            4044     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
12442 00001960 D110              4045             MOV.L   #_CMPSTEP_STEP_END,R1           ;
12443 00001962 6011              4046             MOV.W   @R1,R0                          ;
12444 00001964 2008              4047             TST     R0,R0                           ;
12445                            4048             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12446 00001966 8B12                   M           BF      POS_ALLSTEPCTL_415
12447                            4049     
12448                            4050     ;       --2016-10-31(2016-08-12)(CMPERR対策)---------
12449 00001968 D10F              4051             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12450 0000196A 6011              4052             MOV.W   @R1,R0                          ;
12451 0000196C 2008              4053             TST     R0,R0                           ;
12452                            4054             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12453 0000196E 8B0E                   M           BF      POS_ALLSTEPCTL_415
12454                            4055     
12455                            4056     
12456                            4057     
12457                            4058     ;       === ﾌﾙｸﾛｰｽﾞ・回転共にこれで止める　連続・回転・停止なしのみここ以外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   113
PROGRAM NAME =

12458 00001970 D10E              4059             MOV.L   #_MODE_SEL,R1                   ;
12459 00001972 6011              4060             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12460 00001974 C808              4061             TST     #_W1CNT,R0                      ;
12461                            4062             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12462 00001976 890A                   M           BT      POS_ALLSTEPCTL_415
12463                            4063     
12464                            4064     ;       ===== 2004-12-20 ===
12465 00001978 D10D              4065             MOV.L   #_CPOS_MOD_FLG1,R1              ;
12466 0000197A 6011              4066             MOV.W   @R1,R0                          ;
12467 0000197C C804              4067             TST     #BIT2,R0                        ;
12468                            4068             TST_BIT_ON POS_ALLSTEPCTL_415           ;
12469 0000197E 8B06                   M           BF      POS_ALLSTEPCTL_415
12470                            4069     
12471 00001980 D10C              4070             MOV.L   #_STOP_LATCH_B,R1               ;
12472 00001982 6011              4071             MOV.W   @R1,R0                          ;
12473 00001984 2008              4072             TST     R0,R0                           ;
12474                            4073             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12475 00001986 8902                   M           BT      POS_ALLSTEPCTL_415
12476                            4074             FAR_JSR #_STOP_LTH_OUT,R0               ;自分を止めるのが目的
12477 00001988 D00B                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12478 0000198A 400B                   M           JSR     @R0                     ;
12479 0000198C 0009                   M           NOP                                     ;
12480                            4075     
12481 0000198E                   4076     POS_ALLSTEPCTL_415:                             ;
12482                            4077     
12483                            4078     ;       ===================================
12484                            4079     ;       ===     二重回路対策            ===
12485                            4080     ;       ===     工程完了                ===
12486                            4081     ;       ===================================
12487                            4082     ;;;;;;;;;;;;FORCE_STEPEND_HAND200:                              ;[2015-04-08]
12488                            4083     
12489                            4084              .AIF   1 EQ 1  ;
12490                            4085 C   ;       -------- 2016-10-31 ADD 二重回路対策
12491                            4086              .AENDI
12492 0000198E 9008              4087             MOV.W   #D'5,R0                         ;CPUAがCPUBの開始に反応しないかどうかの確
                                          認(2016-08-26)
12493 00001990 D105              4088             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12494 00001992 2101              4089             MOV.W   R0,@R1                          ;ﾊﾝﾄﾞｼｪｲｸ終了後2msecだけ停止釦を検知しない
12495                            4090     
12496                            4091             FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
12497 00001994 D009                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12498 00001996 400B                   M           JSR     @R0                     ;
12499 00001998 0009                   M           NOP                                     ;
12500 0000199A 2008              4092             TST     R0,R0                           ;
12501                            4093             TST_BIT_ON POS_ALLSTEPCTL_420           ;
12502 0000199C 8B10                   M           BF      POS_ALLSTEPCTL_420
12503                            4094             M_BRA   POS_ALLSTEPCTL_900              ;
12504 0000199E A158                   M           BRA     POS_ALLSTEPCTL_900
12505 000019A0 0009                   M           NOP
12506                                     ***** BEGIN-POOL *****
12507 000019A2 0005                       DATA FOR SOURCE-LINE 4087
12508 000019A4 00000000                   DATA FOR SOURCE-LINE 4045
12509 000019A8 00000000                   DATA FOR SOURCE-LINE 4051,4088
12510 000019AC 00000000                   DATA FOR SOURCE-LINE 4059
12511 000019B0 00000000                   DATA FOR SOURCE-LINE 4065
12512 000019B4 00000000                   DATA FOR SOURCE-LINE 4070
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   114
PROGRAM NAME =

12513 000019B8 00000000                   DATA FOR SOURCE-LINE 4074
12514 000019BC 00000000                   DATA FOR SOURCE-LINE 4091
12515                                     ***** END-POOL *****
12516 000019C0                   4095     POS_ALLSTEPCTL_420:                             ;
12517                            4096             FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
12518 000019C0 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12519 000019C2 400B                   M           JSR     @R0                     ;
12520 000019C4 0009                   M           NOP                                     ;
12521                            4097     
12522                            4098     ;       ===================
12523                            4099     ;       ===     CAM2    ===
12524                            4100     ;       ===================
12525                            4101             FAR_JSR #_CAM_1STEP_END_SIG2,R0         ;
12526 000019C6 D00B                   M           MOV.L   #_CAM_1STEP_END_SIG2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12527 000019C8 400B                   M           JSR     @R0                     ;
12528 000019CA 0009                   M           NOP                                     ;
12529                            4102     
12530                            4103     
12531                            4104     ;       ====== 次の工程演算[繰り返しCHK] ======
12532                            4105             FAR_JSR #_MOT_REP_STEPCHK,R0            ;ﾘﾋﾟｰﾄ開始(通常工程->ﾘﾋﾟｰﾄ戻工程,ﾘﾋﾟｰﾄ戻->
                                          ﾘﾋﾟｰﾄ開始工程)
12533 000019CC D00A                   M           MOV.L   #_MOT_REP_STEPCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12534 000019CE 400B                   M           JSR     @R0                     ;
12535 000019D0 0009                   M           NOP                                     ;
12536                            4106     
12537 000019D2 D50A              4107             MOV.L   #_MOT_REP_F,R5                  ;//BIT1(ﾚﾋﾟｰﾄ演算しろ),BIT2(ﾘﾋﾟｰﾄ戻実行中)
12538 000019D4 6051              4108             MOV.W   @R5,R0                          ;
12539 000019D6 C804              4109             TST     #BIT2,R0                        ;
12540                            4110             TST_BIT_OF POS_ALLSTEPCTL_428           ;ﾘﾋﾟｰﾄから通常の開始工程に切り替えろ?
12541 000019D8 8918                   M           BT      POS_ALLSTEPCTL_428
12542 000019DA C901              4111             AND     #(BIT0),R0                      ;BIT3,BIT2:CLR
12543 000019DC 2501              4112             MOV.W   R0,@R5                          ;
12544 000019DE D408              4113             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
12545 000019E0 6141              4114             MOV.W   @R4,R1                          ;
12546 000019E2 D508              4115             MOV.L   #_INT_POS_CTL_STEP,R5           ;//内部制御工程1~11
12547 000019E4 2511              4116             MOV.W   R1,@R5                          ;
12548 000019E6 D008              4117             MOV.L   #_SV_POS_CTL_STEP,R0            ;//1msec 制御上の見かけ
12549 000019E8 2011              4118             MOV.W   R1,@R0                          ;
12550                            4119             M_BRA   POS_ALLSTEPCTL_580              ;工程番号から位置演算
12551 000019EA A08C                   M           BRA     POS_ALLSTEPCTL_580
12552 000019EC 0009                   M           NOP
12553                            4120     
12554                            4121     
12555                                     ***** BEGIN-POOL *****
12556 000019EE 0000                       ALIGNMENT CODE
12557 000019F0 00000000                   DATA FOR SOURCE-LINE 4096
12558 000019F4 00000000                   DATA FOR SOURCE-LINE 4101
12559 000019F8 00000000                   DATA FOR SOURCE-LINE 4105
12560 000019FC 00000000                   DATA FOR SOURCE-LINE 4107
12561 00001A00 00000000                   DATA FOR SOURCE-LINE 4113
12562 00001A04 00000000                   DATA FOR SOURCE-LINE 4115
12563 00001A08 00000000                   DATA FOR SOURCE-LINE 4117
12564                                     ***** END-POOL *****
12565 00001A0C                   4122     POS_ALLSTEPCTL_428
12566 00001A0C C802              4123             TST     #BIT1,R0                        ;
12567                            4124             TST_BIT_OF POS_ALLSTEPCTL_430           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   115
PROGRAM NAME =

12568 00001A0E 890D                   M           BT      POS_ALLSTEPCTL_430
12569 00001A10 C901              4125             AND     #(BIT0),R0                      ;BIT1:CLR BIT3:ふりこ時に使用される
12570 00001A12 2501              4126             MOV.W   R0,@R5                          ;
12571                            4127     
12572                            4128             FAR_JSR #_DEBUG_BRK_POINT2,R0           ;
12573 00001A14 D003                   M           MOV.L   #_DEBUG_BRK_POINT2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12574 00001A16 400B                   M           JSR     @R0                     ;
12575 00001A18 0009                   M           NOP                                     ;
12576                            4129     
12577                            4130             FAR_JSR #_MOT_REPSTART_CALC,R0          ;
12578 00001A1A D003                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12579 00001A1C 400B                   M           JSR     @R0                     ;
12580 00001A1E 0009                   M           NOP                                     ;
12581                            4131             M_BRA   POS_ALLSTEPCTL_590              ;位置演算後の処理
12582 00001A20 A0B7                   M           BRA     POS_ALLSTEPCTL_590
12583 00001A22 0009                   M           NOP
12584                            4132     
12585                            4133     
12586                                     ***** BEGIN-POOL *****
12587 00001A24 00000000                   DATA FOR SOURCE-LINE 4128
12588 00001A28 00000000                   DATA FOR SOURCE-LINE 4130
12589                                     ***** END-POOL *****
12590 00001A2C                   4134     POS_ALLSTEPCTL_430:                             ;
12591                            4135     ;       ====== 次の工程演算 ======
12592 00001A2C D509              4136             MOV.L   #_INT_POS_CTL_STEP,R5   ;//内部制御工程1~11
12593 00001A2E 6051              4137             MOV.W   @R5,R0                  ;
12594 00001A30 70FF              4138             ADD     #-1,R0                  ;
12595 00001A32 4008              4139             SHLL2   R0                      ;
12596 00001A34 D708              4140             MOV.L   #_CPOS_SDAT1_CNTSTEP,R7 ;
12597 00001A36 017E              4141             MOV.L   @(R0,R7),R1             ;この工程の最後のｽﾃｯﾌﾟ
12598 00001A38 D608              4142             MOV.L   #_CPOS_STEP_MAX,R6      ;//設定
12599 00001A3A 6461              4143             MOV.W   @R6,R4                  ;
12600 00001A3C 7401              4144             ADD     #1,R4                   ;
12601 00001A3E 3142              4145             CMP/HS  R4,R1                   ;R4=(<)R1:NOW 最終工程?
12602 00001A40 8912              4146             BT      POS_ALLSTEPCTL_450      ;YES 最終工程だった JUMP
12603 00001A42 7101              4147             ADD     #1,R1                   ;
12604 00001A44 2511              4148             MOV.W   R1,@R5                  ;NEXT ｾｯﾄ
12605                            4149     
12606                            4150     ;       =======================================
12607 00001A46 D406              4151             MOV.L   #_CAM_CNT_CHG_FLG,R4            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12608 00001A48 200A              4152             XOR     R0,R0                           ;
12609 00001A4A 2401              4153             MOV.W   R0,@R4                          ;
12610                            4154     ;       =========================================
12611                            4155     
12612                            4156     ;       =================================================
12613 00001A4C D005              4157             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
12614 00001A4E 2011              4158             MOV.W   R1,@R0                  ;
12615                            4159     ;       ================================================
12616                            4160     ;       === 次の工程への処理===         ;
12617                            4161             M_BRA   POS_ALLSTEPCTL_580      ;
12618 00001A50 A059                   M           BRA     POS_ALLSTEPCTL_580
12619 00001A52 0009                   M           NOP
12620                            4162     
12621                            4163     ;====通常の安一等の最終工程,連続停止の最終行程もここ 2004-03-03
12622                                     ***** BEGIN-POOL *****
12623 00001A54 00000000                   DATA FOR SOURCE-LINE 4136
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   116
PROGRAM NAME =

12624 00001A58 00000000                   DATA FOR SOURCE-LINE 4140
12625 00001A5C 00000000                   DATA FOR SOURCE-LINE 4142
12626 00001A60 00000000                   DATA FOR SOURCE-LINE 4151
12627 00001A64 00000000                   DATA FOR SOURCE-LINE 4157
12628                                     ***** END-POOL *****
12629 00001A68                   4164     POS_ALLSTEPCTL_450:
12630                            4165             FAR_JSR #_MOTION_CYCLE_END,R0           ;
12631 00001A68 D00C                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12632 00001A6A 400B                   M           JSR     @R0                     ;
12633 00001A6C 0009                   M           NOP                                     ;
12634                            4166     
12635                            4167             .AIF    1 EQ    0
12636                            4168             FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12637                            4169     
12638                            4170             .AENDI
12639                            4171     
12640                            4172             FAR_JSR #_MOTION_CYCLE_ED2,R0           ;連続のVﾓｰﾄﾞがここを通過している
12641 00001A6E D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12642 00001A70 400B                   M           JSR     @R0                     ;
12643 00001A72 0009                   M           NOP                                     ;
12644                            4173             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
12645 00001A74 D00B                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12646 00001A76 400B                   M           JSR     @R0                     ;
12647 00001A78 0009                   M           NOP                                     ;
12648                            4174     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT1,R0
12649                            4175     
12650                            4176     
12651                            4177     ;       == 非常停止解除(ｻｲｸﾙ運転),1CYCLEND ==
12652 00001A7A D10B              4178             MOV.L   #_MODE_SEL,R1                   ;
12653 00001A7C 6011              4179             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12654 00001A7E C80A              4180             TST     #(_W1CNT+_W1INC),R0             ;
12655                            4181             TST_BIT_OF POS_ALLSTEPCTL_600X          ;終了
12656 00001A80 8909                   M           BT      POS_ALLSTEPCTL_600X
12657                            4182     
12658 00001A82 C802              4183             TST     #(_W1INC),R0                    ;
12659                            4184             TST_BIT_ON POS_ALLSTEPCTL_530           ;開始
12660 00001A84 8B16                   M           BF      POS_ALLSTEPCTL_530
12661                            4185     
12662                            4186     ;       === 連続 ===
12663 00001A86 D109              4187             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
12664 00001A88 6011              4188             MOV.W   @R1,R0                          ;
12665 00001A8A C801              4189             TST     #BIT0,R0                        ;
12666                            4190             TST_BIT_ON POS_ALLSTEPCTL_600X          ;終了
12667 00001A8C 8B03                   M           BF      POS_ALLSTEPCTL_600X
12668                            4191     
12669                            4192              .AIF   1 EQ 1  ;
12670                            4193 C   ;       -------- 2016-10-31 ADD 二重回路対策
12671                            4194              .AENDI
12672                            4195     
12673                            4196     ;;;2016-10-31           M_BRA   POS_ALLSTEPCTL_550              ;(連続のＶﾓｰﾄﾞでの最終工程
                                          から最初の行程) 停止付の処理
12674                            4197     ;       ----------- 2016-10-31(2016-07-31)(CMPERR対策)--------
12675                            4198             .AIF    1 EQ    0
12676                            4199             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
12677                            4200             .AELSE
12678 00001A8E D108              4201 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   117
PROGRAM NAME =

12679                            4202             .AENDI
12680 00001A90 6011              4203             MOV.W   @R1,R0                          ;
12681 00001A92 2008              4204             TST     R0,R0                           ;
12682                            4205             TST_BIT_OF POS_ALLSTEPCTL_550           ;(連続のＶﾓｰﾄﾞでの最終工程から最初の行程)
                                          停止付の処理
12683 00001A94 8918                   M           BT      POS_ALLSTEPCTL_550
12684                            4206     ;;;;2016-08-24  XOR     R0,R0                           ;相手の信号を受け付けた場合,相手の
                                          信号をOFFしておく
12685                            4207     ;;;;2016-08-24  MOV.W   R0,@R1                          ;不要
12686                            4208     
12687                            4209     
12688 00001A96                   4210     POS_ALLSTEPCTL_600X             ;終了
12689                            4211             M_BRA   POS_ALLSTEPCTL_600              ;終了
12690 00001A96 A0C7                   M           BRA     POS_ALLSTEPCTL_600
12691 00001A98 0009                   M           NOP
12692                            4212     
12693                            4213     
12694                                     ***** BEGIN-POOL *****
12695 00001A9A 0000                       ALIGNMENT CODE
12696 00001A9C 00000000                   DATA FOR SOURCE-LINE 4165
12697 00001AA0 00000000                   DATA FOR SOURCE-LINE 4172
12698 00001AA4 00000000                   DATA FOR SOURCE-LINE 4173
12699 00001AA8 00000000                   DATA FOR SOURCE-LINE 4178
12700 00001AAC 00000000                   DATA FOR SOURCE-LINE 4187
12701 00001AB0 00000000                   DATA FOR SOURCE-LINE 4201
12702                                     ***** END-POOL *****
12703 00001AB4                   4214     POS_ALLSTEPCTL_530:                             ;
12704 00001AB4 D103              4215             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12705 00001AB6 6111              4216             MOV.W   @R1,R1                          ;.3
12706 00001AB8 9203              4217             MOV.W   #BIT3,R2                        ;
12707 00001ABA 2128              4218             TST     R2,R1
12708                            4219             TST_BIT_OF POS_ALLSTEPCTL_550           ;
12709 00001ABC 8904                   M           BT      POS_ALLSTEPCTL_550
12710                            4220             M_BRA   POS_ALLSTEPCTL_600              ;終了 寸動一工程
12711 00001ABE A0B3                   M           BRA     POS_ALLSTEPCTL_600
12712 00001AC0 0009                   M           NOP
12713                            4221     
12714                            4222     ;       === 継続運転<> ==
12715                                     ***** BEGIN-POOL *****
12716 00001AC2 0008                       DATA FOR SOURCE-LINE 4217
12717 00001AC4 00000000                   DATA FOR SOURCE-LINE 4215
12718                                     ***** END-POOL *****
12719 00001AC8                   4223     POS_ALLSTEPCTL_550:                             ;
12720                            4224             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT4,WKREG=R1 ;2012-12-10 DEB
                                          UG
12721 00001AC8 D11A                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12722 00001ACA 6011                   M           MOV.W   @R1,R0          ;
12723 00001ACC CB10                   M           OR      #BIT4,R0                ;
12724 00001ACE 2101                   M           MOV.W   R0,@R1          ;
12725                            4225             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT3+BIT2+BIT1+BIT0),WKREG
                                          =R1     ;2012-12-10 DEBUG
12726 00001AD0 D118                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12727 00001AD2 6011                   M           MOV.W   @R1,R0          ;
12728 00001AD4 C9F0                   M           AND     #LOW ~(BIT3+BIT2+BIT1+BIT0),R0          ;
12729 00001AD6 2101                   M           MOV.W   R0,@R1          ;
12730                            4226     
12731                            4227              .AIF   1 EQ 1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   118
PROGRAM NAME =

12732                            4228 C   ;       -------- 2016-10-31 ADD 二重回路対策
12733                            4229              .AENDI
12734                            4230     ;       ---------連続及び寸動の継続時の１サイクル終了はここ
12735                            4231             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
12736 00001AD8 D017                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12737 00001ADA 400B                   M           JSR     @R0                     ;
12738 00001ADC 0009                   M           NOP                                     ;
12739                            4232     
12740                            4233     ;       ----- [2009-10-07下振子]-----
12741                            4234             FAR_JSR #_DNM_CYCLE_START,R0            ;連続の次のｻｲｸﾙ開始はここ
12742 00001ADE D017                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12743 00001AE0 400B                   M           JSR     @R0                     ;
12744 00001AE2 0009                   M           NOP                                     ;
12745                            4235     
12746 00001AE4 200A              4236             XOR     R0,R0                           ;
12747                            4237     ;       =======================================
12748 00001AE6 D116              4238             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12749 00001AE8 2101              4239             MOV.W   R0,@R1                          ;
12750                            4240     ;       =========================================
12751 00001AEA D116              4241             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12752 00001AEC 2101              4242             MOV.W   R0,@R1                          ;
12753 00001AEE D116              4243             MOV.L   #_LINK_OBJROT_NUM_ZR,R1         ;//NOW ROTATION 番号
12754 00001AF0 6212              4244             MOV.L   @R1,R2                          ;+0
12755                            4245     ;;;;    FAR_JSR #_NEXT_CYCL_START1,R0           ;回転なら+1
12756                            4246             FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0    ;2004-12-20::::連続/寸動の上死点停止付処理
12757 00001AF2 D016                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12758 00001AF4 400B                   M           JSR     @R0                     ;
12759 00001AF6 0009                   M           NOP                                     ;
12760                            4247     
12761 00001AF8 D115              4248             MOV.L   #_SV_POS_CTL_STEP,R1            ;//1msec 制御上の見かけ
12762 00001AFA 6411              4249             MOV.W   @R1,R4                          ;
12763 00001AFC D215              4250             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
12764 00001AFE 2241              4251             MOV.W   R4,@R2                          ;
12765                            4252     
12766                            4253     
12767                            4254             FAR_JSR #_MOTION_CYCLE_START,R0         ;1回転
12768 00001B00 D015                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12769 00001B02 400B                   M           JSR     @R0                     ;
12770 00001B04 0009                   M           NOP                                     ;
12771                            4255     
12772                            4256     
12773                            4257     
12774                            4258     ;       ==== 通常の行程切替,連続の停止付１回転====
12775                            4259     ;       (((((連続Vﾓｰﾄﾞではここは通らない))))))))
12776 00001B06                   4260     POS_ALLSTEPCTL_580:                             ;<====
12777                            4261     ;       ====== 2007-09-15未出荷　(SIT3:2007-09-15)(COP2:2007-07-07) =============
12778                            4262             FAR_JSR #_POS_LSI_START_INITAL,R0
12779 00001B06 D015                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12780 00001B08 400B                   M           JSR     @R0                     ;
12781 00001B0A 0009                   M           NOP                                     ;
12782                            4263     
12783                            4264             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測から設定に取り込まない
12784 00001B0C D014                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12785 00001B0E 400B                   M           JSR     @R0                     ;
12786 00001B10 0009                   M           NOP                                     ;
12787                            4265     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   119
PROGRAM NAME =

12788                            4266             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;20060919:
12789 00001B12 D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12790 00001B14 400B                   M           JSR     @R0                     ;
12791 00001B16 0009                   M           NOP                                     ;
12792                            4267     
12793 00001B18 D113              4268             MOV.L   #_CPOS_CTL_MATH,R1              ;
12794 00001B1A 6011              4269             MOV.W   @R1,R0                          ;
12795 00001B1C C801              4270             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
12796                            4271             TST_BIT_OF POS_ALLSTEPCTL_585           ;
12797 00001B1E 8935                   M           BT      POS_ALLSTEPCTL_585
12798                            4272     ;       ====== 回転時はこれ==========
12799 00001B20 D112              4273             MOV.L   #_CPOS_BANK_USELFUL,R1          ;2004-12-20
12800 00001B22 6011              4274             MOV.W   @R1,R0                          ;
12801 00001B24 C801              4275             TST     #BIT0,R0                        ;
12802                            4276             TST_BIT_ON POS_ALLSTEPCTL_583           ;<====
12803 00001B26 8B25                   M           BF      POS_ALLSTEPCTL_583
12804                            4277             FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;_LNGTH,SHIN,SPEED<設定から求める>
12805 00001B28 D011                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12806 00001B2A 400B                   M           JSR     @R0                     ;
12807 00001B2C 0009                   M           NOP                                     ;
12808                            4278             M_BRA   POS_ALLSTEPCTL_590              ;[]
12809 00001B2E A030                   M           BRA     POS_ALLSTEPCTL_590
12810 00001B30 0009                   M           NOP
12811                            4279     
12812                                     ***** BEGIN-POOL *****
12813 00001B32 0000                       ALIGNMENT CODE
12814 00001B34 00000000                   DATA FOR SOURCE-LINE 4224,4225
12815 00001B38 00000000                   DATA FOR SOURCE-LINE 4231
12816 00001B3C 00000000                   DATA FOR SOURCE-LINE 4234
12817 00001B40 00000000                   DATA FOR SOURCE-LINE 4238
12818 00001B44 00000000                   DATA FOR SOURCE-LINE 4241
12819 00001B48 00000000                   DATA FOR SOURCE-LINE 4243
12820 00001B4C 00000000                   DATA FOR SOURCE-LINE 4246
12821 00001B50 00000000                   DATA FOR SOURCE-LINE 4248
12822 00001B54 00000000                   DATA FOR SOURCE-LINE 4250
12823 00001B58 00000000                   DATA FOR SOURCE-LINE 4254
12824 00001B5C 00000000                   DATA FOR SOURCE-LINE 4262
12825 00001B60 00000000                   DATA FOR SOURCE-LINE 4264
12826 00001B64 00000000                   DATA FOR SOURCE-LINE 4266
12827 00001B68 00000000                   DATA FOR SOURCE-LINE 4268
12828 00001B6C 00000000                   DATA FOR SOURCE-LINE 4273
12829 00001B70 00000000                   DATA FOR SOURCE-LINE 4277
12830                                     ***** END-POOL *****
12831 00001B74                   4280     POS_ALLSTEPCTL_583                              ;
12832                            4281     ;       === 連続の上死点ﾀｲﾏなし===
12833                            4282             FAR_JSR #_POS_CNT_BANK_DTMAK3,R0        ;ﾀｲﾏ停止後の起動
12834 00001B74 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK3,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12835 00001B76 400B                   M           JSR     @R0                     ;
12836 00001B78 0009                   M           NOP                                     ;
12837                            4283             FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0     ;
12838 00001B7A D003                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12839 00001B7C 400B                   M           JSR     @R0                     ;
12840 00001B7E 0009                   M           NOP                                     ;
12841                            4284             M_BRA   POS_ALLSTEPCTL_590              ;
12842 00001B80 A007                   M           BRA     POS_ALLSTEPCTL_590
12843 00001B82 0009                   M           NOP
12844                            4285     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   120
PROGRAM NAME =

12845                                     ***** BEGIN-POOL *****
12846 00001B84 00000000                   DATA FOR SOURCE-LINE 4282
12847 00001B88 00000000                   DATA FOR SOURCE-LINE 4283
12848                                     ***** END-POOL *****
12849 00001B8C                   4286     POS_ALLSTEPCTL_585:                             ;<<<<<<<<<<<<<<<<<<
12850                            4287     
12851                            4288             FAR_JSR #_POS_1STEP_DATA_MAK_SEL,R0     ;2011-11-18 _POS_1STEP_DATA_MAK1CL/POS_1ST
                                          EP_DATA_MAK2の切り替え
12852 00001B8C D017                   M           MOV.L   #_POS_1STEP_DATA_MAK_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12853 00001B8E 400B                   M           JSR     @R0                     ;
12854 00001B90 0009                   M           NOP                                     ;
12855                            4289     
12856                            4290                                                     ;基本的には一致した状態(本当は最終工程だけ
                                          )
12857                            4291     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12858                            4292     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12859                            4293     
12860 00001B92                   4294     POS_ALLSTEPCTL_590:                             ;
12861                            4295     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ==== 2003-07-14 回転の停止時間変更 ===
12862                            4296     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 2014-08-30
12863                            4297     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   #_SV_CHG_FLG2,R1                ;
12864                            4298     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   @R1,R0                          ;
12865                            4299     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST     R0,R0                           ;
12866                            4300     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST_BIT_ON POS_ALLSTEPCTL_900           ;次の起動をかけな
                                          い
12867                            4301     
12868                            4302     ;       ===(次ｽﾃｯﾌﾟ起動)===
12869                            4303             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-27(data-smp only)
12870 00001B92 D017                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12871 00001B94 400B                   M           JSR     @R0                     ;
12872 00001B96 0009                   M           NOP                                     ;
12873                            4304     
12874                            4305             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
12875 00001B98 D016                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12876 00001B9A 400B                   M           JSR     @R0                     ;
12877 00001B9C 0009                   M           NOP                                     ;
12878                            4306             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(data-smp only)
12879 00001B9E D016                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12880 00001BA0 400B                   M           JSR     @R0                     ;
12881 00001BA2 0009                   M           NOP                                     ;
12882                            4307     
12883                            4308     
12884                            4309     ;;;;;;  FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
12885                            4310     ;;;;;(連続のＶﾓｰﾄﾞもここを通過してきているので安全一行程だけ)
12886                            4311             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
12887 00001BA4 D015                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12888 00001BA6 400B                   M           JSR     @R0                     ;
12889 00001BA8 0009                   M           NOP                                     ;
12890                            4312     
12891                            4313     ;       == 2004-03 ===
12892                            4314             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;"SGL"
12893 00001BAA D015                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12894 00001BAC 400B                   M           JSR     @R0                     ;
12895 00001BAE 0009                   M           NOP                                     ;
12896 00001BB0 901B              4315             MOV.W   #D'2,R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   121
PROGRAM NAME =

12897 00001BB2 D114              4316             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
12898 00001BB4 2101              4317             MOV.W   R0,@R1                          ;
12899                            4318     
12900                            4319             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;"SGL"
12901 00001BB6 D014                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12902 00001BB8 400B                   M           JSR     @R0                     ;
12903 00001BBA 0009                   M           NOP                                     ;
12904                            4320             FAR_JSR #_FWD_REV_START,R1              ;起動
12905 00001BBC D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12906 00001BBE 410B                   M           JSR     @R1                     ;
12907 00001BC0 0009                   M           NOP                                     ;
12908                            4321     
12909                            4322     ;       -------- 2010-09-27 ふりこ情報--------
12910                            4323             FAR_JSR #_DNM_START_ACC_CALC,R0
12911 00001BC2 D013                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12912 00001BC4 400B                   M           JSR     @R0                     ;
12913 00001BC6 0009                   M           NOP                                     ;
12914                            4324     
12915                            4325             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
12916 00001BC8 D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12917 00001BCA 400B                   M           JSR     @R0                     ;
12918 00001BCC 0009                   M           NOP                                     ;
12919                            4326     
12920 00001BCE 200A              4327             XOR     R0,R0                           ;
12921 00001BD0 D111              4328             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12922 00001BD2 2101              4329             MOV.W   R0,@R1                          ;Q
12923                            4330     
12924                            4331     ;       ==== ﾆｱｾﾞﾛ,ﾊﾝﾄﾞｼｪｲｸ終了,ｸﾛｰｽﾞﾌﾗｸﾞCLR ===
12925                            4332             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
12926 00001BD4 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12927 00001BD6 400B                   M           JSR     @R0                     ;
12928 00001BD8 0009                   M           NOP                                     ;
12929                            4333     
12930                            4334     ;       ---------------- 起動 2011-09-01 -------------------
12931                            4335             FAR_JSR #_UP_ACCERR_START_INI,R0
12932 00001BDA D011                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12933 00001BDC 400B                   M           JSR     @R0                     ;
12934 00001BDE 0009                   M           NOP                                     ;
12935                            4336     
12936                            4337     
12937                            4338     ;       ------- 2015-11-17 -----------------------
12938                            4339     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_START1,R0
12939                            4340             FAR_JSR #_API_ACC_MATHED_COM_DRV_START1,R0      ;2016-04-18
12940 00001BE0 D010                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_START1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12941 00001BE2 400B                   M           JSR     @R0                     ;
12942 00001BE4 0009                   M           NOP                                     ;
12943                            4341             M_BRA   POS_ALLSTEPCTL_900              ;
12944 00001BE6 A034                   M           BRA     POS_ALLSTEPCTL_900
12945 00001BE8 0009                   M           NOP
12946                            4342     
12947                                     ***** BEGIN-POOL *****
12948 00001BEA 0002                       DATA FOR SOURCE-LINE 4315
12949 00001BEC 00000000                   DATA FOR SOURCE-LINE 4288
12950 00001BF0 00000000                   DATA FOR SOURCE-LINE 4303
12951 00001BF4 00000000                   DATA FOR SOURCE-LINE 4305
12952 00001BF8 00000000                   DATA FOR SOURCE-LINE 4306
12953 00001BFC 00000000                   DATA FOR SOURCE-LINE 4311
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   122
PROGRAM NAME =

12954 00001C00 00000000                   DATA FOR SOURCE-LINE 4314
12955 00001C04 00000000                   DATA FOR SOURCE-LINE 4316
12956 00001C08 00000000                   DATA FOR SOURCE-LINE 4319
12957 00001C0C 00000000                   DATA FOR SOURCE-LINE 4320
12958 00001C10 00000000                   DATA FOR SOURCE-LINE 4323
12959 00001C14 00000000                   DATA FOR SOURCE-LINE 4325
12960 00001C18 00000000                   DATA FOR SOURCE-LINE 4328
12961 00001C1C 00000000                   DATA FOR SOURCE-LINE 4332
12962 00001C20 00000000                   DATA FOR SOURCE-LINE 4335
12963 00001C24 00000000                   DATA FOR SOURCE-LINE 4340
12964                                     ***** END-POOL *****
12965 00001C28                   4343     POS_ALLSTEPCTL_600:
12966                            4344             FAR_JSR #_MOTION_CYCLE_END,R0                   ;2回目通る
12967 00001C28 D00C                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12968 00001C2A 400B                   M           JSR     @R0                     ;
12969 00001C2C 0009                   M           NOP                                     ;
12970                            4345             FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
12971 00001C2E D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12972 00001C30 400B                   M           JSR     @R0                     ;
12973 00001C32 0009                   M           NOP                                     ;
12974                            4346             FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
12975 00001C34 D00B                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12976 00001C36 400B                   M           JSR     @R0                     ;
12977 00001C38 0009                   M           NOP                                     ;
12978                            4347     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT2,R0
12979                            4348     
12980                            4349             .AIF    1 EQ    0
12981                            4350             FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12982                            4351             .AENDI
12983                            4352     
12984                            4353             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
12985 00001C3A D10B                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12986 00001C3C 6011                   M           MOV.W   @R1,R0          ;
12987 00001C3E CB40                   M           OR      #BIT6,R0                ;
12988 00001C40 2101                   M           MOV.W   R0,@R1          ;
12989                            4354     
12990                            4355     ;       ------- 2015-11-17 -----------------------
12991                            4356     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
12992                            4357             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
12993 00001C42 D00A                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12994 00001C44 400B                   M           JSR     @R0                     ;
12995 00001C46 0009                   M           NOP                                     ;
12996                            4358     
12997                            4359     ;       ======ｻｲｸﾙ停止状態ON==========================
12998 00001C48 D109              4360             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12999 00001C4A 6011              4361             MOV.W   @R1,R0                                  ;
13000 00001C4C 9404              4362             MOV.W   #BIT7,R4                                ;
13001 00001C4E 204B              4363             OR      R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13002 00001C50 2101              4364             MOV.W   R0,@R1                                  ;
13003                            4365     ;       ===============================================
13004 00001C52                   4366     POS_ALLSTEPCTL_900:
13005                            4367     
13006                            4368     
13007                            4369     
13008                            4370     
13009                            4371     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   123
PROGRAM NAME =

13010                            4372     ;       ------- 2012-12-10 DEBUG-----------
13011                            4373     ;;;2014-09-14   MOV.L   #_DNM_DEBUG_STS1,R1
13012                            4374     ;;;2014-09-14   MOV.W   @R1,R2
13013                            4375     ;;;2014-09-14   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
13014                            4376     ;;;2014-09-14   MOV.W   R2,@R1                          ;ﾃﾞﾊﾞｯｸ専用
13015                            4377     
13016                            4378     
13017                            4379             SUB_END
13018                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13019 00001C52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13020                            4380             M_RTS
13021 00001C54 000B                   M           RTS                             ;RTSの後ろの
13022 00001C56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13023                            4381     
13024                            4382     
13025                            4383     
13026                            4384     
13027                            4385     
13028                            4386     
13029                                     ***** BEGIN-POOL *****
13030 00001C58 0080                       DATA FOR SOURCE-LINE 4362
13031 00001C5A 0000                       ALIGNMENT CODE
13032 00001C5C 00000000                   DATA FOR SOURCE-LINE 4344
13033 00001C60 00000000                   DATA FOR SOURCE-LINE 4345
13034 00001C64 00000000                   DATA FOR SOURCE-LINE 4346
13035 00001C68 00000000                   DATA FOR SOURCE-LINE 4353
13036 00001C6C 00000000                   DATA FOR SOURCE-LINE 4357
13037 00001C70 00000000                   DATA FOR SOURCE-LINE 4360
13038                                     ***** END-POOL *****
13039 00001C74                   4387     _DEBUG_BRK_POINT1
13040                            4388             SUB_START
13041 00001C74 4F22                   M           STS.L   PR,@-R15                ;[必要]
13042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13043                            4389     ;       -------debug break-point set----------
13044                            4390             PUSH_REG1 R0
13045 00001C76 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
13046                                 M                                           ;REG=>[SP]
13047                                 M                                           ;"-4" FF,FF,FF,FC
13048                            4391             PUSH_REG1 R1
13049 00001C78 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
13050                                 M                                           ;REG=>[SP]
13051                                 M                                           ;"-4" FF,FF,FF,FC
13052 00001C7A D107              4392             MOV.L   #_di2_cb_ctl2,R1        ;
13053 00001C7C 6011              4393             MOV.W   @R1,R0                  ;
13054 00001C7E C880              4394             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
13055                            4395             TST_BIT_OF DEBUG_BRK_PNT1_100
13056 00001C80 8904                   M           BT      DEBUG_BRK_PNT1_100
13057                            4396     
13058 00001C82 0009              4397             NOP
13059 00001C84 0009              4398             NOP
13060 00001C86 0009              4399             NOP
13061 00001C88 0009              4400             NOP
13062 00001C8A 0009              4401             NOP
13063                            4402     
13064                            4403     
13065 00001C8C                   4404     DEBUG_BRK_PNT1_100
13066                            4405     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   124
PROGRAM NAME =

13067                            4406     
13068                            4407             POP_REG1 R1
13069                                 M                                   ; RE"+4" 00,00,00,04
13070 00001C8C 61F6                   M           MOV.L   @R15+,R1        ;
13071                            4408             POP_REG1 R0
13072                                 M                                   ; RE"+4" 00,00,00,04
13073 00001C8E 60F6                   M           MOV.L   @R15+,R0        ;
13074                            4409             SUB_END
13075                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13076 00001C90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13077                            4410             M_RTS
13078 00001C92 000B                   M           RTS                             ;RTSの後ろの
13079 00001C94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13080                            4411     
13081                                     ***** BEGIN-POOL *****
13082 00001C96 0000                       ALIGNMENT CODE
13083 00001C98 00000000                   DATA FOR SOURCE-LINE 4392
13084                                     ***** END-POOL *****
13085 00001C9C                   4412     _DEBUG_BRK_POINT2
13086                            4413             SUB_START
13087 00001C9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13088                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13089                            4414     ;       -------debug break-point set----------
13090                            4415             PUSH_REG1 R0
13091 00001C9E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
13092                                 M                                           ;REG=>[SP]
13093                                 M                                           ;"-4" FF,FF,FF,FC
13094                            4416             PUSH_REG1 R1
13095 00001CA0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
13096                                 M                                           ;REG=>[SP]
13097                                 M                                           ;"-4" FF,FF,FF,FC
13098 00001CA2 D107              4417             MOV.L   #_di2_cb_ctl2,R1        ;
13099 00001CA4 6011              4418             MOV.W   @R1,R0                  ;
13100 00001CA6 C880              4419             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
13101                            4420             TST_BIT_OF DEBUG_BRK_PNT2_100
13102 00001CA8 8904                   M           BT      DEBUG_BRK_PNT2_100
13103                            4421     
13104 00001CAA 0009              4422             NOP
13105 00001CAC 0009              4423             NOP
13106 00001CAE 0009              4424             NOP
13107 00001CB0 0009              4425             NOP
13108 00001CB2 0009              4426             NOP
13109                            4427     
13110                            4428     
13111 00001CB4                   4429     DEBUG_BRK_PNT2_100
13112                            4430     
13113                            4431     
13114                            4432             POP_REG1 R1
13115                                 M                                   ; RE"+4" 00,00,00,04
13116 00001CB4 61F6                   M           MOV.L   @R15+,R1        ;
13117                            4433             POP_REG1 R0
13118                                 M                                   ; RE"+4" 00,00,00,04
13119 00001CB6 60F6                   M           MOV.L   @R15+,R0        ;
13120                            4434             SUB_END
13121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13122 00001CB8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13123                            4435             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   125
PROGRAM NAME =

13124 00001CBA 000B                   M           RTS                             ;RTSの後ろの
13125 00001CBC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13126                            4436     
13127                                     ***** BEGIN-POOL *****
13128 00001CBE 0000                       ALIGNMENT CODE
13129 00001CC0 00000000                   DATA FOR SOURCE-LINE 4417
13130                                     ***** END-POOL *****
13131 00001CC4                   4437     _DEBUG_BRK_POINT3
13132                            4438             SUB_START
13133 00001CC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13134                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13135                            4439     ;       -------debug break-point set----------
13136                            4440             PUSH_REG1 R0
13137 00001CC6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
13138                                 M                                           ;REG=>[SP]
13139                                 M                                           ;"-4" FF,FF,FF,FC
13140                            4441             PUSH_REG1 R1
13141 00001CC8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
13142                                 M                                           ;REG=>[SP]
13143                                 M                                           ;"-4" FF,FF,FF,FC
13144 00001CCA D107              4442             MOV.L   #_di2_cb_ctl2,R1        ;
13145 00001CCC 6011              4443             MOV.W   @R1,R0                  ;
13146 00001CCE C880              4444             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
13147                            4445             TST_BIT_OF DEBUG_BRK_PNT3_100
13148 00001CD0 8904                   M           BT      DEBUG_BRK_PNT3_100
13149                            4446     
13150 00001CD2 0009              4447             NOP
13151 00001CD4 0009              4448             NOP
13152 00001CD6 0009              4449             NOP
13153 00001CD8 0009              4450             NOP
13154 00001CDA 0009              4451             NOP
13155                            4452     
13156                            4453     
13157 00001CDC                   4454     DEBUG_BRK_PNT3_100
13158                            4455     
13159                            4456     
13160                            4457             POP_REG1 R1
13161                                 M                                   ; RE"+4" 00,00,00,04
13162 00001CDC 61F6                   M           MOV.L   @R15+,R1        ;
13163                            4458             POP_REG1 R0
13164                                 M                                   ; RE"+4" 00,00,00,04
13165 00001CDE 60F6                   M           MOV.L   @R15+,R0        ;
13166                            4459             SUB_END
13167                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13168 00001CE0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13169                            4460             M_RTS
13170 00001CE2 000B                   M           RTS                             ;RTSの後ろの
13171 00001CE4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13172                            4461     
13173                            4462     
13174                            4463     ;       *******************************************************************
13175                            4464     ;       ***                                                             ***
13176                            4465     ;       ***     反転時のフルクローズ後の工程（戻り）は目標位置ではだめ  ***
13177                            4466     ;       ***                                                             ***
13178                            4467     ;       *******************************************************************
13179                            4468     ;       2011-02-18 (2010-10-05 はMCのよるソフト)
13180                            4469     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   126
PROGRAM NAME =

13181                                     ***** BEGIN-POOL *****
13182 00001CE6 0000                       ALIGNMENT CODE
13183 00001CE8 00000000                   DATA FOR SOURCE-LINE 4442
13184                                     ***** END-POOL *****
13185 00001CEC                   4470             .ALIGN  4                               ;
13186 00001CEC                   4471     _POS_1STEP_DATA_MAK_SEL:
13187                            4472             SUB_START
13188 00001CEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13189                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13190                            4473     
13191 00001CEE D104              4474             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13192 00001CF0 6011              4475             MOV.W   @R1,R0                                  ;
13193 00001CF2 C805              4476             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
13194                            4477             TST_BIT_ON POS_1STEP_DATA_MKSL100               ;YES
13195 00001CF4 8B08                   M           BF      POS_1STEP_DATA_MKSL100
13196                            4478     
13197                            4479     ;;;     FAR_JSR #_POS_1STEP_DATA_MAK1,R0                ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
13198                            4480             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0              ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
13199 00001CF6 D003                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13200 00001CF8 400B                   M           JSR     @R0                     ;
13201 00001CFA 0009                   M           NOP                                     ;
13202                            4481             M_BRA   POS_1STEP_DATA_MKSL200                  ;
13203 00001CFC A007                   M           BRA     POS_1STEP_DATA_MKSL200
13204 00001CFE 0009                   M           NOP
13205                            4482     
13206                            4483     
13207                                     ***** BEGIN-POOL *****
13208 00001D00 00000000                   DATA FOR SOURCE-LINE 4474
13209 00001D04 00000000                   DATA FOR SOURCE-LINE 4480
13210                                     ***** END-POOL *****
13211 00001D08                   4484     POS_1STEP_DATA_MKSL100:
13212                            4485             FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;目標位置タイプ　2010-10-05
13213 00001D08 D002                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13214 00001D0A 400B                   M           JSR     @R0                     ;
13215 00001D0C 0009                   M           NOP                                     ;
13216 00001D0E                   4486     POS_1STEP_DATA_MKSL200:
13217                            4487                                                             ;基本的には一致した状態(本当は最終
                                          工程だけ)
13218                            4488     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
13219                            4489     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
13220                            4490     
13221                            4491     
13222                            4492             SUB_END
13223                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13224 00001D0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13225                            4493             M_RTS
13226 00001D10 000B                   M           RTS                             ;RTSの後ろの
13227 00001D12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13228                            4494     
13229                            4495     
13230                            4496     
13231                            4497     
13232                            4498     
13233                            4499     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   127
PROGRAM NAME =

13234                            4500     ;       ***                                     ***
13235                            4501     ;       ***                                     ***
13236                            4502     ;       ***                                     ***
13237                            4503     ;       ***     JUMP処理短縮のｻﾌﾞﾙｰﾁﾝ化         ***
13238                            4504     ;       ***     2009-10-07                      ***
13239                            4505     ;       ***                                     ***
13240                            4506     ;       ***                                     ***
13241                            4507     ;       *******************************************
13242                                     ***** BEGIN-POOL *****
13243 00001D14 00000000                   DATA FOR SOURCE-LINE 4485
13244                                     ***** END-POOL *****
13245 00001D18                   4508     _CNT_NEAR_TIM_CHK:
13246                            4509             SUB_START
13247 00001D18 4F22                   M           STS.L   PR,@-R15                ;[必要]
13248                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13249                            4510             SUB_END
13250                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13251 00001D1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13252                            4511             M_RTS
13253 00001D1C 000B                   M           RTS                             ;RTSの後ろの
13254 00001D1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13255                            4512     
13256 00001D20                   4513     _POS_ALLSTEP_STOP_SPD_CHK:
13257                            4514             SUB_START
13258 00001D20 4F22                   M           STS.L   PR,@-R15                ;[必要]
13259                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13260                            4515             SUB_END
13261                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13262 00001D22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13263                            4516             M_RTS
13264 00001D24 000B                   M           RTS                             ;RTSの後ろの
13265 00001D26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13266                            4517     
13267 00001D28                   4518     _NEAR_ZERO_IN_CHK:
13268                            4519             SUB_START
13269 00001D28 4F22                   M           STS.L   PR,@-R15                ;[必要]
13270                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13271                            4520             SUB_END
13272                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13273 00001D2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13274                            4521             M_RTS
13275 00001D2C 000B                   M           RTS                             ;RTSの後ろの
13276 00001D2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13277                            4522     
13278 00001D30                   4523     _PLSOUT_STEP_END_TIMSET
13279                            4524             SUB_START
13280 00001D30 4F22                   M           STS.L   PR,@-R15                ;[必要]
13281                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13282                            4525             SUB_END
13283                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13284 00001D32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13285                            4526             M_RTS
13286 00001D34 000B                   M           RTS                             ;RTSの後ろの
13287 00001D36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13288                            4527     
13289 00001D38                   4528     _WAIT_TIM_CNT:
13290                            4529             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   128
PROGRAM NAME =

13291 00001D38 4F22                   M           STS.L   PR,@-R15                ;[必要]
13292                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13293                            4530             SUB_END
13294                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13295 00001D3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13296                            4531             M_RTS
13297 00001D3C 000B                   M           RTS                             ;RTSの後ろの
13298 00001D3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13299                            4532     
13300                            4533     
13301                            4534     ;       ***********************************
13302                            4535     ;       ***                             ***
13303                            4536     ;       ***     次のｻｲｸﾙ演算            ***
13304                            4537     ;       ***                             ***
13305                            4538     ;       ***********************************
13306                            4539     
13307                            4540     ;       ***************************
13308                            4541     ;       ***     Input R2 回転   ***
13309                            4542     ;       ***************************
13310                            4543     ;       ==かならず正転方向から運転を始める
13311                            4544     ;       ==(今の目標位置＝現在位置）は待機点と正転方向の第一目標位置の間にあるか？(正転動作
                                          から始める)０を
13312                            4545     ;       (1)待機点が第一目標位置より小さい場合（普通の設定 目標位置は１回転足されていない）
                                          ０をはさまない
13313                            4546     ;          @待機点と目標位置の範囲内なら足さない
13314                            4547     ;          A　@以外で１８０度(上昇ホールドだけど)〜０度（３６００）の範囲なら＋１する
13315                            4548     ;          Bそれ以外は戻すからそのまま
13316                            4549     ;       (2)待機点が第一目標位置より大きい場合（普通の設定 目標位置は１回転足されている）：
                                          ０をはさむ
13317                            4550     ;          @待機点〜０の間はそのまま
13318                            4551     ;          A０を含む ０〜第一目標位置の間は−１する
13319                            4552     ;          Bそのままにしておく
13320                            4553     
13321                            4554     ;       パルスで考える
13322                            4555     ;
13323                            4556     ;       0ﾊﾟﾙｽから待機点ﾊﾟﾙｽ間はそのまま
13324                            4557     ;       待機ﾊﾟﾙｽ~SV間
13325                            4558     ;
13326                            4559     ;       第一目標位置が360度を越えない場合(またがない場合)
13327                            4560     ;       第一目標位置が360度を越える場合(またぐ場合)
13328                            4561     ;
13329                            4562     ;
13330                            4563     ;       0_______ORG_____SV________359.9
13331                            4564     ;         PV1       PV2     PV3
13332                            4565     ;         *PV1:そのままの回転 PV2:そのまま　PV3 回転+1
13333                            4566     ;
13334                            4567     ;       0_______ORG_______________360.0_______SV______719.9
13335                            4568     ;          PV2          PV1              PV3-2   PV3-1
13336                            4569     ;          PV+360.0
13337                            4570     ;         PV1:そのまま (PV2はない)
13338                            4571     ;         PV3-1:そのまま
13339                            4572     ;         PV3-2: "-1"
13340                            4573     ;       "Input R2"
13341 00001D40                   4574             .ALIGN  4                               ;
13342 00001D40                   4575     _NEXT_CYCL_START2:                              ;[正方向から開始する運転の１回目の起動]
13343                            4576             SUB_START                               ;
13344 00001D40 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   129
PROGRAM NAME =

13345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13346                            4577     
13347                            4578             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
13348 00001D42 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13349 00001D44 400B                   M           JSR     @R0                     ;
13350 00001D46 0009                   M           NOP                                     ;
13351 00001D48 D410              4579             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13352 00001D4A 6242              4580             MOV.L   @R4,R2                                  ;
13353                            4581     
13354 00001D4C D410              4582             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;"(目標)"
13355 00001D4E 6942              4583             MOV.L   @R4,R9                                  ;
13356 00001D50 D110              4584             MOV.L   #_CPOS_UPAREA_PLS,R1                    ;//4;待機点
13357 00001D52 6812              4585             MOV.L   @R1,R8                                  ;
13358 00001D54 D110              4586             MOV.L   #_LINK_1ROT_PLS,R1                      ;待機点より小さかったら+１回転
13359 00001D56 6712              4587             MOV.L   @R1,R7                                  ;反転時もこの論理でＯＫ
13360                            4588     
13361                            4589     ;;;;2014-09-19 振子の逆待機点からの開始
13362                            4590     ;;;;2014-09-19  MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10             ;
13363 00001D58 DA10              4591             MOV.L   #_CPOS_SDAT1_OFSPOS,R10                                         ;
13364 00001D5A 63A2              4592             MOV.L   @R10,R3
                                          ;1ｽﾃｯﾌﾟ目
13365                            4593     
13366                            4594     ;       ------INC_RESET_USE_F;//STEPを参照して　2014-09-26----------
13367                            4595     ;;;;2018-11-13
13368                            4596     ;;;;2018-11-13  MOV.L   #_INC_RESET_USE_F,R1            ;
13369                            4597     ;;;;2018-11-13  MOV.W   @R1,R0                                          ;
13370                            4598     ;;;;2018-11-13  TST     R0,R0                                                   ;
13371                            4599     ;;;;2018-11-13  TST_BIT_ON POS_START_ROT_CAL_900        ;
13372                            4600     ;;;;2018-11-13
13373                            4601     ;       ------------ 2018-11-13--------
13374 00001D5C D110              4602             MOV.L   #_INC_RESET_USE_F,R1                            ;ﾛｯﾄ数を算出するｿﾌﾄ
13375 00001D5E 6011              4603             MOV.W   @R1,R0                                                          ;
13376 00001D60 2008              4604             TST     R0,R0                                                                   ;
13377                            4605             TST_BIT_OF POS_START_ROT_CAL_050                        ;
13378 00001D62 8927                   M           BT      POS_START_ROT_CAL_050
13379                            4606     
13380 00001D64 D10F              4607             MOV.L   #_CPOS_CTL_MATH,R1                                      ;
13381 00001D66 6011              4608             MOV.W   @R1,R0                                                          ;
13382 00001D68 C801              4609             TST     #(_DMATH_CNTROT),R0                                             ;
13383                            4610             TST_BIT_OF POS_START_ROT_CAL_040                        ;回転ではない 今のﾛｯﾄはそ
                                          のまま
13384 00001D6A 8921                   M           BT      POS_START_ROT_CAL_040
13385                            4611     
13386 00001D6C 2888              4612             TST             R8,R8                                                           ;
13387                            4613             TST_BIT_OF POS_START_ROT_CAL_040                        ;待機点が0なら関係ない
13388 00001D6E 891F                   M           BT      POS_START_ROT_CAL_040
13389                            4614     
13390 00001D70 D10D              4615             MOV.L   #_PAR_WTSEL_USE,R1                                      ;
13391 00001D72 6011              4616             MOV.W   @R1,R0                                                          ;
13392 00001D74 8801              4617             CMP/EQ  #1,R0                                                           ;
13393 00001D76 8B1B              4618             BF              POS_START_ROT_CAL_040                           ;待機点選択無効
13394                            4619     
13395 00001D78 D10C              4620             MOV.L   #_INC_RESET_STEP,R1                                     ;
13396 00001D7A 6011              4621             MOV.W   @R1,R0                                                          ;
13397 00001D7C 70FF              4622             ADD             #-1,R0                                                          ;
13398 00001D7E 4008              4623             SHLL2   R0                                                                      ;4
                                          BYTE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   130
PROGRAM NAME =

13399 00001D80 30AC              4624             ADD             R10,R0                                                          ;
13400 00001D82 6302              4625             MOV.L   @R0,R3                                                          ;R4 目標
13401                            4626             M_BRA   POS_START_ROT_CAL_100                           ;この目標位置で計算
13402 00001D84 A026                   M           BRA     POS_START_ROT_CAL_100
13403 00001D86 0009                   M           NOP
13404                            4627     
13405                            4628     
13406                                     ***** BEGIN-POOL *****
13407 00001D88 00000000                   DATA FOR SOURCE-LINE 4578
13408 00001D8C 00000000                   DATA FOR SOURCE-LINE 4579
13409 00001D90 00000000                   DATA FOR SOURCE-LINE 4582
13410 00001D94 00000000                   DATA FOR SOURCE-LINE 4584
13411 00001D98 00000000                   DATA FOR SOURCE-LINE 4586
13412 00001D9C 00000000                   DATA FOR SOURCE-LINE 4591
13413 00001DA0 00000000                   DATA FOR SOURCE-LINE 4602
13414 00001DA4 00000000                   DATA FOR SOURCE-LINE 4607
13415 00001DA8 00000000                   DATA FOR SOURCE-LINE 4615
13416 00001DAC 00000000                   DATA FOR SOURCE-LINE 4620
13417                                     ***** END-POOL *****
13418 00001DB0                   4629     POS_START_ROT_CAL_040:
13419                            4630             M_BRA   POS_START_ROT_CAL_900                   ;
13420 00001DB0 A01E                   M           BRA     POS_START_ROT_CAL_900
13421 00001DB2 0009                   M           NOP
13422                            4631     
13423                            4632     
13424                            4633     
13425 00001DB4                   4634     POS_START_ROT_CAL_050:
13426                            4635     ;       ----------------------------------------------------------
13427                            4636     ;       ----- 2014-09-19　ふりこ反対側待機点からの初起動-----------
13428 00001DB4 D105              4637             MOV.L   #_CPOS_CTL_MATH,R1                              ;
13429 00001DB6 6011              4638             MOV.W   @R1,R0                                                  ;
13430 00001DB8 C804              4639             TST     #(_DMATH_DNDRIV),R0                                     ;往復
13431                            4640             TST_BIT_OF POS_START_ROT_CAL_100                ;
13432 00001DBA 890B                   M           BT      POS_START_ROT_CAL_100
13433                            4641     
13434 00001DBC D104              4642             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//このフラグでいいのかな？
13435 00001DBE 6011              4643             MOV.W   @R1,R0                                                  ;
13436 00001DC0 2008              4644             TST     R0,R0                                                           ;
13437                            4645             TST_BIT_OF POS_START_ROT_CAL_100                ;ふりこの通常側からの起動
13438 00001DC2 8907                   M           BT      POS_START_ROT_CAL_100
13439                            4646     
13440                            4647     ;-------いいのかな?
13441 00001DC4 3833              4648             CMP/GE  R3,R8                                                   ;目標=<待機点
13442 00001DC6 8913              4649             BT      POS_START_ROT_CAL_900                           ;逆転から始まる
13443                            4650             M_BRA   POS_START_ROT_CAL_999                   ;-1回転
13444 00001DC8 A020                   M           BRA     POS_START_ROT_CAL_999
13445 00001DCA 0009                   M           NOP
13446                            4651     
13447                            4652     
13448                            4653     
13449                            4654     ;---------------- 今までの回転、反転、ふりこ右側待機・・正転から始まる-----------
13450                                     ***** BEGIN-POOL *****
13451 00001DCC 00000000                   DATA FOR SOURCE-LINE 4637
13452 00001DD0 00000000                   DATA FOR SOURCE-LINE 4642
13453                                     ***** END-POOL *****
13454 00001DD4                   4655     POS_START_ROT_CAL_100:
13455 00001DD4 3373              4656             CMP/GE  R7,R3                                                   ;1REV =< SV
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   131
PROGRAM NAME =

13456 00001DD6 8903              4657             BT      POS_START_ROT_CAL_200                           ;
13457                            4658     ;       ======= 0度をはさまない ====
13458 00001DD8 3937              4659             CMP/GT  R3,R9                                                   ;
13459 00001DDA 890F              4660             BT      POS_START_ROT_CAL_950                           ;待機(R8)<SV(R3)<NOW
13460                            4661             M_BRA   POS_START_ROT_CAL_900                   ;
13461 00001DDC A008                   M           BRA     POS_START_ROT_CAL_900
13462 00001DDE 0009                   M           NOP
13463                            4662     
13464                            4663     ;       ====== ０度を挟む===
13465 00001DE0                   4664     POS_START_ROT_CAL_200:
13466 00001DE0 3897              4665             CMP/GT  R9,R8                                                   ;待機点以下?
13467 00001DE2 8B05              4666             BF      POS_START_ROT_CAL_900                           ;NO! 待機点~360度
13468 00001DE4 6593              4667             MOV     R9,R5
13469 00001DE6 357C              4668             ADD     R7,R5                                                           ;1REV+NOW
13470 00001DE8 3537              4669             CMP/GT  R3,R5                                                   ;SV < NOW
13471 00001DEA 8901              4670             BT      POS_START_ROT_CAL_900                           ;YES
13472                            4671             M_BRA   POS_START_ROT_CAL_999                   ;
13473 00001DEC A00E                   M           BRA     POS_START_ROT_CAL_999
13474 00001DEE 0009                   M           NOP
13475                            4672     
13476                            4673     
13477                            4674     
13478                            4675     ;       ===== そのまま =====
13479 00001DF0                   4676     POS_START_ROT_CAL_900
13480 00001DF0 D401              4677             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13481 00001DF2 6242              4678             MOV.L   @R4,R2                                  ;
13482                            4679             M_BRA   NEXT_CYCL_STR1_050                      ;
13483 00001DF4 A018                   M           BRA     NEXT_CYCL_STR1_050
13484 00001DF6 0009                   M           NOP
13485                            4680     
13486                            4681     ;       ===== +1 =====
13487                                     ***** BEGIN-POOL *****
13488 00001DF8 00000000                   DATA FOR SOURCE-LINE 4677
13489                                     ***** END-POOL *****
13490 00001DFC                   4682     POS_START_ROT_CAL_950
13491 00001DFC D402              4683             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13492 00001DFE 6242              4684             MOV.L   @R4,R2                                  ;
13493 00001E00 7201              4685             ADD     #1,R2                                   ;
13494                            4686             M_BRA   NEXT_CYCL_STR1_050                      ;
13495 00001E02 A011                   M           BRA     NEXT_CYCL_STR1_050
13496 00001E04 0009                   M           NOP
13497                            4687     
13498                            4688     ;       ===== -1 =====
13499                                     ***** BEGIN-POOL *****
13500 00001E06 0000                       ALIGNMENT CODE
13501 00001E08 00000000                   DATA FOR SOURCE-LINE 4683
13502                                     ***** END-POOL *****
13503 00001E0C                   4689     POS_START_ROT_CAL_999
13504 00001E0C D402              4690             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13505 00001E0E 6242              4691             MOV.L   @R4,R2                                  ;
13506 00001E10 72FF              4692             ADD     #-1,R2                                  ;
13507                            4693             M_BRA   NEXT_CYCL_STR1_050                      ;
13508 00001E12 A009                   M           BRA     NEXT_CYCL_STR1_050
13509 00001E14 0009                   M           NOP
13510                            4694     
13511                                     ***** BEGIN-POOL *****
13512 00001E16 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   132
PROGRAM NAME =

13513 00001E18 00000000                   DATA FOR SOURCE-LINE 4690
13514                                     ***** END-POOL *****
13515 00001E1C                   4695             .ALIGN  4                               ;
13516 00001E1C                   4696     _NEXT_CYCL_START1:
13517                            4697             SUB_START
13518 00001E1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13519                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13520 00001E1E D111              4698             MOV.L   #_CPOS_CTL_MATH,R1              ;
13521 00001E20 6011              4699             MOV.W   @R1,R0                          ;
13522 00001E22 C801              4700             TST     #_DMATH_CNTROT,R0               ;回転?
13523                            4701             TST_BIT_OF NEXT_CYCL_STR1_050
13524 00001E24 8900                   M           BT      NEXT_CYCL_STR1_050
13525 00001E26 7201              4702             ADD     #1,R2                           ;回転数+1<反転>
13526 00001E28                   4703     NEXT_CYCL_STR1_050:
13527                            4704     
13528                            4705     ;       === 2004-12-20====
13529 00001E28 D40F              4706             MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R4
13530 00001E2A 2422              4707             MOV.L   R2,@R4
13531                            4708     
13532 00001E2C 9418              4709             MOV.W   #1,R4
13533 00001E2E D10F              4710             MOV.L   #_SV_POS_CTL_STEP,R1            ;
13534 00001E30 2141              4711             MOV.W   R4,@R1                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
13535                            4712             PUSH_REG1 R2
13536 00001E32 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
13537                                 M                                           ;REG=>[SP]
13538                                 M                                           ;"-4" FF,FF,FF,FC
13539                            4713             FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
13540 00001E34 D10E                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13541 00001E36 410B                   M           JSR     @R1                     ;
13542 00001E38 0009                   M           NOP                                     ;
13543                            4714             POP_REG1 R2
13544                                 M                                   ; RE"+4" 00,00,00,04
13545 00001E3A 62F6                   M           MOV.L   @R15+,R2        ;
13546                            4715             FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
13547 00001E3C D10D                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13548 00001E3E 410B                   M           JSR     @R1                     ;
13549 00001E40 0009                   M           NOP                                     ;
13550                            4716     
13551                            4717     ;       =====2003-07-09 速度============
13552                            4718             FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
13553 00001E42 D00D                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13554 00001E44 400B                   M           JSR     @R0                     ;
13555 00001E46 0009                   M           NOP                                     ;
13556                            4719     ;       ===== 2003-07-14 TIME ======
13557                            4720             FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
13558 00001E48 D00C                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13559 00001E4A 400B                   M           JSR     @R0                     ;
13560 00001E4C 0009                   M           NOP                                     ;
13561                            4721     
13562                            4722     
13563                            4723     ;       --------2012-05-15 反転、全モードのタイマ時はタイマ処理から再開をクリア[3/]　次ｻｲｸ
                                          ﾙ開始----
13564                            4724     ;       基本的にはなくてすむはずかな?
13565                            4725             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
13566 00001E4E 200A                   M           XOR     R0,R0           ;
13567 00001E50 D10B                   M           MOV.L   #_DURING_TIM_FX,R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   133
PROGRAM NAME =

13568 00001E52 2101                   M           MOV.W   R0,@R1          ;
13569                            4726     
13570                            4727     
13571                            4728     ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
13572                            4729             FAR_JSR #_HLDCAM_ABS_POS_SET,R1         ;
13573 00001E54 D10B                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13574 00001E56 410B                   M           JSR     @R1                     ;
13575 00001E58 0009                   M           NOP                                     ;
13576                            4730     
13577                            4731     
13578                            4732     
13579                            4733             SUB_END
13580                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13581 00001E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13582                            4734             M_RTS
13583 00001E5C 000B                   M           RTS                             ;RTSの後ろの
13584 00001E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13585                            4735     
13586                            4736     
13587                            4737     
13588                            4738     
13589                            4739     
13590                            4740     
13591                            4741     
13592                            4742     
13593                            4743     
13594                            4744     
13595                            4745     
13596                            4746     
13597                            4747     
13598                            4748     
13599                            4749     
13600                            4750     
13601                            4751     
13602                            4752     
13603                            4753     
13604                            4754     ;       ***********************************************************
13605                            4755     ;       ***                                                     ***
13606                            4756     ;       ***     連続速度中の速度と連続内のｽﾃｯﾌﾟ切り替え         ***
13607                            4757     ;       ***                                                     ***
13608                            4758     ;       ***********************************************************
13609                            4759     ;       連続だ。自分の切り替え位置を超えたら＋１する。もし、ＭＡＸステップを超えたら１にす
                                          る
13610                            4760     ;
13611                            4761     ;
13612                                     ***** BEGIN-POOL *****
13613 00001E60 0001                       DATA FOR SOURCE-LINE 4709
13614 00001E62 0000                       ALIGNMENT CODE
13615 00001E64 00000000                   DATA FOR SOURCE-LINE 4698
13616 00001E68 00000000                   DATA FOR SOURCE-LINE 4706
13617 00001E6C 00000000                   DATA FOR SOURCE-LINE 4710
13618 00001E70 00000000                   DATA FOR SOURCE-LINE 4713
13619 00001E74 00000000                   DATA FOR SOURCE-LINE 4715
13620 00001E78 00000000                   DATA FOR SOURCE-LINE 4718
13621 00001E7C 00000000                   DATA FOR SOURCE-LINE 4720
13622 00001E80 00000000                   DATA FOR SOURCE-LINE 4725
13623 00001E84 00000000                   DATA FOR SOURCE-LINE 4729
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   134
PROGRAM NAME =

13624                                     ***** END-POOL *****
13625 00001E88                   4762             .ALIGN  4                               ;
13626 00001E88                   4763     _SPD_STEP_CHG_FWD:
13627                            4764             SUB_START
13628 00001E88 4F22                   M           STS.L   PR,@-R15                ;[必要]
13629                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13630 00001E8A DB12              4765             MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
13631 00001E8C 69B1              4766             MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
13632 00001E8E 6793              4767             MOV     R9,R7                                                   ;
13633 00001E90 77FF              4768             ADD     #-1,R7                                                  ;
13634 00001E92 4708              4769             SHLL2   R7                                                      ;
13635 00001E94 6273              4770             MOV     R7,R2
13636 00001E96 4200              4771             SHLL    R2
13637 00001E98 D00F              4772             MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
13638 00001E9A 302C              4773             ADD     R2,R0
13639 00001E9C 6106              4774             MOV.L   @R0+,R1                                                 ;位置
13640 00001E9E 6202              4775             MOV.L   @R0,R2                                                  ;
13641                            4776     
13642 00001EA0 D40E              4777             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
13643 00001EA2 6546              4778             MOV.L   @R4+,R5                                                 ;
13644 00001EA4 6642              4779             MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
13645                            4780     
13646 00001EA6 D00E              4781             MOV.L   #_CPOS_SDAT1_INF1,R0            ;[12];          //SETX-->起動時COPY
13647 00001EA8 007E              4782             MOV.L   @(R0,R7),R0                     ;BIT0=1連続
13648 00001EAA C801              4783             TST     #BIT0,R0                        ;
13649                            4784             TST_BIT_OF SPD_STEP_CHGFWD_EXT          ;連続? NO EXIT
13650 00001EAC 894E                   M           BT      SPD_STEP_CHGFWD_EXT
13651 00001EAE C802              4785             TST     #BIT1,R0                        ;
13652                            4786             TST_BIT_ON SPD_STEP_CHGFWD_100          ;逆転方向 THEN JUMP
13653 00001EB0 8B1E                   M           BF      SPD_STEP_CHGFWD_100
13654                            4787     ;       ===== 正転方向 =======
13655                            4788             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;(ｲｺｰﾙでは切り替え
                                          ない)
13656 00001EB2 0008                   M           CLRT
13657 00001EB4 326A                   M           SUBC    R6,R2
13658 00001EB6 315A                   M           SUBC    R5,R1
13659 00001EB8 4111              4789             CMP/PZ  R1                              ;
13660 00001EBA 8B1E              4790             BF      SPD_STEP_CHGFWD_200             ;"-":超えた
13661                            4791     
13662                            4792     ;       ====== 2013-04-14 反転手前処理[反転手前で止めるため、その区間に停止がある場合の処
                                          理]======
13663 00001EBC D109              4793             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13664 00001EBE 6011              4794             MOV.W   @R1,R0                                  ;
13665 00001EC0 C805              4795             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
13666                            4796             TST_BIT_ON SPD_STEP_CHGFWD_090                  ;
13667 00001EC2 8B13                   M           BF      SPD_STEP_CHGFWD_090
13668                            4797     
13669                            4798             FAR_JSR #_REV_BEFORE_CHGKOUTEICHK,R0            ;反転
13670 00001EC4 D008                   M           MOV.L   #_REV_BEFORE_CHGKOUTEICHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13671 00001EC6 400B                   M           JSR     @R0                     ;
13672 00001EC8 0009                   M           NOP                                     ;
13673 00001ECA 2008              4799             TST     R0,R0                                   ;
13674                            4800             TST_BIT_OF SPD_STEP_CHGFWD_090                  ;
13675 00001ECC 890E                   M           BT      SPD_STEP_CHGFWD_090
13676 00001ECE 6923              4801             MOV     R2,R9                                   ;行程
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   135
PROGRAM NAME =

13677                            4802             M_BRA   SPD_STEP_CHGFWD_202                     ;2013-04-14追加
13678 00001ED0 A014                   M           BRA     SPD_STEP_CHGFWD_202
13679 00001ED2 0009                   M           NOP
13680                            4803     
13681                                     ***** BEGIN-POOL *****
13682 00001ED4 00000000                   DATA FOR SOURCE-LINE 4765
13683 00001ED8 00000000                   DATA FOR SOURCE-LINE 4772
13684 00001EDC 00000000                   DATA FOR SOURCE-LINE 4777
13685 00001EE0 00000000                   DATA FOR SOURCE-LINE 4781
13686 00001EE4 00000000                   DATA FOR SOURCE-LINE 4793
13687 00001EE8 00000000                   DATA FOR SOURCE-LINE 4798
13688                                     ***** END-POOL *****
13689 00001EEC                   4804     SPD_STEP_CHGFWD_090:
13690                            4805             M_BRA   SPD_STEP_CHGFWD_EXT             ;SV-PV >=0 EXIT (SV >= PV)
13691 00001EEC A02E                   M           BRA     SPD_STEP_CHGFWD_EXT
13692 00001EEE 0009                   M           NOP
13693                            4806     
13694                            4807     
13695 00001EF0                   4808     SPD_STEP_CHGFWD_100:
13696                            4809     ;       ===== 逆転方向 =======
13697                            4810             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;(ｲｺｰﾙでは切り替え
                                          ない)
13698 00001EF0 0008                   M           CLRT
13699 00001EF2 362A                   M           SUBC    R2,R6
13700 00001EF4 351A                   M           SUBC    R1,R5
13701 00001EF6 4511              4811             CMP/PZ  R5                              ;
13702 00001EF8 8928              4812             BT      SPD_STEP_CHGFWD_EXT             ;PV-SV >=0 EXIT (PV >= SV)
13703 00001EFA                   4813     SPD_STEP_CHGFWD_200:
13704 00001EFA 7901              4814             ADD     #1,R9                           ;NEXT STEP SET
13705                            4815     
13706 00001EFC                   4816     SPD_STEP_CHGFWD_202:                            ;2013-04-14追加
13707 00001EFC D105              4817             MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
13708 00001EFE 6211              4818             MOV.W   @R1,R2                          ;
13709 00001F00 7201              4819             ADD     #1,R2                           ;
13710 00001F02 3292              4820             CMP/HS  R9,R2                           ;STEP+1=<MAX
13711 00001F04 890A              4821             BT      SPD_STEP_CHGFWD_250             ;
13712                            4822     
13713                            4823     ;       === 何の意味のチェックだろう？最大工程＋１＜管理ステップの意味？
13714                            4824             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT3,WKREG=R3      ;
13715 00001F06 D304                   M           MOV.L   #_POSLSI_CHK_STS,R3             ;
13716 00001F08 6031                   M           MOV.W   @R3,R0          ;
13717 00001F0A CB08                   M           OR      #BIT3,R0                ;
13718 00001F0C 2301                   M           MOV.W   R0,@R3          ;
13719                            4825             M_BRA   SPD_STEP_CHGFWD_EXT                                             ;
13720 00001F0E A01D                   M           BRA     SPD_STEP_CHGFWD_EXT
13721 00001F10 0009                   M           NOP
13722                            4826     
13723                                     ***** BEGIN-POOL *****
13724 00001F12 0000                       ALIGNMENT CODE
13725 00001F14 00000000                   DATA FOR SOURCE-LINE 4817
13726 00001F18 00000000                   DATA FOR SOURCE-LINE 4824
13727                                     ***** END-POOL *****
13728 00001F1C                   4827     SPD_STEP_CHGFWD_250:                            ;
13729 00001F1C 2B91              4828             MOV.W   R9,@R11                         ;ﾀｲﾏLOAD
13730                            4829     ;       ==========================================
13731                            4830     ;       =================================================
13732 00001F1E D00D              4831             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   136
PROGRAM NAME =

13733 00001F20 2091              4832             MOV.W   R9,@R0                  ;
13734                            4833     ;       ================================================
13735 00001F22 79FF              4834             ADD     #-1,R9                          ;
13736 00001F24 4908              4835             SHLL2   R9                              ;
13737 00001F26 D00C              4836             MOV.L   #_CPOS_SDAT1_SPD,R0             ;
13738 00001F28 029E              4837             MOV.L   @(R0,R9),R2                     ;
13739 00001F2A D10C              4838             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13740 00001F2C 2122              4839             MOV.L   R2,@R1                          ;
13741                            4840             FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1     ;
13742 00001F2E D10C                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13743 00001F30 410B                   M           JSR     @R1                     ;
13744 00001F32 0009                   M           NOP                                     ;
13745                            4841     
13746                            4842     
13747                            4843     ;       =======================================
13748 00001F34 D10B              4844             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
13749 00001F36 200A              4845             XOR     R0,R0                           ;
13750 00001F38 2101              4846             MOV.W   R0,@R1                          ;
13751                            4847     ;       =========================================
13752                            4848             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_END,R0
13753 00001F3A D00B                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_END,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13754 00001F3C 400B                   M           JSR     @R0                     ;
13755 00001F3E 0009                   M           NOP                                     ;
13756                            4849             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0
13757 00001F40 D00A                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13758 00001F42 400B                   M           JSR     @R0                     ;
13759 00001F44 0009                   M           NOP                                     ;
13760                            4850     
13761                            4851             .AIF    1 EQ    0
13762                            4852             .AELSE
13763                            4853 C           FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
13764 00001F46 D00A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13765 00001F48 400B                   M           JSR     @R0                     ;
13766 00001F4A 0009                   M           NOP                                     ;
13767                            4854             .AENDI
13768                            4855     
13769                            4856     
13770 00001F4C                   4857     SPD_STEP_CHGFWD_EXT:
13771                            4858             SUB_END
13772                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13773 00001F4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13774                            4859             M_RTS
13775 00001F4E 000B                   M           RTS                             ;RTSの後ろの
13776 00001F50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13777                            4860     
13778                            4861     
13779                            4862     
13780                            4863     
13781                            4864     ;       === 2004-01-26 連続寸動一工程　===
13782                            4865     ;       == _CCS_STEP_NEXT_CHK ===
13783                            4866     ;;;;;;;;;;;;;;不要ですね20060930        .INCLUDE        "ssa_ccss.inc"          ; //
13784                            4867     
13785                            4868     
13786                            4869     ;       *******************************************
13787                            4870     ;       ***                                     ***
13788                            4871     ;       ***             段取/待機点復帰         ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   137
PROGRAM NAME =

13789                            4872     ;       ***                                     ***
13790                            4873     ;       *******************************************
13791                                     ***** BEGIN-POOL *****
13792 00001F52 0000                       ALIGNMENT CODE
13793 00001F54 00000000                   DATA FOR SOURCE-LINE 4831
13794 00001F58 00000000                   DATA FOR SOURCE-LINE 4836
13795 00001F5C 00000000                   DATA FOR SOURCE-LINE 4838
13796 00001F60 00000000                   DATA FOR SOURCE-LINE 4840
13797 00001F64 00000000                   DATA FOR SOURCE-LINE 4844
13798 00001F68 00000000                   DATA FOR SOURCE-LINE 4848
13799 00001F6C 00000000                   DATA FOR SOURCE-LINE 4849
13800 00001F70 00000000                   DATA FOR SOURCE-LINE 4853
13801                                     ***** END-POOL *****
13802          000001F4          4874     _EQ_STOP_START_WAIT_ORG         .EQU    D'500   ;100mec(3000sec)
13803          00000064          4875     _EQ_STOP_START_WAIT_DND         .EQU    D'100   ;
13804                            4876     ;
13805                            4877     ;       ==============
13806 00001F74                   4878             .ALIGN  4                               ;
13807 00001F74                   4879     _DND_ALL_STEP_CTRL:
13808                            4880             SUB_START
13809 00001F74 4F22                   M           STS.L   PR,@-R15                ;[必要]
13810                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13811 00001F76 D106              4881             MOV.L   #_MODE_SEL,R1                   ;
13812 00001F78 6011              4882             MOV.W   @R1,R0                          ;
13813 00001F7A C840              4883             TST     #_W1DUP,R0              ;
13814                            4884             TST_BIT_ON DND_ALLSTEPCTL_020   ;原点復帰
13815 00001F7C 8B24                   M           BF      DND_ALLSTEPCTL_020
13816                            4885     
13817                            4886     ;       ------ 2006-07-28 -----
13818 00001F7E D105              4887             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
13819 00001F80 6011              4888             MOV.W   @R1,R0                          ;
13820 00001F82 2008              4889             TST     R0,R0                           ;
13821                            4890             TST_BIT_OF DND_ALLSTEPCTL_005           ;
13822 00001F84 890A                   M           BT      DND_ALLSTEPCTL_005
13823                            4891             FAR_JSR #_DND_TEP_STEP_CTRL,R0          ;
13824 00001F86 D004                   M           MOV.L   #_DND_TEP_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13825 00001F88 400B                   M           JSR     @R0                     ;
13826 00001F8A 0009                   M           NOP                                     ;
13827                            4892             M_BRA   DND_ALLSTEPCTL_900              ;
13828 00001F8C A17D                   M           BRA     DND_ALLSTEPCTL_900
13829 00001F8E 0009                   M           NOP
13830                            4893     
13831                                     ***** BEGIN-POOL *****
13832 00001F90 00000000                   DATA FOR SOURCE-LINE 4881
13833 00001F94 00000000                   DATA FOR SOURCE-LINE 4887
13834 00001F98 00000000                   DATA FOR SOURCE-LINE 4891
13835                                     ***** END-POOL *****
13836 00001F9C                   4894     DND_ALLSTEPCTL_005:
13837                            4895     
13838 00001F9C D104              4896             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
13839 00001F9E 6011              4897             MOV.W   @R1,R0                          ;
13840 00001FA0 C802              4898             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
13841                            4899             TST_BIT_OF DND_ALLSTEPCTL_010           ;
13842 00001FA2 8909                   M           BT      DND_ALLSTEPCTL_010
13843                            4900     
13844                            4901     ;       ==== 反転段取寸動========
13845                            4902             FAR_JSR #_DND_NEG_STEP_CTRL,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   138
PROGRAM NAME =

13846 00001FA4 D003                   M           MOV.L   #_DND_NEG_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13847 00001FA6 400B                   M           JSR     @R0                     ;
13848 00001FA8 0009                   M           NOP                                     ;
13849                            4903             M_BRA   DND_ALLSTEPCTL_900
13850 00001FAA A16E                   M           BRA     DND_ALLSTEPCTL_900
13851 00001FAC 0009                   M           NOP
13852                            4904     
13853                                     ***** BEGIN-POOL *****
13854 00001FAE 0000                       ALIGNMENT CODE
13855 00001FB0 00000000                   DATA FOR SOURCE-LINE 4896
13856 00001FB4 00000000                   DATA FOR SOURCE-LINE 4902
13857                                     ***** END-POOL *****
13858 00001FB8                   4905     DND_ALLSTEPCTL_010:
13859                            4906             FAR_JSR #_DND_ROT_STEP_CTRL,R0          ;[]
13860 00001FB8 D002                   M           MOV.L   #_DND_ROT_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13861 00001FBA 400B                   M           JSR     @R0                     ;
13862 00001FBC 0009                   M           NOP                                     ;
13863                            4907             M_BRA   DND_ALLSTEPCTL_900
13864 00001FBE A164                   M           BRA     DND_ALLSTEPCTL_900
13865 00001FC0 0009                   M           NOP
13866                            4908     
13867                            4909     ;       ================================
13868                            4910     ;       ======== 待機点復帰 ============
13869                            4911     ;       ================================
13870                                     ***** BEGIN-POOL *****
13871 00001FC2 0000                       ALIGNMENT CODE
13872 00001FC4 00000000                   DATA FOR SOURCE-LINE 4906
13873                                     ***** END-POOL *****
13874 00001FC8                   4912     DND_ALLSTEPCTL_020:
13875 00001FC8 D102              4913             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13876 00001FCA 6011              4914             MOV.W   @R1,R0                          ;BIT
13877 00001FCC C840              4915             TST     #BIT6,R0                        ;
13878                            4916             TST_BIT_OF DND_ALLSTEPCTL_050           ;
13879 00001FCE 8903                   M           BT      DND_ALLSTEPCTL_050
13880                            4917             M_BRA   DND_ALLSTEPCTL_900              ;位置決め完了
13881 00001FD0 A15B                   M           BRA     DND_ALLSTEPCTL_900
13882 00001FD2 0009                   M           NOP
13883                            4918     
13884                                     ***** BEGIN-POOL *****
13885 00001FD4 00000000                   DATA FOR SOURCE-LINE 4913
13886                                     ***** END-POOL *****
13887 00001FD8                   4919     DND_ALLSTEPCTL_050:
13888                            4920     ;       ===== 2004-05-23 =======
13889                            4921             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST2,R0     ;.BIT1
13890 00001FD8 D008                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13891 00001FDA 400B                   M           JSR     @R0                     ;
13892 00001FDC 0009                   M           NOP                                     ;
13893                            4922     ;       ========================
13894                            4923     
13895                            4924     
13896 00001FDE D108              4925             MOV.L   #_INT_DND_CTL_STEP,R1           ;
13897 00001FE0 6011              4926             MOV.W   @R1,R0                          ;
13898 00001FE2 C802              4927             TST     #BIT1,R0
13899                            4928             TST_BIT_ON DND_ALLSTEPCTL_060           ;第３工程中　EXIT
13900 00001FE4 8B04                   M           BF      DND_ALLSTEPCTL_060
13901 00001FE6 C801              4929             TST     #BIT0,R0                        ;
13902                            4930             TST_BIT_OF DND_ALLSTEPCTL_060           ;第２工程前
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   139
PROGRAM NAME =

13903 00001FE8 8902                   M           BT      DND_ALLSTEPCTL_060
13904                            4931             FAR_JSR #_ORGIN_MODE_SMP,R0             ;SMPLING
13905 00001FEA D006                   M           MOV.L   #_ORGIN_MODE_SMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13906 00001FEC 400B                   M           JSR     @R0                     ;
13907 00001FEE 0009                   M           NOP                                     ;
13908 00001FF0                   4932     DND_ALLSTEPCTL_060:                             ;
13909                            4933     
13910 00001FF0 D105              4934             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13911 00001FF2 6011              4935             MOV.W   @R1,R0                          ;BIT
13912 00001FF4 C803              4936             TST     #(BIT1+BIT0),R0                 ;
13913                            4937             TST_BIT_OF DND_ALLSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13914 00001FF6 8909                   M           BT      DND_ALLSTEPCTL_100
13915                            4938             M_BRA   DND_ALLSTEPCTL_300              ;BIT1:次の回転起動
13916 00001FF8 A024                   M           BRA     DND_ALLSTEPCTL_300
13917 00001FFA 0009                   M           NOP
13918                            4939     
13919                                     ***** BEGIN-POOL *****
13920 00001FFC 00000000                   DATA FOR SOURCE-LINE 4921
13921 00002000 00000000                   DATA FOR SOURCE-LINE 4925
13922 00002004 00000000                   DATA FOR SOURCE-LINE 4931
13923 00002008 00000000                   DATA FOR SOURCE-LINE 4934
13924                                     ***** END-POOL *****
13925 0000200C                   4940     DND_ALLSTEPCTL_100:
13926                            4941             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
13927 0000200C D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13928 0000200E 410B                   M           JSR     @R1                     ;
13929 00002010 0009                   M           NOP                                     ;
13930 00002012 C804              4942             TST     #BIT2,R0                        ;停止?
13931                            4943             TST_BIT_ON DND_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13932 00002014 8B08                   M           BF      DND_ALLSTEPCTL_200
13933                            4944             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13934 00002016 D003                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13935 00002018 400B                   M           JSR     @R0                     ;
13936 0000201A 0009                   M           NOP                                     ;
13937                            4945             M_BRA   DND_ALLSTEPCTL_900              ;
13938 0000201C A135                   M           BRA     DND_ALLSTEPCTL_900
13939 0000201E 0009                   M           NOP
13940                            4946     
13941                            4947     
13942                            4948     ;       ====== 停止 =====
13943                            4949             .IMPORT _PAR_START_WAIT_DND                     ;段取時切替WAIT時間
13944                                     ***** BEGIN-POOL *****
13945 00002020 00000000                   DATA FOR SOURCE-LINE 4941
13946 00002024 00000000                   DATA FOR SOURCE-LINE 4944
13947                                     ***** END-POOL *****
13948 00002028                   4950     DND_ALLSTEPCTL_200:
13949 00002028 9107              4951             MOV.W   #_EQ_STOP_START_WAIT_ORG,R1             ;段取時切替WAIT時間
13950 0000202A D404              4952             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13951 0000202C 2412              4953             MOV.L   R1,@R4                  ;
13952                            4954     
13953                            4955             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1
13954 0000202E D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13955 00002030 6011                   M           MOV.W   @R1,R0          ;
13956 00002032 CB01                   M           OR      #BIT0,R0                ;
13957 00002034 2101                   M           MOV.W   R0,@R1          ;
13958                            4956             M_BRA   DND_ALLSTEPCTL_900      ;
13959 00002036 A128                   M           BRA     DND_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   140
PROGRAM NAME =

13960 00002038 0009                   M           NOP
13961                            4957     
13962                                     ***** BEGIN-POOL *****
13963 0000203A 01F4                       DATA FOR SOURCE-LINE 4951
13964 0000203C 00000000                   DATA FOR SOURCE-LINE 4952
13965 00002040 00000000                   DATA FOR SOURCE-LINE 4955
13966                                     ***** END-POOL *****
13967 00002044                   4958     DND_ALLSTEPCTL_300:
13968 00002044 C802              4959             TST     #BIT1,R0                ;
13969                            4960             TST_BIT_ON DND_ALLSTEPCTL_400   ;
13970 00002046 8B13                   M           BF      DND_ALLSTEPCTL_400
13971                            4961     
13972                            4962             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13973 00002048 D107                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13974 0000204A 6412                   M           MOV.L   @R1,R4          ;
13975 0000204C 2448                   M           TST     R4,R4                   ;
13976 0000204E 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
13977 00002050 4410                   M           DT      R4                              ;
13978 00002052 2142                   M           MOV.L   R4,@R1          ;STORE
13979 00002054                        M   JMP_0100005:
13980 00002054 D404              4963             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13981 00002056 6142              4964             MOV.L   @R4,R1                  ;
13982 00002058 2118              4965             TST     R1,R1                   ;
13983                            4966             TST_BIT_ON DND_ALLSTEPCTL_320   ;DND_ALLSTEPCTL_900     ;
13984 0000205A 8B03                   M           BF      DND_ALLSTEPCTL_320
13985                            4967             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13986 0000205C D103                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13987 0000205E 6011                   M           MOV.W   @R1,R0          ;
13988 00002060 CB02                   M           OR      #BIT1,R0                ;
13989 00002062 2101                   M           MOV.W   R0,@R1          ;
13990 00002064                   4968     DND_ALLSTEPCTL_320:
13991                            4969             M_BRA   DND_ALLSTEPCTL_900      ;
13992 00002064 A111                   M           BRA     DND_ALLSTEPCTL_900
13993 00002066 0009                   M           NOP
13994                            4970     
13995                            4971     
13996                            4972     ;       ======= 次の起動の演算または終了の判断=====
13997                                     ***** BEGIN-POOL *****
13998 00002068 00000000                   DATA FOR SOURCE-LINE 4962,4963
13999 0000206C 00000000                   DATA FOR SOURCE-LINE 4967
14000                                     ***** END-POOL *****
14001 00002070                   4973     DND_ALLSTEPCTL_400:
14002 00002070 D502              4974             MOV.L   #_INT_DND_CTL_STEP,R5   ;
14003 00002072 6051              4975             MOV.W   @R5,R0                  ;
14004 00002074 C802              4976             TST     #BIT1,R0                ;BIT0=1 FIRST END BIT1=1 SECOND END
14005                            4977             TST_BIT_OF DND_ALLSTEPCTL_420   ;
14006 00002076 8903                   M           BT      DND_ALLSTEPCTL_420
14007                            4978             M_BRA   DND_ALLSTEPCTL_600      ;YES 最終工程だった JUMP
14008 00002078 A0F6                   M           BRA     DND_ALLSTEPCTL_600
14009 0000207A 0009                   M           NOP
14010                                     ***** BEGIN-POOL *****
14011 0000207C 00000000                   DATA FOR SOURCE-LINE 4974
14012                                     ***** END-POOL *****
14013 00002080                   4979     DND_ALLSTEPCTL_420:
14014                            4980     
14015                            4981     
14016 00002080 C801              4982             TST     #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   141
PROGRAM NAME =

14017                            4983             TST_BIT_OF DND_ALLSTEPCTL_425           ;
14018 00002082 8901                   M           BT      DND_ALLSTEPCTL_425
14019                            4984             M_BRA   DND_ALLSTEPCTL_500              ;
14020 00002084 A0A0                   M           BRA     DND_ALLSTEPCTL_500
14021 00002086 0009                   M           NOP
14022 00002088                   4985     DND_ALLSTEPCTL_425:
14023                            4986     
14024                            4987     ;       ===========================
14025                            4988     ;       ===     2003-07-09      ===
14026                            4989     ;       ===========================
14027                            4990     ;       BIT0=0のままでn往復動作を行う
14028 00002088 D113              4991             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
14029 0000208A 6011              4992             MOV.W   @R1,R0                          ;
14030 0000208C 2008              4993             TST     R0,R0                           ;
14031                            4994             TST_BIT_OF DND_ALLSTEPCTL_450           ;(今までのｿﾌﾄを流す)
14032 0000208E 8975                   M           BT      DND_ALLSTEPCTL_450
14033                            4995     ;
14034                            4996     ;       == _ORG_RDY_CTL_FLG BIT0 を使用する ===
14035 00002090 D512              4997             MOV.L   #_ORG_RDY_CTL_FLG,R5            ;[2工程/3工程の切り替えﾌﾗｸﾞ]
14036 00002092 6051              4998             MOV.W   @R5,R0                          ;
14037 00002094 C801              4999             TST     #BIT0,R0                        ;
14038                            5000             TST_BIT_ON DND_ORGIN_STEP_050           ;
14039 00002096 8B35                   M           BF      DND_ORGIN_STEP_050
14040 00002098 CB01              5001             OR      #BIT0,R0                        ;
14041 0000209A 2501              5002             MOV.W   R0,@R5                          ;
14042                            5003     
14043                            5004     ;       ===== 第２工程開始(補正なし "+") ======
14044                            5005     ;       ======== 20060919 ======================
14045                            5006     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
14046                            5007             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
14047 0000209C D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14048 0000209E 400B                   M           JSR     @R0                     ;
14049 000020A0 0009                   M           NOP                                     ;
14050                            5008     ;       =======================================
14051                            5009             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
14052 000020A2 D010                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14053 000020A4 400B                   M           JSR     @R0                     ;
14054 000020A6 0009                   M           NOP                                     ;
14055                            5010             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;ANS R2
14056 000020A8 D00F                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14057 000020AA 400B                   M           JSR     @R0                     ;
14058 000020AC 0009                   M           NOP                                     ;
14059                            5011             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14060 000020AE D10F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14061 000020B0 410B                   M           JSR     @R1                     ;
14062 000020B2 0009                   M           NOP                                     ;
14063                            5012     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
14064 000020B4 D50E              5013             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14065 000020B6 6152              5014             MOV.L   @R5,R1                          ;
14066 000020B8 5251              5015             MOV.L   @(4,R5),R2                      ;
14067                            5016             FAR_JSR #_LENGH_ADD_CALC,R0             ;
14068 000020BA D00E                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14069 000020BC 400B                   M           JSR     @R0                     ;
14070 000020BE 0009                   M           NOP                                     ;
14071                            5017             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14072 000020C0 D00D                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   142
PROGRAM NAME =

14073 000020C2 400B                   M           JSR     @R0                     ;
14074 000020C4 0009                   M           NOP                                     ;
14075                            5018             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14076 000020C6 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14077 000020C8 400B                   M           JSR     @R0                     ;
14078 000020CA 0009                   M           NOP                                     ;
14079                            5019             FAR_JSR #_FWD_REV_START,R1              ;起動
14080 000020CC D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14081 000020CE 410B                   M           JSR     @R1                     ;
14082 000020D0 0009                   M           NOP                                     ;
14083                            5020             M_BRA   DND_ORGIN_STEP_100              ;
14084 000020D2 A038                   M           BRA     DND_ORGIN_STEP_100
14085 000020D4 0009                   M           NOP
14086                            5021     
14087                                     ***** BEGIN-POOL *****
14088 000020D6 0000                       ALIGNMENT CODE
14089 000020D8 00000000                   DATA FOR SOURCE-LINE 4991
14090 000020DC 00000000                   DATA FOR SOURCE-LINE 4997
14091 000020E0 00000000                   DATA FOR SOURCE-LINE 5007
14092 000020E4 00000000                   DATA FOR SOURCE-LINE 5009
14093 000020E8 00000000                   DATA FOR SOURCE-LINE 5010
14094 000020EC 00000000                   DATA FOR SOURCE-LINE 5011
14095 000020F0 00000000                   DATA FOR SOURCE-LINE 5013
14096 000020F4 00000000                   DATA FOR SOURCE-LINE 5016
14097 000020F8 00000000                   DATA FOR SOURCE-LINE 5017
14098 000020FC 00000000                   DATA FOR SOURCE-LINE 5018
14099 00002100 00000000                   DATA FOR SOURCE-LINE 5019
14100                                     ***** END-POOL *****
14101 00002104                   5022     DND_ORGIN_STEP_050:
14102 00002104 C9FE              5023             AND     #LOW ~BIT0,R0                   ;
14103 00002106 2501              5024             MOV.W   R0,@R5                          ;BIT0 CLR
14104                            5025     ;       ===== 第3工程開始(補正なし "-") ======
14105                            5026     ;       ======== 20060919 ======================
14106                            5027     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
14107                            5028             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
14108 00002108 D011                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14109 0000210A 400B                   M           JSR     @R0                     ;
14110 0000210C 0009                   M           NOP                                     ;
14111                            5029     ;       =======================================
14112                            5030             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R0       ;
14113 0000210E D011                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14114 00002110 400B                   M           JSR     @R0                     ;
14115 00002112 0009                   M           NOP                                     ;
14116                            5031             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
14117 00002114 D010                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14118 00002116 400B                   M           JSR     @R0                     ;
14119 00002118 0009                   M           NOP                                     ;
14120                            5032             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14121 0000211A D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14122 0000211C 410B                   M           JSR     @R1                     ;
14123 0000211E 0009                   M           NOP                                     ;
14124                            5033     
14125                            5034     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
14126 00002120 D50F              5035             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14127 00002122 6152              5036             MOV.L   @R5,R1                          ;
14128 00002124 5251              5037             MOV.L   @(4,R5),R2                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   143
PROGRAM NAME =

14129                            5038             FAR_JSR #_LENGH_ADD_CALC,R0             ;
14130 00002126 D00F                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14131 00002128 400B                   M           JSR     @R0                     ;
14132 0000212A 0009                   M           NOP                                     ;
14133                            5039             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14134 0000212C D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14135 0000212E 400B                   M           JSR     @R0                     ;
14136 00002130 0009                   M           NOP                                     ;
14137                            5040             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14138 00002132 D00E                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14139 00002134 400B                   M           JSR     @R0                     ;
14140 00002136 0009                   M           NOP                                     ;
14141                            5041             FAR_JSR #_FWD_REV_START,R1              ;起動
14142 00002138 D10D                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14143 0000213A 410B                   M           JSR     @R1                     ;
14144 0000213C 0009                   M           NOP                                     ;
14145                            5042     
14146 0000213E D10D              5043             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
14147 00002140 6011              5044             MOV.W   @R1,R0                          ;
14148 00002142 70FF              5045             ADD     #-1,R0                          ;
14149 00002144 2101              5046             MOV.W   R0,@R1                          ;
14150 00002146                   5047     DND_ORGIN_STEP_100:
14151 00002146 200A              5048             XOR     R0,R0                           ;
14152 00002148 D10B              5049             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14153 0000214A 2101              5050             MOV.W   R0,@R1                          ;Q
14154                            5051     
14155                            5052             M_BRA   DND_ALLSTEPCTL_900              ;
14156 0000214C A09D                   M           BRA     DND_ALLSTEPCTL_900
14157 0000214E 0009                   M           NOP
14158                            5053     
14159                            5054     
14160                            5055     ;       ===== 通常の最後の原点復帰（最終回数目）====
14161                                     ***** BEGIN-POOL *****
14162 00002150 00000000                   DATA FOR SOURCE-LINE 5028
14163 00002154 00000000                   DATA FOR SOURCE-LINE 5030
14164 00002158 00000000                   DATA FOR SOURCE-LINE 5031
14165 0000215C 00000000                   DATA FOR SOURCE-LINE 5032
14166 00002160 00000000                   DATA FOR SOURCE-LINE 5035
14167 00002164 00000000                   DATA FOR SOURCE-LINE 5038
14168 00002168 00000000                   DATA FOR SOURCE-LINE 5039
14169 0000216C 00000000                   DATA FOR SOURCE-LINE 5040
14170 00002170 00000000                   DATA FOR SOURCE-LINE 5041
14171 00002174 00000000                   DATA FOR SOURCE-LINE 5043
14172 00002178 00000000                   DATA FOR SOURCE-LINE 5049
14173                                     ***** END-POOL *****
14174 0000217C                   5056     DND_ALLSTEPCTL_450:
14175                            5057     ;       ===== 第２工程開始(補正開始) ======
14176                            5058             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
14177 0000217C D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14178 0000217E 400B                   M           JSR     @R0                     ;
14179 00002180 0009                   M           NOP                                     ;
14180                            5059             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
14181 00002182 D00B                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14182 00002184 400B                   M           JSR     @R0                     ;
14183 00002186 0009                   M           NOP                                     ;
14184                            5060             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;
14185 00002188 D00A                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   144
PROGRAM NAME =

14186 0000218A 400B                   M           JSR     @R0                     ;
14187 0000218C 0009                   M           NOP                                     ;
14188                            5061             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14189 0000218E D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14190 00002190 410B                   M           JSR     @R1                     ;
14191 00002192 0009                   M           NOP                                     ;
14192                            5062     
14193                            5063             FAR_JSR #_ORGIN_MODE_INI,R0     ;
14194 00002194 D009                   M           MOV.L   #_ORGIN_MODE_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14195 00002196 400B                   M           JSR     @R0                     ;
14196 00002198 0009                   M           NOP                                     ;
14197 0000219A D509              5064             MOV.L   #_INT_DND_CTL_STEP,R5   ;
14198 0000219C 6051              5065             MOV.W   @R5,R0                  ;
14199 0000219E CB01              5066             OR      #BIT0,R0                ;
14200 000021A0 2501              5067             MOV.W   R0,@R5                  ;
14201                            5068     
14202                            5069     ;       ======= 原点出し時のｲﾝﾀｰﾛｯｸ =======
14203 000021A2 200A              5070             XOR     R0,R0                           ;
14204 000021A4 D107              5071             MOV.L   #_RST_ERR_CHK_FLG,R1            ;[ｲﾆｼｬﾙを異常側で再演算する]
14205 000021A6 2101              5072             MOV.W   R0,@R1                          ;
14206                            5073             M_BRA   DND_ALLSTEPCTL_580              ;
14207 000021A8 A024                   M           BRA     DND_ALLSTEPCTL_580
14208 000021AA 0009                   M           NOP
14209                            5074     
14210                                     ***** BEGIN-POOL *****
14211 000021AC 00000000                   DATA FOR SOURCE-LINE 5058
14212 000021B0 00000000                   DATA FOR SOURCE-LINE 5059
14213 000021B4 00000000                   DATA FOR SOURCE-LINE 5060
14214 000021B8 00000000                   DATA FOR SOURCE-LINE 5061
14215 000021BC 00000000                   DATA FOR SOURCE-LINE 5063
14216 000021C0 00000000                   DATA FOR SOURCE-LINE 5064
14217 000021C4 00000000                   DATA FOR SOURCE-LINE 5071
14218                                     ***** END-POOL *****
14219 000021C8                   5075     DND_ALLSTEPCTL_500:
14220                            5076     ;       ===== 第2工程終了（サーチ作業完了） ======
14221                            5077             FAR_JSR #_ORGIN_MODE_END,R0             ;
14222 000021C8 D018                   M           MOV.L   #_ORGIN_MODE_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14223 000021CA 400B                   M           JSR     @R0                     ;
14224 000021CC 0009                   M           NOP                                     ;
14225                            5078             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
14226 000021CE D018                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14227 000021D0 400B                   M           JSR     @R0                     ;
14228 000021D2 0009                   M           NOP                                     ;
14229                            5079             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;(待機点への移動)
14230 000021D4 D017                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14231 000021D6 400B                   M           JSR     @R0                     ;
14232 000021D8 0009                   M           NOP                                     ;
14233                            5080     
14234                            5081             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
14235 000021DA D017                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14236 000021DC 400B                   M           JSR     @R0                     ;
14237 000021DE 0009                   M           NOP                                     ;
14238                            5082             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14239 000021E0 D116                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14240 000021E2 410B                   M           JSR     @R1                     ;
14241 000021E4 0009                   M           NOP                                     ;
14242                            5083     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   145
PROGRAM NAME =

14243                            5084     ;;;2003-07-14   FAR_JSR #_DNDUPS_SPD_SET,R0     ;
14244                            5085     ;       ===== 第３工程開始 ======
14245 000021E6 D516              5086             MOV.L   #_INT_DND_CTL_STEP,R5           ;
14246 000021E8 6051              5087             MOV.W   @R5,R0                          ;
14247 000021EA CB02              5088             OR      #BIT1,R0                        ;
14248 000021EC 2501              5089             MOV.W   R0,@R5                          ;
14249                            5090     
14250                            5091     
14251                            5092             FAR_JSR #_DNDUPS_SPD_SET,R0             ;2011-03-22[最後の目標位置へは上昇復帰速度
                                          ]
14252 000021EE D015                   M           MOV.L   #_DNDUPS_SPD_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14253 000021F0 400B                   M           JSR     @R0                     ;
14254 000021F2 0009                   M           NOP                                     ;
14255                            5093     
14256                            5094     
14257 000021F4                   5095     DND_ALLSTEPCTL_580:
14258 000021F4 D114              5096             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
14259 000021F6 6212              5097             MOV.L   @R1,R2                          ;
14260                            5098             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
14261 000021F8 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14262 000021FA 410B                   M           JSR     @R1                     ;
14263 000021FC 0009                   M           NOP                                     ;
14264                            5099     
14265 000021FE D513              5100             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14266 00002200 6152              5101             MOV.L   @R5,R1                          ;
14267 00002202 5251              5102             MOV.L   @(4,R5),R2                      ;
14268                            5103             FAR_JSR #_LENGH_ADD_CALC,R0             ;Input R1,R2
14269 00002204 D012                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14270 00002206 400B                   M           JSR     @R0                     ;
14271 00002208 0009                   M           NOP                                     ;
14272                            5104             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14273 0000220A D012                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14274 0000220C 400B                   M           JSR     @R0                     ;
14275 0000220E 0009                   M           NOP                                     ;
14276                            5105             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14277 00002210 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14278 00002212 400B                   M           JSR     @R0                     ;
14279 00002214 0009                   M           NOP                                     ;
14280                            5106             FAR_JSR #_FWD_REV_START,R1              ;起動
14281 00002216 D111                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14282 00002218 410B                   M           JSR     @R1                     ;
14283 0000221A 0009                   M           NOP                                     ;
14284                            5107     
14285                            5108             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
14286 0000221C D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14287 0000221E 400B                   M           JSR     @R0                     ;
14288 00002220 0009                   M           NOP                                     ;
14289                            5109     
14290 00002222 200A              5110             XOR     R0,R0                           ;
14291 00002224 D10F              5111             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14292 00002226 2101              5112             MOV.W   R0,@R1                          ;Q
14293                            5113             M_BRA   DND_ALLSTEPCTL_900              ;
14294 00002228 A02F                   M           BRA     DND_ALLSTEPCTL_900
14295 0000222A 0009                   M           NOP
14296                            5114     
14297                                     ***** BEGIN-POOL *****
14298 0000222C 00000000                   DATA FOR SOURCE-LINE 5077
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   146
PROGRAM NAME =

14299 00002230 00000000                   DATA FOR SOURCE-LINE 5078
14300 00002234 00000000                   DATA FOR SOURCE-LINE 5079
14301 00002238 00000000                   DATA FOR SOURCE-LINE 5081
14302 0000223C 00000000                   DATA FOR SOURCE-LINE 5082,5098
14303 00002240 00000000                   DATA FOR SOURCE-LINE 5086
14304 00002244 00000000                   DATA FOR SOURCE-LINE 5092
14305 00002248 00000000                   DATA FOR SOURCE-LINE 5096
14306 0000224C 00000000                   DATA FOR SOURCE-LINE 5100
14307 00002250 00000000                   DATA FOR SOURCE-LINE 5103
14308 00002254 00000000                   DATA FOR SOURCE-LINE 5104
14309 00002258 00000000                   DATA FOR SOURCE-LINE 5105
14310 0000225C 00000000                   DATA FOR SOURCE-LINE 5106
14311 00002260 00000000                   DATA FOR SOURCE-LINE 5108
14312 00002264 00000000                   DATA FOR SOURCE-LINE 5111
14313                                     ***** END-POOL *****
14314 00002268                   5115     DND_ALLSTEPCTL_600:
14315                            5116             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
14316 00002268 D109                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14317 0000226A 6011                   M           MOV.W   @R1,R0          ;
14318 0000226C CB40                   M           OR      #BIT6,R0                ;
14319 0000226E 2101                   M           MOV.W   R0,@R1          ;
14320                            5117     
14321                            5118     ;       == 2003-07-09 ==(_INT_DND_STEP_FLG.BIT6でも代替OK) ===
14322                            5119             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORG_RDY_CTL_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
14323 00002270 D108                   M           MOV.L   #_ORG_RDY_CTL_FLG,R1            ;
14324 00002272 6011                   M           MOV.W   @R1,R0          ;
14325 00002274 CB08                   M           OR      #BIT3,R0                ;
14326 00002276 2101                   M           MOV.W   R0,@R1          ;
14327                            5120     
14328                            5121     
14329                            5122     
14330                            5123     ;       ====2004-09-27(中型ではこれは206.4=1)====
14331                            5124             FAR_JSR #_DND_ORGIN_SIG_FORCE_ON,R0
14332 00002278 D007                   M           MOV.L   #_DND_ORGIN_SIG_FORCE_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14333 0000227A 400B                   M           JSR     @R0                     ;
14334 0000227C 0009                   M           NOP                                     ;
14335                            5125     
14336                            5126     ;       ------------2011-03-22-------
14337                            5127     ;;;;;;  FAR_JSR #_ORGIN2_MODE_END,R0
14338                            5128             FAR_JSR #_ORIGIN_POS_CHK_INI2,R0        ;待機点移動完了
14339 0000227E D007                   M           MOV.L   #_ORIGIN_POS_CHK_INI2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14340 00002280 400B                   M           JSR     @R0                     ;
14341 00002282 0009                   M           NOP                                     ;
14342                            5129     
14343                            5130     ;       --------- 2014-08-05----------
14344                            5131             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14345 00002284 D006                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14346 00002286 400B                   M           JSR     @R0                     ;
14347 00002288 0009                   M           NOP                                     ;
14348                            5132     
14349                            5133     
14350                            5134     
14351                            5135     
14352                            5136     
14353 0000228A                   5137     DND_ALLSTEPCTL_900:
14354                            5138             SUB_END
14355                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   147
PROGRAM NAME =

14356 0000228A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14357                            5139             M_RTS
14358 0000228C 000B                   M           RTS                             ;RTSの後ろの
14359 0000228E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14360                            5140     
14361                            5141     ;       ***************************************************
14362                            5142     ;       ***                                             ***
14363                            5143     ;       ***     中型の目標位置決め原点でも206.4=1にする ***
14364                            5144     ;       ***                                             ***
14365                            5145     ;       ***************************************************
14366                            5146     ;       ====2004-09-27(中型ではこれは206.4=1)====
14367                                     ***** BEGIN-POOL *****
14368 00002290 00000000                   DATA FOR SOURCE-LINE 5116
14369 00002294 00000000                   DATA FOR SOURCE-LINE 5119
14370 00002298 00000000                   DATA FOR SOURCE-LINE 5124
14371 0000229C 00000000                   DATA FOR SOURCE-LINE 5128
14372 000022A0 00000000                   DATA FOR SOURCE-LINE 5131
14373                                     ***** END-POOL *****
14374 000022A4                   5147             .ALIGN  4                               ;
14375 000022A4                   5148     _DND_ORGIN_SIG_FORCE_ON:
14376                            5149             SUB_START
14377 000022A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14378                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14379 000022A6 D00A              5150             MOV.L   #_PAR_WTSEL_USE,R0                      ;
14380 000022A8 6001              5151             MOV.W   @R0,R0                                  ;
14381 000022AA 8801              5152             CMP/EQ  #1,R0                                   ;待機点選択を中型で認識
14382 000022AC 8B0C              5153             BF      DND_ORGIN_SIG_FORON_EXT                 ;中型? NO
14383                            5154     
14384 000022AE D109              5155             MOV.L   #_MODE_SEL,R1                           ;
14385 000022B0 6011              5156             MOV.W   @R1,R0                                  ;
14386 000022B2 C840              5157             TST     #_W1DUP,R0                              ;
14387                            5158             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;原点? NO
14388 000022B4 8908                   M           BT      DND_ORGIN_SIG_FORON_EXT
14389                            5159     
14390 000022B6 D108              5160             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1                  ;
14391 000022B8 6011              5161             MOV.W   @R1,R0                                  ;
14392 000022BA C801              5162             TST     #BIT0,R0                                ;
14393                            5163             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;目標位置決め? NO
14394 000022BC 8904                   M           BT      DND_ORGIN_SIG_FORON_EXT
14395                            5164     
14396                            5165             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
14397 000022BE D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
14398 000022C0 6011                   M           MOV.W   @R1,R0          ;
14399 000022C2 9404                   M           MOV.W   #(BIT4),R4              ;
14400 000022C4 204B                   M           OR      R4,R0           ;
14401 000022C6 2101                   M           MOV.W   R0,@R1          ;
14402 000022C8                   5166     DND_ORGIN_SIG_FORON_EXT:
14403                            5167             SUB_END
14404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14405 000022C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14406                            5168             M_RTS
14407 000022CA 000B                   M           RTS                             ;RTSの後ろの
14408 000022CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14409                            5169     
14410                            5170     ;       ***********************************
14411                            5171     ;       ***                             ***
14412                            5172     ;       ***     段取寸動反転仕様        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   148
PROGRAM NAME =

14413                            5173     ;       ***                             ***
14414                            5174     ;       ***********************************
14415                            5175     ;
14416                            5176             .INCLUDE        "ssa_dnd1.inc"          ; //
14417                               1 I1  ;       ***********************************
14418                               2 I1  ;       ***                             ***
14419                               3 I1  ;       ***     段取寸動コントロール    ***
14420                               4 I1  ;       ***                             ***
14421                               5 I1  ;       ***********************************
14422                               6 I1  ;       ***********************************
14423                               7 I1  ;       ***                             ***
14424                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14425                               9 I1  ;       ***                             ***
14426                              10 I1  ;       ***********************************
14427                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14428                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14429                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14430                              14 I1  ;       ======== BIT6;終了
14431                                 I1  ***** BEGIN-POOL *****
14432 000022CE 0010                   I1  DATA FOR SOURCE-LINE 5165
14433 000022D0 00000000               I1  DATA FOR SOURCE-LINE 5150
14434 000022D4 00000000               I1  DATA FOR SOURCE-LINE 5155
14435 000022D8 00000000               I1  DATA FOR SOURCE-LINE 5160
14436 000022DC 00000000               I1  DATA FOR SOURCE-LINE 5165
14437                                 I1  ***** END-POOL *****
14438 000022E0                     15 I1  _DND_NEG_STEP_CTRL:
14439                              16 I1          SUB_START
14440 000022E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14441                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14442                              17 I1  
14443 000022E2 D103                18 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;段取り共通
14444 000022E4 6011                19 I1          MOV.W   @R1,R0                          ;
14445 000022E6 C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14446                              21 I1          TST_BIT_OF DND_NEGSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
14447 000022E8 8904                   M           BT      DND_NEGSTEPCTL_100
14448                              22 I1          M_BRA   DND_NEGSTEPCTL_300              ;BIT1:次の回転起動
14449 000022EA A03D                   M           BRA     DND_NEGSTEPCTL_300
14450 000022EC 0009                   M           NOP
14451                              23 I1  
14452                                 I1  ***** BEGIN-POOL *****
14453 000022EE 0000                   I1  ALIGNMENT CODE
14454 000022F0 00000000               I1  DATA FOR SOURCE-LINE 18
14455                                 I1  ***** END-POOL *****
14456 000022F4                     24 I1  DND_NEGSTEPCTL_100:
14457                              25 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14458 000022F4 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14459 000022F6 400B                   M           JSR     @R0                     ;
14460 000022F8 0009                   M           NOP                                     ;
14461                              26 I1  
14462                              27 I1          FAR_JSR #_LOD_POS_STS_REG,R1    ;
14463 000022FA D104                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14464 000022FC 410B                   M           JSR     @R1                     ;
14465 000022FE 0009                   M           NOP                                     ;
14466 00002300 C804                28 I1          TST     #BIT2,R0                ;停止?
14467                              29 I1          TST_BIT_ON DND_NEGSTEPCTL_200   ;YES 停止中 1:停止 0:払出中
14468 00002302 8B05                   M           BF      DND_NEGSTEPCTL_200
14469                              30 I1          M_BRA   DND_NEGSTEPCTL_900      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   149
PROGRAM NAME =

14470 00002304 A06D                   M           BRA     DND_NEGSTEPCTL_900
14471 00002306 0009                   M           NOP
14472                              31 I1  
14473                              32 I1  ;       ===========================
14474                              33 I1  ;       ===     払出停止        ===
14475                              34 I1  ;       ===     回転時          ===
14476                              35 I1  ;       ===========================
14477                              36 I1  ;       --------払い出し完了----------
14478                                 I1  ***** BEGIN-POOL *****
14479 00002308 00000000               I1  DATA FOR SOURCE-LINE 25
14480 0000230C 00000000               I1  DATA FOR SOURCE-LINE 27
14481                                 I1  ***** END-POOL *****
14482 00002310                     37 I1  DND_NEGSTEPCTL_200:
14483                              38 I1  
14484                              39 I1  ;       ------------ 2021-11-11-------------
14485 00002310 D109                40 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14486 00002312 6010                41 I1          MOV.B   @R1,R0                                                          ;
14487 00002314 2008                42 I1          TST             R0,R0                                                           ;
14488                              43 I1          TST_BIT_ON DND_NEGSTEPCTL_900                           ;
14489 00002316 8B64                   M           BF      DND_NEGSTEPCTL_900
14490                              44 I1  
14491                              45 I1  ;       ------------ 2021-11-11-------------
14492                              46 I1          FAR_JSR #_DND_NEG_STOP_SVCHK,R0                         ;
14493 00002318 D008                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14494 0000231A 400B                   M           JSR     @R0                     ;
14495 0000231C 0009                   M           NOP                                     ;
14496                              47 I1  
14497 0000231E D108                48 I1          MOV.L   #_NEG_DND_STOP_USE_F,R1                         ;       //上死点(0)<停止<1
                                          70の時 On
14498 00002320 6010                49 I1          MOV.B   @R1,R0                                                          ;
14499 00002322 2008                50 I1          TST             R0,R0                                                           ;
14500                              51 I1          TST_BIT_OF DND_NEGSTEPCTL_250                           ;
14501 00002324 8910                   M           BT      DND_NEGSTEPCTL_250
14502                              52 I1  
14503                              53 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE2,R0           ;
14504 00002326 D007                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14505 00002328 400B                   M           JSR     @R0                     ;
14506 0000232A 0009                   M           NOP                                     ;
14507                              54 I1  
14508 0000232C E001                55 I1          MOV.B   #BIT0,R0
14509 0000232E D102                56 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14510 00002330 2100                57 I1          MOV.B   R0,@R1                                                          ;
14511                              58 I1  
14512                              59 I1          M_BRA   DND_NEGSTEPCTL_900                                      ;
14513 00002332 A056                   M           BRA     DND_NEGSTEPCTL_900
14514 00002334 0009                   M           NOP
14515                              60 I1  
14516                              61 I1  
14517                                 I1  ***** BEGIN-POOL *****
14518 00002336 0000                   I1  ALIGNMENT CODE
14519 00002338 00000000               I1  DATA FOR SOURCE-LINE 40,56
14520 0000233C 00000000               I1  DATA FOR SOURCE-LINE 46
14521 00002340 00000000               I1  DATA FOR SOURCE-LINE 48
14522 00002344 00000000               I1  DATA FOR SOURCE-LINE 53
14523                                 I1  ***** END-POOL *****
14524 00002348                     62 I1  DND_NEGSTEPCTL_250:
14525                              63 I1  ;       -----------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   150
PROGRAM NAME =

14526                              64 I1  
14527                              65 I1  ;       >>>> 切替ﾀｲﾏｾｯﾄ <<<<
14528                              66 I1  ;       ===============================================
14529                              67 I1  ;;;2014-05-30   MOV.L   #_PAR_START_WAIT_DND,R1                                 ;段取時切
                                          替WAIT時間
14530 00002348 D104                68 I1          MOV.L   #(_PAR_START_WAIT_DND-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;段取時切替WAIT時
                                          間
14531 0000234A 6111                69 I1          MOV.W   @R1,R1                                  ;
14532 0000234C D404                70 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
14533 0000234E 2412                71 I1          MOV.L   R1,@R4                                                          ;
14534                              72 I1  ;       FLG=(BIT0):ｾｯﾄ                                                          ;
14535                              73 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;ﾀｲﾏ起動
14536 00002350 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14537 00002352 6011                   M           MOV.W   @R1,R0          ;
14538 00002354 CB01                   M           OR      #BIT0,R0                ;
14539 00002356 2101                   M           MOV.W   R0,@R1          ;
14540                              74 I1          M_BRA   DND_NEGSTEPCTL_900                                              ;
14541 00002358 A043                   M           BRA     DND_NEGSTEPCTL_900
14542 0000235A 0009                   M           NOP
14543                              75 I1  
14544                                 I1  ***** BEGIN-POOL *****
14545 0000235C 00000000               I1  DATA FOR SOURCE-LINE 68
14546 00002360 00000000               I1  DATA FOR SOURCE-LINE 70
14547 00002364 00000000               I1  DATA FOR SOURCE-LINE 73
14548                                 I1  ***** END-POOL *****
14549 00002368                     76 I1  DND_NEGSTEPCTL_300:
14550 00002368 C802                77 I1          TST     #BIT1,R0                ;
14551                              78 I1          TST_BIT_ON DND_NEGSTEPCTL_400   ;
14552 0000236A 8B15                   M           BF      DND_NEGSTEPCTL_400
14553                              79 I1  
14554                              80 I1  ;       ===== 切替ﾀｲﾏ待ち ====
14555                              81 I1  
14556                              82 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
14557 0000236C D105                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
14558 0000236E 6412                   M           MOV.L   @R1,R4          ;
14559 00002370 2448                   M           TST     R4,R4                   ;
14560 00002372 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
14561 00002374 4410                   M           DT      R4                              ;
14562 00002376 2142                   M           MOV.L   R4,@R1          ;STORE
14563 00002378                        M   JMP_0100006:
14564                              83 I1  
14565                              84 I1  
14566 00002378 D402                85 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
14567 0000237A 6142                86 I1          MOV.L   @R4,R1                  ;
14568 0000237C 2118                87 I1          TST     R1,R1                   ;
14569                              88 I1          TST_BIT_OF DND_NEGSTEPCTL_320   ;
14570 0000237E 8903                   M           BT      DND_NEGSTEPCTL_320
14571                              89 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14572 00002380 A02F                   M           BRA     DND_NEGSTEPCTL_900
14573 00002382 0009                   M           NOP
14574                              90 I1  
14575                                 I1  ***** BEGIN-POOL *****
14576 00002384 00000000               I1  DATA FOR SOURCE-LINE 82,85
14577                                 I1  ***** END-POOL *****
14578 00002388                     91 I1  DND_NEGSTEPCTL_320:
14579                              92 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
14580 00002388 D102                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   151
PROGRAM NAME =

14581 0000238A 6011                   M           MOV.W   @R1,R0          ;
14582 0000238C CB02                   M           OR      #BIT1,R0                ;
14583 0000238E 2101                   M           MOV.W   R0,@R1          ;
14584                              93 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14585 00002390 A027                   M           BRA     DND_NEGSTEPCTL_900
14586 00002392 0009                   M           NOP
14587                              94 I1  
14588                              95 I1  
14589                              96 I1  ;       ======= 次の起動 =====
14590                                 I1  ***** BEGIN-POOL *****
14591 00002394 00000000               I1  DATA FOR SOURCE-LINE 92
14592                                 I1  ***** END-POOL *****
14593 00002398                     97 I1  DND_NEGSTEPCTL_400:
14594                              98 I1  ;       ===================================
14595                              99 I1  ;       ===     二重回路対策            ===
14596                             100 I1  ;       ===     工程完了                ===
14597                             101 I1  ;       ===================================
14598                             102 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14599 00002398 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14600 0000239A 400B                   M           JSR     @R0                     ;
14601 0000239C 0009                   M           NOP                                     ;
14602 0000239E 2008               103 I1          TST     R0,R0                           ;
14603                             104 I1          TST_BIT_ON DND_NEGSTEPCTL_420           ;
14604 000023A0 8B04                   M           BF      DND_NEGSTEPCTL_420
14605                             105 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14606 000023A2 A01E                   M           BRA     DND_NEGSTEPCTL_900
14607 000023A4 0009                   M           NOP
14608                             106 I1  
14609                                 I1  ***** BEGIN-POOL *****
14610 000023A6 0000                   I1  ALIGNMENT CODE
14611 000023A8 00000000               I1  DATA FOR SOURCE-LINE 102
14612                                 I1  ***** END-POOL *****
14613 000023AC                    107 I1  DND_NEGSTEPCTL_420:                             ;
14614                             108 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14615 000023AC D00E                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14616 000023AE 400B                   M           JSR     @R0                     ;
14617 000023B0 0009                   M           NOP                                     ;
14618                             109 I1  
14619                             110 I1  ;;2021-11-11;   ====  次の動作の演算 =====
14620                             111 I1  ;;2021-11-11    MOV.L   #_INT_DND_NEG_STEP,R5           ;
14621                             112 I1  ;;2021-11-11    MOV.W   @R5,R0                          ;
14622                             113 I1  ;;2021-11-11    CMP/EQ  #1,R0                           ;
14623                             114 I1  ;;2021-11-11    BF      DND_NEGSTEPCTL_440              ;もし0or2なら待機点なので1へ遷移
14624                             115 I1  ;;2021-11-11    MOV     #2,R0                           ;もし1(目標位置への動作)なら2へ（
                                          待機点）
14625                             116 I1  ;;2021-11-11    M_BRA   DND_NEGSTEPCTL_460              ;
14626                             117 I1  ;;2021-11-11DND_NEGSTEPCTL_440:                         ;
14627                             118 I1  ;;2021-11-11    MOV     #1,R0                           ;もし0or2(待機点への動作)なら1
14628                             119 I1  ;;2021-11-11DND_NEGSTEPCTL_460:                         ;
14629                             120 I1  ;;2021-11-11    MOV.W   R0,@R5                          ;
14630                             121 I1  ;;2021-11-11    FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;<<>>
14631                             122 I1  ;;2021-11-11    FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
14632                             123 I1  ;;2021-11-11
14633                             124 I1  
14634                             125 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE0,R0                           ;
14635 000023B2 D00E                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE0,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   152
PROGRAM NAME =

14636 000023B4 400B                   M           JSR     @R0                     ;
14637 000023B6 0009                   M           NOP                                     ;
14638                             126 I1          FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                                 ;ｽﾃｯﾌﾟに応じて待機
                                          点1/目標位置/待機点2 _POS_DRV_DIRECT
14639 000023B8 D10D                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14640 000023BA 410B                   M           JSR     @R1                     ;
14641 000023BC 0009                   M           NOP                                     ;
14642                             127 I1  
14643                             128 I1  ;       ===================
14644                             129 I1  ;       ===     起動    ===
14645                             130 I1  ;       ===================
14646 000023BE                    131 I1  DND_NEGSTEPCTL_580:
14647                             132 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
14648 000023BE D00D                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14649 000023C0 400B                   M           JSR     @R0                     ;
14650 000023C2 0009                   M           NOP                                     ;
14651                             133 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14652 000023C4 D00C                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14653 000023C6 400B                   M           JSR     @R0                     ;
14654 000023C8 0009                   M           NOP                                     ;
14655                             134 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14656 000023CA D00C                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14657 000023CC 400B                   M           JSR     @R0                     ;
14658 000023CE 0009                   M           NOP                                     ;
14659                             135 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
14660 000023D0 D10B                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14661 000023D2 410B                   M           JSR     @R1                     ;
14662 000023D4 0009                   M           NOP                                     ;
14663 000023D6 200A               136 I1          XOR     R0,R0                           ;
14664 000023D8 D10A               137 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14665 000023DA 2101               138 I1          MOV.W   R0,@R1                          ;Q
14666                             139 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
14667 000023DC D00A                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14668 000023DE 400B                   M           JSR     @R0                     ;
14669 000023E0 0009                   M           NOP                                     ;
14670                             140 I1  
14671 000023E2                    141 I1  DND_NEGSTEPCTL_900:
14672                             142 I1          SUB_END
14673                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14674 000023E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14675                             143 I1          M_RTS
14676 000023E4 000B                   M           RTS                             ;RTSの後ろの
14677 000023E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14678                             144 I1  
14679                             145 I1  
14680                             146 I1  
14681                            5177     
14682                            5178     ;       *******************************************
14683                            5179     ;       ***                                     ***
14684                            5180     ;       ***     段取寸動正転・逆転停止仕様      ***
14685                            5181     ;       ***                                     ***
14686                            5182     ;       *******************************************
14687                            5183     ;
14688                            5184             .INCLUDE        "ssa_dnd2.inc"          ; //
14689                               1 I1  ;       ***********************************
14690                               2 I1  ;       ***                             ***
14691                               3 I1  ;       ***     段取寸動コントロール    ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   153
PROGRAM NAME =

14692                               4 I1  ;       ***                             ***
14693                               5 I1  ;       ***********************************
14694                               6 I1  ;       ***********************************
14695                               7 I1  ;       ***                             ***
14696                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14697                               9 I1  ;       ***                             ***
14698                              10 I1  ;       ***********************************
14699                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14700                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14701                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14702                              14 I1  ;       ======== BIT6;終了
14703                                 I1  ***** BEGIN-POOL *****
14704 000023E8 00000000               I1  DATA FOR SOURCE-LINE 108
14705 000023EC 00000000               I1  DATA FOR SOURCE-LINE 125
14706 000023F0 00000000               I1  DATA FOR SOURCE-LINE 126
14707 000023F4 00000000               I1  DATA FOR SOURCE-LINE 132
14708 000023F8 00000000               I1  DATA FOR SOURCE-LINE 133
14709 000023FC 00000000               I1  DATA FOR SOURCE-LINE 134
14710 00002400 00000000               I1  DATA FOR SOURCE-LINE 135
14711 00002404 00000000               I1  DATA FOR SOURCE-LINE 137
14712 00002408 00000000               I1  DATA FOR SOURCE-LINE 139
14713                                 I1  ***** END-POOL *****
14714 0000240C                     15 I1  _DND_ROT_STEP_CTRL:
14715                              16 I1          SUB_START
14716 0000240C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14717                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14718                              17 I1  
14719 0000240E D103                18 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14720 00002410 6011                19 I1          MOV.W   @R1,R0                          ;
14721 00002412 C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14722                              21 I1          TST_BIT_ON DND_ROTSTEPCTL_050           ;
14723 00002414 8B04                   M           BF      DND_ROTSTEPCTL_050
14724                              22 I1          M_BRA   DND_ROTSTEPCTL_EXT              ;
14725 00002416 A043                   M           BRA     DND_ROTSTEPCTL_EXT
14726 00002418 0009                   M           NOP
14727                              23 I1  
14728                                 I1  ***** BEGIN-POOL *****
14729 0000241A 0000                   I1  ALIGNMENT CODE
14730 0000241C 00000000               I1  DATA FOR SOURCE-LINE 18
14731                                 I1  ***** END-POOL *****
14732 00002420                     24 I1  DND_ROTSTEPCTL_050:
14733 00002420 D106                25 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;
14734 00002422 6011                26 I1          MOV.W   @R1,R0                          ;
14735 00002424 C820                27 I1          TST     #BIT5,R0                        ;
14736                              28 I1          TST_BIT_ON DND_ROTSTEPCTL_080           ;終了
14737 00002426 8B07                   M           BF      DND_ROTSTEPCTL_080
14738                              29 I1  
14739                              30 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14740 00002428 D005                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14741 0000242A 400B                   M           JSR     @R0                     ;
14742 0000242C 0009                   M           NOP                                     ;
14743                              31 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
14744 0000242E D105                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14745 00002430 410B                   M           JSR     @R1                     ;
14746 00002432 0009                   M           NOP                                     ;
14747 00002434 C804                32 I1          TST     #BIT2,R0                        ;停止?
14748                              33 I1          TST_BIT_ON DND_ROTSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   154
PROGRAM NAME =

14749 00002436 8B07                   M           BF      DND_ROTSTEPCTL_200
14750 00002438                     34 I1  DND_ROTSTEPCTL_080:
14751                              35 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14752 00002438 A031                   M           BRA     DND_ROTSTEPCTL_900
14753 0000243A 0009                   M           NOP
14754                              36 I1  
14755                              37 I1  ;       ===========================
14756                              38 I1  ;       ===     払出停止        ===
14757                              39 I1  ;       ===     回転時          ===
14758                              40 I1  ;       ===========================
14759                                 I1  ***** BEGIN-POOL *****
14760 0000243C 00000000               I1  DATA FOR SOURCE-LINE 25
14761 00002440 00000000               I1  DATA FOR SOURCE-LINE 30
14762 00002444 00000000               I1  DATA FOR SOURCE-LINE 31
14763                                 I1  ***** END-POOL *****
14764 00002448                     41 I1  DND_ROTSTEPCTL_200:
14765 00002448                     42 I1  DND_ROTSTEPCTL_400:
14766                              43 I1  ;       ===================================
14767                              44 I1  ;       ===     二重回路対策            ===
14768                              45 I1  ;       ===     工程完了                ===
14769                              46 I1  ;       ===================================
14770                              47 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14771 00002448 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14772 0000244A 400B                   M           JSR     @R0                     ;
14773 0000244C 0009                   M           NOP                                     ;
14774 0000244E 2008                48 I1          TST     R0,R0                           ;
14775                              49 I1          TST_BIT_ON DND_ROTSTEPCTL_420           ;
14776 00002450 8B04                   M           BF      DND_ROTSTEPCTL_420
14777                              50 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14778 00002452 A024                   M           BRA     DND_ROTSTEPCTL_900
14779 00002454 0009                   M           NOP
14780                              51 I1  
14781                                 I1  ***** BEGIN-POOL *****
14782 00002456 0000                   I1  ALIGNMENT CODE
14783 00002458 00000000               I1  DATA FOR SOURCE-LINE 47
14784                                 I1  ***** END-POOL *****
14785 0000245C                     52 I1  DND_ROTSTEPCTL_420:                             ;
14786                              53 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14787 0000245C D006                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14788 0000245E 400B                   M           JSR     @R0                     ;
14789 00002460 0009                   M           NOP                                     ;
14790                              54 I1  
14791                              55 I1  ;       ====  工程を進めて終了する =====
14792 00002462 D506                56 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14793 00002464 6351                57 I1          MOV.W   @R5,R3                          ;
14794 00002466 D106                58 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14795 00002468 6011                59 I1          MOV.W   @R1,R0                          ;
14796 0000246A C903                60 I1          AND     #(BIT1+BIT0),R0                 ;
14797 0000246C 8803                61 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14798 0000246E 8909                62 I1          BT      DND_ROTSTEPCTL_440              ;
14799 00002470 E301                63 I1          MOV     #1,R3                           ;
14800                              64 I1          M_BRA   DND_ROTSTEPCTL_500              ;
14801 00002472 A00C                   M           BRA     DND_ROTSTEPCTL_500
14802 00002474 0009                   M           NOP
14803                                 I1  ***** BEGIN-POOL *****
14804 00002476 0000                   I1  ALIGNMENT CODE
14805 00002478 00000000               I1  DATA FOR SOURCE-LINE 53
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   155
PROGRAM NAME =

14806 0000247C 00000000               I1  DATA FOR SOURCE-LINE 56
14807 00002480 00000000               I1  DATA FOR SOURCE-LINE 58
14808                                 I1  ***** END-POOL *****
14809 00002484                     65 I1  DND_ROTSTEPCTL_440:                             ;
14810 00002484 7301                66 I1          ADD     #1,R3                           ;
14811 00002486 920E                67 I1          MOV.W   #2,R2                           ;
14812 00002488 3326                68 I1          CMP/HI  R2,R3                           ;
14813 0000248A 8B00                69 I1          BF      DND_ROTSTEPCTL_500              ;
14814 0000248C 930C                70 I1          MOV.W   #1,R3                           ;
14815 0000248E                     71 I1  DND_ROTSTEPCTL_500:                             ;
14816 0000248E 2531                72 I1          MOV.W   R3,@R5                          ;
14817                              73 I1  
14818                              74 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1    ;BIT5=1 EN
                                          D
14819 00002490 D106                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14820 00002492 6011                   M           MOV.W   @R1,R0          ;
14821 00002494 CB20                   M           OR      #BIT5,R0                ;
14822 00002496 2101                   M           MOV.W   R0,@R1          ;
14823                              75 I1  
14824                              76 I1  ;       --------- 2014-08-05----------
14825                              77 I1          FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14826 00002498 D005                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14827 0000249A 400B                   M           JSR     @R0                     ;
14828 0000249C 0009                   M           NOP                                     ;
14829                              78 I1  
14830 0000249E                     79 I1  DND_ROTSTEPCTL_900:
14831 0000249E 0009                80 I1          NOP
14832 000024A0                     81 I1  DND_ROTSTEPCTL_EXT:
14833                              82 I1          SUB_END
14834                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14835 000024A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14836                              83 I1          M_RTS
14837 000024A2 000B                   M           RTS                             ;RTSの後ろの
14838 000024A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14839                              84 I1  
14840                              85 I1  ;       ***********************************
14841                              86 I1  ;       ***                             ***
14842                              87 I1  ;       ***     初起動時のエリア作成    ***
14843                              88 I1  ;       ***                             ***
14844                              89 I1  ;       ***********************************
14845                                 I1  ***** BEGIN-POOL *****
14846 000024A6 0002                   I1  DATA FOR SOURCE-LINE 67
14847 000024A8 0001                   I1  DATA FOR SOURCE-LINE 70
14848 000024AA 0000                   I1  ALIGNMENT CODE
14849 000024AC 00000000               I1  DATA FOR SOURCE-LINE 74
14850 000024B0 00000000               I1  DATA FOR SOURCE-LINE 77
14851                                 I1  ***** END-POOL *****
14852          00000014            90 I1  _DND_AREA_HIS           .EQU    20              ;2.0DIG
14853 000024B4                     91 I1  _DNDINC_STEP_MAKE:
14854                              92 I1          SUB_START
14855 000024B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14856                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14857 000024B6 D50B                93 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14858 000024B8 6351                94 I1          MOV.W   @R5,R3                          ;
14859 000024BA 2338                95 I1          TST     R3,R3                           ;
14860                              96 I1          TST_BIT_OF DNDINC_STEP_MK100            ;再計算
14861 000024BC 891C                   M           BT      DNDINC_STEP_MK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   156
PROGRAM NAME =

14862                              97 I1  
14863 000024BE D10A                98 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14864 000024C0 6011                99 I1          MOV.W   @R1,R0                          ;
14865 000024C2 D10A               100 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14866 000024C4 6211               101 I1          MOV.W   @R1,R2
14867 000024C6 2101               102 I1          MOV.W   R0,@R1                          ;
14868 000024C8 220A               103 I1          XOR     R0,R2                           ;
14869 000024CA 2228               104 I1          TST     R2,R2                           ;
14870                             105 I1          TST_BIT_ON DNDINC_STEP_MK100            ;SW変更有り　再計算
14871 000024CC 8B14                   M           BF      DNDINC_STEP_MK100
14872                             106 I1  
14873 000024CE D108               107 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14874 000024D0 6011               108 I1          MOV.W   @R1,R0                          ;
14875 000024D2 D108               109 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14876 000024D4 6211               110 I1          MOV.W   @R1,R2                          ;
14877 000024D6 2101               111 I1          MOV.W   R0,@R1                          ;
14878 000024D8 220A               112 I1          XOR     R0,R2                           ;
14879 000024DA 2228               113 I1          TST     R2,R2                           ;
14880                             114 I1          TST_BIT_ON DNDINC_STEP_MK100            ;DIRD変更有り　再計算
14881 000024DC 8B0C                   M           BF      DNDINC_STEP_MK100
14882                             115 I1          M_BRA   DNDINC_STEP_MK150
14883 000024DE A027                   M           BRA     DNDINC_STEP_MK150
14884 000024E0 0009                   M           NOP
14885                             116 I1  
14886                             117 I1  ;;20060919      M_BRA   DNDINC_STEP_MK300               ;
14887                             118 I1  
14888                             119 I1  
14889                             120 I1  ;       -------- 開始計算--------
14890                                 I1  ***** BEGIN-POOL *****
14891 000024E2 0000                   I1  ALIGNMENT CODE
14892 000024E4 00000000               I1  DATA FOR SOURCE-LINE 93
14893 000024E8 00000000               I1  DATA FOR SOURCE-LINE 98
14894 000024EC 00000000               I1  DATA FOR SOURCE-LINE 100
14895 000024F0 00000000               I1  DATA FOR SOURCE-LINE 107
14896 000024F4 00000000               I1  DATA FOR SOURCE-LINE 109
14897                                 I1  ***** END-POOL *****
14898 000024F8                    121 I1  DNDINC_STEP_MK100:
14899 000024F8 D108               122 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14900 000024FA 6011               123 I1          MOV.W   @R1,R0                          ;
14901 000024FC D108               124 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14902 000024FE 2101               125 I1          MOV.W   R0,@R1                          ;
14903                             126 I1  
14904 00002500 D108               127 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14905 00002502 6211               128 I1          MOV.W   @R1,R2                          ;
14906 00002504 D108               129 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14907 00002506 2121               130 I1          MOV.W   R2,@R1                          ;
14908                             131 I1  
14909 00002508 C903               132 I1          AND     #(BIT1+BIT0),R0                 ;
14910 0000250A 8803               133 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14911 0000250C 8910               134 I1          BT      DNDINC_STEP_MK150               ;
14912                             135 I1  
14913 0000250E D507               136 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14914 00002510 9302               137 I1          MOV.W   #1,R3                           ;STEP=1
14915 00002512 2531               138 I1          MOV.W   R3,@R5                          ;
14916                             139 I1          M_BRA   DNDINC_STEP_MK300               ;
14917 00002514 A061                   M           BRA     DNDINC_STEP_MK300
14918 00002516 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   157
PROGRAM NAME =

14919                             140 I1  
14920                                 I1  ***** BEGIN-POOL *****
14921 00002518 0001                   I1  DATA FOR SOURCE-LINE 137
14922 0000251A 0000                   I1  ALIGNMENT CODE
14923 0000251C 00000000               I1  DATA FOR SOURCE-LINE 122
14924 00002520 00000000               I1  DATA FOR SOURCE-LINE 124
14925 00002524 00000000               I1  DATA FOR SOURCE-LINE 127
14926 00002528 00000000               I1  DATA FOR SOURCE-LINE 129
14927 0000252C 00000000               I1  DATA FOR SOURCE-LINE 136
14928                                 I1  ***** END-POOL *****
14929 00002530                    141 I1  DNDINC_STEP_MK150:
14930 00002530 D10B               142 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14931 00002532 6011               143 I1          MOV.W   @R1,R0
14932 00002534 2008               144 I1          TST     R0,R0                           ;
14933                             145 I1          TST_BIT_ON DNDINC_STEP_MK180            ;
14934 00002536 8B19                   M           BF      DNDINC_STEP_MK180
14935                             146 I1  
14936 00002538 940F               147 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14937 0000253A D10A               148 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14938 0000253C 6211               149 I1          MOV.W   @R1,R2                                                  ;
14939                             150 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;dig-2.0
14940 0000253E 3248                   M           SUB     R4,R2
14941 00002540 4211                   M           CMP/PZ  R2
14942 00002542 8901                   M           BT      JMP0100007                      ;
14943 00002544 910A                   M           MOV.W   #3600,R1
14944 00002546 321C                   M           ADD     R1,R2           ;
14945 00002548                        M   JMP0100007                                      ;
14946                             151 I1  
14947 00002548 D107               152 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1        ;
14948 0000254A 6311               153 I1          MOV.W   @R1,R3                          ;
14949                             154 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;dig-2.0
14950 0000254C 3348                   M           SUB     R4,R3
14951 0000254E 4311                   M           CMP/PZ  R3
14952 00002550 8901                   M           BT      JMP0100008                      ;
14953 00002552 9103                   M           MOV.W   #3600,R1
14954 00002554 331C                   M           ADD     R1,R3           ;
14955 00002556                        M   JMP0100008                                      ;
14956                             155 I1          M_BRA   DNDINC_STEP_MK200
14957 00002556 A018                   M           BRA     DNDINC_STEP_MK200
14958 00002558 0009                   M           NOP
14959                             156 I1  
14960                                 I1  ***** BEGIN-POOL *****
14961 0000255A 0014                   I1  DATA FOR SOURCE-LINE 147
14962 0000255C 0E10                   I1  DATA FOR SOURCE-LINE 150,154
14963 0000255E 0000                   I1  ALIGNMENT CODE
14964 00002560 00000000               I1  DATA FOR SOURCE-LINE 142
14965 00002564 00000000               I1  DATA FOR SOURCE-LINE 148
14966 00002568 00000000               I1  DATA FOR SOURCE-LINE 152
14967                                 I1  ***** END-POOL *****
14968 0000256C                    157 I1  DNDINC_STEP_MK180:                                                      ;
14969                             158 I1  
14970 0000256C 9419               159 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14971 0000256E D10E               160 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14972 00002570 6311               161 I1          MOV.W   @R1,R3                                                  ;
14973                             162 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;
14974 00002572 334C                   M           ADD     R4,R3
14975 00002574 9116                   M           MOV.W   #3600,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   158
PROGRAM NAME =

14976 00002576 3137                   M           CMP/GT  R3,R1           ;359.9<3600
14977 00002578 8900                   M           BT      JMP0100009                      ;
14978 0000257A 3318                   M           SUB     R1,R3           ;
14979 0000257C                        M   JMP0100009                                      ;
14980                             163 I1  
14981 0000257C D10B               164 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1                                ;
14982 0000257E 6211               165 I1          MOV.W   @R1,R2                                                  ;
14983                             166 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;
14984 00002580 324C                   M           ADD     R4,R2
14985 00002582 910F                   M           MOV.W   #3600,R1
14986 00002584 3127                   M           CMP/GT  R2,R1           ;359.9<3600
14987 00002586 8900                   M           BT      JMP0100010                      ;
14988 00002588 3218                   M           SUB     R1,R2           ;
14989 0000258A                        M   JMP0100010                                      ;
14990                             167 I1  
14991 0000258A                    168 I1  DNDINC_STEP_MK200:                                              ;
14992 0000258A D109               169 I1          MOV.L   #_INC_ENC360,R1                                 ;
14993 0000258C 6411               170 I1          MOV.W   @R1,R4                                          ;
14994                             171 I1  
14995                             172 I1          DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R4,ANSREG=R0       ;R0 !=0 範囲内
14996 0000258E 3233                   M           CMP/GE  R3,R2
14997 00002590 8B10                   M           BF      JMP0100011
14998                                 M   ;       === 0度をはさなまい===
14999 00002592 200A                   M           XOR     R0,R0
15000 00002594 3433                   M           CMP/GE  R3,R4           ;
15001 00002596 8B13                   M           BF      JMP0200011                      ; PV<SV1
15002 00002598 3243                   M           CMP/GE  R4,R2           ;
15003 0000259A 8B11                   M           BF      JMP0200011                      ; SV2<PV2 (1)
15004 0000259C E001                   M           MOV     #1,R0           ;
15005                                 M           M_BRA   JMP0200011                      ;
15006 0000259E A00F                   M           BRA     JMP0200011
15007 000025A0 0009                   M           NOP
15008                                 M   
15009                                 M   ;       ==== ０度をはさむ====
15010                                 M   ***** BEGIN-POOL *****
15011 000025A2 0014                   M   DATA FOR SOURCE-LINE 159
15012 000025A4 0E10                   M   DATA FOR SOURCE-LINE 162,166
15013 000025A6 0000                   M   ALIGNMENT CODE
15014 000025A8 00000000               M   DATA FOR SOURCE-LINE 160
15015 000025AC 00000000               M   DATA FOR SOURCE-LINE 164
15016 000025B0 00000000               M   DATA FOR SOURCE-LINE 169
15017                                 M   ***** END-POOL *****
15018 000025B4                        M   JMP0100011:
15019 000025B4 E001                   M           MOV     #1,R0
15020 000025B6 3433                   M           CMP/GE  R3,R4
15021 000025B8 8902                   M           BT      JMP0200011                      ;SV1=<PV=<360
15022 000025BA 3243                   M           CMP/GE  R4,R2           ;
15023 000025BC 8900                   M           BT      JMP0200011                      ;
15024 000025BE 200A                   M           XOR     R0,R0           ;
15025 000025C0                        M   JMP0200011:
15026 000025C0 2008               173 I1          TST     R0,R0                                           ;
15027                             174 I1          TST_BIT_OF DNDINC_STEP_MK220                            ;
15028 000025C2 8907                   M           BT      DNDINC_STEP_MK220
15029 000025C4 D502               175 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
15030 000025C6 9302               176 I1          MOV.W   #2,R3                                           ;STEP=2 待機点に戻ってきて
                                          いる
15031 000025C8 2531               177 I1          MOV.W   R3,@R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   159
PROGRAM NAME =

15032                             178 I1          M_BRA   DNDINC_STEP_MK300                               ;
15033 000025CA A006                   M           BRA     DNDINC_STEP_MK300
15034 000025CC 0009                   M           NOP
15035                                 I1  ***** BEGIN-POOL *****
15036 000025CE 0002                   I1  DATA FOR SOURCE-LINE 176
15037 000025D0 00000000               I1  DATA FOR SOURCE-LINE 175
15038                                 I1  ***** END-POOL *****
15039 000025D4                    179 I1  DNDINC_STEP_MK220:                                              ;
15040 000025D4 D503               180 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
15041 000025D6 9303               181 I1          MOV.W   #1,R3                                           ;STEP=1 待機点を越えている
15042 000025D8 2531               182 I1          MOV.W   R3,@R5                                          ;
15043 000025DA                    183 I1  DNDINC_STEP_MK300:
15044                             184 I1          SUB_END
15045                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15046 000025DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15047                             185 I1          M_RTS
15048 000025DC 000B                   M           RTS                             ;RTSの後ろの
15049 000025DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15050                             186 I1  
15051                             187 I1  ;       ***********************************
15052                             188 I1  ;       ***                             ***
15053                             189 I1  ;       ***     工程からの目標位置作成  ***
15054                             190 I1  ;       ***                             ***
15055                             191 I1  ;       ***********************************
15056                                 I1  ***** BEGIN-POOL *****
15057 000025E0 0001                   I1  DATA FOR SOURCE-LINE 181
15058 000025E2 0000                   I1  ALIGNMENT CODE
15059 000025E4 00000000               I1  DATA FOR SOURCE-LINE 180
15060                                 I1  ***** END-POOL *****
15061 000025E8                    192 I1  _DNDINC_MAKE_OBJPOS:
15062                             193 I1          SUB_START
15063 000025E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15064                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15065                             194 I1  
15066 000025EA D104               195 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
15067 000025EC 6011               196 I1          MOV.W   @R1,R0                          ;
15068 000025EE C903               197 I1          AND     #(BIT1+BIT0),R0                 ;
15069 000025F0 8803               198 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
15070 000025F2 8905               199 I1          BT      DNDINC_MAKOBJPOS_100            ;
15071                             200 I1  
15072 000025F4 C801               201 I1          TST     #BIT0,R0                        ;待機点のみ
15073                             202 I1          TST_BIT_ON DNDINC_MAKOBJPOS_120         ;YES
15074 000025F6 8B08                   M           BF      DNDINC_MAKOBJPOS_120
15075                             203 I1          M_BRA   DNDINC_MAKOBJPOS_150            ;途中位置
15076 000025F8 A010                   M           BRA     DNDINC_MAKOBJPOS_150
15077 000025FA 0009                   M           NOP
15078                             204 I1  
15079                                 I1  ***** BEGIN-POOL *****
15080 000025FC 00000000               I1  DATA FOR SOURCE-LINE 195
15081                                 I1  ***** END-POOL *****
15082 00002600                    205 I1  DNDINC_MAKOBJPOS_100:
15083 00002600 D104               206 I1          MOV.L   #_DNDINC_CTRL_STEP,R1           ;
15084 00002602 6311               207 I1          MOV.W   @R1,R3                          ;
15085 00002604 9205               208 I1          MOV.W   #2,R2                           ;
15086 00002606 3230               209 I1          CMP/EQ  R3,R2
15087 00002608 8B08               210 I1          BF      DNDINC_MAKOBJPOS_150            ;
15088 0000260A                    211 I1  DNDINC_MAKOBJPOS_120:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   160
PROGRAM NAME =

15089 0000260A D103               212 I1          MOV.L   #_CPOS_DND_PLSTOP+0*4,R1        ;
15090 0000260C 6212               213 I1          MOV.L   @R1,R2                          ;STEP2=待機点に戻る
15091                             214 I1          M_BRA   DNDINC_MAKOBJPOS_200            ;
15092 0000260E A007                   M           BRA     DNDINC_MAKOBJPOS_200
15093 00002610 0009                   M           NOP
15094                             215 I1  
15095                                 I1  ***** BEGIN-POOL *****
15096 00002612 0002                   I1  DATA FOR SOURCE-LINE 208
15097 00002614 00000000               I1  DATA FOR SOURCE-LINE 206
15098 00002618 00000000               I1  DATA FOR SOURCE-LINE 212
15099                                 I1  ***** END-POOL *****
15100 0000261C                    216 I1  DNDINC_MAKOBJPOS_150:
15101 0000261C D104               217 I1          MOV.L   #_CPOS_DND_PLSTOP+1*4,R1        ;
15102 0000261E 6212               218 I1          MOV.L   @R1,R2                          ;STEP1=待機点から次へ出発
15103                             219 I1  
15104 00002620                    220 I1  DNDINC_MAKOBJPOS_200:
15105 00002620 D104               221 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
15106 00002622 6011               222 I1          MOV.W   @R1,R0
15107                             223 I1          FAR_JSR #_LNKPLS_OBJ_DAT_MAK2,R1        ;
15108 00002624 D104                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK2,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15109 00002626 410B                   M           JSR     @R1                     ;
15110 00002628 0009                   M           NOP                                     ;
15111                             224 I1  
15112                             225 I1  
15113                             226 I1          SUB_END
15114                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15115 0000262A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15116                             227 I1          M_RTS
15117 0000262C 000B                   M           RTS                             ;RTSの後ろの
15118 0000262E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15119                             228 I1  
15120                             229 I1  ;       *******************************************
15121                             230 I1  ;       ***                                     ***
15122                             231 I1  ;       ***     Input R2                        ***
15123                             232 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
15124                             233 I1  ;       ***     Input R0 DIRECT                 ***
15125                             234 I1  ;       ***     方向固定                        ***
15126                             235 I1  ;       ***                                     ***
15127                             236 I1  ;       *******************************************
15128                             237 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
15129                             238 I1  ;       MOV.L   @R4,R2                                  ;
15130                             239 I1  
15131                                 I1  ***** BEGIN-POOL *****
15132 00002630 00000000               I1  DATA FOR SOURCE-LINE 217
15133 00002634 00000000               I1  DATA FOR SOURCE-LINE 221
15134 00002638 00000000               I1  DATA FOR SOURCE-LINE 223
15135                                 I1  ***** END-POOL *****
15136 0000263C                    240 I1  _LNKPLS_OBJ_DAT_MAK2:
15137                             241 I1          SUB_START
15138 0000263C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15139                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15140                             242 I1          PUSH_REG1 R0                                    ;SHIN
15141 0000263E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
15142                                 M                                           ;REG=>[SP]
15143                                 M                                           ;"-4" FF,FF,FF,FC
15144                             243 I1          PUSH_REG1 R2                                    ;1ROT DATA
15145 00002640 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   161
PROGRAM NAME =

15146                                 M                                           ;REG=>[SP]
15147                                 M                                           ;"-4" FF,FF,FF,FC
15148                             244 I1  
15149                             245 I1  ;;      MOV.L   #_LINK_PV_ABSPLS,R4             ;
15150                             246 I1  ;;      MOV.L   @R4+,R1                                 ;
15151                             247 I1  ;;      MOV.L   @R4,R2                                  ;
15152                             248 I1  ;;      MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
15153                             249 I1  ;;      MOV.L   R1,@(0,R4)                              ;
15154                             250 I1  ;;      MOV.L   R2,@(4,R4)                              ;
15155                             251 I1  
15156                             252 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
15157 00002642 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15158 00002644 400B                   M           JSR     @R0                     ;
15159 00002646 0009                   M           NOP                                     ;
15160                             253 I1  
15161                             254 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
15162 00002648 D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15163 0000264A 400B                   M           JSR     @R0                     ;
15164 0000264C 0009                   M           NOP                                     ;
15165                             255 I1  
15166                             256 I1  
15167                             257 I1  ;       === 目標角度() ====
15168 0000264E D40F               258 I1          MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;[目標側の位置]
15169 00002650 6142               259 I1          MOV.L   @R4,R1                                  ;現在 ***.* pls "+"data
15170                             260 I1                                                          ;目標 ***.* pls
15171                             261 I1          POP_REG1 R2                                     ;
15172                                 M                                   ; RE"+4" 00,00,00,04
15173 00002652 62F6                   M           MOV.L   @R15+,R2        ;
15174                             262 I1          POP_REG1 R0                                     ;
15175                                 M                                   ; RE"+4" 00,00,00,04
15176 00002654 60F6                   M           MOV.L   @R15+,R0        ;
15177 00002656 2008               263 I1          TST     R0,R0                                   ;
15178                             264 I1          TST_BIT_ON LNKPLS_OBJ_DAT_MK2_100               ;DIRECT MINAS
15179 00002658 8B20                   M           BF      LNKPLS_OBJ_DAT_MK2_100
15180                             265 I1  ;--------FWD-----------
15181 0000265A 3218               266 I1          SUB     R1,R2                                   ;R1(PV) < R2(SV);
15182 0000265C 4215               267 I1          CMP/PL  R2                                      ;
15183 0000265E 8908               268 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;YES
15184 00002660 D50B               269 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15185 00002662 6452               270 I1          MOV.L   @R5,R4                                  ;
15186 00002664 324C               271 I1          ADD     R4,R2                                   ;
15187 00002666 4211               272 I1          CMP/PZ  R2
15188 00002668 8903               273 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;0,+
15189                             274 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15190 0000266A D10A                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15191 0000266C 410B                   M           JSR     @R1                     ;
15192 0000266E 0009                   M           NOP                                     ;
15193 00002670 222A               275 I1          XOR     R2,R2                                   ;
15194 00002672                    276 I1  LNKPLS_OBJ_DAT_MK2_050                                  ;+1REV
15195                             277 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
15196 00002672 D109               278 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
15197 00002674 6311               279 I1          MOV.W   @R1,R3                                  ;
15198 00002676 3233               280 I1          CMP/GE  R3,R2                                   ;
15199 00002678 8902               281 I1          BT      LNKPLS_OBJ_DAT_MK2_080                  ;
15200 0000267A D505               282 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15201 0000267C 6452               283 I1          MOV.L   @R5,R4                                  ;
15202 0000267E 324C               284 I1          ADD     R4,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   162
PROGRAM NAME =

15203 00002680                    285 I1  LNKPLS_OBJ_DAT_MK2_080                                  ;
15204                             286 I1          M_BRA   LNKPLS_OBJ_DAT_MK2_300                  ;
15205 00002680 A020                   M           BRA     LNKPLS_OBJ_DAT_MK2_300
15206 00002682 0009                   M           NOP
15207                             287 I1  
15208                             288 I1  
15209                             289 I1  ;--------REV-----------
15210                                 I1  ***** BEGIN-POOL *****
15211 00002684 00000000               I1  DATA FOR SOURCE-LINE 252
15212 00002688 00000000               I1  DATA FOR SOURCE-LINE 254
15213 0000268C 00000000               I1  DATA FOR SOURCE-LINE 258
15214 00002690 00000000               I1  DATA FOR SOURCE-LINE 269,282
15215 00002694 00000000               I1  DATA FOR SOURCE-LINE 274
15216 00002698 00000000               I1  DATA FOR SOURCE-LINE 278
15217                                 I1  ***** END-POOL *****
15218 0000269C                    290 I1  LNKPLS_OBJ_DAT_MK2_100:                                 ;R2
15219 0000269C 3218               291 I1          SUB     R1,R2                                   ;R1(PV) > R2(SV)
15220 0000269E 4211               292 I1          CMP/PZ  R2                                      ;
15221 000026A0 8B02               293 I1          BF      LNKPLS_OBJ_DAT_MK2_150                  ;YES
15222 000026A2 D51D               294 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;"0,+"
15223 000026A4 6452               295 I1          MOV.L   @R5,R4                                  ;
15224 000026A6 3248               296 I1          SUB     R4,R2                                   ;
15225 000026A8                    297 I1  LNKPLS_OBJ_DAT_MK2_150                                  ;-1REV
15226 000026A8 4215               298 I1          CMP/PL  R2                                      ;
15227 000026AA 8B03               299 I1          BF      LNKPLS_OBJ_DAT_MK2_200                  ;0,"-"
15228                             300 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15229 000026AC D11B                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15230 000026AE 410B                   M           JSR     @R1                     ;
15231 000026B0 0009                   M           NOP                                     ;
15232 000026B2 222A               301 I1          XOR     R2,R2                                   ;
15233 000026B4                    302 I1  LNKPLS_OBJ_DAT_MK2_200                                  ;
15234                             303 I1  
15235                             304 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
15236 000026B4 D11A               305 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
15237 000026B6 6311               306 I1          MOV.W   @R1,R3                                  ;
15238 000026B8 633B               307 I1          NEG     R3,R3                                   ;
15239 000026BA 3233               308 I1          CMP/GE  R3,R2                                   ;-2000
15240 000026BC 8B02               309 I1          BF      LNKPLS_OBJ_DAT_MK2_280                  ;
15241 000026BE D516               310 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15242 000026C0 6452               311 I1          MOV.L   @R5,R4                                  ;
15243 000026C2 3248               312 I1          SUB     R4,R2                                   ;
15244 000026C4                    313 I1  LNKPLS_OBJ_DAT_MK2_280                                  ;
15245                             314 I1  ;       ---------------------------------------------------
15246                             315 I1  
15247                             316 I1  
15248 000026C4                    317 I1  LNKPLS_OBJ_DAT_MK2_300                                  ;
15249 000026C4 255A               318 I1          XOR     R5,R5                                   ;
15250 000026C6 6623               319 I1          MOV     R2,R6                                   ;R5,R6
15251 000026C8 4211               320 I1          CMP/PZ  R2                                      ;
15252 000026CA 8900               321 I1          BT      LNKPLS_OBJ_DAT_MK2_600                  ;
15253 000026CC E5FF               322 I1          MOV     #-1,R5                                  ;
15254 000026CE                    323 I1  LNKPLS_OBJ_DAT_MK2_600:                                 ;
15255                             324 I1  
15256                             325 I1  
15257 000026CE D415               326 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
15258 000026D0 6146               327 I1          MOV.L   @R4+,R1                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   163
PROGRAM NAME =

15259 000026D2 6242               328 I1          MOV.L   @R4,R2                                  ;
15260                             329 I1          PUSH_REG1 R1
15261 000026D4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
15262                                 M                                           ;REG=>[SP]
15263                                 M                                           ;"-4" FF,FF,FF,FC
15264                             330 I1          PUSH_REG1 R2
15265 000026D6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
15266                                 M                                           ;REG=>[SP]
15267                                 M                                           ;"-4" FF,FF,FF,FC
15268                             331 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
15269 000026D8 0008                   M           CLRT
15270 000026DA 326E                   M           ADDC    R6,R2
15271 000026DC 315E                   M           ADDC    R5,R1
15272                             332 I1  
15273 000026DE D412               333 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
15274 000026E0 2412               334 I1          MOV.L   R1,@R4                                          ;
15275 000026E2 1421               335 I1          MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
15276                             336 I1          POP_REG1 R6
15277                                 M                                   ; RE"+4" 00,00,00,04
15278 000026E4 66F6                   M           MOV.L   @R15+,R6        ;
15279                             337 I1          POP_REG1 R5
15280                                 M                                   ; RE"+4" 00,00,00,04
15281 000026E6 65F6                   M           MOV.L   @R15+,R5        ;
15282                             338 I1  
15283                             339 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
15284 000026E8 0008                   M           CLRT
15285 000026EA 326A                   M           SUBC    R6,R2
15286 000026EC 315A                   M           SUBC    R5,R1
15287 000026EE 233A               340 I1          XOR     R3,R3
15288 000026F0 4111               341 I1          CMP/PZ  R1                              ;
15289 000026F2 8900               342 I1          BT      LNKPLS_OBJ_DAT_MK2_750          ;
15290 000026F4 E301               343 I1          MOV     #BIT0,R3                        ;
15291 000026F6                    344 I1  LNKPLS_OBJ_DAT_MK2_750:                         ;
15292 000026F6 D10D               345 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
15293 000026F8 6211               346 I1          MOV.W   @R1,R2                          ;
15294 000026FA 2131               347 I1          MOV.W   R3,@R1                          ;
15295 000026FC 223A               348 I1          XOR     R3,R2                           ;
15296 000026FE 2228               349 I1          TST     R2,R2                           ;
15297                             350 I1          TST_BIT_OF LNKPLS_OBJ_DAT_MK2_800       ;
15298 00002700 8902                   M           BT      LNKPLS_OBJ_DAT_MK2_800
15299                             351 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15300 00002702 D106                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15301 00002704 410B                   M           JSR     @R1                     ;
15302 00002706 0009                   M           NOP                                     ;
15303 00002708                    352 I1  LNKPLS_OBJ_DAT_MK2_800:                         ;
15304                             353 I1  
15305 00002708 D109               354 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
15306 0000270A 6011               355 I1          MOV.W   @R1,R0                          ;
15307 0000270C C9FE               356 I1          AND     #LOW ~BIT0,R0                   ;
15308 0000270E 203B               357 I1          OR      R3,R0                           ;
15309 00002710 2101               358 I1          MOV.W   R0,@R1                          ;
15310                             359 I1  
15311                             360 I1          SUB_END
15312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15313 00002712 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15314                             361 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   164
PROGRAM NAME =

15315 00002714 000B                   M           RTS                             ;RTSの後ろの
15316 00002716 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15317                             362 I1  
15318                             363 I1  
15319                            5185     
15320                            5186     
15321                            5187     ;       *******************************************
15322                            5188     ;       ***                                     ***
15323                            5189     ;       ***     手動パルサ仕様                  ***
15324                            5190     ;       ***                                     ***
15325                            5191     ;       *******************************************
15326                            5192     ;       0.5秒以内に2ﾊﾟﾙｽ以上増えたら起動
15327                            5193     ;
15328                            5194     ;
15329                            5195             .INCLUDE        "ssa_tep1.inc"          ; //
15330                               1 I1  ;       ***********************************
15331                               2 I1  ;       ***                             ***
15332                               3 I1  ;       ***     手動パルサコントロール  ***
15333                               4 I1  ;       ***                             ***
15334                               5 I1  ;       ***********************************
15335                               6 I1  ;       両手offで終了
15336                               7 I1  ;       符号チェンジ
15337                               8 I1  ;       符号チェンジによる停止指令
15338                               9 I1  ;       停止待ち
15339                              10 I1  ;
15340                              11 I1  ;       +方向動作中にｶｳﾝﾀが"-1以下"になったら+動作完了後"-"に戻す：ｶｳﾝﾀの更新,0CLRは行なわ
                                          ない
15341                              12 I1  ;       -方向動作中にｶｳﾝﾀが"+1以上"になったら-動作完了後"+"に進める:
15342                              13 I1  ;
15343                              14 I1  ;       (1)DIRECTIONﾌﾗｸﾞとｶｳﾝﾀを比較する
15344                              15 I1  ;       (2-1)同じ方向にﾊﾟﾙｽが増えたらｶｳﾝﾀ→位置決めLSIに足しこむ.ｶｳﾝﾀ=0とする
15345                              16 I1  ;       (2-2)逆方向に増えたらﾊﾟﾙｽ払い出しを待つ
15346                              17 I1  ;BIT1   (>3-1)残りﾊﾟﾙｽ=0になったら指令をOFFする。：：：ｽﾃｯﾌﾟｼｰｹﾝｽ開始
15347                              18 I1  ;BIT2   (>3-2)位置決め完了したら10msecWAITする
15348                              19 I1  ;BIT6   (>3-3)起動演算を行なう
15349                              20 I1  ;
15350                              21 I1  ;       TEP_STEP_FLG
15351                              22 I1  ;               .BIT0 払出完了
15352                              23 I1  ;               .BIT1 5msecWAIT
15353                              24 I1  ;
15354                              25 I1  ;
15355                              26 I1  ;       plsData-->start-on
15356                              27 I1          .EXPORT _TEP_FLG_CLR
15357                              28 I1          .EXPORT _TEPA_START_CHK                 ;
15358                              29 I1          .EXPORT _TEPA_PLSCNT_CLR                ;
15359                              30 I1          .EXPORT _TEPA_PLSCNT_CHK                ;
15360                              31 I1  
15361                              32 I1          .IMPORT _PAR_TEP_WATTIM         ;3 1~50msec
15362                              33 I1          .IMPORT _PAR_TEP_BEFPLS         ;4 10pls
15363                              34 I1          .IMPORT _PAR_TEP_MINSPD         ;
15364                              35 I1  
15365                              36 I1  ;;;;まだ組み込まない    .IMPORT _SH4toSH2_TEPSIG        ;
15366                              37 I1  ;;;;まだ組み込まない    .IMPORT _SH2toSH4_TEPSIG        ;
15367                              38 I1  
15368                              39 I1  
15369                                 I1  ***** BEGIN-POOL *****
15370 00002718 00000000               I1  DATA FOR SOURCE-LINE 294,310
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   165
PROGRAM NAME =

15371 0000271C 00000000               I1  DATA FOR SOURCE-LINE 300,351
15372 00002720 00000000               I1  DATA FOR SOURCE-LINE 305
15373 00002724 00000000               I1  DATA FOR SOURCE-LINE 326
15374 00002728 00000000               I1  DATA FOR SOURCE-LINE 333
15375 0000272C 00000000               I1  DATA FOR SOURCE-LINE 345
15376 00002730 00000000               I1  DATA FOR SOURCE-LINE 354
15377                                 I1  ***** END-POOL *****
15378 00002734                     40 I1  _DND_TEP_STEP_CTRL:
15379                              41 I1          SUB_START
15380 00002734 4F22                   M           STS.L   PR,@-R15                ;[必要]
15381                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15382                              42 I1  
15383                              43 I1  ;       -------- 2013-06-05 -----------------------------
15384                              44 I1          DN_TIME LG=W,MEM_ADR=_TEP_CNTSMP_TIM,WKREG1=R1,WKREG2=R2        ;定周期
15385 00002736 D107                   M           MOV.L   #_TEP_CNTSMP_TIM,R1             ;SORCE ADRESS SET
15386 00002738 6211                   M           MOV.W   @R1,R2          ;
15387 0000273A 2228                   M           TST     R2,R2                   ;
15388 0000273C 8901                   M           BT      JMP_0100012                     ;ZERO THEN JUMP
15389 0000273E 4210                   M           DT      R2                              ;
15390 00002740 2121                   M           MOV.W   R2,@R1          ;STORE
15391 00002742                        M   JMP_0100012:
15392                              45 I1  
15393                              46 I1  
15394                              47 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0            ;
15395 00002742 D005                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15396 00002744 400B                   M           JSR     @R0                     ;
15397 00002746 0009                   M           NOP                                     ;
15398                              48 I1  
15399 00002748 D104                49 I1          MOV.L   #_TEP_STEP_FLG,R1               ;
15400 0000274A 6011                50 I1          MOV.W   @R1,R0                          ;
15401 0000274C C802                51 I1          TST     #BIT1,R0                        ;
15402                              52 I1          TST_BIT_OF DND_TEPSTEPCTL_020           ;
15403 0000274E 8907                   M           BT      DND_TEPSTEPCTL_020
15404                              53 I1          M_BRA   DND_TEPSTEPCTL_400              ;
15405 00002750 A056                   M           BRA     DND_TEPSTEPCTL_400
15406 00002752 0009                   M           NOP
15407                                 I1  ***** BEGIN-POOL *****
15408 00002754 00000000               I1  DATA FOR SOURCE-LINE 44
15409 00002758 00000000               I1  DATA FOR SOURCE-LINE 47
15410 0000275C 00000000               I1  DATA FOR SOURCE-LINE 49
15411                                 I1  ***** END-POOL *****
15412 00002760                     54 I1  DND_TEPSTEPCTL_020:
15413                              55 I1  
15414 00002760 C801                56 I1          TST     #BIT0,R0                        ;
15415                              57 I1          TST_BIT_ON DND_TEPSTEPCTL_200           ;
15416 00002762 8B23                   M           BF      DND_TEPSTEPCTL_200
15417                              58 I1  
15418                              59 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
15419 00002764 D00B                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15420 00002766 400B                   M           JSR     @R0                     ;
15421 00002768 0009                   M           NOP                                     ;
15422                              60 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
15423 0000276A D10B                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15424 0000276C 410B                   M           JSR     @R1                     ;
15425 0000276E 0009                   M           NOP                                     ;
15426 00002770 C804                61 I1          TST     #BIT2,R0                        ;停止?
15427                              62 I1          TST_BIT_OF DND_TEPSTEPCTL_180           ;NO 停止中? 0:払出中 1:停止
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   166
PROGRAM NAME =

15428 00002772 890D                   M           BT      DND_TEPSTEPCTL_180
15429                              63 I1  
15430                              64 I1  
15431                              65 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15432 00002774 D009                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15433 00002776 400B                   M           JSR     @R0                     ;
15434 00002778 0009                   M           NOP                                     ;
15435                              66 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15436                              67 I1  
15437                              68 I1  ;       ------ ILDE[0,0] 1回だけではないよ！！--------
15438 0000277A D109                69 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15439 0000277C 6212                70 I1          MOV.L   @R1,R2                                                          ;
15440 0000277E 2228                71 I1          TST     R2,R2                                                           ;
15441                              72 I1          TST_BIT_OF DND_TEPSTEPCTL_180                                           ;
15442 00002780 8906                   M           BT      DND_TEPSTEPCTL_180
15443                              73 I1                                                                                  ;ﾊﾟﾙｽ有り
                                          遷移1
15444                              74 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;2013-05-2
                                          6
15445 00002782 D008                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15446 00002784 400B                   M           JSR     @R0                     ;
15447 00002786 0009                   M           NOP                                     ;
15448                              75 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;[この時点
                                          でﾊﾟﾙｽ設定していない]
15449 00002788 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15450 0000278A 6011                   M           MOV.W   @R1,R0          ;
15451 0000278C CB01                   M           OR      #BIT0,R0                ;
15452 0000278E 2101                   M           MOV.W   R0,@R1          ;
15453                              76 I1  
15454 00002790                     77 I1  DND_TEPSTEPCTL_180:
15455                              78 I1          M_BRA   DND_TEPSTEPCTL_900              ;
15456 00002790 A057                   M           BRA     DND_TEPSTEPCTL_900
15457 00002792 0009                   M           NOP
15458                              79 I1  
15459                              80 I1  ;       -------------- 払い出し待ち------------
15460                                 I1  ***** BEGIN-POOL *****
15461 00002794 00000000               I1  DATA FOR SOURCE-LINE 59
15462 00002798 00000000               I1  DATA FOR SOURCE-LINE 60
15463 0000279C 00000000               I1  DATA FOR SOURCE-LINE 65
15464 000027A0 00000000               I1  DATA FOR SOURCE-LINE 69
15465 000027A4 00000000               I1  DATA FOR SOURCE-LINE 74
15466 000027A8 00000000               I1  DATA FOR SOURCE-LINE 75
15467                                 I1  ***** END-POOL *****
15468 000027AC                     81 I1  DND_TEPSTEPCTL_200:
15469                              82 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0                                     ;
15470 000027AC D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15471 000027AE 400B                   M           JSR     @R0                     ;
15472 000027B0 0009                   M           NOP                                     ;
15473                              83 I1          FAR_JSR #_LOD_POS_STS_REG,R1                                            ;
15474 000027B2 D10A                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15475 000027B4 410B                   M           JSR     @R1                     ;
15476 000027B6 0009                   M           NOP                                     ;
15477 000027B8 C804                84 I1          TST     #BIT2,R0                                                        ;停止?
15478                              85 I1          TST_BIT_OF DND_TEPSTEPCTL_220                                           ;NO 停止中
                                          ? 0:払出中 1:停止
15479 000027BA 8919                   M           BT      DND_TEPSTEPCTL_220
15480                              86 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   167
PROGRAM NAME =

15481                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1        ;[払い出し
                                          完了 遷移2]
15482 000027BC D108                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15483 000027BE 6011                   M           MOV.W   @R1,R0          ;
15484 000027C0 CB02                   M           OR      #BIT1,R0                ;
15485 000027C2 2101                   M           MOV.W   R0,@R1          ;
15486                              88 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0                                          ;
15487 000027C4 D007                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15488 000027C6 400B                   M           JSR     @R0                     ;
15489 000027C8 0009                   M           NOP                                     ;
15490                              89 I1  
15491                              90 I1  
15492                              91 I1  ;       ------- 2013-06-05 払出完了開始遅延100ms--------
15493 000027CA D107                92 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1                                           ;//2013-06
                                          -05
15494 000027CC 6211                93 I1          MOV.W   @R1,R2                                                          ;
15495 000027CE D107                94 I1          MOV.L   #_TEP_STEP_WTTM,R1                                              ;
15496 000027D0 2121                95 I1          MOV.W   R2,@R1                                                          ;
15497                              96 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15498 000027D2 A036                   M           BRA     DND_TEPSTEPCTL_900
15499 000027D4 0009                   M           NOP
15500                              97 I1  
15501                                 I1  ***** BEGIN-POOL *****
15502 000027D6 0000                   I1  ALIGNMENT CODE
15503 000027D8 00000000               I1  DATA FOR SOURCE-LINE 82
15504 000027DC 00000000               I1  DATA FOR SOURCE-LINE 83
15505 000027E0 00000000               I1  DATA FOR SOURCE-LINE 87
15506 000027E4 00000000               I1  DATA FOR SOURCE-LINE 88
15507 000027E8 00000000               I1  DATA FOR SOURCE-LINE 92
15508 000027EC 00000000               I1  DATA FOR SOURCE-LINE 94
15509                                 I1  ***** END-POOL *****
15510 000027F0                     98 I1  DND_TEPSTEPCTL_220:                                                             ;
15511                              99 I1  ;       2013-05-20 動作中の加算                                         ;
15512                             100 I1  
15513                             101 I1          FAR_JSR #_TEPA_ADD_LSI,R0                                       ;
15514 000027F0 D002                   M           MOV.L   #_TEPA_ADD_LSI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15515 000027F2 400B                   M           JSR     @R0                     ;
15516 000027F4 0009                   M           NOP                                     ;
15517                             102 I1  
15518 000027F6                    103 I1  DND_TEPSTEPCTL_290:                                                     ;
15519                             104 I1          M_BRA   DND_TEPSTEPCTL_900                                      ;
15520 000027F6 A024                   M           BRA     DND_TEPSTEPCTL_900
15521 000027F8 0009                   M           NOP
15522                             105 I1  
15523                             106 I1  
15524                             107 I1  ;       -------- 遅延待ち--------
15525                                 I1  ***** BEGIN-POOL *****
15526 000027FA 0000                   I1  ALIGNMENT CODE
15527 000027FC 00000000               I1  DATA FOR SOURCE-LINE 101
15528                                 I1  ***** END-POOL *****
15529 00002800                    108 I1  DND_TEPSTEPCTL_400:
15530 00002800 D103               109 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15531 00002802 6011               110 I1          MOV.W   @R1,R0                                          ;
15532 00002804 2008               111 I1          TST     R0,R0                                           ;
15533                             112 I1          TST_BIT_OF DND_TEPSTEPCTL_420                           ;
15534 00002806 8905                   M           BT      DND_TEPSTEPCTL_420
15535 00002808 70FF               113 I1          ADD     #-1,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   168
PROGRAM NAME =

15536 0000280A 2101               114 I1          MOV.W   R0,@R1                                          ;
15537                             115 I1  
15538                             116 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0                         ;
15539                             117 I1          M_BRA   DND_TEPSTEPCTL_900                              ;
15540 0000280C A019                   M           BRA     DND_TEPSTEPCTL_900
15541 0000280E 0009                   M           NOP
15542                             118 I1  
15543                             119 I1  
15544                                 I1  ***** BEGIN-POOL *****
15545 00002810 00000000               I1  DATA FOR SOURCE-LINE 109
15546                                 I1  ***** END-POOL *****
15547 00002814                    120 I1  DND_TEPSTEPCTL_420:                                             ;
15548                             121 I1  
15549                             122 I1  ;       ---- ﾀｲﾏ中にﾊﾟﾙｽがあった。再起動[BIT1->BIT0]--------
15550 00002814 D106               123 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15551 00002816 6012               124 I1          MOV.L   @R1,R0                                                          ;
15552 00002818 2008               125 I1          TST     R0,R0                                                           ;
15553                             126 I1          TST_BIT_OF DND_TEPSTEPCTL_800                                           ;
15554 0000281A 890F                   M           BT      DND_TEPSTEPCTL_800
15555                             127 I1  
15556                             128 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;
15557 0000281C D005                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15558 0000281E 400B                   M           JSR     @R0                     ;
15559 00002820 0009                   M           NOP                                     ;
15560                             129 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
15561 00002822 D105                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15562 00002824 6011                   M           MOV.W   @R1,R0          ;
15563 00002826 CB01                   M           OR      #BIT0,R0                ;
15564 00002828 2101                   M           MOV.W   R0,@R1          ;
15565                             130 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15566 0000282A A00A                   M           BRA     DND_TEPSTEPCTL_900
15567 0000282C 0009                   M           NOP
15568                             131 I1  
15569                             132 I1  
15570                             133 I1  ;       --------- 完全なﾀｲﾑｱｯﾌﾟ-------
15571                                 I1  ***** BEGIN-POOL *****
15572 0000282E 0000                   I1  ALIGNMENT CODE
15573 00002830 00000000               I1  DATA FOR SOURCE-LINE 123
15574 00002834 00000000               I1  DATA FOR SOURCE-LINE 128
15575 00002838 00000000               I1  DATA FOR SOURCE-LINE 129
15576                                 I1  ***** END-POOL *****
15577 0000283C                    134 I1  DND_TEPSTEPCTL_800:
15578                             135 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;[遷移0]
15579 0000283C D003                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15580 0000283E 400B                   M           JSR     @R0                     ;
15581 00002840 0009                   M           NOP                                     ;
15582                             136 I1  
15583                             137 I1  
15584 00002842                    138 I1  DND_TEPSTEPCTL_900:
15585 00002842 0009               139 I1          NOP
15586 00002844                    140 I1  DND_TEPSTEPCTL_EXT:
15587                             141 I1          SUB_END
15588                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15589 00002844 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15590                             142 I1          M_RTS
15591 00002846 000B                   M           RTS                             ;RTSの後ろの
15592 00002848 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   169
PROGRAM NAME =

15593                             143 I1  
15594                             144 I1  
15595                             145 I1  ;       ***********************************
15596                             146 I1  ;       ***                             ***
15597                             147 I1  ;       ***     起動処理                ***
15598                             148 I1  ;       ***                             ***
15599                             149 I1  ;       ***********************************
15600                                 I1  ***** BEGIN-POOL *****
15601 0000284A 0000                   I1  ALIGNMENT CODE
15602 0000284C 00000000               I1  DATA FOR SOURCE-LINE 135
15603                                 I1  ***** END-POOL *****
15604 00002850                    150 I1  _MN_TEP_START
15605                             151 I1          SUB_START
15606 00002850 4F22                   M           STS.L   PR,@-R15                ;[必要]
15607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15608                             152 I1          FAR_JSR #_TEP_START_INIT1,R0                    ;
15609 00002852 D00D                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15610 00002854 400B                   M           JSR     @R0                     ;
15611 00002856 0009                   M           NOP                                     ;
15612                             153 I1  
15613                             154 I1  ;;;;;;2014-09-14        MOV.L   #_LINK_PV_ABSPLS,R4             ;
15614                             155 I1  ;;;;;;2014-09-14        MOV.L   @R4+,R1                                 ;
15615                             156 I1  ;;;;;;2014-09-14        MOV.L   @R4,R2                                  ;
15616                             157 I1  
15617 00002858 D40C               158 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
15618 0000285A 5140               159 I1          MOV.L   @(0,R4),R1                              ;
15619 0000285C 5241               160 I1          MOV.L   @(4,R4),R2                              ;
15620 0000285E D40C               161 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15621 00002860 2412               162 I1          MOV.L   R1,@R4                                  ;
15622 00002862 1421               163 I1          MOV.L   R2,@(1*4,R4)                            ;目標位置ｾｯﾄ
15623                             164 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
15624 00002864 D00B                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15625 00002866 400B                   M           JSR     @R0                     ;
15626 00002868 0009                   M           NOP                                     ;
15627                             165 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0                    ;
15628 0000286A D00B                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15629 0000286C 400B                   M           JSR     @R0                     ;
15630 0000286E 0009                   M           NOP                                     ;
15631                             166 I1  ;       --- 位置データを作らない---- FAR_JSR #_TEP_SV_OBJ_MAK,R0
15632                             167 I1  
15633                             168 I1  
15634                             169 I1          FAR_JSR #_DNDINC_SPD_SET,R4                             ;とりあえずこれは触らない[
                                          ]
15635 00002870 D40A                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15636 00002872 440B                   M           JSR     @R4                     ;
15637 00002874 0009                   M           NOP                                     ;
15638                             170 I1  
15639                             171 I1  ;       ---------- 2013-06-05
15640 00002876 200A               172 I1          XOR     R0,R0                                           ;
15641 00002878 D109               173 I1          MOV.L   #_TEP_CNTSMP_TIM,R1                             ;
15642 0000287A 2101               174 I1          MOV.W   R0,@R1                                          ;
15643 0000287C D109               175 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15644 0000287E 2101               176 I1          MOV.W   R0,@R1                                          ;
15645                             177 I1  
15646                             178 I1  
15647                             179 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   170
PROGRAM NAME =

15648                             180 I1  
15649                             181 I1          SUB_END
15650                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15651 00002880 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15652                             182 I1          M_RTS
15653 00002882 000B                   M           RTS                             ;RTSの後ろの
15654 00002884 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15655                             183 I1  
15656                             184 I1  ;       ***********************************
15657                             185 I1  ;       ***                             ***
15658                             186 I1  ;       ***     再起動処理              ***
15659                             187 I1  ;       ***                             ***
15660                             188 I1  ;       ***********************************
15661                             189 I1  ;       <<<<<<<<<<<100msecの速度で動作させる>>>>>>>>>>
15662                             190 I1  ;
15663                                 I1  ***** BEGIN-POOL *****
15664 00002886 0000                   I1  ALIGNMENT CODE
15665 00002888 00000000               I1  DATA FOR SOURCE-LINE 152
15666 0000288C 00000000               I1  DATA FOR SOURCE-LINE 158
15667 00002890 00000000               I1  DATA FOR SOURCE-LINE 161
15668 00002894 00000000               I1  DATA FOR SOURCE-LINE 164
15669 00002898 00000000               I1  DATA FOR SOURCE-LINE 165
15670 0000289C 00000000               I1  DATA FOR SOURCE-LINE 169
15671 000028A0 00000000               I1  DATA FOR SOURCE-LINE 173
15672 000028A4 00000000               I1  DATA FOR SOURCE-LINE 175
15673                                 I1  ***** END-POOL *****
15674 000028A8                    191 I1  _INT_TEP_RESTART
15675                             192 I1          SUB_START
15676 000028A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15677                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15678                             193 I1  
15679                             194 I1  
15680 000028AA 222A               195 I1          XOR     R2,R2
15681 000028AC D117               196 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15682 000028AE 2121               197 I1          MOV.W   R2,@R1                          ;
15683                             198 I1  
15684                             199 I1  ;       --------- 2013-06-19 -----------------
15685                             200 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15686 000028B0 D017                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15687 000028B2 400B                   M           JSR     @R0                     ;
15688 000028B4 0009                   M           NOP                                     ;
15689                             201 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15690                             202 I1  
15691                             203 I1  ;       --------- 2013-06-05 -----------------
15692                             204 I1          FAR_JSR #_TEP_SPD_CALC1,R0                      ;
15693 000028B6 D017                   M           MOV.L   #_TEP_SPD_CALC1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15694 000028B8 400B                   M           JSR     @R0                     ;
15695 000028BA 0009                   M           NOP                                     ;
15696                             205 I1          FAR_JSR #_TEP_SPD_SET,R0                        ;
15697 000028BC D016                   M           MOV.L   #_TEP_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15698 000028BE 400B                   M           JSR     @R0                     ;
15699 000028C0 0009                   M           NOP                                     ;
15700                             206 I1  
15701                             207 I1  ;;;2013-06-05   FAR_JSR #_DNDINC_SPD_SET,R4             ;
15702                             208 I1  
15703                             209 I1  ;;;;;;  FAR_JSR #_POS_LSI_START_INITAL,R0                                       ;
15704                             210 I1          FAR_JSR #_POS_LSI_START_INITAL_TEP,R0                                   ;2013-06-1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   171
PROGRAM NAME =

                                          3
15705 000028C2 D016                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15706 000028C4 400B                   M           JSR     @R0                     ;
15707 000028C6 0009                   M           NOP                                     ;
15708                             211 I1  
15709 000028C8 D115               212 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                                         ;目標速度
15710 000028CA 6212               213 I1          MOV.L   @R1,R2                                                          ;
15711                             214 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1                                      ;
15712 000028CC D115                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15713 000028CE 410B                   M           JSR     @R1                     ;
15714 000028D0 0009                   M           NOP                                     ;
15715                             215 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                                        ;
15716 000028D2 D015                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15717 000028D4 400B                   M           JSR     @R0                     ;
15718 000028D6 0009                   M           NOP                                     ;
15719                             216 I1  
15720                             217 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                                        ;
15721 000028D8 D014                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15722 000028DA 400B                   M           JSR     @R0                     ;
15723 000028DC 0009                   M           NOP                                     ;
15724                             218 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0                                       ;(停止時か
                                          らの起動の場合のみ有効・安一のみ)
15725 000028DE D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15726 000028E0 400B                   M           JSR     @R0                     ;
15727 000028E2 0009                   M           NOP                                     ;
15728                             219 I1          FAR_JSR #_FWD_REV_START,R1                                              ;起動
15729 000028E4 D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15730 000028E6 410B                   M           JSR     @R1                     ;
15731 000028E8 0009                   M           NOP                                     ;
15732                             220 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
15733 000028EA D113                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15734 000028EC 6011                   M           MOV.W   @R1,R0          ;
15735 000028EE CB01                   M           OR      #BIT0,R0                ;
15736 000028F0 2101                   M           MOV.W   R0,@R1          ;
15737                             221 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                          ;
15738 000028F2 D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15739 000028F4 400B                   M           JSR     @R0                     ;
15740 000028F6 0009                   M           NOP                                     ;
15741                             222 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0                                    ;
15742 000028F8 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15743 000028FA 400B                   M           JSR     @R0                     ;
15744 000028FC 0009                   M           NOP                                     ;
15745                             223 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;
15746 000028FE D011                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15747 00002900 400B                   M           JSR     @R0                     ;
15748 00002902 0009                   M           NOP                                     ;
15749                             224 I1          SUB_END
15750                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15751 00002904 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15752                             225 I1          M_RTS
15753 00002906 000B                   M           RTS                             ;RTSの後ろの
15754 00002908 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15755                             226 I1  
15756                             227 I1  
15757                             228 I1  ;;;;;;;;2013-06-05元元未使用    ***********************************
15758                             229 I1  ;;;;;;;;        ***                             ***
15759                             230 I1  ;;;;;;;;        ***     再ADD                   ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   172
PROGRAM NAME =

15760                             231 I1  ;;;;;;;;        ***                             ***
15761                             232 I1  ;;;;;;;;;       ***********************************
15762                             233 I1  ;;;;;;;;_TEP_ADD_OBJMAK:
15763                             234 I1  ;;;;;;;;        SUB_START
15764                             235 I1  ;;;;;;;;        FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;
15765                             236 I1  ;;;;;;;;        FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
15766                             237 I1  ;;;;;;;;        FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
15767                             238 I1  ;;;;;;;;        FAR_JSR #_TEP_START_INIT1,R0                    ;
15768                             239 I1  ;;;;;;;;        SUB_END
15769                             240 I1  ;;;;;;;;        M_RTS
15770                             241 I1  
15771                             242 I1  
15772                                 I1  ***** BEGIN-POOL *****
15773 0000290A 0000                   I1  ALIGNMENT CODE
15774 0000290C 00000000               I1  DATA FOR SOURCE-LINE 196
15775 00002910 00000000               I1  DATA FOR SOURCE-LINE 200
15776 00002914 00000000               I1  DATA FOR SOURCE-LINE 204
15777 00002918 00000000               I1  DATA FOR SOURCE-LINE 205
15778 0000291C 00000000               I1  DATA FOR SOURCE-LINE 210
15779 00002920 00000000               I1  DATA FOR SOURCE-LINE 212
15780 00002924 00000000               I1  DATA FOR SOURCE-LINE 214
15781 00002928 00000000               I1  DATA FOR SOURCE-LINE 215
15782 0000292C 00000000               I1  DATA FOR SOURCE-LINE 217
15783 00002930 00000000               I1  DATA FOR SOURCE-LINE 218
15784 00002934 00000000               I1  DATA FOR SOURCE-LINE 219
15785 00002938 00000000               I1  DATA FOR SOURCE-LINE 220
15786 0000293C 00000000               I1  DATA FOR SOURCE-LINE 221
15787 00002940 00000000               I1  DATA FOR SOURCE-LINE 222
15788 00002944 00000000               I1  DATA FOR SOURCE-LINE 223
15789                                 I1  ***** END-POOL *****
15790 00002948                    243 I1  _TEP_START_INIT1
15791                             244 I1          SUB_START
15792 00002948 4F22                   M           STS.L   PR,@-R15                ;[必要]
15793                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15794                             245 I1  
15795                             246 I1          MEM1_0CLR MEM=_TEP_STEP_FLG,LG=W,WKREG1=R1,CLRREG=R0            ;
15796 0000294A D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15797 0000294C 200A                   M           XOR     R0,R0           ;
15798 0000294E 2101                   M           MOV.W   R0,@R1  ;
15799                             247 I1          MEM1_0CLR MEM=_TEP_POS_ADD_CNT,LG=L,WKREG1=R1,CLRREG=R0         ;
15800 00002950 D106                   M           MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15801 00002952 200A                   M           XOR     R0,R0           ;
15802 00002954 2102                   M           MOV.L   R0,@R1  ;
15803                             248 I1  ;       2013-06-20
15804                             249 I1          MEM1_0CLR MEM=_TEP_INPLS_FLG,LG=W,WKREG1=R1,CLRREG=R0           ;
15805 00002956 D106                   M           MOV.L   #_TEP_INPLS_FLG,R1              ;
15806 00002958 200A                   M           XOR     R0,R0           ;
15807 0000295A 2101                   M           MOV.W   R0,@R1  ;
15808                             250 I1  
15809                             251 I1  ;;;;;;;;2013-06-05      MEM1_0CLR MEM=_TEP_POS_ADD_CNTOLD,LG=L,WKREG1=R1,CLRREG=R0      ;
15810                             252 I1  
15811                             253 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0  ;2013-07-19
15812 0000295C D005                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15813 0000295E 400B                   M           JSR     @R0                     ;
15814 00002960 0009                   M           NOP                                     ;
15815                             254 I1  
15816                             255 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   173
PROGRAM NAME =

15817                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15818 00002962 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15819                             256 I1          M_RTS
15820 00002964 000B                   M           RTS                             ;RTSの後ろの
15821 00002966 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15822                             257 I1  
15823                             258 I1  
15824                             259 I1  ;       *******************************************
15825                             260 I1  ;       ***                                     ***
15826                             261 I1  ;       ***             倍率                    ***
15827                             262 I1  ;       ***                                     ***
15828                             263 I1  ;       *******************************************
15829                             264 I1  ;       Output R2:NEW CUNTER
15830                             265 I1  ;       Output R3:OLD CUNTER
15831                             266 I1  ;       起動時はR2,R3は使用しない
15832                                 I1  ***** BEGIN-POOL *****
15833 00002968 00000000               I1  DATA FOR SOURCE-LINE 246
15834 0000296C 00000000               I1  DATA FOR SOURCE-LINE 247
15835 00002970 00000000               I1  DATA FOR SOURCE-LINE 249
15836 00002974 00000000               I1  DATA FOR SOURCE-LINE 253
15837                                 I1  ***** END-POOL *****
15838 00002978                    267 I1  _TEP_ADD_PLS_MAK:
15839                             268 I1          SUB_START
15840 00002978 4F22                   M           STS.L   PR,@-R15                ;[必要]
15841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15842                             269 I1  
15843                             270 I1  ;       ----------- DIRECT作成 2013-06-20--------
15844 0000297A D415               271 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15845 0000297C 6241               272 I1          MOV.W   @R4,R2                          ;
15846 0000297E 2228               273 I1          TST     R2,R2                           ;
15847                             274 I1          TST_BIT_OF TEP_ADD_PLSMK_030            ;
15848 00002980 8907                   M           BT      TEP_ADD_PLSMK_030
15849                             275 I1  
15850 00002982 9021               276 I1          MOV.W   #BIT4,R0                        ;
15851 00002984 4211               277 I1          CMP/PZ  R2
15852 00002986 8900               278 I1          BT      TEP_ADD_PLSMK_020               ;FWD
15853 00002988 901F               279 I1          MOV.W   #BIT5,R0                        ;REV
15854 0000298A                    280 I1  TEP_ADD_PLSMK_020:
15855 0000298A D112               281 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15856 0000298C 6211               282 I1          MOV.W   @R1,R2                          ;
15857 0000298E 220B               283 I1          OR      R0,R2                           ;
15858 00002990 2121               284 I1          MOV.W   R2,@R1                          ;
15859 00002992                    285 I1  TEP_ADD_PLSMK_030:
15860                             286 I1  ;       -----------------------------------------
15861                             287 I1  
15862                             288 I1  
15863 00002992 D311               289 I1          MOV.L   #_SET1_PLSALO_PLS,R3            ;//パルサ倍率低
15864 00002994 D111               290 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15865 00002996 6011               291 I1          MOV.W   @R1,R0                          ;
15866 00002998 C804               292 I1          TST     #BIT2,R0                        ;0:LOW 1:HIGH
15867                             293 I1          TST_BIT_OF TEP_ADD_PLSMK_050            ;
15868 0000299A 8900                   M           BT      TEP_ADD_PLSMK_050
15869 0000299C D310               294 I1          MOV.L   #_SET1_PLSAHI_PLS,R3            ;パルサ倍率高
15870 0000299E                    295 I1  TEP_ADD_PLSMK_050:
15871 0000299E 6131               296 I1          MOV.W   @R3,R1                          ;
15872 000029A0 9414               297 I1          MOV.W   #D'1000,R4                      ;
15873 000029A2 3412               298 I1          CMP/HS  R1,R4                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   174
PROGRAM NAME =

15874 000029A4 8900               299 I1          BT      TEP_ADD_PLSMK_100               ;
15875 000029A6 6143               300 I1          MOV     R4,R1                           ;
15876 000029A8                    301 I1  TEP_ADD_PLSMK_100:                              ;
15877 000029A8 2118               302 I1          TST     R1,R1                           ;
15878                             303 I1          TST_BIT_ON TEP_ADD_PLSMK_150            ;
15879 000029AA 8B00                   M           BF      TEP_ADD_PLSMK_150
15880 000029AC E101               304 I1          MOV     #1,R1                           ;
15881 000029AE                    305 I1  TEP_ADD_PLSMK_150:                              ;
15882                             306 I1  
15883 000029AE 200A               307 I1          XOR     R0,R0
15884 000029B0 D407               308 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15885 000029B2 6241               309 I1          MOV.W   @R4,R2                          ;
15886 000029B4 2401               310 I1          MOV.W   R0,@R4                          ;0CLR
15887                             311 I1                                                  ;R2
15888                             312 I1  
15889 000029B6 212F               313 I1          MULS.W  R2,R1                           ;
15890 000029B8 021A               314 I1          STS     MACL,R2                         ;
15891 000029BA D10A               315 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15892 000029BC 6312               316 I1          MOV.L   @R1,R3                          ;
15893 000029BE 323C               317 I1          ADD     R3,R2                           ;
15894 000029C0 2122               318 I1          MOV.L   R2,@R1                          ;R3:OLD R2:NEW
15895                             319 I1  ;;;;;;;2013-06-05       MOV.L   #_TEP_POS_ADD_CNTOLD,R1         ;[[[[[[[[使用していない]]]
                                          ]]]]]]]]]]]]]
15896                             320 I1  ;;;;;;;2013-06-05       MOV.L   R3,@R1                          ;
15897                             321 I1  
15898                             322 I1          SUB_END
15899                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15900 000029C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15901                             323 I1          M_RTS
15902 000029C4 000B                   M           RTS                             ;RTSの後ろの
15903 000029C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15904                             324 I1  
15905                             325 I1  ;       *******************************************
15906                             326 I1  ;       ***                                     ***
15907                             327 I1  ;       ***     位置決め側                      ***
15908                             328 I1  ;       ***     起動時の位置作成                ***
15909                             329 I1  ;       ***     再起動時の位置作成              ***
15910                             330 I1  ;       ***                                     ***
15911                             331 I1  ;       *******************************************
15912                                 I1  ***** BEGIN-POOL *****
15913 000029C8 0010                   I1  DATA FOR SOURCE-LINE 276
15914 000029CA 0020                   I1  DATA FOR SOURCE-LINE 279
15915 000029CC 03E8                   I1  DATA FOR SOURCE-LINE 297
15916 000029CE 0000                   I1  ALIGNMENT CODE
15917 000029D0 00000000               I1  DATA FOR SOURCE-LINE 271,308
15918 000029D4 00000000               I1  DATA FOR SOURCE-LINE 281
15919 000029D8 00000000               I1  DATA FOR SOURCE-LINE 289
15920 000029DC 00000000               I1  DATA FOR SOURCE-LINE 290
15921 000029E0 00000000               I1  DATA FOR SOURCE-LINE 294
15922 000029E4 00000000               I1  DATA FOR SOURCE-LINE 315
15923                                 I1  ***** END-POOL *****
15924 000029E8                    332 I1  _TEP_1STEP_DATA_MAK1:
15925                             333 I1          SUB_START
15926 000029E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15927                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15928                             334 I1  
15929 000029EA D008               335 I1          MOV.L   #_CPOS_CTL_MATH,R0              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   175
PROGRAM NAME =

15930 000029EC 6001               336 I1          MOV.W   @R0,R0                          ;
15931                             337 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15932 000029EE C805               338 I1          TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;[2009-10-07下振子]
15933                             339 I1          TST_BIT_ON TEP_1STEP_DATMK1_080         ;
15934 000029F0 8B17                   M           BF      TEP_1STEP_DATMK1_080
15935                             340 I1  
15936                             341 I1          FAR_JSR #_NEG_TEPA_AREA_CHK,R0          ;反転モードのエリア
15937 000029F2 D007                   M           MOV.L   #_NEG_TEPA_AREA_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15938 000029F4 400B                   M           JSR     @R0                     ;
15939 000029F6 0009                   M           NOP                                     ;
15940 000029F8 2008               342 I1          TST     R0,R0                           ;
15941                             343 I1          TST_BIT_OF TEP_1STEP_DATMK1_080         ;+/- OK
15942 000029FA 8912                   M           BT      TEP_1STEP_DATMK1_080
15943                             344 I1  
15944 000029FC D105               345 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15945 000029FE 6212               346 I1          MOV.L   @R1,R2                          ;
15946 00002A00 4211               347 I1          CMP/PZ  R2                              ;
15947 00002A02 8909               348 I1          BT      TEP_1STEP_DATMK1_050            ;
15948                             349 I1  ;       ------ "-" PLS入ってきた----
15949 00002A04 4011               350 I1          CMP/PZ  R0                              ;
15950 00002A06 8909               351 I1          BT      TEP_1STEP_DATMK1_070            ;+のみ許可
15951                             352 I1          M_BRA   TEP_1STEP_DATMK1_080            ;-:OK
15952 00002A08 A00B                   M           BRA     TEP_1STEP_DATMK1_080
15953 00002A0A 0009                   M           NOP
15954                             353 I1  
15955                             354 I1  ;       ------ + PLS----
15956                                 I1  ***** BEGIN-POOL *****
15957 00002A0C 00000000               I1  DATA FOR SOURCE-LINE 335
15958 00002A10 00000000               I1  DATA FOR SOURCE-LINE 341
15959 00002A14 00000000               I1  DATA FOR SOURCE-LINE 345
15960                                 I1  ***** END-POOL *****
15961 00002A18                    355 I1  TEP_1STEP_DATMK1_050:
15962 00002A18 4015               356 I1          CMP/PL  R0                              ;"+"OK?
15963 00002A1A 8902               357 I1          BT      TEP_1STEP_DATMK1_080            ;YES OK
15964 00002A1C                    358 I1  TEP_1STEP_DATMK1_070:
15965 00002A1C D116               359 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15966 00002A1E 200A               360 I1          XOR     R0,R0                           ;
15967 00002A20 2102               361 I1          MOV.L   R0,@R1                          ;
15968                             362 I1  
15969                             363 I1  ;       -----------ふりこ・回転の通常　及び反転の位置カット後の処理------------
15970 00002A22                    364 I1  TEP_1STEP_DATMK1_080:
15971 00002A22 D416               365 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
15972 00002A24 6142               366 I1          MOV.L   @R4,R1                                                  ;
15973 00002A26 5241               367 I1          MOV.L   @(1*4,R4),R2                                            ;
15974                             368 I1  
15975 00002A28 D013               369 I1          MOV.L   #_TEP_POS_ADD_CNT,R0                                    ;位置決め側使用デ
                                          ータ
15976 00002A2A 6602               370 I1          MOV.L   @R0,R6                                                  ;
15977                             371 I1          EXTS_4B_TO_8B REG8B_H=R5,REG4B=R6                               ;
15978 00002A2C 255A                   M           XOR     R5,R5
15979 00002A2E 4611                   M           CMP/PZ  R6
15980 00002A30 8900                   M           BT      JMP0100013              ;
15981 00002A32 75FF                   M           ADD     #-1,R5  ;
15982 00002A34                        M   JMP0100013:
15983                                 M   
15984                             372 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2
15985 00002A34 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   176
PROGRAM NAME =

15986 00002A36 326E                   M           ADDC    R6,R2
15987 00002A38 315E                   M           ADDC    R5,R1
15988                             373 I1  
15989                             374 I1  ;;      ------2007-01-23 LIMIT R1,R2(OBJ) R5,R6(DELT):反転の時---------------
15990                             375 I1  ;;      MOV.L   #_CPOS_CTL_MATH,R0              ;
15991                             376 I1  ;;      MOV.W   @R0,R0                          ;
15992                             377 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15993                             378 I1  ;;      TST_BIT_ON TEP_1STEP_DATMK1_200         ;
15994                             379 I1  ;;
15995                             380 I1  ;;      --(反転)--
15996                             381 I1  ;;      MOV.L   #_TEP_POS_ADD_CNT,R0            ;位置決め側使用データ
15997                             382 I1  ;;      MOV.L   @R0,R0                          ;
15998                             383 I1  ;;      CMP/PZ  R0                              ;
15999                             384 I1  ;;      BT      TEP_1STEP_DATMK1_100            ;
16000                             385 I1  ;;      ----- MINAS LIMIT -------
16001                             386 I1  ;;
16002                             387 I1  ;;
16003                             388 I1  ;;TEP_1STEP_DATMK1_100:
16004                             389 I1  ;;      ----- PLAS LIMIT -------
16005                             390 I1  ;;
16006                             391 I1  ;;
16007                             392 I1  ;;
16008                             393 I1  ;;
16009                             394 I1  ;;TEP_1STEP_DATMK1_200:
16010 00002A3A D410               395 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
16011 00002A3C 2412               396 I1          MOV.L   R1,@R4                                  ;
16012 00002A3E 1421               397 I1          MOV.L   R2,@(1*4,R4)                            ;
16013 00002A40 D40F               398 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
16014 00002A42 2412               399 I1          MOV.L   R1,@R4                                  ;
16015 00002A44 1421               400 I1          MOV.L   R2,@(4,R4)                              ;
16016                             401 I1  
16017 00002A46 D40F               402 I1          MOV.L   #_LNGTH_ADD_DATA,R4                     ;//符号付き
16018 00002A48 2452               403 I1          MOV.L   R5,@R4                                  ;
16019 00002A4A 1461               404 I1          MOV.L   R6,@(4,R4)                              ;
16020                             405 I1  
16021 00002A4C D40E               406 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                  ;//符号付き
16022 00002A4E 2452               407 I1          MOV.L   R5,@R4                                  ;
16023 00002A50 1461               408 I1          MOV.L   R6,@(4,R4)                              ;
16024                             409 I1  
16025 00002A52 233A               410 I1          XOR     R3,R3                                   ;
16026 00002A54 4511               411 I1          CMP/PZ  R5                                      ;
16027 00002A56 8900               412 I1          BT      TEP_1STEP_DATMK1_100                    ;
16028 00002A58 930C               413 I1          MOV.W   #BIT0,R3                                ;
16029 00002A5A                    414 I1  TEP_1STEP_DATMK1_100:
16030 00002A5A D10C               415 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
16031 00002A5C 2131               416 I1          MOV.W   R3,@R1                                  ;
16032                             417 I1  
16033 00002A5E D10C               418 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1                   ;
16034 00002A60 6011               419 I1          MOV.W   @R1,R0                                  ;
16035 00002A62 C9FE               420 I1          AND     #LOW ~BIT0,R0                           ;
16036 00002A64 203B               421 I1          OR      R3,R0                                   ;
16037 00002A66 2101               422 I1          MOV.W   R0,@R1                                  ;
16038                             423 I1  
16039                             424 I1  ;       ---------- 2013-06-20 ------------
16040 00002A68 200A               425 I1          XOR     R0,R0                           ;
16041 00002A6A D10A               426 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   177
PROGRAM NAME =

16042 00002A6C 2101               427 I1          MOV.W   R0,@R1                          ;
16043                             428 I1  
16044                             429 I1          SUB_END
16045                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16046 00002A6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16047                             430 I1          M_RTS
16048 00002A70 000B                   M           RTS                             ;RTSの後ろの
16049 00002A72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16050                             431 I1  
16051                             432 I1  
16052                             433 I1  
16053                             434 I1  ;       *******************************************
16054                             435 I1  ;       ***                                     ***
16055                             436 I1  ;       ***     手動パルサの反転のリミット      ***
16056                             437 I1  ;       ***     2007-01-23                      ***
16057                             438 I1  ;       *******************************************
16058                             439 I1  ;       0~165が動作範囲とする
16059                             440 I1  ;       180~0~165までは+側を受け付ける(=165~180まではﾌﾟﾗｽを受付けない)
16060                             441 I1  ;       0~165~180までは-側を受け付ける(=180~0まではﾏｲﾅｽを受付けない)
16061                             442 I1  ;       実測で0~165の範囲は+/-受け付ける
16062                             443 I1  ;
16063                             444 I1  ;
16064                             445 I1  ;       180
16065                             446 I1  ;
16066                             447 I1  ;
16067                             448 I1  ;
16068                             449 I1  ;
16069                             450 I1  ;       MOV.L   #_INC_LINK_NOWROT_OFSPLS_P,R4                   ;これを使用するか
16070                             451 I1  ;       MOV.L   @R4,R2                                          ;
16071                             452 I1  ;
16072                             453 I1  ;       0(+/-)ok
16073                             454 I1  ;       1(+)ok
16074                             455 I1  ;       -1(-)ok
16075                             456 I1  ;
16076                                 I1  ***** BEGIN-POOL *****
16077 00002A74 0001                   I1  DATA FOR SOURCE-LINE 413
16078 00002A76 0000                   I1  ALIGNMENT CODE
16079 00002A78 00000000               I1  DATA FOR SOURCE-LINE 359,369
16080 00002A7C 00000000               I1  DATA FOR SOURCE-LINE 365,395
16081 00002A80 00000000               I1  DATA FOR SOURCE-LINE 398
16082 00002A84 00000000               I1  DATA FOR SOURCE-LINE 402
16083 00002A88 00000000               I1  DATA FOR SOURCE-LINE 406
16084 00002A8C 00000000               I1  DATA FOR SOURCE-LINE 415
16085 00002A90 00000000               I1  DATA FOR SOURCE-LINE 418
16086 00002A94 00000000               I1  DATA FOR SOURCE-LINE 426
16087                                 I1  ***** END-POOL *****
16088          00000064           457 I1  _TEP_DNPOS_HIS  .EQU    100     ;10.0度
16089                             458 I1  
16090 00002A98                    459 I1  _NEG_TEPA_AREA_CHK:
16091                             460 I1          SUB_START
16092 00002A98 4F22                   M           STS.L   PR,@-R15                ;[必要]
16093                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16094                             461 I1  
16095                             462 I1  
16096 00002A9A D40D               463 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
16097 00002A9C 6142               464 I1          MOV.L   @R4,R1                          ;
16098                             465 I1  ;;;;    MOV.L   #_SETX_LINK_UP_POS_DN,R4        ;ﾘﾝｸ(範囲比較)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   178
PROGRAM NAME =

16099                             466 I1  ;;;;    MOV.W   @R4,R3                          ;待機点-α
16100                             467 I1  
16101 00002A9E D40D               468 I1          MOV.L   #_SET1_UPAREA_DIG1,R4           ;ﾘﾝｸ(範囲比較)
16102 00002AA0 6341               469 I1          MOV.W   @R4,R3                          ;待機点
16103 00002AA2 D40D               470 I1          MOV.L   #_INC_ENC360,R4                 ;
16104 00002AA4 6241               471 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
16105                             472 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(ﾏｲﾅｽを受け付けない)
16106 00002AA6 D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16107 00002AA8 400B                   M           JSR     @R0                     ;
16108 00002AAA 0009                   M           NOP                                     ;
16109 00002AAC 4511               473 I1          CMP/PZ  R5                              ;
16110 00002AAE 891C               474 I1          BT      NEG_TEPA_ARACHK200              ;+のみ可能
16111                             475 I1  
16112                             476 I1  
16113 00002AB0 D40B               477 I1          MOV.L   #_SETX_DNAREA_JG_LNK,R4         ;反転設定不可範囲LINK 度
16114 00002AB2 6142               478 I1          MOV.L   @R4,R1                          ;
16115 00002AB4 D406               479 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
16116 00002AB6 6342               480 I1          MOV.L   @R4,R3                          ;
16117 00002AB8 9009               481 I1          MOV.W   #_TEP_DNPOS_HIS,R0              ;10.0
16118 00002ABA 330C               482 I1          ADD     R0,R3                           ;10.0は..
16119 00002ABC D406               483 I1          MOV.L   #_INC_ENC360,R4                 ;
16120 00002ABE 6241               484 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
16121                             485 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(+受け付けない)
16122 00002AC0 D006                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16123 00002AC2 400B                   M           JSR     @R0                     ;
16124 00002AC4 0009                   M           NOP                                     ;
16125 00002AC6 890D               486 I1          BT      NEG_TEPA_ARACHK100              ;
16126                             487 I1  
16127 00002AC8 200A               488 I1          XOR     R0,R0                           ;
16128                             489 I1          M_BRA   NEG_TEPA_ARACHK300              ;+/- OK
16129 00002ACA A00F                   M           BRA     NEG_TEPA_ARACHK300
16130 00002ACC 0009                   M           NOP
16131                             490 I1  
16132                             491 I1  ;       -------- -を受け付ける=====
16133                                 I1  ***** BEGIN-POOL *****
16134 00002ACE 0064                   I1  DATA FOR SOURCE-LINE 481
16135 00002AD0 00000000               I1  DATA FOR SOURCE-LINE 463,479
16136 00002AD4 00000000               I1  DATA FOR SOURCE-LINE 468
16137 00002AD8 00000000               I1  DATA FOR SOURCE-LINE 470,483
16138 00002ADC 00000000               I1  DATA FOR SOURCE-LINE 472,485
16139 00002AE0 00000000               I1  DATA FOR SOURCE-LINE 477
16140                                 I1  ***** END-POOL *****
16141 00002AE4                    492 I1  NEG_TEPA_ARACHK100:
16142 00002AE4 E0FF               493 I1          MOV     #-1,R0                          ;
16143                             494 I1          M_BRA   NEG_TEPA_ARACHK300              ;
16144 00002AE6 A001                   M           BRA     NEG_TEPA_ARACHK300
16145 00002AE8 0009                   M           NOP
16146                             495 I1  
16147                             496 I1  ;       -------- +を受け付ける=====
16148 00002AEA                    497 I1  NEG_TEPA_ARACHK200:
16149 00002AEA E001               498 I1          MOV     #1,R0                           ;
16150 00002AEC                    499 I1  NEG_TEPA_ARACHK300:
16151                             500 I1  
16152                             501 I1  
16153                             502 I1          SUB_END
16154                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16155 00002AEC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   179
PROGRAM NAME =

16156                             503 I1          M_RTS
16157 00002AEE 000B                   M           RTS                             ;RTSの後ろの
16158 00002AF0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16159                             504 I1  
16160                             505 I1  
16161                             506 I1  
16162                             507 I1  ;       ***********************************
16163                             508 I1  ;       ***                             ***
16164                             509 I1  ;       ***     手動パルサフラグ        ***
16165                             510 I1  ;       ***                             ***
16166                             511 I1  ;       ***********************************
16167 00002AF2                    512 I1  _TEP_FLG_CLR
16168                             513 I1          SUB_START
16169 00002AF2 4F22                   M           STS.L   PR,@-R15                ;[必要]
16170                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16171 00002AF4 200A               514 I1          XOR     R0,R0
16172 00002AF6 D102               515 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
16173 00002AF8 2101               516 I1          MOV.W   R0,@R1                  ;
16174                             517 I1          SUB_END
16175                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16176 00002AFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16177                             518 I1          M_RTS
16178 00002AFC 000B                   M           RTS                             ;RTSの後ろの
16179 00002AFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16180                             519 I1  
16181                                 I1  ***** BEGIN-POOL *****
16182 00002B00 00000000               I1  DATA FOR SOURCE-LINE 515
16183                                 I1  ***** END-POOL *****
16184 00002B04                    520 I1  _TEP_FLG_START
16185                             521 I1          SUB_START
16186 00002B04 4F22                   M           STS.L   PR,@-R15                ;[必要]
16187                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16188 00002B06 9004               522 I1          MOV.W   #BIT0,R0
16189 00002B08 D102               523 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
16190 00002B0A 2101               524 I1          MOV.W   R0,@R1                  ;
16191                             525 I1          SUB_END
16192                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16193 00002B0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16194                             526 I1          M_RTS
16195 00002B0E 000B                   M           RTS                             ;RTSの後ろの
16196 00002B10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16197                             527 I1  
16198                             528 I1  ;       ***********************************
16199                             529 I1  ;       ***                             ***
16200                             530 I1  ;       ***     手動パルサ起動条件      ***
16201                             531 I1  ;       ***     起動=1                  ***
16202                             532 I1  ;       ***                             ***
16203                             533 I1  ;       ***********************************
16204                             534 I1  ;------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
16205                             535 I1  ;
16206                                 I1  ***** BEGIN-POOL *****
16207 00002B12 0001                   I1  DATA FOR SOURCE-LINE 522
16208 00002B14 00000000               I1  DATA FOR SOURCE-LINE 523
16209                                 I1  ***** END-POOL *****
16210 00002B18                    536 I1  _TEPA_START_CHK:
16211                             537 I1          SUB_START
16212 00002B18 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   180
PROGRAM NAME =

16213                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16214                             538 I1  
16215 00002B1A D10A               539 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16216 00002B1C 6011               540 I1          MOV.W   @R1,R0                          ;
16217 00002B1E 2008               541 I1          TST     R0,R0                           ;
16218                             542 I1          TST_BIT_ON TEPA_STARTCHK_NG             ;手パが先になった
16219 00002B20 8B0B                   M           BF      TEPA_STARTCHK_NG
16220                             543 I1  
16221 00002B22 D109               544 I1          MOV.L   #_BTTN_FLG,R1                   ;
16222 00002B24 6011               545 I1          MOV.W   @R1,R0                          ;
16223 00002B26 C802               546 I1          TST     #BIT1,R0                        ;
16224                             547 I1          TST_BIT_OF TEPA_STARTCHK_NG             ;
16225 00002B28 8907                   M           BT      TEPA_STARTCHK_NG
16226                             548 I1  
16227 00002B2A D108               549 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16228 00002B2C 6211               550 I1          MOV.W   @R1,R2                          ;
16229 00002B2E 4211               551 I1          CMP/PZ  R2                              ;
16230 00002B30 8900               552 I1          BT      TEPA_STARTCHK_050               ;
16231 00002B32 622B               553 I1          NEG     R2,R2                           ;
16232 00002B34                    554 I1  TEPA_STARTCHK_050:
16233 00002B34 9104               555 I1          MOV.W   #D'1,R1                         ;1で良いか
16234 00002B36 3213               556 I1          CMP/GE  R1,R2                           ;
16235 00002B38 890A               557 I1          BT      TEPA_STARTCHK_OK                ;
16236 00002B3A                    558 I1  TEPA_STARTCHK_NG:
16237 00002B3A 200A               559 I1          XOR     R0,R0                           ;
16238                             560 I1          M_BRA   TEPA_STARTCHK_END               ;
16239 00002B3C A00C                   M           BRA     TEPA_STARTCHK_END
16240 00002B3E 0009                   M           NOP
16241                             561 I1  
16242                                 I1  ***** BEGIN-POOL *****
16243 00002B40 0001                   I1  DATA FOR SOURCE-LINE 555
16244 00002B42 0000                   I1  ALIGNMENT CODE
16245 00002B44 00000000               I1  DATA FOR SOURCE-LINE 539
16246 00002B48 00000000               I1  DATA FOR SOURCE-LINE 544
16247 00002B4C 00000000               I1  DATA FOR SOURCE-LINE 549
16248                                 I1  ***** END-POOL *****
16249 00002B50                    562 I1  TEPA_STARTCHK_OK:
16250                             563 I1          FAR_JSR #_TEP_FLG_START,R0              ;
16251 00002B50 D003                   M           MOV.L   #_TEP_FLG_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16252 00002B52 400B                   M           JSR     @R0                     ;
16253 00002B54 0009                   M           NOP                                     ;
16254 00002B56 E001               564 I1          MOV     #1,R0                           ;
16255 00002B58                    565 I1  TEPA_STARTCHK_END:
16256                             566 I1  
16257                             567 I1          SUB_END
16258                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16259 00002B58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16260                             568 I1          M_RTS
16261 00002B5A 000B                   M           RTS                             ;RTSの後ろの
16262 00002B5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16263                             569 I1  
16264                             570 I1  ;;;     ------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
16265                             571 I1  ;;;_TEPA_START_CHK:
16266                             572 I1  ;;;     SUB_START
16267                             573 I1  ;;;
16268                             574 I1  ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
16269                             575 I1  ;;;     MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   181
PROGRAM NAME =

16270                             576 I1  ;;;     TST     #BIT1,R0                        ;
16271                             577 I1  ;;;     TST_BIT_OF TEPA_STARTCHK_NG             ;無効
16272                             578 I1  ;;;
16273                             579 I1  ;;;     MOV.L   #_TEP_IN_ADD,R1                 ;
16274                             580 I1  ;;;     MOV.W   @R1,R2                          ;
16275                             581 I1  ;;;     CMP/PZ  R2                              ;
16276                             582 I1  ;;;     BT      TEPA_STARTCHK_050               ;
16277                             583 I1  ;;;     NEG     R2,R2                           ;
16278                             584 I1  ;;;TEPA_STARTCHK_050:
16279                             585 I1  ;;;     MOV.W   #D'1,R1                         ;1で良いか
16280                             586 I1  ;;;     CMP/GE  R1,R2                           ;
16281                             587 I1  ;;;     BT      TEPA_STARTCHK_OK                ;
16282                             588 I1  ;;;TEPA_STARTCHK_NG:
16283                             589 I1  ;;;     XOR     R0,R0                           ;
16284                             590 I1  ;;;     M_BRA   TEPA_STARTCHK_END               ;
16285                             591 I1  ;;;
16286                             592 I1  ;;;TEPA_STARTCHK_OK:
16287                             593 I1  ;;;     FAR_JSR #_TEP_FLG_START,R0              ;
16288                             594 I1  ;;;     MOV     #1,R0                           ;
16289                             595 I1  ;;;TEPA_STARTCHK_END:
16290                             596 I1  ;;;
16291                             597 I1  ;;;     SUB_END
16292                             598 I1  ;;;     M_RTS
16293                             599 I1  
16294                             600 I1  ;       ***********************************
16295                             601 I1  ;       ***                             ***
16296                             602 I1  ;       ***     手動パルサ遷移時の      ***
16297                             603 I1  ;       ***     パルスクリア            ***
16298                             604 I1  ;       ***                             ***
16299                             605 I1  ;       ***********************************
16300                             606 I1          .IMPORT         _PVP_CPUA_TEPPLS
16301                             607 I1          .IMPORT         _PVP_CPUB_TEPPLS
16302                             608 I1  
16303                                 I1  ***** BEGIN-POOL *****
16304 00002B5E 0000                   I1  ALIGNMENT CODE
16305 00002B60 00000000               I1  DATA FOR SOURCE-LINE 563
16306                                 I1  ***** END-POOL *****
16307 00002B64                    609 I1  _TEPA_PLSCNT_CLR
16308                             610 I1          SUB_START
16309 00002B64 4F22                   M           STS.L   PR,@-R15                ;[必要]
16310                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16311                             611 I1  
16312                             612 I1          .AIF    1 EQ    0       ;
16313                             613             MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16314                             614             MOV.W   @R1,R2                          ;
16315                             615             .AELSE
16316 00002B66 D106               616 C           MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16317 00002B68 6211               617 C           MOV.W   @R1,R2                          ;
16318                             618 I1          .AENDI
16319                             619 I1  
16320 00002B6A D106               620 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16321 00002B6C 2121               621 I1          MOV.W   R2,@R1                          ;
16322                             622 I1  
16323 00002B6E 222A               623 I1          XOR     R2,R2
16324 00002B70 D105               624 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16325 00002B72 2121               625 I1          MOV.W   R2,@R1                          ;
16326                             626 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   182
PROGRAM NAME =

16327 00002B74 D105               627 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;位置決め側使用データ
16328 00002B76 2122               628 I1          MOV.L   R2,@R1                          ;
16329                             629 I1  
16330                             630 I1          SUB_END
16331                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16332 00002B78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16333                             631 I1          M_RTS
16334 00002B7A 000B                   M           RTS                             ;RTSの後ろの
16335 00002B7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16336                             632 I1  
16337                             633 I1  ;       ***********************************
16338                             634 I1  ;       ***                             ***
16339                             635 I1  ;       ***     手動ﾊﾟﾙｻの増分ﾁｪｯｸ      ***
16340                             636 I1  ;       ***                             ***
16341                             637 I1  ;       ***                             ***
16342                             638 I1  ;       ***********************************
16343                                 I1  ***** BEGIN-POOL *****
16344 00002B7E 0000                   I1  ALIGNMENT CODE
16345 00002B80 00000000               I1  DATA FOR SOURCE-LINE 616
16346 00002B84 00000000               I1  DATA FOR SOURCE-LINE 620
16347 00002B88 00000000               I1  DATA FOR SOURCE-LINE 624
16348 00002B8C 00000000               I1  DATA FOR SOURCE-LINE 627
16349                                 I1  ***** END-POOL *****
16350 00002B90                    639 I1  _TEPA_PLSCNT_CHK:
16351                             640 I1          SUB_START
16352 00002B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
16353                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16354                             641 I1  
16355                             642 I1          .AIF    1 EQ    0       ;
16356                             643             MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16357                             644             MOV.W   @R1,R2                          ;
16358                             645             .AELSE
16359 00002B92 D10C               646 C           MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16360 00002B94 6211               647 C           MOV.W   @R1,R2                          ;
16361                             648 I1          .AENDI
16362                             649 I1  
16363 00002B96 D10C               650 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16364 00002B98 6311               651 I1          MOV.W   @R1,R3                          ;
16365 00002B9A 2121               652 I1          MOV.W   R2,@R1                          ;
16366 00002B9C 3238               653 I1          SUB     R3,R2                           ;
16367 00002B9E D10B               654 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16368 00002BA0 2121               655 I1          MOV.W   R2,@R1                          ;
16369                             656 I1  
16370                             657 I1  ;       ------ 2011-07-04 追加　運転釦が先--
16371 00002BA2 2228               658 I1          TST     R2,R2                           ;変化あり?
16372                             659 I1          TST_BIT_OF TEPA_PLSCNTCHK_100           ;
16373 00002BA4 890A                   M           BT      TEPA_PLSCNTCHK_100
16374                             660 I1  
16375 00002BA6 D10A               661 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16376 00002BA8 6011               662 I1          MOV.W   @R1,R0                          ;
16377 00002BAA 2008               663 I1          TST     R0,R0
16378                             664 I1          TST_BIT_ON TEPA_PLSCNTCHK_050           ;
16379 00002BAC 8B03                   M           BF      TEPA_PLSCNTCHK_050
16380                             665 I1  
16381 00002BAE D109               666 I1          MOV.L   #_BTTN_FLG,R1                   ;
16382 00002BB0 6011               667 I1          MOV.W   @R1,R0                          ;
16383 00002BB2 C802               668 I1          TST     #BIT1,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   183
PROGRAM NAME =

16384                             669 I1          TST_BIT_ON TEPA_PLSCNTCHK_100           ;
16385 00002BB4 8B02                   M           BF      TEPA_PLSCNTCHK_100
16386                             670 I1  
16387 00002BB6                    671 I1  TEPA_PLSCNTCHK_050:
16388                             672 I1  
16389 00002BB6 9004               673 I1          MOV.W   #D'51,R0                        ;50*10=0.5秒
16390 00002BB8 D105               674 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16391 00002BBA 2101               675 I1          MOV.W   R0,@R1                          ;
16392                             676 I1  
16393 00002BBC                    677 I1  TEPA_PLSCNTCHK_100:
16394                             678 I1  
16395                             679 I1  
16396                             680 I1          SUB_END
16397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16398 00002BBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16399                             681 I1          M_RTS
16400 00002BBE 000B                   M           RTS                             ;RTSの後ろの
16401 00002BC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16402                             682 I1  
16403                             683 I1  
16404                             684 I1  ;       *******************************************
16405                             685 I1  ;       ***                                     ***
16406                             686 I1  ;       ***     2013-05-26                      ***
16407                             687 I1  ;       ***                                     ***
16408                             688 I1  ;       *******************************************
16409                             689 I1  ;       10ﾊﾟﾙｽ,方向無視----→修正必要
16410                                 I1  ***** BEGIN-POOL *****
16411 00002BC2 0033                   I1  DATA FOR SOURCE-LINE 673
16412 00002BC4 00000000               I1  DATA FOR SOURCE-LINE 646
16413 00002BC8 00000000               I1  DATA FOR SOURCE-LINE 650
16414 00002BCC 00000000               I1  DATA FOR SOURCE-LINE 654
16415 00002BD0 00000000               I1  DATA FOR SOURCE-LINE 661,674
16416 00002BD4 00000000               I1  DATA FOR SOURCE-LINE 666
16417                                 I1  ***** END-POOL *****
16418 00002BD8                    690 I1  _TEPA_ADD_LSI:
16419                             691 I1          SUB_START
16420 00002BD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16421                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16422                             692 I1  
16423                             693 I1  ;;まだ組み込まない .AIF 1 EQ    0       ;
16424                             694 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;[自分のインターロック]
16425                             695 I1  ;;まだ組み込まない .AELSE
16426                             696 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16427                             697 I1  ;;まだ組み込まない .AENDI
16428                             698 I1  
16429 00002BDA D509               699 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R5  ;
16430 00002BDC 6051               700 I1          MOV.W   @R5,R0                          ;
16431 00002BDE 2008               701 I1          TST     R0,R0                           ;
16432                             702 I1          TST_BIT_ON TEPA_ADDLSI_025              ;停止
16433 00002BE0 8B22                   M           BF      TEPA_ADDLSI_025
16434                             703 I1  
16435                             704 I1  ;       ---------- 2013-06-20 ------------
16436 00002BE2 222A               705 I1          XOR     R2,R2
16437 00002BE4 D107               706 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
16438 00002BE6 6011               707 I1          MOV.W   @R1,R0                          ;
16439 00002BE8 2121               708 I1          MOV.W   R2,@R1                          ;
16440                             709 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   184
PROGRAM NAME =

16441 00002BEA 2008               710 I1          TST     R0,R0                                   ;
16442                             711 I1          TST_BIT_OF TEPA_ADDLSI_030                      ;
16443 00002BEC 8924                   M           BT      TEPA_ADDLSI_030
16444                             712 I1  
16445 00002BEE D106               713 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
16446 00002BF0 6211               714 I1          MOV.W   @R1,R2                                  ;
16447 00002BF2 E401               715 I1          MOV.B   #BIT0,R4                                ;
16448 00002BF4 2248               716 I1          TST     R4,R2                                   ;DIRCT +
16449                             717 I1          TST_BIT_ON TEPA_ADDLSI_010                      ;
16450 00002BF6 8B09                   M           BF      TEPA_ADDLSI_010
16451                             718 I1  
16452 00002BF8 C820               719 I1          TST     #BIT5,R0                                ;逆転有り?
16453                             720 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16454 00002BFA 8B0B                   M           BF      TEPA_ADDLSI_020
16455                             721 I1          M_BRA   TEPA_ADDLSI_030                         ;
16456 00002BFC A01C                   M           BRA     TEPA_ADDLSI_030
16457 00002BFE 0009                   M           NOP
16458                             722 I1  
16459                             723 I1  
16460                                 I1  ***** BEGIN-POOL *****
16461 00002C00 00000000               I1  DATA FOR SOURCE-LINE 699
16462 00002C04 00000000               I1  DATA FOR SOURCE-LINE 706
16463 00002C08 00000000               I1  DATA FOR SOURCE-LINE 713
16464                                 I1  ***** END-POOL *****
16465 00002C0C                    724 I1  TEPA_ADDLSI_010:
16466 00002C0C C810               725 I1          TST     #BIT4,R0                                ;正転有り?
16467                             726 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16468 00002C0E 8B01                   M           BF      TEPA_ADDLSI_020
16469                             727 I1          M_BRA   TEPA_ADDLSI_030                         ;
16470 00002C10 A012                   M           BRA     TEPA_ADDLSI_030
16471 00002C12 0009                   M           NOP
16472                             728 I1  
16473 00002C14                    729 I1  TEPA_ADDLSI_020:
16474                             730 I1          FAR_JSR #_TEP_SPD_CALC3,R0                      ;
16475 00002C14 D005                   M           MOV.L   #_TEP_SPD_CALC3,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16476 00002C16 400B                   M           JSR     @R0                     ;
16477 00002C18 0009                   M           NOP                                     ;
16478                             731 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16479 00002C1A D005                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16480 00002C1C 400B                   M           JSR     @R0                     ;
16481 00002C1E 0009                   M           NOP                                     ;
16482                             732 I1  ;;まだ組み込まないFAR_JSR       #_TEP_CPUAB_HAND_STOP,R0                ;2013-06-19
16483                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_REVPLS_LT_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
16484 00002C20 D104                   M           MOV.L   #_TEP_REVPLS_LT_FLG,R1          ;
16485 00002C22 6011                   M           MOV.W   @R1,R0          ;
16486 00002C24 CB01                   M           OR      #BIT0,R0                ;
16487 00002C26 2101                   M           MOV.W   R0,@R1          ;
16488                             734 I1  
16489 00002C28                    735 I1  TEPA_ADDLSI_025:
16490                             736 I1          M_BRA   TEPA_ADDLSI_EXT                         ;
16491 00002C28 A02A                   M           BRA     TEPA_ADDLSI_EXT
16492 00002C2A 0009                   M           NOP
16493                             737 I1  
16494                             738 I1  ;       ---------------------------------------------------
16495                                 I1  ***** BEGIN-POOL *****
16496 00002C2C 00000000               I1  DATA FOR SOURCE-LINE 730
16497 00002C30 00000000               I1  DATA FOR SOURCE-LINE 731
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   185
PROGRAM NAME =

16498 00002C34 00000000               I1  DATA FOR SOURCE-LINE 733
16499                                 I1  ***** END-POOL *****
16500 00002C38                    739 I1  TEPA_ADDLSI_030
16501                             740 I1  ;       ----------- 復活 2013-06-05--------
16502 00002C38 D113               741 I1          MOV.L   #_TEP_CNTSMP_TIM,R1             ;
16503 00002C3A 6011               742 I1          MOV.W   @R1,R0                          ;
16504 00002C3C 2008               743 I1          TST     R0,R0                           ;
16505                             744 I1          TST_BIT_ON TEPA_ADDLSI_EXT              ;
16506 00002C3E 8B1F                   M           BF      TEPA_ADDLSI_EXT
16507                             745 I1  
16508                             746 I1  ;       -----------------------------------
16509 00002C40 D012               747 I1          MOV.L   #_TEP_STEP_SVSMPTM,R0           ;
16510 00002C42 6201               748 I1          MOV.W   @R0,R2                          ;
16511 00002C44 2121               749 I1          MOV.W   R2,@R1                          ;
16512                             750 I1  ;       -----------------------------------
16513 00002C46 D112               751 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                    ;
16514 00002C48 6012               752 I1          MOV.L   @R1,R0                                  ;
16515 00002C4A 2008               753 I1          TST     R0,R0                                   ;
16516                             754 I1          TST_BIT_OF TEPA_ADDLSI_EXT                      ;
16517 00002C4C 8918                   M           BT      TEPA_ADDLSI_EXT
16518                             755 I1  
16519                             756 I1  
16520                             757 I1          FAR_JSR #_LOAD_REST_PLS,R0                                      ;LOAD PLS
16521 00002C4E D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16522 00002C50 400B                   M           JSR     @R0                     ;
16523 00002C52 0009                   M           NOP                                     ;
16524                             758 I1  
16525 00002C54 D110               759 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1                                   ;SYS_PARA 10PLS
16526 00002C56 6411               760 I1          MOV.W   @R1,R4
16527                             761 I1  
16528 00002C58 3406               762 I1          CMP/HI  R0,R4                                                   ;10pls以下 R0<10
16529 00002C5A 8911               763 I1          BT      TEPA_ADDLSI_EXT                                         ;"二重回路HAND対象
                                          "
16530                             764 I1                                                                          ;難しい
16531                             765 I1  
16532                             766 I1  ;       ---------パルス加算処理 2013-06-05 --------------
16533                             767 I1          FAR_JSR #_TEP_SPD_CALC2,R0                      ;
16534 00002C5C D00F                   M           MOV.L   #_TEP_SPD_CALC2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16535 00002C5E 400B                   M           JSR     @R0                     ;
16536 00002C60 0009                   M           NOP                                     ;
16537                             768 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16538 00002C62 D00F                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16539 00002C64 400B                   M           JSR     @R0                     ;
16540 00002C66 0009                   M           NOP                                     ;
16541                             769 I1  
16542                             770 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;CNT=0 CLR,目標変更
16543 00002C68 D00E                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16544 00002C6A 400B                   M           JSR     @R0                     ;
16545 00002C6C 0009                   M           NOP                                     ;
16546                             771 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
16547 00002C6E D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16548 00002C70 400B                   M           JSR     @R0                     ;
16549 00002C72 0009                   M           NOP                                     ;
16550                             772 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
16551 00002C74 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16552 00002C76 400B                   M           JSR     @R0                     ;
16553 00002C78 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   186
PROGRAM NAME =

16554                             773 I1  
16555 00002C7A 200A               774 I1          XOR     R0,R0
16556 00002C7C D104               775 I1          MOV.L   #_TEP_POS_ADD_CNT,R1
16557 00002C7E 2102               776 I1          MOV.L   R0,@R1
16558                             777 I1  
16559                             778 I1  
16560 00002C80                    779 I1  TEPA_ADDLSI_EXT:
16561                             780 I1  
16562                             781 I1          SUB_END
16563                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16564 00002C80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16565                             782 I1          M_RTS
16566 00002C82 000B                   M           RTS                             ;RTSの後ろの
16567 00002C84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16568                             783 I1  
16569                             784 I1  ;       ***********************************
16570                             785 I1  ;       ***                             ***
16571                             786 I1  ;       ***     初起動時のエリア作成    ***
16572                             787 I1  ;       ***                             ***
16573                             788 I1  ;       ***********************************
16574                             789 I1  ;;2013-05-26 _DNDTEP_STEP_MAKE:
16575                             790 I1  ;;2013-05-26    SUB_START
16576                             791 I1  ;;2013-05-26    SUB_END
16577                             792 I1  ;;2013-05-26    M_RTS
16578                             793 I1  
16579                             794 I1  ;       ***********************************
16580                             795 I1  ;       ***                             ***
16581                             796 I1  ;       ***     工程からの目標位置作成  ***
16582                             797 I1  ;       ***                             ***
16583                             798 I1  ;       ***********************************
16584                             799 I1  ;;2013-05-26_DNDTEP_MAKE_OBJPOS:
16585                             800 I1  ;;2013-05-26    SUB_START
16586                             801 I1  ;;2013-05-26
16587                             802 I1  ;;2013-05-26
16588                             803 I1  ;;2013-05-26    SUB_END
16589                             804 I1  ;;2013-05-26    M_RTS
16590                             805 I1  
16591                                 I1  ***** BEGIN-POOL *****
16592 00002C86 0000                   I1  ALIGNMENT CODE
16593 00002C88 00000000               I1  DATA FOR SOURCE-LINE 741
16594 00002C8C 00000000               I1  DATA FOR SOURCE-LINE 747
16595 00002C90 00000000               I1  DATA FOR SOURCE-LINE 751,775
16596 00002C94 00000000               I1  DATA FOR SOURCE-LINE 757
16597 00002C98 00000000               I1  DATA FOR SOURCE-LINE 759
16598 00002C9C 00000000               I1  DATA FOR SOURCE-LINE 767
16599 00002CA0 00000000               I1  DATA FOR SOURCE-LINE 768
16600 00002CA4 00000000               I1  DATA FOR SOURCE-LINE 770
16601 00002CA8 00000000               I1  DATA FOR SOURCE-LINE 771
16602 00002CAC 00000000               I1  DATA FOR SOURCE-LINE 772
16603                                 I1  ***** END-POOL *****
16604 00002CB0                    806 I1  _TEP_SPD_CALC1:
16605                             807 I1          SUB_START
16606 00002CB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16608 00002CB2 D306               808 I1          MOV.L   #_TEP_STEP_SVWTTM1,R3   ;//2013-06-05
16609 00002CB4 6431               809 I1          MOV.W   @R3,R4                  ;
16610                             810 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;ANS=TEP1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   187
PROGRAM NAME =

16611 00002CB6 D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16612 00002CB8 400B                   M           JSR     @R0                     ;
16613 00002CBA 0009                   M           NOP                                     ;
16614                             811 I1  
16615 00002CBC D105               812 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16616 00002CBE 6212               813 I1          MOV.L   @R1,R2                  ;
16617 00002CC0 D105               814 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16618 00002CC2 2122               815 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16619                             816 I1  
16620                             817 I1          SUB_END
16621                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16622 00002CC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16623                             818 I1          M_RTS
16624 00002CC6 000B                   M           RTS                             ;RTSの後ろの
16625 00002CC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16626                             819 I1  
16627                                 I1  ***** BEGIN-POOL *****
16628 00002CCA 0000                   I1  ALIGNMENT CODE
16629 00002CCC 00000000               I1  DATA FOR SOURCE-LINE 808
16630 00002CD0 00000000               I1  DATA FOR SOURCE-LINE 810
16631 00002CD4 00000000               I1  DATA FOR SOURCE-LINE 812
16632 00002CD8 00000000               I1  DATA FOR SOURCE-LINE 814
16633                                 I1  ***** END-POOL *****
16634 00002CDC                    820 I1  _TEP_SPD_CALC2:
16635                             821 I1          SUB_START
16636 00002CDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16637                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16638                             822 I1  
16639 00002CDE D106               823 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16640 00002CE0 6212               824 I1          MOV.L   @R1,R2                  ;
16641 00002CE2 D106               825 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16642 00002CE4 2122               826 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16643                             827 I1  
16644 00002CE6 D306               828 I1          MOV.L   #_TEP_STEP_SVSMPTM,R3
16645 00002CE8 6431               829 I1          MOV.W   @R3,R4                  ;
16646                             830 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;
16647 00002CEA D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16648 00002CEC 400B                   M           JSR     @R0                     ;
16649 00002CEE 0009                   M           NOP                                     ;
16650                             831 I1          SUB_END
16651                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16652 00002CF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16653                             832 I1          M_RTS
16654 00002CF2 000B                   M           RTS                             ;RTSの後ろの
16655 00002CF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16656                             833 I1  
16657                             834 I1  
16658                                 I1  ***** BEGIN-POOL *****
16659 00002CF6 0000                   I1  ALIGNMENT CODE
16660 00002CF8 00000000               I1  DATA FOR SOURCE-LINE 823
16661 00002CFC 00000000               I1  DATA FOR SOURCE-LINE 825
16662 00002D00 00000000               I1  DATA FOR SOURCE-LINE 828
16663 00002D04 00000000               I1  DATA FOR SOURCE-LINE 830
16664                                 I1  ***** END-POOL *****
16665 00002D08                    835 I1  _TEP_SPD_CALC_COM
16666                             836 I1          SUB_START
16667 00002D08 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   188
PROGRAM NAME =

16668                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16669                             837 I1  
16670 00002D0A D30E               838 I1          MOV.L   #_TEP_POS_ADD_CNT,R3            ;
16671 00002D0C 6232               839 I1          MOV.L   @R3,R2                          ;
16672 00002D0E 4211               840 I1          CMP/PZ  R2
16673 00002D10 8900               841 I1          BT      TEP_SPD_CALCCOM_100                     ;
16674 00002D12 622B               842 I1          NEG     R2,R2                                   ;
16675 00002D14                    843 I1  TEP_SPD_CALCCOM_100
16676                             844 I1  
16677 00002D14 9114               845 I1          MOV.W   #D'1000,R1                              ;
16678                             846 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;10PLS:100msec
16679 00002D16 D00C                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16680 00002D18 400B                   M           JSR     @R0                     ;
16681 00002D1A 0009                   M           NOP                                     ;
16682                             847 I1  
16683 00002D1C 2228               848 I1          TST     R2,R2                                   ;
16684                             849 I1          TST_BIT_ON TEP_SPD_CALCCOM_200                  ;
16685 00002D1E 8B00                   M           BF      TEP_SPD_CALCCOM_200
16686 00002D20 920F               850 I1          MOV.W   #1,R2                                   ;
16687 00002D22                    851 I1  TEP_SPD_CALCCOM_200
16688                             852 I1  
16689                             853 I1  
16690 00002D22 D10A               854 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16691 00002D24 6312               855 I1          MOV.L   @R1,R3                  ;
16692                             856 I1  
16693                             857 I1  ;       -----------MAX LIMIT----------
16694 00002D26 3322               858 I1          CMP/HS  R2,R3
16695 00002D28 8900               859 I1          BT      TEP_SPD_CALCCOM_300
16696 00002D2A 6233               860 I1          MOV     R3,R2                   ;
16697 00002D2C                    861 I1  TEP_SPD_CALCCOM_300
16698                             862 I1  
16699                             863 I1  
16700                             864 I1  ;       ---------- MIN LIMIT -------------
16701 00002D2C D108               865 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1    ;
16702 00002D2E 6312               866 I1          MOV.L   @R1,R3                  ;PLS/S
16703                             867 I1  
16704 00002D30 3232               868 I1          CMP/HS  R3,R2
16705 00002D32 8900               869 I1          BT      TEP_SPD_CALCCOM_400
16706 00002D34 6233               870 I1          MOV     R3,R2                   ;
16707 00002D36                    871 I1  TEP_SPD_CALCCOM_400
16708                             872 I1  
16709 00002D36 D107               873 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16710 00002D38 2122               874 I1          MOV.L   R2,@R1                  ;
16711                             875 I1  
16712                             876 I1          SUB_END
16713                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16714 00002D3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16715                             877 I1          M_RTS
16716 00002D3C 000B                   M           RTS                             ;RTSの後ろの
16717 00002D3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16718                             878 I1  
16719                             879 I1  ;       -----------------------------------
16720                                 I1  ***** BEGIN-POOL *****
16721 00002D40 03E8                   I1  DATA FOR SOURCE-LINE 845
16722 00002D42 0001                   I1  DATA FOR SOURCE-LINE 850
16723 00002D44 00000000               I1  DATA FOR SOURCE-LINE 838
16724 00002D48 00000000               I1  DATA FOR SOURCE-LINE 846
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   189
PROGRAM NAME =

16725 00002D4C 00000000               I1  DATA FOR SOURCE-LINE 854
16726 00002D50 00000000               I1  DATA FOR SOURCE-LINE 865
16727 00002D54 00000000               I1  DATA FOR SOURCE-LINE 873
16728                                 I1  ***** END-POOL *****
16729 00002D58                    880 I1  _TEP_SPD_CALC3:
16730                             881 I1          SUB_START
16731 00002D58 4F22                   M           STS.L   PR,@-R15                ;[必要]
16732                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16733 00002D5A D104               882 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16734 00002D5C 6212               883 I1          MOV.L   @R1,R2                  ;
16735 00002D5E D104               884 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16736 00002D60 2122               885 I1          MOV.L   R2,@R1                  ;
16737 00002D62 D104               886 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16738 00002D64 2122               887 I1          MOV.L   R2,@R1                  ;
16739                             888 I1          SUB_END
16740                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16741 00002D66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16742                             889 I1          M_RTS
16743 00002D68 000B                   M           RTS                             ;RTSの後ろの
16744 00002D6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16745                             890 I1  
16746                             891 I1  
16747                             892 I1  
16748                                 I1  ***** BEGIN-POOL *****
16749 00002D6C 00000000               I1  DATA FOR SOURCE-LINE 882
16750 00002D70 00000000               I1  DATA FOR SOURCE-LINE 884
16751 00002D74 00000000               I1  DATA FOR SOURCE-LINE 886
16752                                 I1  ***** END-POOL *****
16753 00002D78                    893 I1  _TEP_SPD_SET:
16754                             894 I1          SUB_START
16755 00002D78 4F22                   M           STS.L   PR,@-R15                ;[必要]
16756                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16757                             895 I1  
16758 00002D7A D103               896 I1          MOV.L   #_TEP_CHG_SPD1,R1                       ;
16759 00002D7C 6212               897 I1          MOV.L   @R1,R2                                  ;
16760                             898 I1  
16761 00002D7E D103               899 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16762 00002D80 2122               900 I1          MOV.L   R2,@R1                                  ;
16763                             901 I1  
16764                             902 I1          SUB_END
16765                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16766 00002D82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16767                             903 I1          M_RTS
16768 00002D84 000B                   M           RTS                             ;RTSの後ろの
16769 00002D86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16770                             904 I1  
16771                                 I1  ***** BEGIN-POOL *****
16772 00002D88 00000000               I1  DATA FOR SOURCE-LINE 896
16773 00002D8C 00000000               I1  DATA FOR SOURCE-LINE 899
16774                                 I1  ***** END-POOL *****
16775 00002D90                    905 I1  _TEP_SPD_SET_CHG:
16776                             906 I1          SUB_START
16777 00002D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
16778                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16779                             907 I1  
16780                             908 I1  ;;;;    MOV.L   #_TEP_CHG_SPD1,R1                       ;
16781                             909 I1  ;;;;    MOV.L   @R1,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   190
PROGRAM NAME =

16782                             910 I1  
16783 00002D92 D105               911 I1          MOV.L   #_TEP_CHG_SPD2,R1                       ;
16784 00002D94 6212               912 I1          MOV.L   @R1,R2                                  ;
16785                             913 I1  
16786 00002D96 D105               914 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16787 00002D98 2122               915 I1          MOV.L   R2,@R1                                  ;
16788                             916 I1  
16789                             917 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;input R2
16790 00002D9A D105                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16791 00002D9C 410B                   M           JSR     @R1                     ;
16792 00002D9E 0009                   M           NOP                                     ;
16793                             918 I1  
16794                             919 I1          SUB_END
16795                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16796 00002DA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16797                             920 I1          M_RTS
16798 00002DA2 000B                   M           RTS                             ;RTSの後ろの
16799 00002DA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16800                             921 I1  
16801                             922 I1  
16802                             923 I1  
16803                             924 I1  
16804                             925 I1  ;       ***************************************************
16805                             926 I1  ;       ***                                             ***
16806                             927 I1  ;       ***                                             ***
16807                             928 I1  ;       ***                                             ***
16808                             929 I1  ;       ***                                             ***
16809                             930 I1  ;       ***************************************************
16810                             931 I1          .EXPORT _TEP_DTMAK
16811                                 I1  ***** BEGIN-POOL *****
16812 00002DA6 0000                   I1  ALIGNMENT CODE
16813 00002DA8 00000000               I1  DATA FOR SOURCE-LINE 911
16814 00002DAC 00000000               I1  DATA FOR SOURCE-LINE 914
16815 00002DB0 00000000               I1  DATA FOR SOURCE-LINE 917
16816                                 I1  ***** END-POOL *****
16817 00002DB4                    932 I1  _TEP_DTMAK:
16818                             933 I1          SUB_START
16819 00002DB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16820                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16821                             934 I1  
16822                             935 I1  ;       ------------------------------------
16823 00002DB6 D117               936 I1          MOV.L   #(_PAR_TEP_BEFPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16824 00002DB8 6411               937 I1          MOV.W   @R1,R4                                                  ;
16825 00002DBA 9027               938 I1          MOV.W   #D'10,R0                                                ;MIN PLS
16826 00002DBC 3402               939 I1          CMP/HS  R0,R4                                                   ;R4(10PLS)=< R0
16827 00002DBE 8900               940 I1          BT      TEP_SYS_SET080                                          ;
16828 00002DC0 6403               941 I1          MOV     R0,R4                                                   ;
16829 00002DC2                    942 I1  TEP_SYS_SET080:
16830 00002DC2 D115               943 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1
16831 00002DC4 2141               944 I1          MOV.W   R4,@R1
16832                             945 I1  
16833                             946 I1  ;       --------------2013-06-05 -----------
16834 00002DC6 9222               947 I1          MOV.W   #D'100,R2                                               ;DEF 100msec
16835 00002DC8 D114               948 I1          MOV.L   #(_PAR_TEP_WATTIM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16836 00002DCA 6011               949 I1          MOV.W   @R1,R0                                                  ;
16837 00002DCC 2008               950 I1          TST     R0,R0                                                   ;
16838                             951 I1          TST_BIT_OF TEP_SYS_SET100                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   191
PROGRAM NAME =

16839 00002DCE 8900                   M           BT      TEP_SYS_SET100
16840 00002DD0 6203               952 I1          MOV     R0,R2                                                   ;
16841 00002DD2                    953 I1  TEP_SYS_SET100:
16842 00002DD2 D113               954 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16843 00002DD4 2121               955 I1          MOV.W   R2,@R1                  ;
16844                             956 I1  
16845 00002DD6 D112               957 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16846 00002DD8 6211               958 I1          MOV.W   @R1,R2                  ;
16847 00002DDA 4201               959 I1          SHLR    R2                      ;
16848 00002DDC D111               960 I1          MOV.L   #_TEP_STEP_SVSMPTM,R1   ;
16849 00002DDE 2121               961 I1          MOV.W   R2,@R1                  ;1/2時間
16850                             962 I1  
16851                             963 I1  ;       ---------- 最小速度兼自起動速度
16852 00002DE0 D111               964 I1          MOV.L   #(_PAR_TEP_MINSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16853 00002DE2 6211               965 I1          MOV.W   @R1,R2                                                  ;
16854 00002DE4 2228               966 I1          TST     R2,R2                                                   ;
16855                             967 I1          TST_BIT_ON TEP_SYS_SET200                                       ;
16856 00002DE6 8B00                   M           BF      TEP_SYS_SET200
16857 00002DE8 9212               968 I1          MOV.W   #1,R2                                                   ;0.01%
16858 00002DEA                    969 I1  TEP_SYS_SET200:                                                         ;
16859                             970 I1          FAR_JSR #_CYCLE_SPD1,R0                                         ;
16860 00002DEA D010                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16861 00002DEC 400B                   M           JSR     @R0                     ;
16862 00002DEE 0009                   M           NOP                                     ;
16863 00002DF0 D10F               971 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1                                    ;
16864 00002DF2 2122               972 I1          MOV.L   R2,@R1                                                  ;PLS/S
16865                             973 I1  
16866 00002DF4 D00F               974 I1          MOV.L   #_POS_LSI_SPDMAX,R0                             ;
16867 00002DF6 6102               975 I1          MOV.L   @R0,R1                                          ;
16868 00002DF8 D00F               976 I1          MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
16869 00002DFA 6402               977 I1          MOV.L   @R0,R4                                          ;
16870                             978 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16871 00002DFC D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16872 00002DFE 400B                   M           JSR     @R0                     ;
16873 00002E00 0009                   M           NOP                                     ;
16874 00002E02 D10F               979 I1          MOV.L   #_TEP_MIN_SPD_FRQ,R1                            ;//自起動速度
16875 00002E04 2122               980 I1          MOV.L   R2,@R1                                          ;
16876                             981 I1  
16877                             982 I1  
16878                             983 I1          SUB_END
16879                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16880 00002E06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16881                             984 I1          M_RTS
16882 00002E08 000B                   M           RTS                             ;RTSの後ろの
16883 00002E0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16884                             985 I1  
16885                             986 I1  ;
16886                             987 I1  ;;まだ組み込まない_TEP_CPUAB_HAND
16887                             988 I1  ;;まだ組み込まない      SUB_START
16888                             989 I1  ;;まだ組み込まない      XOR     R0,R0
16889                             990 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16890                             991 I1  ;;まだ組み込まない      MOV.W   @R5,R1                  ;
16891                             992 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R6    ;
16892                             993 I1  ;;まだ組み込まない      MOV.W   @R6,R2                  ;
16893                             994 I1  ;;まだ組み込まない      CMP/EQ  R1,R2                   ;
16894                             995 I1  ;;まだ組み込まない      BF      TEP_CPUAB_HDEXT         ;
16895                             996 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   192
PROGRAM NAME =

16896                             997 I1  ;;まだ組み込まないTEP_CPUAB_HDEXT
16897                             998 I1  ;;まだ組み込まない
16898                             999 I1  ;;まだ組み込まない      SUB_END
16899                            1000 I1  ;;まだ組み込まない      M_RTS
16900                            1001 I1  
16901                            1002 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_CLR
16902                            1003 I1  ;;まだ組み込まない      SUB_START
16903                            1004 I1  ;;まだ組み込まない      XOR     R0,R0
16904                            1005 I1  ;;まだ組み込まない
16905                            1006 I1  ;;まだ組み込まない .AIF 1 EQ    0       ;
16906                            1007 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16907                            1008 I1  ;;まだ組み込まない .AELSE
16908                            1009 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16909                            1010 I1  ;;まだ組み込まない .AENDI
16910                            1011 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16911                            1012 I1  ;;まだ組み込まない
16912                            1013 I1  ;;まだ組み込まない      SUB_END
16913                            1014 I1  ;;まだ組み込まない      M_RTS
16914                            1015 I1  
16915                            1016 I1  
16916                            1017 I1  ;*******************************************
16917                            1018 I1  
16918                            1019 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_STOP
16919                            1020 I1  ;;まだ組み込まない      SUB_START
16920                            1021 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                ;
16921                            1022 I1  ;;まだ組み込まない
16922                            1023 I1  ;;まだ組み込まない .AIF 1 EQ    0       ;
16923                            1024 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16924                            1025 I1  ;;まだ組み込まない .AELSE
16925                            1026 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16926                            1027 I1  ;;まだ組み込まない .AENDI
16927                            1028 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16928                            1029 I1  ;;まだ組み込まない
16929                            1030 I1  ;;まだ組み込まない      SUB_END
16930                            1031 I1  ;;まだ組み込まない      M_RTS
16931                            1032 I1  
16932                            1033 I1  
16933                            1034 I1  ;       *******************************************
16934                            1035 I1  ;       ***                                     ***
16935                            1036 I1  ;       ***     停止させる信号のクリア          ***
16936                            1037 I1  ;       ***                                     ***
16937                            1038 I1  ;       *******************************************
16938                            1039 I1  ;
16939                                 I1  ***** BEGIN-POOL *****
16940 00002E0C 000A                   I1  DATA FOR SOURCE-LINE 938
16941 00002E0E 0064                   I1  DATA FOR SOURCE-LINE 947
16942 00002E10 0001                   I1  DATA FOR SOURCE-LINE 968
16943 00002E12 0000                   I1  ALIGNMENT CODE
16944 00002E14 00000000               I1  DATA FOR SOURCE-LINE 936
16945 00002E18 00000000               I1  DATA FOR SOURCE-LINE 943
16946 00002E1C 00000000               I1  DATA FOR SOURCE-LINE 948
16947 00002E20 00000000               I1  DATA FOR SOURCE-LINE 954,957
16948 00002E24 00000000               I1  DATA FOR SOURCE-LINE 960
16949 00002E28 00000000               I1  DATA FOR SOURCE-LINE 964
16950 00002E2C 00000000               I1  DATA FOR SOURCE-LINE 970
16951 00002E30 00000000               I1  DATA FOR SOURCE-LINE 971
16952 00002E34 00000000               I1  DATA FOR SOURCE-LINE 974
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   193
PROGRAM NAME =

16953 00002E38 00000000               I1  DATA FOR SOURCE-LINE 976
16954 00002E3C 00000000               I1  DATA FOR SOURCE-LINE 978
16955 00002E40 00000000               I1  DATA FOR SOURCE-LINE 979
16956                                 I1  ***** END-POOL *****
16957 00002E44                   1040 I1  _TEP_REVPLS_LT_CLR
16958                            1041 I1          SUB_START
16959 00002E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
16960                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16961 00002E46 200A              1042 I1          XOR     R0,R0                   ;
16962 00002E48 D102              1043 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R1  ;
16963 00002E4A 2101              1044 I1          MOV.W   R0,@R1                  ;
16964                            1045 I1          SUB_END
16965                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16966 00002E4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16967                            1046 I1          M_RTS
16968 00002E4E 000B                   M           RTS                             ;RTSの後ろの
16969 00002E50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16970                            1047 I1  
16971                            1048 I1  ;       *******************************************
16972                            1049 I1  ;       ***                                     ***
16973                            1050 I1  ;       ***     Input R2                        ***
16974                            1051 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
16975                            1052 I1  ;       ***     Input R0 DIRECT                 ***
16976                            1053 I1  ;       ***     方向固定                        ***
16977                            1054 I1  ;       ***                                     ***
16978                            1055 I1  ;       *******************************************
16979                            1056 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
16980                            1057 I1  ;       MOV.L   @R4,R2                                  ;
16981                            1058 I1  ;
16982                            1059 I1  
16983                            5196     
16984                            5197     
16985                            5198     
16986                            5199     
16987                            5200     
16988                            5201     ;       ***********************************
16989                            5202     ;       ***                             ***
16990                            5203     ;       ***     目標位置→LENGTH        ***
16991                            5204     ;       ***                             ***
16992                            5205     ;       ***********************************
16993                            5206     ;       Input R1,R2(目標位置)
16994                            5207     ;       Output R1,R2
16995                                     ***** BEGIN-POOL *****
16996 00002E52 0000                       ALIGNMENT CODE
16997 00002E54 00000000                   DATA FOR SOURCE-LINE 1043
16998                                     ***** END-POOL *****
16999 00002E58                   5208             .ALIGN  4                               ;
17000 00002E58                   5209     _LENGH_ADD_CALC:
17001                            5210             SUB_START
17002 00002E58 4F22                   M           STS.L   PR,@-R15                ;[必要]
17003                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17004 00002E5A D50B              5211             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17005 00002E5C 2512              5212             MOV.L   R1,@R5                          ;
17006 00002E5E 1521              5213             MOV.L   R2,@(4,R5)                      ;
17007                            5214     
17008                            5215     ;       ===2004-12-20 ===================
17009                            5216             PUSH_REG1 R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   194
PROGRAM NAME =

17010 00002E60 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17011                                 M                                           ;REG=>[SP]
17012                                 M                                           ;"-4" FF,FF,FF,FC
17013 00002E62 D50A              5217             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17014 00002E64 2512              5218             MOV.L   R1,@R5                          ;
17015 00002E66 1521              5219             MOV.L   R2,@(4,R5)                      ;
17016                            5220             POP_REG1 R5
17017                                 M                                   ; RE"+4" 00,00,00,04
17018 00002E68 65F6                   M           MOV.L   @R15+,R5        ;
17019                            5221     ;       =================================
17020                            5222     
17021                            5223     ;;;;2014-09-12ﾃﾞﾝｼﾞｬﾗｽか?       MOV.L   #_LINK_PV_ABSPLS,R4             ;(ﾌﾙｸﾛｰｽﾞ時は対象
                                          を変える)
17022 00002E6A D409              5224             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;2014-09-14
17023 00002E6C 6546              5225             MOV.L   @R4+,R5                         ;
17024 00002E6E 6642              5226             MOV.L   @R4,R6                          ;
17025                            5227             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
17026 00002E70 0008                   M           CLRT
17027 00002E72 326A                   M           SUBC    R6,R2
17028 00002E74 315A                   M           SUBC    R5,R1
17029 00002E76 D407              5228             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
17030 00002E78 2412              5229             MOV.L   R1,@R4                          ;
17031 00002E7A 1421              5230             MOV.L   R2,@(4,R4)                      ;
17032                            5231     
17033                            5232     ;       ==== MONITOR 2004-01-28 ====
17034 00002E7C D406              5233             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
17035 00002E7E 2412              5234             MOV.L   R1,@R4                          ;
17036 00002E80 1421              5235             MOV.L   R2,@(4,R4)                      ;
17037                            5236     
17038                            5237     
17039                            5238     
17040                            5239             SUB_END
17041                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17042 00002E82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17043                            5240             M_RTS
17044 00002E84 000B                   M           RTS                             ;RTSの後ろの
17045 00002E86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17046                            5241     
17047                                     ***** BEGIN-POOL *****
17048 00002E88 00000000                   DATA FOR SOURCE-LINE 5211
17049 00002E8C 00000000                   DATA FOR SOURCE-LINE 5217
17050 00002E90 00000000                   DATA FOR SOURCE-LINE 5224
17051 00002E94 00000000                   DATA FOR SOURCE-LINE 5228
17052 00002E98 00000000                   DATA FOR SOURCE-LINE 5233
17053                                     ***** END-POOL *****
17054 00002E9C                   5242             .ALIGN  4                               ;
17055 00002E9C                   5243     _LENGH_ADD_CALC_SV_TYPE:
17056                            5244             SUB_START
17057 00002E9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17058                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17059 00002E9E D40B              5245             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17060 00002EA0 6542              5246             MOV.L   @R4,R5                          ;OLD_LOAD
17061 00002EA2 5641              5247             MOV.L   @(4,R4),R6                      ;
17062 00002EA4 2412              5248             MOV.L   R1,@R4                          ;
17063 00002EA6 1421              5249             MOV.L   R2,@(4,R4)                      ;NEW SAVE
17064                            5250     ;       ===2004-12-20 ===================
17065                            5251             PUSH_REG1 R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   195
PROGRAM NAME =

17066 00002EA8 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17067                                 M                                           ;REG=>[SP]
17068                                 M                                           ;"-4" FF,FF,FF,FC
17069 00002EAA D409              5252             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17070 00002EAC 2412              5253             MOV.L   R1,@R4                          ;
17071 00002EAE 1421              5254             MOV.L   R2,@(4,R4)                      ;
17072                            5255             POP_REG1 R4
17073                                 M                                   ; RE"+4" 00,00,00,04
17074 00002EB0 64F6                   M           MOV.L   @R15+,R4        ;
17075                            5256     ;       =================================
17076                            5257     
17077                            5258             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
17078 00002EB2 0008                   M           CLRT
17079 00002EB4 326A                   M           SUBC    R6,R2
17080 00002EB6 315A                   M           SUBC    R5,R1
17081 00002EB8 D406              5259             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
17082 00002EBA 2412              5260             MOV.L   R1,@R4                          ;
17083 00002EBC 1421              5261             MOV.L   R2,@(4,R4)                      ;
17084                            5262     ;       ==== MONITOR 2004-01-28 ====
17085 00002EBE D406              5263             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
17086 00002EC0 2412              5264             MOV.L   R1,@R4                          ;
17087 00002EC2 1421              5265             MOV.L   R2,@(4,R4)                      ;
17088                            5266     
17089                            5267             SUB_END
17090                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17091 00002EC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17092                            5268             M_RTS
17093 00002EC6 000B                   M           RTS                             ;RTSの後ろの
17094 00002EC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17095                            5269     
17096                            5270     ;       ===== BANK LENGTH ADD ====
17097                                     ***** BEGIN-POOL *****
17098 00002ECA 0000                       ALIGNMENT CODE
17099 00002ECC 00000000                   DATA FOR SOURCE-LINE 5245
17100 00002ED0 00000000                   DATA FOR SOURCE-LINE 5252
17101 00002ED4 00000000                   DATA FOR SOURCE-LINE 5259
17102 00002ED8 00000000                   DATA FOR SOURCE-LINE 5263
17103                                     ***** END-POOL *****
17104 00002EDC                   5271             .ALIGN  4                               ;
17105 00002EDC                   5272     _BANK_LENGH_ADD_CALC_SV_TYPE:
17106                            5273             SUB_START
17107 00002EDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17108                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17109 00002EDE D40B              5274             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17110 00002EE0 6542              5275             MOV.L   @R4,R5                          ;OLD_LOAD
17111 00002EE2 5641              5276             MOV.L   @(4,R4),R6                      ;
17112 00002EE4 2412              5277             MOV.L   R1,@R4                          ;
17113 00002EE6 1421              5278             MOV.L   R2,@(4,R4)                      ;NEW SAVE
17114                            5279             PUSH_REG1 R4
17115 00002EE8 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17116                                 M                                           ;REG=>[SP]
17117                                 M                                           ;"-4" FF,FF,FF,FC
17118 00002EEA D409              5280             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17119 00002EEC 2412              5281             MOV.L   R1,@R4                          ;
17120 00002EEE 1421              5282             MOV.L   R2,@(4,R4)                      ;
17121                            5283             POP_REG1 R4
17122                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   196
PROGRAM NAME =

17123 00002EF0 64F6                   M           MOV.L   @R15+,R4        ;
17124                            5284     
17125                            5285     
17126                            5286     
17127                            5287             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
17128 00002EF2 0008                   M           CLRT
17129 00002EF4 326A                   M           SUBC    R6,R2
17130 00002EF6 315A                   M           SUBC    R5,R1
17131 00002EF8 D406              5288             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
17132 00002EFA 2412              5289             MOV.L   R1,@R4                          ;
17133 00002EFC 1421              5290             MOV.L   R2,@(4,R4)                      ;
17134                            5291     ;       ==== MONITOR 2004-01-28 ====
17135 00002EFE D406              5292             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
17136 00002F00 2412              5293             MOV.L   R1,@R4                          ;
17137 00002F02 1421              5294             MOV.L   R2,@(4,R4)                      ;
17138                            5295     
17139                            5296             SUB_END
17140                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17141 00002F04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17142                            5297             M_RTS
17143 00002F06 000B                   M           RTS                             ;RTSの後ろの
17144 00002F08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17145                            5298     
17146                            5299     
17147                            5300     ;       ***********************************
17148                            5301     ;       ***     STOP MEM CLR            ***
17149                            5302     ;       ***********************************
17150                                     ***** BEGIN-POOL *****
17151 00002F0A 0000                       ALIGNMENT CODE
17152 00002F0C 00000000                   DATA FOR SOURCE-LINE 5274
17153 00002F10 00000000                   DATA FOR SOURCE-LINE 5280
17154 00002F14 00000000                   DATA FOR SOURCE-LINE 5288
17155 00002F18 00000000                   DATA FOR SOURCE-LINE 5292
17156                                     ***** END-POOL *****
17157 00002F1C                   5303             .ALIGN  4                               ;
17158 00002F1C                   5304     _POS_LSI_WORK_STOP_CLR:
17159                            5305             SUB_START
17160 00002F1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17162                            5306     
17163 00002F1E 200A              5307             XOR     R0,R0
17164 00002F20 D105              5308             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1                         ;//符号つき TOTAL=TOTAL+AD
                                          D ADD_DATA<=0
17165 00002F22 2102              5309             MOV.L   R0,@R1                                          ;
17166 00002F24 1101              5310             MOV.L   R0,@(4,R1)                                      ;
17167 00002F26 D105              5311             MOV.L   #_LNGTH_ADD_DATA,R1                             ;//符号付き
17168 00002F28 2102              5312             MOV.L   R0,@R1                                          ;
17169 00002F2A 1101              5313             MOV.L   R0,@(4,R1)                                      ;
17170 00002F2C D104              5314             MOV.L   #_OUTPLS_MOD,R1                                 ;
17171 00002F2E 2102              5315             MOV.L   R0,@R1                                          ;
17172                            5316     
17173                            5317             SUB_END
17174                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17175 00002F30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17176                            5318             M_RTS
17177 00002F32 000B                   M           RTS                             ;RTSの後ろの
17178 00002F34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   197
PROGRAM NAME =

17179                            5319     
17180                            5320     ;       *******************************************
17181                            5321     ;       ***                                     ***
17182                            5322     ;       *******************************************
17183                                     ***** BEGIN-POOL *****
17184 00002F36 0000                       ALIGNMENT CODE
17185 00002F38 00000000                   DATA FOR SOURCE-LINE 5308
17186 00002F3C 00000000                   DATA FOR SOURCE-LINE 5311
17187 00002F40 00000000                   DATA FOR SOURCE-LINE 5314
17188                                     ***** END-POOL *****
17189 00002F44                   5323             .ALIGN  4                               ;
17190 00002F44                   5324     _POS_LSI_WORK_STOP2;
17191                            5325             SUB_START
17192 00002F44 4F22                   M           STS.L   PR,@-R15                ;[必要]
17193                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17194                            5326             FAR_JSR #_OutputPLS_REG_CLR,R0          ;
17195 00002F46 D004                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17196 00002F48 400B                   M           JSR     @R0                     ;
17197 00002F4A 0009                   M           NOP                                     ;
17198 00002F4C 200A              5327             XOR     R0,R0                           ;
17199 00002F4E D103              5328             MOV.L   #_POSLSI_CMP_DATA,R1            ;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
17200 00002F50 2102              5329             MOV.L   R0,@R1                          ;
17201                            5330             SUB_END
17202                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17203 00002F52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17204                            5331             M_RTS
17205 00002F54 000B                   M           RTS                             ;RTSの後ろの
17206 00002F56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17207                            5332     ;       ***********************************
17208                            5333     ;       ***                             ***
17209                            5334     ;       ***                             ***
17210                            5335     ;       ***                             ***
17211                            5336     ;       ***********************************
17212                                     ***** BEGIN-POOL *****
17213 00002F58 00000000                   DATA FOR SOURCE-LINE 5326
17214 00002F5C 00000000                   DATA FOR SOURCE-LINE 5328
17215                                     ***** END-POOL *****
17216 00002F60                   5337             .ALIGN  4
17217 00002F60                   5338     _EMG_POS_FLG_PROC:
17218                            5339             SUB_START
17219 00002F60 4F22                   M           STS.L   PR,@-R15                ;[必要]
17220                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17221                            5340             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
17222 00002F62 D015                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17223 00002F64 400B                   M           JSR     @R0                     ;
17224 00002F66 0009                   M           NOP                                     ;
17225                            5341     
17226 00002F68 9024              5342             MOV.W   #BIT6,R0                        ;位置決め完了
17227 00002F6A D114              5343             MOV.L   #_INT_CYC_DRV_STS,R1            ;//BIT0=1(終了:ﾃﾞｰﾀ保証あり)
17228 00002F6C 2101              5344             MOV.W   R0,@R1                          ;
17229                            5345     
17230 00002F6E D114              5346             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
17231 00002F70 200A              5347             XOR     R0,R0                           ;
17232 00002F72 2101              5348             MOV.W   R0,@R1                          ;
17233                            5349     
17234                            5350     ;;      .AIF    1 EQ 1  ;
17235                            5351     ;;      .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   198
PROGRAM NAME =

17236 00002F74 200A              5352             XOR     R0,R0
17237 00002F76 D113              5353             MOV.L   #_INT_DND_NEG_STEP,R1           ;//2003-01-27 1 EQ 1    ;
17238 00002F78 2101              5354             MOV.W   R0,@R1                          ;
17239 00002F7A D113              5355             MOV.L   #_DNDINC_CTRL_STEP,R1           ;2006-07-28
17240 00002F7C 2101              5356             MOV.W   R0,@R1                          ;
17241                            5357     
17242                            5358             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
17243 00002F7E D013                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17244 00002F80 400B                   M           JSR     @R0                     ;
17245 00002F82 0009                   M           NOP                                     ;
17246                            5359             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
17247 00002F84 D012                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17248 00002F86 400B                   M           JSR     @R0                     ;
17249 00002F88 0009                   M           NOP                                     ;
17250                            5360     
17251                            5361     ;       ---     [2009-10-07下振子]      ---
17252                            5362             FAR_JSR #_DNM_DATA_CLR,R0                       ;
17253 00002F8A D012                   M           MOV.L   #_DNM_DATA_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17254 00002F8C 400B                   M           JSR     @R0                     ;
17255 00002F8E 0009                   M           NOP                                     ;
17256                            5363     
17257                            5364     ;       ------------寸動からの上限指令 2013-02-15--
17258 00002F90 200A              5365             XOR     R0,R0                   ;
17259 00002F92 D111              5366             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
17260 00002F94 2101              5367             MOV.W   R0,@R1                  ;
17261                            5368     
17262                            5369     ;       ------------ 2013-07-13
17263                            5370             FAR_JSR #_EXQ_POS_FLG_PROC,R0
17264 00002F96 D011                   M           MOV.L   #_EXQ_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17265 00002F98 400B                   M           JSR     @R0                     ;
17266 00002F9A 0009                   M           NOP                                     ;
17267                            5371     
17268                            5372     ;       --------- 2013-07-18
17269 00002F9C 200A              5373             XOR     R0,R0
17270 00002F9E D110              5374             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17271 00002FA0 2101              5375             MOV.W   R0,@R1                                  ;
17272                            5376     
17273                            5377     ;       --------- 2014-09-22 繰返---------------
17274                            5378             FAR_JSR #_MOT_REP_CLR,R0
17275 00002FA2 D010                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17276 00002FA4 400B                   M           JSR     @R0                     ;
17277 00002FA6 0009                   M           NOP                                     ;
17278                            5379     
17279                            5380     ;       -------2021-11-11[]-------
17280                            5381             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
17281 00002FA8 D00F                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17282 00002FAA 400B                   M           JSR     @R0                     ;
17283 00002FAC 0009                   M           NOP                                     ;
17284                            5382     
17285                            5383             SUB_END
17286                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17287 00002FAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17288                            5384             M_RTS
17289 00002FB0 000B                   M           RTS                             ;RTSの後ろの
17290 00002FB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17291                            5385     
17292                            5386     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   199
PROGRAM NAME =

17293                                     ***** BEGIN-POOL *****
17294 00002FB4 0040                       DATA FOR SOURCE-LINE 5342
17295 00002FB6 0000                       ALIGNMENT CODE
17296 00002FB8 00000000                   DATA FOR SOURCE-LINE 5340
17297 00002FBC 00000000                   DATA FOR SOURCE-LINE 5343
17298 00002FC0 00000000                   DATA FOR SOURCE-LINE 5346
17299 00002FC4 00000000                   DATA FOR SOURCE-LINE 5353
17300 00002FC8 00000000                   DATA FOR SOURCE-LINE 5355
17301 00002FCC 00000000                   DATA FOR SOURCE-LINE 5358
17302 00002FD0 00000000                   DATA FOR SOURCE-LINE 5359
17303 00002FD4 00000000                   DATA FOR SOURCE-LINE 5362
17304 00002FD8 00000000                   DATA FOR SOURCE-LINE 5366
17305 00002FDC 00000000                   DATA FOR SOURCE-LINE 5370
17306 00002FE0 00000000                   DATA FOR SOURCE-LINE 5374
17307 00002FE4 00000000                   DATA FOR SOURCE-LINE 5378
17308 00002FE8 00000000                   DATA FOR SOURCE-LINE 5381
17309                                     ***** END-POOL *****
17310 00002FEC                   5387             .ALIGN  4
17311 00002FEC                   5388     _EXQ_POS_FLG_PROC:
17312                            5389             SUB_START
17313 00002FEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17314                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17315                            5390     
17316 00002FEE D117              5391             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
17317 00002FF0 200A              5392             XOR     R0,R0                   ;
17318 00002FF2 2101              5393             MOV.W   R0,@R1                  ;
17319                            5394             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17320 00002FF4 D016                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17321 00002FF6 400B                   M           JSR     @R0                     ;
17322 00002FF8 0009                   M           NOP                                     ;
17323                            5395             FAR_JSR #_POS_LSI_EMG_STOP,R0                   ;急停止
17324 00002FFA D016                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17325 00002FFC 400B                   M           JSR     @R0                     ;
17326 00002FFE 0009                   M           NOP                                     ;
17327                            5396     
17328                            5397     ;       ==========================
17329 00003000 200A              5398             XOR     R0,R0                           ;
17330 00003002 D115              5399             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
17331 00003004 2101              5400             MOV.W   R0,@R1                          ;
17332                            5401     
17333 00003006 200A              5402             XOR     R0,R0                           ;
17334                            5403             REG_MOV_TO_MEM  DST_ADR=_POS_LSI_ACS_ERR_FLG1   ,L1=W,DT_REG=R0,WKREG1=R1       ;L
                                          SI異常
17335 00003008 D114                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1       ;DST_ADR
17336 0000300A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17337                            5404             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17338 0000300C D114                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1  ;DST_ADR
17339 0000300E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17340                            5405             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17341 00003010 D114                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1  ;DST_ADR
17342 00003012 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17343                            5406     
17344                            5407             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0
17345 00003014 D014                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17346 00003016 400B                   M           JSR     @R0                     ;
17347 00003018 0009                   M           NOP                                     ;
17348                            5408     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   200
PROGRAM NAME =

17349                            5409             .AIF    1 EQ    0
17350                            5410     
17351                            5411             FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
17352                            5412             .AENDI
17353                            5413     
17354                            5414     
17355                            5415             .AIF    1 EQ    0
17356                            5416             FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
17357                            5417             .AENDI
17358                            5418     
17359                            5419     ;       -2012-05-30 反転
17360                            5420             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
17361 0000301A D014                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17362 0000301C 400B                   M           JSR     @R0                     ;
17363 0000301E 0009                   M           NOP                                     ;
17364                            5421     
17365                            5422     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
17366                            5423             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
17367                            5424 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
17368 00003020 D013                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17369 00003022 400B                   M           JSR     @R0                     ;
17370 00003024 0009                   M           NOP                                     ;
17371                            5425 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
17372 00003026 D013                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17373 00003028 400B                   M           JSR     @R0                     ;
17374 0000302A 0009                   M           NOP                                     ;
17375                            5426             .AENDI
17376                            5427     
17377                            5428     ;       --------- 2013-07-18
17378 0000302C 200A              5429             XOR     R0,R0
17379 0000302E D112              5430             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17380 00003030 2101              5431             MOV.W   R0,@R1                                  ;
17381                            5432     
17382                            5433             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
17383 00003032 D012                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17384 00003034 400B                   M           JSR     @R0                     ;
17385 00003036 0009                   M           NOP                                     ;
17386                            5434     
17387                            5435     ;       -------- 2015-09-06(2015-07-14)-----------
17388                            5436     ;;;     _BRK_SADOU_CHG EQ 1
17389                            5437             FAR_JSR #_POS_END_MYUTIG_TIMER_CLR,R0
17390 00003038 D011                   M           MOV.L   #_POS_END_MYUTIG_TIMER_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17391 0000303A 400B                   M           JSR     @R0                     ;
17392 0000303C 0009                   M           NOP                                     ;
17393                            5438     
17394                            5439     ;       ------- 2015-11-17 -----------------------
17395                            5440     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
17396                            5441             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
17397 0000303E D011                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17398 00003040 400B                   M           JSR     @R0                     ;
17399 00003042 0009                   M           NOP                                     ;
17400                            5442     
17401                            5443             SUB_END
17402                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17403 00003044 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17404                            5444             M_RTS
17405 00003046 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   201
PROGRAM NAME =

17406 00003048 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17407                            5445     
17408                            5446     ;       ***********************************
17409                            5447     ;       ***                             ***
17410                            5448     ;       ***     ﾜｰｸﾌﾗｸﾞ関係ｸﾘｱ          ***
17411                            5449     ;       ***                             ***
17412                            5450     ;       ***********************************
17413                            5451     ;       1ｻｲｸﾙ終了時
17414                                     ***** BEGIN-POOL *****
17415 0000304A 0000                       ALIGNMENT CODE
17416 0000304C 00000000                   DATA FOR SOURCE-LINE 5391
17417 00003050 00000000                   DATA FOR SOURCE-LINE 5394
17418 00003054 00000000                   DATA FOR SOURCE-LINE 5395
17419 00003058 00000000                   DATA FOR SOURCE-LINE 5399
17420 0000305C 00000000                   DATA FOR SOURCE-LINE 5403
17421 00003060 00000000                   DATA FOR SOURCE-LINE 5404
17422 00003064 00000000                   DATA FOR SOURCE-LINE 5405
17423 00003068 00000000                   DATA FOR SOURCE-LINE 5407
17424 0000306C 00000000                   DATA FOR SOURCE-LINE 5420
17425 00003070 00000000                   DATA FOR SOURCE-LINE 5424
17426 00003074 00000000                   DATA FOR SOURCE-LINE 5425
17427 00003078 00000000                   DATA FOR SOURCE-LINE 5430
17428 0000307C 00000000                   DATA FOR SOURCE-LINE 5433
17429 00003080 00000000                   DATA FOR SOURCE-LINE 5437
17430 00003084 00000000                   DATA FOR SOURCE-LINE 5441
17431                                     ***** END-POOL *****
17432 00003088                   5452             .ALIGN  4
17433                            5453             .EXPORT _CYC_END_POS_FLG_CLR            ;2016-04-18
17434 00003088                   5454     _CYC_END_POS_FLG_CLR:
17435                            5455             SUB_START
17436 00003088 4F22                   M           STS.L   PR,@-R15                ;[必要]
17437                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17438 0000308A 200A              5456             XOR     R0,R0                           ;
17439 0000308C D102              5457             MOV.L   #_SV_POS_CTL_STEP,R1            ;
17440 0000308E 2101              5458             MOV.W   R0,@R1                          ;
17441                            5459     
17442                            5460     
17443                            5461             SUB_END
17444                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17445 00003090 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17446                            5462             M_RTS
17447 00003092 000B                   M           RTS                             ;RTSの後ろの
17448 00003094 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17449                            5463     ;       ***********************************
17450                            5464     ;       ***                             ***
17451                            5465     ;       ***     ﾜｰｸﾌﾗｸﾞ関係SET          ***
17452                            5466     ;       ***                             ***
17453                            5467     ;       ***********************************
17454                            5468     ;       1ｻｲｸﾙ終了時     CYCL=BIT0,SV_STEP=0
17455                            5469     ;       非常停止復帰時  CYCL=0  ,SV_STEP=0
17456                                     ***** BEGIN-POOL *****
17457 00003096 0000                       ALIGNMENT CODE
17458 00003098 00000000                   DATA FOR SOURCE-LINE 5457
17459                                     ***** END-POOL *****
17460 0000309C                   5470             .ALIGN  4                               ;
17461 0000309C                   5471     _CYC_END_POS_FLG_SET:
17462                            5472             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   202
PROGRAM NAME =

17463 0000309C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17464                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17465                            5473             MEM1_DATA_SET MEM=_INT_CYC_DRV_STS,LG=W,DATA=(BIT6+BIT0),WKREG1=R1,WKREG2=R2    ;ｻ
                                          ｲｸﾙｴﾝﾄﾞ(次回運転まで有効)
17466 0000309E D103                   M           MOV.L   #_INT_CYC_DRV_STS,R1            ;
17467 000030A0 9203                   M           MOV.W   #(BIT6+BIT0),R2         ;
17468 000030A2 2121                   M           MOV.W   R2,@R1  ;
17469                            5474             SUB_END
17470                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17471 000030A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17472                            5475             M_RTS
17473 000030A6 000B                   M           RTS                             ;RTSの後ろの
17474 000030A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17475                            5476     
17476                            5477     ;       ***************************************************
17477                            5478     ;       ***                                             ***
17478                            5479     ;       ***                                             ***
17479                            5480     ;       ***                                             ***
17480                            5481     ;       ***             位置決めＬＳＩアクセス          ***
17481                            5482     ;       ***                                             ***
17482                            5483     ;       ***                                             ***
17483                            5484     ;       ***                                             ***
17484                            5485     ;       ***************************************************
17485                            5486     ;       ?加減速時間の演算と指令周波数の演算
17486                            5487     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
17487                            5488     ;       "_poslsi1_top"
17488                            5489     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
17489                            5490     ;       *速度周波数の演算
17490                            5491     ;       *ベース周波数=1?
17491                            5492     ;       *加速時間
17492                            5493     ;       *急停止の時間
17493                            5494     ;       ***********************************
17494                            5495     ;       ***                             ***
17495                            5496     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
17496                            5497     ;       ***                             ***
17497                            5498     ;       ***********************************
17498                            5499     ;       25MHZ*1/N*1/LATE=65535
17499                            5500     
17500                            5501             .EXPORT _POS_LSI_HARD_INITAL
17501                            5502             .EXPORT _POS_LSI_DATA_INITAL
17502                            5503     
17503                            5504             .MACRO  POS_LSI_CMD_WR ADR_REG,DAT_REG
17504                            5505             SWAP.W  \DAT_REG,\DAT_REG                               ;
17505                            5506     
17506                            5507             MOV.W   \DAT_REG,@\ADR_REG
17507                            5508             ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17508                            5509             SWAP.W  \DAT_REG,\DAT_REG                               ;
17509                            5510             POS_LSI_WORD_DUM_LOD                                    ;
17510                            5511             MOV.W   \DAT_REG,@\ADR_REG                              ;HIGH WORD SAVE
17511                            5512             POS_LSI_WORD_DUM_LOD                                    ;
17512                            5513             .ENDM
17513                            5514     
17514                            5515             .MACRO  POS_LSI_BIT_SET_LG ADR,MEM
17515                            5516             MOV.L   #\MEM,R6                                        ;
17516                            5517             MOV.L   @R6,R5                                          ;
17517                            5518             OR      R4,R5                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   203
PROGRAM NAME =

17518                            5519             MOV.L   R5,@R6                                          ;SAVE
17519                            5520     
17520                            5521             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17521                            5522             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17522                            5523             .ENDM
17523                            5524     
17524                            5525     
17525                            5526             .MACRO  POS_LSI_BIT_CLR_LG ADR,MEM
17526                            5527             MOV.L   #\MEM,R6                                        ;
17527                            5528             MOV.L   @R6,R5                                          ;
17528                            5529             AND     R4,R5                                           ;
17529                            5530             MOV.L   R5,@R6                                          ;SAVE
17530                            5531     
17531                            5532             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17532                            5533             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17533                            5534             .ENDM
17534                            5535     
17535                            5536     ;AND R3 対象BIT
17536                            5537     ;OR  R4 転送BIT
17537                            5538             .MACRO  POS_LSI_BIT_MOV_LG ADR,MEM
17538                            5539             MOV.L   #\MEM,R6                                        ;
17539                            5540             MOV.L   @R6,R5                                          ;
17540                            5541             NOT     R3,R3                                           ;
17541                            5542             AND     R3,R5                                           ;
17542                            5543             OR      R4,R5                                           ;
17543                            5544             MOV.L   R5,@R6                                          ;SAVE
17544                            5545     
17545                            5546             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17546                            5547             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17547                            5548             .ENDM
17548                            5549     
17549                            5550     
17550                            5551     
17551                            5552     ;       ***************************************************
17552                            5553     ;       ***     位置決めＬＳＩ 32BIT DATA WRITE         ***
17553                            5554     ;       ***     払出ﾊﾟﾙｽ設定
17554                            5555     ;       ********************************************
17555                            5556     
17556                            5557             .MACRO  POS_LSI_32BIT_DAT_SET ADR,ADR_REG,DAT_REG
17557                            5558             PUSH_REG1 \ADR_REG
17558                            5559             PUSH_REG1 \DAT_REG
17559                            5560             POS_LSI_WORD_DUM_LOD                                    ;
17560                            5561             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,\ADR_REG           ;
17561                            5562             MOV.W   \DAT_REG,@\ADR_REG                              ;(LOW)
17562                            5563             ADD     #2,\ADR_REG                                     ;
17563                            5564             SWAP.W  \DAT_REG,\DAT_REG                               ;
17564                            5565             POS_LSI_WORD_DUM_LOD                                    ;
17565                            5566             MOV.W   \DAT_REG,@\ADR_REG                              ;(HIGH)
17566                            5567             POS_LSI_WORD_DUM_LOD                                    ;
17567                            5568             POP_REG1 \DAT_REG
17568                            5569             POP_REG1 \ADR_REG
17569                            5570             .ENDM
17570                            5571     
17571                            5572     
17572                            5573     ;       *******************************************
17573                            5574     ;       ***                                     ***
17574                            5575     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   204
PROGRAM NAME =

17575                            5576     ;       ***                                     ***
17576                            5577     ;       *******************************************
17577                                     ***** BEGIN-POOL *****
17578 000030AA 0041                       DATA FOR SOURCE-LINE 5473
17579 000030AC 00000000                   DATA FOR SOURCE-LINE 5473
17580                                     ***** END-POOL *****
17581 000030B0                   5578             .ALIGN  4                               ;
17582 000030B0                   5579     _POS_LSI_HARD_INITAL:
17583                            5580             SUB_START
17584 000030B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17585                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17586                            5581     ;       ==========================================
17587 000030B2 D60E              5582             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R6         ;
17588                            5583             .AIF    1 EQ 1          ;2006-09-19
17589 000030B4 9519              5584 C           MOV.W   #H'100*(B'01000011)+(B'11000100),R5
17590                            5585 C                                                                   ;B相進み
17591                            5586 C                                                                   ;BIT7,BIT6=1,1 +OT,-OT無効
17592                            5587 C                                                                   ;BIT9,BIT8=1,1 自動加減速
                                          無効
17593                            5588 C                                                                   ;BIT14         外部ｹﾞｰﾄ無
                                          効
17594                            5589             .AELSE
17595                            5590             MOV.W   #H'100*(B'01000000)+(B'11000100),R5
17596                            5591                                                                     ;B相進み
17597                            5592                                                                     ;BIT7,BIT6=1   +OT,-OT無効
17598                            5593                                                                     ;BIT9,BIT8=0,0 自動加減速
                                          有効
17599                            5594                                                                     ;BIT14         外部ｹﾞｰﾄ無
                                          効
17600                            5595             .AENDI
17601 000030B6 2651              5596             MOV.W   R5,@R6                                          ;
17602                            5597     ;BIT0=0(正転PLS/逆転PLS 2PLS MODE)
17603                            5598     ;BIT1=0 帰還有効
17604                            5599     ;BIT2=1 A相進み
17605                            5600     ;BIT4,3=0 90位相;
17606                            5601     ;BIT13=0速度16ﾋﾞｯﾄ　=1:20ﾋﾞｯﾄ
17607                            5602     ;
17608                            5603     ;       ======= ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽｶｳﾝﾄ開始    ============
17609 000030B8 D50D              5604             MOV.L   #BIT2,R5                                        ;
17610 000030BA D60E              5605             MOV.L   #_LSI_BUF_PLS_BitComdL,R6                       ;
17611 000030BC 2652              5606             MOV.L   R5,@R6                                          ;MOTROLA 32BIT DATA
17612                            5607     
17613 000030BE D40C              5608             MOV.L   #BIT2,R4                                                ;
17614                            5609             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;BIT2(BIT18)
17615 000030C0 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17616 000030C2 6562                   M           MOV.L   @R6,R5                                          ;
17617 000030C4 254B                   M           OR      R4,R5                                           ;
17618 000030C6 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17619                                 M   
17620 000030C8 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17621                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17622 000030CA 6559                   M           SWAP.W  R5,R5                           ;
17623                                 M   
17624 000030CC 2651                   M           MOV.W   R5,@R6
17625 000030CE 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17626 000030D0 6559                   M           SWAP.W  R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   205
PROGRAM NAME =

17627                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17628                                 M           PUSH_REG1 R0
17629 000030D2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17630                                 M                                           ;REG=>[SP]
17631                                 M                                           ;"-4" FF,FF,FF,FC
17632 000030D4 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17633 000030D6 6001                   M           MOV.W   @R0,R0
17634                                 M           POP_REG1 R0
17635                                 M                                   ; RE"+4" 00,00,00,04
17636 000030D8 60F6                   M           MOV.L   @R15+,R0        ;
17637 000030DA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17638                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17639                                 M           PUSH_REG1 R0
17640 000030DC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17641                                 M                                           ;REG=>[SP]
17642                                 M                                           ;"-4" FF,FF,FF,FC
17643 000030DE D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17644 000030E0 6001                   M           MOV.W   @R0,R0
17645                                 M           POP_REG1 R0
17646                                 M                                   ; RE"+4" 00,00,00,04
17647 000030E2 60F6                   M           MOV.L   @R15+,R0        ;
17648                            5610     
17649                            5611             SUB_END
17650                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17651 000030E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17652                            5612             M_RTS
17653 000030E6 000B                   M           RTS                             ;RTSの後ろの
17654 000030E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17655                            5613     
17656                            5614     ;       ***********************************
17657                            5615     ;       ***                             ***
17658                            5616     ;       ***     ﾒｲﾝﾃﾞｰﾀ受信後           ***
17659                            5617     ;       ***                             ***
17660                            5618     ;       ***********************************
17661                                     ***** BEGIN-POOL *****
17662 000030EA 43C4                       DATA FOR SOURCE-LINE 5584
17663 000030EC 00000000                   DATA FOR SOURCE-LINE 5582
17664 000030F0 00000004                   DATA FOR SOURCE-LINE 5604,5608
17665 000030F4 00000000                   DATA FOR SOURCE-LINE 5605,5609
17666 000030F8 00000000                   DATA FOR SOURCE-LINE 5609
17667 000030FC 00000000                   DATA FOR SOURCE-LINE 5609,5609
17668                                     ***** END-POOL *****
17669 00003100                   5619             .ALIGN  4                               ;
17670 00003100                   5620     _POS_LSI_DATA_INITAL:
17671                            5621             SUB_START
17672 00003100 4F22                   M           STS.L   PR,@-R15                ;[必要]
17673                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17674                            5622             FAR_JSR #_POS_LSI_SPDLATE_SET,R0        ;(本当は1回だけ)
17675 00003102 D006                   M           MOV.L   #_POS_LSI_SPDLATE_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17676 00003104 400B                   M           JSR     @R0                     ;
17677 00003106 0009                   M           NOP                                     ;
17678                            5623             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;(本当は1回だけ)
17679 00003108 D005                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17680 0000310A 400B                   M           JSR     @R0                     ;
17681 0000310C 0009                   M           NOP                                     ;
17682                            5624             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17683 0000310E D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   206
PROGRAM NAME =

17684 00003110 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17685 00003112 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17686 00003114 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17687                            5625     
17688                            5626     
17689                            5627     
17690                            5628     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速(意味無し)
17691                            5629     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17692                            5630     
17693                            5631             SUB_END
17694                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17695 00003116 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17696                            5632             M_RTS
17697 00003118 000B                   M           RTS                             ;RTSの後ろの
17698 0000311A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17699                            5633     
17700                            5634     
17701                            5635     ;       ***********************************
17702                            5636     ;       ***                             ***
17703                            5637     ;       ***     起動前ｲﾆｼｬﾙ             ***
17704                            5638     ;       ***                             ***
17705                            5639     ;       ***********************************
17706                                     ***** BEGIN-POOL *****
17707 0000311C 00000000                   DATA FOR SOURCE-LINE 5622
17708 00003120 00000000                   DATA FOR SOURCE-LINE 5623
17709 00003124 00000000                   DATA FOR SOURCE-LINE 5624
17710 00003128 00000000                   DATA FOR SOURCE-LINE 5624
17711                                     ***** END-POOL *****
17712 0000312C                   5640             .ALIGN  4                               ;
17713 0000312C                   5641     _POS_LSI_START_INITAL:
17714                            5642             SUB_START
17715 0000312C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17716                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17717                            5643     
17718                            5644     ;       ===== 本当は不要だけど、ﾃﾞﾊﾞｯｸ完了までは======
17719                            5645     
17720                            5646     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17721                            5647             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;
17722 0000312E D006                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17723 00003130 400B                   M           JSR     @R0                     ;
17724 00003132 0009                   M           NOP                                     ;
17725                            5648             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17726 00003134 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17727 00003136 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17728 00003138 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17729 0000313A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17730                            5649     
17731                            5650     
17732                            5651     
17733                            5652     
17734                            5653     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17735                            5654     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17736                            5655             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17737 0000313C D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17738 0000313E 400B                   M           JSR     @R0                     ;
17739 00003140 0009                   M           NOP                                     ;
17740                            5656     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   207
PROGRAM NAME =

17741                            5657             SUB_END
17742                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17743 00003142 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17744                            5658             M_RTS
17745 00003144 000B                   M           RTS                             ;RTSの後ろの
17746 00003146 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17747                            5659     ;       ***********************************
17748                            5660     ;       ***                             ***
17749                            5661     ;       ***     起動前ｲﾆｼｬﾙ             ***
17750                            5662     ;       ***                             ***
17751                            5663     ;       ***********************************
17752                                     ***** BEGIN-POOL *****
17753 00003148 00000000                   DATA FOR SOURCE-LINE 5647
17754 0000314C 00000000                   DATA FOR SOURCE-LINE 5648
17755 00003150 00000000                   DATA FOR SOURCE-LINE 5648
17756 00003154 00000000                   DATA FOR SOURCE-LINE 5655
17757                                     ***** END-POOL *****
17758 00003158                   5664             .ALIGN  4                               ;
17759 00003158                   5665     _POS_LSI_START_INITL2:
17760                            5666             SUB_START
17761 00003158 4F22                   M           STS.L   PR,@-R15                ;[必要]
17762                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17763                            5667     
17764                            5668     
17765                            5669     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17766                            5670             FAR_JSR #_POS_LSI_CLS_BAS_SPD_SET,R0    ;
17767 0000315A D006                   M           MOV.L   #_POS_LSI_CLS_BAS_SPD_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17768 0000315C 400B                   M           JSR     @R0                     ;
17769 0000315E 0009                   M           NOP                                     ;
17770                            5671             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17771 00003160 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17772 00003162 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17773 00003164 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17774 00003166 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17775                            5672     
17776                            5673     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17777                            5674     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17778                            5675             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17779 00003168 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17780 0000316A 400B                   M           JSR     @R0                     ;
17781 0000316C 0009                   M           NOP                                     ;
17782                            5676     
17783                            5677             SUB_END
17784                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17785 0000316E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17786                            5678             M_RTS
17787 00003170 000B                   M           RTS                             ;RTSの後ろの
17788 00003172 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17789                            5679     
17790                            5680     ;       ***********************************
17791                            5681     ;       ***                             ***
17792                            5682     ;       ***     起動前ｲﾆｼｬﾙ             ***
17793                            5683     ;       ***     2013-06-13              ***
17794                            5684     ;       ***********************************
17795                                     ***** BEGIN-POOL *****
17796 00003174 00000000                   DATA FOR SOURCE-LINE 5670
17797 00003178 00000000                   DATA FOR SOURCE-LINE 5671
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   208
PROGRAM NAME =

17798 0000317C 00000000                   DATA FOR SOURCE-LINE 5671
17799 00003180 00000000                   DATA FOR SOURCE-LINE 5675
17800                                     ***** END-POOL *****
17801 00003184                   5685             .ALIGN  4                               ;
17802 00003184                   5686     _POS_LSI_START_INITAL_TEP:
17803                            5687             SUB_START
17804 00003184 4F22                   M           STS.L   PR,@-R15                ;[必要]
17805                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17806                            5688     
17807                            5689             FAR_JSR #_POS_LSI_TEP_BAS_SPEED_SET,R0
17808 00003186 D006                   M           MOV.L   #_POS_LSI_TEP_BAS_SPEED_SET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17809 00003188 400B                   M           JSR     @R0                     ;
17810 0000318A 0009                   M           NOP                                     ;
17811                            5690             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17812 0000318C D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17813 0000318E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17814 00003190 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17815 00003192 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17816                            5691             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17817 00003194 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17818 00003196 400B                   M           JSR     @R0                     ;
17819 00003198 0009                   M           NOP                                     ;
17820                            5692     
17821                            5693             SUB_END
17822                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17823 0000319A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17824                            5694             M_RTS
17825 0000319C 000B                   M           RTS                             ;RTSの後ろの
17826 0000319E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17827                            5695     
17828                            5696     ;       ***********************************
17829                            5697     ;       ***                             ***
17830                            5698     ;       ***     指令ﾊﾟﾙｽﾚｼﾞｽﾀｸﾘｱ        ***
17831                            5699     ;       ***                             ***
17832                            5700     ;       ***********************************
17833                            5701     ;       2004-02-19
17834                                     ***** BEGIN-POOL *****
17835 000031A0 00000000                   DATA FOR SOURCE-LINE 5689
17836 000031A4 00000000                   DATA FOR SOURCE-LINE 5690
17837 000031A8 00000000                   DATA FOR SOURCE-LINE 5690
17838 000031AC 00000000                   DATA FOR SOURCE-LINE 5691
17839                                     ***** END-POOL *****
17840 000031B0                   5702             .ALIGN  4                               ;
17841 000031B0                   5703     _OutputPLS_REG_CLR:
17842                            5704             SUB_START
17843 000031B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17844                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17845                            5705             PUSH_ALL
17846                                 M           PUSH_REG1       R0      ;
17847 000031B2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17848                                 M                                           ;REG=>[SP]
17849                                 M                                           ;"-4" FF,FF,FF,FC
17850                                 M           PUSH_REG1       R1      ;
17851 000031B4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17852                                 M                                           ;REG=>[SP]
17853                                 M                                           ;"-4" FF,FF,FF,FC
17854                                 M           PUSH_REG1       R2      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   209
PROGRAM NAME =

17855 000031B6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17856                                 M                                           ;REG=>[SP]
17857                                 M                                           ;"-4" FF,FF,FF,FC
17858                                 M           PUSH_REG1       R3      ;
17859 000031B8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17860                                 M                                           ;REG=>[SP]
17861                                 M                                           ;"-4" FF,FF,FF,FC
17862                                 M           PUSH_REG1       R4      ;
17863 000031BA 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17864                                 M                                           ;REG=>[SP]
17865                                 M                                           ;"-4" FF,FF,FF,FC
17866                                 M           PUSH_REG1       R5      ;
17867 000031BC 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17868                                 M                                           ;REG=>[SP]
17869                                 M                                           ;"-4" FF,FF,FF,FC
17870                                 M           PUSH_REG1       R6      ;
17871 000031BE 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17872                                 M                                           ;REG=>[SP]
17873                                 M                                           ;"-4" FF,FF,FF,FC
17874                                 M           PUSH_REG1       R7      ;
17875 000031C0 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
17876                                 M                                           ;REG=>[SP]
17877                                 M                                           ;"-4" FF,FF,FF,FC
17878                                 M           PUSH_REG1       R8      ;
17879 000031C2 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17880                                 M                                           ;REG=>[SP]
17881                                 M                                           ;"-4" FF,FF,FF,FC
17882                                 M           PUSH_REG1       R9      ;
17883 000031C4 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
17884                                 M                                           ;REG=>[SP]
17885                                 M                                           ;"-4" FF,FF,FF,FC
17886                                 M           PUSH_REG1       R10     ;
17887 000031C6 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
17888                                 M                                           ;REG=>[SP]
17889                                 M                                           ;"-4" FF,FF,FF,FC
17890                                 M           PUSH_REG1       R11     ;
17891 000031C8 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
17892                                 M                                           ;REG=>[SP]
17893                                 M                                           ;"-4" FF,FF,FF,FC
17894                                 M           PUSH_REG1       R12     ;
17895 000031CA 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
17896                                 M                                           ;REG=>[SP]
17897                                 M                                           ;"-4" FF,FF,FF,FC
17898                                 M           PUSH_REG1       R13     ;
17899 000031CC 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
17900                                 M                                           ;REG=>[SP]
17901                                 M                                           ;"-4" FF,FF,FF,FC
17902                                 M           PUSH_REG1       R14     ;
17903 000031CE 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
17904                                 M                                           ;REG=>[SP]
17905                                 M                                           ;"-4" FF,FF,FF,FC
17906                                 M           PUSH_MACHL              ;
17907 000031D0 4F02                   M           STS.L   MACH,@-R15
17908 000031D2 4F12                   M           STS.L   MACL,@-R15
17909                                 M           PUSH_SYS_REG    GBR     ;
17910 000031D4 4F13                   M           STC.L   GBR,@-R15
17911                                 M           .AIF    3 EQ 3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   210
PROGRAM NAME =

17912                                             .AELSE
17913                                             PUSH_FPU_ALL            ;2001-07-08
17914                                             .AENDI
17915 000031D6 200A              5706             XOR     R0,R0                                   ;
17916 000031D8 D127              5707             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;//CLR処理そのもの
17917 000031DA 2101              5708             MOV.W   R0,@R1                                  ;
17918                            5709     
17919                            5710             TIM_CNT_ADD MEM=_LSI_PLSCLR_AC_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17920 000031DC D127                   M           MOV.L   #_LSI_PLSCLR_AC_CNT1,R1         ;
17921 000031DE 6012                   M           MOV.L   @R1,R0  ;
17922 000031E0 7001                   M           ADD     #1,R0           ;
17923 000031E2 2102                   M           MOV.L   R0,@R1  ;
17924                            5711     
17925                            5712     
17926 000031E4                   5713     OutputPLS_REGCLR_LOP:
17927                            5714             FAR_JSR #_LOAD_REST_PLS,R0
17928 000031E4 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17929 000031E6 400B                   M           JSR     @R0                     ;
17930 000031E8 0009                   M           NOP                                     ;
17931 000031EA D426              5715             MOV.L   #(BIT12*H'10000),R4                                             ;
17932                            5716             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17933 000031EC D626                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17934 000031EE 6562                   M           MOV.L   @R6,R5                                          ;
17935 000031F0 254B                   M           OR      R4,R5                                           ;
17936 000031F2 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17937                                 M   
17938 000031F4 D625                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17939                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17940 000031F6 6559                   M           SWAP.W  R5,R5                           ;
17941                                 M   
17942 000031F8 2651                   M           MOV.W   R5,@R6
17943 000031FA 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17944 000031FC 6559                   M           SWAP.W  R5,R5                           ;
17945                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17946                                 M           PUSH_REG1 R0
17947 000031FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17948                                 M                                           ;REG=>[SP]
17949                                 M                                           ;"-4" FF,FF,FF,FC
17950 00003200 D023                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17951 00003202 6001                   M           MOV.W   @R0,R0
17952                                 M           POP_REG1 R0
17953                                 M                                   ; RE"+4" 00,00,00,04
17954 00003204 60F6                   M           MOV.L   @R15+,R0        ;
17955 00003206 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17956                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17957                                 M           PUSH_REG1 R0
17958 00003208 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17959                                 M                                           ;REG=>[SP]
17960                                 M                                           ;"-4" FF,FF,FF,FC
17961 0000320A D021                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17962 0000320C 6001                   M           MOV.W   @R0,R0
17963                                 M           POP_REG1 R0
17964                                 M                                   ; RE"+4" 00,00,00,04
17965 0000320E 60F6                   M           MOV.L   @R15+,R0        ;
17966                            5717     
17967                            5718     ;(DE LATCHしない)       FAR_JSR #_LOAD_REST_PLS,R0                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   211
PROGRAM NAME =

17968                            5719             POS_LSI_WORD_DUM_LOD                                                    ;
17969                                 M           PUSH_REG1 R0
17970 00003210 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17971                                 M                                           ;REG=>[SP]
17972                                 M                                           ;"-4" FF,FF,FF,FC
17973 00003212 D01F                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17974 00003214 6001                   M           MOV.W   @R0,R0
17975                                 M           POP_REG1 R0
17976                                 M                                   ; RE"+4" 00,00,00,04
17977 00003216 60F6                   M           MOV.L   @R15+,R0        ;
17978                            5720             POSLSI_RD_WR_WAIT_NOP                                                   ;
17979 00003218 0009                   M           NOP
17980 0000321A 0009                   M           NOP
17981 0000321C 0009                   M           NOP
17982 0000321E 0009                   M           NOP
17983 00003220 0009                   M           NOP
17984 00003222 0009                   M           NOP
17985 00003224 0009                   M           NOP
17986 00003226 0009                   M           NOP
17987 00003228 0009                   M           NOP
17988 0000322A 0009                   M           NOP
17989                            5721     
17990 0000322C D119              5722             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                        ;R/W 指令ﾊ
                                          ﾟﾙｽ数
17991 0000322E 6015              5723             MOV.W   @R1+,R0                                                         ;
17992                            5724             POS_LSI_WORD_DUM_LOD                                                    ;
17993                                 M           PUSH_REG1 R0
17994 00003230 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17995                                 M                                           ;REG=>[SP]
17996                                 M                                           ;"-4" FF,FF,FF,FC
17997 00003232 D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17998 00003234 6001                   M           MOV.W   @R0,R0
17999                                 M           POP_REG1 R0
18000                                 M                                   ; RE"+4" 00,00,00,04
18001 00003236 60F6                   M           MOV.L   @R15+,R0        ;
18002 00003238 6011              5725             MOV.W   @R1,R0                                                          ;
18003                            5726             POS_LSI_WORD_DUM_LOD                                                    ;
18004                                 M           PUSH_REG1 R0
18005 0000323A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18006                                 M                                           ;REG=>[SP]
18007                                 M                                           ;"-4" FF,FF,FF,FC
18008 0000323C D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18009 0000323E 6001                   M           MOV.W   @R0,R0
18010                                 M           POP_REG1 R0
18011                                 M                                   ; RE"+4" 00,00,00,04
18012 00003240 60F6                   M           MOV.L   @R15+,R0        ;
18013                            5727     
18014 00003242 D415              5728             MOV.L   #~(BIT12*H'10000),R4                                            ;
18015                            5729             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
18016 00003244 D610                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18017 00003246 6562                   M           MOV.L   @R6,R5                                          ;
18018 00003248 2549                   M           AND     R4,R5                                           ;
18019 0000324A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18020                                 M   
18021 0000324C D60F                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18022                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18023 0000324E 6559                   M           SWAP.W  R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   212
PROGRAM NAME =

18024                                 M   
18025 00003250 2651                   M           MOV.W   R5,@R6
18026 00003252 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18027 00003254 6559                   M           SWAP.W  R5,R5                           ;
18028                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18029                                 M           PUSH_REG1 R0
18030 00003256 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18031                                 M                                           ;REG=>[SP]
18032                                 M                                           ;"-4" FF,FF,FF,FC
18033 00003258 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18034 0000325A 6001                   M           MOV.W   @R0,R0
18035                                 M           POP_REG1 R0
18036                                 M                                   ; RE"+4" 00,00,00,04
18037 0000325C 60F6                   M           MOV.L   @R15+,R0        ;
18038 0000325E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18039                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18040                                 M           PUSH_REG1 R0
18041 00003260 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18042                                 M                                           ;REG=>[SP]
18043                                 M                                           ;"-4" FF,FF,FF,FC
18044 00003262 D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18045 00003264 6001                   M           MOV.W   @R0,R0
18046                                 M           POP_REG1 R0
18047                                 M                                   ; RE"+4" 00,00,00,04
18048 00003266 60F6                   M           MOV.L   @R15+,R0        ;
18049                            5730             FAR_JSR #_LOAD_REST_PLS,R0
18050 00003268 D005                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18051 0000326A 400B                   M           JSR     @R0                     ;
18052 0000326C 0009                   M           NOP                                     ;
18053                            5731     
18054 0000326E 2008              5732             TST     R0,R0                                   ;払出ﾊﾟﾙｽｸﾘｱ完了
18055                            5733             TST_BIT_ON OutputPLS_REGCLR_100                 ;
18056 00003270 8B14                   M           BF      OutputPLS_REGCLR_100
18057                            5734             M_BRA   OutputPLS_REGCLR_END                    ;
18058 00003272 A057                   M           BRA     OutputPLS_REGCLR_END
18059 00003274 0009                   M           NOP
18060                                     ***** BEGIN-POOL *****
18061 00003276 0000                       ALIGNMENT CODE
18062 00003278 00000000                   DATA FOR SOURCE-LINE 5707
18063 0000327C 00000000                   DATA FOR SOURCE-LINE 5710
18064 00003280 00000000                   DATA FOR SOURCE-LINE 5714,5730
18065 00003284 10000000                   DATA FOR SOURCE-LINE 5715
18066 00003288 00000000                   DATA FOR SOURCE-LINE 5716,5729
18067 0000328C 00000000                   DATA FOR SOURCE-LINE 5716,5729
18068 00003290 00000000                   DATA FOR SOURCE-LINE 5716,5716,5719,5724,5726,5729,5729
18069 00003294 00000000                   DATA FOR SOURCE-LINE 5722
18070 00003298 EFFFFFFF                   DATA FOR SOURCE-LINE 5728
18071                                     ***** END-POOL *****
18072 0000329C                   5735     OutputPLS_REGCLR_100:
18073                            5736     
18074                            5737     ;       ==== ﾘｾｯﾄｺﾏﾝﾄﾞによるﾘｾｯﾄ失敗=====
18075                            5738             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
18076 0000329C D111                   M           MOV.L   #_LSI_PLSCLR_NG_CNT1,R1         ;
18077 0000329E 6012                   M           MOV.L   @R1,R0  ;
18078 000032A0 7001                   M           ADD     #1,R0           ;
18079 000032A2 2102                   M           MOV.L   R0,@R1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   213
PROGRAM NAME =

18080                            5739     
18081                            5740             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
18082 000032A4 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18083 000032A6 400B                   M           JSR     @R0                     ;
18084 000032A8 0009                   M           NOP                                     ;
18085 000032AA 600B              5741             NEG     R0,R0                                                   ;
18086                            5742             POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R0   ;
18087                                 M           PUSH_REG1 R1
18088 000032AC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18089                                 M                                           ;REG=>[SP]
18090                                 M                                           ;"-4" FF,FF,FF,FC
18091                                 M           PUSH_REG1 R0
18092 000032AE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18093                                 M                                           ;REG=>[SP]
18094                                 M                                           ;"-4" FF,FF,FF,FC
18095                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18096                                 M           PUSH_REG1 R0
18097 000032B0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18098                                 M                                           ;REG=>[SP]
18099                                 M                                           ;"-4" FF,FF,FF,FC
18100 000032B2 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18101 000032B4 6001                   M           MOV.W   @R0,R0
18102                                 M           POP_REG1 R0
18103                                 M                                   ; RE"+4" 00,00,00,04
18104 000032B6 60F6                   M           MOV.L   @R15+,R0        ;
18105 000032B8 D10D                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
18106 000032BA 2101                   M           MOV.W   R0,@R1                          ;(LOW)
18107 000032BC 7102                   M           ADD     #2,R1                                   ;
18108 000032BE 6009                   M           SWAP.W  R0,R0                           ;
18109                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18110                                 M           PUSH_REG1 R0
18111 000032C0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18112                                 M                                           ;REG=>[SP]
18113                                 M                                           ;"-4" FF,FF,FF,FC
18114 000032C2 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18115 000032C4 6001                   M           MOV.W   @R0,R0
18116                                 M           POP_REG1 R0
18117                                 M                                   ; RE"+4" 00,00,00,04
18118 000032C6 60F6                   M           MOV.L   @R15+,R0        ;
18119 000032C8 2101                   M           MOV.W   R0,@R1                          ;(HIGH)
18120                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18121                                 M           PUSH_REG1 R0
18122 000032CA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18123                                 M                                           ;REG=>[SP]
18124                                 M                                           ;"-4" FF,FF,FF,FC
18125 000032CC D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18126 000032CE 6001                   M           MOV.W   @R0,R0
18127                                 M           POP_REG1 R0
18128                                 M                                   ; RE"+4" 00,00,00,04
18129 000032D0 60F6                   M           MOV.L   @R15+,R0        ;
18130                                 M           POP_REG1 R0
18131                                 M                                   ; RE"+4" 00,00,00,04
18132 000032D2 60F6                   M           MOV.L   @R15+,R0        ;
18133                                 M           POP_REG1 R1
18134                                 M                                   ; RE"+4" 00,00,00,04
18135 000032D4 61F6                   M           MOV.L   @R15+,R1        ;
18136                            5743     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   214
PROGRAM NAME =

18137                            5744             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
18138 000032D6 D004                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18139 000032D8 400B                   M           JSR     @R0                     ;
18140 000032DA 0009                   M           NOP                                     ;
18141 000032DC 2008              5745             TST     R0,R0                                                   ;
18142                            5746             TST_BIT_ON OutputPLS_REGCLR_150                                 ;
18143 000032DE 8B09                   M           BF      OutputPLS_REGCLR_150
18144                            5747             M_BRA   OutputPLS_REGCLR_END                                    ;
18145 000032E0 A020                   M           BRA     OutputPLS_REGCLR_END
18146 000032E2 0009                   M           NOP
18147                            5748     
18148                                     ***** BEGIN-POOL *****
18149 000032E4 00000000                   DATA FOR SOURCE-LINE 5738
18150 000032E8 00000000                   DATA FOR SOURCE-LINE 5740,5744
18151 000032EC 00000000                   DATA FOR SOURCE-LINE 5742,5742,5742
18152 000032F0 00000000                   DATA FOR SOURCE-LINE 5742
18153                                     ***** END-POOL *****
18154 000032F4                   5749     OutputPLS_REGCLR_150:
18155                            5750             TIM_CNT_ADD MEM=_LSI_PLSCLR_RETRY_CNT1,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18156 000032F4 D107                   M           MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;
18157 000032F6 6011                   M           MOV.W   @R1,R0  ;
18158 000032F8 7001                   M           ADD     #1,R0           ;
18159 000032FA 2101                   M           MOV.W   R0,@R1  ;
18160 000032FC D105              5751             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1
                                          ;
18161 000032FE 6011              5752             MOV.W   @R1,R0
                                          ;
18162 00003300 9107              5753             MOV.W   #_LSI_RETRY_ERR_MAX,R1
                                          ;
18163 00003302 3016              5754             CMP/HI  R1,R0
                                          ;10=< R0
18164 00003304 890A              5755             BT      OutputPLS_REGCLR_ERR
                                          ;
18165                            5756             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18166 00003306 D104                   M           MOV.L   #_LSI_PLSCLR_NG_CNT2,R1         ;
18167 00003308 6012                   M           MOV.L   @R1,R0  ;
18168 0000330A 7001                   M           ADD     #1,R0           ;
18169 0000330C 2102                   M           MOV.L   R0,@R1  ;
18170                            5757             M_BRA   OutputPLS_REGCLR_LOP
                                          ;
18171 0000330E AF69                   M           BRA     OutputPLS_REGCLR_LOP
18172 00003310 0009                   M           NOP
18173                            5758     
18174                                     ***** BEGIN-POOL *****
18175 00003312 0003                       DATA FOR SOURCE-LINE 5753
18176 00003314 00000000                   DATA FOR SOURCE-LINE 5750,5751
18177 00003318 00000000                   DATA FOR SOURCE-LINE 5756
18178                                     ***** END-POOL *****
18179 0000331C                   5759     OutputPLS_REGCLR_ERR:
18180                            5760     ;       == 異常ﾌﾗｸﾞ==
18181                            5761             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT1+BIT0),WKREG=R1
                                          ;
18182 0000331C D10C                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
18183 0000331E 6011                   M           MOV.W   @R1,R0          ;
18184 00003320 CB03                   M           OR      #(BIT1+BIT0),R0         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   215
PROGRAM NAME =

18185 00003322 2101                   M           MOV.W   R0,@R1          ;
18186                            5762     
18187 00003324                   5763     OutputPLS_REGCLR_END:
18188                            5764             POP_ALL
18189                                 M           .AIF    3 EQ 3
18190                                             .AELSE
18191                                             POP_FPU_ALL             ;2001-07-08
18192                                             .AENDI
18193                                 M           POP_SYS_REG     GBR     ;
18194 00003324 4F17                   M           LDC.L   @R15+,GBR
18195                                 M           POP_MACHL               ;
18196 00003326 4F16                   M           LDS.L   @R15+,MACL
18197 00003328 4F06                   M           LDS.L   @R15+,MACH
18198                                 M           POP_REG1        R14     ;
18199                                 M                                   ; RE"+4" 00,00,00,04
18200 0000332A 6EF6                   M           MOV.L   @R15+,R14        ;
18201                                 M           POP_REG1        R13     ;
18202                                 M                                   ; RE"+4" 00,00,00,04
18203 0000332C 6DF6                   M           MOV.L   @R15+,R13        ;
18204                                 M           POP_REG1        R12     ;
18205                                 M                                   ; RE"+4" 00,00,00,04
18206 0000332E 6CF6                   M           MOV.L   @R15+,R12        ;
18207                                 M           POP_REG1        R11     ;
18208                                 M                                   ; RE"+4" 00,00,00,04
18209 00003330 6BF6                   M           MOV.L   @R15+,R11        ;
18210                                 M           POP_REG1        R10     ;
18211                                 M                                   ; RE"+4" 00,00,00,04
18212 00003332 6AF6                   M           MOV.L   @R15+,R10        ;
18213                                 M           POP_REG1        R9      ;
18214                                 M                                   ; RE"+4" 00,00,00,04
18215 00003334 69F6                   M           MOV.L   @R15+,R9        ;
18216                                 M           POP_REG1        R8      ;
18217                                 M                                   ; RE"+4" 00,00,00,04
18218 00003336 68F6                   M           MOV.L   @R15+,R8        ;
18219                                 M           POP_REG1        R7      ;
18220                                 M                                   ; RE"+4" 00,00,00,04
18221 00003338 67F6                   M           MOV.L   @R15+,R7        ;
18222                                 M           POP_REG1        R6      ;
18223                                 M                                   ; RE"+4" 00,00,00,04
18224 0000333A 66F6                   M           MOV.L   @R15+,R6        ;
18225                                 M           POP_REG1        R5      ;
18226                                 M                                   ; RE"+4" 00,00,00,04
18227 0000333C 65F6                   M           MOV.L   @R15+,R5        ;
18228                                 M           POP_REG1        R4      ;
18229                                 M                                   ; RE"+4" 00,00,00,04
18230 0000333E 64F6                   M           MOV.L   @R15+,R4        ;
18231                                 M           POP_REG1        R3      ;
18232                                 M                                   ; RE"+4" 00,00,00,04
18233 00003340 63F6                   M           MOV.L   @R15+,R3        ;
18234                                 M           POP_REG1        R2      ;
18235                                 M                                   ; RE"+4" 00,00,00,04
18236 00003342 62F6                   M           MOV.L   @R15+,R2        ;
18237                                 M           POP_REG1        R1      ;
18238                                 M                                   ; RE"+4" 00,00,00,04
18239 00003344 61F6                   M           MOV.L   @R15+,R1        ;
18240                                 M           POP_REG1        R0      ;
18241                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   216
PROGRAM NAME =

18242 00003346 60F6                   M           MOV.L   @R15+,R0        ;
18243                            5765             SUB_END
18244                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18245 00003348 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18246                            5766             M_RTS
18247 0000334A 000B                   M           RTS                             ;RTSの後ろの
18248 0000334C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18249                            5767     
18250                            5768     ;       ***********************************
18251                            5769     ;       ***                             ***
18252                            5770     ;       ***     急停止                  ***
18253                            5771     ;       ***                             ***
18254                            5772     ;       ***********************************
18255                                     ***** BEGIN-POOL *****
18256 0000334E 0000                       ALIGNMENT CODE
18257 00003350 00000000                   DATA FOR SOURCE-LINE 5761
18258                                     ***** END-POOL *****
18259 00003354                   5773             .ALIGN  4                               ;
18260 00003354                   5774     _POS_LSI_EMG_STOP                       ;急停止
18261                            5775             SUB_START
18262 00003354 4F22                   M           STS.L   PR,@-R15                ;[必要]
18263                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18264                            5776     
18265                            5777             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18266 00003356 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18267 00003358 400B                   M           JSR     @R0                     ;
18268 0000335A 0009                   M           NOP                                     ;
18269                            5778     
18270                            5779             FAR_JSR #_LOD_POS_STS_REG,R0
18271 0000335C D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18272 0000335E 400B                   M           JSR     @R0                     ;
18273 00003360 0009                   M           NOP                                     ;
18274 00003362 C804              5780             TST     #BIT2,R0                ;
18275                            5781             TST_BIT_ON POS_LSI_EMGSTOP_END
18276 00003364 8B05                   M           BF      POS_LSI_EMGSTOP_END
18277                            5782     
18278                            5783             .AIF    1 EQ 1          ;2006-09-19
18279                            5784 C           FAR_JSR #_SPD_CTL_EMG_STOP,R0                           ;
18280 00003366 D006                   M           MOV.L   #_SPD_CTL_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18281 00003368 400B                   M           JSR     @R0                     ;
18282 0000336A 0009                   M           NOP                                     ;
18283                            5785 C           FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18284 0000336C D005                   M           MOV.L   #_POS_LSI_EMG_STOP_CMD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18285 0000336E 400B                   M           JSR     @R0                     ;
18286 00003370 0009                   M           NOP                                     ;
18287                            5786 C   
18288                            5787             .AELSE
18289                            5788             FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18290                            5789             .AENDI
18291                            5790     
18292 00003372                   5791     POS_LSI_EMGSTOP_END:
18293                            5792     
18294                            5793             SUB_END
18295                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18296 00003372 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18297                            5794             M_RTS
18298 00003374 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   217
PROGRAM NAME =

18299 00003376 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18300                            5795     ;       ***********************************
18301                            5796     ;       ***                             ***
18302                            5797     ;       ***     減速停止                ***
18303                            5798     ;       ***                             ***
18304                            5799     ;       ***********************************
18305                                     ***** BEGIN-POOL *****
18306 00003378 00000000                   DATA FOR SOURCE-LINE 5777
18307 0000337C 00000000                   DATA FOR SOURCE-LINE 5779
18308 00003380 00000000                   DATA FOR SOURCE-LINE 5784
18309 00003384 00000000                   DATA FOR SOURCE-LINE 5785
18310                                     ***** END-POOL *****
18311 00003388                   5800             .ALIGN  4                               ;
18312 00003388                   5801     _POS_LSI_SLOW_STOP                      ;急停止
18313                            5802             SUB_START
18314 00003388 4F22                   M           STS.L   PR,@-R15                ;[必要]
18315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18316                            5803     
18317                            5804             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
18318 0000338A D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18319 0000338C 400B                   M           JSR     @R0                     ;
18320 0000338E 0009                   M           NOP                                     ;
18321                            5805     
18322                            5806             FAR_JSR #_LOD_POS_STS_REG,R0
18323 00003390 D006                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18324 00003392 400B                   M           JSR     @R0                     ;
18325 00003394 0009                   M           NOP                                     ;
18326 00003396 C804              5807             TST     #BIT2,R0                        ;
18327                            5808             TST_BIT_ON POS_LSI_SLWSTOP_END
18328 00003398 8B02                   M           BF      POS_LSI_SLWSTOP_END
18329                            5809     
18330                            5810             .AIF    1 EQ 1          ;2006-09-19
18331                            5811 C           FAR_JSR #_SPD_CTL_SLOW_STOP,R0          ;
18332 0000339A D005                   M           MOV.L   #_SPD_CTL_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18333 0000339C 400B                   M           JSR     @R0                     ;
18334 0000339E 0009                   M           NOP                                     ;
18335                            5812             .AELSE
18336                            5813             FAR_JSR #_POS_LSI_SLOW_STOP_CMD,R0      ;
18337                            5814             .AENDI
18338                            5815     
18339                            5816     
18340 000033A0                   5817     POS_LSI_SLWSTOP_END:
18341                            5818     
18342                            5819             SUB_END
18343                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18344 000033A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18345                            5820             M_RTS
18346 000033A2 000B                   M           RTS                             ;RTSの後ろの
18347 000033A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18348                            5821     
18349                            5822     ;       ---------------------------------------------------
18350                            5823     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18351                            5824     ;       ---     EMG                                     ---
18352                            5825     ;       ---------------------------------------------------
18353                                     ***** BEGIN-POOL *****
18354 000033A6 0000                       ALIGNMENT CODE
18355 000033A8 00000000                   DATA FOR SOURCE-LINE 5804
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   218
PROGRAM NAME =

18356 000033AC 00000000                   DATA FOR SOURCE-LINE 5806
18357 000033B0 00000000                   DATA FOR SOURCE-LINE 5811
18358                                     ***** END-POOL *****
18359 000033B4                   5826             .ALIGN  4                               ;
18360 000033B4                   5827     _POS_LSI_EMG_STOP_CMD:
18361                            5828             SUB_START
18362 000033B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18363                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18364 000033B6 D417              5829             MOV.L   #(BIT11*H'10000),R4                                     ;
18365                            5830             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18366 000033B8 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18367 000033BA 6562                   M           MOV.L   @R6,R5                                          ;
18368 000033BC 254B                   M           OR      R4,R5                                           ;
18369 000033BE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18370                                 M   
18371 000033C0 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18372                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18373 000033C2 6559                   M           SWAP.W  R5,R5                           ;
18374                                 M   
18375 000033C4 2651                   M           MOV.W   R5,@R6
18376 000033C6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18377 000033C8 6559                   M           SWAP.W  R5,R5                           ;
18378                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18379                                 M           PUSH_REG1 R0
18380 000033CA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18381                                 M                                           ;REG=>[SP]
18382                                 M                                           ;"-4" FF,FF,FF,FC
18383 000033CC D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18384 000033CE 6001                   M           MOV.W   @R0,R0
18385                                 M           POP_REG1 R0
18386                                 M                                   ; RE"+4" 00,00,00,04
18387 000033D0 60F6                   M           MOV.L   @R15+,R0        ;
18388 000033D2 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18389                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18390                                 M           PUSH_REG1 R0
18391 000033D4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18392                                 M                                           ;REG=>[SP]
18393                                 M                                           ;"-4" FF,FF,FF,FC
18394 000033D6 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18395 000033D8 6001                   M           MOV.W   @R0,R0
18396                                 M           POP_REG1 R0
18397                                 M                                   ; RE"+4" 00,00,00,04
18398 000033DA 60F6                   M           MOV.L   @R15+,R0        ;
18399 000033DC 0009              5831             NOP
18400                            5832             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18401 000033DE D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18402 000033E0 400B                   M           JSR     @R0                     ;
18403 000033E2 0009                   M           NOP                                     ;
18404 000033E4 0009              5833             NOP
18405 000033E6 D410              5834             MOV.L   #~(BIT11*H'10000),R4            ;
18406                            5835             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18407 000033E8 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18408 000033EA 6562                   M           MOV.L   @R6,R5                                          ;
18409 000033EC 2549                   M           AND     R4,R5                                           ;
18410 000033EE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18411                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   219
PROGRAM NAME =

18412 000033F0 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18413                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18414 000033F2 6559                   M           SWAP.W  R5,R5                           ;
18415                                 M   
18416 000033F4 2651                   M           MOV.W   R5,@R6
18417 000033F6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18418 000033F8 6559                   M           SWAP.W  R5,R5                           ;
18419                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18420                                 M           PUSH_REG1 R0
18421 000033FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18422                                 M                                           ;REG=>[SP]
18423                                 M                                           ;"-4" FF,FF,FF,FC
18424 000033FC D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18425 000033FE 6001                   M           MOV.W   @R0,R0
18426                                 M           POP_REG1 R0
18427                                 M                                   ; RE"+4" 00,00,00,04
18428 00003400 60F6                   M           MOV.L   @R15+,R0        ;
18429 00003402 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18430                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18431                                 M           PUSH_REG1 R0
18432 00003404 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18433                                 M                                           ;REG=>[SP]
18434                                 M                                           ;"-4" FF,FF,FF,FC
18435 00003406 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18436 00003408 6001                   M           MOV.W   @R0,R0
18437                                 M           POP_REG1 R0
18438                                 M                                   ; RE"+4" 00,00,00,04
18439 0000340A 60F6                   M           MOV.L   @R15+,R0        ;
18440                            5836             SUB_END
18441                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18442 0000340C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18443                            5837             M_RTS
18444 0000340E 000B                   M           RTS                             ;RTSの後ろの
18445 00003410 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18446                            5838     
18447                            5839     ;       ---------------------------------------------------
18448                            5840     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18449                            5841     ;       ---     SLOW                                    ---
18450                            5842     ;       ---------------------------------------------------
18451                                     ***** BEGIN-POOL *****
18452 00003412 0000                       ALIGNMENT CODE
18453 00003414 08000000                   DATA FOR SOURCE-LINE 5829
18454 00003418 00000000                   DATA FOR SOURCE-LINE 5830,5835
18455 0000341C 00000000                   DATA FOR SOURCE-LINE 5830,5835
18456 00003420 00000000                   DATA FOR SOURCE-LINE 5830,5830,5835,5835
18457 00003424 00000000                   DATA FOR SOURCE-LINE 5832
18458 00003428 F7FFFFFF                   DATA FOR SOURCE-LINE 5834
18459                                     ***** END-POOL *****
18460 0000342C                   5843             .ALIGN  4                               ;
18461 0000342C                   5844     _POS_LSI_SLOW_STOP_CMD
18462                            5845             SUB_START
18463 0000342C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18464                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18465 0000342E D417              5846             MOV.L   #(BIT10*H'10000),R4             ;
18466                            5847             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18467 00003430 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   220
PROGRAM NAME =

18468 00003432 6562                   M           MOV.L   @R6,R5                                          ;
18469 00003434 254B                   M           OR      R4,R5                                           ;
18470 00003436 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18471                                 M   
18472 00003438 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18473                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18474 0000343A 6559                   M           SWAP.W  R5,R5                           ;
18475                                 M   
18476 0000343C 2651                   M           MOV.W   R5,@R6
18477 0000343E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18478 00003440 6559                   M           SWAP.W  R5,R5                           ;
18479                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18480                                 M           PUSH_REG1 R0
18481 00003442 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18482                                 M                                           ;REG=>[SP]
18483                                 M                                           ;"-4" FF,FF,FF,FC
18484 00003444 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18485 00003446 6001                   M           MOV.W   @R0,R0
18486                                 M           POP_REG1 R0
18487                                 M                                   ; RE"+4" 00,00,00,04
18488 00003448 60F6                   M           MOV.L   @R15+,R0        ;
18489 0000344A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18490                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18491                                 M           PUSH_REG1 R0
18492 0000344C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18493                                 M                                           ;REG=>[SP]
18494                                 M                                           ;"-4" FF,FF,FF,FC
18495 0000344E D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18496 00003450 6001                   M           MOV.W   @R0,R0
18497                                 M           POP_REG1 R0
18498                                 M                                   ; RE"+4" 00,00,00,04
18499 00003452 60F6                   M           MOV.L   @R15+,R0        ;
18500 00003454 0009              5848             NOP
18501                            5849             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18502 00003456 D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18503 00003458 400B                   M           JSR     @R0                     ;
18504 0000345A 0009                   M           NOP                                     ;
18505 0000345C 0009              5850             NOP
18506 0000345E D410              5851             MOV.L   #~(BIT10*H'10000),R4            ;
18507                            5852             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18508 00003460 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18509 00003462 6562                   M           MOV.L   @R6,R5                                          ;
18510 00003464 2549                   M           AND     R4,R5                                           ;
18511 00003466 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18512                                 M   
18513 00003468 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18514                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18515 0000346A 6559                   M           SWAP.W  R5,R5                           ;
18516                                 M   
18517 0000346C 2651                   M           MOV.W   R5,@R6
18518 0000346E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18519 00003470 6559                   M           SWAP.W  R5,R5                           ;
18520                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18521                                 M           PUSH_REG1 R0
18522 00003472 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   221
PROGRAM NAME =

18523                                 M                                           ;REG=>[SP]
18524                                 M                                           ;"-4" FF,FF,FF,FC
18525 00003474 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18526 00003476 6001                   M           MOV.W   @R0,R0
18527                                 M           POP_REG1 R0
18528                                 M                                   ; RE"+4" 00,00,00,04
18529 00003478 60F6                   M           MOV.L   @R15+,R0        ;
18530 0000347A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18531                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18532                                 M           PUSH_REG1 R0
18533 0000347C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18534                                 M                                           ;REG=>[SP]
18535                                 M                                           ;"-4" FF,FF,FF,FC
18536 0000347E D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18537 00003480 6001                   M           MOV.W   @R0,R0
18538                                 M           POP_REG1 R0
18539                                 M                                   ; RE"+4" 00,00,00,04
18540 00003482 60F6                   M           MOV.L   @R15+,R0        ;
18541                            5853     
18542                            5854             SUB_END
18543                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18544 00003484 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18545                            5855             M_RTS
18546 00003486 000B                   M           RTS                             ;RTSの後ろの
18547 00003488 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18548                            5856     
18549                            5857     ;       ***********************************
18550                            5858     ;       ***                             ***
18551                            5859     ;       ***     速度変更有効            ***
18552                            5860     ;       ***                             ***
18553                            5861     ;       ***********************************
18554                            5862     
18555                            5863     
18556                            5864     ;       ***********************************
18557                            5865     ;       ***                             ***
18558                            5866     ;       ***     起動                    ***
18559                            5867     ;       ***                             ***
18560                            5868     ;       ***********************************
18561                            5869     
18562                                     ***** BEGIN-POOL *****
18563 0000348A 0000                       ALIGNMENT CODE
18564 0000348C 04000000                   DATA FOR SOURCE-LINE 5846
18565 00003490 00000000                   DATA FOR SOURCE-LINE 5847,5852
18566 00003494 00000000                   DATA FOR SOURCE-LINE 5847,5852
18567 00003498 00000000                   DATA FOR SOURCE-LINE 5847,5847,5852,5852
18568 0000349C 00000000                   DATA FOR SOURCE-LINE 5849
18569 000034A0 FBFFFFFF                   DATA FOR SOURCE-LINE 5851
18570                                     ***** END-POOL *****
18571 000034A4                   5870             .ALIGN  4                               ;
18572 000034A4                   5871     _FWD_REV_START:
18573                            5872             SUB_START
18574 000034A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18575                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18576                            5873             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18577 000034A6 D023                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18578 000034A8 400B                   M           JSR     @R0                     ;
18579 000034AA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   222
PROGRAM NAME =

18580                            5874     
18581 000034AC D122              5875             MOV.L   #_POSLSI_DRIV_SHIN,R1
18582 000034AE 6011              5876             MOV.W   @R1,R0                                          ;
18583 000034B0 D322              5877             MOV.L   #(BIT3*H'10000),R3                              ;
18584 000034B2 244A              5878             XOR     R4,R4                                           ;
18585 000034B4 C801              5879             TST     #BIT0,R0                                        ;
18586                            5880             TST_BIT_OF FWD_REV_STR_050                              ;
18587 000034B6 8900                   M           BT      FWD_REV_STR_050
18588 000034B8 6433              5881             MOV     R3,R4                                           ;
18589 000034BA                   5882     FWD_REV_STR_050:                                                ;
18590                            5883     ;       =============================
18591 000034BA D121              5884             MOV.L   #_SVP_MACINE_SEL1,R1                            ;
18592 000034BC 6011              5885             MOV.W   @R1,R0                                          ;
18593 000034BE 9138              5886             MOV.W   #D'8765,R1                                      ;
18594 000034C0 3010              5887             CMP/EQ  R1,R0                                           ;
18595 000034C2 8B01              5888             BF      FWD_REV_STR_055                                 ;
18596 000034C4 D01D              5889             MOV.L   #_DBG_XOR_SIG,R0                                ;
18597 000034C6 240A              5890             XOR     R0,R4                                           ;
18598 000034C8                   5891     FWD_REV_STR_055:                                                ;
18599                            5892     
18600                            5893     ;       ==方向選択==
18601                            5894             POS_LSI_BIT_MOV_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
18602 000034C8 D61E                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18603 000034CA 6562                   M           MOV.L   @R6,R5                                          ;
18604 000034CC 6337                   M           NOT     R3,R3                                           ;
18605 000034CE 2539                   M           AND     R3,R5                                           ;
18606 000034D0 254B                   M           OR      R4,R5                                           ;
18607 000034D2 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18608                                 M   
18609 000034D4 D61C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18610                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18611 000034D6 6559                   M           SWAP.W  R5,R5                           ;
18612                                 M   
18613 000034D8 2651                   M           MOV.W   R5,@R6
18614 000034DA 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18615 000034DC 6559                   M           SWAP.W  R5,R5                           ;
18616                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18617                                 M           PUSH_REG1 R0
18618 000034DE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18619                                 M                                           ;REG=>[SP]
18620                                 M                                           ;"-4" FF,FF,FF,FC
18621 000034E0 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18622 000034E2 6001                   M           MOV.W   @R0,R0
18623                                 M           POP_REG1 R0
18624                                 M                                   ; RE"+4" 00,00,00,04
18625 000034E4 60F6                   M           MOV.L   @R15+,R0        ;
18626 000034E6 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18627                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18628                                 M           PUSH_REG1 R0
18629 000034E8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18630                                 M                                           ;REG=>[SP]
18631                                 M                                           ;"-4" FF,FF,FF,FC
18632 000034EA D018                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18633 000034EC 6001                   M           MOV.W   @R0,R0
18634                                 M           POP_REG1 R0
18635                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   223
PROGRAM NAME =

18636 000034EE 60F6                   M           MOV.L   @R15+,R0        ;
18637                            5895             POS_LSI_WORD_DUM_LOD                                                    ;
18638                                 M           PUSH_REG1 R0
18639 000034F0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18640                                 M                                           ;REG=>[SP]
18641                                 M                                           ;"-4" FF,FF,FF,FC
18642 000034F2 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18643 000034F4 6001                   M           MOV.W   @R0,R0
18644                                 M           POP_REG1 R0
18645                                 M                                   ; RE"+4" 00,00,00,04
18646 000034F6 60F6                   M           MOV.L   @R15+,R0        ;
18647                            5896     
18648                            5897     ;       == 起動 ===                                                             ;
18649 000034F8 D415              5898             MOV.L   #(BIT2*H'10000),R4                                              ;
18650                            5899             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;;起動 ONｴ
                                          ｯｼﾞ
18651 000034FA D612                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18652 000034FC 6562                   M           MOV.L   @R6,R5                                          ;
18653 000034FE 254B                   M           OR      R4,R5                                           ;
18654 00003500 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18655                                 M   
18656 00003502 D611                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18657                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18658 00003504 6559                   M           SWAP.W  R5,R5                           ;
18659                                 M   
18660 00003506 2651                   M           MOV.W   R5,@R6
18661 00003508 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18662 0000350A 6559                   M           SWAP.W  R5,R5                           ;
18663                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18664                                 M           PUSH_REG1 R0
18665 0000350C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18666                                 M                                           ;REG=>[SP]
18667                                 M                                           ;"-4" FF,FF,FF,FC
18668 0000350E D00F                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18669 00003510 6001                   M           MOV.W   @R0,R0
18670                                 M           POP_REG1 R0
18671                                 M                                   ; RE"+4" 00,00,00,04
18672 00003512 60F6                   M           MOV.L   @R15+,R0        ;
18673 00003514 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18674                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18675                                 M           PUSH_REG1 R0
18676 00003516 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18677                                 M                                           ;REG=>[SP]
18678                                 M                                           ;"-4" FF,FF,FF,FC
18679 00003518 D00C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18680 0000351A 6001                   M           MOV.W   @R0,R0
18681                                 M           POP_REG1 R0
18682                                 M                                   ; RE"+4" 00,00,00,04
18683 0000351C 60F6                   M           MOV.L   @R15+,R0        ;
18684                            5900             POS_LSI_WORD_DUM_LOD                                                    ;
18685                                 M           PUSH_REG1 R0
18686 0000351E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18687                                 M                                           ;REG=>[SP]
18688                                 M                                           ;"-4" FF,FF,FF,FC
18689 00003520 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18690 00003522 6001                   M           MOV.W   @R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   224
PROGRAM NAME =

18691                                 M           POP_REG1 R0
18692                                 M                                   ; RE"+4" 00,00,00,04
18693 00003524 60F6                   M           MOV.L   @R15+,R0        ;
18694                            5901     
18695                            5902             FAR_JSR #_SPD_CTL_START,R0
18696 00003526 D00B                   M           MOV.L   #_SPD_CTL_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18697 00003528 400B                   M           JSR     @R0                     ;
18698 0000352A 0009                   M           NOP                                     ;
18699                            5903     
18700                            5904     
18701                            5905             .AIF    1 EQ    0
18702                            5906     
18703                            5907             FAR_JSR #_VIB_PLS_OUT_ON,R0     ;2010-08-23加振動制御
18704                            5908             .AENDI
18705                            5909     
18706                            5910     
18707                            5911     
18708                            5912     
18709                            5913             SUB_END
18710                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18711 0000352C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18712                            5914             M_RTS
18713 0000352E 000B                   M           RTS                             ;RTSの後ろの
18714 00003530 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18715                            5915     
18716                            5916     ;       ==== 起動信号OFF ====
18717                                     ***** BEGIN-POOL *****
18718 00003532 223D                       DATA FOR SOURCE-LINE 5886
18719 00003534 00000000                   DATA FOR SOURCE-LINE 5873
18720 00003538 00000000                   DATA FOR SOURCE-LINE 5875
18721 0000353C 00080000                   DATA FOR SOURCE-LINE 5877,5889
18722 00003540 00000000                   DATA FOR SOURCE-LINE 5884
18723 00003544 00000000                   DATA FOR SOURCE-LINE 5894,5899
18724 00003548 00000000                   DATA FOR SOURCE-LINE 5894,5899
18725 0000354C 00000000                   DATA FOR SOURCE-LINE 5894,5894,5895,5899,5899,5900
18726 00003550 00040000                   DATA FOR SOURCE-LINE 5898
18727 00003554 00000000                   DATA FOR SOURCE-LINE 5902
18728                                     ***** END-POOL *****
18729 00003558                   5917             .ALIGN  4                               ;
18730 00003558                   5918     _FWD_REV_STSIG_OFF:
18731                            5919             SUB_START
18732 00003558 4F22                   M           STS.L   PR,@-R15                ;[必要]
18733                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18734 0000355A D40B              5920             MOV.L   #~(BIT2*H'10000),R4             ;
18735                            5921             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18736 0000355C D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18737 0000355E 6562                   M           MOV.L   @R6,R5                                          ;
18738 00003560 2549                   M           AND     R4,R5                                           ;
18739 00003562 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18740                                 M   
18741 00003564 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18742                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18743 00003566 6559                   M           SWAP.W  R5,R5                           ;
18744                                 M   
18745 00003568 2651                   M           MOV.W   R5,@R6
18746 0000356A 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   225
PROGRAM NAME =

18747 0000356C 6559                   M           SWAP.W  R5,R5                           ;
18748                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18749                                 M           PUSH_REG1 R0
18750 0000356E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18751                                 M                                           ;REG=>[SP]
18752                                 M                                           ;"-4" FF,FF,FF,FC
18753 00003570 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18754 00003572 6001                   M           MOV.W   @R0,R0
18755                                 M           POP_REG1 R0
18756                                 M                                   ; RE"+4" 00,00,00,04
18757 00003574 60F6                   M           MOV.L   @R15+,R0        ;
18758 00003576 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18759                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18760                                 M           PUSH_REG1 R0
18761 00003578 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18762                                 M                                           ;REG=>[SP]
18763                                 M                                           ;"-4" FF,FF,FF,FC
18764 0000357A D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18765 0000357C 6001                   M           MOV.W   @R0,R0
18766                                 M           POP_REG1 R0
18767                                 M                                   ; RE"+4" 00,00,00,04
18768 0000357E 60F6                   M           MOV.L   @R15+,R0        ;
18769                            5922             SUB_END
18770                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18771 00003580 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18772                            5923             M_RTS
18773 00003582 000B                   M           RTS                             ;RTSの後ろの
18774 00003584 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18775                            5924     
18776                            5925     ;       =====================
18777                            5926     ;       ==== 起動信号OFF ====
18778                            5927     ;       =====================
18779                            5928     ;       残ﾊﾟﾙｽがなくなってから指令OFF
18780                                     ***** BEGIN-POOL *****
18781 00003586 0000                       ALIGNMENT CODE
18782 00003588 FFFBFFFF                   DATA FOR SOURCE-LINE 5920
18783 0000358C 00000000                   DATA FOR SOURCE-LINE 5921
18784 00003590 00000000                   DATA FOR SOURCE-LINE 5921
18785 00003594 00000000                   DATA FOR SOURCE-LINE 5921,5921
18786                                     ***** END-POOL *****
18787 00003598                   5929             .ALIGN  4                               ;
18788 00003598                   5930     _FWD_REV_STSIG_OFF_SPEC:
18789                            5931             SUB_START
18790 00003598 4F22                   M           STS.L   PR,@-R15                ;[必要]
18791                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18792                            5932             PUSH_REG1 R0
18793 0000359A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18794                                 M                                           ;REG=>[SP]
18795                                 M                                           ;"-4" FF,FF,FF,FC
18796                            5933             FAR_JSR #_LOAD_REST_PLS,R0
18797 0000359C D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18798 0000359E 400B                   M           JSR     @R0                     ;
18799 000035A0 0009                   M           NOP                                     ;
18800 000035A2 6103              5934             MOV     R0,R1                                           ;
18801                            5935             POP_REG1 R0
18802                                 M                                   ; RE"+4" 00,00,00,04
18803 000035A4 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   226
PROGRAM NAME =

18804                            5936     
18805 000035A6 2118              5937             TST     R1,R1                           ;
18806                            5938             TST_BIT_ON FWD_REV_STSIG_OFSPEC_050     ;
18807 000035A8 8B12                   M           BF      FWD_REV_STSIG_OFSPEC_050
18808 000035AA D40C              5939             MOV.L   #~(BIT2*H'10000),R4             ;
18809                            5940             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18810 000035AC D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18811 000035AE 6562                   M           MOV.L   @R6,R5                                          ;
18812 000035B0 2549                   M           AND     R4,R5                                           ;
18813 000035B2 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18814                                 M   
18815 000035B4 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18816                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18817 000035B6 6559                   M           SWAP.W  R5,R5                           ;
18818                                 M   
18819 000035B8 2651                   M           MOV.W   R5,@R6
18820 000035BA 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18821 000035BC 6559                   M           SWAP.W  R5,R5                           ;
18822                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18823                                 M           PUSH_REG1 R0
18824 000035BE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18825                                 M                                           ;REG=>[SP]
18826                                 M                                           ;"-4" FF,FF,FF,FC
18827 000035C0 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18828 000035C2 6001                   M           MOV.W   @R0,R0
18829                                 M           POP_REG1 R0
18830                                 M                                   ; RE"+4" 00,00,00,04
18831 000035C4 60F6                   M           MOV.L   @R15+,R0        ;
18832 000035C6 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18833                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18834                                 M           PUSH_REG1 R0
18835 000035C8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18836                                 M                                           ;REG=>[SP]
18837                                 M                                           ;"-4" FF,FF,FF,FC
18838 000035CA D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18839 000035CC 6001                   M           MOV.W   @R0,R0
18840                                 M           POP_REG1 R0
18841                                 M                                   ; RE"+4" 00,00,00,04
18842 000035CE 60F6                   M           MOV.L   @R15+,R0        ;
18843 000035D0                   5941     FWD_REV_STSIG_OFSPEC_050:
18844                            5942             SUB_END
18845                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18846 000035D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18847                            5943             M_RTS
18848 000035D2 000B                   M           RTS                             ;RTSの後ろの
18849 000035D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18850                            5944     
18851                            5945     ;       ***********************************
18852                            5946     ;       ***     ｽﾃｰﾀｽLOAD               ***
18853                            5947     ;       ***********************************
18854                            5948     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18855                                     ***** BEGIN-POOL *****
18856 000035D6 0000                       ALIGNMENT CODE
18857 000035D8 00000000                   DATA FOR SOURCE-LINE 5933
18858 000035DC FFFBFFFF                   DATA FOR SOURCE-LINE 5939
18859 000035E0 00000000                   DATA FOR SOURCE-LINE 5940
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   227
PROGRAM NAME =

18860 000035E4 00000000                   DATA FOR SOURCE-LINE 5940
18861 000035E8 00000000                   DATA FOR SOURCE-LINE 5940,5940
18862                                     ***** END-POOL *****
18863 000035EC                   5949             .ALIGN  4                               ;
18864 000035EC                   5950     _LOD_POS_STS_REG:
18865                            5951             SUB_START
18866 000035EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18867                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18868                            5952             PUSH_REG1 R2
18869 000035EE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18870                                 M                                           ;REG=>[SP]
18871                                 M                                           ;"-4" FF,FF,FF,FC
18872                            5953     
18873                            5954             FAR_JSR #_LOD_POS_STS_REG_IN,R0 ;ANS R0
18874 000035F0 D003                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18875 000035F2 400B                   M           JSR     @R0                     ;
18876 000035F4 0009                   M           NOP                                     ;
18877                            5955     
18878                            5956             POP_REG1 R2
18879                                 M                                   ; RE"+4" 00,00,00,04
18880 000035F6 62F6                   M           MOV.L   @R15+,R2        ;
18881                            5957             SUB_END
18882                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18883 000035F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18884                            5958             M_RTS
18885 000035FA 000B                   M           RTS                             ;RTSの後ろの
18886 000035FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18887                            5959     
18888                            5960     
18889                            5961     ;       ***********************************
18890                            5962     ;       ***     ｽﾃｰﾀｽLOAD               ***
18891                            5963     ;       ***********************************
18892                            5964     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18893                                     ***** BEGIN-POOL *****
18894 000035FE 0000                       ALIGNMENT CODE
18895 00003600 00000000                   DATA FOR SOURCE-LINE 5954
18896                                     ***** END-POOL *****
18897 00003604                   5965             .ALIGN  4                               ;
18898 00003604                   5966     _LOD_POS_STS_REG_POR:
18899 00003604                   5967     _LOD_POS_STS_REG_SLOW:
18900                            5968             SUB_START
18901 00003604 4F22                   M           STS.L   PR,@-R15                ;[必要]
18902                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18903                            5969             PUSH_REG1 R2
18904 00003606 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18905                                 M                                           ;REG=>[SP]
18906                                 M                                           ;"-4" FF,FF,FF,FC
18907                            5970     
18908                            5971             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;ANS R0
18909 00003608 D007                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18910 0000360A 400B                   M           JSR     @R0                     ;
18911 0000360C 0009                   M           NOP                                     ;
18912 0000360E C804              5972             TST     #BIT2,R0                        ;
18913                            5973             TST_BIT_ON LOD_POS_STS_REGSLOW_END      ;
18914 00003610 8B05                   M           BF      LOD_POS_STS_REGSLOW_END
18915 00003612 D206              5974             MOV.L   #_POSCTL_STEP_FLG,R2            ;
18916 00003614 6421              5975             MOV.W   @R2,R4                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   228
PROGRAM NAME =

18917 00003616 9206              5976             MOV.W   #BIT6,R2                        ;
18918 00003618 2428              5977             TST     R2,R4                           ;
18919                            5978             TST_BIT_OF LOD_POS_STS_REGSLOW_END      ;
18920 0000361A 8900                   M           BT      LOD_POS_STS_REGSLOW_END
18921 0000361C CB04              5979             OR      #BIT2,R0                        ;
18922                            5980     
18923 0000361E                   5981     LOD_POS_STS_REGSLOW_END:
18924                            5982             POP_REG1 R2
18925                                 M                                   ; RE"+4" 00,00,00,04
18926 0000361E 62F6                   M           MOV.L   @R15+,R2        ;
18927                            5983             SUB_END
18928                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18929 00003620 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18930                            5984             M_RTS
18931 00003622 000B                   M           RTS                             ;RTSの後ろの
18932 00003624 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18933                            5985     
18934                            5986     
18935                            5987     
18936                            5988     ;       ***********************************
18937                            5989     ;       ***     ｽﾃｰﾀｽLOAD               ***
18938                            5990     ;       ***********************************
18939                            5991     ;       R0 BIT2=1 STOP
18940                                     ***** BEGIN-POOL *****
18941 00003626 0040                       DATA FOR SOURCE-LINE 5976
18942 00003628 00000000                   DATA FOR SOURCE-LINE 5971
18943 0000362C 00000000                   DATA FOR SOURCE-LINE 5974
18944                                     ***** END-POOL *****
18945 00003630                   5992             .ALIGN  4                               ;
18946 00003630                   5993     _LOD_POS_STS_REG_IN:
18947                            5994             SUB_START
18948 00003630 4F22                   M           STS.L   PR,@-R15                ;[必要]
18949                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18950                            5995             PUSH_REG1 R2
18951 00003632 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18952                                 M                                           ;REG=>[SP]
18953                                 M                                           ;"-4" FF,FF,FF,FC
18954                            5996     
18955 00003634 D413              5997             MOV.L   #(BIT2*H'10000),R4
18956 00003636                   5998     LOD_POS_STSRG00:
18957                            5999             POS_LSI_WORD_DUM_LOD                                    ;
18958                                 M           PUSH_REG1 R0
18959 00003636 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18960                                 M                                           ;REG=>[SP]
18961                                 M                                           ;"-4" FF,FF,FF,FC
18962 00003638 D013                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18963 0000363A 6001                   M           MOV.W   @R0,R0
18964                                 M           POP_REG1 R0
18965                                 M                                   ; RE"+4" 00,00,00,04
18966 0000363C 60F6                   M           MOV.L   @R15+,R0        ;
18967 0000363E D613              6000             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18968 00003640 6065              6001             MOV.W   @R6+,R0                                         ;BIT1:指令ﾊﾟﾙｽ BIT2:ﾊﾟﾙｽ払
                                          出停止中
18969                            6002                                                                     ;BIT2で判断する
18970                            6003             POS_LSI_WORD_DUM_LOD                                    ;
18971                                 M           PUSH_REG1 R0
18972 00003642 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   229
PROGRAM NAME =

18973                                 M                                           ;REG=>[SP]
18974                                 M                                           ;"-4" FF,FF,FF,FC
18975 00003644 D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18976 00003646 6001                   M           MOV.W   @R0,R0
18977                                 M           POP_REG1 R0
18978                                 M                                   ; RE"+4" 00,00,00,04
18979 00003648 60F6                   M           MOV.L   @R15+,R0        ;
18980 0000364A 6261              6004             MOV.W   @R6,R2                                          ;
18981 0000364C 600D              6005             EXTU.W  R0,R0                                           ;LOW
18982 0000364E 622D              6006             EXTU.W  R2,R2                                           ;HIGH
18983 00003650 4228              6007             SHLL16  R2
18984 00003652 202B              6008             OR      R2,R0                                           ;
18985 00003654 0009              6009             NOP
18986                            6010             POS_LSI_WORD_DUM_LOD                                    ;
18987                                 M           PUSH_REG1 R0
18988 00003656 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18989                                 M                                           ;REG=>[SP]
18990                                 M                                           ;"-4" FF,FF,FF,FC
18991 00003658 D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18992 0000365A 6001                   M           MOV.W   @R0,R0
18993                                 M           POP_REG1 R0
18994                                 M                                   ; RE"+4" 00,00,00,04
18995 0000365C 60F6                   M           MOV.L   @R15+,R0        ;
18996 0000365E D60B              6011             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18997 00003660 6165              6012             MOV.W   @R6+,R1                                         ;
18998                            6013             POS_LSI_WORD_DUM_LOD                                    ;
18999                                 M           PUSH_REG1 R0
19000 00003662 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19001                                 M                                           ;REG=>[SP]
19002                                 M                                           ;"-4" FF,FF,FF,FC
19003 00003664 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19004 00003666 6001                   M           MOV.W   @R0,R0
19005                                 M           POP_REG1 R0
19006                                 M                                   ; RE"+4" 00,00,00,04
19007 00003668 60F6                   M           MOV.L   @R15+,R0        ;
19008 0000366A 6261              6014             MOV.W   @R6,R2                                          ;
19009 0000366C 611D              6015             EXTU.W  R1,R1                                           ;LOW
19010 0000366E 622D              6016             EXTU.W  R2,R2                                           ;HIGH
19011 00003670 4228              6017             SHLL16  R2                                              ;
19012 00003672 212B              6018             OR      R2,R1                                           ;
19013                            6019     
19014 00003674 201A              6020             XOR     R1,R0                                           ;
19015 00003676 2048              6021             TST     R4,R0                                           ;
19016                            6022             TST_BIT_ON LOD_POS_STSRG00                              ;R0=R1
19017 00003678 8BDD                   M           BF      LOD_POS_STSRG00
19018 0000367A 6013              6023             MOV     R1,R0                                           ;BIT2
19019                            6024     
19020                            6025             POP_REG1 R2
19021                                 M                                   ; RE"+4" 00,00,00,04
19022 0000367C 62F6                   M           MOV.L   @R15+,R2        ;
19023                            6026             SUB_END
19024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19025 0000367E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19026                            6027             M_RTS
19027 00003680 000B                   M           RTS                             ;RTSの後ろの
19028 00003682 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19029                            6028     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   230
PROGRAM NAME =

19030                            6029     
19031                            6030     
19032                            6031     
19033                            6032     
19034                            6033     ;       ***********************************
19035                            6034     ;       ***     現在位置ｶｳﾝﾀLOAD        ***
19036                            6035     ;       ***********************************
19037                            6036             .EXPORT _POS_LSI_CNT_LOAD_R1reg
19038                                     ***** BEGIN-POOL *****
19039 00003684 00040000                   DATA FOR SOURCE-LINE 5997
19040 00003688 00000000                   DATA FOR SOURCE-LINE 5999,6003,6010,6013
19041 0000368C 00000000                   DATA FOR SOURCE-LINE 6000,6011
19042                                     ***** END-POOL *****
19043 00003690                   6037             .ALIGN  4                               ;
19044 00003690                   6038     _POS_LSI_CNT_LOAD_R1reg:
19045                            6039             SUB_START
19046 00003690 4F22                   M           STS.L   PR,@-R15                ;[必要]
19047                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19048 00003692 D603              6040             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowPos1L,R6        ;
19049 00003694 6162              6041             MOV.L   @R6,R1                                          ;(とりあえずこのままにして
                                          おく)
19050 00003696 6119              6042             SWAP.W  R1,R1                                           ;
19051                            6043             SUB_END
19052                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19053 00003698 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19054                            6044             M_RTS
19055 0000369A 000B                   M           RTS                             ;RTSの後ろの
19056 0000369C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19057                            6045     
19058                            6046     
19059                            6047     
19060                            6048     ;       ***********************************
19061                            6049     ;       ***                             ***
19062                            6050     ;       ***     払出ﾊﾟﾙｽ                ***
19063                            6051     ;       ***                             ***
19064                            6052     ;       ***********************************
19065                            6053     ;       I/F LNGTH_ADD_DATA[2];//符号付き
19066                            6054     ;
19067                            6055     ;       ﾊﾞｯｸﾗｯｼの処理はここで行う
19068                            6056     ;
19069                            6057     ;
19070                                     ***** BEGIN-POOL *****
19071 0000369E 0000                       ALIGNMENT CODE
19072 000036A0 00000000                   DATA FOR SOURCE-LINE 6040
19073                                     ***** END-POOL *****
19074 000036A4                   6058             .ALIGN  4                               ;
19075 000036A4                   6059     _POS_LENGTH_ADD_DATA
19076                            6060             SUB_START
19077 000036A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19078                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19079 000036A6 D40A              6061             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
19080 000036A8 6142              6062             MOV.L   @R4,R1                          ;
19081 000036AA 5241              6063             MOV.L   @(4,R4),R2                      ;
19082 000036AC 233A              6064             XOR     R3,R3                           ;
19083 000036AE 2432              6065             MOV.L   R3,@R4                                                  ;
19084 000036B0 1431              6066             MOV.L   R3,@(4,R4)                                              ;(ここでﾊﾞｯｸﾗｯｼ補
                                          正を足しこむ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   231
PROGRAM NAME =

19085                            6067     
19086 000036B2 D708              6068             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
19087 000036B4 6572              6069             MOV.L   @R7,R5                                                  ;
19088 000036B6 5671              6070             MOV.L   @(4,R7),R6                                              ;
19089                            6071             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19090 000036B8 0008                   M           CLRT
19091 000036BA 326E                   M           ADDC    R6,R2
19092 000036BC 315E                   M           ADDC    R5,R1
19093 000036BE 2712              6072             MOV.L   R1,@R7                                                  ;
19094 000036C0 1721              6073             MOV.L   R2,@(4,R7)                                              ;
19095                            6074     
19096                            6075     ;       ===2004-01-28 MONITOR ==
19097 000036C2 D705              6076             MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R7;//符号つき
19098 000036C4 2712              6077             MOV.L   R1,@R7                                                  ;
19099 000036C6 1721              6078             MOV.L   R2,@(4,R7)                                              ;
19100                            6079     
19101                            6080             SUB_END
19102                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19103 000036C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19104                            6081             M_RTS
19105 000036CA 000B                   M           RTS                             ;RTSの後ろの
19106 000036CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19107                            6082     
19108                            6083     ;       *******************************************
19109                            6084     ;       ***                                     ***
19110                            6085     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
19111                            6086     ;       ***                                     ***
19112                            6087     ;       *******************************************
19113                            6088     ;       ***********************************************************
19114                            6089     ;       ***     (停止時からの起動の場合のみ有効・安一のみ)      ***
19115                            6090     ;       ***********************************************************
19116                                     ***** BEGIN-POOL *****
19117 000036CE 0000                       ALIGNMENT CODE
19118 000036D0 00000000                   DATA FOR SOURCE-LINE 6061
19119 000036D4 00000000                   DATA FOR SOURCE-LINE 6068
19120 000036D8 00000000                   DATA FOR SOURCE-LINE 6076
19121                                     ***** END-POOL *****
19122 000036DC                   6091             .ALIGN  4                               ;
19123 000036DC                   6092     _POS_PLSOUT_SET_RETRY:
19124                            6093             SUB_START
19125 000036DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19126                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19127 000036DE D105              6094             MOV.L   #_MODE_SEL,R1                   ;
19128 000036E0 6011              6095             MOV.W   @R1,R0                          ;
19129 000036E2 9406              6096             MOV.W   #_W1SGL,R4                      ;
19130 000036E4 2048              6097             TST     R4,R0                           ;
19131                            6098             TST_BIT_ON POS_PLSOUT_SETRY100          ;
19132 000036E6 8B09                   M           BF      POS_PLSOUT_SETRY100
19133                            6099     
19134                            6100             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;
19135 000036E8 D003                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19136 000036EA 400B                   M           JSR     @R0                     ;
19137 000036EC 0009                   M           NOP                                     ;
19138                            6101             M_BRA   POS_PLSOUT_SETRYEXT
19139 000036EE A082                   M           BRA     POS_PLSOUT_SETRYEXT
19140 000036F0 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   232
PROGRAM NAME =

19141                            6102     
19142                            6103     ;       ===     安全一行程      ===
19143                                     ***** BEGIN-POOL *****
19144 000036F2 0004                       DATA FOR SOURCE-LINE 6096
19145 000036F4 00000000                   DATA FOR SOURCE-LINE 6094
19146 000036F8 00000000                   DATA FOR SOURCE-LINE 6100
19147                                     ***** END-POOL *****
19148 000036FC                   6104     POS_PLSOUT_SETRY100:
19149 000036FC 200A              6105             XOR     R0,R0
19150 000036FE D116              6106             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
19151 00003700 2101              6107             MOV.W   R0,@R1                                  ;
19152                            6108     
19153                            6109             eSHi_SET_MEM_MOV SRC=_LNGTH_TOTAL_OUTPLS+4,L1=L,DST=_SH2_LNGH_ADD_SR,L2=L       ;
19154                                 M           PUSH_REG1 R0
19155 00003702 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19156                                 M                                           ;REG=>[SP]
19157                                 M                                           ;"-4" FF,FF,FF,FC
19158                                 M           PUSH_REG1 R1
19159 00003704 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19160                                 M                                           ;REG=>[SP]
19161                                 M                                           ;"-4" FF,FF,FF,FC
19162 00003706 D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1       ;
19163 00003708 6012                   M           MOV.L   @R1,R0          ;
19164 0000370A D115                   M           MOV.L   #_SH2_LNGH_ADD_SR,R1    ;
19165 0000370C 2102                   M           MOV.L   R0,@R1          ;
19166                                 M           POP_REG1 R1
19167                                 M                                   ; RE"+4" 00,00,00,04
19168 0000370E 61F6                   M           MOV.L   @R15+,R1        ;
19169                                 M           POP_REG1 R0
19170                                 M                                   ; RE"+4" 00,00,00,04
19171 00003710 60F6                   M           MOV.L   @R15+,R0        ;
19172                            6110             TIM_CNT_ADD MEM=_SH2_LOT_CNT_A,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1                ;+
                                          1
19173 00003712 D114                   M           MOV.L   #_SH2_LOT_CNT_A,R1              ;
19174 00003714 6011                   M           MOV.W   @R1,R0  ;
19175 00003716 7001                   M           ADD     #1,R0           ;
19176 00003718 2101                   M           MOV.W   R0,@R1  ;
19177                            6111     
19178                            6112     
19179                            6113     
19180 0000371A                   6114     POS_PLSOUT_SETRYLOP:
19181                            6115     
19182 0000371A D713              6116             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
19183 0000371C 6172              6117             MOV.L   @R7,R1                                                  ;
19184 0000371E 5271              6118             MOV.L   @(4,R7),R2                                              ;払いだしたい量
19185                            6119             PUSH_REG1 R1                                                    ;
19186 00003720 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19187                                 M                                           ;REG=>[SP]
19188                                 M                                           ;"-4" FF,FF,FF,FC
19189                            6120             PUSH_REG1 R2                                                    ;
19190 00003722 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19191                                 M                                           ;REG=>[SP]
19192                                 M                                           ;"-4" FF,FF,FF,FC
19193                            6121             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                                ;
19194 00003724 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19195 00003726 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   233
PROGRAM NAME =

19196 00003728 0009                   M           NOP                                     ;
19197                            6122             POP_REG1 R2                                                     ;
19198                                 M                                   ; RE"+4" 00,00,00,04
19199 0000372A 62F6                   M           MOV.L   @R15+,R2        ;
19200                            6123             POP_REG1 R1                                                     ;
19201                                 M                                   ; RE"+4" 00,00,00,04
19202 0000372C 61F6                   M           MOV.L   @R15+,R1        ;
19203 0000372E 6313              6124             MOV     R1,R3                                                   ;
19204 00003730 6423              6125             MOV     R2,R4                                                   ;
19205 00003732 4311              6126             CMP/PZ  R3                                                      ;"+"
19206 00003734 8905              6127             BT      POS_PLSOUT_SETRY120                                     ;
19207                            6128             NEG1_64 H_REG=R3,L_REG=R4,WKREG=R0                              ;|R3,R4|
19208 00003736 6447                   M           NOT     R4,R4                           ;
19209 00003738 6337                   M           NOT     R3,R3                           ;
19210 0000373A 200A                   M           XOR     R0,R0                           ;
19211 0000373C 0018                   M           SETT
19212 0000373E 340E                   M           ADDC    R0,R4                           ;0+1+R2
19213 00003740 330E                   M           ADDC    R0,R3                           ;
19214 00003742                   6129     POS_PLSOUT_SETRY120:
19215 00003742 2338              6130             TST     R3,R3                                                   ;
19216                            6131             TST_BIT_OF POS_PLSOUT_SETRY130                                  ;
19217 00003744 8918                   M           BT      POS_PLSOUT_SETRY130
19218                            6132     ;       ====上位LWORDが存在する. 1回転の中にそれがあることはない
19219                            6133     ;       ==== data err ===
                                          ;
19220                            6134             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CALC_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19221 00003746 D10A                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1          ;
19222 00003748 6011                   M           MOV.W   @R1,R0          ;
19223 0000374A CB05                   M           OR      #(BIT2+BIT0),R0         ;
19224 0000374C 2101                   M           MOV.W   R0,@R1          ;
19225                            6135             FAR_JSR #_OutputPLS_REG_CLR,R0
                                          ;
19226 0000374E D009                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19227 00003750 400B                   M           JSR     @R0                     ;
19228 00003752 0009                   M           NOP                                     ;
19229                            6136             M_BRA   POS_PLSOUT_SETRY900
                                          ;
19230 00003754 A048                   M           BRA     POS_PLSOUT_SETRY900
19231 00003756 0009                   M           NOP
19232                            6137     
19233                                     ***** BEGIN-POOL *****
19234 00003758 00000000                   DATA FOR SOURCE-LINE 6106
19235 0000375C 00000000                   DATA FOR SOURCE-LINE 6109
19236 00003760 00000000                   DATA FOR SOURCE-LINE 6109
19237 00003764 00000000                   DATA FOR SOURCE-LINE 6110
19238 00003768 00000000                   DATA FOR SOURCE-LINE 6116
19239 0000376C 00000000                   DATA FOR SOURCE-LINE 6121
19240 00003770 00000000                   DATA FOR SOURCE-LINE 6134
19241 00003774 00000000                   DATA FOR SOURCE-LINE 6135
19242                                     ***** END-POOL *****
19243 00003778                   6138     POS_PLSOUT_SETRY130:
19244                            6139     
19245                            6140             FAR_JSR #_LOAD_REST_PLS,R0                      ;
19246 00003778 D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19247 0000377A 400B                   M           JSR     @R0                     ;
19248 0000377C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   234
PROGRAM NAME =

19249                            6141             eSHi_SET_REG_MOV DST=_SH2_REST_PLS_SR,L1=L,SETREG=R0,WKREG1=R5
19250                                 M           PUSH_REG1 R5            ;
19251 0000377E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19252                                 M                                           ;REG=>[SP]
19253                                 M                                           ;"-4" FF,FF,FF,FC
19254 00003780 D510                   M           MOV.L   #_SH2_REST_PLS_SR,R5            ;
19255 00003782 2502                   M           MOV.L   R0,@R5  ;
19256                                 M           POP_REG1 R5             ;
19257                                 M                                   ; RE"+4" 00,00,00,04
19258 00003784 65F6                   M           MOV.L   @R15+,R5        ;
19259                            6142     
19260 00003786 3400              6143             CMP/EQ  R0,R4                                   ;
19261 00003788 892E              6144             BT      POS_PLSOUT_SETRY900                     ;"EQU"
19262 0000378A 7001              6145             ADD     #1,R0                                   ;
19263 0000378C 3400              6146             CMP/EQ  R0,R4                                   ;
19264 0000378E 892B              6147             BT      POS_PLSOUT_SETRY900                     ;
19265 00003790 70FE              6148             ADD     #-2,R0                                  ;
19266 00003792 3400              6149             CMP/EQ  R0,R4                                   ;
19267 00003794 8928              6150             BT      POS_PLSOUT_SETRY900                     ;
19268                            6151     
19269                            6152     ;       ==== ﾍﾞﾘﾌｧｲ異常====
19270                            6153             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT2                ;VERIFAY ERR
19271                                 M   
19272                                 M           .AIF    1 EQ    0
19273                                     ;;      (波形測定時)
19274                                             PUSH_REG1 R0
19275                                             PUSH_REG1 R1
19276                                             PUSH_REG1 R2
19277                                             MOV.L   #_PDTRA,R1                      ;
19278                                             MOV.W   @R1,R0                          ;
19279                                             MOV.W   #BIT2,R2                        ;
19280                                             OR      R2,R0                           ;
19281                                             MOV.W   R0,@R1                          ;
19282                                     
19283                                             POP_REG1 R2
19284                                             POP_REG1 R1
19285                                             POP_REG1 R0
19286                                             .AENDI
19287                                 M   
19288                            6154     
19289                            6155             FAR_JSR #_OutputPLS_REG_CLR,R0                  ;
19290 00003796 D00C                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19291 00003798 400B                   M           JSR     @R0                     ;
19292 0000379A 0009                   M           NOP                                     ;
19293 0000379C D70B              6156             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                 ;+/-(0へ向かっていく)
19294 0000379E 2712              6157             MOV.L   R1,@R7                                  ;
19295 000037A0 1721              6158             MOV.L   R2,@(4,R7)                              ;払いだしたい量
19296                            6159     
19297 000037A2 D10B              6160             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
19298 000037A4 6011              6161             MOV.W   @R1,R0                                  ;
19299 000037A6 9409              6162             MOV.W   #_LSI_RETRY_ERR_MAX,R4
                                          ;
19300 000037A8 7001              6163             ADD     #1,R0
                                          ;
19301 000037AA 2101              6164             MOV.W   R0,@R1
                                          ;
19302 000037AC 3046              6165             CMP/HI  R4,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   235
PROGRAM NAME =

                                          ;3<
19303 000037AE 8913              6166             BT      POS_PLSOUT_SETRYERR
                                          ;
19304                            6167             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19305 000037B0 D108                   M           MOV.L   #_LSI_PLSSET_NG_CNT1,R1         ;
19306 000037B2 6012                   M           MOV.L   @R1,R0  ;
19307 000037B4 7001                   M           ADD     #1,R0           ;
19308 000037B6 2102                   M           MOV.L   R0,@R1  ;
19309                            6168             M_BRA   POS_PLSOUT_SETRYLOP                     ;
19310 000037B8 AFAF                   M           BRA     POS_PLSOUT_SETRYLOP
19311 000037BA 0009                   M           NOP
19312                            6169     
19313                                     ***** BEGIN-POOL *****
19314 000037BC 0003                       DATA FOR SOURCE-LINE 6162
19315 000037BE 0000                       ALIGNMENT CODE
19316 000037C0 00000000                   DATA FOR SOURCE-LINE 6140
19317 000037C4 00000000                   DATA FOR SOURCE-LINE 6141
19318 000037C8 00000000                   DATA FOR SOURCE-LINE 6155
19319 000037CC 00000000                   DATA FOR SOURCE-LINE 6156
19320 000037D0 00000000                   DATA FOR SOURCE-LINE 6160
19321 000037D4 00000000                   DATA FOR SOURCE-LINE 6167
19322                                     ***** END-POOL *****
19323 000037D8                   6170     POS_PLSOUT_SETRYERR:
19324                            6171             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19325 000037D8 D102                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
19326 000037DA 6011                   M           MOV.W   @R1,R0          ;
19327 000037DC CB05                   M           OR      #(BIT2+BIT0),R0         ;
19328 000037DE 2101                   M           MOV.W   R0,@R1          ;
19329                            6172             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT6                ;RETRY ERR
19330                                 M   
19331                                 M           .AIF    1 EQ    0
19332                                     ;;      (波形測定時)
19333                                             PUSH_REG1 R0
19334                                             PUSH_REG1 R1
19335                                             PUSH_REG1 R2
19336                                             MOV.L   #_PDTRA,R1                      ;
19337                                             MOV.W   @R1,R0                          ;
19338                                             MOV.W   #BIT6,R2                        ;
19339                                             OR      R2,R0                           ;
19340                                             MOV.W   R0,@R1                          ;
19341                                     
19342                                             POP_REG1 R2
19343                                             POP_REG1 R1
19344                                             POP_REG1 R0
19345                                             .AENDI
19346                                 M   
19347                            6173             M_BRA   POS_PLSOUT_SETRYEXT
19348 000037E0 A009                   M           BRA     POS_PLSOUT_SETRYEXT
19349 000037E2 0009                   M           NOP
19350                            6174     
19351                                     ***** BEGIN-POOL *****
19352 000037E4 00000000                   DATA FOR SOURCE-LINE 6171
19353                                     ***** END-POOL *****
19354 000037E8                   6175     POS_PLSOUT_SETRY900:
19355                            6176     ;       === FLAG SET====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   236
PROGRAM NAME =

19356                            6177             eSHi_SET_IM_MOV DST=_SH2_REST_SR_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
19357                                 M           PUSH_REG1 R1            ;
19358 000037E8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19359                                 M                                           ;REG=>[SP]
19360                                 M                                           ;"-4" FF,FF,FF,FC
19361                                 M           PUSH_REG1 R0            ;
19362 000037EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19363                                 M                                           ;REG=>[SP]
19364                                 M                                           ;"-4" FF,FF,FF,FC
19365 000037EC 9006                   M           MOV.W   #1,R0           ;
19366 000037EE D104                   M           MOV.L   #_SH2_REST_SR_HF,R1             ;
19367 000037F0 2101                   M           MOV.W   R0,@R1  ;
19368                                 M           POP_REG1 R0             ;
19369                                 M                                   ; RE"+4" 00,00,00,04
19370 000037F2 60F6                   M           MOV.L   @R15+,R0        ;
19371                                 M           POP_REG1 R1             ;
19372                                 M                                   ; RE"+4" 00,00,00,04
19373 000037F4 61F6                   M           MOV.L   @R15+,R1        ;
19374                            6178     
19375 000037F6                   6179     POS_PLSOUT_SETRYEXT:
19376                            6180             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT4                ;VERYFAI ERR OFF付
19377                                 M   
19378                                 M           .AIF    1 EQ    0
19379                                     ;;      (波形測定時)
19380                                             PUSH_REG1 R0
19381                                             PUSH_REG1 R1
19382                                             PUSH_REG1 R2
19383                                             MOV.L   #_PDTRA,R1                      ;
19384                                             MOV.W   @R1,R0                          ;
19385                                             MOV.W   #LWORD ~BIT4,R2         ;
19386                                             AND     R2,R0                           ;
19387                                             MOV.W   R0,@R1                          ;
19388                                             POP_REG1 R2
19389                                             POP_REG1 R1
19390                                             POP_REG1 R0
19391                                             .AENDI
19392                                 M   
19393                            6181     
19394                            6182             SUB_END
19395                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19396 000037F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19397                            6183             M_RTS
19398 000037F8 000B                   M           RTS                             ;RTSの後ろの
19399 000037FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19400                            6184     
19401                            6185     ;       *******************************************
19402                            6186     ;       ***                                     ***
19403                            6187     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
19404                            6188     ;       ***                                     ***
19405                            6189     ;       *******************************************
19406                                     ***** BEGIN-POOL *****
19407 000037FC 0001                       DATA FOR SOURCE-LINE 6177
19408 000037FE 0000                       ALIGNMENT CODE
19409 00003800 00000000                   DATA FOR SOURCE-LINE 6177
19410                                     ***** END-POOL *****
19411 00003804                   6190             .ALIGN  4                               ;
19412 00003804                   6191     _POS_PLS_OUTPUT_DATA:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   237
PROGRAM NAME =

19413                            6192             SUB_START
19414 00003804 4F22                   M           STS.L   PR,@-R15                ;[必要]
19415                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19416                            6193     
19417                            6194     
19418                            6195             FAR_JSR #_LOAD_REST_PLS,R0                                              ;
19419 00003806 D00D                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19420 00003808 400B                   M           JSR     @R0                     ;
19421 0000380A 0009                   M           NOP                                     ;
19422 0000380C 6B03              6196             MOV     R0,R11                                                          ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
19423 0000380E D10C              6197             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                         ;
19424 00003810 21B2              6198             MOV.L   R11,@R1                                                         ;
19425                            6199     
19426 00003812 DC0C              6200             MOV.L   #_PLS_OUTPUT_MAX,R12                                            ;
19427 00003814 3CB8              6201             SUB     R11,R12                                                         ;
19428 00003816 4C11              6202             CMP/PZ  R12                                                             ;残り設定
                                          できる距離出力側で
19429 00003818 8904              6203             BT      POS_PLS_OUTDAT_050                                              ;
19430                            6204             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT0,WKREG=R1       ;
19431 0000381A D10B                   M           MOV.L   #_POSLSI_CHK_STS,R1             ;
19432 0000381C 6011                   M           MOV.W   @R1,R0          ;
19433 0000381E CB01                   M           OR      #BIT0,R0                ;
19434 00003820 2101                   M           MOV.W   R0,@R1          ;
19435 00003822 2CCA              6205             XOR     R12,R12                                                         ;
19436 00003824                   6206     POS_PLS_OUTDAT_050:                                                             ;R12は出力
                                          ﾊﾟﾙｽﾚﾍﾞﾙ
19437                            6207     ;       ============= 出力ﾊﾟﾙｽ補正============
19438 00003824 62C3              6208             MOV     R12,R2                                                  ;ﾊﾟﾙｽ列-->ｲﾝｸﾘﾒﾝﾀﾙ
                                          ﾊﾟﾙｽ量
19439                            6209     ;;;;;   FAR_JSR #_POS_OUT_TO_INC_CHG,R0                                 ;
19440 00003826 6C23              6210             MOV     R2,R12                                                  ;
19441                            6211     
19442                            6212     ;       ==== R12が設定可能量====
19443 00003828 D708              6213             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
19444 0000382A 6172              6214             MOV.L   @R7,R1                                                  ;
19445 0000382C 5271              6215             MOV.L   @(4,R7),R2                                              ;払いだしたい量
19446 0000382E 6013              6216             MOV     R1,R0                                                   ;
19447 00003830 202B              6217             OR      R2,R0                                                   ;
19448 00003832 2008              6218             TST     R0,R0                                                   ;
19449                            6219             TST_BIT_ON POS_PLS_OUTDAT_080                                   ;
19450 00003834 8B0C                   M           BF      POS_PLS_OUTDAT_080
19451 00003836 2CCA              6220             XOR     R12,R12                                                 ;位置決めLSIには設
                                          定済み
19452                            6221             M_BRA   POS_PLS_OUTDAT_300                                      ;
19453 00003838 A027                   M           BRA     POS_PLS_OUTDAT_300
19454 0000383A 0009                   M           NOP
19455                            6222     
19456                                     ***** BEGIN-POOL *****
19457 0000383C 00000000                   DATA FOR SOURCE-LINE 6195
19458 00003840 00000000                   DATA FOR SOURCE-LINE 6197
19459 00003844 00FFFFFF                   DATA FOR SOURCE-LINE 6200
19460 00003848 00000000                   DATA FOR SOURCE-LINE 6204
19461 0000384C 00000000                   DATA FOR SOURCE-LINE 6213
19462                                     ***** END-POOL *****
19463 00003850                   6223     POS_PLS_OUTDAT_080:                                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   238
PROGRAM NAME =

19464                            6224             PUSH_REG1       R1
19465 00003850 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19466                                 M                                           ;REG=>[SP]
19467                                 M                                           ;"-4" FF,FF,FF,FC
19468 00003852 4111              6225             CMP/PZ  R1                                                      ;
19469 00003854 8905              6226             BT      POS_PLS_OUTDAT_100                                      ;
19470                            6227             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;|R1,R2|
19471 00003856 6227                   M           NOT     R2,R2                           ;
19472 00003858 6117                   M           NOT     R1,R1                           ;
19473 0000385A 233A                   M           XOR     R3,R3                           ;
19474 0000385C 0018                   M           SETT
19475 0000385E 323E                   M           ADDC    R3,R2                           ;0+1+R2
19476 00003860 313E                   M           ADDC    R3,R1                           ;
19477 00003862                   6228     POS_PLS_OUTDAT_100:                                                     ;
19478 00003862 2118              6229             TST     R1,R1                                                   ;
19479                            6230             TST_BIT_ON POS_PLS_OUTDAT_200                                   ;引いてOK
19480 00003864 8B02                   M           BF      POS_PLS_OUTDAT_200
19481 00003866 32C7              6231             CMP/GT  R12,R2                                                  ;引いてOK
19482 00003868 8900              6232             BT      POS_PLS_OUTDAT_200                                      ;
19483 0000386A 6C23              6233             MOV     R2,R12                                                  ;R12(R2)だけ引いて
                                          OK
19484 0000386C                   6234     POS_PLS_OUTDAT_200:                                                     ;(引く量の決定)
19485 0000386C 200A              6235             XOR     R0,R0                                                   ;
19486                            6236             SUB8B DT_REGH=R0,DT_REGL=R12,DT_ANS_REGH=R1,DT_ANS_REGL=R2      ;
19487 0000386E 0008                   M           CLRT
19488 00003870 32CA                   M           SUBC    R12,R2
19489 00003872 310A                   M           SUBC    R0,R1
19490                            6237             POP_REG1 R0
19491                                 M                                   ; RE"+4" 00,00,00,04
19492 00003874 60F6                   M           MOV.L   @R15+,R0        ;
19493 00003876 4011              6238             CMP/PZ  R0
19494 00003878 8905              6239             BT      POS_PLS_OUTDAT_250                                      ;
19495                            6240             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;
19496 0000387A 6227                   M           NOT     R2,R2                           ;
19497 0000387C 6117                   M           NOT     R1,R1                           ;
19498 0000387E 233A                   M           XOR     R3,R3                           ;
19499 00003880 0018                   M           SETT
19500 00003882 323E                   M           ADDC    R3,R2                           ;0+1+R2
19501 00003884 313E                   M           ADDC    R3,R1                           ;
19502 00003886                   6241     POS_PLS_OUTDAT_250:                                                     ;
19503 00003886 2712              6242             MOV.L   R1,@R7                                                  ;
19504 00003888 1721              6243             MOV.L   R2,@(4,R7)                                              ;
19505                            6244     
19506                            6245     ;"R12ADD"
19507 0000388A                   6246     POS_PLS_OUTDAT_300:                                                             ;
19508                            6247             FAR_JSR #_LOAD_REST_PLS,R0                                              ;OLD残りﾊﾟ
                                          ﾙｽ
19509 0000388A D01C                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19510 0000388C 400B                   M           JSR     @R0                     ;
19511 0000388E 0009                   M           NOP                                     ;
19512 00003890 6403              6248             MOV     R0,R4                                                           ;
19513 00003892 62C3              6249             MOV     R12,R2                                                          ;
19514                            6250     
19515                            6251             DEBUG_LSI_ACS_ON2_BIT BITDT=(BIT4+BIT0)                                 ;
19516                                 M   
19517                                 M           .AIF    1 EQ    0
19518                                     ;;      (波形測定時)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   239
PROGRAM NAME =

19519                                             PUSH_REG1 R0
19520                                             PUSH_REG1 R1
19521                                             PUSH_REG1 R2
19522                                             MOV.L   #_PDTRA,R1                      ;
19523                                             MOV.W   @R1,R0                          ;
19524                                             MOV.W   #(BIT4+BIT0),R2                 ;
19525                                             OR      R2,R0                           ;
19526                                             MOV.W   R0,@R1                          ;
19527                                     
19528                                             POP_REG1 R2
19529                                             POP_REG1 R1
19530                                             POP_REG1 R0
19531                                             .AENDI
19532                                 M   
19533                            6252             .AIF    1               EQ      1       ;YES:WR WAIT 4CLK(NO 3CLK) 2004-02-19
19534                            6253 C           POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R6,DAT_REG=R2           ;製品
19535                                 M           PUSH_REG1 R6
19536 00003894 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19537                                 M                                           ;REG=>[SP]
19538                                 M                                           ;"-4" FF,FF,FF,FC
19539                                 M           PUSH_REG1 R2
19540 00003896 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19541                                 M                                           ;REG=>[SP]
19542                                 M                                           ;"-4" FF,FF,FF,FC
19543                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19544                                 M           PUSH_REG1 R0
19545 00003898 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19546                                 M                                           ;REG=>[SP]
19547                                 M                                           ;"-4" FF,FF,FF,FC
19548 0000389A D019                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19549 0000389C 6001                   M           MOV.W   @R0,R0
19550                                 M           POP_REG1 R0
19551                                 M                                   ; RE"+4" 00,00,00,04
19552 0000389E 60F6                   M           MOV.L   @R15+,R0        ;
19553 000038A0 D618                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;
19554 000038A2 2621                   M           MOV.W   R2,@R6                          ;(LOW)
19555 000038A4 7602                   M           ADD     #2,R6                                   ;
19556 000038A6 6229                   M           SWAP.W  R2,R2                           ;
19557                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19558                                 M           PUSH_REG1 R0
19559 000038A8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19560                                 M                                           ;REG=>[SP]
19561                                 M                                           ;"-4" FF,FF,FF,FC
19562 000038AA D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19563 000038AC 6001                   M           MOV.W   @R0,R0
19564                                 M           POP_REG1 R0
19565                                 M                                   ; RE"+4" 00,00,00,04
19566 000038AE 60F6                   M           MOV.L   @R15+,R0        ;
19567 000038B0 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
19568                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19569                                 M           PUSH_REG1 R0
19570 000038B2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19571                                 M                                           ;REG=>[SP]
19572                                 M                                           ;"-4" FF,FF,FF,FC
19573 000038B4 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19574 000038B6 6001                   M           MOV.W   @R0,R0
19575                                 M           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   240
PROGRAM NAME =

19576                                 M                                   ; RE"+4" 00,00,00,04
19577 000038B8 60F6                   M           MOV.L   @R15+,R0        ;
19578                                 M           POP_REG1 R2
19579                                 M                                   ; RE"+4" 00,00,00,04
19580 000038BA 62F6                   M           MOV.L   @R15+,R2        ;
19581                                 M           POP_REG1 R6
19582                                 M                                   ; RE"+4" 00,00,00,04
19583 000038BC 66F6                   M           MOV.L   @R15+,R6        ;
19584                            6254             .AELSE
19585                            6255     
19586                            6256     ;       ===== 異常を発生させるよう ======
19587                            6257             PUSH_REG1 R0                                                    ;
19588                            6258             PUSH_REG1 R12                                                   ;
19589                            6259             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R0                ;R/W
19590                            6260             SWAP.W  R12,R12                                                 ;
19591                            6261             MOV.L   R12,@R0                                                 ;
19592                            6262             POP_REG1 R12                                                    ;
19593                            6263             POP_REG1 R0                                                     ;
19594                            6264             .AENDI
19595                            6265     
19596                            6266             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT0
19597                                 M   
19598                                 M           .AIF    1 EQ    0
19599                                     ;;      (波形測定時)
19600                                             PUSH_REG1 R0
19601                                             PUSH_REG1 R1
19602                                             PUSH_REG1 R2
19603                                             MOV.L   #_PDTRA,R1                      ;
19604                                             MOV.W   @R1,R0                          ;
19605                                             MOV.W   #LWORD ~BIT0,R2         ;
19606                                             AND     R2,R0                           ;
19607                                             MOV.W   R0,@R1                          ;
19608                                             POP_REG1 R2
19609                                             POP_REG1 R1
19610                                             POP_REG1 R0
19611                                             .AENDI
19612                                 M   
19613                            6267     
19614                            6268             FAR_JSR #_LOAD_REST_PLS,R0                                              ;NEW残りﾊﾟ
                                          ﾙｽ
19615 000038BE D00F                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19616 000038C0 400B                   M           JSR     @R0                     ;
19617 000038C2 0009                   M           NOP                                     ;
19618 000038C4 D110              6269             MOV.L   #_NEW_POSLSI_RESTPLS,R1                                         ;
19619 000038C6 2102              6270             MOV.L   R0,@R1                                                          ;
19620                            6271     
19621                            6272             eSHi_SET_REG_MOV DST=_SH2_REST_PLS_RL,L1=L,SETREG=R0,WKREG1=R1          ;
19622                                 M           PUSH_REG1 R1            ;
19623 000038C8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19624                                 M                                           ;REG=>[SP]
19625                                 M                                           ;"-4" FF,FF,FF,FC
19626 000038CA D110                   M           MOV.L   #_SH2_REST_PLS_RL,R1            ;
19627 000038CC 2102                   M           MOV.L   R0,@R1  ;
19628                                 M           POP_REG1 R1             ;
19629                                 M                                   ; RE"+4" 00,00,00,04
19630 000038CE 61F6                   M           MOV.L   @R15+,R1        ;
19631                            6273     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   241
PROGRAM NAME =

19632                            6274     
19633                            6275     ;       基本的には
19634                            6276     ;       OLD+SV=NEW
19635                            6277     
19636 000038D0 34CC              6278             ADD     R12,R4                                                  ;
19637 000038D2 6343              6279             MOV     R4,R3                                                   ;
19638 000038D4 9110              6280             MOV.W   #D'500,R1                                               ;200usec(100pls)　
                                          受信割込有り
19639 000038D6 341C              6281             ADD     R1,R4                                                   ;OLD+SV+500<NEW
19640 000038D8 3046              6282             CMP/HI  R4,R0                                                   ;OLD+SV+500<NEW
19641 000038DA 891B              6283             BT      POS_PLS_OUTDAT_320_ERR1                                 ;
19642                            6284     
19643 000038DC 6433              6285             MOV     R3,R4                                                   ;
19644 000038DE 910B              6286             MOV.W   #D'500,R1                                               ;200usec(100pls)
19645 000038E0 3418              6287             SUB     R1,R4                                                   ;
19646 000038E2 4411              6288             CMP/PZ  R4                                                      ;
19647 000038E4 8900              6289             BT      POS_PLS_OUTDAT_320_ECK10                                ;
19648 000038E6 244A              6290             XOR     R4,R4                                                   ;
19649 000038E8                   6291     POS_PLS_OUTDAT_320_ECK10:                                               ;
19650 000038E8 3042              6292             CMP/HS  R4,R0
19651 000038EA 891B              6293             BT      POS_PLS_OUTDAT_320_END                                  ;R4 =< R0 OK
19652                            6294     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ-200 ≧残ﾊﾟﾙｽなら異常(2)      ===
19653                            6295             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19654 000038EC D108                   M           MOV.L   #_LSI_PLSSET_NG_CNT2,R1         ;
19655 000038EE 6012                   M           MOV.L   @R1,R0  ;
19656 000038F0 7001                   M           ADD     #1,R0           ;
19657 000038F2 2102                   M           MOV.L   R0,@R1  ;
19658                            6296     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT3+BIT0),WKREG=R1
                                          ;
19659                            6297             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19660 000038F4 A01A                   M           BRA     POS_PLS_OUTDAT_320_EXT
19661 000038F6 0009                   M           NOP
19662                            6298     
19663                                     ***** BEGIN-POOL *****
19664 000038F8 01F4                       DATA FOR SOURCE-LINE 6280,6286
19665 000038FA 0000                       ALIGNMENT CODE
19666 000038FC 00000000                   DATA FOR SOURCE-LINE 6247,6268
19667 00003900 00000000                   DATA FOR SOURCE-LINE 6253,6253,6253
19668 00003904 00000000                   DATA FOR SOURCE-LINE 6253
19669 00003908 00000000                   DATA FOR SOURCE-LINE 6269
19670 0000390C 00000000                   DATA FOR SOURCE-LINE 6272
19671 00003910 00000000                   DATA FOR SOURCE-LINE 6295
19672                                     ***** END-POOL *****
19673 00003914                   6299     POS_PLS_OUTDAT_320_ERR1:
                                          ;
19674                            6300     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ≦残ﾊﾟﾙｽなら異常(1)   === 500KHZ 200usec=100pls
                                          ;
19675                            6301             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT3,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;ここだとﾘﾄﾗｲできない
19676 00003914 D102                   M           MOV.L   #_LSI_PLSSET_NG_CNT3,R1         ;
19677 00003916 6012                   M           MOV.L   @R1,R0  ;
19678 00003918 7001                   M           ADD     #1,R0           ;
19679 0000391A 2102                   M           MOV.L   R0,@R1  ;
19680                            6302     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT4+BIT0),WKREG=R1
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   242
PROGRAM NAME =

19681                            6303             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19682 0000391C A006                   M           BRA     POS_PLS_OUTDAT_320_EXT
19683 0000391E 0009                   M           NOP
19684                            6304     
19685                                     ***** BEGIN-POOL *****
19686 00003920 00000000                   DATA FOR SOURCE-LINE 6301
19687                                     ***** END-POOL *****
19688 00003924                   6305     POS_PLS_OUTDAT_320_END:                                                                 ;
19689                            6306             TIM_CNT_ADD MEM=_LSI_PLSSET_AC_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1           ;
19690 00003924 D10C                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1         ;
19691 00003926 6012                   M           MOV.L   @R1,R0  ;
19692 00003928 7001                   M           ADD     #1,R0           ;
19693 0000392A 2102                   M           MOV.L   R0,@R1  ;
19694 0000392C                   6307     POS_PLS_OUTDAT_320_EXT:                                                                 ;
19695                            6308     
19696                            6309     
19697                            6310     
19698                            6311             eSHi_SET_MEM_MOV SRC=_INT_POS_CTL_STEP,L1=W,DST=_SH2_LOT_STEP_A,L2=W
19699                                 M           PUSH_REG1 R0
19700 0000392C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19701                                 M                                           ;REG=>[SP]
19702                                 M                                           ;"-4" FF,FF,FF,FC
19703                                 M           PUSH_REG1 R1
19704 0000392E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19705                                 M                                           ;REG=>[SP]
19706                                 M                                           ;"-4" FF,FF,FF,FC
19707 00003930 D10A                   M           MOV.L   #_INT_POS_CTL_STEP,R1   ;
19708 00003932 6011                   M           MOV.W   @R1,R0          ;
19709 00003934 D10A                   M           MOV.L   #_SH2_LOT_STEP_A,R1     ;
19710 00003936 2101                   M           MOV.W   R0,@R1          ;
19711                                 M           POP_REG1 R1
19712                                 M                                   ; RE"+4" 00,00,00,04
19713 00003938 61F6                   M           MOV.L   @R15+,R1        ;
19714                                 M           POP_REG1 R0
19715                                 M                                   ; RE"+4" 00,00,00,04
19716 0000393A 60F6                   M           MOV.L   @R15+,R0        ;
19717                            6312     
19718                            6313     
19719                            6314     ;       ======== ものは試し====
19720 0000393C 255A              6315             XOR     R5,R5
19721 0000393E D109              6316             MOV.L   #_POSLSI_DRIV_SHIN,R1
19722 00003940 6011              6317             MOV.W   @R1,R0                                                  ;
19723 00003942 C801              6318             TST     #BIT0,R0
19724                            6319             TST_BIT_OF POS_PLS_OUTDAT_400                                   ;
19725 00003944 8905                   M           BT      POS_PLS_OUTDAT_400
19726                            6320             NEG1_64 H_REG=R5,L_REG=R13,WKREG=R3                             ;
19727 00003946 6DD7                   M           NOT     R13,R13                         ;
19728 00003948 6557                   M           NOT     R5,R5                           ;
19729 0000394A 233A                   M           XOR     R3,R3                           ;
19730 0000394C 0018                   M           SETT
19731 0000394E 3D3E                   M           ADDC    R3,R13                          ;0+1+R2
19732 00003950 353E                   M           ADDC    R3,R5                           ;
19733 00003952                   6321     POS_PLS_OUTDAT_400:                                                     ;
19734                            6322     
19735                            6323     
19736                            6324             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   243
PROGRAM NAME =

19737                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19738 00003952 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19739                            6325             M_RTS
19740 00003954 000B                   M           RTS                             ;RTSの後ろの
19741 00003956 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19742                            6326     
19743                            6327     
19744                            6328     ;       ***********************************
19745                            6329     ;       ***                             ***
19746                            6330     ;       ***     連続開始                ***
19747                            6331     ;       ***                             ***
19748                            6332     ;       ***********************************
19749                            6333     ;       安全一工程、連続、オプション
19750                            6334     ;       寸動と
19751                            6335     
19752                                     ***** BEGIN-POOL *****
19753 00003958 00000000                   DATA FOR SOURCE-LINE 6306
19754 0000395C 00000000                   DATA FOR SOURCE-LINE 6311
19755 00003960 00000000                   DATA FOR SOURCE-LINE 6311
19756 00003964 00000000                   DATA FOR SOURCE-LINE 6316
19757                                     ***** END-POOL *****
19758 00003968                   6336             .ALIGN  4                               ;
19759 00003968                   6337     _MOTION_CYCLE_START:
19760                            6338             SUB_START
19761 00003968 4F22                   M           STS.L   PR,@-R15                ;[必要]
19762                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19763                            6339     ;;      MOV.L   #_MODE_SEL,R1                   ;
19764                            6340     ;;      MOV.W   @R1,R0                          ;
19765                            6341     ;;      TST     #_W1CNT,R0                      ;
19766                            6342     ;;      TST_BIT_OF MOTION_CYC_ST100             ;
19767                            6343     ;;      FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19768                            6344     ;;MOTION_CYC_ST100:                             ;
19769                            6345     
19770                            6346     
19771                            6347             FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
19772 0000396A D00D                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19773 0000396C 400B                   M           JSR     @R0                     ;
19774 0000396E 0009                   M           NOP                                     ;
19775                            6348             FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
19776 00003970 D00C                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19777 00003972 400B                   M           JSR     @R0                     ;
19778 00003974 0009                   M           NOP                                     ;
19779                            6349     
19780 00003976 D10C              6350             MOV.L   #_MODE_SEL,R1                   ;
19781 00003978 6011              6351             MOV.W   @R1,R0                          ;
19782 0000397A C81E              6352             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0 ;
19783                            6353             TST_BIT_OF MOTION_CYC_ST200             ;
19784 0000397C 8909                   M           BT      MOTION_CYC_ST200
19785                            6354     
19786 0000397E D10B              6355             MOV.L   #_CPOS_CTL_MATH,R1              ;
19787 00003980 6011              6356             MOV.W   @R1,R0                          ;
19788                            6357     ;;2009-10-07    TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19789 00003982 C805              6358             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-07_DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19790                            6359             TST_BIT_OF DAI_CHK01_100
19791 00003984 8902                   M           BT      DAI_CHK01_100
19792                            6360     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   244
PROGRAM NAME =

19793                            6361     ;;;2003-02-03   FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;
19794                            6362             FAR_JSR #_DAI_FULL_SCALE_SMP_INI,R0     ;2003-02-03
19795 00003986 D00A                   M           MOV.L   #_DAI_FULL_SCALE_SMP_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19796 00003988 400B                   M           JSR     @R0                     ;
19797 0000398A 0009                   M           NOP                                     ;
19798                            6363     
19799 0000398C                   6364     DAI_CHK01_100
19800                            6365     
19801                            6366             FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19802 0000398C D009                   M           MOV.L   #_CYCLE_TIME_REFLASH_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19803 0000398E 400B                   M           JSR     @R0                     ;
19804 00003990 0009                   M           NOP                                     ;
19805                            6367     
19806 00003992                   6368     MOTION_CYC_ST200:                               ;
19807                            6369     
19808                            6370             FAR_JSR #_MOST_DISP_DAT_INI,R0
19809 00003992 D009                   M           MOV.L   #_MOST_DISP_DAT_INI,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19810 00003994 400B                   M           JSR     @R0                     ;
19811 00003996 0009                   M           NOP                                     ;
19812                            6371     
19813                            6372     ;       ----------------------------------------
19814                            6373             .AIF    1 EQ    0
19815                            6374             FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
19816                            6375     ;;;;;2012-10-19 削除    FAR_JSR #_OVERH_CYC_START,R0                    ;2012-09-25
19817                            6376             .AENDI
19818                            6377     
19819                            6378             SUB_END
19820                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19821 00003998 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19822                            6379             M_RTS
19823 0000399A 000B                   M           RTS                             ;RTSの後ろの
19824 0000399C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19825                            6380     
19826                            6381     ;
19827                            6382     ;       止まる時に１回通る/止まらないときも
19828                            6383     
19829                                     ***** BEGIN-POOL *****
19830 0000399E 0000                       ALIGNMENT CODE
19831 000039A0 00000000                   DATA FOR SOURCE-LINE 6347
19832 000039A4 00000000                   DATA FOR SOURCE-LINE 6348
19833 000039A8 00000000                   DATA FOR SOURCE-LINE 6350
19834 000039AC 00000000                   DATA FOR SOURCE-LINE 6355
19835 000039B0 00000000                   DATA FOR SOURCE-LINE 6362
19836 000039B4 00000000                   DATA FOR SOURCE-LINE 6366
19837 000039B8 00000000                   DATA FOR SOURCE-LINE 6370
19838                                     ***** END-POOL *****
19839 000039BC                   6384             .ALIGN  4                               ;
19840 000039BC                   6385     _MOTION_CYCLE_END:
19841                            6386             SUB_START
19842 000039BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19843                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19844                            6387     ;       ======= 描画用 ====
19845                            6388             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
19846 000039BE D10E                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
19847 000039C0 6011                   M           MOV.W   @R1,R0          ;
19848 000039C2 CB01                   M           OR      #BIT0,R0                ;
19849 000039C4 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   245
PROGRAM NAME =

19850                            6389     ;;;;    FAR_JSR #_LOT_SIG_SET,R0                                                ;
19851                            6390     ;;;;    FAR_JSR #_LOT_SIG_FLG_CLR,R0                                            ;
19852                            6391             FAR_JSR #_CYCLE_TIME_REFLASH_END,R0                                     ;
19853 000039C6 D00D                   M           MOV.L   #_CYCLE_TIME_REFLASH_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19854 000039C8 400B                   M           JSR     @R0                     ;
19855 000039CA 0009                   M           NOP                                     ;
19856                            6392     
19857                            6393     ;       ============================================
19858 000039CC D10C              6394             MOV.L   #_CPOS_CTL_MATH,R1              ;
19859 000039CE 6011              6395             MOV.W   @R1,R0                          ;
19860                            6396     ;;[20091007下振子]      TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19861 000039D0 C805              6397             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-0_7DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19862                            6398             TST_BIT_OF DAI_CHK03_300
19863 000039D2 8908                   M           BT      DAI_CHK03_300
19864                            6399     
19865                            6400             FAR_JSR #_DAI_FULL_SCALE_SMP_END,R0     ;2003-02-03
19866 000039D4 D00B                   M           MOV.L   #_DAI_FULL_SCALE_SMP_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19867 000039D6 400B                   M           JSR     @R0                     ;
19868 000039D8 0009                   M           NOP                                     ;
19869                            6401             FAR_JSR #_DAI_MOSTPOS_CMPARE,R0         ;
19870 000039DA D00B                   M           MOV.L   #_DAI_MOSTPOS_CMPARE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19871 000039DC 400B                   M           JSR     @R0                     ;
19872 000039DE 0009                   M           NOP                                     ;
19873                            6402     
19874                            6403             FAR_JSR #_KJPHOS_SMPLING_END1,R0        ;2004-07-05
19875 000039E0 D00A                   M           MOV.L   #_KJPHOS_SMPLING_END1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19876 000039E2 400B                   M           JSR     @R0                     ;
19877 000039E4 0009                   M           NOP                                     ;
19878                            6404     
19879 000039E6                   6405     DAI_CHK03_300:
19880                            6406     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT4,R0
19881                            6407     
19882                            6408             .AIF    1 EQ    0
19883                            6409             .IMPORT _TRD_SIG_SET
19884                            6410             FAR_JSR #_TRD_SIG_SET,R0                        ;2006-11-20
19885                            6411             .AENDI
19886                            6412     
19887                            6413              .AIF   1 EQ 1  ;
19888                            6414 C   ;       -------- 2016-10-31 ADD 二重回路対策
19889                            6415              .AENDI
19890                            6416     ;;;;2016-10-31  FAR_JSR #_DNM_CYCLE_END,R0      ;
19891                            6417     
19892                            6418     ;       ------------- 2007-12-12 ---------------
19893                            6419             FAR_JSR #_CYCL_DOWN_POS_REF,R0          ;
19894 000039E6 D00A                   M           MOV.L   #_CYCL_DOWN_POS_REF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19895 000039E8 400B                   M           JSR     @R0                     ;
19896 000039EA 0009                   M           NOP                                     ;
19897                            6420     
19898                            6421     
19899                            6422             .AIF    1 EQ    0
19900                            6423             FAR_JSR #_OVERH_CYC_END,R0                      ;2012-09-25
19901                            6424             .AENDI
19902                            6425     
19903                            6426     ;       ----------- 2014-09-20-----------
19904                            6427             FAR_JSR #_MOT_REP_CLR,R0
19905 000039EC D009                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   246
PROGRAM NAME =

19906 000039EE 400B                   M           JSR     @R0                     ;
19907 000039F0 0009                   M           NOP                                     ;
19908                            6428     
19909                            6429             SUB_END
19910                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19911 000039F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19912                            6430             M_RTS
19913 000039F4 000B                   M           RTS                             ;RTSの後ろの
19914 000039F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19915                            6431     
19916                            6432     
19917                            6433     ;       *******************************************
19918                            6434     ;       ***             2007-12-12              ***
19919                            6435     ;       *******************************************
19920                                     ***** BEGIN-POOL *****
19921 000039F8 00000000                   DATA FOR SOURCE-LINE 6388
19922 000039FC 00000000                   DATA FOR SOURCE-LINE 6391
19923 00003A00 00000000                   DATA FOR SOURCE-LINE 6394
19924 00003A04 00000000                   DATA FOR SOURCE-LINE 6400
19925 00003A08 00000000                   DATA FOR SOURCE-LINE 6401
19926 00003A0C 00000000                   DATA FOR SOURCE-LINE 6403
19927 00003A10 00000000                   DATA FOR SOURCE-LINE 6419
19928 00003A14 00000000                   DATA FOR SOURCE-LINE 6427
19929                                     ***** END-POOL *****
19930 00003A18                   6436             .ALIGN  4                               ;
19931 00003A18                   6437     _CYCL_DOWN_POS_REF:
19932                            6438             SUB_START
19933 00003A18 4F22                   M           STS.L   PR,@-R15                ;[必要]
19934                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19935                            6439     ;;      MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19936                            6440     ;;      MOV.L   @R1,R0                          ;
19937 00003A1A D103              6441             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
19938 00003A1C 6012              6442             MOV.L   @R1,R0                          ;
19939 00003A1E D103              6443             MOV.L   #_SHOT_MOST_DOWN_POS,R1
19940 00003A20 2102              6444             MOV.L   R0,@R1                          ;
19941                            6445             SUB_END
19942                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19943 00003A22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19944                            6446             M_RTS
19945 00003A24 000B                   M           RTS                             ;RTSの後ろの
19946 00003A26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19947                            6447     
19948                            6448     ;       *******************************************
19949                            6449     ;       ***     どのﾓｰﾄﾞでも1回しかこない       ***
19950                            6450     ;       *******************************************
19951                            6451     ;       止まるとき（安全一、連続停止時２回通る）
19952                            6452     ;
19953                                     ***** BEGIN-POOL *****
19954 00003A28 00000000                   DATA FOR SOURCE-LINE 6441
19955 00003A2C 00000000                   DATA FOR SOURCE-LINE 6443
19956                                     ***** END-POOL *****
19957 00003A30                   6453             .ALIGN  4                               ;
19958 00003A30                   6454     _MOTION_CYCLE_ED2:
19959                            6455             SUB_START
19960 00003A30 4F22                   M           STS.L   PR,@-R15                ;[必要]
19961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19962                            6456     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   247
PROGRAM NAME =

19963                            6457     ;       ==========================
19964 00003A32 D104              6458             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
19965 00003A34 6011              6459             MOV.W   @R1,R0                  ;
19966 00003A36 2008              6460             TST     R0,R0                   ;
19967                            6461             TST_BIT_OF MOTCYC_ED2_050       ;
19968 00003A38 8901                   M           BT      MOTCYC_ED2_050
19969 00003A3A 70FF              6462             ADD     #-1,R0                  ;
19970 00003A3C 2101              6463             MOV.W   R0,@R1                  ;
19971 00003A3E                   6464     MOTCYC_ED2_050:
19972                            6465     
19973                            6466     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT5,R0
19974                            6467     
19975                            6468             SUB_END
19976                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19977 00003A3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19978                            6469             M_RTS
19979 00003A40 000B                   M           RTS                             ;RTSの後ろの
19980 00003A42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19981                            6470     
19982                                     ***** BEGIN-POOL *****
19983 00003A44 00000000                   DATA FOR SOURCE-LINE 6458
19984                                     ***** END-POOL *****
19985 00003A48                   6471             .ALIGN  4                               ;
19986                            6472     ;;;2016-10-31_DBG_END_CNT1:
19987                            6473     ;;;2016-10-31   SUB_START
19988                            6474     ;;;2016-10-31   .AIF    1 EQ    0
19989                            6475     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT1,R1
19990                            6476     ;;;2016-10-31   .AELSE
19991                            6477     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT1,R1
19992                            6478     ;;;2016-10-31   .AENDI
19993                            6479     ;;;2016-10-31   MOV.W   @R1,R0
19994                            6480     ;;;2016-10-31   ADD     #1,R0
19995                            6481     ;;;2016-10-31   MOV.W   R0,@R1  ;
19996                            6482     ;;;2016-10-31   SUB_END
19997                            6483     ;;;2016-10-31   M_RTS
19998                            6484     ;;;2016-10-31
19999                            6485     ;;;2016-10-31   .ALIGN  4                               ;
20000                            6486     ;;;2016-10-31_DBG_END_CNT2:
20001                            6487     ;;;2016-10-31   SUB_START
20002                            6488     ;;;2016-10-31   .AIF    1 EQ    0
20003                            6489     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT2,R1
20004                            6490     ;;;2016-10-31   .AELSE
20005                            6491     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT2,R1
20006                            6492     ;;;2016-10-31   .AENDI
20007                            6493     ;;;2016-10-31   MOV.W   @R1,R0
20008                            6494     ;;;2016-10-31   ADD     #1,R0
20009                            6495     ;;;2016-10-31   MOV.W   R0,@R1  ;
20010                            6496     ;;;2016-10-31   SUB_END
20011                            6497     ;;;2016-10-31   M_RTS
20012                            6498     ;;;2016-10-31
20013                            6499     ;;;2016-10-31_DBG_END_CNT3:
20014                            6500     ;;;2016-10-31   SUB_START
20015                            6501     ;;;2016-10-31   .AIF    1 EQ    0
20016                            6502     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT3,R1
20017                            6503     ;;;2016-10-31   .AELSE
20018                            6504     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT3,R1
20019                            6505     ;;;2016-10-31   .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   248
PROGRAM NAME =

20020                            6506     ;;;2016-10-31   MOV.W   @R1,R0
20021                            6507     ;;;2016-10-31   ADD     #1,R0
20022                            6508     ;;;2016-10-31   MOV.W   R0,@R1  ;
20023                            6509     ;;;2016-10-31   SUB_END
20024                            6510     ;;;2016-10-31   M_RTS
20025                            6511     ;;;2016-10-31
20026                            6512     ;;;2016-10-31_DBG_END_CNT4:
20027                            6513     ;;;2016-10-31   SUB_START
20028                            6514     ;;;2016-10-31   .AIF    1 EQ    0
20029                            6515     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT4,R1
20030                            6516     ;;;2016-10-31   .AELSE
20031                            6517     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT4,R1
20032                            6518     ;;;2016-10-31   .AENDI
20033                            6519     ;;;2016-10-31   MOV.W   @R1,R0
20034                            6520     ;;;2016-10-31   ADD     #1,R0
20035                            6521     ;;;2016-10-31   MOV.W   R0,@R1  ;
20036                            6522     ;;;2016-10-31   SUB_END
20037                            6523     ;;;2016-10-31   M_RTS
20038                            6524     ;;;2016-10-31
20039                            6525     ;;;2016-10-31_DBG_END_CNT5:
20040                            6526     ;;;2016-10-31   SUB_START
20041                            6527     ;;;2016-10-31   .AIF    1 EQ    0
20042                            6528     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT5,R1
20043                            6529     ;;;2016-10-31   .AELSE
20044                            6530     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT5,R1
20045                            6531     ;;;2016-10-31   MOV.W   @R1,R0
20046                            6532     ;;;2016-10-31   ADD     #1,R0
20047                            6533     ;;;2016-10-31   MOV.W   R0,@R1  ;
20048                            6534     ;;;2016-10-31   .AENDI
20049                            6535     ;;;2016-10-31   SUB_END
20050                            6536     ;;;2016-10-31   M_RTS
20051                            6537     
20052                            6538     
20053                            6539     
20054                            6540     
20055                            6541     
20056                            6542     ;       ***********************************
20057                            6543     ;       ***     200usec --> 2msec       ***
20058                            6544     ;       ***********************************
20059                            6545     
20060                            6546     ;       ***********************************
20061                            6547     ;       ***     200usec --> 2msec       ***
20062                            6548     ;       ***********************************
20063 00003A48                   6549             .ALIGN  4                               ;
20064 00003A48                   6550     _INT_POS_DATA_REF:
20065                            6551             SUB_START
20066 00003A48 4F22                   M           STS.L   PR,@-R15                ;[必要]
20067                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20068                            6552             SUB_END
20069                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20070 00003A4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20071                            6553             M_RTS
20072 00003A4C 000B                   M           RTS                             ;RTSの後ろの
20073 00003A4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20074                            6554     
20075                            6555     
20076                            6556     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   249
PROGRAM NAME =

20077                            6557     ;       ***     払い出しカウント        ***
20078                            6558     ;       ***********************************
20079                            6559             .EXPORT _OUT_UP_DN_TOTAL_CNT
20080 00003A50                   6560             .ALIGN  4                               ;
20081 00003A50                   6561     _OUT_UP_DN_TOTAL_CNT:
20082                            6562             SUB_START
20083 00003A50 4F22                   M           STS.L   PR,@-R15                ;[必要]
20084                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20085                            6563     
20086                            6564     ;;;;;   いらない
20087                            6565     ;;;;;   -2013-04-14 [１段目停止位置＝２段目停止位置などでﾘｱﾙと払出完了のﾀｲﾐﾝｸﾞ用]---------
20088                            6566     ;;;;;   FAR_JSR #_LOD_POS_STS_REG_POR,R0        ;
20089                            6567     ;;;;;   MOV.L   #_PLS_OUT_END_STS,R1            ;
20090                            6568     ;;;;;;  MOV.W   R0,@R1                          ;BIT2=1 ﾊﾟﾙｽ出力完了
20091                            6569     ;       ----------------------------------------------------
20092                            6570     
20093                            6571     
20094                            6572     
20095                            6573     
20096                            6574     
20097                            6575     
20098                            6576     
20099                            6577     
20100                            6578     
20101 00003A52 D621              6579             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(
                                          残ﾊﾟﾙｽではない)
20102 00003A54 6061              6580             MOV.W   @R6,R0                                                  ;+/-に関わらず+す
                                          るｶｳﾝﾀ
20103                            6581     
20104                            6582     ;       -----------------2007-11-26 前回と同じならもう一度読み込みを行う----------------
20105 00003A56 D421              6583             MOV.L   #_CHK_LSI_LOAD_OUT_CNT,R4                               ;
20106 00003A58 6141              6584             MOV.W   @R4,R1
20107 00003A5A 2401              6585             MOV.W   R0,@R4
20108 00003A5C 3100              6586             CMP/EQ  R0,R1
20109 00003A5E 8B01              6587             BF      OUTPLS_CNT_CHK010                                       ;
20110 00003A60 D61D              6588             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;
20111 00003A62 6061              6589             MOV.W   @R6,R0                                                  ;
20112 00003A64                   6590     OUTPLS_CNT_CHK010:                                                      ;
20113                            6591     
20114                            6592     
20115                            6593     
20116 00003A64 9436              6594             MOV.W   #H'FF00,R4
20117 00003A66 6203              6595             MOV     R0,R2
20118 00003A68 2249              6596             AND     R4,R2
20119                            6597     
20120 00003A6A 6161              6598             MOV.W   @R6,R1                                                  ;
20121 00003A6C 2149              6599             AND     R4,R1
20122 00003A6E 3210              6600             CMP/EQ  R1,R2                                                   ;桁　FFFF=>0　上位
                                          8BITが一致している
20123 00003A70 8900              6601             BT      OUTPLS_CNT_CHK020                                       ;
20124 00003A72 6061              6602             MOV.W   @R6,R0                                                  ;
20125 00003A74                   6603     OUTPLS_CNT_CHK020:                                                      ;
20126                            6604     
20127                            6605     
20128 00003A74 D11A              6606             MOV.L   #_POSLSI_CHK_CNT,R1                                     ;
20129 00003A76 6211              6607             MOV.W   @R1,R2                                                  ;
20130 00003A78 2101              6608             MOV.W   R0,@R1                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   250
PROGRAM NAME =

20131 00003A7A 622D              6609             EXTU.W  R2,R2                                                   ;
20132 00003A7C 600D              6610             EXTU.W  R0,R0                                                   ;
20133 00003A7E 3028              6611             SUB     R2,R0                                                   ;
20134 00003A80 600F              6612             EXTS.W  R0,R0                                                   ;
20135 00003A82 4011              6613             CMP/PZ  R0                                                      ;
20136 00003A84 8900              6614             BT      OUTPLS_CNT_CHK050                                       ;
20137 00003A86 600B              6615             NEG     R0,R0                                                   ;
20138 00003A88                   6616     OUTPLS_CNT_CHK050:                                                      ;
20139 00003A88 D116              6617             MOV.L   #_POSLSI_CHK_DLT,R1                                     ;変化量 +のみ
20140 00003A8A 2101              6618             MOV.W   R0,@R1                                                  ;
20141 00003A8C D416              6619             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
20142 00003A8E 6141              6620             MOV.W   @R4,R1
20143 00003A90 9321              6621             MOV.W   #BIT0,R3                                                ;
20144                            6622     
20145                            6623     
20146 00003A92 255A              6624             XOR     R5,R5                                                   ;
20147 00003A94 6603              6625             MOV     R0,R6                                                   ;
20148                            6626     
20149 00003A96 2138              6627             TST     R3,R1                                                   ;
20150                            6628             TST_BIT_OF OUTPLS_CNT_CHK100                                    ;BIT3=0 "+"
20151 00003A98 8903                   M           BT      OUTPLS_CNT_CHK100
20152 00003A9A 666B              6629             NEG     R6,R6                                                   ;
20153 00003A9C 4611              6630             CMP/PZ  R6
20154 00003A9E 8900              6631             BT      OUTPLS_CNT_CHK100                                       ;
20155 00003AA0 75FF              6632             ADD     #-1,R5                                                  ;
20156 00003AA2                   6633     OUTPLS_CNT_CHK100:                                                      ;
20157                            6634     
20158                            6635     ;       === 2003-07-01 1msec差分速度算出用 ==
20159 00003AA2 D312              6636             MOV.L   #_OUTPLS_DELT,R3                        ;符号付
20160 00003AA4 2361              6637             MOV.W   R6,@R3                                  ;
20161                            6638     
20162                            6639     ;       =====================================
20163                            6640             PUSH_REG1 R5                                                    ;異常測定用
20164 00003AA6 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20165                                 M                                           ;REG=>[SP]
20166                                 M                                           ;"-4" FF,FF,FF,FC
20167                            6641             PUSH_REG1 R6                                                    ;
20168 00003AA8 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
20169                                 M                                           ;REG=>[SP]
20170                                 M                                           ;"-4" FF,FF,FF,FC
20171 00003AAA D311              6642             MOV.L   #_POSLSI_OUTPUT_TOTAL_PLS,R3                            ;
20172 00003AAC 6132              6643             MOV.L   @R3,R1                                                  ;
20173 00003AAE 5231              6644             MOV.L   @(4,R3),R2                                              ;
20174                            6645             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20175 00003AB0 0008                   M           CLRT
20176 00003AB2 326E                   M           ADDC    R6,R2
20177 00003AB4 315E                   M           ADDC    R5,R1
20178 00003AB6 2312              6646             MOV.L   R1,@R3                                                  ;
20179 00003AB8 1321              6647             MOV.L   R2,@(4,R3)                                              ;
20180                            6648             POP_REG1 R6                                                     ;
20181                                 M                                   ; RE"+4" 00,00,00,04
20182 00003ABA 66F6                   M           MOV.L   @R15+,R6        ;
20183                            6649             POP_REG1 R5                                                     ;
20184                                 M                                   ; RE"+4" 00,00,00,04
20185 00003ABC 65F6                   M           MOV.L   @R15+,R5        ;
20186                            6650     
20187                            6651     ;       =========       20060919 現在位置管理用 =============
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   251
PROGRAM NAME =

20188 00003ABE D30D              6652             MOV.L   #_LINK_RL_OBJ_ABSPLS,R3                         ;
20189 00003AC0 6132              6653             MOV.L   @R3,R1                                                  ;
20190 00003AC2 5231              6654             MOV.L   @(4,R3),R2                                              ;
20191                            6655             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20192 00003AC4 0008                   M           CLRT
20193 00003AC6 326E                   M           ADDC    R6,R2
20194 00003AC8 315E                   M           ADDC    R5,R1
20195 00003ACA 2312              6656             MOV.L   R1,@R3                                                  ;
20196 00003ACC 1321              6657             MOV.L   R2,@(4,R3)                                              ;
20197                            6658     
20198                            6659     
20199                            6660     
20200                            6661             SUB_END
20201                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20202 00003ACE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20203                            6662             M_RTS
20204 00003AD0 000B                   M           RTS                             ;RTSの後ろの
20205 00003AD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20206                            6663     
20207                            6664     ;       *******************************************
20208                            6665     ;       ***                                     ***
20209                            6666     ;       ***                                     ***
20210                            6667     ;       ***             ニアゼロチェック        ***
20211                            6668     ;       ***                                     ***
20212                            6669     ;       *******************************************
20213                            6670     ;       R0= -1:完了
20214                            6671     ;
20215                                     ***** BEGIN-POOL *****
20216 00003AD4 FF00                       DATA FOR SOURCE-LINE 6594
20217 00003AD6 0001                       DATA FOR SOURCE-LINE 6621
20218 00003AD8 00000000                   DATA FOR SOURCE-LINE 6579,6588
20219 00003ADC 00000000                   DATA FOR SOURCE-LINE 6583
20220 00003AE0 00000000                   DATA FOR SOURCE-LINE 6606
20221 00003AE4 00000000                   DATA FOR SOURCE-LINE 6617
20222 00003AE8 00000000                   DATA FOR SOURCE-LINE 6619
20223 00003AEC 00000000                   DATA FOR SOURCE-LINE 6636
20224 00003AF0 00000000                   DATA FOR SOURCE-LINE 6642
20225 00003AF4 00000000                   DATA FOR SOURCE-LINE 6652
20226                                     ***** END-POOL *****
20227 00003AF8                   6672             .ALIGN  4                               ;
20228 00003AF8                   6673     _OPEN_ROT_NEAR1_ZERO_CHK:
20229                            6674             SUB_START
20230 00003AF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20231                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20232                            6675             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20233 00003AFA D008                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20234 00003AFC 400B                   M           JSR     @R0                     ;
20235 00003AFE 0009                   M           NOP                                     ;
20236                            6676     
20237                            6677     ;       =====2009-10-07　連続のふりこ専用ｲﾝﾎﾟｼﾞｼｮﾝ(h2wはふりこ＋反転)
20238 00003B00 D107              6678             MOV.L   #_MODE_SEL,R1                   ;
20239 00003B02 6011              6679             MOV.W   @R1,R0                          ;
20240 00003B04 C808              6680             TST     #_W1CNT,R0                      ;
20241                            6681             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20       ;
20242 00003B06 8911                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20243                            6682     
20244                            6683     ;       -----2009-10-07 ADD(ふりこの場合の連続ﾓｰﾄﾞのみニアゼロ幅を変える) h2wは反転も-----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   252
PROGRAM NAME =

                                          -
20245 00003B08 D306              6684             MOV.L   #_SET1_OBJARA_INPXPSX,R3                ;ふりこ用2007-11-13
20246 00003B0A 6431              6685             MOV.W   @R3,R4                                  ;
20247 00003B0C 2448              6686             TST     R4,R4                                   ;
20248                            6687             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;"0以外"
20249 00003B0E 890D                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20250                            6688     
20251 00003B10 D105              6689             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20252 00003B12 6011              6690             MOV.W   @R1,R0                                  ;
20253                            6691     ;;;h2w  TST     #(_DMATH_REVRSE+_DMATH_DNDRIV),R0       ;DRIVE MATH 反転,ふりこ
20254 00003B14 C804              6692             TST     #(_DMATH_DNDRIV),R0                     ;DRIVE MATH ふりこ
20255                            6693             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;
20256 00003B16 8909                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20257                            6694             M_BRA   OPEN_ROT_NEAR1_ZR_CK40
20258 00003B18 A00A                   M           BRA     OPEN_ROT_NEAR1_ZR_CK40
20259 00003B1A 0009                   M           NOP
20260                            6695     
20261                            6696     
20262                                     ***** BEGIN-POOL *****
20263 00003B1C 00000000                   DATA FOR SOURCE-LINE 6675
20264 00003B20 00000000                   DATA FOR SOURCE-LINE 6678
20265 00003B24 00000000                   DATA FOR SOURCE-LINE 6684
20266 00003B28 00000000                   DATA FOR SOURCE-LINE 6689
20267                                     ***** END-POOL *****
20268 00003B2C                   6697     OPEN_ROT_NEAR1_ZR_CK20:
20269 00003B2C D307              6698             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20270 00003B2E 6431              6699             MOV.W   @R3,R4                          ;
20271 00003B30                   6700     OPEN_ROT_NEAR1_ZR_CK40:                         ;
20272 00003B30 3423              6701             CMP/GE  R2,R4                           ;R2 =< MAX
20273 00003B32 890F              6702             BT      OPEN_ROT_NEAR1_ZR_CK50          ;
20274                            6703     ;       ==== ﾆｱｾﾞﾛ待ち======
20275                            6704             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20276 00003B34 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20277 00003B36 6011                   M           MOV.W   @R1,R0          ;
20278 00003B38 CB01                   M           OR      #BIT0,R0                ;
20279 00003B3A 2101                   M           MOV.W   R0,@R1          ;
20280                            6705             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20281 00003B3C D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20282 00003B3E 6011                   M           MOV.W   @R1,R0          ;
20283 00003B40 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20284 00003B42 2101                   M           MOV.W   R0,@R1          ;
20285                            6706     ;       ===============================================
20286 00003B44 200A              6707             XOR     R0,R0                           ;
20287                            6708             M_BRA   OPEN_ROT_NEAR1_ZR_CK100
20288 00003B46 A016                   M           BRA     OPEN_ROT_NEAR1_ZR_CK100
20289 00003B48 0009                   M           NOP
20290                            6709     
20291                                     ***** BEGIN-POOL *****
20292 00003B4A 0000                       ALIGNMENT CODE
20293 00003B4C 00000000                   DATA FOR SOURCE-LINE 6698
20294 00003B50 00000000                   DATA FOR SOURCE-LINE 6704,6705
20295                                     ***** END-POOL *****
20296 00003B54                   6710     OPEN_ROT_NEAR1_ZR_CK50:
20297                            6711     ;       =========[ﾆｱｾﾞﾛ]======================================
20298                            6712             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   253
PROGRAM NAME =

20299 00003B54 D109                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20300 00003B56 6011                   M           MOV.W   @R1,R0          ;
20301 00003B58 CB01                   M           OR      #BIT0,R0                ;
20302 00003B5A 2101                   M           MOV.W   R0,@R1          ;
20303                            6713             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT0,WKREG=R1 ;2012-12-10 DEB
                                          UG
20304 00003B5C D108                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
20305 00003B5E 6011                   M           MOV.W   @R1,R0          ;
20306 00003B60 CB01                   M           OR      #BIT0,R0                ;
20307 00003B62 2101                   M           MOV.W   R0,@R1          ;
20308                            6714     
20309                            6715     
20310                            6716     
20311                            6717             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20312 00003B64 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20313 00003B66 6011                   M           MOV.W   @R1,R0          ;
20314 00003B68 C9FE                   M           AND     #LOW ~BIT0,R0           ;
20315 00003B6A 2101                   M           MOV.W   R0,@R1          ;
20316                            6718             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20317 00003B6C D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20318 00003B6E 6011                   M           MOV.W   @R1,R0          ;
20319 00003B70 CB02                   M           OR      #BIT1,R0                ;
20320 00003B72 2101                   M           MOV.W   R0,@R1          ;
20321                            6719     
20322                            6720     ;       ===============================================
20323 00003B74 E0FF              6721             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20324 00003B76                   6722     OPEN_ROT_NEAR1_ZR_CK100:                                ;
20325                            6723             SUB_END
20326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20327 00003B76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20328                            6724             M_RTS
20329 00003B78 000B                   M           RTS                             ;RTSの後ろの
20330 00003B7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20331                            6725     
20332                            6726     ;       *******************************************
20333                            6727     ;       ***                                     ***
20334                            6728     ;       ***     反転の戻り工程だけの            ***
20335                            6729     ;       ***             ニアゼロチェック        ***
20336                            6730     ;       ***                                     ***
20337                            6731     ;       *******************************************
20338                            6732     ;       R0= -1:完了
20339                            6733     ;
20340                                     ***** BEGIN-POOL *****
20341 00003B7C 00000000                   DATA FOR SOURCE-LINE 6712
20342 00003B80 00000000                   DATA FOR SOURCE-LINE 6713
20343 00003B84 00000000                   DATA FOR SOURCE-LINE 6717,6718
20344                                     ***** END-POOL *****
20345 00003B88                   6734             .ALIGN  4                               ;
20346 00003B88                   6735     _OPEN_ROT_NEAR2_ZERO_CHK:
20347                            6736             SUB_START
20348 00003B88 4F22                   M           STS.L   PR,@-R15                ;[必要]
20349                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20350                            6737             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20351 00003B8A D00A                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20352 00003B8C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   254
PROGRAM NAME =

20353 00003B8E 0009                   M           NOP                                     ;
20354 00003B90 D309              6738             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20355 00003B92 6431              6739             MOV.W   @R3,R4                          ;
20356 00003B94 900D              6740             MOV.W   #D'1000,R0                      ;
20357 00003B96 340C              6741             ADD     R0,R4                           ;目標位置+ｲﾝﾎﾟｼﾞｼｮﾝ+1000~-ｲﾝﾎﾟｼﾞｼｮﾝ-1000
20358                            6742     
20359 00003B98 3423              6743             CMP/GE  R2,R4                           ;R2 =< MAX
20360 00003B9A 8911              6744             BT      OPEN_ROT_NEAR2_ZR_CK50          ;
20361                            6745     ;       ==== ﾆｱｾﾞﾛ待ち======
20362                            6746             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20363 00003B9C D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20364 00003B9E 6011                   M           MOV.W   @R1,R0          ;
20365 00003BA0 CB01                   M           OR      #BIT0,R0                ;
20366 00003BA2 2101                   M           MOV.W   R0,@R1          ;
20367                            6747             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20368 00003BA4 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20369 00003BA6 6011                   M           MOV.W   @R1,R0          ;
20370 00003BA8 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20371 00003BAA 2101                   M           MOV.W   R0,@R1          ;
20372                            6748     ;       ===============================================
20373 00003BAC 200A              6749             XOR     R0,R0                           ;
20374                            6750             M_BRA   OPEN_ROT_NEAR2_ZR_CK100
20375 00003BAE A014                   M           BRA     OPEN_ROT_NEAR2_ZR_CK100
20376 00003BB0 0009                   M           NOP
20377                            6751     
20378                                     ***** BEGIN-POOL *****
20379 00003BB2 03E8                       DATA FOR SOURCE-LINE 6740
20380 00003BB4 00000000                   DATA FOR SOURCE-LINE 6737
20381 00003BB8 00000000                   DATA FOR SOURCE-LINE 6738
20382 00003BBC 00000000                   DATA FOR SOURCE-LINE 6746,6747
20383                                     ***** END-POOL *****
20384 00003BC0                   6752     OPEN_ROT_NEAR2_ZR_CK50:
20385                            6753     ;       =========[ﾆｱｾﾞﾛ]======================================
20386                            6754             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20387 00003BC0 D107                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20388 00003BC2 6011                   M           MOV.W   @R1,R0          ;
20389 00003BC4 CB01                   M           OR      #BIT0,R0                ;
20390 00003BC6 2101                   M           MOV.W   R0,@R1          ;
20391                            6755     
20392                            6756             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20393 00003BC8 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20394 00003BCA 6011                   M           MOV.W   @R1,R0          ;
20395 00003BCC C9FE                   M           AND     #LOW ~BIT0,R0           ;
20396 00003BCE 2101                   M           MOV.W   R0,@R1          ;
20397                            6757             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20398 00003BD0 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20399 00003BD2 6011                   M           MOV.W   @R1,R0          ;
20400 00003BD4 CB02                   M           OR      #BIT1,R0                ;
20401 00003BD6 2101                   M           MOV.W   R0,@R1          ;
20402                            6758     
20403                            6759     ;       ===============================================
20404 00003BD8 E0FF              6760             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20405 00003BDA                   6761     OPEN_ROT_NEAR2_ZR_CK100:                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   255
PROGRAM NAME =

20406                            6762             SUB_END
20407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20408 00003BDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20409                            6763             M_RTS
20410 00003BDC 000B                   M           RTS                             ;RTSの後ろの
20411 00003BDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20412                            6764     
20413                            6765     
20414                            6766     ;       *******************************************
20415                            6767     ;       ***                                     ***
20416                            6768     ;       ***     カムへステップ完了を教える      ***
20417                            6769     ;       ***                                     ***
20418                            6770     ;       *******************************************
20419                            6771     ;       ﾀｲﾏ前
20420                                     ***** BEGIN-POOL *****
20421 00003BE0 00000000                   DATA FOR SOURCE-LINE 6754
20422 00003BE4 00000000                   DATA FOR SOURCE-LINE 6756,6757
20423                                     ***** END-POOL *****
20424 00003BE8                   6772             .ALIGN  4                               ;
20425 00003BE8                   6773     _CAM_1STEP_END_SIG1:
20426                            6774             SUB_START
20427 00003BE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20428                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20429 00003BEA D105              6775             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20430 00003BEC 6011              6776             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20431 00003BEE 4008              6777             SHLL2   R0                              ;
20432 00003BF0 D204              6778             MOV.L   #_LONG_BIT_TBL0,R2              ;
20433 00003BF2 320C              6779             ADD     R0,R2                           ;
20434 00003BF4 6022              6780             MOV.L   @R2,R0                          ;
20435 00003BF6 D104              6781             MOV.L   #_CAM_POS_STEP_END_FLG1,R1      ;//各工程の位置決め完了
20436 00003BF8 2101              6782             MOV.W   R0,@R1                          ;
20437                            6783             SUB_END
20438                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20439 00003BFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20440                            6784             M_RTS
20441 00003BFC 000B                   M           RTS                             ;RTSの後ろの
20442 00003BFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20443                            6785     
20444                            6786     ;       ﾀｲﾏ後
20445                                     ***** BEGIN-POOL *****
20446 00003C00 00000000                   DATA FOR SOURCE-LINE 6775
20447 00003C04 00000000                   DATA FOR SOURCE-LINE 6778
20448 00003C08 00000000                   DATA FOR SOURCE-LINE 6781
20449                                     ***** END-POOL *****
20450 00003C0C                   6787             .ALIGN  4                               ;
20451 00003C0C                   6788     _CAM_1STEP_END_SIG2:
20452                            6789             SUB_START
20453 00003C0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20454                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20455 00003C0E D105              6790             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20456 00003C10 6011              6791             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20457 00003C12 4008              6792             SHLL2   R0                              ;
20458 00003C14 D204              6793             MOV.L   #_LONG_BIT_TBL0,R2              ;
20459 00003C16 320C              6794             ADD     R0,R2                           ;
20460 00003C18 6022              6795             MOV.L   @R2,R0                          ;
20461 00003C1A D104              6796             MOV.L   #_CAM_POS_STEP_END_FLG2,R1      ;//各工程の位置決め完了
20462 00003C1C 2101              6797             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   256
PROGRAM NAME =

20463                            6798             SUB_END
20464                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20465 00003C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20466                            6799             M_RTS
20467 00003C20 000B                   M           RTS                             ;RTSの後ろの
20468 00003C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20469                            6800     
20470                            6801     ;       *******************************************
20471                            6802     ;       ***     ANS R1,R2 |目標-現在|=R2        ***
20472                            6803     ;       ***     ANS R0=0 目標>=現在             ***
20473                            6804     ;       *******************************************
20474                            6805     ;       4BYTE MAX +/ 7FFF,FFFF
20475                            6806             .EXPORT _INCENC_SV_HENSA_MAKE
20476                                     ***** BEGIN-POOL *****
20477 00003C24 00000000                   DATA FOR SOURCE-LINE 6790
20478 00003C28 00000000                   DATA FOR SOURCE-LINE 6793
20479 00003C2C 00000000                   DATA FOR SOURCE-LINE 6796
20480                                     ***** END-POOL *****
20481 00003C30                   6807             .ALIGN  4                               ;
20482 00003C30                   6808     _INCENC_SV_HENSA_MAKE:
20483                            6809             SUB_START
20484 00003C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
20485                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20486 00003C32 D40C              6810             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;//abs停止目標位置
                                          (設定ﾊﾞｯｸﾗｯｼなし)
20487 00003C34 6142              6811             MOV.L   @R4,R1                                                  ;
20488 00003C36 5241              6812             MOV.L   @(1*4,R4),R2                                            ;目標位置
20489 00003C38 D40B              6813             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;20060919
20490 00003C3A 6542              6814             MOV.L   @R4,R5                                                  ;
20491 00003C3C 5641              6815             MOV.L   @(1*4,R4),R6                                            ;現在位置
20492                            6816             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20493 00003C3E 0008                   M           CLRT
20494 00003C40 326A                   M           SUBC    R6,R2
20495 00003C42 315A                   M           SUBC    R5,R1
20496 00003C44 6013              6817             MOV     R1,R0                           ;
20497 00003C46 4111              6818             CMP/PZ  R1                              ;
20498 00003C48 8905              6819             BT      INCENC_SV_HENSA_MK050           ;
20499                            6820             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3      ;
20500 00003C4A 6227                   M           NOT     R2,R2                           ;
20501 00003C4C 6117                   M           NOT     R1,R1                           ;
20502 00003C4E 233A                   M           XOR     R3,R3                           ;
20503 00003C50 0018                   M           SETT
20504 00003C52 323E                   M           ADDC    R3,R2                           ;0+1+R2
20505 00003C54 313E                   M           ADDC    R3,R1                           ;
20506 00003C56                   6821     INCENC_SV_HENSA_MK050:                          ;
20507 00003C56 2118              6822             TST     R1,R1                           ;
20508                            6823             TST_BIT_OF INCENC_SV_HENSA_MK100        ;8byte
20509 00003C58 8900                   M           BT      INCENC_SV_HENSA_MK100
20510 00003C5A D204              6824             MOV.L   #H'7FFFFFFF,R2                  ;
20511 00003C5C                   6825     INCENC_SV_HENSA_MK100:                          ;
20512                            6826     
20513                            6827             SUB_END
20514                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20515 00003C5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20516                            6828             M_RTS
20517 00003C5E 000B                   M           RTS                             ;RTSの後ろの
20518 00003C60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   257
PROGRAM NAME =

20519                            6829     
20520                            6830     ;       ***********************************
20521                            6831     ;       ***     最下死点INITAL          ***
20522                            6832     ;       ***********************************
20523                                     ***** BEGIN-POOL *****
20524 00003C62 0000                       ALIGNMENT CODE
20525 00003C64 00000000                   DATA FOR SOURCE-LINE 6810
20526 00003C68 00000000                   DATA FOR SOURCE-LINE 6813
20527 00003C6C 7FFFFFFF                   DATA FOR SOURCE-LINE 6824
20528                                     ***** END-POOL *****
20529 00003C70                   6833             .ALIGN  4                               ;
20530 00003C70                   6834     _MOST_DISP_DAT_INI:
20531                            6835             SUB_START
20532 00003C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
20533                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20534 00003C72 D109              6836             MOV.L   #_CYCL_START_CNT,R1             ;
20535 00003C74 6011              6837             MOV.W   @R1,R0                          ;
20536 00003C76 7001              6838             ADD     #1,R0                           ;
20537 00003C78 2101              6839             MOV.W   R0,@R1                          ;起動回数
20538                            6840     
20539                            6841     ;       ======== 2007-12-12 ====================
20540 00003C7A D108              6842             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20541 00003C7C 6212              6843             MOV.L   @R1,R2                          ;
20542 00003C7E D108              6844             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
20543 00003C80 2122              6845             MOV.L   R2,@R1                          ;
20544                            6846     ;       =========================================
20545                            6847     
20546                            6848     ;       ====== 最下死点処理======
20547 00003C82 D108              6849             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20548 00003C84 6012              6850             MOV.L   @R1,R0                          ;
20549 00003C86 D108              6851             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20550 00003C88 2102              6852             MOV.L   R0,@R1                          ;
20551                            6853     
20552 00003C8A D108              6854             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20553 00003C8C 6012              6855             MOV.L   @R1,R0                          ;
20554 00003C8E D108              6856             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20555 00003C90 2102              6857             MOV.L   R0,@R1                          ;
20556                            6858     ;       =========================
20557                            6859             SUB_END
20558                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20559 00003C92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20560                            6860             M_RTS
20561 00003C94 000B                   M           RTS                             ;RTSの後ろの
20562 00003C96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20563                            6861     
20564                            6862     ;       ***********************************
20565                            6863     ;       ***     最下死点ｻﾝﾌﾟﾘﾝｸﾞ        ***
20566                            6864     ;       ***********************************
20567                                     ***** BEGIN-POOL *****
20568 00003C98 00000000                   DATA FOR SOURCE-LINE 6836
20569 00003C9C 00000000                   DATA FOR SOURCE-LINE 6842
20570 00003CA0 00000000                   DATA FOR SOURCE-LINE 6844
20571 00003CA4 00000000                   DATA FOR SOURCE-LINE 6849
20572 00003CA8 00000000                   DATA FOR SOURCE-LINE 6851
20573 00003CAC 00000000                   DATA FOR SOURCE-LINE 6854
20574 00003CB0 00000000                   DATA FOR SOURCE-LINE 6856
20575                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   258
PROGRAM NAME =

20576 00003CB4                   6865             .ALIGN  4                               ;
20577 00003CB4                   6866     _MOST_DISP_DAT_SMP:
20578                            6867             SUB_START
20579 00003CB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20580                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20581                            6868     ;       ====== 最下死点処理======
20582 00003CB6 D10D              6869             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20583 00003CB8 6012              6870             MOV.L   @R1,R0                          ;
20584 00003CBA D10D              6871             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20585 00003CBC 6212              6872             MOV.L   @R1,R2                          ;
20586 00003CBE 3023              6873             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20587 00003CC0 8900              6874             BT      MOST_DISP_DATSMP_050            ;
20588 00003CC2 6203              6875             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20589 00003CC4                   6876     MOST_DISP_DATSMP_050:                           ;
20590 00003CC4 2122              6877             MOV.L   R2,@R1                          ;
20591                            6878     
20592 00003CC6 D10B              6879             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20593 00003CC8 6012              6880             MOV.L   @R1,R0                          ;
20594 00003CCA D10B              6881             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20595 00003CCC 6212              6882             MOV.L   @R1,R2                          ;
20596 00003CCE 3203              6883             CMP/GE  R0,R2                           ;NEW(R0) < OLD
20597 00003CD0 8900              6884             BT      MOST_DISP_DATSMP_100            ;
20598 00003CD2 6203              6885             MOV     R0,R2                           ;最大値ｻﾝﾌﾟﾘﾝｸﾞ
20599 00003CD4                   6886     MOST_DISP_DATSMP_100:                           ;
20600 00003CD4 2122              6887             MOV.L   R2,@R1                          ;
20601                            6888     ;       =========================
20602                            6889     
20603                            6890     ;       ======== 2007-12-12(RNA_ABS_POSの最小値) ======
20604                            6891     ;       ====== 最下死点処理======
20605 00003CD6 D109              6892             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20606 00003CD8 6012              6893             MOV.L   @R1,R0                          ;
20607 00003CDA D109              6894             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;//
20608 00003CDC 6212              6895             MOV.L   @R1,R2                          ;
20609 00003CDE 3023              6896             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20610 00003CE0 8900              6897             BT      MOST_DISP_DATSMP_150            ;
20611 00003CE2 6203              6898             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20612 00003CE4                   6899     MOST_DISP_DATSMP_150:                           ;
20613 00003CE4 2122              6900             MOV.L   R2,@R1                          ;
20614                            6901     ;       =========================================
20615                            6902     
20616                            6903             SUB_END
20617                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20618 00003CE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20619                            6904             M_RTS
20620 00003CE8 000B                   M           RTS                             ;RTSの後ろの
20621 00003CEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20622                            6905     
20623                            6906     ;       ***********************************
20624                            6907     ;       ***                             ***
20625                            6908     ;       ***                             ***
20626                            6909     ;       ***                             ***
20627                            6910     ;       ***********************************
20628                                     ***** BEGIN-POOL *****
20629 00003CEC 00000000                   DATA FOR SOURCE-LINE 6869
20630 00003CF0 00000000                   DATA FOR SOURCE-LINE 6871
20631 00003CF4 00000000                   DATA FOR SOURCE-LINE 6879
20632 00003CF8 00000000                   DATA FOR SOURCE-LINE 6881
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   259
PROGRAM NAME =

20633 00003CFC 00000000                   DATA FOR SOURCE-LINE 6892
20634 00003D00 00000000                   DATA FOR SOURCE-LINE 6894
20635                                     ***** END-POOL *****
20636 00003D04                   6911             .ALIGN  4                               ;
20637 00003D04                   6912     _CMP_ERR_STS_REF:
20638                            6913             SUB_START
20639 00003D04 4F22                   M           STS.L   PR,@-R15                ;[必要]
20640                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20641                            6914             SUB_END
20642                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20643 00003D06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20644                            6915             M_RTS
20645 00003D08 000B                   M           RTS                             ;RTSの後ろの
20646 00003D0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20647                            6916     
20648                            6917     
20649                            6918     ;       ***********************************
20650                            6919     ;       ***     R0=0:停止 ELSE 動作     ***
20651                            6920     ;       ***********************************
20652                            6921     ;       == R0=0 停止 R0=FF 動作
20653                            6922     ;       USED R4,R1,R0
20654                            6923             .IMPORT _CPUA_PLS_OUTF  ;
20655                            6924             .IMPORT _CPUB_PLS_OUTF  ;
20656                            6925     
20657 00003D0C                   6926             .ALIGN  4                               ;
20658 00003D0C                   6927     _ERR_STOP_MOV_CHK:
20659                            6928             SUB_START
20660 00003D0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20661                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20662                            6929             FAR_JSR #_LOD_POS_STS_REG,R0            ;停止の判断をこれにする
20663 00003D0E D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20664 00003D10 400B                   M           JSR     @R0                     ;
20665 00003D12 0009                   M           NOP                                     ;
20666 00003D14 211A              6930             XOR     R1,R1                           ;
20667 00003D16 C804              6931             TST     #BIT2,R0                        ;
20668                            6932             TST_BIT_ON ERR_STOP_MOVCK050            ;
20669 00003D18 8B00                   M           BF      ERR_STOP_MOVCK050
20670 00003D1A 71FF              6933             ADD     #-1,R1
20671 00003D1C                   6934     ERR_STOP_MOVCK050:
20672 00003D1C 6013              6935             MOV     R1,R0                           ;
20673 00003D1E D104              6936             MOV.L   #_PLS_OUTPUT_FLG,R1             ;//0払い出し停止 1払出中
20674 00003D20 2101              6937             MOV.W   R0,@R1                          ;
20675                            6938     
20676                            6939     ;       ----- 2015-07-14--------
20677                            6940      .AIF   1 EQ    0       ;
20678                            6941             MOV.L   #_CPUA_PLS_OUTF,R1      ;
20679                            6942      .AELSE
20680 00003D22 D104              6943 C           MOV.L   #_CPUB_PLS_OUTF,R1      ;
20681                            6944      .AENDI
20682 00003D24 2101              6945             MOV.W   R0,@R1                          ;
20683                            6946             SUB_END
20684                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20685 00003D26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20686                            6947             M_RTS
20687 00003D28 000B                   M           RTS                             ;RTSの後ろの
20688 00003D2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20689                            6948     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   260
PROGRAM NAME =

20690                            6949     ;       ***************************************************
20691                            6950     ;       ***                                             ***
20692                            6951     ;       ***                                             ***
20693                            6952     ;       ***                                             ***
20694                            6953     ;       ***                                             ***
20695                            6954     ;       ***             位置決めLSIｱｸｾｽｿﾌﾄ              ***
20696                            6955     ;       ***                                             ***
20697                            6956     ;       ***                                             ***
20698                            6957     ;       ***                                             ***
20699                            6958     ;       ***************************************************
20700                            6959     
20701                            6960     ;       === (2003-07-01 履歴用ﾃﾞｰﾀ作成) ======
20702                            6961             .EXPORT _LOAD_REST_PLS          ;残りﾊﾟﾙｽ
20703                            6962             .EXPORT _LOAD_FREQ_PLS          ;設定ﾊﾟﾙｽ
20704                            6963             .EXPORT _LOAD_NOW_FREQ_PLS      ;現在
20705                            6964             .EXPORT _LOAD_GPOINT_PLS        ;
20706                            6965     
20707                            6966             .EXPORT _LOAD_SPD_LATE          ;
20708                            6967             .EXPORT _LOAD_ACCS1_LATE        ;
20709                            6968             .EXPORT _LOAD_BASE_FREQ_PLS     ;
20710                            6969     
20711                            6970     ;       ***************************************************
20712                            6971     ;       ***                                             ***
20713                            6972     ;       ***             残りﾊﾟﾙｽREAD                    ***
20714                            6973     ;       ***             ANS:R0                          ***
20715                            6974     ;       ***************************************************
20716                            6975     ;       R0以外破壊しない
20717                            6976     ;       "残りﾊﾟﾙｽ"
20718                            6977     ;       減る方向で化けるｹｰｽもある.従って２度読みの古い方側を使用した方が良いか？
20719                            6978     ;       ３度読みでその真ん中は正しい=  >２度読みの古いほうが正しい ==>だめ
20720                            6979     ;       １回目が化けて大きくなって２回目が正常なら発生する
20721                            6980     ;       時間などチェックが必要だ
20722                                     ***** BEGIN-POOL *****
20723 00003D2C 00000000                   DATA FOR SOURCE-LINE 6929
20724 00003D30 00000000                   DATA FOR SOURCE-LINE 6936
20725 00003D34 00000000                   DATA FOR SOURCE-LINE 6943
20726                                     ***** END-POOL *****
20727 00003D38                   6981             .ALIGN  4                               ;
20728 00003D38                   6982     _LOAD_REST_PLS:
20729                            6983             SUB_START
20730 00003D38 4F22                   M           STS.L   PR,@-R15                ;[必要]
20731                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20732                            6984             PUSH_REG1 R1
20733 00003D3A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20734                                 M                                           ;REG=>[SP]
20735                                 M                                           ;"-4" FF,FF,FF,FC
20736                            6985             PUSH_REG1 R2
20737 00003D3C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20738                                 M                                           ;REG=>[SP]
20739                                 M                                           ;"-4" FF,FF,FF,FC
20740                            6986             PUSH_REG1 R3
20741 00003D3E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20742                                 M                                           ;REG=>[SP]
20743                                 M                                           ;"-4" FF,FF,FF,FC
20744                            6987             PUSH_REG1 R4
20745 00003D40 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20746                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   261
PROGRAM NAME =

20747                                 M                                           ;"-4" FF,FF,FF,FC
20748 00003D42 E30A              6988             MOV     #D'10,R3                                        ;
20749                            6989     
20750 00003D44                   6990     LOAD_RESTPLS_LOP:
20751                            6991     
20752 00003D44 D109              6992             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20753                            6993             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20754 00003D46 D00A                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20755 00003D48 400B                   M           JSR     @R0                     ;
20756 00003D4A 0009                   M           NOP                                     ;
20757 00003D4C 6403              6994             MOV     R0,R4                                           ;FIRST R0
20758                            6995     
20759 00003D4E D107              6996             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20760                            6997             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20761 00003D50 D007                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20762 00003D52 400B                   M           JSR     @R0                     ;
20763 00003D54 0009                   M           NOP                                     ;
20764 00003D56 6203              6998             MOV     R0,R2                                           ;FIRST R0
20765                            6999     
20766 00003D58 D104              7000             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20767                            7001             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20768 00003D5A D005                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20769 00003D5C 400B                   M           JSR     @R0                     ;
20770 00003D5E 0009                   M           NOP                                     ;
20771                            7002     
20772                            7003     ;       R0=<R2=<R4
20773 00003D60 3422              7004             CMP/HS  R2,R4                                           ;R2 =< R4
20774 00003D62 8B07              7005             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R2>R4)
20775 00003D64 3202              7006             CMP/HS  R0,R2                                           ;R0 =< R2
20776 00003D66 8B05              7007             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R0>R2)
20777                            7008             M_BRA   LOAD_RESTPLS_END                                ;R0(NEW)=<R2(MID)=<R4(OLD)
                                           R2を信用する
20778 00003D68 A00F                   M           BRA     LOAD_RESTPLS_END
20779 00003D6A 0009                   M           NOP
20780                            7009     
20781                                     ***** BEGIN-POOL *****
20782 00003D6C 00000000                   DATA FOR SOURCE-LINE 6992,6996,7000
20783 00003D70 00000000                   DATA FOR SOURCE-LINE 6993,6997,7001
20784                                     ***** END-POOL *****
20785 00003D74                   7010     LOAD_RESTPLS_050:                                               ;
20786 00003D74 D109              7011             MOV.L   #_LSI_PLSRD_NG_CNT1,R1                          ;
20787 00003D76 6011              7012             MOV.W   @R1,R0                                          ;
20788 00003D78 7001              7013             ADD     #1,R0                                           ;
20789 00003D7A 2101              7014             MOV.W   R0,@R1                                          ;
20790                            7015     
20791 00003D7C 73FF              7016             ADD     #-1,R3                                          ;
20792 00003D7E 4315              7017             CMP/PL  R3                                              ;
20793 00003D80 89E0              7018             BT      LOAD_RESTPLS_LOP                                ;
20794                            7019     ;       ==== HARD ERR ===
20795                            7020             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT5+BIT0),WKREG=R1
                                          ;R1,R0
20796 00003D82 D107                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
20797 00003D84 6011                   M           MOV.W   @R1,R0          ;
20798 00003D86 CB21                   M           OR      #(BIT5+BIT0),R0         ;
20799 00003D88 2101                   M           MOV.W   R0,@R1          ;
20800                            7021     
20801                            7022     ;;      MOV     R2,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   262
PROGRAM NAME =

20802                            7023     ;       ANS.R2
20803 00003D8A                   7024     LOAD_RESTPLS_END:
20804 00003D8A 6023              7025             MOV     R2,R0                                           ;(3度読みの真ん中をデータ
                                          として使用する)
20805                            7026             POP_REG1 R4
20806                                 M                                   ; RE"+4" 00,00,00,04
20807 00003D8C 64F6                   M           MOV.L   @R15+,R4        ;
20808                            7027             POP_REG1 R3
20809                                 M                                   ; RE"+4" 00,00,00,04
20810 00003D8E 63F6                   M           MOV.L   @R15+,R3        ;
20811                            7028             POP_REG1 R2
20812                                 M                                   ; RE"+4" 00,00,00,04
20813 00003D90 62F6                   M           MOV.L   @R15+,R2        ;
20814                            7029             POP_REG1 R1
20815                                 M                                   ; RE"+4" 00,00,00,04
20816 00003D92 61F6                   M           MOV.L   @R15+,R1        ;
20817                            7030     
20818                            7031             SUB_END
20819                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20820 00003D94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20821                            7032             M_RTS
20822 00003D96 000B                   M           RTS                             ;RTSの後ろの
20823 00003D98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20824                            7033     
20825                            7034     ;       ***************************************************
20826                            7035     ;       ***                                             ***
20827                            7036     ;       ***             設定周波数ﾚｼﾞｽﾀREAD             ***
20828                            7037     ;       ***                                             ***
20829                            7038     ;       ***************************************************
20830                            7039     ;       R0以外破壊しない
20831                                     ***** BEGIN-POOL *****
20832 00003D9A 0000                       ALIGNMENT CODE
20833 00003D9C 00000000                   DATA FOR SOURCE-LINE 7011
20834 00003DA0 00000000                   DATA FOR SOURCE-LINE 7020
20835                                     ***** END-POOL *****
20836 00003DA4                   7040             .ALIGN  4                               ;
20837 00003DA4                   7041     _LOAD_FREQ_PLS
20838                            7042             SUB_START
20839 00003DA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20840                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20841                            7043     
20842                            7044             PUSH_REG1 R1
20843 00003DA6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20844                                 M                                           ;REG=>[SP]
20845                                 M                                           ;"-4" FF,FF,FF,FC
20846                            7045     
20847 00003DA8 D103              7046             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R1        ;TOP(設定)周波数
20848                            7047             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20849 00003DAA D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20850 00003DAC 400B                   M           JSR     @R0                     ;
20851 00003DAE 0009                   M           NOP                                     ;
20852                            7048     
20853                            7049             POP_REG1 R1
20854                                 M                                   ; RE"+4" 00,00,00,04
20855 00003DB0 61F6                   M           MOV.L   @R15+,R1        ;
20856                            7050     
20857                            7051             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   263
PROGRAM NAME =

20858                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20859 00003DB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20860                            7052             M_RTS
20861 00003DB4 000B                   M           RTS                             ;RTSの後ろの
20862 00003DB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20863                            7053     
20864                            7054     ;       ***********************************
20865                            7055     ;       ***     ベース周波数()          ***
20866                            7056     ;       ***********************************
20867                                     ***** BEGIN-POOL *****
20868 00003DB8 00000000                   DATA FOR SOURCE-LINE 7046
20869 00003DBC 00000000                   DATA FOR SOURCE-LINE 7047
20870                                     ***** END-POOL *****
20871 00003DC0                   7057             .ALIGN  4                               ;
20872 00003DC0                   7058     _LOAD_BASE_FREQ_PLS:
20873                            7059             SUB_START
20874 00003DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20875                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20876                            7060             PUSH_REG1 R1
20877 00003DC2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20878                                 M                                           ;REG=>[SP]
20879                                 M                                           ;"-4" FF,FF,FF,FC
20880                            7061     
20881 00003DC4 D103              7062             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R1        ;BASE(設定)周波数
20882                            7063             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20883 00003DC6 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20884 00003DC8 400B                   M           JSR     @R0                     ;
20885 00003DCA 0009                   M           NOP                                     ;
20886                            7064     
20887                            7065     
20888                            7066             POP_REG1 R1
20889                                 M                                   ; RE"+4" 00,00,00,04
20890 00003DCC 61F6                   M           MOV.L   @R15+,R1        ;
20891                            7067             SUB_END
20892                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20893 00003DCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20894                            7068             M_RTS
20895 00003DD0 000B                   M           RTS                             ;RTSの後ろの
20896 00003DD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20897                            7069     ;       ***********************************
20898                            7070     ;       ***     加速時間()              ***
20899                            7071     ;       ***********************************
20900                                     ***** BEGIN-POOL *****
20901 00003DD4 00000000                   DATA FOR SOURCE-LINE 7062
20902 00003DD8 00000000                   DATA FOR SOURCE-LINE 7063
20903                                     ***** END-POOL *****
20904 00003DDC                   7072             .ALIGN  4                               ;
20905 00003DDC                   7073     _LOAD_ACCS1_LATE:
20906                            7074             SUB_START
20907 00003DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20908                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20909                            7075             PUSH_REG1 R1
20910 00003DDE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20911                                 M                                           ;REG=>[SP]
20912                                 M                                           ;"-4" FF,FF,FF,FC
20913                            7076     
20914                            7077     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   264
PROGRAM NAME =

20915 00003DE0 D102              7078             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R1        ;
20916 00003DE2 6011              7079             MOV.W   @R1,R0                                          ;
20917                            7080     
20918                            7081             POP_REG1 R1
20919                                 M                                   ; RE"+4" 00,00,00,04
20920 00003DE4 61F6                   M           MOV.L   @R15+,R1        ;
20921                            7082             SUB_END
20922                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20923 00003DE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20924                            7083             M_RTS
20925 00003DE8 000B                   M           RTS                             ;RTSの後ろの
20926 00003DEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20927                            7084     
20928                            7085     ;       ***************************
20929                            7086     ;       ***     LATE()          ***
20930                            7087     ;       ***************************
20931                                     ***** BEGIN-POOL *****
20932 00003DEC 00000000                   DATA FOR SOURCE-LINE 7078
20933                                     ***** END-POOL *****
20934 00003DF0                   7088             .ALIGN  4                               ;
20935 00003DF0                   7089     _LOAD_SPD_LATE:
20936                            7090             SUB_START
20937 00003DF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20938                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20939                            7091             PUSH_REG1 R1
20940 00003DF2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20941                                 M                                           ;REG=>[SP]
20942                                 M                                           ;"-4" FF,FF,FF,FC
20943                            7092     
20944 00003DF4 D102              7093             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R1        ;
20945 00003DF6 6011              7094             MOV.W   @R1,R0                                          ;
20946                            7095     
20947                            7096             POP_REG1 R1
20948                                 M                                   ; RE"+4" 00,00,00,04
20949 00003DF8 61F6                   M           MOV.L   @R15+,R1        ;
20950                            7097             SUB_END
20951                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20952 00003DFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20953                            7098             M_RTS
20954 00003DFC 000B                   M           RTS                             ;RTSの後ろの
20955 00003DFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20956                            7099     
20957                            7100     
20958                            7101     
20959                            7102     ;       ***************************************************
20960                            7103     ;       ***                                             ***
20961                            7104     ;       ***             現在周波数ﾚｼﾞｽﾀREAD             ***
20962                            7105     ;       ***                                             ***
20963                            7106     ;       ***************************************************
20964                            7107     ;       R0以外破壊しない
20965                                     ***** BEGIN-POOL *****
20966 00003E00 00000000                   DATA FOR SOURCE-LINE 7093
20967                                     ***** END-POOL *****
20968 00003E04                   7108             .ALIGN  4                               ;
20969 00003E04                   7109     _LOAD_NOW_FREQ_PLS
20970                            7110             SUB_START
20971 00003E04 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   265
PROGRAM NAME =

20972                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20973                            7111     
20974                            7112             PUSH_REG1 R1
20975 00003E06 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20976                                 M                                           ;REG=>[SP]
20977                                 M                                           ;"-4" FF,FF,FF,FC
20978                            7113     
20979 00003E08 D103              7114             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowFreqL,R1        ;R/W 現在周波数
20980                            7115             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20981 00003E0A D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20982 00003E0C 400B                   M           JSR     @R0                     ;
20983 00003E0E 0009                   M           NOP                                     ;
20984                            7116     
20985                            7117             POP_REG1 R1
20986                                 M                                   ; RE"+4" 00,00,00,04
20987 00003E10 61F6                   M           MOV.L   @R15+,R1        ;
20988                            7118             SUB_END
20989                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20990 00003E12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20991                            7119             M_RTS
20992 00003E14 000B                   M           RTS                             ;RTSの後ろの
20993 00003E16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20994                            7120     
20995                            7121     ;       ***************************************************
20996                            7122     ;       ***                                             ***
20997                            7123     ;       ***             減速距離READ                    ***
20998                            7124     ;       ***                                             ***
20999                            7125     ;       ***************************************************
21000                            7126     ;       R0以外破壊しない
21001                                     ***** BEGIN-POOL *****
21002 00003E18 00000000                   DATA FOR SOURCE-LINE 7114
21003 00003E1C 00000000                   DATA FOR SOURCE-LINE 7115
21004                                     ***** END-POOL *****
21005 00003E20                   7127             .ALIGN  4                               ;
21006 00003E20                   7128     _LOAD_GPOINT_PLS
21007                            7129             SUB_START
21008 00003E20 4F22                   M           STS.L   PR,@-R15                ;[必要]
21009                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21010                            7130             PUSH_REG1 R1
21011 00003E22 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21012                                 M                                           ;REG=>[SP]
21013                                 M                                           ;"-4" FF,FF,FF,FC
21014                            7131     
21015 00003E24 D103              7132             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_GNpointL,R1        ;R/W 減速点
21016                            7133             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
21017 00003E26 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21018 00003E28 400B                   M           JSR     @R0                     ;
21019 00003E2A 0009                   M           NOP                                     ;
21020                            7134     
21021                            7135             POP_REG1 R1
21022                                 M                                   ; RE"+4" 00,00,00,04
21023 00003E2C 61F6                   M           MOV.L   @R15+,R1        ;
21024                            7136             SUB_END
21025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21026 00003E2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21027                            7137             M_RTS
21028 00003E30 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   266
PROGRAM NAME =

21029 00003E32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21030                            7138     
21031                            7139     ;       ***************************************************
21032                            7140     ;       ***                                             ***
21033                            7141     ;       ***             32BITﾚｼﾞｽﾀREAD                  ***
21034                            7142     ;       ***             Input  R1:ADRESS(DESTROY)       ***
21035                            7143     ;       ***             Output R0:data(ﾓﾄﾛｰﾗHEX)        ***
21036                            7144     ;       ***************************************************
21037                                     ***** BEGIN-POOL *****
21038 00003E34 00000000                   DATA FOR SOURCE-LINE 7132
21039 00003E38 00000000                   DATA FOR SOURCE-LINE 7133
21040                                     ***** END-POOL *****
21041 00003E3C                   7145             .ALIGN  4                               ;
21042 00003E3C                   7146     _LSI_LOAD_32BIT_DATA:
21043                            7147             SUB_START
21044 00003E3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
21045                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21046                            7148     ;;      PLS_READ_LATCH                                          ;2004-02-12
21047                            7149     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
21048                            7150     ;;      MOV.W   @R1+,R0                                         ;LOW WORD
21049                            7151     ;;      EXTU.W  R0,R0                                           ;
21050                            7152     ;;
21051                            7153     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
21052                            7154     ;;      MOV.W   @R1,R1                                          ;HIGH WORD
21053                            7155     ;;      EXTU.W  R1,R1                                           ;
21054                            7156     ;;      SHLL16  R1
21055                            7157     ;;      OR      R1,R0                                           ;
21056                            7158     ;;      MOV.L   #_ACCESS_ERR1+4*4,R1                            ;4 5/5
21057                            7159     
21058                            7160             POS_LSI_WORD_DUM_LOD                                    ;CS(A)
21059                                 M           PUSH_REG1 R0
21060 00003E3E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21061                                 M                                           ;REG=>[SP]
21062                                 M                                           ;"-4" FF,FF,FF,FC
21063 00003E40 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
21064 00003E42 6001                   M           MOV.W   @R0,R0
21065                                 M           POP_REG1 R0
21066                                 M                                   ; RE"+4" 00,00,00,04
21067 00003E44 60F6                   M           MOV.L   @R15+,R0        ;
21068                            7161             PLS_READ_LATCH                                          ;2004-02-12
21069                                 M           PUSH_REG1 R0                                            ;
21070 00003E46 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21071                                 M                                           ;REG=>[SP]
21072                                 M                                           ;"-4" FF,FF,FF,FC
21073 00003E48 D006                   M           MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
21074 00003E4A 6001                   M           MOV.W   @R0,R0                                          ;
21075                                 M           POP_REG1 R0                                             ;
21076                                 M                                   ; RE"+4" 00,00,00,04
21077 00003E4C 60F6                   M           MOV.L   @R15+,R0        ;
21078                            7162             POS_LSI_WORD_DUM_LOD                                    ;CS(B)
21079                                 M           PUSH_REG1 R0
21080 00003E4E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21081                                 M                                           ;REG=>[SP]
21082                                 M                                           ;"-4" FF,FF,FF,FC
21083 00003E50 D003                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
21084 00003E52 6001                   M           MOV.W   @R0,R0
21085                                 M           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   267
PROGRAM NAME =

21086                                 M                                   ; RE"+4" 00,00,00,04
21087 00003E54 60F6                   M           MOV.L   @R15+,R0        ;
21088 00003E56 6012              7163             MOV.L   @R1,R0                                          ;LONG
21089 00003E58 6009              7164             SWAP.W  R0,R0                                           ;
21090                            7165     
21091                            7166             SUB_END
21092                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21093 00003E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21094                            7167             M_RTS
21095 00003E5C 000B                   M           RTS                             ;RTSの後ろの
21096 00003E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21097                            7168     
21098                            7169     
21099                            7170     ;       *******************************************
21100                            7171     ;       ***     2003-07-01 指令ﾊﾟﾙｽの速度演算   ***
21101                            7172     ;       *******************************************
21102                            7173             .EXPORT _OUT_PLS_SPD_CALC
21103                            7174             .EXPORT _ENC_PLS_SPD_CALC
21104                                     ***** BEGIN-POOL *****
21105 00003E60 00000000                   DATA FOR SOURCE-LINE 7160,7162
21106 00003E64 00000000                   DATA FOR SOURCE-LINE 7161
21107                                     ***** END-POOL *****
21108 00003E68                   7175             .ALIGN  4                               ;
21109 00003E68                   7176     _OUT_PLS_SPD_CALC:
21110                            7177             SUB_START
21111 00003E68 4F22                   M           STS.L   PR,@-R15                ;[必要]
21112                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21113 00003E6A D109              7178             MOV.L   #_OUTPLS_DELT,R1                        ;符号付
21114 00003E6C 6211              7179             MOV.W   @R1,R2                                  ;
21115                            7180     ;;      SHLL    R2
21116                            7181     ;;      SHLL    R2
21117                            7182     ;;      SHLL    R2
21118                            7183     ;;      SHLL    R2                              ;*16
21119                            7184     
21120                            7185     ;       =====================================
21121 00003E6E D509              7186             MOV.L   #_OUTPLS_SPD_TOTAL,R5           ;= R5(ad4)
21122 00003E70 D609              7187             MOV.L   #_OUTPLS_SPD_AVL_TOP,R6         ;= R6(ad2)
21123 00003E72 D10A              7188             MOV.L   #_OUTPLS_POINT_SEL,R1           ;= R7(dt2)=10
21124 00003E74 6711              7189             MOV.W   @R1,R7                          ;
21125                            7190     
21126 00003E76 D80A              7191             MOV.L   #_OUTPLS_SPD_POINT,R8           ;= R8(ad2)
21127 00003E78 D90A              7192             MOV.L   #_OUT_PLS_SPD_DIR,R9            ;= R9(ad2) 0pls/s でも -と+がある
21128 00003E7A DA0B              7193             MOV.L   #_OUTPLS_1000MSEC_LAT,R10       ;= R10(ad2)
21129 00003E7C DB0B              7194             MOV.L   #_OUT_PLS_SPD,R11               ;= R11(ad4)
21130 00003E7E DC0C              7195             MOV.L   #_ABS_OUT_PLS_SPD,R12           ;= R12(ad4)
21131 00003E80 DD0C              7196             MOV.L   #_PV_OUT_SPD_PER,R13            ;= R13(ad2)
21132 00003E82 DE0D              7197             MOV.L   #_PVC_BRK_OUT_SPD,R14           ;= R14(ad2)
21133                            7198     
21134                            7199             FAR_JSR #_DELT_POS_SPD_CHG1,R0          ;ANS R2 ABS_PLS
21135 00003E84 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21136 00003E86 400B                   M           JSR     @R0                     ;
21137 00003E88 0009                   M           NOP                                     ;
21138                            7200     
21139                            7201             SUB_END
21140                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21141 00003E8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21142                            7202             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   268
PROGRAM NAME =

21143 00003E8C 000B                   M           RTS                             ;RTSの後ろの
21144 00003E8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21145                            7203     ;       *******************************************
21146                            7204     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
21147                            7205     ;       *******************************************
21148                                     ***** BEGIN-POOL *****
21149 00003E90 00000000                   DATA FOR SOURCE-LINE 7178
21150 00003E94 00000000                   DATA FOR SOURCE-LINE 7186
21151 00003E98 00000000                   DATA FOR SOURCE-LINE 7187
21152 00003E9C 00000000                   DATA FOR SOURCE-LINE 7188
21153 00003EA0 00000000                   DATA FOR SOURCE-LINE 7191
21154 00003EA4 00000000                   DATA FOR SOURCE-LINE 7192
21155 00003EA8 00000000                   DATA FOR SOURCE-LINE 7193
21156 00003EAC 00000000                   DATA FOR SOURCE-LINE 7194
21157 00003EB0 00000000                   DATA FOR SOURCE-LINE 7195
21158 00003EB4 00000000                   DATA FOR SOURCE-LINE 7196
21159 00003EB8 00000000                   DATA FOR SOURCE-LINE 7197
21160 00003EBC 00000000                   DATA FOR SOURCE-LINE 7199
21161                                     ***** END-POOL *****
21162 00003EC0                   7206             .ALIGN  4                               ;
21163 00003EC0                   7207     _ENC_PLS_SPD_CALC:
21164                            7208             SUB_START
21165 00003EC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21166                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21167                            7209     
21168                            7210     ;       === 2003-07-01 1msec差分速度算出用 ==
21169 00003EC2 D109              7211             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
21170 00003EC4 6211              7212             MOV.W   @R1,R2                                  ;R2(dt2)
21171                            7213     ;       =====================================
21172 00003EC6 D509              7214             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21173 00003EC8 D609              7215             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21174 00003ECA D10A              7216             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21175 00003ECC 6711              7217             MOV.W   @R1,R7                                  ;
21176                            7218     
21177 00003ECE D80A              7219             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21178 00003ED0 D90A              7220             MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21179 00003ED2 DA0B              7221             MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21180 00003ED4 DB0B              7222             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
21181 00003ED6 DC0C              7223             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21182 00003ED8 DD0C              7224             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21183 00003EDA DE0D              7225             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2) per
21184                            7226             FAR_JSR #_DELT_POS_SPD_CHG1,R0                  ;ANS R2 ABS_PLS
21185 00003EDC D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21186 00003EDE 400B                   M           JSR     @R0                     ;
21187 00003EE0 0009                   M           NOP                                     ;
21188                            7227     
21189                            7228             SUB_END
21190                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21191 00003EE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21192                            7229             M_RTS
21193 00003EE4 000B                   M           RTS                             ;RTSの後ろの
21194 00003EE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21195                            7230     
21196                            7231     
21197                            7232     ;       *******************************************
21198                            7233     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
21199                            7234     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   269
PROGRAM NAME =

21200                                     ***** BEGIN-POOL *****
21201 00003EE8 00000000                   DATA FOR SOURCE-LINE 7211
21202 00003EEC 00000000                   DATA FOR SOURCE-LINE 7214
21203 00003EF0 00000000                   DATA FOR SOURCE-LINE 7215
21204 00003EF4 00000000                   DATA FOR SOURCE-LINE 7216
21205 00003EF8 00000000                   DATA FOR SOURCE-LINE 7219
21206 00003EFC 00000000                   DATA FOR SOURCE-LINE 7220
21207 00003F00 00000000                   DATA FOR SOURCE-LINE 7221
21208 00003F04 00000000                   DATA FOR SOURCE-LINE 7222
21209 00003F08 00000000                   DATA FOR SOURCE-LINE 7223
21210 00003F0C 00000000                   DATA FOR SOURCE-LINE 7224
21211 00003F10 00000000                   DATA FOR SOURCE-LINE 7225
21212 00003F14 00000000                   DATA FOR SOURCE-LINE 7226
21213                                     ***** END-POOL *****
21214 00003F18                   7235             .ALIGN  4                               ;
21215 00003F18                   7236     _ENC_PLS_SPD_CLR:
21216                            7237             SUB_START
21217 00003F18 4F22                   M           STS.L   PR,@-R15                ;[必要]
21218                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21219                            7238     
21220 00003F1A 222A              7239             XOR     R2,R2
21221 00003F1C D10A              7240             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
21222 00003F1E 2121              7241             MOV.W   R2,@R1                                  ;
21223                            7242     
21224 00003F20 D50A              7243             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21225 00003F22 D60B              7244             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21226 00003F24 D10B              7245             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21227 00003F26 6711              7246             MOV.W   @R1,R7                                  ;
21228 00003F28 D80B              7247             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21229                            7248             FAR_JSR #_DELT_POS_SPD_CLR,R0                   ;
21230 00003F2A D00C                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21231 00003F2C 400B                   M           JSR     @R0                     ;
21232 00003F2E 0009                   M           NOP                                     ;
21233                            7249     
21234                            7250     ;;;     MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21235                            7251     ;;;     MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21236 00003F30 200A              7252             XOR     R0,R0
21237 00003F32 DB0B              7253             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
21238 00003F34 2B02              7254             MOV.L   R0,@R11
21239 00003F36 DC0B              7255             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21240 00003F38 2C02              7256             MOV.L   R0,@R12
21241 00003F3A DD0B              7257             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21242 00003F3C 2D01              7258             MOV.W   R0,@R13
21243 00003F3E DE0B              7259             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2)
21244 00003F40 2E01              7260             MOV.W   R0,@R14
21245                            7261     
21246                            7262     
21247                            7263             SUB_END
21248                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21249 00003F42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21250                            7264             M_RTS
21251 00003F44 000B                   M           RTS                             ;RTSの後ろの
21252 00003F46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21253                            7265     
21254                            7266     ;       .GLOBAL _PV_ENC_SPD_PER;//0~100.00%
21255                            7267     ;       .GLOBAL _PV_OUT_SPD_PER;//0~100.00%
21256                            7268     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   270
PROGRAM NAME =

21257                            7269     ;_ENCPLS_SPD_TOTAL      = R5(ad4)
21258                            7270     ;_ENC_PLS_SPD_DIR       = R9(ad2) 0pls/s でも -と+がある
21259                            7271     ;_ENCPLS_POINT_SEL      = R7(dt2)=10
21260                            7272     ;_ENCPLS_DELT           = R2(dt2)
21261                            7273     ;_ENCPLS_SPD_AVL_TOP    = R6(ad2)
21262                            7274     ;_ENCPLS_SPD_POINT      = R8(ad2)
21263                            7275     ;_ENCPLS_1000MSEC_LAT   =R10(ad2)
21264                            7276     ;_ENC_PLS_SPD           = R11(ad4)
21265                            7277     ;_ABS_ENC_PLS_SPD       = R12(ad4)
21266                            7278     ;_PV_ENC_SPD_PER        =R13(ad2)
21267                            7279     ;_PVC_ENC_SPD_PER       =R14(ad2)MINLIMIT
21268                            7280     ;R0,R1,R2,R3,R4 WORK
21269                            7281     
21270                            7282     ;       ***********************************************************
21271                            7283     ;       ***                                                     ***
21272                            7284     ;       ***     1msecのﾃﾞｰﾀの移動平均を行う                     ***
21273                            7285     ;       ***     不感帯がないと停止時はｸﾘｱ処理ばかりはしる       ***
21274                            7286     ;       ***     処理の重さだけの話になる                        ***
21275                            7287     ;       ***     (+/-10pls溜まるまで待つか=>やらない)            ***
21276                            7288     ;       ***                                                     ***
21277                            7289     ;       ***********************************************************
21278                                     ***** BEGIN-POOL *****
21279 00003F48 00000000                   DATA FOR SOURCE-LINE 7240
21280 00003F4C 00000000                   DATA FOR SOURCE-LINE 7243
21281 00003F50 00000000                   DATA FOR SOURCE-LINE 7244
21282 00003F54 00000000                   DATA FOR SOURCE-LINE 7245
21283 00003F58 00000000                   DATA FOR SOURCE-LINE 7247
21284 00003F5C 00000000                   DATA FOR SOURCE-LINE 7248
21285 00003F60 00000000                   DATA FOR SOURCE-LINE 7253
21286 00003F64 00000000                   DATA FOR SOURCE-LINE 7255
21287 00003F68 00000000                   DATA FOR SOURCE-LINE 7257
21288 00003F6C 00000000                   DATA FOR SOURCE-LINE 7259
21289                                     ***** END-POOL *****
21290 00003F70                   7290             .ALIGN  4                               ;
21291 00003F70                   7291     _DELT_POS_SPD_CHG1:
21292                            7292             SUB_START
21293 00003F70 4F22                   M           STS.L   PR,@-R15                ;[必要]
21294                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21295                            7293     
21296 00003F72 2778              7294             TST     R7,R7                   ;
21297                            7295             TST_BIT_ON DELT_POS_SPDCG1_020  ;
21298 00003F74 8B00                   M           BF      DELT_POS_SPDCG1_020
21299 00003F76 7701              7296             ADD     #1,R7                   ;
21300 00003F78                   7297     DELT_POS_SPDCG1_020:                    ;
21301                            7298     
21302 00003F78 2228              7299             TST     R2,R2                   ;R2=0
21303                            7300             TST_BIT_OF DELT_POS_SPDCG1_200  ;
21304 00003F7A 890C                   M           BT      DELT_POS_SPDCG1_200
21305 00003F7C 6091              7301             MOV.W   @R9,R0                  ;符号LOAD
21306 00003F7E 4211              7302             CMP/PZ  R2                      ;
21307 00003F80 8903              7303             BT      DELT_POS_SPDCG1_050     ;"+"
21308 00003F82 2008              7304             TST     R0,R0                   ;
21309                            7305             TST_BIT_ON DELT_POS_SPDCG1_200  ;"-" CLR処理不要
21310 00003F84 8B07                   M           BF      DELT_POS_SPDCG1_200
21311                            7306             M_BRA   DELT_POS_SPDCG1_100     ;前回-で今回+ ｸﾘｱ必要
21312 00003F86 A002                   M           BRA     DELT_POS_SPDCG1_100
21313 00003F88 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   271
PROGRAM NAME =

21314                            7307     
21315 00003F8A                   7308     DELT_POS_SPDCG1_050:
21316 00003F8A 2008              7309             TST     R0,R0                   ;
21317                            7310             TST_BIT_OF DELT_POS_SPDCG1_200  ;今回も前回も+
21318 00003F8C 8903                   M           BT      DELT_POS_SPDCG1_200
21319                            7311     
21320                            7312     ;       ====== CLR =======
21321 00003F8E                   7313     DELT_POS_SPDCG1_100:
21322                            7314             FAR_JSR #_DELT_POS_SPD_CLR,R0
21323 00003F8E D020                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21324 00003F90 400B                   M           JSR     @R0                     ;
21325 00003F92 0009                   M           NOP                                     ;
21326                            7315     
21327                            7316     
21328 00003F94 0009              7317             NOP                             ;ﾊﾞﾌｧはｸﾘｱするけど計算は行う
21329                            7318     
21330                            7319     ;       ====================================
21331 00003F96                   7320     DELT_POS_SPDCG1_200:
21332 00003F96 6081              7321             MOV.W   @R8,R0                  ;POINTER
21333 00003F98 4000              7322             SHLL    R0                      ;2Byte
21334 00003F9A 360C              7323             ADD     R0,R6                   ;TOP+POINTER
21335 00003F9C 6161              7324             MOV.W   @R6,R1                  ;OLD LOAD
21336 00003F9E 2621              7325             MOV.W   R2,@R6                  ;NEW SAVE
21337 00003FA0 6352              7326             MOV.L   @R5,R3                  ;TOTAL
21338 00003FA2 332C              7327             ADD     R2,R3                   ;
21339 00003FA4 3318              7328             SUB     R1,R3                   ;
21340 00003FA6 2532              7329             MOV.L   R3,@R5                  ;TOTAL REFLASH
21341 00003FA8 4001              7330             SHLR    R0                      ;
21342 00003FAA 7001              7331             ADD     #1,R0                   ;
21343 00003FAC 3072              7332             CMP/HS  R7,R0                   ;R7(10) =<R0(0~9)
21344 00003FAE 8B00              7333             BF      DELT_POS_SPDCG1_250     ;
21345 00003FB0 200A              7334             XOR     R0,R0                   ;
21346 00003FB2                   7335     DELT_POS_SPDCG1_250:                    ;
21347 00003FB2 2801              7336             MOV.W   R0,@R8                  ;POINTER +1 REFLASH
21348                            7337     ;       ==================================
21349 00003FB4 61A1              7338             MOV.W   @R10,R1                 ;TOTAL(10msec)*100=PLS/S
21350 00003FB6 331D              7339             DMULS.L R1,R3                   ;total*100=pps
21351 00003FB8 021A              7340             STS     MACL,R2                 ;
21352                            7341     
21353 00003FBA 2B22              7342             MOV.L   R2,@R11                 ;_ENC_PLS_SPD 符号付 0.1pps??1PPSでしょう。
21354 00003FBC 2228              7343             TST     R2,R2                   ;
21355                            7344             TST_BIT_OF DELT_POS_SPDCG1_350  ;速度が0なら符号は変えない
21356 00003FBE 8905                   M           BT      DELT_POS_SPDCG1_350
21357                            7345     
21358 00003FC0 200A              7346             XOR     R0,R0                   ;
21359 00003FC2 4211              7347             CMP/PZ  R2                      ;+?
21360 00003FC4 8901              7348             BT      DELT_POS_SPDCG1_300     ;
21361 00003FC6 622B              7349             NEG     R2,R2                   ;
21362 00003FC8 E0FF              7350             MOV     #-1,R0                  ;
21363 00003FCA                   7351     DELT_POS_SPDCG1_300:                    ;
21364 00003FCA 2901              7352             MOV.W   R0,@R9                  ;SHIN _ENC_PLS_SPD_DIR
21365 00003FCC                   7353     DELT_POS_SPDCG1_350:                    ;
21366                            7354     
21367                            7355     ;       =========================================
21368 00003FCC D111              7356             MOV.L   #_WPAR_ZERO_SPD,R1                      ;
21369 00003FCE 6011              7357             MOV.W   @R1,R0                                  ;
21370 00003FD0 3202              7358             CMP/HS  R0,R2                                   ;MIN
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   272
PROGRAM NAME =

21371 00003FD2 8900              7359             BT      DELT_POS_SPDCG1_380                     ;
21372 00003FD4 222A              7360             XOR     R2,R2                                   ;
21373 00003FD6                   7361     DELT_POS_SPDCG1_380:                                    ;
21374 00003FD6 2C22              7362             MOV.L   R2,@R12                 ;_ABS_ENC_PLS_SPD       = R12(ad4)
21375                            7363     
21376                            7364     ;       ==== 速度換算 ======
21377                            7365     ;;;2010-10-22   MOV.L   #_LINK_MAX_SPD_PLS,R0                   ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
21378 00003FD8 D00F              7366             MOV.L   #_SETD_LINK_MAX_SPD_PLS,R0                      ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s[SETD_LINK_MAX_SPD_PLS　ｻｰﾎﾞﾊﾟﾗ]
21379 00003FDA 6402              7367             MOV.L   @R0,R4                                          ;
21380 00003FDC 9115              7368             MOV.W   #_SPD_PER_MAX,R1                                ;100.00per
21381                            7369             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
21382 00003FDE D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21383 00003FE0 400B                   M           JSR     @R0                     ;
21384 00003FE2 0009                   M           NOP                                     ;
21385 00003FE4 9112              7370             MOV.W   #_SPD_PER_MAX*110/100,R1                        ;110.00per
21386                            7371             REG_PMAX_MMIN   DATA_REG=R2,MAX_MIN_REG=R1              ;R1=10000
21387 00003FE6 3123                   M           CMP/GE  R2,R1           ;
21388 00003FE8 8900                   M           BT      JMP0100014                              ;DATA =< MAX
21389 00003FEA 6213                   M           MOV     R1,R2           ;MAX LIMIT
21390 00003FEC                        M   JMP0100014:                                     ;
21391 00003FEC 611B                   M           NEG     R1,R1   ;
21392 00003FEE 3213                   M           CMP/GE  R1,R2           ;
21393 00003FF0 8900                   M           BT      JMP0200014                              ;MIN =< DATA
21394 00003FF2 6213                   M           MOV     R1,R2           ;MIN LIMIT
21395 00003FF4                        M   JMP0200014:                                     ;
21396 00003FF4 611B                   M           NEG     R1,R1   ;
21397 00003FF6 2D21              7372             MOV.W   R2,@R13                                         ;_PV_ENC_SPD_PER
21398                            7373     
21399                            7374     ;       =========================================
21400 00003FF8 D109              7375             MOV.L   #_WPAR_BRK_SEL_SPD,R1                   ;%
21401 00003FFA 6011              7376             MOV.W   @R1,R0                                  ;
21402 00003FFC 3202              7377             CMP/HS  R0,R2                                   ;MIN
21403 00003FFE 8900              7378             BT      DELT_POS_SPDCG1_430                     ;
21404 00004000 222A              7379             XOR     R2,R2                                   ;
21405 00004002                   7380     DELT_POS_SPDCG1_430:                                    ;
21406 00004002 2E21              7381             MOV.W   R2,@R14                                 ;_PVC_BRK_ENC_SPD
21407                            7382     
21408                            7383             SUB_END
21409                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21410 00004004 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21411                            7384             M_RTS
21412 00004006 000B                   M           RTS                             ;RTSの後ろの
21413 00004008 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21414                            7385     
21415                            7386     ;       ===== INPUT R5 TOTAL
21416                            7387     ;       ===== INPUT R6 AVL_TOP
21417                            7388     ;       ===== INPUT R7 POINTER MAX
21418                            7389     ;       ===== INPUT R8 POINTER
21419                            7390     ;       DESTROY R0,R1,R4
21420                            7391     ;
21421                                     ***** BEGIN-POOL *****
21422 0000400A 2710                       DATA FOR SOURCE-LINE 7368
21423 0000400C 2AF8                       DATA FOR SOURCE-LINE 7370
21424 0000400E 0000                       ALIGNMENT CODE
21425 00004010 00000000                   DATA FOR SOURCE-LINE 7314
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   273
PROGRAM NAME =

21426 00004014 00000000                   DATA FOR SOURCE-LINE 7356
21427 00004018 00000000                   DATA FOR SOURCE-LINE 7366
21428 0000401C 00000000                   DATA FOR SOURCE-LINE 7369
21429 00004020 00000000                   DATA FOR SOURCE-LINE 7375
21430                                     ***** END-POOL *****
21431 00004024                   7392             .ALIGN  4                               ;
21432 00004024                   7393     _DELT_POS_SPD_CLR:
21433                            7394             SUB_START
21434 00004024 4F22                   M           STS.L   PR,@-R15                ;[必要]
21435                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21436 00004026 244A              7395             XOR     R4,R4                   ;
21437 00004028 2841              7396             MOV.W   R4,@R8                  ;POINTER-CLR
21438 0000402A 2542              7397             MOV.L   R4,@R5                  ;TOTAL-CLR
21439                            7398     
21440 0000402C 6073              7399             MOV     R7,R0                   ;POINTER MAX
21441 0000402E 6173              7400             MOV     R7,R1                   ;
21442 00004030 71FF              7401             ADD     #-1,R1                  ;
21443 00004032 4100              7402             SHLL    R1                      ;
21444 00004034 316C              7403             ADD     R6,R1                   ;TOP+MAX
21445                            7404     
21446 00004036                   7405     DELT_POS_SPDCG1_150:                    ;
21447 00004036 2141              7406             MOV.W   R4,@R1                  ;
21448 00004038 71FE              7407             ADD     #-2,R1                  ;
21449 0000403A 70FF              7408             ADD     #-1,R0                  ;
21450 0000403C 2008              7409             TST     R0,R0                   ;
21451                            7410             TST_BIT_ON DELT_POS_SPDCG1_150  ;
21452 0000403E 8BFA                   M           BF      DELT_POS_SPDCG1_150
21453                            7411             SUB_END
21454                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21455 00004040 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21456                            7412             M_RTS
21457 00004042 000B                   M           RTS                             ;RTSの後ろの
21458 00004044 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21459                            7413     
21460                            7414     ;       ***************************
21461                            7415     ;       ***     減速中信号      ***
21462                            7416     ;       ***************************
21463                            7417     ;       TOP周波数ﾚｼﾞｽﾀ >現在周波数ﾚｼﾞｽﾀにて減速中
21464                            7418     ;       ・最終減速かどうかは,最終工程にて判断を行う
21465                            7419     ;       ・停止工程かどうか
21466                            7420     ;       R0,R1,R2,R3,R4,R6
21467                            7421     ;       R0=0
21468                            7422             .EXPORT _GENSOK_SIG_MAK         ;
21469 00004048                   7423             .ALIGN  4                               ;
21470 00004048                   7424     _GENSOK_SIG_MAK:
21471                            7425             SUB_START
21472 00004048 4F22                   M           STS.L   PR,@-R15                ;[必要]
21473                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21474                            7426     
21475                            7427             FAR_JSR #_LOD_POS_STS_REG,R0    ;
21476 0000404A D003                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21477 0000404C 400B                   M           JSR     @R0                     ;
21478 0000404E 0009                   M           NOP                                     ;
21479 00004050 C804              7428             TST     #BIT2,R0                ;停止中
21480                            7429             TST_BIT_OF GENSOK_SIGMK_050     ;
21481 00004052 8903                   M           BT      GENSOK_SIGMK_050
21482                            7430             M_BRA   GENSOK_SIGMK_OF         ;YES:STOP NOT 減速中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   274
PROGRAM NAME =

21483 00004054 A00D                   M           BRA     GENSOK_SIGMK_OF
21484 00004056 0009                   M           NOP
21485                            7431     
21486                                     ***** BEGIN-POOL *****
21487 00004058 00000000                   DATA FOR SOURCE-LINE 7427
21488                                     ***** END-POOL *****
21489 0000405C                   7432     GENSOK_SIGMK_050:                       ;
21490 0000405C D102              7433             MOV.L   #_POSCTL_STEP_FLG,R1    ;
21491 0000405E 6011              7434             MOV.W   @R1,R0                  ;
21492 00004060 C806              7435             TST     #(BIT2+BIT1),R0         ;
21493                            7436             TST_BIT_ON GENSOK_SIGMK_ON      ;
21494 00004062 8B03                   M           BF      GENSOK_SIGMK_ON
21495                            7437             M_BRA   GENSOK_SIGMK_OF         ;
21496 00004064 A005                   M           BRA     GENSOK_SIGMK_OF
21497 00004066 0009                   M           NOP
21498                            7438     
21499                            7439     
21500                                     ***** BEGIN-POOL *****
21501 00004068 00000000                   DATA FOR SOURCE-LINE 7433
21502                                     ***** END-POOL *****
21503 0000406C                   7440     GENSOK_SIGMK_ON:                        ;
21504 0000406C E001              7441             MOV     #BIT0,R0
21505                            7442             M_BRA   GENSOK_SIGMK_END        ;
21506 0000406E A001                   M           BRA     GENSOK_SIGMK_END
21507 00004070 0009                   M           NOP
21508 00004072                   7443     GENSOK_SIGMK_OF:                        ;
21509 00004072 200A              7444             XOR     R0,R0                   ;
21510 00004074                   7445     GENSOK_SIGMK_END:                       ;
21511                            7446             SUB_END
21512                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21513 00004074 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21514                            7447             M_RTS
21515 00004076 000B                   M           RTS                             ;RTSの後ろの
21516 00004078 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21517                            7448     
21518                            7449     
21519                            7450             .INCLUDE        "ssa_fulc.inc"          ;//ﾌﾙｸﾛｰｽﾞ処理
21520                               1 I1  ;       ***********************************
21521                               2 I1  ;       ***                             ***
21522                               3 I1  ;       ***     フルクローズ関連        ***
21523                               4 I1  ;       ***                             ***
21524                               5 I1  ;       ***********************************
21525          000003E8             6 I1  _POS_LATE1              .EQU    D'1000  ;100.0%
21526          000003E8             7 I1  _POS_GEN_BEFORE_LNG     .EQU    D'1000  ;1000ﾊﾟﾙｽ
21527          000003E8             8 I1  _POS_LATE_CALC_MAX      .EQU    D'1000  ;1000ﾊﾟﾙｽ
21528                               9 I1  
21529                              10 I1          .IMPORT _PAR_NEGERR_ENB         ;2012-05-30
21530                              11 I1          .IMPORT _PAR_NEG_EXITTIM        ;2012-10-05
21531                              12 I1  
21532                              13 I1          .IMPORT _PAR_KAJYU_HLDSPD       ;1　一旦停止中の荷重制御速度
21533                              14 I1          .IMPORT _PAR_KAJYU_ARASPD       ;2[荷重制御]一旦停止中のromﾊﾟﾗ範囲外 荷重制御速度
                                          pls7/s
21534                              15 I1          .IMPORT _PAR_KAJYU_CHGARA       ;3[荷重制御] 20KNを設定の荷重完了範囲から引くARA->
                                          HLD
21535                              16 I1  
21536                              17 I1          .IMPORT _PAR_NEGCTL_SPDS1       ;
21537                              18 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   275
PROGRAM NAME =

21538                              19 I1          .IMPORT _PAR_KAJYU_CTIM1        ;2015-06-22周期１
21539                              20 I1          .IMPORT _PAR_KAJYU_CTIM2        ;2015-06-22周期２
21540                              21 I1          .IMPORT _PAR_KAJYU_STPARA       ;2015-06-22出力停止幅
21541                              22 I1          .IMPORT _PAR_KAJYU_FIRST        ;2015-06-22荷重制御開始幅 2015-06-11(H2W/H1F)
21542                              23 I1  
21543                              24 I1          .EXPORT _REVRSE_BASINC_SPDCALC  ;2015-03-15
21544                              25 I1  
21545                              26 I1  ;       ***********************************
21546                              27 I1  ;       ***                             ***
21547                              28 I1  ;       ***     払出中処理              ***
21548                              29 I1  ;       ***     (起動時の)              ***
21549                              30 I1  ;       ***                             ***
21550                              31 I1  ;       ***********************************
21551                              32 I1  ;       ANS     R0=0     (制御状態)
21552                              33 I1  ;               R0.BIT2=1(BUSY完了)
21553                              34 I1  ;
21554                              35 I1  ;_INT_CLS_CTL_FLG,R1    ;
21555                              36 I1  ;BIT0:INIT START
21556                              37 I1  ;BIT1:(反転必要)==>停止待ち<再計算>
21557                              38 I1  ;BIT2:ﾆｱｾﾞﾛに入った<1回目>==>停止待ち<払出=0 待ち>
21558                              39 I1  ;BIT3:ﾆｱｾﾞﾛに入ったまたは停止後の処理(KPに関係なく残ﾊﾟﾙｽ=0なら1ﾊﾟﾙｽずつ足していく)
21559                              40 I1  ;BIT4:
21560                              41 I1  ;BIT5:
21561                              42 I1  ;BIT6:完了
21562                              43 I1  ;残りﾊﾟﾙｽ+AのAの上限は1000ﾊﾟﾙｽとする<>
21563                              44 I1  ;
21564                              45 I1  ;
21565                              46 I1  ;(本当はこの中で多段の動きを考慮して、”Ｖ”指定の処理も必要)
21566                              47 I1  ;
21567                              48 I1  ;;;;    .IMPORT _CPUB_HENSA_FLG_CLR                     ;
21568                              49 I1  
21569 0000407A                     50 I1  _POS_CLS_TYP1_POS_CTL1:
21570                              51 I1          SUB_START
21571 0000407A 4F22                   M           STS.L   PR,@-R15                ;[必要]
21572                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21573                              52 I1  
21574                              53 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
21575                              54 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   @R6,R11                                                 ;(data lat
                                          ch)
21576                              55 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_ACCESS_ERR1+9*4,R6                                    ;**
21577                              56 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    SWAP.W  R11,R11                                                 ;
21578                              57 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
21579                              58 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   R11,@R1                                                 ;
21580                              59 I1  
21581                              60 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21582                              61 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21583 0000407C D01B                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21584 0000407E 400B                   M           JSR     @R0                     ;
21585 00004080 0009                   M           NOP                                     ;
21586                              62 C           PUSH_REG1 R5                                    ;
21587 00004082 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
21588                                 M                                           ;REG=>[SP]
21589                                 M                                           ;"-4" FF,FF,FF,FC
21590                              63 C           PUSH_REG1 R0                                    ;
21591 00004084 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21592                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   276
PROGRAM NAME =

21593                                 M                                           ;"-4" FF,FF,FF,FC
21594                              64 C           FAR_JSR #_KJYU_DATA_INFO_SEL,R0                 ;227.13
21595 00004086 D01A                   M           MOV.L   #_KJYU_DATA_INFO_SEL,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21596 00004088 400B                   M           JSR     @R0                     ;
21597 0000408A 0009                   M           NOP                                     ;
21598                              65 C           POP_REG1 R0                                     ;
21599                                 M                                   ; RE"+4" 00,00,00,04
21600 0000408C 60F6                   M           MOV.L   @R15+,R0        ;
21601                              66 C           POP_REG1 R5                                     ;
21602                                 M                                   ; RE"+4" 00,00,00,04
21603 0000408E 65F6                   M           MOV.L   @R15+,R5        ;
21604                              67 C   
21605                              68 C   ;;;;    FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21606                              69 C   
21607                              70             .AELSE
21608                              71             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0              ;(目標位置､実測位置作成,R0=R5=ｸﾛｰｽ
                                          ﾞするかどうか？)
21609                              72             .AENDI
21610                              73 I1  
21611                              74 I1  
21612                              75 I1  
21613 00004090 2008                76 I1          TST     R0,R0                                   ;
21614                              77 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_NOT             ;R5=工程 R0=0停止工程ではない
21615 00004092 8908                   M           BT      POS_CLS_TYP1_POSCTL1_NOT
21616                              78 I1  
21617                              79 I1  ;       ---------------2014-09-22 REPEAT-----------
21618 00004094 D117                80 I1          MOV.L   #_MOT_REP_F,R1                          ;//BIT0(ﾘﾋﾟｰﾄ動作
21619 00004096 6011                81 I1          MOV.W   @R1,R0                                  ;
21620 00004098 C801                82 I1          TST     #BIT0,R0                                ;
21621                              83 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_NOT20           ;
21622 0000409A 8B07                   M           BF      POS_CLS_TYP1_POSCTL1_NOT20
21623                              84 I1  
21624                              85 I1  
21625 0000409C D116                86 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;//設定
21626 0000409E 6211                87 I1          MOV.W   @R1,R2                                  ;
21627 000040A0 7201                88 I1          ADD     #1,R2                                   ;
21628 000040A2 3250                89 I1          CMP/EQ  R5,R2                                   ;
21629 000040A4 8B3B                90 I1          BF      POS_CLS_TYP1_POSCTL1_000                ;最終工程(戻り)ではない
21630                              91 I1  
21631                              92 I1  ;-----------2019-04-10(戻り信号のラッチ:異常時の処理チェック用)---------
21632                              93 I1  ;;;;不要でした  FAR_JSR #_HANTEN_LAST_SIG_SET,R0
21633                              94 I1  ;       --------------------------------------------------------------------
21634                              95 I1  
21635 000040A6                     96 I1  POS_CLS_TYP1_POSCTL1_NOT:                               ;
21636                              97 I1  
21637                              98 I1  ;       ===== ｻｲｸﾙﾁｪﾝｼﾞ====
21638                              99 I1  ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
21639                             100 I1          FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
21640 000040A6 D015                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21641 000040A8 400B                   M           JSR     @R0                     ;
21642 000040AA 0009                   M           NOP                                     ;
21643                             101 I1  
21644 000040AC                    102 I1  POS_CLS_TYP1_POSCTL1_NOT20:                             ;
21645                             103 I1  
21646                             104 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21647 000040AC D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21648 000040AE 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   277
PROGRAM NAME =

21649 000040B0 0009                   M           NOP                                     ;
21650                             105 I1  ;       ===========================================
21651                             106 I1  ;       ===             最終工程                ===
21652                             107 I1  ;       ===========================================
21653                             108 I1  ;       ﾊﾝﾄﾞｼｪｲｸのみ行う
21654                             109 I1  ;;      FAR_JSR #_OPEN_ROT_NEAR_ZERO_CHK,R0             ;
21655                             110 I1  
21656                             111 I1          FAR_JSR #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;(ｵｰﾌﾟﾝでﾆｱｾﾞﾛにいるかどうか)
21657 000040B2 D014                   M           MOV.L   #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21658 000040B4 400B                   M           JSR     @R0                     ;
21659 000040B6 0009                   M           NOP                                     ;
21660                             112 I1  
21661                             113 I1  
21662                             114 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21663 000040B8 D113                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21664 000040BA 410B                   M           JSR     @R1                     ;
21665 000040BC 0009                   M           NOP                                     ;
21666 000040BE C804               115 I1          TST     #BIT2,R0                                ;
21667                             116 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;払出完了?
21668 000040C0 892A                   M           BT      TYP1_OPEN_PRC_200
21669                             117 I1  
21670                             118 I1          FAR_JSR #_CPU_BA_NZR_ON_JG,R0                   ;
21671 000040C2 D012                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21672 000040C4 400B                   M           JSR     @R0                     ;
21673 000040C6 0009                   M           NOP                                     ;
21674 000040C8 2008               119 I1          TST     R0,R0                                   ;
21675                             120 I1          TST_BIT_OF TYP1_OPEN_PRC_050                    ;相手側は終わった
21676 000040CA 8903                   M           BT      TYP1_OPEN_PRC_050
21677 000040CC D110               121 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;ﾆｱｾﾞﾛ扱い
21678 000040CE 6011               122 I1          MOV.W   @R1,R0                                  ;
21679 000040D0 CB01               123 I1          OR      #BIT0,R0                                ;
21680 000040D2 2101               124 I1          MOV.W   R0,@R1                                  ;
21681 000040D4                    125 I1  TYP1_OPEN_PRC_050:
21682                             126 I1  
21683 000040D4 D10E               127 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;
21684 000040D6 6011               128 I1          MOV.W   @R1,R0                                  ;
21685 000040D8 2008               129 I1          TST     R0,R0                                   ;
21686                             130 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21687 000040DA 891D                   M           BT      TYP1_OPEN_PRC_200
21688                             131 I1  
21689                             132 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21690 000040DC D00D                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21691 000040DE 400B                   M           JSR     @R0                     ;
21692 000040E0 0009                   M           NOP                                     ;
21693 000040E2 2008               133 I1          TST     R0,R0                                   ;
21694                             134 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21695 000040E4 8918                   M           BT      TYP1_OPEN_PRC_200
21696                             135 I1  
21697 000040E6 E004               136 I1          MOV     #BIT2,R0                                ;
21698                             137 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;ﾆｱｾﾞﾛ+払い出し完了
21699 000040E8 A1AE                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21700 000040EA 0009                   M           NOP
21701                             138 I1  
21702                                 I1  ***** BEGIN-POOL *****
21703 000040EC 00000000               I1  DATA FOR SOURCE-LINE 61
21704 000040F0 00000000               I1  DATA FOR SOURCE-LINE 64
21705 000040F4 00000000               I1  DATA FOR SOURCE-LINE 80
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   278
PROGRAM NAME =

21706 000040F8 00000000               I1  DATA FOR SOURCE-LINE 86
21707 000040FC 00000000               I1  DATA FOR SOURCE-LINE 100
21708 00004100 00000000               I1  DATA FOR SOURCE-LINE 104
21709 00004104 00000000               I1  DATA FOR SOURCE-LINE 111
21710 00004108 00000000               I1  DATA FOR SOURCE-LINE 114
21711 0000410C 00000000               I1  DATA FOR SOURCE-LINE 118
21712 00004110 00000000               I1  DATA FOR SOURCE-LINE 121,127
21713 00004114 00000000               I1  DATA FOR SOURCE-LINE 132
21714                                 I1  ***** END-POOL *****
21715 00004118                    139 I1  TYP1_OPEN_PRC_200
21716 00004118 200A               140 I1          XOR     R0,R0
21717                             141 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21718 0000411A A195                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21719 0000411C 0009                   M           NOP
21720                             142 I1  
21721                             143 I1  
21722                             144 I1  
21723                             145 I1  
21724                             146 I1  ;       ===========================
21725                             147 I1  ;       ===     ﾌﾙｸﾛｰｽﾞ         ===
21726                             148 I1  ;       ===========================
21727 0000411E                    149 I1  POS_CLS_TYP1_POSCTL1_000:
21728 0000411E D108               150 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21729 00004120 6011               151 I1          MOV.W   @R1,R0                          ;
21730 00004122 C801               152 I1          TST     #BIT0,R0                        ;ｸﾛｰｽﾞ処理開始?
21731                             153 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_100     ;
21732 00004124 8B48                   M           BF      POS_CLS_TYP1_POSCTL1_100
21733                             154 I1  
21734                             155 I1  
21735                             156 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21736                             157 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   @R1,R0                          ;
21737                             158 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX
                                          量
21738                             159 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   R0,@R1                          ;
21739                             160 I1  
21740                             161 I1  ;;;     ==============2012-10-05[本来の形 2012-05-30では不具合]=============
21741                             162 I1  ;;;     MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21742                             163 I1  ;;;     MOV.W   @R1,R0                          ;
21743                             164 I1  ;;;     MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R1     ;//目標−手前
21744                             165 I1  ;;;     MOV.L   @R1,R2                          ;
21745                             166 I1  ;;;     ADD     R2,R0                           ;
21746                             167 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21747                             168 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21748                             169 I1  ;;;
21749                             170 I1  ;       ====== 2012-10-05 仕様変更 180度を最大追い込みとする====
21750                             171 I1          FAR_JSR #_FULCLS_MAXPLS_CALC,R0
21751 00004126 D007                   M           MOV.L   #_FULCLS_MAXPLS_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21752 00004128 400B                   M           JSR     @R0                     ;
21753 0000412A 0009                   M           NOP                                     ;
21754                             172 I1  
21755                             173 I1  
21756                             174 I1  
21757                             175 I1  
21758                             176 I1  ;       ===== SIG-OFF[1] =====
21759                             177 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21760 0000412C D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   279
PROGRAM NAME =

21761 0000412E 400B                   M           JSR     @R0                     ;
21762 00004130 0009                   M           NOP                                     ;
21763                             178 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;20060930POR
21764 00004132 D106                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21765 00004134 410B                   M           JSR     @R1                     ;
21766 00004136 0009                   M           NOP                                     ;
21767 00004138 C804               179 I1          TST     #BIT2,R0                                ;
21768                             180 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_050             ;[払い出しパルス終了]
21769 0000413A 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_050
21770                             181 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21771 0000413C A183                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21772 0000413E 0009                   M           NOP
21773                             182 I1  
21774                             183 I1  ;       =========================
21775                             184 I1  ;       =====(開始条件成立)======
21776                             185 I1  ;       =========================
21777                                 I1  ***** BEGIN-POOL *****
21778 00004140 00000000               I1  DATA FOR SOURCE-LINE 150
21779 00004144 00000000               I1  DATA FOR SOURCE-LINE 171
21780 00004148 00000000               I1  DATA FOR SOURCE-LINE 177
21781 0000414C 00000000               I1  DATA FOR SOURCE-LINE 178
21782                                 I1  ***** END-POOL *****
21783 00004150                    186 I1  POS_CLS_TYP1_POSCTL1_050:
21784 00004150 E001               187 I1          MOV     #BIT0,R0                                ;
21785 00004152 D10E               188 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;[step1:ｵｰﾌﾟﾝ後の起動:180度を目指
                                          す]
21786 00004154 2101               189 I1          MOV.W   R0,@R1                                  ;
21787                             190 I1  
21788                             191 I1  ;       --------- 2012-05-30----------
21789                             192 I1  ;[[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21790                             193 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0
21791 00004156 D00E                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21792 00004158 400B                   M           JSR     @R0                     ;
21793 0000415A 0009                   M           NOP                                     ;
21794                             194 I1  
21795 0000415C D10D               195 I1          MOV.L   #_PAR_NEG_EXITTIM-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;2 2012-10-5追い込
                                          み失敗の待ち時間
21796 0000415E 6011               196 I1          MOV.W   @R1,R0                                                  ;
21797 00004160 D10D               197 I1          MOV.L   #_NEG_EXITTIM,R1                                        ;//超変な針の穴を
                                          通すタイマ  2012-10-05
21798 00004162 2101               198 I1          MOV.W   R0,@R1                                                  ;
21799                             199 I1  
21800                             200 I1  
21801                             201 I1  ;       ===ｵｰﾌﾟﾝ出力完了〜ｲﾝﾁﾝｸﾞに切り替わる時のﾓ-ﾀ遅延分のﾀｲﾏ===
21802                             202 I1  ;;;2012-05-30   MOV.W   #D'50,R0                        ;50msec
21803 00004164 D10D               203 I1          MOV.L   #_FUL_CLS_DLYTM_SV,R1                   ;2012-05-30
21804 00004166 6011               204 I1          MOV.W   @R1,R0                                  ;2012-05-30
21805 00004168 D10D               205 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21806 0000416A 2101               206 I1          MOV.W   R0,@R1                                  ;遅延時間=0
21807                             207 I1  
21808                             208 I1  ;       =====2011-05-11[必要か???]======
21809                             209 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;2014-09-16悪さをしている      FAR_JSR #_FUL_START_FUL_OBJ_SET,R0
21810                             210 I1  
21811                             211 I1  
21812                             212 I1  ;       ========================
21813                             213 I1  ;       ===== 初期起動==========
21814                             214 I1  ;       ========================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   280
PROGRAM NAME =

21815                             215 I1  ;       自起動周波数=TOP-SPEED
21816                             216 I1  ;;;;2006-09-30  FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET1,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21817                             217 I1  ;       -----------------------------
21818                             218 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21819 0000416C D00D                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21820 0000416E 400B                   M           JSR     @R0                     ;
21821 00004170 0009                   M           NOP                                     ;
21822                             219 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;2007-07-07
21823 00004172 D00D                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21824 00004174 400B                   M           JSR     @R0                     ;
21825 00004176 0009                   M           NOP                                     ;
21826                             220 I1  ;       -----------------------------
21827                             221 I1  ;;;;;;;;;;;;    FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21828                             222 I1  ;
21829 00004178 D10C               223 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
21830 0000417A 6312               224 I1          MOV.L   @R1,R3                                  ;30000ﾊﾟﾙｽでしょう2012-05-30ｺﾒﾝﾄ
21831                             225 I1                                                          ;2012-10-05 2BYTE->4BYTE 型U2B->U4
                                          Bに変更
21832                             226 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21833 0000417C D00C                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21834 0000417E 400B                   M           JSR     @R0                     ;
21835 00004180 0009                   M           NOP                                     ;
21836                             227 I1  
21837                             228 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21838                             229 C   ;       -------2015-03-15[R01:2014-08-20]--------
21839                             230 C           FAR_JSR #_KAJYU_START_UPCHK,R0
21840 00004182 D00C                   M           MOV.L   #_KAJYU_START_UPCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21841 00004184 400B                   M           JSR     @R0                     ;
21842 00004186 0009                   M           NOP                                     ;
21843                             231 I1          .AENDI
21844                             232 I1  
21845                             233 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT   ;
21846 00004188 A15D                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21847 0000418A 0009                   M           NOP
21848                             234 I1  
21849                                 I1  ***** BEGIN-POOL *****
21850 0000418C 00000000               I1  DATA FOR SOURCE-LINE 188
21851 00004190 00000000               I1  DATA FOR SOURCE-LINE 193
21852 00004194 00000000               I1  DATA FOR SOURCE-LINE 195
21853 00004198 00000000               I1  DATA FOR SOURCE-LINE 197
21854 0000419C 00000000               I1  DATA FOR SOURCE-LINE 203
21855 000041A0 00000000               I1  DATA FOR SOURCE-LINE 205
21856 000041A4 00000000               I1  DATA FOR SOURCE-LINE 218
21857 000041A8 00000000               I1  DATA FOR SOURCE-LINE 219
21858 000041AC 00000000               I1  DATA FOR SOURCE-LINE 223
21859 000041B0 00000000               I1  DATA FOR SOURCE-LINE 226
21860 000041B4 00000000               I1  DATA FOR SOURCE-LINE 230
21861                                 I1  ***** END-POOL *****
21862 000041B8                    235 I1  POS_CLS_TYP1_POSCTL1_100:
21863 000041B8                    236 I1  POS_CLS_TYP1_POSCTL1_105:                       ;
21864                             237 I1  ;-----------------------とりあえずここ-----------------
21865                             238 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;[2015-07-22]
21866 000041B8 D10A                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
21867 000041BA 6412                   M           MOV.L   @R1,R4          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   281
PROGRAM NAME =

21868 000041BC 2448                   M           TST     R4,R4                   ;
21869 000041BE 8901                   M           BT      JMP_0100015                     ;ZERO THEN JUMP
21870 000041C0 4410                   M           DT      R4                              ;
21871 000041C2 2142                   M           MOV.L   R4,@R1          ;STORE
21872 000041C4                        M   JMP_0100015:
21873                             239 I1  
21874                             240 I1  
21875                             241 I1  ;       ===========================
21876                             242 I1  ;       ===     最終遷移        ===
21877                             243 I1  ;       ===========================
21878 000041C4 D108               244 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21879 000041C6 6011               245 I1          MOV.W   @R1,R0                                  ;
21880 000041C8 C840               246 I1          TST     #BIT6,R0                                ;
21881                             247 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_110
21882 000041CA 8915                   M           BT      POS_CLS_TYP1_POSCTL1_110
21883                             248 I1  
21884                             249 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                        ;
21885 000041CC D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21886 000041CE 410B                   M           JSR     @R1                     ;
21887 000041D0 0009                   M           NOP                                     ;
21888 000041D2 C804               250 I1          TST     #BIT2,R0                                ;
21889                             251 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_107             ;
21890 000041D4 8904                   M           BT      POS_CLS_TYP1_POSCTL1_107
21891                             252 I1  
21892                             253 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21893 000041D6 D006                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21894 000041D8 400B                   M           JSR     @R0                     ;
21895 000041DA 0009                   M           NOP                                     ;
21896 000041DC 2008               254 I1          TST     R0,R0                                   ;
21897                             255 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_108             ;
21898 000041DE 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_108
21899 000041E0                    256 I1  POS_CLS_TYP1_POSCTL1_107:                               ;
21900                             257 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21901 000041E0 A131                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21902 000041E2 0009                   M           NOP
21903                             258 I1  
21904                                 I1  ***** BEGIN-POOL *****
21905 000041E4 00000000               I1  DATA FOR SOURCE-LINE 238
21906 000041E8 00000000               I1  DATA FOR SOURCE-LINE 244
21907 000041EC 00000000               I1  DATA FOR SOURCE-LINE 249
21908 000041F0 00000000               I1  DATA FOR SOURCE-LINE 253
21909                                 I1  ***** END-POOL *****
21910 000041F4                    259 I1  POS_CLS_TYP1_POSCTL1_108:                               ;
21911                             260 I1          M_BRA   POS_CLS_TYP1_POSCTL1_PC_END             ;終了
21912 000041F4 A124                   M           BRA     POS_CLS_TYP1_POSCTL1_PC_END
21913 000041F6 0009                   M           NOP
21914                             261 I1  
21915                             262 I1  ;       ====================================
21916                             263 I1  ;       ===     通常運転or特殊な状態    ====
21917                             264 I1  ;       ====================================
21918 000041F8                    265 I1  POS_CLS_TYP1_POSCTL1_110:
21919                             266 I1  
21920                             267 I1  ;       ---------------- 2012-05-30　[[neg]][[払い出して達しなければSQへ出力するが次へ進む
                                          ]]-----------
21921 000041F8 D106               268 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
21922 000041FA 6011               269 I1          MOV.W   @R1,R0                          ;
21923 000041FC C801               270 I1          TST     #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   282
PROGRAM NAME =

21924                             271 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_112     ;
21925 000041FE 890F                   M           BT      POS_CLS_TYP1_POSCTL1_112
21926 00004200 9006               272 I1          MOV.W   #(BIT2+BIT0),R0                 ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21927 00004202 D105               273 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21928 00004204 2101               274 I1          MOV.W   R0,@R1                          ;
21929                             275 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0    ;
21930 00004206 D005                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21931 00004208 400B                   M           JSR     @R0                     ;
21932 0000420A 0009                   M           NOP                                     ;
21933                             276 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OVER98     ;
21934 0000420C A042                   M           BRA     POS_CLS_TYP1_POSCTL1_OVER98
21935 0000420E 0009                   M           NOP
21936                                 I1  ***** BEGIN-POOL *****
21937 00004210 0005                   I1  DATA FOR SOURCE-LINE 272
21938 00004212 0000                   I1  ALIGNMENT CODE
21939 00004214 00000000               I1  DATA FOR SOURCE-LINE 268
21940 00004218 00000000               I1  DATA FOR SOURCE-LINE 273
21941 0000421C 00000000               I1  DATA FOR SOURCE-LINE 275
21942                                 I1  ***** END-POOL *****
21943 00004220                    277 I1  POS_CLS_TYP1_POSCTL1_112:
21944                             278 I1  ;       -----------------------------------------
21945 00004220 D102               279 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21946 00004222 6011               280 I1          MOV.W   @R1,R0                                  ;
21947 00004224 C806               281 I1          TST     #(BIT2+BIT1),R0                         ;
21948                             282 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_113             ;
21949 00004226 8B03                   M           BF      POS_CLS_TYP1_POSCTL1_113
21950                             283 I1          M_BRA   POS_CLS_TYP1_POSCTL1_200                ;(通常制御)
21951 00004228 A094                   M           BRA     POS_CLS_TYP1_POSCTL1_200
21952 0000422A 0009                   M           NOP
21953                             284 I1  
21954                                 I1  ***** BEGIN-POOL *****
21955 0000422C 00000000               I1  DATA FOR SOURCE-LINE 279
21956                                 I1  ***** END-POOL *****
21957 00004230                    285 I1  POS_CLS_TYP1_POSCTL1_113:
21958                             286 I1  
21959                             287 I1  ;       ====== 1回ﾆｱｾﾞﾛに入ってからの処理======
21960                             288 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21961 00004230 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21962 00004232 400B                   M           JSR     @R0                     ;
21963 00004234 0009                   M           NOP                                     ;
21964                             289 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21965 00004236 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21966 00004238 410B                   M           JSR     @R1                     ;
21967 0000423A 0009                   M           NOP                                     ;
21968 0000423C C804               290 I1          TST     #BIT2,R0                                ;
21969                             291 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_115             ;
21970 0000423E 8B05                   M           BF      POS_CLS_TYP1_POSCTL1_115
21971                             292 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21972 00004240 A101                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21973 00004242 0009                   M           NOP
21974                             293 I1  
21975                                 I1  ***** BEGIN-POOL *****
21976 00004244 00000000               I1  DATA FOR SOURCE-LINE 288
21977 00004248 00000000               I1  DATA FOR SOURCE-LINE 289
21978                                 I1  ***** END-POOL *****
21979 0000424C                    294 I1  POS_CLS_TYP1_POSCTL1_115:                               ;
21980 0000424C D103               295 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   283
PROGRAM NAME =

21981 0000424E 6011               296 I1          MOV.W   @R1,R0                                  ;遅延時間=0
21982 00004250 2008               297 I1          TST     R0,R0                                   ;
21983                             298 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_117             ;
21984 00004252 8905                   M           BT      POS_CLS_TYP1_POSCTL1_117
21985 00004254 70FF               299 I1          ADD     #-1,R0                                  ;
21986 00004256 2101               300 I1          MOV.W   R0,@R1                                  ;
21987                             301 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21988 00004258 A0F5                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21989 0000425A 0009                   M           NOP
21990                                 I1  ***** BEGIN-POOL *****
21991 0000425C 00000000               I1  DATA FOR SOURCE-LINE 295
21992                                 I1  ***** END-POOL *****
21993 00004260                    302 I1  POS_CLS_TYP1_POSCTL1_117:                               ;
21994                             303 I1  
21995                             304 I1  ;       ==== 停止した ====
21996                             305 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21997                             306 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21998 00004260 D008                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21999 00004262 400B                   M           JSR     @R0                     ;
22000 00004264 0009                   M           NOP                                     ;
22001                             307 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
22002 00004266 D008                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22003 00004268 400B                   M           JSR     @R0                     ;
22004 0000426A 0009                   M           NOP                                     ;
22005                             308 C           FAR_JSR #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;[1度ﾆｱｾﾞﾛに入ってからの処理]
22006 0000426C D007                   M           MOV.L   #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22007 0000426E 400B                   M           JSR     @R0                     ;
22008 00004270 0009                   M           NOP                                     ;
22009                             309 I1          .AENDI
22010                             310 I1  
22011                             311 I1  
22012 00004272 8800               312 I1          CMP/EQ  #0,R0                                   ;
22013 00004274 8913               313 I1          BT      POS_CLS_TYP1_POSCTL1_ED050              ;[step3]今もﾆｱｾﾞﾛ内なら完了
22014                             314 I1  
22015                             315 I1          FAR_JSR #_OVER_DIG_CHK,R0                       ;
22016 00004276 D006                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22017 00004278 400B                   M           JSR     @R0                     ;
22018 0000427A 0009                   M           NOP                                     ;
22019 0000427C 2008               316 I1          TST     R0,R0                                   ;
22020                             317 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_OVER99          ;
22021 0000427E 8B0B                   M           BF      POS_CLS_TYP1_POSCTL1_OVER99
22022                             318 I1          M_BRA   POS_CLS_TYP1_POSCTL1_118                ;
22023 00004280 A02C                   M           BRA     POS_CLS_TYP1_POSCTL1_118
22024 00004282 0009                   M           NOP
22025                             319 I1  
22026                             320 I1  
22027                             321 I1  
22028                             322 I1  
22029                             323 I1  ;       ===================================
22030                             324 I1  ;       ==== ﾆｱｾﾞﾛ範囲内 終了決定       ===
22031                             325 I1  ;       ===================================
22032                                 I1  ***** BEGIN-POOL *****
22033 00004284 00000000               I1  DATA FOR SOURCE-LINE 306
22034 00004288 00000000               I1  DATA FOR SOURCE-LINE 307
22035 0000428C 00000000               I1  DATA FOR SOURCE-LINE 308
22036 00004290 00000000               I1  DATA FOR SOURCE-LINE 315
22037                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   284
PROGRAM NAME =

22038 00004294                    326 I1  POS_CLS_TYP1_POSCTL1_OVER98:                            ;
22039 00004294 0009               327 I1          nop
22040 00004296 0009               328 I1          nop
22041 00004298                    329 I1  POS_CLS_TYP1_POSCTL1_OVER99:                            ;
22042 00004298 0009               330 I1          nop
22043 0000429A 0009               331 I1          nop
22044 0000429C 0009               332 I1          nop
22045                             333 I1  
22046 0000429E                    334 I1  POS_CLS_TYP1_POSCTL1_ED050:
22047 0000429E 0009               335 I1          nop
22048 000042A0 0009               336 I1          nop
22049                             337 I1  
22050                             338 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
22051 000042A2 D009                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22052 000042A4 400B                   M           JSR     @R0                     ;
22053 000042A6 0009                   M           NOP                                     ;
22054                             339 I1  ;       ====== 二重回路対策<CPUA>===========
22055 000042A8 D108               340 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;やめる事を決定
22056 000042AA 6011               341 I1          MOV.W   @R1,R0                                  ;
22057 000042AC CB40               342 I1          OR      #BIT6,R0                                ;
22058 000042AE 2101               343 I1          MOV.W   R0,@R1                                  ;
22059                             344 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22060 000042B0 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22061 000042B2 400B                   M           JSR     @R0                     ;
22062 000042B4 0009                   M           NOP                                     ;
22063                             345 I1  
22064                             346 I1  ;       ==================================
22065                             347 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
22066 000042B6 D007                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22067 000042B8 400B                   M           JSR     @R0                     ;
22068 000042BA 0009                   M           NOP                                     ;
22069                             348 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
22070 000042BC D006                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22071 000042BE 400B                   M           JSR     @R0                     ;
22072 000042C0 0009                   M           NOP                                     ;
22073                             349 I1  ;       ==================================
22074                             350 I1  
22075                             351 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22076 000042C2 A0C0                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22077 000042C4 0009                   M           NOP
22078                             352 I1  
22079                             353 I1  ;       ===========================
22080                             354 I1  ;       ====== ｲﾝﾁﾝｸﾞ処理==========
22081                             355 I1  ;       ===========================
22082                                 I1  ***** BEGIN-POOL *****
22083 000042C6 0000                   I1  ALIGNMENT CODE
22084 000042C8 00000000               I1  DATA FOR SOURCE-LINE 338
22085 000042CC 00000000               I1  DATA FOR SOURCE-LINE 340
22086 000042D0 00000000               I1  DATA FOR SOURCE-LINE 344
22087 000042D4 00000000               I1  DATA FOR SOURCE-LINE 347
22088 000042D8 00000000               I1  DATA FOR SOURCE-LINE 348
22089                                 I1  ***** END-POOL *****
22090 000042DC                    356 I1  POS_CLS_TYP1_POSCTL1_118:                               ;[step3 ﾊﾟﾙｽ出力停止し50msec後毎で
                                          ここにくる]
22091                             357 I1  ;       === 再起動処理(再起動時はKP=1) ====
22092                             358 I1  ;       (方向作成)
22093                             359 I1  ;       (ﾃﾞｰﾀ作成)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   285
PROGRAM NAME =

22094                             360 I1  
22095                             361 I1  ;       ----------- 2015-06-22[荷重・位置共通]--------------
22096 000042DC D108               362 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;
22097 000042DE 6011               363 I1          MOV.W   @R1,R0                          ;
22098 000042E0 D108               364 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22099 000042E2 2101               365 I1          MOV.W   R0,@R1                          ;
22100                             366 I1  
22101                             367 I1  
22102                             368 I1  ;       ------- 2015-03-15[R01:2014-07-15] ----------
22103                             369 I1          .AIF    1 EQ    1               ;
22104 000042E4 D108               370 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22105 000042E6 6011               371 C           MOV.W   @R1,R0                                  ;
22106 000042E8 2008               372 C           TST     R0,R0
22107                             373 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119A            ;位置の速度JUMP
22108 000042EA 8913                   M           BT      POS_CLS_TYP1_POSCTL1_119A
22109                             374 C   
22110                             375 C   ;       -----------2015-06-22--------
22111                             376 C   ;       [未出力[ﾆｱｾﾞﾛ]/再起動ﾊﾟﾙｽ,遅延周期選択追加]
22112                             377 C           FAR_JSR #_RESTART_WAIT_PLS_DATA_SELECT,R0       ;
22113 000042EC D007                   M           MOV.L   #_RESTART_WAIT_PLS_DATA_SELECT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22114 000042EE 400B                   M           JSR     @R0                     ;
22115 000042F0 0009                   M           NOP                                     ;
22116 000042F2 2008               378 C           TST     R0,R0                                   ;
22117                             379 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119E_EX         ;
22118 000042F4 891F                   M           BT      POS_CLS_TYP1_POSCTL1_119E_EX
22119                             380 C   
22120                             381 C           FAR_JSR #_REVRSE_KAJYU_AREACHK_BASSET,R0        ;荷重:_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟ
                                          ﾗから
22121 000042F6 D006                   M           MOV.L   #_REVRSE_KAJYU_AREACHK_BASSET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22122 000042F8 400B                   M           JSR     @R0                     ;
22123 000042FA 0009                   M           NOP                                     ;
22124                             382 C           M_BRA   POS_CLS_TYP1_POSCTL1_119E               ;
22125 000042FC A00D                   M           BRA     POS_CLS_TYP1_POSCTL1_119E
22126 000042FE 0009                   M           NOP
22127                             383 C   
22128                             384 C   
22129                                 C   ***** BEGIN-POOL *****
22130 00004300 00000000               C   DATA FOR SOURCE-LINE 362
22131 00004304 00000000               C   DATA FOR SOURCE-LINE 364
22132 00004308 00000000               C   DATA FOR SOURCE-LINE 370
22133 0000430C 00000000               C   DATA FOR SOURCE-LINE 377
22134 00004310 00000000               C   DATA FOR SOURCE-LINE 381
22135                                 C   ***** END-POOL *****
22136 00004314                    385 C   POS_CLS_TYP1_POSCTL1_119A:                              ;
22137                             386 C           FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
22138 00004314 D009                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22139 00004316 400B                   M           JSR     @R0                     ;
22140 00004318 0009                   M           NOP                                     ;
22141 0000431A                    387 C   POS_CLS_TYP1_POSCTL1_119E:                              ;
22142                             388 I1          .AENDI
22143                             389 I1  
22144                             390 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;R6破壊
22145 0000431A D009                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22146 0000431C 400B                   M           JSR     @R0                     ;
22147 0000431E 0009                   M           NOP                                     ;
22148                             391 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   286
PROGRAM NAME =

22149                             392 I1  ;       ------ 2015-06-22 ---------
22150                             393 I1  ;;;;    MOV.L   #_SET1_INCPOS_KP01,R1                   ;
22151                             394 I1  ;;;;    MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
22152 00004320 D108               395 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1              ;
22153 00004322 6311               396 I1          MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
22154                             397 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
22155 00004324 D008                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22156 00004326 400B                   M           JSR     @R0                     ;
22157 00004328 0009                   M           NOP                                     ;
22158 0000432A E005               398 I1          MOV     #(BIT2+BIT0),R0                         ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
22159 0000432C D107               399 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22160 0000432E 2101               400 I1          MOV.W   R0,@R1                                  ;
22161                             401 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
22162 00004330 D007                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22163 00004332 400B                   M           JSR     @R0                     ;
22164 00004334 0009                   M           NOP                                     ;
22165 00004336                    402 I1  POS_CLS_TYP1_POSCTL1_119E_EX:                           ;
22166                             403 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22167 00004336 A086                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22168 00004338 0009                   M           NOP
22169                             404 I1  
22170                             405 I1  
22171                             406 I1  ;       =========通常運転(ﾆｱｾﾞﾛ待ち) =====
22172                                 I1  ***** BEGIN-POOL *****
22173 0000433A 0000                   I1  ALIGNMENT CODE
22174 0000433C 00000000               I1  DATA FOR SOURCE-LINE 386
22175 00004340 00000000               I1  DATA FOR SOURCE-LINE 390
22176 00004344 00000000               I1  DATA FOR SOURCE-LINE 395
22177 00004348 00000000               I1  DATA FOR SOURCE-LINE 397
22178 0000434C 00000000               I1  DATA FOR SOURCE-LINE 399
22179 00004350 00000000               I1  DATA FOR SOURCE-LINE 401
22180                                 I1  ***** END-POOL *****
22181 00004354                    407 I1  POS_CLS_TYP1_POSCTL1_200:
22182                             408 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22183                             409 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22184 00004354 D00C                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22185 00004356 400B                   M           JSR     @R0                     ;
22186 00004358 0009                   M           NOP                                     ;
22187                             410 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
22188 0000435A D00C                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22189 0000435C 400B                   M           JSR     @R0                     ;
22190 0000435E 0009                   M           NOP                                     ;
22191                             411 C           FAR_JSR #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0    ;
22192 00004360 D00B                   M           MOV.L   #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22193 00004362 400B                   M           JSR     @R0                     ;
22194 00004364 0009                   M           NOP                                     ;
22195                             412 C   
22196                             413 I1          .AENDI
22197                             414 I1  
22198                             415 I1  
22199 00004366 8800               416 I1          CMP/EQ  #0,R0                                                   ;
22200 00004368 8B1C               417 I1          BF      POS_CLS_TYP1_POSCTL1_220                                        ;
22201                             418 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;[step2:停
                                          止]
22202 0000436A D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22203 0000436C 400B                   M           JSR     @R0                     ;
22204 0000436E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   287
PROGRAM NAME =

22205                             419 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22206 00004370 D009                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22207 00004372 400B                   M           JSR     @R0                     ;
22208 00004374 0009                   M           NOP                                     ;
22209                             420 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22210 00004376 D109                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22211 00004378 6011                   M           MOV.W   @R1,R0          ;
22212 0000437A CB02                   M           OR      #BIT1,R0                ;
22213 0000437C 2101                   M           MOV.W   R0,@R1          ;
22214                             421 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22215 0000437E D008                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22216 00004380 400B                   M           JSR     @R0                     ;
22217 00004382 0009                   M           NOP                                     ;
22218                             422 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;ﾆｱｾﾞﾛにはいった
22219 00004384 A05F                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22220 00004386 0009                   M           NOP
22221                             423 I1  
22222                                 I1  ***** BEGIN-POOL *****
22223 00004388 00000000               I1  DATA FOR SOURCE-LINE 409
22224 0000438C 00000000               I1  DATA FOR SOURCE-LINE 410
22225 00004390 00000000               I1  DATA FOR SOURCE-LINE 411
22226 00004394 00000000               I1  DATA FOR SOURCE-LINE 418
22227 00004398 00000000               I1  DATA FOR SOURCE-LINE 419
22228 0000439C 00000000               I1  DATA FOR SOURCE-LINE 420
22229 000043A0 00000000               I1  DATA FOR SOURCE-LINE 421
22230                                 I1  ***** END-POOL *****
22231 000043A4                    424 I1  POS_CLS_TYP1_POSCTL1_220:
22232                             425 I1  
22233                             426 I1  ;       input R0
22234                             427 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22235                             428 C   ;       -----------2015-03-15 荷重の場合ニアゼロにならないからここでオーバを見る--------
22236                             429 C           PUSH_REG1 R0
22237 000043A4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22238                                 M                                           ;REG=>[SP]
22239                                 M                                           ;"-4" FF,FF,FF,FC
22240                             430 C           FAR_JSR #_OVER_DIG_CHK,R0
22241 000043A6 D004                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22242 000043A8 400B                   M           JSR     @R0                     ;
22243 000043AA 0009                   M           NOP                                     ;
22244 000043AC 6103               431 C           MOV     R0,R1                                                           ;
22245                             432 C           POP_REG1 R0
22246                                 M                                   ; RE"+4" 00,00,00,04
22247 000043AE 60F6                   M           MOV.L   @R15+,R0        ;
22248                             433 C   
22249 000043B0 2118               434 C           TST     R1,R1
22250                             435 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_222                     ;
22251 000043B2 8903                   M           BT      POS_CLS_TYP1_POSCTL1_222
22252                             436 C           M_BRA   POS_CLS_TYP1_POSCTL1_250                        ;
22253 000043B4 A010                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22254 000043B6 0009                   M           NOP
22255                             437 I1          .AENDI
22256                             438 I1  
22257                                 I1  ***** BEGIN-POOL *****
22258 000043B8 00000000               I1  DATA FOR SOURCE-LINE 430
22259                                 I1  ***** END-POOL *****
22260 000043BC                    439 I1  POS_CLS_TYP1_POSCTL1_222:
22261                             440 I1  ;       -----------------------------------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   288
PROGRAM NAME =

22262                             441 I1  
22263                             442 I1  
22264                             443 I1  
22265                             444 I1  
22266 000043BC 4011               445 I1          CMP/PZ  R0                                      ;+?
22267 000043BE 8B07               446 I1          BF      POS_CLS_TYP1_POSCTL1_240                ;NO ﾏｲﾅｽ
22268                             447 I1  ;       === ＋方向へ行き過ぎている　ﾏｲﾅｽへ向かうべきだ  ;
22269 000043C0 D402               448 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22270 000043C2 6041               449 I1          MOV.W   @R4,R0                                  ;
22271 000043C4 C801               450 I1          TST     #BIT0,R0                                ;
22272                             451 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_260             ;OK
22273 000043C6 8B21                   M           BF      POS_CLS_TYP1_POSCTL1_260
22274                             452 I1          M_BRA   POS_CLS_TYP1_POSCTL1_250                ;
22275 000043C8 A006                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22276 000043CA 0009                   M           NOP
22277                             453 I1  
22278                                 I1  ***** BEGIN-POOL *****
22279 000043CC 00000000               I1  DATA FOR SOURCE-LINE 448
22280                                 I1  ***** END-POOL *****
22281 000043D0                    454 I1  POS_CLS_TYP1_POSCTL1_240:
22282 000043D0 D409               455 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22283 000043D2 6041               456 I1          MOV.W   @R4,R0                                  ;
22284 000043D4 C801               457 I1          TST     #BIT0,R0                                ;
22285                             458 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_260             ;OK
22286 000043D6 8919                   M           BT      POS_CLS_TYP1_POSCTL1_260
22287                             459 I1  
22288                             460 I1  ;       ======== 行き過ぎた ====
22289 000043D8                    461 I1  POS_CLS_TYP1_POSCTL1_250:
22290                             462 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;
22291 000043D8 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22292 000043DA 400B                   M           JSR     @R0                     ;
22293 000043DC 0009                   M           NOP                                     ;
22294                             463 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22295 000043DE D008                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22296 000043E0 400B                   M           JSR     @R0                     ;
22297 000043E2 0009                   M           NOP                                     ;
22298                             464 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22299 000043E4 D107                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22300 000043E6 6011                   M           MOV.W   @R1,R0          ;
22301 000043E8 CB02                   M           OR      #BIT1,R0                ;
22302 000043EA 2101                   M           MOV.W   R0,@R1          ;
22303                             465 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22304 000043EC D006                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22305 000043EE 400B                   M           JSR     @R0                     ;
22306 000043F0 0009                   M           NOP                                     ;
22307                             466 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT                                   ;
22308 000043F2 A028                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22309 000043F4 0009                   M           NOP
22310                             467 I1  
22311                                 I1  ***** BEGIN-POOL *****
22312 000043F6 0000                   I1  ALIGNMENT CODE
22313 000043F8 00000000               I1  DATA FOR SOURCE-LINE 455
22314 000043FC 00000000               I1  DATA FOR SOURCE-LINE 462
22315 00004400 00000000               I1  DATA FOR SOURCE-LINE 463
22316 00004404 00000000               I1  DATA FOR SOURCE-LINE 464
22317 00004408 00000000               I1  DATA FOR SOURCE-LINE 465
22318                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   289
PROGRAM NAME =

22319 0000440C                    468 I1  POS_CLS_TYP1_POSCTL1_260:
22320                             469 I1  
22321                             470 I1  ;-------------------------2012-05-30 CHECK ----------------
22322                             471 I1  ;;[[neg]]
22323                             472 I1  ;;[[neg]]       MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22324                             473 I1  ;;[[neg]]       MOV.W   @R1,R0                                                  ;
22325                             474 I1  ;;[[neg]]       CMP/EQ  #1,R0                                                   ;
22326                             475 I1  ;;[[neg]]       BF      POS_CLS_TYP1_POSCTL1_280                                ;
22327                             476 I1  ;;[[neg]]
22328 0000440C D108               477 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22329 0000440E 6011               478 I1          MOV.W   @R1,R0                                  ;
22330 00004410 C806               479 I1          TST     #(BIT2+BIT1),R0                         ;
22331                             480 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_280             ;(通常制御)
22332 00004412 8B0A                   M           BF      POS_CLS_TYP1_POSCTL1_280
22333                             481 I1  
22334                             482 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22335 00004414 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22336 00004416 400B                   M           JSR     @R0                     ;
22337 00004418 0009                   M           NOP                                     ;
22338                             483 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
22339 0000441A D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22340 0000441C 410B                   M           JSR     @R1                     ;
22341 0000441E 0009                   M           NOP                                     ;
22342 00004420 C804               484 I1          TST     #BIT2,R0                                ;
22343                             485 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_280             ;まだﾊﾟﾙｽがある
22344 00004422 8902                   M           BT      POS_CLS_TYP1_POSCTL1_280
22345                             486 I1  
22346                             487 I1  ;       ---ﾊﾟﾙｽがなくなった---
22347                             488 I1          FAR_JSR #_FULCLS_MAXOVER_ERR_WT,R0              ;2012-05-30/2012-10-05
22348 00004424 D005                   M           MOV.L   #_FULCLS_MAXOVER_ERR_WT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22349 00004426 400B                   M           JSR     @R0                     ;
22350 00004428 0009                   M           NOP                                     ;
22351                             489 I1  
22352                             490 I1  ;       ----------------------------------------------------------
22353 0000442A                    491 I1  POS_CLS_TYP1_POSCTL1_280:
22354                             492 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22355 0000442A A00C                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22356 0000442C 0009                   M           NOP
22357                             493 I1  
22358                             494 I1  
22359                             495 I1  
22360                                 I1  ***** BEGIN-POOL *****
22361 0000442E 0000                   I1  ALIGNMENT CODE
22362 00004430 00000000               I1  DATA FOR SOURCE-LINE 477
22363 00004434 00000000               I1  DATA FOR SOURCE-LINE 482
22364 00004438 00000000               I1  DATA FOR SOURCE-LINE 483
22365 0000443C 00000000               I1  DATA FOR SOURCE-LINE 488
22366                                 I1  ***** END-POOL *****
22367 00004440                    496 I1  POS_CLS_TYP1_POSCTL1_PC_END:
22368 00004440 E004               497 I1          MOV     #BIT2,R0                                ;
22369                             498 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
22370 00004442 A001                   M           BRA     POS_CLS_TYP1_POSCTL1_END
22371 00004444 0009                   M           NOP
22372                             499 I1  
22373 00004446                    500 I1  POS_CLS_TYP1_POSCTL1_OUT_WAIT:                          ;
22374 00004446 200A               501 I1          XOR     R0,R0                                   ;まだよ
22375 00004448                    502 I1  POS_CLS_TYP1_POSCTL1_END:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   290
PROGRAM NAME =

22376                             503 I1  
22377                             504 I1  ;;;;2018-02-10  PUSH_REG1 R0
22378                             505 I1  ;;;;2018-02-10  PUSH_REG1 R1
22379                             506 I1  ;;;;2018-02-10  MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
22380                             507 I1  ;;;;2018-02-10  MOV.W   @R1,R0                          ;
22381                             508 I1  ;;;;2018-02-10  MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;247.0/247.1
22382                             509 I1  ;;;;2018-02-10  MOV.W   R0,@R1                          ;
22383                             510 I1  ;;;;2018-02-10  POP_REG1 R1
22384                             511 I1  ;;;;2018-02-10  POP_REG1 R0
22385                             512 I1  
22386                             513 I1          SUB_END
22387                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22388 00004448 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22389                             514 I1          M_RTS
22390 0000444A 000B                   M           RTS                             ;RTSの後ろの
22391 0000444C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22392                             515 I1  
22393                             516 I1  
22394                             517 I1  ;       ***************************
22395                             518 I1  ;       ***                     ***
22396                             519 I1  ;       ***     2015-06-22      ***
22397                             520 I1  ;;      ***                     ***
22398                             521 I1  ;       ***************************
22399                             522 I1  ;       出力しない,ﾊﾟﾙｽ,遅延周期を設定
22400                             523 I1  ;       ANS:R0=0:出力しない
22401                             524 I1  ;
22402 0000444E                    525 I1  _RESTART_WAIT_PLS_DATA_SELECT:
22403                             526 I1          SUB_START
22404 0000444E 4F22                   M           STS.L   PR,@-R15                ;[必要]
22405                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22406                             527 I1  
22407                             528 I1  
22408                             529 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0                 ;0,1,-1,-2
22409 00004450 D008                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22410 00004452 400B                   M           JSR     @R0                     ;
22411 00004454 0009                   M           NOP                                     ;
22412 00004456 2008               530 I1          TST     R0,R0                                   ;
22413                             531 I1          TST_BIT_OF RESTART_WAIT_PLS_DATASEL_END         ;[ﾘｽﾀｰﾄしない]
22414 00004458 891F                   M           BT      RESTART_WAIT_PLS_DATASEL_END
22415                             532 I1  
22416 0000445A 4011               533 I1          CMP/PZ  R0                                      ;+()
22417 0000445C 8914               534 I1          BT      RESTART_WAIT_PLS_DATASEL_100            ;
22418                             535 I1  
22419                             536 I1  ;       ---------範囲外---------
22420                             537 I1  ;;;;H2W MOV.L   #_SVP_OUTPLS_HOSA,R1            ;44
22421                             538 I1  
22422 0000445E D106               539 I1          MOV.L   #_PAR_KAJYU_CTIM1-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;368:範囲外
22423 00004460 6011               540 I1          MOV.W   @R1,R0                          ;
22424 00004462 D106               541 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22425 00004464 2101               542 I1          MOV.W   R0,@R1                          ;遅延時間=0
22426                             543 I1  
22427 00004466 D106               544 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;31
22428 00004468 6011               545 I1          MOV.W   @R1,R0                          ;
22429 0000446A D106               546 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22430 0000446C 2101               547 I1          MOV.W   R0,@R1                          ;
22431                             548 I1  
22432                             549 I1          M_BRA   RESTART_WAIT_PLS_DATASEL_OUT            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   291
PROGRAM NAME =

22433 0000446E A013                   M           BRA     RESTART_WAIT_PLS_DATASEL_OUT
22434 00004470 0009                   M           NOP
22435                             550 I1  
22436                             551 I1  ;       ------------ニアゼロ範囲内-------------
22437                                 I1  ***** BEGIN-POOL *****
22438 00004472 0000                   I1  ALIGNMENT CODE
22439 00004474 00000000               I1  DATA FOR SOURCE-LINE 529
22440 00004478 00000000               I1  DATA FOR SOURCE-LINE 539
22441 0000447C 00000000               I1  DATA FOR SOURCE-LINE 541
22442 00004480 00000000               I1  DATA FOR SOURCE-LINE 544
22443 00004484 00000000               I1  DATA FOR SOURCE-LINE 546
22444                                 I1  ***** END-POOL *****
22445 00004488                    552 I1  RESTART_WAIT_PLS_DATASEL_100:
22446                             553 I1  
22447                             554 I1  ;;;H2W  MOV.L   #_SVP_OUTPLS_HOSB,R1            ;45
22448 00004488 D105               555 I1          MOV.L   #_PAR_KAJYU_CTIM2-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;369:範囲内
22449 0000448A 6011               556 I1          MOV.W   @R1,R0                          ;
22450 0000448C D105               557 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22451 0000448E 2101               558 I1          MOV.W   R0,@R1                          ;遅延時間=0
22452                             559 I1  
22453 00004490 D105               560 I1          MOV.L   #_SET1_RNAPOS_KP01,R1           ;
22454 00004492 6011               561 I1          MOV.W   @R1,R0                          ;
22455 00004494 D105               562 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22456 00004496 2101               563 I1          MOV.W   R0,@R1                          ;
22457                             564 I1  
22458 00004498                    565 I1  RESTART_WAIT_PLS_DATASEL_OUT:
22459 00004498 E001               566 I1          MOV.B   #1,R0                                   ;START
22460 0000449A                    567 I1  RESTART_WAIT_PLS_DATASEL_END:
22461                             568 I1  
22462                             569 I1          SUB_END
22463                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22464 0000449A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22465                             570 I1          M_RTS
22466 0000449C 000B                   M           RTS                             ;RTSの後ろの
22467 0000449E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22468                             571 I1  
22469                             572 I1  
22470                             573 I1  
22471                             574 I1  ;       *******************************************
22472                             575 I1  ;       ***                                     ***
22473                             576 I1  ;       ***                                     ***
22474                             577 I1  ;       ***                                     ***
22475                             578 I1  ;       ***                                     ***
22476                             579 I1  ;       *******************************************
22477                             580 I1          .IMPORT _POSCHG_LINK_DIG_TO_LINK_PLS            ;
22478                             581 I1          .IMPORT _OBJ_POS_DIG_MAK                        ;2015-03-15[R01:2014-08-20]
22479                             582 I1  
22480                                 I1  ***** BEGIN-POOL *****
22481 000044A0 00000000               I1  DATA FOR SOURCE-LINE 555
22482 000044A4 00000000               I1  DATA FOR SOURCE-LINE 557
22483 000044A8 00000000               I1  DATA FOR SOURCE-LINE 560
22484 000044AC 00000000               I1  DATA FOR SOURCE-LINE 562
22485                                 I1  ***** END-POOL *****
22486 000044B0                    583 I1          .ALIGN  4                                               ;
22487 000044B0                    584 I1  _FULCLS_MAXPLS_CALC:
22488                             585 I1          SUB_START
22489 000044B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   292
PROGRAM NAME =

22490                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22491                             586 I1  
22492                             587 I1  ;;;;DEBUG       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
22493                             588 I1  ;;;;DEBUG       MOV.W   @R1,R2                          ;
22494                             589 I1  ;;;;DEBUG       M_BRA   FULCLS_MAXPLSCAL_200            ;
22495                             590 I1  
22496                             591 I1  ;       -------- 2015-03-15 -----------
22497                             592 I1          FAR_JSR #_OBJ_POS_DIG_MAK,R0                    ;これがない 2015-03-15[R012014-08-
                                          20]
22498 000044B2 D00A                   M           MOV.L   #_OBJ_POS_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22499 000044B4 400B                   M           JSR     @R0                     ;
22500 000044B6 0009                   M           NOP                                     ;
22501                             593 I1  ;       --------------------------
22502                             594 I1  
22503 000044B8 D109               595 I1          MOV.L   #_SV_OBJ360,R1                          ;停止目標位置角度
22504 000044BA 6311               596 I1          MOV.W   @R1,R3                                  ;
22505 000044BC 940D               597 I1          MOV.W   #D'1800,R4                              ;
22506 000044BE 6243               598 I1          MOV     R4,R2                                   ;
22507 000044C0 3238               599 I1          SUB     R3,R2                                   ;
22508 000044C2 4211               600 I1          CMP/PZ  R2                                      ;
22509 000044C4 8900               601 I1          BT      FULCLS_MAXPLSCAL_100                    ;
22510 000044C6 324C               602 I1          ADD     R4,R2                                   ;角度0.1度
22511 000044C8                    603 I1  FULCLS_MAXPLSCAL_100:                                   ;
22512 000044C8 7201               604 I1          ADD     #1,R2                                   ;+0.1度
22513                             605 I1          FAR_JSR #_POSCHG_LINK_DIG_TO_LINK_PLS,R0        ;
22514 000044CA D006                   M           MOV.L   #_POSCHG_LINK_DIG_TO_LINK_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22515 000044CC 400B                   M           JSR     @R0                     ;
22516 000044CE 0009                   M           NOP                                     ;
22517                             606 I1  
22518                             607 I1  
22519                             608 I1  
22520 000044D0                    609 I1  FULCLS_MAXPLSCAL_200:                                   ;
22521 000044D0 D105               610 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
22522 000044D2 2122               611 I1          MOV.L   R2,@R1                                  ;
22523                             612 I1  
22524                             613 I1  ;;;     MOV.L   #_LINK_NOWROT_OFSPLS_P,R4       ;[[[目標]]]
22525                             614 I1  ;;;     MOV.L   @R4,R2                          ;
22526                             615 I1  ;;;
22527                             616 I1  ;;;     MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22528                             617 I1  ;;;     MOV.L   R1,@R5                          ;
22529                             618 I1  ;;;     MOV.L   R2,@(4,R5)                      ;
22530                             619 I1  ;;;
22531                             620 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
22532                             621 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
22533                             622 I1  
22534                             623 I1  
22535                             624 I1          SUB_END
22536                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22537 000044D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22538                             625 I1          M_RTS
22539 000044D6 000B                   M           RTS                             ;RTSの後ろの
22540 000044D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22541                             626 I1  
22542                             627 I1  
22543                             628 I1  ;       *******************************************
22544                             629 I1  ;       ***             2012-10-05              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   293
PROGRAM NAME =

22545                             630 I1  ;       ***                                     ***
22546                             631 I1  ;       ***     180.0度に達したらEXIT           ***
22547                             632 I1  ;       *******************************************
22548                                 I1  ***** BEGIN-POOL *****
22549 000044DA 0708                   I1  DATA FOR SOURCE-LINE 597
22550 000044DC 00000000               I1  DATA FOR SOURCE-LINE 592
22551 000044E0 00000000               I1  DATA FOR SOURCE-LINE 595
22552 000044E4 00000000               I1  DATA FOR SOURCE-LINE 605
22553 000044E8 00000000               I1  DATA FOR SOURCE-LINE 610
22554                                 I1  ***** END-POOL *****
22555 000044EC                    633 I1  _OVER_DIG_CHK:
22556                             634 I1          SUB_START
22557 000044EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
22558                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22559 000044EE D108               635 I1          MOV.L   #_INC_ENC360,R1                 ;
22560 000044F0 6211               636 I1          MOV.W   @R1,R2                          ;
22561 000044F2 900C               637 I1          MOV.W   #D'1798,R0                      ;179.8
22562 000044F4 3202               638 I1          CMP/HS  R0,R2                           ;
22563 000044F6 8B11               639 I1          BF      OVER_DIGCHK_NOMAL               ;ｵｰﾊﾞはしていない
22564                             640 I1  
22565 000044F8                    641 I1  OVER_DIGCHK_ERR:
22566                             642 I1          FAR_JSR #_FULCLS_MAXOVER_ERR,R0         ;ﾀｲﾏなし
22567 000044F8 D006                   M           MOV.L   #_FULCLS_MAXOVER_ERR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22568 000044FA 400B                   M           JSR     @R0                     ;
22569 000044FC 0009                   M           NOP                                     ;
22570 000044FE D106               643 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22571 00004500 6011               644 I1          MOV.W   @R1,R0                          ;
22572 00004502 C940               645 I1          AND     #BIT6,R0
22573 00004504 2008               646 I1          TST     R0,R0                           ;
22574                             647 I1          TST_BIT_OF OVER_DIGCHK_NOMAL            ;R0=0SET
22575 00004506 8909                   M           BT      OVER_DIGCHK_NOMAL
22576 00004508 E001               648 I1          MOV.B   #1,R0                           ;R0=1
22577                             649 I1          M_BRA   OVER_DIGCHK_END
22578 0000450A A008                   M           BRA     OVER_DIGCHK_END
22579 0000450C 0009                   M           NOP
22580                                 I1  ***** BEGIN-POOL *****
22581 0000450E 0706                   I1  DATA FOR SOURCE-LINE 637
22582 00004510 00000000               I1  DATA FOR SOURCE-LINE 635
22583 00004514 00000000               I1  DATA FOR SOURCE-LINE 642
22584 00004518 00000000               I1  DATA FOR SOURCE-LINE 643
22585                                 I1  ***** END-POOL *****
22586 0000451C                    650 I1  OVER_DIGCHK_NOMAL
22587 0000451C 200A               651 I1          XOR     R0,R0
22588 0000451E                    652 I1  OVER_DIGCHK_END
22589                             653 I1  
22590                             654 I1          SUB_END
22591                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22592 0000451E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22593                             655 I1          M_RTS
22594 00004520 000B                   M           RTS                             ;RTSの後ろの
22595 00004522 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22596                             656 I1  
22597                             657 I1  
22598                             658 I1  ;       ***************************
22599                             659 I1  ;       ***     2012-05-30      ***
22600                             660 I1  ;       ***     反転オーバ      ***
22601                             661 I1  ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   294
PROGRAM NAME =

22602                             662 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22603 00004524                    663 I1          .ALIGN  4                                               ;
22604 00004524                    664 I1  _FULCLS_MAXOVER_ERR:
22605                             665 I1          SUB_START
22606 00004524 4F22                   M           STS.L   PR,@-R15                ;[必要]
22607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22608                             666 I1          M_BRA   FULCLS_MAXOVER_ERRSET           ;
22609 00004526 A00B                   M           BRA     FULCLS_MAXOVER_ERRSET
22610 00004528 0009                   M           NOP
22611                             667 I1  
22612 0000452A                    668 I1  _FULCLS_MAXOVER_ERR_WT:
22613                             669 I1          SUB_START
22614 0000452A 4F22                   M           STS.L   PR,@-R15                ;[必要]
22615                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22616                             670 I1  
22617 0000452C D103               671 I1          MOV.L   #_NEG_EXITTIM,R1                ;
22618 0000452E 6011               672 I1          MOV.W   @R1,R0                          ;
22619 00004530 2008               673 I1          TST     R0,R0                           ;
22620                             674 I1          TST_BIT_OF FULCLS_MAXOVER_ERRSET        ;
22621 00004532 8905                   M           BT      FULCLS_MAXOVER_ERRSET
22622 00004534 70FF               675 I1          ADD     #-1,R0                          ;
22623 00004536 2101               676 I1          MOV.W   R0,@R1                          ;
22624                             677 I1          M_BRA   FULCLS_MAXOVER_ERRWAT           ;
22625 00004538 A012                   M           BRA     FULCLS_MAXOVER_ERRWAT
22626 0000453A 0009                   M           NOP
22627                             678 I1  
22628                                 I1  ***** BEGIN-POOL *****
22629 0000453C 00000000               I1  DATA FOR SOURCE-LINE 671
22630                                 I1  ***** END-POOL *****
22631 00004540                    679 I1  FULCLS_MAXOVER_ERRSET:
22632 00004540 D109               680 I1          MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22633 00004542 6011               681 I1          MOV.W   @R1,R0                                                  ;
22634 00004544 8801               682 I1          CMP/EQ  #1,R0                                                   ;
22635 00004546 8B0B               683 I1          BF      FULCLS_MAXOVER_ERRWAT                                   ;
22636                             684 I1  
22637                             685 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT6+BIT0),WKREG=R1    ;B
                                          IT6:ERR BIT0:制御
22638 00004548 D108                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22639 0000454A 6011                   M           MOV.W   @R1,R0          ;
22640 0000454C CB41                   M           OR      #(BIT6+BIT0),R0         ;
22641 0000454E 2101                   M           MOV.W   R0,@R1          ;
22642                             686 I1  
22643                             687 I1  
22644                             688 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22645                             689 C   ;       ------2015-03-15[R01:2014-08-20] 荷重制御情報追加-------------
22646 00004550 D107               690 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22647 00004552 6011               691 C           MOV.W   @R1,R0                                  ;
22648 00004554 8801               692 C           CMP/EQ  #1,R0                                   ;
22649 00004556 8B03               693 C           BF      FULCLS_MAXOVER_ERRS100                  ;
22650                             694 C   
22651                             695 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT5),WKREG=R1 ;BIT5:荷重
22652 00004558 D104                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22653 0000455A 6011                   M           MOV.W   @R1,R0          ;
22654 0000455C CB20                   M           OR      #(BIT5),R0              ;
22655 0000455E 2101                   M           MOV.W   R0,@R1          ;
22656                             696 C   
22657 00004560                    697 C   FULCLS_MAXOVER_ERRS100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   295
PROGRAM NAME =

22658                             698 C   ;       -----------------------------------------------
22659                             699 I1          .AENDI
22660                             700 I1  
22661                             701 I1  
22662 00004560                    702 I1  FULCLS_MAXOVER_ERRWAT:
22663                             703 I1          SUB_END
22664                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22665 00004560 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22666                             704 I1          M_RTS
22667 00004562 000B                   M           RTS                             ;RTSの後ろの
22668 00004564 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22669                             705 I1  
22670                             706 I1  ;       ***************************
22671                             707 I1  ;       ***     2012-05-30      ***
22672                             708 I1  ;       ***     反転オーバCLR   ***
22673                             709 I1  ;       ***************************
22674                             710 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22675                                 I1  ***** BEGIN-POOL *****
22676 00004566 0000                   I1  ALIGNMENT CODE
22677 00004568 00000000               I1  DATA FOR SOURCE-LINE 680
22678 0000456C 00000000               I1  DATA FOR SOURCE-LINE 685,695
22679 00004570 00000000               I1  DATA FOR SOURCE-LINE 690
22680                                 I1  ***** END-POOL *****
22681 00004574                    711 I1          .ALIGN  4                                               ;
22682                             712 I1          .EXPORT _FULCLS_MAXOVER_CLR     ;
22683 00004574                    713 I1  _FULCLS_MAXOVER_CLR:
22684                             714 I1          SUB_START
22685 00004574 4F22                   M           STS.L   PR,@-R15                ;[必要]
22686                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22687 00004576 200A               715 I1          XOR     R0,R0                   ;
22688 00004578 D102               716 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1  ;
22689 0000457A 2101               717 I1          MOV.W   R0,@R1                  ;
22690                             718 I1          SUB_END
22691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22692 0000457C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22693                             719 I1          M_RTS
22694 0000457E 000B                   M           RTS                             ;RTSの後ろの
22695 00004580 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22696                             720 I1  
22697                             721 I1  ;       ***************************
22698                             722 I1  ;       ***     2012-05-30      ***
22699                             723 I1  ;       ***     反転オーバINI   ***
22700                             724 I1  ;       ***************************
22701                             725 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22702                                 I1  ***** BEGIN-POOL *****
22703 00004582 0000                   I1  ALIGNMENT CODE
22704 00004584 00000000               I1  DATA FOR SOURCE-LINE 716
22705                                 I1  ***** END-POOL *****
22706 00004588                    726 I1          .ALIGN  4                                               ;
22707 00004588                    727 I1  _FULCLS_MAXOVER_STEP_INI:
22708                             728 I1          SUB_START
22709 00004588 4F22                   M           STS.L   PR,@-R15                ;[必要]
22710                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22711                             729 I1  
22712                             730 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=~BIT0,WKREG=R1 ;
22713 0000458A D103                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22714 0000458C 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   296
PROGRAM NAME =

22715 0000458E C9FE                   M           AND     #LOW ~BIT0,R0           ;
22716 00004590 2101                   M           MOV.W   R0,@R1          ;
22717                             731 I1  
22718                             732 I1  
22719                             733 I1          SUB_END
22720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22721 00004592 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22722                             734 I1          M_RTS
22723 00004594 000B                   M           RTS                             ;RTSの後ろの
22724 00004596 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22725                             735 I1  
22726                             736 I1  ;       ***********************************
22727                             737 I1  ;       ***                             ***
22728                             738 I1  ;       ***     追い込み達せず信号出力  ***
22729                             739 I1  ;       ***     224.9  各行程           ***
22730                             740 I1  ;       ***     224.10 1回でも          ***
22731                             741 I1  ;       ***                             ***
22732                             742 I1  ;       ***********************************
22733                             743 I1          .EXPORT _FULCLS_OVER_SIG
22734                             744 I1  
22735                                 I1  ***** BEGIN-POOL *****
22736 00004598 00000000               I1  DATA FOR SOURCE-LINE 730
22737                                 I1  ***** END-POOL *****
22738 0000459C                    745 I1          .ALIGN  4                       ;2012-05-30
22739 0000459C                    746 I1  _FULCLS_OVER_SIG
22740                             747 I1          SUB_START
22741 0000459C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22743                             748 I1  
22744 0000459E 233A               749 I1          XOR     R3,R3
22745 000045A0 244A               750 I1          XOR     R4,R4
22746 000045A2 D10B               751 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22747 000045A4 6011               752 I1          MOV.W   @R1,R0                          ;
22748 000045A6 C840               753 I1          TST     #BIT6,R0                        ;
22749                             754 I1          TST_BIT_OF FULCLS_OVERSG_100            ;異常記憶なし
22750 000045A8 8903                   M           BT      FULCLS_OVERSG_100
22751 000045AA 930D               755 I1          MOV.W   #BIT9,R3                        ;異常有り・リセットまで保持
22752                             756 I1  
22753                             757 I1  
22754                             758 I1  
22755                             759 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22756                             760 C   ;       --2015-03-15[R01:2014-08-20追加]---
22757 000045AC C820               761 C           TST     #BIT5,R0                        ;荷重?
22758                             762 C           TST_BIT_OF FULCLS_OVERSG_100            ;NO
22759 000045AE 8900                   M           BT      FULCLS_OVERSG_100
22760 000045B0 930B               763 C           MOV.W   #BIT10,R3                       ;
22761                             764 I1          .AENDI
22762                             765 I1  
22763 000045B2                    766 I1  FULCLS_OVERSG_100
22764                             767 I1  
22765                             768 I1  ;;;;;   TST     #BIT0,R0                        ;
22766                             769 I1  ;;;;;   TST_BIT_OF FULCLS_OVERSG_200            ;制御中なし
22767                             770 I1  ;;;;;   MOV.W   #BIT10,R4                       ;異常有り・記憶はしない
22768                             771 I1  ;;;;;FULCLS_OVERSG_200
22769                             772 I1  
22770 000045B2 D108               773 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R1     ;
22771 000045B4 6011               774 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   297
PROGRAM NAME =

22772 000045B6 9209               775 I1          MOV.W   #(BIT10+BIT9),R2                ;
22773 000045B8 6227               776 I1          NOT     R2,R2                           ;
22774 000045BA 2029               777 I1          AND     R2,R0                           ;
22775 000045BC 203B               778 I1          OR      R3,R0                           ;
22776 000045BE 204B               779 I1          OR      R4,R0                           ;
22777 000045C0 2101               780 I1          MOV.W   R0,@R1                          ;
22778                             781 I1  
22779                             782 I1          SUB_END
22780                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22781 000045C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22782                             783 I1          M_RTS
22783 000045C4 000B                   M           RTS                             ;RTSの後ろの
22784 000045C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22785                             784 I1  
22786                             785 I1  
22787                             786 I1  ;       ***********************************
22788                             787 I1  ;       ***                             ***
22789                             788 I1  ;       ***     ﾌﾙｸﾛｰｽﾞﾆｱｾﾞﾛ            ***
22790                             789 I1  ;       ***                             ***
22791                             790 I1  ;       ***********************************
22792                             791 I1  ;       ANS R0(ﾌﾙｸﾛｰｽﾞすべきかどうか R0=0しない R0 !=0(工程)ﾌﾙｸﾛｰｽﾞ)
22793                             792 I1  ;       ANS R6 1回転目標ﾊﾟﾙｽ
22794                             793 I1  ;       ANS R7 1回転ﾘﾆｱﾊﾟﾙｽ
22795                             794 I1  ;
22796                             795 I1  ;
22797                             796 I1  ;       設定=0度　==>312度を目標
22798                             797 I1  ;       180より大きい区間は　−扱いで考える(1)
22799                             798 I1  ;       もし1800より大きければ
22800                             799 I1  ;
22801                             800 I1  ;       -1*(3600-現在ﾊﾟﾙｽ)
22802                                 I1  ***** BEGIN-POOL *****
22803 000045C8 0200                   I1  DATA FOR SOURCE-LINE 755
22804 000045CA 0400                   I1  DATA FOR SOURCE-LINE 763
22805 000045CC 0600                   I1  DATA FOR SOURCE-LINE 775
22806 000045CE 0000                   I1  ALIGNMENT CODE
22807 000045D0 00000000               I1  DATA FOR SOURCE-LINE 751
22808 000045D4 00000000               I1  DATA FOR SOURCE-LINE 773
22809                                 I1  ***** END-POOL *****
22810 000045D8                    801 I1          .ALIGN  4                                               ;
22811                             802 I1  ;       Input 工程=R5
22812                             803 I1  ;       Input R7
22813                             804 I1  ;       ANS     R0:0,1,-1
22814                             805 I1  ;       R0      =0 :ﾆｱｾﾞﾛ範囲内
22815                             806 I1  ;               =1 :正(正転運転では行き過ぎている/逆転運転では生きたりない)
22816                             807 I1  ;               =-1:負(正運転では行きたりない    /逆転運転では行き過ぎている)
22817                             808 I1  ;       ANS     R6:ﾘﾆｱPLS現在位置
22818                             809 I1  
22819                             810 I1  ;
22820 000045D8                    811 I1  _POS_CLS_TYP1_NEAR_ZERO_CHEAK:
22821                             812 I1          SUB_START
22822 000045D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
22823                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22824 000045DA D40D               813 I1          MOV.L   #_SDATCLS_TRG_STEP,R4           ;//速度連続の最後のｽﾃｯﾌﾟ
22825 000045DC 6041               814 I1          MOV.W   @R4,R0                          ;
22826 000045DE 70FF               815 I1          ADD     #-1,R0                          ;
22827 000045E0 4008               816 I1          SHLL2   R0                              ;
22828 000045E2 4000               817 I1          SHLL    R0                              ;8byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   298
PROGRAM NAME =

22829 000045E4 D40B               818 I1          MOV.L   #_SDATCLS_OBJ_NEAR_UPDNPLS,R4   ;//+0*4:UP +1*4 DN
22830 000045E6 340C               819 I1          ADD     R0,R4                           ;
22831 000045E8 6346               820 I1          MOV.L   @R4+,R3                         ;目標位置+ALFA(結果"-")
22832 000045EA 6142               821 I1          MOV.L   @R4,R1                          ;目標位置-ALFA
22833 000045EC 3313               822 I1          CMP/GE  R1,R3                           ;
22834 000045EE 8902               823 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_100    ;
22835 000045F0 6013               824 I1          MOV     R1,R0                           ;
22836 000045F2 6133               825 I1          MOV     R3,R1                           ;
22837 000045F4 6303               826 I1          MOV     R0,R3                           ;
22838 000045F6                    827 I1  POS_CLS_TYP1_NEAR_ZR_CHK_100:                   ;
22839                             828 I1  
22840                             829 I1  ;       ==== 2003-02-21 ===================
22841 000045F6 D008               830 I1          MOV.L   #_DBG_REVMOD_UPPLS,R0   ;
22842 000045F8 2032               831 I1          MOV.L   R3,@R0                  ;
22843 000045FA D008               832 I1          MOV.L   #_DBG_REVMOD_DNPLS,R0   ;
22844 000045FC 2012               833 I1          MOV.L   R1,@R0                  ;
22845                             834 I1  
22846                             835 I1  ;       ===================================
22847                             836 I1  ;;;     MOV     #1,R0
22848                             837 I1  ;;;     CMP/GT  R3,R6                           ;
22849                             838 I1  ;;;     BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22850                             839 I1  ;;;
22851                             840 I1  ;;;     MOV     #-1,R0                          ;
22852                             841 I1  ;;;     CMP/GE  R1,R6                           ;R1=< R6 NO
22853                             842 I1  ;;;     BF      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;(範囲内 NO)
22854                             843 I1  ;;;     XOR     R0,R0                           ;
22855                             844 I1  ;;;POS_CLS_TYP1_NEAR_ZR_CHK_200:                        ;
22856                             845 I1  
22857 000045FE E001               846 I1          MOV     #1,R0
22858 00004600 3637               847 I1          CMP/GT  R3,R6                           ;
22859 00004602 890D               848 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22860                             849 I1  
22861 00004604 E0FF               850 I1          MOV     #-1,R0                          ;
22862 00004606 3613               851 I1          CMP/GE  R1,R6                           ;R1=< R6 NO
22863 00004608 8B0D               852 I1          BF      POS_CLS_TYP1_NEAR_ZR_CHK_201    ;(範囲内 NO)
22864 0000460A 200A               853 I1          XOR     R0,R0                           ;
22865                             854 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22866 0000460C A00C                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22867 0000460E 0009                   M           NOP
22868                             855 I1  
22869                                 I1  ***** BEGIN-POOL *****
22870 00004610 00000000               I1  DATA FOR SOURCE-LINE 813
22871 00004614 00000000               I1  DATA FOR SOURCE-LINE 818
22872 00004618 00000000               I1  DATA FOR SOURCE-LINE 830
22873 0000461C 00000000               I1  DATA FOR SOURCE-LINE 832
22874                                 I1  ***** END-POOL *****
22875 00004620                    856 I1  POS_CLS_TYP1_NEAR_ZR_CHK_200:                   ;
22876 00004620 0009               857 I1          NOP
22877                             858 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22878 00004622 A001                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22879 00004624 0009                   M           NOP
22880 00004626                    859 I1  POS_CLS_TYP1_NEAR_ZR_CHK_201:                   ;
22881 00004626 0009               860 I1          NOP
22882 00004628                    861 I1  POS_CLS_TYP1_NEAR_ZR_CHK_202:                   ;
22883                             862 I1  
22884                             863 I1  ;       ===========================================
22885                             864 I1  ;       === <CPU-Aが終わりを告げたら終わり>     ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   299
PROGRAM NAME =

22886                             865 I1  ;       === <CPU-Bが終わりを告げても終わり?>    ===
22887                             866 I1  ;       ===========================================
22888                             867 I1          PUSH_REG1 R2
22889 00004628 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22890                                 M                                           ;REG=>[SP]
22891                                 M                                           ;"-4" FF,FF,FF,FC
22892                             868 I1          PUSH_REG1 R3
22893 0000462A 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22894                                 M                                           ;REG=>[SP]
22895                                 M                                           ;"-4" FF,FF,FF,FC
22896                             869 I1  
22897                             870 I1          PUSH_REG1 R0
22898 0000462C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22899                                 M                                           ;REG=>[SP]
22900                                 M                                           ;"-4" FF,FF,FF,FC
22901                             871 I1          .AIF    1 EQ    0
22902                             872             XOR     R2,R2                           ;CPUAは自分から終わる
22903                             873             .AELSE
22904                             874 C           FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;
22905 0000462E D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22906 00004630 400B                   M           JSR     @R0                     ;
22907 00004632 0009                   M           NOP                                     ;
22908 00004634 6203               875 C           MOV     R0,R2                           ;
22909                             876 I1          .AENDI
22910                             877 I1          POP_REG1 R0                             ;
22911                                 M                                   ; RE"+4" 00,00,00,04
22912 00004636 60F6                   M           MOV.L   @R15+,R0        ;
22913                             878 I1  
22914 00004638 2228               879 I1          TST     R2,R2                           ;
22915                             880 I1          TST_BIT_OF POS_CLS_CPUB_TO_CPUA_100     ;
22916 0000463A 8900                   M           BT      POS_CLS_CPUB_TO_CPUA_100
22917 0000463C 200A               881 I1          XOR     R0,R0                           ;
22918 0000463E                    882 I1  POS_CLS_CPUB_TO_CPUA_100:                       ;
22919                             883 I1  
22920                             884 I1          POP_REG1 R3
22921                                 M                                   ; RE"+4" 00,00,00,04
22922 0000463E 63F6                   M           MOV.L   @R15+,R3        ;
22923                             885 I1          POP_REG1 R2
22924                                 M                                   ; RE"+4" 00,00,00,04
22925 00004640 62F6                   M           MOV.L   @R15+,R2        ;
22926                             886 I1          SUB_END
22927                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22928 00004642 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22929                             887 I1          M_RTS
22930 00004644 000B                   M           RTS                             ;RTSの後ろの
22931 00004646 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22932                             888 I1  
22933                             889 I1  
22934                             890 I1  ;       ***********************************
22935                             891 I1  ;       ***     Input R1,R2             ***
22936                             892 I1  ;       ***********************************
22937                             893 I1  ;       R1,R2 絶対値
22938                                 I1  ***** BEGIN-POOL *****
22939 00004648 00000000               I1  DATA FOR SOURCE-LINE 874
22940                                 I1  ***** END-POOL *****
22941 0000464C                    894 I1  _CLS_POS_LENGTH_ADD_DATA:
22942                             895 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   300
PROGRAM NAME =

22943 0000464C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22944                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22945 0000464E D40A               896 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
22946 00004650 6041               897 I1          MOV.W   @R4,R0                                                  ;
22947 00004652 C801               898 I1          TST     #BIT0,R0                                                ;
22948                             899 I1          TST_BIT_OF CLS_POS_LENGTH_ADDATA_050                            ;
22949 00004654 8905                   M           BT      CLS_POS_LENGTH_ADDATA_050
22950                             900 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R4                              ;|R1,R2|
22951 00004656 6227                   M           NOT     R2,R2                           ;
22952 00004658 6117                   M           NOT     R1,R1                           ;
22953 0000465A 244A                   M           XOR     R4,R4                           ;
22954 0000465C 0018                   M           SETT
22955 0000465E 324E                   M           ADDC    R4,R2                           ;0+1+R2
22956 00004660 314E                   M           ADDC    R4,R1                           ;
22957 00004662                    901 I1  CLS_POS_LENGTH_ADDATA_050:                                              ;
22958 00004662 D706               902 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
22959 00004664 6572               903 I1          MOV.L   @R7,R5                                                  ;
22960 00004666 5671               904 I1          MOV.L   @(4,R7),R6                                              ;
22961                             905 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22962 00004668 0008                   M           CLRT
22963 0000466A 326E                   M           ADDC    R6,R2
22964 0000466C 315E                   M           ADDC    R5,R1
22965 0000466E 2712               906 I1          MOV.L   R1,@R7                                                  ;
22966 00004670 1721               907 I1          MOV.L   R2,@(4,R7)                                              ;
22967                             908 I1          SUB_END
22968                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22969 00004672 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22970                             909 I1          M_RTS
22971 00004674 000B                   M           RTS                             ;RTSの後ろの
22972 00004676 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22973                             910 I1  
22974                             911 I1  
22975                             912 I1  ;       *******************************************
22976                             913 I1  ;       ***     260から0度の間は"-"になる       ***
22977                             914 I1  ;       *******************************************
22978                             915 I1  ;       R0~R2
22979                             916 I1          .EXPORT _FUL_CLS_OBJPLS_CHK
22980                                 I1  ***** BEGIN-POOL *****
22981 00004678 00000000               I1  DATA FOR SOURCE-LINE 896
22982 0000467C 00000000               I1  DATA FOR SOURCE-LINE 902
22983                                 I1  ***** END-POOL *****
22984 00004680                    917 I1  _FUL_CLS_OBJPLS_CHK:    ;Input R2 もし260~0の間なら"-"のﾊﾟﾙｽになる
22985                             918 I1          SUB_START
22986 00004680 4F22                   M           STS.L   PR,@-R15                ;[必要]
22987                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22988 00004682 D107               919 I1          MOV.L   #_SETX_FULCLS_AREA_PLS,R1       ;//260.0==>PLS
22989 00004684 6012               920 I1          MOV.L   @R1,R0                          ;
22990 00004686 3203               921 I1          CMP/GE  R0,R2                           ;R2 OK
22991 00004688 8B06               922 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22992 0000468A D106               923 I1          MOV.L   #_LINK_1ROT_PLS,R1              ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
22993 0000468C 6012               924 I1          MOV.L   @R1,R0                          ;
22994 0000468E 3028               925 I1          SUB     R2,R0                           ;360-359=1
22995 00004690 620B               926 I1          NEG     R0,R2                           ;-1
22996 00004692 4215               927 I1          CMP/PL  R2                              ;
22997 00004694 8B00               928 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22998 00004696 222A               929 I1          XOR     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   301
PROGRAM NAME =

22999 00004698                    930 I1  FUL_CLS_OBJPLSCK_050:                           ;
23000                             931 I1          SUB_END
23001                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23002 00004698 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23003                             932 I1          M_RTS
23004 0000469A 000B                   M           RTS                             ;RTSの後ろの
23005 0000469C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23006                             933 I1  
23007                             934 I1  
23008                             935 I1  
23009                             936 I1  ;       ***********************************
23010                             937 I1  ;       ***                             ***
23011                             938 I1  ;       ***     目標位置→LENGTH        ***
23012                             939 I1  ;       ***                             ***
23013                             940 I1  ;       ***********************************
23014                             941 I1  ;       Input R1,R2(目標位置)
23015                             942 I1  ;       Output R1,R2
23016                             943 I1          .IMPORT _POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS
23017                                 I1  ***** BEGIN-POOL *****
23018 0000469E 0000                   I1  ALIGNMENT CODE
23019 000046A0 00000000               I1  DATA FOR SOURCE-LINE 919
23020 000046A4 00000000               I1  DATA FOR SOURCE-LINE 923
23021                                 I1  ***** END-POOL *****
23022 000046A8                    944 I1  _FUL_CLS_LENGH_ADD_CALC:
23023                             945 I1          SUB_START
23024 000046A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
23025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23026                             946 I1  
23027 000046AA D512               947 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
23028 000046AC 2512               948 I1          MOV.L   R1,@R5                                          ;
23029 000046AE 1521               949 I1          MOV.L   R2,@(4,R5)                                      ;絶対目標位置
23030                             950 I1  
23031                             951 I1  ;       == ﾛｯﾄﾃﾞｰﾀを取り除く==                                  ;
23032                             952 I1          FAR_JSR #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;R1,R2+/-回転数 余りパルス
                                          (符号つき)
23033 000046B0 D011                   M           MOV.L   #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23034 000046B2 400B                   M           JSR     @R0                     ;
23035 000046B4 0009                   M           NOP                                     ;
23036 000046B6 6233               953 I1          MOV     R3,R2                                           ;ﾊﾟﾙｽ
23037 000046B8 4211               954 I1          CMP/PZ  R2                                              ;
23038 000046BA 8905               955 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
23039 000046BC D10F               956 I1          MOV.L   #_LINK_1ROT_PLS,R1                              ;<待機点340度   目標30度 3
                                          0-340+360>
23040 000046BE 6412               957 I1          MOV.L   @R1,R4                                          ;               <30>
23041 000046C0 324C               958 I1          ADD     R4,R2                                           ;
23042 000046C2 4211               959 I1          CMP/PZ  R2                                              ;
23043 000046C4 8900               960 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
23044 000046C6 222A               961 I1          XOR     R2,R2                                           ;"演算誤差0":ありえないは
                                          ず?BREAK CHEAK
23045 000046C8                    962 I1  FULCLS_LNG_ADD_CAL200:                                          ;
23046                             963 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0
23047 000046C8 D00D                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23048 000046CA 400B                   M           JSR     @R0                     ;
23049 000046CC 0009                   M           NOP                                     ;
23050                             964 I1          PUSH_REG1 R2
23051 000046CE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
23052                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   302
PROGRAM NAME =

23053                                 M                                           ;"-4" FF,FF,FF,FC
23054 000046D0 D40C               965 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4                   ;//余り角度 +ﾃﾞｰﾀ
23055 000046D2 6242               966 I1          MOV.L   @R4,R2                                          ;
23056                             967 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;
23057 000046D4 D00A                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23058 000046D6 400B                   M           JSR     @R0                     ;
23059 000046D8 0009                   M           NOP                                     ;
23060 000046DA 6323               968 I1          MOV     R2,R3                           ;
23061                             969 I1          POP_REG1 R2                             ;
23062                                 M                                   ; RE"+4" 00,00,00,04
23063 000046DC 62F6                   M           MOV.L   @R15+,R2        ;
23064                             970 I1  ;       ==== 運転方向(CW/CCW)==
23065 000046DE D10A               971 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
23066 000046E0 6411               972 I1          MOV.W   @R1,R4                          ;ﾀｲﾏLOAD
23067 000046E2 74FF               973 I1          ADD     #-1,R4                          ;
23068 000046E4 4408               974 I1          SHLL2   R4                              ;
23069 000046E6 D009               975 I1          MOV.L   #_CPOS_SDAT1_INF1,R0            ;
23070 000046E8 004E               976 I1          MOV.L   @(R0,R4),R0                     ;BIT1=0 CW
23071 000046EA C802               977 I1          TST     #BIT1,R0                        ;
23072                             978 I1          TST_BIT_ON FULCLS_LNG_ADD_CAL300        ;
23073 000046EC 8B10                   M           BF      FULCLS_LNG_ADD_CAL300
23074                             979 I1  ;       ====== 正転運転 ===
23075 000046EE 3238               980 I1          SUB     R3,R2                           ;
23076                             981 I1  ;;      CMP/PZ  R2                              ;
23077                             982 I1  ;;      BT      FULCLS_LNG_ADD_CAL250           ;
23078                             983 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
23079                             984 I1  ;;      MOV.L   @R1,R4                          ;
23080                             985 I1  ;;      ADD     R4,R2                           ;
23081                             986 I1  ;;FULCLS_LNG_ADD_CAL250:                                ;
23082                             987 I1          M_BRA   FULCLS_LNG_ADD_CAL400           ;
23083 000046F0 A00F                   M           BRA     FULCLS_LNG_ADD_CAL400
23084 000046F2 0009                   M           NOP
23085                             988 I1  
23086                                 I1  ***** BEGIN-POOL *****
23087 000046F4 00000000               I1  DATA FOR SOURCE-LINE 947
23088 000046F8 00000000               I1  DATA FOR SOURCE-LINE 952
23089 000046FC 00000000               I1  DATA FOR SOURCE-LINE 956
23090 00004700 00000000               I1  DATA FOR SOURCE-LINE 963,967
23091 00004704 00000000               I1  DATA FOR SOURCE-LINE 965
23092 00004708 00000000               I1  DATA FOR SOURCE-LINE 971
23093 0000470C 00000000               I1  DATA FOR SOURCE-LINE 975
23094                                 I1  ***** END-POOL *****
23095 00004710                    989 I1  FULCLS_LNG_ADD_CAL300:
23096                             990 I1  ;       ====== 逆転運転 ===
23097 00004710 3238               991 I1          SUB     R3,R2                           ;
23098                             992 I1  ;;      CMP/PL  R2                              ;
23099                             993 I1  ;;      BF      FULCLS_LNG_ADD_CAL350           ;
23100                             994 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
23101                             995 I1  ;;      MOV.L   @R1,R4                          ;
23102                             996 I1  ;;      SUB     R4,R2                           ;
23103                             997 I1  ;;FULCLS_LNG_ADD_CAL350:
23104                             998 I1  ;;      NOP
23105 00004712                    999 I1  FULCLS_LNG_ADD_CAL400:
23106 00004712 211A              1000 I1          XOR     R1,R1                                           ;
23107 00004714 4211              1001 I1          CMP/PZ  R2                                              ;
23108 00004716 8900              1002 I1          BT      FULCLS_LNG_ADD_CAL450                           ;
23109 00004718 71FF              1003 I1          ADD     #-1,R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   303
PROGRAM NAME =

23110 0000471A                   1004 I1  FULCLS_LNG_ADD_CAL450:
23111                            1005 I1  
23112                            1006 I1  ;       ====== 差分======
23113 0000471A D403              1007 I1          MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
23114 0000471C 2412              1008 I1          MOV.L   R1,@R4                          ;
23115 0000471E 1421              1009 I1          MOV.L   R2,@(4,R4)                      ;
23116                            1010 I1          SUB_END
23117                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23118 00004720 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23119                            1011 I1          M_RTS
23120 00004722 000B                   M           RTS                             ;RTSの後ろの
23121 00004724 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23122                            1012 I1  
23123                            1013 I1  
23124                            1014 I1          .EXPORT _FUL_DATA_INIT  ;USED R1,R0
23125                                 I1  ***** BEGIN-POOL *****
23126 00004726 0000                   I1  ALIGNMENT CODE
23127 00004728 00000000               I1  DATA FOR SOURCE-LINE 1007
23128                                 I1  ***** END-POOL *****
23129 0000472C                   1015 I1  _FUL_DATA_INIT:
23130                            1016 I1          SUB_START
23131 0000472C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23132                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23133 0000472E D103              1017 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
23134 00004730 200A              1018 I1          XOR     R0,R0                                   ;
23135 00004732 2101              1019 I1          MOV.W   R0,@R1                                  ;
23136                            1020 I1          SUB_END
23137                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23138 00004734 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23139                            1021 I1          M_RTS
23140 00004736 000B                   M           RTS                             ;RTSの後ろの
23141 00004738 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23142                            1022 I1  
23143                            1023 I1  
23144                            1024 I1  ;       ***********************************
23145                            1025 I1  ;       ***                             ***
23146                            1026 I1  ;       ***********************************
23147                            1027 I1  ;
23148                            1028 I1  ;       Input R6:PV
23149                            1029 I1  ;       Input R7:SV
23150                            1030 I1  ;
23151                            1031 I1  ;       Input R3:ｲﾝﾁﾝｸﾞ量
23152                            1032 I1  ;
23153                                 I1  ***** BEGIN-POOL *****
23154 0000473A 0000                   I1  ALIGNMENT CODE
23155 0000473C 00000000               I1  DATA FOR SOURCE-LINE 1017
23156                                 I1  ***** END-POOL *****
23157 00004740                   1033 I1  _FUL_PLS_START:
23158                            1034 I1          SUB_START
23159 00004740 4F22                   M           STS.L   PR,@-R15                ;[必要]
23160                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23161                            1035 I1          PUSH_REG1 R3
23162 00004742 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
23163                                 M                                           ;REG=>[SP]
23164                                 M                                           ;"-4" FF,FF,FF,FC
23165                            1036 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
23166 00004744 D014                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   304
PROGRAM NAME =

23167 00004746 400B                   M           JSR     @R0                     ;
23168 00004748 0009                   M           NOP                                     ;
23169                            1037 I1  
23170                            1038 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
23171 0000474A D014                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23172 0000474C 400B                   M           JSR     @R0                     ;
23173 0000474E 0009                   M           NOP                                     ;
23174                            1039 I1  
23175                            1040 I1  ;       ------2015-03-15
23176                            1041 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
23177                            1042 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
23178 00004750 D013                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23179 00004752 400B                   M           JSR     @R0                     ;
23180 00004754 0009                   M           NOP                                     ;
23181                            1043 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;R7=100,R6=90 OBJ=100KN PV=90KN
23182 00004756 D013                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23183 00004758 400B                   M           JSR     @R0                     ;
23184 0000475A 0009                   M           NOP                                     ;
23185                            1044             .AELSE
23186                            1045             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23187                            1046             .AENDI
23188                            1047 I1  
23189                            1048 I1          POP_REG1 R3
23190                                 M                                   ; RE"+4" 00,00,00,04
23191 0000475C 63F6                   M           MOV.L   @R15+,R3        ;
23192 0000475E D412              1049 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                           ;
23193 00004760 6041              1050 I1          MOV.W   @R4,R0
23194 00004762 C9FE              1051 I1          AND     #LOW ~BIT0,R0                           ;
23195 00004764 6273              1052 I1          MOV     R7,R2                                   ;R7:SV R6:PV
23196 00004766 3268              1053 I1          SUB     R6,R2                                   ;SV_-PV_RNA(偏差)
23197 00004768 4211              1054 I1          CMP/PZ  R2                                      ;
23198 0000476A 8900              1055 I1          BT      FUL_PLS_ST120
23199 0000476C CB01              1056 I1          OR      #BIT0,R0                                ;
23200 0000476E                   1057 I1  FUL_PLS_ST120:                                          ;
23201 0000476E 2401              1058 I1          MOV.W   R0,@R4                                  ;方向作成
23202 00004770 211A              1059 I1          XOR     R1,R1                                   ;R1,R2(絶対ﾊﾟﾙｽ)
23203 00004772 6233              1060 I1          MOV     R3,R2                                   ;
23204                            1061 I1          FAR_JSR #_CLS_POS_LENGTH_ADD_DATA,R0            ;
23205 00004774 D00D                   M           MOV.L   #_CLS_POS_LENGTH_ADD_DATA,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23206 00004776 400B                   M           JSR     @R0                     ;
23207 00004778 0009                   M           NOP                                     ;
23208                            1062 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
23209 0000477A D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23210 0000477C 400B                   M           JSR     @R0                     ;
23211 0000477E 0009                   M           NOP                                     ;
23212                            1063 I1          FAR_JSR #_FWD_REV_START,R1                      ;起動
23213 00004780 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23214 00004782 410B                   M           JSR     @R1                     ;
23215 00004784 0009                   M           NOP                                     ;
23216 00004786 0009              1064 I1          NOP
23217 00004788 0009              1065 I1          NOP
23218 0000478A 0009              1066 I1          NOP
23219                            1067 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
23220 0000478C D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23221 0000478E 400B                   M           JSR     @R0                     ;
23222 00004790 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   305
PROGRAM NAME =

23223                            1068 I1          SUB_END
23224                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23225 00004792 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23226                            1069 I1          M_RTS
23227 00004794 000B                   M           RTS                             ;RTSの後ろの
23228 00004796 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23229                            1070 I1  
23230                            1071 I1  
23231                            1072 I1  ;       ***********************************
23232                            1073 I1  ;       ***                             ***
23233                            1074 I1  ;       ***     2013-04-14              ***
23234                            1075 I1  ;       ***     (速度継続中のみCALL)    ***
23235                            1076 I1  ;       ***                             ***
23236                            1077 I1  ;       ***********************************
23237                            1078 I1  ;       位置１　停止位置２　手前にした結果　手前位置＜位置１＜位置２の場合、位置１の手前で
                                          停止する
23238                            1079 I1  ;       ANS     R0=1:切替必要
23239                            1080 I1  ;       ANS     R2=X:切替行程
23240                                 I1  ***** BEGIN-POOL *****
23241 00004798 00000000               I1  DATA FOR SOURCE-LINE 1036
23242 0000479C 00000000               I1  DATA FOR SOURCE-LINE 1038
23243 000047A0 00000000               I1  DATA FOR SOURCE-LINE 1042
23244 000047A4 00000000               I1  DATA FOR SOURCE-LINE 1043
23245 000047A8 00000000               I1  DATA FOR SOURCE-LINE 1049
23246 000047AC 00000000               I1  DATA FOR SOURCE-LINE 1061
23247 000047B0 00000000               I1  DATA FOR SOURCE-LINE 1062
23248 000047B4 00000000               I1  DATA FOR SOURCE-LINE 1063
23249 000047B8 00000000               I1  DATA FOR SOURCE-LINE 1067
23250                                 I1  ***** END-POOL *****
23251 000047BC                   1081 I1  _REV_BEFORE_CHGKOUTEICHK:
23252                            1082 I1          SUB_START
23253 000047BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23255                            1083 I1          PUSH_REG1 R5
23256 000047BE 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
23257                                 M                                           ;REG=>[SP]
23258                                 M                                           ;"-4" FF,FF,FF,FC
23259                            1084 I1          PUSH_REG1 R9
23260 000047C0 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
23261                                 M                                           ;REG=>[SP]
23262                                 M                                           ;"-4" FF,FF,FF,FC
23263                            1085 I1          PUSH_REG1 R11
23264 000047C2 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
23265                                 M                                           ;REG=>[SP]
23266                                 M                                           ;"-4" FF,FF,FF,FC
23267                            1086 I1  
23268 000047C4 DB0F              1087 I1          MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
23269 000047C6 69B1              1088 I1          MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
23270 000047C8 6593              1089 I1          MOV     R9,R5                                                   ;
23271 000047CA 75FF              1090 I1          ADD     #-1,R5                                                  ;
23272 000047CC 4508              1091 I1          SHLL2   R5                                                      ;
23273 000047CE 6253              1092 I1          MOV     R5,R2
23274 000047D0 4200              1093 I1          SHLL    R2
23275 000047D2 D00D              1094 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
23276 000047D4 302C              1095 I1          ADD     R2,R0
23277 000047D6 6106              1096 I1          MOV.L   @R0+,R1                                                 ;位置
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   306
PROGRAM NAME =

23278 000047D8 6202              1097 I1          MOV.L   @R0,R2                                                  ;
23279                            1098 I1  
23280 000047DA 255A              1099 I1          XOR     R5,R5                                                   ;
23281 000047DC D40B              1100 I1          MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4                             ;//目標−手前
23282 000047DE 6642              1101 I1          MOV.L   @R4,R6                                                  ;
23283 000047E0 7601              1102 I1          ADD     #D'1,R6                                         ;
23284                            1103 I1  
23285                            1104 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23286 000047E2 0008                   M           CLRT
23287 000047E4 326A                   M           SUBC    R6,R2
23288 000047E6 315A                   M           SUBC    R5,R1
23289                            1105 I1  
23290 000047E8 D409              1106 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
23291 000047EA 6546              1107 I1          MOV.L   @R4+,R5                                                 ;
23292 000047EC 6642              1108 I1          MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
23293                            1109 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23294 000047EE 0008                   M           CLRT
23295 000047F0 326A                   M           SUBC    R6,R2
23296 000047F2 315A                   M           SUBC    R5,R1
23297                            1110 I1  
23298 000047F4 4111              1111 I1          CMP/PZ  R1
23299 000047F6 8B0E              1112 I1          BF      REV_BEFORE_CHGKOUTEICK100                               ;"-" 過ぎた
23300                            1113 I1  
23301 000047F8 6013              1114 I1          MOV     R1,R0
23302 000047FA 202B              1115 I1          OR      R2,R0
23303 000047FC 2008              1116 I1          TST     R0,R0
23304                            1117 I1          TST_BIT_OF REV_BEFORE_CHGKOUTEICK090                            ;
23305 000047FE 8909                   M           BT      REV_BEFORE_CHGKOUTEICK090
23306                            1118 I1          M_BRA   REV_BEFORE_CHGKOUTEICK300                               ;
23307 00004800 A016                   M           BRA     REV_BEFORE_CHGKOUTEICK300
23308 00004802 0009                   M           NOP
23309                            1119 I1  
23310                                 I1  ***** BEGIN-POOL *****
23311 00004804 00000000               I1  DATA FOR SOURCE-LINE 1087
23312 00004808 00000000               I1  DATA FOR SOURCE-LINE 1094
23313 0000480C 00000000               I1  DATA FOR SOURCE-LINE 1100
23314 00004810 00000000               I1  DATA FOR SOURCE-LINE 1106
23315                                 I1  ***** END-POOL *****
23316 00004814                   1120 I1  REV_BEFORE_CHGKOUTEICK090:
23317 00004814 0009              1121 I1          NOP
23318 00004816                   1122 I1  REV_BEFORE_CHGKOUTEICK100:
23319 00004816 6093              1123 I1          MOV     R9,R0                           ;
23320 00004818 70FF              1124 I1          ADD     #-1,R0                          ;
23321 0000481A 4008              1125 I1          SHLL2   R0
23322 0000481C D103              1126 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23323 0000481E 021E              1127 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
23324 00004820 3922              1128 I1          CMP/HS  R2,R9                           ;
23325 00004822 8905              1129 I1          BT      REV_BEFORE_CHGKOUTEICK300       ;すでにこの行程
23326                            1130 I1  
23327 00004824                   1131 I1  REV_BEFORE_CHGKOUTEICK200:
23328 00004824 E001              1132 I1          MOV.B   #1,R0                           ;ANS R2,R0
23329                            1133 I1          M_BRA   REV_BEFORE_CHGKOUTEICK400
23330 00004826 A004                   M           BRA     REV_BEFORE_CHGKOUTEICK400
23331 00004828 0009                   M           NOP
23332                            1134 I1  
23333                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   307
PROGRAM NAME =

23334 0000482A 0000                   I1  ALIGNMENT CODE
23335 0000482C 00000000               I1  DATA FOR SOURCE-LINE 1126
23336                                 I1  ***** END-POOL *****
23337 00004830                   1135 I1  REV_BEFORE_CHGKOUTEICK300:
23338 00004830 200A              1136 I1          XOR     R0,R0
23339 00004832                   1137 I1  REV_BEFORE_CHGKOUTEICK400:
23340                            1138 I1  
23341                            1139 I1          POP_REG1 R11
23342                                 M                                   ; RE"+4" 00,00,00,04
23343 00004832 6BF6                   M           MOV.L   @R15+,R11        ;
23344                            1140 I1          POP_REG1 R9
23345                                 M                                   ; RE"+4" 00,00,00,04
23346 00004834 69F6                   M           MOV.L   @R15+,R9        ;
23347                            1141 I1          POP_REG1 R5
23348                                 M                                   ; RE"+4" 00,00,00,04
23349 00004836 65F6                   M           MOV.L   @R15+,R5        ;
23350                            1142 I1  
23351                            1143 I1          SUB_END
23352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23353 00004838 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23354                            1144 I1          M_RTS
23355 0000483A 000B                   M           RTS                             ;RTSの後ろの
23356 0000483C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23357                            1145 I1  
23358                            1146 I1  
23359                            1147 I1  ;       *******************************************
23360                            1148 I1  ;       ***                                     ***
23361                            1149 I1  ;       ***                                     ***
23362                            1150 I1  ;       ***                                     ***
23363                            1151 I1  ;       ***                                     ***
23364                            1152 I1  ;       ****            荷重−位置変換          ***
23365                            1153 I1  ;       ***                                     ***
23366                            1154 I1  ;       ***                                     ***
23367                            1155 I1  ;       ***                                     ***
23368                            1156 I1  ;       ***                                     ***
23369                            1157 I1  ;       *******************************************
23370                            1158 I1  ;       INPUT
23371                            1159 I1  ;       INPUT
23372                            1160 I1  ;       OUTPUT
23373                            1161 I1          .IMPORT _SVP_ORGRUP_DEG         ;原点右区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23374                            1162 I1          .IMPORT _SVP_ORGRDN_DEG         ;原点右区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23375                            1163 I1          .IMPORT _SVP_ORGLUP_DEG         ;原点左区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23376                            1164 I1          .IMPORT _SVP_ORGLDN_DEG         ;原点左区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23377                            1165 I1  
23378                            1166 I1  
23379                            1167 I1  
23380                            1168 I1  _SVPX_KTBL_MIN_KN       .DEFINE         "_SVP_ORGRUP_DEG"
23381                            1169 I1  _SVPX_KTBL_MIN_PLS      .DEFINE         "_SVP_ORGLUP_DEG"
23382                            1170 I1  
23383                            1171 I1  _SVPX_KTBL_MAX_KN       .DEFINE         "_SVP_ORGRDN_DEG"
23384                            1172 I1  _SVPX_KTBL_MAX_PLS      .DEFINE         "_SVP_ORGLDN_DEG"
23385                            1173 I1  
23386                            1174 I1  ;       R3:Yn_1         R5:Xn_1
23387                            1175 I1  ;       R2:Yn           R4:Xn
23388                            1176 I1  ;       ANS:R2=y        R1:x
23389                            1177 I1  ;       limit R6(Yn)
23390                            1178 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   308
PROGRAM NAME =

23391 0000483E                   1179 I1  _CLS_KJYU_PLS_CHANGE
23392                            1180 I1          SUB_START
23393 0000483E 4F22                   M           STS.L   PR,@-R15                ;[必要]
23394                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23395                            1181 I1  
23396 00004840 D105              1182 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;//その行程のターゲット
23397 00004842 6212              1183 I1          MOV.L   @R1,R2                          ;
23398 00004844 D105              1184 I1          MOV.L   #_W4_PV_CTL_KJYU_TTL_P,R1       ;//制御値=ﾌｨﾙﾀ値予定
23399 00004846 6012              1185 I1          MOV.L   @R1,R0                          ;荷重実測
23400 00004848 3208              1186 I1          SUB     R0,R2                           ;
23401 0000484A D105              1187 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1           ;//荷重の偏差
23402 0000484C 2122              1188 I1          MOV.L   R2,@R1                          ;
23403                            1189 I1  
23404                            1190 I1  ;       ------KN->PLS換算は不要 KN=PLSにしてしますためコメントにする
23405 0000484E D105              1191 I1          MOV.L   #_KJYUCLS_KN_HENSA_PLS,R1       ;//荷重の偏差相当のパルス
23406 00004850 2122              1192 I1          MOV.L   R2,@R1                          ;PLS="+":もっと正転していい
23407                            1193 I1  
23408                            1194 I1          SUB_END
23409                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23410 00004852 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23411                            1195 I1          M_RTS
23412 00004854 000B                   M           RTS                             ;RTSの後ろの
23413 00004856 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23414                            1196 I1  
23415                            1197 I1  
23416                            1198 I1  
23417                            1199 I1  
23418                            1200 I1  ;;      FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23419                            1201 I1  ;;              @この段でフルクロを行うかどうか R0=0　しない R0 != フルクロする
23420                            1202 I1  ;;              AR6:目標停止位置[PLS],R7リニアの実測位置[PLS] 1回転上のオフセットパルス
23421                            1203 I1  ;;
23422                            1204 I1  ;;      FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0                       ;ANS R0,R6(ﾘﾆｱ実測
                                          ﾊﾟﾙｽ),R7(1回転内目標ﾊﾟﾙｽ)
23423                            1205 I1  ;;              @ニアゼロの範囲内 R0=0, ＋側へオーバR0=1,-側へオーバR0=-1
23424                            1206 I1  ;;               CPUBはCPUAがニアゼロならニアＺロと認識
23425                            1207 I1  
23426                            1208 I1  ;       *******************************************
23427                            1209 I1  ;       ***                                     ***
23428                            1210 I1  ;       ***     ﾌﾙｸﾛｰｽﾞを行う段数かチェック     ***
23429                            1211 I1  ;       ***     [ﾘﾆｱ・荷重切替]                 ***
23430                            1212 I1  ;       *******************************************
23431                            1213 I1  ;       最終段の場合はﾌﾙｸﾛｰｽﾞしない。このソフトの上で見ている
23432                            1214 I1  ;       input INT_POS_CTL_STEP,CPOS_SDAT1_CNTSTEP
23433                            1215 I1  ;       ANS R0:0 ﾌﾙｸﾛｰｽﾞしない
23434                            1216 I1  ;             :0以外 ﾌﾙｸﾛｰｽﾞする
23435                            1217 I1  ;       ANS R5:この行程の停止行程
23436                            1218 I1  ;[_POS_CLS_START_CONFは_POS_CLS_TYP1_PROC_CHKの一部]
23437                            1219 I1  ;
23438                                 I1  ***** BEGIN-POOL *****
23439 00004858 00000000               I1  DATA FOR SOURCE-LINE 1182
23440 0000485C 00000000               I1  DATA FOR SOURCE-LINE 1184
23441 00004860 00000000               I1  DATA FOR SOURCE-LINE 1187
23442 00004864 00000000               I1  DATA FOR SOURCE-LINE 1191
23443                                 I1  ***** END-POOL *****
23444 00004868                   1220 I1  _POS_CLS_START_CONF:
23445                            1221 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   309
PROGRAM NAME =

23446 00004868 4F22                   M           STS.L   PR,@-R15                ;[必要]
23447                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23448 0000486A D107              1222 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
23449 0000486C 6011              1223 I1          MOV.W   @R1,R0                          ;
23450 0000486E 6503              1224 I1          MOV     R0,R5                           ;工程PUSH
23451 00004870 70FF              1225 I1          ADD     #-1,R0                          ;
23452 00004872 4008              1226 I1          SHLL2   R0
23453 00004874 D105              1227 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23454 00004876 001E              1228 I1          MOV.L   @(R0,R1),R0                     ;現状の工程の目標工程
23455 00004878 D105              1229 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23456 0000487A 2101              1230 I1          MOV.W   R0,@R1
23457                            1231 I1  
23458 0000487C 3500              1232 I1          CMP/EQ  R0,R5                           ;停止させる工程でのみﾌﾙｸﾛｰｽﾞは行う
23459 0000487E 8900              1233 I1          BT      POS_CLS_START_050               ;R0=R5 ANS R5=工程,R0
23460 00004880 200A              1234 I1          XOR     R0,R0                           ;ANS MAK
23461 00004882                   1235 I1  POS_CLS_START_050:                              ;
23462                            1236 I1  
23463                            1237 I1          SUB_END
23464                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23465 00004882 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23466                            1238 I1          M_RTS
23467 00004884 000B                   M           RTS                             ;RTSの後ろの
23468 00004886 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23469                            1239 I1  
23470                            1240 I1  ;       ***************************************************
23471                            1241 I1  ;       ***                                             ***
23472                            1242 I1  ;       ***     目標位置(ﾊﾟﾙｽ)と制御対象実測作成        ***
23473                            1243 I1  ;       ***     [ﾘﾆｱ・荷重切替]                         ***
23474                            1244 I1  ;       ***                                             ***
23475                            1245 I1  ;       ***************************************************
23476                            1246 I1  ;       input _SDATCLS_TRG_STEP ;//速度連続の最後のｽﾃｯﾌﾟ
23477                            1247 I1  ;       ANS
23478                            1248 I1  ;       R7:目標停止位置
23479                            1249 I1  ;       R6:ﾘﾆｱ位置　または　荷重からの位置
23480                            1250 I1  ;               荷重の場合は(目標荷重-実測荷重)*K+目標位置
23481                            1251 I1  ;                               (完了幅内では+1,0,-1ﾊﾟﾙｽにする)
23482                            1252 I1  ;
23483                            1253 I1  ;[_POS_CLS_OBJPLS_PVPLS_MAKEは_POS_CLS_TYP1_PROC_CHKの一部]
23484                            1254 I1  ;
23485                            1255 I1  ;
23486                            1256 I1  ;
23487                                 I1  ***** BEGIN-POOL *****
23488 00004888 00000000               I1  DATA FOR SOURCE-LINE 1222
23489 0000488C 00000000               I1  DATA FOR SOURCE-LINE 1227
23490 00004890 00000000               I1  DATA FOR SOURCE-LINE 1229
23491                                 I1  ***** END-POOL *****
23492 00004894                   1257 I1  _POS_CLS_OBJPLS_PVPLS_MAKE
23493                            1258 I1          SUB_START
23494 00004894 4F22                   M           STS.L   PR,@-R15                ;[必要]
23495                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23496                            1259 I1  
23497 00004896 D111              1260 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23498 00004898 6011              1261 I1          MOV.W   @R1,R0                          ;[R5]
23499                            1262 I1  
23500 0000489A D511              1263 I1          MOV.L   #_SDATCLS_UPOBJ_PLS,R5          ;[目標位置=待機点]
23501 0000489C D111              1264 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23502 0000489E 6211              1265 I1          MOV.W   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   310
PROGRAM NAME =

23503 000048A0 7201              1266 I1          ADD     #1,R2                           ;
23504 000048A2 3023              1267 I1          CMP/GE  R2,R0                           ;MAX=NOW
23505 000048A4 8903              1268 I1          BT      POS_CLS_OBJPVPLSMAK100  ;
23506                            1269 I1  
23507 000048A6 D510              1270 I1          MOV.L   #_SDATCLS_OBJPLS,R5             ;[目標位置=各段設定位置]
23508 000048A8 70FF              1271 I1          ADD     #-1,R0                          ;
23509 000048AA 4008              1272 I1          SHLL2   R0                              ;4BYTE
23510 000048AC 350C              1273 I1          ADD     R0,R5                           ;
23511 000048AE                   1274 I1  POS_CLS_OBJPVPLSMAK100  ;
23512                            1275 I1  
23513 000048AE 6752              1276 I1          MOV.L   @R5,R7                          ;待機点または目標位置(停止)
23514 000048B0 6273              1277 I1          MOV     R7,R2
23515                            1278 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(目標ﾊﾟﾙｽ+/-ﾊﾟﾙｽ変換)
23516 000048B2 D00E                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23517 000048B4 400B                   M           JSR     @R0                     ;
23518 000048B6 0009                   M           NOP                                     ;
23519 000048B8 6723              1279 I1          MOV     R2,R7                           ;R7:目標位置;ANS:目標位置(設定ﾚﾍﾞﾙ)
23520                            1280 I1  
23521 000048BA D40D              1281 I1          MOV.L   #_DBG_REVMOD_OBJPLS,R4          ;
23522 000048BC 2422              1282 I1          MOV.L   R2,@R4                          ;ﾃﾞﾊﾞｯｸ用内部ﾃﾞｰﾀﾓﾆﾀ
23523                            1283 I1  
23524                            1284 I1  ;       ==========R7:停止目標位置============
23525 000048BE D10D              1285 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23526 000048C0 6011              1286 I1          MOV.W   @R1,R0                          ;
23527 000048C2 2008              1287 I1          TST     R0,R0                           ;
23528                            1288 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK300       ;荷重 JUMP
23529 000048C4 8B1C                   M           BF      POS_CLS_OBJPVPLSMAK300
23530                            1289 I1  
23531                            1290 I1  ;       =====   R6:リニア       ======
23532 000048C6 D40C              1291 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4   ;//余り角度 +ﾃﾞｰﾀ
23533 000048C8 6642              1292 I1          MOV.L   @R4,R6                          ;
23534 000048CA 6263              1293 I1          MOV     R6,R2                           ;
23535                            1294 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(ﾘﾆｱｽｹｰﾙ==>+/-ﾊﾟﾙｽ変換)
23536 000048CC D007                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23537 000048CE 400B                   M           JSR     @R0                     ;
23538 000048D0 0009                   M           NOP                                     ;
23539 000048D2 6623              1295 I1          MOV     R2,R6                           ;
23540 000048D4 D009              1296 I1          MOV.L   #_DBG_REVMOD_CTLPLS,R0          ;
23541 000048D6 2022              1297 I1          MOV.L   R2,@R0                          ;
23542                            1298 I1          M_BRA   POS_CLS_OBJPVPLSMAK500          ;
23543 000048D8 A01C                   M           BRA     POS_CLS_OBJPVPLSMAK500
23544 000048DA 0009                   M           NOP
23545                            1299 I1  
23546                            1300 I1  
23547                            1301 I1  ;       =====           荷重            ======
23548                                 I1  ***** BEGIN-POOL *****
23549 000048DC 00000000               I1  DATA FOR SOURCE-LINE 1260
23550 000048E0 00000000               I1  DATA FOR SOURCE-LINE 1263
23551 000048E4 00000000               I1  DATA FOR SOURCE-LINE 1264
23552 000048E8 00000000               I1  DATA FOR SOURCE-LINE 1270
23553 000048EC 00000000               I1  DATA FOR SOURCE-LINE 1278,1294
23554 000048F0 00000000               I1  DATA FOR SOURCE-LINE 1281
23555 000048F4 00000000               I1  DATA FOR SOURCE-LINE 1285
23556 000048F8 00000000               I1  DATA FOR SOURCE-LINE 1291
23557 000048FC 00000000               I1  DATA FOR SOURCE-LINE 1296
23558                                 I1  ***** END-POOL *****
23559 00004900                   1302 I1  POS_CLS_OBJPVPLSMAK300:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   311
PROGRAM NAME =

23560                            1303 I1  ;;      S4b     KJYUCLS_OBJ_KN;         //各段の荷重目標
23561                            1304 I1  ;;      S4b     KJYUCLS_KN_HENSA;       //荷重の偏差
23562                            1305 I1  ;;      S4b     KJYUCLS_KN_HENSA_PLS;   //荷重の偏差相当のパルス
23563                            1306 I1  
23564                            1307 I1          PUSH_REG1 R7                            ;
23565 00004900 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
23566                                 M                                           ;REG=>[SP]
23567                                 M                                           ;"-4" FF,FF,FF,FC
23568                            1308 I1          FAR_JSR #_CLS_KJYU_PLS_CHANGE,R0        ;OUTPUT R2:偏差ﾊﾟﾙｽ+/-
23569 00004902 D006                   M           MOV.L   #_CLS_KJYU_PLS_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23570 00004904 400B                   M           JSR     @R0                     ;
23571 00004906 0009                   M           NOP                                     ;
23572                            1309 I1          POP_REG1 R7                             ;
23573                                 M                                   ; RE"+4" 00,00,00,04
23574 00004908 67F6                   M           MOV.L   @R15+,R7        ;
23575                            1310 I1  
23576                            1311 I1  
23577 0000490A 2228              1312 I1          TST     R2,R2                           ;
23578                            1313 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK310       ;
23579 0000490C 8B00                   M           BF      POS_CLS_OBJPVPLSMAK310
23580                            1314 I1  
23581 0000490E E201              1315 I1          MOV.B   #1,R2                           ;0なら1にする
23582                            1316 I1  
23583 00004910                   1317 I1  POS_CLS_OBJPVPLSMAK310:                         ;
23584                            1318 I1                                                  ;"R2=2"
23585 00004910 6673              1319 I1          MOV     R7,R6                           ;OBJ=100PLS
23586 00004912 3628              1320 I1          SUB     R2,R6                           ;PV = 98PLS
23587                            1321 I1  
23588                            1322 I1  
23589                            1323 I1  
23590                            1324 I1  
23591 00004914                   1325 I1  POS_CLS_OBJPVPLSMAK500:
23592                            1326 I1  
23593                            1327 I1          SUB_END
23594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23595 00004914 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23596                            1328 I1          M_RTS
23597 00004916 000B                   M           RTS                             ;RTSの後ろの
23598 00004918 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23599                            1329 I1  
23600                            1330 I1  ;       ***************************************************
23601                            1331 I1  ;       ***                                             ***
23602                            1332 I1  ;       ***     リニア　ニアゼロまたは荷重ニアゼロ      ***
23603                            1333 I1  ;       ***                                             ***
23604                            1334 I1  ;       ***************************************************
23605                            1335 I1  ;       input   R6:ﾘﾆｱ位置
23606                            1336 I1  ;       ANS     R0:-1,0,1
23607                            1337 I1          .IMPORT _SVP_KAJOBJ_HAB ;荷重完了範囲
23608                            1338 I1  
23609                                 I1  ***** BEGIN-POOL *****
23610 0000491A 0000                   I1  ALIGNMENT CODE
23611 0000491C 00000000               I1  DATA FOR SOURCE-LINE 1308
23612                                 I1  ***** END-POOL *****
23613 00004920                   1339 I1  _POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK:
23614                            1340 I1          SUB_START
23615 00004920 4F22                   M           STS.L   PR,@-R15                ;[必要]
23616                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   312
PROGRAM NAME =

23617                            1341 I1  
23618 00004922 D104              1342 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23619 00004924 6011              1343 I1          MOV.W   @R1,R0                          ;
23620 00004926 2008              1344 I1          TST     R0,R0                           ;
23621                            1345 I1          TST_BIT_ON POS_CLS_RNA_KJYU_FIRST_NZ_CHK100     ;
23622 00004928 8B08                   M           BF      POS_CLS_RNA_KJYU_FIRST_NZ_CHK100
23623                            1346 I1  
23624                            1347 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23625 0000492A D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23626 0000492C 400B                   M           JSR     @R0                     ;
23627 0000492E 0009                   M           NOP                                     ;
23628                            1348 I1          M_BRA   POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23629 00004930 A011                   M           BRA     POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23630 00004932 0009                   M           NOP
23631                            1349 I1  
23632                                 I1  ***** BEGIN-POOL *****
23633 00004934 00000000               I1  DATA FOR SOURCE-LINE 1342
23634 00004938 00000000               I1  DATA FOR SOURCE-LINE 1347
23635                                 I1  ***** END-POOL *****
23636 0000493C                   1350 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK100:
23637                            1351 I1  
23638                            1352 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23639 0000493C D007                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23640 0000493E 400B                   M           JSR     @R0                     ;
23641 00004940 0009                   M           NOP                                     ;
23642                            1353 I1  ;       -2015-06-22
23643 00004942 D107              1354 I1          MOV.L   #(_PAR_KAJYU_FIRST-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
23644 00004944 6311              1355 I1          MOV.W   @R1,R3                                                  ;
23645 00004946 D107              1356 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23646 00004948 6212              1357 I1          MOV.L   @R1,R2                  ;"+/-"
23647 0000494A 4211              1358 I1          CMP/PZ  R2
23648 0000494C 8900              1359 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHK120
23649 0000494E 622B              1360 I1          NEG     R2,R2                                   ;
23650 00004950                   1361 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK120                        ;
23651 00004950 3236              1362 I1          CMP/HI  R3,R2                                   ;R3<R2
23652 00004952 8900              1363 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND        ;
23653 00004954 200A              1364 I1          XOR     R0,R0                                   ;
23654                            1365 I1  
23655 00004956                   1366 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND:
23656                            1367 I1  
23657                            1368 I1          SUB_END
23658                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23659 00004956 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23660                            1369 I1          M_RTS
23661 00004958 000B                   M           RTS                             ;RTSの後ろの
23662 0000495A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23663                            1370 I1  
23664                            1371 I1  
23665                            1372 I1  
23666                            1373 I1  
23667                            1374 I1  
23668                                 I1  ***** BEGIN-POOL *****
23669 0000495C 00000000               I1  DATA FOR SOURCE-LINE 1352
23670 00004960 00000000               I1  DATA FOR SOURCE-LINE 1354
23671 00004964 00000000               I1  DATA FOR SOURCE-LINE 1356
23672                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   313
PROGRAM NAME =

23673 00004968                   1375 I1  _POS_CLS_RNA_KJYU_NZ_CHEAK:
23674                            1376 I1          SUB_START
23675 00004968 4F22                   M           STS.L   PR,@-R15                ;[必要]
23676                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23677                            1377 I1  
23678 0000496A D104              1378 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23679 0000496C 6011              1379 I1          MOV.W   @R1,R0                          ;
23680 0000496E 2008              1380 I1          TST     R0,R0                           ;
23681                            1381 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK100   ;
23682 00004970 8B08                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK100
23683                            1382 I1  
23684                            1383 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23685 00004972 D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23686 00004974 400B                   M           JSR     @R0                     ;
23687 00004976 0009                   M           NOP                                     ;
23688                            1384 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND
23689 00004978 A03F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23690 0000497A 0009                   M           NOP
23691                            1385 I1  
23692                                 I1  ***** BEGIN-POOL *****
23693 0000497C 00000000               I1  DATA FOR SOURCE-LINE 1378
23694 00004980 00000000               I1  DATA FOR SOURCE-LINE 1383
23695                                 I1  ***** END-POOL *****
23696 00004984                   1386 I1  POS_CLS_RNA_KJYU_NZ_CHK100:
23697                            1387 I1  
23698                            1388 I1  ;       ---------------------------------------------------
23699                            1389 I1          .IMPORT _SEQ_DP_TOP
23700                            1390 I1  
23701 00004984 D10C              1391 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;[[[[[[[[[[[[
23702 00004986 6011              1392 I1          MOV.W   @R1,R0                          ;
23703 00004988 9414              1393 I1          MOV.W   #BIT12,R4                       ;
23704                            1394 I1  
23705 0000498A 2048              1395 I1          TST     R4,R0                           ;
23706                            1396 I1          TST_BIT_OF POS_CLS_RNA_KJYU_NZ_CHK500   ;ﾀｲﾏ中は制御しない
23707 0000498C 8932                   M           BT      POS_CLS_RNA_KJYU_NZ_CHK500
23708                            1397 I1  
23709 0000498E D10B              1398 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;//BIT0:SET BIT1:ﾀｲﾑｱｯﾌﾟ()
23710 00004990 6011              1399 I1          MOV.W   @R1,R0                          ;
23711 00004992 C802              1400 I1          TST     #BIT1,R0
23712                            1401 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK400   ;
23713 00004994 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK400
23714                            1402 I1  
23715 00004996 C801              1403 I1          TST     #BIT0,R0                        ;
23716                            1404 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK200   ;ﾆｱｾﾞﾛに入ったか？
23717 00004998 8B16                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK200
23718                            1405 I1  
23719                            1406 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23720 0000499A D009                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23721 0000499C 400B                   M           JSR     @R0                     ;
23722 0000499E 0009                   M           NOP                                     ;
23723 000049A0 2008              1407 I1          TST     R0,R0                           ;ﾆｱｾﾞﾛか?
23724                            1408 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾆｱｾﾞﾛではない
23725 000049A2 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23726                            1409 I1  
23727 000049A4 E001              1410 I1          MOV.B   #BIT0,R0                        ;
23728 000049A6 D105              1411 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   314
PROGRAM NAME =

23729 000049A8 2101              1412 I1          MOV.W   R0,@R1                          ;
23730                            1413 I1  
23731                            1414 I1          FAR_JSR #_FCLS_NZ_TIM_SET,R0            ;ﾀｲﾏｾｯﾄ
23732 000049AA D006                   M           MOV.L   #_FCLS_NZ_TIM_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23733 000049AC 400B                   M           JSR     @R0                     ;
23734 000049AE 0009                   M           NOP                                     ;
23735                            1415 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHK490      ;
23736 000049B0 A018                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHK490
23737 000049B2 0009                   M           NOP
23738                            1416 I1  
23739                                 I1  ***** BEGIN-POOL *****
23740 000049B4 1000                   I1  DATA FOR SOURCE-LINE 1393
23741 000049B6 0000                   I1  ALIGNMENT CODE
23742 000049B8 00000000               I1  DATA FOR SOURCE-LINE 1391
23743 000049BC 00000000               I1  DATA FOR SOURCE-LINE 1398,1411
23744 000049C0 00000000               I1  DATA FOR SOURCE-LINE 1406
23745 000049C4 00000000               I1  DATA FOR SOURCE-LINE 1414
23746                                 I1  ***** END-POOL *****
23747 000049C8                   1417 I1  POS_CLS_RNA_KJYU_NZ_CHK200:
23748                            1418 I1  
23749                            1419 I1  
23750 000049C8 D404              1420 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4            ;
23751 000049CA 6142              1421 I1          MOV.L   @R4,R1                          ;
23752 000049CC 2118              1422 I1          TST     R1,R1                           ;
23753                            1423 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾀｲﾏ中
23754 000049CE 8B09                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23755                            1424 I1  
23756                            1425 I1  ;       --------ﾀｲﾑｱｯﾌﾟ------------
23757 000049D0 E003              1426 I1          MOV.B   #BIT1+BIT0,R0                   ;
23758 000049D2 D103              1427 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23759 000049D4 2101              1428 I1          MOV.W   R0,@R1                          ;
23760                            1429 I1  
23761 000049D6                   1430 I1  POS_CLS_RNA_KJYU_NZ_CHK400:
23762 000049D6 200A              1431 I1          XOR     R0,R0                           ;完了
23763                            1432 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23764 000049D8 A00F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23765 000049DA 0009                   M           NOP
23766                            1433 I1  
23767                            1434 I1  
23768                                 I1  ***** BEGIN-POOL *****
23769 000049DC 00000000               I1  DATA FOR SOURCE-LINE 1420
23770 000049E0 00000000               I1  DATA FOR SOURCE-LINE 1427
23771                                 I1  ***** END-POOL *****
23772 000049E4                   1435 I1  POS_CLS_RNA_KJYU_NZ_CHK490:
23773                            1436 I1          FAR_JSR #_KJYU_OUT_DIRCT,R0             ;ANS R0=1(戻れ)/-1(進め)　終わらない
23774 000049E4 D002                   M           MOV.L   #_KJYU_OUT_DIRCT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23775 000049E6 400B                   M           JSR     @R0                     ;
23776 000049E8 0009                   M           NOP                                     ;
23777                            1437 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23778 000049EA A006                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23779 000049EC 0009                   M           NOP
23780                            1438 I1  
23781                            1439 I1  
23782                            1440 I1  ;       --------------------------------------------
23783                                 I1  ***** BEGIN-POOL *****
23784 000049EE 0000                   I1  ALIGNMENT CODE
23785 000049F0 00000000               I1  DATA FOR SOURCE-LINE 1436
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   315
PROGRAM NAME =

23786                                 I1  ***** END-POOL *****
23787 000049F4                   1441 I1  POS_CLS_RNA_KJYU_NZ_CHK500:
23788                            1442 I1  
23789                            1443 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;0(完了),1(戻れ),-1(進め)
23790 000049F4 D002                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23791 000049F6 400B                   M           JSR     @R0                     ;
23792 000049F8 0009                   M           NOP                                     ;
23793                            1444 I1  
23794 000049FA                   1445 I1  POS_CLS_RNA_KJYU_NZ_CHKEND:
23795                            1446 I1  
23796                            1447 I1  
23797                            1448 I1          SUB_END
23798                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23799 000049FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23800                            1449 I1          M_RTS
23801 000049FC 000B                   M           RTS                             ;RTSの後ろの
23802 000049FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23803                            1450 I1  
23804                            1451 I1  
23805                            1452 I1  
23806                            1453 I1  ;       *******************************************
23807                            1454 I1  ;       ***                                     ***
23808                            1455 I1  ;       ***     ユーザ設定荷重完了範囲との比較  ***
23809                            1456 I1  ;       ***                                     ***
23810                            1457 I1  ;       *******************************************
23811                                 I1  ***** BEGIN-POOL *****
23812 00004A00 00000000               I1  DATA FOR SOURCE-LINE 1443
23813                                 I1  ***** END-POOL *****
23814 00004A04                   1458 I1  _KJYU_NEARZERO_CHK:
23815                            1459 I1          SUB_START
23816 00004A04 4F22                   M           STS.L   PR,@-R15                ;[必要]
23817                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23818                            1460 I1  
23819 00004A06 D108              1461 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23820 00004A08 6212              1462 I1          MOV.L   @R1,R2                  ;"+/-"
23821                            1463 I1  
23822 00004A0A D108              1464 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23823 00004A0C 6311              1465 I1          MOV.W   @R1,R3                  ;
23824                            1466 I1  
23825 00004A0E 643B              1467 I1          NEG     R3,R4                   ;-R4~+R3
23826                            1468 I1  
23827 00004A10 E0FF              1469 I1          MOV.B   #-1,R0                          ;手前だ
23828 00004A12 3237              1470 I1          CMP/GT  R3,R2                           ;R3<R2
23829 00004A14 8903              1471 I1          BT      KJYU_NEARZERO_CK200             ;まだ荷重が上がっていない
23830                            1472 I1  
23831 00004A16 200A              1473 I1          XOR     R0,R0                           ;範囲内
23832 00004A18 3243              1474 I1          CMP/GE  R4,R2                           ;
23833 00004A1A 8900              1475 I1          BT      KJYU_NEARZERO_CK200             ;
23834 00004A1C E001              1476 I1          MOV.B   #1,R0                           ;
23835 00004A1E                   1477 I1  KJYU_NEARZERO_CK200:
23836                            1478 I1  
23837 00004A1E D104              1479 I1          MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23838 00004A20 2101              1480 I1          MOV.W   R0,@R1                  ;
23839                            1481 I1  
23840                            1482 I1          SUB_END
23841                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23842 00004A22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   316
PROGRAM NAME =

23843                            1483 I1          M_RTS
23844 00004A24 000B                   M           RTS                             ;RTSの後ろの
23845 00004A26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23846                            1484 I1  ;       ***************************************************
23847                            1485 I1  ;       ***                                             ***
23848                            1486 I1  ;       ***     ユーザ設定荷重完了範囲-シスパラとの比較 ***
23849                            1487 I1  ;       ***     [2015-03-15]                            ***
23850                            1488 I1  ;       ***************************************************
23851                            1489 I1  ;;;;;;;;;;_KJYU_NEARZERO2_CHK:
23852                            1490 I1  ;;;;;;;;;;      SUB_START
23853                            1491 I1  ;;;;;;;;;;
23854                            1492 I1  ;;;;;;;;;;      MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足
                                          している
23855                            1493 I1  ;;;;;;;;;;      MOV.L   @R1,R2                  ;"+/-"
23856                            1494 I1  ;;;;;;;;;;
23857                            1495 I1  ;;;;;;;;;;      MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23858                            1496 I1  ;;;;;;;;;;      MOV.W   @R1,R3                  ;
23859                            1497 I1  ;;;;;;;;;;
23860                            1498 I1  ;;;;;;;;;;      MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23861                            1499 I1  ;;;;;;;;;;      MOV.W   @R1,R0                                                  ;
23862                            1500 I1  ;;;;;;;;;;      SUB     R0,R3                                                   ;
23863                            1501 I1  ;;;;;;;;;;      CMP/PL  R0                                                      ;
23864                            1502 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK100                                    ;R0=
23865                            1503 I1  ;;;;;;;;;;
23866                            1504 I1  ;;;;;;;;;;      XOR     R0,R0                                                   ;荷重範囲
                                          内(設定が荷重いつでも荷重到達になる)
23867                            1505 I1  ;;;;;;;;;;      M_BRA   KJYU_NEARZERO2_CK200                                    ;
23868                            1506 I1  ;;;;;;;;;;
23869                            1507 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK100                                                  ;
23870                            1508 I1  ;;;;;;;;;;
23871                            1509 I1  ;;;;;;;;;;      NEG     R3,R4                   ;-R4~+R3
23872                            1510 I1  ;;;;;;;;;;
23873                            1511 I1  ;;;;;;;;;;      MOV.B   #-1,R0                          ;手前だ
23874                            1512 I1  ;;;;;;;;;;      CMP/GT  R3,R2                           ;R3<R2
23875                            1513 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;まだ荷重が上がっていない
23876                            1514 I1  ;;;;;;;;;;
23877                            1515 I1  ;;;;;;;;;;      XOR     R0,R0                           ;範囲内
23878                            1516 I1  ;;;;;;;;;;      CMP/GE  R4,R2                           ;
23879                            1517 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;
23880                            1518 I1  ;;;;;;;;;;      MOV.B   #1,R0                           ;
23881                            1519 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK200:
23882                            1520 I1  ;;;;;;;;;;
23883                            1521 I1  ;;;;;;;;;;
23884                            1522 I1  ;;;;;;;;;;      SUB_END
23885                            1523 I1  ;;;;;;;;;;      M_RTS
23886                            1524 I1  
23887                            1525 I1  
23888                            1526 I1  ;;;     R0=0 範囲内
23889                            1527 I1  ;;;     R0=1:荷重ｵｰﾊﾞ,R0=-1荷重不足
23890                            1528 I1  ;;;     MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23891                            1529 I1  ;;;     MOV.W   R0,@R1                  ;
23892                            1530 I1  
23893                            1531 I1  
23894                            1532 I1  ;       ***************************************************
23895                            1533 I1  ;       ***                                             ***
23896                            1534 I1  ;       ***     各種荷重範囲比較                        ***
23897                            1535 I1  ;       ***     2015-06-11                              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   317
PROGRAM NAME =

23898                            1536 I1  ;       ***************************************************
23899                                 I1  ***** BEGIN-POOL *****
23900 00004A28 00000000               I1  DATA FOR SOURCE-LINE 1461
23901 00004A2C 00000000               I1  DATA FOR SOURCE-LINE 1464
23902 00004A30 00000000               I1  DATA FOR SOURCE-LINE 1479
23903                                 I1  ***** END-POOL *****
23904 00004A34                   1537 I1  _KJYU_NEARZERO3_CHK:
23905                            1538 I1          SUB_START
23906 00004A34 4F22                   M           STS.L   PR,@-R15                ;[必要]
23907                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23908                            1539 I1  
23909 00004A36 D10C              1540 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1                                   ;//荷重の偏差　＋
                                          ：目標-実荷重:"+"まだ不足している
23910 00004A38 6212              1541 I1          MOV.L   @R1,R2                                                  ;"+/-"
23911 00004A3A 4211              1542 I1          CMP/PZ  R2                                                      ;
23912 00004A3C 8900              1543 I1          BT      KJYU_NEARZERO3CHK_100                                   ;
23913 00004A3E 622B              1544 I1          NEG     R2,R2                                                   ;
23914 00004A40                   1545 I1  KJYU_NEARZERO3CHK_100:
23915                            1546 I1  
23916 00004A40 D10A              1547 I1          MOV.L   #(_PAR_KAJYU_STPARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;[荷重停止範囲] 20
                                          15-06-22
23917 00004A42 6311              1548 I1          MOV.W   @R1,R3                                                  ;
23918 00004A44 3322              1549 I1          CMP/HS  R2,R3                                                   ;
23919 00004A46 891C              1550 I1          BT      KJYU_NEARZERO3CHK_OUT_OFF                               ;R2<=R3
23920                            1551 I1  
23921 00004A48 D109              1552 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1                                     ;荷重完了範囲
23922 00004A4A 6411              1553 I1          MOV.W   @R1,R4                                                  ;
23923 00004A4C 6343              1554 I1          MOV     R4,R3                                                   ;
23924                            1555 I1  
23925 00004A4E D109              1556 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23926 00004A50 6011              1557 I1          MOV.W   @R1,R0                                                  ;
23927 00004A52 3308              1558 I1          SUB     R0,R3                                                   ;
23928 00004A54 4311              1559 I1          CMP/PZ  R3
23929 00004A56 8900              1560 I1          BT      KJYU_NEARZERO3CHK_200                                   ;
23930 00004A58 6343              1561 I1          MOV     R4,R3                                                   ;
23931 00004A5A                   1562 I1  KJYU_NEARZERO3CHK_200:                                                  ;
23932 00004A5A 3322              1563 I1          CMP/HS  R2,R3                                                   ;R2<=R3 到達範囲?
23933 00004A5C 8914              1564 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;
23934                            1565 I1  
23935 00004A5E 3422              1566 I1          CMP/HS  R2,R4                                                   ;R2<=R4 荷重ニアゼ
                                          ロ範囲?
23936 00004A60 8915              1567 I1          BT      KJYU_NEARZERO3CHK_YES
23937 00004A62 E0FE              1568 I1          MOV.B   #-2,R0                                                  ;範囲外
23938                            1569 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23939 00004A64 A014                   M           BRA     KJYU_NEARZERO3CHK_END
23940 00004A66 0009                   M           NOP
23941                            1570 I1  
23942                            1571 I1  
23943                                 I1  ***** BEGIN-POOL *****
23944 00004A68 00000000               I1  DATA FOR SOURCE-LINE 1540
23945 00004A6C 00000000               I1  DATA FOR SOURCE-LINE 1547
23946 00004A70 00000000               I1  DATA FOR SOURCE-LINE 1552
23947 00004A74 00000000               I1  DATA FOR SOURCE-LINE 1556
23948                                 I1  ***** END-POOL *****
23949 00004A78                   1572 I1  KJYU_NEARZERO3_CK100                                                    ;
23950 00004A78 3233              1573 I1          CMP/GE  R3,R2                                                   ;
23951 00004A7A 8905              1574 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;R3<=R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   318
PROGRAM NAME =

23952 00004A7C E0FF              1575 I1          MOV.B   #-1,R0                                                  ;
23953                            1576 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23954 00004A7E A007                   M           BRA     KJYU_NEARZERO3CHK_END
23955 00004A80 0009                   M           NOP
23956                            1577 I1  
23957                            1578 I1  
23958 00004A82                   1579 I1  KJYU_NEARZERO3CHK_OUT_OFF:
23959 00004A82 200A              1580 I1          XOR     R0,R0                                                   ;一番小さい
23960                            1581 I1          M_BRA   KJYU_NEARZERO3CHK_END
23961 00004A84 A004                   M           BRA     KJYU_NEARZERO3CHK_END
23962 00004A86 0009                   M           NOP
23963                            1582 I1  
23964 00004A88                   1583 I1  KJYU_NEARZERO3CHK_TOUTATU:                                              ;
23965 00004A88 E001              1584 I1          MOV.B   #1,R0                                                   ;二番目小さい
23966                            1585 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23967 00004A8A A001                   M           BRA     KJYU_NEARZERO3CHK_END
23968 00004A8C 0009                   M           NOP
23969                            1586 I1  
23970 00004A8E                   1587 I1  KJYU_NEARZERO3CHK_YES
23971 00004A8E E002              1588 I1          MOV.B   #2,R0                                                   ;三番目小さい
23972                            1589 I1  
23973 00004A90                   1590 I1  KJYU_NEARZERO3CHK_END
23974                            1591 I1          SUB_END
23975                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23976 00004A90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23977                            1592 I1          M_RTS
23978 00004A92 000B                   M           RTS                             ;RTSの後ろの
23979 00004A94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23980                            1593 I1  
23981                            1594 I1  
23982                            1595 I1  
23983 00004A96                   1596 I1  _KJYU_OUT_DIRCT:
23984                            1597 I1          SUB_START
23985 00004A96 4F22                   M           STS.L   PR,@-R15                ;[必要]
23986                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23987                            1598 I1  
23988 00004A98 D103              1599 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23989 00004A9A 6012              1600 I1          MOV.L   @R1,R0                  ;"+/-"
23990                            1601 I1  
23991 00004A9C 4011              1602 I1          CMP/PZ  R0
23992 00004A9E 8905              1603 I1          BT      KJYU_OUTDIR100          ;
23993 00004AA0 E001              1604 I1          MOV.B   #1,R0                   ;R0=1:"+"へ行き過ぎてる 戻れ
23994                            1605 I1          M_BRA   KJYU_OUTDIR200          ;
23995 00004AA2 A004                   M           BRA     KJYU_OUTDIR200
23996 00004AA4 0009                   M           NOP
23997                            1606 I1  
23998                                 I1  ***** BEGIN-POOL *****
23999 00004AA6 0000                   I1  ALIGNMENT CODE
24000 00004AA8 00000000               I1  DATA FOR SOURCE-LINE 1599
24001                                 I1  ***** END-POOL *****
24002 00004AAC                   1607 I1  KJYU_OUTDIR100:
24003 00004AAC E0FF              1608 I1          MOV.B   #-1,R0                  ;R0=-1"-"進め
24004                            1609 I1  
24005 00004AAE                   1610 I1  KJYU_OUTDIR200:
24006                            1611 I1  
24007                            1612 I1  
24008                            1613 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   319
PROGRAM NAME =

24009                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24010 00004AAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24011                            1614 I1          M_RTS
24012 00004AB0 000B                   M           RTS                             ;RTSの後ろの
24013 00004AB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24014                            1615 I1  
24015                            1616 I1  ;       *******************************************
24016                            1617 I1  ;       ***                                     ***
24017                            1618 I1  ;       ***                                     ***
24018                            1619 I1  ;       ***                                     ***
24019                            1620 I1  ;       *******************************************
24020                            1621 I1  ;       荷重制御中　タイマ中も制御し続ける 349.12
24021                            1622 I1  ;       ニアゼロ
24022 00004AB4                   1623 I1  _FCLS_NZ_TIM_SET
24023                            1624 I1          SUB_START
24024 00004AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24026                            1625 I1  
24027                            1626 I1  
24028 00004AB6 D205              1627 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
24029 00004AB8 6021              1628 I1          MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
24030 00004ABA 70FF              1629 I1          ADD     #-1,R0                  ;
24031 00004ABC D404              1630 I1          MOV.L   #_CPOS_SDAT1_TIM,R4     ;
24032 00004ABE 4008              1631 I1          SHLL2   R0                      ;
24033 00004AC0 014E              1632 I1          MOV.L   @(R0,R4),R1             ;TIM
24034 00004AC2 D404              1633 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
24035 00004AC4 2412              1634 I1          MOV.L   R1,@R4                  ;
24036                            1635 I1  
24037                            1636 I1          SUB_END
24038                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24039 00004AC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24040                            1637 I1          M_RTS
24041 00004AC8 000B                   M           RTS                             ;RTSの後ろの
24042 00004ACA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24043                            1638 I1  
24044                            1639 I1  
24045                                 I1  ***** BEGIN-POOL *****
24046 00004ACC 00000000               I1  DATA FOR SOURCE-LINE 1627
24047 00004AD0 00000000               I1  DATA FOR SOURCE-LINE 1630
24048 00004AD4 00000000               I1  DATA FOR SOURCE-LINE 1633
24049                                 I1  ***** END-POOL *****
24050 00004AD8                   1640 I1  _FCLS_KJYU_STEPCHG_CLR
24051                            1641 I1          SUB_START
24052 00004AD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24053                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24054 00004ADA 200A              1642 I1          XOR     R0,R0
24055 00004ADC D103              1643 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1  ;
24056 00004ADE 2101              1644 I1          MOV.W   R0,@R1                  ;
24057                            1645 I1  
24058 00004AE0 D103              1646 I1          MOV.L   #_FULCLS_MATHED,R1
24059 00004AE2 2101              1647 I1          MOV.W   R0,@R1                  ;
24060                            1648 I1  
24061                            1649 I1          SUB_END
24062                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24063 00004AE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24064                            1650 I1          M_RTS
24065 00004AE6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   320
PROGRAM NAME =

24066 00004AE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24067                            1651 I1  
24068                            1652 I1  ;       ***************************************************
24069                            1653 I1  ;       ***                                             ***
24070                            1654 I1  ;       ***                                             ***
24071                            1655 I1  ;       ***                                             ***
24072                            1656 I1  ;       ***************************************************
24073                            1657 I1  ;       どこかで異常検出をする(仕様でないのに荷重ＳＷがＯＮだ)
24074                            1658 I1          .IMPORT _WORD_BIT_TBL1
24075                            1659 I1  
24076                                 I1  ***** BEGIN-POOL *****
24077 00004AEA 0000                   I1  ALIGNMENT CODE
24078 00004AEC 00000000               I1  DATA FOR SOURCE-LINE 1643
24079 00004AF0 00000000               I1  DATA FOR SOURCE-LINE 1646
24080                                 I1  ***** END-POOL *****
24081 00004AF4                   1660 I1  _KJYU_DATA_INFO_SEL
24082                            1661 I1          SUB_START
24083 00004AF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24084                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24085                            1662 I1  
24086 00004AF6 D110              1663 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
24087 00004AF8 6011              1664 I1          MOV.W   @R1,R0                          ;1~10
24088 00004AFA 2008              1665 I1          TST     R0,R0                           ;
24089                            1666 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;
24090 00004AFC 8928                   M           BT      KJYU_DATA_INFOSL100
24091                            1667 I1  
24092 00004AFE D10F              1668 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
24093 00004B00 6211              1669 I1          MOV.W   @R1,R2                          ;
24094 00004B02 7201              1670 I1          ADD     #1,R2                           ;
24095 00004B04 3200              1671 I1          CMP/EQ  R0,R2                           ;戻り行程?
24096 00004B06 8923              1672 I1          BT      KJYU_DATA_INFOSL100             ;
24097                            1673 I1  
24098                            1674 I1  
24099                            1675 I1  ;;;;;;;;;2017-08-15     ADD     #-1,R0                          ;
24100                            1676 I1  ;;;;;;;;;2017-08-15     SHLL    R0                              ;
24101                            1677 I1  ;;;;;;;;;2017-08-15     MOV.L   #_WORD_BIT_TBL1,R4              ;R0=0のときにBIT0
24102                            1678 I1  ;;;;;;;;;2017-08-15     ADD     R0,R4                           ;
24103                            1679 I1  ;;;;;;;;;2017-08-15     MOV.W   @R4,R2                          ;ﾁｪｯｸﾋﾞｯﾄ
24104                            1680 I1  ;;;;;;;;;2017-08-15     MOV.L   #_CPOS_FULCLS_MATEHD_SW,R1      ;
24105                            1681 I1  ;;;;;;;;;2017-08-15     MOV.W   @R1,R3                          ;
24106                            1682 I1  ;;;;;;;;;2017-08-15     TST     R2,R3                           ;
24107                            1683 I1  ;;;;;;;;;2017-08-15     TST_BIT_OF KJYU_DATA_INFOSL100          ;位置
24108                            1684 I1  ;;;;;;;;;2017-08-15     SHLL    R0                              ;*2
24109                            1685 I1  
24110                            1686 I1  ;       ------------2017-08-15-----
24111 00004B08 70FF              1687 I1          ADD     #-1,R0                                          ;
24112 00004B0A 4000              1688 I1          SHLL    R0                                              ;
24113 00004B0C D40C              1689 I1          MOV.L   #_SET1_MOT_INF,R4               ;
24114 00004B0E 340C              1690 I1          ADD     R0,R4                                           ;
24115 00004B10 6241              1691 I1          MOV.W   @R4,R2                                  ;
24116 00004B12 930F              1692 I1          MOV.W   #BIT0,R3                                ;
24117 00004B14 2328              1693 I1          TST     R2,R3                                           ;
24118                            1694 I1          TST_BIT_OF KJYU_DATA_INFOSL100  ;位置
24119 00004B16 891B                   M           BT      KJYU_DATA_INFOSL100
24120                            1695 I1  
24121 00004B18 4000              1696 I1          SHLL    R0                                              ;*2
24122 00004B1A D10A              1697 I1          MOV.L   #_CPOS_KJYUCLS_OBJ,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   321
PROGRAM NAME =

24123 00004B1C 310C              1698 I1          ADD     R0,R1                           ;
24124 00004B1E 6212              1699 I1          MOV.L   @R1,R2                          ;
24125 00004B20 D109              1700 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;各段の荷重目標
24126 00004B22 2122              1701 I1          MOV.L   R2,@R1                          ;
24127                            1702 I1  
24128                            1703 I1          MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=(BIT13),WKRG1=R1,WKRG2=R4
                                          ;
24129 00004B24 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
24130 00004B26 6011                   M           MOV.W   @R1,R0          ;
24131 00004B28 9405                   M           MOV.W   #(BIT13),R4             ;
24132 00004B2A 204B                   M           OR      R4,R0           ;
24133 00004B2C 2101                   M           MOV.W   R0,@R1          ;
24134                            1704 I1  
24135 00004B2E E001              1705 I1          MOV.B   #BIT0,R0                        ;
24136                            1706 I1          M_BRA   KJYU_DATA_INFOSL300             ;
24137 00004B30 A014                   M           BRA     KJYU_DATA_INFOSL300
24138 00004B32 0009                   M           NOP
24139                            1707 I1  
24140                                 I1  ***** BEGIN-POOL *****
24141 00004B34 0001                   I1  DATA FOR SOURCE-LINE 1692
24142 00004B36 2000                   I1  DATA FOR SOURCE-LINE 1703
24143 00004B38 00000000               I1  DATA FOR SOURCE-LINE 1663
24144 00004B3C 00000000               I1  DATA FOR SOURCE-LINE 1668
24145 00004B40 00000000               I1  DATA FOR SOURCE-LINE 1689
24146 00004B44 00000000               I1  DATA FOR SOURCE-LINE 1697
24147 00004B48 00000000               I1  DATA FOR SOURCE-LINE 1700
24148 00004B4C 00000000               I1  DATA FOR SOURCE-LINE 1703
24149                                 I1  ***** END-POOL *****
24150 00004B50                   1708 I1  KJYU_DATA_INFOSL100
24151                            1709 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=~(BIT13),WKRG1=R1,WKRG2=R4
24152 00004B50 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
24153 00004B52 6011                   M           MOV.W   @R1,R0          ;
24154 00004B54 9407                   M           MOV.W   #LWORD ~(BIT13),R4      ;
24155 00004B56 2049                   M           AND     R4,R0           ;
24156 00004B58 2101                   M           MOV.W   R0,@R1          ;
24157 00004B5A 200A              1710 I1          XOR     R0,R0
24158 00004B5C                   1711 I1  KJYU_DATA_INFOSL300
24159 00004B5C D103              1712 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
24160 00004B5E 2101              1713 I1          MOV.W   R0,@R1                  ;
24161                            1714 I1  
24162                            1715 I1          SUB_END
24163                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24164 00004B60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24165                            1716 I1          M_RTS
24166 00004B62 000B                   M           RTS                             ;RTSの後ろの
24167 00004B64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24168                            1717 I1  
24169                            1718 I1  
24170                            1719 I1  
24171                            1720 I1  
24172                            1721 I1  
24173                            1722 I1  
24174                            1723 I1  ;       ***************************************************
24175                            1724 I1  ;       ***                                             ***
24176                            1725 I1  ;       ***     １回目の荷重制御開始時に荷重が高いか?   ***
24177                            1726 I1  ;       ***     [2015-03-15]                                    ***
24178                            1727 I1  ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   322
PROGRAM NAME =

24179                                 I1  ***** BEGIN-POOL *****
24180 00004B66 DFFF                   I1  DATA FOR SOURCE-LINE 1709
24181 00004B68 00000000               I1  DATA FOR SOURCE-LINE 1709
24182 00004B6C 00000000               I1  DATA FOR SOURCE-LINE 1712
24183                                 I1  ***** END-POOL *****
24184 00004B70                   1728 I1  _KAJYU_START_UPCHK:
24185                            1729 I1          SUB_START
24186 00004B70 4F22                   M           STS.L   PR,@-R15                ;[必要]
24187                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24188 00004B72 D10B              1730 I1          MOV.L   #_FULCLS_MATHED,R1      ;//0:位置 1:荷重
24189 00004B74 6011              1731 I1          MOV.W   @R1,R0                  ;
24190 00004B76 8801              1732 I1          CMP/EQ  #1,R0                   ;
24191 00004B78 8B0E              1733 I1          BF      KAJYU_START_UPCK_EXT    ;荷重ではない
24192                            1734 I1  
24193 00004B7A D10A              1735 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24194 00004B7C 6011              1736 I1          MOV.W   @R1,R0                  ;
24195 00004B7E C801              1737 I1          TST     #BIT0,R0                ;
24196                            1738 I1          TST_BIT_ON KAJYU_START_UPCK_EXT ;既にチェック済み
24197 00004B80 8B0A                   M           BF      KAJYU_START_UPCK_EXT
24198 00004B82 CB01              1739 I1          OR      #BIT0,R0                ;
24199 00004B84 2101              1740 I1          MOV.W   R0,@R1                  ;
24200                            1741 I1  
24201 00004B86 D108              1742 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
24202 00004B88 6012              1743 I1          MOV.L   @R1,R0                  ;
24203 00004B8A 4011              1744 I1          CMP/PZ  R0                      ;
24204 00004B8C 8904              1745 I1          BT      KAJYU_START_UPCK_EXT    ;目標>=実測
24205                            1746 I1  
24206                            1747 I1          MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R4
24207 00004B8E D107                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
24208 00004B90 6011                   M           MOV.W   @R1,R0          ;
24209 00004B92 9404                   M           MOV.W   #(BIT12),R4             ;
24210 00004B94 204B                   M           OR      R4,R0           ;
24211 00004B96 2101                   M           MOV.W   R0,@R1          ;
24212                            1748 I1  
24213 00004B98                   1749 I1  KAJYU_START_UPCK_EXT:
24214                            1750 I1  
24215                            1751 I1          SUB_END
24216                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24217 00004B98 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24218                            1752 I1          M_RTS
24219 00004B9A 000B                   M           RTS                             ;RTSの後ろの
24220 00004B9C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24221                            1753 I1  
24222                            1754 I1  ;       ---------起動、異常-------
24223                            1755 I1          .EXPORT _KAJYU_ELSE_STS_CLR
24224                                 I1  ***** BEGIN-POOL *****
24225 00004B9E 1000                   I1  DATA FOR SOURCE-LINE 1747
24226 00004BA0 00000000               I1  DATA FOR SOURCE-LINE 1730
24227 00004BA4 00000000               I1  DATA FOR SOURCE-LINE 1735
24228 00004BA8 00000000               I1  DATA FOR SOURCE-LINE 1742
24229 00004BAC 00000000               I1  DATA FOR SOURCE-LINE 1747
24230                                 I1  ***** END-POOL *****
24231 00004BB0                   1756 I1  _KAJYU_ELSE_STS_CLR:
24232                            1757 I1          SUB_START
24233 00004BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24234                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24235                            1758 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   323
PROGRAM NAME =

24236                            1759 I1          FAR_JSR #_KAJYU_ELSE_STS_FLG_CLR,R0     ;
24237 00004BB2 D006                   M           MOV.L   #_KAJYU_ELSE_STS_FLG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24238 00004BB4 400B                   M           JSR     @R0                     ;
24239 00004BB6 0009                   M           NOP                                     ;
24240                            1760 I1  
24241                            1761 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=~(BIT12),WKRG1=R1,WKRG2=R
                                          4
24242 00004BB8 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
24243 00004BBA 6011                   M           MOV.W   @R1,R0          ;
24244 00004BBC 9404                   M           MOV.W   #LWORD ~(BIT12),R4      ;
24245 00004BBE 2049                   M           AND     R4,R0           ;
24246 00004BC0 2101                   M           MOV.W   R0,@R1          ;
24247                            1762 I1  
24248                            1763 I1          SUB_END
24249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24250 00004BC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24251                            1764 I1          M_RTS
24252 00004BC4 000B                   M           RTS                             ;RTSの後ろの
24253 00004BC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24254                            1765 I1  
24255                                 I1  ***** BEGIN-POOL *****
24256 00004BC8 EFFF                   I1  DATA FOR SOURCE-LINE 1761
24257 00004BCA 0000                   I1  ALIGNMENT CODE
24258 00004BCC 00000000               I1  DATA FOR SOURCE-LINE 1759
24259 00004BD0 00000000               I1  DATA FOR SOURCE-LINE 1761
24260                                 I1  ***** END-POOL *****
24261 00004BD4                   1766 I1  _KAJYU_ELSE_STS_FLG_CLR:
24262                            1767 I1          SUB_START
24263 00004BD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24264                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24265 00004BD6 200A              1768 I1          XOR     R0,R0
24266 00004BD8 D102              1769 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24267 00004BDA 2101              1770 I1          MOV.W   R0,@R1                  ;
24268                            1771 I1          SUB_END
24269                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24270 00004BDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24271                            1772 I1          M_RTS
24272 00004BDE 000B                   M           RTS                             ;RTSの後ろの
24273 00004BE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24274                            1773 I1  
24275                            1774 I1  
24276                            1775 I1  
24277                            1776 I1  
24278                            1777 I1  
24279                            1778 I1  
24280                            1779 I1  
24281                            1780 I1  
24282                            1781 I1  
24283                            1782 I1  
24284                            1783 I1  
24285                            1784 I1  
24286                            1785 I1  
24287                            1786 I1  
24288                            1787 I1  
24289                            1788 I1  
24290                            1789 I1  
24291                            1790 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   324
PROGRAM NAME =

24292                            1791 I1  ;       H2WではDTMKだがＱ
24293                            1792 I1  ;       ***************************************************
24294                            1793 I1  ;       ***                                             ***
24295                            1794 I1  ;       ***             起動時荷重データ判断            ***
24296                            1795 I1  ;       ***                                             ***
24297                            1796 I1  ;       ***             範囲1                           ***
24298                            1797 I1  ;       ***             範囲2                           ***
24299                            1798 I1  ;       ***************************************************
24300                            1799 I1  ;       "既に荷重範囲に一度は入った前提"
24301                            1800 I1  ;
24302                            1801 I1  
24303                                 I1  ***** BEGIN-POOL *****
24304 00004BE2 0000                   I1  ALIGNMENT CODE
24305 00004BE4 00000000               I1  DATA FOR SOURCE-LINE 1769
24306                                 I1  ***** END-POOL *****
24307 00004BE8                   1802 I1  _REVRSE_KAJYU_AREACHK_BASSET:
24308                            1803 I1          SUB_START
24309 00004BE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24310                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24311 00004BEA D108              1804 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24312 00004BEC 6011              1805 I1          MOV.W   @R1,R0                                                  ;到達範囲
24313 00004BEE 2008              1806 I1          TST     R0,R0                                                   ;
24314                            1807 I1          TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD                          ;最終範囲を使用し
                                          ない
24315 00004BF0 8912                   M           BT      REVRSE_KAJYU_AREACK_LASTSPD
24316                            1808 I1  
24317                            1809 I1  ;;;;;2015-06-22
24318                            1810 I1  ;;;;;   FAR_JSR #_KJYU_NEARZERO2_CHK,R0
24319                            1811 I1  ;;;;;   TST     R0,R0                                   ;
24320                            1812 I1  ;;;;;   TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD          ;到達範囲内
24321                            1813 I1  
24322                            1814 I1  ;       速度選択のニアゼロサブルーチン変更
24323                            1815 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0
24324 00004BF2 D007                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24325 00004BF4 400B                   M           JSR     @R0                     ;
24326 00004BF6 0009                   M           NOP                                     ;
24327 00004BF8 8800              1816 I1          CMP/EQ  #0,R0
24328 00004BFA 890D              1817 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24329 00004BFC 8801              1818 I1          CMP/EQ  #1,R0
24330 00004BFE 890B              1819 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24331                            1820 I1  
24332                            1821 I1          FAR_JSR #_REVRSE_KAJYU1_BASINCSET,R0            ;
24333 00004C00 D004                   M           MOV.L   #_REVRSE_KAJYU1_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24334 00004C02 400B                   M           JSR     @R0                     ;
24335 00004C04 0009                   M           NOP                                     ;
24336                            1822 I1          M_BRA   REVRSE_KAJYU_AREACK_END                 ;
24337 00004C06 A00A                   M           BRA     REVRSE_KAJYU_AREACK_END
24338 00004C08 0009                   M           NOP
24339                            1823 I1  
24340                            1824 I1  ;       --------------最後の範囲内の運転--------------
24341                                 I1  ***** BEGIN-POOL *****
24342 00004C0A 0000                   I1  ALIGNMENT CODE
24343 00004C0C 00000000               I1  DATA FOR SOURCE-LINE 1804
24344 00004C10 00000000               I1  DATA FOR SOURCE-LINE 1815
24345 00004C14 00000000               I1  DATA FOR SOURCE-LINE 1821
24346                                 I1  ***** END-POOL *****
24347 00004C18                   1825 I1  REVRSE_KAJYU_AREACK_LASTSPD:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   325
PROGRAM NAME =

24348                            1826 I1          FAR_JSR #_REVRSE_KAJYU2_BASINCSET,R0
24349 00004C18 D002                   M           MOV.L   #_REVRSE_KAJYU2_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24350 00004C1A 400B                   M           JSR     @R0                     ;
24351 00004C1C 0009                   M           NOP                                     ;
24352                            1827 I1  
24353 00004C1E                   1828 I1  REVRSE_KAJYU_AREACK_END:
24354                            1829 I1  
24355                            1830 I1          SUB_END
24356                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24357 00004C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24358                            1831 I1          M_RTS
24359 00004C20 000B                   M           RTS                             ;RTSの後ろの
24360 00004C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24361                            1832 I1  
24362                            1833 I1  
24363                            1834 I1  
24364                            1835 I1  
24365                            1836 I1  ;もしﾊﾟ-ｾﾝﾃﾞｰﾀなら
24366                            1837 I1  ;DATA(%)*MAX(freq)/10000=freq
24367                            1838 I1  ;freq*FFFF/500,000=LATE
24368                            1839 I1  ;
24369                            1840 I1  ;
24370                            1841 I1  ;もしﾚｰﾄ(7pls/s)なら
24371                            1842 I1  ;DATA()*500,000/FFFF=PLS/S
24372                            1843 I1  
24373                            1844 I1  ;       ------ 2014-08-20-------------------------------------------------------------
24374                            1845 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入っていない-----------
24375                                 I1  ***** BEGIN-POOL *****
24376 00004C24 00000000               I1  DATA FOR SOURCE-LINE 1826
24377                                 I1  ***** END-POOL *****
24378 00004C28                   1846 I1  _REVRSE_KAJYU1_BASINCSET:
24379                            1847 I1          SUB_START
24380 00004C28 4F22                   M           STS.L   PR,@-R15                ;[必要]
24381                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24382                            1848 I1  
24383 00004C2A D104              1849 I1          MOV.L   #(_PAR_KAJYU_ARASPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.362
24384 00004C2C 6211              1850 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24385 00004C2E 2228              1851 I1          TST     R2,R2                                                   ;
24386                            1852 I1          TST_BIT_ON CLSINC1_SEL_020                                      ;
24387 00004C30 8B08                   M           BF      CLSINC1_SEL_020
24388                            1853 I1  
24389                            1854 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24390 00004C32 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24391 00004C34 400B                   M           JSR     @R0                     ;
24392 00004C36 0009                   M           NOP                                     ;
24393                            1855 I1          M_BRA   CLSINC1_SEL_END                                         ;
24394 00004C38 A009                   M           BRA     CLSINC1_SEL_END
24395 00004C3A 0009                   M           NOP
24396                            1856 I1  
24397                                 I1  ***** BEGIN-POOL *****
24398 00004C3C 00000000               I1  DATA FOR SOURCE-LINE 1849
24399 00004C40 00000000               I1  DATA FOR SOURCE-LINE 1854
24400                                 I1  ***** END-POOL *****
24401 00004C44                   1857 I1  CLSINC1_SEL_020
24402                            1858 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24403 00004C44 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   326
PROGRAM NAME =

24404 00004C46 400B                   M           JSR     @R0                     ;
24405 00004C48 0009                   M           NOP                                     ;
24406                            1859 I1  
24407 00004C4A D103              1860 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24408 00004C4C 2122              1861 I1          MOV.L   R2,@R1                                                  ;
24409 00004C4E                   1862 I1  CLSINC1_SEL_END
24410                            1863 I1  
24411                            1864 I1          SUB_END
24412                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24413 00004C4E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24414                            1865 I1          M_RTS
24415 00004C50 000B                   M           RTS                             ;RTSの後ろの
24416 00004C52 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24417                            1866 I1  
24418                            1867 I1  
24419                            1868 I1  ;       -------2014-07-14-----------
24420                            1869 I1  ;       ------ 2014-08-20-----------
24421                            1870 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入った-----------
24422                                 I1  ***** BEGIN-POOL *****
24423 00004C54 00000000               I1  DATA FOR SOURCE-LINE 1858
24424 00004C58 00000000               I1  DATA FOR SOURCE-LINE 1860
24425                                 I1  ***** END-POOL *****
24426 00004C5C                   1871 I1  _REVRSE_KAJYU2_BASINCSET:
24427                            1872 I1          SUB_START
24428 00004C5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24429                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24430                            1873 I1  
24431 00004C5E D104              1874 I1          MOV.L   #(_PAR_KAJYU_HLDSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.361
24432 00004C60 6211              1875 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24433 00004C62 2228              1876 I1          TST     R2,R2                                                   ;
24434                            1877 I1          TST_BIT_ON CLSINC2_SEL_020                                      ;
24435 00004C64 8B08                   M           BF      CLSINC2_SEL_020
24436                            1878 I1  
24437                            1879 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24438 00004C66 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24439 00004C68 400B                   M           JSR     @R0                     ;
24440 00004C6A 0009                   M           NOP                                     ;
24441                            1880 I1          M_BRA   CLSINC2_SEL_END                                         ;
24442 00004C6C A009                   M           BRA     CLSINC2_SEL_END
24443 00004C6E 0009                   M           NOP
24444                            1881 I1  
24445                                 I1  ***** BEGIN-POOL *****
24446 00004C70 00000000               I1  DATA FOR SOURCE-LINE 1874
24447 00004C74 00000000               I1  DATA FOR SOURCE-LINE 1879
24448                                 I1  ***** END-POOL *****
24449 00004C78                   1882 I1  CLSINC2_SEL_020
24450                            1883 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24451 00004C78 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24452 00004C7A 400B                   M           JSR     @R0                     ;
24453 00004C7C 0009                   M           NOP                                     ;
24454                            1884 I1  
24455 00004C7E D103              1885 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24456 00004C80 2122              1886 I1          MOV.L   R2,@R1                                                  ;
24457 00004C82                   1887 I1  CLSINC2_SEL_END
24458                            1888 I1  
24459                            1889 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   327
PROGRAM NAME =

24460                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24461 00004C82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24462                            1890 I1          M_RTS
24463 00004C84 000B                   M           RTS                             ;RTSの後ろの
24464 00004C86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24465                            1891 I1  
24466                            1892 I1  
24467                            1893 I1  ;       ***********************************
24468                            1894 I1  ;       ***     S01~S09処理             ***
24469                            1895 I1  ;       ***********************************
24470                                 I1  ***** BEGIN-POOL *****
24471 00004C88 00000000               I1  DATA FOR SOURCE-LINE 1883
24472 00004C8C 00000000               I1  DATA FOR SOURCE-LINE 1885
24473                                 I1  ***** END-POOL *****
24474 00004C90                   1896 I1  _REVRSE_BASINC_SPDCALC:
24475                            1897 I1          SUB_START
24476 00004C90 4F22                   M           STS.L   PR,@-R15                ;[必要]
24477                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24478                            1898 I1  
24479                            1899 I1  ;       =======  2012-10-05 =========
24480 00004C92 D10B              1900 I1          MOV.L   #_CB_SEQ_CB_COM351,R1                                   ;ｲﾝﾁﾝｸﾞ速度選択
24481 00004C94 6011              1901 I1          MOV.W   @R1,R0                                                  ;
24482 00004C96 9411              1902 I1          MOV.W   #BIT9+BIT8+BIT7+BIT6+BIT5+BIT4+BIT3+BIT2+BIT1,R4        ;
24483 00004C98 2048              1903 I1          TST     R4,R0                                                   ;
24484                            1904 I1          TST_BIT_OF CLSINC_SEL_DEF                                       ;
24485 00004C9A 8915                   M           BT      CLSINC_SEL_DEF
24486                            1905 I1  
24487 00004C9C E308              1906 I1          MOV.B   #D'9-1,R3                                                       ;
24488 00004C9E E402              1907 I1          MOV.B   #BIT1,R4                                                ;
24489 00004CA0 D108              1908 I1          MOV.L   #(_PAR_NEGCTL_SPDS1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24490                            1909 I1  
24491 00004CA2                   1910 I1  CLSINC_SEL_050LOP:
24492 00004CA2 2048              1911 I1          TST     R4,R0
24493                            1912 I1          TST_BIT_ON CLSINC_SEL_100       ;
24494 00004CA4 8B04                   M           BF      CLSINC_SEL_100
24495 00004CA6 4400              1913 I1          SHLL    R4
24496 00004CA8 7102              1914 I1          ADD     #2,R1                   ;
24497 00004CAA 73FF              1915 I1          ADD     #-1,R3                  ;
24498 00004CAC 2338              1916 I1          TST     R3,R3                   ;
24499                            1917 I1          TST_BIT_ON CLSINC_SEL_050LOP    ;BIT1~BIT8
24500 00004CAE 8BF8                   M           BF      CLSINC_SEL_050LOP
24501 00004CB0                   1918 I1  CLSINC_SEL_100:
24502 00004CB0 6211              1919 I1          MOV.W   @R1,R2                  ;
24503 00004CB2 2228              1920 I1          TST     R2,R2                   ;
24504                            1921 I1          TST_BIT_ON CLSINC_SEL_300       ;
24505 00004CB4 8B0A                   M           BF      CLSINC_SEL_300
24506 00004CB6 7201              1922 I1          ADD     #1,R2                   ;
24507                            1923 I1          M_BRA   CLSINC_SEL_300          ;
24508 00004CB8 A008                   M           BRA     CLSINC_SEL_300
24509 00004CBA 0009                   M           NOP
24510                            1924 I1  
24511                            1925 I1  
24512                                 I1  ***** BEGIN-POOL *****
24513 00004CBC 03FE                   I1  DATA FOR SOURCE-LINE 1902
24514 00004CBE 0000                   I1  ALIGNMENT CODE
24515 00004CC0 00000000               I1  DATA FOR SOURCE-LINE 1900
24516 00004CC4 00000000               I1  DATA FOR SOURCE-LINE 1908
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   328
PROGRAM NAME =

24517                                 I1  ***** END-POOL *****
24518 00004CC8                   1926 I1  CLSINC_SEL_DEF:
24519 00004CC8 D104              1927 I1          MOV.L   #_POS_LSI_CLSINC_SPDBAS,R1              ;ｲﾝﾁﾝｸﾞ時
24520 00004CCA 6212              1928 I1          MOV.L   @R1,R2
24521 00004CCC                   1929 I1  CLSINC_SEL_300
24522                            1930 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                ;
24523 00004CCC D004                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24524 00004CCE 400B                   M           JSR     @R0                     ;
24525 00004CD0 0009                   M           NOP                                     ;
24526 00004CD2 D104              1931 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1              ;//PLS/S
24527 00004CD4 2122              1932 I1          MOV.L   R2,@R1                                  ;
24528                            1933 I1                                                          ;
24529                            1934 I1  
24530                            1935 I1          SUB_END
24531                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24532 00004CD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24533                            1936 I1          M_RTS
24534 00004CD8 000B                   M           RTS                             ;RTSの後ろの
24535 00004CDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24536                            1937 I1  
24537                            1938 I1  ;-----------2019-04-10(戻り信号のラッチ:異常時の処理チェック用)---------
24538                            1939 I1  ;;;_HANTEN_LAST_SIG_CLR
24539                            1940 I1  ;;;     SUB_START
24540                            1941 I1  ;;;     XOR             R0,R0
24541                            1942 I1  ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1 ;
24542                            1943 I1  ;;;     MOV.W   R0,@R1                                  ;
24543                            1944 I1  ;;;     SUB_END
24544                            1945 I1  ;;;     M_RTS
24545                            1946 I1  ;;;
24546                            1947 I1  ;;;_HANTEN_LAST_SIG_SET
24547                            1948 I1  ;;;     SUB_START
24548                            1949 I1  ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1 ;
24549                            1950 I1  ;;;     MOV.W   @R1,R0                                  ;
24550                            1951 I1  ;;;     OR              #BIT0,R0                                ;
24551                            1952 I1  ;;;     MOV.W   R0,@R1                                  ;
24552                            1953 I1  ;;;     SUB_END
24553                            1954 I1  ;;;     M_RTS
24554                            7451     
24555                            7452     
24556                            7453     
24557                            7454     ;       ***************************
24558                            7455     ;       ***                     ***
24559                            7456     ;       ***     異常履歴ﾃﾞｰﾀ    ***
24560                            7457     ;       ***                     ***
24561                            7458     ;       ***************************
24562                                     ***** BEGIN-POOL *****
24563 00004CDC 00000000                   DATA FOR SOURCE-LINE 1927
24564 00004CE0 00000000                   DATA FOR SOURCE-LINE 1930
24565 00004CE4 00000000                   DATA FOR SOURCE-LINE 1931
24566                                     ***** END-POOL *****
24567 00004CE8                   7459             .ALIGN  4                               ;
24568 00004CE8                   7460     _HIST_INFO_DT_IN1:
24569                            7461             SUB_START
24570 00004CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24571                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24572                            7462             PUSH_REG1 R0
24573 00004CEA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   329
PROGRAM NAME =

24574                                 M                                           ;REG=>[SP]
24575                                 M                                           ;"-4" FF,FF,FF,FC
24576                            7463             PUSH_REG1 R1
24577 00004CEC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24578                                 M                                           ;REG=>[SP]
24579                                 M                                           ;"-4" FF,FF,FF,FC
24580                            7464             PUSH_REG1 R2
24581 00004CEE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24582                                 M                                           ;REG=>[SP]
24583                                 M                                           ;"-4" FF,FF,FF,FC
24584                            7465     
24585 00004CF0 D109              7466             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
24586 00004CF2 D20A              7467             MOV.L   #_LT_LINK_SV_OBJ_ABSPLS,R2              ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24587 00004CF4 6016              7468             MOV.L   @R1+,R0                                 ;
24588 00004CF6 2202              7469             MOV.L   R0,@R2                                  ;
24589 00004CF8 7204              7470             ADD     #4,R2                                   ;
24590 00004CFA 6016              7471             MOV.L   @R1+,R0                                 ;
24591 00004CFC 2202              7472             MOV.L   R0,@R2                                  ;
24592                            7473     
24593 00004CFE D108              7474             MOV.L   #_LINK_PV_ABSPLS,R1             ;
24594 00004D00 D208              7475             MOV.L   #_LT_INT_LINK_RL_OBJ_ABSPLS,R2          ;
24595 00004D02 6016              7476             MOV.L   @R1+,R0                                 ;
24596 00004D04 2202              7477             MOV.L   R0,@R2                                  ;
24597 00004D06 7204              7478             ADD     #4,R2                                   ;
24598 00004D08 6016              7479             MOV.L   @R1+,R0                                 ;
24599 00004D0A 2202              7480             MOV.L   R0,@R2                                  ;
24600                            7481     
24601                            7482             POP_REG1 R2
24602                                 M                                   ; RE"+4" 00,00,00,04
24603 00004D0C 62F6                   M           MOV.L   @R15+,R2        ;
24604                            7483             POP_REG1 R1
24605                                 M                                   ; RE"+4" 00,00,00,04
24606 00004D0E 61F6                   M           MOV.L   @R15+,R1        ;
24607                            7484             POP_REG1 R0
24608                                 M                                   ; RE"+4" 00,00,00,04
24609 00004D10 60F6                   M           MOV.L   @R15+,R0        ;
24610                            7485             SUB_END
24611                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24612 00004D12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24613                            7486             M_RTS
24614 00004D14 000B                   M           RTS                             ;RTSの後ろの
24615 00004D16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24616                            7487     
24617                            7488     ;       ***********************************
24618                            7489     ;       ***                             ***
24619                            7490     ;       ***     異常情報                ***
24620                            7491     ;       ***                             ***
24621                            7492     ;       ***********************************
24622                            7493             .MACRO  DATA_8B_0CHK MEM,ANSBIT
24623                            7494             MOV.L   #\MEM,R1        ;
24624                            7495             MOV.L   @R1+,R2                 ;HIGH
24625                            7496             MOV.L   @R1,R3                  ;LOW
24626                            7497             XOR     R1,R1                   ;
24627                            7498             OR      R3,R2                   ;
24628                            7499             TST     R2,R2                   ;
24629                            7500             TST_BIT_OF JMP01\@              ;ZERO
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   330
PROGRAM NAME =

24630                            7501             MOV.W   #\ANSBIT,R1             ;
24631                            7502     JMP01\@                                 ;
24632                            7503             .ENDM
24633                            7504     
24634                            7505             .MACRO  DATA_4B_0CHK MEM,ANSBIT
24635                            7506             MOV.L   #\MEM,R1        ;
24636                            7507             MOV.L   @R1+,R2                 ;HIGH
24637                            7508             XOR     R1,R1                   ;
24638                            7509             TST     R2,R2                   ;
24639                            7510             TST_BIT_OF JMP01\@              ;ZERO
24640                            7511             MOV.W   #\ANSBIT,R1             ;
24641                            7512     JMP01\@                                 ;
24642                            7513             .ENDM
24643                            7514     
24644                            7515     
24645                            7516     ;       ***************************
24646                            7517     ;       ***     data 記憶       ***
24647                            7518     ;       ***************************
24648                                     ***** BEGIN-POOL *****
24649 00004D18 00000000                   DATA FOR SOURCE-LINE 7466
24650 00004D1C 00000000                   DATA FOR SOURCE-LINE 7467
24651 00004D20 00000000                   DATA FOR SOURCE-LINE 7474
24652 00004D24 00000000                   DATA FOR SOURCE-LINE 7475
24653                                     ***** END-POOL *****
24654 00004D28                   7519             .ALIGN  4                               ;
24655 00004D28                   7520     _ERR_INFO_DT_IN0:
24656                            7521             SUB_START
24657 00004D28 4F22                   M           STS.L   PR,@-R15                ;[必要]
24658                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24659 00004D2A D105              7522             MOV.L   #_PV_POWER_ON_CNT,R1                    ;
24660 00004D2C 6011              7523             MOV.W   @R1,R0                                  ;
24661 00004D2E D105              7524             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B01,R1  ;POWER
24662 00004D30 2101              7525             MOV.W   R0,@R1                                  ;
24663                            7526     
24664 00004D32 D105              7527             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B02,R1  ;TIM
24665 00004D34 6011              7528             MOV.W   @R1,R0                                  ;
24666 00004D36 7001              7529             ADD     #1,R0                                   ;
24667 00004D38 2101              7530             MOV.W   R0,@R1                                  ;
24668                            7531             SUB_END
24669                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24670 00004D3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24671                            7532             M_RTS
24672 00004D3C 000B                   M           RTS                             ;RTSの後ろの
24673 00004D3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24674                            7533     
24675                                     ***** BEGIN-POOL *****
24676 00004D40 00000000                   DATA FOR SOURCE-LINE 7522
24677 00004D44 00000000                   DATA FOR SOURCE-LINE 7524
24678 00004D48 00000000                   DATA FOR SOURCE-LINE 7527
24679                                     ***** END-POOL *****
24680 00004D4C                   7534             .ALIGN  4                               ;
24681 00004D4C                   7535     _ERR_INFO_DT_IN1:
24682                            7536             SUB_START
24683 00004D4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24684                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24685                            7537             PUSH_REG1 R0
24686 00004D4E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   331
PROGRAM NAME =

24687                                 M                                           ;REG=>[SP]
24688                                 M                                           ;"-4" FF,FF,FF,FC
24689                            7538             PUSH_REG1 R1
24690 00004D50 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24691                                 M                                           ;REG=>[SP]
24692                                 M                                           ;"-4" FF,FF,FF,FC
24693                            7539     
24694                            7540     
24695 00004D52 D108              7541             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24696 00004D54 6011              7542             MOV.W   @R1,R0                          ;
24697 00004D56 2008              7543             TST     R0,R0                           ;
24698                            7544             TST_BIT_ON ERR_INFO_DTIN1_EXT           ;
24699 00004D58 8B07                   M           BF      ERR_INFO_DTIN1_EXT
24700                            7545     
24701 00004D5A D107              7546             MOV.L   #_MODE_SEL,R1   ;
24702 00004D5C 6011              7547             MOV.W   @R1,R0          ;
24703 00004D5E C804              7548             TST     #_W1SGL,R0      ;
24704                            7549             TST_BIT_OF ERR_INFO_DTIN1_EXT
24705 00004D60 8903                   M           BT      ERR_INFO_DTIN1_EXT
24706                            7550     
24707 00004D62 D106              7551             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24708 00004D64 6012              7552             MOV.L   @R1,R0                                  ;
24709 00004D66 D106              7553             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C01,R1  ;
24710 00004D68 2102              7554             MOV.L   R0,@R1                                  ;
24711                            7555     
24712 00004D6A                   7556     ERR_INFO_DTIN1_EXT:
24713                            7557     
24714                            7558             POP_REG1 R1
24715                                 M                                   ; RE"+4" 00,00,00,04
24716 00004D6A 61F6                   M           MOV.L   @R15+,R1        ;
24717                            7559             POP_REG1 R0
24718                                 M                                   ; RE"+4" 00,00,00,04
24719 00004D6C 60F6                   M           MOV.L   @R15+,R0        ;
24720                            7560             SUB_END
24721                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24722 00004D6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24723                            7561             M_RTS
24724 00004D70 000B                   M           RTS                             ;RTSの後ろの
24725 00004D72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24726                            7562     
24727                            7563     
24728                            7564     ;       ***************************
24729                            7565     ;       ***     data 記憶       ***
24730                            7566     ;       ***************************
24731                            7567     ;       (data-smp only)
24732                                     ***** BEGIN-POOL *****
24733 00004D74 00000000                   DATA FOR SOURCE-LINE 7541
24734 00004D78 00000000                   DATA FOR SOURCE-LINE 7546
24735 00004D7C 00000000                   DATA FOR SOURCE-LINE 7551
24736 00004D80 00000000                   DATA FOR SOURCE-LINE 7553
24737                                     ***** END-POOL *****
24738 00004D84                   7568             .ALIGN  4                               ;
24739 00004D84                   7569     _ERR_INFO_DT_IN2:
24740                            7570             SUB_START
24741 00004D84 4F22                   M           STS.L   PR,@-R15                ;[必要]
24742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   332
PROGRAM NAME =

24743                            7571             PUSH_REG1 R0
24744 00004D86 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24745                                 M                                           ;REG=>[SP]
24746                                 M                                           ;"-4" FF,FF,FF,FC
24747                            7572             PUSH_REG1 R1
24748 00004D88 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24749                                 M                                           ;REG=>[SP]
24750                                 M                                           ;"-4" FF,FF,FF,FC
24751 00004D8A D10E              7573             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24752 00004D8C 6011              7574             MOV.W   @R1,R0                          ;
24753 00004D8E 2008              7575             TST     R0,R0                           ;
24754                            7576             TST_BIT_ON ERR_INFO_DTIN2_EXT           ;
24755 00004D90 8B13                   M           BF      ERR_INFO_DTIN2_EXT
24756                            7577     
24757 00004D92 D10D              7578             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24758 00004D94 6012              7579             MOV.L   @R1,R0                                  ;
24759 00004D96 D10D              7580             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C02,R1  ;
24760 00004D98 2102              7581             MOV.L   R0,@R1                                  ;
24761                            7582     
24762 00004D9A D10D              7583             MOV.L   #_LINK_PV_ABSPLS+4,R1           ;
24763 00004D9C 6012              7584             MOV.L   @R1,R0                                  ;
24764 00004D9E D10D              7585             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C03,R1  ;
24765 00004DA0 2102              7586             MOV.L   R0,@R1                                  ;
24766                            7587     
24767 00004DA2 D10D              7588             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24768 00004DA4 6012              7589             MOV.L   @R1,R0                                  ;
24769 00004DA6 D10D              7590             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;
24770 00004DA8 2102              7591             MOV.L   R0,@R1                                  ;
24771                            7592     
24772                            7593     
24773                            7594     ;       ----- 2010-10-25 ---------------
24774 00004DAA D10D              7595             MOV.L   #_LNGTH_ADD_DATA,R1                     ;
24775 00004DAC 6012              7596             MOV.L   @R1,R0                                  ;
24776 00004DAE D10D              7597             MOV.L   #_CHK_ADD_DATA_LATCH,R1                 ;
24777 00004DB0 2102              7598             MOV.L   R0,@R1                                  ;
24778                            7599     
24779 00004DB2 D109              7600             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24780 00004DB4 6012              7601             MOV.L   @R1,R0                                  ;
24781 00004DB6 D10C              7602             MOV.L   #_CHK_ADD_DATA_LATCH+4,R1               ;
24782 00004DB8 2102              7603             MOV.L   R0,@R1                                  ;
24783                            7604     
24784                            7605     
24785                            7606     
24786                            7607     
24787                            7608     
24788                            7609     
24789 00004DBA                   7610     ERR_INFO_DTIN2_EXT
24790                            7611     
24791                            7612             POP_REG1 R1
24792                                 M                                   ; RE"+4" 00,00,00,04
24793 00004DBA 61F6                   M           MOV.L   @R15+,R1        ;
24794                            7613             POP_REG1 R0
24795                                 M                                   ; RE"+4" 00,00,00,04
24796 00004DBC 60F6                   M           MOV.L   @R15+,R0        ;
24797                            7614             SUB_END
24798                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   333
PROGRAM NAME =

24799 00004DBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24800                            7615             M_RTS
24801 00004DC0 000B                   M           RTS                             ;RTSの後ろの
24802 00004DC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24803                            7616     
24804                            7617     ;       ***************************
24805                            7618     ;       ***     data 記憶       ***
24806                            7619     ;       ***************************
24807                                     ***** BEGIN-POOL *****
24808 00004DC4 00000000                   DATA FOR SOURCE-LINE 7573
24809 00004DC8 00000000                   DATA FOR SOURCE-LINE 7578
24810 00004DCC 00000000                   DATA FOR SOURCE-LINE 7580
24811 00004DD0 00000000                   DATA FOR SOURCE-LINE 7583
24812 00004DD4 00000000                   DATA FOR SOURCE-LINE 7585
24813 00004DD8 00000000                   DATA FOR SOURCE-LINE 7588,7600
24814 00004DDC 00000000                   DATA FOR SOURCE-LINE 7590
24815 00004DE0 00000000                   DATA FOR SOURCE-LINE 7595
24816 00004DE4 00000000                   DATA FOR SOURCE-LINE 7597
24817 00004DE8 00000000                   DATA FOR SOURCE-LINE 7602
24818                                     ***** END-POOL *****
24819 00004DEC                   7620             .ALIGN  4                               ;
24820 00004DEC                   7621     _ERR_INFO_DT_IN2A:
24821                            7622             SUB_START
24822 00004DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24823                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24824                            7623             SUB_END
24825                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24826 00004DEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24827                            7624             M_RTS
24828 00004DF0 000B                   M           RTS                             ;RTSの後ろの
24829 00004DF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24830                            7625     
24831                            7626     ;       ***************************
24832                            7627     ;       ***     data 記憶       ***
24833                            7628     ;       ***************************
24834 00004DF4                   7629             .ALIGN  4                               ;
24835 00004DF4                   7630     _ERR_INFO_DT_IN3:
24836                            7631             SUB_START
24837 00004DF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24838                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24839                            7632             PUSH_REG1 R0
24840 00004DF6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24841                                 M                                           ;REG=>[SP]
24842                                 M                                           ;"-4" FF,FF,FF,FC
24843                            7633             PUSH_REG1 R1
24844 00004DF8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24845                                 M                                           ;REG=>[SP]
24846                                 M                                           ;"-4" FF,FF,FF,FC
24847 00004DFA D106              7634             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24848 00004DFC 6011              7635             MOV.W   @R1,R0                          ;
24849 00004DFE 2008              7636             TST     R0,R0                           ;
24850                            7637             TST_BIT_ON ERR_INFO_DTIN3_EXT           ;
24851 00004E00 8B03                   M           BF      ERR_INFO_DTIN3_EXT
24852                            7638     
24853 00004E02 D105              7639             MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1               ;
24854 00004E04 6012              7640             MOV.L   @R1,R0                                  ;
24855 00004E06 D105              7641             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C05,R1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   334
PROGRAM NAME =

24856 00004E08 2102              7642             MOV.L   R0,@R1                                  ;
24857                            7643     
24858 00004E0A                   7644     ERR_INFO_DTIN3_EXT
24859                            7645     
24860                            7646             POP_REG1 R1
24861                                 M                                   ; RE"+4" 00,00,00,04
24862 00004E0A 61F6                   M           MOV.L   @R15+,R1        ;
24863                            7647             POP_REG1 R0
24864                                 M                                   ; RE"+4" 00,00,00,04
24865 00004E0C 60F6                   M           MOV.L   @R15+,R0        ;
24866                            7648             SUB_END
24867                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24868 00004E0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24869                            7649             M_RTS
24870 00004E10 000B                   M           RTS                             ;RTSの後ろの
24871 00004E12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24872                            7650     
24873                            7651     ;       ***********************************
24874                            7652     ;       ***     起動時の残りﾊﾟﾙｽ        ***
24875                            7653     ;       ***********************************
24876                                     ***** BEGIN-POOL *****
24877 00004E14 00000000                   DATA FOR SOURCE-LINE 7634
24878 00004E18 00000000                   DATA FOR SOURCE-LINE 7639
24879 00004E1C 00000000                   DATA FOR SOURCE-LINE 7641
24880                                     ***** END-POOL *****
24881 00004E20                   7654             .ALIGN  4                               ;
24882 00004E20                   7655     _ERR_INFO_DT_IN4:
24883                            7656             SUB_START
24884 00004E20 4F22                   M           STS.L   PR,@-R15                ;[必要]
24885                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24886                            7657             PUSH_REG1 R0
24887 00004E22 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24888                                 M                                           ;REG=>[SP]
24889                                 M                                           ;"-4" FF,FF,FF,FC
24890                            7658             PUSH_REG1 R1
24891 00004E24 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24892                                 M                                           ;REG=>[SP]
24893                                 M                                           ;"-4" FF,FF,FF,FC
24894 00004E26 D10A              7659             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24895 00004E28 6011              7660             MOV.W   @R1,R0                          ;
24896 00004E2A 2008              7661             TST     R0,R0                           ;
24897                            7662             TST_BIT_ON ERR_INFO_DTIN4_EXT           ;
24898 00004E2C 8B0A                   M           BF      ERR_INFO_DTIN4_EXT
24899                            7663     
24900 00004E2E D109              7664             MOV.L   #_MODE_SEL,R1   ;
24901 00004E30 6011              7665             MOV.W   @R1,R0          ;
24902 00004E32 C804              7666             TST     #_W1SGL,R0      ;
24903                            7667             TST_BIT_OF ERR_INFO_DTIN4_EXT
24904 00004E34 8906                   M           BT      ERR_INFO_DTIN4_EXT
24905                            7668     
24906                            7669     ;       ==========
24907                            7670             FAR_JSR #_LOAD_REST_PLS,R0              ;残りﾊﾟﾙｽ
24908 00004E36 D008                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24909 00004E38 400B                   M           JSR     @R0                     ;
24910 00004E3A 0009                   M           NOP                                     ;
24911 00004E3C D107              7671             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1  ;
24912 00004E3E 2102              7672             MOV.L   R0,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   335
PROGRAM NAME =

24913 00004E40 D107              7673             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1  ;
24914 00004E42 2102              7674             MOV.L   R0,@R1                                  ;
24915                            7675     
24916 00004E44                   7676     ERR_INFO_DTIN4_EXT:
24917                            7677             POP_REG1 R1
24918                                 M                                   ; RE"+4" 00,00,00,04
24919 00004E44 61F6                   M           MOV.L   @R15+,R1        ;
24920                            7678             POP_REG1 R0
24921                                 M                                   ; RE"+4" 00,00,00,04
24922 00004E46 60F6                   M           MOV.L   @R15+,R0        ;
24923                            7679             SUB_END
24924                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24925 00004E48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24926                            7680             M_RTS
24927 00004E4A 000B                   M           RTS                             ;RTSの後ろの
24928 00004E4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24929                            7681     
24930                            7682     ;       ***********************************************************
24931                            7683     ;       ***     TOTAL,ADDが0であること                          ***
24932                            7684     ;       ***********************************************************
24933                                     ***** BEGIN-POOL *****
24934 00004E4E 0000                       ALIGNMENT CODE
24935 00004E50 00000000                   DATA FOR SOURCE-LINE 7659
24936 00004E54 00000000                   DATA FOR SOURCE-LINE 7664
24937 00004E58 00000000                   DATA FOR SOURCE-LINE 7670
24938 00004E5C 00000000                   DATA FOR SOURCE-LINE 7671
24939 00004E60 00000000                   DATA FOR SOURCE-LINE 7673
24940                                     ***** END-POOL *****
24941 00004E64                   7685             .ALIGN  4                               ;
24942 00004E64                   7686     _ERR_INFO_DT_CHK1:
24943                            7687             SUB_START
24944 00004E64 4F22                   M           STS.L   PR,@-R15                ;[必要]
24945                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24946                            7688             PUSH_REG1 R0
24947 00004E66 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24948                                 M                                           ;REG=>[SP]
24949                                 M                                           ;"-4" FF,FF,FF,FC
24950                            7689             PUSH_REG1 R1
24951 00004E68 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24952                                 M                                           ;REG=>[SP]
24953                                 M                                           ;"-4" FF,FF,FF,FC
24954                            7690             PUSH_REG1 R2
24955 00004E6A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24956                                 M                                           ;REG=>[SP]
24957                                 M                                           ;"-4" FF,FF,FF,FC
24958                            7691             PUSH_REG1 R3
24959 00004E6C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24960                                 M                                           ;REG=>[SP]
24961                                 M                                           ;"-4" FF,FF,FF,FC
24962                            7692     
24963 00004E6E D11B              7693             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24964 00004E70 6011              7694             MOV.W   @R1,R0                          ;
24965 00004E72 2008              7695             TST     R0,R0                           ;
24966                            7696             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24967 00004E74 8B27                   M           BF      ERR_INFO_DTCHK1_EXT
24968                            7697     
24969 00004E76 D11A              7698             MOV.L   #_MODE_SEL,R1   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   336
PROGRAM NAME =

24970 00004E78 6011              7699             MOV.W   @R1,R0          ;
24971 00004E7A C804              7700             TST     #_W1SGL,R0      ;
24972                            7701             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24973 00004E7C 8923                   M           BT      ERR_INFO_DTCHK1_EXT
24974                            7702     
24975 00004E7E D019              7703             MOV.L   #_CPOS_CTL_MATH,R0              ;
24976 00004E80 6001              7704             MOV.W   @R0,R0                          ;
24977 00004E82 C801              7705             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24978                            7706             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24979 00004E84 891F                   M           BT      ERR_INFO_DTCHK1_EXT
24980                            7707     
24981                            7708     ;       -------------2011-09-14---------------
24982 00004E86 D118              7709             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24983 00004E88 6011              7710             MOV.W   @R1,R0                          ;
24984 00004E8A C801              7711             TST     #BIT0,R0                        ;
24985                            7712             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24986 00004E8C 8B1B                   M           BF      ERR_INFO_DTCHK1_EXT
24987                            7713     
24988                            7714     
24989 00004E8E D117              7715             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24990 00004E90 6011              7716             MOV.W   @R1,R0                                          ;
24991                            7717     
24992                            7718             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24993 00004E92 D117                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24994 00004E94 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24995 00004E96 6312                   M           MOV.L   @R1,R3                  ;LOW
24996 00004E98 211A                   M           XOR     R1,R1                   ;
24997 00004E9A 223B                   M           OR      R3,R2                   ;
24998 00004E9C 2228                   M           TST     R2,R2                   ;
24999                                 M           TST_BIT_OF JMP0100016           ;ZERO
25000 00004E9E 8900                   M           BT      JMP0100016
25001 00004EA0 9118                   M           MOV.W   #BIT0,R1                ;
25002 00004EA2                        M   JMP0100016                                      ;
25003 00004EA2 201B              7719             OR      R1,R0                                           ;
25004                            7720     
25005                            7721             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
25006 00004EA4 D113                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
25007 00004EA6 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25008 00004EA8 6312                   M           MOV.L   @R1,R3                  ;LOW
25009 00004EAA 211A                   M           XOR     R1,R1                   ;
25010 00004EAC 223B                   M           OR      R3,R2                   ;
25011 00004EAE 2228                   M           TST     R2,R2                   ;
25012                                 M           TST_BIT_OF JMP0100017           ;ZERO
25013 00004EB0 8900                   M           BT      JMP0100017
25014 00004EB2 9110                   M           MOV.W   #BIT1,R1                ;
25015 00004EB4                        M   JMP0100017                                      ;
25016 00004EB4 201B              7722             OR      R1,R0                                           ;
25017                            7723     
25018                            7724             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
25019 00004EB6 D110                   M           MOV.L   #_OUTPLS_MOD,R1 ;
25020 00004EB8 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25021 00004EBA 211A                   M           XOR     R1,R1                   ;
25022 00004EBC 2228                   M           TST     R2,R2                   ;
25023                                 M           TST_BIT_OF JMP0100018           ;ZERO
25024 00004EBE 8900                   M           BT      JMP0100018
25025 00004EC0 910A                   M           MOV.W   #BIT2,R1                ;
25026 00004EC2                        M   JMP0100018                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   337
PROGRAM NAME =

25027                            7725     
25028 00004EC2 D10A              7726             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
25029 00004EC4 2101              7727             MOV.W   R0,@R1                                          ;
25030 00004EC6                   7728     ERR_INFO_DTCHK1_EXT:
25031                            7729     
25032                            7730             POP_REG1 R3
25033                                 M                                   ; RE"+4" 00,00,00,04
25034 00004EC6 63F6                   M           MOV.L   @R15+,R3        ;
25035                            7731             POP_REG1 R2
25036                                 M                                   ; RE"+4" 00,00,00,04
25037 00004EC8 62F6                   M           MOV.L   @R15+,R2        ;
25038                            7732             POP_REG1 R1
25039                                 M                                   ; RE"+4" 00,00,00,04
25040 00004ECA 61F6                   M           MOV.L   @R15+,R1        ;
25041                            7733             POP_REG1 R0
25042                                 M                                   ; RE"+4" 00,00,00,04
25043 00004ECC 60F6                   M           MOV.L   @R15+,R0        ;
25044                            7734     
25045                            7735     
25046                            7736             SUB_END
25047                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25048 00004ECE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25049                            7737             M_RTS
25050 00004ED0 000B                   M           RTS                             ;RTSの後ろの
25051 00004ED2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25052                            7738     
25053                            7739     ;       ***********************************************************
25054                            7740     ;       ***     TOTAL,ADDが0であること                          ***
25055                            7741     ;       ***********************************************************
25056                            7742     ;       SGL
25057                                     ***** BEGIN-POOL *****
25058 00004ED4 0001                       DATA FOR SOURCE-LINE 7718
25059 00004ED6 0002                       DATA FOR SOURCE-LINE 7721
25060 00004ED8 0004                       DATA FOR SOURCE-LINE 7724
25061 00004EDA 0000                       ALIGNMENT CODE
25062 00004EDC 00000000                   DATA FOR SOURCE-LINE 7693
25063 00004EE0 00000000                   DATA FOR SOURCE-LINE 7698
25064 00004EE4 00000000                   DATA FOR SOURCE-LINE 7703
25065 00004EE8 00000000                   DATA FOR SOURCE-LINE 7709
25066 00004EEC 00000000                   DATA FOR SOURCE-LINE 7715,7726
25067 00004EF0 00000000                   DATA FOR SOURCE-LINE 7718
25068 00004EF4 00000000                   DATA FOR SOURCE-LINE 7721
25069 00004EF8 00000000                   DATA FOR SOURCE-LINE 7724
25070                                     ***** END-POOL *****
25071 00004EFC                   7743             .ALIGN  4                               ;
25072 00004EFC                   7744     _ERR_INFO_DT_CHK2:
25073                            7745             SUB_START
25074 00004EFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25075                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25076                            7746             PUSH_REG1 R0
25077 00004EFE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25078                                 M                                           ;REG=>[SP]
25079                                 M                                           ;"-4" FF,FF,FF,FC
25080                            7747             PUSH_REG1 R1
25081 00004F00 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25082                                 M                                           ;REG=>[SP]
25083                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   338
PROGRAM NAME =

25084                            7748             PUSH_REG1 R2
25085 00004F02 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25086                                 M                                           ;REG=>[SP]
25087                                 M                                           ;"-4" FF,FF,FF,FC
25088                            7749             PUSH_REG1 R3
25089 00004F04 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25090                                 M                                           ;REG=>[SP]
25091                                 M                                           ;"-4" FF,FF,FF,FC
25092                            7750     
25093                            7751     
25094                            7752     
25095 00004F06 D129              7753             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25096 00004F08 6011              7754             MOV.W   @R1,R0                          ;
25097 00004F0A 2008              7755             TST     R0,R0                           ;
25098                            7756             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
25099 00004F0C 8B6F                   M           BF      ERR_INFO_DTCHK2_EXT
25100                            7757     
25101 00004F0E D128              7758             MOV.L   #_MODE_SEL,R1                   ;
25102 00004F10 6011              7759             MOV.W   @R1,R0                          ;
25103 00004F12 C804              7760             TST     #_W1SGL,R0                      ;
25104                            7761             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
25105 00004F14 896B                   M           BT      ERR_INFO_DTCHK2_EXT
25106                            7762     
25107 00004F16 D027              7763             MOV.L   #_CPOS_CTL_MATH,R0              ;
25108 00004F18 6001              7764             MOV.W   @R0,R0                          ;
25109                            7765     ;;;;2010-10-25  TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25110 00004F1A C805              7766             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2010-10-25 回転+ふりこ
25111                            7767             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
25112 00004F1C 8967                   M           BT      ERR_INFO_DTCHK2_EXT
25113                            7768     
25114                            7769     ;       -------------2011-09-14---------------
25115 00004F1E D126              7770             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25116 00004F20 6011              7771             MOV.W   @R1,R0                          ;
25117 00004F22 C801              7772             TST     #BIT0,R0                        ;
25118                            7773             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
25119 00004F24 8B63                   M           BF      ERR_INFO_DTCHK2_EXT
25120                            7774     
25121                            7775     
25122 00004F26 D125              7776             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25123 00004F28 6011              7777             MOV.W   @R1,R0                                          ;
25124                            7778     
25125                            7779             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
25126 00004F2A D125                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
25127 00004F2C 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25128 00004F2E 6312                   M           MOV.L   @R1,R3                  ;LOW
25129 00004F30 211A                   M           XOR     R1,R1                   ;
25130 00004F32 223B                   M           OR      R3,R2                   ;
25131 00004F34 2228                   M           TST     R2,R2                   ;
25132                                 M           TST_BIT_OF JMP0100019           ;ZERO
25133 00004F36 8900                   M           BT      JMP0100019
25134 00004F38 9133                   M           MOV.W   #BIT0,R1                ;
25135 00004F3A                        M   JMP0100019                                      ;
25136 00004F3A 201B              7780             OR      R1,R0                                           ;
25137                            7781     
25138                            7782             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
25139 00004F3C D121                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
25140 00004F3E 6216                   M           MOV.L   @R1+,R2                 ;HIGH
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   339
PROGRAM NAME =

25141 00004F40 6312                   M           MOV.L   @R1,R3                  ;LOW
25142 00004F42 211A                   M           XOR     R1,R1                   ;
25143 00004F44 223B                   M           OR      R3,R2                   ;
25144 00004F46 2228                   M           TST     R2,R2                   ;
25145                                 M           TST_BIT_OF JMP0100020           ;ZERO
25146 00004F48 8900                   M           BT      JMP0100020
25147 00004F4A 912B                   M           MOV.W   #BIT1,R1                ;
25148 00004F4C                        M   JMP0100020                                      ;
25149 00004F4C 201B              7783             OR      R1,R0                                           ;
25150                            7784     
25151                            7785             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
25152 00004F4E D11E                   M           MOV.L   #_OUTPLS_MOD,R1 ;
25153 00004F50 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25154 00004F52 211A                   M           XOR     R1,R1                   ;
25155 00004F54 2228                   M           TST     R2,R2                   ;
25156                                 M           TST_BIT_OF JMP0100021           ;ZERO
25157 00004F56 8900                   M           BT      JMP0100021
25158 00004F58 9125                   M           MOV.W   #BIT2,R1                ;
25159 00004F5A                        M   JMP0100021                                      ;
25160                            7786     
25161 00004F5A D118              7787             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25162 00004F5C 2101              7788             MOV.W   R0,@R1                                          ;
25163                            7789     
25164                            7790     ;       ==== ADD DATA CHK ===
25165 00004F5E D11B              7791             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD_
25166 00004F60 6212              7792             MOV.L   @R1,R2                                  ;
25167 00004F62 4211              7793             CMP/PZ  R2                                      ;
25168 00004F64 8900              7794             BT      ERR_INFO_DTCHK2_050                     ;
25169 00004F66 622B              7795             NEG     R2,R2
25170 00004F68                   7796     ERR_INFO_DTCHK2_050:
25171                            7797     
25172 00004F68 D119              7798             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
25173 00004F6A 6012              7799             MOV.L   @R1,R0                                  ;
25174 00004F6C 911C              7800             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
25175 00004F6E 301C              7801             ADD     R1,R0                                   ;1ROT-PLS+2000
25176 00004F70 3022              7802             CMP/HS  R2,R0                                   ;
25177 00004F72 8903              7803             BT      ERR_INFO_DTCHK2_100                     ;1ROT以下
25178                            7804             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25179 00004F74 D111                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25180 00004F76 6011                   M           MOV.W   @R1,R0          ;
25181 00004F78 CB10                   M           OR      #BIT4,R0                ;
25182 00004F7A 2101                   M           MOV.W   R0,@R1          ;
25183 00004F7C                   7805     ERR_INFO_DTCHK2_100:
25184                            7806     
25185                            7807     ;       =====もう一個チェックが必要[2010-10-26] ふりこ時の対策 化け方が0000,0000,FFF,FFFF[
                                          +]====
25186 00004F7C D315              7808             MOV.L   #_CHK_ADD_DATA_LATCH,R3         ;
25187 00004F7E 6136              7809             MOV.L   @R3+,R1                         ;
25188 00004F80 6232              7810             MOV.L   @R3,R2                          ;
25189 00004F82 4111              7811             CMP/PZ  R1                              ;
25190 00004F84 8905              7812             BT      ERR_INFO_DTCHK2_150             ;
25191                            7813             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;
25192 00004F86 6227                   M           NOT     R2,R2                           ;
25193 00004F88 6117                   M           NOT     R1,R1                           ;
25194 00004F8A 200A                   M           XOR     R0,R0                           ;
25195 00004F8C 0018                   M           SETT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   340
PROGRAM NAME =

25196 00004F8E 320E                   M           ADDC    R0,R2                           ;0+1+R2
25197 00004F90 310E                   M           ADDC    R0,R1                           ;
25198 00004F92                   7814     ERR_INFO_DTCHK2_150:
25199 00004F92 2118              7815             TST     R1,R1                           ;
25200                            7816             TST_BIT_OF ERR_INFO_DTCHK2_200          ;
25201 00004F94 8920                   M           BT      ERR_INFO_DTCHK2_200
25202                            7817             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25203 00004F96 D109                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25204 00004F98 6011                   M           MOV.W   @R1,R0          ;
25205 00004F9A CB10                   M           OR      #BIT4,R0                ;
25206 00004F9C 2101                   M           MOV.W   R0,@R1          ;
25207                            7818             M_BRA   ERR_INFO_DTCHK2_300             ;
25208 00004F9E A025                   M           BRA     ERR_INFO_DTCHK2_300
25209 00004FA0 0009                   M           NOP
25210                            7819     
25211                                     ***** BEGIN-POOL *****
25212 00004FA2 0001                       DATA FOR SOURCE-LINE 7779
25213 00004FA4 0002                       DATA FOR SOURCE-LINE 7782
25214 00004FA6 0004                       DATA FOR SOURCE-LINE 7785
25215 00004FA8 07D0                       DATA FOR SOURCE-LINE 7800
25216 00004FAA 0000                       ALIGNMENT CODE
25217 00004FAC 00000000                   DATA FOR SOURCE-LINE 7753
25218 00004FB0 00000000                   DATA FOR SOURCE-LINE 7758
25219 00004FB4 00000000                   DATA FOR SOURCE-LINE 7763
25220 00004FB8 00000000                   DATA FOR SOURCE-LINE 7770
25221 00004FBC 00000000                   DATA FOR SOURCE-LINE 7776,7787,7804,7817
25222 00004FC0 00000000                   DATA FOR SOURCE-LINE 7779
25223 00004FC4 00000000                   DATA FOR SOURCE-LINE 7782
25224 00004FC8 00000000                   DATA FOR SOURCE-LINE 7785
25225 00004FCC 00000000                   DATA FOR SOURCE-LINE 7791
25226 00004FD0 00000000                   DATA FOR SOURCE-LINE 7798
25227 00004FD4 00000000                   DATA FOR SOURCE-LINE 7808
25228                                     ***** END-POOL *****
25229 00004FD8                   7820     ERR_INFO_DTCHK2_200:
25230 00004FD8 D109              7821             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
25231 00004FDA 6012              7822             MOV.L   @R1,R0                                  ;
25232 00004FDC 910E              7823             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
25233 00004FDE 301C              7824             ADD     R1,R0                                   ;1ROT-PLS+2000
25234 00004FE0 3022              7825             CMP/HS  R2,R0                                   ;
25235 00004FE2 8903              7826             BT      ERR_INFO_DTCHK2_300                     ;1ROT以下
25236                            7827             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25237 00004FE4 D107                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25238 00004FE6 6011                   M           MOV.W   @R1,R0          ;
25239 00004FE8 CB10                   M           OR      #BIT4,R0                ;
25240 00004FEA 2101                   M           MOV.W   R0,@R1          ;
25241 00004FEC                   7828     ERR_INFO_DTCHK2_300:
25242 00004FEC 0009              7829             NOP
25243                            7830     
25244                            7831     
25245                            7832     
25246 00004FEE                   7833     ERR_INFO_DTCHK2_EXT:
25247                            7834     
25248                            7835     
25249                            7836             POP_REG1 R3
25250                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   341
PROGRAM NAME =

25251 00004FEE 63F6                   M           MOV.L   @R15+,R3        ;
25252                            7837             POP_REG1 R2
25253                                 M                                   ; RE"+4" 00,00,00,04
25254 00004FF0 62F6                   M           MOV.L   @R15+,R2        ;
25255                            7838             POP_REG1 R1
25256                                 M                                   ; RE"+4" 00,00,00,04
25257 00004FF2 61F6                   M           MOV.L   @R15+,R1        ;
25258                            7839             POP_REG1 R0
25259                                 M                                   ; RE"+4" 00,00,00,04
25260 00004FF4 60F6                   M           MOV.L   @R15+,R0        ;
25261                            7840             SUB_END
25262                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25263 00004FF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25264                            7841             M_RTS
25265 00004FF8 000B                   M           RTS                             ;RTSの後ろの
25266 00004FFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25267                            7842     
25268                            7843     ;       *******************************************
25269                            7844     ;       ***     CHEAK ﾚｽﾄﾊﾟﾙｽが減ること/        ***
25270                            7845     ;       *******************************************
25271                                     ***** BEGIN-POOL *****
25272 00004FFC 07D0                       DATA FOR SOURCE-LINE 7823
25273 00004FFE 0000                       ALIGNMENT CODE
25274 00005000 00000000                   DATA FOR SOURCE-LINE 7821
25275 00005004 00000000                   DATA FOR SOURCE-LINE 7827
25276                                     ***** END-POOL *****
25277 00005008                   7846             .ALIGN  4                               ;
25278 00005008                   7847     _ERR_INFO_DT_CHK3:
25279                            7848             SUB_START
25280 00005008 4F22                   M           STS.L   PR,@-R15                ;[必要]
25281                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25282                            7849     
25283 0000500A D10C              7850             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25284 0000500C 6011              7851             MOV.W   @R1,R0                          ;
25285 0000500E 2008              7852             TST     R0,R0                           ;
25286                            7853             TST_BIT_ON ERR_INFO_DTCHK3_EXT                  ;
25287 00005010 8B68                   M           BF      ERR_INFO_DTCHK3_EXT
25288                            7854     
25289 00005012 D10B              7855             MOV.L   #_MODE_SEL,R1                           ;
25290 00005014 6011              7856             MOV.W   @R1,R0                                  ;
25291 00005016 C804              7857             TST     #_W1SGL,R0                              ;
25292                            7858             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25293 00005018 8964                   M           BT      ERR_INFO_DTCHK3_EXT
25294                            7859     
25295 0000501A D00A              7860             MOV.L   #_CPOS_CTL_MATH,R0              ;
25296 0000501C 6001              7861             MOV.W   @R0,R0                          ;
25297 0000501E C801              7862             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25298                            7863             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25299 00005020 8960                   M           BT      ERR_INFO_DTCHK3_EXT
25300                            7864     
25301                            7865     ;       -------------2011-09-14---------------
25302 00005022 D109              7866             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25303 00005024 6011              7867             MOV.W   @R1,R0                          ;
25304 00005026 C801              7868             TST     #BIT0,R0                        ;
25305                            7869             TST_BIT_ON ERR_INFO_DTCHK3_EXT          ;
25306 00005028 8B5C                   M           BF      ERR_INFO_DTCHK3_EXT
25307                            7870     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   342
PROGRAM NAME =

25308                            7871     
25309 0000502A D108              7872             MOV.L   #_ERR_INFO_DLY_TIM,R1                           ;
25310 0000502C 6011              7873             MOV.W   @R1,R0                                          ;
25311 0000502E 2008              7874             TST     R0,R0                                           ;
25312                            7875             TST_BIT_OF ERR_INFO_DTCHK3_050                          ;
25313 00005030 890E                   M           BT      ERR_INFO_DTCHK3_050
25314 00005032 70FF              7876             ADD     #-1,R0                                          ;
25315 00005034 2101              7877             MOV.W   R0,@R1                                          ;
25316                            7878             M_BRA   ERR_INFO_DTCHK3_EXT                             ;(ﾚｽﾄﾊﾟﾙｽが安定しないので
                                          その判断はしない)
25317 00005036 A055                   M           BRA     ERR_INFO_DTCHK3_EXT
25318 00005038 0009                   M           NOP
25319                            7879     
25320                                     ***** BEGIN-POOL *****
25321 0000503A 0000                       ALIGNMENT CODE
25322 0000503C 00000000                   DATA FOR SOURCE-LINE 7850
25323 00005040 00000000                   DATA FOR SOURCE-LINE 7855
25324 00005044 00000000                   DATA FOR SOURCE-LINE 7860
25325 00005048 00000000                   DATA FOR SOURCE-LINE 7866
25326 0000504C 00000000                   DATA FOR SOURCE-LINE 7872
25327                                     ***** END-POOL *****
25328 00005050                   7880     ERR_INFO_DTCHK3_050:                                            ;
25329                            7881     
25330                            7882             FAR_JSR #_LOAD_REST_PLS,R0                              ;残りﾊﾟﾙｽ
25331 00005050 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25332 00005052 400B                   M           JSR     @R0                     ;
25333 00005054 0009                   M           NOP                                     ;
25334 00005056 D126              7883             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25335 00005058 6312              7884             MOV.L   @R1,R3                                          ;
25336 0000505A 2102              7885             MOV.L   R0,@R1                                          ;NOW =< OLD
25337 0000505C D125              7886             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C08,R1          ;
25338 0000505E 2132              7887             MOV.L   R3,@R1                                          ;OLD SAVE
25339                            7888     
25340 00005060 3302              7889             CMP/HS  R0,R3                                           ;
25341 00005062 890F              7890             BT      ERR_INFO_DTCHK3_100                             ;
25342                            7891     
25343                            7892             PUSH_REG1 R0                                            ;
25344 00005064 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25345                                 M                                           ;REG=>[SP]
25346                                 M                                           ;"-4" FF,FF,FF,FC
25347 00005066 D124              7893             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B03,R1          ;
25348 00005068 6211              7894             MOV.W   @R1,R2                                          ;
25349 0000506A 7201              7895             ADD     #1,R2                                           ;
25350 0000506C 2121              7896             MOV.W   R2,@R1                                          ;
25351                            7897     
25352 0000506E 3038              7898             SUB     R3,R0                                           ;DELT
25353 00005070 D122              7899             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B04,R1          ;増分
25354 00005072 6211              7900             MOV.W   @R1,R2                                          ;
25355 00005074 3022              7901             CMP/HS  R2,R0                                           ;R2<R0
25356 00005076 8B00              7902             BF      ERR_INFO_DTCHK3_060                             ;NO R2 > R0
25357 00005078 2101              7903             MOV.W   R0,@R1                                          ;MAX REFLASH
25358 0000507A                   7904     ERR_INFO_DTCHK3_060:                                            ;
25359                            7905     
25360                            7906             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT0,WKREG
                                          =R1 ;//位置増加
25361 0000507A D121                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25362 0000507C 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   343
PROGRAM NAME =

25363 0000507E CB01                   M           OR      #BIT0,R0                ;
25364 00005080 2101                   M           MOV.W   R0,@R1          ;
25365                            7907     
25366                            7908             POP_REG1 R0                                             ;
25367                                 M                                   ; RE"+4" 00,00,00,04
25368 00005082 60F6                   M           MOV.L   @R15+,R0        ;
25369 00005084                   7909     ERR_INFO_DTCHK3_100:                                            ;
25370                            7910     
25371                            7911     ;       ==== 起動時のRESETより生のﾊﾟﾙｽは小さいか===
25372                            7912     ;       R0:読み出したパルス
25373                            7913     
25374 00005084 D11F              7914             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1          ;
25375 00005086 6212              7915             MOV.L   @R1,R2                                          ;
25376 00005088 7201              7916             ADD     #1,R2                                           ;
25377 0000508A 3202              7917             CMP/HS  R0,R2                                           ;
25378 0000508C 8907              7918             BT      ERR_INFO_DTCHK3_200                             ;起動時より増えていない
25379                            7919     
25380 0000508E D11E              7920             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B05,R1          ;
25381 00005090 6011              7921             MOV.W   @R1,R0                                          ;
25382 00005092 7001              7922             ADD     #1,R0                                           ;
25383 00005094 2101              7923             MOV.W   R0,@R1                                          ;
25384                            7924     
25385                            7925             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT1,WKREG
                                          =R1 ;//
25386 00005096 D11A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25387 00005098 6011                   M           MOV.W   @R1,R0          ;
25388 0000509A CB02                   M           OR      #BIT1,R0                ;
25389 0000509C 2101                   M           MOV.W   R0,@R1          ;
25390                            7926     
25391 0000509E                   7927     ERR_INFO_DTCHK3_200:
25392                            7928     
25393                            7929     ;       ==== 起動時のADDより生ﾊﾟﾙｽは小さいか===
25394 0000509E D114              7930             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25395 000050A0 6212              7931             MOV.L   @R1,R2                                          ;
25396                            7932     
25397 000050A2 D11A              7933             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD-PLS
25398 000050A4 6012              7934             MOV.L   @R1,R0                                  ;
25399 000050A6 4011              7935             CMP/PZ  R0                                      ;
25400 000050A8 8900              7936             BT      ERR_INFO_DTCHK3_220                     ;
25401 000050AA 600B              7937             NEG     R0,R0                                   ;
25402 000050AC                   7938     ERR_INFO_DTCHK3_220:                                    ;
25403 000050AC 7001              7939             ADD     #1,R0                                   ;
25404 000050AE 3022              7940             CMP/HS  R2,R0                                   ;R2<R0
25405 000050B0 8907              7941             BT      ERR_INFO_DTCHK3_300                     ;
25406                            7942     
25407                            7943             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT2,WKREG
                                          =R1 ;//
25408 000050B2 D113                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25409 000050B4 6011                   M           MOV.W   @R1,R0          ;
25410 000050B6 CB04                   M           OR      #BIT2,R0                ;
25411 000050B8 2101                   M           MOV.W   R0,@R1          ;
25412                            7944     
25413 000050BA D115              7945             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B06,R1          ;
25414 000050BC 6011              7946             MOV.W   @R1,R0                                          ;
25415 000050BE 7001              7947             ADD     #1,R0                                           ;
25416 000050C0 2101              7948             MOV.W   R0,@R1                                          ;
25417                            7949     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   344
PROGRAM NAME =

25418                            7950     
25419 000050C2                   7951     ERR_INFO_DTCHK3_300:
25420                            7952     
25421                            7953     ;       ==== ｱｸｾｽ不正異常 =====
25422 000050C2 9312              7954             MOV.W   #D'10,R3                ;
25423 000050C4 222A              7955             XOR     R2,R2                   ;
25424 000050C6 D113              7956             MOV.L   #_ACCESS_ERR1,R1        ;
25425 000050C8                   7957     ERR_INFO_DTCHK3_350:
25426 000050C8 6016              7958             MOV.L   @R1+,R0                 ;
25427 000050CA 220B              7959             OR      R0,R2                   ;
25428 000050CC 73FF              7960             ADD     #-1,R3                  ;
25429 000050CE 2338              7961             TST     R3,R3                   ;
25430                            7962             TST_BIT_ON ERR_INFO_DTCHK3_350  ;
25431 000050D0 8BFA                   M           BF      ERR_INFO_DTCHK3_350
25432 000050D2 2228              7963             TST     R2,R2                   ;
25433                            7964             TST_BIT_OF ERR_INFO_DTCHK3_380  ;
25434 000050D4 8903                   M           BT      ERR_INFO_DTCHK3_380
25435                            7965             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT3,WKREG
                                          =R1 ;//(不正ｱｸｾｽ有り)
25436 000050D6 D10A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25437 000050D8 6011                   M           MOV.W   @R1,R0          ;
25438 000050DA CB08                   M           OR      #BIT3,R0                ;
25439 000050DC 2101                   M           MOV.W   R0,@R1          ;
25440 000050DE                   7966     ERR_INFO_DTCHK3_380:
25441                            7967     
25442                            7968     
25443                            7969     ;       ==== REST PLS ﾁｪｯｸ(別次元かな)====
25444                            7970             FAR_JSR #_ERR_INFO_DT_CHK3X,R0          ;OVER
25445 000050DE D00E                   M           MOV.L   #_ERR_INFO_DT_CHK3X,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25446 000050E0 400B                   M           JSR     @R0                     ;
25447 000050E2 0009                   M           NOP                                     ;
25448                            7971     
25449                            7972     
25450 000050E4                   7973     ERR_INFO_DTCHK3_EXT:
25451                            7974     
25452                            7975             SUB_END
25453                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25454 000050E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25455                            7976             M_RTS
25456 000050E6 000B                   M           RTS                             ;RTSの後ろの
25457 000050E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25458                            7977     
25459                            7978     ;       ***************************************************
25460                            7979     ;       ***                                             ***
25461                            7980     ;       ***     目標位置+2000＜現在位置+RESETPULS       ***
25462                            7981     ;       ***     注意 REST-PLSは20msec後から読み出す     ***
25463                            7982     ;       ***                                             ***
25464                            7983     ;       ***************************************************
25465                                     ***** BEGIN-POOL *****
25466 000050EA 000A                       DATA FOR SOURCE-LINE 7954
25467 000050EC 00000000                   DATA FOR SOURCE-LINE 7882
25468 000050F0 00000000                   DATA FOR SOURCE-LINE 7883,7930
25469 000050F4 00000000                   DATA FOR SOURCE-LINE 7886
25470 000050F8 00000000                   DATA FOR SOURCE-LINE 7893
25471 000050FC 00000000                   DATA FOR SOURCE-LINE 7899
25472 00005100 00000000                   DATA FOR SOURCE-LINE 7906,7925,7943,7965
25473 00005104 00000000                   DATA FOR SOURCE-LINE 7914
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   345
PROGRAM NAME =

25474 00005108 00000000                   DATA FOR SOURCE-LINE 7920
25475 0000510C 00000000                   DATA FOR SOURCE-LINE 7933
25476 00005110 00000000                   DATA FOR SOURCE-LINE 7945
25477 00005114 00000000                   DATA FOR SOURCE-LINE 7956
25478 00005118 00000000                   DATA FOR SOURCE-LINE 7970
25479                                     ***** END-POOL *****
25480 0000511C                   7984             .ALIGN  4                               ;
25481 0000511C                   7985     _ERR_INFO_DT_CHK3X:
25482                            7986             SUB_START
25483 0000511C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25484                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25485                            7987     
25486 0000511E D103              7988             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
25487 00005120 6011              7989             MOV.W   @R1,R0                  ;
25488 00005122 C801              7990             TST     #BIT0,R0                ;
25489                            7991             TST_BIT_OF ERR_INFO_DTCHK3X_100 ;
25490 00005124 8904                   M           BT      ERR_INFO_DTCHK3X_100
25491                            7992             M_BRA   ERR_INFO_DTCHK3X_200    ;
25492 00005126 A029                   M           BRA     ERR_INFO_DTCHK3X_200
25493 00005128 0009                   M           NOP
25494                            7993     ;       ==== 正転運転 =====
25495                                     ***** BEGIN-POOL *****
25496 0000512A 0000                       ALIGNMENT CODE
25497 0000512C 00000000                   DATA FOR SOURCE-LINE 7988
25498                                     ***** END-POOL *****
25499 00005130                   7994     ERR_INFO_DTCHK3X_100:
25500                            7995             FAR_JSR #_LOAD_REST_PLS,R0                      ;残りﾊﾟﾙｽ R0
25501 00005130 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25502 00005132 400B                   M           JSR     @R0                     ;
25503 00005134 0009                   M           NOP                                     ;
25504                            7996     
25505 00005136 D10E              7997             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
25506 00005138 6216              7998             MOV.L   @R1+,R2                                 ;
25507 0000513A 6312              7999             MOV.L   @R1,R3                                  ;
25508 0000513C 211A              8000             XOR     R1,R1
25509 0000513E 9414              8001             MOV.W   #_PLS_ERR_HABPLS1,R4                    ;2000
25510                            8002             ADD8B DT_REGH=R1,DT_REGL=R4,DT_ANS_REGH=R2,DT_ANS_REGL=R3       ;OBJ+2000=R2,R3
25511 00005140 0008                   M           CLRT
25512 00005142 334E                   M           ADDC    R4,R3
25513 00005144 321E                   M           ADDC    R1,R2
25514                            8003     
25515                            8004     ;;;     MOV.L   #_LINK_RL_OBJ_ABSPLS,R1                                 ;
25516 00005146 D10B              8005             MOV.L   #_LINK_PV_ABSPLS,R1                                     ;20060919
25517 00005148 6416              8006             MOV.L   @R1+,R4                                                 ;
25518 0000514A 6512              8007             MOV.L   @R1,R5                                                  ;
25519 0000514C 211A              8008             XOR     R1,R1                                                   ;R1,R0(残りﾊﾟﾙｽ)
25520                            8009             ADD8B DT_REGH=R1,DT_REGL=R0,DT_ANS_REGH=R4,DT_ANS_REGL=R5       ;PV+REST=R4,R5
25521 0000514E 0008                   M           CLRT
25522 00005150 350E                   M           ADDC    R0,R5
25523 00005152 341E                   M           ADDC    R1,R4
25524                            8010     
25525                            8011             SUB8B DT_REGH=R4,DT_REGL=R5,DT_ANS_REGH=R2,DT_ANS_REGL=R3
25526 00005154 0008                   M           CLRT
25527 00005156 335A                   M           SUBC    R5,R3
25528 00005158 324A                   M           SUBC    R4,R2
25529                            8012     ;       R2,R3 - R4,R5= R2,R3 >=0 THEN NOMAL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   346
PROGRAM NAME =

25530 0000515A 4211              8013             CMP/PZ  R2                      ;
25531 0000515C 890E              8014             BT      ERR_INFO_DTCHK3X_300    ;
25532                            8015     ;       === "-" ===
25533                            8016             .AIF    1 EQ    0
25534                            8017             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//OVER-RUN
25535                            8018             .AELSE
25536                            8019             .AENDI
25537 0000515E D106              8020             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B07,R1          ;
25538 00005160 6011              8021             MOV.W   @R1,R0                                          ;
25539 00005162 7001              8022             ADD     #1,R0                                           ;
25540 00005164 2101              8023             MOV.W   R0,@R1                                          ;
25541                            8024     
25542                            8025             M_BRA   ERR_INFO_DTCHK3X_300    ;
25543 00005166 A009                   M           BRA     ERR_INFO_DTCHK3X_300
25544 00005168 0009                   M           NOP
25545                            8026     ;       ==== 逆転運転 =====
25546                                     ***** BEGIN-POOL *****
25547 0000516A 07D0                       DATA FOR SOURCE-LINE 8001
25548 0000516C 00000000                   DATA FOR SOURCE-LINE 7995
25549 00005170 00000000                   DATA FOR SOURCE-LINE 7997
25550 00005174 00000000                   DATA FOR SOURCE-LINE 8005
25551 00005178 00000000                   DATA FOR SOURCE-LINE 8020
25552                                     ***** END-POOL *****
25553 0000517C                   8027     ERR_INFO_DTCHK3X_200:
25554 0000517C                   8028     ERR_INFO_DTCHK3X_300:
25555                            8029     
25556                            8030             SUB_END
25557                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25558 0000517C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25559                            8031             M_RTS
25560 0000517E 000B                   M           RTS                             ;RTSの後ろの
25561 00005180 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25562                            8032     
25563                            8033     ;       ***********************************
25564                            8034     ;       ***                             ***
25565                            8035     ;       ***     残りﾊﾟﾙｽﾁｪｯｸ            ***
25566                            8036     ;       ***     二重回路                ***
25567                            8037     ;       ***                             ***
25568                            8038     ;       ***********************************
25569                            8039             .MACRO REST_PLSCMP2_ERRCHK1 REG1,REG2,IMD,ERRBIT        ;
25570                            8040             XOR     R0,R0                                           ;
25571                            8041             SUB     \REG1,\REG2                                     ;
25572                            8042             CMP/PZ  \REG2                                           ;
25573                            8043             BT      JMP01\@                                         ;DATA=<MAX
25574                            8044             NEG     \REG2,\REG2                                     ;
25575                            8045     JMP01\@:                                                        ;
25576                            8046             MOV.L   #\IMD,\REG1                                     ;
25577                            8047             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25578                            8048             BT      JMP02\@                                         ;DATA=<MAX
25579                            8049             MOV.W   #\ERRBIT,R0                                     ;
25580                            8050     JMP02\@:                                                        ;
25581                            8051     
25582                            8052             .ENDM
25583                            8053     
25584                            8054     ;       ---2005-04-14-E(4/18)
25585                            8055             .MACRO REST_PLSCMP2_ERRCHK2 REG1,REG2,IMD,ERRBIT,CNT_ADR,CNT_MAX;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   347
PROGRAM NAME =

25586                            8056             XOR     R0,R0                                           ;
25587                            8057             SUB     \REG1,\REG2                                     ;
25588                            8058             CMP/PZ  \REG2                                           ;
25589                            8059             BT      JMP01\@                                         ;DATA=<MAX
25590                            8060             NEG     \REG2,\REG2                                     ;
25591                            8061     JMP01\@:                                                        ;
25592                            8062             MOV.L   #\IMD,\REG1                                     ;
25593                            8063             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25594                            8064             BT      JMP02\@                                         ;DATA=<MAX
25595                            8065             MOV.L   #\CNT_ADR,\REG1                                 ;
25596                            8066             MOV.W   @\REG1,R0                                       ;CNT+1
25597                            8067             ADD     #1,R0                                           ;
25598                            8068             MOV.W   R0,@\REG1                                       ;
25599                            8069             MOV.W   #\CNT_MAX,\REG1                                 ;
25600                            8070             CMP/HS  \REG1,R0                                        ;MAX =< R0
25601                            8071             BF      JMP03\@                                         ;
25602                            8072             MOV.W   #\ERRBIT,R0                                     ;
25603                            8073             M_BRA   JMP04\@                                         ;ERR
25604                            8074     JMP02\@:                                                        ;
25605                            8075             XOR     R0,R0                                           ;
25606                            8076             MOV.L   #\CNT_ADR,\REG1                                 ;
25607                            8077             MOV.W   R0,@\REG1                                       ;0CLR + ANS=0
25608                            8078     JMP03\@:                                                        ;
25609                            8079             XOR     R0,R0                                           ;
25610                            8080     JMP04\@:                                                        ;
25611                            8081             .ENDM
25612                            8082     
25613                            8083     
25614                            8084     
25615                            8085     
25616                            8086     
25617                            8087     
25618                            8088     
25619                            8089     
25620                            8090     
25621                            8091     
25622                            8092     
25623                            8093     ;       ***********************************
25624                            8094     ;       ***     ﾊﾞｯｸｱｯﾌﾟ条件ﾁｪｯｸ        ***
25625                            8095     ;       ***     非常停止の中で呼ばれる  ***
25626                            8096     ;       ***********************************
25627                            8097             .EXPORT _ERR_INFO_BAKUP_START
25628                            8098     
25629                            8099     
25630                            8100     
25631 00005184                   8101             .ALIGN  4                               ;
25632 00005184                   8102     _ERR_INFO_BAKUP_START
25633                            8103             SUB_START
25634 00005184 4F22                   M           STS.L   PR,@-R15                ;[必要]
25635                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25636 00005186 D107              8104             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25637 00005188 6011              8105             MOV.W   @R1,R0                          ;
25638 0000518A 2008              8106             TST     R0,R0                           ;
25639                            8107             TST_BIT_ON ERR_INFO_BAKUP_ST_END        ;
25640 0000518C 8B07                   M           BF      ERR_INFO_BAKUP_ST_END
25641                            8108             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_LATCH,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-LA
                                          TCH
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   348
PROGRAM NAME =

25642 0000518E D105                   M           MOV.L   #_ERR_INFO_SAVE_LATCH,R1                ;
25643 00005190 6011                   M           MOV.W   @R1,R0          ;
25644 00005192 CB01                   M           OR      #BIT0,R0                ;
25645 00005194 2101                   M           MOV.W   R0,@R1          ;
25646                            8109             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-STAR
                                          T
25647 00005196 D104                   M           MOV.L   #_ERR_INFO_SAVE_FLG,R1          ;
25648 00005198 6011                   M           MOV.W   @R1,R0          ;
25649 0000519A CB01                   M           OR      #BIT0,R0                ;
25650 0000519C 2101                   M           MOV.W   R0,@R1          ;
25651                            8110     
25652                            8111     
25653 0000519E                   8112     ERR_INFO_BAKUP_ST_END
25654                            8113             SUB_END
25655                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25656 0000519E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25657                            8114             M_RTS
25658 000051A0 000B                   M           RTS                             ;RTSの後ろの
25659 000051A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25660                            8115     
25661                            8116             .EXPORT         _ERR_INFO_RST_CLR
25662                                     ***** BEGIN-POOL *****
25663 000051A4 00000000                   DATA FOR SOURCE-LINE 8104,8108
25664 000051A8 00000000                   DATA FOR SOURCE-LINE 8109
25665                                     ***** END-POOL *****
25666 000051AC                   8117             .ALIGN  4                               ;
25667 000051AC                   8118     _ERR_INFO_RST_CLR:
25668                            8119             SUB_START
25669 000051AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25670                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25671                            8120             FAR_JSR #_ERR_INFO_WK_CLR,R0
25672 000051AE D005                   M           MOV.L   #_ERR_INFO_WK_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25673 000051B0 400B                   M           JSR     @R0                     ;
25674 000051B2 0009                   M           NOP                                     ;
25675                            8121     
25676 000051B4 200A              8122             XOR     R0,R0
25677 000051B6 D104              8123             MOV.L   #_ERR_INFO_SAVE_FLG,R1
25678 000051B8 2101              8124             MOV.W   R0,@R1                          ;
25679                            8125     
25680 000051BA D104              8126             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25681 000051BC 2101              8127             MOV.W   R0,@R1                          ;
25682                            8128             SUB_END
25683                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25684 000051BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25685                            8129             M_RTS
25686 000051C0 000B                   M           RTS                             ;RTSの後ろの
25687 000051C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25688                            8130     
25689                            8131     ;       ***************************
25690                            8132     ;       ***                     ***
25691                            8133     ;       ***                     ***
25692                            8134     ;       ***                     ***
25693                            8135     ;       ***************************
25694                                     ***** BEGIN-POOL *****
25695 000051C4 00000000                   DATA FOR SOURCE-LINE 8120
25696 000051C8 00000000                   DATA FOR SOURCE-LINE 8123
25697 000051CC 00000000                   DATA FOR SOURCE-LINE 8126
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   349
PROGRAM NAME =

25698                                     ***** END-POOL *****
25699 000051D0                   8136             .ALIGN  4                               ;
25700 000051D0                   8137     _ERR_INFO_WK_CLR:
25701                            8138             SUB_START
25702 000051D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25703                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25704 000051D2 200A              8139             XOR     R0,R0
25705 000051D4 D107              8140             MOV.L   #_WK_ERR_INFO_CPU_TOP,R1
25706 000051D6 920B              8141             MOV.W   #_CB_ERR_INFO_MEM/4,R2          ;
25707                            8142     
25708 000051D8                   8143     ERR_INFO_WKCLR_LOP:
25709 000051D8 2102              8144             MOV.L   R0,@R1                          ;
25710 000051DA 7104              8145             ADD     #4,R1                           ;
25711 000051DC 72FF              8146             ADD     #-1,R2                          ;
25712 000051DE 2228              8147             TST     R2,R2                           ;
25713                            8148             TST_BIT_ON ERR_INFO_WKCLR_LOP           ;
25714 000051E0 8BFA                   M           BF      ERR_INFO_WKCLR_LOP
25715                            8149     
25716                            8150     ;       ------- 2010-10-25---
25717 000051E2 D105              8151             MOV.L   #_CHK_ADD_DATA_LATCH,R1         ;
25718 000051E4 2102              8152             MOV.L   R0,@R1                          ;
25719 000051E6 7104              8153             ADD     #4,R1                           ;
25720 000051E8 2102              8154             MOV.L   R0,@R1                          ;
25721                            8155     
25722                            8156             SUB_END
25723                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25724 000051EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25725                            8157             M_RTS
25726 000051EC 000B                   M           RTS                             ;RTSの後ろの
25727 000051EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25728                            8158     
25729                            8159     ;       ***********************************
25730                            8160     ;       ***                             ***
25731                            8161     ;       ***     １つだけ                ***
25732                            8162     ;       ***     自分の情報を相手に送り  ***
25733                            8163     ;       ***     相手の情報を取り込む    ***
25734                            8164     ;       ***     ﾃﾞｰﾀｸﾞﾗﾌを作成          ***
25735                            8165     ;       ***                             ***
25736                            8166     ;       ***********************************
25737                                     ***** BEGIN-POOL *****
25738 000051F0 0020                       DATA FOR SOURCE-LINE 8141
25739 000051F2 0000                       ALIGNMENT CODE
25740 000051F4 00000000                   DATA FOR SOURCE-LINE 8140
25741 000051F8 00000000                   DATA FOR SOURCE-LINE 8151
25742                                     ***** END-POOL *****
25743 000051FC                   8167             .ALIGN  4                               ;
25744 000051FC                   8168     _CHG_STEP_INFO_MAKE_STEP_DAT:
25745                            8169             SUB_START
25746 000051FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25747                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25748                            8170             PUSH_REG1 R0
25749 000051FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25750                                 M                                           ;REG=>[SP]
25751                                 M                                           ;"-4" FF,FF,FF,FC
25752                            8171             PUSH_REG1 R1
25753 00005200 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25754                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   350
PROGRAM NAME =

25755                                 M                                           ;"-4" FF,FF,FF,FC
25756                            8172             PUSH_REG1 R2
25757 00005202 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25758                                 M                                           ;REG=>[SP]
25759                                 M                                           ;"-4" FF,FF,FF,FC
25760                            8173             PUSH_REG1 R3
25761 00005204 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25762                                 M                                           ;REG=>[SP]
25763                                 M                                           ;"-4" FF,FF,FF,FC
25764                            8174             PUSH_REG1 R4
25765 00005206 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
25766                                 M                                           ;REG=>[SP]
25767                                 M                                           ;"-4" FF,FF,FF,FC
25768                            8175             FAR_JSR #_LOAD_FREQ_PLS,R0
25769 00005208 D015                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25770 0000520A 400B                   M           JSR     @R0                     ;
25771 0000520C 0009                   M           NOP                                     ;
25772 0000520E D115              8176             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25773 00005210 2101              8177             MOV.W   R0,@R1
                                          ;
25774                            8178             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP_SV_PLS       ,L
                                          ,R1,R2,R3       ;
25775 00005212 D115                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25776 00005214 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25777 00005216 D315                   M           MOV.L   #_SH2_STEP_SV_PLS,R3    ;DST_ADR
25778 00005218 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25779                            8179             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH2_STEP_PV_PLS       ,L
                                          ,R1,R2,R3       ;
25780 0000521A D115                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25781 0000521C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25782 0000521E D315                   M           MOV.L   #_SH2_STEP_PV_PLS,R3    ;DST_ADR
25783 00005220 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25784                            8180             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP_REST_P       ,L
                                          ,R1,R2,R3       ;
25785 00005222 D115                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25786 00005224 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25787 00005226 D315                   M           MOV.L   #_SH2_STEP_REST_P,R3    ;DST_ADR
25788 00005228 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25789                            8181             MEM_MOV_TO_MEM  _LNGTH_TOTAL_OUTPLS             ,L      ,_SH2_TOTAL_PLS ,L,R1,R2,R
                                          3       ;
25790 0000522A D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1
25791 0000522C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25792 0000522E D315                   M           MOV.L   #_SH2_TOTAL_PLS,R3      ;DST_ADR
25793 00005230 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25794                            8182     ;;      MEM_MOV_TO_MEM  _IN_POS_GPOINT_POS              ,L      ,_SH2_ADD_PLS           ,L
                                          ,R1,R2,R3       ;
25795                            8183     
25796                            8184             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP_FRQ          ,W
                                          ,R1,R2,R3       ;
25797 00005232 D10C                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25798 00005234 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25799 00005236 D314                   M           MOV.L   #_SH2_STEP_FRQ,R3       ;DST_ADR
25800 00005238 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25801                            8185             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP_TIM          ,W
                                          ,R1,R2,R3       ;
25802 0000523A D114                   M           MOV.L   #_CPU_CTRL_CLK,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   351
PROGRAM NAME =

25803 0000523C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25804 0000523E D314                   M           MOV.L   #_SH2_STEP_TIM,R3       ;DST_ADR
25805 00005240 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25806                            8186             MEM_MOV_TO_MEM  _INT_POS_CTL_STEP               ,W      ,_SH2_NOW_STEP          ,W
                                          ,R1,R2,R3       ;
25807 00005242 D114                   M           MOV.L   #_INT_POS_CTL_STEP,R1
25808 00005244 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25809 00005246 D314                   M           MOV.L   #_SH2_NOW_STEP,R3       ;DST_ADR
25810 00005248 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25811                            8187     
25812                            8188             FAR_JSR #_DATA_GRF_CNT_DATA_MAKE,R0
25813 0000524A D014                   M           MOV.L   #_DATA_GRF_CNT_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25814 0000524C 400B                   M           JSR     @R0                     ;
25815 0000524E 0009                   M           NOP                                     ;
25816                            8189             POP_REG1 R4
25817                                 M                                   ; RE"+4" 00,00,00,04
25818 00005250 64F6                   M           MOV.L   @R15+,R4        ;
25819                            8190             POP_REG1 R3
25820                                 M                                   ; RE"+4" 00,00,00,04
25821 00005252 63F6                   M           MOV.L   @R15+,R3        ;
25822                            8191             POP_REG1 R2
25823                                 M                                   ; RE"+4" 00,00,00,04
25824 00005254 62F6                   M           MOV.L   @R15+,R2        ;
25825                            8192             POP_REG1 R1
25826                                 M                                   ; RE"+4" 00,00,00,04
25827 00005256 61F6                   M           MOV.L   @R15+,R1        ;
25828                            8193             POP_REG1 R0
25829                                 M                                   ; RE"+4" 00,00,00,04
25830 00005258 60F6                   M           MOV.L   @R15+,R0        ;
25831                            8194             SUB_END
25832                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25833 0000525A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25834                            8195             M_RTS
25835 0000525C 000B                   M           RTS                             ;RTSの後ろの
25836 0000525E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25837                            8196     
25838                            8197     ;       ***********************************
25839                            8198     ;       ***     連続の行程切り替わり    ***
25840                            8199     ;       ***********************************
25841                            8200     ;       行程3->1のときの演算前のﾃﾞｰﾀ を4へ
25842                            8201     ;       ﾓﾆﾀ用
25843                                     ***** BEGIN-POOL *****
25844 00005260 00000000                   DATA FOR SOURCE-LINE 8175
25845 00005264 00000000                   DATA FOR SOURCE-LINE 8176,8184
25846 00005268 00000000                   DATA FOR SOURCE-LINE 8178
25847 0000526C 00000000                   DATA FOR SOURCE-LINE 8178
25848 00005270 00000000                   DATA FOR SOURCE-LINE 8179
25849 00005274 00000000                   DATA FOR SOURCE-LINE 8179
25850 00005278 00000000                   DATA FOR SOURCE-LINE 8180
25851 0000527C 00000000                   DATA FOR SOURCE-LINE 8180
25852 00005280 00000000                   DATA FOR SOURCE-LINE 8181
25853 00005284 00000000                   DATA FOR SOURCE-LINE 8181
25854 00005288 00000000                   DATA FOR SOURCE-LINE 8184
25855 0000528C 00000000                   DATA FOR SOURCE-LINE 8185
25856 00005290 00000000                   DATA FOR SOURCE-LINE 8185
25857 00005294 00000000                   DATA FOR SOURCE-LINE 8186
25858 00005298 00000000                   DATA FOR SOURCE-LINE 8186
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   352
PROGRAM NAME =

25859 0000529C 00000000                   DATA FOR SOURCE-LINE 8188
25860                                     ***** END-POOL *****
25861 000052A0                   8202             .ALIGN  4                               ;
25862 000052A0                   8203     _CHG_STEP_INFO_MAKE_ESTEP_BEFOR
25863                            8204             SUB_START
25864 000052A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25865                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25866                            8205             PUSH_REG1 R0
25867 000052A2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25868                                 M                                           ;REG=>[SP]
25869                                 M                                           ;"-4" FF,FF,FF,FC
25870                            8206             PUSH_REG1 R1
25871 000052A4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25872                                 M                                           ;REG=>[SP]
25873                                 M                                           ;"-4" FF,FF,FF,FC
25874                            8207             PUSH_REG1 R2
25875 000052A6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25876                                 M                                           ;REG=>[SP]
25877                                 M                                           ;"-4" FF,FF,FF,FC
25878                            8208             PUSH_REG1 R3
25879 000052A8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25880                                 M                                           ;REG=>[SP]
25881                                 M                                           ;"-4" FF,FF,FF,FC
25882                            8209             FAR_JSR #_LOAD_FREQ_PLS,R0
25883 000052AA D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25884 000052AC 400B                   M           JSR     @R0                     ;
25885 000052AE 0009                   M           NOP                                     ;
25886 000052B0 D10F              8210             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25887 000052B2 2101              8211             MOV.W   R0,@R1
                                          ;
25888                            8212             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP4_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25889 000052B4 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25890 000052B6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25891 000052B8 D30F                   M           MOV.L   #_SH2_STEP4_SV_PLS,R3   ;DST_ADR
25892 000052BA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25893                            8213             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH2_STEP4_PV_PLS      ,L
                                          ,R1,R2,R3;
25894 000052BC D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25895 000052BE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25896 000052C0 D30F                   M           MOV.L   #_SH2_STEP4_PV_PLS,R3   ;DST_ADR
25897 000052C2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25898                            8214             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP4_REST_P      ,L
                                          ,R1,R2,R3;
25899 000052C4 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25900 000052C6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25901 000052C8 D30F                   M           MOV.L   #_SH2_STEP4_REST_P,R3   ;DST_ADR
25902 000052CA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25903                            8215             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP4_FRQ ,W,R1,R2,R
                                          3;
25904 000052CC D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25905 000052CE 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25906 000052D0 D30E                   M           MOV.L   #_SH2_STEP4_FRQ,R3      ;DST_ADR
25907 000052D2 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25908                            8216             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP4_TIM ,W,R1,R2,R
                                          3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   353
PROGRAM NAME =

25909 000052D4 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25910 000052D6 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25911 000052D8 D30E                   M           MOV.L   #_SH2_STEP4_TIM,R3      ;DST_ADR
25912 000052DA 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25913                            8217     
25914                            8218             POP_REG1 R3
25915                                 M                                   ; RE"+4" 00,00,00,04
25916 000052DC 63F6                   M           MOV.L   @R15+,R3        ;
25917                            8219             POP_REG1 R2
25918                                 M                                   ; RE"+4" 00,00,00,04
25919 000052DE 62F6                   M           MOV.L   @R15+,R2        ;
25920                            8220             POP_REG1 R1
25921                                 M                                   ; RE"+4" 00,00,00,04
25922 000052E0 61F6                   M           MOV.L   @R15+,R1        ;
25923                            8221             POP_REG1 R0
25924                                 M                                   ; RE"+4" 00,00,00,04
25925 000052E2 60F6                   M           MOV.L   @R15+,R0        ;
25926                            8222             SUB_END
25927                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25928 000052E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25929                            8223             M_RTS
25930 000052E6 000B                   M           RTS                             ;RTSの後ろの
25931 000052E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25932                            8224     
25933                            8225     ;       行程3->1のときの演算後のﾃﾞｰﾀ を1へ
25934                                     ***** BEGIN-POOL *****
25935 000052EA 0000                       ALIGNMENT CODE
25936 000052EC 00000000                   DATA FOR SOURCE-LINE 8209
25937 000052F0 00000000                   DATA FOR SOURCE-LINE 8210,8215
25938 000052F4 00000000                   DATA FOR SOURCE-LINE 8212
25939 000052F8 00000000                   DATA FOR SOURCE-LINE 8212
25940 000052FC 00000000                   DATA FOR SOURCE-LINE 8213
25941 00005300 00000000                   DATA FOR SOURCE-LINE 8213
25942 00005304 00000000                   DATA FOR SOURCE-LINE 8214
25943 00005308 00000000                   DATA FOR SOURCE-LINE 8214
25944 0000530C 00000000                   DATA FOR SOURCE-LINE 8215
25945 00005310 00000000                   DATA FOR SOURCE-LINE 8216
25946 00005314 00000000                   DATA FOR SOURCE-LINE 8216
25947                                     ***** END-POOL *****
25948 00005318                   8226             .ALIGN  4                               ;
25949 00005318                   8227     _CHG_STEP_INFO_MAKE_ESTEP_AFTER
25950                            8228             SUB_START
25951 00005318 4F22                   M           STS.L   PR,@-R15                ;[必要]
25952                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25953                            8229             PUSH_REG1 R0
25954 0000531A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25955                                 M                                           ;REG=>[SP]
25956                                 M                                           ;"-4" FF,FF,FF,FC
25957                            8230             PUSH_REG1 R1
25958 0000531C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25959                                 M                                           ;REG=>[SP]
25960                                 M                                           ;"-4" FF,FF,FF,FC
25961                            8231             PUSH_REG1 R2
25962 0000531E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25963                                 M                                           ;REG=>[SP]
25964                                 M                                           ;"-4" FF,FF,FF,FC
25965                            8232             PUSH_REG1 R3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   354
PROGRAM NAME =

25966 00005320 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25967                                 M                                           ;REG=>[SP]
25968                                 M                                           ;"-4" FF,FF,FF,FC
25969                            8233             FAR_JSR #_LOAD_FREQ_PLS,R0
25970 00005322 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25971 00005324 400B                   M           JSR     @R0                     ;
25972 00005326 0009                   M           NOP                                     ;
25973 00005328 D10F              8234             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25974 0000532A 2101              8235             MOV.W   R0,@R1
                                          ;
25975                            8236             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP1_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25976 0000532C D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25977 0000532E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25978 00005330 D30F                   M           MOV.L   #_SH2_STEP1_SV_PLS,R3   ;DST_ADR
25979 00005332 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25980                            8237             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH2_STEP1_PV_PLS      ,L,R1,R2,R
                                          3;
25981 00005334 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25982 00005336 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25983 00005338 D30F                   M           MOV.L   #_SH2_STEP1_PV_PLS,R3   ;DST_ADR
25984 0000533A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25985                            8238             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP1_REST_P      ,L
                                          ,R1,R2,R3;
25986 0000533C D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25987 0000533E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25988 00005340 D30F                   M           MOV.L   #_SH2_STEP1_REST_P,R3   ;DST_ADR
25989 00005342 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25990                            8239             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP1_FRQ ,W,R1,R2,R
                                          3;
25991 00005344 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25992 00005346 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25993 00005348 D30E                   M           MOV.L   #_SH2_STEP1_FRQ,R3      ;DST_ADR
25994 0000534A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25995                            8240             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP1_TIM ,W,R1,R2,R
                                          3;
25996 0000534C D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25997 0000534E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25998 00005350 D30E                   M           MOV.L   #_SH2_STEP1_TIM,R3      ;DST_ADR
25999 00005352 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26000                            8241     
26001                            8242             POP_REG1 R3
26002                                 M                                   ; RE"+4" 00,00,00,04
26003 00005354 63F6                   M           MOV.L   @R15+,R3        ;
26004                            8243             POP_REG1 R2
26005                                 M                                   ; RE"+4" 00,00,00,04
26006 00005356 62F6                   M           MOV.L   @R15+,R2        ;
26007                            8244             POP_REG1 R1
26008                                 M                                   ; RE"+4" 00,00,00,04
26009 00005358 61F6                   M           MOV.L   @R15+,R1        ;
26010                            8245             POP_REG1 R0
26011                                 M                                   ; RE"+4" 00,00,00,04
26012 0000535A 60F6                   M           MOV.L   @R15+,R0        ;
26013                            8246             SUB_END
26014                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26015 0000535C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   355
PROGRAM NAME =

26016                            8247             M_RTS
26017 0000535E 000B                   M           RTS                             ;RTSの後ろの
26018 00005360 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26019                            8248     
26020                            8249     
26021                            8250     ;       ***********************************
26022                            8251     ;       ***                             ***
26023                            8252     ;       ***********************************
26024                                     ***** BEGIN-POOL *****
26025 00005362 0000                       ALIGNMENT CODE
26026 00005364 00000000                   DATA FOR SOURCE-LINE 8233
26027 00005368 00000000                   DATA FOR SOURCE-LINE 8234,8239
26028 0000536C 00000000                   DATA FOR SOURCE-LINE 8236
26029 00005370 00000000                   DATA FOR SOURCE-LINE 8236
26030 00005374 00000000                   DATA FOR SOURCE-LINE 8237
26031 00005378 00000000                   DATA FOR SOURCE-LINE 8237
26032 0000537C 00000000                   DATA FOR SOURCE-LINE 8238
26033 00005380 00000000                   DATA FOR SOURCE-LINE 8238
26034 00005384 00000000                   DATA FOR SOURCE-LINE 8239
26035 00005388 00000000                   DATA FOR SOURCE-LINE 8240
26036 0000538C 00000000                   DATA FOR SOURCE-LINE 8240
26037                                     ***** END-POOL *****
26038 00005390                   8253             .ALIGN  4                               ;
26039 00005390                   8254     _CHG_STEP_INFO_MAKE_STEP_END:
26040                            8255             SUB_START
26041 00005390 4F22                   M           STS.L   PR,@-R15                ;[必要]
26042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26043                            8256             PUSH_REG1 R0
26044 00005392 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26045                                 M                                           ;REG=>[SP]
26046                                 M                                           ;"-4" FF,FF,FF,FC
26047                            8257             PUSH_REG1 R1
26048 00005394 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26049                                 M                                           ;REG=>[SP]
26050                                 M                                           ;"-4" FF,FF,FF,FC
26051 00005396 D104              8258             MOV.L   #_INT_POS_CTL_STEP,R1           ;
26052 00005398 6011              8259             MOV.W   @R1,R0                          ;
26053 0000539A 8802              8260             CMP/EQ  #2,R0                           ;
26054 0000539C 8B08              8261             BF      CHG_STEP_INFO_MAKSTP_END_010    ;
26055                            8262             FAR_JSR #_CHG_STEP_INFO_MAKE_1STEP_END,R0
26056 0000539E D003                   M           MOV.L   #_CHG_STEP_INFO_MAKE_1STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26057 000053A0 400B                   M           JSR     @R0                     ;
26058 000053A2 0009                   M           NOP                                     ;
26059                            8263             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT
26060 000053A4 A00E                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
26061 000053A6 0009                   M           NOP
26062                            8264     
26063                                     ***** BEGIN-POOL *****
26064 000053A8 00000000                   DATA FOR SOURCE-LINE 8258
26065 000053AC 00000000                   DATA FOR SOURCE-LINE 8262
26066                                     ***** END-POOL *****
26067 000053B0                   8265     CHG_STEP_INFO_MAKSTP_END_010:
26068 000053B0 8803              8266             CMP/EQ  #3,R0                                   ;
26069 000053B2 8B07              8267             BF      CHG_STEP_INFO_MAKSTP_END_020            ;
26070                            8268             FAR_JSR #_CHG_STEP_INFO_MAKE_2STEP_END,R0       ;
26071 000053B4 D002                   M           MOV.L   #_CHG_STEP_INFO_MAKE_2STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26072 000053B6 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   356
PROGRAM NAME =

26073 000053B8 0009                   M           NOP                                     ;
26074                            8269             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT            ;
26075 000053BA A003                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
26076 000053BC 0009                   M           NOP
26077                                     ***** BEGIN-POOL *****
26078 000053BE 0000                       ALIGNMENT CODE
26079 000053C0 00000000                   DATA FOR SOURCE-LINE 8268
26080                                     ***** END-POOL *****
26081 000053C4                   8270     CHG_STEP_INFO_MAKSTP_END_020:
26082                            8271     
26083 000053C4                   8272     CHG_STEP_INFO_MAKSTP_END_EXT:
26084                            8273             POP_REG1 R1
26085                                 M                                   ; RE"+4" 00,00,00,04
26086 000053C4 61F6                   M           MOV.L   @R15+,R1        ;
26087                            8274             POP_REG1 R0
26088                                 M                                   ; RE"+4" 00,00,00,04
26089 000053C6 60F6                   M           MOV.L   @R15+,R0        ;
26090                            8275             SUB_END
26091                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26092 000053C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26093                            8276             M_RTS
26094 000053CA 000B                   M           RTS                             ;RTSの後ろの
26095 000053CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26096                            8277     
26097                            8278     
26098                            8279     ;       === 1->2 1の情報を2へ==
26099 000053D0                   8280             .ALIGN  4                               ;
26100 000053D0                   8281     _CHG_STEP_INFO_MAKE_1STEP_END
26101                            8282             SUB_START
26102 000053D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26103                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26104                            8283             PUSH_REG1 R0
26105 000053D2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26106                                 M                                           ;REG=>[SP]
26107                                 M                                           ;"-4" FF,FF,FF,FC
26108                            8284             PUSH_REG1 R1
26109 000053D4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26110                                 M                                           ;REG=>[SP]
26111                                 M                                           ;"-4" FF,FF,FF,FC
26112                            8285             PUSH_REG1 R2
26113 000053D6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26114                                 M                                           ;REG=>[SP]
26115                                 M                                           ;"-4" FF,FF,FF,FC
26116                            8286             PUSH_REG1 R3
26117 000053D8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26118                                 M                                           ;REG=>[SP]
26119                                 M                                           ;"-4" FF,FF,FF,FC
26120                            8287             FAR_JSR #_LOAD_FREQ_PLS,R0
26121 000053DA D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26122 000053DC 400B                   M           JSR     @R0                     ;
26123 000053DE 0009                   M           NOP                                     ;
26124 000053E0 D10F              8288             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26125 000053E2 2101              8289             MOV.W   R0,@R1
                                          ;
26126                            8290             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP2_SV_PLS      ,L
                                          ,R1,R2,R3       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   357
PROGRAM NAME =

26127 000053E4 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26128 000053E6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26129 000053E8 D30F                   M           MOV.L   #_SH2_STEP2_SV_PLS,R3   ;DST_ADR
26130 000053EA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26131                            8291             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH2_STEP2_PV_PLS      ,L
                                          ,R1,R2,R3       ;
26132 000053EC D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26133 000053EE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26134 000053F0 D30F                   M           MOV.L   #_SH2_STEP2_PV_PLS,R3   ;DST_ADR
26135 000053F2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26136                            8292             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP2_REST_P      ,L
                                          ,R1,R2,R3       ;
26137 000053F4 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26138 000053F6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26139 000053F8 D30F                   M           MOV.L   #_SH2_STEP2_REST_P,R3   ;DST_ADR
26140 000053FA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26141                            8293             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP2_FRQ ,W,R1,R2,R
                                          3       ;
26142 000053FC D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26143 000053FE 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26144 00005400 D30E                   M           MOV.L   #_SH2_STEP2_FRQ,R3      ;DST_ADR
26145 00005402 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26146                            8294             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP2_TIM ,W,R1,R2,R
                                          3       ;
26147 00005404 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26148 00005406 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26149 00005408 D30E                   M           MOV.L   #_SH2_STEP2_TIM,R3      ;DST_ADR
26150 0000540A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26151                            8295             POP_REG1 R3
26152                                 M                                   ; RE"+4" 00,00,00,04
26153 0000540C 63F6                   M           MOV.L   @R15+,R3        ;
26154                            8296             POP_REG1 R2
26155                                 M                                   ; RE"+4" 00,00,00,04
26156 0000540E 62F6                   M           MOV.L   @R15+,R2        ;
26157                            8297             POP_REG1 R1
26158                                 M                                   ; RE"+4" 00,00,00,04
26159 00005410 61F6                   M           MOV.L   @R15+,R1        ;
26160                            8298             POP_REG1 R0
26161                                 M                                   ; RE"+4" 00,00,00,04
26162 00005412 60F6                   M           MOV.L   @R15+,R0        ;
26163                            8299             SUB_END
26164                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26165 00005414 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26166                            8300             M_RTS
26167 00005416 000B                   M           RTS                             ;RTSの後ろの
26168 00005418 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26169                            8301     
26170                            8302     ;       === 2->3 3の情報 ==
26171                                     ***** BEGIN-POOL *****
26172 0000541A 0000                       ALIGNMENT CODE
26173 0000541C 00000000                   DATA FOR SOURCE-LINE 8287
26174 00005420 00000000                   DATA FOR SOURCE-LINE 8288,8293
26175 00005424 00000000                   DATA FOR SOURCE-LINE 8290
26176 00005428 00000000                   DATA FOR SOURCE-LINE 8290
26177 0000542C 00000000                   DATA FOR SOURCE-LINE 8291
26178 00005430 00000000                   DATA FOR SOURCE-LINE 8291
26179 00005434 00000000                   DATA FOR SOURCE-LINE 8292
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   358
PROGRAM NAME =

26180 00005438 00000000                   DATA FOR SOURCE-LINE 8292
26181 0000543C 00000000                   DATA FOR SOURCE-LINE 8293
26182 00005440 00000000                   DATA FOR SOURCE-LINE 8294
26183 00005444 00000000                   DATA FOR SOURCE-LINE 8294
26184                                     ***** END-POOL *****
26185 00005448                   8303             .ALIGN  4                               ;
26186 00005448                   8304     _CHG_STEP_INFO_MAKE_2STEP_END
26187                            8305             SUB_START
26188 00005448 4F22                   M           STS.L   PR,@-R15                ;[必要]
26189                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26190                            8306             PUSH_REG1 R0
26191 0000544A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26192                                 M                                           ;REG=>[SP]
26193                                 M                                           ;"-4" FF,FF,FF,FC
26194                            8307             PUSH_REG1 R1
26195 0000544C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26196                                 M                                           ;REG=>[SP]
26197                                 M                                           ;"-4" FF,FF,FF,FC
26198                            8308             PUSH_REG1 R2
26199 0000544E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26200                                 M                                           ;REG=>[SP]
26201                                 M                                           ;"-4" FF,FF,FF,FC
26202                            8309             PUSH_REG1 R3
26203 00005450 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26204                                 M                                           ;REG=>[SP]
26205                                 M                                           ;"-4" FF,FF,FF,FC
26206                            8310             FAR_JSR #_LOAD_FREQ_PLS,R0
26207 00005452 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26208 00005454 400B                   M           JSR     @R0                     ;
26209 00005456 0009                   M           NOP                                     ;
26210 00005458 D10F              8311             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26211 0000545A 2101              8312             MOV.W   R0,@R1
                                          ;
26212                            8313             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP3_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26213 0000545C D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26214 0000545E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26215 00005460 D30F                   M           MOV.L   #_SH2_STEP3_SV_PLS,R3   ;DST_ADR
26216 00005462 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26217                            8314             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH2_STEP3_PV_PLS      ,L,R1,R2,R
                                          3       ;
26218 00005464 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26219 00005466 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26220 00005468 D30F                   M           MOV.L   #_SH2_STEP3_PV_PLS,R3   ;DST_ADR
26221 0000546A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26222                            8315             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP3_REST_P      ,L
                                          ,R1,R2,R3       ;
26223 0000546C D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26224 0000546E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26225 00005470 D30F                   M           MOV.L   #_SH2_STEP3_REST_P,R3   ;DST_ADR
26226 00005472 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26227                            8316             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP3_FRQ ,W,R1,R2,R
                                          3       ;
26228 00005474 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26229 00005476 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26230 00005478 D30E                   M           MOV.L   #_SH2_STEP3_FRQ,R3      ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   359
PROGRAM NAME =

26231 0000547A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26232                            8317             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP3_TIM ,W,R1,R2,R
                                          3       ;
26233 0000547C D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26234 0000547E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26235 00005480 D30E                   M           MOV.L   #_SH2_STEP3_TIM,R3      ;DST_ADR
26236 00005482 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26237                            8318     
26238                            8319             POP_REG1 R3
26239                                 M                                   ; RE"+4" 00,00,00,04
26240 00005484 63F6                   M           MOV.L   @R15+,R3        ;
26241                            8320             POP_REG1 R2
26242                                 M                                   ; RE"+4" 00,00,00,04
26243 00005486 62F6                   M           MOV.L   @R15+,R2        ;
26244                            8321             POP_REG1 R1
26245                                 M                                   ; RE"+4" 00,00,00,04
26246 00005488 61F6                   M           MOV.L   @R15+,R1        ;
26247                            8322             POP_REG1 R0
26248                                 M                                   ; RE"+4" 00,00,00,04
26249 0000548A 60F6                   M           MOV.L   @R15+,R0        ;
26250                            8323             SUB_END
26251                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26252 0000548C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26253                            8324             M_RTS
26254 0000548E 000B                   M           RTS                             ;RTSの後ろの
26255 00005490 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26256                            8325     
26257                            8326     
26258                            8327     
26259                            8328             .EXPORT _MONI_CHG_PROC1
26260                                     ***** BEGIN-POOL *****
26261 00005492 0000                       ALIGNMENT CODE
26262 00005494 00000000                   DATA FOR SOURCE-LINE 8310
26263 00005498 00000000                   DATA FOR SOURCE-LINE 8311,8316
26264 0000549C 00000000                   DATA FOR SOURCE-LINE 8313
26265 000054A0 00000000                   DATA FOR SOURCE-LINE 8313
26266 000054A4 00000000                   DATA FOR SOURCE-LINE 8314
26267 000054A8 00000000                   DATA FOR SOURCE-LINE 8314
26268 000054AC 00000000                   DATA FOR SOURCE-LINE 8315
26269 000054B0 00000000                   DATA FOR SOURCE-LINE 8315
26270 000054B4 00000000                   DATA FOR SOURCE-LINE 8316
26271 000054B8 00000000                   DATA FOR SOURCE-LINE 8317
26272 000054BC 00000000                   DATA FOR SOURCE-LINE 8317
26273                                     ***** END-POOL *****
26274 000054C0                   8329             .ALIGN  4                               ;
26275 000054C0                   8330     _MONI_CHG_PROC1:
26276                            8331             SUB_START
26277 000054C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26279                            8332     ;;      MNP_MOV_TO_MEM  _SH2_STEP1_REST_P       ,L,_PVP_MONALM_C01,L,R1,R2,H'3FFFFFF
26280                            8333     ;;      MNP_MOV_TO_MEM  _SH2_STEP1_PV_PLS       ,L,_PVP_MONALM_C02,L,R1,R2,H'3FFFFFF
26281                            8334     ;;      MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W,_PVP_MONALM_A01,W,R1,R2,R3;
26282                            8335     ;;      MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W,_PVP_MONALM_A02,W,R1,R2,R3;
26283                            8336     
26284                            8337             SUB_END
26285                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26286 000054C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   360
PROGRAM NAME =

26287                            8338             M_RTS
26288 000054C4 000B                   M           RTS                             ;RTSの後ろの
26289 000054C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26290                            8339     
26291                            8340     
26292                            8341     
26293                            8342     ;       ****************************
26294                            8343     ;       ***                     ****
26295                            8344     ;       ****************************
26296                            8345     
26297                            8346             .IMPORT _PVP_MONALM_C01
26298                            8347             .IMPORT _PVP_MONALM_C02
26299                            8348             .IMPORT _PVP_MONALM_C03
26300                            8349             .IMPORT _PVP_MONALM_C04
26301                            8350             .IMPORT _PVP_MONALM_C05
26302                            8351             .IMPORT _PVP_MONALM_C06
26303                            8352             .IMPORT _PVP_MONALM_C07
26304                            8353             .IMPORT _PVP_MONALM_C08
26305                            8354             .IMPORT _PVP_MONALM_A01
26306                            8355             .IMPORT _PVP_MONALM_A02
26307                            8356             .IMPORT _PVP_MONALM_A03
26308                            8357             .IMPORT _PVP_MONALM_A04
26309                            8358             .IMPORT _PVP_MONALM_A05
26310                            8359             .IMPORT _PVP_MONALM_A06
26311                            8360             .IMPORT _PVP_MONALM_A07
26312                            8361             .IMPORT _PVP_MONALM_A08
26313                            8362             .IMPORT _PVP_MONALM_B01
26314                            8363             .IMPORT _PVP_MONALM_B02
26315                            8364             .IMPORT _PVP_MONALM_B03
26316                            8365             .IMPORT _PVP_MONALM_B04
26317                            8366             .IMPORT _PVP_MONALM_B05
26318                            8367             .IMPORT _PVP_MONALM_B06
26319                            8368             .IMPORT _PVP_MONALM_B07
26320                            8369             .IMPORT _PVP_MONALM_B08
26321                            8370     
26322                            8371             .IMPORT _PVP_MONALM_P01
26323                            8372             .IMPORT _PVP_MONALM_P02
26324                            8373             .IMPORT _PVP_MONALM_P03
26325                            8374             .IMPORT _PVP_MONALM_P04
26326                            8375     
26327                            8376     ;       ***********************************
26328                            8377     ;       ***     NO.15 ERR情報           ***
26329                            8378     ;       ***********************************
26330                            8379     ;;;;;;;;;;;;;;;;;;;
26331                            8380     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI
26332                            8381     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI2
26333                            8382     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26334                            8383     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI:
26335                            8384     ;;;;;;;;;;;;;;;;;;;     SUB_START
26336                            8385     ;;;;;;;;;;;;;;;;;;;
26337                            8386     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26338                            8387     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_INF1,W         ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26339                            8388     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222
26340                            8389     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_RETRY_CNT1,W        ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   361
PROGRAM NAME =

26341                            8390     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_RETRY_CNT1,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ
26342                            8391     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_RETRY_CNT1,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;二重回路のﾘﾄﾗｲ
26343                            8392     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT1,L           ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;ﾘｾｯﾄｺﾏﾝﾄﾞ MISS
26344                            8393     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT2,L           ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;-500ﾊﾟﾙｽ
26345                            8394     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT3,L           ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;+500ﾊﾟﾙｽ
26346                            8395     ;;;;;;;;;;;;;;;;;;;
26347                            8396     ;;;;;;;;;;;;;;;;;;;
26348                            8397     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26349                            8398     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSRD_NG_CNT1,W            ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3       ;
26350                            8399     ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26351                            8400     ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02         ,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
26352                            8401     ;;;;;;;;;;;;;;;;;;;
26353                            8402     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT2,L           ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗　TOTAL
26354                            8403     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT1,L           ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ失敗 TOTAL
26355                            8404     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_NG_CNT1,W           ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;二重回路 TOTAL
26356                            8405     ;;;;;;;;;;;;;;;;;;;
26357                            8406     ;;;;;;;;;;;;;;;;;;;
26358                            8407     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_AC_CNT1,L           ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;起動正常回数
26359                            8408     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT2,L           ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;残り演算正常回数
26360                            8409     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_AC_CNT1,W           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;回路正常回数
26361                            8410     ;;;;;;;;;;;;;;;;;;;;;   MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT1,L           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;(NO/USE)
26362                            8411     ;;;;;;;;;;;;;;;;;;;
26363                            8412     ;;;;;;;;;;;;;;;;;;;
26364                            8413     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26365                            8414     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_LNGH_ADD_SR,L              ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26366                            8415     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_LNGH_ADD_SR,L              ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26367                            8416     ;;;;;;;;;;;;;;;;;;;
26368                            8417     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_SR,L              ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26369                            8418     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_SR,L              ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26370                            8419     ;;;;;;;;;;;;;;;;;;;
26371                            8420     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_RL,L              ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26372                            8421     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_RL,L              ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26373                            8422     ;;;;;;;;;;;;;;;;;;;
26374                            8423     ;;;;;;;;;;;;;;;;;;;
26375                            8424     ;;;;;;;;;;;;;;;;;;;;040304
26376                            8425     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POS_RL,L          ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,ABS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   362
PROGRAM NAME =

26377                            8426     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POSMAX,L          ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,+側だけ
26378                            8427     ;;;;;;;;;;;;;;;;;;;
26379                            8428     ;;;;;;;;;;;;;;;;;;;
26380                            8429     ;;;;;;;;;;;;;;;;;;;
26381                            8430     ;;;;;;;;;;;;;;;;;;;     SUB_END
26382                            8431     ;;;;;;;;;;;;;;;;;;;     M_RTS
26383                            8432     
26384                            8433     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26385                            8434     ;;;;;;;;;;;;;;;;;;;;    ***     NO.16 ERR情報           ***
26386                            8435     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26387                            8436     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26388                            8437     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI2:
26389                            8438     ;;;;;;;;;;;;;;;;;;;     SUB_START
26390                            8439     ;;;;;;;;;;;;;;;;;;;
26391                            8440     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R1         ;
26392                            8441     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   @R1,R0                                          ;
26393                            8442     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_POS_CTRL_WORD_DAT,R1                          ;
26394                            8443     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   R0,@R1                                          ;
26395                            8444     ;;;;;;;;;;;;;;;;;;;
26396                            8445     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26397                            8446     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26398                            8447     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF2,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222(詳細)
26399                            8448     ;;;;;;;;;;;;;;;;;;;
26400                            8449     ;;;;;;;;;;;;;;;;;;;;;;  MEM_MOV_TO_MEM  _POS_CTRL_WORD_DAT,W            ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26401                            8450     ;;;;;;;;;;;;;;;;;;;
26402                            8451     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_ACC_TOTAL_NG_CNT,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26403                            8452     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_BAS_TOTAL_NG_CNT,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26404                            8453     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_TOP_TOTAL_NG_CNT,W        ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26405                            8454     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_NOW_TOTAL_NG_CNT,W        ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26406                            8455     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_LAT_TOTAL_NG_CNT,W        ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26407                            8456     ;;;;;;;;;;;;;;;;;;;
26408                            8457     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26409                            8458     ;;;;;;;;;;;;;;;;;;;
26410                            8459     ;;;;;;;;;;;;;;;;;;;
26411                            8460     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_ACCS,W                ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26412                            8461     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_ACCS,W                ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26413                            8462     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_LATE,W                ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26414                            8463     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_LATE,W                ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26415                            8464     ;;;;;;;;;;;;;;;;;;;
26416                            8465     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26417                            8466     ;;;;;;;;;;;;;;;;;;;
26418                            8467     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_BAS_FRQ_SV,L               ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26419                            8468     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_BAS_FRQ_SV,L               ,_PVP_MONALM_C02,L
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   363
PROGRAM NAME =

                                          ,R1,R2,R3;
26420                            8469     ;;;;;;;;;;;;;;;;;;;
26421                            8470     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_TOP_FRQ_SV,L               ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26422                            8471     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_TOP_FRQ_SV,L               ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26423                            8472     ;;;;;;;;;;;;;;;;;;;
26424                            8473     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_FRQ_PV,L               ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26425                            8474     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_FRQ_PV,L               ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26426                            8475     ;;;;;;;;;;;;;;;;;;;
26427                            8476     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_SV_SPD,L                  ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3;設定周波数(MEM)
26428                            8477     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_PLSI_MAX_FRQ,L            ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3;最大周波数
26429                            8478     ;;;;;;;;;;;;;;;;;;;
26430                            8479     ;;;;;;;;;;;;;;;;;;;
26431                            8480     ;;;;;;;;;;;;;;;;;;;
26432                            8481     ;;;;;;;;;;;;;;;;;;;     SUB_END
26433                            8482     ;;;;;;;;;;;;;;;;;;;     M_RTS
26434                            8483     ;;;;;;;;;;;;;;;;;;;
26435                            8484     ;;;;;;;;;;;;;;;;;;;
26436                            8485     ;;;;;;;;;;;;;;;;;;;
26437                            8486     ;       ***********************************
26438                            8487     ;       ***                             ***
26439                            8488     ;       ***     調査機能                ***
26440                            8489     ;       ***                             ***
26441                            8490     ;       ***********************************
26442                            8491     ;
26443                            8492     ;       === 2004-03-04===
26444                            8493     ;       EMG,EXQ
26445 000054C8                   8494             .ALIGN  4                               ;
26446 000054C8                   8495     _LSI_REST_PLS_CHK_STOP_CLR:
26447                            8496             SUB_START
26448 000054C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26449                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26450                            8497     
26451                            8498     
26452 000054CA 200A              8499             XOR     R0,R0
26453                            8500             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26454 000054CC D107                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26455 000054CE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26456                            8501     
26457                            8502             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26458 000054D0 D107                   M           MOV.L   #_SH2_LOT_CNT_A,R1      ;DST_ADR
26459 000054D2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26460                            8503             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26461 000054D4 D107                   M           MOV.L   #_SH2_LOT_STEP_A,R1     ;DST_ADR
26462 000054D6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26463                            8504             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26464 000054D8 D107                   M           MOV.L   #_SH2_REST_SR_HF,R1     ;DST_ADR
26465 000054DA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26466                            8505             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   364
PROGRAM NAME =

                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26467 000054DC D107                   M           MOV.L   #_SH2_REST_RL_HF,R1     ;DST_ADR
26468 000054DE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26469                            8506     
26470                            8507             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26471 000054E0 D107                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26472 000054E2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26473                            8508     
26474                            8509             SUB_END
26475                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26476 000054E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26477                            8510             M_RTS
26478 000054E6 000B                   M           RTS                             ;RTSの後ろの
26479 000054E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26480                            8511     
26481                            8512     ;       === 2004-03-04===
26482                                     ***** BEGIN-POOL *****
26483 000054EA 0000                       ALIGNMENT CODE
26484 000054EC 00000000                   DATA FOR SOURCE-LINE 8500
26485 000054F0 00000000                   DATA FOR SOURCE-LINE 8502
26486 000054F4 00000000                   DATA FOR SOURCE-LINE 8503
26487 000054F8 00000000                   DATA FOR SOURCE-LINE 8504
26488 000054FC 00000000                   DATA FOR SOURCE-LINE 8505
26489 00005500 00000000                   DATA FOR SOURCE-LINE 8507
26490                                     ***** END-POOL *****
26491 00005504                   8513             .ALIGN  4                               ;
26492 00005504                   8514     _LSI_REST_PLS_CHK_START_CLR:
26493                            8515             SUB_START
26494 00005504 4F22                   M           STS.L   PR,@-R15                ;[必要]
26495                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26496                            8516     
26497 00005506 200A              8517             XOR     R0,R0
26498                            8518             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_AC_CNT1     ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          回路正常回数
26499 00005508 D12F                   M           MOV.L   #_LSI_PLSCMP_AC_CNT1,R1 ;DST_ADR
26500 0000550A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26501                            8519             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSSET_AC_CNT2     ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残り演算正常回数
26502 0000550C D12F                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1 ;DST_ADR
26503 0000550E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26504                            8520     
26505                            8521             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POS_RL    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差,+/-
26506 00005510 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POS_RL,R1        ;DST_ADR
26507 00005512 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26508                            8522             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POSMAX    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差 MAX
26509 00005514 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POSMAX,R1        ;DST_ADR
26510 00005516 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26511                            8523     
26512                            8524     ;       ==== 上は表示を見やすくするため１サイクルデータにする====
26513                            8525     
26514 00005518 200A              8526             XOR     R0,R0
26515                            8527             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26516 0000551A D12F                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26517 0000551C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   365
PROGRAM NAME =

26518                            8528     
26519 0000551E 200A              8529             XOR     R0,R0
26520                            8530             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26521 00005520 D12E                   M           MOV.L   #_SH2_LOT_CNT_A,R1      ;DST_ADR
26522 00005522 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26523                            8531             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26524 00005524 D12E                   M           MOV.L   #_SH2_LOT_STEP_A,R1     ;DST_ADR
26525 00005526 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26526                            8532             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26527 00005528 D12E                   M           MOV.L   #_SH2_REST_SR_HF,R1     ;DST_ADR
26528 0000552A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26529                            8533             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26530 0000552C D12E                   M           MOV.L   #_SH2_REST_RL_HF,R1     ;DST_ADR
26531 0000552E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26532                            8534     
26533                            8535             REG_MOV_TO_MEM  DST_ADR=_SH2_LNGH_ADD_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時移動量
26534 00005530 D12E                   M           MOV.L   #_SH2_LNGH_ADD_SR,R1    ;DST_ADR
26535 00005532 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26536                            8536             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_PLS_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時残ﾊﾟﾙｽ
26537 00005534 D12E                   M           MOV.L   #_SH2_REST_PLS_SR,R1    ;DST_ADR
26538 00005536 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26539                            8537             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_PLS_RL        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 REAL-TIME残ﾊﾟﾙｽ
26540 00005538 D12E                   M           MOV.L   #_SH2_REST_PLS_RL,R1    ;DST_ADR
26541 0000553A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26542                            8538     
26543 0000553C 200A              8539             XOR     R0,R0
26544                            8540             REG_MOV_TO_MEM  DST_ADR=_CMP2_BAS_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26545 0000553E D12E                   M           MOV.L   #_CMP2_BAS_NG_CNT,R1    ;DST_ADR
26546 00005540 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26547                            8541             REG_MOV_TO_MEM  DST_ADR=_CMP2_TOP_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26548 00005542 D12E                   M           MOV.L   #_CMP2_TOP_NG_CNT,R1    ;DST_ADR
26549 00005544 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26550                            8542             REG_MOV_TO_MEM  DST_ADR=_CMP2_LAT_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26551 00005546 D12E                   M           MOV.L   #_CMP2_LAT_NG_CNT,R1    ;DST_ADR
26552 00005548 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26553                            8543             REG_MOV_TO_MEM  DST_ADR=_CMP2_ACC_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26554 0000554A D12E                   M           MOV.L   #_CMP2_ACC_NG_CNT,R1    ;DST_ADR
26555 0000554C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26556                            8544             REG_MOV_TO_MEM  DST_ADR=_CMP2_NOW_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26557 0000554E D12E                   M           MOV.L   #_CMP2_NOW_NG_CNT,R1    ;DST_ADR
26558 00005550 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26559                            8545     
26560                            8546     
26561                            8547             FAR_JSR #_CNT_REST_CHK_CLR,R0           ;
26562 00005552 D02E                   M           MOV.L   #_CNT_REST_CHK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26563 00005554 400B                   M           JSR     @R0                     ;
26564 00005556 0009                   M           NOP                                     ;
26565                            8548     
26566                            8549     ;       ======= 連続のチェック ======
26567 00005558 200A              8550             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   366
PROGRAM NAME =

26568                            8551             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26569 0000555A D12D                   M           MOV.L   #_SH2_STEP1_SV_PLS,R1   ;DST_ADR
26570 0000555C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26571                            8552             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26572 0000555E D12D                   M           MOV.L   #_SH2_STEP2_SV_PLS,R1   ;DST_ADR
26573 00005560 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26574                            8553             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26575 00005562 D12D                   M           MOV.L   #_SH2_STEP3_SV_PLS,R1   ;DST_ADR
26576 00005564 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26577                            8554             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26578 00005566 D12D                   M           MOV.L   #_SH2_STEP4_SV_PLS,R1   ;DST_ADR
26579 00005568 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26580                            8555             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26581 0000556A D12D                   M           MOV.L   #_SH2_STEP5_SV_PLS,R1   ;DST_ADR
26582 0000556C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26583                            8556             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          1->2の演算前の残り)
26584 0000556E D12D                   M           MOV.L   #_SH2_STEP1_REST_P,R1   ;DST_ADR
26585 00005570 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26586                            8557             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          2->3)
26587 00005572 D12D                   M           MOV.L   #_SH2_STEP2_REST_P,R1   ;DST_ADR
26588 00005574 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26589                            8558             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26590 00005576 D12D                   M           MOV.L   #_SH2_STEP3_REST_P,R1   ;DST_ADR
26591 00005578 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26592                            8559             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26593 0000557A D12D                   M           MOV.L   #_SH2_STEP4_REST_P,R1   ;DST_ADR
26594 0000557C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26595                            8560             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26596 0000557E D12D                   M           MOV.L   #_SH2_STEP5_REST_P,R1   ;DST_ADR
26597 00005580 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26598                            8561             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26599 00005582 D12D                   M           MOV.L   #_SH2_STEP1_PV_PLS,R1   ;DST_ADR
26600 00005584 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26601                            8562             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26602 00005586 D12D                   M           MOV.L   #_SH2_STEP2_PV_PLS,R1   ;DST_ADR
26603 00005588 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26604                            8563             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26605 0000558A D12D                   M           MOV.L   #_SH2_STEP3_PV_PLS,R1   ;DST_ADR
26606 0000558C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26607                            8564             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26608 0000558E D12D                   M           MOV.L   #_SH2_STEP4_PV_PLS,R1   ;DST_ADR
26609 00005590 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26610                            8565             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26611 00005592 D12D                   M           MOV.L   #_SH2_STEP5_PV_PLS,R1   ;DST_ADR
26612 00005594 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26613                            8566             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26614 00005596 D12D                   M           MOV.L   #_SH2_STEP1_FRQ,R1      ;DST_ADR
26615 00005598 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26616                            8567             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26617 0000559A D12D                   M           MOV.L   #_SH2_STEP2_FRQ,R1      ;DST_ADR
26618 0000559C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26619                            8568             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   367
PROGRAM NAME =

26620 0000559E D12D                   M           MOV.L   #_SH2_STEP3_FRQ,R1      ;DST_ADR
26621 000055A0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26622                            8569             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26623 000055A2 D12D                   M           MOV.L   #_SH2_STEP4_FRQ,R1      ;DST_ADR
26624 000055A4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26625                            8570             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26626 000055A6 D12D                   M           MOV.L   #_SH2_STEP5_FRQ,R1      ;DST_ADR
26627 000055A8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26628                            8571             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26629 000055AA D12D                   M           MOV.L   #_SH2_STEP1_TIM,R1      ;DST_ADR
26630 000055AC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26631                            8572             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26632 000055AE D12D                   M           MOV.L   #_SH2_STEP2_TIM,R1      ;DST_ADR
26633 000055B0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26634                            8573             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26635 000055B2 D12D                   M           MOV.L   #_SH2_STEP3_TIM,R1      ;DST_ADR
26636 000055B4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26637                            8574             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26638 000055B6 D12D                   M           MOV.L   #_SH2_STEP4_TIM,R1      ;DST_ADR
26639 000055B8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26640                            8575             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26641 000055BA D12D                   M           MOV.L   #_SH2_STEP5_TIM,R1      ;DST_ADR
26642 000055BC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26643                            8576     
26644                            8577             REG_MOV_TO_MEM  DST_ADR=_CNT_GRF_POINT          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26645 000055BE D12D                   M           MOV.L   #_CNT_GRF_POINT,R1      ;DST_ADR
26646 000055C0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26647                            8578     
26648                            8579             SUB_END
26649                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26650 000055C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26651                            8580             M_RTS
26652 000055C4 000B                   M           RTS                             ;RTSの後ろの
26653 000055C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26654                            8581     
26655                            8582     ;       ***************************************************
26656                            8583     ;       ***                                             ***
26657                            8584     ;       ***             連続残りﾊﾟﾙｽ修正                ***
26658                            8585     ;       ***                                             ***
26659                            8586     ;       ***************************************************
26660                                     ***** BEGIN-POOL *****
26661 000055C8 00000000                   DATA FOR SOURCE-LINE 8518
26662 000055CC 00000000                   DATA FOR SOURCE-LINE 8519
26663 000055D0 00000000                   DATA FOR SOURCE-LINE 8521
26664 000055D4 00000000                   DATA FOR SOURCE-LINE 8522
26665 000055D8 00000000                   DATA FOR SOURCE-LINE 8527
26666 000055DC 00000000                   DATA FOR SOURCE-LINE 8530
26667 000055E0 00000000                   DATA FOR SOURCE-LINE 8531
26668 000055E4 00000000                   DATA FOR SOURCE-LINE 8532
26669 000055E8 00000000                   DATA FOR SOURCE-LINE 8533
26670 000055EC 00000000                   DATA FOR SOURCE-LINE 8535
26671 000055F0 00000000                   DATA FOR SOURCE-LINE 8536
26672 000055F4 00000000                   DATA FOR SOURCE-LINE 8537
26673 000055F8 00000000                   DATA FOR SOURCE-LINE 8540
26674 000055FC 00000000                   DATA FOR SOURCE-LINE 8541
26675 00005600 00000000                   DATA FOR SOURCE-LINE 8542
26676 00005604 00000000                   DATA FOR SOURCE-LINE 8543
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   368
PROGRAM NAME =

26677 00005608 00000000                   DATA FOR SOURCE-LINE 8544
26678 0000560C 00000000                   DATA FOR SOURCE-LINE 8547
26679 00005610 00000000                   DATA FOR SOURCE-LINE 8551
26680 00005614 00000000                   DATA FOR SOURCE-LINE 8552
26681 00005618 00000000                   DATA FOR SOURCE-LINE 8553
26682 0000561C 00000000                   DATA FOR SOURCE-LINE 8554
26683 00005620 00000000                   DATA FOR SOURCE-LINE 8555
26684 00005624 00000000                   DATA FOR SOURCE-LINE 8556
26685 00005628 00000000                   DATA FOR SOURCE-LINE 8557
26686 0000562C 00000000                   DATA FOR SOURCE-LINE 8558
26687 00005630 00000000                   DATA FOR SOURCE-LINE 8559
26688 00005634 00000000                   DATA FOR SOURCE-LINE 8560
26689 00005638 00000000                   DATA FOR SOURCE-LINE 8561
26690 0000563C 00000000                   DATA FOR SOURCE-LINE 8562
26691 00005640 00000000                   DATA FOR SOURCE-LINE 8563
26692 00005644 00000000                   DATA FOR SOURCE-LINE 8564
26693 00005648 00000000                   DATA FOR SOURCE-LINE 8565
26694 0000564C 00000000                   DATA FOR SOURCE-LINE 8566
26695 00005650 00000000                   DATA FOR SOURCE-LINE 8567
26696 00005654 00000000                   DATA FOR SOURCE-LINE 8568
26697 00005658 00000000                   DATA FOR SOURCE-LINE 8569
26698 0000565C 00000000                   DATA FOR SOURCE-LINE 8570
26699 00005660 00000000                   DATA FOR SOURCE-LINE 8571
26700 00005664 00000000                   DATA FOR SOURCE-LINE 8572
26701 00005668 00000000                   DATA FOR SOURCE-LINE 8573
26702 0000566C 00000000                   DATA FOR SOURCE-LINE 8574
26703 00005670 00000000                   DATA FOR SOURCE-LINE 8575
26704 00005674 00000000                   DATA FOR SOURCE-LINE 8577
26705                                     ***** END-POOL *****
26706 00005678                   8587             .ALIGN  4                               ;
26707 00005678                   8588     _CNT_REST_CHK_CLR:
26708                            8589             SUB_START
26709 00005678 4F22                   M           STS.L   PR,@-R15                ;[必要]
26710                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26711 0000567A 200A              8590             XOR     R0,R0
26712                            8591             REG_MOV_TO_MEM  DST_ADR=_SH2_CNT_REST_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26713 0000567C D10C                   M           MOV.L   #_SH2_CNT_REST_PLS,R1   ;DST_ADR
26714 0000567E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26715                            8592             REG_MOV_TO_MEM  DST_ADR=_SH2_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26716 00005680 D10C                   M           MOV.L   #_SH2_CNT_REST_HF,R1    ;DST_ADR
26717 00005682 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26718                            8593     
26719                            8594             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT1      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26720 00005684 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT1,R1  ;DST_ADR
26721 00005686 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26722                            8595             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT2      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26723 00005688 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT2,R1  ;DST_ADR
26724 0000568A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26725                            8596             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26726 0000568C D10C                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26727 0000568E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26728                            8597             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_CHK_CNT2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26729 00005690 D10C                   M           MOV.L   #_CNT_SYNC_CHK_CNT2,R1  ;DST_ADR
26730 00005692 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26731                            8598     
26732                            8599             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_STS_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26733 00005694 D10C                   M           MOV.L   #_CNT_SYNC_STS_FLG,R1   ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   369
PROGRAM NAME =

26734 00005696 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26735                            8600             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_ERR_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26736 00005698 D10C                   M           MOV.L   #_CNT_SYNC_ERR_FLG,R1   ;DST_ADR
26737 0000569A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26738                            8601             REG_MOV_TO_MEM  DST_ADR=_CNT_PLSOUT_STOP_CNT    ,L1=W,DT_REG=R0,WKREG1=R1       ;
26739 0000569C D10C                   M           MOV.L   #_CNT_PLSOUT_STOP_CNT,R1        ;DST_ADR
26740 0000569E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26741                            8602             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_CNT1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26742 000056A0 D10C                   M           MOV.L   #_CNT_SYNC_HOS_CNT1,R1  ;DST_ADR
26743 000056A2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26744                            8603             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26745 000056A4 D10C                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26746 000056A6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26747                            8604     
26748                            8605     
26749                            8606     
26750                            8607             SUB_END
26751                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26752 000056A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26753                            8608             M_RTS
26754 000056AA 000B                   M           RTS                             ;RTSの後ろの
26755 000056AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26756                            8609     
26757                            8610     
26758                            8611     
26759                            8612     
26760                            8613             .EXPORT _EXQ_STOP_LEV_POS_CLR           ;
26761                                     ***** BEGIN-POOL *****
26762 000056AE 0000                       ALIGNMENT CODE
26763 000056B0 00000000                   DATA FOR SOURCE-LINE 8591
26764 000056B4 00000000                   DATA FOR SOURCE-LINE 8592
26765 000056B8 00000000                   DATA FOR SOURCE-LINE 8594
26766 000056BC 00000000                   DATA FOR SOURCE-LINE 8595
26767 000056C0 00000000                   DATA FOR SOURCE-LINE 8596
26768 000056C4 00000000                   DATA FOR SOURCE-LINE 8597
26769 000056C8 00000000                   DATA FOR SOURCE-LINE 8599
26770 000056CC 00000000                   DATA FOR SOURCE-LINE 8600
26771 000056D0 00000000                   DATA FOR SOURCE-LINE 8601
26772 000056D4 00000000                   DATA FOR SOURCE-LINE 8602
26773 000056D8 00000000                   DATA FOR SOURCE-LINE 8603
26774                                     ***** END-POOL *****
26775 000056DC                   8614             .ALIGN  4                               ;
26776 000056DC                   8615     _EXQ_STOP_LEV_POS_CLR:
26777                            8616             SUB_START
26778 000056DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26779                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26780 000056DE 200A              8617             XOR     R0,R0
26781                            8618             REG_MOV_TO_MEM  DST_ADR=_SH2_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26782 000056E0 D104                   M           MOV.L   #_SH2_CNT_REST_HF,R1    ;DST_ADR
26783 000056E2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26784                            8619             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26785 000056E4 D104                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26786 000056E6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26787                            8620     
26788                            8621     ;       ===== 2005-04-14-E(4/18) ===
26789                            8622             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   370
PROGRAM NAME =

26790 000056E8 D004                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26791 000056EA 400B                   M           JSR     @R0                     ;
26792 000056EC 0009                   M           NOP                                     ;
26793                            8623     
26794                            8624             SUB_END
26795                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26796 000056EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26797                            8625             M_RTS
26798 000056F0 000B                   M           RTS                             ;RTSの後ろの
26799 000056F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26800                            8626     
26801                            8627     ;       ***********************************
26802                            8628     ;       ***                             ***
26803                            8629     ;       ***     連続時の補正ﾃﾞｰﾀ        ***
26804                            8630     ;       ***     (CPU-Bのみ)             ***
26805                            8631     ;       ***********************************
26806                                     ***** BEGIN-POOL *****
26807 000056F4 00000000                   DATA FOR SOURCE-LINE 8618
26808 000056F8 00000000                   DATA FOR SOURCE-LINE 8619
26809 000056FC 00000000                   DATA FOR SOURCE-LINE 8622
26810                                     ***** END-POOL *****
26811 00005700                   8632             .ALIGN  4                               ;
26812 00005700                   8633     _CNT_HOS_DT_MAK:
26813                            8634             SUB_START
26814 00005700 4F22                   M           STS.L   PR,@-R15                ;[必要]
26815                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26816                            8635     ;       CCSのみCALL
26817                            8636             SUB_END
26818                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26819 00005702 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26820                            8637             M_RTS
26821 00005704 000B                   M           RTS                             ;RTSの後ろの
26822 00005706 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26823                            8638     
26824                            8639     
26825                            8640     ;       ***************************
26826                            8641     ;       ***     修正機能        ***
26827                            8642     ;       ***************************
26828 00005708                   8643             .ALIGN  4                               ;
26829 00005708                   8644     _CNT_SYNC_HOS_CALC
26830                            8645             SUB_START
26831 00005708 4F22                   M           STS.L   PR,@-R15                ;[必要]
26832                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26833                            8646     ;       CCSのみCALL
26834                            8647             SUB_END
26835                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26836 0000570A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26837                            8648             M_RTS
26838 0000570C 000B                   M           RTS                             ;RTSの後ろの
26839 0000570E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26840                            8649     
26841                            8650     
26842                            8651     
26843                            8652     
26844                            8653     ;       ***************************************************
26845                            8654     ;       ***                                             ***
26846                            8655     ;       ***     回転・連続・ALLVﾓｰﾄﾞ時の減速補正        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   371
PROGRAM NAME =

26847                            8656     ;       ***                                             ***
26848                            8657     ;       ***************************************************
26849                            8658     
26850                            8659     ;       ***************************************************
26851                            8660     ;       ***     急停止・異常時                          ***
26852                            8661     ;       ***************************************************
26853                            8662             .EXPORT _GPOSIN_HOS_RESET
26854 00005710                   8663             .ALIGN  4                               ;
26855 00005710                   8664     _GPOSIN_HOS_RESET:
26856                            8665             SUB_START
26857 00005710 4F22                   M           STS.L   PR,@-R15                ;[必要]
26858                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26859                            8666             SUB_END
26860                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26861 00005712 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26862                            8667             M_RTS
26863 00005714 000B                   M           RTS                             ;RTSの後ろの
26864 00005716 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26865                            8668     
26866                            8669     ;       ***************************************************
26867                            8670     ;       ***     運転開始時                              ***
26868                            8671     ;       ***************************************************
26869 00005718                   8672             .ALIGN  4                               ;
26870 00005718                   8673     _GPOSIN_HOS_DRV_INI:
26871                            8674             SUB_START
26872 00005718 4F22                   M           STS.L   PR,@-R15                ;[必要]
26873                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26874                            8675             SUB_END
26875                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26876 0000571A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26877                            8676             M_RTS
26878 0000571C 000B                   M           RTS                             ;RTSの後ろの
26879 0000571E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26880                            8677     
26881                            8678     
26882                            8679     ;       ***********************************
26883                            8680     ;       ***     演算                    ***
26884                            8681     ;       ***********************************
26885                            8682     ;       (1)減速距離+5を基準値とする
26886                            8683     ;       (2)+1/-1以内になるまで補正する
26887                            8684     ;       (3)記憶値から100ﾊﾟﾙｽ以上離れたら再度記憶しなおす
26888 00005720                   8685             .ALIGN  4                               ;
26889 00005720                   8686     _GPOINT_HOS_CALC:
26890                            8687             SUB_START
26891 00005720 4F22                   M           STS.L   PR,@-R15                ;[必要]
26892                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26893                            8688             SUB_END
26894                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26895 00005722 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26896                            8689             M_RTS
26897 00005724 000B                   M           RTS                             ;RTSの後ろの
26898 00005726 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26899                            8690     
26900                            8691     
26901                            8692     
26902                            8693     
26903                            8694     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   372
PROGRAM NAME =

26904                            8695     
26905                            8696             .EXPORT _DEBUG_SIGNAL_OFF
26906 00005728                   8697             .ALIGN  4                               ;
26907 00005728                   8698     _DEBUG_SIGNAL_OFF:
26908                            8699             SUB_START
26909 00005728 4F22                   M           STS.L   PR,@-R15                ;[必要]
26910                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26911                            8700             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT2                ;VERIFAY ERR(OFFない)
26912                                 M   
26913                                 M           .AIF    1 EQ    0
26914                                     ;;      (波形測定時)
26915                                             PUSH_REG1 R0
26916                                             PUSH_REG1 R1
26917                                             PUSH_REG1 R2
26918                                             MOV.L   #_PDTRA,R1                      ;
26919                                             MOV.W   @R1,R0                          ;
26920                                             MOV.W   #LWORD ~BIT2,R2         ;
26921                                             AND     R2,R0                           ;
26922                                             MOV.W   R0,@R1                          ;
26923                                             POP_REG1 R2
26924                                             POP_REG1 R1
26925                                             POP_REG1 R0
26926                                             .AENDI
26927                                 M   
26928                            8701             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT6                ;RETRY ERR
26929                                 M   
26930                                 M           .AIF    1 EQ    0
26931                                     ;;      (波形測定時)
26932                                             PUSH_REG1 R0
26933                                             PUSH_REG1 R1
26934                                             PUSH_REG1 R2
26935                                             MOV.L   #_PDTRA,R1                      ;
26936                                             MOV.W   @R1,R0                          ;
26937                                             MOV.W   #LWORD ~BIT6,R2         ;
26938                                             AND     R2,R0                           ;
26939                                             MOV.W   R0,@R1                          ;
26940                                             POP_REG1 R2
26941                                             POP_REG1 R1
26942                                             POP_REG1 R0
26943                                             .AENDI
26944                                 M   
26945                            8702             SUB_END
26946                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26947 0000572A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26948                            8703             M_RTS
26949 0000572C 000B                   M           RTS                             ;RTSの後ろの
26950 0000572E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26951                            8704     
26952                            8705     ;       ***************************************************************************
26953                            8706     ;       ***                                                                     ***
26954                            8707     ;       ***     工程を自分が切り替えた時点の自分のデータと相手のデータを収集    ***
26955                            8708     ;       ***     モニタ専用                                                      ***
26956                            8709     ;       ***************************************************************************
26957          000000C8          8710     _CNT_GRF_MAX            .EQU    200     ;MAX 500
26958                            8711     
26959          00000040          8712     _CNT_GRF_1BLOCK         .EQU    64              ;64byte
26960          00000000          8713     _CGRF_iSTEP_SV_PLS              .EQU    0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   373
PROGRAM NAME =

26961          00000004          8714     _CGRF_iSTEP_PV_PLS              .EQU    4
26962          00000008          8715     _CGRF_iSTEP_REST                .EQU    8
26963          0000000C          8716     _CGRF_iTOTAL_PLS                .EQU    12
26964          00000010          8717     _CGRF_iADD_PLS                  .EQU    16
26965          00000014          8718     _CGRF_GENSOK_LNG1               .EQU    20
26966          00000018          8719     _CGRF_iSTEP_FRQ                 .EQU    24
26967          0000001A          8720     _CGRF_iSTEP_TIM                 .EQU    26
26968          0000001C          8721     _CGRF_iNOW_STEP                 .EQU    28
26969          0000001E          8722     _CGRF_SYNC_STS                  .EQU    30
26970          00000020          8723     _CGRF_SYNC_ERR                  .EQU    32
26971                            8724     
26972          00000024          8725     _CGRF_ySTEP_SV_PLS              .EQU    36
26973          00000028          8726     _CGRF_ySTEP_PV_PLS              .EQU    40
26974          0000002C          8727     _CGRF_ySTEP_REST                .EQU    44
26975          00000030          8728     _CGRF_yTOTAL_PLS                .EQU    48
26976          00000034          8729     _CGRF_yADD_PLS                  .EQU    52
26977          00000038          8730     _CGRF_ySTEP_FRQ                 .EQU    56
26978          0000003C          8731     _CGRF_ySTEP_TIM                 .EQU    60
26979          0000003E          8732     _CGRF_yNOW_STEP                 .EQU    62
26980                            8733     
26981                            8734     
26982                            8735             .MACRO  MEM_MOV2B_GBR   MEM,GBROFS,WKREG1
26983                            8736             MOV.L   #\MEM,\WKREG1           ;
26984                            8737             MOV.W   @\WKREG1,R0             ;
26985                            8738             MOV.W   R0,@(\GBROFS,GBR)       ;
26986                            8739             .ENDM
26987                            8740     
26988                            8741             .MACRO  MEM_MOV4B_GBR   MEM,GBROFS,WKREG1
26989                            8742             MOV.L   #\MEM,\WKREG1           ;
26990                            8743             MOV.W   @\WKREG1+,R0            ;
26991                            8744             MOV.W   R0,@(\GBROFS,GBR)       ;
26992                            8745             MOV.W   @\WKREG1,R0             ;
26993                            8746             MOV.W   R0,@(\GBROFS+2,GBR)     ;
26994                            8747             .ENDM
26995                            8748     
26996                            8749             .MACRO  GBR_MOV2B_MEM   MEM,GBROFS,WKREG1
26997                            8750             MOV.W   @(\GBROFS,GBR),R0       ;
26998                            8751             MOV.L   #\MEM,\WKREG1           ;
26999                            8752             MOV.W   R0,@\WKREG1             ;
27000                            8753             .ENDM
27001                            8754     
27002                            8755             .MACRO  GBR_MOV4B_MEM   MEM,GBROFS,WKREG1
27003                            8756             MOV.W   @(\GBROFS,GBR),R0       ;
27004                            8757             MOV.L   #\MEM,\WKREG1           ;
27005                            8758             MOV.W   R0,@\WKREG1             ;
27006                            8759             MOV.W   @(\GBROFS+2,GBR),R0     ;
27007                            8760             ADD     #2,\WKREG1              ;
27008                            8761             MOV.W   R0,@\WKREG1             ;
27009                            8762             .ENDM
27010                            8763             .MACRO  GBR_MOV4B_MEM_ALMT      MEM,GBROFS,WKREG1,WKREG2
27011                            8764             MOV.W   @(\GBROFS,GBR),R0       ;
27012                            8765             MOV.W   #H'3FF,\WKREG2          ;
27013                            8766             AND     \WKREG2,R0              ;
27014                            8767     
27015                            8768             MOV.L   #\MEM,\WKREG1           ;
27016                            8769             MOV.W   R0,@\WKREG1             ;
27017                            8770             MOV.W   @(\GBROFS+2,GBR),R0     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   374
PROGRAM NAME =

27018                            8771             ADD     #2,\WKREG1              ;
27019                            8772             MOV.W   R0,@\WKREG1             ;
27020                            8773             .ENDM
27021                            8774     
27022                            8775     ;       ===== EMG にも呼ばれる======
27023                            8776             .EXPORT _DATA_GRF_CNT_DATA_MAKE
27024 00005730                   8777             .ALIGN  4                               ;
27025 00005730                   8778     _DATA_GRF_CNT_DATA_MAKE:
27026                            8779             SUB_START
27027 00005730 4F22                   M           STS.L   PR,@-R15                ;[必要]
27028                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27029                            8780             SUB_END
27030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27031 00005732 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27032                            8781             M_RTS
27033 00005734 000B                   M           RTS                             ;RTSの後ろの
27034 00005736 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27035                            8782     
27036                            8783     
27037                            8784             .INCLUDE "ssa_disp.inc"         ;ﾃﾞﾊﾞｯｸﾓﾆﾀ
27038                               1 I1  ;       *******************************************
27039                               2 I1  ;       ***                                     ***
27040                               3 I1  ;       ***                                     ***
27041                               4 I1  ;       ***                                     ***
27042                               5 I1  ;       ***                                     ***
27043                               6 I1  ;       ***                                     ***
27044                               7 I1  ;       ***                                     ***
27045                               8 I1  ;       *******************************************
27046                               9 I1  ;       debug-monitor
27047                              10 I1  ;       ***********************************
27048                              11 I1  ;       ***     表示機能                ***
27049                              12 I1  ;       ***********************************
27050                              13 I1          .EXPORT _MONI_CNT_NOW_INFO_DISP         ;17
27051                              14 I1          .EXPORT _MONI_CNT_HIST_INFO_DISP        ;18
27052                              15 I1  ;       ***********************************
27053                              16 I1  ;       ***     現在値モニタ            ***
27054                              17 I1  ;       ***********************************
27055                              18 I1  ;       ***********************************
27056                              19 I1  ;       ***     NO.17                   ***
27057                              20 I1  ;       ***********************************
27058                              21 I1  
27059                              22 I1  ;       Inout R2 S02 (頁)
27060                              23 I1  ;       Input R3 S03 (詳細)
27061                              24 I1  ;
27062 00005738                     25 I1  _MONI_CNT_NOW_INFO_DISP
27063                              26 I1          SUB_START
27064 00005738 4F22                   M           STS.L   PR,@-R15                ;[必要]
27065                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27066                              27 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R3,R0                           ;
27067                              28 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #00,R0                          ;
27068                              29 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_010       ;
27069                              30 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP1,R0     ;17-00
27070                              31 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27071                              32 I1  ;;;;;;;;;;;;;;;;;;;
27072                              33 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_010                    ;
27073                              34 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #01,R0                          ;
27074                              35 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_020
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   375
PROGRAM NAME =

27075                              36 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP2,R0     ;17-1
27076                              37 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27077                              38 I1  ;;;;;;;;;;;;;;;;;;;
27078                              39 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_020                    ;
27079                              40 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #02,R0                          ;
27080                              41 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_030
27081                              42 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP3,R0     ;17-2
27082                              43 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27083                              44 I1  ;;;;;;;;;;;;;;;;;;;
27084                              45 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_030
27085                              46 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP4,R0     ;17-3
27086                              47 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_EXT                    ;
27087                              48 I1  
27088                              49 I1          SUB_END
27089                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27090 0000573A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27091                              50 I1          M_RTS
27092 0000573C 000B                   M           RTS                             ;RTSの後ろの
27093 0000573E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27094                              51 I1  
27095                              52 I1  ;       ***********************************
27096                              53 I1  ;       ***                             ***
27097                              54 I1  ;       ***     現在値モニタ            ***
27098                              55 I1  ;       ***     17-0-0-1/2              ***
27099                              56 I1  ;       ***                             ***
27100                              57 I1  ;       ***********************************
27101                              58 I1  ;       ====== 17-0 =====
27102 00005740                     59 I1  _MONI_CNT_NOW_INFO_DSP1
27103                              60 I1          SUB_START
27104 00005740 4F22                   M           STS.L   PR,@-R15                ;[必要]
27105                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27106                              61 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_POWER_ON_CNT,L1=W,DST=_PVP_MONALM_
                                          P01,L2=W
27107                              62 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_CB_STS_POINT,L1=W,DST=_PVP_MONALM_
                                          P02,L2=W
27108                              63 I1  ;;;;;;;;;;;;;;;;;;;
27109                              64 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08(同じことを確認) =======
27110                              65 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27111                              66 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_FRQ          ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27112                              67 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_FRQ          ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27113                              68 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_FRQ          ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27114                              69 I1  ;;;;;;;;;;;;;;;;;;;
27115                              70 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27116                              71 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_FRQ          ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27117                              72 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_FRQ          ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
27118                              73 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_FRQ          ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
27119                              74 I1  ;;;;;;;;;;;;;;;;;;;
27120                              75 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   376
PROGRAM NAME =

27121                              76 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_TIM          ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27122                              77 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_TIM          ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27123                              78 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_TIM          ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27124                              79 I1  ;;;;;;;;;;;;;;;;;;;
27125                              80 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27126                              81 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_TIM          ,W      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27127                              82 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_TIM          ,W      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27128                              83 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_TIM          ,W      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27129                              84 I1  ;;;;;;;;;;;;;;;;;;;
27130                              85 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
27131                              86 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
27132                              87 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
27133                              88 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
27134                              89 I1  ;;;;;;;;;;;;;;;;;;;
27135                              90 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27136                              91 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27137                              92 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27138                              93 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27139                              94 I1  
27140                              95 I1  
27141                              96 I1          SUB_END
27142                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27143 00005742 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27144                              97 I1          M_RTS
27145 00005744 000B                   M           RTS                             ;RTSの後ろの
27146 00005746 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27147                              98 I1  
27148                              99 I1  ;       ***********************************
27149                             100 I1  ;       ***                             ***
27150                             101 I1  ;       ***     現在値モニタ            ***
27151                             102 I1  ;       ***     17-0-1-1/2              ***
27152                             103 I1  ;       ***                             ***
27153                             104 I1  ;       ***********************************
27154                             105 I1  ;       ====== 17-1 =====
27155 00005748                    106 I1  _MONI_CNT_NOW_INFO_DSP2
27156                             107 I1          SUB_START
27157 00005748 4F22                   M           STS.L   PR,@-R15                ;[必要]
27158                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27159                             108 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
27160                             109 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27161                             110 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A02,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   377
PROGRAM NAME =

                                          ,R1,R2,R3;
27162                             111 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27163                             112 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27164                             113 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27165                             114 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27166                             115 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
27167                             116 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
27168                             117 I1  ;;;;;;;;;;;;;;;;;;;
27169                             118 I1  ;;;;;;;;;;;;;;;;;;;
27170                             119 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27171                             120 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27172                             121 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_FLAG      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27173                             122 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27174                             123 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27175                             124 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27176                             125 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27177                             126 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27178                             127 I1  ;;;;;;;;;;;;;;;;;;;
27179                             128 I1  ;;;;;;;;;;;;;;;;;;;
27180                             129 I1  ;;;;;;;;;;;;;;;;;;;;    ===========================<<<偏差>>>===========
27181                             130 I1  ;;;;;;;;;;;;;;;;;;;
27182                             131 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _HENSA_OVER_MOVE_CNT            ,L      ,_
                                          PVP_MONALM_C01,L,R1,R2,R3,H'3FFFFFF;
27183                             132 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_OUTPUT_TOTAL_PLS+4      ,L      ,_
                                          PVP_MONALM_C02,L,R1,R2,R3,H'3FFFFFF;
27184                             133 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_HENSA_LATCH+4           ,L      ,_
                                          PVP_MONALM_C03,L,R1,R2,R3,H'3FFFFFF;
27185                             134 I1  ;;;;;;;;;;;;;;;;;;;
27186                             135 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_CONST_SUB_PV                ,L      ,_
                                          PVP_MONALM_C04,L,R1,R2,R3,H'3FFFFFF;
27187                             136 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_SUB_PV                 ,L      ,_
                                          PVP_MONALM_C05,L,R1,R2,R3,H'3FFFFFF;
27188                             137 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_PLS                    ,L      ,_
                                          PVP_MONALM_C06,L,R1,R2,R3,H'3FFFFFF;
27189                             138 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_SV_OBJ_ABSPLS+4           ,L      ,_
                                          PVP_MONALM_C07,L,R1,R2,R3,H'3FFFFFF;
27190                             139 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_PV_ABSPLS+4       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27191                             140 I1  ;;;;;;;;;;;;;;;;;;;
27192                             141 I1  ;;;;;;;;;;;;;;;;;;;
27193                             142 I1          SUB_END
27194                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27195 0000574A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   378
PROGRAM NAME =

27196                             143 I1          M_RTS
27197 0000574C 000B                   M           RTS                             ;RTSの後ろの
27198 0000574E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27199                             144 I1  
27200                             145 I1  
27201                             146 I1  ;       ***********************************
27202                             147 I1  ;       ***                             ***
27203                             148 I1  ;       ***     現在値モニタ            ***
27204                             149 I1  ;       ***     17-0-2-1/2              ***
27205                             150 I1  ;       ***                             ***
27206                             151 I1  ;       ***********************************
27207                             152 I1  ;       ====== 17-2 =====
27208 00005750                    153 I1  _MONI_CNT_NOW_INFO_DSP3
27209                             154 I1          SUB_START
27210 00005750 4F22                   M           STS.L   PR,@-R15                ;[必要]
27211                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27212                             155 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
27213                             156 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_STEP           ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27214                             157 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_STEP           ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27215                             158 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _INT_POS_CTL_STEP       ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27216                             159 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SV_POS_CTL_STEP        ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27217                             160 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_PLSOUT_STOP_CNT    ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27218                             161 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_CNT1      ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27219                             162 I1  ;;;;;;;;;;;;;;;;;;;
27220                             163 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27221                             164 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27222                             165 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27223                             166 I1  ;;;;;;;;;;;;;;;;;;;
27224                             167 I1  ;;;;;;;;;;;;;;;;;;;
27225                             168 I1  ;;;;;;;;;;;;;;;;;;;
27226                             169 I1  ;;;;;;;;;;;;;;;;;;;;    ======================================
27227                             170 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27228                             171 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27229                             172 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27230                             173 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27231                             174 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27232                             175 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27233                             176 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27234                             177 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27235                             178 I1  ;;;;;;;;;;;;;;;;;;;
27236                             179 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_REST_P       ,L      ,_PVP_MONA
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   379
PROGRAM NAME =

                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
27237                             180 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
27238                             181 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
27239                             182 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
27240                             183 I1  ;;;;;;;;;;;;;;;;;;;
27241                             184 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27242                             185 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27243                             186 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27244                             187 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27245                             188 I1  ;;;;;;;;;;;;;;;;;;;
27246                             189 I1  ;;;;;;;;;;;;;;;;;;;
27247                             190 I1  
27248                             191 I1          SUB_END
27249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27250 00005752 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27251                             192 I1          M_RTS
27252 00005754 000B                   M           RTS                             ;RTSの後ろの
27253 00005756 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27254                             193 I1  
27255                             194 I1  ;       ***********************************
27256                             195 I1  ;       ***                             ***
27257                             196 I1  ;       ***     現在値モニタ            ***
27258                             197 I1  ;       ***     17-0-3-1/2              ***
27259                             198 I1  ;       ***                             ***
27260                             199 I1  ;       ***********************************
27261          00000000           200 I1  _SH4_4B         .EQU    0
27262          00000004           201 I1  _SH2_4B         .EQU    4
27263          00000000           202 I1  _SH4_8B         .EQU    0
27264          00000008           203 I1  _SH2_8B         .EQU    8
27265                             204 I1  
27266                             205 I1  
27267                             206 I1  ;       ====== 17-3 =====
27268 00005758                    207 I1  _MONI_CNT_NOW_INFO_DSP4
27269                             208 I1          SUB_START
27270 00005758 4F22                   M           STS.L   PR,@-R15                ;[必要]
27271                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27272                             209 I1  
27273                             210 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_REST_SPD_HOSEI_FLG,W,_PVP_MONALM_A01,W,R1,R2,
                                          R3      ;
27274                             211 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27275                             212 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27276                             213 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27277                             214 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27278                             215 I1  ;;;;;;;;;;;;;;;;;;;
27279                             216 I1  ;;;;;;;;;;;;;;;;;;;
27280                             217 I1  ;;;;;;;;;;;;;;;;;;;;    -------------------------- HENSAﾃﾞｰﾀ---------
27281                             218 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_MONI_CPUAB_PLSDELT,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   380
PROGRAM NAME =

27282                             219 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(0,R1),R5
                                          ;
27283                             220 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(4,R1),R6
                                          ;
27284                             221 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R5,R0
                                          ;
27285                             222 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;H
27286                             223 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27287                             224 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A06 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;L
27288                             225 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R6,R0
27289                             226 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27290                             227 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27291                             228 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27292                             229 I1  ;;;;;;;;;;;;;;;;;;;
27293                             230 I1  ;;;;;;;;;;;;;;;;;;;
27294                             231 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH4_4B,R4
                                          ;CPUA
27295                             232 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27296                             233 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B01 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27297                             234 I1  ;;;;;;;;;;;;;;;;;;;
27298                             235 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH2_4B,R4
                                          ;CPU
27299                             236 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27300                             237 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27301                             238 I1  ;;;;;;;;;;;;;;;;;;;
27302                             239 I1  ;;;;;;;;;;;;;;;;;;;
27303                             240 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH4_4B,R4
                                          ;
27304                             241 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27305                             242 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27306                             243 I1  ;;;;;;;;;;;;;;;;;;;
27307                             244 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH2_4B,R4
                                          ;
27308                             245 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27309                             246 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27310                             247 I1  ;;;;;;;;;;;;;;;;;;;
27311                             248 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27312                             249 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27313                             250 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2,W,_PVP_MONALM_B06,W,R1,R2,R3;
27314                             251 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1,L,_PVP_MONALM_B07,W,R1,R2,R3;
27315                             252 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2,L,_PVP_MONALM_B08,W,R1,R2,R3;
27316                             253 I1  ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   381
PROGRAM NAME =

27317                             254 I1  ;;;;;;;;;;;;;;;;;;;
27318                             255 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH4_4B,R4   ;OK
27319                             256 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27320                             257 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C01 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27321                             258 I1  ;;;;;;;;;;;;;;;;;;;
27322                             259 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH2_4B,R4   ;OK
27323                             260 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27324                             261 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C02 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27325                             262 I1  ;;;;;;;;;;;;;;;;;;;
27326                             263 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH4_4B,R4 ;
27327                             264 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27328                             265 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C03 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27329                             266 I1  ;;;;;;;;;;;;;;;;;;;
27330                             267 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH2_4B,R4 ;
27331                             268 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27332                             269 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C04 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27333                             270 I1  ;;;;;;;;;;;;;;;;;;;
27334                             271 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH4_8B+4,R4              ;20060919
27335                             272 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27336                             273 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27337                             274 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27338                             275 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C05 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27339                             276 I1  ;;;;;;;;;;;;;;;;;;;
27340                             277 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH2_8B+4,R4              ;20060919
27341                             278 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27342                             279 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27343                             280 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27344                             281 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C06 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27345                             282 I1  ;;;;;;;;;;;;;;;;;;;
27346                             283 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH4_8B+4,R4              ;
27347                             284 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27348                             285 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27349                             286 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27350                             287 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C07 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27351                             288 I1  ;;;;;;;;;;;;;;;;;;;
27352                             289 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH2_8B+4,R4              ;
27353                             290 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27354                             291 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27355                             292 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27356                             293 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C08 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27357                             294 I1  ;;;;;;;;;;;;;;;;;;;
27358                             295 I1  
27359                             296 I1          SUB_END
27360                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27361 0000575A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   382
PROGRAM NAME =

27362                             297 I1          M_RTS
27363 0000575C 000B                   M           RTS                             ;RTSの後ろの
27364 0000575E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27365                             298 I1  
27366                             299 I1  
27367                             300 I1  
27368                             301 I1  ;       =========== C01~C08 =======
27369                             302 I1  
27370                             303 I1  
27371                             304 I1  
27372                             305 I1  ;       ***********************************
27373                             306 I1  ;       ***     履歴モニタ              ***
27374                             307 I1  ;       ***                             ***
27375                             308 I1  ;       ***     18-(0~199)-0/1-1/2      ***
27376                             309 I1  ;       ***                             ***
27377                             310 I1  ;       ***********************************
27378                             311 I1  ;       R2 頁
27379                             312 I1  ;       R3 詳細 0:自分　1:相手
27380 00005760                    313 I1  _MONI_CNT_HIST_INFO_DISP
27381                             314 I1          SUB_START
27382 00005760 4F22                   M           STS.L   PR,@-R15                ;[必要]
27383                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27384                             315 I1          SUB_END
27385                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27386 00005762 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27387                             316 I1          M_RTS
27388 00005764 000B                   M           RTS                             ;RTSの後ろの
27389 00005766 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27390                             317 I1  
27391                            8785     
27392                            8786     ;       ***************************
27393                            8787     ;       ***                     ***
27394                            8788     ;       ***************************
27395                            8789             .EXPORT _HENSA_DAT_MONI_MAK
27396 00005768                   8790             .ALIGN  4                               ;
27397 00005768                   8791     _HENSA_DAT_MONI_MAK:
27398                            8792             SUB_START
27399 00005768 4F22                   M           STS.L   PR,@-R15                ;[必要]
27400                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27401                            8793     
27402                            8794     ;       ===== 遅れ分払い出したことにする====
27403 0000576A D30F              8795             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27404 0000576C 6132              8796             MOV.L   @R3,R1                                                  ;
27405 0000576E 5231              8797             MOV.L   @(4,R3),R2                                              ;
27406                            8798     
27407 00005770 D00E              8799             MOV.L   #_LINK_PV_ABSPLS,R0                             ;
27408 00005772 6502              8800             MOV.L   @R0,R5                                                  ;
27409 00005774 5601              8801             MOV.L   @(4,R0),R6                                              ;
27410                            8802     
27411                            8803             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27412 00005776 0008                   M           CLRT
27413 00005778 326A                   M           SUBC    R6,R2
27414 0000577A 315A                   M           SUBC    R5,R1
27415                            8804     
27416 0000577C D00C              8805             MOV.L   #_SV_CONST_SUB_PV,R0                                    ;
27417 0000577E 4211              8806             CMP/PZ  R2
27418 00005780 8900              8807             BT      HENSA_DAT_MONMK_050                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   383
PROGRAM NAME =

27419 00005782 622B              8808             NEG     R2,R2
27420 00005784                   8809     HENSA_DAT_MONMK_050:
27421 00005784 2022              8810             MOV.L   R2,@R0                                                  ;SV(CONST)-PV=
27422                            8811     
27423                            8812     ;       ===== 遅れ分払い出したことにする====
27424 00005786 D308              8813             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27425 00005788 6132              8814             MOV.L   @R3,R1                                                  ;
27426 0000578A 5231              8815             MOV.L   @(4,R3),R2                                              ;SV-REST-PLS
27427                            8816     
27428 0000578C D109              8817             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
27429 0000578E 6612              8818             MOV.L   @R1,R6                                                  ;
27430 00005790 255A              8819             XOR     R5,R5                                                   ;
27431                            8820             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27432 00005792 0008                   M           CLRT
27433 00005794 326A                   M           SUBC    R6,R2
27434 00005796 315A                   M           SUBC    R5,R1
27435 00005798 4211              8821             CMP/PZ  R2
27436 0000579A 8900              8822             BT      HENSA_DAT_MONMK_100                                     ;
27437 0000579C 622B              8823             NEG     R2,R2
27438 0000579E                   8824     HENSA_DAT_MONMK_100:
27439                            8825     
27440 0000579E D006              8826             MOV.L   #_SV_REAL_SUB_PV,R0
27441 000057A0 2022              8827             MOV.L   R2,@R0
27442                            8828     
27443                            8829             SUB_END
27444                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27445 000057A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27446                            8830             M_RTS
27447 000057A4 000B                   M           RTS                             ;RTSの後ろの
27448 000057A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27449                            8831     
27450                            8832     
27451                            8833     
27452                            8834     ;//     ===================================================
27453                            8835     ;//     ===     対策ソフト部分 2005-04-14-E(4/18)       ===
27454                            8836     ;//     ===================================================
27455                            8837             .EXPORT _SGL_CMP_ERR_DT_CLR
27456                                     ***** BEGIN-POOL *****
27457 000057A8 00000000                   DATA FOR SOURCE-LINE 8795,8813
27458 000057AC 00000000                   DATA FOR SOURCE-LINE 8799
27459 000057B0 00000000                   DATA FOR SOURCE-LINE 8805
27460 000057B4 00000000                   DATA FOR SOURCE-LINE 8817
27461 000057B8 00000000                   DATA FOR SOURCE-LINE 8826
27462                                     ***** END-POOL *****
27463 000057BC                   8838             .ALIGN  4                               ;
27464 000057BC                   8839     _SGL_CMP_ERR_DT_CLR:
27465                            8840             SUB_START
27466 000057BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
27467                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27468 000057BE 200A              8841             XOR     R0,R0
27469                            8842             REG_MOV_TO_MEM  DST_ADR=_CMP_LNGTH_AD_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27470 000057C0 D103                   M           MOV.L   #_CMP_LNGTH_AD_ERR_CNT,R1       ;DST_ADR
27471 000057C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27472                            8843             REG_MOV_TO_MEM  DST_ADR=_CMP_RESTP_SR_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27473 000057C4 D103                   M           MOV.L   #_CMP_RESTP_SR_ERR_CNT,R1       ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   384
PROGRAM NAME =

27474 000057C6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27475                            8844             SUB_END
27476                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27477 000057C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27478                            8845             M_RTS
27479 000057CA 000B                   M           RTS                             ;RTSの後ろの
27480 000057CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27481                            8846     
27482                            8847             .INCLUDE        "ssa_cntc.inc"          ;//2004-12-15
27483                                 I1  ***** BEGIN-POOL *****
27484 000057CE 0000                   I1  ALIGNMENT CODE
27485 000057D0 00000000               I1  DATA FOR SOURCE-LINE 8842
27486 000057D4 00000000               I1  DATA FOR SOURCE-LINE 8843
27487                                 I1  ***** END-POOL *****
27488 000057D8                      1 I1  _BANK_CNT_STEP_NEXT_CHK:
27489                               2 I1          SUB_START
27490 000057D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27491                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27492                               3 I1  ;       ===== 最終工程で最終目標位置を超えたら次の回転数への切り替えを行う
27493 000057DA DB06                 4 I1          MOV.L   #_INT_POS_CTL_STEP,R11                  ;//内部制御工程1~11
27494 000057DC 60B1                 5 I1          MOV.W   @R11,R0                                 ;
27495 000057DE 70FF                 6 I1          ADD     #-1,R0                                  ;
27496 000057E0 4008                 7 I1          SHLL2   R0
27497 000057E2 D105                 8 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1                 ;
27498 000057E4 021E                 9 I1          MOV.L   @(R0,R1),R2                             ;現状の工程の目標工程
27499 000057E6 D105                10 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
27500 000057E8 6311                11 I1          MOV.W   @R1,R3                                  ;
27501 000057EA 7301                12 I1          ADD     #1,R3                                   ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27502 000057EC 3320                13 I1          CMP/EQ  R2,R3                                   ;
27503 000057EE 8907                14 I1          BT      BCNT_STEP_NEXTCHK_100                   ;(最終工程相当)
27504                              15 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;最終工程を行おうとしていないが残
                                          り量を引くことは有り
27505 000057F0 A04F                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27506 000057F2 0009                   M           NOP
27507                              16 I1                                                          ;...不要
27508                              17 I1  ;       ======= 最終工程相当の状態=======
27509                              18 I1  ;       ======= 減速距離と残り距離=====
27510                                 I1  ***** BEGIN-POOL *****
27511 000057F4 00000000               I1  DATA FOR SOURCE-LINE 4
27512 000057F8 00000000               I1  DATA FOR SOURCE-LINE 8
27513 000057FC 00000000               I1  DATA FOR SOURCE-LINE 10
27514                                 I1  ***** END-POOL *****
27515 00005800                     19 I1  BCNT_STEP_NEXTCHK_100:
27516 00005800 D408                20 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
27517 00005802 6203                21 I1          MOV     R0,R2                                                   ;
27518 00005804 4200                22 I1          SHLL    R2                                                      ;
27519 00005806 342C                23 I1          ADD     R2,R4                                                   ;
27520 00005808 6146                24 I1          MOV.L   @R4+,R1                                                 ;
27521 0000580A 6242                25 I1          MOV.L   @R4,R2                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
27522                              26 I1  
27523 0000580C D406                27 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
27524 0000580E 6546                28 I1          MOV.L   @R4+,R5                                                 ;
27525 00005810 6642                29 I1          MOV.L   @R4,R6                                                  ;
27526                              30 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27527 00005812 0008                   M           CLRT
27528 00005814 326A                   M           SUBC    R6,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   385
PROGRAM NAME =

27529 00005816 315A                   M           SUBC    R5,R1
27530                              31 I1  
27531 00005818 4111                32 I1          CMP/PZ  R1
27532 0000581A 8B0B                33 I1          BF      BCNT_STEP_NEXTCHK_200                   ;"-" 超えたJUMP
27533 0000581C 2118                34 I1          TST     R1,R1                                   ;
27534                              35 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_120                ;
27535 0000581E 8905                   M           BT      BCNT_STEP_NEXTCHK_120
27536                              36 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27537 00005820 A030                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27538 00005822 0009                   M           NOP
27539                                 I1  ***** BEGIN-POOL *****
27540 00005824 00000000               I1  DATA FOR SOURCE-LINE 20
27541 00005828 00000000               I1  DATA FOR SOURCE-LINE 27
27542                                 I1  ***** END-POOL *****
27543 0000582C                     37 I1  BCNT_STEP_NEXTCHK_120:
27544 0000582C 2228                38 I1          TST     R2,R2                                   ;
27545                              39 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_200                ;
27546 0000582E 8901                   M           BT      BCNT_STEP_NEXTCHK_200
27547                              40 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27548 00005830 A028                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27549 00005832 0009                   M           NOP
27550                              41 I1  
27551                              42 I1  ;       --- 超えた(サイクル変更を行なう)---
27552 00005834                     43 I1  BCNT_STEP_NEXTCHK_200:
27553                              44 I1  ;(停止指令が出ていれば足さない)
27554 00005834 D108                45 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27555 00005836 6011                46 I1          MOV.W   @R1,R0                                                  ;
27556 00005838 C804                47 I1          TST     #BIT2,R0                                                ;
27557                              48 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_250                                ;待機点停止しない
                                          運転
27558 0000583A 8B15                   M           BF      BCNT_STEP_NEXTCHK_250
27559                              49 I1  
27560 0000583C D107                50 I1          MOV.L   #_STOP_LATCH_B,R1                                       ;//BIT0:ｽﾄｯﾌﾟ釦
27561 0000583E 6011                51 I1          MOV.W   @R1,R0                                                  ;
27562 00005840 C801                52 I1          TST     #BIT0,R0                                                ;
27563                              53 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_250                                ;
27564 00005842 8911                   M           BT      BCNT_STEP_NEXTCHK_250
27565                              54 I1  
27566                              55 I1  ;       ----- 停止ｺﾏﾝﾄﾞON(ありえない) -----
27567                              56 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
27568 00005844 D106                   M           MOV.L   #_STOP_LATCH,R1         ;
27569 00005846 6011                   M           MOV.W   @R1,R0          ;
27570 00005848 CB01                   M           OR      #BIT0,R0                ;
27571 0000584A 2101                   M           MOV.W   R0,@R1          ;
27572                              57 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
27573 0000584C D105                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27574 0000584E 6011                   M           MOV.W   @R1,R0          ;
27575 00005850 CB01                   M           OR      #BIT0,R0                ;
27576 00005852 2101                   M           MOV.W   R0,@R1          ;
27577                              58 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                                   ;
27578 00005854 A01D                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27579 00005856 0009                   M           NOP
27580                              59 I1  
27581                              60 I1  
27582                                 I1  ***** BEGIN-POOL *****
27583 00005858 00000000               I1  DATA FOR SOURCE-LINE 45
27584 0000585C 00000000               I1  DATA FOR SOURCE-LINE 50
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   386
PROGRAM NAME =

27585 00005860 00000000               I1  DATA FOR SOURCE-LINE 56
27586 00005864 00000000               I1  DATA FOR SOURCE-LINE 57
27587                                 I1  ***** END-POOL *****
27588 00005868                     61 I1  BCNT_STEP_NEXTCHK_250:
27589                              62 I1  
27590 00005868 D104                63 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27591 0000586A 6011                64 I1          MOV.W   @R1,R0                                                  ;
27592 0000586C C808                65 I1          TST     #BIT3,R0                                                ;
27593                              66 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_300                                ;(停止のない運転時
                                          のみ補正する)
27594 0000586E 89FF                   M           BT      BCNT_STEP_NEXTCHK_300
27595                              67 I1  
27596                              68 I1  ;       ========== 減速点補正(タイマが全くない運転) ============
27597                              69 I1  ;;;     FAR_JSR #_GPOINT_HOS_CALC,R0                    ;CPU-A/B()
27598                              70 I1  ;       ==================================
27599                              71 I1  ;;;;;;;;20060919        .AIF    1 EQ    1       ;
27600                              72 I1  ;;;;;;;;        FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0               ;
27601                              73 I1  ;;;;;;;;        .AENDI                                  ;
27602                              74 I1  
27603                              75 I1  ;       ========== 新残りﾊﾟﾙｽ補正===============
27604                              76 I1  ;       誤差が1000PLSを超えたら周波数を変える 1HZ
27605                              77 I1  ;       誤差が2000PLSを超えたら周波数を変える 2HZ
27606                              78 I1  ;       誤差が3000PLSを超えたら周波数を変える 4HZ
27607                              79 I1  ;
27608                              80 I1  ;
27609                              81 I1  ;
27610                              82 I1  ;       ====================================
27611 00005870                     83 I1  BCNT_STEP_NEXTCHK_300:
27612                              84 I1  
27613                              85 I1          FAR_JSR #_CNT_VMODE_NEXT_CYCL_START,R0          ;(STOPﾗｯﾁはまずここでﾁｪｯｸされる)
27614 00005870 D003                   M           MOV.L   #_CNT_VMODE_NEXT_CYCL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27615 00005872 400B                   M           JSR     @R0                     ;
27616 00005874 0009                   M           NOP                                     ;
27617                              86 I1  
27618                              87 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;
27619 00005876 A00C                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27620 00005878 0009                   M           NOP
27621                              88 I1  
27622                              89 I1  
27623                              90 I1  ;       ====(最終工程相当でここにくる)=====
27624                                 I1  ***** BEGIN-POOL *****
27625 0000587A 0000                   I1  ALIGNMENT CODE
27626 0000587C 00000000               I1  DATA FOR SOURCE-LINE 63
27627 00005880 00000000               I1  DATA FOR SOURCE-LINE 85
27628                                 I1  ***** END-POOL *****
27629 00005884                     91 I1  BCNT_STEP_NEXTCHK_CHK:
27630 00005884 D104                92 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27631 00005886 6011                93 I1          MOV.W   @R1,R0                          ;
27632 00005888 2008                94 I1          TST     R0,R0                           ;
27633                              95 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_EXT        ;
27634 0000588A 8B02                   M           BF      BCNT_STEP_NEXTCHK_EXT
27635                              96 I1  ;       === 停止の減算はどこでも良い====
27636                              97 I1  ;       === 停止がある場合は停止で行うから結局は最終工程相当で引く===
27637                              98 I1          FAR_JSR #_CNT_GPOINT_STOP_TYP2,R0       ;連続停止時減速可能かどうかチェック
27638 0000588C D003                   M           MOV.L   #_CNT_GPOINT_STOP_TYP2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27639 0000588E 400B                   M           JSR     @R0                     ;
27640 00005890 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   387
PROGRAM NAME =

27641                              99 I1  
27642                             100 I1  
27643 00005892                    101 I1  BCNT_STEP_NEXTCHK_EXT:
27644                             102 I1          SUB_END
27645                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27646 00005892 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27647                             103 I1          M_RTS
27648 00005894 000B                   M           RTS                             ;RTSの後ろの
27649 00005896 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27650                             104 I1  
27651                             105 I1  
27652                             106 I1  
27653                             107 I1  ;       ***********************************
27654                             108 I1  ;       ***                             ***
27655                             109 I1  ;       ***     工程切り替え            ***
27656                             110 I1  ;       ***     data add                ***
27657                             111 I1  ;       ***                             ***
27658                             112 I1  ;       ***********************************
27659                                 I1  ***** BEGIN-POOL *****
27660 00005898 00000000               I1  DATA FOR SOURCE-LINE 92
27661 0000589C 00000000               I1  DATA FOR SOURCE-LINE 98
27662                                 I1  ***** END-POOL *****
27663 000058A0                    113 I1  _CNT_VMODE_NEXT_CYCL_START:
27664                             114 I1          SUB_START
27665 000058A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27666                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27667                             115 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0     ;ﾓﾆﾀ用
27668 000058A2 D018                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27669 000058A4 400B                   M           JSR     @R0                     ;
27670 000058A6 0009                   M           NOP                                     ;
27671                             116 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0        ;ﾓﾆﾀ用
27672 000058A8 D017                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27673 000058AA 400B                   M           JSR     @R0                     ;
27674 000058AC 0009                   M           NOP                                     ;
27675                             117 I1  
27676                             118 I1          FAR_JSR #_CPU_AB_CST_ON_OUT2,R0                 ;次へいくぞ!
27677 000058AE D017                   M           MOV.L   #_CPU_AB_CST_ON_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27678 000058B0 400B                   M           JSR     @R0                     ;
27679 000058B2 0009                   M           NOP                                     ;
27680                             119 I1          FAR_JSR #_MOTION_CYCLE_END,R0                   ;
27681 000058B4 D016                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27682 000058B6 400B                   M           JSR     @R0                     ;
27683 000058B8 0009                   M           NOP                                     ;
27684                             120 I1          FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
27685 000058BA D016                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27686 000058BC 400B                   M           JSR     @R0                     ;
27687 000058BE 0009                   M           NOP                                     ;
27688                             121 I1  
27689                             122 I1  
27690                             123 I1          FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
27691 000058C0 D015                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27692 000058C2 400B                   M           JSR     @R0                     ;
27693 000058C4 0009                   M           NOP                                     ;
27694                             124 I1  
27695                             125 I1  ;       --------- 2020-05-07-----------
27696 000058C6 D415               126 I1          MOV.L   #_M_LINK_AREASIG,R4                     ;
27697 000058C8 6041               127 I1          MOV.W   @R4,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   388
PROGRAM NAME =

27698 000058CA C802               128 I1          TST     #(BIT1),R0                                              ;下降からの開始
27699                             129 I1          TST_BIT_OF VMODE_LOT_SIG_ON                     ;
27700 000058CC 8903                   M           BT      VMODE_LOT_SIG_ON
27701 000058CE D114               130 I1          MOV.L   #_LOT_CHK_FLG,R1                        ;
27702 000058D0 6011               131 I1          MOV.W   @R1,R0                                          ;
27703 000058D2 CB07               132 I1          OR      #(BIT2+BIT1+BIT0),R0                    ;(待機点は通過)
27704 000058D4 2101               133 I1          MOV.W   R0,@R1                                          ;
27705 000058D6                    134 I1  VMODE_LOT_SIG_ON:
27706                             135 I1  
27707                             136 I1  ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB260,R4     ;
27708                             137 I1  ;;;     MOV.W   R0,@R4                                          ;
27709                             138 I1  ;;;
27710                             139 I1  ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
27711                             140 I1  ;;;     MOV.W   @R1,R0
27712                             141 I1  ;;;     ADD             #1,R0
27713                             142 I1  ;;;     MOV.W   R0,@R1
27714                             143 I1  ;       -----------------------------------
27715                             144 I1  
27716                             145 I1  
27717                             146 I1  
27718                             147 I1  ;;2016-10-31    FAR_JSR #_DBG_END_CNT3,R0                       ;
27719                             148 I1  
27720 000058D6 200A               149 I1          XOR     R0,R0                                   ;
27721 000058D8 D112               150 I1          MOV.L   #_INT_POS_STEP_FLG,R1                   ;//ｽﾃｯﾌﾟ,段取り共通
27722 000058DA 2101               151 I1          MOV.W   R0,@R1                                  ;
27723                             152 I1  
27724                             153 I1          FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0            ;
27725 000058DC D012                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27726 000058DE 400B                   M           JSR     @R0                     ;
27727 000058E0 0009                   M           NOP                                     ;
27728                             154 I1  
27729                             155 I1  ;       ------------------2006-12-18----------------------
27730                             156 I1          FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0             ;20060919:
27731 000058E2 D012                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27732 000058E4 400B                   M           JSR     @R0                     ;
27733 000058E6 0009                   M           NOP                                     ;
27734                             157 I1  ;       --------------------------------------------------
27735                             158 I1  
27736 000058E8 D111               159 I1          MOV.L   #_SV_POS_CTL_STEP,R1                    ;//1msec 制御上の見かけ
27737 000058EA 6411               160 I1          MOV.W   @R1,R4                                  ;
27738 000058EC D211               161 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27739 000058EE 2241               162 I1          MOV.W   R4,@R2                                  ;
27740                             163 I1  
27741                             164 I1  
27742                             165 I1  ;;      FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;_LNGTH,SHIN,SPEED<設定から求める>
27743                             166 I1  
27744                             167 I1  
27745                             168 I1  ;       ==== 最終工程相当でなければ速度を切り替えるだけ===
27746                             169 I1  ;       LINKX-->LINKは
27747                             170 I1  ;       その前の処理で行われているはずなので不要
27748 000058F0 D111               171 I1          MOV.L   #_CPOS_MOD_FLG1,R1                      ;
27749 000058F2 6011               172 I1          MOV.W   @R1,R0                                  ;
27750 000058F4 C808               173 I1          TST     #BIT3,R0                                ;
27751                             174 I1          TST_BIT_ON CNT_VMODE_NEXT_CYCLSTR_050           ;
27752 000058F6 8B23                   M           BF      CNT_VMODE_NEXT_CYCLSTR_050
27753                             175 I1  
27754                             176 I1  ;       === ﾀｲﾏ停止有り ===ここで移動量は作成しない===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   389
PROGRAM NAME =

27755                             177 I1          FAR_JSR #_CNT_SPD_SET,R0                        ;(これではステップ上の運転開始とは
                                          いえ自起動まで落ちているから良い)
27756 000058F8 D010                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27757 000058FA 400B                   M           JSR     @R0                     ;
27758 000058FC 0009                   M           NOP                                     ;
27759                             178 I1          M_BRA   CNT_VMODE_NEXT_CYCLSTR_100
27760 000058FE A025                   M           BRA     CNT_VMODE_NEXT_CYCLSTR_100
27761 00005900 0009                   M           NOP
27762                             179 I1  
27763                             180 I1  
27764                                 I1  ***** BEGIN-POOL *****
27765 00005902 0000                   I1  ALIGNMENT CODE
27766 00005904 00000000               I1  DATA FOR SOURCE-LINE 115
27767 00005908 00000000               I1  DATA FOR SOURCE-LINE 116
27768 0000590C 00000000               I1  DATA FOR SOURCE-LINE 118
27769 00005910 00000000               I1  DATA FOR SOURCE-LINE 119
27770 00005914 00000000               I1  DATA FOR SOURCE-LINE 120
27771 00005918 00000000               I1  DATA FOR SOURCE-LINE 123
27772 0000591C 00000000               I1  DATA FOR SOURCE-LINE 126
27773 00005920 00000000               I1  DATA FOR SOURCE-LINE 130
27774 00005924 00000000               I1  DATA FOR SOURCE-LINE 150
27775 00005928 00000000               I1  DATA FOR SOURCE-LINE 153
27776 0000592C 00000000               I1  DATA FOR SOURCE-LINE 156
27777 00005930 00000000               I1  DATA FOR SOURCE-LINE 159
27778 00005934 00000000               I1  DATA FOR SOURCE-LINE 161
27779 00005938 00000000               I1  DATA FOR SOURCE-LINE 171
27780 0000593C 00000000               I1  DATA FOR SOURCE-LINE 177
27781                                 I1  ***** END-POOL *****
27782 00005940                    181 I1  CNT_VMODE_NEXT_CYCLSTR_050:
27783                             182 I1  ;       === ﾀｲﾏ停止全くなし ===ここで移動量を作成===
27784                             183 I1          FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;CNT_SPD
27785 00005940 D014                   M           MOV.L   #_POS_CNT_BANK_DTMAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27786 00005942 400B                   M           JSR     @R0                     ;
27787 00005944 0009                   M           NOP                                     ;
27788                             184 I1          FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0             ;
27789 00005946 D014                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27790 00005948 400B                   M           JSR     @R0                     ;
27791 0000594A 0009                   M           NOP                                     ;
27792                             185 I1  
27793 0000594C                    186 I1  CNT_VMODE_NEXT_CYCLSTR_100:
27794                             187 I1  
27795                             188 I1  
27796                             189 I1  
27797                             190 I1  ;;;だめ FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;
27798                             191 I1  
27799                             192 I1  ;       ==== 2004-03-29 ====
27800                             193 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;OK!
27801 0000594C D013                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27802 0000594E 400B                   M           JSR     @R0                     ;
27803 00005950 0009                   M           NOP                                     ;
27804                             194 I1          FAR_JSR #_MOTION_CYCLE_START,R0         ;
27805 00005952 D013                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27806 00005954 400B                   M           JSR     @R0                     ;
27807 00005956 0009                   M           NOP                                     ;
27808 00005958 D112               195 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1    ;       //連続が１ｽﾃｯﾌﾟになった
27809 0000595A 9019               196 I1          MOV.W   #BIT0,R0                ;
27810 0000595C 2101               197 I1          MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   390
PROGRAM NAME =

27811                             198 I1  
27812                             199 I1  
27813                             200 I1  ;       ==================================
27814                             201 I1          FAR_JSR #_CMPCYC_START_CLR,R0
27815 0000595E D012                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27816 00005960 400B                   M           JSR     @R0                     ;
27817 00005962 0009                   M           NOP                                     ;
27818                             202 I1  ;       ===============================================
27819                             203 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
27820 00005964 D111                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
27821 00005966 6011                   M           MOV.W   @R1,R0          ;
27822 00005968 C9FE                   M           AND     #LOW ~BIT0,R0           ;
27823 0000596A 2101                   M           MOV.W   R0,@R1          ;
27824                             204 I1          FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13
27825 0000596C D010                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27826 0000596E 400B                   M           JSR     @R0                     ;
27827 00005970 0009                   M           NOP                                     ;
27828                             205 I1  ;       ===============================================
27829                             206 I1          FAR_JSR #_FUL_DATA_INIT,R0
27830 00005972 D010                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27831 00005974 400B                   M           JSR     @R0                     ;
27832 00005976 0009                   M           NOP                                     ;
27833                             207 I1  ;       ==================================
27834                             208 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
27835 00005978 D00F                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27836 0000597A 400B                   M           JSR     @R0                     ;
27837 0000597C 0009                   M           NOP                                     ;
27838                             209 I1  ;       ================<<<2004-03-25>>>==========
27839                             210 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾓﾆﾀ用
27840 0000597E D00F                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27841 00005980 400B                   M           JSR     @R0                     ;
27842 00005982 0009                   M           NOP                                     ;
27843                             211 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾓﾆﾀ用
27844 00005984 D00E                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27845 00005986 400B                   M           JSR     @R0                     ;
27846 00005988 0009                   M           NOP                                     ;
27847                             212 I1          SUB_END
27848                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27849 0000598A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27850                             213 I1          M_RTS
27851 0000598C 000B                   M           RTS                             ;RTSの後ろの
27852 0000598E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27853                             214 I1  
27854                             215 I1  
27855                             216 I1  ;       *******************************************
27856                             217 I1  ;       ***                                     ***
27857                             218 I1  ;       ***                                     ***
27858                             219 I1  ;       *******************************************
27859                             220 I1  ;       ***********************************
27860                             221 I1  ;       ***                             ***
27861                             222 I1  ;       ***     移動距離のみ+SPEED      ***
27862                             223 I1  ;       ***                             ***
27863                             224 I1  ;       ***********************************
27864                             225 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27865                             226 I1  ;       が
27866                             227 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
27867                             228 I1  ;       になっているだけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   391
PROGRAM NAME =

27868                             229 I1  ;       (回転途中の演算　１回転分)
27869                             230 I1  
27870                             231 I1  ;       ===== タイマ停止後起動時===
27871                                 I1  ***** BEGIN-POOL *****
27872 00005990 0001                   I1  DATA FOR SOURCE-LINE 196
27873 00005992 0000                   I1  ALIGNMENT CODE
27874 00005994 00000000               I1  DATA FOR SOURCE-LINE 183
27875 00005998 00000000               I1  DATA FOR SOURCE-LINE 184
27876 0000599C 00000000               I1  DATA FOR SOURCE-LINE 193
27877 000059A0 00000000               I1  DATA FOR SOURCE-LINE 194
27878 000059A4 00000000               I1  DATA FOR SOURCE-LINE 195
27879 000059A8 00000000               I1  DATA FOR SOURCE-LINE 201
27880 000059AC 00000000               I1  DATA FOR SOURCE-LINE 203
27881 000059B0 00000000               I1  DATA FOR SOURCE-LINE 204
27882 000059B4 00000000               I1  DATA FOR SOURCE-LINE 206
27883 000059B8 00000000               I1  DATA FOR SOURCE-LINE 208
27884 000059BC 00000000               I1  DATA FOR SOURCE-LINE 210
27885 000059C0 00000000               I1  DATA FOR SOURCE-LINE 211
27886                                 I1  ***** END-POOL *****
27887 000059C4                    232 I1  _POS_CNT_BANK_DTMAK3:                           ;上死点ﾀｲﾏ=0で途中で止まる時
27888                             233 I1          SUB_START
27889 000059C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
27890                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27891                             234 I1  
27892                             235 I1  ;       -------debug break-point set----------
27893                             236 I1          PUSH_REG1 R0
27894 000059C6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27895                                 M                                           ;REG=>[SP]
27896                                 M                                           ;"-4" FF,FF,FF,FC
27897                             237 I1          PUSH_REG1 R1
27898 000059C8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27899                                 M                                           ;REG=>[SP]
27900                                 M                                           ;"-4" FF,FF,FF,FC
27901 000059CA D10C               238 I1          MOV.L   #_di2_cb_ctl2,R1        ;
27902 000059CC 6011               239 I1          MOV.W   @R1,R0                  ;
27903 000059CE C880               240 I1          TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
27904                             241 I1          TST_BIT_OF CNTBANK_DBGBRK_100   ;
27905 000059D0 8904                   M           BT      CNTBANK_DBGBRK_100
27906                             242 I1  
27907 000059D2 0009               243 I1          NOP
27908 000059D4 0009               244 I1          NOP
27909 000059D6 0009               245 I1          NOP
27910 000059D8 0009               246 I1          NOP
27911 000059DA 0009               247 I1          NOP
27912                             248 I1  
27913                             249 I1  
27914 000059DC                    250 I1  CNTBANK_DBGBRK_100
27915                             251 I1  
27916                             252 I1  
27917                             253 I1          POP_REG1 R1
27918                                 M                                   ; RE"+4" 00,00,00,04
27919 000059DC 61F6                   M           MOV.L   @R15+,R1        ;
27920                             254 I1          POP_REG1 R0
27921                                 M                                   ; RE"+4" 00,00,00,04
27922 000059DE 60F6                   M           MOV.L   @R15+,R0        ;
27923                             255 I1  
27924                             256 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   392
PROGRAM NAME =

27925                             257 I1  
27926                             258 I1  
27927                             259 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27928 000059E0 D007                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27929 000059E2 400B                   M           JSR     @R0                     ;
27930 000059E4 0009                   M           NOP                                     ;
27931                             260 I1  
27932                             261 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27933 000059E6 D007                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27934 000059E8 400B                   M           JSR     @R0                     ;
27935 000059EA 0009                   M           NOP                                     ;
27936                             262 I1  
27937 000059EC D406               263 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                 ;//起動時,その他で演算 8byte data
27938 000059EE 2008               264 I1          TST     R0,R0                                   ;
27939                             265 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM              ;最終工程でなければ
27940 000059F0 8932                   M           BT      POS_CNT_BANKDTMAK12_COM
27941                             266 I1  
27942 000059F2 D406               267 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4                ;//起動時,その他で演算 8byte data
27943 000059F4 9001               268 I1          MOV.W   #1,R0                                   ;
27944                             269 I1          M_BRA   POS_CNT_BANKDTMAK123_COM                ;最終工程相当なら
27945 000059F6 A038                   M           BRA     POS_CNT_BANKDTMAK123_COM
27946 000059F8 0009                   M           NOP
27947                             270 I1  
27948                             271 I1  
27949                                 I1  ***** BEGIN-POOL *****
27950 000059FA 0001                   I1  DATA FOR SOURCE-LINE 268
27951 000059FC 00000000               I1  DATA FOR SOURCE-LINE 238
27952 00005A00 00000000               I1  DATA FOR SOURCE-LINE 259
27953 00005A04 00000000               I1  DATA FOR SOURCE-LINE 261
27954 00005A08 00000000               I1  DATA FOR SOURCE-LINE 263
27955 00005A0C 00000000               I1  DATA FOR SOURCE-LINE 267
27956                                 I1  ***** END-POOL *****
27957 00005A10                    272 I1  _POS_CNT_BANK_DTMAK2:                                   ;どこにも止まらないとき
27958                             273 I1          SUB_START
27959 00005A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
27960                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27961                             274 I1          M_BRA   POS_CNT_BANKDTMAK12_COM
27962 00005A12 A021                   M           BRA     POS_CNT_BANKDTMAK12_COM
27963 00005A14 0009                   M           NOP
27964                             275 I1  
27965                             276 I1  ;       ===== 初回の起動時===
27966 00005A16                    277 I1  _POS_CNT_BANK_DTMAK1:
27967                             278 I1          SUB_START
27968 00005A16 4F22                   M           STS.L   PR,@-R15                ;[必要]
27969                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27970                             279 I1  
27971                             280 I1  ;;;;2014-09-14  ----------------------------------------------
27972                             281 I1  ;;;;2014-09-14  MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
27973                             282 I1  ;;;;2014-09-14  MOV.W   @R1,R0                          ;
27974                             283 I1  ;;;;2014-09-14  TST     #BIT0,R0                        ;
27975                             284 I1  ;;;;2014-09-14  TST_BIT_OF POSCNT_BANKDT050             ;
27976                             285 I1  ;;;;2014-09-14
27977                             286 I1  ;;;;2014-09-14  MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27978                             287 I1  ;;;;2014-09-14  MOV.L   @(0,R4),R1                      ;
27979                             288 I1  ;;;;2014-09-14  MOV.L   @(4,R4),R2                      ;
27980                             289 I1  ;;;;2014-09-14  M_BRA   POSCNT_BANKDT075                ;
27981                             290 I1  ;;;;2014-09-14
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   393
PROGRAM NAME =

27982                             291 I1  ;;;;2014-09-14
27983                             292 I1  ;;;;2014-09-14POSCNT_BANKDT050
27984                             293 I1  ;;;;2014-09-14
27985                             294 I1  ;;;;2014-09-14  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27986                             295 I1  ;;;;2014-09-14
27987                             296 I1  ;;;;2014-09-14  MOV.L   #_LINK_PV_ABSPLS,R4     ;(ﾌﾙｸﾛｰｽﾞ時は対象を変える)
27988                             297 I1  ;;;;2014-09-14  MOV.L   @R4+,R1                         ;
27989                             298 I1  ;;;;2014-09-14  MOV.L   @R4,R2                          ;
27990                             299 I1  ;;;;2014-09-14
27991                             300 I1  ;;;;2014-09-14POSCNT_BANKDT075
27992                             301 I1  
27993 00005A18 D409               302 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27994 00005A1A 5140               303 I1          MOV.L   @(0,R4),R1                      ;
27995 00005A1C 5241               304 I1          MOV.L   @(4,R4),R2                      ;
27996                             305 I1  
27997 00005A1E D509               306 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27998 00005A20 2512               307 I1          MOV.L   R1,@R5                          ;
27999 00005A22 1521               308 I1          MOV.L   R2,@(4,R5)                      ;
28000 00005A24 D508               309 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
28001 00005A26 2512               310 I1          MOV.L   R1,@R5                          ;
28002 00005A28 1521               311 I1          MOV.L   R2,@(4,R5)                      ;
28003                             312 I1  
28004 00005A2A                    313 I1  POSCNT_BANKDT100
28005                             314 I1  
28006                             315 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;上死点タイマなしで止まる時・止まらない時
28007 00005A2A D008                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28008 00005A2C 400B                   M           JSR     @R0                     ;
28009 00005A2E 0009                   M           NOP                                     ;
28010                             316 I1  
28011 00005A30 D407               317 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;
28012 00005A32 2008               318 I1          TST     R0,R0                           ;
28013                             319 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM      ;最終工程でなければ
28014 00005A34 8910                   M           BT      POS_CNT_BANKDTMAK12_COM
28015                             320 I1  
28016 00005A36 D407               321 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
28017 00005A38 9001               322 I1          MOV.W   #1,R0                           ;
28018                             323 I1          M_BRA   POS_CNT_BANKDTMAK123_COM        ;最終工程相当なら
28019 00005A3A A016                   M           BRA     POS_CNT_BANKDTMAK123_COM
28020 00005A3C 0009                   M           NOP
28021                             324 I1  
28022                             325 I1  
28023                             326 I1  
28024                             327 I1  
28025                             328 I1  
28026                             329 I1  
28027                             330 I1  
28028                             331 I1  
28029                             332 I1  
28030                             333 I1  
28031                             334 I1  
28032                             335 I1  
28033                             336 I1  
28034                                 I1  ***** BEGIN-POOL *****
28035 00005A3E 0001                   I1  DATA FOR SOURCE-LINE 322
28036 00005A40 00000000               I1  DATA FOR SOURCE-LINE 302
28037 00005A44 00000000               I1  DATA FOR SOURCE-LINE 306
28038 00005A48 00000000               I1  DATA FOR SOURCE-LINE 309
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   394
PROGRAM NAME =

28039 00005A4C 00000000               I1  DATA FOR SOURCE-LINE 315
28040 00005A50 00000000               I1  DATA FOR SOURCE-LINE 317
28041 00005A54 00000000               I1  DATA FOR SOURCE-LINE 321
28042                                 I1  ***** END-POOL *****
28043 00005A58                    337 I1  POS_CNT_BANKDTMAK12_COM:
28044                             338 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28045 00005A58 D00B                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28046 00005A5A 400B                   M           JSR     @R0                     ;
28047 00005A5C 0009                   M           NOP                                     ;
28048                             339 I1  
28049 00005A5E D40B               340 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;//起動時,その他で演算 8byte data
28050 00005A60 2008               341 I1          TST     R0,R0                           ;
28051                             342 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_050      ;
28052 00005A62 8900                   M           BT      POS_CNT_BANKDTMAK12_050
28053 00005A64 D40A               343 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
28054 00005A66                    344 I1  POS_CNT_BANKDTMAK12_050:
28055                             345 I1  
28056                             346 I1  
28057                             347 I1  
28058 00005A66 D20B               348 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
28059 00005A68 6021               349 I1          MOV.W   @R2,R0                          ;
28060 00005A6A                    350 I1  POS_CNT_BANKDTMAK123_COM:
28061 00005A6A 70FF               351 I1          ADD     #-1,R0                          ;
28062 00005A6C 4008               352 I1          SHLL2   R0                              ;
28063 00005A6E 4000               353 I1          SHLL    R0                              ;*2
28064 00005A70 340C               354 I1          ADD     R0,R4                           ;
28065 00005A72 6146               355 I1          MOV.L   @R4+,R1                         ;
28066 00005A74 6242               356 I1          MOV.L   @R4,R2                          ;(目標位置)
28067                             357 I1          FAR_JSR #_POS_CNT_BANK_DTMAK_CM,R0      ;LINKXから計算するADDDATA作成
28068 00005A76 D008                   M           MOV.L   #_POS_CNT_BANK_DTMAK_CM,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28069 00005A78 400B                   M           JSR     @R0                     ;
28070 00005A7A 0009                   M           NOP                                     ;
28071                             358 I1          FAR_JSR #_CNT_SPD_SET,R0                ;
28072 00005A7C D007                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28073 00005A7E 400B                   M           JSR     @R0                     ;
28074 00005A80 0009                   M           NOP                                     ;
28075                             359 I1  
28076                             360 I1  
28077                             361 I1  
28078                             362 I1          SUB_END
28079                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28080 00005A82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28081                             363 I1          M_RTS
28082 00005A84 000B                   M           RTS                             ;RTSの後ろの
28083 00005A86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28084                             364 I1  
28085                             365 I1  
28086                             366 I1  
28087                             367 I1  
28088                             368 I1  ;       ***************************************************
28089                             369 I1  ;       ***     速度継続結果の最終ステップ相当か        ***
28090                             370 I1  ;       ***************************************************
28091                             371 I1  ;       ANS R0!=0 最終
28092                                 I1  ***** BEGIN-POOL *****
28093 00005A88 00000000               I1  DATA FOR SOURCE-LINE 338
28094 00005A8C 00000000               I1  DATA FOR SOURCE-LINE 340
28095 00005A90 00000000               I1  DATA FOR SOURCE-LINE 343
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   395
PROGRAM NAME =

28096 00005A94 00000000               I1  DATA FOR SOURCE-LINE 348
28097 00005A98 00000000               I1  DATA FOR SOURCE-LINE 357
28098 00005A9C 00000000               I1  DATA FOR SOURCE-LINE 358
28099                                 I1  ***** END-POOL *****
28100 00005AA0                    372 I1  _POS_CNT_LAST_STEP_CHK:
28101                             373 I1          SUB_START
28102 00005AA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28103                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28104                             374 I1          PUSH_REG1 R1
28105 00005AA2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28106                                 M                                           ;REG=>[SP]
28107                                 M                                           ;"-4" FF,FF,FF,FC
28108                             375 I1          PUSH_REG1 R2
28109 00005AA4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28110                                 M                                           ;REG=>[SP]
28111                                 M                                           ;"-4" FF,FF,FF,FC
28112                             376 I1          PUSH_REG1 R3
28113 00005AA6 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28114                                 M                                           ;REG=>[SP]
28115                                 M                                           ;"-4" FF,FF,FF,FC
28116                             377 I1  
28117 00005AA8 D209               378 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
28118 00005AAA 6021               379 I1          MOV.W   @R2,R0                          ;
28119 00005AAC 70FF               380 I1          ADD     #-1,R0                          ;
28120 00005AAE 4008               381 I1          SHLL2   R0
28121 00005AB0 D108               382 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
28122 00005AB2 021E               383 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
28123 00005AB4 D108               384 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
28124 00005AB6 6311               385 I1          MOV.W   @R1,R3                          ;
28125 00005AB8 7301               386 I1          ADD     #1,R3                           ;設定+1(帰りも1ｽﾃｯﾌﾟ)
28126                             387 I1  
28127 00005ABA 200A               388 I1          XOR     R0,R0                           ;
28128 00005ABC 3320               389 I1          CMP/EQ  R2,R3                           ;
28129 00005ABE 8B00               390 I1          BF      POS_CNT_LASTSTEPCHK_END         ;
28130 00005AC0 E0FF               391 I1          MOV     #-1,R0                          ;LAST相当
28131 00005AC2                    392 I1  POS_CNT_LASTSTEPCHK_END:                        ;
28132                             393 I1  
28133                             394 I1          POP_REG1 R3
28134                                 M                                   ; RE"+4" 00,00,00,04
28135 00005AC2 63F6                   M           MOV.L   @R15+,R3        ;
28136                             395 I1          POP_REG1 R2
28137                                 M                                   ; RE"+4" 00,00,00,04
28138 00005AC4 62F6                   M           MOV.L   @R15+,R2        ;
28139                             396 I1          POP_REG1 R1
28140                                 M                                   ; RE"+4" 00,00,00,04
28141 00005AC6 61F6                   M           MOV.L   @R15+,R1        ;
28142                             397 I1  
28143                             398 I1          SUB_END
28144                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28145 00005AC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28146                             399 I1          M_RTS
28147 00005ACA 000B                   M           RTS                             ;RTSの後ろの
28148 00005ACC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28149                             400 I1  
28150                             401 I1  
28151                             402 I1  
28152                             403 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   396
PROGRAM NAME =

28153                             404 I1  ;       ***                             ***
28154                             405 I1  ;       ***     移動距離のみ            ***
28155                             406 I1  ;       ***                             ***
28156                             407 I1  ;       ***********************************
28157                             408 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
28158                             409 I1  ;       が
28159                             410 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
28160                             411 I1  ;       になっているだけ
28161                             412 I1  ;       (回転途中の演算　１回転分)
28162                                 I1  ***** BEGIN-POOL *****
28163 00005ACE 0000                   I1  ALIGNMENT CODE
28164 00005AD0 00000000               I1  DATA FOR SOURCE-LINE 378
28165 00005AD4 00000000               I1  DATA FOR SOURCE-LINE 382
28166 00005AD8 00000000               I1  DATA FOR SOURCE-LINE 384
28167                                 I1  ***** END-POOL *****
28168 00005ADC                    413 I1  _CNT_SPD_SET:
28169                             414 I1          SUB_START
28170 00005ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
28171                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28172 00005ADE D207               415 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
28173 00005AE0 6021               416 I1          MOV.W   @R2,R0                                  ;
28174 00005AE2 70FF               417 I1          ADD     #-1,R0                                  ;
28175 00005AE4 4008               418 I1          SHLL2   R0                                      ;
28176 00005AE6 D406               419 I1          MOV.L   #_CPOS_SDAT1_SPD,R4                     ;       //SETX-->起動時COPY
28177 00005AE8 024E               420 I1          MOV.L   @(R0,R4),R2                             ;
28178 00005AEA D106               421 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
28179 00005AEC 2122               422 I1          MOV.L   R2,@R1                                  ;
28180                             423 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;
28181 00005AEE D106                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28182 00005AF0 410B                   M           JSR     @R1                     ;
28183 00005AF2 0009                   M           NOP                                     ;
28184                             424 I1          SUB_END
28185                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28186 00005AF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28187                             425 I1          M_RTS
28188 00005AF6 000B                   M           RTS                             ;RTSの後ろの
28189 00005AF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28190                             426 I1  
28191                                 I1  ***** BEGIN-POOL *****
28192 00005AFA 0000                   I1  ALIGNMENT CODE
28193 00005AFC 00000000               I1  DATA FOR SOURCE-LINE 415
28194 00005B00 00000000               I1  DATA FOR SOURCE-LINE 419
28195 00005B04 00000000               I1  DATA FOR SOURCE-LINE 421
28196 00005B08 00000000               I1  DATA FOR SOURCE-LINE 423
28197                                 I1  ***** END-POOL *****
28198 00005B0C                    427 I1  _POS_CNT_BANK_DTMAK_CM:
28199                             428 I1          SUB_START
28200 00005B0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28201                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28202                             429 I1  
28203                             430 I1          FAR_JSR #_BANK_LENGH_ADD_CALC_SV_TYPE,R0        ;LINKXのみ+
28204 00005B0E D007                   M           MOV.L   #_BANK_LENGH_ADD_CALC_SV_TYPE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28205 00005B10 400B                   M           JSR     @R0                     ;
28206 00005B12 0009                   M           NOP                                     ;
28207                             431 I1  
28208 00005B14 233A               432 I1          XOR     R3,R3                           ;
28209 00005B16 4111               433 I1          CMP/PZ  R1                              ;+正転?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   397
PROGRAM NAME =

28210 00005B18 8900               434 I1          BT      POS_CNT_BANKDTMKCM_050          ;
28211 00005B1A E301               435 I1          MOV     #BIT0,R3                        ;
28212 00005B1C                    436 I1  POS_CNT_BANKDTMKCM_050
28213 00005B1C D104               437 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
28214 00005B1E 6011               438 I1          MOV.W   @R1,R0                  ;
28215 00005B20 C9FE               439 I1          AND     #LOW ~BIT0,R0           ;
28216 00005B22 203B               440 I1          OR      R3,R0                   ;
28217 00005B24 2101               441 I1          MOV.W   R0,@R1                  ;
28218                             442 I1  
28219 00005B26                    443 I1  POS_CNT_BANKDTMKCM_EXT:
28220                             444 I1          SUB_END
28221                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28222 00005B26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28223                             445 I1          M_RTS
28224 00005B28 000B                   M           RTS                             ;RTSの後ろの
28225 00005B2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28226                             446 I1  
28227                             447 I1  
28228                             448 I1  
28229                             449 I1  
28230                             450 I1  
28231                             451 I1  
28232                             452 I1  
28233                             453 I1  
28234                             454 I1  ;       ***************************************************
28235                             455 I1  ;       ***                                             ***
28236                             456 I1  ;       ***     BANK2 ﾃﾞｰﾀ作成                          ***
28237                             457 I1  ;       ***     起動時BANK1ﾃﾞｰﾀを作成直後に呼ばれる     ***
28238                             458 I1  ;       ***     MODE関係なしで呼ばれるのでこの中でﾁｬｯｸ  ***
28239                             459 I1  ;       ***                                             ***
28240                             460 I1  ;       ***************************************************
28241                             461 I1  ;
28242                                 I1  ***** BEGIN-POOL *****
28243 00005B2C 00000000               I1  DATA FOR SOURCE-LINE 430
28244 00005B30 00000000               I1  DATA FOR SOURCE-LINE 437
28245                                 I1  ***** END-POOL *****
28246 00005B34                    462 I1  _START_CNT_BANK2_MAK_CHK:
28247                             463 I1          SUB_START
28248 00005B34 4F22                   M           STS.L   PR,@-R15                ;[必要]
28249                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28250 00005B36 D108               464 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28251 00005B38 6011               465 I1          MOV.W   @R1,R0                          ;
28252 00005B3A C801               466 I1          TST     #BIT0,R0                        ;
28253                             467 I1          TST_BIT_OF START_CNT_BANK2_MAKCHK_END   ;
28254 00005B3C 8908                   M           BT      START_CNT_BANK2_MAKCHK_END
28255                             468 I1  
28256 00005B3E D107               469 I1          MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R1      ;
28257 00005B40 6212               470 I1          MOV.L   @R1,R2                          ;
28258 00005B42 7201               471 I1          ADD     #1,R2                           ;
28259                             472 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28260 00005B44 D006                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28261 00005B46 400B                   M           JSR     @R0                     ;
28262 00005B48 0009                   M           NOP                                     ;
28263                             473 I1  
28264                             474 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28265                             475 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28266 00005B4A D006                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   398
PROGRAM NAME =

28267 00005B4C 400B                   M           JSR     @R0                     ;
28268 00005B4E 0009                   M           NOP                                     ;
28269                             476 I1  
28270 00005B50                    477 I1  START_CNT_BANK2_MAKCHK_END:
28271                             478 I1          SUB_END
28272                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28273 00005B50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28274                             479 I1          M_RTS
28275 00005B52 000B                   M           RTS                             ;RTSの後ろの
28276 00005B54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28277                             480 I1  
28278                             481 I1  
28279                             482 I1  ;       ***********************************
28280                             483 I1  ;       ***                             ***
28281                             484 I1  ;       ***     工程切り替え            ***
28282                             485 I1  ;       ***     前の機能もここで行う    ***
28283                             486 I1  ;       ***                             ***
28284                             487 I1  ;       ***********************************
28285                             488 I1  ;       Input R2
28286                                 I1  ***** BEGIN-POOL *****
28287 00005B56 0000                   I1  ALIGNMENT CODE
28288 00005B58 00000000               I1  DATA FOR SOURCE-LINE 464
28289 00005B5C 00000000               I1  DATA FOR SOURCE-LINE 469
28290 00005B60 00000000               I1  DATA FOR SOURCE-LINE 472
28291 00005B64 00000000               I1  DATA FOR SOURCE-LINE 475
28292                                 I1  ***** END-POOL *****
28293 00005B68                    489 I1  _BANK_CHK_NEXT_CYCL_STR1;
28294                             490 I1          SUB_START
28295 00005B68 4F22                   M           STS.L   PR,@-R15                ;[必要]
28296                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28297                             491 I1  
28298 00005B6A D10F               492 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28299 00005B6C 6011               493 I1          MOV.W   @R1,R0                          ;
28300 00005B6E C801               494 I1          TST     #BIT0,R0                        ;
28301                             495 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_020    ;
28302 00005B70 892A                   M           BT      BANKCHKNEXT_CYCL_STR1_020
28303                             496 I1  
28304 00005B72 9417               497 I1          MOV.W   #1,R4                           ;
28305 00005B74 D10D               498 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28306 00005B76 2141               499 I1          MOV.W   R4,@R1                          ;W
28307                             500 I1  
28308                             501 I1          FAR_JSR #_BANK2_TO_BANK1_MOV,R0         ;
28309 00005B78 D00D                   M           MOV.L   #_BANK2_TO_BANK1_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28310 00005B7A 400B                   M           JSR     @R0                     ;
28311 00005B7C 0009                   M           NOP                                     ;
28312 00005B7E D10D               502 I1          MOV.L   #_BANK2_LINK_OBJROT_NUM_ZR,R1   ;//NOW ROTATION 番号
28313 00005B80 6212               503 I1          MOV.L   @R1,R2                          ;
28314                             504 I1          PUSH_REG1 R2                            ;
28315 00005B82 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28316                                 M                                           ;REG=>[SP]
28317                                 M                                           ;"-4" FF,FF,FF,FC
28318                             505 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;
28319 00005B84 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28320 00005B86 410B                   M           JSR     @R1                     ;
28321 00005B88 0009                   M           NOP                                     ;
28322                             506 I1          POP_REG1 R2                             ;
28323                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   399
PROGRAM NAME =

28324 00005B8A 62F6                   M           MOV.L   @R15+,R2        ;
28325 00005B8C 7201               507 I1          ADD     #1,R2                           ;NEW-ROT
28326                             508 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28327 00005B8E D00B                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28328 00005B90 400B                   M           JSR     @R0                     ;
28329 00005B92 0009                   M           NOP                                     ;
28330                             509 I1  
28331                             510 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28332                             511 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28333 00005B94 D00A                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28334 00005B96 400B                   M           JSR     @R0                     ;
28335 00005B98 0009                   M           NOP                                     ;
28336                             512 I1  
28337                             513 I1  ;--------2011-05-11----
28338                             514 I1          FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
28339 00005B9A D00A                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28340 00005B9C 400B                   M           JSR     @R0                     ;
28341 00005B9E 0009                   M           NOP                                     ;
28342                             515 I1  
28343                             516 I1  ;--------2011-05-05----
28344                             517 I1  ;;      MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28345                             518 I1  ;;      MOV.W   @R1,R0                          ;
28346                             519 I1  ;;      TST     R0,R0                           ;
28347                             520 I1  ;;      TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28348                             521 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28349                             522 I1  ;;      MOV.W   @R1,R0                          ;
28350                             523 I1  ;;      OR      #BIT0,R0                        ;
28351                             524 I1  ;;      MOV.W   R0,@R1                          ;
28352                             525 I1  ;;BANKCHKNEXT_CYCL_STR1_010:
28353                             526 I1  
28354                             527 I1          M_BRA   BANKCHKNEXT_CYCL_STR1_100       ;
28355 00005BA0 A025                   M           BRA     BANKCHKNEXT_CYCL_STR1_100
28356 00005BA2 0009                   M           NOP
28357                             528 I1  
28358                                 I1  ***** BEGIN-POOL *****
28359 00005BA4 0001                   I1  DATA FOR SOURCE-LINE 497
28360 00005BA6 0000                   I1  ALIGNMENT CODE
28361 00005BA8 00000000               I1  DATA FOR SOURCE-LINE 492
28362 00005BAC 00000000               I1  DATA FOR SOURCE-LINE 498
28363 00005BB0 00000000               I1  DATA FOR SOURCE-LINE 501
28364 00005BB4 00000000               I1  DATA FOR SOURCE-LINE 502
28365 00005BB8 00000000               I1  DATA FOR SOURCE-LINE 505
28366 00005BBC 00000000               I1  DATA FOR SOURCE-LINE 508
28367 00005BC0 00000000               I1  DATA FOR SOURCE-LINE 511
28368 00005BC4 00000000               I1  DATA FOR SOURCE-LINE 514
28369                                 I1  ***** END-POOL *****
28370 00005BC8                    529 I1  BANKCHKNEXT_CYCL_STR1_020:
28371 00005BC8 D10E               530 I1          MOV.L   #_CPOS_CTL_MATH,R1              ;
28372 00005BCA 6011               531 I1          MOV.W   @R1,R0                          ;
28373 00005BCC C801               532 I1          TST     #_DMATH_CNTROT,R0               ;回転?
28374                             533 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_050
28375 00005BCE 8900                   M           BT      BANKCHKNEXT_CYCL_STR1_050
28376 00005BD0 7201               534 I1          ADD     #1,R2                           ;回転数+1<反転>
28377 00005BD2                    535 I1  BANKCHKNEXT_CYCL_STR1_050:
28378                             536 I1  
28379 00005BD2 9415               537 I1          MOV.W   #1,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   400
PROGRAM NAME =

28380 00005BD4 D10C               538 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28381 00005BD6 2141               539 I1          MOV.W   R4,@R1                          ;(1だけでいいのか/つくり直す必要があるのか
                                          )
28382                             540 I1          PUSH_REG1 R2
28383 00005BD8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28384                                 M                                           ;REG=>[SP]
28385                                 M                                           ;"-4" FF,FF,FF,FC
28386                             541 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
28387 00005BDA D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28388 00005BDC 410B                   M           JSR     @R1                     ;
28389 00005BDE 0009                   M           NOP                                     ;
28390                             542 I1          POP_REG1 R2
28391                                 M                                   ; RE"+4" 00,00,00,04
28392 00005BE0 62F6                   M           MOV.L   @R15+,R2        ;
28393                             543 I1          FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
28394 00005BE2 D10B                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28395 00005BE4 410B                   M           JSR     @R1                     ;
28396 00005BE6 0009                   M           NOP                                     ;
28397                             544 I1  
28398                             545 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28399                             546 I1          FAR_JSR #_HLDCAM_ABS_POS_SET,R0         ;2014-08-30
28400 00005BE8 D00A                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28401 00005BEA 400B                   M           JSR     @R0                     ;
28402 00005BEC 0009                   M           NOP                                     ;
28403                             547 I1  
28404 00005BEE                    548 I1  BANKCHKNEXT_CYCL_STR1_100:
28405                             549 I1  ;       =====2003-07-09 速度============
28406                             550 I1          FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
28407 00005BEE D00A                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28408 00005BF0 400B                   M           JSR     @R0                     ;
28409 00005BF2 0009                   M           NOP                                     ;
28410                             551 I1  ;       ===== 2003-07-14 TIME ======
28411                             552 I1          FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
28412 00005BF4 D009                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28413 00005BF6 400B                   M           JSR     @R0                     ;
28414 00005BF8 0009                   M           NOP                                     ;
28415                             553 I1  
28416                             554 I1  
28417                             555 I1  
28418                             556 I1          SUB_END
28419                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28420 00005BFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28421                             557 I1          M_RTS
28422 00005BFC 000B                   M           RTS                             ;RTSの後ろの
28423 00005BFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28424                             558 I1  
28425                             559 I1  ;       ***************************************************
28426                             560 I1  ;       ***                                             ***
28427                             561 I1  ;       ***     2011-05-11                              ***
28428                             562 I1  ;       ***     ロットカウンタUPの1回転前信号           ***
28429                             563 I1  ;       ***     起動時点でこれがONならこの回転で止める  ***
28430                             564 I1  ;       ***                                             ***
28431                             565 I1  ;       ***************************************************
28432                             566 I1  ;
28433                                 I1  ***** BEGIN-POOL *****
28434 00005C00 0001                   I1  DATA FOR SOURCE-LINE 537
28435 00005C02 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   401
PROGRAM NAME =

28436 00005C04 00000000               I1  DATA FOR SOURCE-LINE 530
28437 00005C08 00000000               I1  DATA FOR SOURCE-LINE 538
28438 00005C0C 00000000               I1  DATA FOR SOURCE-LINE 541
28439 00005C10 00000000               I1  DATA FOR SOURCE-LINE 543
28440 00005C14 00000000               I1  DATA FOR SOURCE-LINE 546
28441 00005C18 00000000               I1  DATA FOR SOURCE-LINE 550
28442 00005C1C 00000000               I1  DATA FOR SOURCE-LINE 552
28443                                 I1  ***** END-POOL *****
28444 00005C20                    567 I1          .ALIGN  4                               ;
28445 00005C20                    568 I1  _CNT_BEF_LOT_SIGCHK:
28446                             569 I1          SUB_START
28447 00005C20 4F22                   M           STS.L   PR,@-R15                ;[必要]
28448                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28449                             570 I1  
28450 00005C22 D105               571 I1          MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28451 00005C24 6011               572 I1          MOV.W   @R1,R0                          ;
28452 00005C26 2008               573 I1          TST     R0,R0                           ;
28453                             574 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28454 00005C28 8903                   M           BT      BANKCHKNEXT_CYCL_STR1_010
28455 00005C2A D104               575 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28456 00005C2C 6011               576 I1          MOV.W   @R1,R0                          ;
28457 00005C2E CB01               577 I1          OR      #BIT0,R0                        ;
28458 00005C30 2101               578 I1          MOV.W   R0,@R1                          ;
28459 00005C32                    579 I1  BANKCHKNEXT_CYCL_STR1_010:
28460                             580 I1  
28461                             581 I1          SUB_END
28462                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28463 00005C32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28464                             582 I1          M_RTS
28465 00005C34 000B                   M           RTS                             ;RTSの後ろの
28466 00005C36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28467                             583 I1  
28468                             584 I1  ;       ***************************************************
28469                             585 I1  ;       ***     停止があるタイプ                        ***
28470                             586 I1  ;       ***     停止がないタイプでも１回転部では可能    ***
28471                             587 I1  ;       ***     BIT3=0 BIT2=1                           ***
28472                             588 I1  ;       ***************************************************
28473                                 I1  ***** BEGIN-POOL *****
28474 00005C38 00000000               I1  DATA FOR SOURCE-LINE 571
28475 00005C3C 00000000               I1  DATA FOR SOURCE-LINE 575
28476                                 I1  ***** END-POOL *****
28477 00005C40                    589 I1          .ALIGN  4                               ;
28478 00005C40                    590 I1  _BANK_CNT_STOP_CHK_TYP1
28479                             591 I1          SUB_START
28480 00005C40 4F22                   M           STS.L   PR,@-R15                ;[必要]
28481                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28482                             592 I1  
28483 00005C42 D10F               593 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28484 00005C44 6011               594 I1          MOV.W   @R1,R0                          ;
28485 00005C46 2008               595 I1          TST     R0,R0                           ;
28486                             596 I1          TST_BIT_ON BANK_CNT_STOPCHK_TYP1_200    ;停止減算完了
28487 00005C48 8B16                   M           BF      BANK_CNT_STOPCHK_TYP1_200
28488                             597 I1  
28489                             598 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28490 00005C4A D00E                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28491 00005C4C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   402
PROGRAM NAME =

28492 00005C4E 0009                   M           NOP                                     ;
28493 00005C50 2008               599 I1          TST     R0,R0                           ;
28494                             600 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200
28495 00005C52 8911                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28496                             601 I1  
28497                             602 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;
28498 00005C54 D00C                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28499 00005C56 400B                   M           JSR     @R0                     ;
28500 00005C58 0009                   M           NOP                                     ;
28501                             603 I1  
28502 00005C5A D10C               604 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28503 00005C5C 6011               605 I1          MOV.W   @R1,R0                          ;
28504 00005C5E C801               606 I1          TST     #BIT0,R0                        ;
28505                             607 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200;
28506 00005C60 890A                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28507                             608 I1  
28508                             609 I1  ;       ----- 停止ｺﾏﾝﾄﾞON -----
28509                             610 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0     ;(連続ALL-ではこの処理はない：足しにいく処
                                          理にこない)
28510 00005C62 D00B                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28511 00005C64 400B                   M           JSR     @R0                     ;
28512 00005C66 0009                   M           NOP                                     ;
28513                             611 I1  
28514                             612 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
28515 00005C68 D10A                   M           MOV.L   #_STOP_LATCH,R1         ;
28516 00005C6A 6011                   M           MOV.W   @R1,R0          ;
28517 00005C6C CB01                   M           OR      #BIT0,R0                ;
28518 00005C6E 2101                   M           MOV.W   R0,@R1          ;
28519                             613 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28520 00005C70 D103                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28521 00005C72 6011                   M           MOV.W   @R1,R0          ;
28522 00005C74 CB02                   M           OR      #BIT1,R0                ;
28523 00005C76 2101                   M           MOV.W   R0,@R1          ;
28524                             614 I1  
28525                             615 I1  
28526                             616 I1  
28527 00005C78                    617 I1  BANK_CNT_STOPCHK_TYP1_200
28528                             618 I1  
28529                             619 I1          SUB_END
28530                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28531 00005C78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28532                             620 I1          M_RTS
28533 00005C7A 000B                   M           RTS                             ;RTSの後ろの
28534 00005C7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28535                             621 I1  
28536                             622 I1  
28537                             623 I1  ;       *******************************************
28538                             624 I1  ;       ***                                     ***
28539                             625 I1  ;       ***     通常運転状態での停止処理        ***
28540                             626 I1  ;       ***                                     ***
28541                             627 I1  ;       *******************************************
28542                                 I1  ***** BEGIN-POOL *****
28543 00005C7E 0000                   I1  ALIGNMENT CODE
28544 00005C80 00000000               I1  DATA FOR SOURCE-LINE 593,613
28545 00005C84 00000000               I1  DATA FOR SOURCE-LINE 598
28546 00005C88 00000000               I1  DATA FOR SOURCE-LINE 602
28547 00005C8C 00000000               I1  DATA FOR SOURCE-LINE 604
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   403
PROGRAM NAME =

28548 00005C90 00000000               I1  DATA FOR SOURCE-LINE 610
28549 00005C94 00000000               I1  DATA FOR SOURCE-LINE 612
28550                                 I1  ***** END-POOL *****
28551          000007D0           628 I1  _PROC_2MS_PLS   .EQU    2000    ;2000pls 500KHZ=500pls
28552                             629 I1  
28553 00005C98                    630 I1  _CNT_GPOINT_STOP_TYP2:
28554                             631 I1          SUB_START
28555 00005C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
28556                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28557 00005C9A D11F               632 I1          MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦
28558 00005C9C 6011               633 I1          MOV.W   @R1,R0                                  ;
28559 00005C9E C801               634 I1          TST     #BIT0,R0                                ;
28560                             635 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;
28561 00005CA0 8937                   M           BT      CNT_GPOINT_STOPTYP2_100
28562                             636 I1  
28563                             637 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0                  ;引きたい量
28564 00005CA2 D01E                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28565 00005CA4 400B                   M           JSR     @R0                     ;
28566 00005CA6 0009                   M           NOP                                     ;
28567                             638 I1  
28568                             639 I1  ;;2007-03-02    TST     R0,R0                                   ;
28569                             640 I1  ;;2007-03-02    TST_BIT_ON CNT_GPOINT_STOPTYP2_100              ;減算不可JUMP
28570                             641 I1  
28571                             642 I1  ;       -------- 2007-03-02------
28572                             643 I1          FAR_JSR #_CMP_CNT_CTLGENSOK,R0                  ;
28573 00005CA8 D01D                   M           MOV.L   #_CMP_CNT_CTLGENSOK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28574 00005CAA 400B                   M           JSR     @R0                     ;
28575 00005CAC 0009                   M           NOP                                     ;
28576 00005CAE 88FF               644 I1          CMP/EQ  #-1,R0                                  ;
28577 00005CB0 892F               645 I1          BT      CNT_GPOINT_STOPTYP2_100                 ;減算不可JUMP(ERR)
28578                             646 I1  
28579 00005CB2 2008               647 I1          TST     R0,R0                                   ;
28580                             648 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_050              ;止まれる
28581 00005CB4 8908                   M           BT      CNT_GPOINT_STOPTYP2_050
28582                             649 I1  
28583                             650 I1  ;       ---- 相手CPUはなんていっているの-----
28584                             651 I1          FAR_JSR #_CPU_BA_CST_ON_JG,R0                   ;
28585 00005CB6 D01B                   M           MOV.L   #_CPU_BA_CST_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28586 00005CB8 400B                   M           JSR     @R0                     ;
28587 00005CBA 0009                   M           NOP                                     ;
28588 00005CBC 2008               652 I1          TST     R0,R0                                   ;
28589                             653 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;相手は停まるといっていいないJUMP
28590 00005CBE 8928                   M           BT      CNT_GPOINT_STOPTYP2_100
28591                             654 I1  
28592                             655 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT1,WKREG=R1     ;bit-set
28593 00005CC0 D119                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
28594 00005CC2 6011                   M           MOV.W   @R1,R0          ;
28595 00005CC4 CB02                   M           OR      #BIT1,R0                ;
28596 00005CC6 2101                   M           MOV.W   R0,@R1          ;
28597                             656 I1  
28598 00005CC8                    657 I1  CNT_GPOINT_STOPTYP2_050:
28599 00005CC8 D418               658 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                                       ;
28600 00005CCA 6242               659 I1          MOV.L   @R4,R2                                                          ;
28601 00005CCC 632B               660 I1          NEG     R2,R3                                                           ;
28602                             661 I1  
28603                             662 I1          POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28604                                 M           PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   404
PROGRAM NAME =

28605 00005CCE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28606                                 M                                           ;REG=>[SP]
28607                                 M                                           ;"-4" FF,FF,FF,FC
28608                                 M           PUSH_REG1 R3
28609 00005CD0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28610                                 M                                           ;REG=>[SP]
28611                                 M                                           ;"-4" FF,FF,FF,FC
28612                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28613                                 M           PUSH_REG1 R0
28614 00005CD2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28615                                 M                                           ;REG=>[SP]
28616                                 M                                           ;"-4" FF,FF,FF,FC
28617 00005CD4 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28618 00005CD6 6001                   M           MOV.W   @R0,R0
28619                                 M           POP_REG1 R0
28620                                 M                                   ; RE"+4" 00,00,00,04
28621 00005CD8 60F6                   M           MOV.L   @R15+,R0        ;
28622 00005CDA D116                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
28623 00005CDC 2131                   M           MOV.W   R3,@R1                          ;(LOW)
28624 00005CDE 7102                   M           ADD     #2,R1                                   ;
28625 00005CE0 6339                   M           SWAP.W  R3,R3                           ;
28626                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28627                                 M           PUSH_REG1 R0
28628 00005CE2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28629                                 M                                           ;REG=>[SP]
28630                                 M                                           ;"-4" FF,FF,FF,FC
28631 00005CE4 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28632 00005CE6 6001                   M           MOV.W   @R0,R0
28633                                 M           POP_REG1 R0
28634                                 M                                   ; RE"+4" 00,00,00,04
28635 00005CE8 60F6                   M           MOV.L   @R15+,R0        ;
28636 00005CEA 2131                   M           MOV.W   R3,@R1                          ;(HIGH)
28637                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28638                                 M           PUSH_REG1 R0
28639 00005CEC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28640                                 M                                           ;REG=>[SP]
28641                                 M                                           ;"-4" FF,FF,FF,FC
28642 00005CEE D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28643 00005CF0 6001                   M           MOV.W   @R0,R0
28644                                 M           POP_REG1 R0
28645                                 M                                   ; RE"+4" 00,00,00,04
28646 00005CF2 60F6                   M           MOV.L   @R15+,R0        ;
28647                                 M           POP_REG1 R3
28648                                 M                                   ; RE"+4" 00,00,00,04
28649 00005CF4 63F6                   M           MOV.L   @R15+,R3        ;
28650                                 M           POP_REG1 R1
28651                                 M                                   ; RE"+4" 00,00,00,04
28652 00005CF6 61F6                   M           MOV.L   @R15+,R1        ;
28653                             663 I1  
28654                             664 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;LINK_SV_O
                                          BJ_ABSPLS-ESUB
28655 00005CF8 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28656 00005CFA 400B                   M           JSR     @R0                     ;
28657 00005CFC 0009                   M           NOP                                     ;
28658                             665 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28659 00005CFE D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28660 00005D00 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   405
PROGRAM NAME =

28661 00005D02 0009                   M           NOP                                     ;
28662                             666 I1  
28663                             667 I1  ;;;;    MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28664                             668 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28665 00005D04 D10E                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28666 00005D06 6011                   M           MOV.W   @R1,R0          ;
28667 00005D08 CB02                   M           OR      #BIT1,R0                ;
28668 00005D0A 2101                   M           MOV.W   R0,@R1          ;
28669                             669 I1  
28670                             670 I1  ;       ----- 2007-03-02---
28671                             671 I1          FAR_JSR #_STOP_LTH_OUT,R0
28672 00005D0C D00D                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28673 00005D0E 400B                   M           JSR     @R0                     ;
28674 00005D10 0009                   M           NOP                                     ;
28675                             672 I1  
28676                             673 I1  
28677 00005D12                    674 I1  CNT_GPOINT_STOPTYP2_100:
28678                             675 I1          SUB_END
28679                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28680 00005D12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28681                             676 I1          M_RTS
28682 00005D14 000B                   M           RTS                             ;RTSの後ろの
28683 00005D16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28684                             677 I1  
28685                             678 I1  
28686                             679 I1  ;;_CNT_GPOINT_STOP_TYP2:
28687                             680 I1  ;;      SUB_START
28688                             681 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28689                             682 I1  ;;      MOV.W   @R1,R0                          ;
28690                             683 I1  ;       TST     #BIT0,R0                        ;
28691                             684 I1  ;;      TST_BIT_OF CNT_GPOINT_STOPTYP2_100      ;
28692                             685 I1  ;;
28693                             686 I1  ;;      FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;引きたい量
28694                             687 I1  ;;
28695                             688 I1  ;;      MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28696                             689 I1  ;;      MOV.L   @R4,R2                          ;
28697                             690 I1  ;;      NEG     R2,R3                           ;
28698                             691 I1  ;;
28699                             692 I1  ;;      MOV.W   #_PROC_2MS_PLS,R4               ;
28700                             693 I1  ;;      ADD     R4,R2                           ;
28701                             694 I1  ;;      FAR_JSR #_LOAD_GPOINT_PLS,R0            ;2004-12-19
28702                             695 I1  ;;      MOV     R0,R6                           ;R/W 減速点=R6
28703                             696 I1  ;;      ADD     R6,R2                           ;
28704                             697 I1  ;;
28705                             698 I1  ;;      FAR_JSR #_LOAD_REST_PLS,R0                              ;ANS R0
28706                             699 I1  ;;      SUBPLS+GPOSINT+1000PLS ≦残りﾊﾟﾙｽ                       ;
28707                             700 I1  ;;      CMP/GE  R2,R0                                           ;
28708                             701 I1  ;;      BF      CNT_GPOINT_STOPTYP2_100                         ;減算不可JUMP
28709                             702 I1  ;;
28710                             703 I1  ;;      POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28711                             704 I1  ;;
28712                             705 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;
28713                             706 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28714                             707 I1  ;;
28715                             708 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28716                             709 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28717                             710 I1  ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   406
PROGRAM NAME =

28718                             711 I1  ;;
28719                             712 I1  ;;CNT_GPOINT_STOPTYP2_100:
28720                             713 I1  ;;
28721                             714 I1  ;;
28722                             715 I1  ;;      SUB_END
28723                             716 I1  ;;      M_RTS
28724                             717 I1  
28725                             718 I1  ;       ***************************
28726                             719 I1  ;       ***     停止演算        ***
28727                             720 I1  ;       ***************************
28728                             721 I1  ;       CASE1:完全連続  --->    止まれる位置：残りパルス≧１回転(SV_OBJ_-最終)＋今の減速点
28729                             722 I1  ;       CASE2:ﾀｲﾏ有り   --->    最終工程相当の動作開始時にﾊﾟﾙｽを足さない(減算処理完了)
28730                             723 I1  ;                               動作中最終工程相当にパルスを減らす(SV-OBJ-最終)
28731                             724 I1  ;(起動時)
28732                                 I1  ***** BEGIN-POOL *****
28733 00005D18 00000000               I1  DATA FOR SOURCE-LINE 632
28734 00005D1C 00000000               I1  DATA FOR SOURCE-LINE 637
28735 00005D20 00000000               I1  DATA FOR SOURCE-LINE 643
28736 00005D24 00000000               I1  DATA FOR SOURCE-LINE 651
28737 00005D28 00000000               I1  DATA FOR SOURCE-LINE 655
28738 00005D2C 00000000               I1  DATA FOR SOURCE-LINE 658
28739 00005D30 00000000               I1  DATA FOR SOURCE-LINE 662,662,662
28740 00005D34 00000000               I1  DATA FOR SOURCE-LINE 662
28741 00005D38 00000000               I1  DATA FOR SOURCE-LINE 664
28742 00005D3C 00000000               I1  DATA FOR SOURCE-LINE 665
28743 00005D40 00000000               I1  DATA FOR SOURCE-LINE 668
28744 00005D44 00000000               I1  DATA FOR SOURCE-LINE 671
28745                                 I1  ***** END-POOL *****
28746 00005D48                    725 I1  _CNT_SUB_DATA_CALC:
28747                             726 I1          SUB_START
28748 00005D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
28749                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28750                             727 I1  
28751 00005D4A D111               728 I1          MOV.L   #_CPOS_STEP_MAX,R1                              ;
28752 00005D4C 6011               729 I1          MOV.W   @R1,R0                                          ;+1して-1した計算
28753 00005D4E D411               730 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
28754 00005D50 4008               731 I1          SHLL2   R0                                                      ;
28755 00005D52 4000               732 I1          SHLL    R0                                                      ;
28756 00005D54 340C               733 I1          ADD     R0,R4                                                   ;
28757 00005D56 6546               734 I1          MOV.L   @R4+,R5                                                 ;
28758 00005D58 6642               735 I1          MOV.L   @R4,R6                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
28759                             736 I1  
28760 00005D5A D40F               737 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28761 00005D5C 6146               738 I1          MOV.L   @R4+,R1                                                 ;
28762 00005D5E 6242               739 I1          MOV.L   @R4,R2                                                  ;
28763                             740 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28764 00005D60 0008                   M           CLRT
28765 00005D62 326A                   M           SUBC    R6,R2
28766 00005D64 315A                   M           SUBC    R5,R1
28767                             741 I1  
28768 00005D66 4111               742 I1          CMP/PZ  R1                              ;
28769 00005D68 8901               743 I1          BT      CNT_SUB_DATACALC_100            ;
28770 00005D6A 211A               744 I1          XOR     R1,R1                           ;
28771 00005D6C 222A               745 I1          XOR     R2,R2                           ;ERR(-)
28772                             746 I1  
28773 00005D6E                    747 I1  CNT_SUB_DATACALC_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   407
PROGRAM NAME =

28774 00005D6E 2118               748 I1          TST     R1,R1                           ;
28775                             749 I1          TST_BIT_ON CNT_SUB_DATACALC_120         ;ERR(over)
28776 00005D70 8B02                   M           BF      CNT_SUB_DATACALC_120
28777                             750 I1  
28778 00005D72 D10A               751 I1          MOV.L   #H'3FFFFFF,R1                   ;(本当はPLS*2+)
28779 00005D74 3122               752 I1          CMP/HS  R2,R1                           ;
28780 00005D76 8905               753 I1          BT      CNT_SUB_DATACALC_150            ;許す
28781 00005D78                    754 I1  CNT_SUB_DATACALC_120:
28782 00005D78 211A               755 I1          XOR     R1,R1                           ;
28783 00005D7A 222A               756 I1          XOR     R2,R2                           ;ERR(over)
28784                             757 I1  
28785                             758 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_BANK_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1   ;
28786 00005D7C D108                   M           MOV.L   #_CNT_BANK_CALC_ERR,R1          ;
28787 00005D7E 6011                   M           MOV.W   @R1,R0          ;
28788 00005D80 CB01                   M           OR      #BIT0,R0                ;
28789 00005D82 2101                   M           MOV.W   R0,@R1          ;
28790                             759 I1  
28791 00005D84                    760 I1  CNT_SUB_DATACALC_150:
28792 00005D84 D407               761 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28793 00005D86 2422               762 I1          MOV.L   R2,@R4                          ;
28794                             763 I1  
28795                             764 I1  ;       (目標)-R2(待機点)
28796                             765 I1          SUB_END
28797                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28798 00005D88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28799                             766 I1          M_RTS
28800 00005D8A 000B                   M           RTS                             ;RTSの後ろの
28801 00005D8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28802                             767 I1  
28803                             768 I1  
28804                             769 I1  
28805                             770 I1  
28806                             771 I1  
28807                             772 I1  
28808                             773 I1  
28809                             774 I1  
28810                             775 I1  
28811                             776 I1  
28812                             777 I1  
28813                             778 I1  ;       ***********************************
28814                             779 I1  ;       ***     データの減算1           ***
28815                             780 I1  ;       ***********************************
28816                             781 I1  ;       条件はこの上で見る
28817                                 I1  ***** BEGIN-POOL *****
28818 00005D8E 0000                   I1  ALIGNMENT CODE
28819 00005D90 00000000               I1  DATA FOR SOURCE-LINE 728
28820 00005D94 00000000               I1  DATA FOR SOURCE-LINE 730
28821 00005D98 00000000               I1  DATA FOR SOURCE-LINE 737
28822 00005D9C 03FFFFFF               I1  DATA FOR SOURCE-LINE 751
28823 00005DA0 00000000               I1  DATA FOR SOURCE-LINE 758
28824 00005DA4 00000000               I1  DATA FOR SOURCE-LINE 761
28825                                 I1  ***** END-POOL *****
28826 00005DA8                    782 I1  _CNT_STOP_CMD_DATA_SUB1:
28827                             783 I1          SUB_START
28828 00005DA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28830                             784 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   408
PROGRAM NAME =

28831 00005DAA D410               785 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28832 00005DAC 6642               786 I1          MOV.L   @R4,R6                                                  ;
28833 00005DAE 255A               787 I1          XOR     R5,R5                                                   ;
28834                             788 I1  
28835 00005DB0 D40F               789 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28836 00005DB2 6142               790 I1          MOV.L   @R4,R1                                                  ;
28837 00005DB4 5241               791 I1          MOV.L   @(4,R4),R2                                              ;
28838                             792 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28839 00005DB6 0008                   M           CLRT
28840 00005DB8 326A                   M           SUBC    R6,R2
28841 00005DBA 315A                   M           SUBC    R5,R1
28842 00005DBC 2412               793 I1          MOV.L   R1,@R4                                                  ;
28843 00005DBE 1421               794 I1          MOV.L   R2,@(4,R4)                                              ;
28844 00005DC0 D40C               795 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                                ;
28845 00005DC2 2412               796 I1          MOV.L   R1,@R4                                                  ;
28846 00005DC4 1421               797 I1          MOV.L   R2,@(4,R4)                                              ;
28847                             798 I1  
28848 00005DC6 D40C               799 I1          MOV.L   #_LNGTH_ADD_DATA,R4                                     ;//符号付き
28849 00005DC8 6142               800 I1          MOV.L   @R4,R1                                                  ;
28850 00005DCA 5241               801 I1          MOV.L   @(4,R4),R2                                              ;
28851                             802 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28852 00005DCC 0008                   M           CLRT
28853 00005DCE 326A                   M           SUBC    R6,R2
28854 00005DD0 315A                   M           SUBC    R5,R1
28855                             803 I1  
28856 00005DD2 4111               804 I1          CMP/PZ  R1
28857 00005DD4 8901               805 I1          BT      CNT_STOP_CMD_DATSUB1_100                                ;
28858 00005DD6 211A               806 I1          XOR     R1,R1                                                   ;
28859 00005DD8 222A               807 I1          XOR     R2,R2                                                   ;
28860 00005DDA                    808 I1  CNT_STOP_CMD_DATSUB1_100:                                               ;
28861                             809 I1  
28862 00005DDA 2412               810 I1          MOV.L   R1,@R4                                                  ;
28863 00005DDC 1421               811 I1          MOV.L   R2,@(4,R4)                                              ;
28864                             812 I1  
28865 00005DDE D407               813 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                                  ;//符号付き
28866 00005DE0 2412               814 I1          MOV.L   R1,@R4                                                  ;
28867 00005DE2 1421               815 I1          MOV.L   R2,@(4,R4)                                              ;
28868                             816 I1  
28869                             817 I1  
28870                             818 I1          SUB_END
28871                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28872 00005DE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28873                             819 I1          M_RTS
28874 00005DE6 000B                   M           RTS                             ;RTSの後ろの
28875 00005DE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28876                             820 I1  
28877                             821 I1  
28878                                 I1  ***** BEGIN-POOL *****
28879 00005DEA 0000                   I1  ALIGNMENT CODE
28880 00005DEC 00000000               I1  DATA FOR SOURCE-LINE 785
28881 00005DF0 00000000               I1  DATA FOR SOURCE-LINE 789
28882 00005DF4 00000000               I1  DATA FOR SOURCE-LINE 795
28883 00005DF8 00000000               I1  DATA FOR SOURCE-LINE 799
28884 00005DFC 00000000               I1  DATA FOR SOURCE-LINE 813
28885                                 I1  ***** END-POOL *****
28886 00005E00                    822 I1  _CNT_STOP_CMD_DATA_SUB2:
28887                             823 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   409
PROGRAM NAME =

28888 00005E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
28889                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28890 00005E02 D40A               824 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28891 00005E04 6642               825 I1          MOV.L   @R4,R6                                                  ;
28892 00005E06 255A               826 I1          XOR     R5,R5                                                   ;
28893                             827 I1  
28894 00005E08 D409               828 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R4                                 ;
28895 00005E0A 6142               829 I1          MOV.L   @R4,R1                                                  ;
28896 00005E0C 5241               830 I1          MOV.L   @(4,R4),R2                                              ;
28897                             831 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28898 00005E0E 0008                   M           CLRT
28899 00005E10 326A                   M           SUBC    R6,R2
28900 00005E12 315A                   M           SUBC    R5,R1
28901                             832 I1  
28902 00005E14 4111               833 I1          CMP/PZ  R1                                                      ;
28903 00005E16 8901               834 I1          BT      CNT_STOP_CMD_DATSUB2_100                                ;
28904 00005E18 211A               835 I1          XOR     R1,R1
28905 00005E1A 222A               836 I1          XOR     R2,R2
28906 00005E1C                    837 I1  CNT_STOP_CMD_DATSUB2_100:
28907 00005E1C 2412               838 I1          MOV.L   R1,@R4                                                  ;
28908 00005E1E 1421               839 I1          MOV.L   R2,@(4,R4)                                              ;
28909                             840 I1  
28910 00005E20 D404               841 I1          MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R4                              ;
28911 00005E22 2412               842 I1          MOV.L   R1,@R4                                                  ;
28912 00005E24 1421               843 I1          MOV.L   R2,@(4,R4)                                              ;
28913                             844 I1  
28914                             845 I1          SUB_END
28915                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28916 00005E26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28917                             846 I1          M_RTS
28918 00005E28 000B                   M           RTS                             ;RTSの後ろの
28919 00005E2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28920                             847 I1  
28921                             848 I1  
28922                            8848     
28923                            8849     
28924                            8850     ;       ***********************************
28925                            8851     ;       ***                             ***
28926                            8852     ;       ***     2006-05-09              ***
28927                            8853     ;       ***                             ***
28928                            8854     ;       ***********************************
28929                            8855             .EXPORT _SELF_POS_START_WORK_CLR
28930                                     ***** BEGIN-POOL *****
28931 00005E2C 00000000                   DATA FOR SOURCE-LINE 824
28932 00005E30 00000000                   DATA FOR SOURCE-LINE 828
28933 00005E34 00000000                   DATA FOR SOURCE-LINE 841
28934                                     ***** END-POOL *****
28935 00005E38                   8856             .ALIGN  4                               ;
28936 00005E38                   8857     _SELF_POS_START_WORK_CLR:
28937                            8858             SUB_START
28938 00005E38 4F22                   M           STS.L   PR,@-R15                ;[必要]
28939                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28940                            8859             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
28941 00005E3A D004                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28942 00005E3C 400B                   M           JSR     @R0                     ;
28943 00005E3E 0009                   M           NOP                                     ;
28944                            8860             FAR_JSR #_POS_LSI_WORK_STOP2,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   410
PROGRAM NAME =

28945 00005E40 D003                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28946 00005E42 400B                   M           JSR     @R0                     ;
28947 00005E44 0009                   M           NOP                                     ;
28948                            8861             SUB_END
28949                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28950 00005E46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28951                            8862             M_RTS
28952 00005E48 000B                   M           RTS                             ;RTSの後ろの
28953 00005E4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28954                            8863     
28955                            8864     ;       ***********************************
28956                            8865     ;       ***                             ***
28957                            8866     ;       ***     2006-07-28              ***
28958                            8867     ;       ***                             ***
28959                            8868     ;       ***********************************
28960                                     ***** BEGIN-POOL *****
28961 00005E4C 00000000                   DATA FOR SOURCE-LINE 8859
28962 00005E50 00000000                   DATA FOR SOURCE-LINE 8860
28963                                     ***** END-POOL *****
28964 00005E54                   8869             .ALIGN  4                               ;
28965 00005E54                   8870     _POS_CALC_MISS0:
28966                            8871             SUB_START
28967 00005E54 4F22                   M           STS.L   PR,@-R15                ;[必要]
28968                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28969                            8872             PUSH_REG1 R0
28970 00005E56 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28971                                 M                                           ;REG=>[SP]
28972                                 M                                           ;"-4" FF,FF,FF,FC
28973                            8873             PUSH_REG1 R1
28974 00005E58 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28975                                 M                                           ;REG=>[SP]
28976                                 M                                           ;"-4" FF,FF,FF,FC
28977                            8874             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT0,WKREG=R1      ;
28978 00005E5A D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28979 00005E5C 6011                   M           MOV.W   @R1,R0          ;
28980 00005E5E CB01                   M           OR      #BIT0,R0                ;
28981 00005E60 2101                   M           MOV.W   R0,@R1          ;
28982                            8875             POP_REG1 R1
28983                                 M                                   ; RE"+4" 00,00,00,04
28984 00005E62 61F6                   M           MOV.L   @R15+,R1        ;
28985                            8876             POP_REG1 R0
28986                                 M                                   ; RE"+4" 00,00,00,04
28987 00005E64 60F6                   M           MOV.L   @R15+,R0        ;
28988                            8877             SUB_END
28989                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28990 00005E66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28991                            8878             M_RTS
28992 00005E68 000B                   M           RTS                             ;RTSの後ろの
28993 00005E6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28994                            8879     
28995                                     ***** BEGIN-POOL *****
28996 00005E6C 00000000                   DATA FOR SOURCE-LINE 8874
28997                                     ***** END-POOL *****
28998 00005E70                   8880             .ALIGN  4                               ;
28999 00005E70                   8881     _POS_CALC_MISS1:
29000                            8882             SUB_START
29001 00005E70 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   411
PROGRAM NAME =

29002                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29003                            8883             PUSH_REG1 R0
29004 00005E72 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29005                                 M                                           ;REG=>[SP]
29006                                 M                                           ;"-4" FF,FF,FF,FC
29007                            8884             PUSH_REG1 R1
29008 00005E74 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29009                                 M                                           ;REG=>[SP]
29010                                 M                                           ;"-4" FF,FF,FF,FC
29011                            8885             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT1,WKREG=R1      ;
29012 00005E76 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
29013 00005E78 6011                   M           MOV.W   @R1,R0          ;
29014 00005E7A CB02                   M           OR      #BIT1,R0                ;
29015 00005E7C 2101                   M           MOV.W   R0,@R1          ;
29016                            8886             POP_REG1 R1
29017                                 M                                   ; RE"+4" 00,00,00,04
29018 00005E7E 61F6                   M           MOV.L   @R15+,R1        ;
29019                            8887             POP_REG1 R0
29020                                 M                                   ; RE"+4" 00,00,00,04
29021 00005E80 60F6                   M           MOV.L   @R15+,R0        ;
29022                            8888             SUB_END
29023                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29024 00005E82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29025                            8889             M_RTS
29026 00005E84 000B                   M           RTS                             ;RTSの後ろの
29027 00005E86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29028                            8890     
29029                                     ***** BEGIN-POOL *****
29030 00005E88 00000000                   DATA FOR SOURCE-LINE 8885
29031                                     ***** END-POOL *****
29032 00005E8C                   8891             .ALIGN  4                               ;
29033 00005E8C                   8892     _POS_CALC_MISS2:
29034                            8893             SUB_START
29035 00005E8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29036                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29037                            8894             PUSH_REG1 R0
29038 00005E8E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29039                                 M                                           ;REG=>[SP]
29040                                 M                                           ;"-4" FF,FF,FF,FC
29041                            8895             PUSH_REG1 R1
29042 00005E90 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29043                                 M                                           ;REG=>[SP]
29044                                 M                                           ;"-4" FF,FF,FF,FC
29045                            8896             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT2,WKREG=R1      ;
29046 00005E92 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
29047 00005E94 6011                   M           MOV.W   @R1,R0          ;
29048 00005E96 CB04                   M           OR      #BIT2,R0                ;
29049 00005E98 2101                   M           MOV.W   R0,@R1          ;
29050                            8897             POP_REG1 R1
29051                                 M                                   ; RE"+4" 00,00,00,04
29052 00005E9A 61F6                   M           MOV.L   @R15+,R1        ;
29053                            8898             POP_REG1 R0
29054                                 M                                   ; RE"+4" 00,00,00,04
29055 00005E9C 60F6                   M           MOV.L   @R15+,R0        ;
29056                            8899             SUB_END
29057                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29058 00005E9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   412
PROGRAM NAME =

29059                            8900     
29060                            8901             M_RTS
29061 00005EA0 000B                   M           RTS                             ;RTSの後ろの
29062 00005EA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29063                            8902     ;       ===================================================================
29064                            8903     ;       ====                                                            ===
29065                            8904     ;       ====                                                            ===
29066                            8905     ;       ====                                                            ===
29067                            8906     ;       ====            2006-09-19オーバライド周波数対応                ===
29068                            8907     ;       ====                                                            ===
29069                            8908     ;       ====                                                            ===
29070                            8909     ;       ====                                                            ===
29071                            8910     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29072                            8911     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29073                            8912     ;       ====    <3>:減速の補正は行なわない                              ===
29074                            8913     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29075                            8914     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29076                            8915     ;       ====                                                            ===
29077                            8916     ;       ====                                                            ===
29078                            8917     ;       ===================================================================
29079                            8918     
29080                            8919     
29081                            8920     
29082                            8921     
29083                            8922     ;       ***************************************************
29084                            8923     ;       ***                                             ***
29085                            8924     ;       ***     SEQからのｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀの取り込み         ***
29086                            8925     ;       ***                                             ***
29087                            8926     ;       ***************************************************
29088                                     ***** BEGIN-POOL *****
29089 00005EA4 00000000                   DATA FOR SOURCE-LINE 8896
29090                                     ***** END-POOL *****
29091 00005EA8                   8927             .ALIGN  4                               ;
29092 00005EA8                   8928     _OVER_LIDE_SEQREF:
29093                            8929             SUB_START
29094 00005EA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29095                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29096                            8930     
29097 00005EAA D10A              8931             MOV.L   #_CB_SEQ_CB_COM346,R1
                                          ;
29098 00005EAC 6011              8932             MOV.W   @R1,R0
                                          ;
29099 00005EAE 6503              8933             MOV     R0,R5
                                          ;
29100 00005EB0 C880              8934             TST     #BIT7,R0
                                          ;
29101                            8935             TST_BIT_ON OVER_LIDE_SQRF100
                                          ;
29102 00005EB2 8B15                   M           BF      OVER_LIDE_SQRF100
29103                            8936     
29104 00005EB4 D108              8937             MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
29105 00005EB6 6011              8938             MOV.W   @R1,R0                          ;
29106 00005EB8 C802              8939             TST     #BIT1,R0                        ;
29107                            8940             TST_BIT_OF OVER_LIDE_SQRF300            ;
29108 00005EBA 8935                   M           BT      OVER_LIDE_SQRF300
29109                            8941             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=~BIT1,WKREG=R1
                                          ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   413
PROGRAM NAME =

29110 00005EBC D106                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
29111 00005EBE 6011                   M           MOV.W   @R1,R0          ;
29112 00005EC0 C9FD                   M           AND     #LOW ~BIT1,R0           ;
29113 00005EC2 2101                   M           MOV.W   R0,@R1          ;
29114                            8942             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB230),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                                  ;
29115 00005EC4 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB230),R1           ;
29116 00005EC6 6011                   M           MOV.W   @R1,R0          ;
29117 00005EC8 9403                   M           MOV.W   #LWORD (~BIT7),R4       ;
29118 00005ECA 2049                   M           AND     R4,R0           ;
29119 00005ECC 2101                   M           MOV.W   R0,@R1          ;
29120                            8943             M_BRA   OVER_LIDE_SQRF300
                                          ;
29121 00005ECE A02B                   M           BRA     OVER_LIDE_SQRF300
29122 00005ED0 0009                   M           NOP
29123                            8944     
29124                            8945     
29125                            8946     ;       --- REQ ON(ON EDGE 取込)--------
29126                                     ***** BEGIN-POOL *****
29127 00005ED2 FF7F                       DATA FOR SOURCE-LINE 8942
29128 00005ED4 00000000                   DATA FOR SOURCE-LINE 8931
29129 00005ED8 00000000                   DATA FOR SOURCE-LINE 8937,8941
29130 00005EDC 00000000                   DATA FOR SOURCE-LINE 8942
29131                                     ***** END-POOL *****
29132 00005EE0                   8947     OVER_LIDE_SQRF100:
29133 00005EE0 D114              8948             MOV.L   #_OVER_RIDE_LATE_FLG,R1                                 ;
29134 00005EE2 6011              8949             MOV.W   @R1,R0                                                  ;
29135 00005EE4 C802              8950             TST     #BIT1,R0                                                ;
29136                            8951             TST_BIT_ON OVER_LIDE_SQRF300                                    ;
29137 00005EE6 8B1F                   M           BF      OVER_LIDE_SQRF300
29138                            8952     
29139 00005EE8 D113              8953             MOV.L   #_CB_SEQ_CB_COM346,R1                                   ;//20030524
29140 00005EEA 6011              8954             MOV.W   @R1,R0                                                  ;T-LINK=>OVER-RIDE
29141 00005EEC 941F              8955             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4                ;
29142 00005EEE 2049              8956             AND     R4,R0                                                   ;
29143 00005EF0 D112              8957             MOV.L   #_OVER_RIDE_LATE_REQ,R1                                 ;//1~127% OVER-RID
                                          E無効時100%
29144 00005EF2 2101              8958             MOV.W   R0,@R1                                                  ;
29145                            8959     ;       ------------ ANS MAKE ----------------------
29146 00005EF4 D412              8960             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29147 00005EF6 2401              8961             MOV.W   R0,@R4                                                          ;
29148 00005EF8 D312              8962             MOV.L   #_SQ_CBWK_TOP+_WKSQCB230,R3                                     ;
29149 00005EFA 6231              8963             MOV.W   @R3,R2                                                          ;
29150 00005EFC D410              8964             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29151 00005EFE 6041              8965             MOV.W   @R4,R0                                                          ;
29152 00005F00 CB80              8966             OR      #BIT7,R0                                                        ;ANS+ACK
29153 00005F02 9115              8967             MOV.W   #H'FF00,R1                                                      ;
29154 00005F04 2219              8968             AND     R1,R2                                                           ;
29155 00005F06 6117              8969             NOT     R1,R1                                                           ;
29156 00005F08 2019              8970             AND     R1,R0                                                           ;
29157 00005F0A 220B              8971             OR      R0,R2                                                           ;
29158 00005F0C 2321              8972             MOV.W   R2,@R3                                                          ;
29159                            8973     
29160 00005F0E D40C              8974             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   414
PROGRAM NAME =

29161 00005F10 6041              8975             MOV.W   @R4,R0                                                          ;
29162 00005F12 2008              8976             TST     R0,R0                                                           ;
29163                            8977             TST_BIT_ON OVER_LIDE_SQRF220                                            ;
29164 00005F14 8B00                   M           BF      OVER_LIDE_SQRF220
29165 00005F16 E001              8978             MOV     #1,R0                                                           ;
29166 00005F18                   8979     OVER_LIDE_SQRF220:
29167 00005F18 D10B              8980             MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1                                        ;
29168 00005F1A 2101              8981             MOV.W   R0,@R1                                                          ;
29169 00005F1C D10B              8982             MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1                                        ;
29170 00005F1E 2101              8983             MOV.W   R0,@R1
29171                            8984     
29172                            8985             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=BIT1,WKREG=R4  ;
29173 00005F20 D404                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R4         ;
29174 00005F22 6041                   M           MOV.W   @R4,R0          ;
29175 00005F24 CB02                   M           OR      #BIT1,R0                ;
29176 00005F26 2401                   M           MOV.W   R0,@R4          ;
29177                            8986     
29178 00005F28                   8987     OVER_LIDE_SQRF300:
29179                            8988             SUB_END
29180                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29181 00005F28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29182                            8989             M_RTS
29183 00005F2A 000B                   M           RTS                             ;RTSの後ろの
29184 00005F2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29185                            8990     
29186                            8991     
29187                            8992     
29188                            8993     
29189                            8994     ;       ***********************************
29190                            8995     ;       ***                             ***
29191                            8996     ;       ***     EMG時初期値にする       ***
29192                            8997     ;       ***                             ***
29193                            8998     ;       ***********************************
29194                                     ***** BEGIN-POOL *****
29195 00005F2E 007F                       DATA FOR SOURCE-LINE 8955
29196 00005F30 FF00                       DATA FOR SOURCE-LINE 8967
29197 00005F32 0000                       ALIGNMENT CODE
29198 00005F34 00000000                   DATA FOR SOURCE-LINE 8948,8985
29199 00005F38 00000000                   DATA FOR SOURCE-LINE 8953
29200 00005F3C 00000000                   DATA FOR SOURCE-LINE 8957
29201 00005F40 00000000                   DATA FOR SOURCE-LINE 8960,8964,8974
29202 00005F44 00000000                   DATA FOR SOURCE-LINE 8962
29203 00005F48 00000000                   DATA FOR SOURCE-LINE 8980
29204 00005F4C 00000000                   DATA FOR SOURCE-LINE 8982
29205                                     ***** END-POOL *****
29206 00005F50                   8999             .ALIGN  4                               ;
29207 00005F50                   9000     _OVERLID_DEF_SET:
29208                            9001             SUB_START
29209 00005F50 4F22                   M           STS.L   PR,@-R15                ;[必要]
29210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29211                            9002             FAR_JSR #_OVERLID_SEQ_DEF_SET,R0
29212 00005F52 D006                   M           MOV.L   #_OVERLID_SEQ_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29213 00005F54 400B                   M           JSR     @R0                     ;
29214 00005F56 0009                   M           NOP                                     ;
29215                            9003             FAR_JSR #_OVERLID_GMN_DEF_SET,R0
29216 00005F58 D005                   M           MOV.L   #_OVERLID_GMN_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29217 00005F5A 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   415
PROGRAM NAME =

29218 00005F5C 0009                   M           NOP                                     ;
29219                            9004             FAR_JSR #_OVERLID_CTL_DEF_SET,R0
29220 00005F5E D005                   M           MOV.L   #_OVERLID_CTL_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29221 00005F60 400B                   M           JSR     @R0                     ;
29222 00005F62 0009                   M           NOP                                     ;
29223                            9005             SUB_END
29224                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29225 00005F64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29226                            9006             M_RTS
29227 00005F66 000B                   M           RTS                             ;RTSの後ろの
29228 00005F68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29229                            9007     
29230                                     ***** BEGIN-POOL *****
29231 00005F6A 0000                       ALIGNMENT CODE
29232 00005F6C 00000000                   DATA FOR SOURCE-LINE 9002
29233 00005F70 00000000                   DATA FOR SOURCE-LINE 9003
29234 00005F74 00000000                   DATA FOR SOURCE-LINE 9004
29235                                     ***** END-POOL *****
29236 00005F78                   9008             .ALIGN  4                               ;
29237 00005F78                   9009     _OVERLID_SEQ_DEF_SET:
29238                            9010             SUB_START
29239 00005F78 4F22                   M           STS.L   PR,@-R15                ;[必要]
29240                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29241 00005F7A 9206              9011             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29242                            9012             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29243 00005F7C D103                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1        ;DST_ADR
29244 00005F7E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29245                            9013             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29246 00005F80 D103                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1        ;DST_ADR
29247 00005F82 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29248                            9014             SUB_END
29249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29250 00005F84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29251                            9015             M_RTS
29252 00005F86 000B                   M           RTS                             ;RTSの後ろの
29253 00005F88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29254                            9016     
29255                                     ***** BEGIN-POOL *****
29256 00005F8A 0064                       DATA FOR SOURCE-LINE 9011
29257 00005F8C 00000000                   DATA FOR SOURCE-LINE 9012
29258 00005F90 00000000                   DATA FOR SOURCE-LINE 9013
29259                                     ***** END-POOL *****
29260 00005F94                   9017             .ALIGN  4                               ;
29261 00005F94                   9018     _OVERLID_GMN_DEF_SET:
29262                            9019             SUB_START
29263 00005F94 4F22                   M           STS.L   PR,@-R15                ;[必要]
29264                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29265 00005F96 9206              9020             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29266                            9021             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29267 00005F98 D103                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29268 00005F9A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29269                            9022             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29270 00005F9C D103                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29271 00005F9E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29272                            9023             SUB_END
29273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29274 00005FA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   416
PROGRAM NAME =

29275                            9024             M_RTS
29276 00005FA2 000B                   M           RTS                             ;RTSの後ろの
29277 00005FA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29278                            9025     
29279                                     ***** BEGIN-POOL *****
29280 00005FA6 0064                       DATA FOR SOURCE-LINE 9020
29281 00005FA8 00000000                   DATA FOR SOURCE-LINE 9021
29282 00005FAC 00000000                   DATA FOR SOURCE-LINE 9022
29283                                     ***** END-POOL *****
29284 00005FB0                   9026             .ALIGN  4                               ;
29285 00005FB0                   9027     _OVERLID_CTL_DEF_SET:
29286                            9028             SUB_START
29287 00005FB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
29288                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29289 00005FB2 920A              9029             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29290                            9030             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29291 00005FB4 D105                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29292 00005FB6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29293                            9031             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29294 00005FB8 D105                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29295 00005FBA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29296                            9032     
29297                            9033             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_SPD_LAT,L1=W,DT_REG=R2,WKREG1=R1
29298 00005FBC D105                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R1        ;DST_ADR
29299 00005FBE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29300                            9034             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_ACC_LAT,L1=W,DT_REG=R2,WKREG1=R1   ;
29301 00005FC0 D105                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R1        ;DST_ADR
29302 00005FC2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29303                            9035             SUB_END
29304                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29305 00005FC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29306                            9036             M_RTS
29307 00005FC6 000B                   M           RTS                             ;RTSの後ろの
29308 00005FC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29309                            9037     
29310                            9038     
29311                            9039     ;       ***********************************
29312                            9040     ;       ***                             ***
29313                            9041     ;       ***     2006-07-28              ***
29314                            9042     ;       ***     画面ｵｰﾊﾞﾗｲﾄﾞ            ***
29315                            9043     ;       ***                             ***
29316                            9044     ;       ***********************************
29317                            9045     ;------2013-02-08 ---
29318                            9046             .IMPORT _SVP_OVERLIDE_COF
29319                            9047     
29320                                     ***** BEGIN-POOL *****
29321 00005FCA 0064                       DATA FOR SOURCE-LINE 9029
29322 00005FCC 00000000                   DATA FOR SOURCE-LINE 9030
29323 00005FD0 00000000                   DATA FOR SOURCE-LINE 9031
29324 00005FD4 00000000                   DATA FOR SOURCE-LINE 9033
29325 00005FD8 00000000                   DATA FOR SOURCE-LINE 9034
29326                                     ***** END-POOL *****
29327 00005FDC                   9048             .ALIGN  4                               ;
29328 00005FDC                   9049     _GAMEN_OVER_RIDE:
29329                            9050             SUB_START
29330 00005FDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29331                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   417
PROGRAM NAME =

29332                            9051     
29333                            9052     ;------2013-02-08 ---
29334 00005FDE D108              9053             MOV.L   #_SVP_OVERLIDE_COF,R1           ;
29335 00005FE0 6211              9054             MOV.W   @R1,R2                          ;
29336 00005FE2 D108              9055             MOV.L   #_SET1_OVERLIDE_COF,R1          ;
29337 00005FE4 2121              9056             MOV.W   R2,@R1                          ;
29338                            9057     ;       ----------------------------
29339                            9058     
29340                            9059     
29341 00005FE6 D107              9060             MOV.L   #_SET1_OVERLIDE_COF,R1                                          ;
29342 00005FE8 6211              9061             MOV.W   @R1,R2                                                          ;
29343 00005FEA 2228              9062             TST     R2,R2                                                           ;
29344                            9063             TST_BIT_ON GAMEN_OVRIDE_100                                             ;
29345 00005FEC 8B00                   M           BF      GAMEN_OVRIDE_100
29346 00005FEE 9206              9064             MOV.W   #1,R2                                                           ;
29347 00005FF0                   9065     GAMEN_OVRIDE_100:                                                               ;
29348                            9066             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29349 00005FF0 D105                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29350 00005FF2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29351                            9067             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29352 00005FF4 D105                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29353 00005FF6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29354                            9068             SUB_END
29355                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29356 00005FF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29357                            9069             M_RTS
29358 00005FFA 000B                   M           RTS                             ;RTSの後ろの
29359 00005FFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29360                            9070     
29361                            9071     ;       ***************************************************
29362                            9072     ;       ***                                             ***
29363                            9073     ;       ***                                             ***
29364                            9074     ;       ***                                             ***
29365                            9075     ;       ***************************************************
29366                                     ***** BEGIN-POOL *****
29367 00005FFE 0001                       DATA FOR SOURCE-LINE 9064
29368 00006000 00000000                   DATA FOR SOURCE-LINE 9053
29369 00006004 00000000                   DATA FOR SOURCE-LINE 9055,9060
29370 00006008 00000000                   DATA FOR SOURCE-LINE 9066
29371 0000600C 00000000                   DATA FOR SOURCE-LINE 9067
29372                                     ***** END-POOL *****
29373 00006010                   9076             .ALIGN  4                               ;
29374 00006010                   9077     _SET_OVER_RIDE:
29375                            9078             SUB_START
29376 00006010 4F22                   M           STS.L   PR,@-R15                ;[必要]
29377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29378 00006012 D10D              9079             MOV.L   #_MODE_SEL,R1                                                   ;
29379 00006014 6011              9080             MOV.W   @R1,R0                                                          ;
29380 00006016 C81E              9081             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                                 ;
29381                            9082             TST_BIT_OF SET_OVERID500                                                ;
29382 00006018 8948                   M           BT      SET_OVERID500
29383                            9083     
29384 0000601A D10C              9084             MOV.L   #_OVERLIDE_DT_SEL,R1                                            ;画面ｵｰﾊﾞﾗ
                                          ｲﾄﾞ有効
29385 0000601C 6011              9085             MOV.W   @R1,R0                                                          ;
29386 0000601E 8801              9086             CMP/EQ  #1,R0                                                           ;
29387 00006020 8B20              9087             BF      SET_OVERID200                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   418
PROGRAM NAME =

29388                            9088     ;       ------ 画面ﾃﾞｰﾀ有効--------
29389                            9089             MEM_MOV_TO_MEM  _SET_GMN_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29390 00006022 D10B                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1
29391 00006024 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29392 00006026 D30B                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29393 00006028 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29394                            9090             MEM_MOV_TO_MEM  _SET_GMN_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
29395 0000602A D10B                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1
29396 0000602C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29397 0000602E D30B                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29398 00006030 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29399                            9091             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT0,WKREG=R4    ;
29400 00006032 D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29401 00006034 6041                   M           MOV.W   @R4,R0          ;
29402 00006036 CB01                   M           OR      #BIT0,R0                ;
29403 00006038 2401                   M           MOV.W   R0,@R4          ;
29404                            9092             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29405 0000603A D409                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29406 0000603C 6041                   M           MOV.W   @R4,R0          ;
29407 0000603E C9FD                   M           AND     #LOW ~BIT1,R0           ;
29408 00006040 2401                   M           MOV.W   R0,@R4          ;
29409                            9093             M_BRA   SET_OVERID900
29410 00006042 A040                   M           BRA     SET_OVERID900
29411 00006044 0009                   M           NOP
29412                            9094     
29413                                     ***** BEGIN-POOL *****
29414 00006046 0000                       ALIGNMENT CODE
29415 00006048 00000000                   DATA FOR SOURCE-LINE 9079
29416 0000604C 00000000                   DATA FOR SOURCE-LINE 9084
29417 00006050 00000000                   DATA FOR SOURCE-LINE 9089
29418 00006054 00000000                   DATA FOR SOURCE-LINE 9089
29419 00006058 00000000                   DATA FOR SOURCE-LINE 9090
29420 0000605C 00000000                   DATA FOR SOURCE-LINE 9090
29421 00006060 00000000                   DATA FOR SOURCE-LINE 9091,9092
29422                                     ***** END-POOL *****
29423 00006064                   9095     SET_OVERID200:
29424                            9096             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT0,WKREG=R4  ;
29425 00006064 D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29426 00006066 6041                   M           MOV.W   @R4,R0          ;
29427 00006068 C9FE                   M           AND     #LOW ~BIT0,R0           ;
29428 0000606A 2401                   M           MOV.W   R0,@R4          ;
29429                            9097     
29430                            9098     ;       ===========================
29431                            9099     ;       ===     ｼｰｹﾝｽ           ===
29432                            9100     ;       ===========================
29433 0000606C D10A              9101             MOV.L   #_CB_SEQ_CB_COM346,R1                                           ;
29434 0000606E 6311              9102             MOV.W   @R1,R3                                                          ;
29435 00006070 940F              9103             MOV.W   #BIT15,R4                                                       ;
29436 00006072 2348              9104             TST     R4,R3                                                           ;
29437                            9105             TST_BIT_OF SET_OVERID500
29438 00006074 891A                   M           BT      SET_OVERID500
29439                            9106             MEM_MOV_TO_MEM  _SET_SEQ_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29440 00006076 D109                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1
29441 00006078 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29442 0000607A D309                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29443 0000607C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29444                            9107             MEM_MOV_TO_MEM  _SET_SEQ_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   419
PROGRAM NAME =

29445 0000607E D109                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1
29446 00006080 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29447 00006082 D309                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29448 00006084 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29449                            9108             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT1,WKREG=R4    ;
29450 00006086 D403                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29451 00006088 6041                   M           MOV.W   @R4,R0          ;
29452 0000608A CB02                   M           OR      #BIT1,R0                ;
29453 0000608C 2401                   M           MOV.W   R0,@R4          ;
29454                            9109             M_BRA   SET_OVERID900                                                   ;
29455 0000608E A01A                   M           BRA     SET_OVERID900
29456 00006090 0009                   M           NOP
29457                            9110     
29458                                     ***** BEGIN-POOL *****
29459 00006092 8000                       DATA FOR SOURCE-LINE 9103
29460 00006094 00000000                   DATA FOR SOURCE-LINE 9096,9108
29461 00006098 00000000                   DATA FOR SOURCE-LINE 9101
29462 0000609C 00000000                   DATA FOR SOURCE-LINE 9106
29463 000060A0 00000000                   DATA FOR SOURCE-LINE 9106
29464 000060A4 00000000                   DATA FOR SOURCE-LINE 9107
29465 000060A8 00000000                   DATA FOR SOURCE-LINE 9107
29466                                     ***** END-POOL *****
29467 000060AC                   9111     SET_OVERID500:
29468 000060AC 920E              9112             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29469                            9113             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29470 000060AE D108                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29471 000060B0 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29472                            9114             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29473 000060B2 D108                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29474 000060B4 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29475                            9115             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29476 000060B6 D408                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29477 000060B8 6041                   M           MOV.W   @R4,R0          ;
29478 000060BA C9FD                   M           AND     #LOW ~BIT1,R0           ;
29479 000060BC 2401                   M           MOV.W   R0,@R4          ;
29480                            9116     
29481                            9117             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
29482 000060BE D406                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29483 000060C0 6041                   M           MOV.W   @R4,R0          ;
29484 000060C2 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
29485 000060C4 2401                   M           MOV.W   R0,@R4          ;
29486                            9118     
29487 000060C6                   9119     SET_OVERID900:
29488                            9120     
29489                            9121             SUB_END
29490                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29491 000060C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29492                            9122             M_RTS
29493 000060C8 000B                   M           RTS                             ;RTSの後ろの
29494 000060CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29495                            9123     
29496                            9124     
29497                            9125     
29498                            9126     
29499                            9127     ;       ***********************************************************
29500                            9128     ;       ***                                                     ***
29501                            9129     ;       ***                                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   420
PROGRAM NAME =

29502                            9130     ;       ***                     化石                            ***
29503                            9131     ;       ***                                                     ***
29504                            9132     ;       ***                                                     ***
29505                            9133     ;       ***********************************************************
29506                            9134     
29507                            9135     
29508                            9136     
29509                            9137     
29510                            9138     
29511                            9139     
29512                            9140     
29513                            9141     
29514                            9142     
29515                            9143     
29516                            9144     
29517                            9145     
29518                            9146     
29519                            9147     
29520                            9148     
29521                            9149     
29522                            9150     ;       ***********************************************************
29523                            9151     ;       ***                                                     ***
29524                            9152     ;       ***                                                     ***
29525                            9153     ;       ***                                                     ***
29526                            9154     ;       ***             その他からのＣＡＬＬ                    ***
29527                            9155     ;       ***                                                     ***
29528                            9156     ;       ***                                                     ***
29529                            9157     ;       ***                                                     ***
29530                            9158     ;       ***********************************************************
29531                            9159     ;       *******************************************
29532                            9160     ;       ***                                     ***
29533                            9161     ;       ***             運転釦ON起動時          ***
29534                            9162     ;       ***                                     ***
29535                            9163     ;       *******************************************
29536                            9164             .EXPORT _OVER_RID_UPDN_LAT_DTMK
29537                                     ***** BEGIN-POOL *****
29538 000060CC 0064                       DATA FOR SOURCE-LINE 9112
29539 000060CE 0000                       ALIGNMENT CODE
29540 000060D0 00000000                   DATA FOR SOURCE-LINE 9113
29541 000060D4 00000000                   DATA FOR SOURCE-LINE 9114
29542 000060D8 00000000                   DATA FOR SOURCE-LINE 9115,9117
29543                                     ***** END-POOL *****
29544 000060DC                   9165             .ALIGN  4                               ;
29545 000060DC                   9166     _OVER_RID_UPDN_LAT_DTMK:
29546                            9167             SUB_START
29547 000060DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29548                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29549 000060DE D10B              9168             MOV.L   #_OVER_UPDN_DBGCNT,R1
29550 000060E0 6011              9169             MOV.W   @R1,R0
29551 000060E2 7001              9170             ADD     #1,R0
29552 000060E4 2101              9171             MOV.W   R0,@R1                          ;
29553                            9172             FAR_JSR #_SET_OVER_RIDE,R0              ;起動時
29554 000060E6 D00A                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29555 000060E8 400B                   M           JSR     @R0                     ;
29556 000060EA 0009                   M           NOP                                     ;
29557                            9173     
29558                            9174             FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   421
PROGRAM NAME =

29559 000060EC D009                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29560 000060EE 400B                   M           JSR     @R0                     ;
29561 000060F0 0009                   M           NOP                                     ;
29562                            9175             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
29563 000060F2 D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29564 000060F4 400B                   M           JSR     @R0                     ;
29565 000060F6 0009                   M           NOP                                     ;
29566                            9176     
29567                            9177     ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
29568                            9178             FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
29569 000060F8 D008                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29570 000060FA 400B                   M           JSR     @R0                     ;
29571 000060FC 0009                   M           NOP                                     ;
29572                            9179             FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
29573 000060FE D008                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29574 00006100 400B                   M           JSR     @R0                     ;
29575 00006102 0009                   M           NOP                                     ;
29576                            9180     
29577                            9181             SUB_END
29578                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29579 00006104 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29580                            9182             M_RTS
29581 00006106 000B                   M           RTS                             ;RTSの後ろの
29582 00006108 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29583                            9183     
29584                            9184     
29585                            9185     ;       *******************************************
29586                            9186     ;       ***                                     ***
29587                            9187     ;       ***                                     ***
29588                            9188     ;       ***     起動時及び１回転毎              ***
29589                            9189     ;       ***                                     ***
29590                            9190     ;       ***                                     ***
29591                            9191     ;       *******************************************
29592                                     ***** BEGIN-POOL *****
29593 0000610A 0000                       ALIGNMENT CODE
29594 0000610C 00000000                   DATA FOR SOURCE-LINE 9168
29595 00006110 00000000                   DATA FOR SOURCE-LINE 9172
29596 00006114 00000000                   DATA FOR SOURCE-LINE 9174
29597 00006118 00000000                   DATA FOR SOURCE-LINE 9175
29598 0000611C 00000000                   DATA FOR SOURCE-LINE 9178
29599 00006120 00000000                   DATA FOR SOURCE-LINE 9179
29600                                     ***** END-POOL *****
29601 00006124                   9192             .ALIGN  4                               ;
29602 00006124                   9193     _OVERRIDE_CALC_LATE_SEL:                                                        ;
29603                            9194             SUB_START                                                               ;
29604 00006124 4F22                   M           STS.L   PR,@-R15                ;[必要]
29605                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29606                            9195     
29607                            9196             MEM_MOV_TO_MEM  _SET_ACC_OVRLIDE,W,_POSCTL_OVER_ACC_LAT,W,R1,R2,R3      ;%
29608 00006126 D106                   M           MOV.L   #_SET_ACC_OVRLIDE,R1
29609 00006128 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29610 0000612A D306                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R3        ;DST_ADR
29611 0000612C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29612                            9197             FAR_JSR #_ACCLAT1_SV_MAK_OVR,R0                                         ;
29613 0000612E D006                   M           MOV.L   #_ACCLAT1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29614 00006130 400B                   M           JSR     @R0                     ;
29615 00006132 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   422
PROGRAM NAME =

29616                            9198             FAR_JSR #_ACCBRK1_SV_MAK_OVR,R0                                         ;
29617 00006134 D005                   M           MOV.L   #_ACCBRK1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29618 00006136 400B                   M           JSR     @R0                     ;
29619 00006138 0009                   M           NOP                                     ;
29620                            9199     
29621                            9200             SUB_END
29622                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29623 0000613A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29624                            9201             M_RTS
29625 0000613C 000B                   M           RTS                             ;RTSの後ろの
29626 0000613E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29627                            9202     
29628                                     ***** BEGIN-POOL *****
29629 00006140 00000000                   DATA FOR SOURCE-LINE 9196
29630 00006144 00000000                   DATA FOR SOURCE-LINE 9196
29631 00006148 00000000                   DATA FOR SOURCE-LINE 9197
29632 0000614C 00000000                   DATA FOR SOURCE-LINE 9198
29633                                     ***** END-POOL *****
29634 00006150                   9203             .ALIGN  4                               ;
29635 00006150                   9204     _OVERRIDE_CALC_SPED_SEL:                                                ;
29636                            9205             SUB_START                                                       ;
29637 00006150 4F22                   M           STS.L   PR,@-R15                ;[必要]
29638                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29639                            9206     
29640                            9207             MEM_MOV_TO_MEM  _SET_SPD_OVRLIDE,W,_POSCTL_OVER_SPD_LAT,W,R1,R2,R3      ;
29641 00006152 D103                   M           MOV.L   #_SET_SPD_OVRLIDE,R1
29642 00006154 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29643 00006156 D303                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R3        ;DST_ADR
29644 00006158 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29645                            9208     
29646                            9209             SUB_END
29647                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29648 0000615A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29649                            9210             M_RTS
29650 0000615C 000B                   M           RTS                             ;RTSの後ろの
29651 0000615E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29652                            9211     
29653                            9212     
29654                            9213     
29655                            9214     
29656                            9215     
29657                            9216     
29658                            9217     
29659                            9218     
29660                            9219     
29661                            9220     
29662                            9221     ;       *******************************************
29663                            9222     ;       ***                                     ***
29664                            9223     ;       ***     Input  R1:時間                  ***
29665                            9224     ;       ***     Output R1:時間×100/OVER        ***
29666                            9225     ;       ***                                     ***
29667                            9226     ;       *******************************************
29668                            9227     ;       ===================
29669                            9228     ;       ==== 2005-01-17 ===
29670                            9229             .EXPORT _OVER_RIDE_ERR_TIMCHG
29671                                     ***** BEGIN-POOL *****
29672 00006160 00000000                   DATA FOR SOURCE-LINE 9207
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   423
PROGRAM NAME =

29673 00006164 00000000                   DATA FOR SOURCE-LINE 9207
29674                                     ***** END-POOL *****
29675 00006168                   9230             .ALIGN  4                               ;
29676 00006168                   9231     _OVER_RIDE_ERR_TIMCHG:
29677                            9232             SUB_START
29678 00006168 4F22                   M           STS.L   PR,@-R15                ;[必要]
29679                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29680                            9233             PUSH_REG1 R2
29681 0000616A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29682                                 M                                           ;REG=>[SP]
29683                                 M                                           ;"-4" FF,FF,FF,FC
29684                            9234     
29685 0000616C 6213              9235             MOV     R1,R2                                           ;R1-->R2
29686                            9236     
29687 0000616E D107              9237             MOV.L   #_OVER_RIDE_USEFUL,R1                           ;
29688 00006170 6011              9238             MOV.W   @R1,R0                                          ;
29689 00006172 C801              9239             TST     #BIT0,R0                                        ;
29690                            9240             TST_BIT_OF OVER_RIDE_ERRTIMCHG_100
29691 00006174 8904                   M           BT      OVER_RIDE_ERRTIMCHG_100
29692                            9241     
29693 00006176 D006              9242             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                        ;ｵｰﾊﾞﾗｲﾄﾞ%
29694 00006178 6401              9243             MOV.W   @R0,R4                                          ;
29695                            9244     
29696                            9245     ;       ============ 2005-04-06(距離一定) =========
29697                            9246                                                                     ;
29698                            9247             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                        ;
29699 0000617A D006                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29700 0000617C 400B                   M           JSR     @R0                     ;
29701 0000617E 0009                   M           NOP                                     ;
29702                            9248                                                                     ;
29703                            9249     ;       ===========================================
29704                            9250     
29705 00006180                   9251     OVER_RIDE_ERRTIMCHG_100                                         ;
29706 00006180 6123              9252             MOV     R2,R1                                           ;
29707                            9253     
29708                            9254             POP_REG1 R2                                             ;ANS:R1
29709                                 M                                   ; RE"+4" 00,00,00,04
29710 00006182 62F6                   M           MOV.L   @R15+,R2        ;
29711                            9255             SUB_END
29712                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29713 00006184 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29714                            9256             M_RTS
29715 00006186 000B                   M           RTS                             ;RTSの後ろの
29716 00006188 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29717                            9257     
29718                            9258     
29719                            9259     ;       *******************************************
29720                            9260     ;       ***                                     ***
29721                            9261     ;       ***     時間の次元                      ***
29722                            9262     ;       ***     2005-01-17                      ***
29723                            9263     ;       ***     Input R2        ANS R2          ***
29724                            9264     ;       *******************************************
29725                            9265     ;       R0,R2 DESTROY
29726                            9266     ;       ANS:R2:_POS_LSI_ACCLT1
29727                            9267     ;       (R2)data * 100/SV
29728                            9268     ;       BREAK ERR用
29729                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   424
PROGRAM NAME =

29730 0000618A 0000                       ALIGNMENT CODE
29731 0000618C 00000000                   DATA FOR SOURCE-LINE 9237
29732 00006190 00000000                   DATA FOR SOURCE-LINE 9242
29733 00006194 00000000                   DATA FOR SOURCE-LINE 9247
29734                                     ***** END-POOL *****
29735 00006198                   9269             .ALIGN  4                               ;
29736 00006198                   9270     _OVER_RID_UPDN_LAT_CALC:
29737                            9271             SUB_START
29738 00006198 4F22                   M           STS.L   PR,@-R15                ;[必要]
29739                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29740                            9272     
29741                            9273             SUB_END
29742                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29743 0000619A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29744                            9274             M_RTS
29745 0000619C 000B                   M           RTS                             ;RTSの後ろの
29746 0000619E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29747                            9275     
29748                            9276     
29749                            9277     ;       ===================================================================
29750                            9278     ;       ====                                                            ===
29751                            9279     ;       ====                                                            ===
29752                            9280     ;       ====                                                            ===
29753                            9281     ;       ====            2006-09-19オーバライド周波数対応                ===
29754                            9282     ;       ====                                                            ===
29755                            9283     ;       ====                                                            ===
29756                            9284     ;       ====                                                            ===
29757                            9285     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29758                            9286     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29759                            9287     ;       ====    <3>:減速の補正は行なわない                              ===
29760                            9288     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29761                            9289     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29762                            9290     ;       ====                                                            ===
29763                            9291     ;       ====                                                            ===
29764                            9292     ;       ===================================================================
29765                            9293     
29766                            9294             .EXPORT _PRESET_PV_ABS_TO_OBJ
29767 000061A0                   9295     _PRESET_PV_ABS_TO_OBJ:
29768                            9296             SUB_START
29769 000061A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
29770                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29771 000061A2 D106              9297             MOV.L   #_ERR_FIRST_ST,R1
29772 000061A4 6011              9298             MOV.W   @R1,R0
29773 000061A6 C801              9299             TST     #BIT0,R0
29774                            9300             TST_BIT_ON PRESET_PVABSTOOBJ_100
29775 000061A8 8B0C                   M           BF      PRESET_PVABSTOOBJ_100
29776                            9301     
29777                            9302             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0                                          ;
29778 000061AA D005                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29779 000061AC 400B                   M           JSR     @R0                     ;
29780 000061AE 0009                   M           NOP                                     ;
29781                            9303             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_FIRST_ST,LG=W,BIT=BIT0,WKREG=R1        ;
29782 000061B0 D102                   M           MOV.L   #_ERR_FIRST_ST,R1               ;
29783 000061B2 6011                   M           MOV.W   @R1,R0          ;
29784 000061B4 CB01                   M           OR      #BIT0,R0                ;
29785 000061B6 2101                   M           MOV.W   R0,@R1          ;
29786                            9304             M_BRA   PRESET_PVABSTOOBJ_EXT                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   425
PROGRAM NAME =

29787 000061B8 A007                   M           BRA     PRESET_PVABSTOOBJ_EXT
29788 000061BA 0009                   M           NOP
29789                            9305     
29790                                     ***** BEGIN-POOL *****
29791 000061BC 00000000                   DATA FOR SOURCE-LINE 9297,9303
29792 000061C0 00000000                   DATA FOR SOURCE-LINE 9302
29793                                     ***** END-POOL *****
29794 000061C4                   9306     PRESET_PVABSTOOBJ_100:
29795                            9307             .AIF    1 EQ    0
29796                            9308     
29797                            9309             .AELSE
29798                            9310 C   
29799                            9311 C           FAR_JSR #_CPUB_GET_CPUA_OBJPOS,R0
29800 000061C4 D002                   M           MOV.L   #_CPUB_GET_CPUA_OBJPOS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29801 000061C6 400B                   M           JSR     @R0                     ;
29802 000061C8 0009                   M           NOP                                     ;
29803                            9312 C   
29804                            9313             .AENDI
29805                            9314     
29806                            9315     
29807 000061CA                   9316     PRESET_PVABSTOOBJ_EXT:
29808                            9317             SUB_END
29809                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29810 000061CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29811                            9318             M_RTS
29812 000061CC 000B                   M           RTS                             ;RTSの後ろの
29813 000061CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29814                            9319     
29815                            9320     
29816                            9321             .EXPORT _PRESET_PV_FLGCLR
29817                                     ***** BEGIN-POOL *****
29818 000061D0 00000000                   DATA FOR SOURCE-LINE 9311
29819                                     ***** END-POOL *****
29820 000061D4                   9322     _PRESET_PV_FLGCLR
29821                            9323             SUB_START
29822 000061D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29823                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29824 000061D6 200A              9324             XOR     R0,R0
29825 000061D8 D102              9325             MOV.L   #_ERR_FIRST_ST,R1       ;
29826 000061DA 2101              9326             MOV.W   R0,@R1                  ;
29827                            9327     
29828                            9328             SUB_END
29829                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29830 000061DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29831                            9329             M_RTS
29832 000061DE 000B                   M           RTS                             ;RTSの後ろの
29833 000061E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29834                            9330     
29835                            9331     
29836                            9332     
29837                            9333     
29838                                     ***** BEGIN-POOL *****
29839 000061E2 0000                       ALIGNMENT CODE
29840 000061E4 00000000                   DATA FOR SOURCE-LINE 9325
29841                                     ***** END-POOL *****
29842 000061E8                   9334     _CPUB_GET_CPUA_OBJPOS
29843                            9335             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   426
PROGRAM NAME =

29844 000061E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29845                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29846                            9336     
29847                            9337     ;;;;;;;;;;2015-04-08 全ﾓｰﾄﾞ対象
29848                            9338     ;;;;;;;;;;      MOV.L   #_MODE_SEL,R1                           ;
29849                            9339     ;;;;;;;;;;      MOV.W   @R1,R0                                  ;
29850                            9340     ;;;;;;;;;;      TST     #_W1CNT+_W1SGL,R0               ;
29851                            9341     ;;;;;;;;;;      TST_BIT_OF CPUB_GET_OBJPOS_EXT                  ;
29852                            9342     
29853                            9343     
29854 000061EA D409              9344             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4                ;[CPUAのﾃﾞｰﾀをCPUB側で使用する2014
                                          -11-07]
29855 000061EC 5140              9345             MOV.L   @(0,R4),R1                              ;
29856 000061EE 5241              9346             MOV.L   @(4,R4),R2                              ;
29857                            9347     
29858 000061F0 5540              9348             MOV.L   @(0,R4),R5                              ;
29859 000061F2 5641              9349             MOV.L   @(4,R4),R6                              ;
29860 000061F4 3518              9350             SUB     R1,R5
29861 000061F6 3628              9351             SUB     R2,R6                                   ;
29862 000061F8 265B              9352             OR      R5,R6                                   ;
29863 000061FA 2668              9353             TST     R6,R6                                   ;
29864                            9354             TST_BIT_OF CPUB_GET_OBJPOS_100                  ;8ﾊﾞｲﾄｱｸｾｽ中の問題
29865 000061FC 8901                   M           BT      CPUB_GET_OBJPOS_100
29866                            9355     
29867 000061FE 5140              9356             MOV.L   @(0,R4),R1                              ;
29868 00006200 5241              9357             MOV.L   @(4,R4),R2                              ;
29869                            9358     
29870                            9359     
29871 00006202                   9360     CPUB_GET_OBJPOS_100
29872 00006202 D404              9361             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29873 00006204 1410              9362             MOV.L   R1,@(0,R4)
29874 00006206 1421              9363             MOV.L   R2,@(4,R4)
29875                            9364     
29876 00006208                   9365     CPUB_GET_OBJPOS_EXT
29877                            9366     
29878                            9367             SUB_END
29879                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29880 00006208 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29881                            9368             M_RTS
29882 0000620A 000B                   M           RTS                             ;RTSの後ろの
29883 0000620C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29884                            9369     
29885                            9370     
29886                            9371     ;       *******************************************
29887                            9372     ;       ***                                     ***
29888                            9373     ;       ***     2006-09-19                      ***
29889                            9374     ;       ***                                     ***
29890                            9375     ;       ***     起動または異常時の位置あわせ    ***
29891                            9376     ;       ***                                     ***
29892                            9377     ;       *******************************************
29893                                     ***** BEGIN-POOL *****
29894 0000620E 0000                       ALIGNMENT CODE
29895 00006210 00000000                   DATA FOR SOURCE-LINE 9344
29896 00006214 00000000                   DATA FOR SOURCE-LINE 9361
29897                                     ***** END-POOL *****
29898 00006218                   9378             .ALIGN  4                               ;
29899 00006218                   9379     _SET_PV_ABS_TO_OBJ:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   427
PROGRAM NAME =

29900                            9380             SUB_START
29901 00006218 4F22                   M           STS.L   PR,@-R15                ;[必要]
29902                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29903                            9381             PUSH_REG1 R0                            ;
29904 0000621A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29905                                 M                                           ;REG=>[SP]
29906                                 M                                           ;"-4" FF,FF,FF,FC
29907                            9382             PUSH_REG1 R1
29908 0000621C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29909                                 M                                           ;REG=>[SP]
29910                                 M                                           ;"-4" FF,FF,FF,FC
29911                            9383             PUSH_REG1 R2
29912 0000621E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29913                                 M                                           ;REG=>[SP]
29914                                 M                                           ;"-4" FF,FF,FF,FC
29915                            9384             PUSH_REG1 R4
29916 00006220 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
29917                                 M                                           ;REG=>[SP]
29918                                 M                                           ;"-4" FF,FF,FF,FC
29919                            9385     
29920                            9386     ;       ----------------------------------------------
29921                            9387     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;//しょうがない
29922                            9388     ;;;;;;; MOV.W   @R1,R0                          ;
29923                            9389     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
29924                            9390     ;;;;;;; MOV.W   @R1,R2                          ;
29925                            9391     ;;;;;;; OR      R2,R0
29926                            9392     ;;;;;;; TST     #BIT0,R0                        ;
29927                            9393     ;;;;;;; TST_BIT_ON SETPVABSTOOBJ_EXT
29928                            9394     
29929 00006222 D406              9395             MOV.L   #_LINK_PV_ABSPLS,R4             ;
29930 00006224 6146              9396             MOV.L   @R4+,R1                                 ;
29931 00006226 6242              9397             MOV.L   @R4,R2                                  ;
29932 00006228 D405              9398             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29933 0000622A 1410              9399             MOV.L   R1,@(0,R4)
29934 0000622C 1421              9400             MOV.L   R2,@(4,R4)
29935                            9401     
29936                            9402     ;;;;;;;SETPVABSTOOBJ_EXT:
29937                            9403     
29938                            9404             POP_REG1 R4
29939                                 M                                   ; RE"+4" 00,00,00,04
29940 0000622E 64F6                   M           MOV.L   @R15+,R4        ;
29941                            9405             POP_REG1 R2
29942                                 M                                   ; RE"+4" 00,00,00,04
29943 00006230 62F6                   M           MOV.L   @R15+,R2        ;
29944                            9406             POP_REG1 R1
29945                                 M                                   ; RE"+4" 00,00,00,04
29946 00006232 61F6                   M           MOV.L   @R15+,R1        ;
29947                            9407             POP_REG1 R0
29948                                 M                                   ; RE"+4" 00,00,00,04
29949 00006234 60F6                   M           MOV.L   @R15+,R0        ;
29950                            9408             SUB_END
29951                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29952 00006236 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29953                            9409             M_RTS
29954 00006238 000B                   M           RTS                             ;RTSの後ろの
29955 0000623A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29956                            9410     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   428
PROGRAM NAME =

29957                            9411     ;       ***                                     ***
29958                            9412     ;       ***     2006-09-19                      ***
29959                            9413     ;       ***                                     ***
29960                            9414     ;       ***     ﾊﾟﾙｽ管理                        ***
29961                            9415     ;       ***     (位置決め部分での処理)          ***
29962                            9416     ;       ***                                     ***
29963                            9417     ;       *******************************************
29964                            9418     ;       *******************************************
29965                            9419     ;       ***                                     ***
29966                            9420     ;       ***                                     ***
29967                            9421     ;       ***             演算INI                 ***
29968                            9422     ;       ***                                     ***
29969                            9423     ;       ***                                     ***
29970                            9424     ;       ***                                     ***
29971                            9425     ;       *******************************************
29972                                     ***** BEGIN-POOL *****
29973 0000623C 00000000                   DATA FOR SOURCE-LINE 9395
29974 00006240 00000000                   DATA FOR SOURCE-LINE 9398
29975                                     ***** END-POOL *****
29976 00006244                   9426             .ALIGN  4                               ;
29977 00006244                   9427     _PLS_LSI_CTL_INI:
29978                            9428             SUB_START
29979 00006244 4F22                   M           STS.L   PR,@-R15                ;[必要]
29980                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29981                            9429     
29982                            9430     
29983                            9431     
29984                            9432             SUB_END
29985                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29986 00006246 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29987                            9433             M_RTS
29988 00006248 000B                   M           RTS                             ;RTSの後ろの
29989 0000624A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29990                            9434     
29991                            9435     
29992                            9436     ;       *******************************************
29993                            9437     ;       ***                                     ***
29994                            9438     ;       ***                                     ***
29995                            9439     ;       ***             演算END                 ***
29996                            9440     ;       ***             どうするか？            ***
29997                            9441     ;       ***                                     ***
29998                            9442     ;       ***                                     ***
29999                            9443     ;       *******************************************
30000 0000624C                   9444             .ALIGN  4                               ;
30001 0000624C                   9445     _PLS_LSI_SPEED_OFF:
30002                            9446             SUB_START
30003 0000624C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30005                            9447     
30006                            9448             FAR_JSR #_PLS_LSI_STOP_END,R0                                           ;
30007 0000624E D003                   M           MOV.L   #_PLS_LSI_STOP_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30008 00006250 400B                   M           JSR     @R0                     ;
30009 00006252 0009                   M           NOP                                     ;
30010                            9449     
30011                            9450             SUB_END
30012                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30013 00006254 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   429
PROGRAM NAME =

30014                            9451             M_RTS
30015 00006256 000B                   M           RTS                             ;RTSの後ろの
30016 00006258 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30017                            9452     
30018                            9453     ;       ***********************************
30019                            9454     ;       ***                             ***
30020                            9455     ;       ***     SPD * OVER LIMIT-->SPD  ***
30021                            9456     ;       ***                             ***
30022                            9457     ;       ***********************************
30023                            9458     ;       input R2 output R2
30024                                     ***** BEGIN-POOL *****
30025 0000625A 0000                       ALIGNMENT CODE
30026 0000625C 00000000                   DATA FOR SOURCE-LINE 9448
30027                                     ***** END-POOL *****
30028 00006260                   9459     _OVER_LIDE_SPD_CALC
30029                            9460             SUB_START
30030 00006260 4F22                   M           STS.L   PR,@-R15                ;[必要]
30031                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30032 00006262 D307              9461             MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
30033 00006264 6131              9462             MOV.W   @R3,R1                                  ;
30034 00006266 940A              9463             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100
30035                            9464             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
30036 00006268 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30037 0000626A 400B                   M           JSR     @R0                     ;
30038 0000626C 0009                   M           NOP                                     ;
30039 0000626E D106              9465             MOV.L   #_POSCTL_SV_OFS_SPD,R1                  ;//自起動 PLS/S
30040 00006270 6312              9466             MOV.L   @R1,R3                                  ;
30041 00006272 3233              9467             CMP/GE  R3,R2                                   ;
30042 00006274 8900              9468             BT      OVER_LIDE_SPDCAL100                     ;
30043 00006276 6233              9469             MOV     R3,R2                                   ;
30044 00006278                   9470     OVER_LIDE_SPDCAL100
30045                            9471     
30046                            9472             SUB_END
30047                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30048 00006278 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30049                            9473             M_RTS
30050 0000627A 000B                   M           RTS                             ;RTSの後ろの
30051 0000627C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30052                            9474     
30053                            9475     
30054                            9476     ;       ***********************************************************
30055                            9477     
30056                            9478     
30057                            9479     ;       ***********************************
30058                            9480     ;       ***                             ***
30059                            9481     ;       ***     上限リミット            ***
30060                            9482     ;       ***     2013-02-15              ***
30061                            9483     ;       ***********************************
30062                            9484     ;       input R2[PLS/S] output R2[PLS/S]
30063                            9485     ;
30064                                     ***** BEGIN-POOL *****
30065 0000627E 0064                       DATA FOR SOURCE-LINE 9463
30066 00006280 00000000                   DATA FOR SOURCE-LINE 9461
30067 00006284 00000000                   DATA FOR SOURCE-LINE 9464
30068 00006288 00000000                   DATA FOR SOURCE-LINE 9465
30069                                     ***** END-POOL *****
30070 0000628C                   9486     _SPD_UPLIMT_CALC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   430
PROGRAM NAME =

30071                            9487             SUB_START
30072 0000628C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30073                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30074 0000628E D106              9488             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
30075 00006290 6011              9489             MOV.W   @R1,R0                  ;
30076 00006292 2008              9490             TST     R0,R0                   ;
30077                            9491             TST_BIT_OF SPD_UPLIMT_CALEND    ;LIMITしない
30078 00006294 8904                   M           BT      SPD_UPLIMT_CALEND
30079                            9492     
30080 00006296 D105              9493             MOV.L   #_UPLIMIT_SV_SPD,R1     ;
30081 00006298 6312              9494             MOV.L   @R1,R3                  ;
30082 0000629A 3323              9495             CMP/GE  R2,R3                   ;R2=< R3
30083 0000629C 8900              9496             BT      SPD_UPLIMT_CALEND       ;
30084 0000629E 6233              9497             MOV     R3,R2                   ;UP LIMIT
30085 000062A0                   9498     SPD_UPLIMT_CALEND                       ;
30086                            9499             SUB_END
30087                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30088 000062A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30089                            9500             M_RTS
30090 000062A2 000B                   M           RTS                             ;RTSの後ろの
30091 000062A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30092                            9501     
30093                            9502     ;       ***********************************************************
30094                            9503     ;       ***                                                     ***
30095                            9504     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30096                            9505     ;       ***     位置決め部演算                                  ***
30097                            9506     ;       ***********************************************************
30098                            9507     ;       Input   R1,R2:残り距離 +/-
30099                            9508     ;               R11
30100                            9509     ;               R12
30101                            9510     ;
30102                            9511     
30103                            9512     
30104                                     ***** BEGIN-POOL *****
30105 000062A6 0000                       ALIGNMENT CODE
30106 000062A8 00000000                   DATA FOR SOURCE-LINE 9488
30107 000062AC 00000000                   DATA FOR SOURCE-LINE 9493
30108                                     ***** END-POOL *****
30109 000062B0                   9513             .ALIGN  4                               ;
30110 000062B0                   9514     _CMP_POSLSI_CTLGENSOK:
30111                            9515             SUB_START
30112 000062B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30113                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30114                            9516     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30115 000062B2 D40F              9517             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30116 000062B4 5140              9518             MOV.L   @(0,R4),R1                                              ;
30117 000062B6 5241              9519             MOV.L   @(4,R4),R2                                              ;
30118                            9520     
30119                            9521     ;       ---------------リアルタイム目標位置-----------
30120 000062B8 D40E              9522             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30121 000062BA 5540              9523             MOV.L   @(0,R4),R5                                              ;
30122 000062BC 5641              9524             MOV.L   @(4,R4),R6                                              ;
30123                            9525             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30124 000062BE 0008                   M           CLRT
30125 000062C0 326A                   M           SUBC    R6,R2
30126 000062C2 315A                   M           SUBC    R5,R1
30127                            9526     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   431
PROGRAM NAME =

30128 000062C4 D40C              9527             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30129 000062C6 6041              9528             MOV.W   @R4,R0                                                  ;
30130 000062C8 C801              9529             TST     #BIT0,R0                                                ;
30131                            9530             TST_BIT_OF CMP_PLSLSI_CTLCAL_200                                        ;正転
30132 000062CA 8905                   M           BT      CMP_PLSLSI_CTLCAL_200
30133                            9531             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30134 000062CC 6227                   M           NOT     R2,R2                           ;
30135 000062CE 6117                   M           NOT     R1,R1                           ;
30136 000062D0 200A                   M           XOR     R0,R0                           ;
30137 000062D2 0018                   M           SETT
30138 000062D4 320E                   M           ADDC    R0,R2                           ;0+1+R2
30139 000062D6 310E                   M           ADDC    R0,R1                           ;
30140 000062D8                   9532     CMP_PLSLSI_CTLCAL_200:                                                  ;
30141                            9533     
30142                            9534     
30143 000062D8 D408              9535             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30144 000062DA 6942              9536             MOV.L   @R4,R9                                                  ;
30145                            9537     
30146 000062DC D408              9538             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30147 000062DE 6A42              9539             MOV.L   @R4,R10                                                 ;
30148                            9540     
30149 000062E0 D408              9541             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30150 000062E2 6B42              9542             MOV.L   @R4,R11                                                 ;
30151                            9543     
30152                            9544             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30153 000062E4 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30154 000062E6 400B                   M           JSR     @R0                     ;
30155 000062E8 0009                   M           NOP                                     ;
30156                            9545     
30157                            9546             SUB_END
30158                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30159 000062EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30160                            9547             M_RTS
30161 000062EC 000B                   M           RTS                             ;RTSの後ろの
30162 000062EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30163                            9548     
30164                            9549     
30165                            9550     ;       ***********************************************************
30166                            9551     ;       ***                                                     ***
30167                            9552     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30168                            9553     ;       ***     連続切り替え条件演算                            ***
30169                            9554     ;       ***********************************************************
30170                            9555     ;       Input   R1,R2:残り距離 +/-
30171                            9556     ;               R11
30172                            9557     ;               R12
30173                            9558     ;
30174                                     ***** BEGIN-POOL *****
30175 000062F0 00000000                   DATA FOR SOURCE-LINE 9517
30176 000062F4 00000000                   DATA FOR SOURCE-LINE 9522
30177 000062F8 00000000                   DATA FOR SOURCE-LINE 9527
30178 000062FC 00000000                   DATA FOR SOURCE-LINE 9535
30179 00006300 00000000                   DATA FOR SOURCE-LINE 9538
30180 00006304 00000000                   DATA FOR SOURCE-LINE 9541
30181 00006308 00000000                   DATA FOR SOURCE-LINE 9544
30182                                     ***** END-POOL *****
30183 0000630C                   9559             .ALIGN  4                               ;
30184 0000630C                   9560     _CMP_CNT_CTLGENSOK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   432
PROGRAM NAME =

30185                            9561             SUB_START
30186 0000630C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30187                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30188                            9562     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30189 0000630E D414              9563             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30190 00006310 6146              9564             MOV.L   @R4+,R1                                                 ;
30191 00006312 6242              9565             MOV.L   @R4,R2                                                  ;
30192                            9566     
30193 00006314 D413              9567             MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
30194 00006316 6442              9568             MOV.L   @R4,R4                                                  ;
30195 00006318 233A              9569             XOR     R3,R3                                                   ;3FFF,FFFF以下
30196 0000631A 901F              9570             MOV.W   #_PROC_2MS_PLS,R0                                       ;
30197 0000631C 340C              9571             ADD     R0,R4                                                   ;R3,R4
30198                            9572             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-DT = 目標'
30199 0000631E 0008                   M           CLRT
30200 00006320 324A                   M           SUBC    R4,R2
30201 00006322 313A                   M           SUBC    R3,R1
30202                            9573     
30203                            9574     ;       ---------------リアルタイム目標位置-----------
30204 00006324 D410              9575             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30205 00006326 5540              9576             MOV.L   @(0,R4),R5                                              ;
30206 00006328 5641              9577             MOV.L   @(4,R4),R6                                              ;
30207                            9578             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30208 0000632A 0008                   M           CLRT
30209 0000632C 326A                   M           SUBC    R6,R2
30210 0000632E 315A                   M           SUBC    R5,R1
30211                            9579     
30212 00006330 D40E              9580             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30213 00006332 6041              9581             MOV.W   @R4,R0                                                  ;
30214 00006334 C801              9582             TST     #BIT0,R0                                                ;
30215                            9583             TST_BIT_OF CMP_CNT_CTLCAL_200                                   ;正転
30216 00006336 8905                   M           BT      CMP_CNT_CTLCAL_200
30217                            9584             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30218 00006338 6227                   M           NOT     R2,R2                           ;
30219 0000633A 6117                   M           NOT     R1,R1                           ;
30220 0000633C 200A                   M           XOR     R0,R0                           ;
30221 0000633E 0018                   M           SETT
30222 00006340 320E                   M           ADDC    R0,R2                           ;0+1+R2
30223 00006342 310E                   M           ADDC    R0,R1                           ;
30224 00006344                   9585     CMP_CNT_CTLCAL_200:                                                     ;
30225                            9586     
30226 00006344 D40A              9587             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30227 00006346 6942              9588             MOV.L   @R4,R9                                                  ;
30228                            9589     
30229 00006348 D40A              9590             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30230 0000634A 6A42              9591             MOV.L   @R4,R10                                                 ;
30231                            9592     
30232 0000634C D40A              9593             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30233 0000634E 6B42              9594             MOV.L   @R4,R11                                                 ;
30234                            9595     
30235                            9596             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30236 00006350 D00A                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30237 00006352 400B                   M           JSR     @R0                     ;
30238 00006354 0009                   M           NOP                                     ;
30239                            9597             SUB_END
30240                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   433
PROGRAM NAME =

30241 00006356 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30242                            9598             M_RTS
30243 00006358 000B                   M           RTS                             ;RTSの後ろの
30244 0000635A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30245                            9599     
30246                            9600     ;       ***********************************************************
30247                            9601     ;       ***                                                     ***
30248                            9602     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30249                            9603     ;       ***     ブレーキ異常条件演算                            ***
30250                            9604     ;       ***********************************************************
30251                            9605     ;       Input   R1,R2:残り距離 +/-
30252                            9606     ;               R11
30253                            9607     ;               R12
30254                            9608     ;
30255                            9609             .EXPORT _CMP_BRK2_CTLGENSOK
30256                                     ***** BEGIN-POOL *****
30257 0000635C 07D0                       DATA FOR SOURCE-LINE 9570
30258 0000635E 0000                       ALIGNMENT CODE
30259 00006360 00000000                   DATA FOR SOURCE-LINE 9563
30260 00006364 00000000                   DATA FOR SOURCE-LINE 9567
30261 00006368 00000000                   DATA FOR SOURCE-LINE 9575
30262 0000636C 00000000                   DATA FOR SOURCE-LINE 9580
30263 00006370 00000000                   DATA FOR SOURCE-LINE 9587
30264 00006374 00000000                   DATA FOR SOURCE-LINE 9590
30265 00006378 00000000                   DATA FOR SOURCE-LINE 9593
30266 0000637C 00000000                   DATA FOR SOURCE-LINE 9596
30267                                     ***** END-POOL *****
30268 00006380                   9610             .ALIGN  4                               ;
30269 00006380                   9611     _CMP_BRK2_CTLGENSOK:
30270                            9612             SUB_START
30271 00006380 4F22                   M           STS.L   PR,@-R15                ;[必要]
30272                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30273                            9613     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30274 00006382 D40F              9614             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30275 00006384 6146              9615             MOV.L   @R4+,R1                                                 ;
30276 00006386 6242              9616             MOV.L   @R4,R2                                                  ;
30277                            9617     
30278                            9618     
30279                            9619     ;       ---------------実測目標位置-----------
30280 00006388 D40E              9620             MOV.L   #_LINK_PV_ABSPLS,R4             ;
30281 0000638A 5540              9621             MOV.L   @(0,R4),R5                                              ;
30282 0000638C 5641              9622             MOV.L   @(4,R4),R6                                              ;
30283                            9623             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30284 0000638E 0008                   M           CLRT
30285 00006390 326A                   M           SUBC    R6,R2
30286 00006392 315A                   M           SUBC    R5,R1
30287                            9624     
30288 00006394 D40C              9625             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30289 00006396 6041              9626             MOV.W   @R4,R0                                                  ;
30290 00006398 C801              9627             TST     #BIT0,R0                                                ;
30291                            9628             TST_BIT_OF CMP_BRK2_CTLCAL_200                                  ;正転
30292 0000639A 8905                   M           BT      CMP_BRK2_CTLCAL_200
30293                            9629             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30294 0000639C 6227                   M           NOT     R2,R2                           ;
30295 0000639E 6117                   M           NOT     R1,R1                           ;
30296 000063A0 200A                   M           XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   434
PROGRAM NAME =

30297 000063A2 0018                   M           SETT
30298 000063A4 320E                   M           ADDC    R0,R2                           ;0+1+R2
30299 000063A6 310E                   M           ADDC    R0,R1                           ;
30300 000063A8                   9630     CMP_BRK2_CTLCAL_200:                                                    ;
30301 000063A8 D408              9631             MOV.L   #_ABS_ENC_PLS_SPD,R4                                    ;実測
30302 000063AA 6942              9632             MOV.L   @R4,R9                                                  ;
30303                            9633     
30304 000063AC D408              9634             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30305 000063AE 6A42              9635             MOV.L   @R4,R10                                                 ;
30306                            9636     
30307 000063B0 D408              9637             MOV.L   #_BRK2_SV_DN_ACC,R4                                     ;500,000/1000
30308 000063B2 6B42              9638             MOV.L   @R4,R11                                                 ;
30309                            9639     
30310                            9640             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30311 000063B4 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30312 000063B6 400B                   M           JSR     @R0                     ;
30313 000063B8 0009                   M           NOP                                     ;
30314                            9641             SUB_END
30315                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30316 000063BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30317                            9642             M_RTS
30318 000063BC 000B                   M           RTS                             ;RTSの後ろの
30319 000063BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30320                            9643     
30321                            9644     
30322                            9645     
30323                            9646     
30324                            9647     
30325                            9648     
30326                            9649     ;       *******************************************
30327                            9650     ;       ***                                     ***
30328                            9651     ;       ***     一旦停止                        ***
30329                            9652     ;       ***                                     ***
30330                            9653     ;       *******************************************
30331                                     ***** BEGIN-POOL *****
30332 000063C0 00000000                   DATA FOR SOURCE-LINE 9614
30333 000063C4 00000000                   DATA FOR SOURCE-LINE 9620
30334 000063C8 00000000                   DATA FOR SOURCE-LINE 9625
30335 000063CC 00000000                   DATA FOR SOURCE-LINE 9631
30336 000063D0 00000000                   DATA FOR SOURCE-LINE 9634
30337 000063D4 00000000                   DATA FOR SOURCE-LINE 9637
30338 000063D8 00000000                   DATA FOR SOURCE-LINE 9640
30339                                     ***** END-POOL *****
30340 000063DC                   9654             .ALIGN  4                               ;
30341                            9655             .EXPORT _CMP_HOLD_CTLGENSOK
30342 000063DC                   9656     _CMP_HOLD_CTLGENSOK:
30343                            9657             SUB_START
30344 000063DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30346                            9658     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30347                            9659     ;;;input        MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30348                            9660     ;;;     MOV.L   @(0,R4),R1                                              ;
30349                            9661     ;;;     MOV.L   @(4,R4),R2                                              ;
30350                            9662     
30351                            9663     ;       ---------------リアルタイム目標位置-----------
30352 000063DE D40E              9664             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30353 000063E0 5540              9665             MOV.L   @(0,R4),R5                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   435
PROGRAM NAME =

30354 000063E2 5641              9666             MOV.L   @(4,R4),R6                                              ;
30355                            9667             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30356 000063E4 0008                   M           CLRT
30357 000063E6 326A                   M           SUBC    R6,R2
30358 000063E8 315A                   M           SUBC    R5,R1
30359                            9668     
30360 000063EA D40C              9669             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30361 000063EC 6041              9670             MOV.W   @R4,R0                                                  ;
30362 000063EE C801              9671             TST     #BIT0,R0                                                ;
30363                            9672             TST_BIT_OF CMP_HOLD_CTL200                                      ;正転
30364 000063F0 8905                   M           BT      CMP_HOLD_CTL200
30365                            9673             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30366 000063F2 6227                   M           NOT     R2,R2                           ;
30367 000063F4 6117                   M           NOT     R1,R1                           ;
30368 000063F6 200A                   M           XOR     R0,R0                           ;
30369 000063F8 0018                   M           SETT
30370 000063FA 320E                   M           ADDC    R0,R2                           ;0+1+R2
30371 000063FC 310E                   M           ADDC    R0,R1                           ;
30372 000063FE                   9674     CMP_HOLD_CTL200:                                                        ;
30373                            9675     
30374 000063FE D408              9676             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30375 00006400 6942              9677             MOV.L   @R4,R9                                                  ;
30376                            9678     
30377 00006402 D408              9679             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30378 00006404 6A42              9680             MOV.L   @R4,R10                                                 ;
30379                            9681     
30380                            9682     ;;;;    MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30381                            9683     ;;;;    MOV.L   @R4,R11                                                 ;
30382                            9684     
30383 00006406 D408              9685             MOV.L   #_POSHLD_SET_DN_ACC,R4                                  ;500,000/1000
30384 00006408 6B42              9686             MOV.L   @R4,R11                                                 ;
30385                            9687     
30386                            9688             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30387 0000640A D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30388 0000640C 400B                   M           JSR     @R0                     ;
30389 0000640E 0009                   M           NOP                                     ;
30390                            9689     
30391                            9690             SUB_END
30392                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30393 00006410 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30394                            9691             M_RTS
30395 00006412 000B                   M           RTS                             ;RTSの後ろの
30396 00006414 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30397                            9692     
30398                            9693     
30399                            9694     
30400                            9695     ;       *******************************************************************
30401                            9696     ;       ***                                                             ***
30402                            9697     ;       ***                                                             ***
30403                            9698     ;       ***                     クラッチ位置決め部                      ***
30404                            9699     ;       ***                                                             ***
30405                            9700     ;       ***                                                             ***
30406                            9701     ;       ***                                                             ***
30407                            9702     ;       *******************************************************************
30408                            9703     
30409                            9704     ;       *******************************************
30410                            9705     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   436
PROGRAM NAME =

30411                            9706     ;       ***     PLS/S --> 位置決めLSI           ***
30412                            9707     ;       ***                                     ***
30413                            9708     ;       *******************************************
30414                            9709     ;       _POS_LSI_SPDMAX=FFFF            ;16bit
30415                            9710     ;       _POS_FRQ_SPDMAX=500000          ;500KHZ(500000PLS/S)
30416                            9711     ;       Input R2:設定PLS/S
30417                                     ***** BEGIN-POOL *****
30418 00006416 0000                       ALIGNMENT CODE
30419 00006418 00000000                   DATA FOR SOURCE-LINE 9664
30420 0000641C 00000000                   DATA FOR SOURCE-LINE 9669
30421 00006420 00000000                   DATA FOR SOURCE-LINE 9676
30422 00006424 00000000                   DATA FOR SOURCE-LINE 9679
30423 00006428 00000000                   DATA FOR SOURCE-LINE 9685
30424 0000642C 00000000                   DATA FOR SOURCE-LINE 9688
30425                                     ***** END-POOL *****
30426 00006430                   9712             .ALIGN  4                               ;
30427 00006430                   9713     _PLS_LSI_CTL_SPDINI:                                                    ;初回起動時
30428                            9714             SUB_START
30429 00006430 4F22                   M           STS.L   PR,@-R15                ;[必要]
30430                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30431                            9715     
30432 00006432 D114              9716             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30433 00006434 2122              9717             MOV.L   R2,@R1                                                          ;
30434                            9718     
30435                            9719             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3          ;開始は自
                                          動起動
30436 00006436 D114                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
30437 00006438 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30438 0000643A D314                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
30439 0000643C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30440 0000643E D112              9720             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;
30441 00006440 6212              9721             MOV.L   @R1,R2                                                          ;
30442                            9722     ;       ------ BASE時のみ変換が必要---------
30443                            9723             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                         ;
30444 00006442 D013                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30445 00006444 400B                   M           JSR     @R0                     ;
30446 00006446 0009                   M           NOP                                     ;
30447 00006448 D112              9724             MOV.L   #_FREQ_BAS_SV_SPD,R1                                            ;BASE設定
30448 0000644A 2122              9725             MOV.L   R2,@R1                                                          ;
30449                            9726             POS_LSI_32BIT_DAT_SET ADR=_PLS_BasFreqL,ADR_REG=R6,DAT_REG=R2           ;R2 KEEP
30450                                 M           PUSH_REG1 R6
30451 0000644C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30452                                 M                                           ;REG=>[SP]
30453                                 M                                           ;"-4" FF,FF,FF,FC
30454                                 M           PUSH_REG1 R2
30455 0000644E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30456                                 M                                           ;REG=>[SP]
30457                                 M                                           ;"-4" FF,FF,FF,FC
30458                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30459                                 M           PUSH_REG1 R0
30460 00006450 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30461                                 M                                           ;REG=>[SP]
30462                                 M                                           ;"-4" FF,FF,FF,FC
30463 00006452 D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30464 00006454 6001                   M           MOV.W   @R0,R0
30465                                 M           POP_REG1 R0
30466                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   437
PROGRAM NAME =

30467 00006456 60F6                   M           MOV.L   @R15+,R0        ;
30468 00006458 D610                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R6                ;
30469 0000645A 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30470 0000645C 7602                   M           ADD     #2,R6                                   ;
30471 0000645E 6229                   M           SWAP.W  R2,R2                           ;
30472                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30473                                 M           PUSH_REG1 R0
30474 00006460 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30475                                 M                                           ;REG=>[SP]
30476                                 M                                           ;"-4" FF,FF,FF,FC
30477 00006462 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30478 00006464 6001                   M           MOV.W   @R0,R0
30479                                 M           POP_REG1 R0
30480                                 M                                   ; RE"+4" 00,00,00,04
30481 00006466 60F6                   M           MOV.L   @R15+,R0        ;
30482 00006468 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30483                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30484                                 M           PUSH_REG1 R0
30485 0000646A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30486                                 M                                           ;REG=>[SP]
30487                                 M                                           ;"-4" FF,FF,FF,FC
30488 0000646C D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30489 0000646E 6001                   M           MOV.W   @R0,R0
30490                                 M           POP_REG1 R0
30491                                 M                                   ; RE"+4" 00,00,00,04
30492 00006470 60F6                   M           MOV.L   @R15+,R0        ;
30493                                 M           POP_REG1 R2
30494                                 M                                   ; RE"+4" 00,00,00,04
30495 00006472 62F6                   M           MOV.L   @R15+,R2        ;
30496                                 M           POP_REG1 R6
30497                                 M                                   ; RE"+4" 00,00,00,04
30498 00006474 66F6                   M           MOV.L   @R15+,R6        ;
30499                            9727     
30500                            9728     
30501                            9729             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;PLS/S-->
30502 00006476 D00A                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30503 00006478 400B                   M           JSR     @R0                     ;
30504 0000647A 0009                   M           NOP                                     ;
30505                            9730             SUB_END
30506                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30507 0000647C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30508                            9731             M_RTS
30509 0000647E 000B                   M           RTS                             ;RTSの後ろの
30510 00006480 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30511                            9732     
30512                            9733     
30513                                     ***** BEGIN-POOL *****
30514 00006482 0000                       ALIGNMENT CODE
30515 00006484 00000000                   DATA FOR SOURCE-LINE 9716
30516 00006488 00000000                   DATA FOR SOURCE-LINE 9719,9720
30517 0000648C 00000000                   DATA FOR SOURCE-LINE 9719
30518 00006490 00000000                   DATA FOR SOURCE-LINE 9723
30519 00006494 00000000                   DATA FOR SOURCE-LINE 9724
30520 00006498 00000000                   DATA FOR SOURCE-LINE 9726,9726,9726
30521 0000649C 00000000                   DATA FOR SOURCE-LINE 9726
30522 000064A0 00000000                   DATA FOR SOURCE-LINE 9729
30523                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   438
PROGRAM NAME =

30524 000064A4                   9734             .ALIGN  4                               ;
30525 000064A4                   9735     _PLS_LSI_CTL_SPDCNT:                                                            ;運転中の
                                          速度変動時
30526                            9736             SUB_START
30527 000064A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
30528                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30529 000064A6 D104              9737             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30530 000064A8 2122              9738             MOV.L   R2,@R1                                                          ;SAVE 設定
                                          速度
30531                            9739     
30532                            9740             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;
30533 000064AA D004                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30534 000064AC 400B                   M           JSR     @R0                     ;
30535 000064AE 0009                   M           NOP                                     ;
30536                            9741             SUB_END
30537                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30538 000064B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30539                            9742             M_RTS
30540 000064B2 000B                   M           RTS                             ;RTSの後ろの
30541 000064B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30542                            9743     
30543                            9744     
30544                            9745     ;       -------------------------------------------
30545                            9746     ;       ---     input _POSCTL_RL_SPD            ---
30546                            9747     ;       -------------------------------------------
30547                                     ***** BEGIN-POOL *****
30548 000064B6 0000                       ALIGNMENT CODE
30549 000064B8 00000000                   DATA FOR SOURCE-LINE 9737
30550 000064BC 00000000                   DATA FOR SOURCE-LINE 9740
30551                                     ***** END-POOL *****
30552 000064C0                   9748             .ALIGN  4                               ;
30553 000064C0                   9749     _PLS_LSI_CTL_SPDSET
30554                            9750             SUB_START
30555 000064C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30556                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30557 000064C2 D00F              9751             MOV.L   #_POSCTL_RL_SPD,R0                                      ;内部演算リアルタ
                                          イム速度(PLS/S)
30558 000064C4 6202              9752             MOV.L   @R0,R2                                                  ;
30559                            9753             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                 ;
30560 000064C6 D00F                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30561 000064C8 400B                   M           JSR     @R0                     ;
30562 000064CA 0009                   M           NOP                                     ;
30563                            9754     
30564 000064CC D60E              9755             MOV.L   #_FREQ_SV_SPD,R6                                        ;2003-07-01(二重化
                                          対象速度)
30565 000064CE 2622              9756             MOV.L   R2,@R6                                                  ;
30566                            9757             POS_LSI_32BIT_DAT_SET ADR=_PLS_TopFreqL,ADR_REG=R6,DAT_REG=R2   ;
30567                                 M           PUSH_REG1 R6
30568 000064D0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30569                                 M                                           ;REG=>[SP]
30570                                 M                                           ;"-4" FF,FF,FF,FC
30571                                 M           PUSH_REG1 R2
30572 000064D2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30573                                 M                                           ;REG=>[SP]
30574                                 M                                           ;"-4" FF,FF,FF,FC
30575                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30576                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   439
PROGRAM NAME =

30577 000064D4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30578                                 M                                           ;REG=>[SP]
30579                                 M                                           ;"-4" FF,FF,FF,FC
30580 000064D6 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30581 000064D8 6001                   M           MOV.W   @R0,R0
30582                                 M           POP_REG1 R0
30583                                 M                                   ; RE"+4" 00,00,00,04
30584 000064DA 60F6                   M           MOV.L   @R15+,R0        ;
30585 000064DC D60C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R6                ;
30586 000064DE 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30587 000064E0 7602                   M           ADD     #2,R6                                   ;
30588 000064E2 6229                   M           SWAP.W  R2,R2                           ;
30589                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30590                                 M           PUSH_REG1 R0
30591 000064E4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30592                                 M                                           ;REG=>[SP]
30593                                 M                                           ;"-4" FF,FF,FF,FC
30594 000064E6 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30595 000064E8 6001                   M           MOV.W   @R0,R0
30596                                 M           POP_REG1 R0
30597                                 M                                   ; RE"+4" 00,00,00,04
30598 000064EA 60F6                   M           MOV.L   @R15+,R0        ;
30599 000064EC 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30600                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30601                                 M           PUSH_REG1 R0
30602 000064EE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30603                                 M                                           ;REG=>[SP]
30604                                 M                                           ;"-4" FF,FF,FF,FC
30605 000064F0 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30606 000064F2 6001                   M           MOV.W   @R0,R0
30607                                 M           POP_REG1 R0
30608                                 M                                   ; RE"+4" 00,00,00,04
30609 000064F4 60F6                   M           MOV.L   @R15+,R0        ;
30610                                 M           POP_REG1 R2
30611                                 M                                   ; RE"+4" 00,00,00,04
30612 000064F6 62F6                   M           MOV.L   @R15+,R2        ;
30613                                 M           POP_REG1 R6
30614                                 M                                   ; RE"+4" 00,00,00,04
30615 000064F8 66F6                   M           MOV.L   @R15+,R6        ;
30616                            9758             SUB_END
30617                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30618 000064FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30619                            9759             M_RTS
30620 000064FC 000B                   M           RTS                             ;RTSの後ろの
30621 000064FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30622                            9760     
30623                            9761     
30624                            9762     ;       ***********************************
30625                            9763     ;       ***                             ***
30626                            9764     ;       ***     停止処理                ***
30627                            9765     ;       ***                             ***
30628                            9766     ;       ***********************************
30629                            9767     ;       (1)自起動速度になったらEMGｺﾏﾝﾄﾞを発行する
30630                            9768     ;       (2)速度=0にして残りパルスを0にする
30631                            9769     ;       とりあえず(1)を行なう。
30632                                     ***** BEGIN-POOL *****
30633 00006500 00000000                   DATA FOR SOURCE-LINE 9751
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   440
PROGRAM NAME =

30634 00006504 00000000                   DATA FOR SOURCE-LINE 9753
30635 00006508 00000000                   DATA FOR SOURCE-LINE 9755
30636 0000650C 00000000                   DATA FOR SOURCE-LINE 9757,9757,9757
30637 00006510 00000000                   DATA FOR SOURCE-LINE 9757
30638                                     ***** END-POOL *****
30639 00006514                   9770             .ALIGN  4                               ;
30640 00006514                   9771     _PLS_LSI_STOP_END:
30641                            9772             SUB_START
30642 00006514 4F22                   M           STS.L   PR,@-R15                ;[必要]
30643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30644 00006516 D41A              9773             MOV.L   #(BIT11*H'10000),R4                                     ;
30645                            9774             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30646 00006518 D61A                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30647 0000651A 6562                   M           MOV.L   @R6,R5                                          ;
30648 0000651C 254B                   M           OR      R4,R5                                           ;
30649 0000651E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30650                                 M   
30651 00006520 D619                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30652                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30653 00006522 6559                   M           SWAP.W  R5,R5                           ;
30654                                 M   
30655 00006524 2651                   M           MOV.W   R5,@R6
30656 00006526 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30657 00006528 6559                   M           SWAP.W  R5,R5                           ;
30658                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30659                                 M           PUSH_REG1 R0
30660 0000652A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30661                                 M                                           ;REG=>[SP]
30662                                 M                                           ;"-4" FF,FF,FF,FC
30663 0000652C D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30664 0000652E 6001                   M           MOV.W   @R0,R0
30665                                 M           POP_REG1 R0
30666                                 M                                   ; RE"+4" 00,00,00,04
30667 00006530 60F6                   M           MOV.L   @R15+,R0        ;
30668 00006532 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30669                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30670                                 M           PUSH_REG1 R0
30671 00006534 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30672                                 M                                           ;REG=>[SP]
30673                                 M                                           ;"-4" FF,FF,FF,FC
30674 00006536 D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30675 00006538 6001                   M           MOV.W   @R0,R0
30676                                 M           POP_REG1 R0
30677                                 M                                   ; RE"+4" 00,00,00,04
30678 0000653A 60F6                   M           MOV.L   @R15+,R0        ;
30679 0000653C 0009              9775             NOP
30680 0000653E 0009              9776             NOP
30681 00006540 0009              9777             NOP
30682                            9778             PUSH_REG1 R4
30683 00006542 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30684                                 M                                           ;REG=>[SP]
30685                                 M                                           ;"-4" FF,FF,FF,FC
30686 00006544 200A              9779             XOR     R0,R0                                                           ;
30687                            9780             REG_MOV_TO_MEM  DST_ADR=_POSCTL_SV_OFS_SPD,L1=L,DT_REG=R0,WKREG1=R1     ;
30688 00006546 D112                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1  ;DST_ADR
30689 00006548 2102                   M           MOV.L   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   441
PROGRAM NAME =

30690                            9781             POP_REG1 R4                                                             ;
30691                                 M                                   ; RE"+4" 00,00,00,04
30692 0000654A 64F6                   M           MOV.L   @R15+,R4        ;
30693 0000654C 0009              9782             NOP
30694 0000654E 0009              9783             NOP
30695 00006550 0009              9784             NOP
30696 00006552 D410              9785             MOV.L   #~(BIT11*H'10000),R4            ;
30697                            9786             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30698 00006554 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30699 00006556 6562                   M           MOV.L   @R6,R5                                          ;
30700 00006558 2549                   M           AND     R4,R5                                           ;
30701 0000655A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30702                                 M   
30703 0000655C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30704                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30705 0000655E 6559                   M           SWAP.W  R5,R5                           ;
30706                                 M   
30707 00006560 2651                   M           MOV.W   R5,@R6
30708 00006562 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30709 00006564 6559                   M           SWAP.W  R5,R5                           ;
30710                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30711                                 M           PUSH_REG1 R0
30712 00006566 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30713                                 M                                           ;REG=>[SP]
30714                                 M                                           ;"-4" FF,FF,FF,FC
30715 00006568 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30716 0000656A 6001                   M           MOV.W   @R0,R0
30717                                 M           POP_REG1 R0
30718                                 M                                   ; RE"+4" 00,00,00,04
30719 0000656C 60F6                   M           MOV.L   @R15+,R0        ;
30720 0000656E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30721                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30722                                 M           PUSH_REG1 R0
30723 00006570 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30724                                 M                                           ;REG=>[SP]
30725                                 M                                           ;"-4" FF,FF,FF,FC
30726 00006572 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30727 00006574 6001                   M           MOV.W   @R0,R0
30728                                 M           POP_REG1 R0
30729                                 M                                   ; RE"+4" 00,00,00,04
30730 00006576 60F6                   M           MOV.L   @R15+,R0        ;
30731                            9787     
30732                            9788             SUB_END
30733                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30734 00006578 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30735                            9789             M_RTS
30736 0000657A 000B                   M           RTS                             ;RTSの後ろの
30737 0000657C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30738                            9790     
30739                            9791     
30740                            9792     
30741                            9793     
30742                            9794     
30743                            9795     
30744                            9796     ;       ***************************************************
30745                            9797     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   442
PROGRAM NAME =

30746                            9798     ;       ***     Input R2 PLS/SEC-->LSI(0-FFFF)data      ***
30747                            9799     ;       ***                                             ***
30748                            9800     ;       ***************************************************
30749                            9801     ;       Input R2
30750                            9802             .IMPORT _POS_LSI_FRQ_DATA_MAK
30751                            9803     
30752                                     ***** BEGIN-POOL *****
30753 0000657E 0000                       ALIGNMENT CODE
30754 00006580 08000000                   DATA FOR SOURCE-LINE 9773
30755 00006584 00000000                   DATA FOR SOURCE-LINE 9774,9786
30756 00006588 00000000                   DATA FOR SOURCE-LINE 9774,9786
30757 0000658C 00000000                   DATA FOR SOURCE-LINE 9774,9774,9786,9786
30758 00006590 00000000                   DATA FOR SOURCE-LINE 9780
30759 00006594 F7FFFFFF                   DATA FOR SOURCE-LINE 9785
30760                                     ***** END-POOL *****
30761 00006598                   9804             .ALIGN  4                               ;
30762 00006598                   9805     _PLS_CHG_PLS_TO_LSI
30763                            9806             SUB_START
30764 00006598 4F22                   M           STS.L   PR,@-R15                ;[必要]
30765                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30766                            9807             FAR_JSR #_POS_LSI_FRQ_DATA_MAK,R0                       ;PLS/S → 65535=500KHZ
30767 0000659A D009                   M           MOV.L   #_POS_LSI_FRQ_DATA_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30768 0000659C 400B                   M           JSR     @R0                     ;
30769 0000659E 0009                   M           NOP                                     ;
30770                            9808     
30771                            9809     ;       ========== MAX ========
30772 000065A0 D108              9810             MOV.L   #_LSI_SET_SPD_MAXLMT,R1                                 ;(周波数上のﾘﾐｯﾀ)
30773 000065A2 6312              9811             MOV.L   @R1,R3                                                  ;
30774 000065A4 3322              9812             CMP/HS  R2,R3                                                   ;R2 =< R3
30775 000065A6 8900              9813             BT      PLS_CHG_PLSTOLSI_100                                    ;
30776 000065A8 6233              9814             MOV     R3,R2                                                   ;LIMIT
30777 000065AA                   9815     PLS_CHG_PLSTOLSI_100:
30778                            9816     ;============================ とりあえず策　本当はﾃﾞｰﾀﾚﾍﾞﾙでやるべき==========
30779                            9817     ;       === SIT4は未出荷(SIT3:20070914)(COP2:2007-07-20)===
30780 000065AA D107              9818             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
30781 000065AC 6011              9819             MOV.W   @R1,R0                          ;
30782 000065AE C801              9820             TST     #BIT0,R0                        ;
30783                            9821             TST_BIT_OF PLS_CHG_PLSTOLSI_120         ;
30784 000065B0 890E                   M           BT      PLS_CHG_PLSTOLSI_120
30785 000065B2 C840              9822             TST     #BIT6,R0                        ;
30786                            9823             TST_BIT_ON PLS_CHG_PLSTOLSI_120         ;
30787 000065B4 8B0C                   M           BF      PLS_CHG_PLSTOLSI_120
30788 000065B6 D105              9824             MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1      ;//65535=500KHZ
30789 000065B8 6312              9825             MOV.L   @R1,R3                          ;
30790                            9826             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30791 000065BA A017                   M           BRA     PLS_CHG_PLSTOLSI_150
30792 000065BC 0009                   M           NOP
30793                            9827     
30794                                     ***** BEGIN-POOL *****
30795 000065BE 0000                       ALIGNMENT CODE
30796 000065C0 00000000                   DATA FOR SOURCE-LINE 9807
30797 000065C4 00000000                   DATA FOR SOURCE-LINE 9810
30798 000065C8 00000000                   DATA FOR SOURCE-LINE 9818
30799 000065CC 00000000                   DATA FOR SOURCE-LINE 9824
30800                                     ***** END-POOL *****
30801 000065D0                   9828     PLS_CHG_PLSTOLSI_120:
30802                            9829     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   443
PROGRAM NAME =

30803                            9830     ;       -----------2013-06-12-----
30804 000065D0 D103              9831             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
30805 000065D2 6011              9832             MOV.W   @R1,R0                          ;
30806 000065D4 2008              9833             TST     R0,R0                           ;
30807                            9834             TST_BIT_OF PLS_CHG_PLSTOLSI_130         ;
30808 000065D6 8907                   M           BT      PLS_CHG_PLSTOLSI_130
30809                            9835     
30810                            9836     
30811                            9837     
30812 000065D8 D102              9838             MOV.L   #_TEP_MIN_SPD_FRQ,R1            ;
30813 000065DA 6312              9839             MOV.L   @R1,R3                          ;FREQ 500.000/65535= 7.62PLS/S
30814                            9840             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30815 000065DC A006                   M           BRA     PLS_CHG_PLSTOLSI_150
30816 000065DE 0009                   M           NOP
30817                            9841     
30818                                     ***** BEGIN-POOL *****
30819 000065E0 00000000                   DATA FOR SOURCE-LINE 9831
30820 000065E4 00000000                   DATA FOR SOURCE-LINE 9838
30821                                     ***** END-POOL *****
30822 000065E8                   9842     PLS_CHG_PLSTOLSI_130:
30823                            9843     
30824                            9844     
30825                            9845     ;       ========== MIN ========
30826 000065E8 D103              9846             MOV.L   #_POS_LSI_SPDBAS,R1             ;65535=500KHZ
30827 000065EA 6312              9847             MOV.L   @R1,R3                          ;
30828 000065EC                   9848     PLS_CHG_PLSTOLSI_150:
30829                            9849     
30830 000065EC 3232              9850             CMP/HS  R3,R2                                                   ;R3 =< R2
30831 000065EE 8900              9851             BT      PLS_CHG_PLSTOLSI_200                                    ;
30832 000065F0 6233              9852             MOV     R3,R2                                                   ;LIMIT
30833 000065F2                   9853     PLS_CHG_PLSTOLSI_200                                                    ;
30834                            9854             SUB_END
30835                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30836 000065F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30837                            9855             M_RTS
30838 000065F4 000B                   M           RTS                             ;RTSの後ろの
30839 000065F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30840                            9856     
30841                            9857     ;       *******************************************************************
30842                            9858     ;       ***                                                             ***
30843                            9859     ;       ***                                                             ***
30844                            9860     ;       ***                     データ作成                              ***
30845                            9861     ;       ***                                                             ***
30846                            9862     ;       ***                                                             ***
30847                            9863     ;       ***                                                             ***
30848                            9864     ;       *******************************************************************
30849                            9865     ;       起動時または1CYCLE終了時
30850                            9866     
30851                            9867     
30852                            9868     
30853                            9869     ;       ***********************************
30854                            9870     ;       ***                             ***
30855                            9871     ;       ***     加速度データの作成      ***
30856                            9872     ;       ***     _POSCTL_SV_UP_ACC       ***
30857                            9873     ;       ***                             ***
30858                            9874     ;       ***********************************
30859                            9875     ;       1回転CYCLE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   444
PROGRAM NAME =

30860                            9876     ;       ｵｰﾊﾞﾗｲﾄﾞなし
30861                            9877             .EXPORT _ACCLAT1_SV_MAK_COM                     ;
30862                            9878     
30863                                     ***** BEGIN-POOL *****
30864 000065F8 00000000                   DATA FOR SOURCE-LINE 9846
30865                                     ***** END-POOL *****
30866 000065FC                   9879             .ALIGN  4                               ;
30867 000065FC                   9880     _ACCLAT1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30868                            9881             SUB_START
30869 000065FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30871 000065FE D007              9882             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;time* 100/(1~127)
30872 00006600 6401              9883             MOV.W   @R0,R4                                  ;1~100
30873                            9884     
30874 00006602 D007              9885             MOV.L   #_SET1_ACCLAT_TIM1,R0                   ;
30875 00006604 6201              9886             MOV.W   @R0,R2                                  ;R2:時間
30876                            9887     
30877                            9888             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30878 00006606 D007                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30879 00006608 400B                   M           JSR     @R0                     ;
30880 0000660A 0009                   M           NOP                                     ;
30881                            9889     
30882 0000660C D106              9890             MOV.L   #_SET_UP_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30883 0000660E 2122              9891             MOV.L   R2,@R1                                          ;
30884 00006610 D106              9892             MOV.L   #_SET_DN_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30885 00006612 2122              9893             MOV.L   R2,@R1                                          ;(最終減速専用)
30886                            9894     
30887                            9895             SUB_END
30888                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30889 00006614 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30890                            9896             M_RTS
30891 00006616 000B                   M           RTS                             ;RTSの後ろの
30892 00006618 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30893                            9897     
30894                            9898     ;       -----------------------------------------------------------
30895                            9899     ;       ---     INPUT R2(TIME),R4 OVER-LIDE DATA 1~100,100      ---
30896                            9900     ;       -----------------------------------------------------------
30897                                     ***** BEGIN-POOL *****
30898 0000661A 0000                       ALIGNMENT CODE
30899 0000661C 00000000                   DATA FOR SOURCE-LINE 9882
30900 00006620 00000000                   DATA FOR SOURCE-LINE 9885
30901 00006624 00000000                   DATA FOR SOURCE-LINE 9888
30902 00006628 00000000                   DATA FOR SOURCE-LINE 9890
30903 0000662C 00000000                   DATA FOR SOURCE-LINE 9892
30904                                     ***** END-POOL *****
30905 00006630                   9901             .ALIGN  4                               ;
30906 00006630                   9902     _ACCLAT1_SV_MAK_COM:
30907                            9903             SUB_START
30908 00006630 4F22                   M           STS.L   PR,@-R15                ;[必要]
30909                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30910                            9904     
30911                            9905             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                ;Input R2,R4 ANS R2
30912 00006632 D008                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30913 00006634 400B                   M           JSR     @R0                     ;
30914 00006636 0009                   M           NOP                                     ;
30915 00006638 D107              9906             MOV.L   #_OVER_LIDE_ANS_TIM,R1                  ;TIME *100*100/1*1 = 10000*
30916 0000663A 2122              9907             MOV.L   R2,@R1                                  ;(ﾃﾞﾊﾞｯｸ用)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   445
PROGRAM NAME =

30917                            9908     ;
30918                            9909     ;       ====時間の次元==>加速度の次元===
30919                            9910     ;;      MOV.L   #_POS_FRQ_SPDMAX,R0                     ;500KHZ(500000PLS/S)
30920                            9911     ;       ------- こっちがわかりよい-------
30921 0000663C 6423              9912             MOV     R2,R4                                   ;
30922 0000663E D007              9913             MOV.L   #_LINK_MAX_SPD_PLS,R0                           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
30923 00006640 6202              9914             MOV.L   @R0,R2                                          ;
30924                            9915             FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
30925 00006642 D007                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
30926 00006644 400B                   M           JSR     @R0                     ;
30927 00006646 0009                   M           NOP                                     ;
30928                            9916     
30929 00006648 2228              9917             TST     R2,R2                                           ;
30930                            9918             TST_BIT_ON ACCLAT1_SV_MAKCOM_200                        ;
30931 0000664A 8B00                   M           BF      ACCLAT1_SV_MAKCOM_200
30932 0000664C E201              9919             MOV     #1,R2                                           ;
30933 0000664E                   9920     ACCLAT1_SV_MAKCOM_200:                                          ;
30934                            9921     
30935                            9922             SUB_END
30936                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30937 0000664E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30938                            9923             M_RTS
30939 00006650 000B                   M           RTS                             ;RTSの後ろの
30940 00006652 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30941                            9924     
30942                            9925     
30943                            9926     ;       *******************************************
30944                            9927     ;       ***                                     ***
30945                            9928     ;       ***     OVERLIDE 加速度への演算         ***
30946                            9929     ;       ***                                     ***
30947                            9930     ;       *******************************************
30948                            9931     ;       Input R2(ACC時間),R4(0~100per)/OUTPUT R2,R4
30949                                     ***** BEGIN-POOL *****
30950 00006654 00000000                   DATA FOR SOURCE-LINE 9905
30951 00006658 00000000                   DATA FOR SOURCE-LINE 9906
30952 0000665C 00000000                   DATA FOR SOURCE-LINE 9913
30953 00006660 00000000                   DATA FOR SOURCE-LINE 9915
30954                                     ***** END-POOL *****
30955 00006664                   9932             .ALIGN  4                               ;
30956 00006664                   9933     _OVRLIDE_LATE_MULDIV:
30957                            9934             SUB_START
30958 00006664 4F22                   M           STS.L   PR,@-R15                ;[必要]
30959                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30960                            9935     
30961                            9936     ;       ------- 2010-10-06-- ふりこ
30962                            9937             PUSH_REG1 R2
30963 00006666 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30964                                 M                                           ;REG=>[SP]
30965                                 M                                           ;"-4" FF,FF,FF,FC
30966                            9938             PUSH_REG1 R4
30967 00006668 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30968                                 M                                           ;REG=>[SP]
30969                                 M                                           ;"-4" FF,FF,FF,FC
30970                            9939             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0
30971 0000666A D007                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   446
PROGRAM NAME =

30972 0000666C 400B                   M           JSR     @R0                     ;
30973 0000666E 0009                   M           NOP                                     ;
30974                            9940             POP_REG1 R4
30975                                 M                                   ; RE"+4" 00,00,00,04
30976 00006670 64F6                   M           MOV.L   @R15+,R4        ;
30977                            9941             POP_REG1 R2
30978                                 M                                   ; RE"+4" 00,00,00,04
30979 00006672 62F6                   M           MOV.L   @R15+,R2        ;
30980                            9942     
30981 00006674 2008              9943             TST     R0,R0
30982                            9944             TST_BIT_ON OVRLIDE_LATMULDIV200         ;ふりこ時時間一定
30983 00006676 8B0B                   M           BF      OVRLIDE_LATMULDIV200
30984                            9945     
30985                            9946     
30986                            9947     
30987 00006678 D004              9948             MOV.L   #_WPAR_ACCTYP_SEL,R0                            ;0:加速距離一定(SIT3ｴｸｾﾃﾞｨ
                                          ) 1:加速時間一定 2:加速度一定
30988 0000667A 6001              9949             MOV.W   @R0,R0                                          ;
30989 0000667C 8800              9950             CMP/EQ  #0,R0                                           ;0:距離一定(LATE*LATE)
30990 0000667E 890B              9951             BT      OVRLIDE_LATMULDIV300                            ;
30991 00006680 8801              9952             CMP/EQ  #1,R0                                           ;
30992 00006682 8905              9953             BT      OVRLIDE_LATMULDIV200                            ;加速時間一定JUMP
30993                            9954             M_BRA   OVRLIDE_LATMULDIV550                            ;加速度一定
30994 00006684 A017                   M           BRA     OVRLIDE_LATMULDIV550
30995 00006686 0009                   M           NOP
30996                            9955     
30997                            9956     
30998                                     ***** BEGIN-POOL *****
30999 00006688 00000000                   DATA FOR SOURCE-LINE 9939
31000 0000668C 00000000                   DATA FOR SOURCE-LINE 9948
31001                                     ***** END-POOL *****
31002 00006690                   9957     OVRLIDE_LATMULDIV200:                                           ;
31003 00006690 9101              9958             MOV.W   #_OVRLIDE_LATE_MAX,R1                           ;R2(時間)*(100 R1)/(PER R4
                                          )加速時間一定
31004                            9959             M_BRA   OVRLIDE_LATMULDIV400                            ;V=Vmax/Tmax V*0.5 Tmax->T
                                          max/0.5
31005 00006692 A005                   M           BRA     OVRLIDE_LATMULDIV400
31006 00006694 0009                   M           NOP
31007                            9960     
31008                                     ***** BEGIN-POOL *****
31009 00006696 0064                       DATA FOR SOURCE-LINE 9958
31010                                     ***** END-POOL *****
31011 00006698                   9961     OVRLIDE_LATMULDIV300:                                           ;
31012 00006698 6043              9962             MOV     R4,R0                                           ;
31013 0000669A 204E              9963             MULU.W  R4,R0                                           ;
31014 0000669C 041A              9964             STS     MACL,R4                                         ;V*V=2*Vmax/Tmax*S
31015 0000669E 910D              9965             MOV.W   #_OVRLIDE_LATE_MAX*_OVRLIDE_LATE_MAX,R1         ;R2(時間)*(100*100 R1)/(PE
                                          R*PER R4)
31016                            9966     
31017 000066A0                   9967     OVRLIDE_LATMULDIV400:                                           ;
31018                            9968     
31019 000066A0 622D              9969             EXTU.W  R2,R2                                           ;R2(TIME)*R1/R4
31020                            9970             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
31021 000066A2 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31022 000066A4 400B                   M           JSR     @R0                     ;
31023 000066A6 0009                   M           NOP                                     ;
31024                            9971     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   447
PROGRAM NAME =

31025 000066A8 D406              9972             MOV.L   #H'0000FFFF,R4                                  ;
31026 000066AA 3422              9973             CMP/HS  R2,R4                                           ;
31027 000066AC 8900              9974             BT      OVRLIDE_LATMULDIV500                            ;
31028 000066AE 6243              9975             MOV     R4,R2                                           ;
31029 000066B0                   9976     OVRLIDE_LATMULDIV500                                            ;
31030 000066B0 2228              9977             TST     R2,R2                                           ;
31031                            9978             TST_BIT_ON OVRLIDE_LATMULDIV550                         ;
31032 000066B2 8B00                   M           BF      OVRLIDE_LATMULDIV550
31033 000066B4 E201              9979             MOV     #1,R2                                           ;
31034 000066B6                   9980     OVRLIDE_LATMULDIV550:                                           ;
31035                            9981     
31036                            9982             SUB_END
31037                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31038 000066B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31039                            9983             M_RTS
31040 000066B8 000B                   M           RTS                             ;RTSの後ろの
31041 000066BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31042                            9984     
31043                            9985     
31044                            9986     ;       ***********************************
31045                            9987     ;       ***                             ***
31046                            9988     ;       ***     BRK1ﾃﾞｰﾀMAKE            ***
31047                            9989     ;       ***                             ***
31048                            9990     ;       ***********************************
31049                                     ***** BEGIN-POOL *****
31050 000066BC 2710                       DATA FOR SOURCE-LINE 9965
31051 000066BE 0000                       ALIGNMENT CODE
31052 000066C0 00000000                   DATA FOR SOURCE-LINE 9970
31053 000066C4 0000FFFF                   DATA FOR SOURCE-LINE 9972
31054                                     ***** END-POOL *****
31055 000066C8                   9991             .ALIGN  4                               ;
31056 000066C8                   9992     _ACCBRK1_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31057                            9993             SUB_START
31058 000066C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31060 000066CA 9409              9994             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
31061 000066CC D005              9995             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
31062 000066CE 6201              9996             MOV.W   @R0,R2                                  ;
31063                            9997     
31064                            9998             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31065 000066D0 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31066 000066D2 400B                   M           JSR     @R0                     ;
31067 000066D4 0009                   M           NOP                                     ;
31068                            9999     
31069 000066D6 D105             10000             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31070 000066D8 2122             10001             MOV.L   R2,@R1                                          ;
31071                           10002             SUB_END
31072                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31073 000066DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31074                           10003             M_RTS
31075 000066DC 000B                   M           RTS                             ;RTSの後ろの
31076 000066DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31077                           10004     
31078                                     ***** BEGIN-POOL *****
31079 000066E0 0064                       DATA FOR SOURCE-LINE 9994
31080 000066E2 0000                       ALIGNMENT CODE
31081 000066E4 00000000                   DATA FOR SOURCE-LINE 9995
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   448
PROGRAM NAME =

31082 000066E8 00000000                   DATA FOR SOURCE-LINE 9998
31083 000066EC 00000000                   DATA FOR SOURCE-LINE 10000
31084                                     ***** END-POOL *****
31085 000066F0                  10005             .ALIGN  4                               ;
31086 000066F0                  10006     _ACCBRK1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31087                           10007             SUB_START
31088 000066F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
31089                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31090 000066F2 D006             10008             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;
31091 000066F4 6401             10009             MOV.W   @R0,R4                                  ;1~100
31092                           10010     
31093 000066F6 D006             10011             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
31094 000066F8 6201             10012             MOV.W   @R0,R2                                  ;
31095                           10013     
31096                           10014             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31097 000066FA D006                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31098 000066FC 400B                   M           JSR     @R0                     ;
31099 000066FE 0009                   M           NOP                                     ;
31100                           10015     
31101 00006700 D105             10016             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31102 00006702 2122             10017             MOV.L   R2,@R1                                          ;
31103                           10018             SUB_END
31104                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31105 00006704 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31106                           10019             M_RTS
31107 00006706 000B                   M           RTS                             ;RTSの後ろの
31108 00006708 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31109                           10020     
31110                           10021     
31111                           10022     ;       ***********************************
31112                           10023     ;       ***                             ***
31113                           10024     ;       ***     BRK2ﾃﾞｰﾀMAKE            ***
31114                           10025     ;       ***                             ***
31115                           10026     ;       ***********************************
31116                                     ***** BEGIN-POOL *****
31117 0000670A 0000                       ALIGNMENT CODE
31118 0000670C 00000000                   DATA FOR SOURCE-LINE 10008
31119 00006710 00000000                   DATA FOR SOURCE-LINE 10011
31120 00006714 00000000                   DATA FOR SOURCE-LINE 10014
31121 00006718 00000000                   DATA FOR SOURCE-LINE 10016
31122                                     ***** END-POOL *****
31123 0000671C                  10027             .ALIGN  4                               ;
31124 0000671C                  10028     _ACCBRK2_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31125                           10029             SUB_START
31126 0000671C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31127                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31128 0000671E 9409             10030             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
31129 00006720 D005             10031             MOV.L   #_WPAR_BRK2_ACCTM,R0                    ;//38 msec
31130 00006722 6201             10032             MOV.W   @R0,R2                                  ;
31131                           10033     
31132                           10034             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31133 00006724 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31134 00006726 400B                   M           JSR     @R0                     ;
31135 00006728 0009                   M           NOP                                     ;
31136                           10035     
31137 0000672A D105             10036             MOV.L   #_BRK2_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31138 0000672C 2122             10037             MOV.L   R2,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   449
PROGRAM NAME =

31139                           10038     
31140                           10039     
31141                           10040             SUB_END
31142                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31143 0000672E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31144                           10041             M_RTS
31145 00006730 000B                   M           RTS                             ;RTSの後ろの
31146 00006732 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31147                           10042     
31148                           10043     ;       S2b     WPAR_BRK1_ACCTM                 ;//37 msec
31149                           10044     ;       S4b     BRK1_SV_DN_ACC;//目標加速度((PLS/1000)/S/S)
31150                           10045     ;       S4b     BRK1_CAL_DN_ACC;//OVER LIDE 含む
31151                           10046     
31152                           10047     
31153                           10048     ;       *******************************************************************
31154                           10049     ;       ***                                                             ***
31155                           10050     ;       ***                                                             ***
31156                           10051     ;       ***                     演算                                    ***
31157                           10052     ;       ***                                                             ***
31158                           10053     ;       ***                                                             ***
31159                           10054     ;       ***                                                             ***
31160                           10055     ;       *******************************************************************
31161                           10056     
31162                           10057     ;       *******************************************
31163                           10058     ;       ***                                     ***
31164                           10059     ;       ***     2006-09-19                      ***
31165                           10060     ;       ***     演算                            ***
31166                           10061     ;       ***     速度LSI設定→PLS/Sにする        ***
31167                           10062     ;       ***                                     ***
31168                           10063     ;       *******************************************
31169                           10064     ;
31170                                     ***** BEGIN-POOL *****
31171 00006734 0064                       DATA FOR SOURCE-LINE 10030
31172 00006736 0000                       ALIGNMENT CODE
31173 00006738 00000000                   DATA FOR SOURCE-LINE 10031
31174 0000673C 00000000                   DATA FOR SOURCE-LINE 10034
31175 00006740 00000000                   DATA FOR SOURCE-LINE 10036
31176                                     ***** END-POOL *****
31177 00006744                  10065             .ALIGN  4                               ;
31178 00006744                  10066     _CHG_LSI_LATE_TO_PLS            ;2006-09-19
31179                           10067             SUB_START
31180 00006744 4F22                   M           STS.L   PR,@-R15                ;[必要]
31181                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31182 00006746 D005             10068             MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
31183 00006748 6102             10069             MOV.L   @R0,R1                                          ;
31184 0000674A D005             10070             MOV.L   #_POS_LSI_SPDMAX,R0                             ;FFFF
31185 0000674C 6402             10071             MOV.L   @R0,R4                                          ;
31186 0000674E 6043             10072             MOV     R4,R0                                           ;
31187                           10073     ;;      ADD     #-1,R0                                          ;
31188                           10074     ;;      ADD     R0,R2                                           ;切上
31189                           10075             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
31190 00006750 D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31191 00006752 400B                   M           JSR     @R0                     ;
31192 00006754 0009                   M           NOP                                     ;
31193                           10076     
31194                           10077             SUB_END
31195                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   450
PROGRAM NAME =

31196 00006756 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31197                           10078             M_RTS
31198 00006758 000B                   M           RTS                             ;RTSの後ろの
31199 0000675A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31200                           10079     
31201                           10080     
31202                           10081     
31203                           10082     
31204                           10083     ;       ***********************************
31205                           10084     ;       ***                             ***
31206                           10085     ;       ***     起動コマンド            ***
31207                           10086     ;       ***                             ***
31208                           10087     ;       ***********************************
31209                                     ***** BEGIN-POOL *****
31210 0000675C 00000000                   DATA FOR SOURCE-LINE 10068
31211 00006760 00000000                   DATA FOR SOURCE-LINE 10070
31212 00006764 00000000                   DATA FOR SOURCE-LINE 10075
31213                                     ***** END-POOL *****
31214 00006768                  10088             .ALIGN  4                               ;
31215 00006768                  10089     _SPD_CTL_START
31216                           10090             SUB_START
31217 00006768 4F22                   M           STS.L   PR,@-R15                ;[必要]
31218                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31219                           10091     
31220 0000676A 900F             10092             MOV.W   #1,R0                                                           ;
31221                           10093             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31222 0000676C D108                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31223 0000676E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31224                           10094     
31225 00006770 D108             10095             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0:起動 BIT6:END
31226 00006772 6011             10096             MOV.W   @R1,R0                                                          ;
31227 00006774 C801             10097             TST     #BIT0,R0                                                        ;
31228                           10098             TST_BIT_OF SPD_CTL_ST100                                                ;
31229 00006776 8903                   M           BT      SPD_CTL_ST100
31230                           10099             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1     ;
31231 00006778 D107                   M           MOV.L   #_POSCTL_CALC_ERR,R1            ;
31232 0000677A 6011                   M           MOV.W   @R1,R0          ;
31233 0000677C CB01                   M           OR      #BIT0,R0                ;
31234 0000677E 2101                   M           MOV.W   R0,@R1          ;
31235 00006780                  10100     SPD_CTL_ST100
31236 00006780 200A             10101             XOR     R0,R0                   ;
31237                           10102             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
31238 00006782 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
31239 00006784 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31240                           10103     
31241                           10104             SUB_END
31242                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31243 00006786 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31244                           10105             M_RTS
31245 00006788 000B                   M           RTS                             ;RTSの後ろの
31246 0000678A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31247                           10106     
31248                           10107     ;       -------------------------------------------
31249                           10108     ;       ---                                     ---
31250                           10109     ;       -------------------------------------------
31251                           10110     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   451
PROGRAM NAME =

31252                           10111     ;       ***                             ***
31253                           10112     ;       ***     EMG停止コマンド         ***
31254                           10113     ;       ***                             ***
31255                           10114     ;       ***********************************
31256                                     ***** BEGIN-POOL *****
31257 0000678C 0001                       DATA FOR SOURCE-LINE 10092
31258 0000678E 0000                       ALIGNMENT CODE
31259 00006790 00000000                   DATA FOR SOURCE-LINE 10093
31260 00006794 00000000                   DATA FOR SOURCE-LINE 10095,10102
31261 00006798 00000000                   DATA FOR SOURCE-LINE 10099
31262                                     ***** END-POOL *****
31263 0000679C                  10115             .ALIGN  4                               ;
31264 0000679C                  10116     _SPD_CTL_EMG_STOP
31265                           10117             SUB_START
31266 0000679C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31267                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31268 0000679E 9004             10118             MOV.W   #3,R0                                                           ;0:EMG
31269                           10119             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31270 000067A0 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31271 000067A2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31272                           10120             SUB_END
31273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31274 000067A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31275                           10121             M_RTS
31276 000067A6 000B                   M           RTS                             ;RTSの後ろの
31277 000067A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31278                           10122     
31279                           10123     ;       -------------------------------------------
31280                           10124     ;       ---                                     ---
31281                           10125     ;       -------------------------------------------
31282                           10126     ;       ***********************************
31283                           10127     ;       ***                             ***
31284                           10128     ;       ***     SLOW停止コマンド        ***
31285                           10129     ;       ***                             ***
31286                           10130     ;       ***********************************
31287                                     ***** BEGIN-POOL *****
31288 000067AA 0003                       DATA FOR SOURCE-LINE 10118
31289 000067AC 00000000                   DATA FOR SOURCE-LINE 10119
31290                                     ***** END-POOL *****
31291 000067B0                  10131             .ALIGN  4                               ;
31292 000067B0                  10132     _SPD_CTL_SLOW_STOP
31293                           10133             SUB_START
31294 000067B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
31295                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31296 000067B2 9004             10134             MOV.W   #2,R0                                                           ;2:SLOW
31297                           10135             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31298 000067B4 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31299 000067B6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31300                           10136             SUB_END
31301                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31302 000067B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31303                           10137             M_RTS
31304 000067BA 000B                   M           RTS                             ;RTSの後ろの
31305 000067BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31306                           10138     
31307                           10139     
31308                           10140     ;       ***********************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   452
PROGRAM NAME =

31309                           10141     ;       ***                                                     ***
31310                           10142     ;       ***                                                     ***
31311                           10143     ;       ***                     前回I/F                         ***
31312                           10144     ;       ***                                                     ***
31313                           10145     ;       ***                                                     ***
31314                           10146     ;       ***********************************************************
31315                           10147     ;       *******************************************
31316                           10148     ;       ***     トップ周波数    起動            ***
31317                           10149     ;       *******************************************
31318                           10150     ;       65535へ正規化または7FFFへ正規化
31319                           10151     ;       Input R2:
31320                                     ***** BEGIN-POOL *****
31321 000067BE 0002                       DATA FOR SOURCE-LINE 10134
31322 000067C0 00000000                   DATA FOR SOURCE-LINE 10135
31323                                     ***** END-POOL *****
31324 000067C4                  10152             .ALIGN  4                               ;
31325 000067C4                  10153     _POS_LSI_TOP_SPEED_SET:
31326                           10154             SUB_START
31327 000067C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31328                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31329                           10155             FAR_JSR #_PLS_LSI_CTL_SPDINI,R0
31330 000067C6 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31331 000067C8 400B                   M           JSR     @R0                     ;
31332 000067CA 0009                   M           NOP                                     ;
31333                           10156             SUB_END
31334                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31335 000067CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31336                           10157             M_RTS
31337 000067CE 000B                   M           RTS                             ;RTSの後ろの
31338 000067D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31339                           10158     
31340                           10159     ;       *******************************************
31341                           10160     ;       ***     トップ周波数    速度可変        ***
31342                           10161     ;       *******************************************
31343                                     ***** BEGIN-POOL *****
31344 000067D2 0000                       ALIGNMENT CODE
31345 000067D4 00000000                   DATA FOR SOURCE-LINE 10155
31346                                     ***** END-POOL *****
31347 000067D8                  10162             .ALIGN  4                               ;
31348 000067D8                  10163     _POS_LSI_TOP_SPEED_SETX:
31349                           10164             SUB_START
31350 000067D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31352                           10165             FAR_JSR #_PLS_LSI_CTL_SPDCNT,R0
31353 000067DA D003                   M           MOV.L   #_PLS_LSI_CTL_SPDCNT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31354 000067DC 400B                   M           JSR     @R0                     ;
31355 000067DE 0009                   M           NOP                                     ;
31356                           10166             SUB_END
31357                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31358 000067E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31359                           10167             M_RTS
31360 000067E2 000B                   M           RTS                             ;RTSの後ろの
31361 000067E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31362                           10168     
31363                           10169     ;       ***********************************
31364                           10170     ;       ***     ベース周波数            ***
31365                           10171     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   453
PROGRAM NAME =

31366                           10172     ;       (1回だけ)
31367                                     ***** BEGIN-POOL *****
31368 000067E6 0000                       ALIGNMENT CODE
31369 000067E8 00000000                   DATA FOR SOURCE-LINE 10165
31370                                     ***** END-POOL *****
31371 000067EC                  10173             .ALIGN  4                               ;
31372 000067EC                  10174     _POS_LSI_BAS_SPEED_SET:
31373                           10175             SUB_START
31374 000067EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31375                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31376                           10176             MEM_MOV_TO_MEM  _SET_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3 ;
31377 000067EE D103                   M           MOV.L   #_SET_SPDBAS_PLS,R1
31378 000067F0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31379 000067F2 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31380 000067F4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31381                           10177             SUB_END
31382                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31383 000067F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31384                           10178             M_RTS
31385 000067F8 000B                   M           RTS                             ;RTSの後ろの
31386 000067FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31387                           10179     
31388                           10180     ;       *******************************************
31389                           10181     ;       ***     ベース周波数(HAIF-CLOSE)        ***
31390                           10182     ;       *******************************************
31391                           10183             .EXPORT _POS_LSI_CLS_BAS_SPD_SET
31392                                     ***** BEGIN-POOL *****
31393 000067FC 00000000                   DATA FOR SOURCE-LINE 10176
31394 00006800 00000000                   DATA FOR SOURCE-LINE 10176
31395                                     ***** END-POOL *****
31396 00006804                  10184             .ALIGN  4                               ;
31397 00006804                  10185     _POS_LSI_CLS_BAS_SPD_SET:
31398                           10186             SUB_START
31399 00006804 4F22                   M           STS.L   PR,@-R15                ;[必要]
31400                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31401                           10187             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31402 00006806 D103                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31403 00006808 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31404 0000680A D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31405 0000680C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31406                           10188             SUB_END
31407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31408 0000680E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31409                           10189             M_RTS
31410 00006810 000B                   M           RTS                             ;RTSの後ろの
31411 00006812 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31412                           10190     
31413                           10191     
31414                           10192     
31415                           10193     ;       ***********************************
31416                           10194     ;       ***     ベース周波数            ***
31417                           10195     ;       ***********************************
31418                           10196     ;       2013-06-13
31419                           10197             .EXPORT _POS_LSI_TEP_BAS_SPEED_SET
31420                                     ***** BEGIN-POOL *****
31421 00006814 00000000                   DATA FOR SOURCE-LINE 10187
31422 00006818 00000000                   DATA FOR SOURCE-LINE 10187
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   454
PROGRAM NAME =

31423                                     ***** END-POOL *****
31424 0000681C                  10198             .ALIGN  4                               ;
31425 0000681C                  10199     _POS_LSI_TEP_BAS_SPEED_SET:
31426                           10200             SUB_START
31427 0000681C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31428                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31429                           10201             MEM_MOV_TO_MEM  _TEP_MIN_SPD_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3        ;
31430 0000681E D103                   M           MOV.L   #_TEP_MIN_SPD_PLS,R1
31431 00006820 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31432 00006822 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31433 00006824 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31434                           10202             SUB_END
31435                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31436 00006826 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31437                           10203             M_RTS
31438 00006828 000B                   M           RTS                             ;RTSの後ろの
31439 0000682A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31440                           10204     
31441                           10205     
31442                           10206     
31443                           10207     ;
31444                           10208     ;       *******************************************
31445                           10209     ;       ***     トップSPEED=自起動=ｲﾝﾁﾝｸﾞ       ***
31446                           10210     ;       *******************************************
31447                           10211     ;       65535へ正規化または7FFFへ正規化
31448                           10212     ;       Input R2:
31449                           10213             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET1
31450                                     ***** BEGIN-POOL *****
31451 0000682C 00000000                   DATA FOR SOURCE-LINE 10201
31452 00006830 00000000                   DATA FOR SOURCE-LINE 10201
31453                                     ***** END-POOL *****
31454 00006834                  10214             .ALIGN  4                               ;
31455 00006834                  10215     _POS_LSI_CLS_TOP_EQ_BAS_SET1:
31456                           10216             SUB_START
31457 00006834 4F22                   M           STS.L   PR,@-R15                ;[必要]
31458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31459                           10217             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31460 00006836 D106                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31461 00006838 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31462 0000683A D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31463 0000683C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31464 0000683E D105             10218             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31465 00006840 6212             10219             MOV.L   @R1,R2                          ;
31466                           10220             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31467 00006842 D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31468 00006844 400B                   M           JSR     @R0                     ;
31469 00006846 0009                   M           NOP                                     ;
31470                           10221             SUB_END
31471                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31472 00006848 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31473                           10222             M_RTS
31474 0000684A 000B                   M           RTS                             ;RTSの後ろの
31475 0000684C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31476                           10223     
31477                           10224             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET2
31478                                     ***** BEGIN-POOL *****
31479 0000684E 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   455
PROGRAM NAME =

31480 00006850 00000000                   DATA FOR SOURCE-LINE 10217
31481 00006854 00000000                   DATA FOR SOURCE-LINE 10217,10218
31482 00006858 00000000                   DATA FOR SOURCE-LINE 10220
31483                                     ***** END-POOL *****
31484 0000685C                  10225             .ALIGN  4                               ;
31485 0000685C                  10226     _POS_LSI_CLS_TOP_EQ_BAS_SET2:
31486                           10227             SUB_START
31487 0000685C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31488                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31489                           10228             MEM_MOV_TO_MEM  _SET_CLSINC_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3  ;
31490 0000685E D106                   M           MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1
31491 00006860 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31492 00006862 D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31493 00006864 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31494 00006866 D105             10229             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31495 00006868 6212             10230             MOV.L   @R1,R2                          ;
31496                           10231             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31497 0000686A D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31498 0000686C 400B                   M           JSR     @R0                     ;
31499 0000686E 0009                   M           NOP                                     ;
31500                           10232     
31501                           10233             SUB_END
31502                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31503 00006870 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31504                           10234             M_RTS
31505 00006872 000B                   M           RTS                             ;RTSの後ろの
31506 00006874 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31507                           10235     
31508                           10236     ;       ***********************************
31509                           10237     ;       ***     通常加減速              ***
31510                           10238     ;       ***********************************
31511                           10239     ;       (1回だけ):加速度
31512                                     ***** BEGIN-POOL *****
31513 00006876 0000                       ALIGNMENT CODE
31514 00006878 00000000                   DATA FOR SOURCE-LINE 10228
31515 0000687C 00000000                   DATA FOR SOURCE-LINE 10228,10229
31516 00006880 00000000                   DATA FOR SOURCE-LINE 10231
31517                                     ***** END-POOL *****
31518 00006884                  10240             .ALIGN  4                               ;
31519 00006884                  10241     _POS_LSI_ACC1_SET:
31520                           10242             SUB_START
31521 00006884 4F22                   M           STS.L   PR,@-R15                ;[必要]
31522                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31523 00006886 D003             10243             MOV.L   #_POS_LSI_ACCLT1,R0             ;
31524 00006888 6201             10244             MOV.W   @R0,R2
31525 0000688A D603             10245             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R6        ;
31526 0000688C 2621             10246             MOV.W   R2,@R6                                          ;
31527                           10247             SUB_END
31528                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31529 0000688E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31530                           10248             M_RTS
31531 00006890 000B                   M           RTS                             ;RTSの後ろの
31532 00006892 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31533                           10249     
31534                           10250     ;       ***********************************
31535                           10251     ;       ***     急停止加減速            ***
31536                           10252     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   456
PROGRAM NAME =

31537                           10253     ;       (1回だけ):加速度
31538                                     ***** BEGIN-POOL *****
31539 00006894 00000000                   DATA FOR SOURCE-LINE 10243
31540 00006898 00000000                   DATA FOR SOURCE-LINE 10245
31541                                     ***** END-POOL *****
31542 0000689C                  10254             .ALIGN  4                               ;
31543 0000689C                  10255     _POS_LSI_ACC2_SET:
31544                           10256             SUB_START
31545 0000689C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31546                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31547 0000689E D003             10257             MOV.L   #_POS_LSI_ACCLT2,R0
31548 000068A0 6201             10258             MOV.W   @R0,R2
31549 000068A2 D603             10259             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate2,R6        ;
31550 000068A4 2621             10260             MOV.W   R2,@R6                                          ;
31551                           10261             SUB_END
31552                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31553 000068A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31554                           10262             M_RTS
31555 000068A8 000B                   M           RTS                             ;RTSの後ろの
31556 000068AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31557                           10263     
31558                           10264     ;       ***********************************
31559                           10265     ;       ***     速度LATE                ***
31560                           10266     ;       ***********************************
31561                           10267     ;       (1回だけ):
31562                                     ***** BEGIN-POOL *****
31563 000068AC 00000000                   DATA FOR SOURCE-LINE 10257
31564 000068B0 00000000                   DATA FOR SOURCE-LINE 10259
31565                                     ***** END-POOL *****
31566 000068B4                  10268             .ALIGN  4                               ;
31567 000068B4                  10269     _POS_LSI_SPDLATE_SET:
31568                           10270             SUB_START
31569 000068B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31570                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31571 000068B6 D003             10271             MOV.L   #_POS_LSI_SPDLAT,R0                             ;
31572 000068B8 6201             10272             MOV.W   @R0,R2
31573 000068BA D603             10273             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R6        ;
31574 000068BC 2621             10274             MOV.W   R2,@R6                                          ;
31575                           10275             SUB_END
31576                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31577 000068BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31578                           10276             M_RTS
31579 000068C0 000B                   M           RTS                             ;RTSの後ろの
31580 000068C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31581                           10277     
31582                           10278     
31583                           10279     
31584                           10280     
31585                           10281     
31586                           10282     ;       ***********************************
31587                           10283     ;       ***                             ***
31588                           10284     ;       ***     REAL TIME MONITOR       ***
31589                           10285     ;       ***                             ***
31590                           10286     ;       ***********************************
31591                           10287     ;       ============== 20060919 DBG=====================
31592                           10288             .GLOBAL         _SH_POSCTL_SV_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31593                           10289             .GLOBAL         _SH_POSCTL_RL_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   457
PROGRAM NAME =

31594                           10290             .GLOBAL         _SH_POSCTL_ACC          ;.SRES  4*2     ;
31595                           10291             .GLOBAL         _SH_POSCTL_OFS          ;.SRES  4*2     ;
31596                           10292             .GLOBAL         _SH_POSCTL_SV_ABSPLS    ;.SRES  8*2     ;
31597                           10293             .GLOBAL         _SH_POSCTL_RL_ABSPLS    ;.SRES  8*2     ;
31598                           10294             .GLOBAL         _SH_POSCTL_PV_ABSPLS    ;.SRES  8*2     ;
31599                           10295             .GLOBAL         _SH_POSCTL_REST_PLS     ;.SRES  4*2     ;
31600                           10296             .GLOBAL         _SH_POSCTL_CAL_REST     ;.SRES  4*2     ;演算(SV-PV)
31601                           10297             .GLOBAL         _SH_POSCTL_HENSA        ;.SRES  4*2     ;演算(SV-PV)
31602                           10298             .GLOBAL         _SH_POSCTL_LSIFREQ      ;.SRES  4*2     ;LSI
31603                           10299     
31604                           10300             .AIF    1 EQ    0
31605                           10301     _SH_2B  .EQU    0
31606                           10302     _SH_4B  .EQU    0
31607                           10303     _SH_8B  .EQU    0
31608                           10304             .AELSE
31609                                 C   ***** BEGIN-POOL *****
31610 000068C4 00000000               C   DATA FOR SOURCE-LINE 10271
31611 000068C8 00000000               C   DATA FOR SOURCE-LINE 10273
31612                                 C   ***** END-POOL *****
31613          00000002         10305 C   _SH_2B  .EQU    2
31614          00000004         10306 C   _SH_4B  .EQU    4
31615          00000008         10307 C   _SH_8B  .EQU    8
31616                           10308             .AENDI
31617                           10309     
31618                           10310     
31619                           10311     
31620                           10312     
31621                           10313     
31622 000068CC                  10314             .ALIGN  4                               ;
31623 000068CC                  10315     _MONI_SEINOU_CMP_OUTPUT:
31624                           10316             SUB_START
31625 000068CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31626                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31627                           10317     
31628                           10318     ;       設定速度
31629                           10319             MEM_MOV_TO_MEM  _POSCTL_SV_SPD,L        ,_SH_POSCTL_SV_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31630 000068CE D12E                   M           MOV.L   #_POSCTL_SV_SPD,R1
31631 000068D0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31632 000068D2 D32E                   M           MOV.L   #_SH_POSCTL_SV_SPD+_SH_4B,R3    ;DST_ADR
31633 000068D4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31634                           10320     ;       制御速度
31635                           10321             MEM_MOV_TO_MEM  _POSCTL_RL_SPD,L        ,_SH_POSCTL_RL_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31636 000068D6 D12E                   M           MOV.L   #_POSCTL_RL_SPD,R1
31637 000068D8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31638 000068DA D32E                   M           MOV.L   #_SH_POSCTL_RL_SPD+_SH_4B,R3    ;DST_ADR
31639 000068DC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31640                           10322             MEM_MOV_TO_MEM  _POSCTL_SV_UP_ACC,L     ,_SH_POSCTL_ACC+_SH_4B          ,L,R1,R2,R
                                          3       ;
31641 000068DE D12E                   M           MOV.L   #_POSCTL_SV_UP_ACC,R1
31642 000068E0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31643 000068E2 D32E                   M           MOV.L   #_SH_POSCTL_ACC+_SH_4B,R3       ;DST_ADR
31644 000068E4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31645                           10323             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L    ,_SH_POSCTL_OFS+_SH_4B          ,L,R1,R2,R
                                          3       ;
31646 000068E6 D12E                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   458
PROGRAM NAME =

31647 000068E8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31648 000068EA D32E                   M           MOV.L   #_SH_POSCTL_OFS+_SH_4B,R3       ;DST_ADR
31649 000068EC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31650                           10324             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS,L   ,_SH_POSCTL_REST_PLS+_SH_4B     ,L,R1,R2,R
                                          3       ;
31651 000068EE D12E                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
31652 000068F0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31653 000068F2 D32E                   M           MOV.L   #_SH_POSCTL_REST_PLS+_SH_4B,R3  ;DST_ADR
31654 000068F4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31655                           10325     
31656                           10326     ;       目標位置
31657 000068F6 D42E             10327             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
31658 000068F8 6146             10328             MOV.L   @R4+,R1                                                 ;
31659 000068FA 6242             10329             MOV.L   @R4,R2                                                  ;
31660 000068FC D42D             10330             MOV.L   #_SH_POSCTL_SV_ABSPLS+_SH_8B,R4                         ;
31661 000068FE 1410             10331             MOV.L   R1,@(0,R4)
31662 00006900 1421             10332             MOV.L   R2,@(4,R4)
31663                           10333     
31664                           10334     ;       ﾘｱﾙﾀｲﾑ目標位置
31665 00006902 D42D             10335             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                                 ;
31666 00006904 6546             10336             MOV.L   @R4+,R5                                                                 ;
31667 00006906 6642             10337             MOV.L   @R4,R6                                                                  ;
31668 00006908 D42C             10338             MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH_8B,R4                                         ;[
                                          CPUB側で使用する2014-11-07]
31669 0000690A 1450             10339             MOV.L   R5,@(0,R4)                                                              ;
31670 0000690C 1461             10340             MOV.L   R6,@(4,R4)                                                              ;
31671                           10341             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2                       ;
31672 0000690E 0008                   M           CLRT
31673 00006910 326A                   M           SUBC    R6,R2
31674 00006912 315A                   M           SUBC    R5,R1
31675                           10342             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_CAL_REST+_SH_4B,L1=L,DT_REG=R2,WKREG1=R1     ;
31676 00006914 D12A                   M           MOV.L   #_SH_POSCTL_CAL_REST+_SH_4B,R1  ;DST_ADR
31677 00006916 2122                   M           MOV.L   R2,@R1  ;DST_ADR
31678                           10343     
31679                           10344     ;       実測位置
31680 00006918 D42A             10345             MOV.L   #_LINK_PV_ABSPLS,R4                                                     ;
31681 0000691A 6146             10346             MOV.L   @R4+,R1                                                                 ;
31682 0000691C 6242             10347             MOV.L   @R4,R2                                                                  ;
31683 0000691E D42A             10348             MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH_8B,R4                                         ;
31684 00006920 1410             10349             MOV.L   R1,@(0,R4)                                                              ;
31685 00006922 1421             10350             MOV.L   R2,@(4,R4)                                                              ;
31686                           10351             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6                       ;
31687 00006924 0008                   M           CLRT
31688 00006926 362A                   M           SUBC    R2,R6
31689 00006928 351A                   M           SUBC    R1,R5
31690                           10352             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_HENSA+_SH_4B,L1=L,DT_REG=R6,WKREG1=R1        ;
31691 0000692A D128                   M           MOV.L   #_SH_POSCTL_HENSA+_SH_4B,R1     ;DST_ADR
31692 0000692C 2162                   M           MOV.L   R6,@R1  ;DST_ADR
31693                           10353     
31694                           10354             FAR_JSR #_LOAD_NOW_FREQ_PLS,R0                                                  ;
31695 0000692E D028                   M           MOV.L   #_LOAD_NOW_FREQ_PLS,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31696 00006930 400B                   M           JSR     @R0                     ;
31697 00006932 0009                   M           NOP                                     ;
31698                           10355             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_LSIFREQ+_SH_4B,L1=L,DT_REG=R0,WKREG1=R1      ;
31699 00006934 D127                   M           MOV.L   #_SH_POSCTL_LSIFREQ+_SH_4B,R1   ;DST_ADR
31700 00006936 2102                   M           MOV.L   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   459
PROGRAM NAME =

31701                           10356     
31702                           10357     
31703                           10358     ;       ------------------- 2007-03-02--------------------
31704                           10359             .GLOBAL         _SH_SQ200_IN            ;
31705                           10360             .GLOBAL         _SH_CNTSTOP_FLG         ;
31706 00006938 D127             10361             MOV.L   #_di1_cb_ctl1_dt,R1                     ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
31707 0000693A 6211             10362             MOV.W   @R1,R2                                  ;
31708 0000693C 9422             10363             MOV.W   #(BIT11+BIT10+BIT9+BIT8),R4             ;
31709 0000693E 6447             10364             NOT     R4,R4                                   ;
31710 00006940 2249             10365             AND     R4,R2                                   ;
31711                           10366     
31712 00006942 D126             10367             MOV.L   #_BTTN_FLG,R1                           ;
31713 00006944 6011             10368             MOV.W   @R1,R0                                  ;BIT8,9,10,11
31714 00006946 4018             10369             SHLL8   R0                                      ;BIT8,9,10
31715 00006948 220B             10370             OR      R0,R2                                   ;
31716 0000694A 941C             10371             MOV.W   #BIT7,R4                        ;
31717 0000694C 6447             10372             NOT     R4,R4                                   ;
31718 0000694E 2249             10373             AND     R4,R2                                   ;
31719                           10374     
31720 00006950 D123             10375             MOV.L   #_CNT_STOP_CMD,R1                       ;
31721 00006952 6011             10376             MOV.W   @R1,R0                                  ;
31722 00006954 2008             10377             TST     R0,R0                                   ;
31723                           10378             TST_BIT_OF MONI_DI_CHK_050                      ;
31724 00006956 8901                   M           BT      MONI_DI_CHK_050
31725 00006958 9415             10379             MOV.W   #BIT7,R4                                ;
31726 0000695A 224B             10380             OR      R4,R2                                   ;
31727 0000695C                  10381     MONI_DI_CHK_050:
31728                           10382             REG_MOV_TO_MEM  DST_ADR=_SH_SQ200_IN+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1    ;
31729 0000695C D121                   M           MOV.L   #_SH_SQ200_IN+_SH_2B,R1 ;DST_ADR
31730 0000695E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31731                           10383     
31732                           10384     
31733 00006960 D121             10385             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
31734 00006962 6011             10386             MOV.W   @R1,R0                          ;IN
31735 00006964 C901             10387             AND     #BIT0,R0                        ;
31736 00006966 4000             10388             SHLL    R0
31737 00006968 6203             10389             MOV     R0,R2                           ;
31738                           10390     
31739 0000696A D120             10391             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
31740 0000696C 6011             10392             MOV.W   @R1,R0                          ;LATCH
31741 0000696E C901             10393             AND     #BIT0,R0                        ;
31742 00006970 220B             10394             OR      R0,R2                           ;
31743                           10395             REG_MOV_TO_MEM  DST_ADR=_SH_CNTSTOP_FLG+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31744 00006972 D11F                   M           MOV.L   #_SH_CNTSTOP_FLG+_SH_2B,R1      ;DST_ADR
31745 00006974 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31746                           10396     
31747                           10397             .IMPORT _SH_OUTPLS_DELT
31748 00006976 D11F             10398             MOV.L   #_OUTPLS_DELT,R1                        ;
31749 00006978 6211             10399             MOV.W   @R1,R2
31750                           10400             REG_MOV_TO_MEM  DST_ADR=_SH_OUTPLS_DELT+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31751 0000697A D11F                   M           MOV.L   #_SH_OUTPLS_DELT+_SH_2B,R1      ;DST_ADR
31752 0000697C 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31753                           10401     
31754                           10402             SUB_END
31755                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31756 0000697E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31757                           10403             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   460
PROGRAM NAME =

31758 00006980 000B                   M           RTS                             ;RTSの後ろの
31759 00006982 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31760                           10404     
31761                           10405     
31762                           10406     
31763                           10407     
31764                           10408     ;       *******************************************
31765                           10409     ;       ***                                     ***
31766                           10410     ;       ***                                     ***
31767                           10411     ;       ***                                     ***
31768                           10412     ;       *******************************************
31769                                     ***** BEGIN-POOL *****
31770 00006984 0F00                       DATA FOR SOURCE-LINE 10363
31771 00006986 0080                       DATA FOR SOURCE-LINE 10371,10379
31772 00006988 00000000                   DATA FOR SOURCE-LINE 10319
31773 0000698C 00000000                   DATA FOR SOURCE-LINE 10319
31774 00006990 00000000                   DATA FOR SOURCE-LINE 10321
31775 00006994 00000000                   DATA FOR SOURCE-LINE 10321
31776 00006998 00000000                   DATA FOR SOURCE-LINE 10322
31777 0000699C 00000000                   DATA FOR SOURCE-LINE 10322
31778 000069A0 00000000                   DATA FOR SOURCE-LINE 10323
31779 000069A4 00000000                   DATA FOR SOURCE-LINE 10323
31780 000069A8 00000000                   DATA FOR SOURCE-LINE 10324
31781 000069AC 00000000                   DATA FOR SOURCE-LINE 10324
31782 000069B0 00000000                   DATA FOR SOURCE-LINE 10327
31783 000069B4 00000000                   DATA FOR SOURCE-LINE 10330
31784 000069B8 00000000                   DATA FOR SOURCE-LINE 10335
31785 000069BC 00000000                   DATA FOR SOURCE-LINE 10338
31786 000069C0 00000000                   DATA FOR SOURCE-LINE 10342
31787 000069C4 00000000                   DATA FOR SOURCE-LINE 10345
31788 000069C8 00000000                   DATA FOR SOURCE-LINE 10348
31789 000069CC 00000000                   DATA FOR SOURCE-LINE 10352
31790 000069D0 00000000                   DATA FOR SOURCE-LINE 10354
31791 000069D4 00000000                   DATA FOR SOURCE-LINE 10355
31792 000069D8 00000000                   DATA FOR SOURCE-LINE 10361
31793 000069DC 00000000                   DATA FOR SOURCE-LINE 10367
31794 000069E0 00000000                   DATA FOR SOURCE-LINE 10375
31795 000069E4 00000000                   DATA FOR SOURCE-LINE 10382
31796 000069E8 00000000                   DATA FOR SOURCE-LINE 10385
31797 000069EC 00000000                   DATA FOR SOURCE-LINE 10391
31798 000069F0 00000000                   DATA FOR SOURCE-LINE 10395
31799 000069F4 00000000                   DATA FOR SOURCE-LINE 10398
31800 000069F8 00000000                   DATA FOR SOURCE-LINE 10400
31801                                     ***** END-POOL *****
31802 000069FC                  10413             .ALIGN  4                               ;
31803 000069FC                  10414     _RL_POS_DATA_CHK:
31804                           10415             SUB_START
31805 000069FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31806                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31807 000069FE D40B             10416             MOV.L   #_MONI_CPUAB_PLSDELT,R4
31808                           10417             .AIF    1 EQ    0
31809                           10418             MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R7                      ;自分
31810                           10419             MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R9                      ;相手
31811                           10420             .AELSE
31812 00006A00 D90B             10421 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R9                      ;相手
31813 00006A02 D70C             10422 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R7                      ;自分
31814                           10423             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   461
PROGRAM NAME =

31815                           10424     
31816 00006A04                  10425     RL_POSDTCHK_SECOND_RD:
31817 00006A04 5590             10426             MOV.L   @(0,R9),R5                                              ;
31818 00006A06 5691             10427             MOV.L   @(4,R9),R6                                              ;
31819 00006A08 5190             10428             MOV.L   @(0,R9),R1                                              ;
31820 00006A0A 5291             10429             MOV.L   @(4,R9),R2                                              ;
31821 00006A0C 3510             10430             CMP/EQ  R1,R5                                                   ;相手
31822 00006A0E 8BF9             10431             BF      RL_POSDTCHK_SECOND_RD
31823 00006A10 3620             10432             CMP/EQ  R2,R6                                                   ;
31824 00006A12 8BF7             10433             BF      RL_POSDTCHK_SECOND_RD
31825                           10434     
31826 00006A14 5370             10435             MOV.L   @(0,R7),R3                                              ;
31827 00006A16 5471             10436             MOV.L   @(4,R7),R4                                              ;
31828                           10437             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2(相手-自分)
31829 00006A18 0008                   M           CLRT
31830 00006A1A 324A                   M           SUBC    R4,R2
31831 00006A1C 313A                   M           SUBC    R3,R1
31832                           10438     
31833 00006A1E D003             10439             MOV.L   #_MONI_CPUAB_PLSDELT,R0                                 ;相手-自分
31834 00006A20 1010             10440             MOV.L   R1,@(0,R0)
31835 00006A22 1021             10441             MOV.L   R2,@(4,R0)                                              ;
31836                           10442     
31837                           10443     
31838                           10444     
31839                           10445             SUB_END
31840                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31841 00006A24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31842                           10446             M_RTS
31843 00006A26 000B                   M           RTS                             ;RTSの後ろの
31844 00006A28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31845                           10447     
31846                           10448     ;       ***************************************************
31847                           10449     ;       ***                                             ***
31848                           10450     ;       ***             ためし                          ***
31849                           10451     ;       ***                                             ***
31850                           10452     ;       ***************************************************
31851                           10453     ;       Input R2
31852                                     ***** BEGIN-POOL *****
31853 00006A2A 0000                       ALIGNMENT CODE
31854 00006A2C 00000000                   DATA FOR SOURCE-LINE 10416,10439
31855 00006A30 00000000                   DATA FOR SOURCE-LINE 10421
31856 00006A34 00000000                   DATA FOR SOURCE-LINE 10422
31857                                     ***** END-POOL *****
31858 00006A38                  10454             .ALIGN  4                               ;
31859 00006A38                  10455     _CNT_HOSEI_CHK_CALC:
31860                           10456             SUB_START
31861 00006A38 4F22                   M           STS.L   PR,@-R15                ;[必要]
31862                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31863                           10457             .AIF    1 EQ    1                       ;ﾊﾟﾙｽ補正
31864 00006A3A D10A             10458 C           MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
31865 00006A3C 6011             10459 C           MOV.W   @R1,R0                          ;
31866 00006A3E 2008             10460 C           TST     R0,R0                           ;
31867                           10461 C           TST_BIT_ON CNT_HOSEI_CHKCAL_050         ;
31868 00006A40 8B0B                   M           BF      CNT_HOSEI_CHKCAL_050
31869 00006A42 D109             10462 C           MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
31870 00006A44 6011             10463 C           MOV.W   @R1,R0                          ;
31871 00006A46 2008             10464 C           TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   462
PROGRAM NAME =

31872                           10465 C           TST_BIT_ON CNT_HOSEI_CHKCAL_050                                 ;
31873 00006A48 8B07                   M           BF      CNT_HOSEI_CHKCAL_050
31874                           10466 C   
31875 00006A4A D108             10467 C           MOV.L   #_MODE_SEL,R1                                           ;
31876 00006A4C 6011             10468 C           MOV.W   @R1,R0                                                  ;
31877 00006A4E C808             10469 C           TST     #_W1CNT,R0                                              ;
31878                           10470 C           TST_BIT_OF CNT_HOSEI_CHKCAL_050                                 ;
31879 00006A50 8903                   M           BT      CNT_HOSEI_CHKCAL_050
31880                           10471 C   
31881 00006A52 D107             10472 C           MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
31882 00006A54 6011             10473 C           MOV.W   @R1,R0                                                  ;
31883 00006A56 C808             10474 C           TST     #BIT3,R0                                                ;
31884                           10475 C           TST_BIT_ON CNT_HOSEI_CHKCAL_100                                 ;VMODE
31885 00006A58 8B0E                   M           BF      CNT_HOSEI_CHKCAL_100
31886 00006A5A                  10476 C   CNT_HOSEI_CHKCAL_050:
31887                           10477 C           FAR_JSR #_CNTREST_HOS_RESET,R0                                  ;
31888 00006A5A D006                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31889 00006A5C 400B                   M           JSR     @R0                     ;
31890 00006A5E 0009                   M           NOP                                     ;
31891                           10478 C           M_BRA   CNT_HOSEI_SPDSET_EXT                                    ;
31892 00006A60 A014                   M           BRA     CNT_HOSEI_SPDSET_EXT
31893 00006A62 0009                   M           NOP
31894                           10479 C   
31895                                 C   ***** BEGIN-POOL *****
31896 00006A64 00000000               C   DATA FOR SOURCE-LINE 10458
31897 00006A68 00000000               C   DATA FOR SOURCE-LINE 10462
31898 00006A6C 00000000               C   DATA FOR SOURCE-LINE 10467
31899 00006A70 00000000               C   DATA FOR SOURCE-LINE 10472
31900 00006A74 00000000               C   DATA FOR SOURCE-LINE 10477
31901                                 C   ***** END-POOL *****
31902 00006A78                  10480 C   CNT_HOSEI_CHKCAL_100:
31903 00006A78 D006             10481 C           MOV.L   #_MONI_CPUAB_PLSDELT,R0
31904 00006A7A 5100             10482 C           MOV.L   @(0,R0),R1                      ;(0or1)
31905 00006A7C 5201             10483 C           MOV.L   @(4,R0),R2                      ;
31906 00006A7E 6323             10484 C           MOV     R2,R3                           ;+/-
31907 00006A80 4111             10485 C           CMP/PZ  R1                              ;+
31908 00006A82 8900             10486 C           BT      CNT_HOSEI_CHKCAL_200            ;相手-自分
31909 00006A84 622B             10487 C           NEG     R2,R2                           ;
31910 00006A86                  10488 C   CNT_HOSEI_CHKCAL_200:                           ;
31911                           10489 C           FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0       ;
31912 00006A86 D004                   M           MOV.L   #_CNT_SYNC_HOS_SPD_TYP,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31913 00006A88 400B                   M           JSR     @R0                     ;
31914 00006A8A 0009                   M           NOP                                     ;
31915                           10490 C   
31916                           10491 C   
31917 00006A8C                  10492 C   CNT_HOSEI_SPDSET_EXT:
31918                           10493             .AENDI
31919                           10494     
31920                           10495     
31921                           10496             SUB_END
31922                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31923 00006A8C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31924                           10497             M_RTS
31925 00006A8E 000B                   M           RTS                             ;RTSの後ろの
31926 00006A90 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31927                           10498     
31928                           10499     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   463
PROGRAM NAME =

31929                           10500     ;       *******************************************
31930                           10501     ;       ***                                     ***
31931                           10502     ;       ***                                     ***
31932                           10503     ;       ***                                     ***
31933                           10504     ;       *******************************************
31934                           10505     ;       HOS1 1000:1000~  1:7HZ
31935                           10506     ;       HOS1 2000:2000~  2:14HZ
31936                           10507     ;       HOS1 3000:3000~  4:28HZ
31937                           10508     ;       HOS1 4000:ERR
31938                                     ***** BEGIN-POOL *****
31939 00006A92 0000                       ALIGNMENT CODE
31940 00006A94 00000000                   DATA FOR SOURCE-LINE 10481
31941 00006A98 00000000                   DATA FOR SOURCE-LINE 10489
31942                                     ***** END-POOL *****
31943          00001F40         10509     _SYNC2_ERR_HABPLS1      .EQU    8000    ;16000
31944                           10510     
31945          0000012C         10511     _SYNC2_ERR_HOSHAB1      .EQU    300     ;
31946          00000190         10512     _SYNC2_ERR_HOSHAB2      .EQU    400     ;(100)
31947          000001F4         10513     _SYNC2_ERR_HOSHAB3      .EQU    500     ;(500)
31948          000003E8         10514     _SYNC2_ERR_HOSHAB4      .EQU    1000    ;(500)
31949          000005DC         10515     _SYNC2_ERR_HOSHAB5      .EQU    1500    ;(500)
31950          000007D0         10516     _SYNC2_ERR_HOSHAB6      .EQU    2000    ;(500)
31951          000009C4         10517     _SYNC2_ERR_HOSHAB7      .EQU    2500    ;(500)
31952                           10518     
31953                           10519     
31954          00000001         10520     _SYNC2_HOS_SPD1         .EQU    1       ;
31955          00000004         10521     _SYNC2_HOS_SPD2         .EQU    4       ;
31956          00000008         10522     _SYNC2_HOS_SPD3         .EQU    8       ;
31957          00000020         10523     _SYNC2_HOS_SPD4         .EQU    32      ;
31958          00000040         10524     _SYNC2_HOS_SPD5         .EQU    64      ;
31959          00000080         10525     _SYNC2_HOS_SPD6         .EQU    128     ;
31960          00000100         10526     _SYNC2_HOS_SPD7         .EQU    256     ;2000khz
31961          00000200         10527     _SYNC2_HOS_SPD8         .EQU    512     ;2000khz 2006-10-28
31962                           10528     
31963 00006A9C                  10529             .ALIGN  4                               ;
31964 00006A9C                  10530     _CNT_SYNC_HOS_SPD_TYP:
31965                           10531             SUB_START
31966 00006A9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31967                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31968                           10532     
31969 00006A9E D105             10533             MOV.L   #_CNT_SYNC_HOS_DAT2,R1          ;相手-自分
31970 00006AA0 2132             10534             MOV.L   R3,@R1                          ;(+/-生ﾃﾞｰﾀ)
31971                           10535     
31972 00006AA2 9105             10536             MOV.W   #_SYNC2_ERR_HABPLS1,R1          ;
31973 00006AA4 3122             10537             CMP/HS  R2,R1                           ;
31974 00006AA6 8909             10538             BT      CNT_SYNCHOS_SPDTYP_080          ;
31975                           10539     
31976                           10540     ;       -------- 2006-10-23--
31977 00006AA8 E401             10541             MOV     #BIT0,R4                        ;
31978 00006AAA D503             10542             MOV.L   #_SYNC2_HOS_SPD8,R5             ;MAX
31979                           10543             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31980 00006AAC A049                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31981 00006AAE 0009                   M           NOP
31982                           10544     
31983                           10545     
31984                           10546     ;;;     MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_SYNC_ERR_FLG,LG=W,BIT=(BIT1+BIT0),WKREG=R1     ;S
                                          YNC_ERR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   464
PROGRAM NAME =

31985                           10547     ;;;
31986                           10548     ;;;     M_BRA   CNT_SYNCHOS_SPDTYP_EXT                                                  ;
31987                           10549     
31988                                     ***** BEGIN-POOL *****
31989 00006AB0 1F40                       DATA FOR SOURCE-LINE 10536
31990 00006AB2 0000                       ALIGNMENT CODE
31991 00006AB4 00000000                   DATA FOR SOURCE-LINE 10533
31992 00006AB8 00000200                   DATA FOR SOURCE-LINE 10542
31993                                     ***** END-POOL *****
31994 00006ABC                  10550     CNT_SYNCHOS_SPDTYP_080:
31995                           10551     
31996 00006ABC 9105             10552             MOV.W   #_SYNC2_ERR_HOSHAB1,R1          ;
31997 00006ABE 3216             10553             CMP/HI  R1,R2                           ;=<data1(1000)
31998 00006AC0 8904             10554             BT      CNT_SYNCHOS_SPDTYP_200          ;R1(1000)<R2(PLS) JUMP
31999 00006AC2                  10555     CNT_SYNCHOS_SPDTYP_100:
32000                           10556     ;       === 正常補正なし====
32001 00006AC2 244A             10557             XOR     R4,R4                           ;FLG_BIT
32002 00006AC4 255A             10558             XOR     R5,R5                           ;data
32003                           10559             M_BRA   CNT_SYNCHOS_SPDTYP_450          ;
32004 00006AC6 A043                   M           BRA     CNT_SYNCHOS_SPDTYP_450
32005 00006AC8 0009                   M           NOP
32006                           10560     
32007                                     ***** BEGIN-POOL *****
32008 00006ACA 012C                       DATA FOR SOURCE-LINE 10552
32009                                     ***** END-POOL *****
32010 00006ACC                  10561     CNT_SYNCHOS_SPDTYP_200:
32011 00006ACC 9105             10562             MOV.W   #_SYNC2_ERR_HOSHAB2,R1          ;
32012 00006ACE 3216             10563             CMP/HI  R1,R2                           ;=<data2(2000)
32013 00006AD0 8905             10564             BT      CNT_SYNCHOS_SPDTYP_250          ;R1(2000)<R2(PLS) JUMP
32014 00006AD2 E401             10565             MOV     #BIT0,R4                        ;
32015 00006AD4 9502             10566             MOV.W   #_SYNC2_HOS_SPD1,R5
32016                           10567             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32017 00006AD6 A034                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32018 00006AD8 0009                   M           NOP
32019                           10568     
32020                                     ***** BEGIN-POOL *****
32021 00006ADA 0190                       DATA FOR SOURCE-LINE 10562
32022 00006ADC 0001                       DATA FOR SOURCE-LINE 10566
32023                                     ***** END-POOL *****
32024 00006ADE                  10569     CNT_SYNCHOS_SPDTYP_250:
32025 00006ADE 9105             10570             MOV.W   #_SYNC2_ERR_HOSHAB3,R1          ;
32026 00006AE0 3216             10571             CMP/HI  R1,R2                           ;=<data3(3000)
32027 00006AE2 8905             10572             BT      CNT_SYNCHOS_SPDTYP_300          ;R1(3000)<R2(PLS) JUMP
32028 00006AE4 E401             10573             MOV     #BIT0,R4                        ;
32029 00006AE6 9502             10574             MOV.W   #_SYNC2_HOS_SPD2,R5
32030                           10575             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32031 00006AE8 A02B                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32032 00006AEA 0009                   M           NOP
32033                           10576     
32034                                     ***** BEGIN-POOL *****
32035 00006AEC 01F4                       DATA FOR SOURCE-LINE 10570
32036 00006AEE 0004                       DATA FOR SOURCE-LINE 10574
32037                                     ***** END-POOL *****
32038 00006AF0                  10577     CNT_SYNCHOS_SPDTYP_300:
32039                           10578     
32040 00006AF0 9105             10579             MOV.W   #_SYNC2_ERR_HOSHAB4,R1          ;
32041 00006AF2 3216             10580             CMP/HI  R1,R2                           ;=<data4(3000)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   465
PROGRAM NAME =

32042 00006AF4 8905             10581             BT      CNT_SYNCHOS_SPDTYP_310          ;R1(3000)<R2(PLS) JUMP
32043 00006AF6 E401             10582             MOV     #BIT0,R4                        ;
32044 00006AF8 9502             10583             MOV.W   #_SYNC2_HOS_SPD3,R5
32045                           10584             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32046 00006AFA A022                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32047 00006AFC 0009                   M           NOP
32048                           10585     
32049                                     ***** BEGIN-POOL *****
32050 00006AFE 03E8                       DATA FOR SOURCE-LINE 10579
32051 00006B00 0008                       DATA FOR SOURCE-LINE 10583
32052                                     ***** END-POOL *****
32053 00006B02                  10586     CNT_SYNCHOS_SPDTYP_310:
32054 00006B02 9105             10587             MOV.W   #_SYNC2_ERR_HOSHAB5,R1          ;
32055 00006B04 3216             10588             CMP/HI  R1,R2                           ;=<data4(3000)
32056 00006B06 8905             10589             BT      CNT_SYNCHOS_SPDTYP_320          ;R1(3000)<R2(PLS) JUMP
32057 00006B08 E401             10590             MOV     #BIT0,R4                        ;
32058 00006B0A 9502             10591             MOV.W   #_SYNC2_HOS_SPD4,R5
32059                           10592             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32060 00006B0C A019                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32061 00006B0E 0009                   M           NOP
32062                           10593     
32063                                     ***** BEGIN-POOL *****
32064 00006B10 05DC                       DATA FOR SOURCE-LINE 10587
32065 00006B12 0020                       DATA FOR SOURCE-LINE 10591
32066                                     ***** END-POOL *****
32067 00006B14                  10594     CNT_SYNCHOS_SPDTYP_320:
32068 00006B14 9105             10595             MOV.W   #_SYNC2_ERR_HOSHAB6,R1          ;
32069 00006B16 3216             10596             CMP/HI  R1,R2                           ;=<data4(3000)
32070 00006B18 8905             10597             BT      CNT_SYNCHOS_SPDTYP_330          ;R1(3000)<R2(PLS) JUMP
32071 00006B1A E401             10598             MOV     #BIT0,R4                        ;
32072 00006B1C 9502             10599             MOV.W   #_SYNC2_HOS_SPD5,R5
32073                           10600             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32074 00006B1E A010                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32075 00006B20 0009                   M           NOP
32076                           10601     
32077                                     ***** BEGIN-POOL *****
32078 00006B22 07D0                       DATA FOR SOURCE-LINE 10595
32079 00006B24 0040                       DATA FOR SOURCE-LINE 10599
32080                                     ***** END-POOL *****
32081 00006B26                  10602     CNT_SYNCHOS_SPDTYP_330:
32082 00006B26 9105             10603             MOV.W   #_SYNC2_ERR_HOSHAB7,R1          ;
32083 00006B28 3216             10604             CMP/HI  R1,R2                           ;=<data4(3000)
32084 00006B2A 8905             10605             BT      CNT_SYNCHOS_SPDTYP_390          ;R1(3000)<R2(PLS) JUMP
32085 00006B2C E401             10606             MOV     #BIT0,R4                        ;
32086 00006B2E 9502             10607             MOV.W   #_SYNC2_HOS_SPD6,R5
32087                           10608             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32088 00006B30 A007                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32089 00006B32 0009                   M           NOP
32090                           10609     
32091                                     ***** BEGIN-POOL *****
32092 00006B34 09C4                       DATA FOR SOURCE-LINE 10603
32093 00006B36 0080                       DATA FOR SOURCE-LINE 10607
32094                                     ***** END-POOL *****
32095 00006B38                  10610     CNT_SYNCHOS_SPDTYP_390:
32096 00006B38 E401             10611             MOV     #BIT0,R4                        ;
32097 00006B3A 9501             10612             MOV.W   #_SYNC2_HOS_SPD7,R5
32098                           10613             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   466
PROGRAM NAME =

32099 00006B3C A001                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32100 00006B3E 0009                   M           NOP
32101                           10614     
32102                                     ***** BEGIN-POOL *****
32103 00006B40 0100                       DATA FOR SOURCE-LINE 10612
32104                                     ***** END-POOL *****
32105 00006B42                  10615     CNT_SYNCHOS_SPDTYP_400:
32106 00006B42 D109             10616             MOV.L   #_CNT_SYNC_CHK_CNT2,R1
32107 00006B44 6011             10617             MOV.W   @R1,R0
32108 00006B46 7001             10618             ADD     #1,R0
32109 00006B48 2101             10619             MOV.W   R0,@R1                          ;
32110                           10620     
32111 00006B4A 4311             10621             CMP/PZ  R3                              ;相手-自分= 10 +に溜まっている.速度UP
32112 00006B4C 8900             10622             BT      CNT_SYNCHOS_SPDTYP_450          ;          -10 -に溜まっている.速度DN
32113 00006B4E 655B             10623             NEG     R5,R5                           ;
32114 00006B50                  10624     CNT_SYNCHOS_SPDTYP_450:                         ;
32115 00006B50 D106             10625             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
32116 00006B52 2141             10626             MOV.W   R4,@R1                          ;
32117 00006B54 D106             10627             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32118 00006B56 2152             10628             MOV.L   R5,@R1                          ;
32119                           10629     
32120 00006B58                  10630     CNT_SYNCHOS_SPDTYP_EXT:
32121 00006B58 D105             10631             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32122 00006B5A 6012             10632             MOV.L   @R1,R0                          ;
32123 00006B5C D105             10633             MOV.L   #_CNT_SYNC_HOS_DAT1,R1          ;
32124 00006B5E 2102             10634             MOV.L   R0,@R1                          ;
32125                           10635     
32126                           10636             SUB_END
32127                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32128 00006B60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32129                           10637             M_RTS
32130 00006B62 000B                   M           RTS                             ;RTSの後ろの
32131 00006B64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32132                           10638     
32133                           10639     ;       ***********************************
32134                           10640     ;       ***                             ***
32135                           10641     ;       ***     速度設定                ***
32136                           10642     ;       ***     FFFF(500Kはありえない)  ***
32137                           10643     ;       ***                             ***
32138                           10644     ;       ***********************************
32139                           10645     ;       input R2 speed
32140                                     ***** BEGIN-POOL *****
32141 00006B66 0000                       ALIGNMENT CODE
32142 00006B68 00000000                   DATA FOR SOURCE-LINE 10616
32143 00006B6C 00000000                   DATA FOR SOURCE-LINE 10625
32144 00006B70 00000000                   DATA FOR SOURCE-LINE 10627,10631
32145 00006B74 00000000                   DATA FOR SOURCE-LINE 10633
32146                                     ***** END-POOL *****
32147 00006B78                  10646             .ALIGN  4                               ;
32148 00006B78                  10647     _CNT_REST_HOSEI_SPD_TYP:
32149                           10648             SUB_START
32150 00006B78 4F22                   M           STS.L   PR,@-R15                ;[必要]
32151                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32152 00006B7A D105             10649             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
32153 00006B7C 6011             10650             MOV.W   @R1,R0                          ;
32154 00006B7E C801             10651             TST     #BIT0,R0                        ;
32155                           10652             TST_BIT_OF CNT_REST_HOSEI_SPDTYP_EXT    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   467
PROGRAM NAME =

32156 00006B80 8902                   M           BT      CNT_REST_HOSEI_SPDTYP_EXT
32157 00006B82 D104             10653             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32158 00006B84 6012             10654             MOV.L   @R1,R0                          ;
32159 00006B86 320C             10655             ADD     R0,R2                           ;
32160 00006B88                  10656     CNT_REST_HOSEI_SPDTYP_EXT:
32161                           10657             SUB_END
32162                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32163 00006B88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32164                           10658             M_RTS
32165 00006B8A 000B                   M           RTS                             ;RTSの後ろの
32166 00006B8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32167                           10659     
32168                           10660             .EXPORT _CNTREST_HOS_RESET
32169                                     ***** BEGIN-POOL *****
32170 00006B8E 0000                       ALIGNMENT CODE
32171 00006B90 00000000                   DATA FOR SOURCE-LINE 10649
32172 00006B94 00000000                   DATA FOR SOURCE-LINE 10653
32173                                     ***** END-POOL *****
32174 00006B98                  10661             .ALIGN  4                               ;
32175 00006B98                  10662     _CNTREST_HOS_RESET
32176                           10663             SUB_START
32177 00006B98 4F22                   M           STS.L   PR,@-R15                ;[必要]
32178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32179 00006B9A 200A             10664             XOR     R0,R0
32180                           10665             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_FLG ,L1=W,DT_REG=R0,WKREG1=R1       ;
32181 00006B9C D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;DST_ADR
32182 00006B9E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
32183                           10666             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_DAT ,L1=L,DT_REG=R0,WKREG1=R1       ;
32184 00006BA0 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;DST_ADR
32185 00006BA2 2102                   M           MOV.L   R0,@R1  ;DST_ADR
32186                           10667             SUB_END
32187                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32188 00006BA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32189                           10668             M_RTS
32190 00006BA6 000B                   M           RTS                             ;RTSの後ろの
32191 00006BA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32192                           10669     
32193                           10670     
32194                           10671     
32195                           10672     ;       *******************************************
32196                           10673     ;       ***                                     ***
32197                           10674     ;       ***     2010-10-05                      ***
32198                           10675     ;       ***                                     ***
32199                           10676     ;       ***                                     ***
32200                           10677     ;       *******************************************
32201                                     ***** BEGIN-POOL *****
32202 00006BAA 0000                       ALIGNMENT CODE
32203 00006BAC 00000000                   DATA FOR SOURCE-LINE 10665
32204 00006BB0 00000000                   DATA FOR SOURCE-LINE 10666
32205                                     ***** END-POOL *****
32206 00006BB4                  10678             .ALIGN  4                               ;
32207 00006BB4                  10679     _dum_SET_PV_ABS_TO_OBJ:
32208                           10680             SUB_START
32209 00006BB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32211                           10681             SUB_END
32212                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   468
PROGRAM NAME =

32213 00006BB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32214                           10682             M_RTS
32215 00006BB8 000B                   M           RTS                             ;RTSの後ろの
32216 00006BBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32217                           10683     
32218                           10684     ;       ***************************************************
32219                           10685     ;       ***                                             ***
32220                           10686     ;       ***     反転のタイマ途中からの再起動            ***
32221                           10687     ;       ***     (安全一、寸動、連続寸動一、連続タイマ)  ***
32222                           10688     ;       ***     2012-05-15                              ***
32223                           10689     ;       ***                                             ***
32224                           10690     ;       ***************************************************
32225                           10691     ;       起動時,
32226                           10692     ;
32227 00006BBC                  10693             .ALIGN  4                               ;
32228 00006BBC                  10694     _DURING_TIM_CNTINUE_CHK
32229                           10695             SUB_START
32230 00006BBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32231                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32232 00006BBE D102             10696             MOV.L   #_DURING_TIM_FX,R1                              ;
32233 00006BC0 6011             10697             MOV.W   @R1,R0                                          ;
32234 00006BC2                  10698     DURING_TIM_CNTCK_END
32235                           10699             SUB_END
32236                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32237 00006BC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32238                           10700             M_RTS
32239 00006BC4 000B                   M           RTS                             ;RTSの後ろの
32240 00006BC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32241                           10701     
32242                           10702     
32243                           10703     ;       ------------- 再度0から行うか,途中から行うか,ﾀｲﾌﾟｱｯﾌﾟから行うか
32244                           10704     ;       input R1:設定
32245                           10705     ;
32246                                     ***** BEGIN-POOL *****
32247 00006BC8 00000000                   DATA FOR SOURCE-LINE 10696
32248                                     ***** END-POOL *****
32249 00006BCC                  10706     _DURING_TIM_PRESET_CALC
32250                           10707             SUB_START
32251 00006BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32252                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32253                           10708     
32254 00006BCE D007             10709             MOV.L   #_DURING_TIM_FX,R0                                      ;
32255 00006BD0 6001             10710             MOV.W   @R0,R0                                                  ;
32256 00006BD2 2008             10711             TST     R0,R0                                                   ;
32257                           10712             TST_BIT_OF DURING_TIM_PRECALC200                                ;通常の処理
32258 00006BD4 890F                   M           BT      DURING_TIM_PRECALC200
32259                           10713     
32260 00006BD6 2118             10714             TST     R1,R1                                                   ;
32261                           10715             TST_BIT_OF DURING_TIM_PRECALC200                                ;ﾃﾞｰﾀが0
32262 00006BD8 890D                   M           BT      DURING_TIM_PRECALC200
32263                           10716     
32264 00006BDA D005             10717             MOV.L   #(_PAR_STOPTIM_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R0    ;
32265 00006BDC 6001             10718             MOV.W   @R0,R0                                                  ;
32266 00006BDE 8802             10719             CMP/EQ  #2,R0                                                   ;
32267 00006BE0 8908             10720             BT      DURING_TIM_PRECALC100                                   ;"ｸﾘｱ":ﾀｲﾑｱｯﾌﾟから
                                          はじめる
32268                           10721     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   469
PROGRAM NAME =

32269 00006BE2 8801             10722             CMP/EQ  #1,R0                                                   ;
32270 00006BE4 8B07             10723             BF      DURING_TIM_PRECALC200                                   ;0:(2,1以外):(設定
                                          をｾｯﾄする)
32271                           10724             M_BRA   DURING_TIM_PRECALCEND                                   ;1:設定しない:継続
32272 00006BE6 A008                   M           BRA     DURING_TIM_PRECALCEND
32273 00006BE8 0009                   M           NOP
32274                           10725     
32275                           10726     
32276                                     ***** BEGIN-POOL *****
32277 00006BEA 0000                       ALIGNMENT CODE
32278 00006BEC 00000000                   DATA FOR SOURCE-LINE 10709
32279 00006BF0 00000000                   DATA FOR SOURCE-LINE 10717
32280                                     ***** END-POOL *****
32281 00006BF4                  10727     DURING_TIM_PRECALC100
32282 00006BF4 211A             10728             XOR     R1,R1                                                   ;
32283 00006BF6                  10729     DURING_TIM_PRECALC200
32284 00006BF6 D402             10730             MOV.L   #_SDAT_WAIT_PVTIM,R4                                    ;
32285 00006BF8 2412             10731             MOV.L   R1,@R4                                                  ;
32286 00006BFA                  10732     DURING_TIM_PRECALCEND
32287                           10733             SUB_END
32288                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32289 00006BFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32290                           10734             M_RTS
32291 00006BFC 000B                   M           RTS                             ;RTSの後ろの
32292 00006BFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32293                           10735     
32294                           10736     
32295                           10737     
32296                           10738     ;       *******************************************
32297                           10739     ;       ***                                     ***
32298                           10740     ;       ***             2013-02-08              ***
32299                           10741     ;       ***             CPUB_CURVSEL[4]         ***
32300                           10742     ;       *******************************************
32301                           10743     ;;      CPUA=CPUB=TBLCURV時に生かす
32302                           10744             .IMPORT         _PAR_DNMDEND_DLY
32303                           10745     
32304                                     ***** BEGIN-POOL *****
32305 00006C00 00000000                   DATA FOR SOURCE-LINE 10730
32306                                     ***** END-POOL *****
32307 00006C04                  10746     _DNMODE_ENDWAIT_TIM_SET                         ;[[[2013-03-24復活]]]
32308                           10747             SUB_START                               ;[[[2013-03-24復活]]]
32309 00006C04 4F22                   M           STS.L   PR,@-R15                ;[必要]
32310                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32311                           10748     
32312 00006C06 D106             10749             MOV.L   #_SETX_POS_CTL_MATH,R1          ;[[[2013-03-24復活]]]
32313 00006C08 6011             10750             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32314 00006C0A C804             10751             TST     #_DMATH_DNDRIV,R0               ;[[[2013-03-24復活]]]
32315                           10752             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32316 00006C0C 890E                   M           BT      DNMODE_ENDWAIT_TIMST100
32317                           10753     
32318 00006C0E D105             10754             MOV.L   #_MODE_SEL,R1                   ;[[[2013-03-24復活]]]
32319 00006C10 6011             10755             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32320 00006C12 C808             10756             TST     #_W1CNT,R0                      ;[[[2013-03-24復活]]]
32321                           10757             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32322 00006C14 890A                   M           BT      DNMODE_ENDWAIT_TIMST100
32323                           10758     
32324 00006C16 D104             10759             MOV.L   #(_PAR_DNMDEND_DLY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[[[2013-03-24復活
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   470
PROGRAM NAME =

                                          ]]]
32325 00006C18 6011             10760             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32326                           10761             M_BRA   DNMODE_ENDWAIT_TIMST200                                 ;[[[2013-03-24復活
                                          ]]]
32327 00006C1A A008                   M           BRA     DNMODE_ENDWAIT_TIMST200
32328 00006C1C 0009                   M           NOP
32329                           10762     
32330                                     ***** BEGIN-POOL *****
32331 00006C1E 0000                       ALIGNMENT CODE
32332 00006C20 00000000                   DATA FOR SOURCE-LINE 10749
32333 00006C24 00000000                   DATA FOR SOURCE-LINE 10754
32334 00006C28 00000000                   DATA FOR SOURCE-LINE 10759
32335                                     ***** END-POOL *****
32336 00006C2C                  10763     DNMODE_ENDWAIT_TIMST100                                                 ;[[[2013-03-24復活
                                          ]]]
32337 00006C2C 200A             10764             XOR     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32338 00006C2E                  10765     DNMODE_ENDWAIT_TIMST200                                                 ;
32339 00006C2E D102             10766             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32340 00006C30 2101             10767             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32341                           10768                                                                             ;
32342                           10769             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32343                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32344 00006C32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32345                           10770             M_RTS                                                           ;
32346 00006C34 000B                   M           RTS                             ;RTSの後ろの
32347 00006C36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32348                           10771     
32349                                     ***** BEGIN-POOL *****
32350 00006C38 00000000                   DATA FOR SOURCE-LINE 10766
32351                                     ***** END-POOL *****
32352 00006C3C                  10772     _DNMODE_ENDWAIT_TIM_CHK                                                 ;[[[2013-03-24復活
                                          ]]]
32353                           10773             SUB_START                                                       ;[[[2013-03-24復活
                                          ]]]
32354 00006C3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32355                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32356 00006C3E D105             10774             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32357 00006C40 6011             10775             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32358 00006C42 2008             10776             TST     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32359                           10777             TST_BIT_OF DNMODE_ENDWAIT_TIMCK_END                             ;ANS R0=0 [[[2013-
                                          03-24復活]]]
32360 00006C44 8902                   M           BT      DNMODE_ENDWAIT_TIMCK_END
32361                           10778                                                                             ;[[[2013-03-24復活
                                          ]]]
32362 00006C46 70FF             10779             ADD     #-1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32363 00006C48 2101             10780             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32364 00006C4A E001             10781             MOV.B   #1,R0                                                   ;R0=1 NOT TIM UP[[
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   471
PROGRAM NAME =

                                          [2013-03-24復活]]]
32365                           10782     
32366 00006C4C                  10783     DNMODE_ENDWAIT_TIMCK_END                                                ;[[[2013-03-24復活
                                          ]]]
32367                           10784     
32368                           10785             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32369                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32370 00006C4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32371                           10786             M_RTS                                                           ;[[[2013-03-24復活
                                          ]]]
32372 00006C4E 000B                   M           RTS                             ;RTSの後ろの
32373 00006C50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32374                           10787     
32375                           10788     ;       ***************************************************
32376                           10789     ;       ***                                             ***
32377                           10790     ;       ***             寸動時上限制限をかける          ***
32378                           10791     ;       ***             2013-02-15                      ***
32379                           10792     ;       ***************************************************
32380                                     ***** BEGIN-POOL *****
32381 00006C52 0000                       ALIGNMENT CODE
32382 00006C54 00000000                   DATA FOR SOURCE-LINE 10774
32383                                     ***** END-POOL *****
32384 00006C58                  10793     _INC_UPLIMT_CALC:
32385                           10794             SUB_START
32386 00006C58 4F22                   M           STS.L   PR,@-R15                ;[必要]
32387                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32388 00006C5A D10A             10795             MOV.L   #_MODE_SEL,R1                           ;
32389 00006C5C 6011             10796             MOV.W   @R1,R0                                  ;
32390 00006C5E C802             10797             TST     #(_W1INC),R0                            ;
32391                           10798             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32392 00006C60 891A                   M           BT      INC_UPLIMT_CAL100
32393                           10799     
32394 00006C62 D109             10800             MOV.L   #_CB_SEQ_CB_COM349,R1                   ;
32395 00006C64 6011             10801             MOV.W   @R1,R0                                  ;
32396 00006C66 940B             10802             MOV.W   #BIT8,R4                                ;
32397 00006C68 2048             10803             TST     R4,R0                                   ;
32398                           10804             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32399 00006C6A 8915                   M           BT      INC_UPLIMT_CAL100
32400                           10805     
32401 00006C6C D107             10806             MOV.L   #(_PAR_INCSPD_UPLMT-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
32402 00006C6E 6211             10807             MOV.W   @R1,R2                                                  ;
32403                           10808             FAR_JSR #_CYCLE_SPD1,R0                                         ;
32404 00006C70 D007                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32405 00006C72 400B                   M           JSR     @R0                     ;
32406 00006C74 0009                   M           NOP                                     ;
32407 00006C76 D107             10809             MOV.L   #_UPLIMIT_SV_SPD,R1                     ;//(上限共通DATA)PLS/S
32408 00006C78 2122             10810             MOV.L   R2,@R1                                  ;
32409                           10811     
32410 00006C7A 9002             10812             MOV.W   #BIT0,R0                                ;
32411                           10813             M_BRA   INC_UPLIMT_CAL200                       ;
32412 00006C7C A00D                   M           BRA     INC_UPLIMT_CAL200
32413 00006C7E 0009                   M           NOP
32414                           10814     
32415                                     ***** BEGIN-POOL *****
32416 00006C80 0100                       DATA FOR SOURCE-LINE 10802
32417 00006C82 0001                       DATA FOR SOURCE-LINE 10812
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   472
PROGRAM NAME =

32418 00006C84 00000000                   DATA FOR SOURCE-LINE 10795
32419 00006C88 00000000                   DATA FOR SOURCE-LINE 10800
32420 00006C8C 00000000                   DATA FOR SOURCE-LINE 10806
32421 00006C90 00000000                   DATA FOR SOURCE-LINE 10808
32422 00006C94 00000000                   DATA FOR SOURCE-LINE 10809
32423                                     ***** END-POOL *****
32424 00006C98                  10815     INC_UPLIMT_CAL100:
32425 00006C98 200A             10816             XOR     R0,R0
32426 00006C9A                  10817     INC_UPLIMT_CAL200:
32427 00006C9A D102             10818             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
32428 00006C9C 2101             10819             MOV.W   R0,@R1                  ;
32429 00006C9E                  10820     INC_UPLIMT_CALEND:
32430                           10821     
32431                           10822             SUB_END
32432                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32433 00006C9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32434                           10823             M_RTS
32435 00006CA0 000B                   M           RTS                             ;RTSの後ろの
32436 00006CA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32437                           10824     
32438                           10825     
32439                           10826     ;       *******************************************
32440                           10827     ;       ***                                     ***
32441                           10828     ;       ***     2009-10-07                      ***
32442                           10829     ;       ***     下振子                          ***
32443                           10830     ;       ***     非常停止                        ***
32444                           10831     ;       *******************************************
32445                                     ***** BEGIN-POOL *****
32446 00006CA4 00000000                   DATA FOR SOURCE-LINE 10818
32447                                     ***** END-POOL *****
32448 00006CA8                  10832             .ALIGN  4                               ;
32449 00006CA8                  10833     _DNM_DATA_CLR:
32450                           10834             SUB_START
32451 00006CA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32452                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32453                           10835     
32454                           10836              .AIF   1 EQ 1  ;
32455                           10837 C   ;       -------- 2016-10-31 ADD 二重回路対策
32456                           10838              .AENDI
32457                           10839     ;       ---2016-06-13--
32458                           10840             UP_TIME LG=W,MEM_ADR=_DBG_DNM_CLR_CNT,WKREG1=R1,WKREG2=R0
32459 00006CAA D107                   M           MOV.L   #_DBG_DNM_CLR_CNT,R1            ;SORCE ADRESS SET
32460 00006CAC 6011                   M           MOV.W   @R1,R0          ;
32461 00006CAE 7001                   M           ADD     #1,R0                   ;
32462 00006CB0 2008                   M           TST     R0,R0                   ;
32463                                 M           TST_BIT_OF JMP_0100022                  ;ZERO THEN JUMP
32464 00006CB2 8900                   M           BT      JMP_0100022
32465 00006CB4 2101                   M           MOV.W   R0,@R1          ;STORE
32466 00006CB6                        M   JMP_0100022:                                    ;
32467                           10841     
32468 00006CB6 200A             10842             XOR     R0,R0
32469 00006CB8 D104             10843             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32470 00006CBA 2101             10844             MOV.W   R0,@R1
32471 00006CBC D104             10845             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時
32472 00006CBE 2101             10846             MOV.W   R0,@R1
32473                           10847             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   473
PROGRAM NAME =

32474                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32475 00006CC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32476                           10848             M_RTS
32477 00006CC2 000B                   M           RTS                             ;RTSの後ろの
32478 00006CC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32479                           10849     
32480                           10850     ;       *******************************************
32481                           10851     ;       ***                                     ***
32482                           10852     ;       ***     2014-09-17                      ***
32483                           10853     ;       ***     下振子                          ***
32484                           10854     ;       ***     左待機点からの開始              ***
32485                           10855     ;       ***                                     ***
32486                           10856     ;       *******************************************
32487                           10857     ;       初期値は0：右
32488                           10858             .EXPORT _DNM_DATA_REV_SET
32489                                     ***** BEGIN-POOL *****
32490 00006CC6 0000                       ALIGNMENT CODE
32491 00006CC8 00000000                   DATA FOR SOURCE-LINE 10840
32492 00006CCC 00000000                   DATA FOR SOURCE-LINE 10843
32493 00006CD0 00000000                   DATA FOR SOURCE-LINE 10845
32494                                     ***** END-POOL *****
32495 00006CD4                  10859     _DNM_DATA_REV_SET:
32496                           10860             SUB_START
32497 00006CD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32498                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32499 00006CD6 E001             10861             MOV.B   #BIT0,R0                        ;
32500 00006CD8 D102             10862             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32501 00006CDA 2101             10863             MOV.W   R0,@R1
32502                           10864     
32503                           10865     ;;;;;;; MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時,次のｻｲｸﾙ起動時 SET_FLG=>NO
                                          W_FLG
32504                           10866     ;;;;;;; MOV.W   R0,@R1
32505                           10867     
32506                           10868             SUB_END
32507                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32508 00006CDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32509                           10869             M_RTS
32510 00006CDE 000B                   M           RTS                             ;RTSの後ろの
32511 00006CE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32512                           10870     
32513                           10871     
32514                           10872             .EXPORT _DNM_CYCLE_END                  ;2016-04-16
32515                                     ***** BEGIN-POOL *****
32516 00006CE2 0000                       ALIGNMENT CODE
32517 00006CE4 00000000                   DATA FOR SOURCE-LINE 10862
32518                                     ***** END-POOL *****
32519 00006CE8                  10873     _DNM_CYCLE_END:                                 ;
32520                           10874             SUB_START                               ;
32521 00006CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32522                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32523                           10875     
32524                           10876              .AIF   1 EQ 1  ;
32525                           10877 C   ;       -------- 2016-10-31 ADD 二重回路対策
32526                           10878              .AENDI
32527                           10879     
32528                           10880     ;       ---2016-06-13--
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   474
PROGRAM NAME =

32529                           10881             UP_TIME LG=W,MEM_ADR=_DBG_DNM_END_CNT,WKREG1=R1,WKREG2=R0
32530 00006CEA D10B                   M           MOV.L   #_DBG_DNM_END_CNT,R1            ;SORCE ADRESS SET
32531 00006CEC 6011                   M           MOV.W   @R1,R0          ;
32532 00006CEE 7001                   M           ADD     #1,R0                   ;
32533 00006CF0 2008                   M           TST     R0,R0                   ;
32534                                 M           TST_BIT_OF JMP_0100023                  ;ZERO THEN JUMP
32535 00006CF2 8900                   M           BT      JMP_0100023
32536 00006CF4 2101                   M           MOV.W   R0,@R1          ;STORE
32537 00006CF6                        M   JMP_0100023:                                    ;
32538                           10882     
32539 00006CF6 222A             10883             XOR     R2,R2                           ;
32540 00006CF8 D108             10884             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32541 00006CFA 6011             10885             MOV.W   @R1,R0                          ;
32542 00006CFC C804             10886             TST     #_DMATH_DNDRIV,R0
32543                           10887             TST_BIT_OF DNM_CYCLE_ED_100             ;
32544 00006CFE 8904                   M           BT      DNM_CYCLE_ED_100
32545                           10888     
32546 00006D00 D107             10889             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32547 00006D02 6011             10890             MOV.W   @R1,R0                          ;
32548 00006D04 2008             10891             TST     R0,R0                           ;
32549                           10892             TST_BIT_ON DNM_CYCLE_ED_100             ;
32550 00006D06 8B00                   M           BF      DNM_CYCLE_ED_100
32551 00006D08 E201             10893             MOV     #1,R2                           ;
32552 00006D0A                  10894     DNM_CYCLE_ED_100:                               ;
32553 00006D0A D106             10895             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32554 00006D0C 2121             10896             MOV.W   R2,@R1                          ;NEXT-SET
32555                           10897     
32556                           10898     ;       ----------------[2014-11-10 add]---------
32557 00006D0E D106             10899             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向(今回動
                                          きべき方向)
32558 00006D10 2121             10900             MOV.W   R2,@R1                          ;
32559                           10901     
32560                           10902             .AIF    1 EQ    0
32561                           10903             FAR_JSR #_API_CAM_DRV_DNM_DIR_SET,R0    ;2016-11-16
32562                           10904             .AENDI
32563                           10905     ;       ---------------------------------------------
32564                           10906     
32565                           10907             SUB_END
32566                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32567 00006D12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32568                           10908             M_RTS
32569 00006D14 000B                   M           RTS                             ;RTSの後ろの
32570 00006D16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32571                           10909     
32572                           10910     ;       ***************************************************
32573                           10911     ;       ***                                             ***
32574                           10912     ;       ***     ふりこ　連続の次のサイクル開始          ***
32575                           10913     ;       ***             運転釦起動もここ                ***
32576                           10914     ;       ***************************************************
32577                           10915     ;       ここでオーバライド演算も追加する(2010-10-05)
32578                           10916     ;
32579                                     ***** BEGIN-POOL *****
32580 00006D18 00000000                   DATA FOR SOURCE-LINE 10881
32581 00006D1C 00000000                   DATA FOR SOURCE-LINE 10884
32582 00006D20 00000000                   DATA FOR SOURCE-LINE 10889
32583 00006D24 00000000                   DATA FOR SOURCE-LINE 10895
32584 00006D28 00000000                   DATA FOR SOURCE-LINE 10899
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   475
PROGRAM NAME =

32585                                     ***** END-POOL *****
32586 00006D2C                  10917     _DNM_CYCLE_START:                               ;
32587                           10918             SUB_START                               ;
32588 00006D2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32589                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32590                           10919     
32591                           10920              .AIF   1 EQ 1  ;
32592                           10921 C   ;       -------- 2016-10-31 ADD 二重回路対策
32593                           10922              .AENDI
32594                           10923     ;       ---2016-06-13--
32595                           10924             UP_TIME LG=W,MEM_ADR=_DBG_DNM_STR_CNT,WKREG1=R1,WKREG2=R0
32596 00006D2E D10B                   M           MOV.L   #_DBG_DNM_STR_CNT,R1            ;SORCE ADRESS SET
32597 00006D30 6011                   M           MOV.W   @R1,R0          ;
32598 00006D32 7001                   M           ADD     #1,R0                   ;
32599 00006D34 2008                   M           TST     R0,R0                   ;
32600                                 M           TST_BIT_OF JMP_0100024                  ;ZERO THEN JUMP
32601 00006D36 8900                   M           BT      JMP_0100024
32602 00006D38 2101                   M           MOV.W   R0,@R1          ;STORE
32603 00006D3A                        M   JMP_0100024:                                    ;
32604                           10925     
32605                           10926     
32606 00006D3A 222A             10927             XOR     R2,R2                           ;
32607 00006D3C D108             10928             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32608 00006D3E 6011             10929             MOV.W   @R1,R0                          ;
32609 00006D40 C804             10930             TST     #_DMATH_DNDRIV,R0               ;
32610                           10931             TST_BIT_OF DNM_CYCLE_STR_100            ;
32611 00006D42 8917                   M           BT      DNM_CYCLE_STR_100
32612                           10932     
32613 00006D44 D107             10933             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32614 00006D46 6211             10934             MOV.W   @R1,R2                          ;
32615 00006D48 D107             10935             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32616 00006D4A 2121             10936             MOV.W   R2,@R1                          ;
32617                           10937     
32618                           10938     ;       ----------------[2014-11-10 add]---------
32619 00006D4C D107             10939             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
32620 00006D4E 2121             10940             MOV.W   R2,@R1                          ;
32621                           10941     
32622                           10942             FAR_JSR #_CPOS_INI1_DTMOV2,R0
32623 00006D50 D007                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32624 00006D52 400B                   M           JSR     @R0                     ;
32625 00006D54 0009                   M           NOP                                     ;
32626                           10943             M_BRA   DNM_CYCLE_STR_200               ;
32627 00006D56 A00F                   M           BRA     DNM_CYCLE_STR_200
32628 00006D58 0009                   M           NOP
32629                           10944     
32630                                     ***** BEGIN-POOL *****
32631 00006D5A 0000                       ALIGNMENT CODE
32632 00006D5C 00000000                   DATA FOR SOURCE-LINE 10924
32633 00006D60 00000000                   DATA FOR SOURCE-LINE 10928
32634 00006D64 00000000                   DATA FOR SOURCE-LINE 10933
32635 00006D68 00000000                   DATA FOR SOURCE-LINE 10935
32636 00006D6C 00000000                   DATA FOR SOURCE-LINE 10939
32637 00006D70 00000000                   DATA FOR SOURCE-LINE 10942
32638                                     ***** END-POOL *****
32639 00006D74                  10945     DNM_CYCLE_STR_100:
32640 00006D74 D102             10946             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32641 00006D76 2121             10947             MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   476
PROGRAM NAME =

32642                           10948     
32643 00006D78                  10949     DNM_CYCLE_STR_200:
32644                           10950     
32645                           10951     
32646                           10952     ;---------- (ここには全ての起動がくる)------------
32647                           10953             .AIF    1 EQ    0
32648                           10954             MOV.L   #_MODE_SEL,R1                                   ;2016-11-16
32649                           10955             MOV.W   @R1,R0                                          ;2016-11-16
32650                           10956             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT+_W1DIC,R0          ;2016-11-16(段取寸動も対象
                                          )
32651                           10957             TST_BIT_OF DNM_CYCLE_STR_CAM_SET300                     ;2016-11-16
32652                           10958     
32653                           10959             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//
32654                           10960             MOV.W   @R1,R2                                  ;
32655                           10961             FAR_JSR #_API_CAM_DRV_DNM_DIR_SET,R0            ;2016-11-16
32656                           10962     
32657                           10963     DNM_CYCLE_STR_CAM_SET300
32658                           10964             .AENDI
32659                           10965     ;       ---------------------------------------------
32660                           10966     
32661                           10967     
32662                           10968             SUB_END
32663                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32664 00006D78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32665                           10969             M_RTS
32666 00006D7A 000B                   M           RTS                             ;RTSの後ろの
32667 00006D7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32668                           10970     
32669                           10971     ;       ***************************
32670                           10972     ;       ***     1MS-MAINでCALL  ***
32671                           10973     ;       ***************************
32672                           10974             .EXPORT _DNM_MATH_ELSE_DAT_MAKE
32673                           10975     
32674                           10976     
32675                                     ***** BEGIN-POOL *****
32676 00006D7E 0000                       ALIGNMENT CODE
32677 00006D80 00000000                   DATA FOR SOURCE-LINE 10946
32678                                     ***** END-POOL *****
32679 00006D84                  10977     _DNM_MATH_ELSE_DAT_MAKE:
32680                           10978             SUB_START
32681 00006D84 4F22                   M           STS.L   PR,@-R15                ;[必要]
32682                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32683 00006D86 D10D             10979             MOV.L   #_INC_ENC360,R1                                 ;
32684 00006D88 6211             10980             MOV.W   @R1,R2
32685                           10981     
32686 00006D8A D10D             10982             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32687 00006D8C 6011             10983             MOV.W   @R1,R0                          ;
32688 00006D8E C804             10984             TST     #_DMATH_DNDRIV,R0               ;
32689                           10985             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;
32690 00006D90 890E                   M           BT      DNM_MATH_ELSE_DATMK100
32691                           10986     
32692 00006D92 D10C             10987             MOV.L   #_MODE_SEL,R1                                           ;
32693 00006D94 6011             10988             MOV.W   @R1,R0                                                  ;
32694 00006D96 C81E             10989             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                         ;
32695                           10990             TST_BIT_OF DNM_MATH_ELSE_DATMK100                               ;
32696 00006D98 890A                   M           BT      DNM_MATH_ELSE_DATMK100
32697                           10991     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   477
PROGRAM NAME =

32698 00006D9A D10B             10992             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;
32699 00006D9C 6011             10993             MOV.W   @R1,R0                          ;
32700                           10994     
32701                           10995     ;;;;2013-02-15不要      MOV.W   @R1,R3                          ;必ず同じになる
32702                           10996     ;;;;2013-02-15不要      CMP/EQ  R0,R3                           ;
32703                           10997     ;;;;2013-02-15不要      BF      DNM_MATH_ELSE_DATMK050          ;違ったら更新したかったの
                                          かな？
32704                           10998     
32705 00006D9E D10B             10999             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32706 00006DA0 2101             11000             MOV.W   R0,@R1                          ;動作・動かしたいデータが同じ
32707                           11001     
32708                           11002     ;;;;2013-02-15不要      DNM_MATH_ELSE_DATMK050:
32709 00006DA2 D10A             11003             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;
32710 00006DA4 6011             11004             MOV.W   @R1,R0                          ;
32711 00006DA6 2008             11005             TST     R0,R0                           ;
32712                           11006             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;180
32713 00006DA8 8902                   M           BT      DNM_MATH_ELSE_DATMK100
32714                           11007     
32715                           11008             FAR_JSR #_DIG01_CHG_DN_DATA_MAKE,R0     ;上限が0度　下限が180で左右同じじゃないとｸ
                                          ﾗﾝｸに戻す必要有り
32716 00006DAA D009                   M           MOV.L   #_DIG01_CHG_DN_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32717 00006DAC 400B                   M           JSR     @R0                     ;
32718 00006DAE 0009                   M           NOP                                     ;
32719                           11009     
32720 00006DB0                  11010     DNM_MATH_ELSE_DATMK100:
32721 00006DB0 D108             11011             MOV.L   #_DNM_CTL_INC3600,R1            ;//CAM、ﾛｯﾄｶｳﾝﾀ、荷重用
32722 00006DB2 2121             11012             MOV.W   R2,@R1                          ;
32723                           11013     
32724                           11014             SUB_END
32725                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32726 00006DB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32727                           11015             M_RTS
32728 00006DB6 000B                   M           RTS                             ;RTSの後ろの
32729 00006DB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32730                           11016     
32731                           11017     ;       ***********************************
32732                           11018     ;       ***     2015-04-08              ***
32733                           11019     ;       ***     工程集終了ﾊﾝﾄﾞｼｪｲｸ      ***
32734                           11020     ;       ***********************************
32735                                     ***** BEGIN-POOL *****
32736 00006DBA 0000                       ALIGNMENT CODE
32737 00006DBC 00000000                   DATA FOR SOURCE-LINE 10979
32738 00006DC0 00000000                   DATA FOR SOURCE-LINE 10982
32739 00006DC4 00000000                   DATA FOR SOURCE-LINE 10987
32740 00006DC8 00000000                   DATA FOR SOURCE-LINE 10992
32741 00006DCC 00000000                   DATA FOR SOURCE-LINE 10999,11003
32742 00006DD0 00000000                   DATA FOR SOURCE-LINE 11008
32743 00006DD4 00000000                   DATA FOR SOURCE-LINE 11011
32744                                     ***** END-POOL *****
32745 00006DD8                  11021     _ENDHAND_WAIT_TIMCNT
32746                           11022             SUB_START
32747 00006DD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32748                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32749                           11023     
32750 00006DDA D105             11024             MOV.L   #_CMPSTEP_STEP_END,R1           ;
32751 00006DDC 6011             11025             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   478
PROGRAM NAME =

32752 00006DDE 2008             11026             TST     R0,R0                           ;
32753                           11027             TST_BIT_ON ENDHAND_WAIT_TIMC100         ;[ﾆｱｾﾞﾛ確認が終わっている]
32754 00006DE0 8B0A                   M           BF      ENDHAND_WAIT_TIMC100
32755 00006DE2 9203             11028             MOV.W   #D'10,R2                        ;10msec
32756 00006DE4 D103             11029             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32757 00006DE6 2121             11030             MOV.W   R2,@R1                          ;
32758                           11031             M_BRA   ENDHAND_WAIT_TIMC200
32759 00006DE8 A00C                   M           BRA     ENDHAND_WAIT_TIMC200
32760 00006DEA 0009                   M           NOP
32761                           11032     
32762                                     ***** BEGIN-POOL *****
32763 00006DEC 000A                       DATA FOR SOURCE-LINE 11028
32764 00006DEE 0000                       ALIGNMENT CODE
32765 00006DF0 00000000                   DATA FOR SOURCE-LINE 11024
32766 00006DF4 00000000                   DATA FOR SOURCE-LINE 11029
32767                                     ***** END-POOL *****
32768 00006DF8                  11033     ENDHAND_WAIT_TIMC100
32769                           11034             DN_TIME LG=W,MEM_ADR=_ENDHAND_TIMOUT_PV,WKREG1=R1,WKREG2=R2     ;
32770 00006DF8 D104                   M           MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;SORCE ADRESS SET
32771 00006DFA 6211                   M           MOV.W   @R1,R2          ;
32772 00006DFC 2228                   M           TST     R2,R2                   ;
32773 00006DFE 8901                   M           BT      JMP_0100025                     ;ZERO THEN JUMP
32774 00006E00 4210                   M           DT      R2                              ;
32775 00006E02 2121                   M           MOV.W   R2,@R1          ;STORE
32776 00006E04                        M   JMP_0100025:
32777 00006E04                  11035     ENDHAND_WAIT_TIMC200
32778                           11036             SUB_END
32779                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32780 00006E04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32781                           11037             M_RTS
32782 00006E06 000B                   M           RTS                             ;RTSの後ろの
32783 00006E08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32784                           11038     
32785                           11039     ;       ANS R0!=0 ﾊﾝﾄﾞｼｪｲｸを強制実行
32786                           11040             .EXPORT _API_ENDHAND_SIGCHK
32787                                     ***** BEGIN-POOL *****
32788 00006E0A 0000                       ALIGNMENT CODE
32789 00006E0C 00000000                   DATA FOR SOURCE-LINE 11034
32790                                     ***** END-POOL *****
32791 00006E10                  11041     _API_ENDHAND_SIGCHK
32792                           11042             SUB_START
32793 00006E10 4F22                   M           STS.L   PR,@-R15                ;[必要]
32794                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32795 00006E12 D107             11043             MOV.L   #_CMPSTEP_STEP_END,R1   ;
32796 00006E14 6011             11044             MOV.W   @R1,R0                  ;
32797 00006E16 C804             11045             TST     #BIT2,R0                ;
32798                           11046             TST_BIT_ON API_ENDHANDSIGCHK_EXT
32799 00006E18 8B06                   M           BF      API_ENDHANDSIGCHK_EXT
32800                           11047     
32801 00006E1A C803             11048             TST     #(BIT1+BIT0),R0                 ;
32802                           11049             TST_BIT_OF API_ENDHANDSIGCHK_100        ;
32803 00006E1C 8903                   M           BT      API_ENDHANDSIGCHK_100
32804                           11050     
32805 00006E1E D105             11051             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32806 00006E20 6111             11052             MOV.W   @R1,R1                          ;
32807 00006E22 2118             11053             TST     R1,R1                           ;
32808                           11054             TST_BIT_ON API_ENDHANDSIGCHK_EXT        ;TIME ｱｯﾌﾟ前
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   479
PROGRAM NAME =

32809 00006E24 8B00                   M           BF      API_ENDHANDSIGCHK_EXT
32810 00006E26                  11055     API_ENDHANDSIGCHK_100
32811 00006E26 200A             11056             XOR     R0,R0
32812 00006E28                  11057     API_ENDHANDSIGCHK_EXT
32813                           11058     
32814                           11059             SUB_END
32815                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32816 00006E28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32817                           11060             M_RTS
32818 00006E2A 000B                   M           RTS                             ;RTSの後ろの
32819 00006E2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32820                           11061     
32821                           11062     ;       *******************************************
32822                           11063     ;       ***                                     ***
32823                           11064     ;       ***                                     ***
32824                           11065     ;       ***                                     ***
32825                           11066     ;       ***     モーション繰り返し              ***
32826                           11067     ;       ***     位置決め部                      ***
32827                           11068     ;       ***                                     ***
32828                           11069     ;       *******************************************
32829                           11070     ;
32830                           11071     ;非常停止,ｻｲｸﾙ終了後の初起動時
32831                           11072     ;非常停止(exqは運転継続だからCLRしない)
32832                           11073     ;ｻｲｸﾙ終了
32833                           11074     ;ﾘﾋﾟｰﾄ終了
32834                           11075     ;[EXQはｸﾘｱしない：運転継続だから]
32835                           11076     ;
32836                           11077     ;BIT0(ﾘﾋﾟｰﾄ戻り中)
32837                           11078     ;BIT1(ﾚﾋﾟｰﾄ戻演算しろ)
32838                           11079     ;BIT2(ﾘﾋﾟｰﾄ戻り→ﾘﾋﾟｰﾄ開始)
32839                           11080     ;
32840                           11081     
32841                                     ***** BEGIN-POOL *****
32842 00006E2E 0000                       ALIGNMENT CODE
32843 00006E30 00000000                   DATA FOR SOURCE-LINE 11043
32844 00006E34 00000000                   DATA FOR SOURCE-LINE 11051
32845                                     ***** END-POOL *****
32846 00006E38                  11082             .ALIGN  4                                       ;
32847 00006E38                  11083     _MOT_REP_CLR                                    ;
32848                           11084             SUB_START
32849 00006E38 4F22                   M           STS.L   PR,@-R15                ;[必要]
32850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32851 00006E3A 200A             11085             XOR     R0,R0                           ;
32852 00006E3C D103             11086             MOV.L   #_MOT_REP_CNT,R1                ;
32853 00006E3E 2101             11087             MOV.W   R0,@R1                          ;
32854 00006E40 D103             11088             MOV.L   #_MOT_REP_F,R1                  ;
32855 00006E42 2101             11089             MOV.W   R0,@R1                          ;
32856                           11090             SUB_END
32857                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32858 00006E44 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32859                           11091             M_RTS
32860 00006E46 000B                   M           RTS                             ;RTSの後ろの
32861 00006E48 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32862                           11092     
32863                           11093     ;       -----------ｽﾃｯﾌﾟ終了時CHECK-------------
32864                                     ***** BEGIN-POOL *****
32865 00006E4A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   480
PROGRAM NAME =

32866 00006E4C 00000000                   DATA FOR SOURCE-LINE 11086
32867 00006E50 00000000                   DATA FOR SOURCE-LINE 11088
32868                                     ***** END-POOL *****
32869 00006E54                  11094     _MOT_REP_STEPCHK
32870                           11095             SUB_START
32871 00006E54 4F22                   M           STS.L   PR,@-R15                ;[必要]
32872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32873                           11096     
32874 00006E56 D108             11097             MOV.L   #_SET1_MOTREP_USEFUL,R1         ;
32875 00006E58 6011             11098             MOV.W   @R1,R0                          ;
32876 00006E5A 2008             11099             TST     R0,R0                           ;
32877                           11100             TST_BIT_OF MOT_REP_STEPCK_EXT           ;
32878 00006E5C 8935                   M           BT      MOT_REP_STEPCK_EXT
32879                           11101     
32880 00006E5E D107             11102             MOV.L   #_MOT_REP_F,R1                  ;
32881 00006E60 6011             11103             MOV.W   @R1,R0                          ;
32882 00006E62 C801             11104             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ戻り実行中?
32883                           11105             TST_BIT_OF MOT_REP_STEPCK_100           ;NO
32884 00006E64 890E                   M           BT      MOT_REP_STEPCK_100
32885                           11106     
32886 00006E66 E004             11107             MOV.B   #BIT2,R0                        ;戻り開始工程演算しろ
32887 00006E68 D104             11108             MOV.L   #_MOT_REP_F,R1                  ;BIT2:CLR
32888 00006E6A 2101             11109             MOV.W   R0,@R1                          ;
32889                           11110     
32890                           11111     
32891                           11112             FAR_JSR #_DEBUG_BRK_POINT1,R0           ;
32892 00006E6C D004                   M           MOV.L   #_DEBUG_BRK_POINT1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32893 00006E6E 400B                   M           JSR     @R0                     ;
32894 00006E70 0009                   M           NOP                                     ;
32895                           11113     
32896                           11114             M_BRA   MOT_REP_STEPCK_EXT              ;
32897 00006E72 A02A                   M           BRA     MOT_REP_STEPCK_EXT
32898 00006E74 0009                   M           NOP
32899                           11115     
32900                           11116     
32901                           11117     
32902                           11118     
32903                                     ***** BEGIN-POOL *****
32904 00006E76 0000                       ALIGNMENT CODE
32905 00006E78 00000000                   DATA FOR SOURCE-LINE 11097
32906 00006E7C 00000000                   DATA FOR SOURCE-LINE 11102,11108
32907 00006E80 00000000                   DATA FOR SOURCE-LINE 11112
32908                                     ***** END-POOL *****
32909 00006E84                  11119     MOT_REP_STEPCK_100
32910 00006E84 D10A             11120             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
32911 00006E86 6011             11121             MOV.W   @R1,R0                          ;
32912 00006E88 D10A             11122             MOV.L   #_SET1_MOTREP_STGE,R1           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32913 00006E8A 6211             11123             MOV.W   @R1,R2                          ;
32914 00006E8C 3020             11124             CMP/EQ  R2,R0                           ;
32915 00006E8E 8B1C             11125             BF      MOT_REP_STEPCK_EXT              ;終了ｽﾃｯﾌﾟ?
32916                           11126     
32917 00006E90 D109             11127             MOV.L   #_SET1_MOTREP_CNT,R1            ;//繰り返し回数
32918 00006E92 6311             11128             MOV.W   @R1,R3                          ;
32919 00006E94 2338             11129             TST     R3,R3                           ;
32920                           11130             TST_BIT_OF MOT_REP_STEPCK_EXT
32921 00006E96 8918                   M           BT      MOT_REP_STEPCK_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   481
PROGRAM NAME =

32922                           11131     
32923 00006E98 D408             11132             MOV.L   #_MOT_REP_CNT,R4                ;
32924 00006E9A 6241             11133             MOV.W   @R4,R2                          ;
32925 00006E9C 3232             11134             CMP/HS  R3,R2                           ;設定<=CNT
32926 00006E9E 8911             11135             BT      MOT_REP_STEPCK_200              ;終了
32927 00006EA0 7201             11136             ADD     #1,R2                           ;
32928 00006EA2 2421             11137             MOV.W   R2,@R4                          ;
32929                           11138     
32930                           11139     ;       ------- 戻る----------
32931 00006EA4 E003             11140             MOV.B   #(BIT1+BIT0),R0                 ;戻り実行中、戻り演算しろ
32932 00006EA6 D106             11141             MOV.L   #_MOT_REP_F,R1                  ;
32933 00006EA8 2101             11142             MOV.W   R0,@R1                          ;
32934                           11143             M_BRA   MOT_REP_STEPCK_EXT              ;
32935 00006EAA A00E                   M           BRA     MOT_REP_STEPCK_EXT
32936 00006EAC 0009                   M           NOP
32937                           11144     
32938                           11145     
32939                                     ***** BEGIN-POOL *****
32940 00006EAE 0000                       ALIGNMENT CODE
32941 00006EB0 00000000                   DATA FOR SOURCE-LINE 11120
32942 00006EB4 00000000                   DATA FOR SOURCE-LINE 11122
32943 00006EB8 00000000                   DATA FOR SOURCE-LINE 11127
32944 00006EBC 00000000                   DATA FOR SOURCE-LINE 11132
32945 00006EC0 00000000                   DATA FOR SOURCE-LINE 11141
32946                                     ***** END-POOL *****
32947 00006EC4                  11146     MOT_REP_STEPCK_200
32948                           11147             FAR_JSR #_MOT_REP_CLR,R0                ;
32949 00006EC4 D002                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32950 00006EC6 400B                   M           JSR     @R0                     ;
32951 00006EC8 0009                   M           NOP                                     ;
32952                           11148     
32953 00006ECA                  11149     MOT_REP_STEPCK_EXT
32954                           11150             SUB_END
32955                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32956 00006ECA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32957                           11151             M_RTS
32958 00006ECC 000B                   M           RTS                             ;RTSの後ろの
32959 00006ECE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32960                           11152     
32961                           11153     
32962                                     ***** BEGIN-POOL *****
32963 00006ED0 00000000                   DATA FOR SOURCE-LINE 11147
32964                                     ***** END-POOL *****
32965 00006ED4                  11154     _MOT_REPSTART_CALC:
32966                           11155             SUB_START
32967 00006ED4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32968                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32969                           11156     
32970 00006ED6 D108             11157             MOV.L   #_SET1_MOTREP_SPD,R1            ;//一定速度時の速度
32971 00006ED8 6212             11158             MOV.L   @R1,R2                          ;
32972 00006EDA D108             11159             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
32973 00006EDC 2122             11160             MOV.L   R2,@R1                          ;
32974                           11161     
32975                           11162     
32976                           11163             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
32977 00006EDE D108                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32978 00006EE0 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   482
PROGRAM NAME =

32979 00006EE2 0009                   M           NOP                                     ;
32980                           11164     
32981 00006EE4 D407             11165             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32982 00006EE6 6041             11166             MOV.W   @R4,R0                          ;
32983 00006EE8 8801             11167             CMP/EQ  #1,R0                           ;
32984 00006EEA 8B0F             11168             BF      MOT_REPSTART_CL050              ;
32985 00006EEC D406             11169             MOV.L   #_CPOS_SDAT1_UP_POS,R4          ;//待機点または各段
32986 00006EEE 6146             11170             MOV.L   @R4+,R1                         ;
32987 00006EF0 6242             11171             MOV.L   @R4,R2                          ;(目標位置)
32988                           11172             M_BRA   MOT_REPSTART_CL100              ;
32989 00006EF2 A012                   M           BRA     MOT_REPSTART_CL100
32990 00006EF4 0009                   M           NOP
32991                           11173     
32992                                     ***** BEGIN-POOL *****
32993 00006EF6 0000                       ALIGNMENT CODE
32994 00006EF8 00000000                   DATA FOR SOURCE-LINE 11157
32995 00006EFC 00000000                   DATA FOR SOURCE-LINE 11159
32996 00006F00 00000000                   DATA FOR SOURCE-LINE 11163
32997 00006F04 00000000                   DATA FOR SOURCE-LINE 11165
32998 00006F08 00000000                   DATA FOR SOURCE-LINE 11169
32999                                     ***** END-POOL *****
33000 00006F0C                  11174     MOT_REPSTART_CL050:
33001 00006F0C 70FE             11175             ADD     #-2,R0
33002 00006F0E 4008             11176             SHLL2   R0
33003 00006F10 4000             11177             SHLL    R0
33004 00006F12 D40C             11178             MOV.L   #_CPOS_SDAT1_CHGAPOS,R4         ;8byte
33005 00006F14 340C             11179             ADD     R0,R4
33006 00006F16 6146             11180             MOV.L   @R4+,R1                         ;
33007 00006F18 6242             11181             MOV.L   @R4,R2                          ;(目標位置)
33008 00006F1A                  11182     MOT_REPSTART_CL100:
33009                           11183     
33010                           11184     
33011                           11185     ;       --------- 反転用---------------
33012 00006F1A D40B             11186             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33013 00006F1C 2412             11187             MOV.L   R1,@R4                          ;
33014 00006F1E 1421             11188             MOV.L   R2,@(4,R4)                      ;save
33015                           11189     
33016 00006F20 D40A             11190             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
33017 00006F22 2412             11191             MOV.L   R1,@R4                          ;
33018 00006F24 1421             11192             MOV.L   R2,@(4,R4)                      ;save
33019                           11193     
33020                           11194     ;       -------- 通常用-----------------
33021                           11195             FAR_JSR #_LENGH_ADD_CALC,R0             ;
33022 00006F26 D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33023 00006F28 400B                   M           JSR     @R0                     ;
33024 00006F2A 0009                   M           NOP                                     ;
33025                           11196     
33026 00006F2C 233A             11197             XOR     R3,R3                           ;
33027 00006F2E 4111             11198             CMP/PZ  R1                              ;+正転?
33028 00006F30 8900             11199             BT      MOT_REPSTART_CL200              ;
33029 00006F32 E301             11200             MOV     #BIT0,R3                        ;
33030 00006F34                  11201     MOT_REPSTART_CL200:
33031 00006F34 D107             11202             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
33032 00006F36 6011             11203             MOV.W   @R1,R0                          ;
33033 00006F38 C9FE             11204             AND     #LOW ~BIT0,R0                   ;
33034 00006F3A 203B             11205             OR      R3,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   483
PROGRAM NAME =

33035 00006F3C 2101             11206             MOV.W   R0,@R1                          ;
33036                           11207     ;       ----------------------------------------
33037                           11208     
33038                           11209             SUB_END
33039                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33040 00006F3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33041                           11210             M_RTS
33042 00006F40 000B                   M           RTS                             ;RTSの後ろの
33043 00006F42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33044                           11211     
33045                           11212     ;       *******************************************
33046                           11213     ;       ***                                     ***
33047                           11214     ;       ***                                     ***
33048                           11215     ;       ***                                     ***
33049                           11216     ;       ***     制動性能試験                    ***
33050                           11217     ;       ***                                     ***
33051                           11218     ;       ***                                     ***
33052                           11219     ;       *******************************************
33053                                     ***** BEGIN-POOL *****
33054 00006F44 00000000                   DATA FOR SOURCE-LINE 11178
33055 00006F48 00000000                   DATA FOR SOURCE-LINE 11186
33056 00006F4C 00000000                   DATA FOR SOURCE-LINE 11190
33057 00006F50 00000000                   DATA FOR SOURCE-LINE 11195
33058 00006F54 00000000                   DATA FOR SOURCE-LINE 11202
33059                                     ***** END-POOL *****
33060 00006F58                  11220             .ALIGN  4                                               ;
33061                           11221             .INCLUDE        "ssa_btst.inc"          ;//2010-08-30
33062                               1 I1  ;       ***********************************
33063                               2 I1  ;       ***                             ***
33064                               3 I1  ;       ***     制動制御                ***
33065                               4 I1  ;       ***     位置決め部              ***
33066                               5 I1  ;       ***                             ***
33067                               6 I1  ;       ***********************************
33068                               7 I1  ;       ------- 2010-08-20[制動モード]
33069                               8 I1          .EXPORT _BRKTST_POS_START
33070                               9 I1  
33071 00006F58                     10 I1          .ALIGN  4                               ;
33072 00006F58                     11 I1  _BRKTST_POS_CTL:
33073                              12 I1          SUB_START
33074 00006F58 4F22                   M           STS.L   PR,@-R15                ;[必要]
33075                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33076 00006F5A D103                13 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33077 00006F5C 6011                14 I1          MOV.W   @R1,R0                          ;
33078 00006F5E C808                15 I1          TST     #BIT3,R0                        ;
33079                              16 I1          TST_BIT_OF BRKTST_POSCTL_0020           ;
33080 00006F60 8904                   M           BT      BRKTST_POSCTL_0020
33081                              17 I1          M_BRA   BRKTST_POSCTL_0800              ;非常停止中
33082 00006F62 A099                   M           BRA     BRKTST_POSCTL_0800
33083 00006F64 0009                   M           NOP
33084                              18 I1  
33085                                 I1  ***** BEGIN-POOL *****
33086 00006F66 0000                   I1  ALIGNMENT CODE
33087 00006F68 00000000               I1  DATA FOR SOURCE-LINE 13
33088                                 I1  ***** END-POOL *****
33089 00006F6C                     19 I1  BRKTST_POSCTL_0020:
33090 00006F6C C801                20 I1          TST     #BIT0,R0                        ;
33091                              21 I1          TST_BIT_OF BRKTST_POSCTL_0040           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   484
PROGRAM NAME =

33092 00006F6E 8901                   M           BT      BRKTST_POSCTL_0040
33093                              22 I1          M_BRA   BRKTST_POSCTL_0200              ;起動中
33094 00006F70 A064                   M           BRA     BRKTST_POSCTL_0200
33095 00006F72 0009                   M           NOP
33096                              23 I1  
33097                              24 I1  
33098 00006F74                     25 I1  BRKTST_POSCTL_0040:
33099 00006F74 D603                26 I1          MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
33100 00006F76 6061                27 I1          MOV.W   @R6,R0                  ;
33101 00006F78 C907                28 I1          AND     #(BIT2+BIT1+BIT0),R0    ;
33102 00006F7A 8801                29 I1          CMP/EQ  #BIT0,R0                ;
33103 00006F7C 8904                30 I1          BT      BRKTST_POSCTL_0048              ;001
33104                              31 I1          M_BRA   BRKTST_POSCTL_0190              ;EXIT
33105 00006F7E A035                   M           BRA     BRKTST_POSCTL_0190
33106 00006F80 0009                   M           NOP
33107                              32 I1  ;       ==== 通常の位置決め起動コマンド状態
33108                                 I1  ***** BEGIN-POOL *****
33109 00006F82 0000                   I1  ALIGNMENT CODE
33110 00006F84 00000000               I1  DATA FOR SOURCE-LINE 26
33111                                 I1  ***** END-POOL *****
33112 00006F88                     33 I1  BRKTST_POSCTL_0048:
33113                              34 I1  
33114 00006F88 222A                35 I1          XOR     R2,R2
33115 00006F8A D11A                36 I1          MOV.L   #_INT_POS_STEP_FLG,R1   ;
33116 00006F8C 2121                37 I1          MOV.W   R2,@R1                  ;
33117 00006F8E D11A                38 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
33118 00006F90 2121                39 I1          MOV.W   R2,@R1
33119 00006F92 D11A                40 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
33120 00006F94 2121                41 I1          MOV.W   R2,@R1                  ;
33121 00006F96 D11A                42 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
33122 00006F98 2121                43 I1          MOV.W   R2,@R1                          ;
33123                              44 I1  
33124                              45 I1  ;       ------ ﾓｰｼｮﾝ運転 --------
33125 00006F9A D11A                46 I1          MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
33126 00006F9C 6411                47 I1          MOV.W   @R1,R4                  ;
33127 00006F9E D21A                48 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
33128 00006FA0 2241                49 I1          MOV.W   R4,@R2                  ;
33129                              50 I1  
33130                              51 I1  
33131                              52 I1          FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
33132 00006FA2 D01A                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33133 00006FA4 400B                   M           JSR     @R0                     ;
33134 00006FA6 0009                   M           NOP                                     ;
33135                              53 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
33136 00006FA8 D019                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33137 00006FAA 400B                   M           JSR     @R0                     ;
33138 00006FAC 0009                   M           NOP                                     ;
33139                              54 I1  
33140                              55 I1  
33141                              56 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0
33142 00006FAE D019                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33143 00006FB0 400B                   M           JSR     @R0                     ;
33144 00006FB2 0009                   M           NOP                                     ;
33145                              57 I1          FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
33146 00006FB4 D018                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33147 00006FB6 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   485
PROGRAM NAME =

33148 00006FB8 0009                   M           NOP                                     ;
33149                              58 I1  
33150                              59 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
33151 00006FBA D018                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33152 00006FBC 400B                   M           JSR     @R0                     ;
33153 00006FBE 0009                   M           NOP                                     ;
33154                              60 I1  
33155                              61 I1  ;       == 2004-03 ===
33156                              62 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
33157 00006FC0 D017                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33158 00006FC2 400B                   M           JSR     @R0                     ;
33159 00006FC4 0009                   M           NOP                                     ;
33160 00006FC6 9013                63 I1          MOV.W   #D'2,R0                 ;
33161 00006FC8 D116                64 I1          MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
33162 00006FCA 2101                65 I1          MOV.W   R0,@R1                          ;
33163                              66 I1  
33164                              67 I1          FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
33165 00006FCC D016                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33166 00006FCE 400B                   M           JSR     @R0                     ;
33167 00006FD0 0009                   M           NOP                                     ;
33168                              68 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
33169 00006FD2 D116                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33170 00006FD4 410B                   M           JSR     @R1                     ;
33171 00006FD6 0009                   M           NOP                                     ;
33172                              69 I1  
33173                              70 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
33174 00006FD8 D115                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33175 00006FDA 6011                   M           MOV.W   @R1,R0          ;
33176 00006FDC CB01                   M           OR      #BIT0,R0                ;
33177 00006FDE 2101                   M           MOV.W   R0,@R1          ;
33178                              71 I1  
33179                              72 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
33180 00006FE0 D014                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33181 00006FE2 400B                   M           JSR     @R0                     ;
33182 00006FE4 0009                   M           NOP                                     ;
33183                              73 I1  
33184                              74 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0
33185 00006FE6 D014                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33186 00006FE8 400B                   M           JSR     @R0                     ;
33187 00006FEA 0009                   M           NOP                                     ;
33188                              75 I1  
33189 00006FEC                     76 I1  BRKTST_POSCTL_0190:
33190                              77 I1          M_BRA   BRKTST_POSCTL_0800                      ;
33191 00006FEC A054                   M           BRA     BRKTST_POSCTL_0800
33192 00006FEE 0009                   M           NOP
33193                              78 I1  
33194                              79 I1  ;       ===========================================
33195                              80 I1  ;       ===             起動中                  ===
33196                              81 I1  ;       ===========================================
33197                                 I1  ***** BEGIN-POOL *****
33198 00006FF0 0002                   I1  DATA FOR SOURCE-LINE 63
33199 00006FF2 0000                   I1  ALIGNMENT CODE
33200 00006FF4 00000000               I1  DATA FOR SOURCE-LINE 36
33201 00006FF8 00000000               I1  DATA FOR SOURCE-LINE 38
33202 00006FFC 00000000               I1  DATA FOR SOURCE-LINE 40
33203 00007000 00000000               I1  DATA FOR SOURCE-LINE 42
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   486
PROGRAM NAME =

33204 00007004 00000000               I1  DATA FOR SOURCE-LINE 46
33205 00007008 00000000               I1  DATA FOR SOURCE-LINE 48
33206 0000700C 00000000               I1  DATA FOR SOURCE-LINE 52
33207 00007010 00000000               I1  DATA FOR SOURCE-LINE 53
33208 00007014 00000000               I1  DATA FOR SOURCE-LINE 56
33209 00007018 00000000               I1  DATA FOR SOURCE-LINE 57
33210 0000701C 00000000               I1  DATA FOR SOURCE-LINE 59
33211 00007020 00000000               I1  DATA FOR SOURCE-LINE 62
33212 00007024 00000000               I1  DATA FOR SOURCE-LINE 64
33213 00007028 00000000               I1  DATA FOR SOURCE-LINE 67
33214 0000702C 00000000               I1  DATA FOR SOURCE-LINE 68
33215 00007030 00000000               I1  DATA FOR SOURCE-LINE 70
33216 00007034 00000000               I1  DATA FOR SOURCE-LINE 72
33217 00007038 00000000               I1  DATA FOR SOURCE-LINE 74
33218                                 I1  ***** END-POOL *****
33219 0000703C                     82 I1  BRKTST_POSCTL_0200:
33220 0000703C D609                83 I1          MOV.L   #_MNWR_POS_CMD,R6                                               ;
33221 0000703E 6061                84 I1          MOV.W   @R6,R0                                                          ;
33222 00007040 8801                85 I1          CMP/EQ  #BIT0,R0                                                        ;
33223 00007042 8919                86 I1          BT      BRKTST_POSCTL_0240                                              ;
33224                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
33225 00007044 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33226 00007046 6011                   M           MOV.W   @R1,R0          ;
33227 00007048 CB08                   M           OR      #BIT3,R0                ;
33228 0000704A 2101                   M           MOV.W   R0,@R1          ;
33229                              88 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
33230 0000704C D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33231 0000704E 400B                   M           JSR     @R0                     ;
33232 00007050 0009                   M           NOP                                     ;
33233                              89 I1          FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
33234 00007052 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33235 00007054 400B                   M           JSR     @R0                     ;
33236 00007056 0009                   M           NOP                                     ;
33237                              90 I1          FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
33238 00007058 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33239 0000705A 400B                   M           JSR     @R0                     ;
33240 0000705C 0009                   M           NOP                                     ;
33241                              91 I1          M_BRA   BRKTST_POSCTL_0800                                                      ;
33242 0000705E A01B                   M           BRA     BRKTST_POSCTL_0800
33243 00007060 0009                   M           NOP
33244                              92 I1  
33245                              93 I1  
33246                                 I1  ***** BEGIN-POOL *****
33247 00007062 0000                   I1  ALIGNMENT CODE
33248 00007064 00000000               I1  DATA FOR SOURCE-LINE 83
33249 00007068 00000000               I1  DATA FOR SOURCE-LINE 87
33250 0000706C 00000000               I1  DATA FOR SOURCE-LINE 88
33251 00007070 00000000               I1  DATA FOR SOURCE-LINE 89
33252 00007074 00000000               I1  DATA FOR SOURCE-LINE 90
33253                                 I1  ***** END-POOL *****
33254 00007078                     94 I1  BRKTST_POSCTL_0240:
33255                              95 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
33256 00007078 D009                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33257 0000707A 400B                   M           JSR     @R0                     ;
33258 0000707C 0009                   M           NOP                                     ;
33259                              96 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   487
PROGRAM NAME =

33260                              97 I1  ;       === FLAG SET(REST-PLS REFLASH-END)====
33261                              98 I1          eSHi_SET_IM_MOV DST=_SH2_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
33262                                 M           PUSH_REG1 R1            ;
33263 0000707E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
33264                                 M                                           ;REG=>[SP]
33265                                 M                                           ;"-4" FF,FF,FF,FC
33266                                 M           PUSH_REG1 R0            ;
33267 00007080 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33268                                 M                                           ;REG=>[SP]
33269                                 M                                           ;"-4" FF,FF,FF,FC
33270 00007082 900C                   M           MOV.W   #1,R0           ;
33271 00007084 D107                   M           MOV.L   #_SH2_REST_RL_HF,R1             ;
33272 00007086 2101                   M           MOV.W   R0,@R1  ;
33273                                 M           POP_REG1 R0             ;
33274                                 M                                   ; RE"+4" 00,00,00,04
33275 00007088 60F6                   M           MOV.L   @R15+,R0        ;
33276                                 M           POP_REG1 R1             ;
33277                                 M                                   ; RE"+4" 00,00,00,04
33278 0000708A 61F6                   M           MOV.L   @R15+,R1        ;
33279                              99 I1  
33280                             100 I1  
33281                             101 I1  ;       === 2004-01-28===
33282                             102 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
33283 0000708C D006                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33284 0000708E 400B                   M           JSR     @R0                     ;
33285 00007090 0009                   M           NOP                                     ;
33286                             103 I1          FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
33287 00007092 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33288 00007094 400B                   M           JSR     @R0                     ;
33289 00007096 0009                   M           NOP                                     ;
33290                             104 I1  
33291                             105 I1          .AIF 0  EQ 1    ;2006-09-19
33292                             106             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
33293                             107             .AENDI
33294                             108 I1  
33295                             109 I1  
33296 00007098                    110 I1  BRKTST_POSCTL_0800:
33297                             111 I1  
33298                             112 I1          SUB_END
33299                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33300 00007098 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33301                             113 I1          M_RTS
33302 0000709A 000B                   M           RTS                             ;RTSの後ろの
33303 0000709C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33304                             114 I1  
33305                             115 I1  ;       *******************************************
33306                             116 I1  ;       ***                                     ***
33307                             117 I1  ;       ***             目標位置作成            ***
33308                             118 I1  ;       ***                                     ***
33309                             119 I1  ;       *******************************************
33310                                 I1  ***** BEGIN-POOL *****
33311 0000709E 0001                   I1  DATA FOR SOURCE-LINE 98
33312 000070A0 00000000               I1  DATA FOR SOURCE-LINE 95
33313 000070A4 00000000               I1  DATA FOR SOURCE-LINE 98
33314 000070A8 00000000               I1  DATA FOR SOURCE-LINE 102
33315 000070AC 00000000               I1  DATA FOR SOURCE-LINE 103
33316                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   488
PROGRAM NAME =

33317 000070B0                    120 I1          .ALIGN  4                               ;
33318 000070B0                    121 I1  _BRKTST_POS_START:
33319                             122 I1          SUB_START
33320 000070B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
33321                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33322                             123 I1  
33323                             124 I1  ;       ----------2014-11-10------------
33324 000070B2 200A               125 I1          XOR     R0,R0
33325 000070B4 D12C               126 I1          MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
33326 000070B6 2101               127 I1          MOV.W   R0,@R1                          ;
33327                             128 I1  ;       ----------------------------------
33328                             129 I1  
33329                             130 I1  
33330                             131 I1  ;       === 目標位置生成=========
33331                             132 I1          FAR_JSR #_BRKTST_OBJ_MAKE,R0
33332 000070B8 D02C                   M           MOV.L   #_BRKTST_OBJ_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33333 000070BA 400B                   M           JSR     @R0                     ;
33334 000070BC 0009                   M           NOP                                     ;
33335                             133 I1  
33336                             134 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
33337 000070BE D02C                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33338 000070C0 400B                   M           JSR     @R0                     ;
33339 000070C2 0009                   M           NOP                                     ;
33340                             135 I1          FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
33341 000070C4 D02B                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33342 000070C6 400B                   M           JSR     @R0                     ;
33343 000070C8 0009                   M           NOP                                     ;
33344                             136 I1  
33345                             137 I1          FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
33346 000070CA D02B                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33347 000070CC 400B                   M           JSR     @R0                     ;
33348 000070CE 0009                   M           NOP                                     ;
33349                             138 I1          FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
33350 000070D0 D02A                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33351 000070D2 400B                   M           JSR     @R0                     ;
33352 000070D4 0009                   M           NOP                                     ;
33353                             139 I1  
33354 000070D6 222A               140 I1          XOR     R2,R2
33355 000070D8 D129               141 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
33356 000070DA 2121               142 I1          MOV.W   R2,@R1
33357 000070DC D129               143 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
33358 000070DE 2121               144 I1          MOV.W   R2,@R1
33359                             145 I1  
33360 000070E0 200A               146 I1          XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
33361 000070E2 D129               147 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33362 000070E4 2101               148 I1          MOV.W   R0,@R1                          ;
33363                             149 I1  
33364                             150 I1  ;       === 2004-12-20 ===
33365 000070E6 D129               151 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
33366 000070E8 2101               152 I1          MOV.W   R0,@R1                          ;
33367                             153 I1  
33368                             154 I1          FAR_JSR #_CNTREST_HOS_RESET,R1  ;
33369 000070EA D129                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33370 000070EC 410B                   M           JSR     @R1                     ;
33371 000070EE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   489
PROGRAM NAME =

33372                             155 I1  
33373                             156 I1  ;       === 2004-01-26 CCS===
33374 000070F0 200A               157 I1          XOR     R0,R0
33375 000070F2 D128               158 I1          MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
33376 000070F4 2101               159 I1          MOV.W   R0,@R1                          ;
33377                             160 I1  
33378                             161 I1  
33379                             162 I1  ;       ====== 一旦停止信号OFF=====
33380                             163 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
33381 000070F6 D128                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
33382 000070F8 6011                   M           MOV.W   @R1,R0          ;
33383 000070FA 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
33384 000070FC 2049                   M           AND     R4,R0           ;
33385 000070FE 2101                   M           MOV.W   R0,@R1          ;
33386                             164 I1  
33387                             165 I1          FAR_JSR #_CMPCYC_START_CLR,R0           ;
33388 00007100 D026                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33389 00007102 400B                   M           JSR     @R0                     ;
33390 00007104 0009                   M           NOP                                     ;
33391                             166 I1          FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
33392 00007106 D026                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33393 00007108 400B                   M           JSR     @R0                     ;
33394 0000710A 0009                   M           NOP                                     ;
33395                             167 I1  
33396                             168 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
33397 0000710C D025                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33398 0000710E 400B                   M           JSR     @R0                     ;
33399 00007110 0009                   M           NOP                                     ;
33400                             169 I1  
33401                             170 I1          FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
33402 00007112 D025                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33403 00007114 400B                   M           JSR     @R0                     ;
33404 00007116 0009                   M           NOP                                     ;
33405                             171 I1          FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
33406 00007118 D024                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33407 0000711A 400B                   M           JSR     @R0                     ;
33408 0000711C 0009                   M           NOP                                     ;
33409                             172 I1  
33410                             173 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
33411 0000711E D024                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33412 00007120 400B                   M           JSR     @R0                     ;
33413 00007122 0009                   M           NOP                                     ;
33414                             174 I1  
33415 00007124 200A               175 I1          XOR     R0,R0                   ;
33416 00007126 D123               176 I1          MOV.L   #_INT_CYC_DRV_STS,R1    ;
33417 00007128 2101               177 I1          MOV.W   R0,@R1                  ;
33418 0000712A D123               178 I1          MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
33419 0000712C 2101               179 I1          MOV.W   R0,@R1                  ;
33420 0000712E D123               180 I1          MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
33421 00007130 2101               181 I1          MOV.W   R0,@R1                  ;
33422 00007132 D123               182 I1          MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
33423 00007134 2101               183 I1          MOV.W   R0,@R1                  ;
33424                             184 I1  ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
33425                             185 I1  ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
33426                             186 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   490
PROGRAM NAME =

33427                             187 I1  
33428                             188 I1  
33429                             189 I1  
33430 00007136 D123               190 I1          MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
33431 00007138 200A               191 I1          XOR     R0,R0                           ;
33432 0000713A 2101               192 I1          MOV.W   R0,@R1                          ;
33433                             193 I1  
33434                             194 I1  
33435 0000713C 9012               195 I1          MOV.W   #BIT0,R0                        ;起動
33436 0000713E D122               196 I1          MOV.L   #_MNWR_POS_CMD,R1               ;
33437 00007140 2101               197 I1          MOV.W   R0,@R1                          ;
33438                             198 I1  
33439                             199 I1  ;       --------2009-04-01 起動したらフラグクリア[原点時の]
33440                             200 I1          MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
33441 00007142 D422                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
33442 00007144 6041                   M           MOV.W   @R4,R0          ;
33443 00007146 910E                   M           MOV.W   #LWORD (~BIT5),R1       ;
33444 00007148 2019                   M           AND     R1,R0           ;
33445 0000714A 2401                   M           MOV.W   R0,@R4          ;
33446                             201 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
33447 0000714C D420                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
33448 0000714E 6041                   M           MOV.W   @R4,R0          ;
33449 00007150 9109                   M           MOV.W   #LWORD (~BIT5),R1       ;
33450 00007152 2019                   M           AND     R1,R0           ;
33451 00007154 2401                   M           MOV.W   R0,@R4          ;
33452                             202 I1  
33453                             203 I1  ;       ------- 起動------------
33454 00007156 9005               204 I1          MOV.W   #BIT0,R0                ;
33455 00007158 D11E               205 I1          MOV.L   #_BRKTST_STR_FLG,R1     ;
33456 0000715A 2101               206 I1          MOV.W   R0,@R1                  ;
33457                             207 I1  
33458                             208 I1          SUB_END
33459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33460 0000715C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33461                             209 I1          M_RTS
33462 0000715E 000B                   M           RTS                             ;RTSの後ろの
33463 00007160 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33464                             210 I1  
33465                             211 I1  
33466                                 I1  ***** BEGIN-POOL *****
33467 00007162 FDFF                   I1  DATA FOR SOURCE-LINE 163
33468 00007164 0001                   I1  DATA FOR SOURCE-LINE 195,204
33469 00007166 FFDF                   I1  DATA FOR SOURCE-LINE 200,201
33470 00007168 00000000               I1  DATA FOR SOURCE-LINE 126
33471 0000716C 00000000               I1  DATA FOR SOURCE-LINE 132
33472 00007170 00000000               I1  DATA FOR SOURCE-LINE 134
33473 00007174 00000000               I1  DATA FOR SOURCE-LINE 135
33474 00007178 00000000               I1  DATA FOR SOURCE-LINE 137
33475 0000717C 00000000               I1  DATA FOR SOURCE-LINE 138
33476 00007180 00000000               I1  DATA FOR SOURCE-LINE 141
33477 00007184 00000000               I1  DATA FOR SOURCE-LINE 143
33478 00007188 00000000               I1  DATA FOR SOURCE-LINE 147
33479 0000718C 00000000               I1  DATA FOR SOURCE-LINE 151
33480 00007190 00000000               I1  DATA FOR SOURCE-LINE 154
33481 00007194 00000000               I1  DATA FOR SOURCE-LINE 158
33482 00007198 00000000               I1  DATA FOR SOURCE-LINE 163
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   491
PROGRAM NAME =

33483 0000719C 00000000               I1  DATA FOR SOURCE-LINE 165
33484 000071A0 00000000               I1  DATA FOR SOURCE-LINE 166
33485 000071A4 00000000               I1  DATA FOR SOURCE-LINE 168
33486 000071A8 00000000               I1  DATA FOR SOURCE-LINE 170
33487 000071AC 00000000               I1  DATA FOR SOURCE-LINE 171
33488 000071B0 00000000               I1  DATA FOR SOURCE-LINE 173
33489 000071B4 00000000               I1  DATA FOR SOURCE-LINE 176
33490 000071B8 00000000               I1  DATA FOR SOURCE-LINE 178
33491 000071BC 00000000               I1  DATA FOR SOURCE-LINE 180
33492 000071C0 00000000               I1  DATA FOR SOURCE-LINE 182
33493 000071C4 00000000               I1  DATA FOR SOURCE-LINE 190
33494 000071C8 00000000               I1  DATA FOR SOURCE-LINE 196
33495 000071CC 00000000               I1  DATA FOR SOURCE-LINE 200
33496 000071D0 00000000               I1  DATA FOR SOURCE-LINE 201
33497 000071D4 00000000               I1  DATA FOR SOURCE-LINE 205
33498                                 I1  ***** END-POOL *****
33499 000071D8                    212 I1          .ALIGN  4                               ;
33500 000071D8                    213 I1  _BRKTST_OBJ_MAKE
33501                             214 I1          SUB_START
33502 000071D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
33503                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33504                             215 I1  ;       --------------------------------------------
33505 000071DA D024               216 I1          MOV.L   #_CTL_ENC360,R0                         ;//360.0度(いまのところ不要)
33506 000071DC 6101               217 I1          MOV.W   @R0,R1                                  ;
33507 000071DE D424               218 I1          MOV.L   #_STR_ENC3600_DIG,R4                    ;//運転開始時の360.0角度
33508 000071E0 2411               219 I1          MOV.W   R1,@R4                                  ;
33509                             220 I1  
33510                             221 I1  ;       -----------------------------------------
33511 000071E2 D424               222 I1          MOV.L   #_LINK_PV_ABSPLS,R4                     ;
33512 000071E4 6146               223 I1          MOV.L   @R4+,R1                                 ;
33513 000071E6 6242               224 I1          MOV.L   @R4,R2                                  ;
33514 000071E8 D423               225 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33515 000071EA 1410               226 I1          MOV.L   R1,@(0,R4)                              ;
33516 000071EC 1421               227 I1          MOV.L   R2,@(4,R4)                              ;
33517                             228 I1  
33518                             229 I1  ;       ---------- 目標位置設定------
33519 000071EE D423               230 I1          MOV.L   #_LINK_1ROT_PLS,R4                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
33520 000071F0 6642               231 I1          MOV.L   @R4,R6                                  ;
33521 000071F2 255A               232 I1          XOR     R5,R5                                   ;
33522                             233 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33523 000071F4 0008                   M           CLRT
33524 000071F6 326E                   M           ADDC    R6,R2
33525 000071F8 315E                   M           ADDC    R5,R1
33526                             234 I1  
33527 000071FA D421               235 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33528 000071FC 2412               236 I1          MOV.L   R1,@R4                          ;
33529 000071FE 1421               237 I1          MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
33530                             238 I1  
33531                             239 I1  
33532                             240 I1  ;       ---------- 方向------
33533 00007200 200A               241 I1          XOR     R0,R0                           ;BIT0=0:正
33534 00007202 D120               242 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33535 00007204 2101               243 I1          MOV.W   R0,@R1
33536                             244 I1  
33537                             245 I1  
33538                             246 I1  ;       ---------- 目標位置設定------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   492
PROGRAM NAME =

33539                             247 I1  ;;;;;2011-09-14 MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33540                             248 I1  ;;;;;2011-09-14 MOV.W   @R1,R0
33541                             249 I1  ;;;;;2011-09-14 FAR_JSR #_LINK_P_M_MAX,R4               ;Input R0:BIT0 DIRECT
33542                             250 I1                                                  ;_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止
                                          目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33543                             251 I1  
33544                             252 I1  
33545                             253 I1  
33546                             254 I1  
33547                             255 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
33548 00007206 D020                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33549 00007208 400B                   M           JSR     @R0                     ;
33550 0000720A 0009                   M           NOP                                     ;
33551                             256 I1  
33552                             257 I1  ;       ---------- SPEED SET---------------
33553                             258 I1  ;;      MOV.L   #_FREQ_PLSI_MAX_FRQ,R1  ;
33554                             259 I1  ;;;     MOV.L   #_LINK_MAX_SPD_PLS,R1
33555                             260 I1  
33556 0000720C D11F               261 I1          MOV.L   #_BRKTST_OUTSPD_PLS,R1  ;
33557 0000720E 6212               262 I1          MOV.L   @R1,R2                  ;
33558 00007210 D11F               263 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
33559 00007212 2122               264 I1          MOV.L   R2,@R1                  ;
33560                             265 I1  
33561                             266 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0      ;input R2
33562 00007214 D01F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33563 00007216 400B                   M           JSR     @R0                     ;
33564 00007218 0009                   M           NOP                                     ;
33565                             267 I1  
33566                             268 I1  
33567                             269 I1  
33568                             270 I1  
33569                             271 I1  ;       -------------------ｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀMAX-----------
33570 0000721A 9226               272 I1          MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
33571                             273 I1          REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33572 0000721C D11E                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
33573 0000721E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33574                             274 I1          REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33575 00007220 D11E                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
33576 00007222 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33577                             275 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
33578 00007224 D41E                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33579 00007226 6041                   M           MOV.W   @R4,R0          ;
33580 00007228 C9FD                   M           AND     #LOW ~BIT1,R0           ;
33581 0000722A 2401                   M           MOV.W   R0,@R4          ;
33582                             276 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
33583 0000722C D41C                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33584 0000722E 6041                   M           MOV.W   @R4,R0          ;
33585 00007230 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
33586 00007232 2401                   M           MOV.W   R0,@R4          ;
33587                             277 I1  
33588                             278 I1          FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
33589 00007234 D01B                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33590 00007236 400B                   M           JSR     @R0                     ;
33591 00007238 0009                   M           NOP                                     ;
33592                             279 I1          FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
33593 0000723A D01B                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33594 0000723C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   493
PROGRAM NAME =

33595 0000723E 0009                   M           NOP                                     ;
33596                             280 I1  
33597                             281 I1  ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
33598                             282 I1          FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
33599 00007240 D01A                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33600 00007242 400B                   M           JSR     @R0                     ;
33601 00007244 0009                   M           NOP                                     ;
33602                             283 I1          FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
33603 00007246 D01A                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33604 00007248 400B                   M           JSR     @R0                     ;
33605 0000724A 0009                   M           NOP                                     ;
33606                             284 I1  
33607                             285 I1  
33608                             286 I1  ;       ------------------2011-09-14----------停止位置-----
33609 0000724C D40A               287 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33610 0000724E 5140               288 I1          MOV.L   @(0,R4),R1
33611 00007250 5241               289 I1          MOV.L   @(4,R4),R2
33612                             290 I1  
33613 00007252 D418               291 I1          MOV.L   #_WPARX_BRKTST_STPLNG,R4                ;//相対ﾊﾟﾙｽ
33614 00007254 6642               292 I1          MOV.L   @R4,R6                                  ;
33615 00007256 255A               293 I1          XOR     R5,R5                                   ;
33616                             294 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33617 00007258 0008                   M           CLRT
33618 0000725A 326E                   M           ADDC    R6,R2
33619 0000725C 315E                   M           ADDC    R5,R1
33620                             295 I1  
33621 0000725E D416               296 I1          MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
33622 00007260 2412               297 I1          MOV.L   R1,@R4                                                  ;
33623 00007262 1421               298 I1          MOV.L   R2,@(1*4,R4)                                            ;
33624                             299 I1  
33625                             300 I1  
33626                             301 I1          SUB_END
33627                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33628 00007264 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33629                             302 I1          M_RTS
33630 00007266 000B                   M           RTS                             ;RTSの後ろの
33631 00007268 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33632                             303 I1  
33633                           11222     
33634                           11223     
33635                           11224     ;       *******************************************
33636                           11225     ;       ***                                     ***
33637                           11226     ;       ***                                     ***
33638                           11227     ;       ***                                     ***
33639                           11228     ;       ***     ポジショナ- CPUA                ***
33640                           11229     ;       ***                                     ***
33641                           11230     ;       ***                                     ***
33642                           11231     ;       *******************************************
33643                                     ***** BEGIN-POOL *****
33644 0000726A 0064                       DATA FOR SOURCE-LINE 272
33645 0000726C 00000000                   DATA FOR SOURCE-LINE 216
33646 00007270 00000000                   DATA FOR SOURCE-LINE 218
33647 00007274 00000000                   DATA FOR SOURCE-LINE 222
33648 00007278 00000000                   DATA FOR SOURCE-LINE 225,287
33649 0000727C 00000000                   DATA FOR SOURCE-LINE 230
33650 00007280 00000000                   DATA FOR SOURCE-LINE 235
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   494
PROGRAM NAME =

33651 00007284 00000000                   DATA FOR SOURCE-LINE 242
33652 00007288 00000000                   DATA FOR SOURCE-LINE 255
33653 0000728C 00000000                   DATA FOR SOURCE-LINE 261
33654 00007290 00000000                   DATA FOR SOURCE-LINE 263
33655 00007294 00000000                   DATA FOR SOURCE-LINE 266
33656 00007298 00000000                   DATA FOR SOURCE-LINE 273
33657 0000729C 00000000                   DATA FOR SOURCE-LINE 274
33658 000072A0 00000000                   DATA FOR SOURCE-LINE 275,276
33659 000072A4 00000000                   DATA FOR SOURCE-LINE 278
33660 000072A8 00000000                   DATA FOR SOURCE-LINE 279
33661 000072AC 00000000                   DATA FOR SOURCE-LINE 282
33662 000072B0 00000000                   DATA FOR SOURCE-LINE 283
33663 000072B4 00000000                   DATA FOR SOURCE-LINE 291
33664 000072B8 00000000                   DATA FOR SOURCE-LINE 296
33665                                     ***** END-POOL *****
33666 000072BC                  11232             .ALIGN  4                                       ;
33667                           11233             .INCLUDE        "ssa_cop1pos.inc"               ; //
33668                               1 I1  ;       ***********************************
33669                               2 I1  ;       ***                             ***
33670                               3 I1  ;       ***     ﾎﾟｼﾞｼｮﾅ動作             ***
33671                               4 I1  ;       ***                             ***
33672                               5 I1  ;       ***********************************
33673                               6 I1  ;       cpuaだけ
33674                               7 I1  ;
33675                               8 I1  ;       @"自動ﾀﾞｲﾊｲﾄｽﾀｰﾄ":手動ﾀﾞｲﾊｲﾄと同一演算にてﾀﾞｲﾊｲﾄ位置を表示する
33676                               9 I1  ;       A位置比較
33677                              10 I1  ;
33678                              11 I1  ;       341.9
33679                              12 I1          .IMPORT         _SVP_ATSLID_OBJ1        ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33680                              13 I1          .IMPORT         _SVP_ATSLID_DNOBJ1      ; スライド自動調節　下降停止 0~99
33681                              14 I1          .IMPORT         _SVP_ATSLID_UPOBJ1      ; スライド自動調節　上昇停止 "
33682                              15 I1          .IMPORT         _SVP_ATSLID_BAKLNG      ; スライド自動調節　戻り量   "
33683                              16 I1          .IMPORT         _SVP_ATSLID_COEF1       ; スライド自動調節　制御精度 "
33684                              17 I1          .IMPORT         _SVP_SLPOS_DIR          ;位置決め方向 0(上昇)/1(下降)
33685                              18 I1          .IMPORT         _SVP_SL_TENPOS          ;小数点
33686                              19 I1  
33687                              20 I1          .IMPORT         _PVP_ATSLID_OBJ1        ;2021-06-24 CPUDﾃﾞｰﾀﾁｪｯｸ用ANSﾊﾞｯｸ
33688                              21 I1  
33689                              22 I1          .EXPORT _POSITIONER_DAIHAITO
33690 000072BC                     23 I1  _POSITIONER_DAIHAITO
33691                              24 I1          SUB_START
33692 000072BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
33693                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33694                              25 I1  
33695                              26 I1  ;---------- 2021-06-24[H2W-CE3:2020-08-11 SV ANS BAK]----------------
33696 000072BE D109                27 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1                            ; スライド自動調節設定値（
                                          現在動作中）0.001mm
33697 000072C0 6212                28 I1          MOV.L   @R1,R2                                                          ;0.001mm 6
                                          553.5
33698 000072C2 D109                29 I1          MOV.L   #_PVP_ATSLID_OBJ1,R1                            ;
33699 000072C4 2122                30 I1          MOV.L   R2,@R1                                                          ;
33700                              31 I1  ;       ----------------------------------------------
33701                              32 I1  
33702                              33 I1          FAR_JSR #_POSITINER_POS_CMP,R0          ;2021-06-24
33703 000072C6 D009                   M           MOV.L   #_POSITINER_POS_CMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33704 000072C8 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   495
PROGRAM NAME =

33705 000072CA 0009                   M           NOP                                     ;
33706                              34 I1  
33707 000072CC D508                35 I1          MOV.L   #_POSINER_FLG,R5                ;
33708 000072CE 6051                36 I1          MOV.W   @R5,R0                          ;
33709 000072D0 2008                37 I1          TST     R0,R0                           ;
33710                              38 I1          TST_BIT_ON POSITIONER_DAICTL_100        ;
33711 000072D2 8B2B                   M           BF      POSITIONER_DAICTL_100
33712                              39 I1  
33713 000072D4 D107                40 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33714 000072D6 6011                41 I1          MOV.W   @R1,R0                          ;
33715 000072D8 9403                42 I1          MOV.W   #BIT9,R4                        ;
33716 000072DA 2048                43 I1          TST     R4,R0                           ;
33717                              44 I1          TST_BIT_ON POSITIONER_DAICTL_020        ;
33718 000072DC 8B0C                   M           BF      POSITIONER_DAICTL_020
33719                              45 I1          M_BRA   POSITIONER_DAICTL_EXT           ;
33720 000072DE A0E6                   M           BRA     POSITIONER_DAICTL_EXT
33721 000072E0 0009                   M           NOP
33722                              46 I1  
33723                              47 I1  ;       -------------- 起動-----------------
33724                                 I1  ***** BEGIN-POOL *****
33725 000072E2 0200                   I1  DATA FOR SOURCE-LINE 42
33726 000072E4 00000000               I1  DATA FOR SOURCE-LINE 27
33727 000072E8 00000000               I1  DATA FOR SOURCE-LINE 29
33728 000072EC 00000000               I1  DATA FOR SOURCE-LINE 33
33729 000072F0 00000000               I1  DATA FOR SOURCE-LINE 35
33730 000072F4 00000000               I1  DATA FOR SOURCE-LINE 40
33731                                 I1  ***** END-POOL *****
33732 000072F8                     48 I1  POSITIONER_DAICTL_020
33733 000072F8 E001                49 I1          MOV.B   #BIT0,R0                        ;
33734 000072FA 2501                50 I1          MOV.W   R0,@R5                          ;FLG.0=1
33735                              51 I1  
33736                              52 I1  ;       ------------------------------------
33737 000072FC 200A                53 I1          XOR     R0,R0                           ;
33738 000072FE D107                54 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33739 00007300 2101                55 I1          MOV.W   R0,@R1                          ;
33740                              56 I1  
33741                              57 I1  
33742 00007302 E002                58 I1          MOV.B   #BIT1,R0                        ;上昇からの+位置決め中
33743 00007304 D106                59 I1          MOV.L   #_SVP_SLPOS_DIR,R1              ;位置決め方向
33744 00007306 6411                60 I1          MOV.W   @R1,R4                          ;
33745 00007308 2448                61 I1          TST     R4,R4                           ;
33746                              62 I1          TST_BIT_OF POSITIONER_DAICTL_040        ;
33747 0000730A 8900                   M           BT      POSITIONER_DAICTL_040
33748 0000730C E042                63 I1          MOV.B   #BIT6+BIT1,R0                   ;下降からの+位置決め中
33749 0000730E                     64 I1  POSITIONER_DAICTL_040:
33750 0000730E D105                65 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33751 00007310 2101                66 I1          MOV.W   R0,@R1                          ;
33752                              67 I1          FAR_JSR #_POSITIONER_DAI_DATA,R0
33753 00007312 D005                   M           MOV.L   #_POSITIONER_DAI_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33754 00007314 400B                   M           JSR     @R0                     ;
33755 00007316 0009                   M           NOP                                     ;
33756                              68 I1          M_BRA   POSITIONER_DAICTL_800
33757 00007318 A0BE                   M           BRA     POSITIONER_DAICTL_800
33758 0000731A 0009                   M           NOP
33759                              69 I1  
33760                              70 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   496
PROGRAM NAME =

33761                              71 I1  
33762                              72 I1  ;       ----------------------------------------------
33763                                 I1  ***** BEGIN-POOL *****
33764 0000731C 00000000               I1  DATA FOR SOURCE-LINE 54
33765 00007320 00000000               I1  DATA FOR SOURCE-LINE 59
33766 00007324 00000000               I1  DATA FOR SOURCE-LINE 65
33767 00007328 00000000               I1  DATA FOR SOURCE-LINE 67
33768                                 I1  ***** END-POOL *****
33769 0000732C                     73 I1  POSITIONER_DAICTL_100
33770                              74 I1  
33771 0000732C D108                75 I1          MOV.L   #_PVX_DAI_POS1,R1               ;ﾀﾞｲﾊｲﾄ表示値・制御値
33772 0000732E 6212                76 I1          MOV.L   @R1,R2                          ;SAVE R2 -->NEXT CALC USED
33773 00007330 D108                77 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33774 00007332 2122                78 I1          MOV.L   R2,@R1                          ;
33775                              79 I1  
33776 00007334 D108                80 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33777 00007336 6211                81 I1          MOV.W   @R1,R2                          ;
33778 00007338 9408                82 I1          MOV.W   #BIT9,R4                        ;
33779 0000733A 2248                83 I1          TST     R4,R2                           ;
33780                              84 I1          TST_BIT_ON POSITIONER_DAICTL_200        ;
33781 0000733C 8B12                   M           BF      POSITIONER_DAICTL_200
33782                              85 I1  
33783                              86 I1  ;       --------------- 指令OFF 終了---------------
33784 0000733E 200A                87 I1          XOR     R0,R0                           ;
33785 00007340 D506                88 I1          MOV.L   #_POSINER_FLG,R5                ;
33786 00007342 2501                89 I1          MOV.W   R0,@R5                          ;
33787 00007344 D106                90 I1          MOV.L   #_POSINER_STS,R1                ;
33788 00007346 2101                91 I1          MOV.W   R0,@R1                          ;
33789                              92 I1          M_BRA   POSITIONER_DAICTL_800
33790 00007348 A0A6                   M           BRA     POSITIONER_DAICTL_800
33791 0000734A 0009                   M           NOP
33792                              93 I1  
33793                              94 I1  ;       -------------- 運転--------------------
33794                                 I1  ***** BEGIN-POOL *****
33795 0000734C 0200                   I1  DATA FOR SOURCE-LINE 82
33796 0000734E 0000                   I1  ALIGNMENT CODE
33797 00007350 00000000               I1  DATA FOR SOURCE-LINE 75
33798 00007354 00000000               I1  DATA FOR SOURCE-LINE 77
33799 00007358 00000000               I1  DATA FOR SOURCE-LINE 80
33800 0000735C 00000000               I1  DATA FOR SOURCE-LINE 88
33801 00007360 00000000               I1  DATA FOR SOURCE-LINE 90
33802                                 I1  ***** END-POOL *****
33803 00007364                     95 I1  POSITIONER_DAICTL_200
33804 00007364 D506                96 I1          MOV.L   #_POSINER_FLG,R5                ;
33805 00007366 6051                97 I1          MOV.W   @R5,R0                          ;
33806 00007368 C802                98 I1          TST     #BIT1,R0                        ;
33807                              99 I1          TST_BIT_ON POSITIONER_DAICTL_300        ;
33808 0000736A 8B0D                   M           BF      POSITIONER_DAICTL_300
33809                             100 I1  
33810                             101 I1  ;       ------- 初期演算--------
33811                             102 I1          FAR_JSR #_POSITIONER_DAI_OBJ1MAK,R0                             ;
33812 0000736C D005                   M           MOV.L   #_POSITIONER_DAI_OBJ1MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33813 0000736E 400B                   M           JSR     @R0                     ;
33814 00007370 0009                   M           NOP                                     ;
33815                             103 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT1,WKREG=R1 ;
33816 00007372 D103                   M           MOV.L   #_POSINER_FLG,R1                ;
33817 00007374 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   497
PROGRAM NAME =

33818 00007376 CB02                   M           OR      #BIT1,R0                ;
33819 00007378 2101                   M           MOV.W   R0,@R1          ;
33820                             104 I1          M_BRA   POSITIONER_DAICTL_800
33821 0000737A A08D                   M           BRA     POSITIONER_DAICTL_800
33822 0000737C 0009                   M           NOP
33823                             105 I1  
33824                             106 I1  ;       ----------------------------------------
33825                                 I1  ***** BEGIN-POOL *****
33826 0000737E 0000                   I1  ALIGNMENT CODE
33827 00007380 00000000               I1  DATA FOR SOURCE-LINE 96,103
33828 00007384 00000000               I1  DATA FOR SOURCE-LINE 102
33829                                 I1  ***** END-POOL *****
33830 00007388                    107 I1  POSITIONER_DAICTL_300
33831 00007388 C804               108 I1          TST     #BIT2,R0                        ;
33832                             109 I1          TST_BIT_ON POSITIONER_DAICTL_400        ;
33833 0000738A 8B15                   M           BF      POSITIONER_DAICTL_400
33834                             110 I1  
33835                             111 I1          FAR_JSR #_POSITIONER_DAI_OBJ1CMP,R0     ;//目標位置+ｵｰﾊﾞ量
33836 0000738C D007                   M           MOV.L   #_POSITIONER_DAI_OBJ1CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33837 0000738E 400B                   M           JSR     @R0                     ;
33838 00007390 0009                   M           NOP                                     ;
33839                             112 I1          PUSH_REG1 R0                            ;
33840 00007392 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33841                                 M                                           ;REG=>[SP]
33842                                 M                                           ;"-4" FF,FF,FF,FC
33843                             113 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33844 00007394 D106                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33845 00007396 410B                   M           JSR     @R1                     ;
33846 00007398 0009                   M           NOP                                     ;
33847                             114 I1          POP_REG1 R0
33848                                 M                                   ; RE"+4" 00,00,00,04
33849 0000739A 60F6                   M           MOV.L   @R15+,R0        ;
33850 0000739C 2008               115 I1          TST     R0,R0
33851                             116 I1          TST_BIT_ON POSITIONER_DAICTL_350
33852 0000739E 8B03                   M           BF      POSITIONER_DAICTL_350
33853                             117 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT2,WKREG=R1 ;
33854 000073A0 D104                   M           MOV.L   #_POSINER_FLG,R1                ;
33855 000073A2 6011                   M           MOV.W   @R1,R0          ;
33856 000073A4 CB04                   M           OR      #BIT2,R0                ;
33857 000073A6 2101                   M           MOV.W   R0,@R1          ;
33858 000073A8                    118 I1  POSITIONER_DAICTL_350
33859                             119 I1          M_BRA   POSITIONER_DAICTL_800
33860 000073A8 A076                   M           BRA     POSITIONER_DAICTL_800
33861 000073AA 0009                   M           NOP
33862                             120 I1  
33863                             121 I1  
33864                             122 I1  ;       ----------------------------------------
33865                                 I1  ***** BEGIN-POOL *****
33866 000073AC 00000000               I1  DATA FOR SOURCE-LINE 111
33867 000073B0 00000000               I1  DATA FOR SOURCE-LINE 113
33868 000073B4 00000000               I1  DATA FOR SOURCE-LINE 117
33869                                 I1  ***** END-POOL *****
33870 000073B8                    123 I1  POSITIONER_DAICTL_400
33871 000073B8 C808               124 I1          TST     #BIT3,R0                        ;
33872                             125 I1          TST_BIT_ON POSITIONER_DAICTL_500        ;
33873 000073BA 8B2B                   M           BF      POSITIONER_DAICTL_500
33874                             126 I1          FAR_JSR #_POSITIONER_DAI_OBJ2CMP,R0     ;//目標位置+ｵｰﾊﾞ量-すべり
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   498
PROGRAM NAME =

33875 000073BC D00D                   M           MOV.L   #_POSITIONER_DAI_OBJ2CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33876 000073BE 400B                   M           JSR     @R0                     ;
33877 000073C0 0009                   M           NOP                                     ;
33878                             127 I1          PUSH_REG1 R0                            ;
33879 000073C2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33880                                 M                                           ;REG=>[SP]
33881                                 M                                           ;"-4" FF,FF,FF,FC
33882                             128 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33883 000073C4 D10C                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33884 000073C6 410B                   M           JSR     @R1                     ;
33885 000073C8 0009                   M           NOP                                     ;
33886                             129 I1          POP_REG1 R0
33887                                 M                                   ; RE"+4" 00,00,00,04
33888 000073CA 60F6                   M           MOV.L   @R15+,R0        ;
33889 000073CC 2008               130 I1          TST     R0,R0
33890                             131 I1          TST_BIT_ON POSITIONER_DAICTL_450
33891 000073CE 8B0E                   M           BF      POSITIONER_DAICTL_450
33892                             132 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
33893 000073D0 D10A                   M           MOV.L   #_POSINER_FLG,R1                ;
33894 000073D2 6011                   M           MOV.W   @R1,R0          ;
33895 000073D4 CB08                   M           OR      #BIT3,R0                ;
33896 000073D6 2101                   M           MOV.W   R0,@R1          ;
33897                             133 I1  
33898                             134 I1  
33899 000073D8 D109               135 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
33900 000073DA 920A               136 I1          MOV.W   #D'1000,R2              ;
33901 000073DC 2121               137 I1          MOV.W   R2,@R1                  ;
33902 000073DE D109               138 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1;//1000 1秒
33903 000073E0 2121               139 I1          MOV.W   R2,@R1                  ;
33904                             140 I1  
33905                             141 I1  
33906 000073E2 D109               142 I1          MOV.L   #_POSINER_PV_POS,R1     ;
33907 000073E4 6212               143 I1          MOV.L   @R1,R2                  ;
33908 000073E6 D109               144 I1          MOV.L   #_POSINER_OLDPV_POS,R1  ;
33909 000073E8 2122               145 I1          MOV.L   R2,@R1                  ;
33910 000073EA D109               146 I1          MOV.L   #_POSINER_MOSTPV_POS,R1 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
33911 000073EC 2122               147 I1          MOV.L   R2,@R1                  ;
33912                             148 I1  
33913 000073EE                    149 I1  POSITIONER_DAICTL_450
33914                             150 I1          M_BRA   POSITIONER_DAICTL_800
33915 000073EE A053                   M           BRA     POSITIONER_DAICTL_800
33916 000073F0 0009                   M           NOP
33917                             151 I1  
33918                             152 I1  
33919                             153 I1  ;       -------------- 停止待ち------------------
33920                                 I1  ***** BEGIN-POOL *****
33921 000073F2 03E8                   I1  DATA FOR SOURCE-LINE 136
33922 000073F4 00000000               I1  DATA FOR SOURCE-LINE 126
33923 000073F8 00000000               I1  DATA FOR SOURCE-LINE 128
33924 000073FC 00000000               I1  DATA FOR SOURCE-LINE 132
33925 00007400 00000000               I1  DATA FOR SOURCE-LINE 135
33926 00007404 00000000               I1  DATA FOR SOURCE-LINE 138
33927 00007408 00000000               I1  DATA FOR SOURCE-LINE 142
33928 0000740C 00000000               I1  DATA FOR SOURCE-LINE 144
33929 00007410 00000000               I1  DATA FOR SOURCE-LINE 146
33930                                 I1  ***** END-POOL *****
33931 00007414                    154 I1  POSITIONER_DAICTL_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   499
PROGRAM NAME =

33932 00007414 C810               155 I1          TST     #BIT4,R0                        ;
33933                             156 I1          TST_BIT_ON POSITIONER_DAICTL_800        ;
33934 00007416 8B3F                   M           BF      POSITIONER_DAICTL_800
33935                             157 I1  
33936                             158 I1          FAR_JSR #_POSITIONER_DAI_STPCHK,R1      ;
33937 00007418 D10A                   M           MOV.L   #_POSITIONER_DAI_STPCHK,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33938 0000741A 410B                   M           JSR     @R1                     ;
33939 0000741C 0009                   M           NOP                                     ;
33940 0000741E 2008               159 I1          TST     R0,R0                           ;
33941                             160 I1          TST_BIT_OF POSITIONER_DAICTL_590        ;"R0=1 END R0=-1 END(失敗)
33942 00007420 8935                   M           BT      POSITIONER_DAICTL_590
33943                             161 I1  
33944 00007422 8801               162 I1          CMP/EQ  #1,R0                           ;
33945 00007424 8B14               163 I1          BF      POSITIONER_DAICTL_530           ;
33946                             164 I1  
33947                             165 I1  ;       正常終了
33948                             166 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33949 00007426 D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33950 00007428 6011                   M           MOV.W   @R1,R0          ;
33951 0000742A CB10                   M           OR      #BIT4,R0                ;
33952 0000742C 2101                   M           MOV.W   R0,@R1          ;
33953                             167 I1  
33954                             168 I1  ;       位置決め完了ON
33955                             169 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33956                             170 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33957 0000742E D107                   M           MOV.L   #_POSINER_STS,R1                ;
33958 00007430 6011                   M           MOV.W   @R1,R0          ;
33959 00007432 C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33960 00007434 2101                   M           MOV.W   R0,@R1          ;
33961                             171 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT0,WKREG=R1 ;
33962 00007436 D105                   M           MOV.L   #_POSINER_STS,R1                ;
33963 00007438 6011                   M           MOV.W   @R1,R0          ;
33964 0000743A CB01                   M           OR      #BIT0,R0                ;
33965 0000743C 2101                   M           MOV.W   R0,@R1          ;
33966                             172 I1          M_BRA   POSITIONER_DAICTL_800
33967 0000743E A02B                   M           BRA     POSITIONER_DAICTL_800
33968 00007440 0009                   M           NOP
33969                             173 I1  
33970                             174 I1  
33971                                 I1  ***** BEGIN-POOL *****
33972 00007442 0000                   I1  ALIGNMENT CODE
33973 00007444 00000000               I1  DATA FOR SOURCE-LINE 158
33974 00007448 00000000               I1  DATA FOR SOURCE-LINE 166
33975 0000744C 00000000               I1  DATA FOR SOURCE-LINE 170,171
33976                                 I1  ***** END-POOL *****
33977 00007450                    175 I1  POSITIONER_DAICTL_530
33978                             176 I1  ;       異常終了
33979 00007450 D10A               177 I1          MOV.L   #_POSINER_RETRY_CNT,R1
33980 00007452 6211               178 I1          MOV.W   @R1,R2
33981 00007454 7201               179 I1          ADD     #1,R2
33982 00007456 2121               180 I1          MOV.W   R2,@R1
33983 00007458 E403               181 I1          MOV.B   #3,R4
33984 0000745A 3422               182 I1          CMP/HS  R2,R4                   ;
33985 0000745C 8914               183 I1          BT      POSITIONER_DAICTL_550   ;R2=<R4(3) ﾘﾄﾗｲ(通常+ﾘﾄﾗｲ3回=4回までやる)
33986                             184 I1  
33987                             185 I1  ;       異常終了
33988                             186 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   500
PROGRAM NAME =

33989 0000745E D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33990 00007460 6011                   M           MOV.W   @R1,R0          ;
33991 00007462 CB10                   M           OR      #BIT4,R0                ;
33992 00007464 2101                   M           MOV.W   R0,@R1          ;
33993                             187 I1  ;       異常完了ON
33994                             188 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33995                             189 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33996 00007466 D107                   M           MOV.L   #_POSINER_STS,R1                ;
33997 00007468 6011                   M           MOV.W   @R1,R0          ;
33998 0000746A C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33999 0000746C 2101                   M           MOV.W   R0,@R1          ;
34000                             190 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT2,WKREG=R1 ;
34001 0000746E D105                   M           MOV.L   #_POSINER_STS,R1                ;
34002 00007470 6011                   M           MOV.W   @R1,R0          ;
34003 00007472 CB04                   M           OR      #BIT2,R0                ;
34004 00007474 2101                   M           MOV.W   R0,@R1          ;
34005                             191 I1          M_BRA   POSITIONER_DAICTL_800
34006 00007476 A00F                   M           BRA     POSITIONER_DAICTL_800
34007 00007478 0009                   M           NOP
34008                             192 I1  
34009                             193 I1  ;       ----------------ﾘﾄﾗｲ開始-----------
34010                                 I1  ***** BEGIN-POOL *****
34011 0000747A 0000                   I1  ALIGNMENT CODE
34012 0000747C 00000000               I1  DATA FOR SOURCE-LINE 177
34013 00007480 00000000               I1  DATA FOR SOURCE-LINE 186
34014 00007484 00000000               I1  DATA FOR SOURCE-LINE 189,190
34015                                 I1  ***** END-POOL *****
34016 00007488                    194 I1  POSITIONER_DAICTL_550
34017 00007488 E001               195 I1          MOV.B   #BIT0,R0                        ;
34018 0000748A D102               196 I1          MOV.L   #_POSINER_FLG,R1                ;
34019 0000748C 2101               197 I1          MOV.W   R0,@R1                          ;初期化
34020                             198 I1  
34021 0000748E                    199 I1  POSITIONER_DAICTL_590
34022                             200 I1          M_BRA   POSITIONER_DAICTL_800
34023 0000748E A003                   M           BRA     POSITIONER_DAICTL_800
34024 00007490 0009                   M           NOP
34025                             201 I1  
34026                             202 I1  
34027                             203 I1  
34028                             204 I1  ;       -----------------------------------
34029                                 I1  ***** BEGIN-POOL *****
34030 00007492 0000                   I1  ALIGNMENT CODE
34031 00007494 00000000               I1  DATA FOR SOURCE-LINE 196
34032                                 I1  ***** END-POOL *****
34033 00007498                    205 I1  POSITIONER_DAICTL_800
34034                             206 I1  
34035                             207 I1  
34036                             208 I1  
34037                             209 I1  
34038                             210 I1  
34039 00007498 D107               211 I1          MOV.L   #_POSINER_STS,R1                        ;
34040 0000749A 6011               212 I1          MOV.W   @R1,R0                                  ;
34041 0000749C D107               213 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34042 0000749E 6211               214 I1          MOV.W   @R1,R2                                  ;
34043 000074A0 9408               215 I1          MOV.W   #(BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4     ;
34044 000074A2 2049               216 I1          AND     R4,R0
34045 000074A4 6447               217 I1          NOT     R4,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   501
PROGRAM NAME =

34046 000074A6 2249               218 I1          AND     R4,R2
34047 000074A8 220B               219 I1          OR      R0,R2
34048 000074AA D104               220 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34049 000074AC 2121               221 I1          MOV.W   R2,@R1                                  ;
34050                             222 I1  
34051                             223 I1  
34052                             224 I1  
34053                             225 I1  
34054                             226 I1  
34055 000074AE                    227 I1  POSITIONER_DAICTL_EXT
34056                             228 I1  
34057                             229 I1          SUB_END
34058                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34059 000074AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34060                             230 I1          M_RTS
34061 000074B0 000B                   M           RTS                             ;RTSの後ろの
34062 000074B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34063                             231 I1  
34064                             232 I1  
34065                             233 I1  ;_SVP_KANDO_A21                         .SRES   4       ;感度
34066                             234 I1  ;_SVP_UPDATA_A21                        .SRES   4       ;上限
34067                             235 I1  ;_SVP_DNDATA_A21                        .SRES   4       ;下限
34068                             236 I1  ;_SVP_GENITI_A21                        .SRES   4       ;現位置
34069                             237 I1  ;_SVP_MODORI_A21                        .SRES   2       ;戻り量
34070                             238 I1  ;_SVP_DNSTOP_A21                        .SRES   2       ;下降停止
34071                             239 I1  ;_SVP_UPSTOP_A21                        .SRES   2       ;上昇停止
34072                             240 I1  ;_SVP_SSEIDO_A21                        .SRES   2       ;制御精度
34073                             241 I1  
34074                             242 I1  
34075                             243 I1  ;_SVP_SLID_POS1         .SRES   4       ;ｽﾗｲﾄﾞ位置　生産
34076                             244 I1  ;_SVP_SLID_POS2         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取1
34077                             245 I1  ;_SVP_SLID_POS3         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取2
34078                             246 I1  ;
34079                             247 I1  ;       ***********************************************************
34080                             248 I1  ;       ***                                                     ***
34081                             249 I1  ;       ***     [上昇から開始]                                  ***
34082                             250 I1  ;       ***     設定+戻り量(現在位置＋戻り量)                   ***
34083                             251 I1  ;       ***     設定+戻り量-下降量(現在位置＋戻り量-下降量)     ***
34084                             252 I1  ;       ***                                                     ***
34085                             253 I1  ;       ***********************************************************
34086                             254 I1  
34087                                 I1  ***** BEGIN-POOL *****
34088 000074B4 003F                   I1  DATA FOR SOURCE-LINE 215
34089 000074B6 0000                   I1  ALIGNMENT CODE
34090 000074B8 00000000               I1  DATA FOR SOURCE-LINE 211
34091 000074BC 00000000               I1  DATA FOR SOURCE-LINE 213,220
34092                                 I1  ***** END-POOL *****
34093 000074C0                    255 I1  _POSITIONER_DAI_OBJ1MAK:
34094                             256 I1          SUB_START
34095 000074C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
34096                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34097                             257 I1  
34098 000074C2 D109               258 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34099 000074C4 6212               259 I1          MOV.L   @R1,R2                          ;
34100                             260 I1  
34101 000074C6 D109               261 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
34102 000074C8 6011               262 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   502
PROGRAM NAME =

34103 000074CA 2008               263 I1          TST     R0,R0                           ;
34104                             264 I1          TST_BIT_OF POSITIONER_DAIOBJ1MK_100     ;
34105 000074CC 8901                   M           BT      POSITIONER_DAIOBJ1MK_100
34106                             265 I1  
34107 000074CE D108               266 I1          MOV.L   #_POSINER_PV_POS,R1             ;
34108 000074D0 6212               267 I1          MOV.L   @R1,R2                          ;[R5目標位置]
34109                             268 I1  
34110 000074D2                    269 I1  POSITIONER_DAIOBJ1MK_100:
34111                             270 I1  
34112                             271 I1  ;       in R2
34113                             272 I1  
34114 000074D2 D108               273 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34115 000074D4 6011               274 I1          MOV.W   @R1,R0                          ;
34116 000074D6 C840               275 I1          TST     #BIT6,R0                        ;方向
34117                             276 I1          TST_BIT_ON POSITIONER_DAIOBJ1MK_200     ;
34118 000074D8 8B12                   M           BF      POSITIONER_DAIOBJ1MK_200
34119                             277 I1  
34120                             278 I1  ;       ---------- 上昇から開始-----------
34121 000074DA D107               279 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34122 000074DC 6312               280 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
34123                             281 I1  
34124 000074DE D107               282 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
34125 000074E0 6412               283 I1          MOV.L   @R1,R4                          ;0.001mm
34126                             284 I1          M_BRA   POSITIONER_DAIOBJ1MK_300
34127 000074E2 A013                   M           BRA     POSITIONER_DAIOBJ1MK_300
34128 000074E4 0009                   M           NOP
34129                             285 I1  
34130                             286 I1  
34131                                 I1  ***** BEGIN-POOL *****
34132 000074E6 0000                   I1  ALIGNMENT CODE
34133 000074E8 00000000               I1  DATA FOR SOURCE-LINE 258
34134 000074EC 00000000               I1  DATA FOR SOURCE-LINE 261
34135 000074F0 00000000               I1  DATA FOR SOURCE-LINE 266
34136 000074F4 00000000               I1  DATA FOR SOURCE-LINE 273
34137 000074F8 00000000               I1  DATA FOR SOURCE-LINE 279
34138 000074FC 00000000               I1  DATA FOR SOURCE-LINE 282
34139                                 I1  ***** END-POOL *****
34140 00007500                    287 I1  POSITIONER_DAIOBJ1MK_200:
34141                             288 I1  ;       ------- 下降から開始 -------------
34142 00007500 D10B               289 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34143 00007502 6312               290 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
34144 00007504 633B               291 I1          NEG     R3,R3
34145                             292 I1  
34146 00007506 D10B               293 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 0~99
34147 00007508 6412               294 I1          MOV.L   @R1,R4                          ;0.001mm
34148 0000750A 644B               295 I1          NEG     R4,R4                           ;
34149                             296 I1  
34150 0000750C                    297 I1  POSITIONER_DAIOBJ1MK_300:
34151                             298 I1  
34152                             299 I1  
34153 0000750C 323C               300 I1          ADD     R3,R2                           ;
34154                             301 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
34155 0000750E D00A                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34156 00007510 400B                   M           JSR     @R0                     ;
34157 00007512 0009                   M           NOP                                     ;
34158                             302 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   503
PROGRAM NAME =

34159                             303 I1  
34160                             304 I1  ;       -------------停止位置は一定--------------
34161 00007514 D109               305 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34162 00007516 2122               306 I1          MOV.L   R2,@R1                          ;
34163                             307 I1  
34164                             308 I1  
34165 00007518 D109               309 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34166 0000751A 6212               310 I1          MOV.L   @R1,R2                          ;
34167                             311 I1  
34168 0000751C 324C               312 I1          ADD     R4,R2                           ;目標+β
34169                             313 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
34170 0000751E D006                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34171 00007520 400B                   M           JSR     @R0                     ;
34172 00007522 0009                   M           NOP                                     ;
34173 00007524 D107               314 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+停止量
34174 00007526 2122               315 I1          MOV.L   R2,@R1                          ;
34175                             316 I1  
34176                             317 I1          SUB_END
34177                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34178 00007528 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34179                             318 I1          M_RTS
34180 0000752A 000B                   M           RTS                             ;RTSの後ろの
34181 0000752C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34182                             319 I1  
34183                             320 I1  
34184                             321 I1  ;       INPU R2,DESTORY R1,R3,ANS R2
34185                                 I1  ***** BEGIN-POOL *****
34186 0000752E 0000                   I1  ALIGNMENT CODE
34187 00007530 00000000               I1  DATA FOR SOURCE-LINE 289
34188 00007534 00000000               I1  DATA FOR SOURCE-LINE 293
34189 00007538 00000000               I1  DATA FOR SOURCE-LINE 301,313
34190 0000753C 00000000               I1  DATA FOR SOURCE-LINE 305
34191 00007540 00000000               I1  DATA FOR SOURCE-LINE 309
34192 00007544 00000000               I1  DATA FOR SOURCE-LINE 314
34193                                 I1  ***** END-POOL *****
34194 00007548                    322 I1  _POSITIONER_UPDN_LIMIT
34195                             323 I1          SUB_START
34196 00007548 4F22                   M           STS.L   PR,@-R15                ;[必要]
34197                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34198                             324 I1  
34199 0000754A D106               325 I1          MOV.L   #_SET1_RNAPOS_MAXP,R1   ;19機械上限機械 ?0.001mm
34200 0000754C 6312               326 I1          MOV.L   @R1,R3                  ;UP
34201 0000754E 3323               327 I1          CMP/GE  R2,R3                   ;
34202 00007550 8900               328 I1          BT      POSITIONER_UPDNLMT100   ;R2(SV)=<R3(MAX) OK
34203 00007552 6233               329 I1          MOV     R3,R2                   ;
34204 00007554                    330 I1  POSITIONER_UPDNLMT100                   ;
34205                             331 I1  
34206 00007554 D104               332 I1          MOV.L   #_SET1_RNAPOS_MINP,R1   ;1A 機械下限機械
34207 00007556 6312               333 I1          MOV.L   @R1,R3                  ;DN
34208 00007558 3233               334 I1          CMP/GE  R3,R2                   ;
34209 0000755A 8900               335 I1          BT      POSITIONER_UPDNLMT200   ;R3(MIN)=<R2(MAX) OK
34210 0000755C 6233               336 I1          MOV     R3,R2                   ;
34211 0000755E                    337 I1  POSITIONER_UPDNLMT200                   ;
34212                             338 I1  
34213                             339 I1          SUB_END
34214                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34215 0000755E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   504
PROGRAM NAME =

34216                             340 I1          M_RTS
34217 00007560 000B                   M           RTS                             ;RTSの後ろの
34218 00007562 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34219                             341 I1  
34220                             342 I1  
34221                             343 I1  
34222                             344 I1  ;       *******************************************
34223                             345 I1  ;       ***                                     ***
34224                             346 I1  ;       ***     設定データを0.001mmにする       ***
34225                             347 I1  ;       ***                                     ***
34226                             348 I1  ;       *******************************************
34227                                 I1  ***** BEGIN-POOL *****
34228 00007564 00000000               I1  DATA FOR SOURCE-LINE 325
34229 00007568 00000000               I1  DATA FOR SOURCE-LINE 332
34230                                 I1  ***** END-POOL *****
34231 0000756C                    349 I1  _POSITIONER_DAI_DATA
34232                             350 I1          SUB_START
34233 0000756C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34234                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34235                             351 I1  
34236 0000756E D118               352 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34237 00007570 6011               353 I1          MOV.W   @R1,R0                          ;
34238 00007572 D118               354 I1          MOV.L   #_SET1_ATDAT_DOTPOS,R1          ;//小数点
34239 00007574 2101               355 I1          MOV.W   R0,@R1                          ;
34240                             356 I1  
34241 00007576 9327               357 I1          MOV.W   #D'1,R3                         ;LATE
34242 00007578 8803               358 I1          CMP/EQ  #3,R0
34243 0000757A 8906               359 I1          BT      POSITIONER_DAIDAT_100           ;小数点3桁
34244                             360 I1  
34245 0000757C 9325               361 I1          MOV.W   #D'10,R3                        ;
34246 0000757E 8802               362 I1          CMP/EQ  #2,R0
34247 00007580 8903               363 I1          BT      POSITIONER_DAIDAT_100           ;小数点2桁
34248                             364 I1  
34249 00007582 9323               365 I1          MOV.W   #D'100,R3                       ;
34250 00007584 8801               366 I1          CMP/EQ  #1,R0
34251 00007586 8900               367 I1          BT      POSITIONER_DAIDAT_100           ;小数点1桁
34252                             368 I1  
34253 00007588 9321               369 I1          MOV.W   #D'1000,R3                      ;小数点無し
34254                             370 I1  
34255 0000758A                    371 I1  POSITIONER_DAIDAT_100                           ;
34256                             372 I1  
34257                             373 I1  
34258 0000758A D113               374 I1          MOV.L   #_SVP_ATSLID_DNOBJ1,R1          ; スライド自動調節　下降停止 0~99
34259 0000758C 6211               375 I1          MOV.W   @R1,R2                          ;
34260 0000758E 332D               376 I1          DMULS.L R2,R3                           ;
34261 00007590 021A               377 I1          STS.L   MACL,R2                         ;
34262 00007592 D112               378 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
34263 00007594 2122               379 I1          MOV.L   R2,@R1                          ;0.001mm
34264                             380 I1  
34265 00007596 D112               381 I1          MOV.L   #_SVP_ATSLID_UPOBJ1,R1          ; スライド自動調節　上昇停止 "
34266 00007598 6211               382 I1          MOV.W   @R1,R2                          ;
34267 0000759A 332D               383 I1          DMULS.L R2,R3                           ;
34268 0000759C 021A               384 I1          STS.L   MACL,R2                         ;
34269 0000759E D111               385 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 "
34270 000075A0 2122               386 I1          MOV.L   R2,@R1                          ;0.001mm
34271                             387 I1  
34272 000075A2 D111               388 I1          MOV.L   #_SVP_ATSLID_BAKLNG,R1          ; スライド自動調節　戻り量   "
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   505
PROGRAM NAME =

34273 000075A4 6211               389 I1          MOV.W   @R1,R2                          ;
34274 000075A6 332D               390 I1          DMULS.L R2,R3                           ;
34275 000075A8 021A               391 I1          STS.L   MACL,R2                         ;
34276 000075AA D110               392 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34277 000075AC 2122               393 I1          MOV.L   R2,@R1                          ;0.001mm
34278                             394 I1  
34279 000075AE D110               395 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34280 000075B0 6211               396 I1          MOV.W   @R1,R2                          ;
34281 000075B2 332D               397 I1          DMULS.L R2,R3                           ;
34282 000075B4 021A               398 I1          STS.L   MACL,R2                         ;
34283 000075B6 D10F               399 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34284 000075B8 2122               400 I1          MOV.L   R2,@R1                          ;0.001mm
34285                             401 I1  
34286                             402 I1  
34287 000075BA D10F               403 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1            ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
34288 000075BC 6212               404 I1          MOV.L   @R1,R2                          ;0.001mm
34289 000075BE D10F               405 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置0.001mm
34290 000075C0 2122               406 I1          MOV.L   R2,@R1                          ;
34291                             407 I1  
34292                             408 I1  
34293                             409 I1          SUB_END
34294                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34295 000075C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34296                             410 I1          M_RTS
34297 000075C4 000B                   M           RTS                             ;RTSの後ろの
34298 000075C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34299                             411 I1  
34300                             412 I1  ;       *******************************************
34301                             413 I1  ;       ***                                     ***
34302                             414 I1  ;       ***             戻り位置比較            ***
34303                             415 I1  ;       ***                                     ***
34304                             416 I1  ;       *******************************************
34305                                 I1  ***** BEGIN-POOL *****
34306 000075C8 0001                   I1  DATA FOR SOURCE-LINE 357
34307 000075CA 000A                   I1  DATA FOR SOURCE-LINE 361
34308 000075CC 0064                   I1  DATA FOR SOURCE-LINE 365
34309 000075CE 03E8                   I1  DATA FOR SOURCE-LINE 369
34310 000075D0 00000000               I1  DATA FOR SOURCE-LINE 352
34311 000075D4 00000000               I1  DATA FOR SOURCE-LINE 354
34312 000075D8 00000000               I1  DATA FOR SOURCE-LINE 374
34313 000075DC 00000000               I1  DATA FOR SOURCE-LINE 378
34314 000075E0 00000000               I1  DATA FOR SOURCE-LINE 381
34315 000075E4 00000000               I1  DATA FOR SOURCE-LINE 385
34316 000075E8 00000000               I1  DATA FOR SOURCE-LINE 388
34317 000075EC 00000000               I1  DATA FOR SOURCE-LINE 392
34318 000075F0 00000000               I1  DATA FOR SOURCE-LINE 395
34319 000075F4 00000000               I1  DATA FOR SOURCE-LINE 399
34320 000075F8 00000000               I1  DATA FOR SOURCE-LINE 403
34321 000075FC 00000000               I1  DATA FOR SOURCE-LINE 405
34322                                 I1  ***** END-POOL *****
34323 00007600                    417 I1  _POSITIONER_DAI_OBJ1CMP:
34324                             418 I1          SUB_START
34325 00007600 4F22                   M           STS.L   PR,@-R15                ;[必要]
34326                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34327                             419 I1  
34328                             420 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   506
PROGRAM NAME =

34329 00007602 D106               421 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34330 00007604 6212               422 I1          MOV.L   @R1,R2                          ;
34331                             423 I1  
34332 00007606 D106               424 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34333 00007608 6312               425 I1          MOV.L   @R1,R3                          ;
34334                             426 I1  
34335 0000760A D106               427 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34336 0000760C 6011               428 I1          MOV.W   @R1,R0                          ;
34337 0000760E C840               429 I1          TST     #BIT6,R0                        ;方向
34338                             430 I1          TST_BIT_ON POSITIONER_DAI_OBJ1CP_100    ;
34339 00007610 8B0A                   M           BF      POSITIONER_DAI_OBJ1CP_100
34340                             431 I1  
34341                             432 I1  ;       上昇
34342 00007612 3233               433 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34343 00007614 8912               434 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34344                             435 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATUP     ;
34345 00007616 A00B                   M           BRA     POSITIONER_DAI_OBJ1CP_WATUP
34346 00007618 0009                   M           NOP
34347                             436 I1  
34348                                 I1  ***** BEGIN-POOL *****
34349 0000761A 0000                   I1  ALIGNMENT CODE
34350 0000761C 00000000               I1  DATA FOR SOURCE-LINE 421
34351 00007620 00000000               I1  DATA FOR SOURCE-LINE 424
34352 00007624 00000000               I1  DATA FOR SOURCE-LINE 427
34353                                 I1  ***** END-POOL *****
34354 00007628                    437 I1  POSITIONER_DAI_OBJ1CP_100:
34355                             438 I1  
34356                             439 I1  ;       下降
34357 00007628 3323               440 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
34358 0000762A 8907               441 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34359                             442 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATDN     ;
34360 0000762C A003                   M           BRA     POSITIONER_DAI_OBJ1CP_WATDN
34361 0000762E 0009                   M           NOP
34362                             443 I1  
34363                             444 I1  
34364                             445 I1  
34365 00007630                    446 I1  POSITIONER_DAI_OBJ1CP_WATUP:
34366 00007630 E001               447 I1          MOV.B   #1,R0
34367                             448 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34368 00007632 A004                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34369 00007634 0009                   M           NOP
34370                             449 I1  
34371 00007636                    450 I1  POSITIONER_DAI_OBJ1CP_WATDN:
34372 00007636 E0FF               451 I1          MOV.B   #-1,R0
34373                             452 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34374 00007638 A001                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34375 0000763A 0009                   M           NOP
34376                             453 I1  
34377 0000763C                    454 I1  POSITIONER_DAI_OBJ1CP_OVR:
34378 0000763C 200A               455 I1          XOR     R0,R0                           ;
34379 0000763E                    456 I1  POSITIONER_DAI_OBJ1CP_END:
34380                             457 I1  
34381                             458 I1          SUB_END
34382                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34383 0000763E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34384                             459 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   507
PROGRAM NAME =

34385 00007640 000B                   M           RTS                             ;RTSの後ろの
34386 00007642 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34387                             460 I1  
34388                             461 I1  
34389                             462 I1  ;       *******************************************
34390                             463 I1  ;       ***                                     ***
34391                             464 I1  ;       ***             指令OFF位置比較         ***
34392                             465 I1  ;       ***                                     ***
34393                             466 I1  ;       *******************************************
34394 00007644                    467 I1  _POSITIONER_DAI_OBJ2CMP:
34395                             468 I1          SUB_START
34396 00007644 4F22                   M           STS.L   PR,@-R15                ;[必要]
34397                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34398                             469 I1  
34399                             470 I1  
34400 00007646 D106               471 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34401 00007648 6212               472 I1          MOV.L   @R1,R2                          ;
34402                             473 I1  
34403 0000764A D106               474 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+ｵｰﾊ量-下降量
34404 0000764C 6312               475 I1          MOV.L   @R1,R3                          ;
34405                             476 I1  
34406 0000764E D106               477 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34407 00007650 6011               478 I1          MOV.W   @R1,R0                          ;
34408 00007652 C840               479 I1          TST     #BIT6,R0                        ;方向
34409                             480 I1          TST_BIT_ON POSITIONER_DAI_OBJ2CP_100    ;
34410 00007654 8B0A                   M           BF      POSITIONER_DAI_OBJ2CP_100
34411                             481 I1  
34412                             482 I1  ;       上昇から開始の下降中
34413 00007656 3323               483 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
34414 00007658 8912               484 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34415                             485 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATDN     ;
34416 0000765A A00E                   M           BRA     POSITIONER_DAI_OBJ2CP_WATDN
34417 0000765C 0009                   M           NOP
34418                             486 I1  
34419                                 I1  ***** BEGIN-POOL *****
34420 0000765E 0000                   I1  ALIGNMENT CODE
34421 00007660 00000000               I1  DATA FOR SOURCE-LINE 471
34422 00007664 00000000               I1  DATA FOR SOURCE-LINE 474
34423 00007668 00000000               I1  DATA FOR SOURCE-LINE 477
34424                                 I1  ***** END-POOL *****
34425 0000766C                    487 I1  POSITIONER_DAI_OBJ2CP_100:
34426                             488 I1  
34427                             489 I1  ;       下降から開始の上昇中
34428 0000766C 3233               490 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34429 0000766E 8907               491 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34430                             492 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATUP     ;
34431 00007670 A000                   M           BRA     POSITIONER_DAI_OBJ2CP_WATUP
34432 00007672 0009                   M           NOP
34433                             493 I1  
34434                             494 I1  
34435                             495 I1  
34436 00007674                    496 I1  POSITIONER_DAI_OBJ2CP_WATUP:
34437 00007674 E001               497 I1          MOV.B   #1,R0
34438                             498 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34439 00007676 A004                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34440 00007678 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   508
PROGRAM NAME =

34441 0000767A                    499 I1  POSITIONER_DAI_OBJ2CP_WATDN:
34442 0000767A E0FF               500 I1          MOV.B   #-1,R0                          ;
34443                             501 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34444 0000767C A001                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34445 0000767E 0009                   M           NOP
34446                             502 I1  
34447 00007680                    503 I1  POSITIONER_DAI_OBJ2CP_STP:
34448 00007680 200A               504 I1          XOR     R0,R0
34449 00007682                    505 I1  POSITIONER_DAI_OBJ2CP_END:
34450                             506 I1  
34451                             507 I1          SUB_END
34452                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34453 00007682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34454                             508 I1          M_RTS
34455 00007684 000B                   M           RTS                             ;RTSの後ろの
34456 00007686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34457                             509 I1  
34458                             510 I1  
34459                             511 I1  
34460 00007688                    512 I1  _POSITIONER_DAI_OUT:
34461                             513 I1          SUB_START
34462 00007688 4F22                   M           STS.L   PR,@-R15                ;[必要]
34463                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34464                             514 I1  
34465 0000768A 222A               515 I1          XOR     R2,R2           ;停止
34466                             516 I1  
34467 0000768C 2008               517 I1          TST     R0,R0
34468                             518 I1          TST_BIT_OF POSITIONER_DAIOUT_100
34469 0000768E 8903                   M           BT      POSITIONER_DAIOUT_100
34470                             519 I1  
34471 00007690 E208               520 I1          MOV.B   #BIT3,R2
34472 00007692 8801               521 I1          CMP/EQ  #1,R0
34473 00007694 8900               522 I1          BT      POSITIONER_DAIOUT_100
34474                             523 I1  
34475 00007696 E210               524 I1          MOV.B   #BIT4,R2
34476                             525 I1  
34477 00007698                    526 I1  POSITIONER_DAIOUT_100:
34478 00007698 D103               527 I1          MOV.L   #_POSINER_STS,R1
34479 0000769A 6011               528 I1          MOV.W   @R1,R0
34480 0000769C C9E7               529 I1          AND     #LOW ~(BIT4+BIT3),R0
34481 0000769E 202B               530 I1          OR      R2,R0
34482 000076A0 2101               531 I1          MOV.W   R0,@R1                  ;
34483                             532 I1  
34484                             533 I1          SUB_END
34485                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34486 000076A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34487                             534 I1          M_RTS
34488 000076A4 000B                   M           RTS                             ;RTSの後ろの
34489 000076A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34490                             535 I1  
34491                             536 I1  ;       *******************************************
34492                             537 I1  ;       ***                                     ***
34493                             538 I1  ;       ***             停止待ち                ***
34494                             539 I1  ;       ***                                     ***
34495                             540 I1  ;       *******************************************
34496                             541 I1  ;       基本は１秒間動作しなくなって、インポジ内にいるか
34497                             542 I1  ;       R0=0(動作中) R0=1(停止　ｲﾝﾎﾟｼﾞOK) R0=-1(停止,ｲﾝﾎﾟｼﾞ異常)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   509
PROGRAM NAME =

34498                             543 I1  ;       ・動作方向の位置が１秒間更新されなかったとき
34499                             544 I1  ;               MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
34500                             545 I1  ;       ・0.01mmの移動が1秒間無い
34501                                 I1  ***** BEGIN-POOL *****
34502 000076A8 00000000               I1  DATA FOR SOURCE-LINE 527
34503                                 I1  ***** END-POOL *****
34504 000076AC                    546 I1  _POSITIONER_DAI_STPCHK:
34505                             547 I1          SUB_START
34506 000076AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
34507                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34508                             548 I1  
34509 000076AE D106               549 I1          MOV.L   #_POSINER_PV_POS,R1     ;
34510 000076B0 6212               550 I1          MOV.L   @R1,R2                  ;
34511                             551 I1  
34512 000076B2 D506               552 I1          MOV.L   #_POSINER_MOSTPV_POS,R5 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
34513 000076B4 6452               553 I1          MOV.L   @R5,R4                          ;
34514                             554 I1  
34515 000076B6 D106               555 I1          MOV.L   #_POSINER_STS,R1                ;
34516 000076B8 6011               556 I1          MOV.W   @R1,R0                          ;
34517 000076BA C840               557 I1          TST     #BIT6,R0                        ;方向 0:下降(減少)で終了
34518                             558 I1          TST_BIT_ON POSITIONER_DAI_STPCK100      ;
34519 000076BC 8B0A                   M           BF      POSITIONER_DAI_STPCK100
34520                             559 I1  
34521 000076BE 3243               560 I1          CMP/GE  R4,R2                           ;最下位置(R4)=<現在位置(R2)
34522 000076C0 8910               561 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34523                             562 I1          M_BRA   POSITIONER_DAI_STPCK150         ;移動した
34524 000076C2 A009                   M           BRA     POSITIONER_DAI_STPCK150
34525 000076C4 0009                   M           NOP
34526                             563 I1  
34527                             564 I1  
34528                                 I1  ***** BEGIN-POOL *****
34529 000076C6 0000                   I1  ALIGNMENT CODE
34530 000076C8 00000000               I1  DATA FOR SOURCE-LINE 549
34531 000076CC 00000000               I1  DATA FOR SOURCE-LINE 552
34532 000076D0 00000000               I1  DATA FOR SOURCE-LINE 555
34533                                 I1  ***** END-POOL *****
34534 000076D4                    565 I1  POSITIONER_DAI_STPCK100:
34535 000076D4 3423               566 I1          CMP/GE  R2,R4                           ;現在位置(R2)=<最上位置(R4)
34536 000076D6 8905               567 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34537 000076D8                    568 I1  POSITIONER_DAI_STPCK150:                        ;
34538                             569 I1  
34539 000076D8 2522               570 I1          MOV.L   R2,@R5                          ;最下位置(最上位置)更新:動いた
34540                             571 I1  
34541 000076DA 900F               572 I1          MOV.W   #D'1000,R0
34542 000076DC D108               573 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1       ;
34543 000076DE 2101               574 I1          MOV.W   R0,@R1
34544 000076E0 D108               575 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34545 000076E2 2101               576 I1          MOV.W   R0,@R1
34546                             577 I1  
34547                             578 I1  
34548 000076E4                    579 I1  POSITIONER_DAI_STPCK200:
34549 000076E4 D406               580 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R4
34550 000076E6 6041               581 I1          MOV.W   @R4,R0
34551 000076E8 2008               582 I1          TST     R0,R0
34552                             583 I1          TST_BIT_OF POSITIONER_DAI_STPCK250              ;
34553 000076EA 890F                   M           BT      POSITIONER_DAI_STPCK250
34554 000076EC 70FF               584 I1          ADD     #-1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   510
PROGRAM NAME =

34555 000076EE 2401               585 I1          MOV.W   R0,@R4                                  ;
34556 000076F0 2008               586 I1          TST     R0,R0                                   ;
34557                             587 I1          TST_BIT_ON POSITIONER_DAI_STPCK230
34558 000076F2 8B01                   M           BF      POSITIONER_DAI_STPCK230
34559 000076F4 D104               588 I1          MOV.L   #_POSINER_OLDPV_POS,R1                  ;
34560 000076F6 2122               589 I1          MOV.L   R2,@R1                                  ;R2(NOW),R3(OLD)
34561 000076F8                    590 I1  POSITIONER_DAI_STPCK230:
34562                             591 I1          M_BRA   POSITIONER_DAI_STPCKWAT                 ;
34563 000076F8 A03A                   M           BRA     POSITIONER_DAI_STPCKWAT
34564 000076FA 0009                   M           NOP
34565                             592 I1  
34566                             593 I1  
34567                                 I1  ***** BEGIN-POOL *****
34568 000076FC 03E8                   I1  DATA FOR SOURCE-LINE 572
34569 000076FE 0000                   I1  ALIGNMENT CODE
34570 00007700 00000000               I1  DATA FOR SOURCE-LINE 573,580
34571 00007704 00000000               I1  DATA FOR SOURCE-LINE 575
34572 00007708 00000000               I1  DATA FOR SOURCE-LINE 588
34573                                 I1  ***** END-POOL *****
34574 0000770C                    594 I1  POSITIONER_DAI_STPCK250:
34575                             595 I1  ;       ---FIRSTﾀｲﾏOK---
34576 0000770C D513               596 I1          MOV.L   #_POSINER_OLDPV_POS,R5
34577 0000770E 6352               597 I1          MOV.L   @R5,R3                  ;R2(NOW),R3(OLD)
34578 00007710 3328               598 I1          SUB     R2,R3                   ;
34579 00007712 4311               599 I1          CMP/PZ  R3                      ;
34580 00007714 8900               600 I1          BT      POSITIONER_DAI_STPCK280 ;
34581 00007716 633B               601 I1          NEG     R3,R3                   ;
34582 00007718                    602 I1  POSITIONER_DAI_STPCK280:                ;
34583 00007718 901D               603 I1          MOV.W   #D'10,R0
34584 0000771A 3036               604 I1          CMP/HI  R3,R0                   ;R3<R0(10 0.01mm)
34585 0000771C 8903               605 I1          BT      POSITIONER_DAI_STPCK300 ;
34586                             606 I1  
34587                             607 I1  ;       ------------- 0.01mm動いた------------
34588 0000771E 2522               608 I1          MOV.L   R2,@R5                          ;前回位置更新
34589 00007720 901A               609 I1          MOV.W   #D'1000,R0                      ;
34590 00007722 D10F               610 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34591 00007724 2101               611 I1          MOV.W   R0,@R1                          ;
34592                             612 I1  
34593 00007726                    613 I1  POSITIONER_DAI_STPCK300:                        ;
34594                             614 I1  
34595                             615 I1  
34596                             616 I1          DN_TIME LG=W,MEM_ADR=_POSINER_STOPCHK_TIM2,WKREG1=R1,WKREG2=R4  ;10msec 定周期
34597 00007726 D10E                   M           MOV.L   #_POSINER_STOPCHK_TIM2,R1               ;SORCE ADRESS SET
34598 00007728 6411                   M           MOV.W   @R1,R4          ;
34599 0000772A 2448                   M           TST     R4,R4                   ;
34600 0000772C 8901                   M           BT      JMP_0100026                     ;ZERO THEN JUMP
34601 0000772E 4410                   M           DT      R4                              ;
34602 00007730 2141                   M           MOV.W   R4,@R1          ;STORE
34603 00007732                        M   JMP_0100026:
34604                             617 I1  
34605 00007732 D40B               618 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R4
34606 00007734 6041               619 I1          MOV.W   @R4,R0
34607 00007736 2008               620 I1          TST     R0,R0
34608                             621 I1          TST_BIT_ON POSITIONER_DAI_STPCKWAT              ;
34609 00007738 8B1A                   M           BF      POSITIONER_DAI_STPCKWAT
34610                             622 I1  
34611                             623 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   511
PROGRAM NAME =

34612                             624 I1  ;       停止終了,ｲﾝﾎﾟｼﾞｼｮﾝ
34613 0000773A D10A               625 I1          MOV.L   #_POSINER_PV_POS,R1             ;
34614 0000773C 6212               626 I1          MOV.L   @R1,R2                          ;
34615 0000773E D10A               627 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34616 00007740 6312               628 I1          MOV.L   @R1,R3                          ;
34617 00007742 3328               629 I1          SUB     R2,R3                           ;
34618 00007744 4311               630 I1          CMP/PZ  R3
34619 00007746 8900               631 I1          BT      POSITIONER_DAI_STPCK320         ;
34620 00007748 633B               632 I1          NEG     R3,R3
34621 0000774A                    633 I1  POSITIONER_DAI_STPCK320:                        ;
34622                             634 I1  
34623 0000774A D108               635 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34624 0000774C 6012               636 I1          MOV.L   @R1,R0                          ;0.001mm
34625 0000774E 3033               637 I1          CMP/GE  R3,R0                           ;
34626 00007750 8914               638 I1          BT      POSITIONER_DAI_STPCKINP         ;ｲﾝﾎﾟｼﾞｼｮﾝ
34627                             639 I1          M_BRA   POSITIONER_DAI_STPCKERR         ;
34628 00007752 A010                   M           BRA     POSITIONER_DAI_STPCKERR
34629 00007754 0009                   M           NOP
34630                             640 I1  
34631                             641 I1  
34632                                 I1  ***** BEGIN-POOL *****
34633 00007756 000A                   I1  DATA FOR SOURCE-LINE 603
34634 00007758 03E8                   I1  DATA FOR SOURCE-LINE 609
34635 0000775A 0000                   I1  ALIGNMENT CODE
34636 0000775C 00000000               I1  DATA FOR SOURCE-LINE 596
34637 00007760 00000000               I1  DATA FOR SOURCE-LINE 610,616,618
34638 00007764 00000000               I1  DATA FOR SOURCE-LINE 625
34639 00007768 00000000               I1  DATA FOR SOURCE-LINE 627
34640 0000776C 00000000               I1  DATA FOR SOURCE-LINE 635
34641                                 I1  ***** END-POOL *****
34642 00007770                    642 I1  POSITIONER_DAI_STPCKWAT:
34643 00007770 200A               643 I1          XOR     R0,R0
34644                             644 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34645 00007772 A004                   M           BRA     POSITIONER_DAI_STPCKEND
34646 00007774 0009                   M           NOP
34647                             645 I1  
34648 00007776                    646 I1  POSITIONER_DAI_STPCKERR:                        ;
34649 00007776 E0FF               647 I1          MOV.B   #-1,R0                          ;
34650                             648 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34651 00007778 A001                   M           BRA     POSITIONER_DAI_STPCKEND
34652 0000777A 0009                   M           NOP
34653                             649 I1  
34654 0000777C                    650 I1  POSITIONER_DAI_STPCKINP:                        ;
34655 0000777C E001               651 I1          MOV.B   #1,R0                           ;
34656                             652 I1  
34657 0000777E                    653 I1  POSITIONER_DAI_STPCKEND:
34658                             654 I1  
34659                             655 I1          SUB_END
34660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34661 0000777E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34662                             656 I1          M_RTS
34663 00007780 000B                   M           RTS                             ;RTSの後ろの
34664 00007782 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34665                             657 I1  
34666                             658 I1  
34667                             659 I1  ;       ***************************************
34668                             660 I1  ;       ***                                                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   512
PROGRAM NAME =

34669                             661 I1  ;       ***             2021-06-24(2019-11-11)          ***
34670                             662 I1  ;       ***                                                                     ***
34671                             663 I1  ;       ***************************************
34672                             664 I1  
34673                             665 I1          .MACRO  AREA_CHK_BITSET  UP_REG,DN_REG,PV_REG,ANS_REG,BITn,WKREG
34674                             666 I1          CMP/GE  \DN_REG,\PV_REG
                                                  ;PV >= MIN
34675                             667 I1          BF      JMPED\@                                                         ;"T=0"
34676                             668 I1          CMP/GE  \PV_REG,\UP_REG                                 ;
34677                             669 I1          BF      JMPED\@                                                         ;
34678                             670 I1          MOV.W   #\BITn,\WKREG                                   ;
34679                             671 I1          OR              \WKREG,\ANS_REG                                 ;
34680                             672 I1  
34681                             673 I1  JMPED\@:                                                                        ;
34682                             674 I1          .ENDM
34683                             675 I1  
34684                             676 I1          .IMPORT         _SVP_SLID_POS1                  ;ｽﾗｲﾄﾞ位置　生産
34685                             677 I1          .IMPORT         _SVP_SLID_POS2                  ;ｽﾗｲﾄﾞ位置　段取1
34686                             678 I1          .IMPORT         _SVP_SLID_POS3                  ;ｽﾗｲﾄﾞ位置　段取2
34687                             679 I1  
34688 00007784                    680 I1  _POSITINER_POS_CMP
34689                             681 I1          SUB_START
34690 00007784 4F22                   M           STS.L   PR,@-R15                ;[必要]
34691                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34692                             682 I1  
34693 00007786 D127               683 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34694 00007788 6011               684 I1          MOV.W   @R1,R0                                  ;
34695 0000778A 9341               685 I1          MOV.W   #D'1,R3                                 ;LATE
34696 0000778C 8803               686 I1          CMP/EQ  #3,R0
34697 0000778E 8906               687 I1          BT      POSITINER_POSCMP_100            ;小数点3桁
34698 00007790 933F               688 I1          MOV.W   #D'10,R3                                ;
34699 00007792 8802               689 I1          CMP/EQ  #2,R0                                   ;
34700 00007794 8903               690 I1          BT      POSITINER_POSCMP_100            ;小数点2桁
34701 00007796 933D               691 I1          MOV.W   #D'100,R3                               ;
34702 00007798 8801               692 I1          CMP/EQ  #1,R0                                   ;
34703 0000779A 8900               693 I1          BT      POSITINER_POSCMP_100            ;小数点1桁
34704 0000779C 933B               694 I1          MOV.W   #D'1000,R3                              ;小数点無し
34705 0000779E                    695 I1  POSITINER_POSCMP_100
34706                             696 I1  
34707                             697 I1  
34708 0000779E D122               698 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34709 000077A0 6211               699 I1          MOV.W   @R1,R2                                          ;
34710 000077A2 332D               700 I1          DMULS.L R2,R3                                           ;
34711 000077A4 021A               701 I1          STS.L   MACL,R2                                         ;
34712 000077A6 D121               702 I1          MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34713 000077A8 2122               703 I1          MOV.L   R2,@R1                                          ;0.001mm
34714                             704 I1  
34715 000077AA 6623               705 I1          MOV             R2,R6                                           ;R6:精度(幅)
34716 000077AC 277A               706 I1          XOR             R7,R7                                           ;ANS
34717                             707 I1  
34718                             708 I1  ;-----------TEST------------
34719 000077AE 9233               709 I1          MOV.W   #D'30000,R2                                     ;30.000
34720                             710 I1  ;;;2021-07-02   MOV.L   #_POSINER_PV_POS,R1                     ;//目標位置
34721                             711 I1  ;;;2021-07-02   MOV.L   @R1,R2                                          ;
34722 000077B0 D11F               712 I1          MOV.L   #_PVX_DAI_POS1,R1                       ;ﾀﾞｲﾊｲﾄ表示値・制御値
34723 000077B2 6212               713 I1          MOV.L   @R1,R2                                          ;SAVE R2 -->NEXT CALC USED
34724                             714 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   513
PROGRAM NAME =

34725                             715 I1  
34726                             716 I1  ;       -------------------------------
34727 000077B4 D11F               717 I1          MOV.L   #_SVP_SLID_POS1,R1                      ;ｽﾗｲﾄﾞ位置　生産 0.001mm
34728 000077B6 6312               718 I1          MOV.L   @R1,R3                                          ;
34729 000077B8 6063               719 I1          MOV             R6,R0
34730 000077BA 303C               720 I1          ADD             R3,R0                                           ;R0 +
34731 000077BC 3368               721 I1          SUB             R6,R3                                           ;R3 -
34732                             722 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT13,WKREG=R4
34733 000077BE 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34734 000077C0 8B03                   M           BF      JMPED00027                                                              ;"
                                          T=0"
34735 000077C2 3023                   M           CMP/GE  R2,R0                                   ;
34736 000077C4 8B01                   M           BF      JMPED00027                                                              ;
34737 000077C6 9428                   M           MOV.W   #BIT13,R4                                       ;
34738 000077C8 274B                   M           OR              R4,R7                                   ;
34739                                 M   
34740 000077CA                        M   JMPED00027:                                                                     ;
34741                             723 I1  
34742                             724 I1  ;       ----------DEBUG --------------
34743                             725 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34744                             726 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34745                             727 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34746                             728 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34747                             729 I1  
34748 000077CA D11B               730 I1          MOV.L   #_SVP_SLID_POS2,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取1
34749 000077CC 6312               731 I1          MOV.L   @R1,R3                                  ;
34750 000077CE 6063               732 I1          MOV             R6,R0
34751 000077D0 303C               733 I1          ADD             R3,R0                                           ;R0 +
34752 000077D2 3368               734 I1          SUB             R6,R3                                           ;R3 -
34753                             735 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT14,WKREG=R4
34754 000077D4 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34755 000077D6 8B03                   M           BF      JMPED00028                                                              ;"
                                          T=0"
34756 000077D8 3023                   M           CMP/GE  R2,R0                                   ;
34757 000077DA 8B01                   M           BF      JMPED00028                                                              ;
34758 000077DC 941E                   M           MOV.W   #BIT14,R4                                       ;
34759 000077DE 274B                   M           OR              R4,R7                                   ;
34760                                 M   
34761 000077E0                        M   JMPED00028:                                                                     ;
34762                             736 I1  
34763                             737 I1  ;       ----------DEBUG --------------
34764                             738 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34765                             739 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34766                             740 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34767                             741 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34768                             742 I1  
34769 000077E0 D116               743 I1          MOV.L   #_SVP_SLID_POS3,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取2
34770 000077E2 6312               744 I1          MOV.L   @R1,R3                                  ;
34771 000077E4 6063               745 I1          MOV             R6,R0
34772 000077E6 303C               746 I1          ADD             R3,R0                                           ;R0 +
34773 000077E8 3368               747 I1          SUB             R6,R3                                           ;R3 -
34774                             748 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT15,WKREG=R4
34775 000077EA 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34776 000077EC 8B03                   M           BF      JMPED00029                                                              ;"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   514
PROGRAM NAME =

                                          T=0"
34777 000077EE 3023                   M           CMP/GE  R2,R0                                   ;
34778 000077F0 8B01                   M           BF      JMPED00029                                                              ;
34779 000077F2 9414                   M           MOV.W   #BIT15,R4                                       ;
34780 000077F4 274B                   M           OR              R4,R7                                   ;
34781                                 M   
34782 000077F6                        M   JMPED00029:                                                                     ;
34783                             749 I1  
34784                             750 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34785                             751 I1  ;;;2021-06-24   MOV.W   R0,@R1                                          ;+data ok
34786                             752 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34787                             753 I1  ;;;2021-06-24   MOV.W   R3,@R1                                          ;-data ok
34788                             754 I1  
34789                             755 I1  
34790 000077F6 6073               756 I1          MOV             R7,R0                                                   ;
34791 000077F8 D111               757 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34792 000077FA 6211               758 I1          MOV.W   @R1,R2                                                  ;
34793 000077FC 9410               759 I1          MOV.W   #(BIT15|BIT14|BIT13),R4         ;
34794 000077FE 2049               760 I1          AND             R4,R0
34795 00007800 6447               761 I1          NOT             R4,R4
34796 00007802 2249               762 I1          AND             R4,R2
34797 00007804 220B               763 I1          OR              R0,R2
34798 00007806 D10E               764 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34799 00007808 2121               765 I1          MOV.W   R2,@R1                                          ;ok
34800                             766 I1  
34801                             767 I1  
34802                             768 I1  ;--------------------------------------
34803                             769 I1  ;;      MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34804                             770 I1  ;;      MOV.L   @R1,R2                                          ;
34805                             771 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34806                             772 I1  ;;      MOV.W   R2,@R1                                          ;
34807                             773 I1  
34808                             774 I1  ;;      MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34809                             775 I1  ;;      MOV.L   @R1,R2                                          ;
34810                             776 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34811                             777 I1  ;;      MOV.W   R2,@R1                                          ;
34812                             778 I1  
34813                             779 I1          SUB_END
34814                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34815 0000780A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34816                             780 I1          M_RTS
34817 0000780C 000B                   M           RTS                             ;RTSの後ろの
34818 0000780E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34819                           11234     
34820                           11235     
34821                           11236     
34822                           11237     
34823                           11238     
34824                           11239     
34825                           11240     
34826                           11241     
34827                           11242     
34828                           11243     
34829                           11244     
34830                           11245     
34831                           11246     
34832                           11247     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   515
PROGRAM NAME =

34833                           11248     
34834                           11249     
34835                           11250     
34836                           11251     
34837                           11252     
34838                           11253     
34839                           11254     
34840                           11255     
34841                           11256     ;       ***************************************************
34842                           11257     ;       ***                                             ***
34843                           11258     ;       ***                                             ***
34844                           11259     ;       ***                                             ***
34845                           11260     ;       ***     行程前に加速・減速処理                  ***
34846                           11261     ;       ***     行程後に加速・減速処理                  ***
34847                           11262     ;       ***     各行程での指定                          ***
34848                           11263     ;       ***     2016-04-18                              ***
34849                           11264     ;       ***                                             ***
34850                           11265     ;       ***                                             ***
34851                           11266     ;       ***                                             ***
34852                           11267     ;       ***************************************************
34853                           11268             .EXPORT _ACC_MATHED_SEL_MAIN                    ;ﾒｲﾝｽｷｬﾝ有効/無効程度
34854                           11269             .EXPORT _API_ACC_MATHED_COM_DRV_START1          ;
34855                           11270             .EXPORT _API_ACC_MATHED_COM_DRV_STOP            ;
34856                           11271             .EXPORT _ACC_MATHED_SEL_CTRL                    ;1MS(制御ﾒｲﾝ):
34857                           11272                                                             ;_PLS_LSI_CTRLの中でPOSCTL_SET_SPD
34858                           11273                                                             ;(ｵｰﾊﾞﾗｲﾄﾞ前の設定ﾚﾍﾞﾙの変換演算)
34859                           11274             .EXPORT _ACCSEL_CHGSPD_LIMIT_INFO_LOAD          ;
34860                           11275     
34861                           11276             .INCLUDE        "ssa_accupdn_sel.inc"           ;
34862                               1 I1  ;       ***************************************************
34863                               2 I1  ;       ***                                             ***
34864                               3 I1  ;       ***                                             ***
34865                               4 I1  ;       ***                                             ***
34866                               5 I1  ;       ***     行程前に加速・減速処理                  ***
34867                               6 I1  ;       ***     行程後に加速・減速処理                  ***
34868                               7 I1  ;       ***     各行程での指定                          ***
34869                               8 I1  ;       ***     2016-04-18                              ***
34870                               9 I1  ;       ***                                             ***
34871                              10 I1  ;       ***                                             ***
34872                              11 I1  ;       ***                                             ***
34873                              12 I1  ;       ***************************************************
34874                              13 I1          .IMPORT         _PAR_ACCDN_MATH         ;5 2015-11-18 加減速　減速優先[CE2]
34875                              14 I1  ;       *******************************************
34876                              15 I1  ;       ***                                     ***
34877                              16 I1  ;       ***     バックグランドでCALL            ***
34878                              17 I1  ;       ***     条件作成                        ***
34879                              18 I1  ;       ***                                     ***
34880                              19 I1  ;       *******************************************
34881                                 I1  ***** BEGIN-POOL *****
34882 00007810 0001                   I1  DATA FOR SOURCE-LINE 685
34883 00007812 000A                   I1  DATA FOR SOURCE-LINE 688
34884 00007814 0064                   I1  DATA FOR SOURCE-LINE 691
34885 00007816 03E8                   I1  DATA FOR SOURCE-LINE 694
34886 00007818 7530                   I1  DATA FOR SOURCE-LINE 709
34887 0000781A 2000                   I1  DATA FOR SOURCE-LINE 722
34888 0000781C 4000                   I1  DATA FOR SOURCE-LINE 735
34889 0000781E 8000                   I1  DATA FOR SOURCE-LINE 748
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   516
PROGRAM NAME =

34890 00007820 E000                   I1  DATA FOR SOURCE-LINE 759
34891 00007822 0000                   I1  ALIGNMENT CODE
34892 00007824 00000000               I1  DATA FOR SOURCE-LINE 683
34893 00007828 00000000               I1  DATA FOR SOURCE-LINE 698
34894 0000782C 00000000               I1  DATA FOR SOURCE-LINE 702
34895 00007830 00000000               I1  DATA FOR SOURCE-LINE 712
34896 00007834 00000000               I1  DATA FOR SOURCE-LINE 717
34897 00007838 00000000               I1  DATA FOR SOURCE-LINE 730
34898 0000783C 00000000               I1  DATA FOR SOURCE-LINE 743
34899 00007840 00000000               I1  DATA FOR SOURCE-LINE 757,764
34900                                 I1  ***** END-POOL *****
34901 00007844                     20 I1  _ACC_MATHED_SEL_MAIN
34902                              21 I1          SUB_START
34903 00007844 4F22                   M           STS.L   PR,@-R15                ;[必要]
34904                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34905 00007846 D104                22 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34906 00007848 6011                23 I1          MOV.W   @R1,R0                          ;
34907 0000784A 8801                24 I1          CMP/EQ  #1,R0                           ;
34908 0000784C 8B08                25 I1          BF      ACC_MATHED_SEL_MN_100           ;
34909                              26 I1  
34910                              27 I1  ;       -----   低速優先        -----
34911                              28 I1          FAR_JSR #_ACCLW_DATA_MAIN,R0            ;[1だ]
34912 0000784E D003                   M           MOV.L   #_ACCLW_DATA_MAIN,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34913 00007850 400B                   M           JSR     @R0                     ;
34914 00007852 0009                   M           NOP                                     ;
34915                              29 I1          M_BRA   ACC_MATHED_SEL_MN_END           ;
34916 00007854 A009                   M           BRA     ACC_MATHED_SEL_MN_END
34917 00007856 0009                   M           NOP
34918                              30 I1  
34919                              31 I1  
34920                                 I1  ***** BEGIN-POOL *****
34921 00007858 00000000               I1  DATA FOR SOURCE-LINE 22
34922 0000785C 00000000               I1  DATA FOR SOURCE-LINE 28
34923                                 I1  ***** END-POOL *****
34924 00007860                     32 I1  ACC_MATHED_SEL_MN_100                           ;
34925 00007860 8802                33 I1          CMP/EQ  #2,R0                           ;
34926 00007862 8B02                34 I1          BF      ACC_MATHED_SEL_MN_END           ;
34927                              35 I1  
34928                              36 I1  ;       -----   各段指定        -----
34929                              37 I1          FAR_JSR #_ACCST_DATA_MAIN,R0            ;[2だ]
34930 00007864 D002                   M           MOV.L   #_ACCST_DATA_MAIN,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34931 00007866 400B                   M           JSR     @R0                     ;
34932 00007868 0009                   M           NOP                                     ;
34933                              38 I1  
34934                              39 I1  
34935 0000786A                     40 I1  ACC_MATHED_SEL_MN_END                           ;
34936                              41 I1  
34937                              42 I1  
34938                              43 I1          SUB_END
34939                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34940 0000786A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34941                              44 I1          M_RTS
34942 0000786C 000B                   M           RTS                             ;RTSの後ろの
34943 0000786E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34944                              45 I1  
34945                              46 I1  
34946                              47 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   517
PROGRAM NAME =

34947                              48 I1  ;       ***************************************************
34948                              49 I1  ;       ***                                             ***
34949                              50 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
34950                              51 I1  ;       ***                                             ***
34951                              52 I1  ;       ***************************************************
34952                                 I1  ***** BEGIN-POOL *****
34953 00007870 00000000               I1  DATA FOR SOURCE-LINE 37
34954                                 I1  ***** END-POOL *****
34955 00007874                     53 I1  _API_ACC_MATHED_COM_DRV_START1
34956                              54 I1          SUB_START
34957 00007874 4F22                   M           STS.L   PR,@-R15                ;[必要]
34958                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34959                              55 I1  
34960 00007876 D104                56 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34961 00007878 6011                57 I1          MOV.W   @R1,R0                          ;
34962 0000787A 8801                58 I1          CMP/EQ  #1,R0                           ;
34963 0000787C 8B08                59 I1          BF      ACC_MATHED_COM_DRVST1_100       ;
34964                              60 I1  
34965                              61 I1  ;       -----   低速優先        -----
34966                              62 I1          FAR_JSR #_API_ACCLW_DRV_START1,R0       ;
34967 0000787E D003                   M           MOV.L   #_API_ACCLW_DRV_START1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34968 00007880 400B                   M           JSR     @R0                     ;
34969 00007882 0009                   M           NOP                                     ;
34970                              63 I1  
34971                              64 I1          M_BRA   ACC_MATHED_COM_DRVST1_END       ;
34972 00007884 A009                   M           BRA     ACC_MATHED_COM_DRVST1_END
34973 00007886 0009                   M           NOP
34974                              65 I1  
34975                              66 I1  
34976                                 I1  ***** BEGIN-POOL *****
34977 00007888 00000000               I1  DATA FOR SOURCE-LINE 56
34978 0000788C 00000000               I1  DATA FOR SOURCE-LINE 62
34979                                 I1  ***** END-POOL *****
34980 00007890                     67 I1  ACC_MATHED_COM_DRVST1_100                       ;
34981 00007890 8802                68 I1          CMP/EQ  #2,R0                           ;
34982 00007892 8B02                69 I1          BF      ACC_MATHED_COM_DRVST1_END       ;
34983                              70 I1  
34984                              71 I1  ;       -----   各段指定        -----
34985                              72 I1          FAR_JSR #_API_ACCST_DRV_START1,R0       ;
34986 00007894 D002                   M           MOV.L   #_API_ACCST_DRV_START1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34987 00007896 400B                   M           JSR     @R0                     ;
34988 00007898 0009                   M           NOP                                     ;
34989                              73 I1  
34990 0000789A                     74 I1  ACC_MATHED_COM_DRVST1_END:      ;
34991                              75 I1  
34992                              76 I1          SUB_END
34993                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34994 0000789A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34995                              77 I1          M_RTS
34996 0000789C 000B                   M           RTS                             ;RTSの後ろの
34997 0000789E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34998                              78 I1  
34999                              79 I1  
35000                              80 I1  
35001                              81 I1  
35002                              82 I1  
35003                              83 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   518
PROGRAM NAME =

35004                              84 I1  ;       ***                                     ***
35005                              85 I1  ;       ***     位置決め中断時CALL              ***
35006                              86 I1  ;       ***     位置決め停止タイマ時CALL        ***
35007                              87 I1  ;       ***     異常時CALL                      ***
35008                              88 I1  ;       ***                                     ***
35009                              89 I1  ;       *******************************************
35010                              90 I1  ;//BIT0:起動[API]
35011                              91 I1  ;//BIT6:[減速開始]
35012                              92 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
35013                              93 I1  ;//
35014                              94 I1  
35015                                 I1  ***** BEGIN-POOL *****
35016 000078A0 00000000               I1  DATA FOR SOURCE-LINE 72
35017                                 I1  ***** END-POOL *****
35018 000078A4                     95 I1  _API_ACC_MATHED_COM_DRV_STOP
35019                              96 I1          SUB_START
35020 000078A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
35021                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35022                              97 I1  ;       (ここは判断がなくてもいいでしょう)
35023                              98 I1  
35024                              99 I1  ;       -----   低速優先        -----
35025                             100 I1  ;       ---     フラグクリア    ---
35026                             101 I1          FAR_JSR #_API_ACCLW_DRV_STOP,R0
35027 000078A6 D004                   M           MOV.L   #_API_ACCLW_DRV_STOP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35028 000078A8 400B                   M           JSR     @R0                     ;
35029 000078AA 0009                   M           NOP                                     ;
35030                             102 I1  
35031                             103 I1  ;       -----   各段指定        -----
35032                             104 I1  ;       ---     フラグクリア    ---
35033                             105 I1          FAR_JSR #_API_ACCST_DRV_STOP,R0
35034 000078AC D003                   M           MOV.L   #_API_ACCST_DRV_STOP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35035 000078AE 400B                   M           JSR     @R0                     ;
35036 000078B0 0009                   M           NOP                                     ;
35037                             106 I1  
35038                             107 I1  
35039                             108 I1          SUB_END
35040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35041 000078B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35042                             109 I1          M_RTS
35043 000078B4 000B                   M           RTS                             ;RTSの後ろの
35044 000078B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35045                             110 I1  
35046                             111 I1  
35047                             112 I1  
35048                             113 I1  ;       *******************************************
35049                             114 I1  ;       ***                                     ***
35050                             115 I1  ;       ***     1msecでCALL     メイン          ***
35051                             116 I1  ;       ***                                     ***
35052                             117 I1  ;       *******************************************
35053                             118 I1  ;       [Input R2]
35054                                 I1  ***** BEGIN-POOL *****
35055 000078B8 00000000               I1  DATA FOR SOURCE-LINE 101
35056 000078BC 00000000               I1  DATA FOR SOURCE-LINE 105
35057                                 I1  ***** END-POOL *****
35058 000078C0                    119 I1  _ACC_MATHED_SEL_CTRL
35059                             120 I1          SUB_START
35060 000078C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   519
PROGRAM NAME =

35061                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35062                             121 I1  
35063 000078C2 D104               122 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35064 000078C4 6011               123 I1          MOV.W   @R1,R0                          ;
35065 000078C6 8801               124 I1          CMP/EQ  #1,R0                           ;
35066 000078C8 8B08               125 I1          BF      ACC_MATHED_CTLSEL_100           ;
35067                             126 I1  
35068                             127 I1  ;       -----   低速優先        -----
35069                             128 I1          FAR_JSR #_ACCLW_CTRL_CALC,R0            ;2015-11-17 減速選択
35070 000078CA D003                   M           MOV.L   #_ACCLW_CTRL_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35071 000078CC 400B                   M           JSR     @R0                     ;
35072 000078CE 0009                   M           NOP                                     ;
35073                             129 I1  
35074                             130 I1          M_BRA   ACC_MATHED_CTLSEL_END           ;
35075 000078D0 A009                   M           BRA     ACC_MATHED_CTLSEL_END
35076 000078D2 0009                   M           NOP
35077                             131 I1  
35078                             132 I1  
35079                                 I1  ***** BEGIN-POOL *****
35080 000078D4 00000000               I1  DATA FOR SOURCE-LINE 122
35081 000078D8 00000000               I1  DATA FOR SOURCE-LINE 128
35082                                 I1  ***** END-POOL *****
35083 000078DC                    133 I1  ACC_MATHED_CTLSEL_100                           ;
35084 000078DC 8802               134 I1          CMP/EQ  #2,R0                           ;
35085 000078DE 8B02               135 I1          BF      ACC_MATHED_CTLSEL_END           ;
35086                             136 I1  
35087                             137 I1  ;       -----   各段指定        -----
35088                             138 I1          FAR_JSR #_ACCST_CTRL_CALC,R0            ;[2だ]
35089 000078E0 D002                   M           MOV.L   #_ACCST_CTRL_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35090 000078E2 400B                   M           JSR     @R0                     ;
35091 000078E4 0009                   M           NOP                                     ;
35092                             139 I1  
35093 000078E6                    140 I1  ACC_MATHED_CTLSEL_END                           ;
35094                             141 I1  
35095                             142 I1  
35096                             143 I1          SUB_END
35097                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35098 000078E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35099                             144 I1          M_RTS
35100 000078E8 000B                   M           RTS                             ;RTSの後ろの
35101 000078EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35102                             145 I1  
35103                             146 I1  
35104                             147 I1  
35105                             148 I1  
35106                             149 I1  
35107                             150 I1  
35108                             151 I1  
35109                             152 I1  
35110                             153 I1  
35111                             154 I1  
35112                             155 I1  
35113                             156 I1  
35114                             157 I1  
35115                             158 I1  ;       *******************************************
35116                             159 I1  ;       ***                                     ***
35117                             160 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   520
PROGRAM NAME =

35118                             161 I1  ;       ***                                     ***
35119                             162 I1  ;       ***                                     ***
35120                             163 I1  ;       *******************************************
35121                             164 I1  ;       レジスタはR0以外破壊しないこと
35122                             165 I1  ;       R0=0/R0=1(前減速,前加速)-速度チェック１不要
35123                                 I1  ***** BEGIN-POOL *****
35124 000078EC 00000000               I1  DATA FOR SOURCE-LINE 138
35125                                 I1  ***** END-POOL *****
35126 000078F0                    166 I1  _ACCSEL_CHGSPD_LIMIT_INFO_LOAD:
35127                             167 I1          SUB_START
35128 000078F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
35129                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35130                             168 I1  
35131                             169 I1          PUSH_REG1 R1
35132 000078F2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35133                                 M                                           ;REG=>[SP]
35134                                 M                                           ;"-4" FF,FF,FF,FC
35135                             170 I1  
35136 000078F4 D103               171 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35137 000078F6 6011               172 I1          MOV.W   @R1,R0                          ;
35138 000078F8 8801               173 I1          CMP/EQ  #1,R0                           ;
35139 000078FA 8B05               174 I1          BF      ACCCHGSPD_LMT_INF_LD_100        ;
35140                             175 I1  
35141                             176 I1  ;       -----   低速優先        -----
35142 000078FC 200A               177 I1          XOR     R0,R0
35143                             178 I1          M_BRA   ACCCHGSPD_LMT_INF_LD_END        ;
35144 000078FE A00E                   M           BRA     ACCCHGSPD_LMT_INF_LD_END
35145 00007900 0009                   M           NOP
35146                             179 I1  
35147                             180 I1  
35148                                 I1  ***** BEGIN-POOL *****
35149 00007902 0000                   I1  ALIGNMENT CODE
35150 00007904 00000000               I1  DATA FOR SOURCE-LINE 171
35151                                 I1  ***** END-POOL *****
35152 00007908                    181 I1  ACCCHGSPD_LMT_INF_LD_100:
35153 00007908 8802               182 I1          CMP/EQ  #2,R0                           ;
35154 0000790A 8B07               183 I1          BF      ACCCHGSPD_LMT_INF_LD_200
35155                             184 I1  
35156                             185 I1  ;       -----   各段指定        -----
35157                             186 I1          FAR_JSR #_ACCST_CHGSPD_LIMIT_INFO_LOAD,R0       ;
35158 0000790C D002                   M           MOV.L   #_ACCST_CHGSPD_LIMIT_INFO_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35159 0000790E 400B                   M           JSR     @R0                     ;
35160 00007910 0009                   M           NOP                                     ;
35161                             187 I1          M_BRA   ACCCHGSPD_LMT_INF_LD_END                ;
35162 00007912 A004                   M           BRA     ACCCHGSPD_LMT_INF_LD_END
35163 00007914 0009                   M           NOP
35164                             188 I1  
35165                                 I1  ***** BEGIN-POOL *****
35166 00007916 0000                   I1  ALIGNMENT CODE
35167 00007918 00000000               I1  DATA FOR SOURCE-LINE 186
35168                                 I1  ***** END-POOL *****
35169 0000791C                    189 I1  ACCCHGSPD_LMT_INF_LD_200                                ;
35170 0000791C 200A               190 I1          XOR     R0,R0
35171 0000791E                    191 I1  ACCCHGSPD_LMT_INF_LD_END                                ;
35172                             192 I1  
35173                             193 I1          POP_REG1 R1
35174                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   521
PROGRAM NAME =

35175 0000791E 61F6                   M           MOV.L   @R15+,R1        ;
35176                             194 I1  
35177                             195 I1          SUB_END
35178                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35179 00007920 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35180                             196 I1          M_RTS
35181 00007922 000B                   M           RTS                             ;RTSの後ろの
35182 00007924 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35183                             197 I1  
35184                           11277     
35185                           11278     ;       *******************************************
35186                           11279     ;       ***                                     ***
35187                           11280     ;       ***                                     ***
35188                           11281     ;       ***                                     ***
35189                           11282     ;       ***     低速減速優先演算                ***
35190                           11283     ;       ***     2015-11-17                      ***
35191                           11284     ;       ***                                     ***
35192                           11285     ;       ***                                     ***
35193                           11286     ;       *******************************************
35194                           11287     ;;;;;;;         2016-04-18 必ず ssa_accupdn_sel.incの中でCALL
35195                           11288     ;;;;;;;         .EXPORT _ACCLW_DATA_MAIN                ;
35196                           11289     ;;;;;;;         .EXPORT _API_ACCLW_DRV_START1           ;
35197                           11290     ;;;;;;;         .EXPORT _API_ACCLW_DRV_STOP             ;
35198                           11291     ;;;;;;;         .EXPORT _ACCLW_CTRL_CALC                ;
35199                           11292     
35200                           11293             .INCLUDE        "ssa_aclw.inc"          ;//低速優先減速演算
35201                               1 I1  ;       ***************************************************
35202                               2 I1  ;       ***                                             ***
35203                               3 I1  ;       ***                                             ***
35204                               4 I1  ;       ***                                             ***
35205                               5 I1  ;       ***             低速優先　内部減速処理          ***
35206                               6 I1  ;       ***             2015-11-17 減速選択             ***
35207                               7 I1  ;       ***                                             ***
35208                               8 I1  ;       ***                                             ***
35209                               9 I1  ;       ***                                             ***
35210                              10 I1  ;       ***************************************************
35211                              11 I1  
35212                              12 I1  ;       *******************************************
35213                              13 I1  ;       ***                                     ***
35214                              14 I1  ;       ***     バックグランドでCALL            ***
35215                              15 I1  ;       ***     条件作成                        ***
35216                              16 I1  ;       ***                                     ***
35217                              17 I1  ;       *******************************************
35218                              18 I1  ;;;;;;;;;2016-04-18     .IMPORT         _PAR_ACCDN_MATH         ;5 2015-11-18 加減速　減速
                                          優先[CE2]
35219                              19 I1  
35220 00007926                     20 I1  _ACCLW_DATA_MAIN
35221                              21 I1          SUB_START
35222 00007926 4F22                   M           STS.L   PR,@-R15                ;[必要]
35223                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35224                              22 I1  
35225                              23 I1  ;;;;;;;;;2016-04-18
35226                              24 I1  ;;;;;;;;;       ================ USE-CHECK-----------------
35227                              25 I1  ;;;;;;;;;       MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35228                              26 I1  ;;;;;;;;;       MOV.W   @R1,R0                          ;
35229                              27 I1  ;;;;;;;;;       CMP/EQ  #1,R0                           ;
35230                              28 I1  ;;;;;;;;;       BF      ACCLW_USECHK_EXT                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   522
PROGRAM NAME =

35231                              29 I1  
35232 00007928 222A                30 I1          XOR     R2,R2
35233 0000792A D109                31 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
35234 0000792C 6011                32 I1          MOV.W   @R1,R0                                  ;
35235 0000792E C801                33 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
35236                              34 I1          TST_BIT_OF ACCLW_USECHK_100                     ;no use
35237 00007930 8908                   M           BT      ACCLW_USECHK_100
35238                              35 I1  
35239 00007932 D108                36 I1          MOV.L   #_MODE_SEL,R1                           ;
35240 00007934 6011                37 I1          MOV.W   @R1,R0                                  ;
35241 00007936 C81E                38 I1          TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
35242                              39 I1          TST_BIT_OF ACCLW_USECHK_100                     ;no use
35243 00007938 8904                   M           BT      ACCLW_USECHK_100
35244                              40 I1  
35245                              41 I1  
35246 0000793A D107                42 I1          MOV.L   #_LINK_1ROT_PLS,R1                      ;
35247 0000793C 6412                43 I1          MOV.L   @R1,R4                                  ;
35248 0000793E D107                44 I1          MOV.L   #_ACCLW_GEN_MAX_LNG,R1                  ;最大速度時の減速距離
35249 00007940 2142                45 I1          MOV.L   R4,@R1                                  ;(とりあえず360度分)
35250                              46 I1  
35251                              47 I1  
35252 00007942 E201                48 I1          MOV.B   #BIT0,R2                                ;
35253                              49 I1  
35254 00007944                     50 I1  ACCLW_USECHK_100
35255 00007944 D106                51 I1          MOV.L   #_ACCLW_USE_CONF,R1                     ;
35256 00007946 2121                52 I1          MOV.W   R2,@R1                                  ;
35257                              53 I1  
35258                              54 I1  ;;;;;;;;;ACCLW_USECHK_EXT
35259                              55 I1  
35260                              56 I1          SUB_END
35261                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35262 00007948 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35263                              57 I1          M_RTS
35264 0000794A 000B                   M           RTS                             ;RTSの後ろの
35265 0000794C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35266                              58 I1  
35267                              59 I1  ;       ***************************************************
35268                              60 I1  ;       ***                                             ***
35269                              61 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
35270                              62 I1  ;       ***                                             ***
35271                              63 I1  ;       ***************************************************
35272                                 I1  ***** BEGIN-POOL *****
35273 0000794E 0000                   I1  ALIGNMENT CODE
35274 00007950 00000000               I1  DATA FOR SOURCE-LINE 31
35275 00007954 00000000               I1  DATA FOR SOURCE-LINE 36
35276 00007958 00000000               I1  DATA FOR SOURCE-LINE 42
35277 0000795C 00000000               I1  DATA FOR SOURCE-LINE 44
35278 00007960 00000000               I1  DATA FOR SOURCE-LINE 51
35279                                 I1  ***** END-POOL *****
35280 00007964                     64 I1  _API_ACCLW_DRV_START1
35281                              65 I1          SUB_START
35282 00007964 4F22                   M           STS.L   PR,@-R15                ;[必要]
35283                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35284                              66 I1  
35285                              67 I1  
35286                              68 I1          FAR_JSR #_API_ACCLW_DRV_START2,R0       ;
35287 00007966 D004                   M           MOV.L   #_API_ACCLW_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   523
PROGRAM NAME =

35288 00007968 400B                   M           JSR     @R0                     ;
35289 0000796A 0009                   M           NOP                                     ;
35290                              69 I1          FAR_JSR #_API_ACCLW_DRV_WORK_CLR,R0     ;デバック用
35291 0000796C D003                   M           MOV.L   #_API_ACCLW_DRV_WORK_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35292 0000796E 400B                   M           JSR     @R0                     ;
35293 00007970 0009                   M           NOP                                     ;
35294                              70 I1  
35295                              71 I1          SUB_END
35296                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35297 00007972 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35298                              72 I1          M_RTS
35299 00007974 000B                   M           RTS                             ;RTSの後ろの
35300 00007976 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35301                              73 I1  
35302                              74 I1  ;       ----------- ﾃﾞﾊﾞｯｸ用にｸﾘｱ------------
35303                                 I1  ***** BEGIN-POOL *****
35304 00007978 00000000               I1  DATA FOR SOURCE-LINE 68
35305 0000797C 00000000               I1  DATA FOR SOURCE-LINE 69
35306                                 I1  ***** END-POOL *****
35307 00007980                     75 I1  _API_ACCLW_DRV_WORK_CLR
35308                              76 I1          SUB_START
35309 00007980 4F22                   M           STS.L   PR,@-R15                ;[必要]
35310                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35311 00007982 200A                77 I1          XOR     R0,R0
35312 00007984 D104                78 I1          MOV.L   #_ACCLW_GET_STEP_NO,R1          ;//BIT1=1時の対象行程
35313 00007986 2101                79 I1          MOV.W   R0,@R1                          ;
35314 00007988 D104                80 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
35315 0000798A 2102                81 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
35316 0000798C D104                82 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;//出力速度
35317 0000798E 2102                83 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
35318                              84 I1          SUB_END
35319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35320 00007990 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35321                              85 I1          M_RTS
35322 00007992 000B                   M           RTS                             ;RTSの後ろの
35323 00007994 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35324                              86 I1  
35325                              87 I1  ;       ***************************************************
35326                              88 I1  ;       ***                                             ***
35327                              89 I1  ;       ***     起動時CALL(減速完了,次の減速演算)       ***
35328                              90 I1  ;       ***                                             ***
35329                              91 I1  ;       ***************************************************
35330                                 I1  ***** BEGIN-POOL *****
35331 00007996 0000                   I1  ALIGNMENT CODE
35332 00007998 00000000               I1  DATA FOR SOURCE-LINE 78
35333 0000799C 00000000               I1  DATA FOR SOURCE-LINE 80
35334 000079A0 00000000               I1  DATA FOR SOURCE-LINE 82
35335                                 I1  ***** END-POOL *****
35336 000079A4                     92 I1  _API_ACCLW_DRV_START2
35337                              93 I1          SUB_START
35338 000079A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
35339                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35340                              94 I1  
35341 000079A6 D105                95 I1          MOV.L   #_ACCLW_USE_CONF,R1                     ;
35342 000079A8 6011                96 I1          MOV.W   @R1,R0                                  ;
35343 000079AA C801                97 I1          TST     #BIT0,R0                                ;
35344                              98 I1          TST_BIT_OF API_ACCLW_DRVSTR2_EXT                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   524
PROGRAM NAME =

35345 000079AC 8902                   M           BT      API_ACCLW_DRVSTR2_EXT
35346                              99 I1  
35347 000079AE E001               100 I1          MOV.B   #BIT0,R0                        ;
35348 000079B0 D103               101 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35349 000079B2 2101               102 I1          MOV.W   R0,@R1                          ;[BIT6,BIT7CLR BIT0=1]
35350                             103 I1  
35351 000079B4                    104 I1  API_ACCLW_DRVSTR2_EXT
35352                             105 I1  
35353                             106 I1          SUB_END
35354                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35355 000079B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35356                             107 I1          M_RTS
35357 000079B6 000B                   M           RTS                             ;RTSの後ろの
35358 000079B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35359                             108 I1  
35360                             109 I1  
35361                             110 I1  
35362                             111 I1  ;       *******************************************
35363                             112 I1  ;       ***                                     ***
35364                             113 I1  ;       ***     位置決め中断時CALL              ***
35365                             114 I1  ;       ***     位置決め停止タイマ時CALL        ***
35366                             115 I1  ;       ***     異常時CALL                      ***
35367                             116 I1  ;       ***                                     ***
35368                             117 I1  ;       *******************************************
35369                             118 I1  ;//BIT0:起動[API]
35370                             119 I1  ;//BIT6:[減速開始]
35371                             120 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
35372                             121 I1  ;//
35373                             122 I1  
35374                                 I1  ***** BEGIN-POOL *****
35375 000079BA 0000                   I1  ALIGNMENT CODE
35376 000079BC 00000000               I1  DATA FOR SOURCE-LINE 95
35377 000079C0 00000000               I1  DATA FOR SOURCE-LINE 101
35378                                 I1  ***** END-POOL *****
35379 000079C4                    123 I1  _API_ACCLW_DRV_STOP
35380                             124 I1          SUB_START
35381 000079C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
35382                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35383 000079C6 200A               125 I1          XOR     R0,R0
35384 000079C8 D102               126 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35385 000079CA 2101               127 I1          MOV.W   R0,@R1                          ;
35386                             128 I1          SUB_END
35387                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35388 000079CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35389                             129 I1          M_RTS
35390 000079CE 000B                   M           RTS                             ;RTSの後ろの
35391 000079D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35392                             130 I1  
35393                             131 I1  
35394                             132 I1  
35395                             133 I1  ;       *******************************************
35396                             134 I1  ;       ***                                     ***
35397                             135 I1  ;       ***     1msecでCALL     メイン          ***
35398                             136 I1  ;       ***                                     ***
35399                             137 I1  ;       *******************************************
35400                             138 I1  ;       2015-11-17 減速選択
35401                             139 I1  ;       [オーバライド前にCALL]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   525
PROGRAM NAME =

35402                             140 I1  ;       Input  R2:設定速度
35403                             141 I1  ;       Output R2:設定速度相当
35404                             142 I1  ;       PAR_ACCDN_MATH=1 減速優先演算
35405                             143 I1  ;
35406                                 I1  ***** BEGIN-POOL *****
35407 000079D2 0000                   I1  ALIGNMENT CODE
35408 000079D4 00000000               I1  DATA FOR SOURCE-LINE 126
35409                                 I1  ***** END-POOL *****
35410 000079D8                    144 I1  _ACCLW_CTRL_CALC                        ;2015-11-17 減速選択
35411                             145 I1          SUB_START
35412 000079D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
35413                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35414                             146 I1  
35415 000079DA D107               147 I1          MOV.L   #_ACCLW_SET_SPD,R1                              ;//INPUT モーション演算部
                                          からの速度 (オーバライド前)
35416 000079DC 2122               148 I1          MOV.L   R2,@R1                                          ;
35417                             149 I1  
35418 000079DE 940A               150 I1          MOV.W   #D'1000,R4                                      ;
35419                             151 I1          FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
35420 000079E0 D006                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
35421 000079E2 400B                   M           JSR     @R0                     ;
35422 000079E4 0009                   M           NOP                                     ;
35423 000079E6 D106               152 I1          MOV.L   #_ACCLW_REAL_SPD1MS,R1                          ;1ms差分
35424 000079E8 2122               153 I1          MOV.L   R2,@R1                                          ;
35425                             154 I1  
35426                             155 I1  
35427 000079EA D106               156 I1          MOV.L   #_ACCLW_CALC_FLG,R1     ;
35428 000079EC 6011               157 I1          MOV.W   @R1,R0                  ;
35429 000079EE C801               158 I1          TST     #BIT0,R0                ;
35430                             159 I1          TST_BIT_ON ACCLW_CTRLCALC_100   ;[起動中]
35431 000079F0 8B0A                   M           BF      ACCLW_CTRLCALC_100
35432                             160 I1          M_BRA   ACCLW_CTRLCALC_800
35433 000079F2 A033                   M           BRA     ACCLW_CTRLCALC_800
35434 000079F4 0009                   M           NOP
35435                             161 I1  
35436                                 I1  ***** BEGIN-POOL *****
35437 000079F6 03E8                   I1  DATA FOR SOURCE-LINE 150
35438 000079F8 00000000               I1  DATA FOR SOURCE-LINE 147
35439 000079FC 00000000               I1  DATA FOR SOURCE-LINE 151
35440 00007A00 00000000               I1  DATA FOR SOURCE-LINE 152
35441 00007A04 00000000               I1  DATA FOR SOURCE-LINE 156
35442                                 I1  ***** END-POOL *****
35443 00007A08                    162 I1  ACCLW_CTRLCALC_100
35444 00007A08 C880               163 I1          TST     #BIT7,R0                ;
35445                             164 I1          TST_BIT_OF ACCLW_CTRLCALC_120   ;
35446 00007A0A 8901                   M           BT      ACCLW_CTRLCALC_120
35447                             165 I1          M_BRA   ACCLW_CTRLCALC_800      ;演算不要:再起動かかるまで演算しなくていい
35448 00007A0C A026                   M           BRA     ACCLW_CTRLCALC_800
35449 00007A0E 0009                   M           NOP
35450                             166 I1  
35451 00007A10                    167 I1  ACCLW_CTRLCALC_120
35452 00007A10 C840               168 I1          TST     #BIT6,R0                ;
35453                             169 I1          TST_BIT_ON ACCLW_CTRLCALC_200   ;[減速中か? YES]
35454 00007A12 8B0D                   M           BF      ACCLW_CTRLCALC_200
35455                             170 I1  
35456                             171 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   526
PROGRAM NAME =

35457                             172 I1  ;       ------- 減速開始条件チェック---------
35458                             173 I1  
35459                             174 I1          FAR_JSR #_ACCLW_GEN_START_CONF_CHECK,R0
35460 00007A14 D004                   M           MOV.L   #_ACCLW_GEN_START_CONF_CHECK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35461 00007A16 400B                   M           JSR     @R0                     ;
35462 00007A18 0009                   M           NOP                                     ;
35463                             175 I1  
35464 00007A1A D104               176 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35465 00007A1C 6011               177 I1          MOV.W   @R1,R0                          ;
35466 00007A1E C840               178 I1          TST     #BIT6,R0                        ;
35467                             179 I1          TST_BIT_ON ACCLW_CTRLCALC_300           ;
35468 00007A20 8B14                   M           BF      ACCLW_CTRLCALC_300
35469                             180 I1          M_BRA   ACCLW_CTRLCALC_800              ;
35470 00007A22 A01B                   M           BRA     ACCLW_CTRLCALC_800
35471 00007A24 0009                   M           NOP
35472                             181 I1  
35473                             182 I1  
35474                             183 I1  
35475                             184 I1  ;       ------------- 減速中-----------
35476                                 I1  ***** BEGIN-POOL *****
35477 00007A26 0000                   I1  ALIGNMENT CODE
35478 00007A28 00000000               I1  DATA FOR SOURCE-LINE 174
35479 00007A2C 00000000               I1  DATA FOR SOURCE-LINE 176
35480                                 I1  ***** END-POOL *****
35481 00007A30                    185 I1  ACCLW_CTRLCALC_200
35482                             186 I1  ;       ------- 減速終了条件チェック---------
35483                             187 I1          FAR_JSR #_ACCLW_GEN_END_CONF_CHECK,R0
35484 00007A30 D004                   M           MOV.L   #_ACCLW_GEN_END_CONF_CHECK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35485 00007A32 400B                   M           JSR     @R0                     ;
35486 00007A34 0009                   M           NOP                                     ;
35487 00007A36 2008               188 I1          TST     R0,R0                           ;
35488                             189 I1          TST_BIT_ON ACCLW_CTRLCALC_300           ;減速中
35489 00007A38 8B08                   M           BF      ACCLW_CTRLCALC_300
35490                             190 I1  
35491                             191 I1          FAR_JSR #_API_ACCLW_DRV_START2,R0       ;減速完了:次を探す
35492 00007A3A D003                   M           MOV.L   #_API_ACCLW_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35493 00007A3C 400B                   M           JSR     @R0                     ;
35494 00007A3E 0009                   M           NOP                                     ;
35495                             192 I1          M_BRA   ACCLW_CTRLCALC_800              ;
35496 00007A40 A00C                   M           BRA     ACCLW_CTRLCALC_800
35497 00007A42 0009                   M           NOP
35498                             193 I1  
35499                                 I1  ***** BEGIN-POOL *****
35500 00007A44 00000000               I1  DATA FOR SOURCE-LINE 187
35501 00007A48 00000000               I1  DATA FOR SOURCE-LINE 191
35502                                 I1  ***** END-POOL *****
35503 00007A4C                    194 I1  ACCLW_CTRLCALC_300
35504                             195 I1          FAR_JSR #_ACCLW_GEN_OUTSPD_CALC,R0      ;
35505 00007A4C D002                   M           MOV.L   #_ACCLW_GEN_OUTSPD_CALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35506 00007A4E 400B                   M           JSR     @R0                     ;
35507 00007A50 0009                   M           NOP                                     ;
35508                             196 I1          M_BRA   ACCLW_CTRLCALC_900                              ;
35509 00007A52 A009                   M           BRA     ACCLW_CTRLCALC_900
35510 00007A54 0009                   M           NOP
35511                             197 I1  
35512                             198 I1  
35513                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   527
PROGRAM NAME =

35514 00007A56 0000                   I1  ALIGNMENT CODE
35515 00007A58 00000000               I1  DATA FOR SOURCE-LINE 195
35516                                 I1  ***** END-POOL *****
35517 00007A5C                    199 I1  ACCLW_CTRLCALC_800                              ;
35518 00007A5C D101               200 I1          MOV.L   #_ACCLW_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35519 00007A5E 6212               201 I1          MOV.L   @R1,R2                          ;
35520                             202 I1          M_BRA   ACCLW_CTRLCALC_EXT              ;
35521 00007A60 A004                   M           BRA     ACCLW_CTRLCALC_EXT
35522 00007A62 0009                   M           NOP
35523                             203 I1  
35524                                 I1  ***** BEGIN-POOL *****
35525 00007A64 00000000               I1  DATA FOR SOURCE-LINE 200
35526                                 I1  ***** END-POOL *****
35527 00007A68                    204 I1  ACCLW_CTRLCALC_900                              ;
35528 00007A68 D104               205 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;       //出力速度
35529 00007A6A 6212               206 I1          MOV.L   @R1,R2                          ;
35530                             207 I1  
35531 00007A6C                    208 I1  ACCLW_CTRLCALC_EXT                              ;
35532                             209 I1  
35533                             210 I1  
35534 00007A6C D104               211 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35535 00007A6E 6011               212 I1          MOV.W   @R1,R0                          ;
35536 00007A70 D104               213 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB255,R1     ;255
35537 00007A72 2101               214 I1          MOV.W   R0,@R1                          ;
35538                             215 I1  
35539                             216 I1          SUB_END
35540                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35541 00007A74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35542                             217 I1          M_RTS
35543 00007A76 000B                   M           RTS                             ;RTSの後ろの
35544 00007A78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35545                             218 I1  
35546                             219 I1  
35547                             220 I1  ;       *******************************************
35548                             221 I1  ;       ***                                     ***
35549                             222 I1  ;       ***     減速終了条件                    ***
35550                             223 I1  ;       ***                                     ***
35551                             224 I1  ;       *******************************************
35552                             225 I1  ;       OUTPUT R0:0:減速終了 1:減速中
35553                             226 I1  ;       INPUT:R2(設定速度:符号無し)
35554                                 I1  ***** BEGIN-POOL *****
35555 00007A7A 0000                   I1  ALIGNMENT CODE
35556 00007A7C 00000000               I1  DATA FOR SOURCE-LINE 205
35557 00007A80 00000000               I1  DATA FOR SOURCE-LINE 211
35558 00007A84 00000000               I1  DATA FOR SOURCE-LINE 213
35559                                 I1  ***** END-POOL *****
35560 00007A88                    227 I1  _ACCLW_GEN_END_CONF_CHECK
35561                             228 I1          SUB_START
35562 00007A88 4F22                   M           STS.L   PR,@-R15                ;[必要]
35563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35564 00007A8A D104               229 I1          MOV.L   #_ACCLW_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35565 00007A8C 6212               230 I1          MOV.L   @R1,R2                          ;
35566 00007A8E D104               231 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
35567 00007A90 6312               232 I1          MOV.L   @R1,R3                          ;
35568 00007A92 3323               233 I1          CMP/GE  R2,R3                           ;R2≦R3(R2=R3)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   528
PROGRAM NAME =

35569 00007A94 8906               234 I1          BT      ACCLW_GEN_END_CONFCHK_100       ;
35570 00007A96 E001               235 I1          MOV.B   #BIT0,R0                        ;まだ減速継続
35571                             236 I1          M_BRA   ACCLW_GEN_END_CONFCHK_300       ;
35572 00007A98 A005                   M           BRA     ACCLW_GEN_END_CONFCHK_300
35573 00007A9A 0009                   M           NOP
35574                             237 I1  
35575                                 I1  ***** BEGIN-POOL *****
35576 00007A9C 00000000               I1  DATA FOR SOURCE-LINE 229
35577 00007AA0 00000000               I1  DATA FOR SOURCE-LINE 231
35578                                 I1  ***** END-POOL *****
35579 00007AA4                    238 I1  ACCLW_GEN_END_CONFCHK_100
35580 00007AA4 200A               239 I1          XOR     R0,R0
35581 00007AA6                    240 I1  ACCLW_GEN_END_CONFCHK_300
35582                             241 I1  
35583                             242 I1          SUB_END
35584                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35585 00007AA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35586                             243 I1          M_RTS
35587 00007AA8 000B                   M           RTS                             ;RTSの後ろの
35588 00007AAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35589                             244 I1  
35590                             245 I1  
35591                             246 I1  
35592                             247 I1  
35593                             248 I1  ;       *******************************************
35594                             249 I1  ;       ***                                     ***
35595                             250 I1  ;       ***     出力演算                        ***
35596                             251 I1  ;       ***     通常の減速演算を使用するので    ***
35597                             252 I1  ;       ***     今のところ演算不要              ***
35598                             253 I1  ;       ***                                     ***
35599                             254 I1  ;       *******************************************
35600                             255 I1  ;       出力速度演算
35601 00007AAC                    256 I1  _ACCLW_GEN_OUTSPD_CALC
35602                             257 I1          SUB_START
35603 00007AAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
35604                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35605 00007AAE D103               258 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;
35606 00007AB0 6312               259 I1          MOV.L   @R1,R3                          ;
35607                             260 I1  
35608 00007AB2 D103               261 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;出力速度
35609 00007AB4 2132               262 I1          MOV.L   R3,@R1                          ;
35610                             263 I1  
35611                             264 I1          SUB_END
35612                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35613 00007AB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35614                             265 I1          M_RTS
35615 00007AB8 000B                   M           RTS                             ;RTSの後ろの
35616 00007ABA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35617                             266 I1  
35618                             267 I1  
35619                             268 I1  ;       ***************************************************
35620                             269 I1  ;       ***                                             ***
35621                             270 I1  ;       ***     判定用に現在速度・現在加速度の算出      ***
35622                             271 I1  ;       ***     [オーバライド後で演算する]              ***
35623                             272 I1  ;       ***                                             ***
35624                             273 I1  ;       ***************************************************
35625                             274 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   529
PROGRAM NAME =

35626                             275 I1  ;       ***                                     ***
35627                             276 I1  ;       ***     現在の行程から減速行程を探す    ***
35628                             277 I1  ;       ***                                     ***
35629                             278 I1  ;       *******************************************
35630                             279 I1  ;       S4b     CPOS_SDAT1_CNTSTEP[100+10];             //SETX-->起動時COPY
35631                             280 I1  ;       S4b     CPOS_SDAT1_INF1[100+10];                //SETX-->起動時COPY
35632                             281 I1  ;       S4b     CPOS_SDAT1_CHGAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
35633                             282 I1  ;       S4b     CPOS_SDAT1_STPAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
35634                             283 I1  ;
35635                             284 I1  
35636                                 I1  ***** BEGIN-POOL *****
35637 00007ABC 00000000               I1  DATA FOR SOURCE-LINE 258
35638 00007AC0 00000000               I1  DATA FOR SOURCE-LINE 261
35639                                 I1  ***** END-POOL *****
35640 00007AC4                    285 I1  _ACCLW_GEN_START_CONF_CHECK
35641                             286 I1          SUB_START
35642 00007AC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
35643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35644 00007AC6 D103               287 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
35645 00007AC8 6011               288 I1          MOV.W   @R1,R0                          ;
35646                             289 I1  
35647 00007ACA 2008               290 I1          TST     R0,R0                           ;
35648                             291 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_050  ;
35649 00007ACC 8B04                   M           BF      ACCLW_GEN_START_CONFCHK_050
35650                             292 I1          M_BRA   ACCLW_GEN_START_CONFCHK_EXT     ;
35651 00007ACE A092                   M           BRA     ACCLW_GEN_START_CONFCHK_EXT
35652 00007AD0 0009                   M           NOP
35653                             293 I1  
35654                                 I1  ***** BEGIN-POOL *****
35655 00007AD2 0000                   I1  ALIGNMENT CODE
35656 00007AD4 00000000               I1  DATA FOR SOURCE-LINE 287
35657                                 I1  ***** END-POOL *****
35658 00007AD8                    294 I1  ACCLW_GEN_START_CONFCHK_050
35659 00007AD8 D103               295 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
35660 00007ADA 6511               296 I1          MOV.W   @R1,R5                          ;
35661 00007ADC 7501               297 I1          ADD     #1,R5                           ;[MAX:R5]
35662 00007ADE 3053               298 I1          CMP/GE  R5,R0                           ;最終行程
35663 00007AE0 8B04               299 I1          BF      ACCLW_GEN_START_CONFCHK_100     ;
35664                             300 I1          M_BRA   ACCLW_GEN_START_CONFCHK_EXT     ;R5=R0最終行程
35665 00007AE2 A088                   M           BRA     ACCLW_GEN_START_CONFCHK_EXT
35666 00007AE4 0009                   M           NOP
35667                             301 I1  
35668                             302 I1  ;       ---------------------------------------
35669                                 I1  ***** BEGIN-POOL *****
35670 00007AE6 0000                   I1  ALIGNMENT CODE
35671 00007AE8 00000000               I1  DATA FOR SOURCE-LINE 295
35672                                 I1  ***** END-POOL *****
35673 00007AEC                    303 I1  ACCLW_GEN_START_CONFCHK_100
35674 00007AEC 6803               304 I1          MOV     R0,R8                           ;行程
35675                             305 I1  
35676 00007AEE 3508               306 I1          SUB     R0,R5                           ;1~98
35677 00007AF0 944C               307 I1          MOV.W   #D'10,R4                        ;先読み10段まで[100段はかわいそう]
35678 00007AF2 3453               308 I1          CMP/GE  R5,R4                           ;R5≦R4
35679 00007AF4 8900               309 I1          BT      ACCLW_GEN_START_CONFCHK_120     ;
35680 00007AF6 6543               310 I1          MOV     R4,R5                           ;
35681 00007AF8                    311 I1  ACCLW_GEN_START_CONFCHK_120
35682                             312 I1  ;       現状の行程〜最大１０段の中で
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   530
PROGRAM NAME =

35683                             313 I1  ;       停止行程または戻り行程終了まで検索を行う.
35684                             314 I1  ;
35685                             315 I1  ;       行程1の場合
35686                             316 I1  ;       INF1:行程1を参照
35687                             317 I1  ;       CHG :行程1を参照
35688                             318 I1  ;       速度:行程2を参照
35689                             319 I1  
35690 00007AF8 70FF               320 I1          ADD     #-1,R0                          ;
35691 00007AFA 4008               321 I1          SHLL2   R0                              ;*4
35692 00007AFC DD24               322 I1          MOV.L   #_CPOS_SDAT1_SPD,R13            ;4B
35693 00007AFE 3D0C               323 I1          ADD     R0,R13                          ;
35694 00007B00 7D04               324 I1          ADD     #4,R13                          ;速度は次の段の速度
35695                             325 I1  
35696 00007B02 DE24               326 I1          MOV.L   #_CPOS_SDAT1_INF1,R14           ;4B
35697 00007B04 3E0C               327 I1          ADD     R0,R14                          ;
35698                             328 I1  
35699 00007B06 4000               329 I1          SHLL    R0
35700 00007B08 DC23               330 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R12        ;切替位置8B
35701 00007B0A 3C0C               331 I1          ADD     R0,R12                          ;
35702                             332 I1  
35703                             333 I1  
35704 00007B0C                    334 I1  ACCLW_GEN_START_CONFCHK_200LOP:                 ;
35705                             335 I1          PUSH_REG1 R5
35706 00007B0C 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
35707                                 M                                           ;REG=>[SP]
35708                                 M                                           ;"-4" FF,FF,FF,FC
35709                             336 I1  
35710 00007B0E 60E2               337 I1          MOV.L   @R14,R0                         ;INF
35711 00007B10 C801               338 I1          TST     #BIT0,R0                        ;連続か?
35712                             339 I1          TST_BIT_OF ACCLW_GEN_START_CONFCHK_550  ;この行程は停止なので終了
35713 00007B12 895A                   M           BT      ACCLW_GEN_START_CONFCHK_550
35714                             340 I1  
35715                             341 I1  ;       (------- 方向判別は不要R0.BIT1--------)
35716                             342 I1  ;       --------- 連続-----------
35717 00007B14 D421               343 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
35718 00007B16 6546               344 I1          MOV.L   @R4+,R5                                                 ;
35719 00007B18 6642               345 I1          MOV.L   @R4,R6                                                  ;ﾘｱﾙﾀｲﾑ目標位置
35720 00007B1A 51C0               346 I1          MOV.L   @(0,R12),R1                                             ;
35721 00007B1C 52C1               347 I1          MOV.L   @(4,R12),R2                                             ;設定位置
35722                             348 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2-R5,R6
35723 00007B1E 0008                   M           CLRT
35724 00007B20 326A                   M           SUBC    R6,R2
35725 00007B22 315A                   M           SUBC    R5,R1
35726                             349 I1  
35727 00007B24 4111               350 I1          CMP/PZ  R1                              ;
35728 00007B26 8905               351 I1          BT      ACCLW_GEN_START_CONFCHK_250     ;
35729                             352 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;|R1,R2|
35730 00007B28 6227                   M           NOT     R2,R2                           ;
35731 00007B2A 6117                   M           NOT     R1,R1                           ;
35732 00007B2C 200A                   M           XOR     R0,R0                           ;
35733 00007B2E 0018                   M           SETT
35734 00007B30 320E                   M           ADDC    R0,R2                           ;0+1+R2
35735 00007B32 310E                   M           ADDC    R0,R1                           ;
35736 00007B34                    353 I1  ACCLW_GEN_START_CONFCHK_250:                    ;
35737                             354 I1  
35738                             355 I1  
35739 00007B34 2118               356 I1          TST     R1,R1                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   531
PROGRAM NAME =

35740                             357 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_550          ;まだ距離が十分にある
35741 00007B36 8B48                   M           BF      ACCLW_GEN_START_CONFCHK_550
35742                             358 I1  
35743 00007B38 D519               359 I1          MOV.L   #_ACCLW_REAL_SPD1MS,R5                  ;
35744 00007B3A 6452               360 I1          MOV.L   @R5,R4                                  ;
35745 00007B3C 3248               361 I1          SUB     R4,R2                                   ;
35746 00007B3E 4215               362 I1          CMP/PL  R2
35747 00007B40 8900               363 I1          BT      ACCLW_GEN_START_CONFCHK_280             ;
35748 00007B42 9224               364 I1          MOV.W   #1,R2                                   ;
35749 00007B44                    365 I1  ACCLW_GEN_START_CONFCHK_280:                            ;
35750                             366 I1  
35751 00007B44 D517               367 I1          MOV.L   #_ACCLW_GEN_MAX_LNG,R5                  ;最大速度時の減速距離
35752 00007B46 6452               368 I1          MOV.L   @R5,R4                                  ;
35753 00007B48 3246               369 I1          CMP/HI  R4,R2                                   ;R4<R2
35754 00007B4A 893E               370 I1          BT      ACCLW_GEN_START_CONFCHK_550             ;まだ距離が十分にある
35755                             371 I1  
35756                             372 I1  ;[速度が高い場合評価をやめる]
35757                             373 I1  
35758                             374 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
35759                             375 I1          PUSH_REG1 R8    ;行程
35760 00007B4C 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
35761                                 M                                           ;REG=>[SP]
35762                                 M                                           ;"-4" FF,FF,FF,FC
35763                             376 I1          PUSH_REG1 R12   ;POS
35764 00007B4E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
35765                                 M                                           ;REG=>[SP]
35766                                 M                                           ;"-4" FF,FF,FF,FC
35767                             377 I1          PUSH_REG1 R13   ;SPD
35768 00007B50 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
35769                                 M                                           ;REG=>[SP]
35770                                 M                                           ;"-4" FF,FF,FF,FC
35771                             378 I1          PUSH_REG1 R14   ;INF1
35772 00007B52 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
35773                                 M                                           ;REG=>[SP]
35774                                 M                                           ;"-4" FF,FF,FF,FC
35775 00007B54 D414               379 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
35776 00007B56 6942               380 I1          MOV.L   @R4,R9                                                  ;
35777                             381 I1  
35778 00007B58 6AD2               382 I1          MOV.L   @R13,R10                                                ;SPD
35779                             383 I1          PUSH_REG1 R1                                                    ;
35780 00007B5A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35781                                 M                                           ;REG=>[SP]
35782                                 M                                           ;"-4" FF,FF,FF,FC
35783                             384 I1          PUSH_REG1 R2                                                    ;
35784 00007B5C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
35785                                 M                                           ;REG=>[SP]
35786                                 M                                           ;"-4" FF,FF,FF,FC
35787 00007B5E 62A3               385 I1          MOV     R10,R2                                                  ;
35788                             386 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
35789 00007B60 D012                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35790 00007B62 400B                   M           JSR     @R0                     ;
35791 00007B64 0009                   M           NOP                                     ;
35792 00007B66 6A23               387 I1          MOV     R2,R10                                                  ;
35793                             388 I1          POP_REG1 R2                                                     ;
35794                                 M                                   ; RE"+4" 00,00,00,04
35795 00007B68 62F6                   M           MOV.L   @R15+,R2        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   532
PROGRAM NAME =

35796                             389 I1          POP_REG1 R1                                                     ;
35797                                 M                                   ; RE"+4" 00,00,00,04
35798 00007B6A 61F6                   M           MOV.L   @R15+,R1        ;
35799                             390 I1  
35800 00007B6C D410               391 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35801 00007B6E 6B42               392 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
35802                             393 I1                                                                          ;Input R1,R2 距離
35803                             394 I1                                                                          ;Input R9    現在
                                          速度
35804                             395 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
35805                             396 I1                                                                          ;Input R11   減速
                                          距離
35806                             397 I1  
35807 00007B70 200A               398 I1          XOR     R0,R0
35808 00007B72 3A93               399 I1          CMP/GE  R9,R10                                  ;R9(現在速度)≦R10(設定速度)
35809 00007B74 8902               400 I1          BT      ACCLW_GEN_START_CONFCHK_400             ;
35810                             401 I1  
35811                             402 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0             ;
35812 00007B76 D00F                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35813 00007B78 400B                   M           JSR     @R0                     ;
35814 00007B7A 0009                   M           NOP                                     ;
35815                             403 I1  
35816 00007B7C                    404 I1  ACCLW_GEN_START_CONFCHK_400:                    ;
35817                             405 I1  
35818                             406 I1  
35819                             407 I1          POP_REG1 R14
35820                                 M                                   ; RE"+4" 00,00,00,04
35821 00007B7C 6EF6                   M           MOV.L   @R15+,R14        ;
35822                             408 I1          POP_REG1 R13
35823                                 M                                   ; RE"+4" 00,00,00,04
35824 00007B7E 6DF6                   M           MOV.L   @R15+,R13        ;
35825                             409 I1          POP_REG1 R12
35826                                 M                                   ; RE"+4" 00,00,00,04
35827 00007B80 6CF6                   M           MOV.L   @R15+,R12        ;
35828                             410 I1          POP_REG1 R8
35829                                 M                                   ; RE"+4" 00,00,00,04
35830 00007B82 68F6                   M           MOV.L   @R15+,R8        ;
35831                             411 I1  
35832 00007B84 2008               412 I1          TST     R0,R0
35833                             413 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_500                          ;減速すべき
35834 00007B86 8B17                   M           BF      ACCLW_GEN_START_CONFCHK_500
35835                             414 I1          M_BRA   ACCLW_GEN_START_CONFCHK_580                             ;
35836 00007B88 A028                   M           BRA     ACCLW_GEN_START_CONFCHK_580
35837 00007B8A 0009                   M           NOP
35838                             415 I1  
35839                             416 I1  
35840                             417 I1  ;       ---------------- 減速開始する[減速スタートする]、演算はやめる-----------
35841                                 I1  ***** BEGIN-POOL *****
35842 00007B8C 000A                   I1  DATA FOR SOURCE-LINE 307
35843 00007B8E 0001                   I1  DATA FOR SOURCE-LINE 364
35844 00007B90 00000000               I1  DATA FOR SOURCE-LINE 322
35845 00007B94 00000000               I1  DATA FOR SOURCE-LINE 326
35846 00007B98 00000000               I1  DATA FOR SOURCE-LINE 330
35847 00007B9C 00000000               I1  DATA FOR SOURCE-LINE 343
35848 00007BA0 00000000               I1  DATA FOR SOURCE-LINE 359
35849 00007BA4 00000000               I1  DATA FOR SOURCE-LINE 367
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   533
PROGRAM NAME =

35850 00007BA8 00000000               I1  DATA FOR SOURCE-LINE 379
35851 00007BAC 00000000               I1  DATA FOR SOURCE-LINE 386
35852 00007BB0 00000000               I1  DATA FOR SOURCE-LINE 391
35853 00007BB4 00000000               I1  DATA FOR SOURCE-LINE 402
35854                                 I1  ***** END-POOL *****
35855 00007BB8                    418 I1  ACCLW_GEN_START_CONFCHK_500:                                    ;
35856 00007BB8 62D2               419 I1          MOV.L   @R13,R2                                         ;NEW SPEED
35857 00007BBA D105               420 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1                          ;
35858 00007BBC 2122               421 I1          MOV.L   R2,@R1                                          ;
35859 00007BBE D105               422 I1          MOV.L   #_ACCLW_GET_STEP_NO,R1                          ;//BIT1=1時の対象行程
35860 00007BC0 2181               423 I1          MOV.W   R8,@R1                                          ;
35861                             424 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCLW_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1      ;[減速する
                                          から演算はやめるR0=BIT0]
35862 00007BC2 D105                   M           MOV.L   #_ACCLW_CALC_FLG,R1             ;
35863 00007BC4 6011                   M           MOV.W   @R1,R0          ;
35864 00007BC6 CB40                   M           OR      #BIT6,R0                ;
35865 00007BC8 2101                   M           MOV.W   R0,@R1          ;
35866                             425 I1  
35867                             426 I1  
35868                             427 I1  ;       ---------------- 停止行程なのでやめる----------------
35869 00007BCA                    428 I1  ACCLW_GEN_START_CONFCHK_550:                    ;
35870 00007BCA E001               429 I1          MOV.B   #BIT0,R0                        ;
35871                             430 I1          M_BRA   ACCLW_GEN_START_CONFCHK_600     ;
35872 00007BCC A007                   M           BRA     ACCLW_GEN_START_CONFCHK_600
35873 00007BCE 0009                   M           NOP
35874                             431 I1  
35875                             432 I1  ;       --------------- 次を演算する-------------------------
35876                                 I1  ***** BEGIN-POOL *****
35877 00007BD0 00000000               I1  DATA FOR SOURCE-LINE 420
35878 00007BD4 00000000               I1  DATA FOR SOURCE-LINE 422
35879 00007BD8 00000000               I1  DATA FOR SOURCE-LINE 424
35880                                 I1  ***** END-POOL *****
35881 00007BDC                    433 I1  ACCLW_GEN_START_CONFCHK_580:                    ;
35882 00007BDC 200A               434 I1          XOR     R0,R0                           ;
35883 00007BDE                    435 I1  ACCLW_GEN_START_CONFCHK_600:                    ;
35884                             436 I1  
35885                             437 I1          POP_REG1 R5
35886                                 M                                   ; RE"+4" 00,00,00,04
35887 00007BDE 65F6                   M           MOV.L   @R15+,R5        ;
35888 00007BE0 75FF               438 I1          ADD     #-1,R5                          ;
35889 00007BE2 2558               439 I1          TST     R5,R5                           ;
35890                             440 I1          TST_BIT_OF ACCLW_GEN_START_CONFCHK_EXT  ;
35891 00007BE4 8907                   M           BT      ACCLW_GEN_START_CONFCHK_EXT
35892 00007BE6 2008               441 I1          TST     R0,R0                           ;
35893                             442 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_EXT  ;終わり
35894 00007BE8 8B05                   M           BF      ACCLW_GEN_START_CONFCHK_EXT
35895 00007BEA 7D04               443 I1          ADD     #4,R13                          ;SPD
35896 00007BEC 7E04               444 I1          ADD     #4,R14                          ;INF
35897 00007BEE 7C08               445 I1          ADD     #8,R12                          ;POS
35898 00007BF0 7801               446 I1          ADD     #1,R8                           ;行程[不要だが]
35899                             447 I1          M_BRA   ACCLW_GEN_START_CONFCHK_200LOP  ;
35900 00007BF2 AF8B                   M           BRA     ACCLW_GEN_START_CONFCHK_200LOP
35901 00007BF4 0009                   M           NOP
35902                             448 I1  
35903                             449 I1  
35904                             450 I1  
35905 00007BF6                    451 I1  ACCLW_GEN_START_CONFCHK_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   534
PROGRAM NAME =

35906                             452 I1          SUB_END
35907                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35908 00007BF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35909                             453 I1          M_RTS
35910 00007BF8 000B                   M           RTS                             ;RTSの後ろの
35911 00007BFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35912                           11294     
35913                           11295     
35914                           11296     
35915                           11297     ;       *******************************************
35916                           11298     ;       ***                                     ***
35917                           11299     ;       ***                                     ***
35918                           11300     ;       ***                                     ***
35919                           11301     ;       ***     各段指定演算                    ***
35920                           11302     ;       ***                                     ***
35921                           11303     ;       ***                                     ***
35922                           11304     ;       *******************************************
35923                           11305             .INCLUDE        "ssa_accstep.inc"       ;//各段指定加速・減速演算
35924                               1 I1  ;       ***************************************************
35925                               2 I1  ;       ***                                             ***
35926                               3 I1  ;       ***                                             ***
35927                               4 I1  ;       ***                                             ***
35928                               5 I1  ;       ***             各段前/後変則指定処理           ***
35929                               6 I1  ;       ***             2016-04-18 前・後選択           ***
35930                               7 I1  ;       ***             (加速でも減速でも)              ***
35931                               8 I1  ;       ***                                             ***
35932                               9 I1  ;       ***                                             ***
35933                              10 I1  ;       ***************************************************
35934                              11 I1  
35935                              12 I1  ;       *******************************************
35936                              13 I1  ;       ***                                     ***
35937                              14 I1  ;       ***     バックグランドでCALL            ***
35938                              15 I1  ;       ***     条件作成                        ***
35939                              16 I1  ;       ***                                     ***
35940                              17 I1  ;       *******************************************
35941                              18 I1  
35942 00007BFC                     19 I1  _ACCST_DATA_MAIN
35943                              20 I1          SUB_START
35944 00007BFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
35945                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35946                              21 I1  
35947                              22 I1  
35948 00007BFE 222A                23 I1          XOR     R2,R2
35949 00007C00 D108                24 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
35950 00007C02 6011                25 I1          MOV.W   @R1,R0                                  ;
35951 00007C04 C801                26 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
35952                              27 I1          TST_BIT_OF ACCST_USECHK_100                     ;no use
35953 00007C06 8908                   M           BT      ACCST_USECHK_100
35954                              28 I1  
35955 00007C08 D107                29 I1          MOV.L   #_MODE_SEL,R1                           ;
35956 00007C0A 6011                30 I1          MOV.W   @R1,R0                                  ;
35957 00007C0C C81E                31 I1          TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
35958                              32 I1          TST_BIT_OF ACCST_USECHK_100                     ;no use
35959 00007C0E 8904                   M           BT      ACCST_USECHK_100
35960                              33 I1  
35961 00007C10 D106                34 I1          MOV.L   #_LINK_1ROT_PLS,R1                      ;
35962 00007C12 6412                35 I1          MOV.L   @R1,R4                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   535
PROGRAM NAME =

35963 00007C14 D106                36 I1          MOV.L   #_ACCST_GEN_MAX_LNG,R1                  ;最大速度時の減速距離
35964 00007C16 2142                37 I1          MOV.L   R4,@R1                                  ;(とりあえず360度分)
35965                              38 I1  
35966 00007C18 E201                39 I1          MOV.B   #BIT0,R2                                ;
35967                              40 I1  
35968 00007C1A                     41 I1  ACCST_USECHK_100
35969 00007C1A D106                42 I1          MOV.L   #_ACCST_USE_CONF,R1                     ;
35970 00007C1C 2121                43 I1          MOV.W   R2,@R1                                  ;
35971                              44 I1  
35972                              45 I1  
35973                              46 I1  
35974                              47 I1          SUB_END
35975                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35976 00007C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35977                              48 I1          M_RTS
35978 00007C20 000B                   M           RTS                             ;RTSの後ろの
35979 00007C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35980                              49 I1  
35981                              50 I1  ;       ***************************************************
35982                              51 I1  ;       ***                                             ***
35983                              52 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
35984                              53 I1  ;       ***                                             ***
35985                              54 I1  ;       ***************************************************
35986                                 I1  ***** BEGIN-POOL *****
35987 00007C24 00000000               I1  DATA FOR SOURCE-LINE 24
35988 00007C28 00000000               I1  DATA FOR SOURCE-LINE 29
35989 00007C2C 00000000               I1  DATA FOR SOURCE-LINE 34
35990 00007C30 00000000               I1  DATA FOR SOURCE-LINE 36
35991 00007C34 00000000               I1  DATA FOR SOURCE-LINE 42
35992                                 I1  ***** END-POOL *****
35993 00007C38                     55 I1  _API_ACCST_DRV_START1
35994                              56 I1          SUB_START
35995 00007C38 4F22                   M           STS.L   PR,@-R15                ;[必要]
35996                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35997                              57 I1  
35998                              58 I1  
35999                              59 I1          FAR_JSR #_API_ACCST_DRV_START2,R0       ;
36000 00007C3A D004                   M           MOV.L   #_API_ACCST_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36001 00007C3C 400B                   M           JSR     @R0                     ;
36002 00007C3E 0009                   M           NOP                                     ;
36003                              60 I1          FAR_JSR #_API_ACCST_DRV_WORK_CLR,R0     ;デバック用
36004 00007C40 D003                   M           MOV.L   #_API_ACCST_DRV_WORK_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36005 00007C42 400B                   M           JSR     @R0                     ;
36006 00007C44 0009                   M           NOP                                     ;
36007                              61 I1  
36008                              62 I1          SUB_END
36009                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36010 00007C46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36011                              63 I1          M_RTS
36012 00007C48 000B                   M           RTS                             ;RTSの後ろの
36013 00007C4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36014                              64 I1  
36015                              65 I1  ;       ----------- ﾃﾞﾊﾞｯｸ用にｸﾘｱ------------
36016                                 I1  ***** BEGIN-POOL *****
36017 00007C4C 00000000               I1  DATA FOR SOURCE-LINE 59
36018 00007C50 00000000               I1  DATA FOR SOURCE-LINE 60
36019                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   536
PROGRAM NAME =

36020 00007C54                     66 I1  _API_ACCST_DRV_WORK_CLR
36021                              67 I1          SUB_START
36022 00007C54 4F22                   M           STS.L   PR,@-R15                ;[必要]
36023                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36024 00007C56 200A                68 I1          XOR     R0,R0
36025 00007C58 D103                69 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
36026 00007C5A 2102                70 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
36027 00007C5C D103                71 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;//出力速度
36028 00007C5E 2102                72 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
36029                              73 I1          SUB_END
36030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36031 00007C60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36032                              74 I1          M_RTS
36033 00007C62 000B                   M           RTS                             ;RTSの後ろの
36034 00007C64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36035                              75 I1  
36036                              76 I1  ;       ***************************************************
36037                              77 I1  ;       ***                                             ***
36038                              78 I1  ;       ***     起動時CALL(減速完了,次の減速演算)       ***
36039                              79 I1  ;       ***                                             ***
36040                              80 I1  ;       ***************************************************
36041                                 I1  ***** BEGIN-POOL *****
36042 00007C66 0000                   I1  ALIGNMENT CODE
36043 00007C68 00000000               I1  DATA FOR SOURCE-LINE 69
36044 00007C6C 00000000               I1  DATA FOR SOURCE-LINE 71
36045                                 I1  ***** END-POOL *****
36046 00007C70                     81 I1  _API_ACCST_DRV_START2
36047                              82 I1          SUB_START
36048 00007C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
36049                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36050                              83 I1  
36051 00007C72 D105                84 I1          MOV.L   #_ACCST_USE_CONF,R1                     ;
36052 00007C74 6011                85 I1          MOV.W   @R1,R0                                  ;
36053 00007C76 C801                86 I1          TST     #BIT0,R0                                ;
36054                              87 I1          TST_BIT_OF API_ACCST_DRVSTR2_EXT                ;
36055 00007C78 8902                   M           BT      API_ACCST_DRVSTR2_EXT
36056                              88 I1  
36057 00007C7A E001                89 I1          MOV.B   #BIT0,R0                                ;
36058 00007C7C D103                90 I1          MOV.L   #_ACCST_CALC_FLG,R1                     ;
36059 00007C7E 2101                91 I1          MOV.W   R0,@R1                                  ;[BIT6,BIT7CLR BIT0=1]
36060                              92 I1  
36061                              93 I1  
36062 00007C80                     94 I1  API_ACCST_DRVSTR2_EXT
36063                              95 I1  
36064                              96 I1          SUB_END
36065                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36066 00007C80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36067                              97 I1          M_RTS
36068 00007C82 000B                   M           RTS                             ;RTSの後ろの
36069 00007C84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36070                              98 I1  
36071                              99 I1  
36072                             100 I1  
36073                             101 I1  ;       *******************************************
36074                             102 I1  ;       ***                                     ***
36075                             103 I1  ;       ***     位置決め中断時CALL              ***
36076                             104 I1  ;       ***     位置決め停止タイマ時CALL        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   537
PROGRAM NAME =

36077                             105 I1  ;       ***     異常時CALL                      ***
36078                             106 I1  ;       ***                                     ***
36079                             107 I1  ;       *******************************************
36080                             108 I1  ;//BIT0:起動[API]
36081                             109 I1  ;//BIT6:[減速開始]
36082                             110 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
36083                             111 I1  
36084                                 I1  ***** BEGIN-POOL *****
36085 00007C86 0000                   I1  ALIGNMENT CODE
36086 00007C88 00000000               I1  DATA FOR SOURCE-LINE 84
36087 00007C8C 00000000               I1  DATA FOR SOURCE-LINE 90
36088                                 I1  ***** END-POOL *****
36089 00007C90                    112 I1  _API_ACCST_DRV_STOP
36090                             113 I1          SUB_START
36091 00007C90 4F22                   M           STS.L   PR,@-R15                ;[必要]
36092                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36093 00007C92 200A               114 I1          XOR     R0,R0
36094 00007C94 D103               115 I1          MOV.L   #_ACCST_CALC_FLG,R1             ;
36095 00007C96 2101               116 I1          MOV.W   R0,@R1                          ;
36096                             117 I1  
36097                             118 I1  ;       ---------行程番号-------
36098 00007C98 200A               119 I1          XOR     R0,R0                                   ;
36099 00007C9A D103               120 I1          MOV.L   #_ACCST_GET_STEP_NO,R1                  ;//BIT1=1時の対象行程
36100 00007C9C 2101               121 I1          MOV.W   R0,@R1                                  ;
36101                             122 I1  
36102                             123 I1          SUB_END
36103                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36104 00007C9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36105                             124 I1          M_RTS
36106 00007CA0 000B                   M           RTS                             ;RTSの後ろの
36107 00007CA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36108                             125 I1  
36109                             126 I1  
36110                             127 I1  
36111                             128 I1  ;       *******************************************
36112                             129 I1  ;       ***                                     ***
36113                             130 I1  ;       ***     1msecでCALL     メイン          ***
36114                             131 I1  ;       ***                                     ***
36115                             132 I1  ;       *******************************************
36116                             133 I1  ;       2015-11-17 減速選択
36117                             134 I1  ;       [オーバライド前にCALL]
36118                             135 I1  ;       Input  R2:設定速度
36119                             136 I1  ;       Output R2:設定速度相当
36120                             137 I1  ;       PAR_ACCDN_MATH=1 減速優先演算
36121                             138 I1  ;
36122                                 I1  ***** BEGIN-POOL *****
36123 00007CA4 00000000               I1  DATA FOR SOURCE-LINE 115
36124 00007CA8 00000000               I1  DATA FOR SOURCE-LINE 120
36125                                 I1  ***** END-POOL *****
36126 00007CAC                    139 I1  _ACCST_CTRL_CALC                        ;2015-11-17 減速選択
36127                             140 I1          SUB_START
36128 00007CAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
36129                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36130                             141 I1  
36131 00007CAE D107               142 I1          MOV.L   #_ACCST_SET_SPD,R1                              ;//INPUT モーション演算部
                                          からの速度 (オーバライド前)
36132 00007CB0 2122               143 I1          MOV.L   R2,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   538
PROGRAM NAME =

36133                             144 I1  
36134 00007CB2 940A               145 I1          MOV.W   #D'1000,R4                                      ;
36135                             146 I1          FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
36136 00007CB4 D006                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
36137 00007CB6 400B                   M           JSR     @R0                     ;
36138 00007CB8 0009                   M           NOP                                     ;
36139 00007CBA D106               147 I1          MOV.L   #_ACCST_REAL_SPD1MS,R1                          ;1ms差分
36140 00007CBC 2122               148 I1          MOV.L   R2,@R1                                          ;
36141                             149 I1  
36142 00007CBE D106               150 I1          MOV.L   #_ACCST_CALC_FLG,R1     ;
36143 00007CC0 6011               151 I1          MOV.W   @R1,R0                  ;
36144 00007CC2 C801               152 I1          TST     #BIT0,R0                ;
36145                             153 I1          TST_BIT_ON ACCST_CTRLCALC_100   ;[起動中]
36146 00007CC4 8B0A                   M           BF      ACCST_CTRLCALC_100
36147                             154 I1          M_BRA   ACCST_CTRLCALC_800
36148 00007CC6 A041                   M           BRA     ACCST_CTRLCALC_800
36149 00007CC8 0009                   M           NOP
36150                             155 I1  
36151                                 I1  ***** BEGIN-POOL *****
36152 00007CCA 03E8                   I1  DATA FOR SOURCE-LINE 145
36153 00007CCC 00000000               I1  DATA FOR SOURCE-LINE 142
36154 00007CD0 00000000               I1  DATA FOR SOURCE-LINE 146
36155 00007CD4 00000000               I1  DATA FOR SOURCE-LINE 147
36156 00007CD8 00000000               I1  DATA FOR SOURCE-LINE 150
36157                                 I1  ***** END-POOL *****
36158 00007CDC                    156 I1  ACCST_CTRLCALC_100
36159                             157 I1  ;       ---------- 行程変更チェック----------------------------------
36160                             158 I1  ;       [行程変更があれば=ACCST_CALC_FLG=BIT0(BIT6,BIT7をｸﾘｱする)]      ;
36161 00007CDC D111               159 I1          MOV.L   #_INT_POS_CTL_STEP,R1                                   ;//内部制御工程1~1
                                          1
36162 00007CDE 6311               160 I1          MOV.W   @R1,R3                                                  ;
36163 00007CE0 2338               161 I1          TST     R3,R3                                                   ;
36164                             162 I1          TST_BIT_OF ACCST_CTRLCALC_800                                   ;ありえない(CALC_F
                                          LG=0)
36165 00007CE2 8933                   M           BT      ACCST_CTRLCALC_800
36166                             163 I1  
36167                             164 I1          FAR_JSR #_ACCST_CHGSTEP_GET_MAKE,R0                             ;(停止,最終行程で
                                          はやらない.ACCST_ACC_MATH_SEL=0)
36168 00007CE4 D010                   M           MOV.L   #_ACCST_CHGSTEP_GET_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36169 00007CE6 400B                   M           JSR     @R0                     ;
36170 00007CE8 0009                   M           NOP                                     ;
36171                             165 I1  
36172                             166 I1  ;       -------------------------------------------------------------
36173 00007CEA D110               167 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1                                 ;//1STEP分
36174 00007CEC 6011               168 I1          MOV.W   @R1,R0                                                  ;
36175 00007CEE C801               169 I1          TST     #BIT0,R0                                                ;
36176                             170 I1          TST_BIT_OF ACCST_CTRLCALC_800                                   ;(後加速,減速の場
                                          合は何もしない)
36177 00007CF0 892C                   M           BT      ACCST_CTRLCALC_800
36178                             171 I1  
36179 00007CF2 D10F               172 I1          MOV.L   #_ACCST_CALC_FLG,R1                                     ;
36180 00007CF4 6011               173 I1          MOV.W   @R1,R0                                          ;
36181 00007CF6 C880               174 I1          TST     #BIT7,R0                                        ;
36182                             175 I1          TST_BIT_ON ACCST_CTRLCALC_800                           ;演算不要:行程変更が変わる
                                          まで演算しなくていい
36183 00007CF8 8B28                   M           BF      ACCST_CTRLCALC_800
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   539
PROGRAM NAME =

36184                             176 I1  
36185 00007CFA C840               177 I1          TST     #BIT6,R0                ;
36186                             178 I1          TST_BIT_ON ACCST_CTRLCALC_200   ;[減速or加速中か YES]
36187 00007CFC 8B06                   M           BF      ACCST_CTRLCALC_200
36188                             179 I1  
36189                             180 I1  ;       ------- 減速/加速開始条件チェック---------
36190                             181 I1          FAR_JSR #_ACCST_UPDN_START_CONF_CHECK,R0                ;この行程だけ見ればいい.AC
                                          CST_ACC_MATH_SEL.BIT1=0/1(減速加速)
36191 00007CFE D00D                   M           MOV.L   #_ACCST_UPDN_START_CONF_CHECK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36192 00007D00 400B                   M           JSR     @R0                     ;
36193 00007D02 0009                   M           NOP                                     ;
36194                             182 I1  
36195 00007D04 D10A               183 I1          MOV.L   #_ACCST_CALC_FLG,R1                     ;
36196 00007D06 6011               184 I1          MOV.W   @R1,R0                                  ;
36197 00007D08 C840               185 I1          TST     #BIT6,R0                                ;
36198                             186 I1          TST_BIT_OF ACCST_CTRLCALC_800                   ;演算不要
36199 00007D0A 891F                   M           BT      ACCST_CTRLCALC_800
36200                             187 I1  
36201                             188 I1  ;       ------------- 減速中-----------
36202 00007D0C                    189 I1  ACCST_CTRLCALC_200
36203                             190 I1  
36204                             191 I1  ;       ------- 加速・減速終了条件チェック---------
36205                             192 I1          FAR_JSR #_ACCST_UPDN_END_CONF_CHECK,R0
36206 00007D0C D00A                   M           MOV.L   #_ACCST_UPDN_END_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36207 00007D0E 400B                   M           JSR     @R0                     ;
36208 00007D10 0009                   M           NOP                                     ;
36209 00007D12 2008               193 I1          TST     R0,R0                                                           ;
36210                             194 I1          TST_BIT_ON ACCST_CTRLCALC_300                                           ;減速/加速
                                          演算継続
36211 00007D14 8B12                   M           BF      ACCST_CTRLCALC_300
36212                             195 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT7,WKREG=R1      ;
36213 00007D16 D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
36214 00007D18 6011                   M           MOV.W   @R1,R0          ;
36215 00007D1A CB80                   M           OR      #BIT7,R0                ;
36216 00007D1C 2101                   M           MOV.W   R0,@R1          ;
36217                             196 I1          M_BRA   ACCST_CTRLCALC_800                                              ;演算終了:
36218 00007D1E A015                   M           BRA     ACCST_CTRLCALC_800
36219 00007D20 0009                   M           NOP
36220                             197 I1  
36221                                 I1  ***** BEGIN-POOL *****
36222 00007D22 0000                   I1  ALIGNMENT CODE
36223 00007D24 00000000               I1  DATA FOR SOURCE-LINE 159
36224 00007D28 00000000               I1  DATA FOR SOURCE-LINE 164
36225 00007D2C 00000000               I1  DATA FOR SOURCE-LINE 167
36226 00007D30 00000000               I1  DATA FOR SOURCE-LINE 172,183,195
36227 00007D34 00000000               I1  DATA FOR SOURCE-LINE 181
36228 00007D38 00000000               I1  DATA FOR SOURCE-LINE 192
36229                                 I1  ***** END-POOL *****
36230 00007D3C                    198 I1  ACCST_CTRLCALC_300
36231                             199 I1          FAR_JSR #_ACCST_UPDN_OUTSPD_CALC,R0     ;
36232 00007D3C D002                   M           MOV.L   #_ACCST_UPDN_OUTSPD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36233 00007D3E 400B                   M           JSR     @R0                     ;
36234 00007D40 0009                   M           NOP                                     ;
36235                             200 I1          M_BRA   ACCST_CTRLCALC_900              ;
36236 00007D42 A009                   M           BRA     ACCST_CTRLCALC_900
36237 00007D44 0009                   M           NOP
36238                             201 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   540
PROGRAM NAME =

36239                             202 I1  ;       ----------- R2を設定値に戻す----------------
36240                                 I1  ***** BEGIN-POOL *****
36241 00007D46 0000                   I1  ALIGNMENT CODE
36242 00007D48 00000000               I1  DATA FOR SOURCE-LINE 199
36243                                 I1  ***** END-POOL *****
36244 00007D4C                    203 I1  ACCST_CTRLCALC_800                              ;
36245 00007D4C D101               204 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
36246 00007D4E 6212               205 I1          MOV.L   @R1,R2                          ;
36247                             206 I1          M_BRA   ACCST_CTRLCALC_EXT              ;
36248 00007D50 A004                   M           BRA     ACCST_CTRLCALC_EXT
36249 00007D52 0009                   M           NOP
36250                             207 I1  
36251                             208 I1  ;       ---------  演算中なので演算結果を出力する---------
36252                                 I1  ***** BEGIN-POOL *****
36253 00007D54 00000000               I1  DATA FOR SOURCE-LINE 204
36254                                 I1  ***** END-POOL *****
36255 00007D58                    209 I1  ACCST_CTRLCALC_900                              ;
36256 00007D58 D107               210 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;       //出力速度
36257 00007D5A 6212               211 I1          MOV.L   @R1,R2                          ;
36258                             212 I1  
36259 00007D5C                    213 I1  ACCST_CTRLCALC_EXT                              ;
36260                             214 I1  
36261 00007D5C D107               215 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;//1STEP分
36262 00007D5E 6011               216 I1          MOV.W   @R1,R0                          ;
36263 00007D60 C903               217 I1          AND     #BIT1+BIT0,R0                   ;
36264 00007D62 4018               218 I1          SHLL8   R0                              ;
36265 00007D64 6403               219 I1          MOV     R0,R4
36266 00007D66 D106               220 I1          MOV.L   #_ACCST_CALC_FLG,R1             ;
36267 00007D68 6011               221 I1          MOV.W   @R1,R0                          ;BIT0,BIT6,BIT7
36268 00007D6A C9C1               222 I1          AND     #BIT0+BIT6+BIT7,R0              ;
36269 00007D6C 204B               223 I1          OR      R4,R0                           ;BIT0,BIT6,BIT7,BIT8,BIT9
36270 00007D6E D105               224 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB255,R1     ;255
36271 00007D70 2101               225 I1          MOV.W   R0,@R1                          ;
36272                             226 I1  
36273                             227 I1  ;       ------- output [R2] --------------
36274                             228 I1  
36275                             229 I1          SUB_END
36276                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36277 00007D72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36278                             230 I1          M_RTS
36279 00007D74 000B                   M           RTS                             ;RTSの後ろの
36280 00007D76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36281                             231 I1  
36282                             232 I1  
36283                             233 I1  ;       *******************************************
36284                             234 I1  ;       ***                                     ***
36285                             235 I1  ;       ***                                     ***
36286                             236 I1  ;       ***     加速または減速終了条件          ***
36287                             237 I1  ;       ***                                     ***
36288                             238 I1  ;       ***                                     ***
36289                             239 I1  ;       *******************************************
36290                             240 I1  ;       前変則でのみ実行
36291                             241 I1  ;       OUTPUT R0       R0=0:加速,減速終了
36292                             242 I1  ;                       R0=1:加速中,減速中
36293                             243 I1  ;
36294                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   541
PROGRAM NAME =

36295 00007D78 00000000               I1  DATA FOR SOURCE-LINE 210
36296 00007D7C 00000000               I1  DATA FOR SOURCE-LINE 215
36297 00007D80 00000000               I1  DATA FOR SOURCE-LINE 220
36298 00007D84 00000000               I1  DATA FOR SOURCE-LINE 224
36299                                 I1  ***** END-POOL *****
36300 00007D88                    244 I1  _ACCST_UPDN_END_CONF_CHECK
36301                             245 I1          SUB_START
36302 00007D88 4F22                   M           STS.L   PR,@-R15                ;[必要]
36303                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36304 00007D8A D104               246 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;//1STEP分
36305 00007D8C 6011               247 I1          MOV.W   @R1,R0                          ;
36306 00007D8E C802               248 I1          TST     #BIT1,R0                        ;
36307                             249 I1          TST_BIT_ON ACCST_UPDN_END_CONFCHK_100   ;BIT1=1減速
36308 00007D90 8B08                   M           BF      ACCST_UPDN_END_CONFCHK_100
36309                             250 I1  
36310                             251 I1          FAR_JSR #_ACCST_UP_END_CONF_CHECK,R0    ;
36311 00007D92 D003                   M           MOV.L   #_ACCST_UP_END_CONF_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36312 00007D94 400B                   M           JSR     @R0                     ;
36313 00007D96 0009                   M           NOP                                     ;
36314                             252 I1          M_BRA   ACCST_UPDN_END_CONFCHK_200      ;
36315 00007D98 A007                   M           BRA     ACCST_UPDN_END_CONFCHK_200
36316 00007D9A 0009                   M           NOP
36317                             253 I1  
36318                                 I1  ***** BEGIN-POOL *****
36319 00007D9C 00000000               I1  DATA FOR SOURCE-LINE 246
36320 00007DA0 00000000               I1  DATA FOR SOURCE-LINE 251
36321                                 I1  ***** END-POOL *****
36322 00007DA4                    254 I1  ACCST_UPDN_END_CONFCHK_100
36323                             255 I1          FAR_JSR #_ACCST_DN_END_CONF_CHECK,R0    ;
36324 00007DA4 D002                   M           MOV.L   #_ACCST_DN_END_CONF_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36325 00007DA6 400B                   M           JSR     @R0                     ;
36326 00007DA8 0009                   M           NOP                                     ;
36327 00007DAA                    256 I1  ACCST_UPDN_END_CONFCHK_200
36328                             257 I1          SUB_END
36329                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36330 00007DAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36331                             258 I1          M_RTS
36332 00007DAC 000B                   M           RTS                             ;RTSの後ろの
36333 00007DAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36334                             259 I1  
36335                             260 I1  
36336                             261 I1  ;       *******************************************
36337                             262 I1  ;       ***                                     ***
36338                             263 I1  ;       ***     減速終了条件                    ***
36339                             264 I1  ;       ***                                     ***
36340                             265 I1  ;       *******************************************
36341                             266 I1  ;       OUTPUT R0:0:減速終了 1:減速中
36342                             267 I1  ;       INPUT:R2(設定速度:符号無し)
36343                                 I1  ***** BEGIN-POOL *****
36344 00007DB0 00000000               I1  DATA FOR SOURCE-LINE 255
36345                                 I1  ***** END-POOL *****
36346 00007DB4                    268 I1  _ACCST_DN_END_CONF_CHECK
36347                             269 I1          SUB_START
36348 00007DB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36349                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36350 00007DB6 D104               270 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   542
PROGRAM NAME =

36351 00007DB8 6212               271 I1          MOV.L   @R1,R2                          ;
36352 00007DBA D104               272 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
36353 00007DBC 6312               273 I1          MOV.L   @R1,R3                          ;
36354 00007DBE 3323               274 I1          CMP/GE  R2,R3                           ;R2(ﾓｰｼｮﾝ演算部演算結果)≦R3(設定)(R2=R3)
36355 00007DC0 8906               275 I1          BT      ACCST_DN_END_CONFCHK_100        ;
36356 00007DC2 E001               276 I1          MOV.B   #BIT0,R0                        ;まだ減速継続
36357                             277 I1          M_BRA   ACCST_DN_END_CONFCHK_300        ;
36358 00007DC4 A005                   M           BRA     ACCST_DN_END_CONFCHK_300
36359 00007DC6 0009                   M           NOP
36360                             278 I1  
36361                                 I1  ***** BEGIN-POOL *****
36362 00007DC8 00000000               I1  DATA FOR SOURCE-LINE 270
36363 00007DCC 00000000               I1  DATA FOR SOURCE-LINE 272
36364                                 I1  ***** END-POOL *****
36365 00007DD0                    279 I1  ACCST_DN_END_CONFCHK_100
36366 00007DD0 200A               280 I1          XOR     R0,R0
36367 00007DD2                    281 I1  ACCST_DN_END_CONFCHK_300
36368                             282 I1  
36369                             283 I1          SUB_END
36370                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36371 00007DD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36372                             284 I1          M_RTS
36373 00007DD4 000B                   M           RTS                             ;RTSの後ろの
36374 00007DD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36375                             285 I1  
36376                             286 I1  ;       *******************************************
36377                             287 I1  ;       ***                                     ***
36378                             288 I1  ;       ***     加速終了条件                    ***
36379                             289 I1  ;       ***                                     ***
36380                             290 I1  ;       *******************************************
36381                             291 I1  ;       OUTPUT R0:0:加速終了 1:加速中
36382                             292 I1  ;       INPUT:R2(設定速度:符号無し)
36383 00007DD8                    293 I1  _ACCST_UP_END_CONF_CHECK
36384                             294 I1          SUB_START
36385 00007DD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
36386                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36387 00007DDA D104               295 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
36388 00007DDC 6212               296 I1          MOV.L   @R1,R2                          ;
36389 00007DDE D104               297 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
36390 00007DE0 6312               298 I1          MOV.L   @R1,R3                          ;
36391 00007DE2 3233               299 I1          CMP/GE  R3,R2                           ;R3(対象の設定速度)≦R2(モーション演算部の
                                          速度)(R2=R3)
36392 00007DE4 8906               300 I1          BT      ACCST_UP_END_CONFCHK_100        ;
36393 00007DE6 E001               301 I1          MOV.B   #BIT0,R0                        ;まだ加速継続
36394                             302 I1          M_BRA   ACCST_UP_END_CONFCHK_300        ;
36395 00007DE8 A005                   M           BRA     ACCST_UP_END_CONFCHK_300
36396 00007DEA 0009                   M           NOP
36397                             303 I1  
36398                                 I1  ***** BEGIN-POOL *****
36399 00007DEC 00000000               I1  DATA FOR SOURCE-LINE 295
36400 00007DF0 00000000               I1  DATA FOR SOURCE-LINE 297
36401                                 I1  ***** END-POOL *****
36402 00007DF4                    304 I1  ACCST_UP_END_CONFCHK_100
36403 00007DF4 200A               305 I1          XOR     R0,R0
36404 00007DF6                    306 I1  ACCST_UP_END_CONFCHK_300
36405                             307 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   543
PROGRAM NAME =

36406                             308 I1          SUB_END
36407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36408 00007DF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36409                             309 I1          M_RTS
36410 00007DF8 000B                   M           RTS                             ;RTSの後ろの
36411 00007DFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36412                             310 I1  
36413                             311 I1  ;       *******************************************
36414                             312 I1  ;       ***                                     ***
36415                             313 I1  ;       ***     行程切替時                      ***
36416                             314 I1  ;       ***                                     ***
36417                             315 I1  ;       *******************************************
36418                             316 I1  ;       INPUT R3: INT_POS_CTL_STEP 0以外
36419                             317 I1  ;       (停止,最終行程ではやらない.ACCST_ACC_MATH_SEL=0)
36420                             318 I1  ;
36421 00007DFC                    319 I1  _ACCST_CHGSTEP_GET_MAKE
36422                             320 I1          SUB_START
36423 00007DFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
36424                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36425                             321 I1  
36426 00007DFE D513               322 I1          MOV.L   #_ACCST_GET_STEP_NO,R5                  ;//BIT1=1時の対象行程
36427 00007E00 6051               323 I1          MOV.W   @R5,R0                                  ;
36428 00007E02 2531               324 I1          MOV.W   R3,@R5                                  ;
36429 00007E04 3030               325 I1          CMP/EQ  R3,R0                                   ;
36430 00007E06 891D               326 I1          BT      ACCST_CHGSTEP_GETINF_EXT                ;同じ
36431                             327 I1  
36432                             328 I1          PUSH_REG1 R3
36433 00007E08 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
36434                                 M                                           ;REG=>[SP]
36435                                 M                                           ;"-4" FF,FF,FF,FC
36436                             329 I1          FAR_JSR #_API_ACCST_DRV_START2,R0               ;
36437 00007E0A D011                   M           MOV.L   #_API_ACCST_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36438 00007E0C 400B                   M           JSR     @R0                     ;
36439 00007E0E 0009                   M           NOP                                     ;
36440                             330 I1          POP_REG1 R3
36441                                 M                                   ; RE"+4" 00,00,00,04
36442 00007E10 63F6                   M           MOV.L   @R15+,R3        ;
36443                             331 I1  
36444                             332 I1  ;       ---------------------------------------------
36445 00007E12 266A               333 I1          XOR     R6,R6
36446 00007E14 D10F               334 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
36447 00007E16 6011               335 I1          MOV.W   @R1,R0                                  ;
36448 00007E18 7001               336 I1          ADD     #1,R0                                   ;[MAX:R0]
36449 00007E1A 3303               337 I1          CMP/GE  R0,R3                                   ;最終行程
36450 00007E1C 8910               338 I1          BT      ACCST_CHGSTEP_GETINF_SET                ;最終行程は固定
36451                             339 I1  
36452 00007E1E DE0E               340 I1          MOV.L   #_CPOS_SDAT1_INF1,R14                   ;4B
36453 00007E20 6433               341 I1          MOV     R3,R4                                   ;
36454 00007E22 74FF               342 I1          ADD     #-1,R4                                  ;
36455 00007E24 4408               343 I1          SHLL2   R4                                      ;
36456 00007E26 3E4C               344 I1          ADD     R4,R14                                  ;
36457 00007E28 60E2               345 I1          MOV.L   @R14,R0                                 ;
36458 00007E2A C801               346 I1          TST     #BIT0,R0                                ;連続か?
36459                             347 I1          TST_BIT_OF ACCST_CHGSTEP_GETINF_SET             ;演算しない
36460 00007E2C 8908                   M           BT      ACCST_CHGSTEP_GETINF_SET
36461                             348 I1  
36462                             349 I1  ;       -----------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   544
PROGRAM NAME =

36463 00007E2E D50B               350 I1          MOV.L   #_SET1_MOT_INF,R5                       ;
36464 00007E30 6433               351 I1          MOV     R3,R4
36465 00007E32 74FF               352 I1          ADD     #-1,R4                                  ;
36466 00007E34 4400               353 I1          SHLL    R4                                      ;
36467 00007E36 354C               354 I1          ADD     R4,R5                                   ;
36468 00007E38 6051               355 I1          MOV.W   @R5,R0                                  ;
36469 00007E3A C802               356 I1          TST     #BIT1,R0                                ;
36470                             357 I1          TST_BIT_ON ACCST_CHGSTEP_GETINF_100             ;BIT1=1[後変則]:通常ソフト(R6=0)
36471 00007E3C 8B00                   M           BF      ACCST_CHGSTEP_GETINF_100
36472 00007E3E E601               358 I1          MOV.B   #BIT0,R6                                ;BIT1=0[前変則]:行程切替前変則
36473 00007E40                    359 I1  ACCST_CHGSTEP_GETINF_100                                ;
36474                             360 I1  ;       ---------------------------------------------------
36475                             361 I1  
36476 00007E40                    362 I1  ACCST_CHGSTEP_GETINF_SET
36477 00007E40 D107               363 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1                 ;//1STEP分
36478 00007E42 2161               364 I1          MOV.W   R6,@R1                                  ;指定されている行程の終わり方の抽
                                          出
36479                             365 I1                                                          ;BIT0:SET,BIT1=CLR()
36480 00007E44                    366 I1  ACCST_CHGSTEP_GETINF_EXT
36481                             367 I1  
36482                             368 I1          SUB_END
36483                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36484 00007E44 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36485                             369 I1          M_RTS
36486 00007E46 000B                   M           RTS                             ;RTSの後ろの
36487 00007E48 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36488                             370 I1  
36489                             371 I1  
36490                             372 I1  
36491                             373 I1  
36492                             374 I1  
36493                             375 I1  ;       *******************************************
36494                             376 I1  ;       ***                                     ***
36495                             377 I1  ;       ***     出力演算                        ***
36496                             378 I1  ;       ***     通常の減速演算を使用するので    ***
36497                             379 I1  ;       ***     今のところ演算不要              ***
36498                             380 I1  ;       ***                                     ***
36499                             381 I1  ;       *******************************************
36500                             382 I1  ;       出力速度演算
36501                                 I1  ***** BEGIN-POOL *****
36502 00007E4A 0000                   I1  ALIGNMENT CODE
36503 00007E4C 00000000               I1  DATA FOR SOURCE-LINE 322
36504 00007E50 00000000               I1  DATA FOR SOURCE-LINE 329
36505 00007E54 00000000               I1  DATA FOR SOURCE-LINE 334
36506 00007E58 00000000               I1  DATA FOR SOURCE-LINE 340
36507 00007E5C 00000000               I1  DATA FOR SOURCE-LINE 350
36508 00007E60 00000000               I1  DATA FOR SOURCE-LINE 363
36509                                 I1  ***** END-POOL *****
36510 00007E64                    383 I1  _ACCST_UPDN_OUTSPD_CALC
36511                             384 I1          SUB_START
36512 00007E64 4F22                   M           STS.L   PR,@-R15                ;[必要]
36513                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36514 00007E66 D103               385 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
36515 00007E68 6312               386 I1          MOV.L   @R1,R3                          ;
36516                             387 I1  
36517 00007E6A D103               388 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;出力速度
36518 00007E6C 2132               389 I1          MOV.L   R3,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   545
PROGRAM NAME =

36519                             390 I1  
36520                             391 I1          SUB_END
36521                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36522 00007E6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36523                             392 I1          M_RTS
36524 00007E70 000B                   M           RTS                             ;RTSの後ろの
36525 00007E72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36526                             393 I1  
36527                             394 I1  
36528                             395 I1  ;       ***************************************************
36529                             396 I1  ;       ***                                             ***
36530                             397 I1  ;       ***     判定用に現在速度・現在加速度の算出      ***
36531                             398 I1  ;       ***     [オーバライド後で演算する]              ***
36532                             399 I1  ;       ***                                             ***
36533                             400 I1  ;       ***************************************************
36534                             401 I1  ;       *******************************************
36535                             402 I1  ;       ***                                     ***
36536                             403 I1  ;       ***     現在の行程から減速行程を探す    ***
36537                             404 I1  ;       ***                                     ***
36538                             405 I1  ;       *******************************************
36539                             406 I1  ;       S4b     CPOS_SDAT1_CNTSTEP[100+10];             //SETX-->起動時COPY
36540                             407 I1  ;       S4b     CPOS_SDAT1_INF1[100+10];                //SETX-->起動時COPY
36541                             408 I1  ;       S4b     CPOS_SDAT1_CHGAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
36542                             409 I1  ;       S4b     CPOS_SDAT1_STPAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
36543                             410 I1  ;
36544                             411 I1  
36545                                 I1  ***** BEGIN-POOL *****
36546 00007E74 00000000               I1  DATA FOR SOURCE-LINE 385
36547 00007E78 00000000               I1  DATA FOR SOURCE-LINE 388
36548                                 I1  ***** END-POOL *****
36549 00007E7C                    412 I1  _ACCST_UPDN_START_CONF_CHECK
36550                             413 I1          SUB_START
36551 00007E7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
36552                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36553 00007E7E D103               414 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
36554 00007E80 6011               415 I1          MOV.W   @R1,R0                          ;
36555 00007E82 2008               416 I1          TST     R0,R0                           ;
36556                             417 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_050 ;
36557 00007E84 8B04                   M           BF      ACCST_UPDN_START_CONFCHK_050
36558                             418 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT    ;
36559 00007E86 A08B                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36560 00007E88 0009                   M           NOP
36561                             419 I1  
36562                                 I1  ***** BEGIN-POOL *****
36563 00007E8A 0000                   I1  ALIGNMENT CODE
36564 00007E8C 00000000               I1  DATA FOR SOURCE-LINE 414
36565                                 I1  ***** END-POOL *****
36566 00007E90                    420 I1  ACCST_UPDN_START_CONFCHK_050
36567 00007E90 D103               421 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
36568 00007E92 6511               422 I1          MOV.W   @R1,R5                          ;
36569 00007E94 7501               423 I1          ADD     #1,R5                           ;[MAX:R5]
36570 00007E96 3053               424 I1          CMP/GE  R5,R0                           ;最終行程
36571 00007E98 8B04               425 I1          BF      ACCST_UPDN_START_CONFCHK_100    ;
36572                             426 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT    ;R5=R0最終行程
36573 00007E9A A081                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36574 00007E9C 0009                   M           NOP
36575                             427 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   546
PROGRAM NAME =

36576                             428 I1  ;       ---------------------------------------
36577                                 I1  ***** BEGIN-POOL *****
36578 00007E9E 0000                   I1  ALIGNMENT CODE
36579 00007EA0 00000000               I1  DATA FOR SOURCE-LINE 421
36580                                 I1  ***** END-POOL *****
36581 00007EA4                    429 I1  ACCST_UPDN_START_CONFCHK_100
36582 00007EA4 6803               430 I1          MOV     R0,R8                           ;行程
36583                             431 I1  
36584                             432 I1  ;       行程1の場合
36585                             433 I1  ;       INF1:行程1を参照
36586                             434 I1  ;       CHG :行程1を参照
36587                             435 I1  ;       速度:行程2を参照
36588                             436 I1  
36589 00007EA6 70FF               437 I1          ADD     #-1,R0                          ;
36590 00007EA8 4008               438 I1          SHLL2   R0                              ;*4
36591 00007EAA DD1A               439 I1          MOV.L   #_CPOS_SDAT1_SPD,R13            ;4B
36592 00007EAC 3D0C               440 I1          ADD     R0,R13                          ;
36593 00007EAE 67D2               441 I1          MOV.L   @R13,R7                         ;現段の設定速度
36594 00007EB0 7D04               442 I1          ADD     #4,R13                          ;次段の設定速度(評価対象目標速度)
36595                             443 I1  
36596 00007EB2 DE19               444 I1          MOV.L   #_CPOS_SDAT1_INF1,R14           ;4B
36597 00007EB4 3E0C               445 I1          ADD     R0,R14                          ;
36598                             446 I1  
36599 00007EB6 4000               447 I1          SHLL    R0
36600 00007EB8 DC18               448 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R12        ;切替位置8B
36601 00007EBA 3C0C               449 I1          ADD     R0,R12                          ;
36602                             450 I1  
36603                             451 I1  
36604                             452 I1  
36605 00007EBC 60E2               453 I1          MOV.L   @R14,R0                         ;INF
36606 00007EBE C801               454 I1          TST     #BIT0,R0                        ;連続か?
36607                             455 I1          TST_BIT_OF ACCST_UPDN_START_CONFCHK_550 ;この行程は停止なので終了
36608 00007EC0 896B                   M           BT      ACCST_UPDN_START_CONFCHK_550
36609                             456 I1  
36610                             457 I1  ;       (------- 方向判別は不要R0.BIT1--------)
36611                             458 I1  ;       --------- 連続-----------
36612 00007EC2 D417               459 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
36613 00007EC4 6546               460 I1          MOV.L   @R4+,R5                                                 ;
36614 00007EC6 6642               461 I1          MOV.L   @R4,R6                                                  ;ﾘｱﾙﾀｲﾑ目標位置
36615 00007EC8 51C0               462 I1          MOV.L   @(0,R12),R1                                             ;
36616 00007ECA 52C1               463 I1          MOV.L   @(4,R12),R2                                             ;設定位置
36617                             464 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2-R5,R6
36618 00007ECC 0008                   M           CLRT
36619 00007ECE 326A                   M           SUBC    R6,R2
36620 00007ED0 315A                   M           SUBC    R5,R1
36621                             465 I1  
36622 00007ED2 4111               466 I1          CMP/PZ  R1                              ;
36623 00007ED4 8905               467 I1          BT      ACCST_UPDN_START_CONFCHK_250    ;
36624                             468 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;|R1,R2|=設定-現在目標位置
36625 00007ED6 6227                   M           NOT     R2,R2                           ;
36626 00007ED8 6117                   M           NOT     R1,R1                           ;
36627 00007EDA 200A                   M           XOR     R0,R0                           ;
36628 00007EDC 0018                   M           SETT
36629 00007EDE 320E                   M           ADDC    R0,R2                           ;0+1+R2
36630 00007EE0 310E                   M           ADDC    R0,R1                           ;
36631 00007EE2                    469 I1  ACCST_UPDN_START_CONFCHK_250:                   ;
36632                             470 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   547
PROGRAM NAME =

36633                             471 I1  
36634 00007EE2 2118               472 I1          TST     R1,R1                                   ;
36635                             473 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_580         ;まだ距離が十分にある
36636 00007EE4 8B5C                   M           BF      ACCST_UPDN_START_CONFCHK_580
36637                             474 I1  
36638 00007EE6 D50F               475 I1          MOV.L   #_ACCST_REAL_SPD1MS,R5                  ;
36639 00007EE8 6452               476 I1          MOV.L   @R5,R4                                  ;
36640 00007EEA 3248               477 I1          SUB     R4,R2                                   ;
36641 00007EEC 4215               478 I1          CMP/PL  R2
36642 00007EEE 8900               479 I1          BT      ACCST_UPDN_START_CONFCHK_280            ;
36643 00007EF0 920F               480 I1          MOV.W   #1,R2                                   ;
36644 00007EF2                    481 I1  ACCST_UPDN_START_CONFCHK_280:                           ;R2:残り距離
36645                             482 I1  
36646 00007EF2 D50D               483 I1          MOV.L   #_ACCST_GEN_MAX_LNG,R5                  ;最大速度時の減速距離(100->0 0->10
                                          0%に必要な距離)
36647 00007EF4 6452               484 I1          MOV.L   @R5,R4                                  ;
36648 00007EF6 3246               485 I1          CMP/HI  R4,R2                                   ;R4<R2
36649 00007EF8 8952               486 I1          BT      ACCST_UPDN_START_CONFCHK_580            ;まだ距離が十分にある
36650                             487 I1  
36651 00007EFA 60D2               488 I1          MOV.L   @R13,R0                                 ;次の段
36652 00007EFC 3700               489 I1          CMP/EQ  R0,R7                                   ;現行の段
36653 00007EFE 8949               490 I1          BT      ACCST_UPDN_START_CONFCHK_540            ;
36654                             491 I1  
36655 00007F00 3073               492 I1          CMP/GE  R7,R0                                   ;
36656 00007F02 8915               493 I1          BT      ACCST_UPDN_START_CONFCHK_300            ;加速
36657                             494 I1  
36658                             495 I1  ;       -------------- 減速 -------------
36659                             496 I1  ;INPUT R13:ターゲット設定 R1,R2:距離
36660                             497 I1          FAR_JSR #_ACCST_DN_START_CONF_CHECK,R0
36661 00007F04 D009                   M           MOV.L   #_ACCST_DN_START_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36662 00007F06 400B                   M           JSR     @R0                     ;
36663 00007F08 0009                   M           NOP                                     ;
36664 00007F0A 2008               498 I1          TST     R0,R0
36665                             499 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_500                         ;減速すべき
36666 00007F0C 8B1A                   M           BF      ACCST_UPDN_START_CONFCHK_500
36667                             500 I1          M_BRA   ACCST_UPDN_START_CONFCHK_580                            ;まだ減速は不要
36668 00007F0E A047                   M           BRA     ACCST_UPDN_START_CONFCHK_580
36669 00007F10 0009                   M           NOP
36670                             501 I1  
36671                                 I1  ***** BEGIN-POOL *****
36672 00007F12 0001                   I1  DATA FOR SOURCE-LINE 480
36673 00007F14 00000000               I1  DATA FOR SOURCE-LINE 439
36674 00007F18 00000000               I1  DATA FOR SOURCE-LINE 444
36675 00007F1C 00000000               I1  DATA FOR SOURCE-LINE 448
36676 00007F20 00000000               I1  DATA FOR SOURCE-LINE 459
36677 00007F24 00000000               I1  DATA FOR SOURCE-LINE 475
36678 00007F28 00000000               I1  DATA FOR SOURCE-LINE 483
36679 00007F2C 00000000               I1  DATA FOR SOURCE-LINE 497
36680                                 I1  ***** END-POOL *****
36681 00007F30                    502 I1  ACCST_UPDN_START_CONFCHK_300:                                                   ;
36682                             503 I1  ;       -------------- 加速 ---------------
36683                             504 I1          FAR_JSR #_ACCST_UP_START_CONF_CHECK,R0
36684 00007F30 D003                   M           MOV.L   #_ACCST_UP_START_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36685 00007F32 400B                   M           JSR     @R0                     ;
36686 00007F34 0009                   M           NOP                                     ;
36687 00007F36 2008               505 I1          TST     R0,R0
36688                             506 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_520                         ;加速すべき
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   548
PROGRAM NAME =

36689 00007F38 8B18                   M           BF      ACCST_UPDN_START_CONFCHK_520
36690                             507 I1          M_BRA   ACCST_UPDN_START_CONFCHK_580                            ;まだ加速は不要
36691 00007F3A A031                   M           BRA     ACCST_UPDN_START_CONFCHK_580
36692 00007F3C 0009                   M           NOP
36693                             508 I1  
36694                             509 I1  
36695                             510 I1  
36696                             511 I1  ;       ---------------- 減速開始する[減速スタートする]、演算はやめる-----------
36697                                 I1  ***** BEGIN-POOL *****
36698 00007F3E 0000                   I1  ALIGNMENT CODE
36699 00007F40 00000000               I1  DATA FOR SOURCE-LINE 504
36700                                 I1  ***** END-POOL *****
36701 00007F44                    512 I1  ACCST_UPDN_START_CONFCHK_500:                                                           ;
36702 00007F44 62D2               513 I1          MOV.L   @R13,R2                                                                 ;
                                          設定速度NEW SPEED
36703 00007F46 D106               514 I1          MOV.L   #_ACCST_GET_SET_SPD,R1                                                  ;
36704 00007F48 2122               515 I1          MOV.L   R2,@R1                                                                  ;
36705                             516 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1              ;
36706 00007F4A D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
36707 00007F4C 6011                   M           MOV.W   @R1,R0          ;
36708 00007F4E CB40                   M           OR      #BIT6,R0                ;
36709 00007F50 2101                   M           MOV.W   R0,@R1          ;
36710                             517 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_ACC_MATH_SEL,LG=W,BIT=BIT1,WKREG=R1          ;<
                                          <<<<<<<減速 これは上で評価>>>>>>>
36711 00007F52 D105                   M           MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;
36712 00007F54 6011                   M           MOV.W   @R1,R0          ;
36713 00007F56 CB02                   M           OR      #BIT1,R0                ;
36714 00007F58 2101                   M           MOV.W   R0,@R1          ;
36715                             518 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT                                            ;
36716 00007F5A A021                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36717 00007F5C 0009                   M           NOP
36718                             519 I1  
36719                             520 I1  
36720                             521 I1  ;       ---------------- 加速開始する[加速スタートする]、演算はやめる-----------
36721                                 I1  ***** BEGIN-POOL *****
36722 00007F5E 0000                   I1  ALIGNMENT CODE
36723 00007F60 00000000               I1  DATA FOR SOURCE-LINE 514
36724 00007F64 00000000               I1  DATA FOR SOURCE-LINE 516
36725 00007F68 00000000               I1  DATA FOR SOURCE-LINE 517
36726                                 I1  ***** END-POOL *****
36727 00007F6C                    522 I1  ACCST_UPDN_START_CONFCHK_520:                                                           ;
36728 00007F6C 62D2               523 I1          MOV.L   @R13,R2                                                                 ;
                                          設定速度NEW SPEED
36729 00007F6E D106               524 I1          MOV.L   #_ACCST_GET_SET_SPD,R1                                                  ;
36730 00007F70 2122               525 I1          MOV.L   R2,@R1                                                                  ;
36731                             526 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1              ;
36732 00007F72 D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
36733 00007F74 6011                   M           MOV.W   @R1,R0          ;
36734 00007F76 CB40                   M           OR      #BIT6,R0                ;
36735 00007F78 2101                   M           MOV.W   R0,@R1          ;
36736                             527 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_ACCST_ACC_MATH_SEL,LG=W,BIT=~BIT1,WKREG=R1        ;
36737 00007F7A D105                   M           MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;
36738 00007F7C 6011                   M           MOV.W   @R1,R0          ;
36739 00007F7E C9FD                   M           AND     #LOW ~BIT1,R0           ;
36740 00007F80 2101                   M           MOV.W   R0,@R1          ;
36741                             528 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT                                            ;
36742 00007F82 A00D                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   549
PROGRAM NAME =

36743 00007F84 0009                   M           NOP
36744                             529 I1  
36745                             530 I1  ;       ---------------- 停止行程なのでやめる----------------
36746                                 I1  ***** BEGIN-POOL *****
36747 00007F86 0000                   I1  ALIGNMENT CODE
36748 00007F88 00000000               I1  DATA FOR SOURCE-LINE 524
36749 00007F8C 00000000               I1  DATA FOR SOURCE-LINE 526
36750 00007F90 00000000               I1  DATA FOR SOURCE-LINE 527
36751                                 I1  ***** END-POOL *****
36752 00007F94                    531 I1  ACCST_UPDN_START_CONFCHK_540:                   ;
36753 00007F94 0009               532 I1          NOP                                     ;ここははじくべき
36754                             533 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT
36755 00007F96 A003                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36756 00007F98 0009                   M           NOP
36757 00007F9A                    534 I1  ACCST_UPDN_START_CONFCHK_550:                   ;
36758 00007F9A 0009               535 I1          NOP                                     ;ここははじいているのでこない
36759                             536 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT
36760 00007F9C A000                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36761 00007F9E 0009                   M           NOP
36762                             537 I1  ;       ----------まだその判定の位置にない------------
36763 00007FA0                    538 I1  ACCST_UPDN_START_CONFCHK_580:                   ;
36764 00007FA0                    539 I1  ACCST_UPDN_START_CONFCHK_EXT
36765                             540 I1          SUB_END
36766                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36767 00007FA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36768                             541 I1          M_RTS
36769 00007FA2 000B                   M           RTS                             ;RTSの後ろの
36770 00007FA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36771                             542 I1  
36772                             543 I1  
36773                             544 I1  
36774                             545 I1  
36775                             546 I1  
36776                             547 I1  
36777                             548 I1  
36778                             549 I1  ;       ***********************************************************
36779                             550 I1  ;       ***                                                     ***
36780                             551 I1  ;       ***     減速すべき設定で減速すべき範囲内でR0 !=0        ***
36781                             552 I1  ;       ***                                                     ***
36782                             553 I1  ;       ***********************************************************
36783                             554 I1  ;       ANS R0!=0 減速すべき位置
36784 00007FA6                    555 I1  _ACCST_DN_START_CONF_CHECK
36785                             556 I1          SUB_START
36786 00007FA6 4F22                   M           STS.L   PR,@-R15                ;[必要]
36787                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36788                             557 I1  
36789                             558 I1  ;[速度が高い場合評価をやめる]
36790                             559 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
36791                             560 I1  
36792                             561 I1  ;;不要  PUSH_REG1 R8    ;行程
36793                             562 I1  ;;不要  PUSH_REG1 R12   ;POS
36794                             563 I1  ;;不要  PUSH_REG1 R13   ;SPD
36795                             564 I1  ;;不要  PUSH_REG1 R14   ;INF1
36796 00007FA8 D40B               565 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
36797 00007FAA 6942               566 I1          MOV.L   @R4,R9                                                  ;
36798                             567 I1  
36799 00007FAC 6AD2               568 I1          MOV.L   @R13,R10                                                ;SPD：次段設定
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   550
PROGRAM NAME =

36800                             569 I1          PUSH_REG1 R1                                                    ;
36801 00007FAE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36802                                 M                                           ;REG=>[SP]
36803                                 M                                           ;"-4" FF,FF,FF,FC
36804                             570 I1          PUSH_REG1 R2                                                    ;
36805 00007FB0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36806                                 M                                           ;REG=>[SP]
36807                                 M                                           ;"-4" FF,FF,FF,FC
36808 00007FB2 62A3               571 I1          MOV     R10,R2                                                  ;
36809                             572 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
36810 00007FB4 D009                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36811 00007FB6 400B                   M           JSR     @R0                     ;
36812 00007FB8 0009                   M           NOP                                     ;
36813 00007FBA 6A23               573 I1          MOV     R2,R10                                                  ;
36814                             574 I1          POP_REG1 R2                                                     ;
36815                                 M                                   ; RE"+4" 00,00,00,04
36816 00007FBC 62F6                   M           MOV.L   @R15+,R2        ;
36817                             575 I1          POP_REG1 R1                                                     ;
36818                                 M                                   ; RE"+4" 00,00,00,04
36819 00007FBE 61F6                   M           MOV.L   @R15+,R1        ;
36820                             576 I1  
36821 00007FC0 D407               577 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
36822 00007FC2 6B42               578 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
36823                             579 I1                                                                          ;Input R1,R2 距離
36824                             580 I1                                                                          ;Input R9    現在
                                          速度
36825                             581 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
36826                             582 I1                                                                          ;Input R11   減速
                                          距離
36827                             583 I1  
36828 00007FC4 200A               584 I1          XOR     R0,R0
36829 00007FC6 3A93               585 I1          CMP/GE  R9,R10                                                  ;R9(現在速度)≦R10
                                          (設定速度):不要
36830 00007FC8 8902               586 I1          BT      ACCST_DN_START_CONFCHK_400                              ;
36831                             587 I1  
36832                             588 I1  ;       ***     Input R1,R2(残り距離)           ***
36833                             589 I1  ;       ***     Input R9:SPEED  DATA            ***
36834                             590 I1  ;       ***     Input R10:OFFSET SPEED          ***
36835                             591 I1  ;       ***     Input R11:ACC_LATE              ***
36836                             592 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;ANS R0!=0 減速
36837 00007FCA D006                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36838 00007FCC 400B                   M           JSR     @R0                     ;
36839 00007FCE 0009                   M           NOP                                     ;
36840                             593 I1  
36841 00007FD0                    594 I1  ACCST_DN_START_CONFCHK_400:                                             ;
36842                             595 I1  
36843                             596 I1  
36844                             597 I1  ;;不要  POP_REG1 R14
36845                             598 I1  ;;不要  POP_REG1 R13
36846                             599 I1  ;;不要  POP_REG1 R12
36847                             600 I1  ;;不要  POP_REG1 R8
36848                             601 I1  
36849                             602 I1          SUB_END
36850                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36851 00007FD0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   551
PROGRAM NAME =

36852                             603 I1          M_RTS
36853 00007FD2 000B                   M           RTS                             ;RTSの後ろの
36854 00007FD4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36855                             604 I1  
36856                             605 I1  
36857                             606 I1  ;       ***********************************************************
36858                             607 I1  ;       ***                                                     ***
36859                             608 I1  ;       ***     加速すべき設定で加速すべき範囲内でR0 !=0        ***
36860                             609 I1  ;       ***                                                     ***
36861                             610 I1  ;       ***********************************************************
36862                             611 I1  ;       ANS R0!=0 減速すべき位置
36863                                 I1  ***** BEGIN-POOL *****
36864 00007FD6 0000                   I1  ALIGNMENT CODE
36865 00007FD8 00000000               I1  DATA FOR SOURCE-LINE 565
36866 00007FDC 00000000               I1  DATA FOR SOURCE-LINE 572
36867 00007FE0 00000000               I1  DATA FOR SOURCE-LINE 577
36868 00007FE4 00000000               I1  DATA FOR SOURCE-LINE 592
36869                                 I1  ***** END-POOL *****
36870 00007FE8                    612 I1  _ACCST_UP_START_CONF_CHECK
36871                             613 I1          SUB_START
36872 00007FE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
36873                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36874                             614 I1  
36875                             615 I1  ;[速度が高い場合評価をやめる]
36876                             616 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
36877                             617 I1  
36878                             618 I1  ;;不要  PUSH_REG1 R8    ;行程
36879                             619 I1  ;;不要  PUSH_REG1 R12   ;POS
36880                             620 I1  ;;不要  PUSH_REG1 R13   ;SPD
36881                             621 I1  ;;不要  PUSH_REG1 R14   ;INF1
36882 00007FEA D40D               622 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
36883 00007FEC 6942               623 I1          MOV.L   @R4,R9                                                  ;
36884                             624 I1  
36885 00007FEE 6AD2               625 I1          MOV.L   @R13,R10                                                ;SPD：次段設定
36886                             626 I1          PUSH_REG1 R1                                                    ;
36887 00007FF0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36888                                 M                                           ;REG=>[SP]
36889                                 M                                           ;"-4" FF,FF,FF,FC
36890                             627 I1          PUSH_REG1 R2                                                    ;
36891 00007FF2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36892                                 M                                           ;REG=>[SP]
36893                                 M                                           ;"-4" FF,FF,FF,FC
36894 00007FF4 62A3               628 I1          MOV     R10,R2                                                  ;
36895                             629 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
36896 00007FF6 D00B                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36897 00007FF8 400B                   M           JSR     @R0                     ;
36898 00007FFA 0009                   M           NOP                                     ;
36899 00007FFC 6A23               630 I1          MOV     R2,R10                                                  ;
36900                             631 I1          POP_REG1 R2                                                     ;
36901                                 M                                   ; RE"+4" 00,00,00,04
36902 00007FFE 62F6                   M           MOV.L   @R15+,R2        ;
36903                             632 I1          POP_REG1 R1                                                     ;
36904                                 M                                   ; RE"+4" 00,00,00,04
36905 00008000 61F6                   M           MOV.L   @R15+,R1        ;
36906                             633 I1  
36907 00008002 D409               634 I1          MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   552
PROGRAM NAME =

36908 00008004 6B42               635 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
36909                             636 I1                                                                          ;Input R1,R2 距離
36910                             637 I1                                                                          ;Input R9    現在
                                          速度
36911                             638 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
36912                             639 I1                                                                          ;Input R11   減速
                                          距離
36913                             640 I1  
36914 00008006 200A               641 I1          XOR     R0,R0
36915 00008008 39A3               642 I1          CMP/GE  R10,R9                                                  ;R10(設定速度)≦R9
                                          (現在速度):不要
36916 0000800A 8905               643 I1          BT      ACCST_UP_START_CONFCHK_400                              ;
36917                             644 I1  
36918                             645 I1  ;       ***     Input R1,R2(残り距離)           ***
36919                             646 I1  ;       ***     Input R9:SPEED  DATA            ***
36920                             647 I1  ;       ***     Input R10:OFFSET SPEED          ***
36921                             648 I1  ;       ***     Input R11:ACC_LATE              ***
36922                             649 I1  
36923 0000800C 60A3               650 I1          MOV     R10,R0
36924 0000800E 6A93               651 I1          MOV     R9,R10
36925 00008010 6903               652 I1          MOV     R0,R9                                                   ;
36926                             653 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;ANS R0!=0 減速
36927 00008012 D006                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36928 00008014 400B                   M           JSR     @R0                     ;
36929 00008016 0009                   M           NOP                                     ;
36930                             654 I1  
36931 00008018                    655 I1  ACCST_UP_START_CONFCHK_400:                                             ;
36932                             656 I1  
36933                             657 I1  
36934                             658 I1  ;;不要  POP_REG1 R14
36935                             659 I1  ;;不要  POP_REG1 R13
36936                             660 I1  ;;不要  POP_REG1 R12
36937                             661 I1  ;;不要  POP_REG1 R8
36938                             662 I1  
36939                             663 I1          SUB_END
36940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36941 00008018 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36942                             664 I1          M_RTS
36943 0000801A 000B                   M           RTS                             ;RTSの後ろの
36944 0000801C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36945                             665 I1  
36946                             666 I1  
36947                             667 I1  
36948                             668 I1  
36949                             669 I1  
36950                             670 I1  
36951                             671 I1  ;       *******************************************
36952                             672 I1  ;       ***                                     ***
36953                             673 I1  ;       ***                                     ***
36954                             674 I1  ;       ***                                     ***
36955                             675 I1  ;       ***                                     ***
36956                             676 I1  ;       *******************************************
36957                             677 I1  ;       レジスタはR0以外破壊しないこと
36958                             678 I1  ;       R0=0/R0=1(前減速,前加速)
36959                             679 I1  ;       input R5:行程番号
36960                             680 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   553
PROGRAM NAME =

36961                                 I1  ***** BEGIN-POOL *****
36962 0000801E 0000                   I1  ALIGNMENT CODE
36963 00008020 00000000               I1  DATA FOR SOURCE-LINE 622
36964 00008024 00000000               I1  DATA FOR SOURCE-LINE 629
36965 00008028 00000000               I1  DATA FOR SOURCE-LINE 634
36966 0000802C 00000000               I1  DATA FOR SOURCE-LINE 653
36967                                 I1  ***** END-POOL *****
36968 00008030                    681 I1  _ACCST_CHGSPD_LIMIT_INFO_LOAD
36969                             682 I1          SUB_START
36970 00008030 4F22                   M           STS.L   PR,@-R15                ;[必要]
36971                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36972                             683 I1          PUSH_REG1 R1
36973 00008032 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36974                                 M                                           ;REG=>[SP]
36975                                 M                                           ;"-4" FF,FF,FF,FC
36976                             684 I1          PUSH_REG1 R2
36977 00008034 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36978                                 M                                           ;REG=>[SP]
36979                                 M                                           ;"-4" FF,FF,FF,FC
36980                             685 I1  
36981 00008036 D107               686 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
36982 00008038 6011               687 I1          MOV.W   @R1,R0                                  ;
36983 0000803A C801               688 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
36984                             689 I1          TST_BIT_OF ACCST_CHGSPD_LMT_INF_LD_200          ;回転ではない
36985 0000803C 8910                   M           BT      ACCST_CHGSPD_LMT_INF_LD_200
36986                             690 I1  
36987 0000803E D106               691 I1          MOV.L   #_MOTION_SPD_CHKCNT,R1
36988 00008040 6011               692 I1          MOV.W   @R1,R0                                  ;1段目=0 2段目=4 3段目=8,,,
36989 00008042 D106               693 I1          MOV.L   #_SET1_MOT_INF,R1                       ;評価の前の段が前変速か
36990 00008044 4000               694 I1          SHLL    R0                                      ;
36991 00008046 310C               695 I1          ADD     R0,R1                                   ;
36992 00008048 6011               696 I1          MOV.W   @R1,R0                                  ;
36993 0000804A C802               697 I1          TST     #BIT1,R0                                ;
36994                             698 I1          TST_BIT_ON ACCST_CHGSPD_LMT_INF_LD_200          ;ON:後変速
36995 0000804C 8B08                   M           BF      ACCST_CHGSPD_LMT_INF_LD_200
36996                             699 I1          M_BRA   ACCST_CHGSPD_LMT_INF_LD_300             ;OFF:前変速
36997 0000804E A00A                   M           BRA     ACCST_CHGSPD_LMT_INF_LD_300
36998 00008050 0009                   M           NOP
36999                             700 I1  
37000                             701 I1  
37001                             702 I1  
37002                             703 I1  ;       --------------- 通常の評価を実施する---------------
37003                                 I1  ***** BEGIN-POOL *****
37004 00008052 0000                   I1  ALIGNMENT CODE
37005 00008054 00000000               I1  DATA FOR SOURCE-LINE 686
37006 00008058 00000000               I1  DATA FOR SOURCE-LINE 691
37007 0000805C 00000000               I1  DATA FOR SOURCE-LINE 693
37008                                 I1  ***** END-POOL *****
37009 00008060                    704 I1  ACCST_CHGSPD_LMT_INF_LD_200                             ;
37010 00008060 200A               705 I1          XOR     R0,R0
37011                             706 I1          M_BRA   ACCST_CHGSPD_LMT_INF_LD_END             ;
37012 00008062 A001                   M           BRA     ACCST_CHGSPD_LMT_INF_LD_END
37013 00008064 0009                   M           NOP
37014                             707 I1  
37015                             708 I1  
37016                             709 I1  ;       --------------- 前変則だから評価不要-----------
37017 00008066                    710 I1  ACCST_CHGSPD_LMT_INF_LD_300                             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   554
PROGRAM NAME =

37018 00008066 E001               711 I1          MOV.B   #1,R0                                   ;
37019 00008068                    712 I1  ACCST_CHGSPD_LMT_INF_LD_END                             ;
37020                             713 I1  
37021                             714 I1          POP_REG1 R2
37022                                 M                                   ; RE"+4" 00,00,00,04
37023 00008068 62F6                   M           MOV.L   @R15+,R2        ;
37024                             715 I1          POP_REG1 R1
37025                                 M                                   ; RE"+4" 00,00,00,04
37026 0000806A 61F6                   M           MOV.L   @R15+,R1        ;
37027                             716 I1  
37028                             717 I1  
37029                             718 I1          SUB_END
37030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37031 0000806C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37032                             719 I1          M_RTS
37033 0000806E 000B                   M           RTS                             ;RTSの後ろの
37034 00008070 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37035                             720 I1  
37036                             721 I1  
37037                           11306     
37038                           11307     
37039                           11308     
37040                           11309     
37041                           11310     
37042                           11311     
37043                           11312     
37044                           11313     
37045                           11314     
37046                           11315     
37047                           11316     
37048                           11317     
37049                           11318     ;       **********************************************************
37050                           11319     ;       ***                                                     ***
37051                           11320     ;       ***                                                     ***
37052                           11321     ;       ***                                                     ***
37053                           11322     ;       ***                                                     ***
37054                           11323     ;       ***     CPUBの高速化「以下にはプログラム追加しないこと」***
37055                           11324     ;       ***     2013-03-15                                      ***
37056                           11325     ;       ***                                                     ***
37057                           11326     ;       ***     A5007000~A5008FFFまで                           ***
37058                           11327     ;       ***     [PHiRAM]                                        ***
37059                           11328     ;       ***                                                     ***
37060                           11329     ;       ***                                                     ***
37061                           11330     ;       ***********************************************************
37062 00008074                  11331             .ALIGN  4                                       ;
37063                           11332             .AIF    3 EQ 3          ;
37064 00000000                  11333 C           .SECTION        PHiROM,CODE                     ;
37065                           11334             .AENDI                                          ;
37066                           11335     
37067                           11336     ;
37068                           11337     ;
37069                           11338     ;
37070                           11339     ;
37071                           11340     ;
37072 00000000                  11341             .ALIGN  4                                               ;
37073                           11342     ;       *******************************************
37074                           11343     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   555
PROGRAM NAME =

37075                           11344     ;       ***     2006-09-19                      ***
37076                           11345     ;       ***                                     ***
37077                           11346     ;       ***     ﾊﾟﾙｽ管理                        ***
37078                           11347     ;       ***     (位置決め部分での処理)          ***
37079                           11348     ;       ***                                     ***
37080                           11349     ;       *******************************************
37081                           11350     ;       Input :現在位置(出力ﾊﾟﾙｽ側)    [8byte]
37082                           11351     ;       Input :最終停止位置(出力ﾊﾟﾙｽ上)[8byte]
37083                           11352     ;       Input :設定速度(0.01%単位)     [4byte]
37084                           11353     ;       Input :制御周期 TIME-LATE:1/1000
37085                           11354     ;       Input :加速度(0.001%/s/s)[4byte]
37086                           11355     ;       Input :
37087                           11356     ;       Input :処理状態：起動/減速停止/処理継続
37088                           11357     ;       Output:加速度書換え
37089                           11358     ;
37090                           11359     ;       *******************************************
37091                           11360     ;       ***                                     ***
37092                           11361     ;       ***                                     ***
37093                           11362     ;       ***             主制御                  ***
37094                           11363     ;       ***     (ここは標準・ふりこ共通)        ***
37095                           11364     ;       ***                                     ***
37096                           11365     ;       ***                                     ***
37097                           11366     ;       *******************************************
37098                           11367     ;_POSCTL_STEP_FLG BIT0 ACTIVE
37099                           11368     ;                 BIT1 減速ｺﾏﾝﾄﾞ
37100                           11369     ;                 BIT2 最終減速ﾗｯﾁ：解除は目標位置変更
37101                           11370     ;                 BIT6:END
37102 00000000                  11371             .ALIGN  4                               ;
37103 00000000                  11372     _PLS_LSI_CTRL:
37104                           11373             SUB_START
37105 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
37106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37107                           11374     
37108                           11375     
37109                           11376     ;       ---------------最終目標位置-----------
37110 00000002 D410             11377             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;LINKX_SV_OBJ_ABSPLSの場合があるか
                                          も
37111 00000004 6146             11378             MOV.L   @R4+,R1                                 ;
37112 00000006 6242             11379             MOV.L   @R4,R2                                  ;
37113 00000008 D40F             11380             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
37114 0000000A 5540             11381             MOV.L   @(0,R4),R5                              ;
37115 0000000C 5641             11382             MOV.L   @(4,R4),R6                              ;
37116 0000000E 1410             11383             MOV.L   R1,@(0,R4)                              ;
37117 00000010 1421             11384             MOV.L   R2,@(4,R4)                              ;
37118                           11385     
37119 00000012 251A             11386             XOR     R1,R5
37120 00000014 262A             11387             XOR     R2,R6                                   ;
37121 00000016 265B             11388             OR      R5,R6                                   ;
37122 00000018 2668             11389             TST     R6,R6                                   ;
37123                           11390             TST_BIT_OF PLS_LSICTRL_050                      ;
37124 0000001A 8903                   M           BT      PLS_LSICTRL_050
37125                           11391             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSCTL_STEP_FLG,LG=W,BIT=~BIT2,WKREG=R1   ;
37126 0000001C D10B                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37127 0000001E 6011                   M           MOV.W   @R1,R0          ;
37128 00000020 C9FB                   M           AND     #LOW ~BIT2,R0           ;
37129 00000022 2101                   M           MOV.W   R0,@R1          ;
37130                           11392     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   556
PROGRAM NAME =

37131 00000024                  11393     PLS_LSICTRL_050                 ;
37132                           11394     
37133                           11395     
37134                           11396     ;       ---------------リアルタイム目標位置-----------
37135 00000024 D40A             11397             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
37136 00000026 6146             11398             MOV.L   @R4+,R1                                 ;
37137 00000028 6242             11399             MOV.L   @R4,R2                                  ;
37138 0000002A D40A             11400             MOV.L   #_POSCTL_RL_PLS,R4                      ;RL
37139 0000002C 1410             11401             MOV.L   R1,@(0,R4)                              ;
37140 0000002E 1421             11402             MOV.L   R2,@(4,R4)                              ;
37141                           11403     
37142                           11404     
37143                           11405     ;       ==================================================
37144 00000030 D109             11406             MOV.L   #_POS_HLDSTOP1_FLG,R1                   ;
37145 00000032 6011             11407             MOV.W   @R1,R0                                  ;
37146 00000034 C801             11408             TST     #BIT0,R0                                ;HOLD減速
37147                           11409             TST_BIT_OF PLS_LSICTRL_070                      ;
37148 00000036 8915                   M           BT      PLS_LSICTRL_070
37149                           11410     
37150                           11411     ;       ---------------------------------
37151 00000038 D108             11412             MOV.L   #_POSHLD_SET_DN_ACC,R1                  ;//位置決めキャンセル減速
37152 0000003A 6212             11413             MOV.L   @R1,R2                                  ;
37153 0000003C D108             11414             MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
37154 0000003E 2122             11415             MOV.L   R2,@R1                                  ;
37155                           11416             M_BRA   PLS_LSICTRL_080                         ;
37156 00000040 A018                   M           BRA     PLS_LSICTRL_080
37157 00000042 0009                   M           NOP
37158                           11417     
37159                                     ***** BEGIN-POOL *****
37160 00000044 00000000                   DATA FOR SOURCE-LINE 11377
37161 00000048 00000000                   DATA FOR SOURCE-LINE 11380
37162 0000004C 00000000                   DATA FOR SOURCE-LINE 11391
37163 00000050 00000000                   DATA FOR SOURCE-LINE 11397
37164 00000054 00000000                   DATA FOR SOURCE-LINE 11400
37165 00000058 00000000                   DATA FOR SOURCE-LINE 11406
37166 0000005C 00000000                   DATA FOR SOURCE-LINE 11412
37167 00000060 00000000                   DATA FOR SOURCE-LINE 11414
37168                                     ***** END-POOL *****
37169 00000064                  11418     PLS_LSICTRL_070                                 ;
37170                           11419     ;       --------- ｵｰﾊﾞﾗｲﾄﾞ転送---- -----------
37171                           11420             MEM_MOV_TO_MEM  _SET_UP_ACC_LATE,L,_POSCTL_SV_UP_ACC,L,R1,R2,R3 ;
37172 00000064 D11B                   M           MOV.L   #_SET_UP_ACC_LATE,R1
37173 00000066 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
37174 00000068 D31B                   M           MOV.L   #_POSCTL_SV_UP_ACC,R3   ;DST_ADR
37175 0000006A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
37176                           11421             MEM_MOV_TO_MEM  _SET_DN_ACC_LATE,L,_POSCTL_SV_DN_ACC,L,R1,R2,R3 ;
37177 0000006C D11B                   M           MOV.L   #_SET_DN_ACC_LATE,R1
37178 0000006E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
37179 00000070 D31B                   M           MOV.L   #_POSCTL_SV_DN_ACC,R3   ;DST_ADR
37180 00000072 2322                   M           MOV.L   R2,@R3  ;DST_ADR
37181                           11422     
37182 00000074                  11423     PLS_LSICTRL_080                                 ;
37183                           11424     
37184                           11425     ;       -------------------------------------------
37185                           11426     ;       ---             2015-11-17              ---
37186                           11427     ;       -------------------------------------------
37187 00000074 D31B             11428             MOV.L   #_POSCTL_SET_SPD,R3                     ;速度
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   557
PROGRAM NAME =

37188 00000076 6232             11429             MOV.L   @R3,R2                                  ;
37189                           11430     
37190                           11431     ;       -------- 減速選択--------
37191                           11432             FAR_JSR #_ACC_MATHED_SEL_CTRL,R0        ;2016-04-18 INPUT R2,OUTPUT R2
37192 00000078 D01B                   M           MOV.L   #_ACC_MATHED_SEL_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37193 0000007A 400B                   M           JSR     @R0                     ;
37194 0000007C 0009                   M           NOP                                     ;
37195                           11433     
37196                           11434     ;2016-04-18     FAR_JSR #_ACCLW_CTRL_CALC,R0            ;2015-11-17 減速選択
37197                           11435                                                             ;INPUT R2-OUTPUT R2
37198                           11436     
37199                           11437     ;;;2015-11-17   MOV.L   #_POSCTL_SET_SPD,R3             ;速度
37200                           11438     ;;;2015-11-17   MOV.L   @R3,R2                          ;
37201                           11439     ;       -------------------------------------------
37202                           11440     
37203                           11441             FAR_JSR #_OVER_LIDE_SPD_CALC,R0                 ;INPUT R2-OUTPUT R2
37204 0000007E D01B                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37205 00000080 400B                   M           JSR     @R0                     ;
37206 00000082 0009                   M           NOP                                     ;
37207                           11442     
37208                           11443     
37209                           11444     ;       -------------2013-02-15 速度上限制限[ここはふりこも共通]-----------------------
37210                           11445             FAR_JSR #_SPD_UPLIMT_CALC,R0                    ;INPUT R2-OUTPUT R2
37211 00000084 D01A                   M           MOV.L   #_SPD_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37212 00000086 400B                   M           JSR     @R0                     ;
37213 00000088 0009                   M           NOP                                     ;
37214                           11446     ;       --------------------------------------------------------------
37215                           11447     
37216                           11448             FAR_JSR #_CNT_REST_HOSEI_SPD_TYP,R0             ;INPUT R2 OUTPUT R2
37217 0000008A D01A                   M           MOV.L   #_CNT_REST_HOSEI_SPD_TYP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37218 0000008C 400B                   M           JSR     @R0                     ;
37219 0000008E 0009                   M           NOP                                     ;
37220                           11449     
37221                           11450     
37222 00000090 D119             11451             MOV.L   #_POSCTL_SV_SPD,R1                      ;
37223 00000092 2122             11452             MOV.L   R2,@R1                                  ;
37224                           11453     
37225                           11454     ;       ========== 管理=============
37226 00000094 D119             11455             MOV.L   #_POSCTL_STEP_FLG,R1                    ;//0(IDLE) BIT0/BIT6 (BIT2,3,4 減
                                          速関連)
37227 00000096 6011             11456             MOV.W   @R1,R0                                  ;
37228 00000098 C840             11457             TST     #BIT6,R0                                ;終了?
37229                           11458             TST_BIT_ON PLS_LSICTRL_END                      ;
37230 0000009A 8B48                   M           BF      PLS_LSICTRL_END
37231                           11459     
37232 0000009C C801             11460             TST     #BIT0,R0                                ;ACTIVE
37233                           11461             TST_BIT_ON PLS_LSICTRL_100                      ;
37234 0000009E 8B09                   M           BF      PLS_LSICTRL_100
37235                           11462     
37236                           11463     ;       --- 停止中---
37237 000000A0 D117             11464             MOV.L   #_POSCTL_STEP_CMD,R1                    ;
37238 000000A2 6011             11465             MOV.W   @R1,R0                                  ;
37239 000000A4 8801             11466             CMP/EQ  #1,R0                                   ;起動?
37240 000000A6 8B42             11467             BF      PLS_LSICTRL_END                         ;NO
37241                           11468     
37242                           11469             FAR_JSR #_PLS_LSI_CTL_INI,R0                    ;起動
37243 000000A8 D016                   M           MOV.L   #_PLS_LSI_CTL_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   558
PROGRAM NAME =

37244 000000AA 400B                   M           JSR     @R0                     ;
37245 000000AC 0009                   M           NOP                                     ;
37246 000000AE 900F             11470             MOV.W   #BIT0,R0                                ;
37247                           11471             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
37248 000000B0 D112                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
37249 000000B2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
37250                           11472     
37251 000000B4                  11473     PLS_LSICTRL_100:
37252 000000B4 D112             11474             MOV.L   #_POSCTL_STEP_CMD,R1                    ;//3:EMG停止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2
                                          :(減速停止)
37253 000000B6 6011             11475             MOV.W   @R1,R0                                  ;EMG-STOP
37254 000000B8 8803             11476             CMP/EQ  #3,R0                                   ;
37255 000000BA 8B27             11477             BF      PLS_LSICTRL_200                         ;
37256                           11478     
37257 000000BC 200A             11479             XOR     R0,R0                                   ;
37258                           11480             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
37259 000000BE D10F                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
37260 000000C0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
37261                           11481             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1
37262 000000C2 D10F                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
37263 000000C4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
37264                           11482     
37265                           11483             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                  ;
37266 000000C6 D010                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37267 000000C8 400B                   M           JSR     @R0                     ;
37268 000000CA 0009                   M           NOP                                     ;
37269                           11484             M_BRA   PLS_LSICTRL_END                         ;
37270 000000CC A02F                   M           BRA     PLS_LSICTRL_END
37271 000000CE 0009                   M           NOP
37272                           11485     
37273                                     ***** BEGIN-POOL *****
37274 000000D0 0001                       DATA FOR SOURCE-LINE 11470
37275 000000D2 0000                       ALIGNMENT CODE
37276 000000D4 00000000                   DATA FOR SOURCE-LINE 11420
37277 000000D8 00000000                   DATA FOR SOURCE-LINE 11420
37278 000000DC 00000000                   DATA FOR SOURCE-LINE 11421
37279 000000E0 00000000                   DATA FOR SOURCE-LINE 11421
37280 000000E4 00000000                   DATA FOR SOURCE-LINE 11428
37281 000000E8 00000000                   DATA FOR SOURCE-LINE 11432
37282 000000EC 00000000                   DATA FOR SOURCE-LINE 11441
37283 000000F0 00000000                   DATA FOR SOURCE-LINE 11445
37284 000000F4 00000000                   DATA FOR SOURCE-LINE 11448
37285 000000F8 00000000                   DATA FOR SOURCE-LINE 11451
37286 000000FC 00000000                   DATA FOR SOURCE-LINE 11455,11471,11480
37287 00000100 00000000                   DATA FOR SOURCE-LINE 11464,11474,11481
37288 00000104 00000000                   DATA FOR SOURCE-LINE 11469
37289 00000108 00000000                   DATA FOR SOURCE-LINE 11483
37290                                     ***** END-POOL *****
37291 0000010C                  11486     PLS_LSICTRL_200:
37292                           11487     
37293                           11488     ;       ----------- ふりこ加減速と通常加減速を分ける---
37294                           11489     ;;;;2010-09-27 ふりこのため     FAR_JSR #_PLS_LSI_CTL_CALC,R0                   ;
37295                           11490     
37296 0000010C D104             11491             MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
37297 0000010E 6011             11492             MOV.W   @R1,R0                          ;
37298 00000110 8801             11493             CMP/EQ  #1,R0                           ;
37299 00000112 8B09             11494             BF      PLS_LSICTRL_220                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   559
PROGRAM NAME =

37300                           11495             FAR_JSR #_DNM_PLS_LSICTL_CALC,R0        ;
37301 00000114 D003                   M           MOV.L   #_DNM_PLS_LSICTL_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37302 00000116 400B                   M           JSR     @R0                     ;
37303 00000118 0009                   M           NOP                                     ;
37304                           11496             M_BRA   PLS_LSICTRL_END                 ;ふりこ加減速
37305 0000011A A008                   M           BRA     PLS_LSICTRL_END
37306 0000011C 0009                   M           NOP
37307                           11497     
37308                                     ***** BEGIN-POOL *****
37309 0000011E 0000                       ALIGNMENT CODE
37310 00000120 00000000                   DATA FOR SOURCE-LINE 11491
37311 00000124 00000000                   DATA FOR SOURCE-LINE 11495
37312                                     ***** END-POOL *****
37313 00000128                  11498     PLS_LSICTRL_220:
37314                           11499             FAR_JSR #_PLS_LSI_CTL_CALC,R0           ;通常減速
37315 00000128 D002                   M           MOV.L   #_PLS_LSI_CTL_CALC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37316 0000012A 400B                   M           JSR     @R0                     ;
37317 0000012C 0009                   M           NOP                                     ;
37318                           11500     
37319 0000012E                  11501     PLS_LSICTRL_END:
37320                           11502     
37321                           11503     ;       -------- 2013-07-18 DEBUG ----------
37322                           11504     ;;;;;;;;;;;;;;;;        MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
37323                           11505     ;;;;;;;;;;;;;;;;        MOV.W   @R1,R0                                  ;BIT1:減速時
37324                           11506     ;;;;;;;;;;;;;;;;        MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1             ;
37325                           11507     ;;;;;;;;;;;;;;;;        MOV.W   R0,@R1                                  ;
37326                           11508     
37327                           11509             SUB_END
37328                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37329 0000012E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37330                           11510             M_RTS
37331 00000130 000B                   M           RTS                             ;RTSの後ろの
37332 00000132 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37333                           11511     
37334                           11512     ;       *******************************************
37335                           11513     ;       ***                                     ***
37336                           11514     ;       ***                                     ***
37337                           11515     ;       ***             加減速演算              ***
37338                           11516     ;       ***                                     ***
37339                           11517     ;       ***                                     ***
37340                           11518     ;       ***                                     ***
37341                           11519     ;       *******************************************
37342                           11520     
37343                                     ***** BEGIN-POOL *****
37344 00000134 00000000                   DATA FOR SOURCE-LINE 11499
37345                                     ***** END-POOL *****
37346 00000138                  11521             .ALIGN  4                               ;
37347 00000138                  11522     _PLS_LSI_CTL_CALC:
37348                           11523             SUB_START
37349 00000138 4F22                   M           STS.L   PR,@-R15                ;[必要]
37350                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37351                           11524     
37352                           11525     ;       --------- 2010-09-27 残りパルス演算の共通化----
37353                           11526             FAR_JSR #_ACC_REST_INFO_MAKE,R0
37354 0000013A D005                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37355 0000013C 400B                   M           JSR     @R0                     ;
37356 0000013E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   560
PROGRAM NAME =

37357                           11527     
37358                           11528     
37359 00000140 D104             11529             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
37360 00000142 6011             11530             MOV.W   @R1,R0                                                          ;
37361 00000144 C802             11531             TST     #BIT1,R0                                                        ;
37362                           11532             TST_BIT_ON PLS_LSI_CTLCAL_020                                           ;強制減速
                                          停止中(寸動停止)
37363 00000146 8B07                   M           BF      PLS_LSI_CTLCAL_020
37364 00000148 C804             11533             TST     #BIT2,R0                                                        ;
37365                           11534             TST_BIT_ON PLS_LSI_CTLCAL_050                                           ;最終減速
                                          状態YES
37366 0000014A 8B11                   M           BF      PLS_LSI_CTLCAL_050
37367                           11535             M_BRA   PLS_LSI_CTLCAL_100                                              ;
37368 0000014C A012                   M           BRA     PLS_LSI_CTLCAL_100
37369 0000014E 0009                   M           NOP
37370                           11536     
37371                                     ***** BEGIN-POOL *****
37372 00000150 00000000                   DATA FOR SOURCE-LINE 11526
37373 00000154 00000000                   DATA FOR SOURCE-LINE 11529
37374                                     ***** END-POOL *****
37375 00000158                  11537     PLS_LSI_CTLCAL_020
37376                           11538     ;       --- 減速コマンドラッチ---
37377 00000158 D103             11539             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
37378 0000015A 6212             11540             MOV.L   @R1,R2                                                          ;
37379 0000015C D503             11541             MOV.L   #_POSCTL_RL_SPD,R5                                              ;
37380 0000015E 6352             11542             MOV.L   @R5,R3                                                          ;
37381 00000160 3326             11543             CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
37382 00000162 8905             11544             BT      PLS_LSI_CTLCAL_050                                              ;YES
37383                           11545             M_BRA   PLS_LSI_CTLCAL_800                                              ;(減速停止
                                          )終了処理
37384 00000164 A076                   M           BRA     PLS_LSI_CTLCAL_800
37385 00000166 0009                   M           NOP
37386                                     ***** BEGIN-POOL *****
37387 00000168 00000000                   DATA FOR SOURCE-LINE 11539
37388 0000016C 00000000                   DATA FOR SOURCE-LINE 11541
37389                                     ***** END-POOL *****
37390 00000170                  11546     PLS_LSI_CTLCAL_050:
37391                           11547             M_BRA   PLS_LSI_CTLCAL_700                                              ;減速処理
37392 00000170 A040                   M           BRA     PLS_LSI_CTLCAL_700
37393 00000172 0009                   M           NOP
37394                           11548     
37395 00000174                  11549     PLS_LSI_CTLCAL_100:
37396 00000174 D104             11550             MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
37397 00000176 6011             11551             MOV.W   @R1,R0                                                          ;EMG-STOP
37398 00000178 8802             11552             CMP/EQ  #2,R0                                                           ;減速停止
37399 0000017A 8B09             11553             BF      PLS_LSI_CTLCAL_150                                              ;NO
37400                           11554             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
37401 0000017C D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37402 0000017E 6011                   M           MOV.W   @R1,R0          ;
37403 00000180 CB02                   M           OR      #BIT1,R0                ;
37404 00000182 2101                   M           MOV.W   R0,@R1          ;
37405                           11555             M_BRA   PLS_LSI_CTLCAL_500                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   561
PROGRAM NAME =

37406 00000184 A01E                   M           BRA     PLS_LSI_CTLCAL_500
37407 00000186 0009                   M           NOP
37408                           11556     
37409                           11557     ;-------通常制御----
37410                                     ***** BEGIN-POOL *****
37411 00000188 00000000                   DATA FOR SOURCE-LINE 11550
37412 0000018C 00000000                   DATA FOR SOURCE-LINE 11554
37413                                     ***** END-POOL *****
37414 00000190                  11558     PLS_LSI_CTLCAL_150:
37415 00000190 D102             11559             MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
37416 00000192 6011             11560             MOV.W   @R1,R0                                                          ;
37417 00000194 C801             11561             TST     #BIT0,R0                                                        ;
37418                           11562             TST_BIT_OF PLS_LSI_CTLCAL_160                                           ;
37419 00000196 8903                   M           BT      PLS_LSI_CTLCAL_160
37420                           11563     ;       -----------やるべきことが今一不明--------
37421                           11564             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
37422 00000198 A079                   M           BRA     PLS_LSI_CTLCAL_EXT
37423 0000019A 0009                   M           NOP
37424                           11565     
37425                           11566     
37426                                     ***** BEGIN-POOL *****
37427 0000019C 00000000                   DATA FOR SOURCE-LINE 11559
37428                                     ***** END-POOL *****
37429 000001A0                  11567     PLS_LSI_CTLCAL_160:
37430                           11568     
37431                           11569     ;<<<2010-09-21>>>
37432                           11570             FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<<<2010-0
                                          9-21>>>
37433 000001A0 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37434 000001A2 400B                   M           JSR     @R0                     ;
37435 000001A4 0009                   M           NOP                                     ;
37436                           11571     
37437 000001A6 2008             11572             TST     R0,R0                                                           ;
37438                           11573             TST_BIT_OF PLS_LSI_CTLCAL_500
37439 000001A8 890C                   M           BT      PLS_LSI_CTLCAL_500
37440 000001AA 8801             11574             CMP/EQ  #1,R0                                                           ;
37441 000001AC 8922             11575             BT      PLS_LSI_CTLCAL_700
37442                           11576     ;       ----- ABNOMAL CALC------                                                ;
37443                           11577             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
37444 000001AE D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
37445 000001B0 6041                   M           MOV.W   @R4,R0          ;
37446 000001B2 CB02                   M           OR      #BIT1,R0                ;
37447 000001B4 2401                   M           MOV.W   R0,@R4          ;
37448                           11578             M_BRA   PLS_LSI_CTLCAL_700
37449 000001B6 A01D                   M           BRA     PLS_LSI_CTLCAL_700
37450 000001B8 0009                   M           NOP
37451                           11579     ;;;;;;  M_BRA   PLS_LSI_CTLCAL_ERR      手動ﾊﾟﾙｻでうまくいかない 2013-06-20
37452                           11580     
37453                           11581     ;       ===== 距離がありそう =====
37454                                     ***** BEGIN-POOL *****
37455 000001BA 0000                       ALIGNMENT CODE
37456 000001BC 00000000                   DATA FOR SOURCE-LINE 11570
37457 000001C0 00000000                   DATA FOR SOURCE-LINE 11577
37458                                     ***** END-POOL *****
37459 000001C4                  11582     PLS_LSI_CTLCAL_500:                                                             ;
37460                           11583     ;<<<2010-09-21>>>
37461                           11584     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   562
PROGRAM NAME =

                                          ;<<<2010-09-21>>>
37462                           11585     ;;;;;;2015-03-10
37463                           11586     ;;;;;;2015-03-10        TST     R0,R0
                                          ;
37464                           11587     ;;;;;;2015-03-10        TST_BIT_OF PLS_LSI_CTLCAL_EXT
                                          ;書き換えない
37465                           11588     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_CTL_SPDSET,R0
                                          ;LSI SET
37466                           11589     ;;;;;;2015-03-10        M_BRA   PLS_LSI_CTLCAL_900
                                          ;
37467                           11590     
37468                           11591     ;       --------- 自起動速度設定の動作も対応[各機種共通事項]-----------
37469                           11592             FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
37470 000001C4 D005                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37471 000001C6 400B                   M           JSR     @R0                     ;
37472 000001C8 0009                   M           NOP                                     ;
37473 000001CA 2008             11593             TST     R0,R0                                                           ;
37474                           11594             TST_BIT_ON PLS_LSI_CTLCAL_580
37475 000001CC 8B0A                   M           BF      PLS_LSI_CTLCAL_580
37476                           11595     
37477                           11596     ;       ---払い出し完了ならやめる---------
37478                           11597             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
37479 000001CE D004                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37480 000001D0 400B                   M           JSR     @R0                     ;
37481 000001D2 0009                   M           NOP                                     ;
37482 000001D4 C804             11598             TST     #BIT2,R0                        ;停止?
37483                           11599             TST_BIT_ON PLS_LSI_CTLCAL_800           ;YES:
37484 000001D6 8B3D                   M           BF      PLS_LSI_CTLCAL_800
37485                           11600             M_BRA   PLS_LSI_CTLCAL_EXT              ;
37486 000001D8 A059                   M           BRA     PLS_LSI_CTLCAL_EXT
37487 000001DA 0009                   M           NOP
37488                           11601     
37489                                     ***** BEGIN-POOL *****
37490 000001DC 00000000                   DATA FOR SOURCE-LINE 11592
37491 000001E0 00000000                   DATA FOR SOURCE-LINE 11597
37492                                     ***** END-POOL *****
37493 000001E4                  11602     PLS_LSI_CTLCAL_580:
37494                           11603             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
37495 000001E4 D002                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37496 000001E6 400B                   M           JSR     @R0                     ;
37497 000001E8 0009                   M           NOP                                     ;
37498                           11604             M_BRA   PLS_LSI_CTLCAL_900                                              ;
37499 000001EA A042                   M           BRA     PLS_LSI_CTLCAL_900
37500 000001EC 0009                   M           NOP
37501                           11605     
37502                           11606     
37503                           11607     
37504                           11608     ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
37505                                     ***** BEGIN-POOL *****
37506 000001EE 0000                       ALIGNMENT CODE
37507 000001F0 00000000                   DATA FOR SOURCE-LINE 11603
37508                                     ***** END-POOL *****
37509 000001F4                  11609     PLS_LSI_CTLCAL_700:
37510                           11610             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
37511 000001F4 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37512 000001F6 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   563
PROGRAM NAME =

37513 000001F8 CB04                   M           OR      #BIT2,R0                ;
37514 000001FA 2101                   M           MOV.W   R0,@R1          ;
37515                           11611     ;       ---払い出し完了ならやめる---------
37516                           11612             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
37517 000001FC D010                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37518 000001FE 400B                   M           JSR     @R0                     ;
37519 00000200 0009                   M           NOP                                     ;
37520 00000202 C804             11613             TST     #BIT2,R0                        ;停止?
37521                           11614             TST_BIT_ON PLS_LSI_CTLCAL_820           ;YES:ﾌﾗｸﾞ終了
37522 00000204 8B2D                   M           BF      PLS_LSI_CTLCAL_820
37523                           11615     
37524                           11616     ;<<<2010-09-21>>>
37525                           11617     ;       ----ここにきたら目標位置が変わるまで加速はしない------
37526 00000206 D50F             11618             MOV.L   #_POSCTL_RL_SPD,R5              ;
37527 00000208 6252             11619             MOV.L   @R5,R2                          ;
37528 0000020A D40F             11620             MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
37529 0000020C 6342             11621             MOV.L   @R4,R3                          ;
37530 0000020E 2338             11622             TST     R3,R3                           ;
37531                           11623             TST_BIT_ON PLS_LSI_CTLCAL_720           ;
37532 00000210 8B00                   M           BF      PLS_LSI_CTLCAL_720
37533 00000212 E301             11624             MOV     #1,R3                           ;
37534 00000214                  11625     PLS_LSI_CTLCAL_720:                             ;
37535 00000214 3238             11626             SUB     R3,R2                           ;
37536 00000216 4211             11627             CMP/PZ  R2                              ;
37537 00000218 8900             11628             BT      PLS_LSI_CTLCAL_740              ;
37538 0000021A 222A             11629             XOR     R2,R2                           ;
37539 0000021C                  11630     PLS_LSI_CTLCAL_740:                             ;
37540                           11631     
37541                           11632     
37542                           11633     
37543 0000021C D10B             11634             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
37544 0000021E 6312             11635             MOV.L   @R1,R3                          ;
37545 00000220 3236             11636             CMP/HI  R3,R2                           ;
37546 00000222 8904             11637             BT      PLS_LSI_CTLCAL_760              ;OFS < CALC
37547 00000224 6233             11638             MOV     R3,R2                           ;MNINLINIT
37548                           11639     ;       -------------------
37549 00000226 D105             11640             MOV.L   #_POSCTL_STEP_FLG,R1            ;
37550 00000228 6011             11641             MOV.W   @R1,R0                          ;
37551 0000022A C802             11642             TST     #BIT1,R0                        ;手動減速中
37552                           11643             TST_BIT_ON PLS_LSI_CTLCAL_800           ;
37553 0000022C 8B12                   M           BF      PLS_LSI_CTLCAL_800
37554                           11644     
37555 0000022E                  11645     PLS_LSI_CTLCAL_760:                             ;
37556 0000022E 2522             11646             MOV.L   R2,@R5                          ;
37557                           11647             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0         ;LSI SET
37558 00000230 D007                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37559 00000232 400B                   M           JSR     @R0                     ;
37560 00000234 0009                   M           NOP                                     ;
37561                           11648             M_BRA   PLS_LSI_CTLCAL_900              ;
37562 00000236 A01C                   M           BRA     PLS_LSI_CTLCAL_900
37563 00000238 0009                   M           NOP
37564                           11649     
37565                           11650     ;       -------------終了処理(STEP STOP)----------
37566                                     ***** BEGIN-POOL *****
37567 0000023A 0000                       ALIGNMENT CODE
37568 0000023C 00000000                   DATA FOR SOURCE-LINE 11610,11640
37569 00000240 00000000                   DATA FOR SOURCE-LINE 11612
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   564
PROGRAM NAME =

37570 00000244 00000000                   DATA FOR SOURCE-LINE 11618
37571 00000248 00000000                   DATA FOR SOURCE-LINE 11620
37572 0000024C 00000000                   DATA FOR SOURCE-LINE 11634
37573 00000250 00000000                   DATA FOR SOURCE-LINE 11647
37574                                     ***** END-POOL *****
37575 00000254                  11651     PLS_LSI_CTLCAL_800:
37576                           11652             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
37577 00000254 D008                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37578 00000256 400B                   M           JSR     @R0                     ;
37579 00000258 0009                   M           NOP                                     ;
37580                           11653             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
37581 0000025A D108                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37582 0000025C 6011                   M           MOV.W   @R1,R0          ;
37583 0000025E CB20                   M           OR      #BIT5,R0                ;
37584 00000260 2101                   M           MOV.W   R0,@R1          ;
37585 00000262                  11654     PLS_LSI_CTLCAL_820:
37586                           11655             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
37587 00000262 D106                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37588 00000264 6011                   M           MOV.W   @R1,R0          ;
37589 00000266 CB40                   M           OR      #BIT6,R0                ;
37590 00000268 2101                   M           MOV.W   R0,@R1          ;
37591                           11656             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
37592 0000026A D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37593 0000026C 6011                   M           MOV.W   @R1,R0          ;
37594 0000026E CB08                   M           OR      #BIT3,R0                ;
37595 00000270 2101                   M           MOV.W   R0,@R1          ;
37596                           11657     
37597                           11658             .AIF    1 EQ    0
37598                           11659     
37599                           11660             FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
37600                           11661             .AENDI
37601                           11662     
37602 00000272                  11663     PLS_LSI_CTLCAL_900:
37603                           11664             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
37604 00000272 A00C                   M           BRA     PLS_LSI_CTLCAL_EXT
37605 00000274 0009                   M           NOP
37606                           11665     
37607                                     ***** BEGIN-POOL *****
37608 00000276 0000                       ALIGNMENT CODE
37609 00000278 00000000                   DATA FOR SOURCE-LINE 11652
37610 0000027C 00000000                   DATA FOR SOURCE-LINE 11653,11655,11656
37611                                     ***** END-POOL *****
37612 00000280                  11666     PLS_LSI_CTLCAL_ERR:
37613                           11667             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
37614 00000280 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37615 00000282 400B                   M           JSR     @R0                     ;
37616 00000284 0009                   M           NOP                                     ;
37617                           11668             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
37618 00000286 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37619 00000288 6011                   M           MOV.W   @R1,R0          ;
37620 0000028A CB40                   M           OR      #BIT6,R0                ;
37621 0000028C 2101                   M           MOV.W   R0,@R1          ;
37622                           11669     
37623 0000028E                  11670     PLS_LSI_CTLCAL_EXT:
37624                           11671     
37625                           11672     
37626                           11673     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   565
PROGRAM NAME =

37627                           11674     
37628                           11675     
37629                           11676     
37630                           11677             SUB_END
37631                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37632 0000028E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37633                           11678             M_RTS
37634 00000290 000B                   M           RTS                             ;RTSの後ろの
37635 00000292 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37636                           11679     
37637                           11680     ;       *******************************************
37638                           11681     ;       ***                                     ***
37639                           11682     ;       ***                                     ***
37640                           11683     ;       ***             加速・減速              ***
37641                           11684     ;       ***                                     ***
37642                           11685     ;       ***                                     ***
37643                           11686     ;       ***                                     ***
37644                           11687     ;       *******************************************
37645                           11688     ;
37646                           11689     ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
37647                           11690     ;
37648                                     ***** BEGIN-POOL *****
37649 00000294 00000000                   DATA FOR SOURCE-LINE 11667
37650 00000298 00000000                   DATA FOR SOURCE-LINE 11668
37651                                     ***** END-POOL *****
37652 0000029C                  11691             .ALIGN  4                               ;
37653 0000029C                  11692     _PLS_LSI_SPD_ACC_ADD:
37654                           11693             SUB_START
37655 0000029C 4F22                   M           STS.L   PR,@-R15                ;[必要]
37656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37657 0000029E 200A             11694             XOR     R0,R0                                           ;
37658 000002A0 D107             11695             MOV.L   #_POSCTL_SV_SPD,R1                              ;
37659 000002A2 6312             11696             MOV.L   @R1,R3                                          ;
37660 000002A4 D507             11697             MOV.L   #_POSCTL_RL_SPD,R5                              ;
37661 000002A6 6252             11698             MOV.L   @R5,R2                                          ;
37662 000002A8 3320             11699             CMP/EQ  R2,R3                                           ;
37663 000002AA 8917             11700             BT      PLS_LSI_SPD_ACCADD_END                          ;SV=REAL
37664 000002AC 3323             11701             CMP/GE  R2,R3                                           ;R2<R3
37665 000002AE 8B0D             11702             BF      PLS_LSI_SPD_ACCADD_200                                  ;NO 減速しろ
37666                           11703     ;       ---加速しろ----
37667 000002B0 D405             11704             MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
37668 000002B2 6142             11705             MOV.L   @R4,R1                                                  ;
37669 000002B4 321C             11706             ADD     R1,R2
37670 000002B6 3327             11707             CMP/GT  R2,R3                                                   ;
37671 000002B8 890E             11708             BT      PLS_LSI_SPD_ACCADD_300                                  ;R2<R3(SV) THEN そ
                                          のまま加速
37672 000002BA 6233             11709             MOV     R3,R2                                                   ;SV→REAL
37673                           11710             M_BRA   PLS_LSI_SPD_ACCADD_300                                  ;
37674 000002BC A00C                   M           BRA     PLS_LSI_SPD_ACCADD_300
37675 000002BE 0009                   M           NOP
37676                           11711     
37677                                     ***** BEGIN-POOL *****
37678 000002C0 00000000                   DATA FOR SOURCE-LINE 11695
37679 000002C4 00000000                   DATA FOR SOURCE-LINE 11697
37680 000002C8 00000000                   DATA FOR SOURCE-LINE 11704
37681                                     ***** END-POOL *****
37682 000002CC                  11712     PLS_LSI_SPD_ACCADD_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   566
PROGRAM NAME =

37683                           11713     ;       ---減速しろ---
37684 000002CC D405             11714             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
37685 000002CE 6142             11715             MOV.L   @R4,R1                                                  ;
37686 000002D0 3218             11716             SUB     R1,R2                                                   ;
37687 000002D2 3237             11717             CMP/GT  R3,R2                                                   ;
37688 000002D4 8900             11718             BT      PLS_LSI_SPD_ACCADD_300                                  ;R3<R2
37689 000002D6 6233             11719             MOV     R3,R2                                                   ;
37690 000002D8                  11720     PLS_LSI_SPD_ACCADD_300:                                                 ;
37691 000002D8 2522             11721             MOV.L   R2,@R5                                                  ;
37692 000002DA E001             11722             MOV     #1,R0                                                   ;
37693 000002DC                  11723     PLS_LSI_SPD_ACCADD_END:
37694                           11724             SUB_END
37695                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37696 000002DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37697                           11725             M_RTS
37698 000002DE 000B                   M           RTS                             ;RTSの後ろの
37699 000002E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37700                           11726     
37701                           11727     
37702                           11728     
37703                           11729     
37704                           11730     ;       *******************************************
37705                           11731     ;       ***                                     ***
37706                           11732     ;       ***     Input R1,R2(残り距離)           ***
37707                           11733     ;       ***     Input R9:SPEED  DATA            ***
37708                           11734     ;       ***     Input R10:OFFSET SPEED          ***
37709                           11735     ;       ***     Input R11:ACC_LATE              ***
37710                           11736     ;       ***                                     ***
37711                           11737     ;       *******************************************
37712                           11738     ;       ANS
37713                           11739     ;       00:KEEP
37714                           11740     ;       01:STOP
37715                           11741     ;       -1:ERR
37716                           11742     ;
37717                                     ***** BEGIN-POOL *****
37718 000002E2 0000                       ALIGNMENT CODE
37719 000002E4 00000000                   DATA FOR SOURCE-LINE 11714
37720                                     ***** END-POOL *****
37721 000002E8                  11743             .ALIGN  4                               ;
37722 000002E8                  11744     _CMP_SPD_REST_PLSCHKCOM:
37723                           11745             SUB_START
37724 000002E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
37725                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37726 000002EA 4111             11746             CMP/PZ  R1                                              ;
37727 000002EC 8901             11747             BT      CMPSPD_RSTPLS_250                               ;NOMAL
37728                           11748     ;       ----- ABNOMAL CALC------                                ;
37729                           11749             M_BRA   CMP_SPD_REST_ERR                                ;
37730 000002EE A024                   M           BRA     CMP_SPD_REST_ERR
37731 000002F0 0009                   M           NOP
37732                           11750     
37733 000002F2                  11751     CMPSPD_RSTPLS_250:
37734                           11752     
37735 000002F2 2118             11753             TST     R1,R1                                           ;
37736                           11754             TST_BIT_OF CMPSPD_RSTPLS_280                            ;
37737 000002F4 8901                   M           BT      CMPSPD_RSTPLS_280
37738                           11755             M_BRA   CMP_SPD_REST_MOV                                ;まだまだ残り距離がある(32
                                          bit以上残り距離がある)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   567
PROGRAM NAME =

37739 000002F6 A01D                   M           BRA     CMP_SPD_REST_MOV
37740 000002F8 0009                   M           NOP
37741 000002FA                  11756     CMPSPD_RSTPLS_280:
37742 000002FA D40D             11757             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
37743 000002FC 3243             11758             CMP/GE  R4,R2                                           ;
37744 000002FE 8919             11759             BT      CMP_SPD_REST_MOV                                ;減速距離がまだまだ大きい(
                                          連続でもありえない)
37745                           11760     ;       ---------------------------------------------------
37746                           11761     
37747                           11762     ;       -------減速距離比較------------
37748                           11763     ;       (R2:距離S)
37749                           11764     ;;      MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
37750                           11765     ;;      MOV.L   @R4,R11                                                 ;
37751                           11766     
37752 00000300 9415             11767             MOV.W   #_ACC_UNIT,R4                                           ;α:(PLS/1000)/s/s
37753 00000302 3B4D             11768             DMULS.L R4,R11                                                  ;α'=α*1000
37754 00000304 031A             11769             STS     MACL,R3                                                 ;
37755 00000306 333C             11770             ADD     R3,R3                                                   ;2*α*1000
37756                           11771     
37757 00000308 332D             11772             DMULS.L R2,R3                                                   ;2*α'*S
37758 0000030A 081A             11773             STS     MACL,R8                                                 ;
37759 0000030C 070A             11774             STS     MACH,R7                                                 ;R7,R8=2*α*S
37760                           11775     ;;      MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
37761                           11776     ;;      MOV.L   @R4,R10                                                 ;
37762 0000030E 3AAD             11777             DMULS.L R10,R10                                                 ;
37763 00000310 021A             11778             STS     MACL,R2                                                 ;
37764 00000312 010A             11779             STS     MACH,R1                                                 ;
37765                           11780             ADD8B DT_REGH=R7,DT_REGL=R8,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2=2*α*S+β*
                                          β
37766 00000314 0008                   M           CLRT
37767 00000316 328E                   M           ADDC    R8,R2
37768 00000318 317E                   M           ADDC    R7,R1
37769                           11781     
37770                           11782     ;加速しないならこれでよい。
37771                           11783     ;この状態で演算し、且つ加速した結果でも演算する必要がある。             ;
37772                           11784     ;;      MOV.L   #_POSCTL_RL_SPD,R4                                      ;
37773                           11785     ;;      MOV.L   @R4,R9                                                  ;
37774 0000031A 399D             11786             DMULS.L R9,R9                                                   ;V*V
37775 0000031C 061A             11787             STS     MACL,R6                                                 ;
37776 0000031E 050A             11788             STS     MACH,R5                                                 ;R5,R6=V*V
37777                           11789     
37778                           11790             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;2*α*S+β*β - V*
                                          V
37779 00000320 0008                   M           CLRT
37780 00000322 326A                   M           SUBC    R6,R2
37781 00000324 315A                   M           SUBC    R5,R1
37782 00000326 4111             11791             CMP/PZ  R1                                                      ;
37783 00000328 8904             11792             BT      CMP_SPD_REST_MOV                                        ;
37784                           11793             M_BRA   CMP_SPD_REST_STOP                                       ;
37785 0000032A A009                   M           BRA     CMP_SPD_REST_STOP
37786 0000032C 0009                   M           NOP
37787                           11794     
37788                                     ***** BEGIN-POOL *****
37789 0000032E 03E8                       DATA FOR SOURCE-LINE 11767
37790 00000330 00E4E1C0                   DATA FOR SOURCE-LINE 11757
37791                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   568
PROGRAM NAME =

37792 00000334                  11795     CMP_SPD_REST_MOV:
37793 00000334 200A             11796             XOR     R0,R0
37794                           11797             M_BRA   CMP_SPD_REST_END
37795 00000336 A004                   M           BRA     CMP_SPD_REST_END
37796 00000338 0009                   M           NOP
37797                           11798     
37798                           11799     ;       ====== 減速開始すべき位置======
37799 0000033A                  11800     CMP_SPD_REST_ERR:
37800 0000033A E0FF             11801             MOV     #-1,R0
37801                           11802             M_BRA   CMP_SPD_REST_END        ;
37802 0000033C A001                   M           BRA     CMP_SPD_REST_END
37803 0000033E 0009                   M           NOP
37804 00000340                  11803     CMP_SPD_REST_STOP:
37805 00000340 E001             11804             MOV     #1,R0
37806 00000342                  11805     CMP_SPD_REST_END:
37807                           11806             SUB_END
37808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37809 00000342 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37810                           11807             M_RTS
37811 00000344 000B                   M           RTS                             ;RTSの後ろの
37812 00000346 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37813                           11808     
37814                           11809     
37815                           11810     
37816                           11811     ;       ***************************************************
37817                           11812     ;       ***                                             ***
37818                           11813     ;       ***             残距離作成                      ***
37819                           11814     ;       ***             2010-09-22                      ***
37820                           11815     ;       ***             演算の簡略化                    ***
37821                           11816     ;       ***                                             ***
37822                           11817     ;       ***************************************************
37823 00000348                  11818             .ALIGN  4                               ;
37824 00000348                  11819     _ACC_REST_INFO_MAKE
37825                           11820             SUB_START
37826 00000348 4F22                   M           STS.L   PR,@-R15                ;[必要]
37827                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37828                           11821     ;       ----------- 設定目標位置        ---------
37829 0000034A D411             11822             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
37830 0000034C 5140             11823             MOV.L   @(0,R4),R1                                              ;
37831 0000034E 5241             11824             MOV.L   @(4,R4),R2                                              ;
37832                           11825     
37833                           11826     ;       ---------------リアルタイム目標位置-----------
37834 00000350 D410             11827             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
37835 00000352 5540             11828             MOV.L   @(0,R4),R5                                              ;
37836 00000354 5641             11829             MOV.L   @(4,R4),R6                                              ;
37837                           11830             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
37838 00000356 0008                   M           CLRT
37839 00000358 326A                   M           SUBC    R6,R2
37840 0000035A 315A                   M           SUBC    R5,R1
37841                           11831     
37842 0000035C D40E             11832             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
37843 0000035E 6041             11833             MOV.W   @R4,R0                                                  ;
37844 00000360 C801             11834             TST     #BIT0,R0                                                ;
37845                           11835             TST_BIT_OF ACC_REST_INFMK_100                                   ;正転
37846 00000362 8905                   M           BT      ACC_REST_INFMK_100
37847                           11836             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
37848 00000364 6227                   M           NOT     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   569
PROGRAM NAME =

37849 00000366 6117                   M           NOT     R1,R1                           ;
37850 00000368 200A                   M           XOR     R0,R0                           ;
37851 0000036A 0018                   M           SETT
37852 0000036C 320E                   M           ADDC    R0,R2                           ;0+1+R2
37853 0000036E 310E                   M           ADDC    R0,R1                           ;
37854 00000370                  11837     ACC_REST_INFMK_100                                                      ;正転
37855                           11838     
37856 00000370 D50A             11839             MOV.L   #_ACC_REST_ABS_PLS,R5   ;
37857 00000372 2512             11840             MOV.L   R1,@R5                  ;
37858 00000374 1521             11841             MOV.L   R2,@(4,R5)              ;
37859                           11842     
37860                           11843     
37861 00000376 200A             11844             XOR     R0,R0
37862 00000378 2118             11845             TST     R1,R1                                   ;8byteの上位4byteがあるか？
37863                           11846             TST_BIT_ON ACC_REST_INFMK_200                   ;まだ4BYTE以上ある
37864 0000037A 8B03                   M           BF      ACC_REST_INFMK_200
37865                           11847     
37866 0000037C D408             11848             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
37867 0000037E 3243             11849             CMP/GE  R4,R2                                           ;
37868 00000380 8900             11850             BT      ACC_REST_INFMK_200                              ;減速距離がまだまだ大きい(
                                          連続でもありえない)
37869                           11851     
37870 00000382 E0FF             11852             MOV.B   #-1,R0                                          ;4BYTE以下なので減速演算し
                                          てもいい
37871                           11853                                                             ;演算オーバフロー対策
37872                           11854     
37873 00000384                  11855     ACC_REST_INFMK_200                                                      ;
37874 00000384 D407             11856             MOV.L   #_ACC_REST_FLG,R4                                       ;
37875 00000386 2401             11857             MOV.W   R0,@R4                                                  ;0:まだまだ距離が
                                          十分ある
37876                           11858     
37877                           11859             SUB_END
37878                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37879 00000388 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37880                           11860             M_RTS
37881 0000038A 000B                   M           RTS                             ;RTSの後ろの
37882 0000038C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37883                           11861     
37884                           11862     ;       *******************************************
37885                           11863     ;       ***                                     ***
37886                           11864     ;       ***                                     ***
37887                           11865     ;       ***                                     ***
37888                           11866     ;       ***     振り子加速・減速演算            ***
37889                           11867     ;       ***                                     ***
37890                           11868     ;       ***                                     ***
37891                           11869     ;       *******************************************
37892                           11870             .EXPORT _DNM_TBL_CALC
37893                           11871             .EXPORT _DNM_START_ACC_CALC
37894                           11872             .EXPORT _DNM_STEP_ACC_CHANGE
37895                           11873     
37896                           11874             .EXPORT _DNM_SPD_CALC
37897                           11875             .EXPORT _DNM_ACC_CALC
37898                           11876             .IMPORT _DATA_CMP2B_R5R6_REF            ;DTMK
37899                           11877     
37900                           11878     ;       ===================================
37901                           11879     ;       ===  SCURVが有効であれば生かす  ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   570
PROGRAM NAME =

37902                           11880     ;       ===================================
37903                           11881     
37904                           11882             .EXPORT _USE_IN_TBL_MOV                 ;
37905                           11883             .INCLUDE        "ssa_acct.inc"          ;//2010-09-21ふりこテーブル演算
37906                               1 I1  ;       ***************************************************
37907                               2 I1  ;       ***                                             ***
37908                               3 I1  ;       ***                                             ***
37909                               4 I1  ;       ***                                             ***
37910                               5 I1  ;       ***             振り子加速度演算                ***
37911                               6 I1  ;       ***                                             ***
37912                               7 I1  ;       ***                                             ***
37913                               8 I1  ;       ***                                             ***
37914                               9 I1  ;       ***************************************************
37915                              10 I1  ;       SSA_POS1.SRCにｲﾝｸﾙｰﾄﾞされる
37916                                 I1  ***** BEGIN-POOL *****
37917 0000038E 0000                   I1  ALIGNMENT CODE
37918 00000390 00000000               I1  DATA FOR SOURCE-LINE 11822
37919 00000394 00000000               I1  DATA FOR SOURCE-LINE 11827
37920 00000398 00000000               I1  DATA FOR SOURCE-LINE 11832
37921 0000039C 00000000               I1  DATA FOR SOURCE-LINE 11839
37922 000003A0 00E4E1C0               I1  DATA FOR SOURCE-LINE 11848
37923 000003A4 00000000               I1  DATA FOR SOURCE-LINE 11856
37924                                 I1  ***** END-POOL *****
37925          00002710            11 I1  _ACC_PER_V_MAX  .EQU    10000   ;10000換算
37926          000003E8            12 I1  _ACC_CALC_TIM   .EQU    1000    ;1/1000msec
37927                              13 I1  ;
37928                              14 I1          .INCLUDE        "ssa_acrm.ext"          ; //
37929                               1 I2  ;//     *******************************************
37930                               2 I2  ;//     ***             振り子加速              ***
37931                               3 I2  ;//     *******************************************
37932                               4 I2  
37933                               5 I2  
37934                               6 I2  
37935                               7 I2          .GLOBAL         _ACC_LAST_SPD           ;最大速度から求まる
37936                               8 I2          .GLOBAL         _ACC_STOP_SPD           ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
37937                               9 I2          .GLOBAL         _ACC_STEP_SPD           ;ステップ
37938                              10 I2  
37939                              11 I2          .GLOBAL         _ACC_LAST_POINT         ;最大速度から求まる
37940                              12 I2          .GLOBAL         _ACC_STOP_POINT         ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
37941                              13 I2          .GLOBAL         _ACC_STEP_POINT         ;ステップ
37942                              14 I2  
37943                              15 I2          .GLOBAL         _ACC_STEP_FLG           ;BIT0:START BIT1:CALC BIT2:LIMIT
37944                              16 I2          .GLOBAL         _ACC_CTRL_STS1          ;
37945                              17 I2          .GLOBAL         _ACC_CTRL_STS2          ;
37946                              18 I2  
37947                              19 I2          .GLOBAL         _ACC_POS_STEP           ;
37948                              20 I2          .GLOBAL         _ACC_STR_STEP           ;
37949                              21 I2  
37950                              22 I2          .GLOBAL         _ACC_STOP_NUMBER        ;停止に使用するデータ番号=停止ステップ
37951                              23 I2          .GLOBAL         _ACC_STEP_NUMBER        ;加減速に使用するデータ番号=動作ステップ
37952                              24 I2          .GLOBAL         _ACC_ANS_ACCDAT         ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37953                              25 I2  
37954                              26 I2  
37955                              27 I2  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   571
PROGRAM NAME =

37956                              28 I2  ;       ------------------------------------------
37957                              29 I2          .GLOBAL         _ACCB_ACCLAT_TIM1       ;最大加減速時間 設定
37958                              30 I2  
37959                              31 I2  
37960                              32 I2  ;
37961                              33 I2  ;       ・各段に変速テーブル（加速または減速）と停止テーブルが存在する
37962                              34 I2  ;       ・変速状態（加速中または減速）での停止は、そのテーブルの停止テーブルに従う
37963                              35 I2  ;       ・停止テーブルは常に増加方向:パルスが必要(パルスでサーチする)
37964                              36 I2  ;       ・加速テーブルも常に増加方向:パルスは不要(速度でサーチする)
37965                              37 I2  ;       ・減速テーブルは常に増加方向:パルスは不要(速度でサーチする)
37966                              38 I2  ;
37967                              39 I2  
37968                              40 I2  
37969                              41 I2  
37970                              42 I2          .GLOBAL         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
37971                              43 I2          .GLOBAL         _ACC_INF1_STEPSP02      ;050%[前状態],100%[設定]
37972                              44 I2          .GLOBAL         _ACC_INF1_STEPSP03      ;100%[前状態],100%[設定](この場合は前の状
                                          態の加減速をCOPY)
37973                              45 I2          .GLOBAL         _ACC_INF1_STEPSP04      ;
37974                              46 I2          .GLOBAL         _ACC_INF1_STEPSP05      ;
37975                              47 I2          .GLOBAL         _ACC_INF1_STEPSP06      ;
37976                              48 I2          .GLOBAL         _ACC_INF1_STEPSP07      ;
37977                              49 I2          .GLOBAL         _ACC_INF1_STEPSP08      ;
37978                              50 I2          .GLOBAL         _ACC_INF1_STEPSP09      ;
37979                              51 I2          .GLOBAL         _ACC_INF1_STEPSP10      ;
37980                              52 I2          .GLOBAL         _ACC_INF1_STEPSP11      ;
37981                              53 I2  
37982                              54 I2  
37983                              55 I2                                          ;INFOMAINTION
37984                              56 I2          .GLOBAL         _ACC_INF1_STEP001       ;//(加速:0/減速:1)
37985                              57 I2          .GLOBAL         _ACC_INF1_STEP002       ;//
37986                              58 I2          .GLOBAL         _ACC_INF1_STEP003       ;
37987                              59 I2          .GLOBAL         _ACC_INF1_STEP004       ;
37988                              60 I2          .GLOBAL         _ACC_INF1_STEP005       ;
37989                              61 I2          .GLOBAL         _ACC_INF1_STEP006       ;
37990                              62 I2          .GLOBAL         _ACC_INF1_STEP007       ;
37991                              63 I2          .GLOBAL         _ACC_INF1_STEP008       ;
37992                              64 I2          .GLOBAL         _ACC_INF1_STEP009       ;
37993                              65 I2          .GLOBAL         _ACC_INF1_STEP010       ;
37994                              66 I2          .GLOBAL         _ACC_INF1_STEP011       ;
37995                              67 I2  
37996                              68 I2  
37997                              69 I2  
37998                              70 I2  
37999                              71 I2  ;       ----------------------------------------------
38000                              72 I2  ;;;[2013-05-20 前から未使用];   最大速度時の加減速時間(設定値と同じもの：上下限チェック済
                                          み)
38001                              73 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_ACCTM      ;加減速時間
38002                              74 I2  ;;;[2013-05-20 前から未使用]
38003                              75 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速速度
38004                              76 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPVTBL    ;//
38005                              77 I2  ;;;[2013-05-20 前から未使用]
38006                              78 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速パルス
38007                              79 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPPTBL    ;//
38008                              80 I2  
38009                              81 I2  
38010                              82 I2  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   572
PROGRAM NAME =

38011                              83 I2  ;       ---------------------------------------------------
38012                              84 I2  ;各段可変速用の加減速速度
38013                              85 I2  
38014                              86 I2          .GLOBAL         _ACC_STEP001_VTBL       ;//
38015                              87 I2          .GLOBAL         _ACC_STEP002_VTBL       ;//
38016                              88 I2          .GLOBAL         _ACC_STEP003_VTBL       ;//
38017                              89 I2          .GLOBAL         _ACC_STEP004_VTBL       ;//
38018                              90 I2          .GLOBAL         _ACC_STEP005_VTBL       ;//
38019                              91 I2          .GLOBAL         _ACC_STEP006_VTBL       ;//
38020                              92 I2          .GLOBAL         _ACC_STEP007_VTBL       ;//
38021                              93 I2          .GLOBAL         _ACC_STEP008_VTBL       ;//
38022                              94 I2          .GLOBAL         _ACC_STEP009_VTBL       ;//
38023                              95 I2          .GLOBAL         _ACC_STEP010_VTBL       ;//
38024                              96 I2          .GLOBAL         _ACC_STEP011_VTBL       ;//
38025                              97 I2  
38026                              98 I2  
38027                              99 I2  ;       ---------------------------------------------------
38028                             100 I2  ;各段可変速用の加減速時間
38029                             101 I2  
38030                             102 I2          .GLOBAL         _ACC_STEP001_ACTM       ;
38031                             103 I2          .GLOBAL         _ACC_STEP002_ACTM       ;
38032                             104 I2          .GLOBAL         _ACC_STEP003_ACTM       ;
38033                             105 I2          .GLOBAL         _ACC_STEP004_ACTM       ;
38034                             106 I2          .GLOBAL         _ACC_STEP005_ACTM       ;
38035                             107 I2          .GLOBAL         _ACC_STEP006_ACTM       ;
38036                             108 I2          .GLOBAL         _ACC_STEP007_ACTM       ;
38037                             109 I2          .GLOBAL         _ACC_STEP008_ACTM       ;
38038                             110 I2          .GLOBAL         _ACC_STEP009_ACTM       ;
38039                             111 I2          .GLOBAL         _ACC_STEP010_ACTM       ;
38040                             112 I2          .GLOBAL         _ACC_STEP011_ACTM       ;
38041                             113 I2  
38042                             114 I2  ;       ================================================
38043                             115 I2  ;
38044                             116 I2  ;各段停止用の減速速度
38045                             117 I2  ;                                       格段の停止時
38046                             118 I2  
38047                             119 I2          .GLOBAL         _ACC_STOP001_VTBL       ;//
38048                             120 I2          .GLOBAL         _ACC_STOP002_VTBL       ;//
38049                             121 I2          .GLOBAL         _ACC_STOP003_VTBL       ;//
38050                             122 I2          .GLOBAL         _ACC_STOP004_VTBL       ;//
38051                             123 I2          .GLOBAL         _ACC_STOP005_VTBL       ;//
38052                             124 I2          .GLOBAL         _ACC_STOP006_VTBL       ;//
38053                             125 I2          .GLOBAL         _ACC_STOP007_VTBL       ;//
38054                             126 I2          .GLOBAL         _ACC_STOP008_VTBL       ;//
38055                             127 I2          .GLOBAL         _ACC_STOP009_VTBL       ;//
38056                             128 I2          .GLOBAL         _ACC_STOP010_VTBL       ;//
38057                             129 I2          .GLOBAL         _ACC_STOP011_VTBL       ;//
38058                             130 I2  
38059                             131 I2  ;各段停止用の減速パルス
38060                             132 I2  
38061                             133 I2          .GLOBAL         _ACC_STOP001_PTBL       ;//
38062                             134 I2          .GLOBAL         _ACC_STOP002_PTBL       ;//
38063                             135 I2          .GLOBAL         _ACC_STOP003_PTBL       ;//
38064                             136 I2          .GLOBAL         _ACC_STOP004_PTBL       ;//
38065                             137 I2          .GLOBAL         _ACC_STOP005_PTBL       ;//
38066                             138 I2          .GLOBAL         _ACC_STOP006_PTBL       ;//
38067                             139 I2          .GLOBAL         _ACC_STOP007_PTBL       ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   573
PROGRAM NAME =

38068                             140 I2          .GLOBAL         _ACC_STOP008_PTBL       ;//
38069                             141 I2          .GLOBAL         _ACC_STOP009_PTBL       ;//
38070                             142 I2          .GLOBAL         _ACC_STOP010_PTBL       ;//
38071                             143 I2          .GLOBAL         _ACC_STOP011_PTBL       ;//
38072                             144 I2  
38073                             145 I2  
38074                             146 I2          .GLOBAL         _ACC_STOP001_ACTM       ;
38075                             147 I2          .GLOBAL         _ACC_STOP002_ACTM       ;
38076                             148 I2          .GLOBAL         _ACC_STOP003_ACTM       ;
38077                             149 I2          .GLOBAL         _ACC_STOP004_ACTM       ;
38078                             150 I2          .GLOBAL         _ACC_STOP005_ACTM       ;
38079                             151 I2          .GLOBAL         _ACC_STOP006_ACTM       ;
38080                             152 I2          .GLOBAL         _ACC_STOP007_ACTM       ;
38081                             153 I2          .GLOBAL         _ACC_STOP008_ACTM       ;
38082                             154 I2          .GLOBAL         _ACC_STOP009_ACTM       ;
38083                             155 I2          .GLOBAL         _ACC_STOP010_ACTM       ;
38084                             156 I2          .GLOBAL         _ACC_STOP011_ACTM       ;
38085                             157 I2  
38086                             158 I2  ;       *******************************************
38087                             159 I2  ;       ***                                     ***
38088                             160 I2  ;       ***     加速度パターン入れ替え          ***
38089                             161 I2  ;       ***                                     ***
38090                             162 I2  ;       *******************************************
38091                             163 I2          .GLOBAL         _ACC_IN_TBL_TIM         ;255msec時間 ループ数は256
38092                             164 I2          .GLOBAL         _ACC_IN_TBLUSE          ;
38093                             165 I2  
38094                             166 I2  
38095                             167 I2  ;       -----------------------------------
38096                             168 I2  ;       ---                             ---
38097                             169 I2  ;       ---     ｵｰﾊﾞﾗｲﾄﾞ対策            ---
38098                             170 I2  ;       ---                             ---
38099                             171 I2  ;       -----------------------------------
38100                             172 I2          .GLOBAL         _ACC_REST_ABS_PLSX      ;//比率倍(CPUAのみ使用)
38101                             173 I2          .GLOBAL         _ACC_CALC_SPDX          ;
38102                             174 I2          .GLOBAL         _ACC_CALC_SPD           ;
38103                             175 I2          .GLOBAL         _ACC_POSCTL_SV_SPDX             ;                               ;･
                                          ････
38104                             176 I2          .GLOBAL         _ACC_POSCTL_RL_SPDX             ;
38105                             177 I2          .GLOBAL         _ACC_POSCTL_SV_UP_ACCX          ;
38106                             178 I2          .GLOBAL         _ACC_POSCTL_SV_DN_ACCX          ;
38107                             179 I2  
38108                             180 I2  
38109                             181 I2  ;//     -----------------------------------
38110                             182 I2  ;//     ---     2013-02-05              ---
38111                             183 I2  ;//     -----------------------------------
38112                             184 I2          .GLOBAL _SVX_OBJ_SPD_OLDTOP;
38113                             185 I2          .GLOBAL _SVX_UPAREA_SPD0OLD;
38114                             186 I2  
38115                              15 I1  
38116                              16 I1  
38117                              17 I1  
38118                              18 I1          .IMPORT         _DNM_MAXSPM_ACCLAT_MAK          ;2010-10-05
38119                              19 I1  
38120                              20 I1  
38121                              21 I1  ;//     *******************************************
38122                              22 I1  ;//     ***             振り子加速              ***
38123                              23 I1  ;//     *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   574
PROGRAM NAME =

38124                              24 I1  ;       ***************************************************
38125                              25 I1  ;       ***                                             ***
38126                              26 I1  ;       ***             ふりこ加速テーブル              ***
38127                              27 I1  ;       ***             パラメータに入れる              ***
38128                              28 I1  ;       ***                                             ***
38129                              29 I1  ;       ***************************************************
38130                              30 I1          .GLOBAL         _CB_SYS_PARTBL001       ;CODE:ｺｰﾄﾞ存在なければﾃﾞｰﾀなし
38131                              31 I1          .GLOBAL         _CB_SYS_PARTBL002       ;1:加速度ﾃｰﾌﾞﾙ使用NO.[1個より増えた場合用]
38132                              32 I1          .GLOBAL         _CB_SYS_PARTBL003       ;1:最大回転速度/加減速時間ﾃｰﾌﾞﾙ使用[1個よ
                                          り増えた場合用]
38133                              33 I1          .GLOBAL         _CB_SYS_PARTBL004       ;加速度ﾃｰﾌﾞﾙ1　<設定位置１未満
38134                              34 I1          .GLOBAL         _CB_SYS_PARTBL005       ;加速度ﾃｰﾌﾞﾙ2　位置1≦＜位置2
38135                              35 I1  
38136                              36 I1  
38137                              37 I1  ;       ***************************************************
38138                              38 I1  ;       ***                                             ***
38139                              39 I1  ;       ***             mm-最大回転数,加減速時間        ***
38140                              40 I1  ;       ***                                             ***
38141                              41 I1  ;       ***************************************************
38142                              42 I1          .GLOBAL         _CB_SYS_DNMTBL1_CNT             ;
38143                              43 I1          .GLOBAL         _CB_SYS_DNMTBL1_DATA_TOP        ;
38144                              44 I1          .GLOBAL         _CB_SYS_ACCTBL1_CNT             ;
38145                              45 I1          .GLOBAL         _CB_SYS_ACCTBL1_IN_TOP          ;
38146                              46 I1          .GLOBAL         _CB_SYS_ACCTBL2_CNT             ;
38147                              47 I1          .GLOBAL         _CB_SYS_ACCTBL2_IN_TOP          ;
38148                              48 I1          .GLOBAL         _CB_SYS_ACCTBL3_CNT             ;
38149                              49 I1          .GLOBAL         _CB_SYS_ACCTBL3_IN_TOP          ;
38150                              50 I1  
38151                              51 I1          .import         _SYS2_DT_LOAD
38152                              52 I1  
38153                              53 I1  ;       ***************************************************
38154                              54 I1  ;       ***                                             ***
38155                              55 I1  ;       ***             速度テーブル                    ***
38156                              56 I1  ;       ***                                             ***
38157                              57 I1  ;       ***************************************************
38158 000003A8                     58 I1          .ALIGN  4                                               ;
38159                              59 I1  ;;;;;   .INCLUDE        "ssa_atbl.inc"          ;//2010-09-21
38160                              60 I1  
38161                              61 I1          .AIF    1 EQ    0
38162                              62     
38163                              63             .IMPORT _PDTRB
38164                              64             .MACRO  _A_WDT_CLR
38165                              65             PUSH_REG1 R10
38166                              66             PUSH_REG1 R11
38167                              67             PUSH_REG1 R12
38168                              68     
38169                              69             DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
38170                              70     
38171                              71             MOV.L   #_PDTRB,R10
38172                              72             MOV.W   @R10,R11
38173                              73             MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
38174                              74             AND     R12,R11                 ;
38175                              75             MOV.W   R11,@R10                ;
38176                              76             MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
38177                              77             OR      R12,R11                 ;
38178                              78             MOV.W   R11,@R10                ;
38179                              79     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   575
PROGRAM NAME =

38180                              80             EI_POP_SR_SHn                   ;
38181                              81     
38182                              82             POP_REG1 R12
38183                              83             POP_REG1 R11
38184                              84             POP_REG1 R10
38185                              85             .ENDM
38186                              86     
38187                              87             .AELSE
38188                              88 C   ;CPU-Bは5msecでたたいているから不要
38189                              89 C           .MACRO  _A_WDT_CLR
38190                              90 C           .ENDM
38191                              91 C   
38192                              92 C   
38193                              93 I1          .AENDI
38194                              94 I1  
38195                              95 I1  ;
38196                              96 I1  ;       _DNM_TBL_CALC:  ﾃｰﾌﾞﾙ作成[DTMK]
38197                              97 I1  ;       _DNM_START_ACC_CALC:API 起動 往路/復路CHANGE [POS1]
38198                              98 I1  ;       _DNM_STEP_ACC_CHANGE:API 工程切替 ;[POS1]
38199                              99 I1  ;       _DNM_SPD_CALC:速度演算→ACC算出,反映[POS1]
38200                             100 I1  ;
38201                             101 I1  
38202                             102 I1  
38203                             103 I1  ;       ***************************************************
38204                             104 I1  ;       ***                                             ***
38205                             105 I1  ;       ***                                             ***
38206                             106 I1  ;       ***                                             ***
38207                             107 I1  ;       ***                                             ***
38208                             108 I1  ;       ***                                             ***
38209                             109 I1  ;       ***                                             ***
38210                             110 I1  ;       ***             振り子加速度テーブル作成        ***
38211                             111 I1  ;       ***                                             ***
38212                             112 I1  ;       ***                                             ***
38213                             113 I1  ;       ***                                             ***
38214                             114 I1  ;       ***                                             ***
38215                             115 I1  ;       ***                                             ***
38216                             116 I1  ;       ***                                             ***
38217                             117 I1  ;       ***************************************************
38218                             118 I1  ;       dtmkにて演算(WDT-CLR必要)
38219 000003A8                    119 I1          .ALIGN  4                                               ;
38220 000003A8                    120 I1  _DNM_TBL_CALC:
38221                             121 I1          SUB_START
38222 000003A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
38223                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38224                             122 I1  
38225                             123 I1          FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
38226 000003AA D006                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38227 000003AC 400B                   M           JSR     @R0                     ;
38228 000003AE 0009                   M           NOP                                     ;
38229 000003B0 2008               124 I1          TST     R0,R0
38230                             125 I1          TST_BIT_OF DNM_TBLCAL_200                               ;ふりこでない
38231 000003B2 890B                   M           BT      DNM_TBLCAL_200
38232                             126 I1  
38233                             127 I1          FAR_JSR #_DNM_MOTION_DATA_MAK,R0                        ;振り子時
38234 000003B4 D004                   M           MOV.L   #_DNM_MOTION_DATA_MAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38235 000003B6 400B                   M           JSR     @R0                     ;
38236 000003B8 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   576
PROGRAM NAME =

38237 000003BA 9001               128 I1          MOV.W   #1,R0
38238                             129 I1          M_BRA   DNM_TBLCAL_300                                  ;
38239 000003BC A007                   M           BRA     DNM_TBLCAL_300
38240 000003BE 0009                   M           NOP
38241                             130 I1  
38242                                 I1  ***** BEGIN-POOL *****
38243 000003C0 0001                   I1  DATA FOR SOURCE-LINE 128
38244 000003C2 0000                   I1  ALIGNMENT CODE
38245 000003C4 00000000               I1  DATA FOR SOURCE-LINE 123
38246 000003C8 00000000               I1  DATA FOR SOURCE-LINE 127
38247                                 I1  ***** END-POOL *****
38248 000003CC                    131 I1  DNM_TBLCAL_200:
38249 000003CC 200A               132 I1          XOR     R0,R0
38250 000003CE                    133 I1  DNM_TBLCAL_300:
38251 000003CE D104               134 I1          MOV.L   #_DNM_ACC_CALFLG,R1                             ;//0/1
38252 000003D0 2101               135 I1          MOV.W   R0,@R1                                          ;
38253                             136 I1  
38254                             137 I1  
38255                             138 I1  
38256                             139 I1  ;       ============ ﾃﾞﾊﾞｯｸ===========
38257                             140 I1   .AIF   1 EQ    0
38258                             141             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38259                             142      .AELSE
38260 000003D2 D104               143 C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38261                             144 I1   .AENDI
38262 000003D4 6011               145 I1          MOV.W   @R1,R0
38263 000003D6 D104               146 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB258,R1     ;258,328
38264 000003D8 2101               147 I1          MOV.W   R0,@R1
38265                             148 I1  
38266                             149 I1          SUB_END
38267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38268 000003DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38269                             150 I1          M_RTS
38270 000003DC 000B                   M           RTS                             ;RTSの後ろの
38271 000003DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38272                             151 I1  
38273                             152 I1  
38274                             153 I1  ;       *******************************************
38275                             154 I1  ;       ***                                     ***
38276                             155 I1  ;       ***             各データ作成CALL        ***
38277                             156 I1  ;       ***                                     ***
38278                             157 I1  ;       *******************************************
38279                             158 I1  ;       速度演算結果 * 速度比率/100　･･･速度
38280                             159 I1  ;       ﾃｰﾌﾞﾙの距離を速度比率/100････残距離比較
38281                             160 I1  ;       残り距離*100/速度比率
38282                             161 I1  ;
38283                             162 I1  ;       [起動時に比率を取込む]
38284                             163 I1  ;
38285                             164 I1  ;       --------2015-03-15[ふりこの設定状態]
38286                             165 I1  
38287                             166 I1          .MACRO  DNM_INFO_SET SETCOD
38288                             167 I1  
38289                             168 I1          MOV.W   #\SETCOD,R0
38290                             169 I1   .AIF   1 EQ    0
38291                             170 I1          MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38292                             171 I1   .AELSE
38293                             172 I1          MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   577
PROGRAM NAME =

38294                             173 I1   .AENDI
38295                             174 I1          MOV.W   R0,@R1                          ;
38296                             175 I1  
38297                             176 I1          .ENDM
38298                             177 I1  
38299                             178 I1          .IMPORT _SH4_DNM_CALC_INFO              ;
38300                             179 I1          .IMPORT _SH2_DNM_CALC_INFO              ;
38301                             180 I1  
38302                             181 I1  
38303                                 I1  ***** BEGIN-POOL *****
38304 000003E0 00000000               I1  DATA FOR SOURCE-LINE 134
38305 000003E4 00000000               I1  DATA FOR SOURCE-LINE 143
38306 000003E8 00000000               I1  DATA FOR SOURCE-LINE 146
38307                                 I1  ***** END-POOL *****
38308 000003EC                    182 I1  _DNM_MOTION_DATA_MAK:
38309                             183 I1          SUB_START
38310 000003EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38311                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38312                             184 I1  
38313                             185 I1  
38314                             186 I1  
38315 000003EE 277A               187 I1          XOR     R7,R7                           ;
38316 000003F0 D50E               188 I1          MOV.L   #_SVP_UPAREA_SPD0,R5            ;基準速度(戻速度)
38317 000003F2 D60F               189 I1          MOV.L   #_SVX_UPAREA_SPD0OLD,R6         ;
38318                             190 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
38319 000003F4 D00F                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38320 000003F6 400B                   M           JSR     @R0                     ;
38321 000003F8 0009                   M           NOP                                     ;
38322                             191 I1  
38323                             192 I1  
38324 000003FA 9315               193 I1          MOV.W   #D'20,R3                        ;
38325 000003FC D50E               194 I1          MOV.L   #_SVPX1_OBJECT_SPD_TOP,R5               ;
38326 000003FE D60F               195 I1          MOV.L   #_SVX_OBJ_SPD_OLDTOP,R6         ;
38327                             196 I1  
38328 00000400                    197 I1  ACC_INFMAK1_DTCHGCHKLOP
38329                             198 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
38330 00000400 D00C                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38331 00000402 400B                   M           JSR     @R0                     ;
38332 00000404 0009                   M           NOP                                     ;
38333 00000406 73FF               199 I1          ADD     #-1,R3                          ;
38334 00000408 2338               200 I1          TST     R3,R3                           ;
38335                             201 I1          TST_BIT_ON ACC_INFMAK1_DTCHGCHKLOP      ;
38336 0000040A 8BF9                   M           BF      ACC_INFMAK1_DTCHGCHKLOP
38337 0000040C 2778               202 I1          TST     R7,R7                           ;
38338                             203 I1          TST_BIT_ON ACC_INFMAK1_START            ;[速度設定変更有り]
38339 0000040E 8B1D                   M           BF      ACC_INFMAK1_START
38340                             204 I1  
38341 00000410 D10B               205 I1          MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
38342 00000412 6011               206 I1          MOV.W   @R1,R0                          ;
38343 00000414 D10B               207 I1          MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
38344 00000416 6211               208 I1          MOV.W   @R1,R2                          ;
38345 00000418 202B               209 I1          OR      R2,R0                           ;
38346 0000041A 2008               210 I1          TST     R0,R0                           ;
38347                             211 I1          TST_BIT_ON ACC_INFMAK1_START050         ;異常状態での演算
38348 0000041C 8B1E                   M           BF      ACC_INFMAK1_START050
38349                             212 I1  
38350                             213 I1          FAR_JSR #_API_SETACC_STS_CLR,R0         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   578
PROGRAM NAME =

38351 0000041E D00A                   M           MOV.L   #_API_SETACC_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38352 00000420 400B                   M           JSR     @R0                     ;
38353 00000422 0009                   M           NOP                                     ;
38354                             214 I1  
38355                             215 I1          M_BRA   ACC_INFMAK1_EXT                 ;
38356 00000424 A029                   M           BRA     ACC_INFMAK1_EXT
38357 00000426 0009                   M           NOP
38358                             216 I1  
38359                             217 I1  ;       ----------[CPUA/B間で演算完了状態であれば 反映して良い]--------
38360                                 I1  ***** BEGIN-POOL *****
38361 00000428 0014                   I1  DATA FOR SOURCE-LINE 193
38362 0000042A 0000                   I1  ALIGNMENT CODE
38363 0000042C 00000000               I1  DATA FOR SOURCE-LINE 188
38364 00000430 00000000               I1  DATA FOR SOURCE-LINE 189
38365 00000434 00000000               I1  DATA FOR SOURCE-LINE 190,198
38366 00000438 00000000               I1  DATA FOR SOURCE-LINE 194
38367 0000043C 00000000               I1  DATA FOR SOURCE-LINE 195
38368 00000440 00000000               I1  DATA FOR SOURCE-LINE 205
38369 00000444 00000000               I1  DATA FOR SOURCE-LINE 207
38370 00000448 00000000               I1  DATA FOR SOURCE-LINE 213
38371                                 I1  ***** END-POOL *****
38372 0000044C                    218 I1  ACC_INFMAK1_START
38373                             219 I1          DNM_INFO_SET SETCOD=BIT0;       ;演算中
38374                                 M   
38375 0000044C 9003                   M           MOV.W   #BIT0,R0
38376                                 M    .AIF   1 EQ    0
38377                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38378                                      .AELSE
38379 0000044E D102                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38380                                 M    .AENDI
38381 00000450 2101                   M           MOV.W   R0,@R1                          ;
38382                                 M   
38383                             220 I1          M_BRA   ACC_INFMAK1_START100            ;
38384 00000452 A006                   M           BRA     ACC_INFMAK1_START100
38385 00000454 0009                   M           NOP
38386                             221 I1  
38387                                 I1  ***** BEGIN-POOL *****
38388 00000456 0001                   I1  DATA FOR SOURCE-LINE 219
38389 00000458 00000000               I1  DATA FOR SOURCE-LINE 219
38390                                 I1  ***** END-POOL *****
38391 0000045C                    222 I1  ACC_INFMAK1_START050:
38392                             223 I1          DNM_INFO_SET SETCOD=BIT1                ;演算中
38393                                 M   
38394 0000045C 9010                   M           MOV.W   #BIT1,R0
38395                                 M    .AIF   1 EQ    0
38396                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38397                                      .AELSE
38398 0000045E D109                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38399                                 M    .AENDI
38400 00000460 2101                   M           MOV.W   R0,@R1                          ;
38401                                 M   
38402                             224 I1  
38403 00000462                    225 I1  ACC_INFMAK1_START100:
38404                             226 I1  
38405                             227 I1          FAR_JSR #_SYS2_DT_LOAD,R0                       ;
38406 00000462 D009                   M           MOV.L   #_SYS2_DT_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38407 00000464 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   579
PROGRAM NAME =

38408 00000466 0009                   M           NOP                                     ;
38409                             228 I1  
38410                             229 I1  
38411                             230 I1          FAR_JSR #_ACC_STEP_INF_MAKE1,R0         ;
38412 00000468 D008                   M           MOV.L   #_ACC_STEP_INF_MAKE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38413 0000046A 400B                   M           JSR     @R0                     ;
38414 0000046C 0009                   M           NOP                                     ;
38415                             231 I1                                                  ;_ACC_INF1_STEPSP01     ;000%[前状態],050%
                                          [設定]
38416                             232 I1                                                  ;_ACC_INF1_STEP001      ;BIT2=[0=加速/1=減
                                          速]
38417                             233 I1                                                  ;
38418                             234 I1          FAR_JSR #_ACC_TBL_MAKE1,R0              ;
38419 0000046E D008                   M           MOV.L   #_ACC_TBL_MAKE1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38420 00000470 400B                   M           JSR     @R0                     ;
38421 00000472 0009                   M           NOP                                     ;
38422                             235 I1  
38423                             236 I1  
38424                             237 I1          DNM_INFO_SET SETCOD=BIT2                ;演算すべき状態、演算結果を反映して良い状
                                          態
38425                                 M   
38426 00000474 9005                   M           MOV.W   #BIT2,R0
38427                                 M    .AIF   1 EQ    0
38428                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38429                                      .AELSE
38430 00000476 D103                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38431                                 M    .AENDI
38432 00000478 2101                   M           MOV.W   R0,@R1                          ;
38433                                 M   
38434                             238 I1  
38435 0000047A                    239 I1  ACC_INFMAK1_EXT
38436                             240 I1  
38437                             241 I1          SUB_END
38438                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38439 0000047A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38440                             242 I1          M_RTS
38441 0000047C 000B                   M           RTS                             ;RTSの後ろの
38442 0000047E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38443                             243 I1  
38444                             244 I1  ;       ***************************************************
38445                             245 I1  ;       ***                                             ***
38446                             246 I1  ;       *** 自分がBIT2=1で相手がBIT2=1またはBIT3=1      ***
38447                             247 I1  ;       *** なら演算を反映する                          ***
38448                             248 I1  ;       ***                                             ***
38449                             249 I1  ;       ***************************************************
38450                             250 I1  ;
38451                             251 I1  ;
38452                             252 I1          .EXPORT _API_SETACC_INFO_GET
38453                                 I1  ***** BEGIN-POOL *****
38454 00000480 0002                   I1  DATA FOR SOURCE-LINE 223
38455 00000482 0004                   I1  DATA FOR SOURCE-LINE 237
38456 00000484 00000000               I1  DATA FOR SOURCE-LINE 223,237
38457 00000488 00000000               I1  DATA FOR SOURCE-LINE 227
38458 0000048C 00000000               I1  DATA FOR SOURCE-LINE 230
38459 00000490 00000000               I1  DATA FOR SOURCE-LINE 234
38460                                 I1  ***** END-POOL *****
38461 00000494                    253 I1  _API_SETACC_INFO_GET:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   580
PROGRAM NAME =

38462                             254 I1          SUB_START
38463 00000494 4F22                   M           STS.L   PR,@-R15                ;[必要]
38464                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38465                             255 I1  
38466                             256 I1  
38467                             257 I1   .AIF   1 EQ    0
38468                             258             MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
38469                             259             MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
38470                             260     
38471                             261      .AELSE
38472 00000496 D507               262 C           MOV.L   #_SH2_DNM_CALC_INFO,R5          ;SH2 TO SH4 +SH2演算部
38473 00000498 D607               263 C           MOV.L   #_SH4_DNM_CALC_INFO,R6          ;SH4 TO SH2 +SH4演算部
38474                             264 I1   .AENDI
38475 0000049A 6051               265 I1          MOV.W   @R5,R0                          ;
38476 0000049C 6261               266 I1          MOV.W   @R6,R2
38477 0000049E 6423               267 I1          MOV     R2,R4
38478 000004A0 240B               268 I1          OR      R0,R4
38479                             269 I1  
38480 000004A2 2448               270 I1          TST     R4,R4                           ;
38481                             271 I1          TST_BIT_OF API_SETACC_INFOGET_CALOK2    ;演算してもいいよ
38482 000004A4 890D                   M           BT      API_SETACC_INFOGET_CALOK2
38483                             272 I1  
38484 000004A6 C804               273 I1          TST     #BIT2,R0                        ;自分がON
38485                             274 I1          TST_BIT_OF API_SETACC_INFOGET_CALNG     ;
38486 000004A8 890E                   M           BT      API_SETACC_INFOGET_CALNG
38487                             275 I1  
38488 000004AA E40C               276 I1          MOV.B   #(BIT3+BIT2),R4                 ;
38489 000004AC 2248               277 I1          TST     R4,R2                           ;
38490                             278 I1          TST_BIT_ON API_SETACC_INFOGET_CALOK1    ;
38491 000004AE 8B05                   M           BF      API_SETACC_INFOGET_CALOK1
38492                             279 I1          M_BRA   API_SETACC_INFOGET_CALNG        ;
38493 000004B0 A00A                   M           BRA     API_SETACC_INFOGET_CALNG
38494 000004B2 0009                   M           NOP
38495                             280 I1  
38496                             281 I1  
38497                                 I1  ***** BEGIN-POOL *****
38498 000004B4 00000000               I1  DATA FOR SOURCE-LINE 262
38499 000004B8 00000000               I1  DATA FOR SOURCE-LINE 263
38500                                 I1  ***** END-POOL *****
38501 000004BC                    282 I1  API_SETACC_INFOGET_CALOK1:
38502 000004BC E001               283 I1          MOV.B   #BIT0,R0                        ;演算しろ[完了にしてね！！]
38503                             284 I1          M_BRA   API_SETACC_INFOGET_CALEXT       ;
38504 000004BE A004                   M           BRA     API_SETACC_INFOGET_CALEXT
38505 000004C0 0009                   M           NOP
38506                             285 I1  
38507 000004C2                    286 I1  API_SETACC_INFOGET_CALOK2:
38508 000004C2 E002               287 I1          MOV.B   #BIT1,R0                        ;完了にしないでね
38509                             288 I1          M_BRA   API_SETACC_INFOGET_CALEXT
38510 000004C4 A001                   M           BRA     API_SETACC_INFOGET_CALEXT
38511 000004C6 0009                   M           NOP
38512                             289 I1  
38513 000004C8                    290 I1  API_SETACC_INFOGET_CALNG:
38514 000004C8 200A               291 I1          XOR     R0,R0
38515 000004CA                    292 I1  API_SETACC_INFOGET_CALEXT:
38516                             293 I1  
38517                             294 I1          SUB_END
38518                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   581
PROGRAM NAME =

38519 000004CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38520                             295 I1          M_RTS
38521 000004CC 000B                   M           RTS                             ;RTSの後ろの
38522 000004CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38523                             296 I1  
38524                             297 I1          .EXPORT _API_SETACC_STS_END             ;
38525                             298 I1  
38526 000004D0                    299 I1  _API_SETACC_STS_END:
38527                             300 I1          SUB_START
38528 000004D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
38529                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38530                             301 I1  
38531                             302 I1          DNM_INFO_SET SETCOD=BIT3                ;演算終了した状態
38532                                 M   
38533 000004D2 9004                   M           MOV.W   #BIT3,R0
38534                                 M    .AIF   1 EQ    0
38535                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38536                                      .AELSE
38537 000004D4 D102                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38538                                 M    .AENDI
38539 000004D6 2101                   M           MOV.W   R0,@R1                          ;
38540                                 M   
38541                             303 I1  
38542                             304 I1          SUB_END
38543                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38544 000004D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38545                             305 I1          M_RTS
38546 000004DA 000B                   M           RTS                             ;RTSの後ろの
38547 000004DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38548                             306 I1  
38549                             307 I1  ;       ----CLRはCPUAはCPUAとCPUBを行う-----------
38550                                 I1  ***** BEGIN-POOL *****
38551 000004DE 0008                   I1  DATA FOR SOURCE-LINE 302
38552 000004E0 00000000               I1  DATA FOR SOURCE-LINE 302
38553                                 I1  ***** END-POOL *****
38554 000004E4                    308 I1  _API_SETACC_STS_CLR:
38555                             309 I1          SUB_START
38556 000004E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
38557                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38558                             310 I1   .AIF   1 EQ    0
38559                             311             MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
38560                             312             MOV.W   @R5,R0                          ;
38561                             313             MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
38562                             314             MOV.W   @R6,R2                          ;
38563                             315     ;;;;[本当はこっち]      MOV.B   #BIT3,R4
38564                             316             MOV.B   #BIT2,R4                        ;ｽｷｬﾝﾃｽﾄ
38565                             317             CMP/EQ  R4,R2                           ;(R2==R0 R0?BIT3　の論理は危険 )
38566                             318             BF      API_SETACC_STSCLR_EXT           ;
38567                             319             CMP/EQ  R4,R0                           ;完了？
38568                             320             BF      API_SETACC_STSCLR_EXT           ;
38569                             321     
38570                             322             XOR     R0,R0                           ;IDEL
38571                             323             MOV.W   R0,@R5                          ;
38572                             324             MOV.W   R0,@R6                          ;
38573                             325     
38574                             326     API_SETACC_STSCLR_EXT:
38575                             327     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   582
PROGRAM NAME =

38576                             328      .AENDI
38577                             329 I1  
38578                             330 I1          SUB_END
38579                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38580 000004E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38581                             331 I1          M_RTS
38582 000004E8 000B                   M           RTS                             ;RTSの後ろの
38583 000004EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38584                             332 I1  
38585                             333 I1  
38586                             334 I1  
38587                             335 I1  ;       *******************************************
38588                             336 I1  ;       ***                                     ***
38589                             337 I1  ;       ***             ステップINFOMATION      ***
38590                             338 I1  ;       ***                                     ***
38591                             339 I1  ;       *******************************************
38592                             340 I1  
38593                             341 I1  
38594 000004EC                    342 I1  _ACC_STEP_INF_MAKE1:
38595                             343 I1          SUB_START
38596 000004EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38597                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38598                             344 I1  
38599                             345 I1  
38600 000004EE DE0F               346 I1          MOV.L   #_SETX_POS_SDAT1_INF1,R14               ;往路情報 long data(BIT1=0正/1逆,
                                          BIT0=0 速度停止)
38601                             347 I1  
38602 000004F0 D10F               348 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
38603 000004F2 6511               349 I1          MOV.W   @R1,R5                                  ;
38604 000004F4 7501               350 I1          ADD     #1,R5
38605                             351 I1  
38606                             352 I1  
38607 000004F6 D80F               353 I1          MOV.L   #_ACC_INF1_STEP001,R8                   ;BIT2=[0=加速/1=減速]
38608                             354 I1                                                          ;BIT1=[0=正,1=逆]
38609                             355 I1                                                          ;BIT0=[0=停/1=連続]
38610                             356 I1  
38611 000004F8 D90F               357 I1          MOV.L   #_ACC_INF1_STEPSP01,R9                  ;000%[前状態],050%[設定]
38612                             358 I1  
38613 000004FA 277A               359 I1          XOR     R7,R7                                   ;(前回速度)
38614 000004FC DA0F               360 I1          MOV.L   #_SVPX1_OBJECT_SPD_TOP,R10              ;
38615                             361 I1  
38616 000004FE                    362 I1  ACC_STEPINF_MAK1_100LOP:                                        ;
38617                             363 I1  
38618                             364 I1  
38619 000004FE 62A5               365 I1          MOV.W   @R10+,R2                                ;
38620                             366 I1  
38621 00000500 9412               367 I1          MOV.W   #1,R4                                   ;
38622 00000502 3540               368 I1          CMP/EQ  R4,R5                                   ;"残りｽﾃｯﾌﾟ数=1"(戻りﾃﾞｰﾀ)
38623 00000504 8B01               369 I1          BF      ACC_STEPINF_MAK1_120                    ;
38624 00000506 D10E               370 I1          MOV.L   #_SVP_UPAREA_SPD0,R1                    ;0.1%　戻り速度
38625 00000508 6211               371 I1          MOV.W   @R1,R2                                  ;
38626 0000050A                    372 I1  ACC_STEPINF_MAK1_120:
38627                             373 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1                    ;
38628 0000050A D10E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38629 0000050C 410B                   M           JSR     @R1                     ;
38630 0000050E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   583
PROGRAM NAME =

38631                             374 I1  
38632                             375 I1  
38633                             376 I1  ;R7=0,R2=sv
38634                             377 I1  
38635 00000510 60E6               378 I1          MOV.L   @R14+,R0                                ;
38636 00000512 C9FB               379 I1          AND     #LOW ~BIT2,R0                           ;
38637                             380 I1  
38638 00000514 3270               381 I1          CMP/EQ  R7,R2                                   ;R7(OLD)==R2
38639 00000516 8B17               382 I1          BF      ACC_STEPINF_MAK1_180                    ;NO
38640                             383 I1  
38641                             384 I1  ;       ====== 速度が同じ場合、前の段の加速・減速情報を使用する
38642 00000518 78FE               385 I1          ADD     #-2,R8                                  ;
38643 0000051A 6185               386 I1          MOV.W   @R8+,R1                                 ;
38644 0000051C 9405               387 I1          MOV.W   #BIT2,R4                                ;
38645 0000051E 2148               388 I1          TST     R4,R1                                   ;
38646                             389 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;
38647 00000520 8915                   M           BT      ACC_STEPINF_MAK1_200
38648 00000522 CB04               390 I1          OR      #BIT2,R0                                ;
38649                             391 I1          M_BRA   ACC_STEPINF_MAK1_200                    ;
38650 00000524 A013                   M           BRA     ACC_STEPINF_MAK1_200
38651 00000526 0009                   M           NOP
38652                             392 I1  
38653                             393 I1  
38654                             394 I1  
38655                                 I1  ***** BEGIN-POOL *****
38656 00000528 0001                   I1  DATA FOR SOURCE-LINE 367
38657 0000052A 0004                   I1  DATA FOR SOURCE-LINE 387
38658 0000052C 00000000               I1  DATA FOR SOURCE-LINE 346
38659 00000530 00000000               I1  DATA FOR SOURCE-LINE 348
38660 00000534 00000000               I1  DATA FOR SOURCE-LINE 353
38661 00000538 00000000               I1  DATA FOR SOURCE-LINE 357
38662 0000053C 00000000               I1  DATA FOR SOURCE-LINE 360
38663 00000540 00000000               I1  DATA FOR SOURCE-LINE 370
38664 00000544 00000000               I1  DATA FOR SOURCE-LINE 373
38665                                 I1  ***** END-POOL *****
38666 00000548                    395 I1  ACC_STEPINF_MAK1_180:                                   ;
38667 00000548 3273               396 I1          CMP/GE  R7,R2                                   ;R7(OLD)=<R2
38668                             397 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;加速JUMP
38669 0000054A 8900                   M           BT      ACC_STEPINF_MAK1_200
38670 0000054C CB04               398 I1          OR      #BIT2,R0                                ;
38671 0000054E                    399 I1  ACC_STEPINF_MAK1_200:                                   ;
38672 0000054E 2801               400 I1          MOV.W   R0,@R8                                  ;BIT2,BIT1,BIT0 SAVE
38673 00000550 7802               401 I1          ADD     #2,R8                                   ;
38674                             402 I1  
38675 00000552 2971               403 I1          MOV.W   R7,@R9                                  ;OLD
38676 00000554 7902               404 I1          ADD     #2,R9                                   ;
38677 00000556 2921               405 I1          MOV.W   R2,@R9                                  ;TARGET
38678 00000558 7902               406 I1          ADD     #2,R9                                   ;
38679                             407 I1  
38680                             408 I1  
38681 0000055A C801               409 I1          TST     #BIT0,R0                                ;
38682                             410 I1          TST_BIT_ON ACC_STEPINF_MAK1_250                 ;BIT0=0(停止) NO! JUMP
38683 0000055C 8B00                   M           BF      ACC_STEPINF_MAK1_250
38684 0000055E 222A               411 I1          XOR     R2,R2                                   ;
38685 00000560                    412 I1  ACC_STEPINF_MAK1_250:                                   ;
38686 00000560 6723               413 I1          MOV     R2,R7                                   ;
38687 00000562 75FF               414 I1          ADD     #-1,R5                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   584
PROGRAM NAME =

38688 00000564 2558               415 I1          TST     R5,R5                                   ;
38689                             416 I1          TST_BIT_OF ACC_STEPINF_MAK1_300                 ;
38690 00000566 8901                   M           BT      ACC_STEPINF_MAK1_300
38691                             417 I1          M_BRA   ACC_STEPINF_MAK1_100LOP                 ;
38692 00000568 AFC9                   M           BRA     ACC_STEPINF_MAK1_100LOP
38693 0000056A 0009                   M           NOP
38694                             418 I1  
38695 0000056C                    419 I1  ACC_STEPINF_MAK1_300:                                   ;
38696                             420 I1  
38697                             421 I1          SUB_END
38698                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38699 0000056C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38700                             422 I1          M_RTS
38701 0000056E 000B                   M           RTS                             ;RTSの後ろの
38702 00000570 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38703                             423 I1  
38704                             424 I1  
38705 00000572                    425 I1  _R2_MUL10_ANS_R2:
38706                             426 I1          SUB_START
38707 00000572 4F22                   M           STS.L   PR,@-R15                ;[必要]
38708                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38709                             427 I1          PUSH_REG1 R1
38710 00000574 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
38711                                 M                                           ;REG=>[SP]
38712                                 M                                           ;"-4" FF,FF,FF,FC
38713 00000576 9105               428 I1          MOV.W   #D'10,R1        ;
38714 00000578 321D               429 I1          DMULS.L R1,R2           ;
38715 0000057A 021A               430 I1          STS     MACL,R2         ;
38716                             431 I1          POP_REG1 R1
38717                                 M                                   ; RE"+4" 00,00,00,04
38718 0000057C 61F6                   M           MOV.L   @R15+,R1        ;
38719                             432 I1          SUB_END
38720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38721 0000057E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38722                             433 I1          M_RTS
38723 00000580 000B                   M           RTS                             ;RTSの後ろの
38724 00000582 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38725                             434 I1  
38726                             435 I1  
38727                             436 I1  ;       ***************************************************
38728                             437 I1  ;       ***                                             ***
38729                             438 I1  ;       ***     振り子加速度テーブル作成                ***
38730                             439 I1  ;       ***                                             ***
38731                             440 I1  ;       ***                                             ***
38732                             441 I1  ;       ***                                             ***
38733                             442 I1  ;       ***************************************************
38734                             443 I1  ;       256個　0番目=0と255番目=10000とすること
38735                             444 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         255             ;255msec時間 ループ数は256
38736                             445 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         50              ;255msec時間 ループ数は256
38737                             446 I1  ;
38738                             447 I1  ;
38739                             448 I1  ;       演算タイミングは
38740                             449 I1  ;                       「速度設定変更時」
38741                             450 I1  ;                       「非常停止時」
38742                             451 I1  ;                       「起動中」
38743                             452 I1  ;
38744                             453 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   585
PROGRAM NAME =

38745                                 I1  ***** BEGIN-POOL *****
38746 00000584 000A                   I1  DATA FOR SOURCE-LINE 428
38747                                 I1  ***** END-POOL *****
38748 00000586                    454 I1  _ACC_TBL_MAKE1
38749                             455 I1          SUB_START
38750 00000586 4F22                   M           STS.L   PR,@-R15                ;[必要]
38751                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38752                             456 I1  
38753                             457 I1  
38754                             458 I1  
38755                             459 I1  ;;;;2013-02-05[移動]    FAR_JSR #_USE_IN_TBL_MOV,R0             ;2010-10-20
38756                             460 I1  ;;;;2013-02-05[移動];   ---------<<<<<加減速時間 1~1000>>>>>-----------
38757                             461 I1  ;;;;2013-02-05[移動]    MOV.L   #_TBL_ANS_ACCTIM,R1                             ;2010-10-2
                                          5
38758                             462 I1  ;;;;2013-02-05[移動]    MOV.W   @R1,R2                                          ;
38759                             463 I1  ;;;;2013-02-05[移動]    TST     R2,R2
38760                             464 I1  ;;;;2013-02-05[移動]    TST_BIT_ON ACC_TBLMAK1_DTCHK050                         ;
38761                             465 I1  ;;;;2013-02-05[移動]    MOV.W   #1,R2                                           ;
38762                             466 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK050                                                ;
38763                             467 I1  ;;;;2013-02-05[移動]    MOV.W   #D'1000,R0                                      ;
38764                             468 I1  ;;;;2013-02-05[移動]    CMP/HS  R2,R0                                           ;
38765                             469 I1  ;;;;2013-02-05[移動]    BT      ACC_TBLMAK1_DTCHK100                            ;
38766                             470 I1  ;;;;2013-02-05[移動]    MOV     R0,R2                                           ;1msec~100
                                          0でﾘﾐｯﾄ
38767                             471 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK100                                                ;
38768                             472 I1  ;;;;2013-02-05[移動]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;
38769                             473 I1  ;;;;2013-02-05[移動]    MOV.W   R2,@R1                                          ;
38770                             474 I1  
38771                             475 I1  
38772                             476 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
38773                             477 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
38774                             478 I1  ;;;[2013-05-20 前から未使用];   ---     BASE(0%->100%=100%→0% 最終減速)ﾃﾞｰﾀの作成      --
                                          -
38775                             479 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
38776                             480 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
38777                             481 I1  ;;;[2013-05-20 前から未使用]
38778                             482 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(0~100.00%の加速時間,速度ﾃｰﾌﾞﾙ作成)----
                                          -----------
38779                             483 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBLUSE,R11                             ;
                                          元ﾃｰﾌﾞﾙADR(2byte)
38780                             484 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBL_TIM,R1                             ;2
                                          55msec ﾙｰﾌﾟは256回
38781                             485 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R12                                         ;
38782                             486 I1  ;;;[2013-05-20 前から未使用]
38783                             487 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_
                                          SET1_ACCLAT_TIM1
38784                             488 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R7                                          ;R
                                          7=最大加速時間
38785                             489 I1  ;;;[2013-05-20 前から未使用]
38786                             490 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #0,R8                                           ;R
                                          8:BASE SPEED速度
38787                             491 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #_ACC_PER_V_MAX,R9                              ;R
                                          9:目標速度
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   586
PROGRAM NAME =

38788                             492 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R13                       ;R
                                          13:速度格納用//
38789                             493 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R5                        ;(
                                          このｹｰｽでは不要)前の段の速度-RAM
38790                             494 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R14                         ;R
                                          14:加減速時間
38791                             495 I1  ;;;[2013-05-20 前から未使用]                                                            ;
38792                             496 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          5:前の段の速度-RAM
38793                             497 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          7:最大加減速時間
38794                             498 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          8:OLD-SPD
38795                             499 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          9:TARGET
38796                             500 I1  ;;;[2013-05-20 前から未使用]    MOV     R7,R10                                          ;2
                                          013-05-20 R10:(前段の加速時間/PLS TABLE用/)
38797                             501 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          11:SRC - SPD TABLE
38798                             502 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          12:SRC - 時間
38799                             503 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R13:Output - SPD RAM>
38800                             504 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R14:Output - ACC RAM>
38801                             505 I1  ;;;[2013-05-20 前から未使用]
38802                             506 I1  ;;;[2013-05-20 前から未使用]    PUSH_ALL                                                ;
38803                             507 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;
38804                             508 I1  ;;;[2013-05-20 前から未使用]    POP_ALL                                                 ;
38805                             509 I1  ;;;[2013-05-20 前から未使用]
38806                             510 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)---------
                                          --
38807                             511 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
38808                             512 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R6                                          ;
38809                             513 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R10                       ;
38810                             514 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          6=MAX pls/s
38811                             515 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          13=_ACC_BASEDAT_STPVTBL
38812                             516 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          14=_ACC_BASEDAT_ACCTM
38813                             517 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          10=_ACC_BASEDAT_STPPTBL
38814                             518 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
38815                             519 I1  ;;;[2013-05-20 前から未使用]
38816                             520 I1  ;;;[2013-05-20 前から未使用];   -------- 2013-02-25 ﾃﾞｰﾀﾁｪｯｸ及び金型ﾀｯﾁ用 ----------
38817                             521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_DNM_MAX_GENSOK_LENGTH,R1                      ;/
                                          /100%時→0時の減速距離
38818                             522 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R7,@R1                                          ;
38819                             523 I1  
38820                             524 I1  
38821                             525 I1                                                                  ;
38822                             526 I1  
38823                             527 I1  ;       -----------------------------------------------------------
38824                             528 I1  ;       ---                                                     ---
38825                             529 I1  ;       ---     1段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
38826                             530 I1  ;       ---     1段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   587
PROGRAM NAME =

38827                             531 I1  ;       ---                                                     ---
38828                             532 I1  ;       -----------------------------------------------------------
38829 00000588 D00C               533 I1          MOV.L   #_ACC_STEP01_TBL_TOP,R0                         ;
38830 0000058A 401E               534 I1          LDC     R0,GBR                                          ;
38831                             535 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
38832 0000058C D00C                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38833 0000058E 400B                   M           JSR     @R0                     ;
38834 00000590 0009                   M           NOP                                     ;
38835                             536 I1  
38836                             537 I1  ;       -----------------------------------------------------------
38837                             538 I1  ;       ---                                                     ---
38838                             539 I1  ;       ---     2段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
38839                             540 I1  ;       ---     2段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
38840                             541 I1  ;       ---                                                     ---
38841                             542 I1  ;       -----------------------------------------------------------
38842 00000592 D10C               543 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
38843 00000594 6511               544 I1          MOV.W   @R1,R5                                          ;
38844 00000596 7501               545 I1          ADD     #1,R5
38845                             546 I1  
38846 00000598 D60B               547 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
38847 0000059A 6066               548 I1          MOV.L   @R6+,R0                                         ;1段目分
38848 0000059C 75FF               549 I1          ADD     #-1,R5                                          ;
38849                             550 I1  
38850 0000059E                    551 I1  ACC_TBLMAK1_200LOP
38851 0000059E 6066               552 I1          MOV.L   @R6+,R0                                         ;
38852                             553 I1          PUSH_REG1 R5
38853 000005A0 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
38854                                 M                                           ;REG=>[SP]
38855                                 M                                           ;"-4" FF,FF,FF,FC
38856                             554 I1          PUSH_REG1 R6
38857 000005A2 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38858                                 M                                           ;REG=>[SP]
38859                                 M                                           ;"-4" FF,FF,FF,FC
38860                             555 I1  
38861 000005A4 401E               556 I1          LDC     R0,GBR                                          ;
38862                             557 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
38863 000005A6 D006                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38864 000005A8 400B                   M           JSR     @R0                     ;
38865 000005AA 0009                   M           NOP                                     ;
38866                             558 I1  
38867                             559 I1          POP_REG1 R6
38868                                 M                                   ; RE"+4" 00,00,00,04
38869 000005AC 66F6                   M           MOV.L   @R15+,R6        ;
38870                             560 I1          POP_REG1 R5
38871                                 M                                   ; RE"+4" 00,00,00,04
38872 000005AE 65F6                   M           MOV.L   @R15+,R5        ;
38873 000005B0 75FF               561 I1          ADD     #-1,R5
38874 000005B2 2558               562 I1          TST     R5,R5                                           ;
38875                             563 I1          TST_BIT_ON ACC_TBLMAK1_200LOP                           ;
38876 000005B4 8BF3                   M           BF      ACC_TBLMAK1_200LOP
38877                             564 I1  
38878                             565 I1  
38879                             566 I1  
38880                             567 I1          SUB_END
38881                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38882 000005B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   588
PROGRAM NAME =

38883                             568 I1          M_RTS
38884 000005B8 000B                   M           RTS                             ;RTSの後ろの
38885 000005BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38886                             569 I1  
38887                             570 I1  
38888                             571 I1  
38889                             572 I1  
38890                             573 I1  ;       *******************************************
38891                             574 I1  ;       ***                                     ***
38892                             575 I1  ;       ***     加速度パターン選択+転送         ***
38893                             576 I1  ;       ***                                     ***
38894                             577 I1  ;       *******************************************
38895                                 I1  ***** BEGIN-POOL *****
38896 000005BC 00000000               I1  DATA FOR SOURCE-LINE 533
38897 000005C0 00000000               I1  DATA FOR SOURCE-LINE 535,557
38898 000005C4 00000000               I1  DATA FOR SOURCE-LINE 543
38899 000005C8 00000000               I1  DATA FOR SOURCE-LINE 547
38900                                 I1  ***** END-POOL *****
38901 000005CC                    578 I1  _USE_IN_TBL_MOV:
38902                             579 I1          SUB_START
38903 000005CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38904                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38905                             580 I1  
38906                             581 I1  
38907                             582 I1  ;       -----------------------------------------------
38908                             583 I1  ;;;;2013-02-05  MOV.L   #_TBL_ANS_ACC_SEL,R1                            ;(0,1),2[TBL2],3[T
                                          BL3]
38909                             584 I1  ;;;;2013-02-05  MOV.W   @R1,R0                                          ;
38910                             585 I1  ;;;;2013-02-05
38911                             586 I1  ;;;;2013-02-05
38912                             587 I1  ;;;;2013-02-05
38913                             588 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_CNT,R7                         ;
38914                             589 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_IN_TOP,R5                      ;
38915                             590 I1  ;;;;2013-02-05
38916                             591 I1  ;;;;2013-02-05  CMP/EQ  #3,R0                                           ;
38917                             592 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
38918                             593 I1  ;;;;2013-02-05
38919                             594 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_CNT,R7                         ;
38920                             595 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_IN_TOP,R5
38921                             596 I1  ;;;;2013-02-05  CMP/EQ  #2,R0                                           ;
38922                             597 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
38923                             598 I1  ;;;;2013-02-05
38924                             599 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
38925                             600 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
38926                             601 I1  ;;;;2013-02-05
38927                             602 I1  ;;;;2013-02-05  USE_IN_TBLMV_100:
38928                             603 I1  
38929 000005CE D707               604 I1          MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
38930 000005D0 D507               605 I1          MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
38931 000005D2 6371               606 I1          MOV.W   @R7,R3                                          ;
38932 000005D4 D107               607 I1          MOV.L   #_ACC_IN_TBL_TIM,R1                             ;255msec ﾙｰﾌﾟは256回
38933 000005D6 2131               608 I1          MOV.W   R3,@R1                                          ;
38934 000005D8 7302               609 I1          ADD     #2,R3                                           ;
38935                             610 I1  
38936 000005DA D607               611 I1          MOV.L   #_ACC_IN_TBLUSE,R6                              ;元ﾃｰﾌﾞﾙADR(2byte)
38937                             612 I1  
38938 000005DC                    613 I1  USE_IN_TBLMV_100LOP:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   589
PROGRAM NAME =

38939 000005DC 2338               614 I1          TST     R3,R3
38940                             615 I1          TST_BIT_OF USE_IN_TBLMV_500
38941 000005DE 890D                   M           BT      USE_IN_TBLMV_500
38942 000005E0 6055               616 I1          MOV.W   @R5+,R0
38943 000005E2 2601               617 I1          MOV.W   R0,@R6
38944 000005E4 7602               618 I1          ADD     #2,R6                           ;
38945 000005E6 73FF               619 I1          ADD     #-1,R3                          ;
38946                             620 I1          M_BRA   USE_IN_TBLMV_100LOP             ;
38947 000005E8 AFF8                   M           BRA     USE_IN_TBLMV_100LOP
38948 000005EA 0009                   M           NOP
38949                             621 I1  
38950                                 I1  ***** BEGIN-POOL *****
38951 000005EC 00000000               I1  DATA FOR SOURCE-LINE 604
38952 000005F0 00000000               I1  DATA FOR SOURCE-LINE 605
38953 000005F4 00000000               I1  DATA FOR SOURCE-LINE 607
38954 000005F8 00000000               I1  DATA FOR SOURCE-LINE 611
38955                                 I1  ***** END-POOL *****
38956 000005FC                    622 I1  USE_IN_TBLMV_500:
38957                             623 I1  
38958                             624 I1          SUB_END
38959                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38960 000005FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38961                             625 I1          M_RTS
38962 000005FE 000B                   M           RTS                             ;RTSの後ろの
38963 00000600 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38964                             626 I1  
38965                             627 I1  
38966                             628 I1  ;       ***************************************************
38967                             629 I1  ;       ***                                             ***
38968                             630 I1  ;       ***             INFO->TABLE                     ***
38969                             631 I1  ;       ***                                             ***
38970                             632 I1  ;       ***************************************************
38971                             633 I1  ;       Input GBR
38972 00000602                    634 I1  _ACC_INFO_CHNAGE_TBL_MAK:
38973                             635 I1          SUB_START
38974 00000602 4F22                   M           STS.L   PR,@-R15                ;[必要]
38975                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38976 00000604 C600               636 I1          MOV.L   @(AFM_SRC_TBL_TOP-ACC_FORM_TOP,GBR),R0          ;
38977 00000606 6B03               637 I1          MOV     R0,R11                                          ;ACC_IN_TBL1;元ﾃｰﾌﾞﾙADR(2b
                                          yte)
38978                             638 I1  
38979 00000608 C601               639 I1          MOV.L   @(AFM_SRC_TBL_MEM-ACC_FORM_TOP,GBR),R0          ;
38980 0000060A 6C01               640 I1          MOV.W   @R0,R12                                         ;_ACC_IN_TBL_TIM
38981                             641 I1  
38982 0000060C D136               642 I1          MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_SET1_ACCLAT_TIM1
38983 0000060E 6711               643 I1          MOV.W   @R1,R7                                          ;R7=最大加速時間
38984                             644 I1  
38985 00000610 C602               645 I1          MOV.L   @(AFM_STEP_INF_SPD-ACC_FORM_TOP,GBR),R0         ;
38986 00000612 6805               646 I1          MOV.W   @R0+,R8                                         ;R8:BASE SPEED速度
38987 00000614 6901               647 I1          MOV.W   @R0,R9                                          ;R9:目標速度
38988                             648 I1  
38989 00000616 C604               649 I1          MOV.L   @(AFM_OLD_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;前段の速度TBL(前段=現段速
                                          度時使用)
38990 00000618 6503               650 I1          MOV     R0,R5                                           ;
38991 0000061A C606               651 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;今回の速度格納用
38992 0000061C 6D03               652 I1          MOV     R0,R13                                          ;
38993                             653 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   590
PROGRAM NAME =

38994 0000061E C607               654 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0          ;
38995 00000620 6E03               655 I1          MOV     R0,R14                                          ;今回の加速時間格納用
38996                             656 I1  
38997 00000622 C605               657 I1          MOV.L   @(AFM_OLD_CTLACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
38998 00000624 6A01               658 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
38999                             659 I1  
39000                             660 I1  
39001                             661 I1  
39002                             662 I1          PUSH_ALL                                                ;
39003                                 M           PUSH_REG1       R0      ;
39004 00000626 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
39005                                 M                                           ;REG=>[SP]
39006                                 M                                           ;"-4" FF,FF,FF,FC
39007                                 M           PUSH_REG1       R1      ;
39008 00000628 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
39009                                 M                                           ;REG=>[SP]
39010                                 M                                           ;"-4" FF,FF,FF,FC
39011                                 M           PUSH_REG1       R2      ;
39012 0000062A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
39013                                 M                                           ;REG=>[SP]
39014                                 M                                           ;"-4" FF,FF,FF,FC
39015                                 M           PUSH_REG1       R3      ;
39016 0000062C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
39017                                 M                                           ;REG=>[SP]
39018                                 M                                           ;"-4" FF,FF,FF,FC
39019                                 M           PUSH_REG1       R4      ;
39020 0000062E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39021                                 M                                           ;REG=>[SP]
39022                                 M                                           ;"-4" FF,FF,FF,FC
39023                                 M           PUSH_REG1       R5      ;
39024 00000630 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
39025                                 M                                           ;REG=>[SP]
39026                                 M                                           ;"-4" FF,FF,FF,FC
39027                                 M           PUSH_REG1       R6      ;
39028 00000632 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39029                                 M                                           ;REG=>[SP]
39030                                 M                                           ;"-4" FF,FF,FF,FC
39031                                 M           PUSH_REG1       R7      ;
39032 00000634 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
39033                                 M                                           ;REG=>[SP]
39034                                 M                                           ;"-4" FF,FF,FF,FC
39035                                 M           PUSH_REG1       R8      ;
39036 00000636 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
39037                                 M                                           ;REG=>[SP]
39038                                 M                                           ;"-4" FF,FF,FF,FC
39039                                 M           PUSH_REG1       R9      ;
39040 00000638 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
39041                                 M                                           ;REG=>[SP]
39042                                 M                                           ;"-4" FF,FF,FF,FC
39043                                 M           PUSH_REG1       R10     ;
39044 0000063A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39045                                 M                                           ;REG=>[SP]
39046                                 M                                           ;"-4" FF,FF,FF,FC
39047                                 M           PUSH_REG1       R11     ;
39048 0000063C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39049                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   591
PROGRAM NAME =

39050                                 M                                           ;"-4" FF,FF,FF,FC
39051                                 M           PUSH_REG1       R12     ;
39052 0000063E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39053                                 M                                           ;REG=>[SP]
39054                                 M                                           ;"-4" FF,FF,FF,FC
39055                                 M           PUSH_REG1       R13     ;
39056 00000640 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
39057                                 M                                           ;REG=>[SP]
39058                                 M                                           ;"-4" FF,FF,FF,FC
39059                                 M           PUSH_REG1       R14     ;
39060 00000642 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
39061                                 M                                           ;REG=>[SP]
39062                                 M                                           ;"-4" FF,FF,FF,FC
39063                                 M           PUSH_MACHL              ;
39064 00000644 4F02                   M           STS.L   MACH,@-R15
39065 00000646 4F12                   M           STS.L   MACL,@-R15
39066                                 M           PUSH_SYS_REG    GBR     ;
39067 00000648 4F13                   M           STC.L   GBR,@-R15
39068                                 M           .AIF    3 EQ 3
39069                                             .AELSE
39070                                             PUSH_FPU_ALL            ;2001-07-08
39071                                             .AENDI
39072                             663 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;X%(OLD)->Y%(NEW:ﾀｰｹﾞｯﾄ作
                                          成)ANS R13,R14
39073 0000064A D028                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39074 0000064C 400B                   M           JSR     @R0                     ;
39075 0000064E 0009                   M           NOP                                     ;
39076                             664 I1          POP_ALL                                                 ;
39077                                 M           .AIF    3 EQ 3
39078                                             .AELSE
39079                                             POP_FPU_ALL             ;2001-07-08
39080                                             .AENDI
39081                                 M           POP_SYS_REG     GBR     ;
39082 00000650 4F17                   M           LDC.L   @R15+,GBR
39083                                 M           POP_MACHL               ;
39084 00000652 4F16                   M           LDS.L   @R15+,MACL
39085 00000654 4F06                   M           LDS.L   @R15+,MACH
39086                                 M           POP_REG1        R14     ;
39087                                 M                                   ; RE"+4" 00,00,00,04
39088 00000656 6EF6                   M           MOV.L   @R15+,R14        ;
39089                                 M           POP_REG1        R13     ;
39090                                 M                                   ; RE"+4" 00,00,00,04
39091 00000658 6DF6                   M           MOV.L   @R15+,R13        ;
39092                                 M           POP_REG1        R12     ;
39093                                 M                                   ; RE"+4" 00,00,00,04
39094 0000065A 6CF6                   M           MOV.L   @R15+,R12        ;
39095                                 M           POP_REG1        R11     ;
39096                                 M                                   ; RE"+4" 00,00,00,04
39097 0000065C 6BF6                   M           MOV.L   @R15+,R11        ;
39098                                 M           POP_REG1        R10     ;
39099                                 M                                   ; RE"+4" 00,00,00,04
39100 0000065E 6AF6                   M           MOV.L   @R15+,R10        ;
39101                                 M           POP_REG1        R9      ;
39102                                 M                                   ; RE"+4" 00,00,00,04
39103 00000660 69F6                   M           MOV.L   @R15+,R9        ;
39104                                 M           POP_REG1        R8      ;
39105                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   592
PROGRAM NAME =

39106 00000662 68F6                   M           MOV.L   @R15+,R8        ;
39107                                 M           POP_REG1        R7      ;
39108                                 M                                   ; RE"+4" 00,00,00,04
39109 00000664 67F6                   M           MOV.L   @R15+,R7        ;
39110                                 M           POP_REG1        R6      ;
39111                                 M                                   ; RE"+4" 00,00,00,04
39112 00000666 66F6                   M           MOV.L   @R15+,R6        ;
39113                                 M           POP_REG1        R5      ;
39114                                 M                                   ; RE"+4" 00,00,00,04
39115 00000668 65F6                   M           MOV.L   @R15+,R5        ;
39116                                 M           POP_REG1        R4      ;
39117                                 M                                   ; RE"+4" 00,00,00,04
39118 0000066A 64F6                   M           MOV.L   @R15+,R4        ;
39119                                 M           POP_REG1        R3      ;
39120                                 M                                   ; RE"+4" 00,00,00,04
39121 0000066C 63F6                   M           MOV.L   @R15+,R3        ;
39122                                 M           POP_REG1        R2      ;
39123                                 M                                   ; RE"+4" 00,00,00,04
39124 0000066E 62F6                   M           MOV.L   @R15+,R2        ;
39125                                 M           POP_REG1        R1      ;
39126                                 M                                   ; RE"+4" 00,00,00,04
39127 00000670 61F6                   M           MOV.L   @R15+,R1        ;
39128                                 M           POP_REG1        R0      ;
39129                                 M                                   ; RE"+4" 00,00,00,04
39130 00000672 60F6                   M           MOV.L   @R15+,R0        ;
39131                             665 I1  
39132                             666 I1  
39133                             667 I1  ;       -----------------(停止演算 0->設定% 速度)--------
39134 00000674 288A               668 I1          XOR     R8,R8                                           ;0(R8)--設定(R9)
39135 00000676 C608               669 I1          MOV.L   @(AFM_OLD_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
39136 00000678 6503               670 I1          MOV     R0,R5                                           ;(暴走対策/ありえない)
39137 0000067A C60A               671 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
39138 0000067C 6D03               672 I1          MOV     R0,R13                                          ;
39139 0000067E C60B               673 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0          ;
39140 00000680 6E03               674 I1          MOV     R0,R14                                          ;
39141                             675 I1  
39142 00000682 C609               676 I1          MOV.L   @(AFM_OLD_STPACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
39143 00000684 6A01               677 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
39144                             678 I1  
39145                             679 I1          PUSH_ALL                                                ;
39146                                 M           PUSH_REG1       R0      ;
39147 00000686 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
39148                                 M                                           ;REG=>[SP]
39149                                 M                                           ;"-4" FF,FF,FF,FC
39150                                 M           PUSH_REG1       R1      ;
39151 00000688 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
39152                                 M                                           ;REG=>[SP]
39153                                 M                                           ;"-4" FF,FF,FF,FC
39154                                 M           PUSH_REG1       R2      ;
39155 0000068A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
39156                                 M                                           ;REG=>[SP]
39157                                 M                                           ;"-4" FF,FF,FF,FC
39158                                 M           PUSH_REG1       R3      ;
39159 0000068C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
39160                                 M                                           ;REG=>[SP]
39161                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   593
PROGRAM NAME =

39162                                 M           PUSH_REG1       R4      ;
39163 0000068E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39164                                 M                                           ;REG=>[SP]
39165                                 M                                           ;"-4" FF,FF,FF,FC
39166                                 M           PUSH_REG1       R5      ;
39167 00000690 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
39168                                 M                                           ;REG=>[SP]
39169                                 M                                           ;"-4" FF,FF,FF,FC
39170                                 M           PUSH_REG1       R6      ;
39171 00000692 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39172                                 M                                           ;REG=>[SP]
39173                                 M                                           ;"-4" FF,FF,FF,FC
39174                                 M           PUSH_REG1       R7      ;
39175 00000694 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
39176                                 M                                           ;REG=>[SP]
39177                                 M                                           ;"-4" FF,FF,FF,FC
39178                                 M           PUSH_REG1       R8      ;
39179 00000696 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
39180                                 M                                           ;REG=>[SP]
39181                                 M                                           ;"-4" FF,FF,FF,FC
39182                                 M           PUSH_REG1       R9      ;
39183 00000698 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
39184                                 M                                           ;REG=>[SP]
39185                                 M                                           ;"-4" FF,FF,FF,FC
39186                                 M           PUSH_REG1       R10     ;
39187 0000069A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39188                                 M                                           ;REG=>[SP]
39189                                 M                                           ;"-4" FF,FF,FF,FC
39190                                 M           PUSH_REG1       R11     ;
39191 0000069C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39192                                 M                                           ;REG=>[SP]
39193                                 M                                           ;"-4" FF,FF,FF,FC
39194                                 M           PUSH_REG1       R12     ;
39195 0000069E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39196                                 M                                           ;REG=>[SP]
39197                                 M                                           ;"-4" FF,FF,FF,FC
39198                                 M           PUSH_REG1       R13     ;
39199 000006A0 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
39200                                 M                                           ;REG=>[SP]
39201                                 M                                           ;"-4" FF,FF,FF,FC
39202                                 M           PUSH_REG1       R14     ;
39203 000006A2 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
39204                                 M                                           ;REG=>[SP]
39205                                 M                                           ;"-4" FF,FF,FF,FC
39206                                 M           PUSH_MACHL              ;
39207 000006A4 4F02                   M           STS.L   MACH,@-R15
39208 000006A6 4F12                   M           STS.L   MACL,@-R15
39209                                 M           PUSH_SYS_REG    GBR     ;
39210 000006A8 4F13                   M           STC.L   GBR,@-R15
39211                                 M           .AIF    3 EQ 3
39212                                             .AELSE
39213                                             PUSH_FPU_ALL            ;2001-07-08
39214                                             .AENDI
39215                             680 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;0%->Y%(NEW:ﾀｰｹﾞｯﾄ作成)ANS
                                           R13,R14
39216 000006AA D010                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39217 000006AC 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   594
PROGRAM NAME =

39218 000006AE 0009                   M           NOP                                     ;
39219                             681 I1          POP_ALL                                                 ;
39220                                 M           .AIF    3 EQ 3
39221                                             .AELSE
39222                                             POP_FPU_ALL             ;2001-07-08
39223                                             .AENDI
39224                                 M           POP_SYS_REG     GBR     ;
39225 000006B0 4F17                   M           LDC.L   @R15+,GBR
39226                                 M           POP_MACHL               ;
39227 000006B2 4F16                   M           LDS.L   @R15+,MACL
39228 000006B4 4F06                   M           LDS.L   @R15+,MACH
39229                                 M           POP_REG1        R14     ;
39230                                 M                                   ; RE"+4" 00,00,00,04
39231 000006B6 6EF6                   M           MOV.L   @R15+,R14        ;
39232                                 M           POP_REG1        R13     ;
39233                                 M                                   ; RE"+4" 00,00,00,04
39234 000006B8 6DF6                   M           MOV.L   @R15+,R13        ;
39235                                 M           POP_REG1        R12     ;
39236                                 M                                   ; RE"+4" 00,00,00,04
39237 000006BA 6CF6                   M           MOV.L   @R15+,R12        ;
39238                                 M           POP_REG1        R11     ;
39239                                 M                                   ; RE"+4" 00,00,00,04
39240 000006BC 6BF6                   M           MOV.L   @R15+,R11        ;
39241                                 M           POP_REG1        R10     ;
39242                                 M                                   ; RE"+4" 00,00,00,04
39243 000006BE 6AF6                   M           MOV.L   @R15+,R10        ;
39244                                 M           POP_REG1        R9      ;
39245                                 M                                   ; RE"+4" 00,00,00,04
39246 000006C0 69F6                   M           MOV.L   @R15+,R9        ;
39247                                 M           POP_REG1        R8      ;
39248                                 M                                   ; RE"+4" 00,00,00,04
39249 000006C2 68F6                   M           MOV.L   @R15+,R8        ;
39250                                 M           POP_REG1        R7      ;
39251                                 M                                   ; RE"+4" 00,00,00,04
39252 000006C4 67F6                   M           MOV.L   @R15+,R7        ;
39253                                 M           POP_REG1        R6      ;
39254                                 M                                   ; RE"+4" 00,00,00,04
39255 000006C6 66F6                   M           MOV.L   @R15+,R6        ;
39256                                 M           POP_REG1        R5      ;
39257                                 M                                   ; RE"+4" 00,00,00,04
39258 000006C8 65F6                   M           MOV.L   @R15+,R5        ;
39259                                 M           POP_REG1        R4      ;
39260                                 M                                   ; RE"+4" 00,00,00,04
39261 000006CA 64F6                   M           MOV.L   @R15+,R4        ;
39262                                 M           POP_REG1        R3      ;
39263                                 M                                   ; RE"+4" 00,00,00,04
39264 000006CC 63F6                   M           MOV.L   @R15+,R3        ;
39265                                 M           POP_REG1        R2      ;
39266                                 M                                   ; RE"+4" 00,00,00,04
39267 000006CE 62F6                   M           MOV.L   @R15+,R2        ;
39268                                 M           POP_REG1        R1      ;
39269                                 M                                   ; RE"+4" 00,00,00,04
39270 000006D0 61F6                   M           MOV.L   @R15+,R1        ;
39271                                 M           POP_REG1        R0      ;
39272                                 M                                   ; RE"+4" 00,00,00,04
39273 000006D2 60F6                   M           MOV.L   @R15+,R0        ;
39274                             682 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   595
PROGRAM NAME =

39275                             683 I1  
39276                             684 I1  ;       ---------------(停止演算 0->設定% pls)--------
39277                             685 I1  ;       -------------- (速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)-----------
39278 000006D4 D106               686 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
39279 000006D6 6612               687 I1          MOV.L   @R1,R6                                          ;
39280 000006D8 C60C               688 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0          ;
39281 000006DA 6A03               689 I1          MOV     R0,R10                                          ;
39282                             690 I1                                                                  ;
39283                             691 I1                                                                  ;R6=MAX pls/s
39284                             692 I1                                                                  ;R13=_ACC_****_STPVTBL(ﾃﾞｰ
                                          ﾀ元)
39285                             693 I1                                                                  ;R14=_ACC_****_ACTM(LOOP個
                                          数)
39286                             694 I1                                                                  ;R10=_ACC_****_STPPTBL ANS
39287                             695 I1          FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
39288 000006DC D005                   M           MOV.L   #_ACC_TBL_MAKPLS1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39289 000006DE 400B                   M           JSR     @R0                     ;
39290 000006E0 0009                   M           NOP                                     ;
39291                             696 I1  
39292                             697 I1          SUB_END
39293                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39294 000006E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39295                             698 I1          M_RTS
39296 000006E4 000B                   M           RTS                             ;RTSの後ろの
39297 000006E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39298                             699 I1  
39299                             700 I1  
39300                             701 I1  
39301                             702 I1  
39302                                 I1  ***** BEGIN-POOL *****
39303 000006E8 00000000               I1  DATA FOR SOURCE-LINE 642
39304 000006EC 00000000               I1  DATA FOR SOURCE-LINE 663,680
39305 000006F0 00000000               I1  DATA FOR SOURCE-LINE 686
39306 000006F4 00000000               I1  DATA FOR SOURCE-LINE 695
39307                                 I1  ***** END-POOL *****
39308 000006F8                    703 I1          .ALIGN  4                                       ;
39309 000006F8                    704 I1  _ACC_TBL_CAL_IN_TOP
39310 000006F8 00000000           705 I1          .DATA.L _ACC_STEP01_TBL_TOP
39311 000006FC 00000000           706 I1          .DATA.L _ACC_STEP02_TBL_TOP
39312 00000700 00000000           707 I1          .DATA.L _ACC_STEP03_TBL_TOP
39313 00000704 00000000           708 I1          .DATA.L _ACC_STEP04_TBL_TOP
39314 00000708 00000000           709 I1          .DATA.L _ACC_STEP05_TBL_TOP
39315 0000070C 00000000           710 I1          .DATA.L _ACC_STEP06_TBL_TOP
39316 00000710 00000000           711 I1          .DATA.L _ACC_STEP07_TBL_TOP
39317 00000714 00000000           712 I1          .DATA.L _ACC_STEP08_TBL_TOP
39318 00000718 00000000           713 I1          .DATA.L _ACC_STEP09_TBL_TOP
39319 0000071C 00000000           714 I1          .DATA.L _ACC_STEP10_TBL_TOP
39320 00000720 00000000           715 I1          .DATA.L _ACC_STEP11_TBL_TOP
39321                             716 I1  
39322                             717 I1  
39323                             718 I1  
39324 00000724                    719 I1          .ALIGN  4                                       ;
39325 00000724                    720 I1  _ACC_STEP01_TBL_TOP
39326 00000724                    721 I1  ACC_FORM_TOP
39327 00000724 00000000           722 I1  AFM_SRC_TBL_TOP         .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39328 00000728 00000000           723 I1  AFM_SRC_TBL_MEM         .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39329 0000072C 00000000           724 I1  AFM_STEP_INF_SPD        .DATA.L         _ACC_INF1_STEPSP01      ;[03]000%[前状態],050%[設
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   596
PROGRAM NAME =

                                          定]
39330 00000730 00000000           725 I1  AFM_STEP_INF_FLG        .DATA.L         _ACC_INF1_STEP001       ;[04]//BIT2=[加速:0/減速:1
                                          ] BIT1=[]   BIT0=0(停止) =1(連続)
39331 00000734 00000000           726 I1  AFM_OLD_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速
                                          度)1段では使用しない
39332 00000738 00000000           727 I1  AFM_OLD_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速
                                          度)1段では使用しない
39333 0000073C 00000000           728 I1  AFM_DST_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[07]
39334 00000740 00000000           729 I1  AFM_DST_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[08]
39335 00000744 00000000           730 I1  AFM_OLD_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速
                                          度)1段では使用しない
39336 00000748 00000000           731 I1  AFM_OLD_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速
                                          度)1段では使用しない
39337 0000074C 00000000           732 I1  AFM_DST_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[11]
39338 00000750 00000000           733 I1  AFM_DST_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[12]
39339 00000754 00000000           734 I1  AFM_DST_STPPTBL         .DATA.L         _ACC_STOP001_PTBL       ;[13]
39340                             735 I1  
39341                             736 I1  
39342                             737 I1  
39343 00000758                    738 I1  _ACC_STEP02_TBL_TOP
39344 00000758 00000000           739 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39345 0000075C 00000000           740 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39346 00000760 00000000           741 I1          .DATA.L         _ACC_INF1_STEPSP02      ;[03]000%[前状態],050%[設定]
39347 00000764 00000000           742 I1          .DATA.L         _ACC_INF1_STEP002       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39348 00000768 00000000           743 I1          .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速度)
39349 0000076C 00000000           744 I1          .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速度)
39350 00000770 00000000           745 I1          .DATA.L         _ACC_STEP002_VTBL       ;[07]
39351 00000774 00000000           746 I1          .DATA.L         _ACC_STEP002_ACTM       ;[08]
39352 00000778 00000000           747 I1          .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速度)
39353 0000077C 00000000           748 I1          .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速度)
39354 00000780 00000000           749 I1          .DATA.L         _ACC_STOP002_VTBL       ;[11]
39355 00000784 00000000           750 I1          .DATA.L         _ACC_STOP002_ACTM       ;[12]
39356 00000788 00000000           751 I1          .DATA.L         _ACC_STOP002_PTBL       ;[13]
39357                             752 I1  
39358 0000078C                    753 I1  _ACC_STEP03_TBL_TOP
39359 0000078C 00000000           754 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39360 00000790 00000000           755 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39361 00000794 00000000           756 I1          .DATA.L         _ACC_INF1_STEPSP03      ;[03]000%[前状態],050%[設定]
39362 00000798 00000000           757 I1          .DATA.L         _ACC_INF1_STEP003       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39363 0000079C 00000000           758 I1          .DATA.L         _ACC_STEP002_VTBL       ;[05]
39364 000007A0 00000000           759 I1          .DATA.L         _ACC_STEP002_ACTM       ;[06]
39365 000007A4 00000000           760 I1          .DATA.L         _ACC_STEP003_VTBL       ;[07]
39366 000007A8 00000000           761 I1          .DATA.L         _ACC_STEP003_ACTM       ;[08]
39367 000007AC 00000000           762 I1          .DATA.L         _ACC_STOP002_VTBL       ;[09]
39368 000007B0 00000000           763 I1          .DATA.L         _ACC_STOP002_ACTM       ;[10]
39369 000007B4 00000000           764 I1          .DATA.L         _ACC_STOP003_VTBL       ;[11]
39370 000007B8 00000000           765 I1          .DATA.L         _ACC_STOP003_ACTM       ;[12]
39371 000007BC 00000000           766 I1          .DATA.L         _ACC_STOP003_PTBL       ;[13]
39372                             767 I1  
39373 000007C0                    768 I1  _ACC_STEP04_TBL_TOP
39374 000007C0 00000000           769 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39375 000007C4 00000000           770 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39376 000007C8 00000000           771 I1          .DATA.L         _ACC_INF1_STEPSP04      ;[03]000%[前状態],050%[設定]
39377 000007CC 00000000           772 I1          .DATA.L         _ACC_INF1_STEP004       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   597
PROGRAM NAME =

39378 000007D0 00000000           773 I1          .DATA.L         _ACC_STEP003_VTBL       ;[05](STEP1では使用しない)
39379 000007D4 00000000           774 I1          .DATA.L         _ACC_STEP003_ACTM       ;[06]
39380 000007D8 00000000           775 I1          .DATA.L         _ACC_STEP004_VTBL       ;[07]
39381 000007DC 00000000           776 I1          .DATA.L         _ACC_STEP004_ACTM       ;[08]
39382 000007E0 00000000           777 I1          .DATA.L         _ACC_STOP003_VTBL       ;[09]
39383 000007E4 00000000           778 I1          .DATA.L         _ACC_STOP003_ACTM       ;[10]
39384 000007E8 00000000           779 I1          .DATA.L         _ACC_STOP004_VTBL       ;[11]
39385 000007EC 00000000           780 I1          .DATA.L         _ACC_STOP004_ACTM       ;[12]
39386 000007F0 00000000           781 I1          .DATA.L         _ACC_STOP004_PTBL       ;[13]
39387                             782 I1  
39388                             783 I1  
39389 000007F4                    784 I1  _ACC_STEP05_TBL_TOP
39390 000007F4 00000000           785 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39391 000007F8 00000000           786 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39392 000007FC 00000000           787 I1          .DATA.L         _ACC_INF1_STEPSP05      ;[03]000%[前状態],050%[設定]
39393 00000800 00000000           788 I1          .DATA.L         _ACC_INF1_STEP005       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39394 00000804 00000000           789 I1          .DATA.L         _ACC_STEP004_VTBL       ;[05](STEP1では使用しない)
39395 00000808 00000000           790 I1          .DATA.L         _ACC_STEP004_ACTM       ;[06]
39396 0000080C 00000000           791 I1          .DATA.L         _ACC_STEP005_VTBL       ;[07]
39397 00000810 00000000           792 I1          .DATA.L         _ACC_STEP005_ACTM       ;[08]
39398 00000814 00000000           793 I1          .DATA.L         _ACC_STOP004_VTBL       ;[09]
39399 00000818 00000000           794 I1          .DATA.L         _ACC_STOP004_ACTM       ;[10]
39400 0000081C 00000000           795 I1          .DATA.L         _ACC_STOP005_VTBL       ;[11]
39401 00000820 00000000           796 I1          .DATA.L         _ACC_STOP005_ACTM       ;[12]
39402 00000824 00000000           797 I1          .DATA.L         _ACC_STOP005_PTBL       ;[13]
39403                             798 I1  
39404 00000828                    799 I1  _ACC_STEP06_TBL_TOP
39405 00000828 00000000           800 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39406 0000082C 00000000           801 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39407 00000830 00000000           802 I1          .DATA.L         _ACC_INF1_STEPSP06      ;[03]000%[前状態],050%[設定]
39408 00000834 00000000           803 I1          .DATA.L         _ACC_INF1_STEP006       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39409 00000838 00000000           804 I1          .DATA.L         _ACC_STEP005_VTBL       ;[05](STEP1では使用しない)
39410 0000083C 00000000           805 I1          .DATA.L         _ACC_STEP005_ACTM       ;[06]
39411 00000840 00000000           806 I1          .DATA.L         _ACC_STEP006_VTBL       ;[07]
39412 00000844 00000000           807 I1          .DATA.L         _ACC_STEP006_ACTM       ;[08]
39413 00000848 00000000           808 I1          .DATA.L         _ACC_STOP005_VTBL       ;[09]
39414 0000084C 00000000           809 I1          .DATA.L         _ACC_STOP005_ACTM       ;[10]
39415 00000850 00000000           810 I1          .DATA.L         _ACC_STOP006_VTBL       ;[11]
39416 00000854 00000000           811 I1          .DATA.L         _ACC_STOP006_ACTM       ;[12]
39417 00000858 00000000           812 I1          .DATA.L         _ACC_STOP006_PTBL       ;[13]
39418                             813 I1  
39419 0000085C                    814 I1  _ACC_STEP07_TBL_TOP
39420 0000085C 00000000           815 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39421 00000860 00000000           816 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39422 00000864 00000000           817 I1          .DATA.L         _ACC_INF1_STEPSP07      ;[03]000%[前状態],050%[設定]
39423 00000868 00000000           818 I1          .DATA.L         _ACC_INF1_STEP007       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39424 0000086C 00000000           819 I1          .DATA.L         _ACC_STEP006_VTBL       ;[05](STEP1では使用しない)
39425 00000870 00000000           820 I1          .DATA.L         _ACC_STEP006_ACTM       ;[06]
39426 00000874 00000000           821 I1          .DATA.L         _ACC_STEP007_VTBL       ;[07]
39427 00000878 00000000           822 I1          .DATA.L         _ACC_STEP007_ACTM       ;[08]
39428 0000087C 00000000           823 I1          .DATA.L         _ACC_STOP006_VTBL       ;[09]
39429 00000880 00000000           824 I1          .DATA.L         _ACC_STOP006_ACTM       ;[10]
39430 00000884 00000000           825 I1          .DATA.L         _ACC_STOP007_VTBL       ;[11]
39431 00000888 00000000           826 I1          .DATA.L         _ACC_STOP007_ACTM       ;[12]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   598
PROGRAM NAME =

39432 0000088C 00000000           827 I1          .DATA.L         _ACC_STOP007_PTBL       ;[13]
39433                             828 I1  
39434 00000890                    829 I1  _ACC_STEP08_TBL_TOP
39435 00000890 00000000           830 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39436 00000894 00000000           831 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39437 00000898 00000000           832 I1          .DATA.L         _ACC_INF1_STEPSP08      ;[03]000%[前状態],050%[設定]
39438 0000089C 00000000           833 I1          .DATA.L         _ACC_INF1_STEP008       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39439 000008A0 00000000           834 I1          .DATA.L         _ACC_STEP007_VTBL       ;[05](STEP1では使用しない)
39440 000008A4 00000000           835 I1          .DATA.L         _ACC_STEP007_ACTM       ;[06]
39441 000008A8 00000000           836 I1          .DATA.L         _ACC_STEP008_VTBL       ;[07]
39442 000008AC 00000000           837 I1          .DATA.L         _ACC_STEP008_ACTM       ;[08]
39443 000008B0 00000000           838 I1          .DATA.L         _ACC_STOP007_VTBL       ;[09]
39444 000008B4 00000000           839 I1          .DATA.L         _ACC_STOP007_ACTM       ;[10]
39445 000008B8 00000000           840 I1          .DATA.L         _ACC_STOP008_VTBL       ;[11]
39446 000008BC 00000000           841 I1          .DATA.L         _ACC_STOP008_ACTM       ;[12]
39447 000008C0 00000000           842 I1          .DATA.L         _ACC_STOP008_PTBL       ;[13]
39448                             843 I1  
39449 000008C4                    844 I1  _ACC_STEP09_TBL_TOP
39450 000008C4 00000000           845 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39451 000008C8 00000000           846 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39452 000008CC 00000000           847 I1          .DATA.L         _ACC_INF1_STEPSP09      ;[03]000%[前状態],050%[設定]
39453 000008D0 00000000           848 I1          .DATA.L         _ACC_INF1_STEP009       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39454 000008D4 00000000           849 I1          .DATA.L         _ACC_STEP008_VTBL       ;[05](STEP1では使用しない)
39455 000008D8 00000000           850 I1          .DATA.L         _ACC_STEP008_ACTM       ;[06]
39456 000008DC 00000000           851 I1          .DATA.L         _ACC_STEP009_VTBL       ;[07]
39457 000008E0 00000000           852 I1          .DATA.L         _ACC_STEP009_ACTM       ;[08]
39458 000008E4 00000000           853 I1          .DATA.L         _ACC_STOP008_VTBL       ;[09]
39459 000008E8 00000000           854 I1          .DATA.L         _ACC_STOP008_ACTM       ;[10]
39460 000008EC 00000000           855 I1          .DATA.L         _ACC_STOP009_VTBL       ;[11]
39461 000008F0 00000000           856 I1          .DATA.L         _ACC_STOP009_ACTM       ;[12]
39462 000008F4 00000000           857 I1          .DATA.L         _ACC_STOP009_PTBL       ;[13]
39463                             858 I1  
39464 000008F8                    859 I1  _ACC_STEP10_TBL_TOP
39465 000008F8 00000000           860 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39466 000008FC 00000000           861 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39467 00000900 00000000           862 I1          .DATA.L         _ACC_INF1_STEPSP10      ;[03]000%[前状態],050%[設定]
39468 00000904 00000000           863 I1          .DATA.L         _ACC_INF1_STEP010       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39469 00000908 00000000           864 I1          .DATA.L         _ACC_STEP009_VTBL       ;[05](STEP1では使用しない)
39470 0000090C 00000000           865 I1          .DATA.L         _ACC_STEP009_ACTM       ;[06]
39471 00000910 00000000           866 I1          .DATA.L         _ACC_STEP010_VTBL       ;[07]
39472 00000914 00000000           867 I1          .DATA.L         _ACC_STEP010_ACTM       ;[08]
39473 00000918 00000000           868 I1          .DATA.L         _ACC_STOP009_VTBL       ;[09]
39474 0000091C 00000000           869 I1          .DATA.L         _ACC_STOP009_ACTM       ;[10]
39475 00000920 00000000           870 I1          .DATA.L         _ACC_STOP010_VTBL       ;[11]
39476 00000924 00000000           871 I1          .DATA.L         _ACC_STOP010_ACTM       ;[12]
39477 00000928 00000000           872 I1          .DATA.L         _ACC_STOP010_PTBL       ;[13]
39478                             873 I1  
39479 0000092C                    874 I1  _ACC_STEP11_TBL_TOP
39480 0000092C 00000000           875 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39481 00000930 00000000           876 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39482 00000934 00000000           877 I1          .DATA.L         _ACC_INF1_STEPSP11      ;[03]000%[前状態],050%[設定]
39483 00000938 00000000           878 I1          .DATA.L         _ACC_INF1_STEP011       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39484 0000093C 00000000           879 I1          .DATA.L         _ACC_STEP010_VTBL       ;[05](STEP1では使用しない)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   599
PROGRAM NAME =

39485 00000940 00000000           880 I1          .DATA.L         _ACC_STEP010_ACTM       ;[06]
39486 00000944 00000000           881 I1          .DATA.L         _ACC_STEP011_VTBL       ;[07]
39487 00000948 00000000           882 I1          .DATA.L         _ACC_STEP011_ACTM       ;[08]
39488 0000094C 00000000           883 I1          .DATA.L         _ACC_STOP010_VTBL       ;[09]
39489 00000950 00000000           884 I1          .DATA.L         _ACC_STOP010_ACTM       ;[10]
39490 00000954 00000000           885 I1          .DATA.L         _ACC_STOP011_VTBL       ;[11]
39491 00000958 00000000           886 I1          .DATA.L         _ACC_STOP011_ACTM       ;[12]
39492 0000095C 00000000           887 I1          .DATA.L         _ACC_STOP011_PTBL       ;[13]
39493                             888 I1  
39494                             889 I1  
39495                             890 I1  
39496                             891 I1  
39497                             892 I1  
39498                             893 I1  
39499                             894 I1  
39500                             895 I1  
39501                             896 I1  
39502                             897 I1  
39503                             898 I1  ;       ***********************************************************
39504                             899 I1  ;       ***                                                     ***
39505                             900 I1  ;       ***     振り子加速度テーブル作成SUB1                    ***
39506                             901 I1  ;       ***                                                     ***
39507                             902 I1  ;       ***     速度のみを算出する                              ***
39508                             903 I1  ;       ***     ﾃﾞｰﾀ元ﾃｰﾌﾞﾙ→最大加速時間と速度の変化量から     ***
39509                             904 I1  ;       ***     加速時間と速度ﾃｰﾌﾞﾙを求める                     ***
39510                             905 I1  ;       ***     [完成済み]                                      ***
39511                             906 I1  ;       ***                                                     ***
39512                             907 I1  ;       ***********************************************************
39513                             908 I1  ;       input    R5:前段のOUTPUT-TABLE-TOP
39514                             909 I1  ;       Input   R11:BASE-TABLE-TOP         :ﾃｰﾌﾞﾙは1~1000または1~255まで使用する。
39515                             910 I1  ;       Input   R12:BASE-TABLE-時間 1000(ROM),255(ROM),設定(1~1000)加減速時間
39516                             911 I1  ;       Input   R13:OUTPUT-TABLE-TOP       :
39517                             912 I1  ;       Input   R14:OUTPUT-ACC時間　　　　 :加減速時間
39518                             913 I1  ;
39519                             914 I1  ;       Input   R7 :最大加減速時間
39520                             915 I1  ;       Input   R8:BASE  -SPD
39521                             916 I1  ;       Input   R9:TARGET-SPD  BASE=< TARGET SPD
39522                             917 I1  ;               (R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ)
39523                             918 I1  ;       Output ﾃｰﾌﾞﾙに速度を周波数で記述
39524                             919 I1  ;       [1ﾃｰﾌﾞﾙ作成前にWDTを叩く]
39525                             920 I1  ;
39526                             921 I1  ;       ・速度は0.01%で扱う
39527                             922 I1  ;
39528 00000960                    923 I1  _ACC_TBL_MAKSPD1_SUB
39529                             924 I1          SUB_START
39530 00000960 4F22                   M           STS.L   PR,@-R15                ;[必要]
39531                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39532                             925 I1          _A_WDT_CLR                              ;
39533                             926 I1  
39534                             927 I1  
39535                             928 I1  
39536 00000962 3987               929 I1          CMP/GT  R8,R9                           ;R8[前段]<R9[今回]
39537 00000964 8902               930 I1          BT      ACC_TBLMKSPD1_SB100
39538 00000966 6083               931 I1          MOV     R8,R0                           ;
39539 00000968 6893               932 I1          MOV     R9,R8                           ;
39540 0000096A 6903               933 I1          MOV     R0,R9                           ;
39541 0000096C                    934 I1  ACC_TBLMKSPD1_SB100:                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   600
PROGRAM NAME =

39542 0000096C 3988               935 I1          SUB     R8,R9                           ;R9=R9-R8
39543 0000096E 2998               936 I1          TST     R9,R9                           ;
39544                             937 I1          TST_BIT_ON ACC_TBLMKSPD1_SB200          ;
39545 00000970 8B0A                   M           BF      ACC_TBLMKSPD1_SB200
39546                             938 I1  
39547                             939 I1  ;       ----速度が同じ場合、前段の速度データをＣＯＰＹする---
39548 00000972 6373               940 I1          MOV     R7,R3                           ;最大時間1000
39549 00000974 7301               941 I1          ADD     #1,R3                           ;ﾙｰﾌﾟ数は1001個ﾙｰﾌﾟ
39550 00000976                    942 I1  ACC_TBLMKSPD1_SB150:                            ;
39551 00000976 6055               943 I1          MOV.W   @R5+,R0                         ;前段ﾃｰﾌﾞﾙ速度
39552 00000978 2D01               944 I1          MOV.W   R0,@R13                         ;今回ﾃｰﾌﾞﾙ速度
39553 0000097A 7D02               945 I1          ADD     #2,R13                          ;
39554 0000097C 73FF               946 I1          ADD     #-1,R3                          ;
39555 0000097E 2338               947 I1          TST     R3,R3                           ;(2013-05-15 COPY されていない)
39556                             948 I1          TST_BIT_ON ACC_TBLMKSPD1_SB150          ;
39557 00000980 8BF9                   M           BF      ACC_TBLMKSPD1_SB150
39558                             949 I1  
39559 00000982 2EA1               950 I1          MOV.W   R10,@R14                        ;前段の加速時間を今回に使用
39560                             951 I1          M_BRA   ACC_TBLMKSPD1_SB900             ;
39561 00000984 A03B                   M           BRA     ACC_TBLMKSPD1_SB900
39562 00000986 0009                   M           NOP
39563                             952 I1  
39564 00000988                    953 I1  ACC_TBLMKSPD1_SB200:                            ;
39565 00000988 6273               954 I1          MOV     R7,R2                           ;最大時間
39566 0000098A 6193               955 I1          MOV     R9,R1                           ;変化率
39567 0000098C 9431               956 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
39568                             957 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
39569 0000098E D019                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39570 00000990 400B                   M           JSR     @R0                     ;
39571 00000992 0009                   M           NOP                                     ;
39572 00000994 6423               958 I1          MOV     R2,R4
39573                             959 I1  
39574 00000996 2448               960 I1          TST     R4,R4                           ;
39575                             961 I1          TST_BIT_ON ACC_TBLMKSPD1_SB220          ;
39576 00000998 8B00                   M           BF      ACC_TBLMKSPD1_SB220
39577 0000099A 7401               962 I1          ADD     #1,R4                           ;
39578 0000099C                    963 I1  ACC_TBLMKSPD1_SB220:                            ;
39579 0000099C 2E41               964 I1          MOV.W   R4,@R14                         ;時間
39580                             965 I1  
39581                             966 I1  ;       R8はオフセット速度
39582                             967 I1  ;       R9は変化率
39583                             968 I1  ;       @R14=R4=時間　+すればﾙｰﾌﾟ回数1
39584                             969 I1  
39585 0000099E 6343               970 I1          MOV     R4,R3                           ;R4:減速時間
39586 000009A0 7301               971 I1          ADD     #1,R3                           ;
39587                             972 I1  
39588 000009A2 222A               973 I1          XOR     R2,R2                           ;Tx
39589                             974 I1  
39590 000009A4                    975 I1  ACC_TBLMKSPD1_SB250LOP:                         ;
39591 000009A4 2338               976 I1          TST     R3,R3                           ;
39592                             977 I1          TST_BIT_OF ACC_TBLMKSPD1_SB500          ;
39593 000009A6 8929                   M           BT      ACC_TBLMKSPD1_SB500
39594                             978 I1          PUSH_REG1 R2
39595 000009A8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
39596                                 M                                           ;REG=>[SP]
39597                                 M                                           ;"-4" FF,FF,FF,FC
39598                             979 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   601
PROGRAM NAME =

39599                             980 I1  
39600 000009AA 61C3               981 I1          MOV     R12,R1                          ;R12 ﾃﾞｰﾀ元側MAX時間
39601                             982 I1  
39602                             983 I1          PUSH_REG1 R4                            ;R4 ﾃﾞｰﾀ格納側MAX時間
39603 000009AC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39604                                 M                                           ;REG=>[SP]
39605                                 M                                           ;"-4" FF,FF,FF,FC
39606                             984 I1  ;R2*R1/R4 =data･･･MOD
39607 000009AE 312D               985 I1          DMULS.L R2,R1                                           ;
39608 000009B0 021A               986 I1          STS     MACL,R2                                         ;
39609                             987 I1          FAR_JSR #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0       ;R2...R1
39610 000009B2 D011                   M           MOV.L   #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
39611 000009B4 400B                   M           JSR     @R0                     ;
39612 000009B6 0009                   M           NOP                                     ;
39613                             988 I1  
39614 000009B8 65B3               989 I1          MOV     R11,R5                          ;ﾃﾞｰﾀ元側 TOP
39615 000009BA 352C               990 I1          ADD     R2,R5                           ;TOP+NUM*2byte
39616 000009BC 352C               991 I1          ADD     R2,R5                           ;
39617 000009BE 6655               992 I1          MOV.W   @R5+,R6                         ;Fn[]
39618                             993 I1  
39619 000009C0 3C26               994 I1          CMP/HI  R2,R12                          ;
39620 000009C2 8900               995 I1          BT      ACC_TBLMKSPD1_SB300             ;
39621 000009C4 75FE               996 I1          ADD     #-2,R5                          ;
39622 000009C6                    997 I1  ACC_TBLMKSPD1_SB300:                            ;
39623 000009C6 6251               998 I1          MOV.W   @R5,R2                          ;Fn+1
39624 000009C8 3268               999 I1          SUB     R6,R2                           ;R2=(Fn+1 -Fn )
39625                            1000 I1          POP_REG1 R4                             ;
39626                                 M                                   ; RE"+4" 00,00,00,04
39627 000009CA 64F6                   M           MOV.L   @R15+,R4        ;
39628                            1001 I1  
39629                            1002 I1  
39630                            1003 I1          PUSH_REG1 R4                            ;
39631 000009CC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39632                                 M                                           ;REG=>[SP]
39633                                 M                                           ;"-4" FF,FF,FF,FC
39634                            1004 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](Fn+1 -Fn ) * [R1]MOD/[R4]格納側Tmax
39635 000009CE D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39636 000009D0 400B                   M           JSR     @R0                     ;
39637 000009D2 0009                   M           NOP                                     ;
39638 000009D4 326C              1005 I1          ADD     R6,R2                           ;R2速度
39639                            1006 I1  
39640 000009D6 6193              1007 I1          MOV     R9,R1                           ;
39641 000009D8 940B              1008 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
39642                            1009 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](速度) * [R1]変化率/[R4]100.00
39643 000009DA D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39644 000009DC 400B                   M           JSR     @R0                     ;
39645 000009DE 0009                   M           NOP                                     ;
39646                            1010 I1          POP_REG1 R4                             ;
39647                                 M                                   ; RE"+4" 00,00,00,04
39648 000009E0 64F6                   M           MOV.L   @R15+,R4        ;
39649                            1011 I1  
39650 000009E2 328C              1012 I1          ADD     R8,R2                           ;+ｵﾌｾｯﾄ
39651                            1013 I1  
39652 000009E4 2D21              1014 I1          MOV.W   R2,@R13                         ;速度SAVE
39653                            1015 I1  
39654                            1016 I1          POP_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   602
PROGRAM NAME =

39655                                 M                                   ; RE"+4" 00,00,00,04
39656 000009E6 62F6                   M           MOV.L   @R15+,R2        ;
39657 000009E8 7D02              1017 I1          ADD     #2,R13                          ;
39658 000009EA 73FF              1018 I1          ADD     #-1,R3                          ;
39659 000009EC 7201              1019 I1          ADD     #1,R2                           ;
39660                            1020 I1          M_BRA   ACC_TBLMKSPD1_SB250LOP          ;
39661 000009EE AFD9                   M           BRA     ACC_TBLMKSPD1_SB250LOP
39662 000009F0 0009                   M           NOP
39663                            1021 I1  
39664                                 I1  ***** BEGIN-POOL *****
39665 000009F2 2710                   I1  DATA FOR SOURCE-LINE 956,1008
39666 000009F4 00000000               I1  DATA FOR SOURCE-LINE 957,1004,1009
39667 000009F8 00000000               I1  DATA FOR SOURCE-LINE 987
39668                                 I1  ***** END-POOL *****
39669 000009FC                   1022 I1  ACC_TBLMKSPD1_SB500:                            ;
39670 000009FC 0009              1023 I1          NOP                                     ;
39671                            1024 I1  
39672 000009FE                   1025 I1  ACC_TBLMKSPD1_SB900:                            ;
39673                            1026 I1          _A_WDT_CLR                              ;
39674                            1027 I1          SUB_END
39675                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39676 000009FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39677                            1028 I1          M_RTS
39678 00000A00 000B                   M           RTS                             ;RTSの後ろの
39679 00000A02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39680                            1029 I1  
39681                            1030 I1  ;       ***************************************************
39682                            1031 I1  ;       ***                                             ***
39683                            1032 I1  ;       ***     振り子加速度テーブル作成SUB1            ***
39684                            1033 I1  ;       ***                                             ***
39685                            1034 I1  ;       ***     速度テーブルをパルスに変換する          ***
39686                            1035 I1  ;       ***     [完成済み]                              ***
39687                            1036 I1  ;       ***************************************************
39688                            1037 I1  ;       Input   R6:最大周波数　PLS/Sec
39689                            1038 I1  ;       Input   R13:V-TABLE-TOP
39690                            1039 I1  ;       Input   R14:加減速時間-MEM WORD: ﾙｰﾌﾟ数は0番目を含むから+1回
39691                            1040 I1  ;       Input   R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ
39692                            1041 I1  ;
39693 00000A04                   1042 I1  _ACC_TBL_MAKPLS1_SUB
39694                            1043 I1          SUB_START
39695 00000A04 4F22                   M           STS.L   PR,@-R15                ;[必要]
39696                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39697                            1044 I1          _A_WDT_CLR                                      ;
39698                            1045 I1  
39699 00000A06 65E1              1046 I1          MOV.W   @R14,R5                                         ;時間
39700 00000A08 7501              1047 I1          ADD     #1,R5                                           ;LOOPは+1
39701                            1048 I1  
39702 00000A0A 277A              1049 I1          XOR     R7,R7                                           ;積算数 500,000HZ/1000*100
                                          0=4byte
39703 00000A0C 6163              1050 I1          MOV     R6,R1                                           ;data(0~10000) *500,000/(1
                                          0000*1/1000(msec)
39704 00000A0E D408              1051 I1          MOV.L   #_ACC_PER_V_MAX*_ACC_CALC_TIM,R4                ;
39705                            1052 I1  
39706 00000A10                   1053 I1  ACC_TBLMKPLS1_SBLOP200
39707 00000A10 2558              1054 I1          TST     R5,R5                           ;
39708                            1055 I1          TST_BIT_OF ACC_TBLMKPLS1_SB_END         ;
39709 00000A12 8911                   M           BT      ACC_TBLMKPLS1_SB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   603
PROGRAM NAME =

39710 00000A14 62D5              1056 I1          MOV.W   @R13+,R2                        ;V% LOAD
39711                            1057 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
39712 00000A16 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39713 00000A18 400B                   M           JSR     @R0                     ;
39714 00000A1A 0009                   M           NOP                                     ;
39715                            1058 I1                                                  ;R2(10000)*500000 8BYTE
39716                            1059 I1  
39717                            1060 I1  
39718                            1061 I1  
39719                            1062 I1  
39720                            1063 I1  
39721                            1064 I1  
39722                            1065 I1  ;;      ADD     #1,R2                           ;(1ﾊﾟﾙｽはMOD分･･最大1000ﾊﾟﾙｽ程度の+側に誤
                                          差がでる)
39723 00000A1C 2228              1066 I1          TST     R2,R2
39724                            1067 I1          TST_BIT_ON ACC_TBLMKPLS1_SBLOP220       ;
39725 00000A1E 8B00                   M           BF      ACC_TBLMKPLS1_SBLOP220
39726 00000A20 7201              1068 I1          ADD     #1,R2
39727 00000A22                   1069 I1  ACC_TBLMKPLS1_SBLOP220
39728                            1070 I1  
39729 00000A22 372C              1071 I1          ADD     R2,R7                           ;S=S+deltV
39730 00000A24 2A72              1072 I1          MOV.L   R7,@R10                         ;
39731 00000A26 7A04              1073 I1          ADD     #4,R10                          ;
39732                            1074 I1  
39733 00000A28 75FF              1075 I1          ADD     #-1,R5
39734                            1076 I1          M_BRA   ACC_TBLMKPLS1_SBLOP200          ;
39735 00000A2A AFF1                   M           BRA     ACC_TBLMKPLS1_SBLOP200
39736 00000A2C 0009                   M           NOP
39737                            1077 I1  
39738                            1078 I1  
39739                                 I1  ***** BEGIN-POOL *****
39740 00000A2E 0000                   I1  ALIGNMENT CODE
39741 00000A30 00989680               I1  DATA FOR SOURCE-LINE 1051
39742 00000A34 00000000               I1  DATA FOR SOURCE-LINE 1057
39743                                 I1  ***** END-POOL *****
39744 00000A38                   1079 I1  ACC_TBLMKPLS1_SB_END
39745                            1080 I1  
39746                            1081 I1          SUB_END
39747                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39748 00000A38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39749                            1082 I1          M_RTS
39750 00000A3A 000B                   M           RTS                             ;RTSの後ろの
39751 00000A3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39752                            1083 I1  
39753                            1084 I1  
39754                            1085 I1  
39755                            1086 I1  
39756                            1087 I1  
39757                            1088 I1  
39758                            1089 I1  
39759                            1090 I1  
39760                            1091 I1  
39761                            1092 I1  ;       ***************************************************
39762                            1093 I1  ;       ***                                             ***
39763                            1094 I1  ;       ***                                             ***
39764                            1095 I1  ;       ***                                             ***
39765                            1096 I1  ;       ***             振り子API                       ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   604
PROGRAM NAME =

39766                            1097 I1  ;       ***                                             ***
39767                            1098 I1  ;       ***                                             ***
39768                            1099 I1  ;       ***************************************************
39769                            1100 I1  ;       サイクル開始(往路/復路),停止からの起動,タイマ停止からの起動
39770 00000A3E                   1101 I1  _DNM_START_ACC_CALC:
39771                            1102 I1          SUB_START
39772 00000A3E 4F22                   M           STS.L   PR,@-R15                ;[必要]
39773                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39774                            1103 I1  
39775 00000A40 200A              1104 I1          XOR     R0,R0
39776 00000A42 D108              1105 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
39777 00000A44 2101              1106 I1          MOV.W   R0,@R1                  ;
39778 00000A46 D108              1107 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
39779 00000A48 2101              1108 I1          MOV.W   R0,@R1                  ;
39780 00000A4A D108              1109 I1          MOV.L   #_ACC_STR_STEP,R1       ;
39781 00000A4C 2101              1110 I1          MOV.W   R0,@R1                  ;
39782 00000A4E D108              1111 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
39783 00000A50 2101              1112 I1          MOV.W   R0,@R1                  ;
39784                            1113 I1  
39785                            1114 I1  ;       ---- 2010-09-29---
39786 00000A52 200A              1115 I1          XOR     R0,R0
39787 00000A54 D107              1116 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
39788 00000A56 2101              1117 I1          MOV.W   R0,@R1                  ;
39789 00000A58 D107              1118 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
39790 00000A5A 2101              1119 I1          MOV.W   R0,@R1                  ;
39791                            1120 I1  
39792                            1121 I1          SUB_END
39793                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39794 00000A5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39795                            1122 I1          M_RTS
39796 00000A5E 000B                   M           RTS                             ;RTSの後ろの
39797 00000A60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39798                            1123 I1  
39799                            1124 I1  ;       工程切替
39800                                 I1  ***** BEGIN-POOL *****
39801 00000A62 0000                   I1  ALIGNMENT CODE
39802 00000A64 00000000               I1  DATA FOR SOURCE-LINE 1105
39803 00000A68 00000000               I1  DATA FOR SOURCE-LINE 1107
39804 00000A6C 00000000               I1  DATA FOR SOURCE-LINE 1109
39805 00000A70 00000000               I1  DATA FOR SOURCE-LINE 1111
39806 00000A74 00000000               I1  DATA FOR SOURCE-LINE 1116
39807 00000A78 00000000               I1  DATA FOR SOURCE-LINE 1118
39808                                 I1  ***** END-POOL *****
39809 00000A7C                   1125 I1  _DNM_STEP_ACC_CHANGE:
39810                            1126 I1          SUB_START
39811 00000A7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
39812                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39813                            1127 I1  
39814 00000A7E D10F              1128 I1          MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
39815 00000A80 6011              1129 I1          MOV.W   @R1,R0                  ;
39816 00000A82 2008              1130 I1          TST     R0,R0
39817                            1131 I1          TST_BIT_OF DNM_STEP_ACC_CHG_100 ;WHY
39818 00000A84 8916                   M           BT      DNM_STEP_ACC_CHG_100
39819                            1132 I1  
39820 00000A86 D10E              1133 I1          MOV.L   #_ACC_POS_STEP,R1       ;
39821 00000A88 6211              1134 I1          MOV.W   @R1,R2                  ;
39822 00000A8A 2101              1135 I1          MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   605
PROGRAM NAME =

39823 00000A8C 3200              1136 I1          CMP/EQ  R0,R2                   ;
39824 00000A8E 8911              1137 I1          BT      DNM_STEP_ACC_CHG_100    ;変更なし
39825 00000A90 D10C              1138 I1          MOV.L   #_ACC_STR_STEP,R1       ;
39826 00000A92 2101              1139 I1          MOV.W   R0,@R1                  ;
39827                            1140 I1  
39828 00000A94 8801              1141 I1          cmp/eq  #1,r0                   ;
39829 00000A96 8B00              1142 I1          BF      DNM_STEP_ACC_CHGDBG10
39830 00000A98 0009              1143 I1          NOP
39831 00000A9A                   1144 I1  DNM_STEP_ACC_CHGDBG10:
39832 00000A9A 8802              1145 I1          cmp/eq  #2,r0                   ;
39833 00000A9C 8B00              1146 I1          BF      DNM_STEP_ACC_CHGDBG20   ;
39834 00000A9E 0009              1147 I1          NOP
39835 00000AA0                   1148 I1  DNM_STEP_ACC_CHGDBG20:                  ;
39836                            1149 I1  
39837 00000AA0 200A              1150 I1          XOR     R0,R0
39838 00000AA2 D109              1151 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
39839 00000AA4 2101              1152 I1          MOV.W   R0,@R1
39840 00000AA6 D109              1153 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
39841 00000AA8 2101              1154 I1          MOV.W   R0,@R1
39842                            1155 I1  
39843                            1156 I1  
39844                            1157 I1  
39845                            1158 I1  ;       ---- 2010-09-29---
39846 00000AAA 200A              1159 I1          XOR     R0,R0
39847 00000AAC D108              1160 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
39848 00000AAE 2101              1161 I1          MOV.W   R0,@R1                  ;
39849 00000AB0 D108              1162 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
39850 00000AB2 2101              1163 I1          MOV.W   R0,@R1                  ;
39851                            1164 I1  
39852                            1165 I1  
39853                            1166 I1  
39854 00000AB4                   1167 I1  DNM_STEP_ACC_CHG_100:
39855                            1168 I1  
39856                            1169 I1          SUB_END
39857                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39858 00000AB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39859                            1170 I1          M_RTS
39860 00000AB6 000B                   M           RTS                             ;RTSの後ろの
39861 00000AB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39862                            1171 I1  
39863                            1172 I1  
39864                            1173 I1  ;       ***************************************************
39865                            1174 I1  ;       ***                                             ***
39866                            1175 I1  ;       ***                                             ***
39867                            1176 I1  ;       ***                                             ***
39868                            1177 I1  ;       ***                                             ***
39869                            1178 I1  ;       ***                                             ***
39870                            1179 I1  ;       ***                                             ***
39871                            1180 I1  ;       ***             振り子加速度演算                ***
39872                            1181 I1  ;       ***             (LSIの演算部の代わり)           ***
39873                            1182 I1  ;       ***                                             ***
39874                            1183 I1  ;       ***                                             ***
39875                            1184 I1  ;       ***                                             ***
39876                            1185 I1  ;       ***                                             ***
39877                            1186 I1  ;       ***                                             ***
39878                            1187 I1  ;       ***************************************************
39879                            1188 I1  ;       _PLS_LSI_CTRL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   606
PROGRAM NAME =

39880                            1189 I1  ;               _PLS_LSI_CTL_CALC
39881                            1190 I1  ;                       POSCTL_SV_SPD
39882                                 I1  ***** BEGIN-POOL *****
39883 00000ABA 0000                   I1  ALIGNMENT CODE
39884 00000ABC 00000000               I1  DATA FOR SOURCE-LINE 1128
39885 00000AC0 00000000               I1  DATA FOR SOURCE-LINE 1133
39886 00000AC4 00000000               I1  DATA FOR SOURCE-LINE 1138
39887 00000AC8 00000000               I1  DATA FOR SOURCE-LINE 1151
39888 00000ACC 00000000               I1  DATA FOR SOURCE-LINE 1153
39889 00000AD0 00000000               I1  DATA FOR SOURCE-LINE 1160
39890 00000AD4 00000000               I1  DATA FOR SOURCE-LINE 1162
39891                                 I1  ***** END-POOL *****
39892 00000AD8                   1191 I1  _DNM_SPD_CALC:
39893                            1192 I1          SUB_START
39894 00000AD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
39895                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39896 00000ADA 200A              1193 I1          XOR     R0,R0
39897 00000ADC D123              1194 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
39898 00000ADE 2102              1195 I1          MOV.L   R0,@R1                          ;
39899                            1196 I1  
39900                            1197 I1  
39901 00000AE0 200A              1198 I1          XOR     R0,R0                           ;
39902 00000AE2 D123              1199 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
39903 00000AE4 2101              1200 I1          MOV.W   R0,@R1                          ;
39904                            1201 I1  
39905                            1202 I1          FAR_JSR #_DNM_STEP_ACC_CHANGE,R0        ;
39906 00000AE6 D023                   M           MOV.L   #_DNM_STEP_ACC_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39907 00000AE8 400B                   M           JSR     @R0                     ;
39908 00000AEA 0009                   M           NOP                                     ;
39909                            1203 I1  
39910                            1204 I1          FAR_JSR #_DNM_ACC_CALC,R0               ;
39911 00000AEC D022                   M           MOV.L   #_DNM_ACC_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39912 00000AEE 400B                   M           JSR     @R0                     ;
39913 00000AF0 0009                   M           NOP                                     ;
39914                            1205 I1  
39915                            1206 I1  ;       -------- DEBUG OUT ------------------
39916 00000AF2 D122              1207 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
39917 00000AF4 6011              1208 I1          MOV.W   @R1,R0                          ;
39918 00000AF6 D11E              1209 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
39919 00000AF8 6211              1210 I1          MOV.W   @R1,R2                          ;
39920 00000AFA 202B              1211 I1          OR      R2,R0                           ;
39921                            1212 I1  
39922 00000AFC D120              1213 I1          MOV.L   #_ACC_STEP_FLG,R1               ;
39923 00000AFE 6311              1214 I1          MOV.W   @R1,R3                          ;
39924 00000B00 4318              1215 I1          SHLL8   R3                              ;
39925 00000B02 203B              1216 I1          OR      R3,R0                           ;
39926                            1217 I1  
39927                            1218 I1  ;;;;;;;;2015-07-22      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
39928                            1219 I1  ;;;;;;;;2015-07-22      MOV.W   R0,@R1                          ;
39929                            1220 I1  
39930 00000B04 D119              1221 I1          MOV.L   #_ACC_ANS_ACCDAT,R1     ;(加速または減速すべき　加速度):0変化するﾃﾞｰﾀがな
                                          い
39931 00000B06 6212              1222 I1          MOV.L   @R1,R2                  ;
39932 00000B08 D11E              1223 I1          MOV.L   #_ACC_MONITOR_DAT1,R1   ;リニア
39933 00000B0A 2122              1224 I1          MOV.L   R2,@R1                  ;+/-1
39934                            1225 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   607
PROGRAM NAME =

39935 00000B0C D11E              1226 I1          MOV.L   #_ACC_LAST_POINT,R1     ;最大速度から求まる
39936 00000B0E 6211              1227 I1          MOV.W   @R1,R2                  ;
39937                            1228 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
39938 00000B10 D11E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39939 00000B12 410B                   M           JSR     @R1                     ;
39940 00000B14 0009                   M           NOP                                     ;
39941 00000B16 D11E              1229 I1          MOV.L   #_ACC_MONITOR_DAT2,R1   ;ｴﾝｺｰﾀﾞ角度
39942 00000B18 2122              1230 I1          MOV.L   R2,@R1                  ;
39943                            1231 I1  
39944 00000B1A D11E              1232 I1          MOV.L   #_ACC_STOP_POINT,R1     ;ステップ速度停止の中で求まる（停止予定の行程）
39945 00000B1C 6211              1233 I1          MOV.W   @R1,R2                  ;
39946                            1234 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
39947 00000B1E D11B                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39948 00000B20 410B                   M           JSR     @R1                     ;
39949 00000B22 0009                   M           NOP                                     ;
39950 00000B24 D11C              1235 I1          MOV.L   #_ACC_MONITOR_DAT3,R1   ;PG角度
39951 00000B26 2122              1236 I1          MOV.L   R2,@R1                  ;
39952                            1237 I1  
39953 00000B28 D11C              1238 I1          MOV.L   #_ACC_STEP_POINT,R1     ;ステップ
39954 00000B2A 6211              1239 I1          MOV.W   @R1,R2                  ;
39955 00000B2C D11C              1240 I1          MOV.L   #_ACC_MONITOR_DAT4,R1   ;負荷率
39956 00000B2E 2122              1241 I1          MOV.L   R2,@R1                  ;
39957                            1242 I1  
39958                            1243 I1  
39959                            1244 I1  ;DAT5
39960                            1245 I1  
39961                            1246 I1  
39962 00000B30 D11C              1247 I1          MOV.L   #_ACC_LAST_SPD,R1       ;
39963 00000B32 6212              1248 I1          MOV.L   @R1,R2                  ;
39964 00000B34 4201              1249 I1          SHLR    R2
39965 00000B36 4201              1250 I1          SHLR    R2
39966 00000B38 4201              1251 I1          SHLR    R2
39967 00000B3A 4201              1252 I1          SHLR    R2
39968 00000B3C 4201              1253 I1          SHLR    R2
39969 00000B3E D11A              1254 I1          MOV.L   #_ACC_MONITOR_DAT6,R1   ;左
39970 00000B40 2122              1255 I1          MOV.L   R2,@R1                  ;
39971                            1256 I1  
39972 00000B42 D11A              1257 I1          MOV.L   #_ACC_STOP_SPD,R1       ;
39973 00000B44 6212              1258 I1          MOV.L   @R1,R2                  ;
39974 00000B46 4201              1259 I1          SHLR    R2
39975 00000B48 4201              1260 I1          SHLR    R2
39976 00000B4A 4201              1261 I1          SHLR    R2
39977 00000B4C 4201              1262 I1          SHLR    R2
39978 00000B4E 4201              1263 I1          SHLR    R2
39979 00000B50 D117              1264 I1          MOV.L   #_ACC_MONITOR_DAT7,R1   ;右
39980 00000B52 2122              1265 I1          MOV.L   R2,@R1                  ;
39981                            1266 I1  
39982 00000B54 D117              1267 I1          MOV.L   #_ACC_STEP_SPD,R1       ;
39983 00000B56 6212              1268 I1          MOV.L   @R1,R2                  ;
39984 00000B58 4201              1269 I1          SHLR    R2
39985 00000B5A 4201              1270 I1          SHLR    R2
39986 00000B5C 4201              1271 I1          SHLR    R2
39987 00000B5E 4201              1272 I1          SHLR    R2
39988 00000B60 4201              1273 I1          SHLR    R2
39989 00000B62 D115              1274 I1          MOV.L   #_ACC_MONITOR_DAT8,R1   ;合計
39990 00000B64 2122              1275 I1          MOV.L   R2,@R1                  ;
39991                            1276 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   608
PROGRAM NAME =

39992                            1277 I1  
39993                            1278 I1  
39994                            1279 I1  
39995                            1280 I1          SUB_END
39996                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39997 00000B66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39998                            1281 I1          M_RTS
39999 00000B68 000B                   M           RTS                             ;RTSの後ろの
40000 00000B6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40001                            1282 I1  
40002                            1283 I1  
40003                            1284 I1  
40004                                 I1  ***** BEGIN-POOL *****
40005 00000B6C 00000000               I1  DATA FOR SOURCE-LINE 1194,1221
40006 00000B70 00000000               I1  DATA FOR SOURCE-LINE 1199,1209
40007 00000B74 00000000               I1  DATA FOR SOURCE-LINE 1202
40008 00000B78 00000000               I1  DATA FOR SOURCE-LINE 1204
40009 00000B7C 00000000               I1  DATA FOR SOURCE-LINE 1207
40010 00000B80 00000000               I1  DATA FOR SOURCE-LINE 1213
40011 00000B84 00000000               I1  DATA FOR SOURCE-LINE 1223
40012 00000B88 00000000               I1  DATA FOR SOURCE-LINE 1226
40013 00000B8C 00000000               I1  DATA FOR SOURCE-LINE 1228,1234
40014 00000B90 00000000               I1  DATA FOR SOURCE-LINE 1229
40015 00000B94 00000000               I1  DATA FOR SOURCE-LINE 1232
40016 00000B98 00000000               I1  DATA FOR SOURCE-LINE 1235
40017 00000B9C 00000000               I1  DATA FOR SOURCE-LINE 1238
40018 00000BA0 00000000               I1  DATA FOR SOURCE-LINE 1240
40019 00000BA4 00000000               I1  DATA FOR SOURCE-LINE 1247
40020 00000BA8 00000000               I1  DATA FOR SOURCE-LINE 1254
40021 00000BAC 00000000               I1  DATA FOR SOURCE-LINE 1257
40022 00000BB0 00000000               I1  DATA FOR SOURCE-LINE 1264
40023 00000BB4 00000000               I1  DATA FOR SOURCE-LINE 1267
40024 00000BB8 00000000               I1  DATA FOR SOURCE-LINE 1274
40025                                 I1  ***** END-POOL *****
40026 00000BBC                   1285 I1  _DNM_ACC_CALC
40027                            1286 I1          SUB_START
40028 00000BBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
40029                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40030                            1287 I1  
40031                            1288 I1          FAR_JSR #_DNM_ACC_OVER_PLS_MAK,R0
40032 00000BBE D024                   M           MOV.L   #_DNM_ACC_OVER_PLS_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40033 00000BC0 400B                   M           JSR     @R0                     ;
40034 00000BC2 0009                   M           NOP                                     ;
40035                            1289 I1  
40036 00000BC4 D123              1290 I1          MOV.L   #_ACC_POS_STEP,R1       ;//内部制御工程1~11
40037 00000BC6 6011              1291 I1          MOV.W   @R1,R0                  ;
40038                            1292 I1  ;----------必要か？  2011-03-22
40039 00000BC8 2008              1293 I1          TST     R0,R0
40040                            1294 I1          TST_BIT_ON DNM_ACCCALC_020
40041 00000BCA 8B00                   M           BF      DNM_ACCCALC_020
40042 00000BCC 903C              1295 I1          MOV.W   #1,R0                   ;
40043 00000BCE                   1296 I1  DNM_ACCCALC_020
40044                            1297 I1  
40045                            1298 I1  
40046 00000BCE D122              1299 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
40047 00000BD0 2101              1300 I1          MOV.W   R0,@R1                  ;
40048                            1301 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   609
PROGRAM NAME =

40049 00000BD2 D122              1302 I1          MOV.L   #_ACC_STEP_NUMBER,R1    ;加減速に使用するデータ番号=動作ステップ
40050 00000BD4 2101              1303 I1          MOV.W   R0,@R1                  ;
40051                            1304 I1  
40052 00000BD6 200A              1305 I1          XOR     R0,R0
40053 00000BD8 D121              1306 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
40054 00000BDA 2102              1307 I1          MOV.L   R0,@R1                          ;
40055                            1308 I1  
40056                            1309 I1  ;;;     FAR_JSR #_TBLACC_LAST_SP_MAKE,R0        ;最終減速演算：現在速度より高ければこれに
                                          置き換える
40057                            1310 I1  
40058 00000BDC D121              1311 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40059 00000BDE 6012              1312 I1          MOV.L   @R1,R0                          ;
40060 00000BE0 D121              1313 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
40061 00000BE2 2102              1314 I1          MOV.L   R0,@R1                          ;PLS/S
40062                            1315 I1  
40063                            1316 I1  
40064                            1317 I1  
40065                            1318 I1          FAR_JSR #_TBLACC_STOP_SP_MAKE,R0        ;現行ｽﾃｯﾌﾟからの減速演算：最大以下であれば
                                          最大
40066 00000BE4 D021                   M           MOV.L   #_TBLACC_STOP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40067 00000BE6 400B                   M           JSR     @R0                     ;
40068 00000BE8 0009                   M           NOP                                     ;
40069                            1319 I1  
40070                            1320 I1          FAR_JSR #_TBLACC_STEP_SP_MAKE,R0        ;減速演算２つより低い範囲で加速または減速
                                          する
40071 00000BEA D021                   M           MOV.L   #_TBLACC_STEP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40072 00000BEC 400B                   M           JSR     @R0                     ;
40073 00000BEE 0009                   M           NOP                                     ;
40074                            1321 I1  
40075                            1322 I1  ;       比較結果を加速度で表す
40076                            1323 I1  
40077 00000BF0 288A              1324 I1          XOR     R8,R8                           ;FLAG
40078 00000BF2 D11D              1325 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
40079 00000BF4 6612              1326 I1          MOV.L   @R1,R6                          ;PLS/S
40080 00000BF6 D11F              1327 I1          MOV.L   #_ACC_STOP_SPD,R1               ;停止ステップのデータから求まる
40081 00000BF8 6512              1328 I1          MOV.L   @R1,R5                          ;
40082 00000BFA 3653              1329 I1          CMP/GE  R5,R6                           ;
40083 00000BFC 8902              1330 I1          BT      DNM_ACCCALC_100                 ;
40084 00000BFE 9423              1331 I1          MOV.W   #BIT0,R4                        ;
40085 00000C00 284B              1332 I1          OR      R4,R8                           ;
40086 00000C02 6563              1333 I1          MOV     R6,R5                           ;R5:LIMIT
40087 00000C04                   1334 I1  DNM_ACCCALC_100
40088                            1335 I1  
40089                            1336 I1  
40090 00000C04 D11C              1337 I1          MOV.L   #_ACC_STEP_SPD,R1               ;これから変化させようと考えている速度
40091 00000C06 6212              1338 I1          MOV.L   @R1,R2                          ;
40092 00000C08 3523              1339 I1          CMP/GE  R2,R5                           ;
40093 00000C0A 8902              1340 I1          BT      DNM_ACCCALC_200                 ;
40094                            1341 I1  
40095                            1342 I1  ;       --- limit on----
40096 00000C0C 941D              1343 I1          MOV.W   #BIT1,R4                        ;
40097 00000C0E 284B              1344 I1          OR      R4,R8                           ;
40098 00000C10 6253              1345 I1          MOV     R5,R2                           ;LIMIT
40099                            1346 I1  
40100 00000C12                   1347 I1  DNM_ACCCALC_200
40101 00000C12 D11A              1348 I1          MOV.L   #_ACC_CALC_SPDX,R1              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   610
PROGRAM NAME =

40102 00000C14 2122              1349 I1          MOV.L   R2,@R1                          ;
40103                            1350 I1  
40104                            1351 I1          FAR_JSR #_DNM_ACC_OVER_SPD_MAK,R0               ;
40105 00000C16 D01A                   M           MOV.L   #_DNM_ACC_OVER_SPD_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40106 00000C18 400B                   M           JSR     @R0                     ;
40107 00000C1A 0009                   M           NOP                                     ;
40108 00000C1C D119              1352 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
40109 00000C1E 6212              1353 I1          MOV.L   @R1,R2                          ;
40110                            1354 I1  
40111                            1355 I1  
40112 00000C20 D119              1356 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
40113 00000C22 6312              1357 I1          MOV.L   @R1,R3                          ;
40114 00000C24 3233              1358 I1          CMP/GE  R3,R2                           ;
40115 00000C26 8902              1359 I1          BT      DNM_ACCCALC_300                 ;
40116                            1360 I1  
40117                            1361 I1  ;       --- UNDER　LIMIT----
40118 00000C28 9410              1362 I1          MOV.W   #BIT2,R4                        ;[BIT2はにせもの]
40119 00000C2A 284B              1363 I1          OR      R4,R8                           ;
40120 00000C2C 6233              1364 I1          MOV     R3,R2                           ;
40121                            1365 I1  
40122 00000C2E                   1366 I1  DNM_ACCCALC_300
40123 00000C2E D117              1367 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
40124 00000C30 6011              1368 I1          MOV.W   @R1,R0                          ;
40125 00000C32 C9FB              1369 I1          AND     #LOW ~BIT2,R0
40126 00000C34 208B              1370 I1          OR      R8,R0                           ;
40127 00000C36 2101              1371 I1          MOV.W   R0,@R1                          ;
40128                            1372 I1  
40129 00000C38 D115              1373 I1          MOV.L   #_POSCTL_RL_SPD,R1              ;現在速度
40130 00000C3A 6312              1374 I1          MOV.L   @R1,R3                          ;
40131 00000C3C 3238              1375 I1          SUB     R3,R2                           ;
40132 00000C3E D108              1376 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
40133 00000C40 2122              1377 I1          MOV.L   R2,@R1                          ;
40134                            1378 I1  
40135                            1379 I1          SUB_END
40136                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40137 00000C42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40138                            1380 I1          M_RTS
40139 00000C44 000B                   M           RTS                             ;RTSの後ろの
40140 00000C46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40141                            1381 I1  
40142                            1382 I1  
40143                            1383 I1  
40144                            1384 I1  
40145                            1385 I1  
40146                            1386 I1  
40147                            1387 I1  ;       *******************************************
40148                            1388 I1  ;       ***                                     ***
40149                            1389 I1  ;       ***     演算上で使用するデータ          ***
40150                            1390 I1  ;       ***                                     ***
40151                            1391 I1  ;       *******************************************
40152                                 I1  ***** BEGIN-POOL *****
40153 00000C48 0001                   I1  DATA FOR SOURCE-LINE 1295,1331
40154 00000C4A 0002                   I1  DATA FOR SOURCE-LINE 1343
40155 00000C4C 0004                   I1  DATA FOR SOURCE-LINE 1362
40156 00000C4E 0000                   I1  ALIGNMENT CODE
40157 00000C50 00000000               I1  DATA FOR SOURCE-LINE 1288
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   611
PROGRAM NAME =

40158 00000C54 00000000               I1  DATA FOR SOURCE-LINE 1290
40159 00000C58 00000000               I1  DATA FOR SOURCE-LINE 1299
40160 00000C5C 00000000               I1  DATA FOR SOURCE-LINE 1302
40161 00000C60 00000000               I1  DATA FOR SOURCE-LINE 1306,1376
40162 00000C64 00000000               I1  DATA FOR SOURCE-LINE 1311
40163 00000C68 00000000               I1  DATA FOR SOURCE-LINE 1313,1325
40164 00000C6C 00000000               I1  DATA FOR SOURCE-LINE 1318
40165 00000C70 00000000               I1  DATA FOR SOURCE-LINE 1320
40166 00000C74 00000000               I1  DATA FOR SOURCE-LINE 1327
40167 00000C78 00000000               I1  DATA FOR SOURCE-LINE 1337
40168 00000C7C 00000000               I1  DATA FOR SOURCE-LINE 1348
40169 00000C80 00000000               I1  DATA FOR SOURCE-LINE 1351
40170 00000C84 00000000               I1  DATA FOR SOURCE-LINE 1352
40171 00000C88 00000000               I1  DATA FOR SOURCE-LINE 1356
40172 00000C8C 00000000               I1  DATA FOR SOURCE-LINE 1367
40173 00000C90 00000000               I1  DATA FOR SOURCE-LINE 1373
40174                                 I1  ***** END-POOL *****
40175 00000C94                   1392 I1  _DNM_ACC_OVER_PLS_MAK:
40176                            1393 I1          SUB_START
40177 00000C94 4F22                   M           STS.L   PR,@-R15                ;[必要]
40178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40179 00000C96 D50A              1394 I1          MOV.L   #_ACC_REST_ABS_PLS,R5   ;//
40180 00000C98 6156              1395 I1          MOV.L   @R5+,R1                 ;
40181 00000C9A 6252              1396 I1          MOV.L   @R5,R2                  ;
40182                            1397 I1  
40183                            1398 I1  ;       *1/比率
40184 00000C9C D409              1399 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
40185 00000C9E 6041              1400 I1          MOV.W   @R4,R0                          ;
40186 00000CA0 2008              1401 I1          TST     R0,R0                           ;
40187                            1402 I1          TST_BIT_OF DNM_ACC_OVER_PLSMK200        ;
40188 00000CA2 891A                   M           BT      DNM_ACC_OVER_PLSMK200
40189                            1403 I1  
40190 00000CA4 D308              1404 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40191 00000CA6 6431              1405 I1          MOV.W   @R3,R4                                  ;
40192 00000CA8 9109              1406 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40193                            1407 I1          FAR_JSR #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0   ;
40194 00000CAA D008                   M           MOV.L   #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40195 00000CAC 400B                   M           JSR     @R0                     ;
40196 00000CAE 0009                   M           NOP                                     ;
40197                            1408 I1  
40198 00000CB0 2118              1409 I1          TST     R1,R1                                   ;
40199                            1410 I1          TST_BIT_ON DNM_ACC_OVER_PLSMK100                ;まだ4byte以上ある
40200 00000CB2 8B0F                   M           BF      DNM_ACC_OVER_PLSMK100
40201                            1411 I1  
40202 00000CB4 D406              1412 I1          MOV.L   #_GENSOK_LNGTH_MAX,R4                   ;30秒*500KHよりも距離がある
40203 00000CB6 3243              1413 I1          CMP/GE  R4,R2                                   ;
40204 00000CB8 890C              1414 I1          BT      DNM_ACC_OVER_PLSMK100                   ;
40205                            1415 I1          M_BRA   DNM_ACC_OVER_PLSMK200                   ;
40206 00000CBA A00E                   M           BRA     DNM_ACC_OVER_PLSMK200
40207 00000CBC 0009                   M           NOP
40208                            1416 I1  
40209                                 I1  ***** BEGIN-POOL *****
40210 00000CBE 0064                   I1  DATA FOR SOURCE-LINE 1406
40211 00000CC0 00000000               I1  DATA FOR SOURCE-LINE 1394
40212 00000CC4 00000000               I1  DATA FOR SOURCE-LINE 1399
40213 00000CC8 00000000               I1  DATA FOR SOURCE-LINE 1404
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   612
PROGRAM NAME =

40214 00000CCC 00000000               I1  DATA FOR SOURCE-LINE 1407
40215 00000CD0 00E4E1C0               I1  DATA FOR SOURCE-LINE 1412
40216                                 I1  ***** END-POOL *****
40217 00000CD4                   1417 I1  DNM_ACC_OVER_PLSMK100
40218 00000CD4 902F              1418 I1          MOV.W   #-1,R0
40219 00000CD6 D419              1419 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
40220 00000CD8 2401              1420 I1          MOV.W   R0,@R4                          ;
40221                            1421 I1  
40222 00000CDA                   1422 I1  DNM_ACC_OVER_PLSMK200:
40223 00000CDA D619              1423 I1          MOV.L   #_ACC_REST_ABS_PLSX,R6  ;//これで演算
40224 00000CDC 2612              1424 I1          MOV.L   R1,@R6                  ;
40225 00000CDE 1621              1425 I1          MOV.L   R2,@(4,R6)              ;
40226                            1426 I1  
40227                            1427 I1  
40228                            1428 I1  ;       _TBLACC_ACC_ADDCHKの演算に使用している箇所の拡大
40229                            1429 I1  ;       設定速度の拡大 DATA*MAX/比率
40230 00000CE0 D118              1430 I1          MOV.L   #_POSCTL_SV_SPD,R1                      ;
40231 00000CE2 6212              1431 I1          MOV.L   @R1,R2                                  ;
40232 00000CE4 D318              1432 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40233 00000CE6 6431              1433 I1          MOV.W   @R3,R4                                  ;
40234 00000CE8 9126              1434 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40235                            1435 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40236 00000CEA D018                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40237 00000CEC 400B                   M           JSR     @R0                     ;
40238 00000CEE 0009                   M           NOP                                     ;
40239 00000CF0 D117              1436 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                 ;
40240 00000CF2 2122              1437 I1          MOV.L   R2,@R1                                  ;
40241                            1438 I1  
40242                            1439 I1  
40243                            1440 I1  
40244                            1441 I1  ;       実速度の拡大 DATA*MAX/比率(ACC_)
40245 00000CF4 D117              1442 I1          MOV.L   #_POSCTL_RL_SPD,R1                      ;
40246 00000CF6 6212              1443 I1          MOV.L   @R1,R2                                  ;
40247 00000CF8 D313              1444 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40248 00000CFA 6431              1445 I1          MOV.W   @R3,R4                                  ;
40249 00000CFC 911C              1446 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40250                            1447 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40251 00000CFE D013                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40252 00000D00 400B                   M           JSR     @R0                     ;
40253 00000D02 0009                   M           NOP                                     ;
40254 00000D04 D114              1448 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R1                 ;
40255 00000D06 2122              1449 I1          MOV.L   R2,@R1                                  ;
40256                            1450 I1  
40257                            1451 I1  
40258                            1452 I1  
40259                            1453 I1  ;       加速度の拡大 DATA*MAX/比率
40260 00000D08 D114              1454 I1          MOV.L   #_POSCTL_SV_UP_ACC,R1                   ;
40261 00000D0A 6212              1455 I1          MOV.L   @R1,R2                                  ;
40262 00000D0C D30E              1456 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40263 00000D0E 6431              1457 I1          MOV.W   @R3,R4                                  ;
40264 00000D10 9112              1458 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40265                            1459 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40266 00000D12 D00E                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40267 00000D14 400B                   M           JSR     @R0                     ;
40268 00000D16 0009                   M           NOP                                     ;
40269 00000D18 D111              1460 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R1              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   613
PROGRAM NAME =

40270 00000D1A 2122              1461 I1          MOV.L   R2,@R1                                  ;
40271                            1462 I1  
40272                            1463 I1  
40273                            1464 I1  ;       加速度の拡大 DATA*MAX/比率
40274 00000D1C D111              1465 I1          MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
40275 00000D1E 6212              1466 I1          MOV.L   @R1,R2                                  ;
40276 00000D20 D309              1467 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40277 00000D22 6431              1468 I1          MOV.W   @R3,R4                                  ;
40278 00000D24 9108              1469 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40279                            1470 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40280 00000D26 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40281 00000D28 400B                   M           JSR     @R0                     ;
40282 00000D2A 0009                   M           NOP                                     ;
40283 00000D2C D10E              1471 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R1              ;
40284 00000D2E 2122              1472 I1          MOV.L   R2,@R1                                  ;
40285                            1473 I1  
40286                            1474 I1  
40287                            1475 I1  
40288                            1476 I1  
40289                            1477 I1  
40290                            1478 I1  
40291                            1479 I1          SUB_END
40292                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40293 00000D30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40294                            1480 I1          M_RTS
40295 00000D32 000B                   M           RTS                             ;RTSの後ろの
40296 00000D34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40297                            1481 I1  
40298                            1482 I1  
40299                                 I1  ***** BEGIN-POOL *****
40300 00000D36 FFFF                   I1  DATA FOR SOURCE-LINE 1418
40301 00000D38 0064                   I1  DATA FOR SOURCE-LINE 1434,1446,1458,1469
40302 00000D3A 0000                   I1  ALIGNMENT CODE
40303 00000D3C 00000000               I1  DATA FOR SOURCE-LINE 1419
40304 00000D40 00000000               I1  DATA FOR SOURCE-LINE 1423
40305 00000D44 00000000               I1  DATA FOR SOURCE-LINE 1430
40306 00000D48 00000000               I1  DATA FOR SOURCE-LINE 1432,1444,1456,1467
40307 00000D4C 00000000               I1  DATA FOR SOURCE-LINE 1435,1447,1459,1470
40308 00000D50 00000000               I1  DATA FOR SOURCE-LINE 1436
40309 00000D54 00000000               I1  DATA FOR SOURCE-LINE 1442
40310 00000D58 00000000               I1  DATA FOR SOURCE-LINE 1448
40311 00000D5C 00000000               I1  DATA FOR SOURCE-LINE 1454
40312 00000D60 00000000               I1  DATA FOR SOURCE-LINE 1460
40313 00000D64 00000000               I1  DATA FOR SOURCE-LINE 1465
40314 00000D68 00000000               I1  DATA FOR SOURCE-LINE 1471
40315                                 I1  ***** END-POOL *****
40316 00000D6C                   1483 I1  _DNM_ACC_OVER_SPD_MAK:
40317                            1484 I1          SUB_START
40318 00000D6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
40319                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40320 00000D6E D107              1485 I1          MOV.L   #_ACC_CALC_SPDX,R1                      ;
40321 00000D70 6212              1486 I1          MOV.L   @R1,R2                                  ;
40322                            1487 I1  
40323                            1488 I1  ;      *比率
40324 00000D72 D307              1489 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40325 00000D74 6131              1490 I1          MOV.W   @R3,R1                                  ;
40326 00000D76 9407              1491 I1          MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   614
PROGRAM NAME =

40327                            1492 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40328 00000D78 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40329 00000D7A 400B                   M           JSR     @R0                     ;
40330 00000D7C 0009                   M           NOP                                     ;
40331                            1493 I1  
40332                            1494 I1  
40333 00000D7E D106              1495 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
40334 00000D80 2122              1496 I1          MOV.L   R2,@R1                          ;
40335                            1497 I1          SUB_END
40336                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40337 00000D82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40338                            1498 I1          M_RTS
40339 00000D84 000B                   M           RTS                             ;RTSの後ろの
40340 00000D86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40341                            1499 I1  
40342                            1500 I1  
40343                            1501 I1  
40344                            1502 I1  ;       ***************************************************
40345                            1503 I1  ;       ***                                             ***
40346                            1504 I1  ;       ***             最終減速演算                    ***
40347                            1505 I1  ;       ***             100%->0%                        ***
40348                            1506 I1  ;       ***             距離を使用する                  ***
40349                            1507 I1  ;       ***                                             ***
40350                            1508 I1  ;       ***************************************************
40351                            1509 I1  ;@全工程
40352                            1510 I1  ;;;[2013-05-20 前から未使用]_TBLACC_LAST_SP_MAKE
40353                            1511 I1  ;;;[2013-05-20 前から未使用]    SUB_START
40354                            1512 I1  ;;;[2013-05-20 前から未使用]
40355                            1513 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速速度
40356                            1514 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速パルス
40357                            1515 I1  ;;;[2013-05-20 前から未使用]
40358                            1516 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40359                            1517 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R6                          ;
40360                            1518 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40361                            1519 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40362                            1520 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ
                                          換算値　pls/s
40363                            1521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R5                          ;
40364                            1522 I1  ;;;[2013-05-20 前から未使用]
40365                            1523 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
40366                            1524 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R0,R1                          ;
40367                            1525 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @(4,R0),R2                      ;USED R2
40368                            1526 I1  ;;;[2013-05-20 前から未使用]
40369                            1527 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_SERCH_PLS1,R0
40370                            1528 I1  ;;;[2013-05-20 前から未使用]
40371                            1529 I1  ;;;[2013-05-20 前から未使用]
40372                            1530 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
40373                            1531 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   R2,@R1                          ;PLS/S
40374                            1532 I1  ;;;[2013-05-20 前から未使用]
40375                            1533 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_POINT,R1             ;
40376                            1534 I1  ;;;[2013-05-20 前から未使用];;  MOV.W   R0,@R1
40377                            1535 I1  ;;;[2013-05-20 前から未使用]
40378                            1536 I1  ;;;[2013-05-20 前から未使用]
40379                            1537 I1  ;;;[2013-05-20 前から未使用]
40380                            1538 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
40381                            1539 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK100          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   615
PROGRAM NAME =

40382                            1540 I1  ;;;[2013-05-20 前から未使用]    NOP
40383                            1541 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_LASTSP_MK150
40384                            1542 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK100
40385                            1543 I1  ;;;[2013-05-20 前から未使用]    NOP
40386                            1544 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK150
40387                            1545 I1  ;;;[2013-05-20 前から未使用]
40388                            1546 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
40389                            1547 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
40390                            1548 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
40391                            1549 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK500          ;
40392                            1550 I1  ;;;[2013-05-20 前から未使用]
40393                            1551 I1  ;;;[2013-05-20 前から未使用]
40394                            1552 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
40395                            1553 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_LASTSP_MK200             ;NO! R0<R3 ok減速
                                          した
40396                            1554 I1  ;;;[2013-05-20 前から未使用]
40397                            1555 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
40398                            1556 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
40399                            1557 I1  ;;;[2013-05-20 前から未使用]
40400                            1558 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK200:
40401                            1559 I1  ;;;[2013-05-20 前から未使用]
40402                            1560 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
40403                            1561 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_LASTSP_MK400
40404                            1562 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
40405                            1563 I1  ;;;[2013-05-20 前から未使用]
40406                            1564 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK400
40407                            1565 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
40408                            1566 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
40409                            1567 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
40410                            1568 I1  ;;;[2013-05-20 前から未使用]
40411                            1569 I1  ;;;[2013-05-20 前から未使用]
40412                            1570 I1  ;;;[2013-05-20 前から未使用]
40413                            1571 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK500                         ;
40414                            1572 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
40415                            1573 I1  ;;;[2013-05-20 前から未使用]    MOV.W   R0,@R5
40416                            1574 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
40417                            1575 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R2,@R1                          ;PLS/S
40418                            1576 I1  ;;;[2013-05-20 前から未使用]
40419                            1577 I1  ;;;[2013-05-20 前から未使用];   ----------- 使用しない---
40420                            1578 I1  ;;;[2013-05-20 前から未使用]
40421                            1579 I1  ;;;[2013-05-20 前から未使用]
40422                            1580 I1  ;;;[2013-05-20 前から未使用]    SUB_END
40423                            1581 I1  ;;;[2013-05-20 前から未使用]    M_RTS
40424                            1582 I1  
40425                            1583 I1  
40426                            1584 I1  
40427                            1585 I1  ;       ***************************************************
40428                            1586 I1  ;       ***                                             ***
40429                            1587 I1  ;       ***             停止減速演算                    ***
40430                            1588 I1  ;       ***             x%->0%                          ***
40431                            1589 I1  ;       ***             距離を使用する                  ***
40432                            1590 I1  ;       ***                                             ***
40433                            1591 I1  ;       ***************************************************
40434                            1592 I1  ;A全工程(全段数に対して存在する)
40435                                 I1  ***** BEGIN-POOL *****
40436 00000D88 0064                   I1  DATA FOR SOURCE-LINE 1491
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   616
PROGRAM NAME =

40437 00000D8A 0000                   I1  ALIGNMENT CODE
40438 00000D8C 00000000               I1  DATA FOR SOURCE-LINE 1485
40439 00000D90 00000000               I1  DATA FOR SOURCE-LINE 1489
40440 00000D94 00000000               I1  DATA FOR SOURCE-LINE 1492
40441 00000D98 00000000               I1  DATA FOR SOURCE-LINE 1495
40442                                 I1  ***** END-POOL *****
40443 00000D9C                   1593 I1  _TBLACC_STOP_SP_MAKE
40444                            1594 I1          SUB_START
40445 00000D9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
40446                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40447                            1595 I1  
40448 00000D9E D107              1596 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
40449 00000DA0 6511              1597 I1          MOV.W   @R1,R5                  ;
40450                            1598 I1  
40451                            1599 I1          FAR_JSR #_ACC_NUMBER_SELTBL1,R0 ;
40452 00000DA2 D007                   M           MOV.L   #_ACC_NUMBER_SELTBL1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40453 00000DA4 400B                   M           JSR     @R0                     ;
40454 00000DA6 0009                   M           NOP                                     ;
40455                            1600 I1  
40456 00000DA8 D106              1601 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40457 00000DAA 6512              1602 I1          MOV.L   @R1,R5                          ;
40458                            1603 I1  
40459 00000DAC D006              1604 I1          MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
40460 00000DAE 6102              1605 I1          MOV.L   @R0,R1                          ;
40461 00000DB0 5201              1606 I1          MOV.L   @(4,R0),R2                      ;USED R2
40462                            1607 I1  
40463                            1608 I1          FAR_JSR #_POINT_SERCH_PLS_HOKAN1,R0     ;
40464 00000DB2 D006                   M           MOV.L   #_POINT_SERCH_PLS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40465 00000DB4 400B                   M           JSR     @R0                     ;
40466 00000DB6 0009                   M           NOP                                     ;
40467                            1609 I1          M_BRA   TBLACC_STOPSP_MK500
40468 00000DB8 A00A                   M           BRA     TBLACC_STOPSP_MK500
40469 00000DBA 0009                   M           NOP
40470                            1610 I1  
40471                            1611 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
40472                            1612 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK100          ;
40473                            1613 I1  ;;;[2013-05-20 前から未使用]    NOP
40474                            1614 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_STOPSP_MK150
40475                            1615 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK100
40476                            1616 I1  ;;;[2013-05-20 前から未使用]    NOP
40477                            1617 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK150
40478                            1618 I1  ;;;[2013-05-20 前から未使用]
40479                            1619 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_STOP_POINT,R5             ;
40480                            1620 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
40481                            1621 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
40482                            1622 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK500          ;
40483                            1623 I1  ;;;[2013-05-20 前から未使用]
40484                            1624 I1  ;;;[2013-05-20 前から未使用]
40485                            1625 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
40486                            1626 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_STOPSP_MK200             ;NO! R0<R3 ok減速
                                          した
40487                            1627 I1  ;;;[2013-05-20 前から未使用]
40488                            1628 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
40489                            1629 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
40490                            1630 I1  ;;;[2013-05-20 前から未使用]
40491                            1631 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK200:
40492                            1632 I1  ;;;[2013-05-20 前から未使用]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   617
PROGRAM NAME =

40493                            1633 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
40494                            1634 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_STOPSP_MK400
40495                            1635 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
40496                            1636 I1  ;;;[2013-05-20 前から未使用]
40497                            1637 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK400
40498                            1638 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
40499                            1639 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
40500                            1640 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
40501                            1641 I1  ;;;[2013-05-20 前から未使用]
40502                            1642 I1  ;;;[2013-05-20 前から未使用]
40503                            1643 I1  ;;;[2013-05-20 前から未使用]
40504                                 I1  ***** BEGIN-POOL *****
40505 00000DBC 00000000               I1  DATA FOR SOURCE-LINE 1596
40506 00000DC0 00000000               I1  DATA FOR SOURCE-LINE 1599
40507 00000DC4 00000000               I1  DATA FOR SOURCE-LINE 1601
40508 00000DC8 00000000               I1  DATA FOR SOURCE-LINE 1604
40509 00000DCC 00000000               I1  DATA FOR SOURCE-LINE 1608
40510                                 I1  ***** END-POOL *****
40511 00000DD0                   1644 I1  TBLACC_STOPSP_MK500                             ;
40512 00000DD0 D503              1645 I1          MOV.L   #_ACC_STOP_POINT,R5             ;
40513 00000DD2 2501              1646 I1          MOV.W   R0,@R5
40514 00000DD4 D103              1647 I1          MOV.L   #_ACC_STOP_SPD,R1               ;最終速度から求まる
40515 00000DD6 2122              1648 I1          MOV.L   R2,@R1                          ;PLS/S
40516                            1649 I1  
40517                            1650 I1          SUB_END
40518                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40519 00000DD8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40520                            1651 I1          M_RTS
40521 00000DDA 000B                   M           RTS                             ;RTSの後ろの
40522 00000DDC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40523                            1652 I1  
40524                            1653 I1  ;       ***************************************************
40525                            1654 I1  ;       ***                                             ***
40526                            1655 I1  ;       ***                                             ***
40527                            1656 I1  ;       ***             加速演算                        ***
40528                            1657 I1  ;       ***             減速演算                        ***
40529                            1658 I1  ;       ***                                             ***
40530                            1659 I1  ;       ***                                             ***
40531                            1660 I1  ;       ***************************************************
40532                            1661 I1  
40533                                 I1  ***** BEGIN-POOL *****
40534 00000DDE 0000                   I1  ALIGNMENT CODE
40535 00000DE0 00000000               I1  DATA FOR SOURCE-LINE 1645
40536 00000DE4 00000000               I1  DATA FOR SOURCE-LINE 1647
40537                                 I1  ***** END-POOL *****
40538 00000DE8                   1662 I1  _TBLACC_STEP_SP_MAKE
40539                            1663 I1          SUB_START
40540 00000DE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
40541                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40542                            1664 I1  
40543 00000DEA D115              1665 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
40544 00000DEC 6511              1666 I1          MOV.W   @R1,R5                          ;
40545                            1667 I1          FAR_JSR #_ACC_NUMBER_SELTBL2,R0         ;
40546 00000DEE D015                   M           MOV.L   #_ACC_NUMBER_SELTBL2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40547 00000DF0 400B                   M           JSR     @R0                     ;
40548 00000DF2 0009                   M           NOP                                     ;
40549                            1668 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   618
PROGRAM NAME =

40550                            1669 I1  
40551 00000DF4 D114              1670 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40552 00000DF6 6011              1671 I1          MOV.W   @R1,R0                          ;
40553 00000DF8 C804              1672 I1          TST     #BIT2,R0                        ;
40554                            1673 I1          TST_BIT_ON TBLACC_STEP_SPMAK_400        ;
40555 00000DFA 8B5F                   M           BF      TBLACC_STEP_SPMAK_400
40556 00000DFC C803              1674 I1          TST     #(BIT1+BIT0),R0                 ;
40557                            1675 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
40558 00000DFE 8B36                   M           BF      TBLACC_STEP_SPMAK_200
40559                            1676 I1  
40560 00000E00 D112              1677 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40561 00000E02 6011              1678 I1          MOV.W   @R1,R0                          ;
40562 00000E04 2008              1679 I1          TST     R0,R0                           ;
40563                            1680 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
40564 00000E06 8B32                   M           BF      TBLACC_STEP_SPMAK_200
40565                            1681 I1  
40566                            1682 I1  ;;;;    MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
40567 00000E08 D011              1683 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R0         ;
40568 00000E0A 6202              1684 I1          MOV.L   @R0,R2                          ;
40569                            1685 I1  
40570                            1686 I1  
40571                            1687 I1  ;       ========= DEBUG
40572 00000E0C D10C              1688 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
40573 00000E0E 6011              1689 I1          MOV.W   @R1,R0                          ;
40574 00000E10 8802              1690 I1          CMP/EQ  #2,R0                           ;
40575 00000E12 8B02              1691 I1          BF      DEBUG_JMP10                     ;
40576 00000E14 0009              1692 I1          NOP
40577 00000E16 0009              1693 I1          NOP
40578 00000E18 0009              1694 I1          NOP
40579 00000E1A                   1695 I1  DEBUG_JMP10
40580                            1696 I1  
40581                            1697 I1  ;       -------------加減速直線演算固定させたいだけ2014-09-22
40582 00000E1A D10E              1698 I1          MOV.L   #_MOT_REP_F,R1                  ;//BIT0
40583 00000E1C 6011              1699 I1          MOV.W   @R1,R0                          ;
40584 00000E1E C801              1700 I1          TST     #BIT0,R0                        ;
40585                            1701 I1          TST_BIT_ON TBLACC_STEP_SPMAK_CNST050
40586 00000E20 8B04                   M           BF      TBLACC_STEP_SPMAK_CNST050
40587                            1702 I1  
40588                            1703 I1          FAR_JSR #_POINT_SERCH_SPD1,R0           ;
40589 00000E22 D00D                   M           MOV.L   #_POINT_SERCH_SPD1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40590 00000E24 400B                   M           JSR     @R0                     ;
40591 00000E26 0009                   M           NOP                                     ;
40592                            1704 I1  
40593 00000E28 2008              1705 I1          TST     R0,R0                           ;
40594                            1706 I1          TST_BIT_ON TBLACC_STEP_SPMAK_100        ;範囲内でいる JUMP
40595 00000E2A 8B1B                   M           BF      TBLACC_STEP_SPMAK_100
40596                            1707 I1  
40597 00000E2C                   1708 I1  TBLACC_STEP_SPMAK_CNST050:
40598                            1709 I1  
40599                            1710 I1  ;一定加速・一定減速演算
40600                            1711 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT4,WKREG=R1       ;
40601 00000E2C D10B                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
40602 00000E2E 6011                   M           MOV.W   @R1,R0          ;
40603 00000E30 CB10                   M           OR      #BIT4,R0                ;
40604 00000E32 2101                   M           MOV.W   R0,@R1          ;
40605                            1712 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
40606 00000E34 D00A                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   619
PROGRAM NAME =

40607 00000E36 400B                   M           JSR     @R0                     ;
40608 00000E38 0009                   M           NOP                                     ;
40609                            1713 I1          M_BRA   TBLACC_STEP_SPMAK_500   ;
40610 00000E3A A046                   M           BRA     TBLACC_STEP_SPMAK_500
40611 00000E3C 0009                   M           NOP
40612                            1714 I1  
40613                            1715 I1  
40614                                 I1  ***** BEGIN-POOL *****
40615 00000E3E 0000                   I1  ALIGNMENT CODE
40616 00000E40 00000000               I1  DATA FOR SOURCE-LINE 1665,1688
40617 00000E44 00000000               I1  DATA FOR SOURCE-LINE 1667
40618 00000E48 00000000               I1  DATA FOR SOURCE-LINE 1670
40619 00000E4C 00000000               I1  DATA FOR SOURCE-LINE 1677
40620 00000E50 00000000               I1  DATA FOR SOURCE-LINE 1683
40621 00000E54 00000000               I1  DATA FOR SOURCE-LINE 1698
40622 00000E58 00000000               I1  DATA FOR SOURCE-LINE 1703
40623 00000E5C 00000000               I1  DATA FOR SOURCE-LINE 1711
40624 00000E60 00000000               I1  DATA FOR SOURCE-LINE 1712
40625                                 I1  ***** END-POOL *****
40626 00000E64                   1716 I1  TBLACC_STEP_SPMAK_100
40627 00000E64 D108              1717 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40628 00000E66 2101              1718 I1          MOV.W   R0,@R1                          ;
40629                            1719 I1  
40630 00000E68 900C              1720 I1          MOV.W   #BIT0,R0
40631 00000E6A D108              1721 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40632 00000E6C 2101              1722 I1          MOV.W   R0,@R1                          ;
40633                            1723 I1  
40634                            1724 I1  
40635 00000E6E                   1725 I1  TBLACC_STEP_SPMAK_200
40636 00000E6E 6083              1726 I1          MOV     R8,R0                           ;
40637 00000E70 C804              1727 I1          TST     #BIT2,R0                        ;BIT2=0加速
40638                            1728 I1          TST_BIT_OF TBLACC_STEP_SPMAK_250        ;
40639 00000E72 890D                   M           BT      TBLACC_STEP_SPMAK_250
40640                            1729 I1  ;       ---減速--
40641 00000E74 D104              1730 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40642 00000E76 6011              1731 I1          MOV.W   @R1,R0                          ;
40643 00000E78 8801              1732 I1          CMP/EQ  #1,R0                           ;
40644 00000E7A 891F              1733 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
40645 00000E7C 70FF              1734 I1          ADD     #-1,R0                          ;
40646 00000E7E 2101              1735 I1          MOV.W   R0,@R1                          ;
40647                            1736 I1          M_BRA   TBLACC_STEP_SPMAK_300           ;
40648 00000E80 A00C                   M           BRA     TBLACC_STEP_SPMAK_300
40649 00000E82 0009                   M           NOP
40650                            1737 I1  
40651                                 I1  ***** BEGIN-POOL *****
40652 00000E84 0001                   I1  DATA FOR SOURCE-LINE 1720
40653 00000E86 0000                   I1  ALIGNMENT CODE
40654 00000E88 00000000               I1  DATA FOR SOURCE-LINE 1717,1730
40655 00000E8C 00000000               I1  DATA FOR SOURCE-LINE 1721
40656                                 I1  ***** END-POOL *****
40657 00000E90                   1738 I1  TBLACC_STEP_SPMAK_250
40658                            1739 I1  ;       ---加速--
40659 00000E90 D107              1740 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40660 00000E92 6011              1741 I1          MOV.W   @R1,R0                          ;
40661 00000E94 3062              1742 I1          CMP/HS  R6,R0                           ;
40662 00000E96 8911              1743 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
40663 00000E98 7001              1744 I1          ADD     #1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   620
PROGRAM NAME =

40664 00000E9A 2101              1745 I1          MOV.W   R0,@R1                          ;
40665 00000E9C                   1746 I1  TBLACC_STEP_SPMAK_300
40666                            1747 I1          FAR_JSR #_POINT_GET_SPD1,R1             ;input R0
40667 00000E9C D105                   M           MOV.L   #_POINT_GET_SPD1,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40668 00000E9E 410B                   M           JSR     @R1                     ;
40669 00000EA0 0009                   M           NOP                                     ;
40670                            1748 I1  
40671 00000EA2 9003              1749 I1          MOV.W   #(BIT1+BIT0),R0                 ;
40672 00000EA4 D104              1750 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40673 00000EA6 2101              1751 I1          MOV.W   R0,@R1                          ;
40674                            1752 I1          M_BRA   TBLACC_STEP_SPMAK_500           ;
40675 00000EA8 A00F                   M           BRA     TBLACC_STEP_SPMAK_500
40676 00000EAA 0009                   M           NOP
40677                            1753 I1  
40678                            1754 I1  ;       ---------LIMIT-ON  ---------
40679                                 I1  ***** BEGIN-POOL *****
40680 00000EAC 0003                   I1  DATA FOR SOURCE-LINE 1749
40681 00000EAE 0000                   I1  ALIGNMENT CODE
40682 00000EB0 00000000               I1  DATA FOR SOURCE-LINE 1740
40683 00000EB4 00000000               I1  DATA FOR SOURCE-LINE 1747
40684 00000EB8 00000000               I1  DATA FOR SOURCE-LINE 1750
40685                                 I1  ***** END-POOL *****
40686 00000EBC                   1755 I1  TBLACC_STEP_SPMAK_400
40687                            1756 I1  ;;;不要 MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
40688                            1757 I1  ;;不要  MOV.L   @R0,R2                          ;
40689                            1758 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
40690 00000EBC D005                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40691 00000EBE 400B                   M           JSR     @R0                     ;
40692 00000EC0 0009                   M           NOP                                     ;
40693                            1759 I1  
40694                            1760 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1        ;
40695 00000EC2 D105                   M           MOV.L   #_ACC_STEP_FLG,R1               ;
40696 00000EC4 6011                   M           MOV.W   @R1,R0          ;
40697 00000EC6 CB04                   M           OR      #BIT2,R0                ;
40698 00000EC8 2101                   M           MOV.W   R0,@R1          ;
40699                            1761 I1  
40700 00000ECA                   1762 I1  TBLACC_STEP_SPMAK_500
40701 00000ECA D104              1763 I1          MOV.L   #_ACC_STEP_SPD,R1               ;ステップ
40702 00000ECC 2122              1764 I1          MOV.L   R2,@R1                          ;
40703                            1765 I1  
40704                            1766 I1          SUB_END
40705                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40706 00000ECE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40707                            1767 I1          M_RTS
40708 00000ED0 000B                   M           RTS                             ;RTSの後ろの
40709 00000ED2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40710                            1768 I1  
40711                            1769 I1  
40712                            1770 I1  
40713                            1771 I1  ;       *******************************************
40714                            1772 I1  ;       ***                                     ***
40715                            1773 I1  ;       ***     各工程時のインフォメーション    ***
40716                            1774 I1  ;       ***                                     ***
40717                            1775 I1  ;       *******************************************
40718                            1776 I1  ;;      MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40719                            1777 I1  ;;      MOV.W   @R1,R6                          ;
40720                            1778 I1  ;;      MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   621
PROGRAM NAME =

40721                            1779 I1  ;;      MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40722                            1780 I1  ;       MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
40723                            1781 I1  ;       MOV.W   R0,R8                                   ;BIT2=[0=加速/1=減速]
40724                                 I1  ***** BEGIN-POOL *****
40725 00000ED4 00000000               I1  DATA FOR SOURCE-LINE 1758
40726 00000ED8 00000000               I1  DATA FOR SOURCE-LINE 1760
40727 00000EDC 00000000               I1  DATA FOR SOURCE-LINE 1763
40728                                 I1  ***** END-POOL *****
40729 00000EE0                   1782 I1  _ACC_NUMBER_SELTBL1:
40730                            1783 I1          SUB_START
40731 00000EE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
40732                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40733                            1784 I1  
40734 00000EE2 75FF              1785 I1          ADD     #-1,R5                                          ;
40735 00000EE4 4508              1786 I1          SHLL2   R5                                              ;*4byte
40736 00000EE6 D607              1787 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
40737 00000EE8 365C              1788 I1          ADD     R5,R6                                           ;
40738 00000EEA 6062              1789 I1          MOV.L   @R6,R0
40739 00000EEC 401E              1790 I1          LDC     R0,GBR
40740                            1791 I1  
40741 00000EEE C60B              1792 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0  ;
40742 00000EF0 6601              1793 I1          MOV.W   @R0,R6                                  ;
40743 00000EF2 C60C              1794 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
40744 00000EF4 6D03              1795 I1          MOV     R0,R13
40745 00000EF6 C60A              1796 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0  ;
40746 00000EF8 6B03              1797 I1          MOV     R0,R11                                  ;
40747 00000EFA C603              1798 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
40748 00000EFC 6801              1799 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
40749                            1800 I1  
40750                            1801 I1          SUB_END
40751                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40752 00000EFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40753                            1802 I1          M_RTS
40754 00000F00 000B                   M           RTS                             ;RTSの後ろの
40755 00000F02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40756                            1803 I1  
40757                                 I1  ***** BEGIN-POOL *****
40758 00000F04 00000000               I1  DATA FOR SOURCE-LINE 1787
40759                                 I1  ***** END-POOL *****
40760 00000F08                   1804 I1  _ACC_NUMBER_SELTBL2:
40761                            1805 I1          SUB_START
40762 00000F08 4F22                   M           STS.L   PR,@-R15                ;[必要]
40763                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40764                            1806 I1  
40765 00000F0A 75FF              1807 I1          ADD     #-1,R5                                          ;
40766 00000F0C 4508              1808 I1          SHLL2   R5                                              ;*4byte
40767 00000F0E D607              1809 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
40768 00000F10 365C              1810 I1          ADD     R5,R6                                           ;
40769 00000F12 6062              1811 I1          MOV.L   @R6,R0
40770 00000F14 401E              1812 I1          LDC     R0,GBR
40771                            1813 I1  
40772 00000F16 C607              1814 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0  ;
40773 00000F18 6601              1815 I1          MOV.W   @R0,R6                                  ;
40774                            1816 I1  ;;;;;   MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
40775                            1817 I1  ;;;;;   MOV     R0,R13
40776 00000F1A C606              1818 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0  ;
40777 00000F1C 6B03              1819 I1          MOV     R0,R11                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   622
PROGRAM NAME =

40778 00000F1E 6D03              1820 I1          MOV     R0,R13                                  ;
40779 00000F20 C603              1821 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
40780 00000F22 6801              1822 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
40781                            1823 I1  
40782                            1824 I1          SUB_END
40783                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40784 00000F24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40785                            1825 I1          M_RTS
40786 00000F26 000B                   M           RTS                             ;RTSの後ろの
40787 00000F28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40788                            1826 I1  
40789                            1827 I1  
40790                            1828 I1  ;AFM_SRC_TBL_TOP                .DATA.L         _ACC_IN_TBLUSE          ;元ﾃｰﾌﾞﾙADR(2byte)
40791                            1829 I1  ;AFM_SRC_TBL_MEM                .DATA.L         _ACC_IN_TBL_TIM         ;255msec WOD
40792                            1830 I1  ;AFM_STEP_INF_SPD       .DATA.L         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
40793                            1831 I1  ;AFM_STEP_INF_FLG       .DATA.L         _ACC_INF1_STEP001       ;//BIT2=[加速:0/減速:1] BI
                                          T1=[]   BIT0=0(停止) =1(連続)
40794                            1832 I1  ;AFM_OLD_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;(STEP1では使用し
                                          ない)
40795                            1833 I1  ;AFM_DST_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;
40796                            1834 I1  ;AFM_DST_CTLACTM                .DATA.L         _ACC_STEP001_ACTM       ;
40797                            1835 I1  ;AFM_OLD_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
40798                            1836 I1  ;AFM_DST_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
40799                            1837 I1  ;AFM_DST_STPACTM                .DATA.L         _ACC_STOP001_ACTM       ;
40800                            1838 I1  ;AFM_DST_STPPTBL                .DATA.L         _ACC_STOP001_PTBL       ;
40801                            1839 I1  
40802                            1840 I1  ;       *******************************************
40803                            1841 I1  ;       ***                                     ***
40804                            1842 I1  ;       ***             サーチ                  ***
40805                            1843 I1  ;       ***             速度型サーチ            ***
40806                            1844 I1  ;       ***                                     ***
40807                            1845 I1  ;       *******************************************
40808                            1846 I1  ;       テーブルは増加方向である
40809                            1847 I1  ;       サーチは加速方向と減速方向がある。
40810                            1848 I1  ;
40811                            1849 I1  ;       Input 現在速度 R2 ()
40812                            1850 I1  ;             TABEL_TOP_ADR R13
40813                            1851 I1  ;             TABEL個数(加減速時間+1)をもらう R6
40814                            1852 I1  ;               ﾃｰﾌﾞﾙ方向
40815                            1853 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする) 1:減速（小さくなる限界点をサー
                                          チする）
40816                            1854 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
40817                            1855 I1  ;
40818                            1856 I1  ;       MAX 10回:1023まで
40819                            1857 I1  ;       0~15(16個)   4回   5bit
40820                            1858 I1  ;       0~31(32個)   5回   6
40821                            1859 I1  ;       0~63(64個)   6回   7
40822                            1860 I1  ;       0~127(128個) 7回   8
40823                            1861 I1  ;       0~255(256個) 8回   9
40824                            1862 I1  ;       0~511(512個) 9回   10
40825                            1863 I1  ;       0~1023(1024個)10回 11
40826                            1864 I1  ;
40827                            1865 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40828                            1866 I1  ;       MOV.W   @R1,R6                          ;
40829                            1867 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40830                            1868 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40831                            1869 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   623
PROGRAM NAME =

40832                            1870 I1  ;       MOV.L   @R1,R5                          ;
40833                            1871 I1  ;
40834                            1872 I1  ;
40835                            1873 I1  ;
40836                            1874 I1  ;
40837                            1875 I1  ;
40838                                 I1  ***** BEGIN-POOL *****
40839 00000F2A 0000                   I1  ALIGNMENT CODE
40840 00000F2C 00000000               I1  DATA FOR SOURCE-LINE 1809
40841                                 I1  ***** END-POOL *****
40842 00000F30                   1876 I1  _POINT_SERCH_SPD1
40843                            1877 I1          SUB_START
40844 00000F30 4F22                   M           STS.L   PR,@-R15                ;[必要]
40845                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40846                            1878 I1          PUSH_REG1 R2
40847 00000F32 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
40848                                 M                                           ;REG=>[SP]
40849                                 M                                           ;"-4" FF,FF,FF,FC
40850                            1879 I1  
40851 00000F34 D00A              1880 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40852 00000F36 6402              1881 I1          MOV.L   @R0,R4                          ;
40853 00000F38 9110              1882 I1          MOV.W   #_ACC_PER_V_MAX,R1              ;
40854                            1883 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
40855 00000F3A D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40856 00000F3C 400B                   M           JSR     @R0                     ;
40857 00000F3E 0009                   M           NOP                                     ;
40858                            1884 I1  
40859 00000F40 6063              1885 I1          MOV     R6,R0                           ;加減速時間
40860 00000F42 4000              1886 I1          SHLL    R0                              ;2byte
40861 00000F44 01BD              1887 I1          MOV.W   @(R0,R11),R1                    ;(V)
40862 00000F46 3216              1888 I1          CMP/HI  R1,R2                           ;
40863 00000F48 8910              1889 I1          BT      POINT_SERCHSPD1_100             ;最大よりも大きい:範囲外
40864                            1890 I1  
40865 00000F4A 61B1              1891 I1          MOV.W   @R11,R1                         ;(V)MIN
40866 00000F4C 3126              1892 I1          CMP/HI  R2,R1                           ;
40867 00000F4E 890D              1893 I1          BT      POINT_SERCHSPD1_100             ;最小よりも小さい:範囲外
40868                            1894 I1  
40869                            1895 I1          FAR_JSR #_POINT_SERCH_BIG_2B,R0         ;
40870 00000F50 D005                   M           MOV.L   #_POINT_SERCH_BIG_2B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40871 00000F52 400B                   M           JSR     @R0                     ;
40872 00000F54 0009                   M           NOP                                     ;
40873 00000F56 6093              1896 I1          MOV     R9,R0                           ;
40874                            1897 I1          M_BRA   POINT_SERCHSPD1_END             ;
40875 00000F58 A00B                   M           BRA     POINT_SERCHSPD1_END
40876 00000F5A 0009                   M           NOP
40877                            1898 I1  
40878                            1899 I1  
40879                            1900 I1  
40880                                 I1  ***** BEGIN-POOL *****
40881 00000F5C 2710                   I1  DATA FOR SOURCE-LINE 1882
40882 00000F5E 0000                   I1  ALIGNMENT CODE
40883 00000F60 00000000               I1  DATA FOR SOURCE-LINE 1880
40884 00000F64 00000000               I1  DATA FOR SOURCE-LINE 1883
40885 00000F68 00000000               I1  DATA FOR SOURCE-LINE 1895
40886                                 I1  ***** END-POOL *****
40887 00000F6C                   1901 I1  POINT_SERCHSPD1_100:                            ;
40888 00000F6C 200A              1902 I1          XOR     R0,R0                           ;範囲外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   624
PROGRAM NAME =

40889                            1903 I1          M_BRA   POINT_SERCHSPD1_END             ;
40890 00000F6E A000                   M           BRA     POINT_SERCHSPD1_END
40891 00000F70 0009                   M           NOP
40892                            1904 I1  
40893 00000F72                   1905 I1  POINT_SERCHSPD1_END:                            ;
40894                            1906 I1  
40895                            1907 I1          POP_REG1 R2
40896                                 M                                   ; RE"+4" 00,00,00,04
40897 00000F72 62F6                   M           MOV.L   @R15+,R2        ;
40898                            1908 I1          SUB_END
40899                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40900 00000F74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40901                            1909 I1          M_RTS
40902 00000F76 000B                   M           RTS                             ;RTSの後ろの
40903 00000F78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40904                            1910 I1  
40905                            1911 I1  
40906                            1912 I1  ;input R0
40907 00000F7A                   1913 I1  _POINT_GET_SPD1
40908                            1914 I1          SUB_START
40909 00000F7A 4F22                   M           STS.L   PR,@-R15                ;[必要]
40910                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40911 00000F7C 4000              1915 I1          SHLL    R0                              ;2byte
40912 00000F7E 02BD              1916 I1          MOV.W   @(R0,R11),R2                    ;
40913 00000F80 D004              1917 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40914 00000F82 6102              1918 I1          MOV.L   @R0,R1                          ;
40915 00000F84 9405              1919 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
40916                            1920 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;ANS R2
40917 00000F86 D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40918 00000F88 400B                   M           JSR     @R0                     ;
40919 00000F8A 0009                   M           NOP                                     ;
40920                            1921 I1          SUB_END
40921                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40922 00000F8C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40923                            1922 I1          M_RTS
40924 00000F8E 000B                   M           RTS                             ;RTSの後ろの
40925 00000F90 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40926                            1923 I1  
40927                            1924 I1  
40928                            1925 I1  
40929                            1926 I1  
40930                            1927 I1  
40931                            1928 I1  
40932                            1929 I1  ;       *******************************************
40933                            1930 I1  ;       ***                                     ***
40934                            1931 I1  ;       ***             サーチ                  ***
40935                            1932 I1  ;       ***             位置型サーチ            ***
40936                            1933 I1  ;       ***                                     ***
40937                            1934 I1  ;       *******************************************
40938                            1935 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40939                            1936 I1  ;       MOV.W   @R1,R6                          ;
40940                            1937 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40941                            1938 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40942                            1939 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40943                            1940 I1  ;       MOV.L   @R1,R5                          ;
40944                            1941 I1  ;
40945                            1942 I1  ;       [減速位置のため]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   625
PROGRAM NAME =

40946                            1943 I1  ;
40947                                 I1  ***** BEGIN-POOL *****
40948 00000F92 2710                   I1  DATA FOR SOURCE-LINE 1919
40949 00000F94 00000000               I1  DATA FOR SOURCE-LINE 1917
40950 00000F98 00000000               I1  DATA FOR SOURCE-LINE 1920
40951                                 I1  ***** END-POOL *****
40952 00000F9C                   1944 I1  _POINT_SERCH_PLS1
40953                            1945 I1          SUB_START
40954 00000F9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
40955                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40956                            1946 I1  
40957 00000F9E D40E              1947 I1          MOV.L   #_ACC_REST_FLG,R4               ;
40958 00000FA0 6041              1948 I1          MOV.W   @R4,R0                          ;
40959 00000FA2 2008              1949 I1          TST     R0,R0                           ;
40960                            1950 I1          TST_BIT_OF POINT_SERCHPLS1_100          ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
40961 00000FA4 8920                   M           BT      POINT_SERCHPLS1_100
40962                            1951 I1  
40963 00000FA6 6063              1952 I1          MOV     R6,R0                           ;加減速時間
40964 00000FA8 4008              1953 I1          SHLL2   R0                              ;4byte
40965 00000FAA 01DE              1954 I1          MOV.L   @(R0,R13),R1                    ;(P)
40966 00000FAC 3216              1955 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
40967 00000FAE 891B              1956 I1          BT      POINT_SERCHPLS1_100             ;
40968                            1957 I1  
40969                            1958 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
40970 00000FB0 D00A                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40971 00000FB2 400B                   M           JSR     @R0                     ;
40972 00000FB4 0009                   M           NOP                                     ;
40973                            1959 I1  ;;;;不要        ADD     #-1,R9                          ;
40974 00000FB6 4915              1960 I1          CMP/PL  R9                              ;
40975 00000FB8 8900              1961 I1          BT      POINT_SERCHPLS1_050             ;
40976 00000FBA 990A              1962 I1          MOV.W   #1,R9                           ;
40977 00000FBC                   1963 I1  POINT_SERCHPLS1_050:
40978 00000FBC 6093              1964 I1          MOV     R9,R0                           ;
40979 00000FBE 4000              1965 I1          SHLL    R0                              ;2byte
40980 00000FC0 01BD              1966 I1          MOV.W   @(R0,R11),R1                    ;(V)SPEED
40981 00000FC2 D007              1967 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40982 00000FC4 6202              1968 I1          MOV.L   @R0,R2                          ;
40983 00000FC6 9405              1969 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
40984                            1970 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
40985 00000FC8 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40986 00000FCA 400B                   M           JSR     @R0                     ;
40987 00000FCC 0009                   M           NOP                                     ;
40988                            1971 I1          M_BRA   POINT_SERCHPLS1_200             ;PLS/sec
40989 00000FCE A00F                   M           BRA     POINT_SERCHPLS1_200
40990 00000FD0 0009                   M           NOP
40991                            1972 I1  
40992                                 I1  ***** BEGIN-POOL *****
40993 00000FD2 0001                   I1  DATA FOR SOURCE-LINE 1962
40994 00000FD4 2710                   I1  DATA FOR SOURCE-LINE 1969
40995 00000FD6 0000                   I1  ALIGNMENT CODE
40996 00000FD8 00000000               I1  DATA FOR SOURCE-LINE 1947
40997 00000FDC 00000000               I1  DATA FOR SOURCE-LINE 1958
40998 00000FE0 00000000               I1  DATA FOR SOURCE-LINE 1967
40999 00000FE4 00000000               I1  DATA FOR SOURCE-LINE 1970
41000                                 I1  ***** END-POOL *****
41001 00000FE8                   1973 I1  POINT_SERCHPLS1_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   626
PROGRAM NAME =

41002 00000FE8 6253              1974 I1          MOV     R5,R2
41003 00000FEA 200A              1975 I1          XOR     R0,R0
41004                            1976 I1          M_BRA   POINT_SERCHPLS1_END             ;
41005 00000FEC A001                   M           BRA     POINT_SERCHPLS1_END
41006 00000FEE 0009                   M           NOP
41007 00000FF0                   1977 I1  POINT_SERCHPLS1_200:                            ;
41008 00000FF0 6093              1978 I1          MOV     R9,R0                           ;POINTER(0以外)
41009 00000FF2                   1979 I1  POINT_SERCHPLS1_END:
41010                            1980 I1  
41011                            1981 I1          SUB_END
41012                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41013 00000FF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41014                            1982 I1          M_RTS
41015 00000FF4 000B                   M           RTS                             ;RTSの後ろの
41016 00000FF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41017                            1983 I1  
41018                            1984 I1  
41019                            1985 I1  
41020                            1986 I1  ;       *******************************************
41021                            1987 I1  ;       ***                                     ***
41022                            1988 I1  ;       ***             サーチ                  ***
41023                            1989 I1  ;       ***             位置型サーチ            ***
41024                            1990 I1  ;       ***                                     ***
41025                            1991 I1  ;       *******************************************
41026                            1992 I1  ;R5
41027 00000FF8                   1993 I1  _POINT_SERCH_PLS_HOKAN1
41028                            1994 I1          SUB_START
41029 00000FF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
41030                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41031                            1995 I1          PUSH_REG1 R6
41032 00000FFA 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
41033                                 M                                           ;REG=>[SP]
41034                                 M                                           ;"-4" FF,FF,FF,FC
41035                            1996 I1          PUSH_REG1 R7
41036 00000FFC 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
41037                                 M                                           ;REG=>[SP]
41038                                 M                                           ;"-4" FF,FF,FF,FC
41039                            1997 I1          PUSH_REG1 R8
41040 00000FFE 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
41041                                 M                                           ;REG=>[SP]
41042                                 M                                           ;"-4" FF,FF,FF,FC
41043                            1998 I1  
41044 00001000 D416              1999 I1          MOV.L   #_ACC_REST_FLG,R4               ;
41045 00001002 6041              2000 I1          MOV.W   @R4,R0                          ;
41046 00001004 2008              2001 I1          TST     R0,R0                           ;
41047                            2002 I1          TST_BIT_OF POINT_SERCHPLS_HKN1_400      ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
41048 00001006 8933                   M           BT      POINT_SERCHPLS_HKN1_400
41049                            2003 I1  ;-----ｵｰﾊﾞﾌﾛｰはしない-----
41050 00001008 6063              2004 I1          MOV     R6,R0                           ;加減速時間
41051 0000100A 4008              2005 I1          SHLL2   R0                              ;4byte
41052 0000100C 01DE              2006 I1          MOV.L   @(R0,R13),R1                    ;(P)
41053 0000100E 3216              2007 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
41054 00001010 892E              2008 I1          BT      POINT_SERCHPLS_HKN1_400         ;
41055                            2009 I1  
41056                            2010 I1          PUSH_REG1 R2                            ;残り距離ﾊﾟﾙｽ
41057 00001012 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   627
PROGRAM NAME =

41058                                 M                                           ;REG=>[SP]
41059                                 M                                           ;"-4" FF,FF,FF,FC
41060                            2011 I1  
41061                            2012 I1  
41062                            2013 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
41063 00001014 D012                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41064 00001016 400B                   M           JSR     @R0                     ;
41065 00001018 0009                   M           NOP                                     ;
41066 0000101A 6893              2014 I1          MOV     R9,R8                           ;
41067                            2015 I1  
41068 0000101C 4915              2016 I1          CMP/PL  R9                              ;
41069 0000101E 8900              2017 I1          BT      POINT_SERCHPLS_HKN1_050         ;
41070 00001020 991A              2018 I1          MOV.W   #1,R9                           ;
41071 00001022                   2019 I1  POINT_SERCHPLS_HKN1_050:                        ;
41072 00001022 6093              2020 I1          MOV     R9,R0                           ;
41073 00001024 4000              2021 I1          SHLL    R0                              ;2byte
41074 00001026 03BD              2022 I1          MOV.W   @(R0,R11),R3                    ;(Yn_1)SPEED
41075 00001028 4000              2023 I1          SHLL    R0
41076 0000102A 05DE              2024 I1          MOV.L   @(R0,R13),R5                    ;(Xn_1)POS
41077                            2025 I1  
41078 0000102C 7801              2026 I1          ADD     #1,R8                           ;
41079 0000102E 3682              2027 I1          CMP/HS  R8,R6                           ;
41080 00001030 8900              2028 I1          BT      POINT_SERCHPLS_HKN1_100         ;
41081 00001032 6863              2029 I1          MOV     R6,R8                           ;加減速時間
41082 00001034                   2030 I1  POINT_SERCHPLS_HKN1_100:                        ;
41083 00001034 6083              2031 I1          MOV     R8,R0                           ;
41084 00001036 4000              2032 I1          SHLL    R0                              ;2byte
41085 00001038 02BD              2033 I1          MOV.W   @(R0,R11),R2                    ;(Yn)SPEED
41086 0000103A 4000              2034 I1          SHLL    R0
41087 0000103C 04DE              2035 I1          MOV.L   @(R0,R13),R4                    ;(Xn_1)POS
41088                            2036 I1  
41089                            2037 I1          POP_REG1 R1                             ;残り距離ﾊﾟﾙｽ
41090                                 M                                   ; RE"+4" 00,00,00,04
41091 0000103E 61F6                   M           MOV.L   @R15+,R1        ;
41092 00001040 6623              2038 I1          MOV     R2,R6                           ;
41093                            2039 I1  
41094                            2040 I1  ;       R3:Yn_1         R5:Xn_1
41095                            2041 I1  ;       R2:Yn           R4:Xn
41096                            2042 I1  ;       ANS:R2=y        R1:x
41097                            2043 I1  ;       limit R6(Yn)
41098                            2044 I1  
41099                            2045 I1          FAR_JSR #_FPU_POS_HOKAN1,R0             ;V%=算出 R2
41100 00001042 D008                   M           MOV.L   #_FPU_POS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41101 00001044 400B                   M           JSR     @R0                     ;
41102 00001046 0009                   M           NOP                                     ;
41103                            2046 I1  
41104 00001048 D007              2047 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41105 0000104A 6102              2048 I1          MOV.L   @R0,R1                          ;
41106 0000104C 9405              2049 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
41107                            2050 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
41108 0000104E D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41109 00001050 400B                   M           JSR     @R0                     ;
41110 00001052 0009                   M           NOP                                     ;
41111                            2051 I1          M_BRA   POINT_SERCHPLS_HKN1_500         ;PLS/sec
41112 00001054 A010                   M           BRA     POINT_SERCHPLS_HKN1_500
41113 00001056 0009                   M           NOP
41114                            2052 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   628
PROGRAM NAME =

41115                                 I1  ***** BEGIN-POOL *****
41116 00001058 0001                   I1  DATA FOR SOURCE-LINE 2018
41117 0000105A 2710                   I1  DATA FOR SOURCE-LINE 2049
41118 0000105C 00000000               I1  DATA FOR SOURCE-LINE 1999
41119 00001060 00000000               I1  DATA FOR SOURCE-LINE 2013
41120 00001064 00000000               I1  DATA FOR SOURCE-LINE 2045
41121 00001068 00000000               I1  DATA FOR SOURCE-LINE 2047
41122 0000106C 00000000               I1  DATA FOR SOURCE-LINE 2050
41123                                 I1  ***** END-POOL *****
41124 00001070                   2053 I1  POINT_SERCHPLS_HKN1_400:
41125 00001070 6253              2054 I1          MOV     R5,R2
41126 00001072 200A              2055 I1          XOR     R0,R0
41127                            2056 I1          M_BRA   POINT_SERCHPLS_HKN1_END         ;
41128 00001074 A001                   M           BRA     POINT_SERCHPLS_HKN1_END
41129 00001076 0009                   M           NOP
41130                            2057 I1  
41131 00001078                   2058 I1  POINT_SERCHPLS_HKN1_500:                        ;
41132 00001078 6093              2059 I1          MOV     R9,R0                           ;POINTER(0以外)
41133 0000107A                   2060 I1  POINT_SERCHPLS_HKN1_END:
41134                            2061 I1  
41135                            2062 I1  
41136                            2063 I1          POP_REG1 R8
41137                                 M                                   ; RE"+4" 00,00,00,04
41138 0000107A 68F6                   M           MOV.L   @R15+,R8        ;
41139                            2064 I1          POP_REG1 R7
41140                                 M                                   ; RE"+4" 00,00,00,04
41141 0000107C 67F6                   M           MOV.L   @R15+,R7        ;
41142                            2065 I1          POP_REG1 R6
41143                                 M                                   ; RE"+4" 00,00,00,04
41144 0000107E 66F6                   M           MOV.L   @R15+,R6        ;
41145                            2066 I1  
41146                            2067 I1          SUB_END
41147                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41148 00001080 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41149                            2068 I1          M_RTS
41150 00001082 000B                   M           RTS                             ;RTSの後ろの
41151 00001084 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41152                            2069 I1  
41153                            2070 I1  
41154                            2071 I1  
41155                            2072 I1  
41156                            2073 I1  
41157                            2074 I1  ;       *******************************************
41158                            2075 I1  ;       ***                                     ***
41159                            2076 I1  ;       ***             サーチ                  ***
41160                            2077 I1  ;       ***                                     ***
41161                            2078 I1  ;       *******************************************
41162                            2079 I1  ;       テーブルは増加方向である
41163                            2080 I1  ;       サーチは加速方向で行う
41164                            2081 I1  ;
41165                            2082 I1  ;       Input 現在速度 R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
41166                            2083 I1  ;                                加速時はnをそのまま使用する
41167                            2084 I1  ;                                減速時はn-1を使用
41168                            2085 I1  ;             TABEL_TOP_ADR R13
41169                            2086 I1  ;             TABEL個数-1(加減速時間)をもらう R6
41170                            2087 I1  ;               ﾃｰﾌﾞﾙ方向
41171                            2088 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   629
PROGRAM NAME =

41172                            2089 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
41173                            2090 I1  ;
41174                            2091 I1  ;       MAX 10回:1023まで
41175                            2092 I1  ;       0~15(16個)   4回   5bit
41176                            2093 I1  ;       0~31(32個)   5回   6
41177                            2094 I1  ;       0~63(64個)   6回   7
41178                            2095 I1  ;       0~127(128個) 7回   8
41179                            2096 I1  ;       0~255(256個) 8回   9
41180                            2097 I1  ;       0~511(512個) 9回   10
41181                            2098 I1  ;       0~1023(1024個)10回 11
41182                            2099 I1  
41183                            2100 I1  ;       *******************************************
41184                            2101 I1  ;       ***                                     ***
41185                            2102 I1  ;       ***     2byte ｻｰﾁ                       ***
41186                            2103 I1  ;       ***                                     ***
41187                            2104 I1  ;       *******************************************
41188                            2105 I1  ;       ANS R9
41189                            2106 I1  ;
41190 00001086                   2107 I1  _POINT_SERCH_BIG_2B
41191                            2108 I1          SUB_START
41192 00001086 4F22                   M           STS.L   PR,@-R15                ;[必要]
41193                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41194                            2109 I1          PUSH_REG1 R6
41195 00001088 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
41196                                 M                                           ;REG=>[SP]
41197                                 M                                           ;"-4" FF,FF,FF,FC
41198                            2110 I1          PUSH_REG1 R7
41199 0000108A 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
41200                                 M                                           ;REG=>[SP]
41201                                 M                                           ;"-4" FF,FF,FF,FC
41202                            2111 I1          PUSH_REG1 R8
41203 0000108C 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
41204                                 M                                           ;REG=>[SP]
41205                                 M                                           ;"-4" FF,FF,FF,FC
41206                            2112 I1          PUSH_REG1 R10
41207 0000108E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
41208                                 M                                           ;REG=>[SP]
41209                                 M                                           ;"-4" FF,FF,FF,FC
41210                            2113 I1          PUSH_REG1 R11
41211 00001090 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
41212                                 M                                           ;REG=>[SP]
41213                                 M                                           ;"-4" FF,FF,FF,FC
41214                            2114 I1          PUSH_REG1 R12
41215 00001092 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
41216                                 M                                           ;REG=>[SP]
41217                                 M                                           ;"-4" FF,FF,FF,FC
41218                            2115 I1          PUSH_REG1 R13
41219 00001094 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
41220                                 M                                           ;REG=>[SP]
41221                                 M                                           ;"-4" FF,FF,FF,FC
41222                            2116 I1          PUSH_REG1 R14
41223 00001096 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
41224                                 M                                           ;REG=>[SP]
41225                                 M                                           ;"-4" FF,FF,FF,FC
41226                            2117 I1  
41227 00001098 6763              2118 I1          MOV     R6,R7                           ;カウンタ個数
41228                            2119 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   630
PROGRAM NAME =

41229 0000109A 288A              2120 I1          XOR     R8,R8                           ;min
41230 0000109C 6A73              2121 I1          MOV     R7,R10                          ;max
41231 0000109E 4701              2122 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
41232 000010A0 6973              2123 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
41233                            2124 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
41234                            2125 I1  
41235 000010A2 277A              2126 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
41236                            2127 I1  
41237 000010A4 6B83              2128 I1          MOV     R8,R11                          ;MIN
41238 000010A6 6CA3              2129 I1          MOV     R10,R12                         ;MAX
41239                            2130 I1  
41240                            2131 I1  
41241 000010A8                   2132 I1  PINT_SERCH_BIG2B_200LOP
41242                            2133 I1  
41243                            2134 I1  ;======= 2byte/4byteの相違部分=====
41244 000010A8 6093              2135 I1          MOV     R9,R0                           ;ANS R9
41245 000010AA 4000              2136 I1          SHLL    R0                              ;2byte
41246 000010AC 01DD              2137 I1          MOV.W   @(R0,R13),R1                    ;2byte SV
41247                            2138 I1  
41248 000010AE 3210              2139 I1          CMP/EQ  R1,R2                           ;
41249 000010B0 8914              2140 I1          BT      PINT_SERCH_BIG2B_800            ;ﾋﾟｯﾀﾘ賞
41250 000010B2 3212              2141 I1          CMP/HS  R1,R2                           ;SV=<PV
41251 000010B4 8904              2142 I1          BT      PINT_SERCH_BIG2B_300            ;YES:大きい
41252                            2143 I1  
41253                            2144 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
41254 000010B6 6A93              2145 I1          MOV     R9,R10                          ;
41255 000010B8 398C              2146 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
41256 000010BA 4901              2147 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41257                            2148 I1          M_BRA   PINT_SERCH_BIG2B_500            ;
41258 000010BC A003                   M           BRA     PINT_SERCH_BIG2B_500
41259 000010BE 0009                   M           NOP
41260                            2149 I1  
41261                            2150 I1  
41262                            2151 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
41263 000010C0                   2152 I1  PINT_SERCH_BIG2B_300
41264 000010C0 6893              2153 I1          MOV     R9,R8                           ;
41265 000010C2 39AC              2154 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
41266 000010C4 4901              2155 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41267                            2156 I1  
41268 000010C6                   2157 I1  PINT_SERCH_BIG2B_500
41269 000010C6 7701              2158 I1          ADD     #1,R7                           ;デバック
41270                            2159 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
41271 000010C8 3B80              2160 I1          CMP/EQ  R8,R11                          ;
41272 000010CA 8B03              2161 I1          BF      PINT_SERCH_BIG2B_600            ;MIN=OLD-MIN NO
41273 000010CC 3CA0              2162 I1          CMP/EQ  R10,R12                         ;
41274 000010CE 8B01              2163 I1          BF      PINT_SERCH_BIG2B_600            ;MAX=OLD-MAX NO
41275                            2164 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
41276 000010D0 A038                   M           BRA     PINT_SERCH_BIG4B_900
41277 000010D2 0009                   M           NOP
41278                            2165 I1  
41279                            2166 I1  
41280 000010D4                   2167 I1  PINT_SERCH_BIG2B_600
41281 000010D4 6B83              2168 I1          MOV     R8,R11                          ;
41282 000010D6 6CA3              2169 I1          MOV     R10,R12                         ;
41283                            2170 I1          M_BRA   PINT_SERCH_BIG2B_200LOP         ;
41284 000010D8 AFE6                   M           BRA     PINT_SERCH_BIG2B_200LOP
41285 000010DA 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   631
PROGRAM NAME =

41286                            2171 I1  
41287                            2172 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
41288 000010DC                   2173 I1  PINT_SERCH_BIG2B_800
41289                            2174 I1  ;       ----------- R9:ANS--------------
41290 000010DC                   2175 I1  PINT_SERCH_BIG2B_900
41291                            2176 I1  
41292                            2177 I1          POP_REG1 R14
41293                                 M                                   ; RE"+4" 00,00,00,04
41294 000010DC 6EF6                   M           MOV.L   @R15+,R14        ;
41295                            2178 I1          POP_REG1 R13
41296                                 M                                   ; RE"+4" 00,00,00,04
41297 000010DE 6DF6                   M           MOV.L   @R15+,R13        ;
41298                            2179 I1          POP_REG1 R12
41299                                 M                                   ; RE"+4" 00,00,00,04
41300 000010E0 6CF6                   M           MOV.L   @R15+,R12        ;
41301                            2180 I1          POP_REG1 R11
41302                                 M                                   ; RE"+4" 00,00,00,04
41303 000010E2 6BF6                   M           MOV.L   @R15+,R11        ;
41304                            2181 I1          POP_REG1 R10
41305                                 M                                   ; RE"+4" 00,00,00,04
41306 000010E4 6AF6                   M           MOV.L   @R15+,R10        ;
41307                            2182 I1          POP_REG1 R8
41308                                 M                                   ; RE"+4" 00,00,00,04
41309 000010E6 68F6                   M           MOV.L   @R15+,R8        ;
41310                            2183 I1          POP_REG1 R7
41311                                 M                                   ; RE"+4" 00,00,00,04
41312 000010E8 67F6                   M           MOV.L   @R15+,R7        ;
41313                            2184 I1          POP_REG1 R6
41314                                 M                                   ; RE"+4" 00,00,00,04
41315 000010EA 66F6                   M           MOV.L   @R15+,R6        ;
41316                            2185 I1          SUB_END
41317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41318 000010EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41319                            2186 I1          M_RTS
41320 000010EE 000B                   M           RTS                             ;RTSの後ろの
41321 000010F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41322                            2187 I1  
41323                            2188 I1  
41324                            2189 I1  
41325                            2190 I1  ;       *******************************************
41326                            2191 I1  ;       ***                                     ***
41327                            2192 I1  ;       ***     4byte ｻｰﾁ                       ***
41328                            2193 I1  ;       ***                                     ***
41329                            2194 I1  ;       *******************************************
41330                            2195 I1  ;       Input 現在ﾊﾟﾙｽ R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
41331                            2196 I1  ;                                減速時はn-1を使用する
41332                            2197 I1  ;       Input TABEL_TOP_ADR R13
41333                            2198 I1  ;       Input TABEL個数-1(加減速時間)をもらう R6
41334                            2199 I1  ;
41335                            2200 I1  ;       ANS R9 TABLE NO.
41336                            2201 I1  ;
41337 000010F2                   2202 I1  _POINT_SERCH_BIG_4B
41338                            2203 I1          SUB_START
41339 000010F2 4F22                   M           STS.L   PR,@-R15                ;[必要]
41340                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41341                            2204 I1          PUSH_REG1 R6
41342 000010F4 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   632
PROGRAM NAME =

41343                                 M                                           ;REG=>[SP]
41344                                 M                                           ;"-4" FF,FF,FF,FC
41345                            2205 I1          PUSH_REG1 R7
41346 000010F6 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
41347                                 M                                           ;REG=>[SP]
41348                                 M                                           ;"-4" FF,FF,FF,FC
41349                            2206 I1          PUSH_REG1 R8
41350 000010F8 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
41351                                 M                                           ;REG=>[SP]
41352                                 M                                           ;"-4" FF,FF,FF,FC
41353                            2207 I1          PUSH_REG1 R10
41354 000010FA 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
41355                                 M                                           ;REG=>[SP]
41356                                 M                                           ;"-4" FF,FF,FF,FC
41357                            2208 I1          PUSH_REG1 R11
41358 000010FC 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
41359                                 M                                           ;REG=>[SP]
41360                                 M                                           ;"-4" FF,FF,FF,FC
41361                            2209 I1          PUSH_REG1 R12
41362 000010FE 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
41363                                 M                                           ;REG=>[SP]
41364                                 M                                           ;"-4" FF,FF,FF,FC
41365                            2210 I1          PUSH_REG1 R13
41366 00001100 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
41367                                 M                                           ;REG=>[SP]
41368                                 M                                           ;"-4" FF,FF,FF,FC
41369                            2211 I1          PUSH_REG1 R14
41370 00001102 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
41371                                 M                                           ;REG=>[SP]
41372                                 M                                           ;"-4" FF,FF,FF,FC
41373                            2212 I1  
41374 00001104 6763              2213 I1          MOV     R6,R7                           ;カウンタ個数
41375                            2214 I1  
41376 00001106 288A              2215 I1          XOR     R8,R8                           ;min
41377 00001108 6A73              2216 I1          MOV     R7,R10                          ;max
41378 0000110A 4701              2217 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
41379 0000110C 6973              2218 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
41380                            2219 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
41381 0000110E 277A              2220 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
41382                            2221 I1  
41383 00001110                   2222 I1  PINT_SERCH_BIG4B_200LOP
41384                            2223 I1  
41385                            2224 I1  ;======= 2byte/4byteの相違部分=====
41386 00001110 6093              2225 I1          MOV     R9,R0                           ;ANS R9
41387 00001112 4008              2226 I1          SHLL2   R0                              ;4byte
41388 00001114 01DE              2227 I1          MOV.L   @(R0,R13),R1                    ;4byte SV
41389                            2228 I1  
41390 00001116 3210              2229 I1          CMP/EQ  R1,R2                           ;
41391 00001118 8914              2230 I1          BT      PINT_SERCH_BIG4B_800            ;ﾋﾟｯﾀﾘ賞
41392 0000111A 3212              2231 I1          CMP/HS  R1,R2                           ;SV=<PV
41393 0000111C 8904              2232 I1          BT      PINT_SERCH_BIG4B_300            ;YES:大きい
41394                            2233 I1  
41395                            2234 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
41396 0000111E 6A93              2235 I1          MOV     R9,R10                          ;
41397 00001120 398C              2236 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
41398 00001122 4901              2237 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41399                            2238 I1          M_BRA   PINT_SERCH_BIG4B_500            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   633
PROGRAM NAME =

41400 00001124 A003                   M           BRA     PINT_SERCH_BIG4B_500
41401 00001126 0009                   M           NOP
41402                            2239 I1  
41403                            2240 I1  
41404                            2241 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
41405 00001128                   2242 I1  PINT_SERCH_BIG4B_300
41406 00001128 6893              2243 I1          MOV     R9,R8                           ;
41407 0000112A 39AC              2244 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
41408 0000112C 4901              2245 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41409                            2246 I1  
41410 0000112E                   2247 I1  PINT_SERCH_BIG4B_500
41411 0000112E 7701              2248 I1          ADD     #1,R7                           ;デバック
41412                            2249 I1  
41413                            2250 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
41414 00001130 3B80              2251 I1          CMP/EQ  R8,R11                          ;
41415 00001132 8B03              2252 I1          BF      PINT_SERCH_BIG4B_600            ;MIN=OLD-MIN NO
41416 00001134 3CA0              2253 I1          CMP/EQ  R10,R12                         ;
41417 00001136 8B01              2254 I1          BF      PINT_SERCH_BIG4B_600            ;MAX=OLD-MAX NO
41418                            2255 I1  
41419                            2256 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
41420 00001138 A004                   M           BRA     PINT_SERCH_BIG4B_900
41421 0000113A 0009                   M           NOP
41422                            2257 I1  
41423 0000113C                   2258 I1  PINT_SERCH_BIG4B_600
41424 0000113C 6B83              2259 I1          MOV     R8,R11                          ;
41425 0000113E 6CA3              2260 I1          MOV     R10,R12                         ;
41426                            2261 I1          M_BRA   PINT_SERCH_BIG4B_200LOP         ;
41427 00001140 AFE6                   M           BRA     PINT_SERCH_BIG4B_200LOP
41428 00001142 0009                   M           NOP
41429                            2262 I1  
41430                            2263 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
41431 00001144                   2264 I1  PINT_SERCH_BIG4B_800
41432                            2265 I1  ;       ----------- R9:ANS--------------
41433 00001144                   2266 I1  PINT_SERCH_BIG4B_900
41434                            2267 I1  
41435                            2268 I1          POP_REG1 R14
41436                                 M                                   ; RE"+4" 00,00,00,04
41437 00001144 6EF6                   M           MOV.L   @R15+,R14        ;
41438                            2269 I1          POP_REG1 R13
41439                                 M                                   ; RE"+4" 00,00,00,04
41440 00001146 6DF6                   M           MOV.L   @R15+,R13        ;
41441                            2270 I1          POP_REG1 R12
41442                                 M                                   ; RE"+4" 00,00,00,04
41443 00001148 6CF6                   M           MOV.L   @R15+,R12        ;
41444                            2271 I1          POP_REG1 R11
41445                                 M                                   ; RE"+4" 00,00,00,04
41446 0000114A 6BF6                   M           MOV.L   @R15+,R11        ;
41447                            2272 I1          POP_REG1 R10
41448                                 M                                   ; RE"+4" 00,00,00,04
41449 0000114C 6AF6                   M           MOV.L   @R15+,R10        ;
41450                            2273 I1          POP_REG1 R8
41451                                 M                                   ; RE"+4" 00,00,00,04
41452 0000114E 68F6                   M           MOV.L   @R15+,R8        ;
41453                            2274 I1          POP_REG1 R7
41454                                 M                                   ; RE"+4" 00,00,00,04
41455 00001150 67F6                   M           MOV.L   @R15+,R7        ;
41456                            2275 I1          POP_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   634
PROGRAM NAME =

41457                                 M                                   ; RE"+4" 00,00,00,04
41458 00001152 66F6                   M           MOV.L   @R15+,R6        ;
41459                            2276 I1          SUB_END
41460                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41461 00001154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41462                            2277 I1          M_RTS
41463 00001156 000B                   M           RTS                             ;RTSの後ろの
41464 00001158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41465                            2278 I1  
41466                            2279 I1  
41467                            2280 I1  
41468                            2281 I1  
41469                            2282 I1  ;       ***************************************************
41470                            2283 I1  ;       ***                                             ***
41471                            2284 I1  ;       ***                                             ***
41472                            2285 I1  ;       ***             直線加速・減速                  ***
41473                            2286 I1  ;       ***                                             ***
41474                            2287 I1  ;       ***                                             ***
41475                            2288 I1  ;       ***                                             ***
41476                            2289 I1  ;       ***************************************************
41477                            2290 I1  ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
41478                            2291 I1  ;       ANS R2
41479 0000115A                   2292 I1  _TBLACC_ACC_ADDCHK:
41480                            2293 I1          SUB_START
41481 0000115A 4F22                   M           STS.L   PR,@-R15                ;[必要]
41482                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41483                            2294 I1  
41484                            2295 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT5,WKREG=R1       ;
41485 0000115C D10A                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
41486 0000115E 6011                   M           MOV.W   @R1,R0          ;
41487 00001160 CB20                   M           OR      #BIT5,R0                ;
41488 00001162 2101                   M           MOV.W   R0,@R1          ;
41489                            2296 I1  
41490                            2297 I1  
41491                            2298 I1  
41492 00001164 200A              2299 I1          XOR     R0,R0                                           ;変化してない　R0=0
41493                            2300 I1  
41494 00001166 D109              2301 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                         ;･････
41495 00001168 6312              2302 I1          MOV.L   @R1,R3                                          ;
41496 0000116A D509              2303 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R5                         ;
41497 0000116C 6252              2304 I1          MOV.L   @R5,R2                                          ;
41498 0000116E 3320              2305 I1          CMP/EQ  R2,R3                                           ;
41499 00001170 8919              2306 I1          BT      TBLACC_ACC_ADD_END                              ;SV=REAL
41500 00001172 3323              2307 I1          CMP/GE  R2,R3                                           ;R2<R3
41501 00001174 8B10              2308 I1          BF      TBLACC_ACC_ADD_200                                      ;NO 減速しろ
41502                            2309 I1  ;       ---加速しろ----
41503 00001176 D407              2310 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R4                              ;500,000/1000
41504 00001178 6142              2311 I1          MOV.L   @R4,R1                                                  ;
41505 0000117A 321C              2312 I1          ADD     R1,R2                                                   ;
41506 0000117C 3327              2313 I1          CMP/GT  R2,R3                                                   ;
41507 0000117E 8911              2314 I1          BT      TBLACC_ACC_ADD_300                                      ;R2<R3(SV) THEN そ
                                          のまま加速
41508 00001180 6233              2315 I1          MOV     R3,R2                                                   ;SV→REAL
41509                            2316 I1          M_BRA   TBLACC_ACC_ADD_300                                      ;
41510 00001182 A00F                   M           BRA     TBLACC_ACC_ADD_300
41511 00001184 0009                   M           NOP
41512                            2317 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   635
PROGRAM NAME =

41513                                 I1  ***** BEGIN-POOL *****
41514 00001186 0000                   I1  ALIGNMENT CODE
41515 00001188 00000000               I1  DATA FOR SOURCE-LINE 2295
41516 0000118C 00000000               I1  DATA FOR SOURCE-LINE 2301
41517 00001190 00000000               I1  DATA FOR SOURCE-LINE 2303
41518 00001194 00000000               I1  DATA FOR SOURCE-LINE 2310
41519                                 I1  ***** END-POOL *****
41520 00001198                   2318 I1  TBLACC_ACC_ADD_200:
41521                            2319 I1  ;       ---減速しろ---
41522 00001198 D404              2320 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R4                              ;500,000/1000
41523 0000119A 6142              2321 I1          MOV.L   @R4,R1                                                  ;
41524 0000119C 3218              2322 I1          SUB     R1,R2                                                   ;
41525 0000119E 3237              2323 I1          CMP/GT  R3,R2                                                   ;
41526 000011A0 8900              2324 I1          BT      TBLACC_ACC_ADD_300                                      ;R3<R2
41527 000011A2 6233              2325 I1          MOV     R3,R2                                                   ;
41528 000011A4                   2326 I1  TBLACC_ACC_ADD_300:                                                     ;
41529 000011A4 E001              2327 I1          MOV     #1,R0                                                   ;変化した R0=1
41530 000011A6                   2328 I1  TBLACC_ACC_ADD_END:
41531                            2329 I1          SUB_END
41532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41533 000011A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41534                            2330 I1          M_RTS
41535 000011A8 000B                   M           RTS                             ;RTSの後ろの
41536 000011AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41537                            2331 I1  
41538                            2332 I1  
41539                            2333 I1  
41540                            2334 I1  
41541                            2335 I1  
41542                            2336 I1  
41543                            2337 I1  
41544                            2338 I1  
41545                            2339 I1  
41546                            2340 I1  
41547                            2341 I1  
41548                            2342 I1  
41549                            2343 I1  
41550                            2344 I1  
41551                            2345 I1  
41552                            2346 I1  
41553                            2347 I1  
41554                            2348 I1  
41555                            2349 I1  
41556                            2350 I1  
41557                            2351 I1  
41558                            2352 I1  
41559                            2353 I1  
41560                            2354 I1  
41561                            2355 I1  
41562                            2356 I1  
41563                            2357 I1  
41564                            2358 I1  
41565                            2359 I1  
41566                            2360 I1  
41567                            2361 I1  
41568                            2362 I1  ;       *******************************************
41569                            2363 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   636
PROGRAM NAME =

41570                            2364 I1  ;       ***                                     ***
41571                            2365 I1  ;       ***             演算                    ***
41572                            2366 I1  ;       ***                                     ***
41573                            2367 I1  ;       ***             (等身大結果で扱う)      ***
41574                            2368 I1  ;       ***                                     ***
41575                            2369 I1  ;       *******************************************
41576                                 I1  ***** BEGIN-POOL *****
41577 000011AC 00000000               I1  DATA FOR SOURCE-LINE 2320
41578                                 I1  ***** END-POOL *****
41579 000011B0                   2370 I1  _DNM_PLS_LSICTL_CALC:
41580                            2371 I1          SUB_START
41581 000011B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
41582                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41583                            2372 I1  
41584                            2373 I1  ;       --------- 2010-09-27 残りパルス演算の共通化----
41585                            2374 I1          FAR_JSR #_ACC_REST_INFO_MAKE,R0
41586 000011B2 D009                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41587 000011B4 400B                   M           JSR     @R0                     ;
41588 000011B6 0009                   M           NOP                                     ;
41589                            2375 I1  
41590 000011B8 D108              2376 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
41591 000011BA 6011              2377 I1          MOV.W   @R1,R0                                  ;
41592 000011BC 8801              2378 I1          CMP/EQ  #1,R0                                   ;
41593 000011BE 8B02              2379 I1          BF      DNM_PLS_LSICTLCAL_010                   ;
41594                            2380 I1          FAR_JSR #_DNM_SPD_CALC,R0                       ;
41595 000011C0 D007                   M           MOV.L   #_DNM_SPD_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41596 000011C2 400B                   M           JSR     @R0                     ;
41597 000011C4 0009                   M           NOP                                     ;
41598 000011C6                   2381 I1  DNM_PLS_LSICTLCAL_010:
41599                            2382 I1  
41600                            2383 I1  
41601 000011C6 D107              2384 I1          MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
41602 000011C8 6011              2385 I1          MOV.W   @R1,R0                                                          ;
41603 000011CA C802              2386 I1          TST     #BIT1,R0                                                        ;
41604                            2387 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_020                                        ;強制減速
                                          停止中(寸動停止)
41605 000011CC 8B0C                   M           BF      DNM_PLS_LSICTLCAL_020
41606                            2388 I1  
41607 000011CE C804              2389 I1          TST     #BIT2,R0                                                        ;
41608                            2390 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_050                                        ;最終減速
                                          状態YES
41609 000011D0 8B16                   M           BF      DNM_PLS_LSICTLCAL_050
41610                            2391 I1          M_BRA   DNM_PLS_LSICTLCAL_100                                           ;
41611 000011D2 A017                   M           BRA     DNM_PLS_LSICTLCAL_100
41612 000011D4 0009                   M           NOP
41613                            2392 I1  
41614                                 I1  ***** BEGIN-POOL *****
41615 000011D6 0000                   I1  ALIGNMENT CODE
41616 000011D8 00000000               I1  DATA FOR SOURCE-LINE 2374
41617 000011DC 00000000               I1  DATA FOR SOURCE-LINE 2376
41618 000011E0 00000000               I1  DATA FOR SOURCE-LINE 2380
41619 000011E4 00000000               I1  DATA FOR SOURCE-LINE 2384
41620                                 I1  ***** END-POOL *****
41621 000011E8                   2393 I1  DNM_PLS_LSICTLCAL_020
41622                            2394 I1  ;       --- 減速コマンドラッチ---
41623 000011E8 D103              2395 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   637
PROGRAM NAME =

                                          PLS/S
41624 000011EA 6212              2396 I1          MOV.L   @R1,R2                                                          ;
41625 000011EC D503              2397 I1          MOV.L   #_POSCTL_RL_SPD,R5                                              ;
41626 000011EE 6352              2398 I1          MOV.L   @R5,R3                                                          ;
41627 000011F0 3326              2399 I1          CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
41628 000011F2 8905              2400 I1          BT      DNM_PLS_LSICTLCAL_050                                           ;YES
41629                            2401 I1          M_BRA   DNM_PLS_LSICTLCAL_800                                           ;(減速停止
                                          )終了処理
41630 000011F4 A092                   M           BRA     DNM_PLS_LSICTLCAL_800
41631 000011F6 0009                   M           NOP
41632                                 I1  ***** BEGIN-POOL *****
41633 000011F8 00000000               I1  DATA FOR SOURCE-LINE 2395
41634 000011FC 00000000               I1  DATA FOR SOURCE-LINE 2397
41635                                 I1  ***** END-POOL *****
41636 00001200                   2402 I1  DNM_PLS_LSICTLCAL_050:
41637                            2403 I1          M_BRA   DNM_PLS_LSICTLCAL_700                                           ;減速処理
41638 00001200 A04A                   M           BRA     DNM_PLS_LSICTLCAL_700
41639 00001202 0009                   M           NOP
41640                            2404 I1  
41641                            2405 I1  
41642                            2406 I1  
41643                            2407 I1  
41644 00001204                   2408 I1  DNM_PLS_LSICTLCAL_100:
41645 00001204 D104              2409 I1          MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
41646 00001206 6011              2410 I1          MOV.W   @R1,R0                                                          ;EMG-STOP
41647 00001208 8802              2411 I1          CMP/EQ  #2,R0                                                           ;減速停止
41648 0000120A 8B09              2412 I1          BF      DNM_PLS_LSICTLCAL_150                                           ;NO
41649                            2413 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
41650 0000120C D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41651 0000120E 6011                   M           MOV.W   @R1,R0          ;
41652 00001210 CB02                   M           OR      #BIT1,R0                ;
41653 00001212 2101                   M           MOV.W   R0,@R1          ;
41654                            2414 I1          M_BRA   DNM_PLS_LSICTLCAL_500                                           ;
41655 00001214 A032                   M           BRA     DNM_PLS_LSICTLCAL_500
41656 00001216 0009                   M           NOP
41657                            2415 I1  
41658                            2416 I1  ;-------通常制御----
41659                                 I1  ***** BEGIN-POOL *****
41660 00001218 00000000               I1  DATA FOR SOURCE-LINE 2409
41661 0000121C 00000000               I1  DATA FOR SOURCE-LINE 2413
41662                                 I1  ***** END-POOL *****
41663 00001220                   2417 I1  DNM_PLS_LSICTLCAL_150:
41664 00001220 D102              2418 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
41665 00001222 6011              2419 I1          MOV.W   @R1,R0                                                          ;
41666 00001224 C801              2420 I1          TST     #BIT0,R0                                                        ;
41667                            2421 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_160                                                ;
41668 00001226 8903                   M           BT      DNM_PLS_LSICTLCAL_160
41669                            2422 I1  ;       -----------やるべきことが今一不明--------
41670                            2423 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
41671 00001228 A095                   M           BRA     DNM_PLS_LSICTLCAL_EXT
41672 0000122A 0009                   M           NOP
41673                            2424 I1  
41674                            2425 I1  
41675                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   638
PROGRAM NAME =

41676 0000122C 00000000               I1  DATA FOR SOURCE-LINE 2418
41677                                 I1  ***** END-POOL *****
41678 00001230                   2426 I1  DNM_PLS_LSICTLCAL_160:
41679                            2427 I1  
41680                            2428 I1  ;;;;ふりこ      FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<
                                          <<2010-09-21>>>
41681                            2429 I1  
41682                            2430 I1  ;<<<2010-09-21>>>
41683 00001230 D106              2431 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
41684 00001232 6011              2432 I1          MOV.W   @R1,R0                                          ;
41685 00001234 8801              2433 I1          CMP/EQ  #1,R0                                           ;
41686 00001236 8B0F              2434 I1          BF      DNM_PLS_LSICTLCAL_180                           ;
41687 00001238 D105              2435 I1          MOV.L   #_ACC_CTRL_STS1,R1                              ;
41688 0000123A 6011              2436 I1          MOV.W   @R1,R0                                          ;
41689 0000123C C906              2437 I1          AND     #(BIT2+BIT1),R0                                 ;
41690 0000123E 8806              2438 I1          CMP/EQ  #(BIT2+BIT1),R0                                 ;
41691 00001240 892A              2439 I1          BT      DNM_PLS_LSICTLCAL_700                           ;
41692                            2440 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0                        ;
41693 00001242 D004                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41694 00001244 400B                   M           JSR     @R0                     ;
41695 00001246 0009                   M           NOP                                     ;
41696                            2441 I1          M_BRA   DNM_PLS_LSICTLCAL_510                           ;
41697 00001248 A01B                   M           BRA     DNM_PLS_LSICTLCAL_510
41698 0000124A 0009                   M           NOP
41699                            2442 I1  
41700                            2443 I1  
41701                                 I1  ***** BEGIN-POOL *****
41702 0000124C 00000000               I1  DATA FOR SOURCE-LINE 2431
41703 00001250 00000000               I1  DATA FOR SOURCE-LINE 2435
41704 00001254 00000000               I1  DATA FOR SOURCE-LINE 2440
41705                                 I1  ***** END-POOL *****
41706 00001258                   2444 I1  DNM_PLS_LSICTLCAL_180:
41707                            2445 I1          FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;
41708 00001258 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41709 0000125A 400B                   M           JSR     @R0                     ;
41710 0000125C 0009                   M           NOP                                     ;
41711 0000125E                   2446 I1  DNM_PLS_LSICTLCAL_190:
41712                            2447 I1  
41713 0000125E 2008              2448 I1          TST     R0,R0                                                           ;
41714                            2449 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_500
41715 00001260 890C                   M           BT      DNM_PLS_LSICTLCAL_500
41716 00001262 8801              2450 I1          CMP/EQ  #1,R0                                                           ;
41717 00001264 8918              2451 I1          BT      DNM_PLS_LSICTLCAL_700
41718                            2452 I1  ;       ----- ABNOMAL CALC------                                                ;
41719                            2453 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
41720 00001266 D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
41721 00001268 6041                   M           MOV.W   @R4,R0          ;
41722 0000126A CB02                   M           OR      #BIT1,R0                ;
41723 0000126C 2401                   M           MOV.W   R0,@R4          ;
41724                            2454 I1          M_BRA   DNM_PLS_LSICTLCAL_ERR
41725 0000126E A06B                   M           BRA     DNM_PLS_LSICTLCAL_ERR
41726 00001270 0009                   M           NOP
41727                            2455 I1  
41728                            2456 I1  ;       ===== 距離がありそう =====
41729                                 I1  ***** BEGIN-POOL *****
41730 00001272 0000                   I1  ALIGNMENT CODE
41731 00001274 00000000               I1  DATA FOR SOURCE-LINE 2445
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   639
PROGRAM NAME =

41732 00001278 00000000               I1  DATA FOR SOURCE-LINE 2453
41733                                 I1  ***** END-POOL *****
41734 0000127C                   2457 I1  DNM_PLS_LSICTLCAL_500:                                                          ;
41735                            2458 I1  ;<<<2010-09-21>>>
41736                            2459 I1          FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
41737 0000127C D004                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41738 0000127E 400B                   M           JSR     @R0                     ;
41739 00001280 0009                   M           NOP                                     ;
41740 00001282                   2460 I1  DNM_PLS_LSICTLCAL_510:                                                          ;
41741                            2461 I1  
41742 00001282 2008              2462 I1          TST     R0,R0                                                           ;
41743                            2463 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_EXT                                                ;
                                          書き換えない
41744 00001284 8967                   M           BT      DNM_PLS_LSICTLCAL_EXT
41745                            2464 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
41746 00001286 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41747 00001288 400B                   M           JSR     @R0                     ;
41748 0000128A 0009                   M           NOP                                     ;
41749                            2465 I1          M_BRA   DNM_PLS_LSICTLCAL_900                                           ;
41750 0000128C A055                   M           BRA     DNM_PLS_LSICTLCAL_900
41751 0000128E 0009                   M           NOP
41752                            2466 I1  
41753                            2467 I1  
41754                            2468 I1  
41755                            2469 I1  ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
41756                                 I1  ***** BEGIN-POOL *****
41757 00001290 00000000               I1  DATA FOR SOURCE-LINE 2459
41758 00001294 00000000               I1  DATA FOR SOURCE-LINE 2464
41759                                 I1  ***** END-POOL *****
41760 00001298                   2470 I1  DNM_PLS_LSICTLCAL_700:
41761                            2471 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
41762 00001298 D10A                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41763 0000129A 6011                   M           MOV.W   @R1,R0          ;
41764 0000129C CB04                   M           OR      #BIT2,R0                ;
41765 0000129E 2101                   M           MOV.W   R0,@R1          ;
41766                            2472 I1  ;       ---払い出し完了ならやめる---------
41767                            2473 I1          FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
41768 000012A0 D009                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41769 000012A2 400B                   M           JSR     @R0                     ;
41770 000012A4 0009                   M           NOP                                     ;
41771 000012A6 C804              2474 I1          TST     #BIT2,R0                        ;停止?
41772                            2475 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_820        ;YES:ﾌﾗｸﾞ終了
41773 000012A8 8B3F                   M           BF      DNM_PLS_LSICTLCAL_820
41774                            2476 I1  
41775                            2477 I1  ;       ============================================
41776                            2478 I1  ;<<<2010-09-21>>>
41777 000012AA D108              2479 I1          MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
41778 000012AC 6011              2480 I1          MOV.W   @R1,R0                          ;
41779 000012AE 8801              2481 I1          CMP/EQ  #1,R0                           ;
41780 000012B0 8B10              2482 I1          BF      DNM_PLS_LSICTLCAL_710           ;
41781                            2483 I1  
41782 000012B2 D104              2484 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
41783 000012B4 6011              2485 I1          MOV.W   @R1,R0                          ;
41784 000012B6 C802              2486 I1          TST     #BIT1,R0                        ;
41785                            2487 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_710        ;
41786 000012B8 8B0C                   M           BF      DNM_PLS_LSICTLCAL_710
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   640
PROGRAM NAME =

41787                            2488 I1  
41788                            2489 I1  ;       自動減速
41789                            2490 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0        ;
41790 000012BA D005                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41791 000012BC 400B                   M           JSR     @R0                     ;
41792 000012BE 0009                   M           NOP                                     ;
41793                            2491 I1          M_BRA   DNM_PLS_LSICTLCAL_740           ;
41794 000012C0 A013                   M           BRA     DNM_PLS_LSICTLCAL_740
41795 000012C2 0009                   M           NOP
41796                            2492 I1  
41797                            2493 I1  
41798                                 I1  ***** BEGIN-POOL *****
41799 000012C4 00000000               I1  DATA FOR SOURCE-LINE 2471,2484
41800 000012C8 00000000               I1  DATA FOR SOURCE-LINE 2473
41801 000012CC 00000000               I1  DATA FOR SOURCE-LINE 2479
41802 000012D0 00000000               I1  DATA FOR SOURCE-LINE 2490
41803                                 I1  ***** END-POOL *****
41804 000012D4                   2494 I1  DNM_PLS_LSICTLCAL_710:
41805                            2495 I1  ;       ============================================
41806                            2496 I1  
41807                            2497 I1  ;       ----ここにきたら目標位置が変わるまで加速はしない------
41808 000012D4 D50C              2498 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
41809 000012D6 6252              2499 I1          MOV.L   @R5,R2                          ;
41810 000012D8 D40C              2500 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
41811 000012DA 6342              2501 I1          MOV.L   @R4,R3                          ;
41812 000012DC 2338              2502 I1          TST     R3,R3                           ;
41813                            2503 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_720                ;
41814 000012DE 8B00                   M           BF      DNM_PLS_LSICTLCAL_720
41815 000012E0 E301              2504 I1          MOV     #1,R3                           ;
41816 000012E2                   2505 I1  DNM_PLS_LSICTLCAL_720:                          ;
41817 000012E2 3238              2506 I1          SUB     R3,R2                           ;
41818 000012E4 4211              2507 I1          CMP/PZ  R2                              ;
41819 000012E6 8900              2508 I1          BT      DNM_PLS_LSICTLCAL_740           ;
41820 000012E8 222A              2509 I1          XOR     R2,R2                           ;
41821 000012EA                   2510 I1  DNM_PLS_LSICTLCAL_740:                          ;
41822                            2511 I1  
41823                            2512 I1  
41824                            2513 I1  
41825 000012EA D109              2514 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
41826 000012EC 6312              2515 I1          MOV.L   @R1,R3                          ;
41827 000012EE 3236              2516 I1          CMP/HI  R3,R2                           ;
41828 000012F0 8904              2517 I1          BT      DNM_PLS_LSICTLCAL_760           ;OFS < CALC
41829 000012F2 6233              2518 I1          MOV     R3,R2                           ;MNINLINIT
41830                            2519 I1  ;       -------------------
41831 000012F4 D107              2520 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
41832 000012F6 6011              2521 I1          MOV.W   @R1,R0                          ;
41833 000012F8 C802              2522 I1          TST     #BIT1,R0                        ;手動減速中
41834                            2523 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_800        ;手動減速中なら終了
41835 000012FA 8B0F                   M           BF      DNM_PLS_LSICTLCAL_800
41836                            2524 I1  
41837 000012FC                   2525 I1  DNM_PLS_LSICTLCAL_760:                          ;
41838 000012FC 2522              2526 I1          MOV.L   R2,@R5                          ;
41839                            2527 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
41840 000012FE D006                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41841 00001300 400B                   M           JSR     @R0                     ;
41842 00001302 0009                   M           NOP                                     ;
41843                            2528 I1          M_BRA   DNM_PLS_LSICTLCAL_900           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   641
PROGRAM NAME =

41844 00001304 A019                   M           BRA     DNM_PLS_LSICTLCAL_900
41845 00001306 0009                   M           NOP
41846                            2529 I1  
41847                            2530 I1  ;       -------------終了処理(STEP STOP)----------
41848                                 I1  ***** BEGIN-POOL *****
41849 00001308 00000000               I1  DATA FOR SOURCE-LINE 2498
41850 0000130C 00000000               I1  DATA FOR SOURCE-LINE 2500
41851 00001310 00000000               I1  DATA FOR SOURCE-LINE 2514
41852 00001314 00000000               I1  DATA FOR SOURCE-LINE 2520
41853 00001318 00000000               I1  DATA FOR SOURCE-LINE 2527
41854                                 I1  ***** END-POOL *****
41855 0000131C                   2531 I1  DNM_PLS_LSICTLCAL_800:
41856                            2532 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
41857 0000131C D008                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41858 0000131E 400B                   M           JSR     @R0                     ;
41859 00001320 0009                   M           NOP                                     ;
41860                            2533 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
41861 00001322 D108                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41862 00001324 6011                   M           MOV.W   @R1,R0          ;
41863 00001326 CB20                   M           OR      #BIT5,R0                ;
41864 00001328 2101                   M           MOV.W   R0,@R1          ;
41865 0000132A                   2534 I1  DNM_PLS_LSICTLCAL_820:
41866                            2535 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
41867 0000132A D106                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41868 0000132C 6011                   M           MOV.W   @R1,R0          ;
41869 0000132E CB40                   M           OR      #BIT6,R0                ;
41870 00001330 2101                   M           MOV.W   R0,@R1          ;
41871                            2536 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
41872 00001332 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41873 00001334 6011                   M           MOV.W   @R1,R0          ;
41874 00001336 CB08                   M           OR      #BIT3,R0                ;
41875 00001338 2101                   M           MOV.W   R0,@R1          ;
41876                            2537 I1  
41877                            2538 I1          .AIF    1 EQ    0
41878                            2539     
41879                            2540             FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
41880                            2541             .AENDI
41881                            2542 I1  
41882 0000133A                   2543 I1  DNM_PLS_LSICTLCAL_900:
41883                            2544 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
41884 0000133A A00C                   M           BRA     DNM_PLS_LSICTLCAL_EXT
41885 0000133C 0009                   M           NOP
41886                            2545 I1  
41887                                 I1  ***** BEGIN-POOL *****
41888 0000133E 0000                   I1  ALIGNMENT CODE
41889 00001340 00000000               I1  DATA FOR SOURCE-LINE 2532
41890 00001344 00000000               I1  DATA FOR SOURCE-LINE 2533,2535,2536
41891                                 I1  ***** END-POOL *****
41892 00001348                   2546 I1  DNM_PLS_LSICTLCAL_ERR:
41893                            2547 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
41894 00001348 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41895 0000134A 400B                   M           JSR     @R0                     ;
41896 0000134C 0009                   M           NOP                                     ;
41897                            2548 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
41898 0000134E D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41899 00001350 6011                   M           MOV.W   @R1,R0          ;
41900 00001352 CB40                   M           OR      #BIT6,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   642
PROGRAM NAME =

41901 00001354 2101                   M           MOV.W   R0,@R1          ;
41902                            2549 I1  
41903 00001356                   2550 I1  DNM_PLS_LSICTLCAL_EXT:
41904                            2551 I1          SUB_END
41905                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41906 00001356 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41907                            2552 I1          M_RTS
41908 00001358 000B                   M           RTS                             ;RTSの後ろの
41909 0000135A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41910                            2553 I1  
41911                            2554 I1  
41912                            2555 I1  ;
41913                            2556 I1  ;
41914                            2557 I1  ;
41915                            2558 I1  ;
41916                            2559 I1  ;
41917                                 I1  ***** BEGIN-POOL *****
41918 0000135C 00000000               I1  DATA FOR SOURCE-LINE 2547
41919 00001360 00000000               I1  DATA FOR SOURCE-LINE 2548
41920                                 I1  ***** END-POOL *****
41921 00001364                   2560 I1  _DNM_AUTO_UP_DN_CALC:
41922                            2561 I1          SUB_START
41923 00001364 4F22                   M           STS.L   PR,@-R15                ;[必要]
41924                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41925 00001366 D104              2562 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;
41926 00001368 6012              2563 I1          MOV.L   @R1,R0                          ;
41927 0000136A D504              2564 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
41928 0000136C 6252              2565 I1          MOV.L   @R5,R2                          ;
41929 0000136E 320C              2566 I1          ADD     R0,R2                           ;
41930 00001370 2522              2567 I1          MOV.L   R2,@R5                          ;
41931                            2568 I1          SUB_END
41932                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41933 00001372 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41934                            2569 I1          M_RTS
41935 00001374 000B                   M           RTS                             ;RTSの後ろの
41936 00001376 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41937                            2570 I1  
41938                            2571 I1  
41939                            2572 I1  
41940                            2573 I1  
41941                            2574 I1  ;
41942                           11884     
41943                           11885     
41944                           11886     ;       ***********************************************************
41945                           11887     ;       ***                                                     ***
41946                           11888     ;       ***     CPUBの高速化「以下にはプログラム追加しないこと」***
41947                           11889     ;       ***     2013-03-15                                      ***
41948                           11890     ;       ***********************************************************
41949                           11891     
41950                           11892     
41951                           11893     ;       ***************************************************
41952                           11894     ;       ***                                             ***
41953                           11895     ;       ***             CPUBの高速化終了                ***
41954                           11896     ;       ***             2013-03-15                      ***
41955                           11897     ;       ***                                             ***
41956                           11898     ;       ***************************************************
41957                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   643
PROGRAM NAME =

41958 00001378 00000000                   DATA FOR SOURCE-LINE 2562
41959 0000137C 00000000                   DATA FOR SOURCE-LINE 2564
41960                                     ***** END-POOL *****
41961 00001380                  11899             .ALIGN  4                                       ;
41962                           11900             .AIF    3 EQ 3          ;
41963 00008074                  11901 C           .SECTION        P,CODE                          ;
41964                           11902             .AENDI                                          ;
41965                           11903     
41966                           11904     
41967                           11905     
41968                           11906             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   644

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCCHGSPD_LMT_INF_LD_100         P             00007908  35139 35152*
ACCCHGSPD_LMT_INF_LD_200         P             0000791C  35154 35169*
ACCCHGSPD_LMT_INF_LD_END         P             0000791E  35144 35162 35171*
ACCLAT1_SV_MAKCOM_200            P             0000664E  30931 30933*
ACCLW_CTRLCALC_100               P             00007A08  35431 35443*
ACCLW_CTRLCALC_120               P             00007A10  35446 35451*
ACCLW_CTRLCALC_200               P             00007A30  35454 35481*
ACCLW_CTRLCALC_300               P             00007A4C  35468 35489 35503*
ACCLW_CTRLCALC_800               P             00007A5C  35433 35448 35470 35496 35517*
ACCLW_CTRLCALC_900               P             00007A68  35509 35527*
ACCLW_CTRLCALC_EXT               P             00007A6C  35521 35531*
ACCLW_GEN_END_CONFCHK_100        P             00007AA4  35569 35579*
ACCLW_GEN_END_CONFCHK_300        P             00007AA6  35572 35581*
ACCLW_GEN_START_CONFCHK_050      P             00007AD8  35649 35658*
ACCLW_GEN_START_CONFCHK_100      P             00007AEC  35663 35673*
ACCLW_GEN_START_CONFCHK_120      P             00007AF8  35679 35681*
ACCLW_GEN_START_CONFCHK_200LOP   P             00007B0C  35704*35900 
ACCLW_GEN_START_CONFCHK_250      P             00007B34  35728 35736*
ACCLW_GEN_START_CONFCHK_280      P             00007B44  35747 35749*
ACCLW_GEN_START_CONFCHK_400      P             00007B7C  35809 35816*
ACCLW_GEN_START_CONFCHK_500      P             00007BB8  35834 35855*
ACCLW_GEN_START_CONFCHK_550      P             00007BCA  35713 35741 35754 35869*
ACCLW_GEN_START_CONFCHK_580      P             00007BDC  35836 35881*
ACCLW_GEN_START_CONFCHK_600      P             00007BDE  35872 35883*
ACCLW_GEN_START_CONFCHK_EXT      P             00007BF6  35651 35665 35891 35894 35905*
ACCLW_USECHK_100                 P             00007944  35237 35243 35254*
ACCST_CHGSPD_LMT_INF_LD_200      P             00008060  36985 36995 37009*
ACCST_CHGSPD_LMT_INF_LD_300      P             00008066  36997 37017*
ACCST_CHGSPD_LMT_INF_LD_END      P             00008068  37012 37019*
ACCST_CHGSTEP_GETINF_100         P             00007E40  36471 36473*
ACCST_CHGSTEP_GETINF_EXT         P             00007E44  36430 36480*
ACCST_CHGSTEP_GETINF_SET         P             00007E40  36450 36460 36476*
ACCST_CTRLCALC_100               P             00007CDC  36146 36158*
ACCST_CTRLCALC_200               P             00007D0C  36187 36202*
ACCST_CTRLCALC_300               P             00007D3C  36211 36230*
ACCST_CTRLCALC_800               P             00007D4C  36148 36165 36177 36183 36199 36218 36244*
ACCST_CTRLCALC_900               P             00007D58  36236 36255*
ACCST_CTRLCALC_EXT               P             00007D5C  36248 36259*
ACCST_DN_END_CONFCHK_100         P             00007DD0  36355 36365*
ACCST_DN_END_CONFCHK_300         P             00007DD2  36358 36367*
ACCST_DN_START_CONFCHK_400       P             00007FD0  36830 36841*
ACCST_UPDN_END_CONFCHK_100       P             00007DA4  36308 36322*
ACCST_UPDN_END_CONFCHK_200       P             00007DAA  36315 36327*
ACCST_UPDN_START_CONFCHK_050     P             00007E90  36557 36566*
ACCST_UPDN_START_CONFCHK_100     P             00007EA4  36571 36581*
ACCST_UPDN_START_CONFCHK_250     P             00007EE2  36623 36631*
ACCST_UPDN_START_CONFCHK_280     P             00007EF2  36642 36644*
ACCST_UPDN_START_CONFCHK_300     P             00007F30  36656 36681*
ACCST_UPDN_START_CONFCHK_500     P             00007F44  36666 36701*
ACCST_UPDN_START_CONFCHK_520     P             00007F6C  36689 36727*
ACCST_UPDN_START_CONFCHK_540     P             00007F94  36653 36752*
ACCST_UPDN_START_CONFCHK_550     P             00007F9A  36608 36757*
ACCST_UPDN_START_CONFCHK_580     P             00007FA0  36636 36649 36668 36691 36763*
ACCST_UPDN_START_CONFCHK_EXT     P             00007FA0  36559 36573 36716 36742 36755 36760 36764*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   645

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCST_UP_END_CONFCHK_100         P             00007DF4  36392 36402*
ACCST_UP_END_CONFCHK_300         P             00007DF6  36395 36404*
ACCST_UP_START_CONFCHK_400       P             00008018  36916 36931*
ACCST_USECHK_100                 P             00007C1A  35953 35959 35968*
ACC_FORM_TOP                     PHiROM        00000724  38976 38979 38985 38989 38991 38994 38997 39135 39137 39139 39142 39280 
                                                         39326*40741 40743 40745 40747 40772 40776 40779 
ACC_INFMAK1_DTCHGCHKLOP          PHiROM        00000400  38328*38336 
ACC_INFMAK1_EXT                  PHiROM        0000047A  38356 38435*
ACC_INFMAK1_START                PHiROM        0000044C  38339 38372*
ACC_INFMAK1_START050             PHiROM        0000045C  38348 38391*
ACC_INFMAK1_START100             PHiROM        00000462  38384 38403*
ACC_MATHED_COM_DRVST1_100        P             00007890  34963 34980*
ACC_MATHED_COM_DRVST1_END        P             0000789A  34972 34982 34990*
ACC_MATHED_CTLSEL_100            P             000078DC  35066 35083*
ACC_MATHED_CTLSEL_END            P             000078E6  35075 35085 35093*
ACC_MATHED_SEL_MN_100            P             00007860  34908 34924*
ACC_MATHED_SEL_MN_END            P             0000786A  34916 34926 34935*
ACC_REST_INFMK_100               PHiROM        00000370  37846 37854*
ACC_REST_INFMK_200               PHiROM        00000384  37864 37868 37873*
ACC_STEPINF_MAK1_100LOP          PHiROM        000004FE  38616*38692 
ACC_STEPINF_MAK1_120             PHiROM        0000050A  38623 38626*
ACC_STEPINF_MAK1_180             PHiROM        00000548  38639 38666*
ACC_STEPINF_MAK1_200             PHiROM        0000054E  38647 38650 38669 38671*
ACC_STEPINF_MAK1_250             PHiROM        00000560  38683 38685*
ACC_STEPINF_MAK1_300             PHiROM        0000056C  38690 38695*
ACC_TBLMAK1_200LOP               PHiROM        0000059E  38850*38876 
ACC_TBLMKPLS1_SBLOP200           PHiROM        00000A10  39706*39735 
ACC_TBLMKPLS1_SBLOP220           PHiROM        00000A22  39725 39727*
ACC_TBLMKPLS1_SB_END             PHiROM        00000A38  39709 39744*
ACC_TBLMKSPD1_SB100              PHiROM        0000096C  39537 39541*
ACC_TBLMKSPD1_SB150              PHiROM        00000976  39550*39557 
ACC_TBLMKSPD1_SB200              PHiROM        00000988  39545 39564*
ACC_TBLMKSPD1_SB220              PHiROM        0000099C  39576 39578*
ACC_TBLMKSPD1_SB250LOP           PHiROM        000009A4  39590*39661 
ACC_TBLMKSPD1_SB300              PHiROM        000009C6  39620 39622*
ACC_TBLMKSPD1_SB500              PHiROM        000009FC  39593 39669*
ACC_TBLMKSPD1_SB900              PHiROM        000009FE  39561 39672*
AFM_DST_CTLACTM                  PHiROM        00000740  38994 39334*40772 
AFM_DST_CTLVTBL                  PHiROM        0000073C  38991 39333*40776 
AFM_DST_STPACTM                  PHiROM        00000750  39139 39338*40741 
AFM_DST_STPPTBL                  PHiROM        00000754  39280 39339*40743 
AFM_DST_STPVTBL                  PHiROM        0000074C  39137 39337*40745 
AFM_OLD_CTLACTM                  PHiROM        00000738  38997 39332*
AFM_OLD_CTLVTBL                  PHiROM        00000734  38989 39331*
AFM_OLD_STPACTM                  PHiROM        00000748  39142 39336*
AFM_OLD_STPVTBL                  PHiROM        00000744  39135 39335*
AFM_SRC_TBL_MEM                  PHiROM        00000728  38979 39328*
AFM_SRC_TBL_TOP                  PHiROM        00000724  38976 39327*
AFM_STEP_INF_FLG                 PHiROM        00000730  39330*40747 40779 
AFM_STEP_INF_SPD                 PHiROM        0000072C  38985 39329*
API_ACCLW_DRVSTR2_EXT            P             000079B4  35345 35351*
API_ACCST_DRVSTR2_EXT            P             00007C80  36055 36062*
API_ENDHANDSIGCHK_100            P             00006E26  32803 32810*
API_ENDHANDSIGCHK_EXT            P             00006E28  32799 32809 32812*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   646

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

API_SETACC_INFOGET_CALEXT        PHiROM        000004CA  38504 38510 38515*
API_SETACC_INFOGET_CALNG         PHiROM        000004C8  38486 38493 38513*
API_SETACC_INFOGET_CALOK1        PHiROM        000004BC  38491 38501*
API_SETACC_INFOGET_CALOK2        PHiROM        000004C2  38482 38507*
BANKCHKNEXT_CYCL_STR1_010        P             00005C32  28454 28459*
BANKCHKNEXT_CYCL_STR1_020        P             00005BC8  28302 28370*
BANKCHKNEXT_CYCL_STR1_050        P             00005BD2  28375 28377*
BANKCHKNEXT_CYCL_STR1_100        P             00005BEE  28355 28404*
BANK_CNT_STOPCHK_TYP1_200        P             00005C78  28487 28495 28506 28527*
BCNT_STEP_NEXTCHK_100            P             00005800  27503 27515*
BCNT_STEP_NEXTCHK_120            P             0000582C  27535 27543*
BCNT_STEP_NEXTCHK_200            P             00005834  27532 27546 27552*
BCNT_STEP_NEXTCHK_250            P             00005868  27558 27564 27588*
BCNT_STEP_NEXTCHK_300            P             00005870  27594 27611*
BCNT_STEP_NEXTCHK_CHK            P             00005884  27537 27548 27629*
BCNT_STEP_NEXTCHK_EXT            P             00005892  27505 27578 27619 27634 27643*
BIT0                                      EQU  00000001     15* 2040  2349  2364  6690  6933  6940  7100  7151  7337  7471  7629 
                                                          7825  7915  7984  8059  8279  8765  8772  9116  9123  9186  9193  9344 
                                                          9528  9535  9699  9706  9991 10028 10120 10212 10276 10335 10346 10347 
                                                         10420 10461 10512 10671 11146 11325 11329 11456 11460 11664 11668 11761 
                                                         11765 11829 11952 11976 12011 12036 12096 12115 12197 12214 12230 12244 
                                                         12298 12381 12542 12569 12665 12728 12801 13648 13901 13912 13956 14016 
                                                         14037 14040 14102 14199 14392 14445 14508 14538 14721 14796 14797 14909 
                                                         14910 15068 15069 15072 15290 15307 15414 15451 15563 15735 16028 16035 
                                                         16188 16447 16486 17467 18184 18585 19223 19327 19433 19723 19848 20143 
                                                         20278 20301 20306 20314 20365 20389 20395 20798 21504 21620 21679 21730 
                                                         21784 21923 21926 22158 22271 22284 22640 22715 22947 23194 23199 23715 
                                                         23727 23757 24116 24135 24195 24198 24984 25001 25117 25134 25304 25363 
                                                         25488 25644 25649 27562 27570 27575 27703 27809 27822 28211 28215 28252 
                                                         28300 28457 28504 28517 28559 28788 28980 29141 29402 29427 29484 29689 
                                                         29773 29784 30130 30214 30290 30362 30782 31227 31233 31735 31741 31977 
                                                         32014 32028 32043 32057 32071 32085 32096 32154 32410 32499 32801 32882 
                                                         32931 33029 33033 33090 33101 33102 33176 33222 33435 33454 33585 33733 
                                                         33964 34017 34043 35252 35343 35347 35429 35570 35711 35870 35966 36053 
                                                         36057 36144 36175 36263 36268 36356 36393 36458 36472 36606 37146 37232 
                                                         37246 37417 37844 38375 38502 38681 40084 40556 40584 40630 40671 41666 
BIT1                                      EQU  00000002     16* 2041  2350  2365  7465  7471  7629  8259 10126 10276 10346 10753 
                                                         11055 11079 11131 11415 11829 12059 12280 12341 12417 12566 12728 13651 
                                                         13898 13912 13968 13988 14004 14247 14445 14550 14582 14721 14796 14797 
                                                         14909 14910 15068 15069 15401 15484 16223 16383 18184 20283 20319 20370 
                                                         20400 21492 21947 22212 22301 22330 23071 23711 23757 24482 24488 25014 
                                                         25147 25388 27698 27703 28522 28595 28667 29014 29106 29112 29135 29141 
                                                         29175 29407 29452 29478 29484 32801 32931 33101 33580 33585 33742 33748 
                                                         33806 33818 33959 33998 34043 36263 36306 36469 36713 36739 36993 37361 
                                                         37403 37446 37551 38394 38508 40096 40556 40671 41603 41652 41689 41690 
                                                         41722 41784 41833 
BIT10                                     EQU  00000400     25* 2375 18465 18506 22760 22772 31708 
BIT11                                     EQU  00000800     26* 2376 11967 18364 18405 30644 30696 31708 
BIT12                                     EQU  00001000     27* 2381 11967 17931 18014 23703 24209 24244 
BIT13                                     EQU  00002000     28* 2382 10038 12348 24131 24154 34737 34793 
BIT14                                     EQU  00004000     29* 2383 10033 34758 34793 
BIT15                                     EQU  00008000     30* 2384  6954 29435 34779 34793 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   647

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2042  2351  2366  2386 10324 10346 10759 10922 10970 11913 12167 
                                                         12467 12539 12728 13930 14466 14747 15426 15477 15866 17609 17613 18274 
                                                         18326 18649 18734 18808 18912 18921 18955 19223 19327 20667 21479 21492 
                                                         21666 21697 21767 21888 21926 21947 21968 22158 22330 22342 22368 24482 
                                                         25025 25158 25410 27556 27703 29048 29141 32797 32886 33101 33831 33856 
                                                         34003 34043 37128 37364 37482 37513 37520 38426 38484 38488 38636 38644 
                                                         38648 38670 40118 40125 40553 40637 40697 41607 41689 41690 41764 41771 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2043  2352  2367  2387  6249  7907  7977  8052  8156  8265 10324 
                                                         10726 10919 10949 12192 12706 12728 13717 14325 18583 24482 25438 27592 
                                                         27750 29141 31883 33078 33227 33871 33895 33959 33998 34043 34471 34480 
                                                         37594 38488 38533 41874 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2353  2368  2388 10324 11933 12723 14399 15850 16466 24482 25181 
                                                         25205 25239 29141 33932 33951 33959 33991 33998 34043 34475 34480 40603 
BIT5                                      EQU  00000020     20* 2354  2369  2389  7160  7166  8993  9281  9324  9780  9805 14735 
                                                         14821 15853 16452 20798 22654 22757 24482 29141 33443 33449 34043 37583 
                                                         41487 41863 
BIT6                                      EQU  00000040     21* 2355  2370  2390  7244  8835 10304 10324 10788 10812 10916 10976 
                                                         10999 11002 11817 12987 13877 14318 17226 17467 18917 21880 22057 22572 
                                                         22640 22748 24482 29141 30785 33748 34116 34337 34408 34517 35452 35466 
                                                         35864 36185 36197 36268 36708 36734 37228 37589 37620 41869 41900 
BIT7                                      EQU  00000080     22* 2356  2371  2391  8883 13000 13054 13100 13146 24482 27903 29100 
                                                         29117 29152 31716 31725 35444 36181 36215 36268 
BIT8                                      EQU  00000100     23* 2357  2372 24482 31708 32396 
BIT9                                      EQU  00000200     24* 2358  2373  6802 12355 12372 22751 22772 24482 31708 33383 33715 
                                                         33778 
BRKTST_POSCTL_0020               P             00006F6C  33080 33089*
BRKTST_POSCTL_0040               P             00006F74  33092 33098*
BRKTST_POSCTL_0048               P             00006F88  33103 33112*
BRKTST_POSCTL_0190               P             00006FEC  33105 33189*
BRKTST_POSCTL_0200               P             0000703C  33094 33219*
BRKTST_POSCTL_0240               P             00007078  33223 33254*
BRKTST_POSCTL_0800               P             00007098  33082 33191 33242 33296*
CHG_STEP_INFO_MAKSTP_END_010     P             000053B0  26054 26067*
CHG_STEP_INFO_MAKSTP_END_020     P             000053C4  26069 26081*
CHG_STEP_INFO_MAKSTP_END_EXT     P             000053C4  26060 26075 26083*
CLSINC1_SEL_020                  P             00004C44  24387 24401*
CLSINC1_SEL_END                  P             00004C4E  24394 24409*
CLSINC2_SEL_020                  P             00004C78  24435 24449*
CLSINC2_SEL_END                  P             00004C82  24442 24457*
CLSINC_SEL_050LOP                P             00004CA2  24491*24500 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   648

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

CLSINC_SEL_100                   P             00004CB0  24494 24501*
CLSINC_SEL_300                   P             00004CCC  24505 24508 24521*
CLSINC_SEL_DEF                   P             00004CC8  24485 24518*
CLS_POS_LENGTH_ADDATA_050        P             00004662  22949 22957*
CMPSPD_RSTPLS_250                PHiROM        000002F2  37727 37733*
CMPSPD_RSTPLS_280                PHiROM        000002FA  37737 37741*
CMP_BRK2_CTLCAL_200              P             000063A8  30292 30300*
CMP_CNT_CTLCAL_200               P             00006344  30216 30224*
CMP_HOLD_CTL200                  P             000063FE  30364 30372*
CMP_PLSLSI_CTLCAL_200            P             000062D8  30132 30140*
CMP_SPD_REST_END                 PHiROM        00000342  37795 37802 37806*
CMP_SPD_REST_ERR                 PHiROM        0000033A  37730 37799*
CMP_SPD_REST_MOV                 PHiROM        00000334  37739 37744 37783 37792*
CMP_SPD_REST_STOP                PHiROM        00000340  37785 37804*
CNTBANK_DBGBRK_100               P             000059DC  27905 27914*
CNT_GPOINT_STOPTYP2_050          P             00005CC8  28581 28598*
CNT_GPOINT_STOPTYP2_100          P             00005D12  28561 28577 28590 28677*
CNT_HOSEI_CHKCAL_050             P             00006A5A  31868 31873 31879 31886*
CNT_HOSEI_CHKCAL_100             P             00006A78  31885 31902*
CNT_HOSEI_CHKCAL_200             P             00006A86  31908 31910*
CNT_HOSEI_SPDSET_EXT             P             00006A8C  31892 31917*
CNT_REST_HOSEI_SPDTYP_EXT        P             00006B88  32156 32160*
CNT_STOP_CMD_DATSUB1_100         P             00005DDA  28857 28860*
CNT_STOP_CMD_DATSUB2_100         P             00005E1C  28903 28906*
CNT_SUB_DATACALC_100             P             00005D6E  28769 28773*
CNT_SUB_DATACALC_120             P             00005D78  28776 28781*
CNT_SUB_DATACALC_150             P             00005D84  28780 28791*
CNT_SYNCHOS_SPDTYP_080           P             00006ABC  31974 31994*
CNT_SYNCHOS_SPDTYP_100           P             00006AC2  31999*
CNT_SYNCHOS_SPDTYP_200           P             00006ACC  31998 32010*
CNT_SYNCHOS_SPDTYP_250           P             00006ADE  32013 32024*
CNT_SYNCHOS_SPDTYP_300           P             00006AF0  32027 32038*
CNT_SYNCHOS_SPDTYP_310           P             00006B02  32042 32053*
CNT_SYNCHOS_SPDTYP_320           P             00006B14  32056 32067*
CNT_SYNCHOS_SPDTYP_330           P             00006B26  32070 32081*
CNT_SYNCHOS_SPDTYP_390           P             00006B38  32084 32095*
CNT_SYNCHOS_SPDTYP_400           P             00006B42  31980 32017 32031 32046 32060 32074 32088 32099 32105*
CNT_SYNCHOS_SPDTYP_450           P             00006B50  32004 32112 32114*
CNT_SYNCHOS_SPDTYP_EXT           P             00006B58  32120*
CNT_VMODE_NEXT_CYCLSTR_050       P             00005940  27752 27782*
CNT_VMODE_NEXT_CYCLSTR_100       P             0000594C  27760 27793*
CPUB_GET_OBJPOS_100              P             00006202  29865 29871*
CPUB_GET_OBJPOS_EXT              P             00006208  29876*
DAI_CHK01_100                    P             0000398C  19791 19799*
DAI_CHK01_200                    P             000002B0   7298  7303*
DAI_CHK03_300                    P             000039E6  19863 19879*
DEBUG_BRK_PNT1_100               P             00001C8C  13056 13065*
DEBUG_BRK_PNT2_100               P             00001CB4  13102 13111*
DEBUG_BRK_PNT3_100               P             00001CDC  13148 13157*
DEBUG_JMP10                      PHiROM        00000E1A  40575 40579*
DEBUG_SIGINC_100                 P             00001342  11130 11132*
DELT_POS_SPDCG1_020              P             00003F78  21298 21300*
DELT_POS_SPDCG1_050              P             00003F8A  21307 21315*
DELT_POS_SPDCG1_100              P             00003F8E  21312 21321*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   649

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DELT_POS_SPDCG1_150              P             00004036  21446*21452 
DELT_POS_SPDCG1_200              P             00003F96  21304 21310 21318 21331*
DELT_POS_SPDCG1_250              P             00003FB2  21344 21346*
DELT_POS_SPDCG1_300              P             00003FCA  21360 21363*
DELT_POS_SPDCG1_350              P             00003FCC  21356 21365*
DELT_POS_SPDCG1_380              P             00003FD6  21371 21373*
DELT_POS_SPDCG1_430              P             00004002  21403 21405*
DNDINC_MAKOBJPOS_100             P             00002600  15070 15082*
DNDINC_MAKOBJPOS_120             P             0000260A  15074 15088*
DNDINC_MAKOBJPOS_150             P             0000261C  15076 15087 15100*
DNDINC_MAKOBJPOS_200             P             00002620  15092 15104*
DNDINC_SPDSET_100                P             00000880   8837  8843  8845*
DNDINC_STEP_MK100                P             000024F8  14861 14871 14881 14898*
DNDINC_STEP_MK150                P             00002530  14883 14911 14929*
DNDINC_STEP_MK180                P             0000256C  14934 14968*
DNDINC_STEP_MK200                P             0000258A  14957 14991*
DNDINC_STEP_MK220                P             000025D4  15028 15039*
DNDINC_STEP_MK300                P             000025DA  14917 15033 15043*
DNDINC_ST_100                    P             00000400   7612  7626*
DNDINC_ST_250                    P             00000448   7658  7675*
DNDINC_ST_290                    P             0000044E   7664  7680*
DNDINC_ST_350                    P             00000460   7636  7695*
DNDINC_ST_380                    P             00000472   7686  7712*
DNDINC_ST_520                    P             0000048C   7631  7729*
DNDINC_ST_550                    P             000004C4   7733  7765*
DNDINC_ST_580                    P             000004D4   7755  7779*
DNDINC_ST_END                    P             000004DA   7619  7718  7784*
DND_1STEP_DATMK1_050             P             00001630  11760 11762*
DND_ALLSTEPCTL_005               P             00001F9C  13822 13836*
DND_ALLSTEPCTL_010               P             00001FB8  13842 13858*
DND_ALLSTEPCTL_020               P             00001FC8  13815 13874*
DND_ALLSTEPCTL_050               P             00001FD8  13879 13887*
DND_ALLSTEPCTL_060               P             00001FF0  13900 13903 13908*
DND_ALLSTEPCTL_100               P             0000200C  13914 13925*
DND_ALLSTEPCTL_200               P             00002028  13932 13948*
DND_ALLSTEPCTL_300               P             00002044  13916 13967*
DND_ALLSTEPCTL_320               P             00002064  13984 13990*
DND_ALLSTEPCTL_400               P             00002070  13970 14001*
DND_ALLSTEPCTL_420               P             00002080  14006 14013*
DND_ALLSTEPCTL_425               P             00002088  14018 14022*
DND_ALLSTEPCTL_450               P             0000217C  14032 14174*
DND_ALLSTEPCTL_500               P             000021C8  14020 14219*
DND_ALLSTEPCTL_580               P             000021F4  14207 14257*
DND_ALLSTEPCTL_600               P             00002268  14008 14314*
DND_ALLSTEPCTL_900               P             0000228A  13828 13850 13864 13881 13938 13959 13992 14156 14294 14353*
DND_LNKPLS_OBJMK1_END            P             00000772   8515  8535  8556*
DND_LNKPLS_OBJ_CHG050            P             00000732   8505  8509*
DND_LNKPLS_OBJ_DNPOS1            P             00000750   8482  8527*
DND_LNKPLS_OBJ_STOPPOS1          P             00000768   8487  8489  8549*
DND_LNKPLS_OBJ_UPPOS0            P             00000722   8496*
DND_LNKPLS_OBJ_UPPOS1            P             00000722   8479  8484  8495*
DND_LNK_STEP_CHG0_100            P             00000576   7986  7988*
DND_LNK_STEP_CHG0_400            P             00000584   7979  7999*
DND_LNK_STEP_CHG0_423            P             00000598   8004  8013*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   650

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_LNK_STEP_CHG0_425            P             0000059A   7991  8007  8016*
DND_LNK_STEP_CHG0_END            P             0000059E   8022*
DND_LNK_STEP_CHG2_300            P             00000624   8158  8168*
DND_LNK_STEP_CHG2_320            P             00000640   8178  8190*
DND_LNK_STEP_CHG2_400            P             00000642   8182  8193*
DND_LNK_STEP_CHG2_END            P             00000646   8160  8174  8198*
DND_LNK_STEP_CHK0_100            P             00000532   7917  7919*
DND_LNK_STEP_CHK0_200            P             00000540   7909  7931*
DND_LNK_STEP_CHK0_400            P             00000550   7936  7944*
DND_LNK_STEP_CHK0_450            P             00000552   7922  7947*
DND_LNK_STEP_CHK0_END            P             00000556   7938  7951*
DND_LNK_STEP_CHK2_100            P             000005D8   8061  8083*
DND_LNK_STEP_CHK2_199            P             000005E6   8071  8074  8092  8094*
DND_LNK_STEP_CHK2_300            P             000005F0   8054  8105*
DND_LNK_STEP_CHK2_400            P             00000600   8110  8118*
DND_LNK_STEP_CHK2_450            P             00000602   8097  8121*
DND_LNK_STEP_CHK2_END            P             00000606   8112  8125*
DND_NEGSTEPCTL_100               P             000022F4  14447 14456*
DND_NEGSTEPCTL_200               P             00002310  14468 14482*
DND_NEGSTEPCTL_250               P             00002348  14501 14524*
DND_NEGSTEPCTL_300               P             00002368  14449 14549*
DND_NEGSTEPCTL_320               P             00002388  14570 14578*
DND_NEGSTEPCTL_400               P             00002398  14552 14593*
DND_NEGSTEPCTL_420               P             000023AC  14604 14613*
DND_NEGSTEPCTL_580               P             000023BE  14646*
DND_NEGSTEPCTL_900               P             000023E2  14470 14489 14513 14541 14572 14585 14606 14671*
DND_NEG_AREA_JD1_050             P             000006B6   8386  8388*
DND_NEG_AREA_JD1_100             P             000006C6   8395  8398  8402*
DND_NEG_AREA_JD2_100             P             000006F4   8436  8439  8443*
DND_NEG_STOP_SVCK_EXT            P             0000068A   8285*
DND_NEG_STOP_SVCK_OFF            P             00000686   8261  8267  8276  8280*
DND_NEG_STOP_SVCK_ON             P             00000684   8278*
DND_NEG_STOP_SVCK_SET            P             00000686   8281*
DND_ORGIN_SIG_FORON_EXT          P             000022C8  14382 14388 14394 14402*
DND_ORGIN_STEP_050               P             00002104  14039 14101*
DND_ORGIN_STEP_100               P             00002146  14084 14150*
DND_ROTSTEPCTL_050               P             00002420  14723 14732*
DND_ROTSTEPCTL_080               P             00002438  14737 14750*
DND_ROTSTEPCTL_200               P             00002448  14749 14764*
DND_ROTSTEPCTL_400               P             00002448  14765*
DND_ROTSTEPCTL_420               P             0000245C  14776 14785*
DND_ROTSTEPCTL_440               P             00002484  14798 14809*
DND_ROTSTEPCTL_500               P             0000248E  14801 14813 14815*
DND_ROTSTEPCTL_900               P             0000249E  14752 14778 14830*
DND_ROTSTEPCTL_EXT               P             000024A0  14725 14832*
DND_SPD_SEQSET_100               P             000008B8   8894  8896*
DND_SPD_SEQSET_END               P             000008C6   8885  8890  8906*
DND_TEPSTEPCTL_020               P             00002760  15403 15412*
DND_TEPSTEPCTL_180               P             00002790  15428 15442 15454*
DND_TEPSTEPCTL_200               P             000027AC  15416 15468*
DND_TEPSTEPCTL_220               P             000027F0  15479 15510*
DND_TEPSTEPCTL_290               P             000027F6  15518*
DND_TEPSTEPCTL_400               P             00002800  15405 15529*
DND_TEPSTEPCTL_420               P             00002814  15534 15547*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   651

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_TEPSTEPCTL_800               P             0000283C  15554 15577*
DND_TEPSTEPCTL_900               P             00002842  15456 15498 15520 15540 15566 15584*
DND_TEPSTEPCTL_EXT               P             00002844  15586*
DNMODE_ENDWAIT_TIMCK_END         P             00006C4C  32360 32366*
DNMODE_ENDWAIT_TIMST100          P             00006C2C  32316 32322 32336*
DNMODE_ENDWAIT_TIMST200          P             00006C2E  32327 32338*
DNM_ACCCALC_020                  PHiROM        00000BCE  40041 40043*
DNM_ACCCALC_100                  PHiROM        00000C04  40083 40087*
DNM_ACCCALC_200                  PHiROM        00000C12  40093 40100*
DNM_ACCCALC_300                  PHiROM        00000C2E  40115 40122*
DNM_ACC_OVER_PLSMK100            PHiROM        00000CD4  40200 40204 40217*
DNM_ACC_OVER_PLSMK200            PHiROM        00000CDA  40188 40206 40222*
DNM_CYCLE_ED_100                 P             00006D0A  32544 32550 32552*
DNM_CYCLE_STR_100                P             00006D74  32611 32639*
DNM_CYCLE_STR_200                P             00006D78  32627 32643*
DNM_MATH_ELSE_DATMK100           P             00006DB0  32690 32696 32713 32720*
DNM_PLS_LSICTLCAL_010            PHiROM        000011C6  41593 41598*
DNM_PLS_LSICTLCAL_020            PHiROM        000011E8  41605 41621*
DNM_PLS_LSICTLCAL_050            PHiROM        00001200  41609 41628 41636*
DNM_PLS_LSICTLCAL_100            PHiROM        00001204  41611 41644*
DNM_PLS_LSICTLCAL_150            PHiROM        00001220  41648 41663*
DNM_PLS_LSICTLCAL_160            PHiROM        00001230  41668 41678*
DNM_PLS_LSICTLCAL_180            PHiROM        00001258  41686 41706*
DNM_PLS_LSICTLCAL_190            PHiROM        0000125E  41711*
DNM_PLS_LSICTLCAL_500            PHiROM        0000127C  41655 41715 41734*
DNM_PLS_LSICTLCAL_510            PHiROM        00001282  41697 41740*
DNM_PLS_LSICTLCAL_700            PHiROM        00001298  41638 41691 41717 41760*
DNM_PLS_LSICTLCAL_710            PHiROM        000012D4  41780 41786 41804*
DNM_PLS_LSICTLCAL_720            PHiROM        000012E2  41814 41816*
DNM_PLS_LSICTLCAL_740            PHiROM        000012EA  41794 41819 41821*
DNM_PLS_LSICTLCAL_760            PHiROM        000012FC  41828 41837*
DNM_PLS_LSICTLCAL_800            PHiROM        0000131C  41630 41835 41855*
DNM_PLS_LSICTLCAL_820            PHiROM        0000132A  41773 41865*
DNM_PLS_LSICTLCAL_900            PHiROM        0000133A  41750 41844 41882*
DNM_PLS_LSICTLCAL_ERR            PHiROM        00001348  41725 41892*
DNM_PLS_LSICTLCAL_EXT            PHiROM        00001356  41671 41744 41884 41903*
DNM_STEP_ACC_CHGDBG10            PHiROM        00000A9A  39829 39831*
DNM_STEP_ACC_CHGDBG20            PHiROM        00000AA0  39833 39835*
DNM_STEP_ACC_CHG_100             PHiROM        00000AB4  39818 39824 39854*
DNM_TBLCAL_200                   PHiROM        000003CC  38231 38248*
DNM_TBLCAL_300                   PHiROM        000003CE  38239 38250*
DURING_TIM_CNTCK_END             P             00006BC2  32234*
DURING_TIM_PRECALC100            P             00006BF4  32267 32281*
DURING_TIM_PRECALC200            P             00006BF6  32258 32262 32270 32283*
DURING_TIM_PRECALCEND            P             00006BFA  32272 32286*
ENDHAND_WAIT_TIMC100             P             00006DF8  32754 32768*
ENDHAND_WAIT_TIMC200             P             00006E04  32759 32777*
ERR_INFO_BAKUP_ST_END            P             0000519E  25640 25653*
ERR_INFO_DTCHK1_EXT              P             00004EC6  24967 24973 24979 24986 25030*
ERR_INFO_DTCHK2_050              P             00004F68  25168 25170*
ERR_INFO_DTCHK2_100              P             00004F7C  25177 25183*
ERR_INFO_DTCHK2_150              P             00004F92  25190 25198*
ERR_INFO_DTCHK2_200              P             00004FD8  25201 25229*
ERR_INFO_DTCHK2_300              P             00004FEC  25208 25235 25241*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   652

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ERR_INFO_DTCHK2_EXT              P             00004FEE  25099 25105 25112 25119 25246*
ERR_INFO_DTCHK3X_100             P             00005130  25490 25499*
ERR_INFO_DTCHK3X_200             P             0000517C  25492 25553*
ERR_INFO_DTCHK3X_300             P             0000517C  25531 25543 25554*
ERR_INFO_DTCHK3_050              P             00005050  25313 25328*
ERR_INFO_DTCHK3_060              P             0000507A  25356 25358*
ERR_INFO_DTCHK3_100              P             00005084  25341 25369*
ERR_INFO_DTCHK3_200              P             0000509E  25378 25391*
ERR_INFO_DTCHK3_220              P             000050AC  25400 25402*
ERR_INFO_DTCHK3_300              P             000050C2  25405 25419*
ERR_INFO_DTCHK3_350              P             000050C8  25425*25431 
ERR_INFO_DTCHK3_380              P             000050DE  25434 25440*
ERR_INFO_DTCHK3_EXT              P             000050E4  25287 25293 25299 25306 25317 25450*
ERR_INFO_DTIN1_EXT               P             00004D6A  24699 24705 24712*
ERR_INFO_DTIN2_EXT               P             00004DBA  24755 24789*
ERR_INFO_DTIN3_EXT               P             00004E0A  24851 24858*
ERR_INFO_DTIN4_EXT               P             00004E44  24898 24904 24916*
ERR_INFO_WKCLR_LOP               P             000051D8  25708*25714 
ERR_STOP_MOVCK050                P             00003D1C  20669 20671*
FULCLS_LNG_ADD_CAL200            P             000046C8  23038 23043 23045*
FULCLS_LNG_ADD_CAL300            P             00004710  23073 23095*
FULCLS_LNG_ADD_CAL400            P             00004712  23083 23105*
FULCLS_LNG_ADD_CAL450            P             0000471A  23108 23110*
FULCLS_MAXOVER_ERRS100           P             00004560  22649 22657*
FULCLS_MAXOVER_ERRSET            P             00004540  22609 22621 22631*
FULCLS_MAXOVER_ERRWAT            P             00004560  22625 22635 22662*
FULCLS_MAXPLSCAL_100             P             000044C8  22509 22511*
FULCLS_MAXPLSCAL_200             P             000044D0  22520*
FULCLS_OVERSG_100                P             000045B2  22750 22759 22763*
FUL_BEFOR_CAL100                 P             00001550  11522 11534*
FUL_BEFOR_CAL500                 P             00001556  11514 11524 11541*
FUL_CLS_OBJPLSCK_050             P             00004698  22991 22997 22999*
FUL_PLS_ST120                    P             0000476E  23198 23200*
FWD_REV_STR_050                  P             000034BA  18587 18589*
FWD_REV_STR_055                  P             000034C8  18595 18598*
FWD_REV_STSIG_OFSPEC_050         P             000035D0  18807 18843*
GAMEN_OVRIDE_100                 P             00005FF0  29345 29347*
GENSOK_SIGMK_050                 P             0000405C  21481 21489*
GENSOK_SIGMK_END                 P             00004074  21506 21510*
GENSOK_SIGMK_OF                  P             00004072  21483 21496 21508*
GENSOK_SIGMK_ON                  P             0000406C  21494 21503*
HENSA_DAT_MONMK_050              P             00005784  27418 27420*
HENSA_DAT_MONMK_100              P             0000579E  27436 27438*
H_BYTE                                    EQU  00000000     82*
INCENC_SV_HENSA_MK050            P             00003C56  20498 20506*
INCENC_SV_HENSA_MK100            P             00003C5C  20509 20511*
INC_UPLIMT_CAL100                P             00006C98  32392 32399 32424*
INC_UPLIMT_CAL200                P             00006C9A  32412 32426*
INC_UPLIMT_CALEND                P             00006C9E  32429*
INT_POSCTL_0020                  P             00000EEC  10306 10321*
INT_POSCTL_0040                  P             00000EFC  10326 10334*
INT_POSCTL_0045                  P             00000F04  10337 10341*
INT_POSCTL_0048                  P             00000F18  10348 10357*
INT_POSCTL_0080                  P             00000F40  10378 10390*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   653

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

INT_POSCTL_0100                  P             00000F48  10403*
INT_POSCTL_0102                  P             00000F8C  10416 10439*
INT_POSCTL_0102A                 P             00000FC0  10463 10483*
INT_POSCTL_0103                  P             00001010  10514 10534*
INT_POSCTL_0105                  P             00001016  10522 10540*
INT_POSCTL_0110                  P             00001028  10489 10554*
INT_POSCTL_0115                  P             00001034  10471 10547 10566*
INT_POSCTL_0120                  P             0000104C  10448 10583*
INT_POSCTL_0130                  P             00001084  10589 10617*
INT_POSCTL_0140                  P             00001090  10572 10606 10628*
INT_POSCTL_0190                  P             000010DA  10350 10423 10690*
INT_POSCTL_0200                  P             00001118  10339 10712*
INT_POSCTL_0220                  P             00001154  10722 10752*
INT_POSCTL_0240                  P             00001188  10755 10784*
INT_POSCTL_0250                  P             000011C4  10790 10827*
INT_POSCTL_0260                  P             000011E4  10832 10836 10853*
INT_POSCTL_0280                  P             000011EA  10845 10858*
INT_POSCTL_0300                  P             00001224  10328 10915*
INT_POSCTL_0320                  P             00001234  10924 10929*
INT_POSCTL_0500                  P             00001264  10921 10937 10965*
INT_POSCTL_0700                  P             00001284  10308 10918 10996*
INT_POSCTL_0800                  P             00001296  10692 10741 10774 10815 10900 10952 10972 10979 11011*
INT_POSCTL_0900                  P             00001298  10926 11001 11013*
INT_POSCTL_0910                  P             000012B6  10197 10222 11037*
INT_POSCTL_0920                  P             000012FC  11051 11075*
INT_POSCTL_0950                  P             00001306  11059 11082*
INT_POSCTL_CHK00                 P             00000E7C  10195 10207*
INT_POSCTL_CHK10                 P             00000E98  10214 10230*
JMP0100000                       P             000007C0   8655  8675*
JMP0100001                       P             00000944   9002  9025*
JMP0100002                       P             00000B08   9418  9436*
JMP0100003                       P             00000D62   9944  9947*
JMP0100007                       P             00002548  14942 14945*
JMP0100008                       P             00002556  14952 14955*
JMP0100009                       P             0000257C  14977 14979*
JMP0100010                       P             0000258A  14987 14989*
JMP0100011                       P             000025B4  14997 15018*
JMP0100013                       P             00002A34  15980 15982*
JMP0100014                       P             00003FEC  21388 21390*
JMP0100016                       P             00004EA2  25000 25002*
JMP0100017                       P             00004EB4  25013 25015*
JMP0100018                       P             00004EC2  25024 25026*
JMP0100019                       P             00004F3A  25133 25135*
JMP0100020                       P             00004F4C  25146 25148*
JMP0100021                       P             00004F5A  25157 25159*
JMP0200000                       P             000007CC   8659  8661  8664  8678  8680  8682*
JMP0200001                       P             00000950   9006  9008  9011  9028  9030  9032*
JMP0200002                       P             00000B14   9422  9424  9427  9439  9441  9443*
JMP0200003                       P             00000D7A   9954  9958  9961*
JMP0200011                       P             000025C0  15001 15003 15006 15021 15023 15025*
JMP0200014                       P             00003FF4  21393 21395*
JMPED00027                       P             000077CA  34734 34736 34740*
JMPED00028                       P             000077E0  34755 34757 34761*
JMPED00029                       P             000077F6  34776 34778 34782*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   654

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

JMP_0100004                      P             0000192A  12388 12391*
JMP_0100005                      P             00002054  13976 13979*
JMP_0100006                      P             00002378  14560 14563*
JMP_0100012                      P             00002742  15388 15391*
JMP_0100015                      P             000041C4  21869 21872*
JMP_0100022                      P             00006CB6  32464 32466*
JMP_0100023                      P             00006CF6  32535 32537*
JMP_0100024                      P             00006D3A  32601 32603*
JMP_0100025                      P             00006E04  32773 32776*
JMP_0100026                      P             00007732  34600 34603*
KAJYU_START_UPCK_EXT             P             00004B98  24191 24197 24204 24213*
KJYU_DATA_INFOSL100              P             00004B50  24090 24096 24119 24150*
KJYU_DATA_INFOSL300              P             00004B5C  24137 24158*
KJYU_NEARZERO3CHK_100            P             00004A40  23912 23914*
KJYU_NEARZERO3CHK_200            P             00004A5A  23929 23931*
KJYU_NEARZERO3CHK_END            P             00004A90  23939 23954 23961 23967 23973*
KJYU_NEARZERO3CHK_OUT_OFF        P             00004A82  23919 23958*
KJYU_NEARZERO3CHK_TOUTATU        P             00004A88  23933 23951 23964*
KJYU_NEARZERO3CHK_YES            P             00004A8E  23936 23970*
KJYU_NEARZERO3_CK100             P             00004A78  23949*
KJYU_NEARZERO_CK200              P             00004A1E  23829 23833 23835*
KJYU_OUTDIR100                   P             00004AAC  23992 24002*
KJYU_OUTDIR200                   P             00004AAE  23995 24005*
LINK_DIR_OBJMK3_250              P             00000BDC   9604  9609  9611*
LINK_DIR_OBJMK3_280              P             00000BE8   9618  9620*
LINK_DIR_OBJMK3_300              P             00000C04   9600  9634*
LINK_DIR_OBJMK3_400              P             00000C18   9638  9643  9645*
LINK_DIR_OBJMK3_450              P             00000C24   9653  9655*
LINK_DIR_OBJMK3_500              P             00000C26   9622  9658*
LINK_DIR_OBJMK3_600              P             00000C30   9662  9664*
LINK_DIR_OBJMK3_750              P             00000C58   9698  9700*
LINK_PM_MX50                     P             00000D9E   9993  9997*
LINK_UPPLSDN_DRV050              P             00000CA4   9750  9761*
LINK_UPPLSDN_DRV130              P             00000CD0   9752  9776  9782  9788  9799*
LINK_UPPLSDN_DRV135              P             00000CD6   9804*
LINK_UPPLSDN_DRV140              P             00000CD8   9802  9807*
LINK_UPPLS_A_OBJMK1_100          P             000008FC   8968  8970*
LINK_UPPLS_A_OBJMK1_110          P             00000902   8974  8976*
LINK_UPPLS_A_OBJMK1_145          P             00000956   8995  9037*
LINK_UPPLS_A_OBJMK1_150          P             00000958   9036  9039*
LINK_UPPLS_A_OBJMK1_300          P             00000978   9043  9062*
LINK_UPPLS_A_OBJMK1_400          P             0000098C   9066  9071  9073*
LINK_UPPLS_A_OBJMK1_500          P             0000098E   9047  9052  9055  9075*
LINK_UPPLS_A_OBJMK1_600          P             00000998   9079  9081*
LINK_UPPLS_A_OBJMK1_700          P             000009C0   9115  9117*
LINK_UPPLS_A_OBJMK2_030          P             00000A02   9164  9166*
LINK_UPPLS_A_OBJMK2_050          P             00000A22   9185  9187*
LINK_UPPLS_OBJ_SEL_050           P             00000AAC   9326  9339*
LINK_UPPLS_OBJ_SEL_100A          P             00000AC4   9346  9360*
LINK_UPPLS_OBJ_SEL_110B          P             00000AD4   9331  9351  9372*
LINK_UPPLS_OBJ_SEL_END           P             00000AD6   9365  9375*
LNKPLS_OBJ_DAT_MK1_150           P             000007D4   8686  8688*
LNKPLS_OBJ_DAT_MK1_300           P             000007F4   8692  8711*
LNKPLS_OBJ_DAT_MK1_400           P             00000808   8715  8720  8722*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   655

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LNKPLS_OBJ_DAT_MK1_500           P             0000080A   8696  8701  8704  8724*
LNKPLS_OBJ_DAT_MK1_600           P             00000814   8728  8730*
LNKPLS_OBJ_DAT_MK1_750           P             0000083C   8764  8766*
LNKPLS_OBJ_DAT_MK2_050           P             00002672  15183 15188 15194*
LNKPLS_OBJ_DAT_MK2_080           P             00002680  15199 15203*
LNKPLS_OBJ_DAT_MK2_100           P             0000269C  15179 15218*
LNKPLS_OBJ_DAT_MK2_150           P             000026A8  15221 15225*
LNKPLS_OBJ_DAT_MK2_200           P             000026B4  15227 15233*
LNKPLS_OBJ_DAT_MK2_280           P             000026C4  15240 15244*
LNKPLS_OBJ_DAT_MK2_300           P             000026C4  15205 15248*
LNKPLS_OBJ_DAT_MK2_600           P             000026CE  15252 15254*
LNKPLS_OBJ_DAT_MK2_750           P             000026F6  15289 15291*
LNKPLS_OBJ_DAT_MK2_800           P             00002708  15298 15303*
LOAD_RESTPLS_050                 P             00003D74  20774 20776 20785*
LOAD_RESTPLS_END                 P             00003D8A  20778 20803*
LOAD_RESTPLS_LOP                 P             00003D44  20750*20793 
LOD_POS_STSRG00                  P             00003636  18956*19017 
LOD_POS_STS_REGSLOW_END          P             0000361E  18914 18920 18923*
L_BYTE                                    EQU  00000001     81*
MN_POSCTL_ST050                  P             00000016   6682  6688  6692*
MN_POSCTL_START_110              P             00000128   6847  6882*
MN_POSCTL_START_200              P             0000013C   6887  6930*
MN_POSCTL_START_220              P             00000180   6935  6942  6950  6957  7031*
MN_POSCTL_START_500              P             000001AC   6849  7062*
MN_POSCTL_START_540              P             000001E8   7102  7133*
MN_POSCTL_START_600              P             000001F8   7083  7119  7144*
MN_POSCTL_START_800              P             000001FE   6895  6966  7053  7148*
MN_POS_CTLACT_100                P             00000280   7246  7255*
MN_POS_CTLACT_130                P             0000029C   7263  7280*
MN_POS_CTLACT_150                P             000002A2   7272  7287*
MN_POS_CTLACT_800                P             000002CC   7248  7320*
MN_POS_CTLACT_CONTINUE           P             000002F4   7310  7331  7351*
MN_POS_CTLACT_CYCLE_END          P             00000300   7339  7362*
MN_POS_CTLACT_EXIT               P             00000302   7354  7360  7364*
MN_POS_CTLACT_STOP_END           P             000002FA   7341  7357*
MONI_DI_CHK_050                  P             0000695C  31724 31727*
MOST_DISP_DATSMP_050             P             00003CC4  20587 20589*
MOST_DISP_DATSMP_100             P             00003CD4  20597 20599*
MOST_DISP_DATSMP_150             P             00003CE4  20610 20612*
MOTCYC_ED2_050                   P             00003A3E  19968 19971*
MOTION_CYC_ST200                 P             00003992  19784 19806*
MOT_REPSTART_CL050               P             00006F0C  32984 33000*
MOT_REPSTART_CL100               P             00006F1A  32989 33008*
MOT_REPSTART_CL200               P             00006F34  33028 33030*
MOT_REP_STEPCK_100               P             00006E84  32884 32909*
MOT_REP_STEPCK_200               P             00006EC4  32926 32947*
MOT_REP_STEPCK_EXT               P             00006ECA  32878 32897 32915 32921 32935 32953*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   656

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEG_TEPA_ARACHK100               P             00002AE4  16125 16141*
NEG_TEPA_ARACHK200               P             00002AEA  16110 16148*
NEG_TEPA_ARACHK300               P             00002AEC  16129 16144 16150*
NEXT_CYCL_STR1_050               P             00001E28  13483 13495 13508 13524 13526*
OBJ_NEAR_CK_030                  P             00000D20   9882  9884*
OBJ_NEAR_CK_050                  P             00000D30   9887  9897*
OBJ_NEAR_CK_EXT                  P             00000D3C   9890  9902  9904*
OPEN_ROT_NEAR1_ZR_CK100          P             00003B76  20288 20324*
OPEN_ROT_NEAR1_ZR_CK20           P             00003B2C  20242 20249 20256 20268*
OPEN_ROT_NEAR1_ZR_CK40           P             00003B30  20258 20271*
OPEN_ROT_NEAR1_ZR_CK50           P             00003B54  20273 20296*
OPEN_ROT_NEAR2_ZR_CK100          P             00003BDA  20375 20405*
OPEN_ROT_NEAR2_ZR_CK50           P             00003BC0  20360 20384*
ORGIN_OBJ_POSCTLST2_EXT          P             00000E46  10122 10129*
ORGIN_OBJ_POS_CTLST1_100         P             00000DF4  10036 10058*
ORGIN_OBJ_POS_CTLST1_150         P             00000E10  10064 10084*
ORGIN_OBJ_POS_CTLST1_200         P             00000E16  10045 10073 10089*
OUTPLS_CNT_CHK010                P             00003A64  20109 20112*
OUTPLS_CNT_CHK020                P             00003A74  20123 20125*
OUTPLS_CNT_CHK050                P             00003A88  20136 20138*
OUTPLS_CNT_CHK100                P             00003AA2  20151 20154 20156*
OVERRIDE_CHG050                  P             00000EC2  10270 10278 10285*
OVER_DIGCHK_END                  P             0000451E  22578 22588*
OVER_DIGCHK_ERR                  P             000044F8  22565*
OVER_DIGCHK_NOMAL                P             0000451C  22563 22575 22586*
OVER_LIDE_SPDCAL100              P             00006278  30042 30044*
OVER_LIDE_SQRF100                P             00005EE0  29102 29132*
OVER_LIDE_SQRF220                P             00005F18  29164 29166*
OVER_LIDE_SQRF300                P             00005F28  29108 29121 29137 29178*
OVER_RIDE_ERRTIMCHG_100          P             00006180  29691 29705*
OVRLIDE_LATMULDIV200             P             00006690  30983 30992 31002*
OVRLIDE_LATMULDIV300             P             00006698  30990 31011*
OVRLIDE_LATMULDIV400             P             000066A0  31005 31017*
OVRLIDE_LATMULDIV500             P             000066B0  31027 31029*
OVRLIDE_LATMULDIV550             P             000066B6  30994 31032 31034*
OutputPLS_REGCLR_100             P             0000329C  18056 18072*
OutputPLS_REGCLR_150             P             000032F4  18143 18154*
OutputPLS_REGCLR_END             P             00003324  18058 18145 18187*
OutputPLS_REGCLR_ERR             P             0000331C  18164 18179*
OutputPLS_REGCLR_LOP             P             000031E4  17926*18171 
P                                P        SCT  00000000   6229*41963*
PHiROM                           PHiROM   SCT  00000000  37064*
PINT_SERCH_BIG2B_200LOP          PHiROM        000010A8  41241*41284 
PINT_SERCH_BIG2B_300             PHiROM        000010C0  41251 41263*
PINT_SERCH_BIG2B_500             PHiROM        000010C6  41258 41268*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   657

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

PINT_SERCH_BIG2B_600             PHiROM        000010D4  41272 41274 41280*
PINT_SERCH_BIG2B_800             PHiROM        000010DC  41249 41288*
PINT_SERCH_BIG2B_900             PHiROM        000010DC  41290*
PINT_SERCH_BIG4B_200LOP          PHiROM        00001110  41383*41427 
PINT_SERCH_BIG4B_300             PHiROM        00001128  41393 41405*
PINT_SERCH_BIG4B_500             PHiROM        0000112E  41400 41410*
PINT_SERCH_BIG4B_600             PHiROM        0000113C  41415 41417 41423*
PINT_SERCH_BIG4B_800             PHiROM        00001144  41391 41431*
PINT_SERCH_BIG4B_900             PHiROM        00001144  41276 41420 41433*
PLS_CHG_PLSTOLSI_100             P             000065AA  30775 30777*
PLS_CHG_PLSTOLSI_120             P             000065D0  30784 30787 30801*
PLS_CHG_PLSTOLSI_130             P             000065E8  30808 30822*
PLS_CHG_PLSTOLSI_150             P             000065EC  30791 30815 30828*
PLS_CHG_PLSTOLSI_200             P             000065F2  30831 30833*
PLS_LSICTRL_050                  PHiROM        00000024  37124 37131*
PLS_LSICTRL_070                  PHiROM        00000064  37148 37169*
PLS_LSICTRL_080                  PHiROM        00000074  37156 37182*
PLS_LSICTRL_100                  PHiROM        000000B4  37234 37251*
PLS_LSICTRL_200                  PHiROM        0000010C  37255 37291*
PLS_LSICTRL_220                  PHiROM        00000128  37299 37313*
PLS_LSICTRL_END                  PHiROM        0000012E  37230 37240 37270 37305 37319*
PLS_LSI_CTLCAL_020               PHiROM        00000158  37363 37375*
PLS_LSI_CTLCAL_050               PHiROM        00000170  37366 37382 37390*
PLS_LSI_CTLCAL_100               PHiROM        00000174  37368 37395*
PLS_LSI_CTLCAL_150               PHiROM        00000190  37399 37414*
PLS_LSI_CTLCAL_160               PHiROM        000001A0  37419 37429*
PLS_LSI_CTLCAL_500               PHiROM        000001C4  37406 37439 37459*
PLS_LSI_CTLCAL_580               PHiROM        000001E4  37475 37493*
PLS_LSI_CTLCAL_700               PHiROM        000001F4  37392 37441 37449 37509*
PLS_LSI_CTLCAL_720               PHiROM        00000214  37532 37534*
PLS_LSI_CTLCAL_740               PHiROM        0000021C  37537 37539*
PLS_LSI_CTLCAL_760               PHiROM        0000022E  37546 37555*
PLS_LSI_CTLCAL_800               PHiROM        00000254  37384 37484 37553 37575*
PLS_LSI_CTLCAL_820               PHiROM        00000262  37522 37585*
PLS_LSI_CTLCAL_900               PHiROM        00000272  37499 37562 37602*
PLS_LSI_CTLCAL_ERR               PHiROM        00000280  37612*
PLS_LSI_CTLCAL_EXT               PHiROM        0000028E  37422 37486 37604 37623*
PLS_LSI_SPD_ACCADD_200           PHiROM        000002CC  37665 37682*
PLS_LSI_SPD_ACCADD_300           PHiROM        000002D8  37671 37674 37688 37690*
PLS_LSI_SPD_ACCADD_END           PHiROM        000002DC  37663 37693*
POINT_SERCHPLS1_050              PHiROM        00000FBC  40975 40977*
POINT_SERCHPLS1_100              PHiROM        00000FE8  40961 40967 41001*
POINT_SERCHPLS1_200              PHiROM        00000FF0  40989 41007*
POINT_SERCHPLS1_END              PHiROM        00000FF2  41005 41009*
POINT_SERCHPLS_HKN1_050          PHiROM        00001022  41069 41071*
POINT_SERCHPLS_HKN1_100          PHiROM        00001034  41080 41082*
POINT_SERCHPLS_HKN1_400          PHiROM        00001070  41048 41054 41124*
POINT_SERCHPLS_HKN1_500          PHiROM        00001078  41112 41131*
POINT_SERCHPLS_HKN1_END          PHiROM        0000107A  41128 41133*
POINT_SERCHSPD1_100              PHiROM        00000F6C  40863 40867 40887*
POINT_SERCHSPD1_END              PHiROM        00000F72  40875 40890 40893*
POSCNT_BANKDT100                 P             00005A2A  28004*
POSITINER_POSCMP_100             P             0000779E  34697 34700 34703 34705*
POSITIONER_DAICTL_020            P             000072F8  33718 33732*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   658

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSITIONER_DAICTL_040            P             0000730E  33747 33749*
POSITIONER_DAICTL_100            P             0000732C  33711 33769*
POSITIONER_DAICTL_200            P             00007364  33781 33803*
POSITIONER_DAICTL_300            P             00007388  33808 33830*
POSITIONER_DAICTL_350            P             000073A8  33852 33858*
POSITIONER_DAICTL_400            P             000073B8  33833 33870*
POSITIONER_DAICTL_450            P             000073EE  33891 33913*
POSITIONER_DAICTL_500            P             00007414  33873 33931*
POSITIONER_DAICTL_530            P             00007450  33945 33977*
POSITIONER_DAICTL_550            P             00007488  33985 34016*
POSITIONER_DAICTL_590            P             0000748E  33942 34021*
POSITIONER_DAICTL_800            P             00007498  33757 33790 33821 33860 33915 33934 33967 34006 34023 34033*
POSITIONER_DAICTL_EXT            P             000074AE  33720 34055*
POSITIONER_DAIDAT_100            P             0000758A  34243 34247 34251 34255*
POSITIONER_DAIOBJ1MK_100         P             000074D2  34105 34110*
POSITIONER_DAIOBJ1MK_200         P             00007500  34118 34140*
POSITIONER_DAIOBJ1MK_300         P             0000750C  34127 34150*
POSITIONER_DAIOUT_100            P             00007698  34469 34473 34477*
POSITIONER_DAI_OBJ1CP_100        P             00007628  34339 34354*
POSITIONER_DAI_OBJ1CP_END        P             0000763E  34368 34374 34379*
POSITIONER_DAI_OBJ1CP_OVR        P             0000763C  34343 34358 34377*
POSITIONER_DAI_OBJ1CP_WATDN      P             00007636  34360 34371*
POSITIONER_DAI_OBJ1CP_WATUP      P             00007630  34345 34365*
POSITIONER_DAI_OBJ2CP_100        P             0000766C  34410 34425*
POSITIONER_DAI_OBJ2CP_END        P             00007682  34439 34444 34449*
POSITIONER_DAI_OBJ2CP_STP        P             00007680  34414 34429 34447*
POSITIONER_DAI_OBJ2CP_WATDN      P             0000767A  34416 34441*
POSITIONER_DAI_OBJ2CP_WATUP      P             00007674  34431 34436*
POSITIONER_DAI_STPCK100          P             000076D4  34519 34534*
POSITIONER_DAI_STPCK150          P             000076D8  34524 34537*
POSITIONER_DAI_STPCK200          P             000076E4  34522 34536 34548*
POSITIONER_DAI_STPCK230          P             000076F8  34558 34561*
POSITIONER_DAI_STPCK250          P             0000770C  34553 34574*
POSITIONER_DAI_STPCK280          P             00007718  34580 34582*
POSITIONER_DAI_STPCK300          P             00007726  34585 34593*
POSITIONER_DAI_STPCK320          P             0000774A  34619 34621*
POSITIONER_DAI_STPCKEND          P             0000777E  34645 34651 34657*
POSITIONER_DAI_STPCKERR          P             00007776  34628 34648*
POSITIONER_DAI_STPCKINP          P             0000777C  34626 34654*
POSITIONER_DAI_STPCKWAT          P             00007770  34563 34609 34642*
POSITIONER_UPDNLMT100            P             00007554  34202 34204*
POSITIONER_UPDNLMT200            P             0000755E  34209 34211*
POS_1STEP_DATA_MKSL100           P             00001D08  13195 13211*
POS_1STEP_DATA_MKSL200           P             00001D0E  13203 13216*
POS_1STEP_DATMK1CL_020           P             000014E0  11417 11437*
POS_1STEP_DATMK1CL_040           P             000014E6  11424 11444*
POS_1STEP_DATMK1CL_050           P             000014F4  11455 11457*
POS_1STEP_DATMK1_050             P             0000144A  11324 11326*
POS_1STEP_DATMK2_050             P             000015DE  11663 11665*
POS_ALLSTEPCTL_020               P             00001668  11819 11828*
POS_ALLSTEPCTL_100               P             00001670  11831 11836*
POS_ALLSTEPCTL_101               P             00001684  11846 11855*
POS_ALLSTEPCTL_105               P             000016A4  11875 11885*
POS_ALLSTEPCTL_120               P             000016A8  11866 11890*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   659

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_ALLSTEPCTL_189               P             0000173C  11960 11966 11970 12007*
POS_ALLSTEPCTL_189A              P             00001758  11978 12013 12027*
POS_ALLSTEPCTL_190               P             0000175A  11954 11986 12019 12030*
POS_ALLSTEPCTL_200               P             00001774  11915 12055*
POS_ALLSTEPCTL_210               P             000017AA  12093 12098*
POS_ALLSTEPCTL_211               P             000017C0  12111 12117*
POS_ALLSTEPCTL_220               P             000017E8  12084 12134*
POS_ALLSTEPCTL_225               P             000017FC  12150 12159*
POS_ALLSTEPCTL_230               P             0000181C  11848 11877 12176 12186*
POS_ALLSTEPCTL_280               P             0000187C  12262 12272 12274*
POS_ALLSTEPCTL_285               P             00001886  12282 12284*
POS_ALLSTEPCTL_300               P             000018E4  11833 12340*
POS_ALLSTEPCTL_310               P             0000190C  12351 12368*
POS_ALLSTEPCTL_320               P             00001944  12397 12408*
POS_ALLSTEPCTL_400               P             00001960  12343 12436*
POS_ALLSTEPCTL_415               P             0000198E  12446 12453 12462 12469 12475 12481*
POS_ALLSTEPCTL_420               P             000019C0  12502 12516*
POS_ALLSTEPCTL_428               P             00001A0C  12541 12565*
POS_ALLSTEPCTL_430               P             00001A2C  12568 12590*
POS_ALLSTEPCTL_450               P             00001A68  12602 12629*
POS_ALLSTEPCTL_530               P             00001AB4  12660 12703*
POS_ALLSTEPCTL_550               P             00001AC8  12683 12709 12719*
POS_ALLSTEPCTL_580               P             00001B06  12551 12618 12776*
POS_ALLSTEPCTL_583               P             00001B74  12803 12831*
POS_ALLSTEPCTL_585               P             00001B8C  12797 12849*
POS_ALLSTEPCTL_590               P             00001B92  12582 12809 12842 12860*
POS_ALLSTEPCTL_600               P             00001C28  12690 12711 12965*
POS_ALLSTEPCTL_600X              P             00001A96  12656 12667 12688*
POS_ALLSTEPCTL_900               P             00001C52  11821 11887 12044 12120 12152 12178 12317 12359 12399 12426 12504 12944 
                                                         13004*
POS_ALLSTEPCTL_REP231            P             00001864  12246 12248*
POS_CLS_CPUB_TO_CPUA_100         P             0000463E  22916 22918*
POS_CLS_OBJPVPLSMAK100           P             000048AE  23505 23511*
POS_CLS_OBJPVPLSMAK300           P             00004900  23529 23559*
POS_CLS_OBJPVPLSMAK310           P             00004910  23579 23583*
POS_CLS_OBJPVPLSMAK500           P             00004914  23543 23591*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK100 P             0000493C  23622 23636*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK120 P             00004950  23648 23650*
POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND P             00004956  23629 23652 23655*
POS_CLS_RNA_KJYU_NZ_CHK100       P             00004984  23682 23696*
POS_CLS_RNA_KJYU_NZ_CHK200       P             000049C8  23717 23747*
POS_CLS_RNA_KJYU_NZ_CHK400       P             000049D6  23713 23761*
POS_CLS_RNA_KJYU_NZ_CHK490       P             000049E4  23725 23736 23754 23772*
POS_CLS_RNA_KJYU_NZ_CHK500       P             000049F4  23707 23787*
POS_CLS_RNA_KJYU_NZ_CHKEND       P             000049FA  23689 23764 23778 23794*
POS_CLS_START_050                P             00004882  23459 23461*
POS_CLS_TYP1_NEAR_ZR_CHK_100     P             000045F6  22834 22838*
POS_CLS_TYP1_NEAR_ZR_CHK_200     P             00004620  22859 22875*
POS_CLS_TYP1_NEAR_ZR_CHK_201     P             00004626  22863 22880*
POS_CLS_TYP1_NEAR_ZR_CHK_202     P             00004628  22866 22878 22882*
POS_CLS_TYP1_POSCTL1_000         P             0000411E  21629 21727*
POS_CLS_TYP1_POSCTL1_050         P             00004150  21769 21783*
POS_CLS_TYP1_POSCTL1_100         P             000041B8  21732 21862*
POS_CLS_TYP1_POSCTL1_105         P             000041B8  21863*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   660

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_CLS_TYP1_POSCTL1_107         P             000041E0  21890 21899*
POS_CLS_TYP1_POSCTL1_108         P             000041F4  21898 21910*
POS_CLS_TYP1_POSCTL1_110         P             000041F8  21882 21918*
POS_CLS_TYP1_POSCTL1_112         P             00004220  21925 21943*
POS_CLS_TYP1_POSCTL1_113         P             00004230  21949 21957*
POS_CLS_TYP1_POSCTL1_115         P             0000424C  21970 21979*
POS_CLS_TYP1_POSCTL1_117         P             00004260  21984 21993*
POS_CLS_TYP1_POSCTL1_118         P             000042DC  22023 22090*
POS_CLS_TYP1_POSCTL1_119A        P             00004314  22108 22136*
POS_CLS_TYP1_POSCTL1_119E        P             0000431A  22125 22141*
POS_CLS_TYP1_POSCTL1_119E_EX     P             00004336  22118 22165*
POS_CLS_TYP1_POSCTL1_200         P             00004354  21951 22181*
POS_CLS_TYP1_POSCTL1_220         P             000043A4  22200 22231*
POS_CLS_TYP1_POSCTL1_222         P             000043BC  22251 22260*
POS_CLS_TYP1_POSCTL1_240         P             000043D0  22267 22281*
POS_CLS_TYP1_POSCTL1_250         P             000043D8  22253 22275 22289*
POS_CLS_TYP1_POSCTL1_260         P             0000440C  22273 22286 22319*
POS_CLS_TYP1_POSCTL1_280         P             0000442A  22332 22344 22353*
POS_CLS_TYP1_POSCTL1_ED050       P             0000429E  22013 22046*
POS_CLS_TYP1_POSCTL1_END         P             00004448  21699 21718 22370 22375*
POS_CLS_TYP1_POSCTL1_NOT         P             000040A6  21615 21635*
POS_CLS_TYP1_POSCTL1_NOT20       P             000040AC  21622 21644*
POS_CLS_TYP1_POSCTL1_OUT_WAIT    P             00004446  21771 21846 21901 21972 21988 22076 22167 22219 22308 22355 22373*
POS_CLS_TYP1_POSCTL1_OVER98      P             00004294  21934 22038*
POS_CLS_TYP1_POSCTL1_OVER99      P             00004298  22021 22041*
POS_CLS_TYP1_POSCTL1_PC_END      P             00004440  21912 22367*
POS_CNT_BANKDTMAK123_COM         P             00005A6A  27945 28019 28060*
POS_CNT_BANKDTMAK12_050          P             00005A66  28052 28054*
POS_CNT_BANKDTMAK12_COM          P             00005A58  27940 27962 28014 28043*
POS_CNT_BANKDTMKCM_050           P             00005B1C  28210 28212*
POS_CNT_BANKDTMKCM_EXT           P             00005B26  28219*
POS_CNT_LASTSTEPCHK_END          P             00005AC2  28129 28131*
POS_ENDMYUTTIM_KEEP              P             00000364   7477*
POS_ENDMYUTTIM_STOP              P             0000036A   7461  7467  7473  7483*
POS_ENDWAIT_TIMSET_END           P             00000324   7397  7404  7411*
POS_LSI_EMGSTOP_END              P             00003372  18276 18292*
POS_LSI_SLWSTOP_END              P             000033A0  18328 18340*
POS_PLSOUT_SETRY100              P             000036FC  19132 19148*
POS_PLSOUT_SETRY120              P             00003742  19206 19214*
POS_PLSOUT_SETRY130              P             00003778  19217 19243*
POS_PLSOUT_SETRY900              P             000037E8  19230 19261 19264 19267 19354*
POS_PLSOUT_SETRYERR              P             000037D8  19303 19323*
POS_PLSOUT_SETRYEXT              P             000037F6  19139 19348 19375*
POS_PLSOUT_SETRYLOP              P             0000371A  19180*19310 
POS_PLS_OUTDAT_050               P             00003824  19429 19436*
POS_PLS_OUTDAT_080               P             00003850  19450 19463*
POS_PLS_OUTDAT_100               P             00003862  19469 19477*
POS_PLS_OUTDAT_200               P             0000386C  19480 19482 19484*
POS_PLS_OUTDAT_250               P             00003886  19494 19502*
POS_PLS_OUTDAT_300               P             0000388A  19453 19507*
POS_PLS_OUTDAT_320_ECK10         P             000038E8  19647 19649*
POS_PLS_OUTDAT_320_END           P             00003924  19651 19688*
POS_PLS_OUTDAT_320_ERR1          P             00003914  19641 19673*
POS_PLS_OUTDAT_320_EXT           P             0000392C  19660 19682 19694*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   661

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_PLS_OUTDAT_400               P             00003952  19725 19733*
POS_START_ROT_CAL_040            P             00001DB0  13384 13388 13393 13418*
POS_START_ROT_CAL_050            P             00001DB4  13378 13425*
POS_START_ROT_CAL_100            P             00001DD4  13402 13432 13438 13454*
POS_START_ROT_CAL_200            P             00001DE0  13456 13465*
POS_START_ROT_CAL_900            P             00001DF0  13420 13442 13461 13467 13471 13479*
POS_START_ROT_CAL_950            P             00001DFC  13459 13490*
POS_START_ROT_CAL_999            P             00001E0C  13444 13473 13503*
PRESET_PVABSTOOBJ_100            P             000061C4  29775 29794*
PRESET_PVABSTOOBJ_EXT            P             000061CA  29787 29807*
RESTART_WAIT_PLS_DATASEL_100     P             00004488  22417 22445*
RESTART_WAIT_PLS_DATASEL_END     P             0000449A  22414 22460*
RESTART_WAIT_PLS_DATASEL_OUT     P             00004498  22433 22458*
REVRSE_KAJYU_AREACK_END          P             00004C1E  24337 24353*
REVRSE_KAJYU_AREACK_LASTSPD      P             00004C18  24315 24328 24330 24347*
REV_BEFORE_CHGKOUTEICK090        P             00004814  23305 23316*
REV_BEFORE_CHGKOUTEICK100        P             00004816  23299 23318*
REV_BEFORE_CHGKOUTEICK200        P             00004824  23327*
REV_BEFORE_CHGKOUTEICK300        P             00004830  23307 23325 23337*
REV_BEFORE_CHGKOUTEICK400        P             00004832  23330 23339*
RL_POSDTCHK_SECOND_RD            P             00006A04  31816*31822 31824 
SET_OVERID200                    P             00006064  29387 29423*
SET_OVERID500                    P             000060AC  29382 29438 29467*
SET_OVERID900                    P             000060C6  29410 29455 29487*
SPD_CTL_ST100                    P             00006780  31229 31235*
SPD_STEP_CHGFWD_090              P             00001EEC  13667 13675 13689*
SPD_STEP_CHGFWD_100              P             00001EF0  13653 13695*
SPD_STEP_CHGFWD_200              P             00001EFA  13660 13703*
SPD_STEP_CHGFWD_202              P             00001EFC  13678 13706*
SPD_STEP_CHGFWD_250              P             00001F1C  13711 13728*
SPD_STEP_CHGFWD_EXT              P             00001F4C  13650 13691 13702 13720 13770*
SPD_UPLIMT_CALEND                P             000062A0  30078 30083 30085*
START_CNT_BANK2_MAKCHK_END       P             00005B50  28254 28270*
TBLACC_ACC_ADD_200               PHiROM        00001198  41501 41520*
TBLACC_ACC_ADD_300               PHiROM        000011A4  41507 41510 41526 41528*
TBLACC_ACC_ADD_END               PHiROM        000011A6  41499 41530*
TBLACC_STEP_SPMAK_100            PHiROM        00000E64  40595 40626*
TBLACC_STEP_SPMAK_200            PHiROM        00000E6E  40558 40564 40635*
TBLACC_STEP_SPMAK_250            PHiROM        00000E90  40639 40657*
TBLACC_STEP_SPMAK_300            PHiROM        00000E9C  40648 40665*
TBLACC_STEP_SPMAK_400            PHiROM        00000EBC  40555 40644 40662 40686*
TBLACC_STEP_SPMAK_500            PHiROM        00000ECA  40610 40675 40700*
TBLACC_STEP_SPMAK_CNST050        PHiROM        00000E2C  40586 40597*
TBLACC_STOPSP_MK500              PHiROM        00000DD0  40468 40511*
TEPA_ADDLSI_010                  P             00002C0C  16450 16465*
TEPA_ADDLSI_020                  P             00002C14  16454 16468 16473*
TEPA_ADDLSI_025                  P             00002C28  16433 16489*
TEPA_ADDLSI_030                  P             00002C38  16443 16456 16470 16500*
TEPA_ADDLSI_EXT                  P             00002C80  16491 16506 16517 16529 16560*
TEPA_PLSCNTCHK_050               P             00002BB6  16379 16387*
TEPA_PLSCNTCHK_100               P             00002BBC  16373 16385 16393*
TEPA_STARTCHK_050                P             00002B34  16230 16232*
TEPA_STARTCHK_END                P             00002B58  16239 16255*
TEPA_STARTCHK_NG                 P             00002B3A  16219 16225 16236*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   662

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

TEPA_STARTCHK_OK                 P             00002B50  16235 16249*
TEP_1STEP_DATMK1_050             P             00002A18  15947 15961*
TEP_1STEP_DATMK1_070             P             00002A1C  15950 15964*
TEP_1STEP_DATMK1_080             P             00002A22  15934 15942 15952 15963 15970*
TEP_1STEP_DATMK1_100             P             00002A5A  16027 16029*
TEP_ADD_PLSMK_020                P             0000298A  15852 15854*
TEP_ADD_PLSMK_030                P             00002992  15848 15859*
TEP_ADD_PLSMK_050                P             0000299E  15868 15870*
TEP_ADD_PLSMK_100                P             000029A8  15874 15876*
TEP_ADD_PLSMK_150                P             000029AE  15879 15881*
TEP_SPD_CALCCOM_100              P             00002D14  16673 16675*
TEP_SPD_CALCCOM_200              P             00002D22  16685 16687*
TEP_SPD_CALCCOM_300              P             00002D2C  16695 16697*
TEP_SPD_CALCCOM_400              P             00002D36  16705 16707*
TEP_SYS_SET080                   P             00002DC2  16827 16829*
TEP_SYS_SET100                   P             00002DD2  16839 16841*
TEP_SYS_SET200                   P             00002DEA  16856 16858*
TYP1_OPEN_PRC_050                P             000040D4  21676 21681*
TYP1_OPEN_PRC_200                P             00004118  21668 21687 21695 21715*
UPPLS1_OBJMAK_COM_145            P             00000B1A   9413  9448*
UPPLS1_OBJMAK_COM_150            P             00000B1C   9447  9450*
UPPLS1_OBJMAK_COM_300            P             00000B3C   9454  9473*
UPPLS1_OBJMAK_COM_400            P             00000B50   9477  9482  9484*
UPPLS1_OBJMAK_COM_500            P             00000B52   9458  9463  9466  9486*
UPPLS1_OBJMAK_COM_600            P             00000B5C   9490  9492*
UPPLS1_OBJMAK_COM_750            P             00000B84   9527  9529*
USE_IN_TBLMV_100LOP              PHiROM        000005DC  38938*38947 
USE_IN_TBLMV_500                 PHiROM        000005FC  38941 38956*
VMODE_LOT_SIG_ON                 P             000058D6  27700 27705*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3442 21181 21239 30301 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3452 21130 
_ACCBRK1_SV_MAKE                 P             000066C8  29569 31056*33599 
_ACCBRK1_SV_MAK_OVR              P             000066F0  29617 31086*
_ACCBRK2_SV_MAKE                 P             0000671C  29573 31124*33603 
_ACCB_ACCLAT_TIM1                         IMPT 00000000  37957 38982 
_ACCERR_ACC_HENSA                         IMPT 00000000   4459 
_ACCERR_ACC_OBJ                           IMPT 00000000   4458 
_ACCERR_ACC_PV                            IMPT 00000000   4457 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4468 
_ACCERR_ERR_CNT                           IMPT 00000000   4460 
_ACCESS_ERR1                              IMPT 00000000   3538 25424 
_ACCLAT1_SV_MAK_COM              P        EXPT 00006630  30861 30878 30906*31065 31097 31133 
_ACCLAT1_SV_MAK_OVR              P             000065FC  29613 30867*
_ACCLW_CALC_FLG                           IMPT 00000000   5401 35348 35384 35427 35464 35534 35862 
_ACCLW_CTRL_CALC                 P             000079D8  35070 35410*
_ACCLW_DATA_MAIN                 P             00007926  34912 35220*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   663

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCLW_GEN_END_CONF_CHECK        P             00007A88  35484 35560*
_ACCLW_GEN_MAX_LNG                        IMPT 00000000   5410 35248 35751 
_ACCLW_GEN_OUTSPD_CALC           P             00007AAC  35505 35601*
_ACCLW_GEN_START_CONF_CHECK      P             00007AC4  35460 35640*
_ACCLW_GET_SET_SPD                        IMPT 00000000   5407 35314 35566 35605 35857 
_ACCLW_GET_STEP_NO                        IMPT 00000000   5406 35312 35859 
_ACCLW_OUT_SET_SPD                        IMPT 00000000   5408 35316 35528 35608 
_ACCLW_REAL_SPD1MS                        IMPT 00000000   5396 35423 35743 
_ACCLW_SET_SPD                            IMPT 00000000   5395 35415 35518 35564 
_ACCLW_USE_CONF                           IMPT 00000000   5397 35255 35341 
_ACCSEL_CHGSPD_LIMIT_INFO_LOAD   P        EXPT 000078F0  34859 35126*
_ACCST_ACC_MATH_SEL                       IMPT 00000000   5427 36173 36261 36304 36477 36711 36737 
_ACCST_CALC_FLG                           IMPT 00000000   5422 36058 36094 36142 36179 36195 36213 36266 36706 36732 
_ACCST_CHGSPD_LIMIT_INFO_LOAD    P             00008030  35158 36968*
_ACCST_CHGSTEP_GET_MAKE          P             00007DFC  36168 36421*
_ACCST_CTRL_CALC                 P             00007CAC  35089 36126*
_ACCST_DATA_MAIN                 P             00007BFC  34930 35942*
_ACCST_DN_END_CONF_CHECK         P             00007DB4  36324 36346*
_ACCST_DN_START_CONF_CHECK       P             00007FA6  36661 36784*
_ACCST_GEN_MAX_LNG                        IMPT 00000000   5433 35963 36646 
_ACCST_GET_SET_SPD                        IMPT 00000000   5431 36025 36352 36389 36514 36703 36729 
_ACCST_GET_STEP_NO                        IMPT 00000000   5426 36099 36426 
_ACCST_OUT_SET_SPD                        IMPT 00000000   5432 36027 36256 36517 
_ACCST_REAL_SPD1MS                        IMPT 00000000   5420 36139 36638 
_ACCST_SET_SPD                            IMPT 00000000   5419 36131 36245 36350 36387 
_ACCST_UPDN_END_CONF_CHECK       P             00007D88  36206 36300*
_ACCST_UPDN_OUTSPD_CALC          P             00007E64  36232 36510*
_ACCST_UPDN_START_CONF_CHECK     P             00007E7C  36191 36549*
_ACCST_UP_END_CONF_CHECK         P             00007DD8  36311 36383*
_ACCST_UP_START_CONF_CHECK       P             00007FE8  36684 36870*
_ACCST_USE_CONF                           IMPT 00000000   5421 35969 36051 
_ACC_ANS_ACCDAT                           IMPT 00000000  37952 39897 39930 40053 40132 41925 
_ACC_CALC_SPD                             IMPT 00000000  38102 40108 40333 
_ACC_CALC_SPDX                            IMPT 00000000  38101 40101 40320 
_ACC_CALC_TIM                             EQU  000003E8  37926*39704 
_ACC_CTRL_STS1                            IMPT 00000000  37944 39782 39916 40123 41687 
_ACC_CTRL_STS2                            IMPT 00000000  37945 39902 39918 40601 41485 
_ACC_INF1_STEP001                         IMPT 00000000  37984 38607 39330 
_ACC_INF1_STEP002                         IMPT 00000000  37985 39347 
_ACC_INF1_STEP003                         IMPT 00000000  37986 39362 
_ACC_INF1_STEP004                         IMPT 00000000  37987 39377 
_ACC_INF1_STEP005                         IMPT 00000000  37988 39393 
_ACC_INF1_STEP006                         IMPT 00000000  37989 39408 
_ACC_INF1_STEP007                         IMPT 00000000  37990 39423 
_ACC_INF1_STEP008                         IMPT 00000000  37991 39438 
_ACC_INF1_STEP009                         IMPT 00000000  37992 39453 
_ACC_INF1_STEP010                         IMPT 00000000  37993 39468 
_ACC_INF1_STEP011                         IMPT 00000000  37994 39483 
_ACC_INF1_STEPSP01                        IMPT 00000000  37970 38611 39329 
_ACC_INF1_STEPSP02                        IMPT 00000000  37971 39346 
_ACC_INF1_STEPSP03                        IMPT 00000000  37972 39361 
_ACC_INF1_STEPSP04                        IMPT 00000000  37973 39376 
_ACC_INF1_STEPSP05                        IMPT 00000000  37974 39392 
_ACC_INF1_STEPSP06                        IMPT 00000000  37975 39407 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   664

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_INF1_STEPSP07                        IMPT 00000000  37976 39422 
_ACC_INF1_STEPSP08                        IMPT 00000000  37977 39437 
_ACC_INF1_STEPSP09                        IMPT 00000000  37978 39452 
_ACC_INF1_STEPSP10                        IMPT 00000000  37979 39467 
_ACC_INF1_STEPSP11                        IMPT 00000000  37980 39482 
_ACC_INFO_CHNAGE_TBL_MAK         PHiROM        00000602  38832 38863 38972*
_ACC_IN_TBLUSE                            IMPT 00000000  38092 38936 39327 39344 39359 39374 39390 39405 39420 39435 39450 39465 
                                                         39480 
_ACC_IN_TBL_TIM                           IMPT 00000000  38091 38932 39328 39345 39360 39375 39391 39406 39421 39436 39451 39466 
                                                         39481 
_ACC_LAST_POINT                           IMPT 00000000  37939 39787 39847 39935 
_ACC_LAST_SPD                             IMPT 00000000  37935 39962 40060 40078 
_ACC_MATHED_SEL_CTRL             P        EXPT 000078C0  34856 35058*37192 
_ACC_MATHED_SEL_MAIN             P        EXPT 00007844  34853 34901*
_ACC_MONITOR_DAT1                         IMPT 00000000   4271 39932 
_ACC_MONITOR_DAT2                         IMPT 00000000   4272 39941 
_ACC_MONITOR_DAT3                         IMPT 00000000   4273 39950 
_ACC_MONITOR_DAT4                         IMPT 00000000   4274 39955 
_ACC_MONITOR_DAT5                         IMPT 00000000   4275 
_ACC_MONITOR_DAT6                         IMPT 00000000   4276 39969 
_ACC_MONITOR_DAT7                         IMPT 00000000   4277 39979 
_ACC_MONITOR_DAT8                         IMPT 00000000   4278 39989 
_ACC_NUMBER_SELTBL1              PHiROM        00000EE0  40452 40729*
_ACC_NUMBER_SELTBL2              PHiROM        00000F08  40546 40760*
_ACC_PER_V_MAX                            EQU  00002710  37925*39567 39641 39704 40853 40915 40983 41106 
_ACC_POSCTL_RL_SPDX                       IMPT 00000000  38104 40254 40567 41496 
_ACC_POSCTL_SV_DN_ACCX                    IMPT 00000000  38106 40283 41522 
_ACC_POSCTL_SV_SPDX                       IMPT 00000000  38103 40239 41494 
_ACC_POSCTL_SV_UP_ACCX                    IMPT 00000000  38105 40269 41503 
_ACC_POS_STEP                             IMPT 00000000  37947 39820 40036 
_ACC_REST_ABS_PLS                         IMPT 00000000   4228 37856 40179 
_ACC_REST_ABS_PLSX                        IMPT 00000000  38100 40223 40459 
_ACC_REST_FLG                             IMPT 00000000   4229 37874 40184 40219 40957 41044 
_ACC_REST_INFO_MAKE              PHiROM        00000348  37354 37824*41586 
_ACC_STEP001_ACTM                         IMPT 00000000  38030 39332 39334 39349 
_ACC_STEP001_VTBL                         IMPT 00000000  38014 39331 39333 39348 
_ACC_STEP002_ACTM                         IMPT 00000000  38031 39351 39364 
_ACC_STEP002_VTBL                         IMPT 00000000  38015 39350 39363 
_ACC_STEP003_ACTM                         IMPT 00000000  38032 39366 39379 
_ACC_STEP003_VTBL                         IMPT 00000000  38016 39365 39378 
_ACC_STEP004_ACTM                         IMPT 00000000  38033 39381 39395 
_ACC_STEP004_VTBL                         IMPT 00000000  38017 39380 39394 
_ACC_STEP005_ACTM                         IMPT 00000000  38034 39397 39410 
_ACC_STEP005_VTBL                         IMPT 00000000  38018 39396 39409 
_ACC_STEP006_ACTM                         IMPT 00000000  38035 39412 39425 
_ACC_STEP006_VTBL                         IMPT 00000000  38019 39411 39424 
_ACC_STEP007_ACTM                         IMPT 00000000  38036 39427 39440 
_ACC_STEP007_VTBL                         IMPT 00000000  38020 39426 39439 
_ACC_STEP008_ACTM                         IMPT 00000000  38037 39442 39455 
_ACC_STEP008_VTBL                         IMPT 00000000  38021 39441 39454 
_ACC_STEP009_ACTM                         IMPT 00000000  38038 39457 39470 
_ACC_STEP009_VTBL                         IMPT 00000000  38022 39456 39469 
_ACC_STEP010_ACTM                         IMPT 00000000  38039 39472 39485 
_ACC_STEP010_VTBL                         IMPT 00000000  38023 39471 39484 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   665

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STEP011_ACTM                         IMPT 00000000  38040 39487 
_ACC_STEP011_VTBL                         IMPT 00000000  38024 39486 
_ACC_STEP01_TBL_TOP              PHiROM        00000724  38829 39310 39325*
_ACC_STEP02_TBL_TOP              PHiROM        00000758  39311 39343*
_ACC_STEP03_TBL_TOP              PHiROM        0000078C  39312 39358*
_ACC_STEP04_TBL_TOP              PHiROM        000007C0  39313 39373*
_ACC_STEP05_TBL_TOP              PHiROM        000007F4  39314 39389*
_ACC_STEP06_TBL_TOP              PHiROM        00000828  39315 39404*
_ACC_STEP07_TBL_TOP              PHiROM        0000085C  39316 39419*
_ACC_STEP08_TBL_TOP              PHiROM        00000890  39317 39434*
_ACC_STEP09_TBL_TOP              PHiROM        000008C4  39318 39449*
_ACC_STEP10_TBL_TOP              PHiROM        000008F8  39319 39464*
_ACC_STEP11_TBL_TOP              PHiROM        0000092C  39320 39479*
_ACC_STEP_FLG                             IMPT 00000000  37943 39778 39840 39922 40551 40631 40672 40695 
_ACC_STEP_INF_MAKE1              PHiROM        000004EC  38412 38594*
_ACC_STEP_NUMBER                          IMPT 00000000  37951 40049 40543 40572 
_ACC_STEP_POINT                           IMPT 00000000  37941 39776 39838 39953 40560 40627 40641 40659 
_ACC_STEP_SPD                             IMPT 00000000  37937 39982 40090 40701 
_ACC_STOP001_ACTM                         IMPT 00000000  38074 39336 39338 39353 
_ACC_STOP001_PTBL                         IMPT 00000000  38061 39339 
_ACC_STOP001_VTBL                         IMPT 00000000  38047 39335 39337 39352 
_ACC_STOP002_ACTM                         IMPT 00000000  38075 39355 39368 
_ACC_STOP002_PTBL                         IMPT 00000000  38062 39356 
_ACC_STOP002_VTBL                         IMPT 00000000  38048 39354 39367 
_ACC_STOP003_ACTM                         IMPT 00000000  38076 39370 39383 
_ACC_STOP003_PTBL                         IMPT 00000000  38063 39371 
_ACC_STOP003_VTBL                         IMPT 00000000  38049 39369 39382 
_ACC_STOP004_ACTM                         IMPT 00000000  38077 39385 39399 
_ACC_STOP004_PTBL                         IMPT 00000000  38064 39386 
_ACC_STOP004_VTBL                         IMPT 00000000  38050 39384 39398 
_ACC_STOP005_ACTM                         IMPT 00000000  38078 39401 39414 
_ACC_STOP005_PTBL                         IMPT 00000000  38065 39402 
_ACC_STOP005_VTBL                         IMPT 00000000  38051 39400 39413 
_ACC_STOP006_ACTM                         IMPT 00000000  38079 39416 39429 
_ACC_STOP006_PTBL                         IMPT 00000000  38066 39417 
_ACC_STOP006_VTBL                         IMPT 00000000  38052 39415 39428 
_ACC_STOP007_ACTM                         IMPT 00000000  38080 39431 39444 
_ACC_STOP007_PTBL                         IMPT 00000000  38067 39432 
_ACC_STOP007_VTBL                         IMPT 00000000  38053 39430 39443 
_ACC_STOP008_ACTM                         IMPT 00000000  38081 39446 39459 
_ACC_STOP008_PTBL                         IMPT 00000000  38068 39447 
_ACC_STOP008_VTBL                         IMPT 00000000  38054 39445 39458 
_ACC_STOP009_ACTM                         IMPT 00000000  38082 39461 39474 
_ACC_STOP009_PTBL                         IMPT 00000000  38069 39462 
_ACC_STOP009_VTBL                         IMPT 00000000  38055 39460 39473 
_ACC_STOP010_ACTM                         IMPT 00000000  38083 39476 39489 
_ACC_STOP010_PTBL                         IMPT 00000000  38070 39477 
_ACC_STOP010_VTBL                         IMPT 00000000  38056 39475 39488 
_ACC_STOP011_ACTM                         IMPT 00000000  38084 39491 
_ACC_STOP011_PTBL                         IMPT 00000000  38071 39492 
_ACC_STOP011_VTBL                         IMPT 00000000  38057 39490 
_ACC_STOP_NUMBER                          IMPT 00000000  37950 40046 40448 
_ACC_STOP_POINT                           IMPT 00000000  37940 39789 39849 39944 40512 
_ACC_STOP_SPD                             IMPT 00000000  37936 39972 40080 40514 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   666

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STR_STEP                             IMPT 00000000  37948 39780 39825 
_ACC_TBL_CAL_IN_TOP              PHiROM        000006F8  38846 39309*40736 40767 
_ACC_TBL_MAKE1                   PHiROM        00000586  38419 38748*
_ACC_TBL_MAKPLS1_SUB             PHiROM        00000A04  39288 39693*
_ACC_TBL_MAKSPD1_SUB             PHiROM        00000960  39073 39216 39528*
_ACC_UNIT                                 EQU  000003E8   6253*37752 
_ADDR56_R12_ANS_R12_LIMIT_MAX_MI*P             00000D48   9168  9927*
_ANTI_OF                                  IMPT 00000000   5653 
_ANTI_ON                                  IMPT 00000000   5652 
_API_ACCLW_DRV_START1            P             00007964  34967 35280*
_API_ACCLW_DRV_START2            P             000079A4  35287 35336*35492 
_API_ACCLW_DRV_STOP              P             000079C4  35027 35379*
_API_ACCLW_DRV_WORK_CLR          P             00007980  35291 35307*
_API_ACCST_DRV_START1            P             00007C38  34986 35993*
_API_ACCST_DRV_START2            P             00007C70  36000 36046*36437 
_API_ACCST_DRV_STOP              P             00007C90  35034 36089*
_API_ACCST_DRV_WORK_CLR          P             00007C54  36004 36020*
_API_ACC_MATHED_COM_DRV_START1   P        EXPT 00007874   7199 12940 34854 34955*
_API_ACC_MATHED_COM_DRV_STOP     P        EXPT 000078A4  11248 12065 12993 17397 34855 35018*
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6368 14345 14826 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6367 
_API_ENDHAND_SIGCHK              P        EXPT 00006E10  32786 32791*
_API_SETACC_INFO_GET             PHiROM   EXPT 00000494  38452 38461*
_API_SETACC_STS_CLR              PHiROM        000004E4  38351 38554*
_API_SETACC_STS_END              PHiROM   EXPT 000004D0  38524 38526*
_AREACHK_0DIG_TO_180             P             00000CE8   9767  9826*
_AUTO_OF                                  IMPT 00000000   5655 
_AUTO_ON                                  IMPT 00000000   5654 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3685 13529 28256 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3678 
_BANK2_CPOS_ABS_POS_SET                   IMPT 00000000   6348 28260 28327 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3683 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3682 28312 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3679 
_BANK2_TO_BANK1_MOV                       IMPT 00000000   6349 28309 
_BANK_CHK_NEXT_CYCL_STR1         P             00005B68  12757 27725 28293*
_BANK_CNT_STEP_NEXT_CHK          P             000057D8  11982 12015 27488*
_BANK_CNT_STOP_CHK_TYP1          P             00005C40  12838 27789 28478*
_BANK_LENGH_ADD_CALC_SV_TYPE     P             00002EDC  17105*28204 
_BASE_TIM010MS                            IMPT 00000000   2499 
_BASE_TIM100MS                            IMPT 00000000   2500 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4444 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4443 
_BBN_MESURE_POINT                         IMPT 00000000   4438 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4428 
_BBN_MESURE_PSPD                          IMPT 00000000   4430 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4429 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4424 
_BBN_MESURE_SSPD                          IMPT 00000000   4426 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4425 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4442 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4436 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4433 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4435 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   667

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4432 
_BBN_SET_TIME                             IMPT 00000000   4439 
_BKTMCL_ACCDAT                            IMPT 00000000   4630 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4631 
_BKTMCL_ACCPOINT                          IMPT 00000000   4633 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4647 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4655 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4654 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4660 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4661 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4662 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4657 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4665 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4666 
_BKTMCL_ENC_DIR                           IMPT 00000000   4638 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4637 
_BKTMCL_POINTMAX                          IMPT 00000000   4634 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4649 
_BKTMCL_SPDBUF                            IMPT 00000000   4629 
_BKTMCL_STOP_SPD                          IMPT 00000000   4653 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4646 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4648 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4642 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4643 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4645 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3431 
_BRK1_CHKDLY_TM                           IMPT 00000000   3419 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3427 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3426 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3425 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3424 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3422 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3423 
_BRK1_SV_DN_ACC                           IMPT 00000000   3430 31069 31101 
_BRK2_CHKDLY_TM                           IMPT 00000000   3420 
_BRK2_SV_DN_ACC                           IMPT 00000000   3432 30307 31137 
_BRKTST_AREA_SIG                          IMPT 00000000   4169 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4179 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4180 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4177 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4178 
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4159 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4172 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4171 
_BRKTST_INPUT_CMD                         IMPT 00000000   4162 24982 25115 25302 
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4174 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4173 
_BRKTST_MOD_FLG                           IMPT 00000000   4157 10210 
_BRKTST_OBJ_MAKE                 P             000071D8  33332 33500*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4158 33556 
_BRKTST_POS_CTL                  P             00006F58  10217 33072*
_BRKTST_POS_START                P        EXPT 000070B0  33069 33318*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4166 33621 
_BRKTST_STR_FLG                           IMPT 00000000   4167 33455 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   668

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_SW_IN                             IMPT 00000000   4168  9342 
_BRK_CHK_COM                              IMPT 00000000   3416 
_BRK_CHK_FLG                              IMPT 00000000   3417 
_BRK_ERR_CHK_START4                       IMPT 00000000   6342 11893 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6338 10675 12916 14286 15738 27835 33180 
_BTTN_FLG                                 IMPT 00000000   2567 16221 16381 31712 
_BTTN_ON_TIME                             IMPT 00000000   3708 
_BVLV_CTL_FLG                             IMPT 00000000   4839 
_BVLV_CTL_ON                              IMPT 00000000   4840 
_BVLV_START_IN                            IMPT 00000000   4843 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3188 21829 22521 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2913 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2912 
_CALC_MISS_FLG1                           IMPT 00000000   3791 28978 29012 29046 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2089* 9951  9960  9994 
_CALC_PLS_MMIN_L32                        EQU  00000001   2090* 9949  9959  9995 
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2085* 9941  9946  9988 
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2086* 9939  9945  9989 
_CALC_ROT_MAX                             EQU  60000000   2081*
_CALPOSANSLNG                             IMPT 00000000   4774 
_CALPOSLNWORK                             IMPT 00000000   4776 
_CALPOSWORK1                              IMPT 00000000   4770 
_CALPOSWORK2                              IMPT 00000000   4771 
_CALSPDANSPER                             IMPT 00000000   4773 
_CALSPDWORK1                              IMPT 00000000   4768 
_CALSPDWORK2                              IMPT 00000000   4769 
_CALSPDWORKANS                            IMPT 00000000   4772 
_CAM_1STEP_END_SIG1              P             00003BE8  12313 20425*
_CAM_1STEP_END_SIG2              P             00003C0C  12526 20451*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3288 10368 11218 12607 12748 13748 27808 33121 
_CAM_CTL_STEP                             IMPT 00000000   2643 
_CAM_DNM_USE_DIR_FLG                      IMPT 00000000   5096 
_CAM_DT_FLG                               EQU  0000000E   2199*
_CAM_INF_D1                               EQU  00000010   2200*
_CAM_INF_D2                               EQU  00000012   2201*
_CAM_NOW_DIG                              IMPT 00000000   3285 
_CAM_OF_DGT                               EQU  0000000C   2198*
_CAM_OF_DIG                               EQU  00000008   2195* 2196 
_CAM_OF_DIR                               EQU  0000000A   2197*
_CAM_OF_STP                               EQU  00000006   2194*
_CAM_OF_TIM                               EQU  00000008   2196*
_CAM_OLD_DIG                              IMPT 00000000   3286 
_CAM_ON_DIG                               EQU  00000002   2192*
_CAM_ON_DIR                               EQU  00000004   2193*
_CAM_ON_STP                               EQU  00000000   2191*
_CAM_OUTPUT_DT                            IMPT 00000000   3279 
_CAM_OUTPUT_SW                            IMPT 00000000   3277 
_CAM_POS_CTL_STEP                         IMPT 00000000   3287 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3043 20435 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3044 20461 
_CAM_SELECT_SW                            IMPT 00000000   3278 
_CAM_START_FLG                            IMPT 00000000   3280 
_CAM_START_MODE                           IMPT 00000000   3281 
_CAM_STEP_MAX                             IMPT 00000000   3284 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   669

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_STEP_NO                              IMPT 00000000   3282 
_CAM_STEP_NO_OLD                          IMPT 00000000   3283 
_CAM_STRCUT                               EQU  00000014   2190*
_CBSTS_LOAD_FLG                           IMPT 00000000   4579 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4587 
_CBSTS_SAVE_DAT                           IMPT 00000000   4596 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*25706 
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2496 
_CB_IN_HANYO                              IMPT 00000000   4878 
_CB_SEQ_CB_COM340                         IMPT 00000000   3029 12346 
_CB_SEQ_CB_COM345                         IMPT 00000000   3032 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5614 
_CB_SEQ_CB_COM346                         IMPT 00000000   3033 10031 29097 29139 29433 
_CB_SEQ_CB_COM347                         IMPT 00000000   3034 
_CB_SEQ_CB_COM348                         IMPT 00000000   3035 
_CB_SEQ_CB_COM349                         IMPT 00000000   3036  8833  9322 23701 32394 
_CB_SEQ_CB_COM350                         IMPT 00000000   3038 
_CB_SEQ_CB_COM351                         IMPT 00000000   3039 24480 
_CB_SEQ_CB_COM352                         IMPT 00000000   3040 
_CB_SEQ_CB_COM356                         IMPT 00000000   5442  8881 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3030  6952  7823  7913  7982  8057 15864 33713 33776 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3031  7905  7975  8050  8154  8263 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3024 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3025 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3026 12704 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3027 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4928 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_ACCTBL1_CNT                       IMPT 00000000  38144 38929 
_CB_SYS_ACCTBL1_IN_TOP                    IMPT 00000000  38145 38930 
_CB_SYS_ACCTBL2_CNT                       IMPT 00000000  38146 
_CB_SYS_ACCTBL2_IN_TOP                    IMPT 00000000  38147 
_CB_SYS_ACCTBL3_CNT                       IMPT 00000000  38148 
_CB_SYS_ACCTBL3_IN_TOP                    IMPT 00000000  38149 
_CB_SYS_DNMTBL1_CNT                       IMPT 00000000  38142 
_CB_SYS_DNMTBL1_DATA_TOP                  IMPT 00000000  38143 
_CB_SYS_PARAM000                          IMPT 00000000   6396  7260  7390  7407  7452 14530 16823 16835 16852 21795 22422 22448 
                                                         22632 23643 23916 23925 24311 24383 24431 24489 32264 32324 32401 34905 
                                                         34960 35063 35136 
_CB_SYS_PARTBL001                         IMPT 00000000  38130 
_CB_SYS_PARTBL002                         IMPT 00000000  38131 
_CB_SYS_PARTBL003                         IMPT 00000000  38132 
_CB_SYS_PARTBL004                         IMPT 00000000  38133 
_CB_SYS_PARTBL005                         IMPT 00000000  38134 
_CB_TIME                                  EQU  0000000A   2004* 2017  2018  2019  2024 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   670

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3530  6794 33375 
_CGRF_GENSOK_LNG1                         EQU  00000014  26965*
_CGRF_SYNC_ERR                            EQU  00000020  26970*
_CGRF_SYNC_STS                            EQU  0000001E  26969*
_CGRF_iADD_PLS                            EQU  00000010  26964*
_CGRF_iNOW_STEP                           EQU  0000001C  26968*
_CGRF_iSTEP_FRQ                           EQU  00000018  26966*
_CGRF_iSTEP_PV_PLS                        EQU  00000004  26961*
_CGRF_iSTEP_REST                          EQU  00000008  26962*
_CGRF_iSTEP_SV_PLS                        EQU  00000000  26960*
_CGRF_iSTEP_TIM                           EQU  0000001A  26967*
_CGRF_iTOTAL_PLS                          EQU  0000000C  26963*
_CGRF_yADD_PLS                            EQU  00000034  26976*
_CGRF_yNOW_STEP                           EQU  0000003E  26979*
_CGRF_ySTEP_FRQ                           EQU  00000038  26977*
_CGRF_ySTEP_PV_PLS                        EQU  00000028  26973*
_CGRF_ySTEP_REST                          EQU  0000002C  26974*
_CGRF_ySTEP_SV_PLS                        EQU  00000024  26972*
_CGRF_ySTEP_TIM                           EQU  0000003C  26978*
_CGRF_yTOTAL_PLS                          EQU  00000030  26975*
_CHG_LSI_LATE_TO_PLS             P        EXPT 00006744   6455 24403 24451 24523 31178*
_CHG_STEP_INFO_MAKE_1STEP_END    P             000053D0  26056 26100*
_CHG_STEP_INFO_MAKE_2STEP_END    P             00005448  26071 26186*
_CHG_STEP_INFO_MAKE_ESTEP_AFTER  P             00005318  25949*27840 
_CHG_STEP_INFO_MAKE_ESTEP_BEFOR  P             000052A0  25862*27668 
_CHG_STEP_INFO_MAKE_STEP_DAT     P             000051FC  13757 25744*27672 27844 
_CHG_STEP_INFO_MAKE_STEP_END     P             00005390  13753 26039*
_CHKACCINF0                               IMPT 00000000   4761 
_CHKACCINF1                               IMPT 00000000   4762 
_CHKACCINF2                               IMPT 00000000   4763 
_CHKPOSANSDIG                             IMPT 00000000   4750 
_CHKPOSWORK0                              IMPT 00000000   4757 
_CHKPOSWORK1                              IMPT 00000000   4737 
_CHKPOSWORK2                              IMPT 00000000   4738 
_CHKPOSWORKANS                            IMPT 00000000   4743 
_CHKPOS_Ln1                               IMPT 00000000   4765 
_CHKSPDANSPER                             IMPT 00000000   4742 
_CHKSPDPERWORK0                           IMPT 00000000   4758 
_CHKSPDPERWORK1                           IMPT 00000000   4745 
_CHKSPDPERWORK2                           IMPT 00000000   4746 
_CHKSPDPOSINFO                            IMPT 00000000   4748 
_CHKSPDPOSOFS                             IMPT 00000000   4749 
_CHKSPDWORK0                              IMPT 00000000   4756 
_CHKSPDWORK1                              IMPT 00000000   4735 
_CHKSPDWORK2                              IMPT 00000000   4736 
_CHKSPDWORKANS                            IMPT 00000000   4739 
_CHKSPDWORKTMAX                           IMPT 00000000   4741 
_CHKSPDWORKVMAX                           IMPT 00000000   4740 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4268 24776 24781 25186 25717 
_CHK_CLK_SIG                              IMPT 00000000   4804 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   671

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CHK_DNM_SPEC_MOD1                        IMPT 00000000   6269 10265 30971 38226 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4017 20105 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   4016 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   5386 
_CHK_SET1_UPAREA_TIM0                     IMPT 00000000   5385 
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2779 20554 20594 
_CLS_KJYU_PLS_CHANGE             P             0000483E  23391*23569 
_CLS_POS_LENGTH_ADD_DATA         P             0000464C  22941*23205 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2778 20549 20584 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3597 26554 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3591 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3594 26545 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3588 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3596 26551 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3590 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3598 26557 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3592 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3595 26548 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3589 
_CMPAB_NEAR_END_PROC                      IMPT 00000000   6316 12171 21690 21893 
_CMPAB_STEP_END_PROC                      IMPT 00000000   6317 12497 14599 14771 
_CMPCYC_END_CLR                           IMPT 00000000   6327 
_CMPCYC_START_CLR                         IMPT 00000000   6326  6807 27815 33388 
_CMPEMG_EXQ_FLG_CLR                       IMPT 00000000   6329 
_CMPSTEP_CNT_STOP                         IMPT 00000000   2687 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2683 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2682 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2686 
_CMPSTEP_POS_START                        IMPT 00000000   2684 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2685 
_CMPSTEP_STEP_END                         IMPT 00000000   2688 12442 32750 32795 
_CMPSTP_CNT_STOP_CLR                      IMPT 00000000   6324  6811 33392 
_CMPSTP_CTRL_BUSY_CLR                     IMPT 00000000   6320 
_CMPSTP_CTRL_REDY_CLR                     IMPT 00000000   6319 
_CMPSTP_NEAR_ZERO_CLR                     IMPT 00000000   6323 12218 
_CMPSTP_POS_START_CLR                     IMPT 00000000   6321 
_CMPSTP_SFTY_AUTO_CLR                     IMPT 00000000   6322 
_CMPSTP_STEP_END_CLR                      IMPT 00000000   6325 12518 14615 14787 
_CMP_BRK2_CTLGENSOK              P        EXPT 00006380  30255 30269*
_CMP_CNT_CTLGENSOK               P             0000630C  28573 30184*
_CMP_ERR_CHK_STSA                         IMPT 00000000   2896 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2897 
_CMP_ERR_STEP_A                           IMPT 00000000   2902 
_CMP_ERR_STEP_B                           IMPT 00000000   2903 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2898 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2899 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2900 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2901 
_CMP_ERR_STS_REF                 P             00003D04  20637*
_CMP_ERR_TIM1                             IMPT 00000000   2599 
_CMP_HOLD_CTLGENSOK              P        EXPT 000063DC  30341 30342*
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3701 27470 
_CMP_POSLSI_CTLGENSOK            P             000062B0  30110*37433 41708 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3906 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   672

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMP_RECOVER_FLG                          IMPT 00000000   4011 28593 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3702 27473 
_CMP_SPD_REST_PLSCHKCOM          PHiROM        000002E8  30153 30236 30311 30387 35812 36837 36927 37722*
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2601 
_CNTREST_HOS_RESET               P        EXPT 00006B98   6788 31888 32168 32175*33369 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3688 28786 
_CNT_BEF_LOT_SIGCHK              P             00005C20   7173 28339 28445*
_CNT_GPOINT_STOP_TYP2            P             00005C98  27638 28553*
_CNT_GRF_1BLOCK                           EQU  00000040  26959*
_CNT_GRF_I_DATA                           IMPT 00000000   5607 
_CNT_GRF_MAX                              EQU  000000C8  26957*
_CNT_GRF_POINT                            IMPT 00000000   5609 26645 
_CNT_GRF_Y_DATA                           IMPT 00000000   5608 
_CNT_HOSEI_CHK_CALC              P             00006A38  11095 31859*
_CNT_HOS_DT_MAK                  P             00005700  26812*
_CNT_NEAR_TIM_CHK                P             00001D18  13245*
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3955 12070 26739 
_CNT_REST_CHK_CLR                P             00005678  26562 26707*
_CNT_REST_HOSEI_SPD_TYP          P             00006B78  32148*37217 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3694 32117 32121 32157 32184 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3695 32115 32152 32181 
_CNT_SPD_SET                     P             00005ADC  27756 28072 28168*
_CNT_STOP_CMD                             IMPT 00000000   2522 31720 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4405 28450 
_CNT_STOP_CMD_DATA_SUB1          P             00005DA8  28510 28655 28826*
_CNT_STOP_CMD_DATA_SUB2          P             00005E00  28659 28886*
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3675  6784 27573 27630 28483 28520 28665 33365 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5503 
_CNT_STOP_LNGTH                           IMPT 00000000   3681 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5502 12449 12493 
_CNT_SUB_DATA_CALC               P             00005D48  28498 28564 28746*
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3970 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3971 26729 32106 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3953 26736 
_CNT_SYNC_HOS_CALC               P             00005708  26829*
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3972 26742 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3967 26720 32123 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3968 26723 31969 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3969 26726 26785 
_CNT_SYNC_HOS_SPD_TYP            P             00006A9C  31912 31964*
_CNT_SYNC_STS_FLG                         IMPT 00000000   3954 26733 
_CNT_VMODE_NEXT_CYCL_START       P             000058A0  27614 27663*
_CONT_MOD_CNT_PV                          IMPT 00000000   3100 
_CONT_MOD_TIM_PV                          IMPT 00000000   3102 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3687 28599 28792 28831 28890 30193 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3348 
_COP_DIG_SIG_FLG                          IMPT 00000000   3347 
_COP_OLD_ENC3600                          IMPT 00000000   3366 
_CPOS_ABS_POS_SET                         IMPT 00000000   6280 13547 28394 
_CPOS_BANK_USELFUL                        IMPT 00000000   3674 10510 11974 12009 12799 28250 28298 
_CPOS_CTL_MATH                            IMPT 00000000   2763  6678  7294 10485 11862 12793 13191 13380 13428 13520 13663 15929 
                                                         19786 19858 24975 25107 25295 28371 
_CPOS_DND_DIGTOP                          IMPT 00000000   3783 14937 14947 14971 14981 
_CPOS_DND_PLSTOP                          IMPT 00000000   3784 15089 15101 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   673

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3782 14875 14906 
_CPOS_DND_STOP_SW                         IMPT 00000000   3780  7627 14719 14794 14863 14899 15066 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3781 14865 14901 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4863 
_CPOS_INI1_DTMOV1                         IMPT 00000000   6277  6756 
_CPOS_INI1_DTMOV2                         IMPT 00000000   6278  7064 32623 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4865 24122 
_CPOS_MOD_FLG1                            IMPT 00000000   2762 12465 27554 27590 27748 31881 
_CPOS_ROT_NUM_SET                         IMPT 00000000   6279 13540 28319 28387 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2760 13637 23275 33004 35700 36600 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3676 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2757 12596 23322 23453 27497 28121 
_CPOS_SDAT1_INF1                          IMPT 00000000   2758 11412 13646 23069 35696 36452 36596 
_CPOS_SDAT1_NUM                           IMPT 00000000   2759 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2754 13363 
_CPOS_SDAT1_SPD                           IMPT 00000000   2755 11295 11377 11635 13737 28176 35692 36591 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2761 11313 11401 11652 27516 27937 28011 28049 28753 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3677 27942 28016 28053 
_CPOS_SDAT1_TIM                           IMPT 00000000   2756 12237 24031 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2782 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2783 32985 
_CPOS_SPD_DTMOV                           IMPT 00000000   6281 13553 28407 
_CPOS_STEP_MAX                            IMPT 00000000   2764 11518 12268 12598 13707 21625 23501 24092 27499 28123 28751 35659 
                                                         36446 36567 
_CPOS_TIM_DTMOV                           IMPT 00000000   6282 13558 28412 
_CPOS_UPAREA_PLS                          IMPT 00000000   2777 13356 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5111 
_CPUA_PLS_OUTF                            IMPT 00000000  20654 
_CPUBX_MEM1_BUF                           IMPT 00000000   5623 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5622 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5621 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5632 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5634 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5633 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5629 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5630 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5628 
_CPUB_GET_CPUA_OBJPOS            P             000061E8  29800 29842*
_CPUB_HENSA_FLG_CLR                       IMPT 00000000   6667  6704 13764 22051 22162 22215 22304 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5205 
_CPUB_PLS_OUTF                            IMPT 00000000  20655 20680 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5204 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5625 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5624 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5102 
_CPUD_CHK_TIME                            IMPT 00000000   5103 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5194 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5195 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5700 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5696 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5698 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5763 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5759 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5761 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   674

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_AB_CST_OF_JG                         IMPT 00000000   5752 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5746 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5747 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5749 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5750 27677 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5778 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5777 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5718 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5719 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5738 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5734 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5736 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5689 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5685 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5687 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5711 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5707 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5709 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5697 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5699 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5760 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5762 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5748 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5751 28585 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5780 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5779 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5721 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5720 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5735 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5737 12088 21671 22905 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5686 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5688 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5770 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5708 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5710 
_CPU_CTRL_CLK                             IMPT 00000000   6266 25802 25909 25996 26147 26233 
_CPU_SV_HAND_IN                           IMPT 00000000   2524 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2525 
_CPU_SV_HAND_OUT                          IMPT 00000000   2527 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3973 26471 26745 
_CTL_ENC360                               IMPT 00000000   2536  7818 33505 
_CTL_ENC360_OLD                           IMPT 00000000   4057 
_CYCLE_SPD1                               IMPT 00000000   6464 16860 32404 
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4315 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4316 
_CYCLE_TIME_DAT                           IMPT 00000000   3016 
_CYCLE_TIME_FLG                           IMPT 00000000   3018 
_CYCLE_TIME_PV                            IMPT 00000000   3017 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6301 
_CYCLE_TIME_REFLASH_END                   IMPT 00000000   6300 19853 
_CYCLE_TIME_REFLASH_START                 IMPT 00000000   6299 19802 
_CYCL_DOWN_POS_REF               P             00003A18  19894 19931*
_CYCL_DSP_CNT_PV                          IMPT 00000000   3482 19964 
_CYCL_DSP_DISENB                          IMPT 00000000   3481 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   675

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CYCL_START_CNT                           IMPT 00000000   2780 20534 
_CYC_END_POS_FLG_CLR             P        EXPT 00003088  10796 17222 17433 17434*
_CYC_END_POS_FLG_SET             P             0000309C  10792 17461*
_DAIHAI_CALC_WORK1                        IMPT 00000000   4356 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4365 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4367 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4368 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4369 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4357 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4358 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4359 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4360 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4361 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4362 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4363 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4364 
_DAI_CMP_SMPSTART                         IMPT 00000000   2960 
_DAI_FULL_SCALE_SMPLE                     IMPT 00000000   6311  7300 
_DAI_FULL_SCALE_SMP_END                   IMPT 00000000   6312 19866 
_DAI_FULL_SCALE_SMP_INI                   IMPT 00000000   6310 19795 
_DAI_HOSEI1_FLG                           IMPT 00000000   2950 
_DAI_MOSTPOS_CMPARE                       IMPT 00000000   6308 19870 
_DAI_MOSTPOS_SMPINI                       IMPT 00000000   6306 19772 33402 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6307 
_DATA_CMP2B_R5R6_REF                      IMPT 00000000  37898 38319 38330 
_DATA_GRF_CNT_DATA_MAKE          P        EXPT 00005730  25813 27023 27025*
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6305 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5132 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5133 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5135 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5134 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5136 
_DBG_CNT_GPOSINT                          IMPT 00000000   3612 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3606 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3605 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3607 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5486 32459 
_DBG_DNM_END_CNT                          IMPT 00000000   5485 32530 
_DBG_DNM_STR_CNT                          IMPT 00000000   5484 32596 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3246 23540 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3248 22843 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3245 23521 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3247 22841 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3615 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3619 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3627 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3623 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3609 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3616 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3620 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3628 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3624 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3610 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3617 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   676

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3631 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3621 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3629 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3625 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3611 
_DBG_XOR_SIG                              EQU  00080000   6249*18596 
_DEBUG_BRK_POINT1                P             00001C74  13039*32892 
_DEBUG_BRK_POINT2                P             00001C9C  12573 13085*
_DEBUG_BRK_POINT3                P             00001CC4  13131*
_DEBUG_ENC360_STS                         IMPT 00000000   4669 
_DEBUG_ENC360_STS2                        IMPT 00000000   4670 
_DEBUG_MOD_CODE                           IMPT 00000000   5130 
_DEBUG_SIGNAL_OFF                P        EXPT 00005728  26905 26907*
_DEBUG_SPD_CHG_FLG1                       IMPT 00000000   5521 
_DEBUG_SPD_CHG_FLG2                       IMPT 00000000   5522 
_DEBUG_SPD_OLD_DAT1                       IMPT 00000000   5520 
_DEBUG_STS_CNT1                           IMPT 00000000   5508 
_DEBUG_STS_CNT2                           IMPT 00000000   5509 
_DEF_DAI_POS_PV                           IMPT 00000000   2989 
_DELT_POS_SPD_CHG1               P             00003F70  21135 21185 21291*
_DELT_POS_SPD_CLR                P             00004024  21230 21323 21432*
_DG_PS_INF_CHK1                           EQU  00000000   2208*
_DG_PS_INF_CHK2                           EQU  0000003C   2213*
_DG_PS_INF_CONT                           EQU  00000004   2209*
_DG_PS_INF_LATE                           EQU  00000010   2212*
_DG_PS_INF_STLK                           EQU  0000000C   2211*
_DG_PS_INF_UNIT                           EQU  00000008   2210*
_DIG01_CHG_DN_DATA_MAKE                   IMPT 00000000   6458 32716 
_DIG36000_CHG_RENEA1                      IMPT 00000000   6460 
_DIG_AREA_CHK0                            IMPT 00000000   5802  9840 
_DIG_AREA_CHK1                            IMPT 00000000   5803 16106 16122 
_DIG_LNGTH_CALC1                          IMPT 00000000   6288 
_DIR_FLG                                  IMPT 00000000   4069 
_DISP_ENC360                              IMPT 00000000   2540 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3019 19846 
_DISP_SV_DG_DAT                           IMPT 00000000   3332 
_DISP_SV_MM_DAT                           IMPT 00000000   3333 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5785 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5786 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5799 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5787 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5800 
_DMATH_CNTROT                             EQU  00000001   2040* 7296 10487 11864 12795 13193 13382 13522 13665 15932 19789 19861 
                                                         24977 25110 25297 28373 35235 35951 36983 
_DMATH_DNDRIV                             EQU  00000004   2042* 6680  7296 10062 10487 11864 13193 13430 13665 15932 19789 19861 
                                                         20254 25110 32314 32542 32609 32688 
_DMATH_REVRSE                             EQU  00000002   2041* 7635  7732 13840 
_DMATH_UPDRIV                             EQU  00000008   2043*
_DNDINC_CTRL_STEP                         IMPT 00000000   3779 14792 14857 14913 15029 15040 15083 17239 
_DNDINC_DIRECT_MAKE1             P             000004F0   7700  7770  7814*
_DNDINC_MAKE_OBJPOS              P             000025E8   7708 15061*
_DNDINC_SPD_SET                  P             00000864   7714  7781  8812*15635 
_DNDINC_STEP_MAKE                P             000024B4   7704 14853*
_DNDUPS_CLEEP_SPD_SET            P             000003CC   7577*14056 14117 14185 14235 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   677

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNDUPS_SPD_SET                  P             000003B4   7045  7557*10093 14252 
_DND_1STEP_DATA_MAK1             P             00001610  10623 11739*14648 33136 
_DND_ALL_STEP_CTRL               P             00001F74  10855 13807*
_DND_AREA_HIS                             EQU  00000014  14852*14936 14970 
_DND_CALC_WORK                            IMPT 00000000   2806 
_DND_LNKPLS_OBJMAK1              P             00000708   7682  7751  8469*14639 
_DND_LNK_STEP_CHECK0             P             0000051C   7660  7747  7898*
_DND_LNK_STEP_CHECK2             P             000005A8   7677  8044*
_DND_NEG_AREA_JUDE1              P             000006A4   8065  8374*
_DND_NEG_AREA_JUDE2              P             000006D8   8085  8420*
_DND_NEG_LNK_STEP_CHANGE0        P             00000560   7968*14635 
_DND_NEG_LNK_STEP_CHANGE2        P             00000610   8147*14504 
_DND_NEG_START_FLG_CLR           P             00000650   7649  7743  8215*17281 
_DND_NEG_STEP_CTRL               P             000022E0  13846 14438*
_DND_NEG_STOP_SVCHK              P             00000664   7645  7739  8249*14493 
_DND_ORGIN_SIG_FORCE_ON          P             000022A4  14332 14375*
_DND_OVERCHK_DIG                          IMPT 00000000   4269 
_DND_POS_START_DAT_INI                    IMPT 00000000   6352  6760 
_DND_ROT_STEP_CTRL               P             0000240C  13860 14714*
_DND_SPD_SEQ_SET                 P             0000089C   8828  8873*
_DND_TEP_STEP_CTRL               P             00002734  13824 15378*
_DNMODE_ENDWAIT_TIM_CHK          P             00006C3C  12145 32352*
_DNMODE_ENDWAIT_TIM_SET          P             00006C04  11925 32307*
_DNM_ACC_CALC                    PHiROM   EXPT 00000BBC  37897 39911 40026*
_DNM_ACC_CALFLG                           IMPT 00000000   4239 37296 38251 41590 41683 41777 
_DNM_ACC_OVER_PLS_MAK            PHiROM        00000C94  40032 40175*
_DNM_ACC_OVER_SPD_MAK            PHiROM        00000D6C  40105 40316*
_DNM_AUTO_UP_DN_CALC             PHiROM        00001364  41693 41790 41921*
_DNM_CTL_INC3600                          IMPT 00000000   4107 32721 
_DNM_CYCLE_END                   P        EXPT 00006CE8  10805 12736 32514 32519*
_DNM_CYCLE_START                 P             00006D2C   6751 12742 32586*
_DNM_DATA_CLR                    P             00006CA8  17253 32449*
_DNM_DATA_REV_SET                P        EXPT 00006CD4  32488 32495*
_DNM_DEBUG_CNT                            IMPT 00000000   4710 
_DNM_DEBUG_STS1                           IMPT 00000000   4709 11931 12057 12165 12190 12721 12726 20304 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4105 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4106 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5089 11126 32557 32619 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4145 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4103 13434 32471 32546 32615 32640 32698 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4104 32705 32709 
_DNM_DIR_SET_FLG                          IMPT 00000000   4102 32469 32500 32553 32613 
_DNM_MATH_ELSE_DAT_MAKE          P        EXPT 00006D84  32672 32679*
_DNM_MAXSPM_ACCLAT_MAK                    IMPT 00000000  38118 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4781 
_DNM_MOTION_DATA_MAK             PHiROM        000003EC  38234 38308*
_DNM_PLS_LSICTL_CALC             PHiROM        000011B0  37301 41579*
_DNM_RESET_AREA                           IMPT 00000000   5044 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5476 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4101 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4099 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4100 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4098 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4474 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   678

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4115 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4114 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5069 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4110 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4109  9785 
_DNM_SPD_CALC                    PHiROM   EXPT 00000AD8  37896 39892*41595 
_DNM_START_ACC_CALC              PHiROM   EXPT 00000A3E  10664 12911 37893 39770*
_DNM_STEP_ACC_CHANGE             PHiROM   EXPT 00000A7C  37894 39809*39906 
_DNM_TBL_CALC                    PHiROM   EXPT 000003A8  37892 38220*
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4111 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4113 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4112 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5177 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5186 
_DPCHK_ERR_SIG                            IMPT 00000000   5176 
_DPCHK_WR_COD                             IMPT 00000000   5178 
_DPSQ022                                  EQU  0000002C   2095*
_DPSQ024                                  EQU  00000030   2096*
_DPSQ028                                  EQU  00000038   2097*
_DPSQ029                                  EQU  0000003A   2098*
_DPSQ058                                  EQU  00000074   2099*
_DPSQ287                                  EQU  0000023E   2110*
_DPSQ288                                  EQU  00000240   2111*
_DPSQ340                                  EQU  000002A8   2101*
_DPSQ341                                  EQU  000002AA   2102*
_DPSQ356                                  EQU  000002C8   2103*
_DPSQ358                                  EQU  000002CC   2104*
_DPSQ359                                  EQU  000002CE   2105*
_DPSQ367                                  EQU  000002DE   2106*
_DPSQ368                                  EQU  000002E0   2107*
_DPSQ369                                  EQU  000002E2   2108*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2982 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2974 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2981 
_DRVHOS_IDO_BUF                           IMPT 00000000   2986 
_DRVHOS_IDO_CNT                           IMPT 00000000   2977 
_DRVHOS_IDO_POINT                         IMPT 00000000   2975 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2985 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2983 
_DRVHOS_USE_FLG                           IMPT 00000000   2972 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2973 
_DRVHOS_WORK_BUF                          IMPT 00000000   2987 
_DRV_ACT_FLG                              IMPT 00000000   2673 
_DRV_START_KEEP                           IMPT 00000000   4005 
_DT_100PER_0                              EQU  00000064   2008*
_DT_100PER_1                              EQU  000003E8   2007*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3342 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3341 
_DUM_OVERLIDE_COF                         IMPT 00000000   5383 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3340 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5382 
_DUM_SET1_UPAREA_SPD0                     IMPT 00000000   5381 
_DUM_UPAREA_DIG0                          IMPT 00000000   3339 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   679

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DURING_TIM_CNTINUE_CHK          P             00006BBC  10411 11841 32228*
_DURING_TIM_FX                            IMPT 00000000   4672 11107 12379 12423 13567 32232 32254 
_DURING_TIM_PRESET_CALC          P             00006BCC  12289 32249*
_ELSE_ERR_FLG1                            IMPT 00000000   2595 
_ELSE_ERR_FLG2                            IMPT 00000000   2596 
_EMG_OUT                                  IMPT 00000000   5640 
_EMG_POS_FLG_PROC                P        EXPT 00002F60   6433 17217*
_EMG_SCANCUT_FLG                          IMPT 00000000   4817 
_ENC360_BITERR_CNT                        IMPT 00000000   2560 
_ENC360_BITFLW_CNT                        IMPT 00000000   2559 
_ENC360_BITNML_CNT                        IMPT 00000000   2561 
_ENC360_HEX                               IMPT 00000000   2535 
_ENC360_INDT                              IMPT 00000000   2534 
_ENC360_INOLD                             IMPT 00000000   2533 
_ENC360_LINK_AREASIG                      IMPT 00000000   3654 
_ENC360_OVER_ENC                          IMPT 00000000   3546 
_ENC360_OVER_FLG                          IMPT 00000000   3545 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3448 21179 
_ENCPLS_DELT                              IMPT 00000000   3444 21169 21221 
_ENCPLS_POINT_SEL                         IMPT 00000000   3447 21174 21226 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3445 21173 21225 
_ENCPLS_SPD_POINT                         IMPT 00000000   3446 21177 21228 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3440 21172 21224 
_ENC_PLS_SPD                              IMPT 00000000   3441 21180 21237 
_ENC_PLS_SPD_CALC                P        EXPT 00003EC0  21103 21163*
_ENC_PLS_SPD_CLR                 P             00003F18  21215*
_ENC_PLS_SPD_DIR                          IMPT 00000000   3443 21178 
_ENC_SYSRST_CMD                           IMPT 00000000   2551 
_ENC_TIMEXT_FLG                           IMPT 00000000   2552 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5145 32756 32770 32805 
_ENDHAND_WAIT_TIMCNT             P             00006DD8  10187 32745*
_END_CMD_LATCH                            IMPT 00000000   2646 
_EPCHK_COM                                IMPT 00000000   4963 
_EPCHK_DLY_TIM                            IMPT 00000000   4966 
_EPCHK_ERR_TIM                            IMPT 00000000   4967 
_EPCHK_FLG                                IMPT 00000000   4964 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4970 
_EPCHK_RETRY_CNT                          IMPT 00000000   4968 
_EPCHK_STEP                               IMPT 00000000   4965 
_EPCHK_STOP_DISENB                        IMPT 00000000   5290 
_EPCHK_STS                                IMPT 00000000   4969 
_EQ_DND_MAX                               EQU  00000002   2045*
_EQ_STEP_MAX                              EQU  00000005   2034*
_EQ_STEP_MX2                              EQU  0000000A   2035*
_EQ_STEP_MX3                              EQU  00000062   2036*
_EQ_STOP_START_WAIT_DND                   EQU  00000064  13803*
_EQ_STOP_START_WAIT_ORG                   EQU  000001F4  13802*13949 
_ERRCHK_ENC360                            IMPT 00000000   4621 
_ERR_FIRST_ST                             IMPT 00000000   5032 29771 29782 29825 
_ERR_INFO_A01                             EQU  00000020   2264*24989 25028 
_ERR_INFO_A02                             EQU  00000022   2265*25122 25161 25179 25203 25237 
_ERR_INFO_A03                             EQU  00000024   2266*25361 25386 25408 25436 
_ERR_INFO_A04                             EQU  00000026   2267*
_ERR_INFO_A05                             EQU  00000028   2268*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   680

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_A06                             EQU  0000002A   2269*
_ERR_INFO_A07                             EQU  0000002C   2270*
_ERR_INFO_A08                             EQU  0000002E   2271*
_ERR_INFO_B01                             EQU  00000030   2272*24661 
_ERR_INFO_B02                             EQU  00000032   2273*24664 
_ERR_INFO_B03                             EQU  00000034   2274*25347 
_ERR_INFO_B04                             EQU  00000036   2275*25353 
_ERR_INFO_B05                             EQU  00000038   2276*25380 
_ERR_INFO_B06                             EQU  0000003A   2277*25413 
_ERR_INFO_B07                             EQU  0000003C   2278*25537 
_ERR_INFO_B08                             EQU  0000003E   2279*
_ERR_INFO_BAKUP_START            P        EXPT 00005184  25627 25632*
_ERR_INFO_C01                             EQU  00000000   2256*24709 
_ERR_INFO_C02                             EQU  00000004   2257*24759 
_ERR_INFO_C03                             EQU  00000008   2258*24764 
_ERR_INFO_C04                             EQU  0000000C   2259*24769 25165 25397 
_ERR_INFO_C05                             EQU  00000010   2260*24855 
_ERR_INFO_C06                             EQU  00000014   2261*24911 25374 
_ERR_INFO_C07                             EQU  00000018   2262*24913 25334 25394 
_ERR_INFO_C08                             EQU  0000001C   2263*25337 
_ERR_INFO_DLY_TIM                         IMPT 00000000   3540 10650 12897 25309 33161 
_ERR_INFO_DT_CHK1                P             00004E64  10502 24942*
_ERR_INFO_DT_CHK2                P             00004EFC  10646 10887 12893 25072*33157 33283 
_ERR_INFO_DT_CHK3                P             00005008  10891 25278*33287 
_ERR_INFO_DT_CHK3X               P             0000511C  25445 25481*
_ERR_INFO_DT_IN0                 P             00004D28  10181 24655*
_ERR_INFO_DT_IN1                 P             00004D4C  10506 24681*
_ERR_INFO_DT_IN2                 P             00004D84  10543 12870 24739*
_ERR_INFO_DT_IN2A                P             00004DEC  24820*
_ERR_INFO_DT_IN3                 P             00004DF4  10634 12879 24835*33146 
_ERR_INFO_DT_IN4                 P             00004E20  10654 12901 24882*33165 
_ERR_INFO_RST_CLR                P        EXPT 000051AC  25661 25667*
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3541 25647 25677 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3542 24695 24751 24847 24894 24963 25095 25283 25636 25642 25680 
_ERR_INFO_WK_CLR                 P             000051D0  25672 25700*
_ERR_LEV_IN2                              IMPT 00000000   4294 
_ERR_LEV_IN3                              IMPT 00000000   4295 
_ERR_LEV_IN4                              IMPT 00000000   4296 
_ERR_LEV_IN5                              IMPT 00000000   4297 
_ERR_LEV_IN6                              IMPT 00000000   4298 
_ERR_STOP_MOV_CHK                P             00003D0C  11046 20658*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5460 
_EXQ_LT_GET_FLG                           IMPT 00000000   5459 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5461 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5462 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5463 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5464 
_EXQ_OUT                                  IMPT 00000000   5641 
_EXQ_POS_FLG_PROC                P        EXPT 00002FEC   6434 17264 17311*
_EXQ_STOP_LEV_POS_CLR            P        EXPT 000056DC  26760 26776*
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4886 
_EXTDRV_BTTN_USE                          IMPT 00000000   4879 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4880 
_EXT_BTTN_FLG                             IMPT 00000000   4883 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   681

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_FCLS_KJYU_STEPCHG_CLR           P             00004AD8   7187 12304 17368 24050*
_FCLS_NZ_TIM_SET                 P             00004AB4  23732 24022*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5792 30925 35420 36136 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5793 39610 
_FPU_POS_HOKAN1                           IMPT 00000000   5805 41100 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5790  8902 16679 16871 21382 30036 31021 31190 39569 39635 39643 39712 
                                                         40236 40251 40266 40280 40328 40855 40917 40985 41108 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5791 
_FPU_TIM_HOKAN1                           IMPT 00000000   5806 
_FRCYCL_OF                                IMPT 00000000   5656 
_FRCYCL_ON                                IMPT 00000000   5657 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3587 30447 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3586 
_FREQ_SV_SPD                              IMPT 00000000   3519 30564 
_FR_CYL_MASK_FLG                          IMPT 00000000   2645  7469 
_FULCLS_ELSE_STS                          IMPT 00000000   4869 24193 24266 
_FULCLS_MATHED                            IMPT 00000000   4859 22104 22646 23525 23618 23678 24058 24159 24188 
_FULCLS_MAXOVER_CLR              P        EXPT 00004574   7180 17361 22682 22683*
_FULCLS_MAXOVER_ERR              P             00004524  22567 22604*
_FULCLS_MAXOVER_ERR_WT           P             0000452A  22348 22612*
_FULCLS_MAXOVER_STEP_INI         P             00004588  21791 21930 22707*
_FULCLS_MAXPLS_CALC              P             000044B0  21751 22487*
_FULCLS_OVER_SIG                 P        EXPT 0000459C  22733 22739*
_FULCLS_TIM_SETFLG                        IMPT 00000000   4867 12278 23709 23728 23758 24055 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3081 
_FUL_BEFOR_CALC                  P             00001510  11440 11480*
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4676 21803 
_FUL_CLS_LENGH_ADD_CALC          P             000046A8  23022*
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4677 11111 21921 22570 22638 22652 22688 22713 22746 
_FUL_CLS_OBJPLS_CHK              P        EXPT 00004680  22979 22984*23047 23057 23516 23536 
_FUL_CLS_RNADIG                           EQU  00000320   2012*
_FUL_DATA_INIT                   P        EXPT 0000472C  12207 23124 23129*27830 
_FUL_PLS_START                   P             00004740  21833 22155 23157*
_FUL_START_FUL_OBJ_SET           P             00001568  11567*
_FWD_REV_START                   P        EXPT 000034A4   6449 10658 12905 14080 14142 14281 14660 15729 18572*23213 33169 
_FWD_REV_STSIG_OFF               P        EXPT 00003558   6439 10729 10762 10939 17243 17320 18266 18318 18577 18730*21647 21760 
                                                         21961 22060 22202 22291 22335 23220 33230 
_FWD_REV_STSIG_OFF_SPEC          P        EXPT 00003598   6452 11938 13934 14458 14740 15419 15470 18788*
_GAMEN_OVER_RIDE                 P             00005FDC  10237 29328*
_GENSOK_LNGTH_MAX                         EQU  00E4E1C0   6252*37742 37866 40202 
_GENSOK_SIG_MAK                  P        EXPT 00004048  21468 21470*
_GMN_HANYO_DI1                            IMPT 00000000   5540 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5541 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3885 
_GPOINT_HOS_CALC                 P             00005720  26889*
_GPOSIN_HOS_DRV_INI              P             00005718   6769 26870*33350 
_GPOSIN_HOS_RESET                P        EXPT 00005710  26853 26855*
_HENSA_DAT_MONI_MAK              P        EXPT 00005768  27395 27397*
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3961 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3962 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2881 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2880 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5788 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5789 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   682

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HIST_DAT_SEND_COM                        IMPT 00000000   5601 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5600 
_HIST_EVENT_COD                           IMPT 00000000   5602 
_HIST_INFO_DT_IN1                P             00004CE8  10492 24568*
_HIST_KEP_SEND_COM                        IMPT 00000000   5603 
_HLDCAM_ABS_POS_SET                       IMPT 00000000   6284 13573 28400 
_HLDCAM_BANK2_ABS_POS_SET                 IMPT 00000000   6285 28266 28333 
_INCENC_ADD                               EQU  00000000   2067*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2702 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2701 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2703 
_INCENC_SV_HENSA_MAKE            P        EXPT 00003C30  20233 20351 20475 20482*
_INCHEN_ADD                               EQU  00000000   2066*
_INCREV_ADD                               EQU  00000000   2071*
_INCRNA_ADD                               EQU  00000000   2068*
_INCSTP_ADD                               EQU  00000000   2069*
_INC_ABS_ORGWORK                          IMPT 00000000   2928 
_INC_ABS_ORGWORK2                         IMPT 00000000   4348 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4349 
_INC_ENC360                               IMPT 00000000   2539  9834 14992 16103 16119 22559 32683 
_INC_ENC_MM_POS                           IMPT 00000000   2723 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4350 
_INC_RESET_STEP                           IMPT 00000000   5084 10380 13395 
_INC_RESET_USE_F                          IMPT 00000000   5085 10374 13374 
_INC_RST_WORK_CLR                         IMPT 00000000   6466 10386 
_INC_STOP_CNT                             IMPT 00000000   3260 
_INC_UPLIMT_CALC                 P             00006C58   6738 32384*
_INFO_CHK1_COD                            EQU  5AA51234   2206*
_INFO_CHK2_COD                            EQU  4321A55A   2207*
_INPUT_MODE_SW                            IMPT 00000000   2594 
_INP_ERR_FLG                              IMPT 00000000   4612 12113 
_INP_MODE                                 IMPT 00000000   2626 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5153 
_INT1MS_SCAN_02MS                         IMPT 00000000   4287 
_INT1MS_SCAN_03MS                         IMPT 00000000   4288 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4289 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4290 
_INT1MS_SCAN_10MS                         IMPT 00000000   4291 
_INT_CLS_CTL_FLG                          IMPT 00000000   2847  6836 11120 21728 21785 21878 21927 21945 22055 22159 22210 22299 
                                                         22328 23133 30780 33422 37415 41664 
_INT_CLS_DYL_TIM                          IMPT 00000000   2848 21805 21980 22424 22450 
_INT_CYC_DRV_STS                          IMPT 00000000   2846  6830  7098  7242  7335 10302 10997 17227 17466 33416 
_INT_DND_CTL_STEP                         IMPT 00000000   2842  6774 10124 10362 11222 13896 14002 14197 14245 33117 33355 
_INT_DND_NEG_STEP                         IMPT 00000000   2850  7932  7948  8001  8018  8106  8122  8170  8194  8475 17237 
_INT_DND_STEP_FLG                         IMPT 00000000   2845  6776 10364 11224 13875 13910 13954 13986 14152 14291 14316 14443 
                                                         14536 14580 14664 14733 14819 33119 33357 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2859 
_INT_POS_CTL_END                 P             000013A0  11008 11206*
_INT_POS_CTL_FLAG                         IMPT 00000000   2843  6780 10322 10418 10669 10724 10757 10810 10947 10974 11211 15733 
                                                         33076 33174 33225 33361 
_INT_POS_CTL_STEP                         IMPT 00000000   2840 10394 11215 11291 11373 11516 11631 12234 12266 12546 12592 12763 
                                                         13630 19707 20429 20455 23065 23268 23448 24028 25807 26051 27493 27738 
                                                         28058 28117 28172 32910 33127 35644 36161 36553 39814 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   683

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_POS_CTRL                    P        EXPT 00000E54   6430 10175*
_INT_POS_DATA_REF                P        EXPT 00003A48   6431 20064*
_INT_POS_STEP_FLG                         IMPT 00000000   2844 10360 10786 11213 11815 12296 12415 12751 12921 12985 17330 27721 
                                                         33115 
_INT_SFY_INP_DAT                          IMPT 00000000   3647 
_INT_SPD_CHG_FLG                          IMPT 00000000   5514 
_INT_STP_INP_DAT                          IMPT 00000000   3648 
_INT_STP_INP_DAT1                         IMPT 00000000   3649 
_INT_STP_INP_DAT2                         IMPT 00000000   3650 
_INT_STP_INP_DAT3                         IMPT 00000000   3651 
_INT_TEP_RESTART                 P             000028A8  15445 15557 15674*
_INT_TIM_CHG_FLG                          IMPT 00000000   5515 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4044 
_IN_POS_GPOINT_POS                        IMPT 00000000   3946 
_IN_RDY_FLG                               IMPT 00000000   2634 
_IRQ_EMG_CNT                              IMPT 00000000   3641 
_IRQ_EMG_FLG                              IMPT 00000000   3640 
_IRQ_SFY_CNT                              IMPT 00000000   3643 
_IRQ_SFY_FLG                              IMPT 00000000   3642 
_IRQ_STP_CNT                              IMPT 00000000   3645 
_IRQ_STP_FLG                              IMPT 00000000   3644 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4202 
_KAJLIV_TTL_POINT                         IMPT 00000000   4201 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4199 
_KAJYU_ELSE_STS_CLR              P        EXPT 00004BB0   7191 17372 24223 24231*
_KAJYU_ELSE_STS_FLG_CLR          P             00004BD4  24237 24261*
_KAJYU_START_UPCHK               P             00004B70  21840 24184*
_KJPHOS_CAL_PRS                           IMPT 00000000   3009 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   3001 
_KJPHOS_IDO_BUF                           IMPT 00000000   3004 
_KJPHOS_IDO_CNT                           IMPT 00000000   2998 
_KJPHOS_IDO_POINT                         IMPT 00000000   2997 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   3003 
_KJPHOS_SMPINI                            IMPT 00000000   6415 19776 33406 
_KJPHOS_SMPLING_END1                      IMPT 00000000   6416 19875 
_KJPHOS_USE_FLG                           IMPT 00000000   2996 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   3000 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4856 23401 23645 23819 23909 23988 24201 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4857 23405 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4855 23396 24125 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   3007 
_KJYUU_IN_DAT_PV                          IMPT 00000000   3006 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   3008 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4866 23837 
_KJYU_CMP_CMD                             IMPT 00000000   4925 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4931 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4930 
_KJYU_DATA_INFO_SEL              P             00004AF4  21595 24081*
_KJYU_NEARZERO3_CHK              P             00004A34  22409 23904*24324 
_KJYU_NEARZERO_CHK               P             00004A04  23639 23720 23790 23814*
_KJYU_OUT_DIRCT                  P             00004A96  23774 23983*
_KJ_AREATRD_SIG                           IMPT 00000000   4907 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4908 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3765 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   684

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KJ_AREA_SIG                              IMPT 00000000   3764 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2487 
_LENGH_ADD_CALC                  P        EXPT 00002E58   6444 11318 11449 11755 14068 14130 14269 17000*33022 
_LENGH_ADD_CALC_SV_TYPE          P        EXPT 00002E9C   6445 11657 17055*
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3680 16013 17013 17069 17109 28000 28844 
_LINK_1000ROT_PLS                         IMPT 00000000   4220 
_LINK_1ROT_PLS                            IMPT 00000000   2774  8697  8716  8963  9048  9067  9459  9478  9605  9639  9898 13358 
                                                         15184 15200 15222 15241 22992 23039 25172 25230 33519 35246 35961 
_LINK_2ROT_PLS                            IMPT 00000000   4217 
_LINK_3ROT_PLS                            IMPT 00000000   4218 
_LINK_4ROT_PLS                            IMPT 00000000   4219 
_LINK_CLANK_PV                            IMPT 00000000   3497  8390  8431 
_LINK_DIR_OBJMAK3                P             00000BAC   9566*10041 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3049  8898 30922 39278 40058 40456 40851 40913 40981 41104 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2697 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2696 13351 13480 13491 13504 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2698 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2699  8646  8982  9403  9590 13354 15168 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2768 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2767  7134 12753 
_LINK_POS_OFFSET1                         IMPT 00000000   2861 
_LINK_POS_OFFSET2                         IMPT 00000000   2862 
_LINK_PV_ABSPLS                           IMPT 00000000   2860 20489 24593 24762 25516 25780 25894 25981 26132 26218 27407 29929 
                                                         30280 31680 33511 
_LINK_P_M_MAX                    P             00000D90   7776  9983*
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2821  8732  9084  9176  9495  9667 11585 13642 15257 15617 17022 20188 
                                                         23290 27523 27993 29872 29932 31665 33514 33609 35717 36612 37135 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2829  8748  9100  9157  9172  9511  9682  9998 11576 11751 14064 14126 
                                                         14265 15273 15620 15971 16010 17004 17059 17118 20486 23027 24585 24707 
                                                         24757 25505 25775 25889 25976 26127 26213 27403 27424 27997 28760 28835 
                                                         30189 30274 31657 33527 37110 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2830  7563  7583  8848 10595 11297 11379 11637 11743 13739 14258 15709 
                                                         16761 16786 28178 32972 33558 
_LINK_UPPLS_A_OBJMAK1            P             000008E0   7041  8946*14113 
_LINK_UPPLS_A_OBJMAK2            P             000009E8   9148*14052 14181 
_LINK_UPPLS_A_OBJMAK3            P             00000A54   9222*10086 14230 
_LINK_UPPLS_DNDRIV               P             00000C84   9733*10069 
_LINK_UPPLS_OBJ_SELECT1          P             00000A90   9241  9316* 9745 
_LNGTH_ADD_DATA                           IMPT 00000000   2855 11227 16017 17029 17081 17131 17167 19079 23113 24767 24774 24779 
                                                         24993 25126 28848 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2856 11231 17164 19086 19162 19182 19293 19443 22958 24853 25006 25139 
                                                         25790 28894 
_LNKPLS_OBJ_DAT_MAK1             P             00000780   8511  8531  8553  8618*
_LNKPLS_OBJ_DAT_MAK2             P             0000263C  15108 15136*
_LOAD_ACCS1_LATE                 P        EXPT 00003DDC  20708 20905*
_LOAD_BASE_FREQ_PLS              P        EXPT 00003DC0  20709 20872*
_LOAD_FREQ_PLS                   P        EXPT 00003DA4  20703 20837*25769 25883 25970 26121 26207 
_LOAD_GPOINT_PLS                 P        EXPT 00003E20  20705 21006*
_LOAD_NOW_FREQ_PLS               P        EXPT 00003E04  20704 20969*31695 
_LOAD_REST_PLS                   P        EXPT 00003D38  16521 17928 18050 18082 18138 18797 19246 19419 19509 19615 20702 20728*
                                                         24908 25331 25501 
_LOAD_SPD_LATE                   P        EXPT 00003DF0  20707 20935*
_LOD_POS_STS_REG                 P        EXPT 000035EC   6450 14463 14744 15423 15474 18271 18323 18864*20663 21476 
_LOD_POS_STS_REG_IN              P             00003630  18874 18909 18946*37479 37517 41768 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   685

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LOD_POS_STS_REG_POR             P        EXPT 00003604   6451 11910 13927 18898*21663 21764 21885 21965 22339 
_LOD_POS_STS_REG_SLOW            P             00003604  10967 18899*
_LONG_BIT_TBL0                            IMPT 00000000   6373 20432 20458 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3484 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3485 
_LOT_CHK_FLG                              IMPT 00000000   2666 27701 
_LOT_CNT_FLG                              IMPT 00000000   2664 
_LOT_SIG_FLG_CLR                          IMPT 00000000   6333 12645 12975 27691 
_LOT_SIG_SET                              IMPT 00000000   6297 
_LSA1_FILETR_TIM                          IMPT 00000000   3746 
_LSA2_FILETR_TIM                          IMPT 00000000   3747 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3752 
_LSA_ENC_DIG                              IMPT 00000000   3739 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3740 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3741 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3742 
_LSA_ERR_SIG                              IMPT 00000000   3751 
_LSA_SIG_DT                               IMPT 00000000   3743 
_LSA_SIG_DT2                              IMPT 00000000   4068 
_LSA_SIG_OLD_DT                           IMPT 00000000   3744 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3745 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3603 17610 17615 17933 18016 18366 18407 18467 18508 18602 18651 18736 
                                                         18810 30646 30698 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4476 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4477 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4478 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4479 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3582 26509 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3581 26506 
_LSI_CMP_ERR_MAX                          EQU  0000000A   6245*
_LSI_G_HOS_SPD                            EQU  0000000F   6248*
_LSI_LOAD_32BIT_DATA             P             00003E3C  20754 20761 20768 20849 20883 20981 21017 21042*
_LSI_LOAD_PLS                             IMPT 00000000   5214 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3571 17920 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3572 18076 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3573 18166 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3554 17916 18156 18160 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3567 26499 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3565 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3564 26454 26516 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3568 20786 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3574 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3575 19690 26502 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3576 19305 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3577 19654 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3578 19676 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3555 19150 19297 
_LSI_REST_PLS_CHK_START_CLR      P             00005504   6765 26492*33346 
_LSI_REST_PLS_CHK_STOP_CLR       P             000054C8  10737 10770 12075 17345 26446*33238 
_LSI_RETRY_ERR_MAX                        EQU  00000003   6244*18162 19299 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3665 30772 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3666 
_LSI_SET_SPD_SV                           IMPT 00000000   3664 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3515 24594 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   686

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3514 24586 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3516 16021 17034 17085 17135 28865 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3517 19097 28910 
_MAIN_CLK                                 IMPT 00000000   4803 
_MAIN_SPD_CHG_FLG                         IMPT 00000000   5516 
_MAIN_START_OK                            IMPT 00000000   2497 
_MAIN_TIM_CHG_FLG                         IMPT 00000000   5517 
_MCN_DBG_COD11                            EQU  00000063   2241*
_MCN_DBG_COD21                            EQU  00000059   2243*
_MCN_DBG_COD22                            EQU  00000058   2244*
_MCN_DBG_COD23                            EQU  00000058   2245*
_MCN_DBG_COD31                            EQU  0000004F   2247*
_MCN_DBG_COD32                            EQU  0000004E   2248*
_MCN_DBG_COD33                            EQU  0000004D   2249*
_MCN_FUJI_DBG1                            EQU  000004D2   2251*
_MISS_KEN_CAM_IN                          IMPT 00000000   5557 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5558 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5560 
_MISS_KEN_DI                              IMPT 00000000   5553 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5554 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5561 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5550 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5551 
_MNWR_POS_CMD                             IMPT 00000000   2790  7152  7322 10344 10718 10933 17230 17316 33099 33220 33436 
_MN_DNDINC_START                 P             000003E4   6891  7604*
_MN_POS_CTRL_ACT                 P        EXPT 0000026C   6437  7237*
_MN_POS_CTRL_START               P        EXPT 00000000   6436  6670*
_MN_TEP_START                    P             00002850   7615 15604*
_MODE_SEL                                 IMPT 00000000   2627  6684  6843  7393  7457 10444 10828 11962 12258 12458 12652 13811 
                                                         14384 19127 19780 20238 24701 24900 24969 25101 25289 29378 31875 32318 
                                                         32388 32692 35239 35955 
_MONI_CHG_PROC1                  P        EXPT 000054C0  26259 26275*
_MONI_CNT_HIST_INFO_DISP         P        EXPT 00005760  27051 27380*
_MONI_CNT_NOW_INFO_DISP          P        EXPT 00005738  27050 27062*
_MONI_CNT_NOW_INFO_DSP1          P             00005740  27102*
_MONI_CNT_NOW_INFO_DSP2          P             00005748  27155*
_MONI_CNT_NOW_INFO_DSP3          P             00005750  27208*
_MONI_CNT_NOW_INFO_DSP4          P             00005758  27268*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3921 31807 31833 31903 
_MONI_DISP_MOD                            IMPT 00000000   5605 
_MONI_RDY_STEP                            IMPT 00000000   5025 
_MONI_RESET_STEP                          IMPT 00000000   5024 
_MONI_SEINOU_CMP_OUTPUT          P             000068CC  11086 31623*
_MONI_SELF_STS1                           IMPT 00000000   5026 
_MONI_SELF_STS2                           IMPT 00000000   5027 
_MOST_DISP_DAT_INI               P             00003C70  19809 20530*
_MOST_DISP_DAT_SMP               P             00003CB4   7306 20577*
_MOTION_CHK_START_FLG                     IMPT 00000000   5331 
_MOTION_CYCLE_ED2                P             00003A30  12641 12971 19958*27685 
_MOTION_CYCLE_END                P             000039BC  12631 12967 19840*27681 
_MOTION_CYCLE_START              P             00003968   6820 12768 19759*27805 
_MOTION_SPD_CHKCNT                        IMPT 00000000   5448 36987 
_MOT_REPSTART_CALC               P             00006ED4  10467 12578 32965*
_MOT_REP_CLR                     P             00006E38  17275 19905 32847*32949 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   687

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MOT_REP_CNT                              IMPT 00000000   5071 32852 32923 
_MOT_REP_F                                IMPT 00000000   5070 10459 12242 12537 21618 32854 32880 32887 32932 40582 
_MOT_REP_STEPCHK                 P             00006E54  12533 32869*
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5088  6693 33325 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2600 
_MOV_ERR_FLG1                             IMPT 00000000   2597 
_MRTION_SEL                               IMPT 00000000   2632 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5796 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5795 40194 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5797 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4729 
_M_LINK_AREASIG                           IMPT 00000000   2706 27696 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2814 
_NEAR_IN_FLG                              IMPT 00000000   2689 12080 12094 12212 20299 20387 21677 21683 27820 
_NEAR_ZERO_IN_CHK                P             00001D28  13267*
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4328 11420 11505 11572 33012 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4326 11509 23281 33016 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4327 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5569  8221 14485 14509 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5568  7654  8282 14497 
_NEG_EXITTIM                              IMPT 00000000   4698 21797 22617 
_NEG_TEPA_AREA_CHK               P             00002A98  15937 16090*
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3583 19618 25785 25899 25986 26137 26223 31651 
_NEW_TEP_CNT                              IMPT 00000000   3811 16320 16363 
_NEXT_CYCL_START1                P             00001E1C   7137 13516*
_NEXT_CYCL_START2                P             00001D40   7106 13342*
_NOW_INC_DIG_MAK                          IMPT 00000000   6303  8634  8953  9235  9583  9739 13348 15162 15624 33548 
_NOW_MOTREP_DIR                           IMPT 00000000   5072 
_NZ_TIM_CHK1                              IMPT 00000000   6345 12101 
_NZ_TIM_OUT_PV1                           IMPT 00000000   3399 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3400 12107 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3397 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3398 
_OBJDIG_CLANK                             IMPT 00000000   4701 
_OBJ_ENC360                               IMPT 00000000   2541 
_OBJ_NEAR_CHK1                   P             00000D10   9613  9648  9873*
_OBJ_POS_DIG_MAK                          IMPT 00000000  22478 22498 
_OLD_RNAORG_POS1                          IMPT 00000000   2528 
_OPEN_ROT_NEAR1_ZERO_CHK         P             00003AF8  11904 20228*
_OPEN_ROT_NEAR2_ZERO_CHK         P             00003B88  20346*21657 
_ORGIN2_STEP_FLG                          IMPT 00000000   4337 
_ORGIN_END_FLG1                           IMPT 00000000   3071  6931 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3835 
_ORGIN_MOD2_SEL                           IMPT 00000000   3834  6946 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3836 
_ORGIN_MODE_END                           IMPT 00000000   6294 14222 
_ORGIN_MODE_INI                           IMPT 00000000   6292 14194 
_ORGIN_MODE_SMP                           IMPT 00000000   6293 13905 
_ORGIN_OBJ_POS_CTRL_ST1          P             00000DC0   6960 10023*
_ORGIN_OBJ_POS_CTRL_ST2          P             00000E34  10114*13890 
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4393 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4394 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4395 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2604 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   688

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORG_DRV_CNT_PV                           IMPT 00000000   3471 14028 14146 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2603  6938 
_ORG_END_SIG_CLR                          IMPT 00000000   6314  7049 10097 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3062  8960 
_ORG_PRESET_TIM                           IMPT 00000000   2612 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3472 14035 14323 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3063  9160 
_ORIGIN_POS_CHK_INI2                      IMPT 00000000   6418 14339 
_ORIGN_180ARA_FLG                         IMPT 00000000   4029  7158  8991  9279  9778 33441 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3667  7032 10027 10118 14390 33430 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3458 21128 
_OUTPLS_DELT                              IMPT 00000000   3454 20159 21113 31748 
_OUTPLS_DIV                               IMPT 00000000   2864 
_OUTPLS_MOD                               IMPT 00000000   2863 11241 17170 25019 25152 
_OUTPLS_POINT_SEL                         IMPT 00000000   3457 21123 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3455 21122 
_OUTPLS_SPD_POINT                         IMPT 00000000   3456 21126 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3450 21121 
_OUT_PLS_SPD                              IMPT 00000000   3451 21129 
_OUT_PLS_SPD_CALC                P        EXPT 00003E68  21102 21109*
_OUT_PLS_SPD_DIR                          IMPT 00000000   3453 21127 
_OUT_UP_DN_TOTAL_CNT             P        EXPT 00003A50  20079 20081*
_OVER1_JGDIG                              EQU  00000032   2050*
_OVERH_CALC_USE                           IMPT 00000000   4695 
_OVERH_MODE_SEL                           IMPT 00000000   4693 
_OVERLIDE_DT_SEL                          IMPT 00000000   3883 29384 
_OVERLID_CTL_DEF_SET             P             00005FB0  29220 29285*
_OVERLID_DEF_SET                 P        EXPT 00005F50   6456 29207*
_OVERLID_GMN_DEF_SET             P             00005F94  29216 29261*
_OVERLID_SEQ_DEF_SET             P             00005F78  29212 29237*
_OVERRIDE_CALC_LATE_SEL          P             00006124  29559 29602*33589 
_OVERRIDE_CALC_SPED_SEL          P             00006150  10281 29563 29635*33593 
_OVER_DIG_CHK                    P             000044EC  22016 22241 22555*
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3910 30915 
_OVER_LIDE_SEQREF                P             00005EA8  10241 29092*
_OVER_LIDE_SPD_CALC              P             00006260  30028*35789 36810 36896 37204 
_OVER_RIDE_ERR_TIMCHG            P        EXPT 00006168  29670 29676*
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3873 29146 29150 29160 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3871 29104 29110 29133 29173 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3872 29143 
_OVER_RIDE_USEFUL                         IMPT 00000000   3905 10274 29400 29405 29425 29450 29476 29482 29687 33578 33583 
_OVER_RID_UPDN_LAT_CALC          P             00006198  29736*
_OVER_RID_UPDN_LAT_DTMK          P        EXPT 000060DC  12789 27731 29536 29545*
_OVER_UPDN_DBGCNT                         IMPT 00000000   3907 29549 
_OVRLIDE_LATE_MAX                         EQU  00000064   2282*29241 29265 29289 29468 30034 31003 31015 31015 31060 31128 33570 
                                                         40192 40234 40249 40264 40278 40326 
_OVRLIDE_LATE_MULDIV             P             00006664  29699 30912 30956*
_OutputPLS_REG_CLR               P             000031B0  17195 17841*19226 19290 
_PAR_ACCDN_MATH                           IMPT 00000000  34874 34905 34960 35063 35136 
_PAR_DNMDEND_DLY                          IMPT 00000000  32302 32324 
_PAR_INCSPD_UPLMT                         IMPT 00000000   6397 32401 
_PAR_INSERT_SMPTM                         IMPT 00000000   6395 
_PAR_KAJYU_ARASPD                         IMPT 00000000  21533 24383 
_PAR_KAJYU_CHGARA                         IMPT 00000000  21534 23925 24311 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   689

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PAR_KAJYU_CTIM1                          IMPT 00000000  21538 22422 
_PAR_KAJYU_CTIM2                          IMPT 00000000  21539 22448 
_PAR_KAJYU_FIRST                          IMPT 00000000  21541 23643 
_PAR_KAJYU_HLDSPD                         IMPT 00000000  21532 24431 
_PAR_KAJYU_STPARA                         IMPT 00000000  21540 23916 
_PAR_MYUBRK_TIM1                          IMPT 00000000   6471  7407 
_PAR_MYUBRK_TIM2                          IMPT 00000000   6472  7390 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6473  7260 
_PAR_NEGCTL_SPDS1                         IMPT 00000000  21536 24489 
_PAR_NEGERR_ENB                           IMPT 00000000  21529 22632 
_PAR_NEG_EXITTIM                          IMPT 00000000  21530 21795 
_PAR_ORGDRV_CNT                           IMPT 00000000   6393 
_PAR_ORGDRV_MOD                           IMPT 00000000   6392 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6474  7452 
_PAR_START_WAIT_DND                       IMPT 00000000  13943 14530 
_PAR_STOPTIM_SEL                          IMPT 00000000   6398 32264 
_PAR_TEP_BEFPLS                           IMPT 00000000  15362 16823 
_PAR_TEP_MINSPD                           IMPT 00000000  15363 16852 
_PAR_TEP_WATTIM                           IMPT 00000000  15361 16835 
_PAR_WTSEL_USE                            IMPT 00000000   6225  8502 13390 14379 
_PLSI_CH1                                 EQU  00000000   6508*17587 17620 17938 17990 18021 18105 18371 18412 18472 18513 18609 
                                                         18656 18741 18815 18967 18996 19048 19553 20101 20110 20752 20759 20766 
                                                         20847 20881 20915 20944 20979 21015 28622 30468 30585 30651 30703 31525 
                                                         31549 31573 
_PLSI_CH2                                 EQU  00000030   6509*
_PLSI_CH_COM                              EQU  00000000   6535*21073 
_PLSOUTEND_FLG                            IMPT 00000000   5237 
_PLSOUTEND_PVPLS                          IMPT 00000000   5235 
_PLSOUTEND_SHIN                           IMPT 00000000   5236 
_PLSOUT_STEP_END_TIMSET          P             00001D30  13278*
_PLS_AccLate1                             EQU  0000001C   6525*20915 31525 
_PLS_AccLate2                             EQU  0000001E   6526*31549 
_PLS_BasFreqL                             EQU  0000000C   6517*20881 30468 
_PLS_BitComdL                             EQU  00000000   6511*17620 17938 18021 18371 18412 18472 18513 18609 18656 18741 18815 
                                                         30651 30703 
_PLS_BitInfoL                             EQU  00000004   6513*18967 18996 
_PLS_CHG_PLS_TO_LSI              P             00006598  30444 30560 30762*
_PLS_CtrlReg                              EQU  0000002A   6532*17587 
_PLS_ERR_HABPLS1                          EQU  000007D0   6233*25174 25232 25509 
_PLS_GNpointL                             EQU  00000018   6523*21015 
_PLS_LSI_CTL_CALC                PHiROM        00000138  37315 37347*
_PLS_LSI_CTL_INI                 P             00006244  29977*37243 
_PLS_LSI_CTL_SPDCNT              P             000064A4  30525*31353 
_PLS_LSI_CTL_SPDINI              P             00006430  30427*31330 
_PLS_LSI_CTL_SPDSET              P             000064C0  30502 30533 30553*37495 37558 41746 41840 
_PLS_LSI_CTRL                    PHiROM        00000000  11101 37103*
_PLS_LSI_SPD_ACC_ADD             PHiROM        0000029C  37470 37653*41737 
_PLS_LSI_SPEED_OFF               P             0000624C  30001*37266 37577 37614 41857 41894 
_PLS_LSI_STOP_END                P             00006514  30007 30640*
_PLS_LTCHReg                              EQU  0000007E   6536*21073 
_PLS_NowFreqL                             EQU  00000010   6519*20979 
_PLS_NowPos1L                             EQU  00000024   6529*19048 
_PLS_NowPos2                              EQU  00000028   6531*
_PLS_OUTPUT_FLG                           IMPT 00000000   3390 20673 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   690

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLS_OUTPUT_MAX                           EQU  00FFFFFF   6507*19426 
_PLS_OUT_END_STS                          IMPT 00000000   4786 
_PLS_OutPposL                             EQU  00000014   6521*17990 18105 19553 20752 20759 20766 28622 
_PLS_OutcntPS                             EQU  00000022   6528*20101 20110 
_PLS_SpedLate                             EQU  00000020   6527*20944 31573 
_PLS_TopFreqL                             EQU  00000008   6515*20847 30585 
_POINT_GET_SPD1                  PHiROM        00000F7A  40667 40907*
_POINT_SERCH_BIG_2B              PHiROM        00001086  40870 41190*
_POINT_SERCH_BIG_4B              PHiROM        000010F2  40970 41063 41337*
_POINT_SERCH_PLS1                PHiROM        00000F9C  40952*
_POINT_SERCH_PLS_HOKAN1          PHiROM        00000FF8  40464 41027*
_POINT_SERCH_SPD1                PHiROM        00000F30  40589 40842*
_PON_ERR_WAIT_TIM                         IMPT 00000000   5167 
_POSCANSEL_CMD                            IMPT 00000000   5475 
_POSCHG_LINK_ABSPLS_ROTNUMBER             IMPT 00000000   8922 
_POSCHG_LINK_ABSPLS_ROTNUM_OFSPL*         IMPT 00000000  23016 23033 
_POSCHG_LINK_DIG_TO_LINK_PLS              IMPT 00000000  22477 22514 
_POSCHG_LINK_ROTNUM_PLS                   IMPT 00000000   8923 
_POSCTL_CALC_ERR                          IMPT 00000000   3858 17270 17379 31231 37444 41720 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3914 29301 29610 29693 30871 31090 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3913 29298 29643 30032 40190 40232 40247 40262 40276 40324 
_POSCTL_RL_PLS                            IMPT 00000000   3845 11589 30120 30204 30352 37138 37834 
_POSCTL_RL_SPD                            IMPT 00000000   3849 17685 17728 17773 17814 30143 30226 30374 30438 30557 31636 35775 
                                                         36796 36882 37379 37526 37660 40129 40245 41625 41808 41927 
_POSCTL_SET_SPD                           IMPT 00000000   3847 30432 30529 37187 
_POSCTL_STEP_CMD                          IMPT 00000000   3856 31222 31270 31298 37237 37252 37262 37396 41645 
_POSCTL_STEP_FLG                          IMPT 00000000   3857 11158 18915 21490 31225 31238 37126 37226 37248 37259 37359 37401 
                                                         37511 37549 37581 37587 37592 37618 41601 41650 41762 41782 41831 41861 
                                                         41867 41872 41898 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3852 30149 30232 35800 36821 37153 37179 37528 37684 40274 41810 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3854 17683 17726 17771 17812 30039 30146 30229 30304 30377 30436 30440 
                                                         30688 31379 31404 31432 31462 31464 31492 31494 31646 37377 37543 40112 
                                                         41623 41825 
_POSCTL_SV_PLS                            IMPT 00000000   3844 11580 30115 37113 37829 
_POSCTL_SV_SPD                            IMPT 00000000   3848 31630 37222 37658 40230 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3851 31641 36907 37174 37667 40260 
_POSHLD1_CHKLST_FLG                       IMPT 00000000   5019 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4998 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4999 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   5001 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   5002 
_POSHLD1_STOPLATCH                        IMPT 00000000   5007 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4996 
_POSHLD1_STOP_STEP                        IMPT 00000000   4995 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4994 
_POSHLD_SET_DN_ACC                        IMPT 00000000   5006 30383 37151 
_POSINER_FLG                              IMPT 00000000   4947 33707 33785 33804 33816 33854 33893 33949 33989 34018 
_POSINER_MOSTPV_POS                       IMPT 00000000   4943 33910 34512 
_POSINER_OLDPV_POS                        IMPT 00000000   4942 33908 34559 34576 
_POSINER_PV_POS                           IMPT 00000000   4941 33773 33906 34107 34329 34400 34509 34613 
_POSINER_RETRY_CNT                        IMPT 00000000   4949 33738 33979 34101 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4950 33899 34542 34549 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4951 33902 34544 34590 34597 34605 
_POSINER_STS                              IMPT 00000000   4948 33750 33787 33957 33962 33996 34001 34039 34114 34335 34406 34478 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   691

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         34515 
_POSINER_SV_OVRPOS                        IMPT 00000000   4945 34161 34332 
_POSINER_SV_POS                           IMPT 00000000   4944 34098 34165 34289 34615 
_POSINER_SV_STPPOS                        IMPT 00000000   4946 34173 34403 
_POSITINER_POS_CMP               P             00007784  33703 34688*
_POSITIONER_DAIHAITO             P        EXPT 000072BC  33689 33690*
_POSITIONER_DAI_DATA             P             0000756C  33753 34231*
_POSITIONER_DAI_OBJ1CMP          P             00007600  33836 34323*
_POSITIONER_DAI_OBJ1MAK          P             000074C0  33812 34093*
_POSITIONER_DAI_OBJ2CMP          P             00007644  33875 34394*
_POSITIONER_DAI_OUT              P             00007688  33844 33883 34460*
_POSITIONER_DAI_STPCHK           P             000076AC  33937 34504*
_POSITIONER_UPDN_LIMIT           P             00007548  34155 34170 34194*
_POSLSI_CHK_CNT                           IMPT 00000000   2873 20128 
_POSLSI_CHK_DLT                           IMPT 00000000   2874 20139 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2867 19423 27428 
_POSLSI_CHK_STS                           IMPT 00000000   2875 13715 19431 
_POSLSI_CMP_DATA                          IMPT 00000000   2857 11235 17199 
_POSLSI_DELT_POS                          IMPT 00000000   2858 11238 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2866  8770  9121  9191  9533  9704 11144 11327 11458 11666 11763 15305 
                                                         16033 18581 19721 20141 22269 22282 22945 23192 25486 28213 30128 30212 
                                                         30288 30360 33031 37842 
_POSLSI_DRV_FRQ                           IMPT 00000000   3584 25772 25797 25886 25904 25973 25991 26124 26142 26210 26228 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2871 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2869 20171 
_POS_1STEP_DATA_MAK1             P             00001410  10517 11282*
_POS_1STEP_DATA_MAK1CL           P             0000147C  10561 11363*13199 
_POS_1STEP_DATA_MAK2             P             000015A4  11621*12805 13213 
_POS_1STEP_DATA_MAK_SEL          P             00001CEC  12852 13186*
_POS_ALLSTEP_STOP_SPD_CHK        P             00001D20  13256*
_POS_ALL_STEP_CTRL               P             00001654  10840 11794*
_POS_CALC_ERR_FLG1                        IMPT 00000000   3557 11015 17338 19221 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3558 11020 17341 
_POS_CALC_ERR_INF1                        IMPT 00000000   3561 11017 
_POS_CALC_ERR_INF2                        IMPT 00000000   3562 11022 
_POS_CALC_MISS0                  P             00005E54  15190 15229 15300 28965*
_POS_CALC_MISS1                  P             00005E70  28999*
_POS_CALC_MISS2                  P             00005E8C  29033*
_POS_CLS_OBJPLS_PVPLS_MAKE       P             00004894  22002 22188 23182 23492*
_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK P             00004920  22192 23613*
_POS_CLS_RNA_KJYU_NZ_CHEAK       P             00004968  22006 23673*
_POS_CLS_START_CONF              P             00004868  21583 21998 22184 23178 23444*
_POS_CLS_TYP1_NEAR_ZERO_CHEAK    P             000045D8  22820*23625 23685 
_POS_CLS_TYP1_POS_CTL1           P             0000407A  11870 21569*
_POS_CMP_1STEP_START_INI                  IMPT 00000000   6330  6815 10680 12926 14667 15742 33185 33397 
_POS_CNT_BANK_DTMAK1             P             00005A16  10536 27966*
_POS_CNT_BANK_DTMAK2             P             00005A10  27785 27957*
_POS_CNT_BANK_DTMAK3             P             000059C4  12834 27887*
_POS_CNT_BANK_DTMAK_CM           P             00005B0C  28068 28198*
_POS_CNT_LAST_STEP_CHK           P             00005AA0  27933 28007 28045 28100*28490 
_POS_CTRL_SQ_STS                          IMPT 00000000   2837 12034 12195 12228 20276 20281 20312 20317 20363 20368 20393 20398 
_POS_DRV_DIRECT                           IMPT 00000000   2831  7773  7827  8767  9118  9188  9530  9701 14873 14904 14930 15105 
                                                         15292 16030 16445 33534 
_POS_ENDMYUT_TIM_SET             P             00000344   7283  7447*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   692

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_ENDWAIT_TIM_SET             P             00000308   7268  7383*
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5256  7486  7520 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5255  7484  7517 
_POS_END_MYUTIG_TIMER_CLR        P             00000390   7512*17390 
_POS_END_WAIT_TIM                         IMPT 00000000   5246  7327  7412  7523 
_POS_FRQ_SPDMAX                           IMPT 00000000   3055 16868 31182 
_POS_GEN_BEFORE_LNG                       EQU  000003E8  21526*
_POS_GPOINT_POS                           IMPT 00000000   3947 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4978 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4979 37144 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4980 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4981 
_POS_HOLDABS_CALCF                        IMPT 00000000   5018 
_POS_HOLD_CMD                             IMPT 00000000   5013 
_POS_HOLD_FLG                             IMPT 00000000   5014 
_POS_HOLD_FLG_STR2CLR                     IMPT 00000000   6425 10568 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   5015 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   5016 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   5012 
_POS_LATE1                                EQU  000003E8  21525*
_POS_LATE_CALC_MAX                        EQU  000003E8  21527*
_POS_LENGTH_ADD_DATA             P        EXPT 000036A4   6447 10630 12875 14072 14134 14273 14652 15721 16547 19075*27801 33142 
_POS_LSI_ABSPLS                           IMPT 00000000   2919 
_POS_LSI_ACC1_SET                P             00006884  31519*
_POS_LSI_ACC2_SET                P             0000689C  31543*
_POS_LSI_ACCLT1                           IMPT 00000000   3059 31523 
_POS_LSI_ACCLT2                           IMPT 00000000   3060 31547 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3556 11025 17335 18182 19325 20796 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3560 11027 
_POS_LSI_BAS_SPEED_SET           P             000067EC  17679 17722 31372*
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3077 24519 
_POS_LSI_CLS_BAS_SPD_SET         P        EXPT 00006804  17767 31391 31397*
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3076 
_POS_LSI_CLS_TOP_EQ_BAS_SET1     P        EXPT 00006834  31449 31455*
_POS_LSI_CLS_TOP_EQ_BAS_SET2     P        EXPT 0000685C  21823 22145 31477 31485*
_POS_LSI_CNT_LOAD_R1reg          P        EXPT 00003690  19037 19044*
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2923 
_POS_LSI_DATA_INITAL             P        EXPT 00003100  17501 17670*
_POS_LSI_EMG_STOP                P             00003354  10733 10943 17247 17324 18260*33234 
_POS_LSI_EMG_STOP_CMD            P             000033B4  18284 18360*
_POS_LSI_FRQ_DATA_MAK                     IMPT 00000000  30750 30767 
_POS_LSI_HARD_INITAL             P        EXPT 000030B0  17500 17582*
_POS_LSI_OFFSET1                          IMPT 00000000   2921 
_POS_LSI_OFFSET2                          IMPT 00000000   2922 
_POS_LSI_OLDCNT                           IMPT 00000000   2925 
_POS_LSI_SLOW_STOP               P        EXPT 00003388   6440 10766 18312*22206 22295 
_POS_LSI_SLOW_STOP_CMD           P             0000342C  18461*
_POS_LSI_SPDBAS                           IMPT 00000000   3058 30826 
_POS_LSI_SPDLAT                           IMPT 00000000   3057 31571 
_POS_LSI_SPDLATE_SET             P             000068B4  17675 31567*
_POS_LSI_SPDMAX                           IMPT 00000000   3056 16866 31184 
_POS_LSI_START_INITAL            P        EXPT 0000312C   6442 10497 10619 12779 17713*33132 
_POS_LSI_START_INITAL_TEP        P             00003184  10592 15705 17802*
_POS_LSI_START_INITL2            P             00003158  10557 17759*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   693

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_TEP_BAS_SPEED_SET       P        EXPT 0000681C  17808 31419 31425*
_POS_LSI_TOP_SPEED_SET           P        EXPT 000067C4   6443 10598 11306 11388 11645 11747 14060 14121 14189 14239 14261 15712 
                                                         31325*31467 31497 32977 33562 
_POS_LSI_TOP_SPEED_SETX          P             000067D8  13742 16790 28181 31348*
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2918 
_POS_LSI_WORK_STOP2              P             00002F44   6825 17190*22066 23166 28945 33411 
_POS_LSI_WORK_STOP_CLR           P             00002F1C  17158*17737 17779 17817 18401 18502 22070 23171 28941 
_POS_OVER_RUN_CHK1                        IMPT 00000000   6336 11033 
_POS_PLSOUT_SET_RETRY            P             000036DC  10640 12887 15725 19123*33151 
_POS_PLS_OUTPUT_DATA             P        EXPT 00003804   6448 10860 14076 14138 14277 14656 16551 19135 19194 19412*23209 33256 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3509 
_PRD_DAI_POS0                             IMPT 00000000   3507 
_PRD_DAI_POS1                             IMPT 00000000   3508 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3995 
_PRESET_PV_ABS_TO_OBJ            P        EXPT 000061A0   6728 29766 29767*
_PRESET_PV_FLGCLR                P        EXPT 000061D4  17383 29816 29820*
_PROC_2MS_PLS                             EQU  000007D0  28551*30196 
_PS_DG_INF_CHK1                           EQU  00000000   2215*
_PS_DG_INF_CHK2                           EQU  0000003C   2220*
_PS_DG_INF_CONT                           EQU  00000004   2216*
_PS_DG_INF_LATE                           EQU  00000010   2219*
_PS_DG_INF_STLK                           EQU  0000000C   2218*
_PS_DG_INF_UNIT                           EQU  00000008   2217*
_PS_TIME                                  EQU  00000002   2005*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3258 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3462 21183 21243 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3463 21132 
_PVPAB_KAJLIV_TTL                         IMPT 00000000   6422 
_PVPX1_CKLMT_AGLTOP                       IMPT 00000000   5333 
_PVPX1_CKLMT_SPDTOP                       IMPT 00000000   5334 
_PVP_ATSLID_OBJ1                          IMPT 00000000  33687 33698 
_PVP_CB_A_VER                             IMPT 00000000   6411 17632 17643 17950 17961 17973 17997 18008 18033 18044 18100 18114 
                                                         18125 18383 18394 18424 18435 18484 18495 18525 18536 18621 18632 18642 
                                                         18668 18679 18689 18753 18764 18827 18838 18962 18975 18991 19003 19548 
                                                         19562 19573 21063 21083 28617 28631 28642 30463 30477 30488 30580 30594 
                                                         30605 30663 30674 30715 30726 
_PVP_CPUA_TEPPLS                          IMPT 00000000  16300 
_PVP_CPUB_TEPPLS                          IMPT 00000000  16301 16316 16359 
_PVP_MONALM_A01                           IMPT 00000000  26305 
_PVP_MONALM_A02                           IMPT 00000000  26306 
_PVP_MONALM_A03                           IMPT 00000000  26307 
_PVP_MONALM_A04                           IMPT 00000000  26308 
_PVP_MONALM_A05                           IMPT 00000000  26309 
_PVP_MONALM_A06                           IMPT 00000000  26310 
_PVP_MONALM_A07                           IMPT 00000000  26311 
_PVP_MONALM_A08                           IMPT 00000000  26312 
_PVP_MONALM_B01                           IMPT 00000000  26313 
_PVP_MONALM_B02                           IMPT 00000000  26314 
_PVP_MONALM_B03                           IMPT 00000000  26315 
_PVP_MONALM_B04                           IMPT 00000000  26316 
_PVP_MONALM_B05                           IMPT 00000000  26317 
_PVP_MONALM_B06                           IMPT 00000000  26318 
_PVP_MONALM_B07                           IMPT 00000000  26319 
_PVP_MONALM_B08                           IMPT 00000000  26320 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   694

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVP_MONALM_C01                           IMPT 00000000  26297 
_PVP_MONALM_C02                           IMPT 00000000  26298 
_PVP_MONALM_C03                           IMPT 00000000  26299 
_PVP_MONALM_C04                           IMPT 00000000  26300 
_PVP_MONALM_C05                           IMPT 00000000  26301 
_PVP_MONALM_C06                           IMPT 00000000  26302 
_PVP_MONALM_C07                           IMPT 00000000  26303 
_PVP_MONALM_C08                           IMPT 00000000  26304 
_PVP_MONALM_P01                           IMPT 00000000  26322 
_PVP_MONALM_P02                           IMPT 00000000  26323 
_PVP_MONALM_P03                           IMPT 00000000  26324 
_PVP_MONALM_P04                           IMPT 00000000  26325 
_PVX_AMPERR_TIM1                          IMPT 00000000   3195 
_PVX_AMPERR_TIM2                          IMPT 00000000   3196 
_PVX_AMPERR_TIM3                          IMPT 00000000   3197 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4753 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4734 
_PVX_DAI_POS0                             IMPT 00000000   2939 
_PVX_DAI_POS1                             IMPT 00000000   2940 33771 34722 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4718 32339 32356 
_PVX_DYHITO_POS                           IMPT 00000000   2947 
_PVX_IAMP_VLT                             IMPT 00000000   3198 
_PVX_INPPOS_TIM1                          IMPT 00000000   3171 
_PVX_MOTINS_AG2                           IMPT 00000000   4538 
_PVX_MOTINS_AG2X                          IMPT 00000000   4539 
_PVX_MOTINS_AG3                           IMPT 00000000   4544 
_PVX_MOTINS_AG3X                          IMPT 00000000   4545 
_PVX_MOTINS_AGL                           IMPT 00000000   4541 
_PVX_MOTINS_AGLX                          IMPT 00000000   4542 
_PVX_MOTINS_DAN                           IMPT 00000000   4549 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4550 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4548 
_PVX_MOTINS_INF                           IMPT 00000000   4552 
_PVX_MOTINS_POS                           IMPT 00000000   4535 
_PVX_MOTINS_PS2                           IMPT 00000000   4534 
_PVX_MOTINS_PS3                           IMPT 00000000   4536 
_PVX_RNA_STLORK                           IMPT 00000000   2941 
_PV_ENC_SPD_PER                           IMPT 00000000   3460 21182 21241 
_PV_OUT_SPD_PER                           IMPT 00000000   3461 21131 
_PV_POWER_ON_CNT                          IMPT 00000000   6265 24659 
_R2_MUL10_ANS_R2                 PHiROM        00000572  38628 38705*39938 39947 
_RDY_OF                                   IMPT 00000000   5651 
_RDY_ON                                   IMPT 00000000   5650 
_RDY_SFTY_LOCK                            IMPT 00000000   3731 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3732 
_REP_CAMOBJ_DIG                           IMPT 00000000   5073 
_RESET_END_OUT                            IMPT 00000000   5643 
_RESET_OUT                                IMPT 00000000   5642 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2731 
_RESET_ROTNUM_ZR                          IMPT 00000000   2730 
_RESTART_WAIT_PLS_DATA_SELECT    P             0000444E  22113 22402*
_REVCHK_DRIV_SHIN                         IMPT 00000000   4619 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4620 
_REVMOD_REVDN_DIG                         IMPT 00000000   4622 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   695

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_REVRSE_BASINC_SPDCALC           P        EXPT 00004C90  21543 21819 22138 24390 24438 24474*
_REVRSE_KAJYU1_BASINCSET         P             00004C28  24333 24378*
_REVRSE_KAJYU2_BASINCSET         P             00004C5C  24349 24426*
_REVRSE_KAJYU_AREACHK_BASSET     P             00004BE8  22121 24307*
_REV_BEFORE_CHGKOUTEICHK         P             000047BC  13670 23251*
_REV_CALC_WORK0                           IMPT 00000000   3249 
_REV_CALC_WORK1                           IMPT 00000000   3250 
_REV_CALC_WORK2                           IMPT 00000000   3251 
_REV_ERR_FLG                              IMPT 00000000   5277 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5280 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5281 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4618 
_REV_LATCH_ENCPOS                         IMPT 00000000   2889 
_REV_LATCH_OUTPLS                         IMPT 00000000   2888 
_REV_LATCH_RNAPOS                         IMPT 00000000   2890 
_RL_POS_DATA_CHK                 P             000069FC  11090 31803*
_RM1_CHK_OLDSTS                           IMPT 00000000   5105 
_RM1_CHK_TIME                             IMPT 00000000   5106 
_RM2_CHK_OLDSTS                           IMPT 00000000   5108 
_RM2_CHK_TIME                             IMPT 00000000   5109 
_RNAREV_ADD                               EQU  00000000   2072*
_RNASTP_ADD                               EQU  00000000   2070*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2980 
_RNA_ABS_MAXPOS                           IMPT 00000000   2959 
_RNA_ABS_MD2_C1                           IMPT 00000000   4352 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4353 
_RNA_ABS_MD2_C2                           IMPT 00000000   4354 
_RNA_ABS_MD_DT0                           IMPT 00000000   2943 
_RNA_ABS_MD_DT1                           IMPT 00000000   2944 
_RNA_ABS_MEMORG                           IMPT 00000000   2936 
_RNA_ABS_MINPOS                           IMPT 00000000   2958 
_RNA_ABS_ORGWORK                          IMPT 00000000   2927 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4346 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4347 
_RNA_ABS_POS                              IMPT 00000000   2935 20540 20605 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2957 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2956 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4493 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4486 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4488 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4487 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4490 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4489 
_RNA_BBN_SET_TIME                         IMPT 00000000   4492 
_RNA_CMD_RD_CNT                           IMPT 00000000   2554 
_RNA_CMD_SND_CNT                          IMPT 00000000   2553 
_RNA_COM_ERR_CNT                          IMPT 00000000   2546 
_RNA_COM_NML_CNT                          IMPT 00000000   2547 
_RNA_CTL_POS0                             IMPT 00000000   2945 
_RNA_CTL_POS1                             IMPT 00000000   2946 20547 20582 
_RNA_ENC360                               IMPT 00000000   2538 
_RNA_HOS_DELT                             IMPT 00000000   2948 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4505 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2722 20552 20592 23054 23532 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   696

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_OLD_STEP                             IMPT 00000000   4508 
_RNA_POS_OFFSET1                          IMPT 00000000   2933 
_RNA_POS_OFFSET2                          IMPT 00000000   2934 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4045 
_RNA_PROTOCOL_X                           IMPT 00000000   4048 
_RNA_RESET_FLG                            IMPT 00000000   2549 
_RNA_RESET_TIM                            IMPT 00000000   2550 
_RNA_STLORK                               IMPT 00000000   2938 
_RNA_STLORK_HALF                          IMPT 00000000   4344 
_RNA_STOP_CNT                             IMPT 00000000   3259 
_RNA_TECH_POINT                           IMPT 00000000   4504 
_RNA_TECH_POSBUF                          IMPT 00000000   4503 
_ROOT_MAIN_INP                            IMPT 00000000   5611 
_ROOT_MAIN_OUT                            IMPT 00000000   5612 
_RST_DLY_TM                               EQU  000000C8   2024*
_RST_ERR_CHK_ERR                          IMPT 00000000   2894 
_RST_ERR_CHK_FLG                          IMPT 00000000   2892 14204 
_SAME_TIM                                 IMPT 00000000   2674 
_SCAN_DBG_CNT                             IMPT 00000000   4822 
_SCAN_SMP_SIG                             IMPT 00000000   4809 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4800 
_SCAN_TIM_IN                              IMPT 00000000   4805 
_SCAN_TIM_POINT                           IMPT 00000000   4801 
_SCAN_TIM_TOTAL                           IMPT 00000000   4799 
_SDATCLS_OBJMM                            IMPT 00000000   3083 
_SDATCLS_OBJPLS                           IMPT 00000000   3082 23507 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3084 22829 
_SDATCLS_TRG_STEP                         IMPT 00000000   3086 22824 23455 23497 24086 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3085 23500 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2776 12385 12393 13950 13973 13980 14532 14557 14566 21866 23750 24034 
                                                         32284 
_SELF_AD_LATCH                            IMPT 00000000   3720 
_SELF_BRK_LOCK                            IMPT 00000000   3716 
_SELF_CHK_MATHED                          IMPT 00000000   3715 
_SELF_CHK_SEL                             IMPT 00000000   2621 
_SELF_COM                                 IMPT 00000000   2619 
_SELF_FIRST_END_FLG                       IMPT 00000000   3713 
_SELF_FLG                                 IMPT 00000000   2617 
_SELF_LOCK_FLG                            IMPT 00000000   4000 
_SELF_MOV_LENGTH                          IMPT 00000000   3723 
_SELF_MOV_SPEED                           IMPT 00000000   3724 
_SELF_POS_START_WORK_CLR         P        EXPT 00005E38  28929 28936*
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3718 
_SELF_SECOND_STEP                         IMPT 00000000   3719 
_SELF_START_POS_LATCH                     IMPT 00000000   3722 
_SELF_START_WAIT_TM                       IMPT 00000000   2620 
_SELF_TIMING_SIG                          IMPT 00000000   3714 
_SEQ_DP_TOP                               IMPT 00000000  23699 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3158 30874 
_SET1_AMP100P_VLT                         IMPT 00000000   3192 
_SET1_ARACHK_LNG1                         IMPT 00000000   3173 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4959 34238 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4954 34121 34142 34276 
_SET1_ATSLID_COEF1                        IMPT 00000000   4957 34283 34623 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   697

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_ATSLID_COEF2                        IMPT 00000000   4958 34712 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4955 34124 34262 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4956 34146 34269 
_SET1_BREAK_DIG                           IMPT 00000000   3495 
_SET1_BREAK_TIM1                          IMPT 00000000   3493 
_SET1_CNT_CNT                             IMPT 00000000   3101 
_SET1_CNT_TIM                             IMPT 00000000   3099 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3184 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3185 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3186 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3203 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3205 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3204 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3207 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3206 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3209 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3208 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3211 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3210 
_SET1_DNAREA_INPX                         IMPT 00000000   3161 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3165 
_SET1_DNAREA_JUDG                         IMPT 00000000   3135 
_SET1_DNDINC_SPD1                         IMPT 00000000   3144  8878 16690 16733 
_SET1_DND_DIGTOP                          IMPT 00000000   3774 
_SET1_DND_PLSTOP                          IMPT 00000000   3775  8550 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3773 
_SET1_DND_STOP_SW                         IMPT 00000000   3772  8257 
_SET1_DND_UPPLS                           IMPT 00000000   3776 
_SET1_EJECAM_OFR                          IMPT 00000000   5062 
_SET1_EJECAM_ONR                          IMPT 00000000   5061 
_SET1_ENC360_HOS1                         IMPT 00000000   3175 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3187 
_SET1_INCDIR_SEL1                         IMPT 00000000   3116 
_SET1_INCENC_ELNG                         IMPT 00000000   3178 
_SET1_INCHEN_ELNG                         IMPT 00000000   3177 
_SET1_INCPLS_1REV                         IMPT 00000000   3113 
_SET1_INCPLS_HOSM                         IMPT 00000000   3118 
_SET1_INCPLS_HOSN                         IMPT 00000000   3117 
_SET1_INCPOS_KP01                         IMPT 00000000   3156 22096 22427 
_SET1_INCREV_ELNG                         IMPT 00000000   3182 
_SET1_INCRNA_ELNG                         IMPT 00000000   3179 
_SET1_INCSTP_ELNG                         IMPT 00000000   3180 
_SET1_INPPOS_TIM1                         IMPT 00000000   3170 
_SET1_INTLIM_AGL                          IMPT 00000000   4984 
_SET1_INTLIM_PLS                          IMPT 00000000   4986 
_SET1_KAJAREA_ENO                         IMPT 00000000   4895 
_SET1_KAJAREA_SEL                         IMPT 00000000   4909 
_SET1_KAJAREA_SNO                         IMPT 00000000   4894 
_SET1_KATTCH_EAG                          IMPT 00000000   4917 
_SET1_KATTCH_SAG                          IMPT 00000000   4916 
_SET1_KATTCH_SPD                          IMPT 00000000   4562 
_SET1_KJEND_DIG1                          IMPT 00000000   3763 
_SET1_KJEND_DIG2                          IMPT 00000000   4898 
_SET1_KJEND_STEP1                         IMPT 00000000   3762 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   698

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_KJSTR_DIG1                          IMPT 00000000   3761 
_SET1_KJSTR_DIG2                          IMPT 00000000   4897 
_SET1_KJSTR_STEP1                         IMPT 00000000   3760 
_SET1_LSAABN_AGL1                         IMPT 00000000   3749 
_SET1_LSAABN_AGL2                         IMPT 00000000   3750 
_SET1_MAX_KJYU                            IMPT 00000000   4205 
_SET1_MISCAM_OFR                          IMPT 00000000   5064 
_SET1_MISCAM_ONR                          IMPT 00000000   5063 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3130 
_SET1_MOTREP_CNT                          IMPT 00000000   5054 32917 
_SET1_MOTREP_SPD                          IMPT 00000000   5053 32970 
_SET1_MOTREP_STGE                         IMPT 00000000   5052 32912 
_SET1_MOTREP_STGS                         IMPT 00000000   5051 12544 32981 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5050 32874 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3120 
_SET1_MOT_INF                             IMPT 00000000   5447 24113 36463 36989 
_SET1_MRTION_SEL1                         IMPT 00000000   3213 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3214 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3191 
_SET1_OBJARA_INPX                         IMPT 00000000   3162 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3166  9878 15196 15236 20269 20354 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3168 20245 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3239 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3224 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3219 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3227 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3231 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3273 
_SET1_OVERLIDE_COF                        IMPT 00000000   3884 29336 29341 
_SET1_PLSAHI_PLS                          IMPT 00000000   3800 15869 
_SET1_PLSALO_PLS                          IMPT 00000000   3799 15863 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3275 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3276 
_SET1_REVDAT_SPD1                         IMPT 00000000   3147 
_SET1_REVDAT_SPD2                         IMPT 00000000   3150 
_SET1_REVDAT_SPD3                         IMPT 00000000   3151 
_SET1_RNADIR_SEL1                         IMPT 00000000   3115 
_SET1_RNAORG_POS1                         IMPT 00000000   3131 
_SET1_RNAPOS_KP01                         IMPT 00000000   3157 22453 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3132 34199 
_SET1_RNAPOS_MINP                         IMPT 00000000   3133 34206 
_SET1_RNAREV_ELNG                         IMPT 00000000   3183 
_SET1_RNASTP_ELNG                         IMPT 00000000   3181 
_SET1_ROTCAM_OFR                          IMPT 00000000   5060 
_SET1_ROTCAM_ONR                          IMPT 00000000   5059 
_SET1_RPARAM_TOP1                         IMPT 00000000   3109 
_SET1_SSCURV_TIM1                         IMPT 00000000   3159 
_SET1_STDINC_SPD1                         IMPT 00000000   3146 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3807 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3153 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3154 
_SET1_UPAREA_DIG0                         IMPT 00000000   3238 
_SET1_UPAREA_DIG1                         IMPT 00000000   3174  9831 16101 
_SET1_UPAREA_INPX                         IMPT 00000000   3160 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   699

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_UPAREA_INPXPLS                      IMPT 00000000   3164 
_SET1_UPAREA_JUDG                         IMPT 00000000   3134 
_SET1_UPAREA_PLS0                         IMPT 00000000   3222 
_SET1_UPAREA_PLS1                         IMPT 00000000   3223  8497  8958 
_SET1_UPAREA_POS0                         IMPT 00000000   3218 
_SET1_UPAREA_POS1                         IMPT 00000000   3054 
_SET1_UPAREA_SPD0                         IMPT 00000000   3226 
_SET1_UPAREA_SPD1                         IMPT 00000000   3145  7561 
_SET1_UPAREA_TIM0                         IMPT 00000000   3230 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3148  7581 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4204 
_SET2_INTLIM_AGL                          IMPT 00000000   4985 
_SET2_INTLIM_PLS                          IMPT 00000000   4987 
_SET360_UPAREA_DIG1                       IMPT 00000000   4060 
_SET360_UPAREA_PLS1                       IMPT 00000000   4061 
_SETC_KJEND_DIG1                          IMPT 00000000   4143 
_SETC_KJEND_DIG2                          IMPT 00000000   4905 
_SETC_KJSTR_DIG1                          IMPT 00000000   4142 
_SETC_KJSTR_DIG2                          IMPT 00000000   4904 
_SETD_DEGSPD_MAX                          IMPT 00000000   3311 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4253 21378 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4254 
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4124 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4123 
_SETXY_UPAREA_DIG                         IMPT 00000000   4119 
_SETXY_UPAREA_PLS                         IMPT 00000000   4118 
_SETX_ACCERR_DLY1                         IMPT 00000000   4461 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4456 
_SETX_ACCERR_SEL                          IMPT 00000000   4466 
_SETX_BANK_USELFUL                        IMPT 00000000   3673 
_SETX_BREAK_DIG2                          IMPT 00000000   4189 
_SETX_BREAK_TIM2                          IMPT 00000000   4190 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3140 
_SETX_DAIPOS_MINP                         IMPT 00000000   3141 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3136 16113 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3137  8528 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3079 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3080 22988 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4862 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4473 
_SETX_INCPLS_HOSM                         IMPT 00000000   3119 
_SETX_KJEND_DIG1                          IMPT 00000000   4138 
_SETX_KJEND_DIG2                          IMPT 00000000   4901 
_SETX_KJSTR_DIG1                          IMPT 00000000   4137 
_SETX_KJSTR_DIG2                          IMPT 00000000   4900 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4864 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5157 22098 22152 22429 22455 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2717 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2716 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4450 
_SETX_MOTREP_DIR                          IMPT 00000000   5068 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3127 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3128 
_SETX_OVERH_AMP                           IMPT 00000000   4692 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   700

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_OVERH_LNGTH                         IMPT 00000000   4691 
_SETX_POS_CTL_MATH                        IMPT 00000000   2750  7633  7730 10060 13838 20251 32312 32540 32607 32686 35233 35949 
                                                         36981 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2749 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2741 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2742 38600 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2738 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2739 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2740 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2748 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2744 
_SETX_POS_STEP_MAX                        IMPT 00000000   2751 38602 38842 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4506 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4507 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4988 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4989 
_SETX_UPAREA_DIG                          IMPT 00000000   3052 
_SETX_UPAREA_PLS                          IMPT 00000000   3050  8507  9361  9588 
_SETX_UPAREA_RNA                          IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3067 16096 16115 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3069  8649  8985  9406 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3066 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3068 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4472 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3125 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3124 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3123 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3122 
_SETY_KJEND_DIG1                          IMPT 00000000   4140 
_SETY_KJEND_DIG2                          IMPT 00000000   4903 
_SETY_KJSTR_DIG1                          IMPT 00000000   4139 
_SETY_KJSTR_DIG2                          IMPT 00000000   4902 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4991 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4992 
_SET_ACC_OVRLIDE                          IMPT 00000000   3895 29294 29397 29447 29473 29608 33575 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3863 24407 24455 24526 30788 31490 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3861 31402 31460 
_SET_DN_ACC_LATE                          IMPT 00000000   3912 30884 37177 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3887 29270 29352 29395 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3886 29267 29349 29390 
_SET_NZ_TIM_DAT                           IMPT 00000000   6344 12039 12223 27825 
_SET_OVER_RIDE                   P             00006010  10245 29374*29554 
_SET_PV_ABS_TO_OBJ               P        EXPT 00006218   6454 29778 29899*
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3875 29169 29246 29445 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3874 29167 29243 29440 
_SET_SPDBAS_PLS                           IMPT 00000000   3862 31377 
_SET_SPD_OVRLIDE                          IMPT 00000000   3894 29291 29392 29442 29470 29641 33572 
_SET_UP_ACC_LATE                          IMPT 00000000   3911 30882 37172 
_SET_UP_TIM                               IMPT 00000000   2675 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5223 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5224 
_SFTYCHK_RNA_POS                          IMPT 00000000   3391 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2569 
_SFTY_IN_DAT                              IMPT 00000000   2568 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   701

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SFTY_LOCK_DLYTM                          IMPT 00000000   3994 
_SGL_CMPERR_CNTMAX                        EQU  00000014   6232*
_SGL_CMP_ERR_DT_CLR              P        EXPT 000057BC   6745 26790 27455 27464*33341 
_SH2_4B                                   EQU  00000004  27262*
_SH2_8B                                   EQU  00000008  27264*
_SH2_ADD_PLS                              IMPT 00000000   5971 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5931 
_SH2_CNT_REST_HF                          IMPT 00000000   5942 26716 26782 
_SH2_CNT_REST_PLS                         IMPT 00000000   5926 26713 
_SH2_DNM_CALC_INFO                        IMPT 00000000  38260 38300 38379 38398 38430 38472 38537 
_SH2_GPOINT_LNG                           IMPT 00000000   6413 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5979 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5980 
_SH2_HD_CNT_STOP                          IMPT 00000000   6387 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6379 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6377 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6385 
_SH2_HD_POS_START                         IMPT 00000000   6381 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6383 
_SH2_HD_STEP_END                          IMPT 00000000   6389 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5927 19164 26534 
_SH2_LOT_CNT_A                            IMPT 00000000   5938 19173 26458 26521 
_SH2_LOT_STEP_A                           IMPT 00000000   5939 19709 26461 26524 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5933 
_SH2_NOW_STEP                             IMPT 00000000   5977 25809 
_SH2_PLSI_ACCS                            IMPT 00000000   5935 
_SH2_PLSI_LATE                            IMPT 00000000   5936 
_SH2_REST_PLS_RL                          IMPT 00000000   5929 19626 26540 
_SH2_REST_PLS_SR                          IMPT 00000000   5928 19254 26537 
_SH2_REST_RL_HF                           IMPT 00000000   5941 10875 26467 26530 33271 
_SH2_REST_SR_HF                           IMPT 00000000   5940 19366 26464 26527 
_SH2_STEP1_FRQ                            IMPT 00000000   5959 25993 26614 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5954 25983 26599 
_SH2_STEP1_REST_P                         IMPT 00000000   5949 25988 26584 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5944 25978 26569 
_SH2_STEP1_TIM                            IMPT 00000000   5964 25998 26629 
_SH2_STEP2_FRQ                            IMPT 00000000   5960 26144 26617 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5955 26134 26602 
_SH2_STEP2_REST_P                         IMPT 00000000   5950 26139 26587 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5945 26129 26572 
_SH2_STEP2_TIM                            IMPT 00000000   5965 26149 26632 
_SH2_STEP3_FRQ                            IMPT 00000000   5961 26230 26620 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5956 26220 26605 
_SH2_STEP3_REST_P                         IMPT 00000000   5951 26225 26590 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5946 26215 26575 
_SH2_STEP3_TIM                            IMPT 00000000   5966 26235 26635 
_SH2_STEP4_FRQ                            IMPT 00000000   5962 25906 26623 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5957 25896 26608 
_SH2_STEP4_REST_P                         IMPT 00000000   5952 25901 26593 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5947 25891 26578 
_SH2_STEP4_TIM                            IMPT 00000000   5967 25911 26638 
_SH2_STEP5_FRQ                            IMPT 00000000   5963 26626 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5958 26611 
_SH2_STEP5_REST_P                         IMPT 00000000   5953 26596 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   702

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP5_SV_PLS                         IMPT 00000000   5948 26581 
_SH2_STEP5_TIM                            IMPT 00000000   5968 26641 
_SH2_STEP_FRQ                             IMPT 00000000   5975 25799 
_SH2_STEP_PV_PLS                          IMPT 00000000   5973 25782 
_SH2_STEP_REST_P                          IMPT 00000000   5974 25787 
_SH2_STEP_SV_PLS                          IMPT 00000000   5972 25777 
_SH2_STEP_TIM                             IMPT 00000000   5976 25804 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5932 
_SH2_TOTAL_PLS                            IMPT 00000000   5970 25792 
_SH4_4B                                   EQU  00000000  27261*
_SH4_8B                                   EQU  00000000  27263*
_SH4_ADD_PLS                              IMPT 00000000   5914 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5876 
_SH4_CNT_REST_HF                          IMPT 00000000   5886 
_SH4_CNT_REST_PLS                         IMPT 00000000   5872 
_SH4_DNM_CALC_INFO                        IMPT 00000000  38299 38473 
_SH4_GPOINT_LNG                           IMPT 00000000   6412 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5922 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5923 
_SH4_HD_CNT_STOP                          IMPT 00000000   6386 12678 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6378 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6376 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6384 
_SH4_HD_POS_START                         IMPT 00000000   6380 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6382 
_SH4_HD_STEP_END                          IMPT 00000000   6388 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5873 
_SH4_LOT_CNT_A                            IMPT 00000000   5882 
_SH4_LOT_STEP_A                           IMPT 00000000   5883 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5878 
_SH4_NOW_STEP                             IMPT 00000000   5920 
_SH4_PLSI_ACCS                            IMPT 00000000   5880 
_SH4_PLSI_LATE                            IMPT 00000000   5881 
_SH4_REST_PLS_RL                          IMPT 00000000   5875 
_SH4_REST_PLS_SR                          IMPT 00000000   5874 
_SH4_REST_RL_HF                           IMPT 00000000   5885 
_SH4_REST_SR_HF                           IMPT 00000000   5884 
_SH4_STEP1_FRQ                            IMPT 00000000   5903 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5898 
_SH4_STEP1_REST_P                         IMPT 00000000   5893 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5888 
_SH4_STEP1_TIM                            IMPT 00000000   5908 
_SH4_STEP2_FRQ                            IMPT 00000000   5904 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5899 
_SH4_STEP2_REST_P                         IMPT 00000000   5894 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5889 
_SH4_STEP2_TIM                            IMPT 00000000   5909 
_SH4_STEP3_FRQ                            IMPT 00000000   5905 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5900 
_SH4_STEP3_REST_P                         IMPT 00000000   5895 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5890 
_SH4_STEP3_TIM                            IMPT 00000000   5910 
_SH4_STEP4_FRQ                            IMPT 00000000   5906 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5901 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   703

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP4_REST_P                         IMPT 00000000   5896 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5891 
_SH4_STEP4_TIM                            IMPT 00000000   5911 
_SH4_STEP5_FRQ                            IMPT 00000000   5907 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5902 
_SH4_STEP5_REST_P                         IMPT 00000000   5897 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5892 
_SH4_STEP5_TIM                            IMPT 00000000   5912 
_SH4_STEP_FRQ                             IMPT 00000000   5918 
_SH4_STEP_PV_PLS                          IMPT 00000000   5916 
_SH4_STEP_REST_P                          IMPT 00000000   5917 
_SH4_STEP_SV_PLS                          IMPT 00000000   5915 
_SH4_STEP_TIM                             IMPT 00000000   5919 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5877 
_SH4_TOTAL_PLS                            IMPT 00000000   5913 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4023 19939 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4024 19937 20542 20607 
_SH_2B                                    EQU  00000002  31613*31729 31744 31751 
_SH_4B                                    EQU  00000004  31614*31632 31638 31643 31648 31653 31676 31691 31699 
_SH_8B                                    EQU  00000008  31615*31660 31668 31683 
_SH_CNTSTOP_FLG                           IMPT 00000000  31705 31744 
_SH_OUTPLS_DELT                           IMPT 00000000  31747 31751 
_SH_POSCTL_ACC                            IMPT 00000000  31594 31643 
_SH_POSCTL_CAL_REST                       IMPT 00000000  31600 31676 
_SH_POSCTL_HENSA                          IMPT 00000000  31601 31691 
_SH_POSCTL_LSIFREQ                        IMPT 00000000  31602 31699 
_SH_POSCTL_OFS                            IMPT 00000000  31595 31648 
_SH_POSCTL_PV_ABSPLS                      IMPT 00000000  31598 31683 
_SH_POSCTL_REST_PLS                       IMPT 00000000  31599 31653 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000  29854 31597 31668 31812 31813 
_SH_POSCTL_RL_SPD                         IMPT 00000000  31593 31638 
_SH_POSCTL_SV_ABSPLS                      IMPT 00000000  31596 31660 
_SH_POSCTL_SV_SPD                         IMPT 00000000  31592 31632 
_SH_SQ200_IN                              IMPT 00000000  31704 31729 
_SINKAKU_INF                              IMPT 00000000   3292 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3294 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3293 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3296 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3295 
_SINWK_CALC_SCAN                          IMPT 00000000   3304 
_SIN_RCAMOF_SW1                           IMPT 00000000   3320 
_SIN_RCAMON_SW1                           IMPT 00000000   3319 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3299 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3323 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3298 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3322 
_SLIDALM_CHK_FLG                          IMPT 00000000   4381 
_SLIDALM_CHK_POS                          IMPT 00000000   4383 
_SLIDALM_CHK_TIM                          IMPT 00000000   4382 
_SLIDALM_POS_MINAS                        IMPT 00000000   4385 
_SLIDALM_POS_PULAS                        IMPT 00000000   4384 
_SPD_CTL_EMG_STOP                P             0000679C  18280 31264*
_SPD_CTL_SLOW_STOP               P             000067B0  18332 31292*
_SPD_CTL_START                   P             00006768  18696 31215*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   704

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SPD_PER_MAX                              EQU  00002710   2006*21380 21385 
_SPD_STEP_CHG_FWD                P             00001E88  11944 13626*21640 
_SPD_UPLIMT_CALC                 P             0000628C  30070*37211 
_SPLCHK_FLG                               IMPT 00000000   5038 
_SPLCHK_TIM                               IMPT 00000000   5039 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5118 
_SQ_CBWK_TOP                              IMPT 00000000   6374  6800  7164 11053 11077 11116 11153 11160 12353 12370 12998 14397 
                                                         22770 24129 24152 24207 24242 29115 29148 33381 33447 34041 34048 34791 
                                                         34798 35536 36270 38263 
_SQ_OVERH_CMP                             IMPT 00000000   4694 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4043 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_BANK2_MAK_CHK         P             00005B34   7110  7141 28246*
_START_FLG_AFTER_EMG                      IMPT 00000000   3373 10452 
_START_REQ_COD                            EQU  00009876    212*
_STEP_CMPERR_TIMX1                        IMPT 00000000   5495 
_STOPCHK_INC_POS                          IMPT 00000000   3257 
_STOPCHK_RNA_POS                          IMPT 00000000   3256 
_STOPPING_STOP_POS                        IMPT 00000000   2653 
_STOPPING_STOP_TIM                        IMPT 00000000   2655 
_STOPPING_TIM_FLG                         IMPT 00000000   2654 
_STOPPING_TIM_PV1                         IMPT 00000000   2656 
_STOPPING_TIM_PV2                         IMPT 00000000   2657 
_STOPPING_TIM_STOP_INI                    IMPT 00000000   6334 
_STOPPING_VLVOFF_POS                      IMPT 00000000   2652 
_STOP_360ENC_DIG                          IMPT 00000000   4076 
_STOP_ERR_LATCH                           IMPT 00000000   3494 
_STOP_LATCH                               IMPT 00000000   2635  6832 11950 12663 27568 28515 31739 33418 
_STOP_LATCH_B                             IMPT 00000000   2636  6834 12471 27560 28455 28502 28557 31733 33420 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2886 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2884 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2883 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2885 
_STOP_LTH_OUT                             IMPT 00000000   6332 12477 28672 
_STR_ENC3600_DIG                          IMPT 00000000   2803  7820 33507 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2804 
_SVCHK_SCAN                               IMPT 00000000   4713 
_SVPX1_FED_DEG                            IMPT 00000000   5317 
_SVPX1_FED_POS                            IMPT 00000000   5318 
_SVPX1_MOT_INF                            IMPT 00000000   5316 
_SVPX1_OBJECT_DIG_TOP                     IMPT 00000000   5312 
_SVPX1_OBJECT_POS_TOP                     IMPT 00000000   5311 
_SVPX1_OBJECT_PRS_TOP                     IMPT 00000000   5315 
_SVPX1_OBJECT_SPD_TOP                     IMPT 00000000   5313 38325 38614 
_SVPX1_OBJECT_TIM_TOP                     IMPT 00000000   5314 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3242 
_SVP_ATSLID_BAKLNG                        IMPT 00000000  33682 34272 
_SVP_ATSLID_COEF1                         IMPT 00000000  33683 34279 34708 
_SVP_ATSLID_DNOBJ1                        IMPT 00000000  33680 34258 
_SVP_ATSLID_OBJ1                          IMPT 00000000  33679 33696 34287 
_SVP_ATSLID_UPOBJ1                        IMPT 00000000  33681 34265 
_SVP_DNAREA_JUDG                          IMPT 00000000   8243  8272 
_SVP_DND_STOPDIG1                         IMPT 00000000   8242  8269  8382  8428 
_SVP_KAJOBJ_HAB                           IMPT 00000000  23607 23822 23921 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   705

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SVP_MACINE_SEL1                          IMPT 00000000   6268 18591 
_SVP_ORGLDN_DEG                           IMPT 00000000  23376 
_SVP_ORGLUP_DEG                           IMPT 00000000  23375 
_SVP_ORGRDN_DEG                           IMPT 00000000  23374 
_SVP_ORGRUP_DEG                           IMPT 00000000  23373 
_SVP_OVERLIDE_COF                         IMPT 00000000  29318 29334 
_SVP_SLID_POS1                            IMPT 00000000  34684 34727 
_SVP_SLID_POS2                            IMPT 00000000  34685 34748 
_SVP_SLID_POS3                            IMPT 00000000  34686 34769 
_SVP_SLPOS_DIR                            IMPT 00000000  33684 33743 
_SVP_SL_TENPOS                            IMPT 00000000  33685 34236 34693 
_SVP_UPAREA_SPD0                          IMPT 00000000   6461 38316 38624 
_SVX_DNM_MAXSPM                           IMPT 00000000   4262 
_SVX_OBJ_SPD_OLDTOP                       IMPT 00000000  38112 38326 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3548 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3549 
_SVX_UPAREA_SPD0OLD                       IMPT 00000000  38113 38317 
_SV_CHG_FLG1                              IMPT 00000000   3335 
_SV_CHG_FLG2                              IMPT 00000000   3336 
_SV_CONST_SUB_PV                          IMPT 00000000   3963 27416 
_SV_DAT_ERR1                              IMPT 00000000   3337 
_SV_OBJ360                                IMPT 00000000   3520 22503 
_SV_POS_CTL_STEP                          IMPT 00000000   2836  7078 10382 10392 12548 12613 12761 13533 13732 17439 27736 28305 
                                                         28380 33125 
_SV_REAL_PLS                              IMPT 00000000   3964 
_SV_REAL_SUB_PV                           IMPT 00000000   3965 27440 
_SW_DEV_MASK_FLG                          IMPT 00000000   2644 
_SYNC2_ERR_HABPLS1                        EQU  00001F40  31943*31972 
_SYNC2_ERR_HOSHAB1                        EQU  0000012C  31945*31996 
_SYNC2_ERR_HOSHAB2                        EQU  00000190  31946*32011 
_SYNC2_ERR_HOSHAB3                        EQU  000001F4  31947*32025 
_SYNC2_ERR_HOSHAB4                        EQU  000003E8  31948*32040 
_SYNC2_ERR_HOSHAB5                        EQU  000005DC  31949*32054 
_SYNC2_ERR_HOSHAB6                        EQU  000007D0  31950*32068 
_SYNC2_ERR_HOSHAB7                        EQU  000009C4  31951*32082 
_SYNC2_HOS_SPD1                           EQU  00000001  31954*32015 
_SYNC2_HOS_SPD2                           EQU  00000004  31955*32029 
_SYNC2_HOS_SPD3                           EQU  00000008  31956*32044 
_SYNC2_HOS_SPD4                           EQU  00000020  31957*32058 
_SYNC2_HOS_SPD5                           EQU  00000040  31958*32072 
_SYNC2_HOS_SPD6                           EQU  00000080  31959*32086 
_SYNC2_HOS_SPD7                           EQU  00000100  31960*32097 
_SYNC2_HOS_SPD8                           EQU  00000200  31961*31978 
_SYNC_ERR_HABPLS1                         EQU  00001770   6236*
_SYNC_ERR_HOSHAB                          EQU  000007D0   6237*
_SYNC_ERR_HOSHAB_M                        EQU  00000064   6238*
_SYNC_GEN_HOS_ADD                         EQU  00000001   6242*
_SYNC_GEN_HOS_ERR                         EQU  00000064   6240*
_SYNC_GEN_HOS_HAB                         EQU  00000001   6241*
_SYS2_DT_LOAD                             IMPT 00000000  38151 38406 
_SYS_100STEP_DNM_SEL                      IMPT 00000000   5309 
_SYS_100STEP_USE                          IMPT 00000000   5308 
_SYS_BSAME_TIM                            EQU  000001F4   2017*
_SYS_SETUP_TIM                            EQU  000007D0   2018*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   706

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYS_STEP_MAX                             IMPT 00000000   5306 
_SYS_STOPPING_TIM                         EQU  00000032   2019*
_TABLE_ERR_FLG                            IMPT 00000000   2501 
_TBLACC_ACC_ADDCHK               PHiROM        0000115A  40606 40690 41479*
_TBLACC_STEP_SP_MAKE             PHiROM        00000DE8  40071 40538*
_TBLACC_STOP_SP_MAKE             PHiROM        00000D9C  40066 40443*
_TBL_ANS_ACCTIM                           IMPT 00000000   4258 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4260 
_TBL_ANS_MAXSPM                           IMPT 00000000   4259 
_TBL_USE_POS0                             IMPT 00000000   4257 
_TECH2_KJYU_DIG                           IMPT 00000000   4525 
_TECH2_KJYU_LNG                           IMPT 00000000   4523 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4516 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4517 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4518 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4519 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4520 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4521 
_TECH2_KJYU_PLS                           IMPT 00000000   4524 
_TECH2_KJYU_PLSX                          IMPT 00000000   4522 
_TECH2_KN_FLG                             IMPT 00000000   4526 
_TECH_USED_F                              IMPT 00000000   4563 
_TECH_WK_DIG1                             IMPT 00000000   4556 
_TECH_WK_DIG2                             IMPT 00000000   4557 
_TECH_WK_DIG3                             IMPT 00000000   4558 
_TECH_WK_DIG4                             IMPT 00000000   4559 
_TECH_WK_PLS1                             IMPT 00000000   4555 
_TEPA_ADD_LSI                    P             00002BD8  15514 16418*
_TEPA_PLSCNT_CHK                 P        EXPT 00002B90  15359 16350*
_TEPA_PLSCNT_CLR                 P        EXPT 00002B64  15358 16307*
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4419 16215 16375 16390 
_TEPA_START_CHK                  P        EXPT 00002B18  15357 16210*
_TEP_1STEP_DATA_MAK1             P             000029E8  10602 15716 15924*16543 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3821 16525 16830 
_TEP_ADD_PLS_MAK                 P             00002978  15395 15628 15838*
_TEP_CHG_SPD1                             IMPT 00000000   3825 16615 16639 16709 16735 16758 
_TEP_CHG_SPD2                             IMPT 00000000   3826 16617 16641 16737 16783 
_TEP_CNTSMP_TIM                           IMPT 00000000   4792 15385 15641 16502 
_TEP_DND_SPD_PLS                          IMPT 00000000   4791 
_TEP_DNPOS_HIS                            EQU  00000064  16088*16117 
_TEP_DTMAK                       P        EXPT 00002DB4  16810 16817*
_TEP_FLG_CLR                     P        EXPT 00002AF2  15356 16167*
_TEP_FLG_START                   P             00002B04  16184*16251 
_TEP_INPLS_FLG                            IMPT 00000000   3816 15681 15805 15855 16041 16437 
_TEP_IN_ADD                               IMPT 00000000   3810 15844 15884 16227 16324 16367 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3823 16874 30812 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3822 16701 16863 31430 
_TEP_MODE_DRV                             IMPT 00000000   3812  7608 10585 13818 16172 16189 30804 
_TEP_POS_ADD_CNT                          IMPT 00000000   3808 15438 15550 15800 15891 15944 15965 15975 16327 16513 16556 16670 
_TEP_REVPLS_LT_CLR               P             00002E44  15432 15487 15686 15812 16957*
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4793 16429 16484 16962 
_TEP_SPD_CALC1                   P             00002CB0  15693 16604*
_TEP_SPD_CALC2                   P             00002CDC  16534 16634*
_TEP_SPD_CALC3                   P             00002D58  16475 16729*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   707

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_SPD_CALC_COM                P             00002D08  16611 16647 16665*
_TEP_SPD_SET                     P             00002D78  15697 16753*
_TEP_SPD_SET_CHG                 P             00002D90  16479 16538 16775*
_TEP_START_INIT1                 P             00002948  15579 15609 15746 15790*
_TEP_STEP_FLG                             IMPT 00000000   3813 15399 15449 15482 15561 15796 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3820 16509 16644 16848 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3819 15493 16608 16842 16845 
_TEP_STEP_WTTM                            IMPT 00000000   3814 15495 15530 15643 
_TIM_1MSEC                                EQU  0000000A   2003* 2017  2018  2019  2024 
_TIM_CNT010MS_DT                          EQU  0000000A   2342*
_TIM_CNT100MS_DT                          EQU  00000064   2343*
_TIM_SEC                                  EQU  00002710   2002*
_TMP_SCI_DEBUG                            IMPT 00000000   5374 
_TRD_CLR_CMD                              IMPT 00000000   5588 
_TRD_DP_MOV_CNT                           IMPT 00000000   5594 
_TRD_DP_MOV_FLG                           IMPT 00000000   5593 
_TRD_EVENT_COD                            IMPT 00000000   5583 
_TRD_EVENT_LATCH                          IMPT 00000000   5585 
_TRD_LATE_PV                              IMPT 00000000   5590 
_TRD_LATE_SV                              IMPT 00000000   5589 
_TRD_POINT_END                            IMPT 00000000   5587 
_TRD_POINT_EVENT                          IMPT 00000000   5586 
_TRD_SMP_DAT1                             IMPT 00000000   5574 
_TRD_SMP_DAT2                             IMPT 00000000   5575 
_TRD_SMP_DAT3                             IMPT 00000000   5576 
_TRD_SMP_DAT4                             IMPT 00000000   5577 
_TRD_SMP_DAT5                             IMPT 00000000   5578 
_TRD_SMP_DAT6                             IMPT 00000000   5579 
_TRD_SMP_DAT7                             IMPT 00000000   5580 
_TRD_SMP_DAT8                             IMPT 00000000   5581 
_TRD_SMP_FLG                              IMPT 00000000   5591 
_TRD_SMP_POINT                            IMPT 00000000   5582 
_UP360_CHK_LIST                           IMPT 00000000   4058 
_UP360_JGDIG                              EQU  00000028   2049*
_UPDN_DIRJG_DIG                           EQU  00000708   2011* 9837 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5268 
_UPLIMIT_START_F                          IMPT 00000000   4724 17259 30074 32427 
_UPLIMIT_SV_SPD                           IMPT 00000000   4723 30080 32407 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4684 
_UPMSK2_DRVSEL                            IMPT 00000000   4686 
_UPMSK2_MATH                              IMPT 00000000   4685 
_UPMSK2_MOD                               IMPT 00000000   4682 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4683 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4687 
_UPPLS1_OBJMAK_COMMON            P             00000ADC   9284  9398* 9810 
_UP_ACCERR_START_INI                      IMPT 00000000   6420 10686 12932 
_UP_HOLD_DIG                              IMPT 00000000   2641 
_UP_HOLD_FLG                              IMPT 00000000   2642  7463 
_UP_HOLD_STEP                             IMPT 00000000   2638 
_UP_HOLD_STEP1                            IMPT 00000000   2639 
_UP_HOLD_STEP2                            IMPT 00000000   2640 
_USE_IN_TBL_MOV                  PHiROM   EXPT 000005CC  37904 38901*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3496 
_VALV_ON_FLG                              IMPT 00000000   4070 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   708

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VIB_DLY_TIM                              IMPT 00000000   4212 
_VIB_GET_SET_TIM                          IMPT 00000000   4209 
_VIB_PV_UP_TIM                            IMPT 00000000   4211 
_VIB_STEP_COM                             IMPT 00000000   4208 
_VIB_STEP_FLG                             IMPT 00000000   4207 
_VIB_USE_SET_TIM                          IMPT 00000000   4210 
_VON1_OF                                  IMPT 00000000   5645 
_VON1_ON                                  IMPT 00000000   5644 
_VON2_OF                                  IMPT 00000000   5647 
_VON2_ON                                  IMPT 00000000   5646 
_VON3_OF                                  IMPT 00000000   5649 
_VON3_ON                                  IMPT 00000000   5648 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2367* 6686  6845  7395 11964 12260 12460 12654 19782 20240 29380 31877 
                                                         32320 32694 35241 35957 
_W1DIC                                    EQU  00000020   2369*10446 10830 
_W1DUP                                    EQU  00000040   2370* 6885 10446 10834 13813 14386 
_W1END                                    EQU  00000080   2371*
_W1INC                                    EQU  00000002   2365* 6686  6845 12654 12658 19782 29380 32390 32694 35241 35957 
_W1LNC                                    EQU  00000400   2375*
_W1LNO                                    EQU  00000800   2376*
_W1OFF                                    EQU  00000001   2364*
_W1OPT                                    EQU  00000010   2368* 6686  6845  7395 19782 29380 32694 35241 35957 
_W1REV                                    EQU  00004000   2383*
_W1RNC                                    EQU  00000100   2372*
_W1RNO                                    EQU  00000200   2373*
_W1RST                                    EQU  00008000   2384*
_W1SGL                                    EQU  00000004   2366* 6686  6845  7395  7459 19129 19782 24703 24902 24971 25103 25291 
                                                         29380 32694 35241 35957 
_W1SNC                                    EQU  00001000   2381*
_W1SNO                                    EQU  00002000   2382*
_W2LS1                                    EQU  00000004   2386*
_W2LS2                                    EQU  00000008   2387*
_W2SUP                                    EQU  00000080   2391*
_W2WT1                                    EQU  00000010   2388*
_W2WT2                                    EQU  00000020   2389*
_W2WT3                                    EQU  00000040   2390*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5122 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4853 23398 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4851 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4852 
_WAIT_TIM_CNT                    P             00001D38  13289*
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3527 11957 
_WKSQCB200                                EQU  00000000   2115*
_WKSQCB201                                EQU  00000002   2116*
_WKSQCB202                                EQU  00000004   2117*
_WKSQCB203                                EQU  00000006   2118*
_WKSQCB204                                EQU  00000008   2119*
_WKSQCB205                                EQU  0000000A   2120*
_WKSQCB206                                EQU  0000000C   2121* 6800 11053 11077 12353 12370 12998 14397 33381 
_WKSQCB207                                EQU  0000000E   2122* 7164 33447 
_WKSQCB208                                EQU  00000010   2123*
_WKSQCB209                                EQU  00000012   2124*
_WKSQCB210                                EQU  00000014   2125*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   709

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB211                                EQU  00000016   2126*
_WKSQCB212                                EQU  00000018   2127*
_WKSQCB213                                EQU  0000001A   2128*
_WKSQCB214                                EQU  0000001C   2129*
_WKSQCB215                                EQU  0000001E   2130*
_WKSQCB216                                EQU  00000020   2131*
_WKSQCB217                                EQU  00000022   2132*
_WKSQCB218                                EQU  00000024   2133*
_WKSQCB219                                EQU  00000026   2134*
_WKSQCB220                                EQU  00000028   2135*
_WKSQCB221                                EQU  0000002A   2136*
_WKSQCB222                                EQU  0000002C   2137*
_WKSQCB223                                EQU  0000002E   2138*
_WKSQCB224                                EQU  00000030   2139*22770 24207 24242 
_WKSQCB225                                EQU  00000032   2140*
_WKSQCB226                                EQU  00000034   2141*
_WKSQCB227                                EQU  00000036   2142*24129 24152 
_WKSQCB228                                EQU  00000038   2143*
_WKSQCB229                                EQU  0000003A   2144*
_WKSQCB230                                EQU  0000003C   2145*29115 29148 
_WKSQCB231                                EQU  0000003E   2146*11116 
_WKSQCB232                                EQU  00000040   2147*11153 
_WKSQCB233                                EQU  00000042   2148*11160 
_WKSQCB234                                EQU  00000044   2149*
_WKSQCB235                                EQU  00000046   2150*
_WKSQCB236                                EQU  00000048   2151*
_WKSQCB237                                EQU  0000004A   2152*
_WKSQCB238                                EQU  0000004C   2153*
_WKSQCB239                                EQU  0000004E   2154*
_WKSQCB240                                EQU  00000050   2155*
_WKSQCB241                                EQU  00000052   2156*
_WKSQCB242                                EQU  00000054   2157*
_WKSQCB243                                EQU  00000056   2158*
_WKSQCB244                                EQU  00000058   2159*
_WKSQCB245                                EQU  0000005A   2160*
_WKSQCB246                                EQU  0000005C   2161*
_WKSQCB247                                EQU  0000005E   2162*
_WKSQCB248                                EQU  00000060   2163*
_WKSQCB249                                EQU  00000062   2164*
_WKSQCB250                                EQU  00000064   2165*
_WKSQCB251                                EQU  00000066   2166*34041 34048 34791 34798 
_WKSQCB252                                EQU  00000068   2167*
_WKSQCB253                                EQU  0000006A   2168*
_WKSQCB254                                EQU  0000006C   2169*
_WKSQCB255                                EQU  0000006E   2170*35536 36270 
_WKSQCB256                                EQU  00000070   2171*
_WKSQCB257                                EQU  00000072   2172*
_WKSQCB258                                EQU  00000074   2173*38263 
_WKSQCB259                                EQU  00000076   2174*
_WKSQCB260                                EQU  00000078   2175*
_WKSQCB261                                EQU  0000007A   2176*
_WKSQCB262                                EQU  0000007C   2177*
_WKSQCB263                                EQU  0000007E   2178*
_WKSQCB264                                EQU  00000080   2179*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   710

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB265                                EQU  00000082   2180*
_WKSQCB266                                EQU  00000084   2181*
_WKSQCB267                                EQU  00000086   2182*
_WKSQCB268                                EQU  00000088   2183*
_WKSQCB269                                EQU  0000008A   2184*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3539 24661 24664 24709 24759 24764 24769 24855 24911 24913 24989 25028 
                                                         25122 25161 25165 25179 25203 25237 25334 25337 25347 25353 25361 25374 
                                                         25380 25386 25394 25397 25408 25413 25436 25537 25705 
_WK_OBJECT_TIM_TOP                        IMPT 00000000   3233 
_WK_PVP_MOT_STS                           IMPT 00000000   5335 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3317 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3316 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3302 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3309 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3310 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3301 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3307 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3308 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3314 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3313 
_WOANT                                    EQU  00000010   2353*
_WOATO                                    EQU  00000040   2355* 7401 
_WOFCY                                    EQU  00000080   2356*
_WOQST                                    EQU  00000001   2349*
_WORCY                                    EQU  00000100   2357*
_WORDY                                    EQU  00000020   2354*
_WORD_BIT_TBL1                            IMPT 00000000  24074 
_WORST                                    EQU  00000200   2358*
_WOVN1                                    EQU  00000002   2350*
_WOVN2                                    EQU  00000004   2351*
_WOVN3                                    EQU  00000008   2352*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4605  8839 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4413 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4414  9348 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4163 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4165 33613 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4164 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4130 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4131 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4128 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4129 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4134 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4135 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4132 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4133 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4706 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4705  9328 
_WPAR_360STP_HAB                          IMPT 00000000   4055 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3981 30987 
_WPAR_ACC_MATHED                          IMPT 00000000   4225 
_WPAR_ANAIN_SEL                           IMPT 00000000   3979 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4652 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3410 31061 31093 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3409 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   711

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_BRK2_ACCTM                          IMPT 00000000   3411 31129 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4153 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4152 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4412 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3408 21400 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4306 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4307 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3352 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3353 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3350 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3351 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4317 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3357 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3358 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3355 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3356 
_WPAR_COP_SDG1                            IMPT 00000000   3362 
_WPAR_COP_SDG2                            IMPT 00000000   3363 
_WPAR_COP_ZDG1                            IMPT 00000000   3360 
_WPAR_COP_ZDG2                            IMPT 00000000   3361 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4054 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4371 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2969 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2966 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2967 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2970 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2965 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2968 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3414 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3413 
_WPAR_INCOVER_LNG                         IMPT 00000000   3379 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3380 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3381 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3382 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3386 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3384 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3385 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4200 
_WPAR_LSA_FILTIM                          IMPT 00000000   3748 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4053 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4336 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3833 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4396 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3882 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3388 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4154 
_WPAR_SLDALM_LNG                          IMPT 00000000   4378 
_WPAR_SLDALM_TIM                          IMPT 00000000   4379 
_WPAR_STOPING_TIM                         IMPT 00000000   4223 
_WPAR_ZERO_SPD                            IMPT 00000000   3407 21368 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4203 
_WPV_ABS_AD_DATA                          IMPT 00000000   3987 
_WPV_AD_DATA                              IMPT 00000000   3986 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5571 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   712

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPV_CB_STS_POINT                         IMPT 00000000   5596 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5572 
_WPV_CB_TRD_POINT                         IMPT 00000000   5597 
_WPV_POWER_MONI                           IMPT 00000000   3988 
_WPV_POWER_ON_CNT                         IMPT 00000000   5598 
_WPV_SCAN_MAX01                           IMPT 00000000   4811 
_WPV_SCAN_MAX10                           IMPT 00000000   4810 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4807 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4806 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2226*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2227*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2228*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2229*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4120 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4122 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4121 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2713 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2715 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2714 
_WXPV_ERR_DISP                            IMPT 00000000   3658 
_W_PARAM_TOP                              IMPT 00000000   4571  7260  7390  7407  7452 14530 16823 16835 16852 21795 22422 22448 
                                                         22632 23643 23916 23925 24311 24383 24431 24489 32264 32324 32401 34905 
                                                         34960 35063 35136 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5371 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5366 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5359 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5364 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5363 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5372 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5360 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5362 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5370 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5361 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5367 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5807 
_ZERO_INCENC                              EQU  00000000   2058*
_ZERO_INCHEN                              EQU  00000000   2057*
_ZERO_INCREV                              EQU  00000000   2062*
_ZERO_INCRNA                              EQU  00000001   2059*
_ZERO_INCSTP                              EQU  00000000   2060*
_ZERO_RNAREV                              EQU  00000001   2063*
_ZERO_RNASTP                              EQU  00000001   2061*
_cbsys_tbl_err                            IMPT 00000000   4245 
_di1_cb_ctl1                              IMPT 00000000   2506 
_di1_cb_ctl1_dt                           IMPT 00000000   2514 31706 
_di1_cb_ctl1_of                           IMPT 00000000   2516 
_di1_cb_ctl1_on                           IMPT 00000000   2515 
_di2_cb_ctl2                              IMPT 00000000   2507 13052 13098 13144 27901 
_di2_cb_ctl2_dt                           IMPT 00000000   2518 
_di2_cb_ctl2_of                           IMPT 00000000   2520 
_di2_cb_ctl2_on                           IMPT 00000000   2519 
_di3_cb_inp1                              IMPT 00000000   2508 
_di3_cb_inp1_dt                           IMPT 00000000   2512 
_di4_cb_inp2                              IMPT 00000000   2509 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   713

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_dq1_cb_out1                              IMPT 00000000   2510  7399 
_dum_SET_PV_ABS_TO_OBJ           P             00006BB4   8623  9153  9229  9578 11287 11369 11627 12784 14047 14108 14177 14226 
                                                         15157 27928 32207*33337 
_emg_err_flg                              IMPT 00000000   2590 10191 31864 38341 
_emg_lev_flg                              IMPT 00000000   2589 
_exq_err_flg                              IMPT 00000000   2593 31869 38343 
_exq_lev_flg                              IMPT 00000000   2591 
_pass_err_flg1                            IMPT 00000000   2587 
_pass_err_flg2                            IMPT 00000000   2588 
_poslsi1_top                              IMPT 00000000   6505 17587 17620 17938 17990 18021 18105 18371 18412 18472 18513 18609 
                                                         18656 18741 18815 18967 18996 19048 19553 20101 20110 20752 20759 20766 
                                                         20847 20881 20915 20944 20979 21015 21073 28622 30468 30585 30651 30703 
                                                         31525 31549 31573 
_reset_dly_tim                            IMPT 00000000   2611 
_reset_flg                                IMPT 00000000   2610 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:01:43                                                  PAGE   714

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000008074        
PHiROM                           REL-CODE    000001380        
