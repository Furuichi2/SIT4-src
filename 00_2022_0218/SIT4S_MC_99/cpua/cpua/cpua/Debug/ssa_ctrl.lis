*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ｃ／ｂ制御                              ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 5989                              19     
 5990                              20     ;2015-11-15 二重回路対策の有効性の確認用
 5991                              21     ;1      .DEFINE         "1"
 5992                              22     ;0      .DEFINE         "0"
 5993                              23     
 5994                              24     _INCCMPERR_FORCE_USE    .DEFINE         "1"
 5995                              25     ;;1     .DEFINE         "0"
 5996                              26     
 5997                              27     
 5998 00000000                     28             .SECTION        P,CODE                  ;
 5999                              29     
 6000                              30     ;       //      ***********************************
 6001                              31     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6002                              32     ;       //      ***********************************
 6003                              33             .INCLUDE        "ssa_krom.ext"          ; //
 6004                               1 I1  ;       ***************************
 6005                               2 I1  ;       ***     汎用ルーチン    ***
 6006                               3 I1  ;       ***************************
 6007                               4 I1          .GLOBAL         _EMG_OUT                ;ssa_khad.src
 6008                               5 I1          .GLOBAL         _EXQ_OUT                ;ssa_khad.src
 6009                               6 I1          .GLOBAL         _RESET_OUT              ;ssa_khad.src
 6010                               7 I1          .GLOBAL         _RESET_END_OUT          ;ssa_khad.src
 6011                               8 I1          .GLOBAL         _VON1_ON                ;ssa_khad.src
 6012                               9 I1          .GLOBAL         _VON1_OF                ;ssa_khad.src
 6013                              10 I1          .GLOBAL         _VON2_ON                ;ssa_khad.src
 6014                              11 I1          .GLOBAL         _VON2_OF                ;ssa_khad.src
 6015                              12 I1          .GLOBAL         _VON3_ON                ;ssa_khad.src
 6016                              13 I1          .GLOBAL         _VON3_OF                ;ssa_khad.src
 6017                              14 I1          .GLOBAL         _RDY_ON                 ;ssa_khad.src
 6018                              15 I1          .GLOBAL         _RDY_OF                 ;ssa_khad.src
 6019                              16 I1          .GLOBAL         _ANTI_ON                ;ssa_khad.src
 6020                              17 I1          .GLOBAL         _ANTI_OF                ;ssa_khad.src
 6021                              18 I1          .GLOBAL         _AUTO_ON                ;ssa_khad.src
 6022                              19 I1          .GLOBAL         _AUTO_OF                ;ssa_khad.src
 6023                              20 I1          .GLOBAL         _FRCYCL_OF              ;ssa_khad.src
 6024                              21 I1          .GLOBAL         _FRCYCL_ON              ;ssa_khad.src
 6025                              22 I1  
 6026                              23 I1  ;       *******************************************
 6027                              24 I1  ;       ***                                     ***
 6028                              25 I1  ;       ***     各状態ハンドシェイクと処理      ***
 6029                              26 I1  ;       ***                                     ***
 6030                              27 I1  ;       *******************************************
 6031                              28 I1  ;_SH4_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 6032                              29 I1  ;_SH2_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 6033                              30 I1  ;_SH4_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 6034                              31 I1  ;_SH2_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 6035                              32 I1  ;_SH4_HD_POS_START      .SRES   2       ;起動したい
 6036                              33 I1  ;_SH2_HD_POS_START      .SRES   2       ;起動したい
 6037                              34 I1  ;_SH4_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6038                              35 I1  ;_SH2_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     2
PROGRAM NAME =

 6039                              36 I1  ;_SH4_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 6040                              37 I1  ;_SH2_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 6041                              38 I1  ;_SH4_HD_CNT_STOP       .SRES   2       ;連続停止
 6042                              39 I1  ;_SH2_HD_CNT_STOP       .SRES   2       ;連続停止
 6043                              40 I1  ;_SH4_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 6044                              41 I1  ;_SH2_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 6045                              42 I1  
 6046                              43 I1  
 6047                              44 I1  ;       ***********************************
 6048                              45 I1  ;       ***                             ***
 6049                              46 I1  ;       ***     READY 準備完了          ***
 6050                              47 I1  ;       ***                             ***
 6051                              48 I1  ;       ***********************************
 6052                              49 I1          .GLOBAL _CPU_AB_RDY_OF_OUT
 6053                              50 I1          .GLOBAL _CPU_BA_RDY_OF_OUT
 6054                              51 I1          .GLOBAL _CPU_AB_RDY_ON_OUT
 6055                              52 I1          .GLOBAL _CPU_BA_RDY_ON_JG
 6056                              53 I1          .GLOBAL _CPU_AB_RDY_OF_JG
 6057                              54 I1  
 6058                              55 I1  ;       ***********************************
 6059                              56 I1  ;       ***                             ***
 6060                              57 I1  ;       ***     BUSY 準備未完了         ***
 6061                              58 I1  ;       ***                             ***
 6062                              59 I1  ;       ***********************************
 6063                              60 I1          .GLOBAL _CPU_AB_BSY_OF_OUT
 6064                              61 I1          .GLOBAL _CPU_BA_BSY_OF_OUT
 6065                              62 I1          .GLOBAL _CPU_AB_BSY_ON_OUT
 6066                              63 I1          .GLOBAL _CPU_BA_BSY_ON_JG
 6067                              64 I1          .GLOBAL _CPU_AB_BSY_OF_JG
 6068                              65 I1  
 6069                              66 I1  ;       ***********************************
 6070                              67 I1  ;       ***                             ***
 6071                              68 I1  ;       ***     STR 運転開始            ***
 6072                              69 I1  ;       ***                             ***
 6073                              70 I1  ;       ***********************************
 6074                              71 I1          .GLOBAL _CPU_AB_STR_OF_OUT
 6075                              72 I1          .GLOBAL _CPU_BA_STR_OF_OUT
 6076                              73 I1          .GLOBAL _CPU_AB_STR_ON_OUT
 6077                              74 I1          .GLOBAL _CPU_BA_STR_ON_JG
 6078                              75 I1          .GLOBAL _CPU_AB_STR_OF_JG
 6079                              76 I1  
 6080                              77 I1  ;       ***********************************
 6081                              78 I1  ;       ***                             ***
 6082                              79 I1  ;       ***     AUTO    開始            ***
 6083                              80 I1  ;       ***                             ***
 6084                              81 I1  ;       ***********************************
 6085                              82 I1          .GLOBAL _CPU_AB_DRVSTOP_OF_OUT
 6086                              83 I1          .GLOBAL _CPU_AB_DRVSTOP_ON_OUT  ;
 6087                              84 I1          .GLOBAL _CPU_BA_DRVSTOP_ON_JG   ;
 6088                              85 I1          .GLOBAL _CPU_BA_DRVSTOP_OF_OUT  ;
 6089                              86 I1  
 6090                              87 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_OUT
 6091                              88 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_OF_OUT
 6092                              89 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_ON_OUT
 6093                              90 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_ON_JG
 6094                              91 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_JG
 6095                              92 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     3
PROGRAM NAME =

 6096                              93 I1  ;       ***********************************
 6097                              94 I1  ;       ***                             ***
 6098                              95 I1  ;       ***     ニアゼロ開始            ***
 6099                              96 I1  ;       ***                             ***
 6100                              97 I1  ;       ***********************************
 6101                              98 I1          .GLOBAL _CPU_AB_NZR_OF_OUT
 6102                              99 I1          .GLOBAL _CPU_BA_NZR_OF_OUT
 6103                             100 I1          .GLOBAL _CPU_AB_NZR_ON_OUT
 6104                             101 I1          .GLOBAL _CPU_BA_NZR_ON_JG
 6105                             102 I1          .GLOBAL _CPU_AB_NZR_OF_JG
 6106                             103 I1  
 6107                             104 I1  
 6108                             105 I1  ;       ***********************************
 6109                             106 I1  ;       ***                             ***
 6110                             107 I1  ;       ***     連続停止                ***
 6111                             108 I1  ;       ***                             ***
 6112                             109 I1  ;       ***********************************
 6113                             110 I1          .GLOBAL _CPU_AB_CST_OF_OUT1     ;
 6114                             111 I1          .GLOBAL _CPU_AB_CST_OF_OUT2     ;
 6115                             112 I1          .GLOBAL _CPU_BA_CST_OF_OUT
 6116                             113 I1          .GLOBAL _CPU_AB_CST_ON_OUT1
 6117                             114 I1          .GLOBAL _CPU_AB_CST_ON_OUT2
 6118                             115 I1          .GLOBAL _CPU_BA_CST_ON_JG
 6119                             116 I1          .GLOBAL _CPU_AB_CST_OF_JG
 6120                             117 I1  
 6121                             118 I1  ;       ***********************************
 6122                             119 I1  ;       ***                             ***
 6123                             120 I1  ;       ***     ステップ停止            ***
 6124                             121 I1  ;       ***                             ***
 6125                             122 I1  ;       ***********************************
 6126                             123 I1          .GLOBAL _CPU_AB_CED_OF_OUT
 6127                             124 I1          .GLOBAL _CPU_BA_CED_OF_OUT
 6128                             125 I1          .GLOBAL _CPU_AB_CED_ON_OUT
 6129                             126 I1          .GLOBAL _CPU_BA_CED_ON_JG
 6130                             127 I1          .GLOBAL _CPU_AB_CED_OF_JG
 6131                             128 I1  
 6132                             129 I1  ;       ***********************************
 6133                             130 I1  ;       ***                             ***
 6134                             131 I1  ;       ***     相手CPUの工程をROへ     ***
 6135                             132 I1  ;       ***                             ***
 6136                             133 I1  ;       ***********************************
 6137                             134 I1          .GLOBAL _CPU_BA_STEP_LOAD
 6138                             135 I1  
 6139                             136 I1  ;       ***********************************
 6140                             137 I1  ;       ***                             ***
 6141                             138 I1  ;       ***     ｽﾗｲﾄﾞ自動待機(hold)     ***
 6142                             139 I1  ;       ***                             ***
 6143                             140 I1  ;       ***********************************
 6144                             141 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_ON_OUT       ;
 6145                             142 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_OF_OUT       ;
 6146                             143 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_ON_JG        ;
 6147                             144 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_OF_JG        ;
 6148                             145 I1  
 6149                             146 I1  ;       *******************************************
 6150                             147 I1  ;       ***             ssa_com1.src            ***
 6151                             148 I1  ;       *******************************************
 6152                             149 I1          .GLOBAL         _DIVS_32REG2_32REG1_R4_32REG2_R2        ;(R2/R4-->R2)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     4
PROGRAM NAME =

 6153                             150 I1          .GLOBAL         _DIVS_64R1R2_32R4_32R2                  ;(R1,R2/R4-->R2)
 6154                             151 I1          .GLOBAL         _DIVU_64R1R2_32R4_32R2                  ;
 6155                             152 I1          .GLOBAL         _HIGH_DIVS_32REG2_16REG1_R4_16REG2_R2   ;(R2/R4-->R2)
 6156                             153 I1          .GLOBAL         _HIGH_S32R2_MUL_S32R1_DIV_S32R4_S32R2   ;(R2*R1/R4-->R2)
 6157                             154 I1          .GLOBAL         _FPU_R2_MUL_R1_DIV_R4                   ;
 6158                             155 I1          .GLOBAL         _FPU_R2_MUL_R1_R3_DIV_R4                ;
 6159                             156 I1          .GLOBAL         _FPU_DIVS_32REG2_32REG1_R4_32REG2_R2    ;
 6160                             157 I1          .GLOBAL         _FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1   ;
 6161                             158 I1  
 6162                             159 I1          .GLOBAL         _MULDIV_R2S32mR1S32dR4S32aR1R2S64;
 6163                             160 I1          .GLOBAL         _MULDIV_R1R2S64mR3S32dR4S32aR1R2S64
 6164                             161 I1          .GLOBAL         _MUL_R1R2S64mR3S32aR1R2S64              ;
 6165                             162 I1  
 6166                             163 I1          .GLOBAL         _DIVS_64R1R2_32R4_64R1R2        ;
 6167                             164 I1          .GLOBAL         _DIVU_64R1R2_32R4_64R1R2        ;
 6168                             165 I1  
 6169                             166 I1          .GLOBAL         _DIG_AREA_CHK0
 6170                             167 I1          .GLOBAL         _DIG_AREA_CHK1
 6171                             168 I1  
 6172                             169 I1          .GLOBAL         _FPU_POS_HOKAN1
 6173                             170 I1          .GLOBAL         _FPU_TIM_HOKAN1
 6174                             171 I1          .GLOBAL         _X_R2_MUL_R1_DIV_R4
 6175                              34             .IMPORT         _SELF_START_CONF        ;ssa_self.src
 6176                              35     
 6177                              36             .IMPORT         _MN_POS_CTRL_START              ;ssa_pos1.src
 6178                              37             .IMPORT         _MN_POS_CTRL_ACT                ;ssa_pos1.src
 6179                              38             .IMPORT         _NOW_POS_PRESET_OUTPLS          ;現在位置を目標位置に変える
 6180                              39     
 6181                              40             .IMPORT         _UP_AREA_DATCHK                 ;ssa_dtmk.src
 6182                              41             .IMPORT         _DAT_MOSTPOS_SIG_CLR
 6183                              42             .IMPORT         _ORG_END_SIG_CLR
 6184                              43     
 6185                              44             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6186                              45     
 6187                              46             .IMPORT         _RESET_ERR_SEQ_CLR
 6188                              47             .IMPORT         _RESET_ERR_SEQ_CLR1     ;2010-12-10
 6189                              48             .IMPORT         _RESET_ERR_SEQ_CLR2     ;2010-12-10
 6190                              49             .IMPORT         _FUL_DATA_INIT
 6191                              50     
 6192                              51     ;       ===== 2003-06-06 ===
 6193                              52             .IMPORT         _DAI_MOSTPOS_SMPLE
 6194                              53             .IMPORT         _BRK_ERR_WORK_CLR1      ;ERR1.SRC
 6195                              54     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6196                              55     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6197                              56     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6198                              57             .IMPORT         _STOP_ERR_CHK
 6199                              58             .IMPORT         _LSA_ERRCLR_INI         ;2006-07-16 SSA_ERR1.SRC
 6200                              59     
 6201                              60             .IMPORT         _FWD_REV_STSIG_OFF              ;
 6202                              61             .IMPORT         _POS_LSI_SLOW_STOP              ;
 6203                              62     
 6204                              63             .IMPORT         _ERR_INFO_RST_CLR
 6205                              64     
 6206                              65             .IMPORT         _EXQ_STOP_LEV_POS_CLR           ;
 6207                              66             .IMPORT         _IRQ_EMG_STP_CLR                ;2004-04-04
 6208                              67     
 6209                              68             .IMPORT         _GPOSIN_HOS_RESET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     5
PROGRAM NAME =

 6210                              69             .IMPORT         _CNTREST_HOS_RESET
 6211                              70     
 6212                              71             .IMPORT         _TEP_FLG_CLR                    ;FLGｸﾘｱ
 6213                              72             .IMPORT         _TEPA_START_CHK                 ;開始条件
 6214                              73             .IMPORT         _TEPA_PLSCNT_CLR                ;片手ONした瞬間0にする
 6215                              74             .IMPORT         _TEPA_PLSCNT_CHK                ;
 6216                              75     
 6217                              76     ;       ---------------------------------
 6218                              77             .IMPORT         _RNA_SCIF_ERR_CLR2              ;SCIF
 6219                              78     
 6220                              79             .IMPORT         _EMG_STOP                       ;
 6221                              80     
 6222                              81             .IMPORT         _API_BREAK_VALV_FLG_ON          ;
 6223                              82             .IMPORT         _API_BREAK_VALV_FLG_OF          ;2014-08-05
 6224                              83     
 6225                              84             .IMPORT         _PRESET_PV_FLGCLR               ;2014-09-14 異常が発生した
 6226                              85             .IMPORT         _NOW_INC_DIG_MAK                ;2014-09-26
 6227                              86     
 6228                              87     ;       //      ***********************************
 6229                              88     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6230                              89     ;       //      ***********************************
 6231                              90             .IMPORT         _LONG_BIT_TBL0
 6232                              91             .GLOBAL         _SQ_CBWK_TOP
 6233                              92     ;       ====================================
 6234                              93             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6235                              94             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6236                              95             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6237                              96             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6238                              97             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6239                              98             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6240                              99             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6241                             100             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6242                             101             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6243                             102             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6244                             103             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6245                             104             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6246                             105             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6247                             106             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
 6248                             107     ;       ==== 2003-07-09 ===
 6249                             108             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更 0:level 1:edge
 6250                             109             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6251                             110     
 6252                             111     ;       ==== 2006-04-10===
 6253                             112             .GLOBAL         _PAR_SFTY_BRKSEL        ;
 6254                             113             .GLOBAL         _PAR_BRKDISE_TIM        ;ﾌﾞﾚｰｷ釈放遅延時間3000msec
 6255                             114             .IMPORT         _PAR_BRKLOCK_TIM        ;ﾌﾞﾚｰｷﾛｯｸ遅延時間100msec
 6256                             115             .IMPORT         _PAR_SELF_WAIT_TM       ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの
                                          時間
 6257                             116             .IMPORT         _PAR_SLOCK_DLY2         ;
 6258                             117     
 6259                             118     
 6260                             119     ;       ==== 2011-09-06===
 6261                             120             .IMPORT         _PAR_UPCHK_SEL1
 6262                             121     
 6263                             122     
 6264                             123             .IMPORT         _PAR_UPMASK_SPD
 6265                             124             .IMPORT         _CB_SYS_PARAM000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     6
PROGRAM NAME =

 6266                             125     
 6267                             126     ;       ==== 2012-09-25===
 6268                             127             .IMPORT         _PAR_MYUTING_SEL        ;
 6269                             128     
 6270                             129     ;       ==== 2014-02-20===
 6271                             130             .IMPORT         _PAR_EXTDRV_SEL         ;
 6272                             131             .IMPORT         _PAR_BTNER_TM
 6273                             132             .IMPORT         _PAR_MYUTERR_SEL        ;3 0: 1:異常 行程異常を監視する[R02R03　20
                                          14-02-18]
 6274                             133     
 6275                             134     
 6276                             135     ;       ==== 2014-09-26===
 6277                             136             .IMPORT         _PAR_INCMODE_SEL
 6278                             137             .IMPORT         _PAR_INCMODE_EPLS
 6279                             138     
 6280                             139     ;       ==== 2017-05-12===
 6281                             140             .IMPORT         _PAR_POSHLD_BRKSEL
 6282                             141     
 6283                             142     
 6284                             143     ;       //      ***********************************
 6285                             144     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6286                             145     ;       //      ***********************************
 6287                             146             .EXPORT         _EMG_CTL_FLG_PROC       ;==>ssa_err1.src
 6288                             147             .EXPORT         _EXQ_CTL_FLG_PROC       ;==>ssa_err1.src
 6289                             148             .EXPORT         _STP_RST_FLG_PROC       ;==>ssa_err1.src
 6290                             149     
 6291                             150     
 6292                             151             .EXPORT         _RESET_CHEAK            ;==>ssa_cbmn.src
 6293                             152             .EXPORT         _MODE_CHANGE            ;==>ssa_cbmn.src
 6294                             153             .EXPORT         _MODE_CTRL              ;==>ssa_cbmn.src
 6295                             154             .EXPORT         _MODE_AREA_MAKE         ;ssa_ctrl.src 待機点AREA作成
 6296                             155     
 6297                             156             .EXPORT         _STEP_SIG_DSP_CLR
 6298                             157             .EXPORT         _STEP_SIG_DISP;
 6299                             158     
 6300                             159             .EXPORT         _STOPPING_TIM_MOV_INI
 6301                             160             .EXPORT         _STOPPING_TIM_STOP_INI
 6302                             161             .EXPORT         _STOPPING_TIM_CHK
 6303                             162     
 6304                             163             .IMPORT         _KJPHOS_SIG_CLR         ;2004-07-05 ssa_kjyu.inc
 6305                             164             .IMPORT         _KJPHOS_SAMPLING1       ;2004-07-05
 6306                             165     
 6307                             166     
 6308                             167             .IMPORT         _OVER_RID_UPDN_LAT_DTMK ;2005-01-17
 6309                             168             .IMPORT         _SET_PV_ABS_TO_OBJ      ;20060919
 6310                             169             .IMPORT         _OVERLID_DEF_SET        ;20060919
 6311                             170     
 6312                             171             .IMPORT         _LINK_CLANK_DIG_MAK             ;2009-07-17
 6313                             172     
 6314                             173             .AIF    0 EQ    0       ;
 6315                             174 C           .IMPORT _CBA_STS_BKUP_SAVE              ;2011-09-14 BAKUP
 6316                             175             .AENDI
 6317                             176     
 6318                             177     ;       ==== 2012-03-06====
 6319                             178             .IMPORT _BRKTMCAL_API1_STR              ;
 6320                             179             .IMPORT _BRKTMCAL_STG1_STOPINI          ;停止ソフト
 6321                             180             .IMPORT _BRKTMCAL_API3_ENDCNF1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     7
PROGRAM NAME =

 6322                             181             .IMPORT _BRKTMCAL_API4_ENDCNF2          ;
 6323                             182     
 6324                             183     
 6325                             184             .IMPORT _SH4_ORG_DIR_REV        ;原点復帰方向
 6326                             185     
 6327                             186             .IMPORT _SEQAB_DP_TOP           ;2014-08-30
 6328                             187             .IMPORT _EXQ_STOP               ;2014-08-30
 6329                             188             .IMPORT _SVP_INTLIM_SNO         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　行程
 6330                             189             .IMPORT _SVP_INTLIM_AGL         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　角度0.1度
 6331                             190             .IMPORT _SVP_INTLIM_POS         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　位置
 6332                             191             .IMPORT _SVP_WTTIM_MAX          ;//ｽﾗｲﾄﾞ自動待機機能  待機時間0.1秒
 6333                             192             .IMPORT _PVP_WTJUD_SNO          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（行程）
 6334                             193             .IMPORT _PVP_WTJUD_AGL          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（角度）0.1度
 6335                             194             .IMPORT _PVP_WTJUD_POS          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（位置）0.01mm
 6336                             195     
 6337                             196             .EXPORT _POS_HOLD_FLG_STR2CLR   ;2014-09-01
 6338                             197     
 6339                             198             .IMPORT _DNM_DATA_REV_SET       ;2014-09-18
 6340                             199             .IMPORT _PAR_MYU_BRK_SEL        ;2015-09-06
 6341                             200     
 6342                             201             .IMPORT _API_ENDHAND_SIGCHK     ;
 6343                             202     
 6344                             203              .AIF   1 EQ 1  ;
 6345                             204 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6346                             205              .AENDI
 6347                             206     ;       --------------------2016-07-18
 6348                             207             .IMPORT         _CPUA_LOT_CHK_FLG               ;2016-07-18CHECK
 6349                             208             .IMPORT         _CPUB_LOT_CHK_FLG               ;2016-07-18CHECK
 6350                             209             .IMPORT         _CPUA_LOT_CNT_FLG               ;
 6351                             210             .IMPORT         _CPUB_LOT_CNT_FLG               ;
 6352                             211             .IMPORT         _CPUA_CONT_MOD_CNT_PV           ;
 6353                             212             .IMPORT         _CPUB_CONT_MOD_CNT_PV           ;
 6354                             213             .IMPORT         _CPUB_DBG_MONI_CNT              ;2016-08-22
 6355                             214     
 6356                             215     
 6357                             216             .AIF    0 EQ    0
 6358                             217 C           .IMPORT _API_CAM_RST_ON ;2016-11-15
 6359                             218             .AENDI
 6360                             219     
 6361                             220     ;       *******************************************
 6362                             221     ;       ***                                     ***
 6363                             222     ;       ***     リセット処理                    ***
 6364                             223     ;       ***                                     ***
 6365                             224     ;       *******************************************
 6366                             225     ;       (ｽﾃｯﾌﾟをある程度またぐ時はR5以上を使用する)
 6367                             226     ;       モードはリセット時に確定する
 6368                             227     ;
 6369                             228     
 6370 00000000                    229             .ALIGN  4                               ;
 6371 00000000                    230     _RESET_CHEAK:           ;==>ssa_cbmn.src
 6372                             231             SUB_START
 6373 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6374                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6375                             232     
 6376                             233              .AIF   1 EQ 1  ;
 6377                             234 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6378                             235              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     8
PROGRAM NAME =

 6379                             236     ;       --------- 2016-10-31(2016-06-21)-------------
 6380                             237             FAR_JSR #_DNM_OBJ_AREA_SIG2,R0                  ;振り子の場合の目標の待機点信号
 6381 00000002 D01E                   M           MOV.L   #_DNM_OBJ_AREA_SIG2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6382 00000004 400B                   M           JSR     @R0                     ;
 6383 00000006 0009                   M           NOP                                     ;
 6384                             238     
 6385                             239     
 6386                             240     ;
 6387                             241     ;       ======= EMG ====
 6388 00000008 D61D               242             MOV.L   #_reset_flg,R6          ;
 6389 0000000A D51E               243             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6390 0000000C 6051               244             MOV.W   @R5,R0                  ;
 6391 0000000E D11E               245             MOV.L   #_ERR_LEV_IN2,R1        ;2010-12-10追加
 6392 00000010 6211               246             MOV.W   @R1,R2                  ;
 6393 00000012 202B               247             OR      R2,R0                   ;
 6394 00000014 D11D               248             MOV.L   #_ERR_LEV_IN3,R1        ;2010-12-10追加
 6395 00000016 6211               249             MOV.W   @R1,R2                  ;
 6396 00000018 202B               250             OR      R2,R0                   ;
 6397 0000001A D11D               251             MOV.L   #_ERR_LEV_IN4,R1        ;2010-12-10追加
 6398 0000001C 6211               252             MOV.W   @R1,R2                  ;
 6399 0000001E 202B               253             OR      R2,R0                   ;
 6400 00000020 D11C               254             MOV.L   #_ERR_LEV_IN5,R1        ;2010-12-10追加
 6401 00000022 6211               255             MOV.W   @R1,R2                  ;
 6402 00000024 202B               256             OR      R2,R0                   ;
 6403 00000026 2008               257             TST     R0,R0                   ;
 6404                             258             TST_BIT_OF RESET_CHK_100        ;
 6405 00000028 8909                   M           BT      RESET_CHK_100
 6406 0000002A D516               259             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6407 0000002C 200A               260             XOR     R0,R0                   ;
 6408 0000002E 2501               261             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6409 00000030 9122               262             MOV.W   #BIT0,R1                ;
 6410 00000032 2611               263             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6411                             264             PUSH_REG1 R6
 6412 00000034 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6413                                 M                                           ;REG=>[SP]
 6414                                 M                                           ;"-4" FF,FF,FF,FC
 6415                             265             FAR_JSR #_EMG_OUT,R0            ;
 6416 00000036 D018                   M           MOV.L   #_EMG_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6417 00000038 400B                   M           JSR     @R0                     ;
 6418 0000003A 0009                   M           NOP                                     ;
 6419                             266             POP_REG1 R6
 6420                                 M                                   ; RE"+4" 00,00,00,04
 6421 0000003C 66F6                   M           MOV.L   @R15+,R6        ;
 6422                             267     
 6423 0000003E                    268     RESET_CHK_100:                          ;==>ssa_cbmn.src
 6424                             269     
 6425                             270     ;       ======= EXQ ====
 6426 0000003E D517               271             MOV.L   #_exq_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6427 00000040 6051               272             MOV.W   @R5,R0                  ;
 6428 00000042 2008               273             TST     R0,R0                   ;
 6429                             274             TST_BIT_OF RESET_CHK_200        ;
 6430 00000044 8908                   M           BT      RESET_CHK_200
 6431 00000046 200A               275             XOR     R0,R0                   ;
 6432 00000048 2501               276             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6433 0000004A 9115               277             MOV.W   #BIT0,R1                ;
 6434 0000004C 2611               278             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6435                             279             PUSH_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE     9
PROGRAM NAME =

 6436 0000004E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6437                                 M                                           ;REG=>[SP]
 6438                                 M                                           ;"-4" FF,FF,FF,FC
 6439                             280             FAR_JSR #_EXQ_OUT,R0            ;
 6440 00000050 D013                   M           MOV.L   #_EXQ_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6441 00000052 400B                   M           JSR     @R0                     ;
 6442 00000054 0009                   M           NOP                                     ;
 6443                             281             POP_REG1 R6
 6444                                 M                                   ; RE"+4" 00,00,00,04
 6445 00000056 66F6                   M           MOV.L   @R15+,R6        ;
 6446                             282     
 6447 00000058                    283     RESET_CHK_200:                          ;==>ssa_cbmn.src
 6448                             284     
 6449 00000058 6061               285             MOV.W   @R6,R0                  ;
 6450 0000005A 2008               286             TST     R0,R0                   ;ﾘｾｯﾄ必要?
 6451                             287             TST_BIT_ON RESET_CHK_300        ;YES
 6452 0000005C 8B26                   M           BF      RESET_CHK_300
 6453                             288     
 6454 0000005E D111               289             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6455 00000060 6011               290             MOV.W   @R1,R0                  ;
 6456 00000062 D111               291             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 6457 00000064 6211               292             MOV.W   @R1,R2                  ;
 6458 00000066 202B               293             OR      R2,R0                   ;
 6459 00000068 2008               294             TST     R0,R0                   ;
 6460                             295             TST_BIT_OF RESET_CHK_250                                        ;
 6461 0000006A 8903                   M           BT      RESET_CHK_250
 6462 0000006C 0009               296             NOP                                                             ;ﾊﾞｸﾞ?//SEQ_CHK_BI
                                          T作成
 6463                             297             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;ﾘｾｯﾄ必要
 6464 0000006E D104                   M           MOV.L   #_reset_flg,R1          ;
 6465 00000070 9202                   M           MOV.W   #BIT0,R2                ;
 6466 00000072 2121                   M           MOV.W   R2,@R1  ;
 6467                             298     
 6468 00000074                    299     RESET_CHK_250:                                                          ;
 6469                             300             M_BRA   RESET_CHK_EXT                                           ;
 6470 00000074 A0F4                   M           BRA     RESET_CHK_EXT
 6471 00000076 0009                   M           NOP
 6472                             301     
 6473                             302     ;       ===== ﾘｾｯﾄが必要な状態======
 6474                                     ***** BEGIN-POOL *****
 6475 00000078 0001                       DATA FOR SOURCE-LINE 262,277,297
 6476 0000007A 0000                       ALIGNMENT CODE
 6477 0000007C 00000000                   DATA FOR SOURCE-LINE 237
 6478 00000080 00000000                   DATA FOR SOURCE-LINE 242,297
 6479 00000084 00000000                   DATA FOR SOURCE-LINE 243,259
 6480 00000088 00000000                   DATA FOR SOURCE-LINE 245
 6481 0000008C 00000000                   DATA FOR SOURCE-LINE 248
 6482 00000090 00000000                   DATA FOR SOURCE-LINE 251
 6483 00000094 00000000                   DATA FOR SOURCE-LINE 254
 6484 00000098 00000000                   DATA FOR SOURCE-LINE 265
 6485 0000009C 00000000                   DATA FOR SOURCE-LINE 271
 6486 000000A0 00000000                   DATA FOR SOURCE-LINE 280
 6487 000000A4 00000000                   DATA FOR SOURCE-LINE 289
 6488 000000A8 00000000                   DATA FOR SOURCE-LINE 291
 6489                                     ***** END-POOL *****
 6490 000000AC                    303     RESET_CHK_300:                          ;
 6491                             304                                             ;BIT0:ﾘｾｯﾄ必要       :EMGならANTI:OFF出力
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    10
PROGRAM NAME =

 6492                             305                                             ;BIT1:ﾘｾｯﾄONｴｯｼﾞ有り :RST出力 400
 6493                             306                                             ;BIT2:ﾘｾｯﾄOFF        :遅延開始 500
 6494                             307                                             ;
 6495 000000AC C804               308             TST     #BIT2,R0                ;
 6496                             309             TST_BIT_OF RESET_CHK_305        ;
 6497 000000AE 8901                   M           BT      RESET_CHK_305
 6498                             310             M_BRA   RESET_CHK_500           ;遅延完了待ち
 6499 000000B0 A0AA                   M           BRA     RESET_CHK_500
 6500 000000B2 0009                   M           NOP
 6501                             311     
 6502 000000B4                    312     RESET_CHK_305:                          ;
 6503                             313     ;;;     TST     #BIT1,R0                ;
 6504                             314     ;;;     TST_BIT_ON RESET_CHK_400        ;ﾘｾｯﾄOFF待ち
 6505                             315     
 6506 000000B4 C802               316             TST     #BIT1,R0                ;
 6507                             317             TST_BIT_OF RESET_CHK_305A       ;
 6508 000000B6 8901                   M           BT      RESET_CHK_305A
 6509                             318             M_BRA   RESET_CHK_400   ;ﾘｾｯﾄOFF待ち
 6510 000000B8 A086                   M           BRA     RESET_CHK_400
 6511 000000BA 0009                   M           NOP
 6512 000000BC                    319     RESET_CHK_305A:
 6513                             320     
 6514                             321             FAR_JSR #_DAT_MOSTPOS_SIG_CLR,R0
 6515 000000BC D013                   M           MOV.L   #_DAT_MOSTPOS_SIG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6516 000000BE 400B                   M           JSR     @R0                     ;
 6517 000000C0 0009                   M           NOP                                     ;
 6518                             322             FAR_JSR #_ORG_END_SIG_CLR,R0
 6519 000000C2 D013                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6520 000000C4 400B                   M           JSR     @R0                     ;
 6521 000000C6 0009                   M           NOP                                     ;
 6522                             323     
 6523                             324             FAR_JSR #_KJPHOS_SIG_CLR,R0     ;2004-07-05
 6524 000000C8 D012                   M           MOV.L   #_KJPHOS_SIG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6525 000000CA 400B                   M           JSR     @R0                     ;
 6526 000000CC 0009                   M           NOP                                     ;
 6527                             325             FAR_JSR #_LSA_ERRCLR_INI,R0     ;2006-07-16
 6528 000000CE D012                   M           MOV.L   #_LSA_ERRCLR_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6529 000000D0 400B                   M           JSR     @R0                     ;
 6530 000000D2 0009                   M           NOP                                     ;
 6531                             326             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6532 000000D4 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6533 000000D6 400B                   M           JSR     @R0                     ;
 6534 000000D8 0009                   M           NOP                                     ;
 6535                             327     
 6536                             328     
 6537                             329     ;;;;    MOV.L   #_di1_cb_ctl1_on,R1     ;//
 6538 000000DA D111               330             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼｰｹﾝｽがﾘｾ
                                          ｯﾄでｸﾘｱするため)
 6539 000000DC 6011               331             MOV.W   @R1,R0                  ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFしない)
 6540                             332     
 6541 000000DE 9414               333             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6542 000000E0 2048               334             TST     R4,R0                   ;ONｴｯｼﾞ
 6543                             335             TST_BIT_OF RESET_CHK_325        ;RESET_CHK_EXT  ;NO EXIT
 6544 000000E2 8910                   M           BT      RESET_CHK_325
 6545                             336     
 6546 000000E4 200A               337             XOR     R0,R0                           ;
 6547 000000E6 D50F               338             MOV.L   #_ORG_PRESET_TIM,R5             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    11
PROGRAM NAME =

 6548 000000E8 2501               339             MOV.W   R0,@R5                          ;
 6549                             340             FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;
 6550 000000EA D00F                   M           MOV.L   #_NOW_POS_PRESET_OUTPLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6551 000000EC 400B                   M           JSR     @R0                     ;
 6552 000000EE 0009                   M           NOP                                     ;
 6553                             341     
 6554                             342             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;
 6555 000000F0 D00E                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6556 000000F2 400B                   M           JSR     @R0                     ;
 6557 000000F4 0009                   M           NOP                                     ;
 6558                             343     
 6559                             344             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
 6560 000000F6 D00E                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6561 000000F8 400B                   M           JSR     @R0                     ;
 6562 000000FA 0009                   M           NOP                                     ;
 6563                             345     
 6564                             346             FAR_JSR #_RESET_CONF_CHK,R1     ;ANS R0 ﾘｾｯﾄ可能ですか？
 6565 000000FC D10D                   M           MOV.L   #_RESET_CONF_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6566 000000FE 410B                   M           JSR     @R1                     ;
 6567 00000100 0009                   M           NOP                                     ;
 6568 00000102 2008               347             TST     R0,R0                   ;
 6569                             348             TST_BIT_OF RESET_CHK_330        ;R0!=0 ﾘｾｯﾄ開始不可
 6570 00000104 8918                   M           BT      RESET_CHK_330
 6571 00000106                    349     RESET_CHK_325
 6572                             350             M_BRA   RESET_CHK_EXT           ;
 6573 00000106 A0AB                   M           BRA     RESET_CHK_EXT
 6574 00000108 0009                   M           NOP
 6575                                     ***** BEGIN-POOL *****
 6576 0000010A 8000                       DATA FOR SOURCE-LINE 333
 6577 0000010C 00000000                   DATA FOR SOURCE-LINE 321
 6578 00000110 00000000                   DATA FOR SOURCE-LINE 322
 6579 00000114 00000000                   DATA FOR SOURCE-LINE 324
 6580 00000118 00000000                   DATA FOR SOURCE-LINE 325
 6581 0000011C 00000000                   DATA FOR SOURCE-LINE 326
 6582 00000120 00000000                   DATA FOR SOURCE-LINE 330
 6583 00000124 00000000                   DATA FOR SOURCE-LINE 338
 6584 00000128 00000000                   DATA FOR SOURCE-LINE 340
 6585 0000012C 00000000                   DATA FOR SOURCE-LINE 342
 6586 00000130 00000000                   DATA FOR SOURCE-LINE 344
 6587 00000134 00000000                   DATA FOR SOURCE-LINE 346
 6588                                     ***** END-POOL *****
 6589 00000138                    351     RESET_CHK_330
 6590                             352     
 6591                             353             .AIF    0 EQ    0
 6592                             354 C           FAR_JSR #_API_CAM_RST_ON,R0     ;2016-11-15
 6593 00000138 D012                   M           MOV.L   #_API_CAM_RST_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6594 0000013A 400B                   M           JSR     @R0                     ;
 6595 0000013C 0009                   M           NOP                                     ;
 6596                             355             .AENDI
 6597                             356     
 6598                             357     ;;      TST     R0,R0                   ;
 6599                             358     ;;      TST_BIT_ON RESET_CHK_EXT        ;R0!=0 ﾘｾｯﾄ開始不可
 6600                             359     
 6601                             360     
 6602                             361             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT1,WKREG=R6   ;bit-set
 6603 0000013E D612                   M           MOV.L   #_reset_flg,R6          ;
 6604 00000140 6061                   M           MOV.W   @R6,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    12
PROGRAM NAME =

 6605 00000142 CB02                   M           OR      #BIT1,R0                ;
 6606 00000144 2601                   M           MOV.W   R0,@R6          ;
 6607                             362             FAR_JSR #_RESET_ERR_SEQ_CLR,R0  ;移動しない
 6608 00000146 D011                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6609 00000148 400B                   M           JSR     @R0                     ;
 6610 0000014A 0009                   M           NOP                                     ;
 6611                             363             FAR_JSR #_RESET_OUT,R0                                          ;
 6612 0000014C D010                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6613 0000014E 400B                   M           JSR     @R0                     ;
 6614 00000150 0009                   M           NOP                                     ;
 6615                             364             FAR_JSR #_RST_MOD_POS_START,R0
 6616 00000152 D010                   M           MOV.L   #_RST_MOD_POS_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6617 00000154 400B                   M           JSR     @R0                     ;
 6618 00000156 0009                   M           NOP                                     ;
 6619                             365             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0
 6620 00000158 D00F                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6621 0000015A 400B                   M           JSR     @R0                     ;
 6622 0000015C 0009                   M           NOP                                     ;
 6623                             366             FAR_JSR #_IRQ_EMG_STP_CLR,R0    ;2004-04-04
 6624 0000015E D00F                   M           MOV.L   #_IRQ_EMG_STP_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6625 00000160 400B                   M           JSR     @R0                     ;
 6626 00000162 0009                   M           NOP                                     ;
 6627                             367     
 6628                             368     
 6629                             369     ;       === EXQではやらない処理=====
 6630                             370     ;;      .AIF    1 EQ 1  ;ﾌﾟﾛｸﾞﾗﾑ変更箇所(反転仕様以外の標準に入れる変更)
 6631 00000164 D10E               371             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6632 00000166 6011               372             MOV.W   @R1,R0                  ;EMG
 6633 00000168 2008               373             TST     R0,R0                   ;
 6634                             374             TST_BIT_OF RESET_CHK_350        ;
 6635 0000016A 8921                   M           BT      RESET_CHK_350
 6636                             375             FAR_JSR #_LOT_SIG_FLG_CLR,R0    ;
 6637 0000016C D00D                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6638 0000016E 400B                   M           JSR     @R0                     ;
 6639 00000170 0009                   M           NOP                                     ;
 6640                             376     
 6641 00000172 D10D               377             MOV.L   #_SELF_TIMING_SIG,R1    ;2006-04-10
 6642 00000174 200A               378             XOR     R0,R0                   ;
 6643 00000176 2101               379             MOV.W   R0,@R1                  ;
 6644                             380     ;       ---EMGのときだけｸﾘｱするように変更[EXQではﾀｲﾏを継続させる]----
 6645                             381             FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0     ;
 6646 00000178 D00C                   M           MOV.L   #_CYCLE_TIME_REFLASH_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6647 0000017A 400B                   M           JSR     @R0                     ;
 6648 0000017C 0009                   M           NOP                                     ;
 6649                             382     
 6650                             383     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策RESET_CHK_350:                               ;
 6651                             384     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策     M_BRA   RESET_CHK_EXT
 6652                             385     
 6653                             386             M_BRA   RESET_CHK_399           ;2016-04-15
 6654 0000017E A01A                   M           BRA     RESET_CHK_399
 6655 00000180 0009                   M           NOP
 6656                             387     
 6657                             388     ;       -- 遮光時二重回路偏差オーバ対策---
 6658                             389     
 6659                                     ***** BEGIN-POOL *****
 6660 00000182 0000                       ALIGNMENT CODE
 6661 00000184 00000000                   DATA FOR SOURCE-LINE 354
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    13
PROGRAM NAME =

 6662 00000188 00000000                   DATA FOR SOURCE-LINE 361
 6663 0000018C 00000000                   DATA FOR SOURCE-LINE 362
 6664 00000190 00000000                   DATA FOR SOURCE-LINE 363
 6665 00000194 00000000                   DATA FOR SOURCE-LINE 364
 6666 00000198 00000000                   DATA FOR SOURCE-LINE 365
 6667 0000019C 00000000                   DATA FOR SOURCE-LINE 366
 6668 000001A0 00000000                   DATA FOR SOURCE-LINE 371
 6669 000001A4 00000000                   DATA FOR SOURCE-LINE 375
 6670 000001A8 00000000                   DATA FOR SOURCE-LINE 377
 6671 000001AC 00000000                   DATA FOR SOURCE-LINE 381
 6672                                     ***** END-POOL *****
 6673 000001B0                    390     RESET_CHK_350:                          ;
 6674                             391     ;       ----- 2016-04-15 EXQ,遮光による行程違いのﾘｶﾊﾞﾘｰ処理-------
 6675                             392             FAR_JSR #_EXQ_PROC_STEP_RECOVER,R0      ;
 6676 000001B0 D003                   M           MOV.L   #_EXQ_PROC_STEP_RECOVER,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6677 000001B2 400B                   M           JSR     @R0                     ;
 6678 000001B4 0009                   M           NOP                                     ;
 6679                             393     
 6680 000001B6                    394     RESET_CHK_399:                                  ;
 6681                             395             FAR_JSR #_API_EXQ_STEP_FLGCLR,R0        ;
 6682 000001B6 D003                   M           MOV.L   #_API_EXQ_STEP_FLGCLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6683 000001B8 400B                   M           JSR     @R0                     ;
 6684 000001BA 0009                   M           NOP                                     ;
 6685                             396             M_BRA   RESET_CHK_EXT
 6686 000001BC A050                   M           BRA     RESET_CHK_EXT
 6687 000001BE 0009                   M           NOP
 6688                             397     
 6689                             398     ;       ==== ﾘｾｯﾄOFF待ち ====
 6690                                     ***** BEGIN-POOL *****
 6691 000001C0 00000000                   DATA FOR SOURCE-LINE 392
 6692 000001C4 00000000                   DATA FOR SOURCE-LINE 395
 6693                                     ***** END-POOL *****
 6694 000001C8                    399     RESET_CHK_400:  ;ﾘｾｯﾄOFF待ち
 6695 000001C8 D10A               400             MOV.L   #_di1_cb_ctl1_dt,R1     ;//
 6696 000001CA 6011               401             MOV.W   @R1,R0                  ;
 6697 000001CC 9410               402             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6698 000001CE 2048               403             TST     R4,R0                   ;
 6699                             404             TST_BIT_ON RESET_CHK_EXT        ;ON継続
 6700 000001D0 8B46                   M           BF      RESET_CHK_EXT
 6701                             405     
 6702                             406     
 6703                             407             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT2,WKREG=R6   ;bit-set
 6704 000001D2 D609                   M           MOV.L   #_reset_flg,R6          ;
 6705 000001D4 6061                   M           MOV.W   @R6,R0          ;
 6706 000001D6 CB04                   M           OR      #BIT2,R0                ;
 6707 000001D8 2601                   M           MOV.W   R0,@R6          ;
 6708                             408             MEM1_DATA_SET MEM=_reset_dly_tim,LG=W,DATA=_RST_DLY_TM,WKREG1=R1,WKREG2=R2
 6709 000001DA D108                   M           MOV.L   #_reset_dly_tim,R1              ;
 6710 000001DC 9209                   M           MOV.W   #_RST_DLY_TM,R2         ;
 6711 000001DE 2121                   M           MOV.W   R2,@R1  ;
 6712                             409             FAR_JSR #_RESET_OUT,R0                                          ;
 6713 000001E0 D007                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6714 000001E2 400B                   M           JSR     @R0                     ;
 6715 000001E4 0009                   M           NOP                                     ;
 6716                             410             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6717 000001E6 D007                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6718 000001E8 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    14
PROGRAM NAME =

 6719 000001EA 0009                   M           NOP                                     ;
 6720                             411             M_BRA   RESET_CHK_EXT
 6721 000001EC A038                   M           BRA     RESET_CHK_EXT
 6722 000001EE 0009                   M           NOP
 6723                             412     
 6724                             413     
 6725                             414     ;       ==== 遅延待ち ==
 6726                                     ***** BEGIN-POOL *****
 6727 000001F0 8000                       DATA FOR SOURCE-LINE 402
 6728 000001F2 00C8                       DATA FOR SOURCE-LINE 408
 6729 000001F4 00000000                   DATA FOR SOURCE-LINE 400
 6730 000001F8 00000000                   DATA FOR SOURCE-LINE 407
 6731 000001FC 00000000                   DATA FOR SOURCE-LINE 408
 6732 00000200 00000000                   DATA FOR SOURCE-LINE 409
 6733 00000204 00000000                   DATA FOR SOURCE-LINE 410
 6734                                     ***** END-POOL *****
 6735 00000208                    415     RESET_CHK_500:  ;
 6736 00000208 D11B               416             MOV.L   #_reset_dly_tim,R1
 6737 0000020A 6011               417             MOV.W   @R1,R0                                          ;
 6738 0000020C 2008               418             TST     R0,R0                                                   ;
 6739                             419             TST_BIT_ON RESET_CHK_EXT                                        ;
 6740 0000020E 8B27                   M           BF      RESET_CHK_EXT
 6741                             420     
 6742                             421             FAR_JSR #_RST_MOD_POS_END,R1
 6743 00000210 D11A                   M           MOV.L   #_RST_MOD_POS_END,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6744 00000212 410B                   M           JSR     @R1                     ;
 6745 00000214 0009                   M           NOP                                     ;
 6746                             422             FAR_JSR #_RESET_END_OUT,R1                                      ;
 6747 00000216 D11A                   M           MOV.L   #_RESET_END_OUT,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6748 00000218 410B                   M           JSR     @R1                     ;
 6749 0000021A 0009                   M           NOP                                     ;
 6750                             423             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;完了
 6751 0000021C D119                   M           MOV.L   #_reset_flg,R1          ;
 6752 0000021E 9227                   M           MOV.W   #0,R2           ;
 6753 00000220 2121                   M           MOV.W   R2,@R1  ;
 6754                             424     
 6755                             425     ;       -------- 2010-12-10 移動追加----
 6756                             426             FAR_JSR #_RESET_ERR_SEQ_CLR,R0
 6757 00000222 D019                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6758 00000224 400B                   M           JSR     @R0                     ;
 6759 00000226 0009                   M           NOP                                     ;
 6760                             427             FAR_JSR #_RESET_ERR_SEQ_CLR2,R0
 6761 00000228 D018                   M           MOV.L   #_RESET_ERR_SEQ_CLR2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6762 0000022A 400B                   M           JSR     @R0                     ;
 6763 0000022C 0009                   M           NOP                                     ;
 6764                             428     
 6765                             429     ;       === 2003-07-01 ====
 6766 0000022E D118               430             MOV.L   #_HIST_DAT_SEND_DIS,R1  ;//1:DISENABLE 0:ENABLE
 6767 00000230 200A               431             XOR     R0,R0                   ;
 6768 00000232 2101               432             MOV.W   R0,@R1                  ;
 6769                             433     
 6770 00000234 D117               434             MOV.L   #_TRD_CLR_CMD,R1        ;//01 CLR
 6771 00000236 901C               435             MOV.W   #1,R0                   ;
 6772 00000238 2101               436             MOV.W   R0,@R1                  ;CLR START
 6773                             437     
 6774                             438             FAR_JSR #_ERR_INFO_RST_CLR,R0
 6775 0000023A D017                   M           MOV.L   #_ERR_INFO_RST_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    15
PROGRAM NAME =

 6776 0000023C 400B                   M           JSR     @R0                     ;
 6777 0000023E 0009                   M           NOP                                     ;
 6778                             439     
 6779                             440     ;       ----------- 2006-07-28 -------
 6780                             441             FAR_JSR #_TEPA_PLSCNT_CLR,R0
 6781 00000240 D016                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6782 00000242 400B                   M           JSR     @R0                     ;
 6783 00000244 0009                   M           NOP                                     ;
 6784                             442             FAR_JSR #_TEP_FLG_CLR,R0
 6785 00000246 D016                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6786 00000248 400B                   M           JSR     @R0                     ;
 6787 0000024A 0009                   M           NOP                                     ;
 6788                             443             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6789 0000024C D015                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6790 0000024E 400B                   M           JSR     @R0                     ;
 6791 00000250 0009                   M           NOP                                     ;
 6792                             444             FAR_JSR #_OVERLID_DEF_SET,R0    ;20060919
 6793 00000252 D015                   M           MOV.L   #_OVERLID_DEF_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6794 00000254 400B                   M           JSR     @R0                     ;
 6795 00000256 0009                   M           NOP                                     ;
 6796                             445     
 6797                             446     ;       ======= 描画用 ======
 6798                             447             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;再描画
 6799 00000258 D114                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
 6800 0000025A 6011                   M           MOV.W   @R1,R0          ;
 6801 0000025C CB01                   M           OR      #BIT0,R0                ;
 6802 0000025E 2101                   M           MOV.W   R0,@R1          ;
 6803                             448     
 6804                             449     
 6805                             450     ;;;;;;  EMGのときだけｸﾘｱするように変更ため移動<2013-07-19>
 6806                             451     ;;;;;;  FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0                                     ;
 6807                             452     
 6808                             453     
 6809 00000260                    454     RESET_CHK_EXT:
 6810                             455     
 6811 00000260 D113               456             mov.l   #_pass_err_flg1,r1      ;//異常ﾙｰﾁﾝ
 6812 00000262 6011               457             mov.w   @r1,r0                  ;
 6813 00000264 9206               458             mov.w   #H'FF80,r2              ;BIT7~BIT15
 6814 00000266 202B               459             or      r2,r0                   ;
 6815 00000268 2101               460             mov.w   r0,@r1                  ;
 6816                             461             SUB_END
 6817                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6818 0000026A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6819                             462             M_RTS
 6820 0000026C 000B                   M           RTS                             ;RTSの後ろの
 6821 0000026E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6822                             463     
 6823                             464     ;       ***********************************
 6824                             465     ;       ***                             ***
 6825                             466     ;       ***     ﾘｾｯﾄ可能条件            ***
 6826                             467     ;       ***                             ***
 6827                             468     ;       ***                             ***
 6828                             469     ;       ***********************************
 6829                             470     ;
 6830                             471     ;
 6831                                     ***** BEGIN-POOL *****
 6832 00000270 0000                       DATA FOR SOURCE-LINE 423
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    16
PROGRAM NAME =

 6833 00000272 0001                       DATA FOR SOURCE-LINE 435
 6834 00000274 FF80                       DATA FOR SOURCE-LINE 458
 6835 00000276 0000                       ALIGNMENT CODE
 6836 00000278 00000000                   DATA FOR SOURCE-LINE 416
 6837 0000027C 00000000                   DATA FOR SOURCE-LINE 421
 6838 00000280 00000000                   DATA FOR SOURCE-LINE 422
 6839 00000284 00000000                   DATA FOR SOURCE-LINE 423
 6840 00000288 00000000                   DATA FOR SOURCE-LINE 426
 6841 0000028C 00000000                   DATA FOR SOURCE-LINE 427
 6842 00000290 00000000                   DATA FOR SOURCE-LINE 430
 6843 00000294 00000000                   DATA FOR SOURCE-LINE 434
 6844 00000298 00000000                   DATA FOR SOURCE-LINE 438
 6845 0000029C 00000000                   DATA FOR SOURCE-LINE 441
 6846 000002A0 00000000                   DATA FOR SOURCE-LINE 442
 6847 000002A4 00000000                   DATA FOR SOURCE-LINE 443
 6848 000002A8 00000000                   DATA FOR SOURCE-LINE 444
 6849 000002AC 00000000                   DATA FOR SOURCE-LINE 447
 6850 000002B0 00000000                   DATA FOR SOURCE-LINE 456
 6851                                     ***** END-POOL *****
 6852 000002B4                    472             .ALIGN  4                               ;
 6853 000002B4                    473     _RESET_CONF_CHK:
 6854                             474             SUB_START
 6855 000002B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6856                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6857                             475     
 6858                             476     ;---2011-09-20 ﾌﾞﾚｰｷﾓｰﾄﾞSW-ONでは安全一行程か原点復帰のみ
 6859 000002B6 D108               477             MOV.L   #_BRKTST_SW_IN,R1                               ;
 6860 000002B8 6011               478             MOV.W   @R1,R0                                          ;
 6861 000002BA C801               479             TST     #BIT0,R0                                        ;
 6862                             480             TST_BIT_OF RST_CONFCK_010                               ;
 6863 000002BC 8912                   M           BT      RST_CONFCK_010
 6864                             481     
 6865 000002BE D107               482             MOV.L   #_INP_MODE,R1                           ;
 6866 000002C0 6011               483             MOV.W   @R1,R0                                  ;
 6867 000002C2 C840               484             TST     #_W1DUP,R0                              ;
 6868                             485             TST_BIT_ON RST_CONFCK_010                       ;
 6869 000002C4 8B0E                   M           BF      RST_CONFCK_010
 6870                             486     
 6871 000002C6 C804               487             TST     #_W1SGL,R0                                      ;
 6872                             488             TST_BIT_OF RST_CONFCK_005                               ;
 6873 000002C8 8904                   M           BT      RST_CONFCK_005
 6874                             489     
 6875                             490     ;-------- 安全一----------
 6876 000002CA D105               491             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 6877 000002CC 6011               492             MOV.W   @R1,R0                                          ;
 6878 000002CE C97F               493             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 6879                             494     
 6880 000002D0 C810               495             TST     #_W1OPT,R0                                      ;OPTION?
 6881                             496             TST_BIT_OF RST_CONFCK_010                               ;NO ちゃんとした安全一
 6882 000002D2 8907                   M           BT      RST_CONFCK_010
 6883 000002D4                    497     RST_CONFCK_005
 6884                             498             M_BRA   RST_CONFCK_NG                                   ;
 6885 000002D4 A0B0                   M           BRA     RST_CONFCK_NG
 6886 000002D6 0009                   M           NOP
 6887                             499     
 6888                                     ***** BEGIN-POOL *****
 6889 000002D8 00000000                   DATA FOR SOURCE-LINE 477
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    17
PROGRAM NAME =

 6890 000002DC 00000000                   DATA FOR SOURCE-LINE 482
 6891 000002E0 00000000                   DATA FOR SOURCE-LINE 491
 6892                                     ***** END-POOL *****
 6893 000002E4                    500     RST_CONFCK_010
 6894                             501     
 6895                             502     ;       ----------------------------------------------
 6896                             503             _MONI_RESET_SET SETNO=1,SETREG=R0,WKREG=R1      ;2014-09-13
 6897 000002E4 9027                   M           MOV.W   #1,R0
 6898 000002E6 D117                   M           MOV.L   #_MONI_RESET_STEP,R1
 6899 000002E8 2101                   M           MOV.W   R0,@R1
 6900                             504     
 6901 000002EA D117               505             MOV.L   #_INP_MODE,R1           ;
 6902 000002EC 6011               506             MOV.W   @R1,R0                  ;
 6903 000002EE C801               507             TST     #_W1OFF,R0              ;
 6904                             508             TST_BIT_ON RST_CONFCK_NG70      ;[切]
 6905 000002F0 8B7E                   M           BF      RST_CONFCK_NG70
 6906                             509     
 6907                             510     ;       ======= 安全装置ﾁｪｯｸ ==============
 6908 000002F2 D116               511             MOV.L   #_SFTY_IN_DAT,R1        ;
 6909 000002F4 6011               512             MOV.W   @R1,R0                  ;有効・無効のSWのみ
 6910 000002F6 C803               513             TST     #(BIT1+BIT0),R0
 6911                             514             TST_BIT_ON RST_CONFCK_NG70      ;
 6912 000002F8 8B7A                   M           BF      RST_CONFCK_NG70
 6913                             515     
 6914                             516     ;       ----------------------------------------------
 6915                             517             _MONI_RESET_SET SETNO=2,SETREG=R0,WKREG=R1      ;2014-09-13
 6916 000002FA 901D                   M           MOV.W   #2,R0
 6917 000002FC D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6918 000002FE 2101                   M           MOV.W   R0,@R1
 6919                             518     
 6920                             519     ;-----EMGのswは見る 340.0は見ない---
 6921 00000300 D113               520             MOV.L   #_di3_cb_inp1,R1                ;//+0:EMG1,EMG2 BIT1,BIT0
 6922                             521     ;;;340.0のor    MOV.L   #_di3_cb_inp1_dt,R1     ;//制御に使用するのは_dt(相手側の遮光も)
 6923 00000302 6011               522             MOV.W   @R1,R0                  ;
 6924 00000304 C803               523             TST     #(BIT1+BIT0),R0         ;EMG?
 6925                             524             TST_BIT_ON RST_CONFCK_NG70
 6926 00000306 8B73                   M           BF      RST_CONFCK_NG70
 6927                             525     
 6928                             526             _MONI_RESET_SET SETNO=3,SETREG=R0,WKREG=R1      ;2014-09-13
 6929 00000308 9017                   M           MOV.W   #3,R0
 6930 0000030A D10E                   M           MOV.L   #_MONI_RESET_STEP,R1
 6931 0000030C 2101                   M           MOV.W   R0,@R1
 6932                             527     
 6933 0000030E D10E               528             MOV.L   #_INP_MODE,R1           ;
 6934 00000310 6011               529             MOV.W   @R1,R0                  ;
 6935 00000312 9113               530             MOV.W   #(_W1DUP),R1            ;[原点復帰]
 6936 00000314 2018               531             TST     R1,R0                   ;
 6937                             532             TST_BIT_ON RST_CONFCK_015_OK    ;何でもOK
 6938 00000316 8B0C                   M           BF      RST_CONFCK_015_OK
 6939                             533     
 6940                             534     ;       === 段取は回転の場合は動作可能 ===
 6941 00000318 9111               535             MOV.W   #(_W1DIC),R1                    ;
 6942 0000031A 2018               536             TST     R1,R0                           ;
 6943                             537             TST_BIT_OF RST_CONFCK_020               ;[段取寸動]
 6944 0000031C 891C                   M           BT      RST_CONFCK_020
 6945                             538     
 6946                             539             _MONI_RESET_SET SETNO=4,SETREG=R0,WKREG=R1      ;2014-09-13
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    18
PROGRAM NAME =

 6947 0000031E 900F                   M           MOV.W   #4,R0
 6948 00000320 D108                   M           MOV.L   #_MONI_RESET_STEP,R1
 6949 00000322 2101                   M           MOV.W   R0,@R1
 6950                             540     
 6951 00000324 D50B               541             MOV.L   #_ORG_DND_NOMAL_FLG1,R5         ;段取動作はOK(POWER-ON/)
 6952 00000326 6651               542             MOV.W   @R5,R6                          ;0異常
 6953 00000328 2668               543             TST     R6,R6                           ;
 6954                             544             TST_BIT_OF RST_CONFCK_NG70              ;
 6955 0000032A 8961                   M           BT      RST_CONFCK_NG70
 6956                             545             _MONI_RESET_SET SETNO=5,SETREG=R0,WKREG=R1      ;2014-09-13
 6957 0000032C 9009                   M           MOV.W   #5,R0
 6958 0000032E D105                   M           MOV.L   #_MONI_RESET_STEP,R1
 6959 00000330 2101                   M           MOV.W   R0,@R1
 6960                             546     
 6961 00000332                    547     RST_CONFCK_015_OK:
 6962                             548             M_BRA   RST_CONFCK_OK                   ;
 6963 00000332 A084                   M           BRA     RST_CONFCK_OK
 6964 00000334 0009                   M           NOP
 6965                             549     
 6966                             550     
 6967                                     ***** BEGIN-POOL *****
 6968 00000336 0001                       DATA FOR SOURCE-LINE 503
 6969 00000338 0002                       DATA FOR SOURCE-LINE 517
 6970 0000033A 0003                       DATA FOR SOURCE-LINE 526
 6971 0000033C 0040                       DATA FOR SOURCE-LINE 530
 6972 0000033E 0020                       DATA FOR SOURCE-LINE 535
 6973 00000340 0004                       DATA FOR SOURCE-LINE 539
 6974 00000342 0005                       DATA FOR SOURCE-LINE 545
 6975 00000344 00000000                   DATA FOR SOURCE-LINE 503,517,526,539,545
 6976 00000348 00000000                   DATA FOR SOURCE-LINE 505,528
 6977 0000034C 00000000                   DATA FOR SOURCE-LINE 511
 6978 00000350 00000000                   DATA FOR SOURCE-LINE 520
 6979 00000354 00000000                   DATA FOR SOURCE-LINE 541
 6980                                     ***** END-POOL *****
 6981 00000358                    551     RST_CONFCK_020:
 6982                             552             _MONI_RESET_SET SETNO=6,SETREG=R0,WKREG=R1      ;2014-09-13
 6983 00000358 901D                   M           MOV.W   #6,R0
 6984 0000035A D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6985 0000035C 2101                   M           MOV.W   R0,@R1
 6986                             553     
 6987                             554     ;       ===== (設定異常・原点復帰未完了)==
 6988 0000035E D511               555             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//段取りok,原点動作以外動作禁止 0:異常 1:
                                          OK
 6989 00000360 6651               556             MOV.W   @R5,R6                          ;0異常
 6990 00000362 2668               557             TST     R6,R6                           ;
 6991                             558             TST_BIT_OF RST_CONFCK_NG70              ;
 6992 00000364 8944                   M           BT      RST_CONFCK_NG70
 6993                             559     
 6994                             560             _MONI_RESET_SET SETNO=7,SETREG=R0,WKREG=R1      ;2014-09-13
 6995 00000366 9017                   M           MOV.W   #7,R0
 6996 00000368 D10D                   M           MOV.L   #_MONI_RESET_STEP,R1
 6997 0000036A 2101                   M           MOV.W   R0,@R1
 6998                             561     
 6999                             562     
 7000                             563     ;;;2003-07-14   ===== (設定異常・原点復帰未完了)==
 7001                             564     ;;;     MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//原点動作以外動作禁止 0:異常 1:OK
 7002                             565     ;;;     MOV.W   @R5,R6                          ;0異常
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    19
PROGRAM NAME =

 7003                             566     ;;;     TST     R6,R6                           ;
 7004                             567     ;;;     TST_BIT_OF RST_CONFCK_NG                ;
 7005                             568     
 7006                             569     ;;;     MOV.W   #(_W1DIC),R1                    ;
 7007                             570     ;;;     TST     R1,R0                           ;
 7008                             571     ;;;     TST_BIT_ON RST_CONFCK_OK                ;
 7009                             572     
 7010                             573     ;       ==== 待機点ｴﾘｱか-->待機点選出=====
 7011 0000036C                    574     RST_CONFCK_050:
 7012 0000036C D10E               575             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
 7013 0000036E 6011               576             MOV.W   @R1,R0                          ;
 7014 00000370 2008               577             TST     R0,R0                           ;
 7015                             578             TST_BIT_OF RST_CONFCK_OK                ;EXQの場合
 7016 00000372 8964                   M           BT      RST_CONFCK_OK
 7017                             579     
 7018                             580             _MONI_RESET_SET SETNO=8,SETREG=R0,WKREG=R1      ;2014-09-13
 7019 00000374 9011                   M           MOV.W   #8,R0
 7020 00000376 D10A                   M           MOV.L   #_MONI_RESET_STEP,R1
 7021 00000378 2101                   M           MOV.W   R0,@R1
 7022                             581     
 7023                             582     ;       ===     2011-09-14      ===
 7024 0000037A D10C               583             MOV.L   #_BRKTST_INPUT_CMD,R1   ;//安全一行程の試験モード指定時BIT0=ON
 7025 0000037C 6011               584             MOV.W   @R1,R0                  ;
 7026 0000037E C801               585             TST     #BIT0,R0                ;
 7027                             586             TST_BIT_ON RST_CONFCK_BRK100    ;[]
 7028 00000380 8B4C                   M           BF      RST_CONFCK_BRK100
 7029                             587     ;       ===========================
 7030                             588     
 7031                             589             _MONI_RESET_SET SETNO=9,SETREG=R0,WKREG=R1      ;2014-09-13
 7032 00000382 900B                   M           MOV.W   #9,R0
 7033 00000384 D106                   M           MOV.L   #_MONI_RESET_STEP,R1
 7034 00000386 2101                   M           MOV.W   R0,@R1
 7035                             590     
 7036                             591     
 7037                             592     
 7038                             593     ;       =====2014-09-25 ====================
 7039                             594             FAR_JSR #_INC_RSTMODE_CHK,R0
 7040 00000388 D009                   M           MOV.L   #_INC_RSTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7041 0000038A 400B                   M           JSR     @R0                     ;
 7042 0000038C 0009                   M           NOP                                     ;
 7043 0000038E 2008               595             TST     R0,R0                   ;
 7044                             596             TST_BIT_OF RST_CONFCK_055       ;通常ｿﾌﾄで判定して[待機点です]
 7045 00000390 8910                   M           BT      RST_CONFCK_055
 7046                             597             M_BRA   RST_CONFCK_OK           ;
 7047 00000392 A054                   M           BRA     RST_CONFCK_OK
 7048 00000394 0009                   M           NOP
 7049                             598     
 7050                             599     
 7051                                     ***** BEGIN-POOL *****
 7052 00000396 0006                       DATA FOR SOURCE-LINE 552
 7053 00000398 0007                       DATA FOR SOURCE-LINE 560
 7054 0000039A 0008                       DATA FOR SOURCE-LINE 580
 7055 0000039C 0009                       DATA FOR SOURCE-LINE 589
 7056 0000039E 0000                       ALIGNMENT CODE
 7057 000003A0 00000000                   DATA FOR SOURCE-LINE 552,560,580,589
 7058 000003A4 00000000                   DATA FOR SOURCE-LINE 555
 7059 000003A8 00000000                   DATA FOR SOURCE-LINE 575
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    20
PROGRAM NAME =

 7060 000003AC 00000000                   DATA FOR SOURCE-LINE 583
 7061 000003B0 00000000                   DATA FOR SOURCE-LINE 594
 7062                                     ***** END-POOL *****
 7063 000003B4                    600     RST_CONFCK_055:
 7064                             601     
 7065                             602     
 7066                             603     ;       === 待機点だ！ ==== ﾘｾｯﾄ時の待機点ｹﾞｯﾄ====
 7067                             604     ;       ------- 2014-09-18-------
 7068 000003B4 D107               605             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
 7069 000003B6 6011               606             MOV.W   @R1,R0                                  ;
 7070 000003B8 C804               607             TST     #(_DMATH_DNDRIV),R0                     ;
 7071                             608             TST_BIT_OF RST_CONFCK_080                       ;
 7072 000003BA 8921                   M           BT      RST_CONFCK_080
 7073                             609     
 7074 000003BC D406               610             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
 7075 000003BE 6041               611             MOV.W   @R4,R0
 7076 000003C0 C810               612             TST     #BIT4,R0                                ;左側
 7077                             613             TST_BIT_ON RST_CONFCK_OK                        ;OK 初期値動作
 7078 000003C2 8B3C                   M           BF      RST_CONFCK_OK
 7079                             614     
 7080 000003C4 C880               615             TST     #BIT7,R0                                ;
 7081                             616             TST_BIT_ON RST_CONFCK_060                       ;逆側
 7082 000003C6 8B0B                   M           BF      RST_CONFCK_060
 7083                             617             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7084 000003C8 9003                   M           MOV.W   #10,R0
 7085 000003CA D104                   M           MOV.L   #_MONI_RESET_STEP,R1
 7086 000003CC 2101                   M           MOV.W   R0,@R1
 7087                             618             M_BRA   RST_CONFCK_NG                           ;
 7088 000003CE A033                   M           BRA     RST_CONFCK_NG
 7089 000003D0 0009                   M           NOP
 7090                             619     
 7091                             620     
 7092                                     ***** BEGIN-POOL *****
 7093 000003D2 000A                       DATA FOR SOURCE-LINE 617
 7094 000003D4 00000000                   DATA FOR SOURCE-LINE 605
 7095 000003D8 00000000                   DATA FOR SOURCE-LINE 610
 7096 000003DC 00000000                   DATA FOR SOURCE-LINE 617
 7097                                     ***** END-POOL *****
 7098 000003E0                    621     RST_CONFCK_060:
 7099                             622             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
 7100 000003E0 D002                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7101 000003E2 400B                   M           JSR     @R0                     ;
 7102 000003E4 0009                   M           NOP                                     ;
 7103                             623             M_BRA   RST_CONFCK_OK                           ;
 7104 000003E6 A02A                   M           BRA     RST_CONFCK_OK
 7105 000003E8 0009                   M           NOP
 7106                             624     
 7107                             625     
 7108                             626     ;       --2014-09-25-------------------------------------
 7109                                     ***** BEGIN-POOL *****
 7110 000003EA 0000                       ALIGNMENT CODE
 7111 000003EC 00000000                   DATA FOR SOURCE-LINE 622
 7112                                     ***** END-POOL *****
 7113 000003F0                    627     RST_CONFCK_NG70:
 7114                             628             _MONI_RESET_SET SETNO=11,SETREG=R0,WKREG=R1     ;
 7115 000003F0 9003                   M           MOV.W   #11,R0
 7116 000003F2 D102                   M           MOV.L   #_MONI_RESET_STEP,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    21
PROGRAM NAME =

 7117 000003F4 2101                   M           MOV.W   R0,@R1
 7118                             629             M_BRA   RST_CONFCK_NG                           ;
 7119 000003F6 A01F                   M           BRA     RST_CONFCK_NG
 7120 000003F8 0009                   M           NOP
 7121                             630     
 7122                             631     ;       ----------------------------------------------------
 7123                                     ***** BEGIN-POOL *****
 7124 000003FA 000B                       DATA FOR SOURCE-LINE 628
 7125 000003FC 00000000                   DATA FOR SOURCE-LINE 628
 7126                                     ***** END-POOL *****
 7127 00000400                    632     RST_CONFCK_080:
 7128 00000400 D404               633             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
 7129 00000402 6041               634             MOV.W   @R4,R0                                  ;
 7130 00000404 C810               635             TST     #BIT4,R0                                ;
 7131                             636             TST_BIT_ON RST_CONFCK_OK                        ;
 7132 00000406 8B1A                   M           BF      RST_CONFCK_OK
 7133                             637                                                             ;
 7134                             638             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7135 00000408 9003                   M           MOV.W   #10,R0
 7136 0000040A D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7137 0000040C 2101                   M           MOV.W   R0,@R1
 7138                             639             M_BRA   RST_CONFCK_NG                           ;2011-09-14 ADD
 7139 0000040E A013                   M           BRA     RST_CONFCK_NG
 7140 00000410 0009                   M           NOP
 7141                             640     
 7142                             641     ;       -- 2011-09-14 ADD--
 7143                                     ***** BEGIN-POOL *****
 7144 00000412 000A                       DATA FOR SOURCE-LINE 638
 7145 00000414 00000000                   DATA FOR SOURCE-LINE 633
 7146 00000418 00000000                   DATA FOR SOURCE-LINE 638
 7147                                     ***** END-POOL *****
 7148 0000041C                    642     RST_CONFCK_BRK100:
 7149 0000041C D404               643             MOV.L   #_BRKTST_AREA_SIG,R4                    ;//BIT0/BIT4:待機点範囲
 7150 0000041E 6041               644             MOV.W   @R4,R0                                  ;//BIT1:下降(上昇信号はない)
 7151 00000420 C810               645             TST     #BIT4,R0                                ;
 7152                             646             TST_BIT_ON RST_CONFCK_OK                        ;
 7153 00000422 8B0C                   M           BF      RST_CONFCK_OK
 7154                             647     
 7155                             648             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7156 00000424 9003                   M           MOV.W   #10,R0
 7157 00000426 D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7158 00000428 2101                   M           MOV.W   R0,@R1
 7159                             649             M_BRA   RST_CONFCK_NG                           ;
 7160 0000042A A005                   M           BRA     RST_CONFCK_NG
 7161 0000042C 0009                   M           NOP
 7162                             650     
 7163                             651     
 7164                             652     
 7165                                     ***** BEGIN-POOL *****
 7166 0000042E 000A                       DATA FOR SOURCE-LINE 648
 7167 00000430 00000000                   DATA FOR SOURCE-LINE 643
 7168 00000434 00000000                   DATA FOR SOURCE-LINE 648
 7169                                     ***** END-POOL *****
 7170 00000438                    653     RST_CONFCK_NG:
 7171 00000438 E0FF               654             MOV     #-1,R0
 7172                             655             M_BRA   RST_CONFCK_END
 7173 0000043A A001                   M           BRA     RST_CONFCK_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    22
PROGRAM NAME =

 7174 0000043C 0009                   M           NOP
 7175 0000043E                    656     RST_CONFCK_OK:
 7176 0000043E 200A               657             XOR     R0,R0                           ;ﾘｾｯﾄ可能
 7177 00000440                    658     RST_CONFCK_END:
 7178                             659             SUB_END
 7179                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7180 00000440 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7181                             660             M_RTS
 7182 00000442 000B                   M           RTS                             ;RTSの後ろの
 7183 00000444 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7184                             661     
 7185                             662     
 7186                             663     ;       *******************************************
 7187                             664     ;       ***                                     ***
 7188                             665     ;       ***     モード変更                      ***
 7189                             666     ;       ***     (ﾘｾｯﾄ中だけでも良い)            ***
 7190                             667     ;       *******************************************
 7191                             668     ;       INP_MODE(ﾘｾｯﾄ条件に必要)=MODE_SEL INP_MODE=>MODE_SEL
 7192                             669     ;       BIT0:切
 7193                             670     ;       BIT1:寸動・寸動一行程
 7194                             671     ;       BIT2:安全一行程・OPTION安全一行程・一行程
 7195                             672     ;       BIT3:連続・連続ﾀｲﾏ・ｶｳﾝﾀ、連続寸動一行程、連続一行程
 7196                             673     ;       BIT4:OPTION
 7197                             674     ;       BIT5:段取()
 7198                             675     ;       BIT6:強制上昇（待機点復帰）
 7199                             676     ;
 7200                             677     ;       BIT8:連続ﾀｲﾏ(BIT3=1)/寸動一行程(BIT1=1)
 7201                             678     ;       BIT9:連続ｶｳﾝﾀ(BIT3=1)
 7202                             679     ;       BIT10:一行程(BIT2=1)
 7203                             680     ;       BIT11:連続一行程(BIT4=1)
 7204                             681     ;       BIT12:連続寸動一行程(BIT4=1)
 7205                             682     ;       BIT13:
 7206                             683     ;       BIT14
 7207                             684     ;       BIT15
 7208                             685     ;
 7209                             686     ;
 7210 00000448                    687             .ALIGN  4                               ;
 7211 00000448                    688     _MODE_CHANGE:           ;==>ssa_cbmn.src
 7212                             689             SUB_START
 7213 00000448 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7214                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7215                             690     ;       U2b     INP_MODE;       //入力　ﾘｾｯﾄ条件に使用 INP_MODE-->MODE_SEL
 7216                             691     ;       U2b     MODE_SEL;       //ﾘｾｯﾄ時に決定
 7217                             692     ;                               //bit0:切 bit1寸動 bit2:安一(sgl,opt) bit3:連続 bit4:opt b
                                          it5:段取 bit6:待機点復帰
 7218                             693     ;                               //まずbit0~bit7のいずれかがonする　選択未は切(bit0)
 7219                             694     ;                               //bit8~bit15:詳細情報
 7220                             695     ;;;     MOV.L   #_reset_flg,R6                                  ;
 7221                             696     ;;;     MOV.W   @R6,R0                                          ;
 7222                             697     ;;;     TST     R0,R0                                           ;ﾘｾｯﾄ中?
 7223                             698     ;;;     TST_BIT_OF MODE_CHG_EXT                                 ;
 7224                             699     
 7225 0000044A D10B               700             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 7226 0000044C 6011               701             MOV.W   @R1,R0                                          ;
 7227 0000044E C97F               702             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 7228                             703     
 7229 00000450 2008               704             TST     R0,R0                                   ;モード選択なし
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    23
PROGRAM NAME =

 7230                             705             TST_BIT_ON MODE_CHG_050                         ;
 7231 00000452 8B00                   M           BF      MODE_CHG_050
 7232 00000454 CB01               706             OR      #_W1OFF,R0                              ;切
 7233 00000456                    707     MODE_CHG_050:                                           ;(複数個は異常だからここではみない
                                          )
 7234                             708     
 7235 00000456 C801               709             TST     #_W1OFF,R0
 7236                             710             TST_BIT_ON MODE_CHG_800                         ;切
 7237 00000458 8B5D                   M           BF      MODE_CHG_800
 7238                             711     
 7239 0000045A C810               712             TST     #_W1OPT,R0                              ;OPTION?
 7240                             713             TST_BIT_OF MODE_CHG_100                         ;
 7241 0000045C 893E                   M           BT      MODE_CHG_100
 7242                             714     
 7243                             715     ;       ==== OPTION ======(BIT10:一行程 BIT11:連続寸動 BIT12:連寸一 BIT13(安一))
 7244 0000045E D107               716             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7245 00000460 6211               717             MOV.W   @R1,R2                                  ;
 7246 00000462 9306               718             MOV.W   #(BIT14+BIT13+BIT12+BIT11+BIT10),R3     ;
 7247 00000464 2239               719             AND     R3,R2                                   ;
 7248 00000466 2228               720             TST     R2,R2                                   ;
 7249                             721             TST_BIT_ON MODE_CHG_080                         ;(NO 安全一行程以外)
 7250 00000468 8B0A                   M           BF      MODE_CHG_080
 7251                             722     ;       === 選択なし===
 7252 0000046A 9003               723             MOV.W   #_W1OFF,R0                              ;切
 7253 0000046C 222A               724             XOR     R2,R2                                   ;
 7254                             725             M_BRA   MODE_CHG_800                            ;
 7255 0000046E A052                   M           BRA     MODE_CHG_800
 7256 00000470 0009                   M           NOP
 7257                             726     
 7258                             727     
 7259                             728     ;       =====選択があれば安全一行程か一行程====
 7260                             729     ;       =====選択があれば安全一行程か一行程か連寸一か連続一行程====
 7261                                     ***** BEGIN-POOL *****
 7262 00000472 7C00                       DATA FOR SOURCE-LINE 718
 7263 00000474 0001                       DATA FOR SOURCE-LINE 723
 7264 00000476 0000                       ALIGNMENT CODE
 7265 00000478 00000000                   DATA FOR SOURCE-LINE 700
 7266 0000047C 00000000                   DATA FOR SOURCE-LINE 716
 7267                                     ***** END-POOL *****
 7268 00000480                    730     MODE_CHG_080:
 7269                             731     ;;2003-05-24 一行程追加 MOV.W   #BIT13,R3                               ;安全一行程
 7270                             732     ;;              XOR     R2,R2                                   ;
 7271                             733     ;;              MOV.W   #_W1SGL,R0                              ;安全一行程に変更
 7272                             734     ;;              M_BRA   MODE_CHG_800                            ;
 7273                             735     
 7274                             736     ;       ==== 2003-05-24 =====
 7275 00000480 9310               737             MOV.W   #BIT13,R3                                       ;安全一行程
 7276 00000482 2238               738             TST     R3,R2                                           ;
 7277                             739             TST_BIT_ON MODE_CHG_080_SGL                             ;
 7278 00000484 8B1E                   M           BF      MODE_CHG_080_SGL
 7279                             740     
 7280 00000486 930E               741             MOV.W   #BIT10,R3                                       ;一行程
 7281 00000488 2238               742             TST     R3,R2                                           ;
 7282                             743             TST_BIT_ON MODE_CHG_080_SNG                             ;
 7283 0000048A 8B20                   M           BF      MODE_CHG_080_SNG
 7284                             744     
 7285                             745     ;       ==== 2004-01-26
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    24
PROGRAM NAME =

 7286 0000048C D107               746             MOV.L   #_WFSYS_OPT_CNT_SEL,R1                          ;
 7287 0000048E 6011               747             MOV.W   @R1,R0                                          ;
 7288 00000490 8801               748             CMP/EQ  #1,R0                                           ;連寸一有効?
 7289 00000492 8B12               749             BF      MODE_CHG_OPT090                                 ;
 7290                             750     
 7291 00000494 9308               751             MOV.W   #BIT11,R3                                       ;連続一行程
 7292 00000496 2238               752             TST     R3,R2                                           ;
 7293                             753             TST_BIT_ON MODE_CHG_OPT050                              ;
 7294 00000498 8B0A                   M           BF      MODE_CHG_OPT050
 7295                             754     
 7296 0000049A 9306               755             MOV.W   #BIT12,R3                                       ;連寸一行程
 7297 0000049C 2238               756             TST     R3,R2                                           ;
 7298                             757             TST_BIT_ON MODE_CHG_OPT050                              ;
 7299 0000049E 8B07                   M           BF      MODE_CHG_OPT050
 7300                             758             M_BRA   MODE_CHG_OPT090                                 ;
 7301 000004A0 A00B                   M           BRA     MODE_CHG_OPT090
 7302 000004A2 0009                   M           NOP
 7303                             759     
 7304                                     ***** BEGIN-POOL *****
 7305 000004A4 2000                       DATA FOR SOURCE-LINE 737
 7306 000004A6 0400                       DATA FOR SOURCE-LINE 741
 7307 000004A8 0800                       DATA FOR SOURCE-LINE 751
 7308 000004AA 1000                       DATA FOR SOURCE-LINE 755
 7309 000004AC 00000000                   DATA FOR SOURCE-LINE 746
 7310                                     ***** END-POOL *****
 7311 000004B0                    760     MODE_CHG_OPT050
 7312 000004B0 9002               761             MOV.W   #_W1CNT,R0                                      ;連続の運転の部類にいれる
 7313 000004B2 203B               762             OR      R3,R0                                           ;BIT11orBIT12
 7314                             763             M_BRA   MODE_CHG_800                                    ;
 7315 000004B4 A02F                   M           BRA     MODE_CHG_800
 7316 000004B6 0009                   M           NOP
 7317                             764     
 7318                             765     ;       === 選択なしと同じ扱い===
 7319                                     ***** BEGIN-POOL *****
 7320 000004B8 0008                       DATA FOR SOURCE-LINE 761
 7321                                     ***** END-POOL *****
 7322 000004BA                    766     MODE_CHG_OPT090
 7323 000004BA 9002               767             MOV.W   #_W1OFF,R0                                      ;切
 7324 000004BC 222A               768             XOR     R2,R2                                           ;
 7325                             769             M_BRA   MODE_CHG_800                                    ;
 7326 000004BE A02A                   M           BRA     MODE_CHG_800
 7327 000004C0 0009                   M           NOP
 7328                             770     
 7329                             771     ;       ==== 安全一行程(OPTIONも)===
 7330                                     ***** BEGIN-POOL *****
 7331 000004C2 0001                       DATA FOR SOURCE-LINE 767
 7332                                     ***** END-POOL *****
 7333 000004C4                    772     MODE_CHG_080_SGL:
 7334 000004C4 222A               773             XOR     R2,R2                                           ;S
 7335 000004C6 9001               774             MOV.W   #_W1SGL,R0                                      ;安全一行程に変更
 7336                             775             M_BRA   MODE_CHG_800                                    ;
 7337 000004C8 A025                   M           BRA     MODE_CHG_800
 7338 000004CA 0009                   M           NOP
 7339                             776     
 7340                                     ***** BEGIN-POOL *****
 7341 000004CC 0004                       DATA FOR SOURCE-LINE 774
 7342                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    25
PROGRAM NAME =

 7343 000004CE                    777     MODE_CHG_080_SNG:                                               ;SINGLE:一行程もﾓｰﾄﾞは安全
                                          一行程として扱う
 7344 000004CE 9203               778             MOV.W   #BIT10,R2                                       ;一行程
 7345 000004D0 9003               779             MOV.W   #_W1SGL,R0                                      ;
 7346 000004D2 202B               780             OR      R2,R0                                           ;BIT10+SGL
 7347                             781             M_BRA   MODE_CHG_800                                    ;
 7348 000004D4 A01F                   M           BRA     MODE_CHG_800
 7349 000004D6 0009                   M           NOP
 7350                             782     
 7351                                     ***** BEGIN-POOL *****
 7352 000004D8 0400                       DATA FOR SOURCE-LINE 778
 7353 000004DA 0004                       DATA FOR SOURCE-LINE 779
 7354                                     ***** END-POOL *****
 7355 000004DC                    783     MODE_CHG_100:                                           ;
 7356 000004DC C808               784             TST     #_W1CNT,R0                              ;連続
 7357                             785             TST_BIT_OF MODE_CHG_150                         ;
 7358 000004DE 8909                   M           BT      MODE_CHG_150
 7359                             786     ;       ==== 連続 =======
 7360 000004E0 D103               787             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7361 000004E2 6211               788             MOV.W   @R1,R2                                  ;
 7362 000004E4 9303               789             MOV.W   #(BIT9+BIT8),R3                         ;
 7363 000004E6 2239               790             AND     R3,R2                                   ;
 7364 000004E8 202B               791             OR      R2,R0                                   ;R0(W1CNT)
 7365                             792             M_BRA   MODE_CHG_800                            ;
 7366 000004EA A014                   M           BRA     MODE_CHG_800
 7367 000004EC 0009                   M           NOP
 7368                             793     
 7369                                     ***** BEGIN-POOL *****
 7370 000004EE 0300                       DATA FOR SOURCE-LINE 789
 7371 000004F0 00000000                   DATA FOR SOURCE-LINE 787
 7372                                     ***** END-POOL *****
 7373 000004F4                    794     MODE_CHG_150:                                           ;
 7374 000004F4 C802               795             TST     #_W1INC,R0                              ;寸動?
 7375                             796             TST_BIT_OF MODE_CHG_200                         ;
 7376 000004F6 890D                   M           BT      MODE_CHG_200
 7377                             797     ;       ==== 寸動 =======
 7378 000004F8 D105               798             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7379 000004FA 6211               799             MOV.W   @R1,R2                                  ;
 7380 000004FC 9405               800             MOV.W   #BIT3,R4                                ;
 7381 000004FE 2248               801             TST     R4,R2                                   ;
 7382                             802             TST_BIT_OF MODE_CHG_800                         ;
 7383 00000500 8909                   M           BT      MODE_CHG_800
 7384 00000502 9203               803             MOV.W   #BIT8,R2                                ;寸一
 7385 00000504 202B               804             OR      R2,R0                                   ;
 7386                             805             M_BRA   MODE_CHG_800                            ;
 7387 00000506 A006                   M           BRA     MODE_CHG_800
 7388 00000508 0009                   M           NOP
 7389                             806     
 7390                                     ***** BEGIN-POOL *****
 7391 0000050A 0008                       DATA FOR SOURCE-LINE 800
 7392 0000050C 0100                       DATA FOR SOURCE-LINE 803
 7393 0000050E 0000                       ALIGNMENT CODE
 7394 00000510 00000000                   DATA FOR SOURCE-LINE 798
 7395                                     ***** END-POOL *****
 7396 00000514                    807     MODE_CHG_200:                                           ;
 7397 00000514 0009               808             NOP                                             ;
 7398 00000516                    809     MODE_CHG_800:                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    26
PROGRAM NAME =

 7399 00000516 D102               810             MOV.L   #_INP_MODE,R1                           ;一行程はOPTION+SGL
 7400 00000518 2101               811             MOV.W   R0,@R1                                  ;OPTIONの安全一はSGLだけ
 7401 0000051A                    812     MODE_CHG_EXT:                                           ;
 7402                             813     
 7403                             814             SUB_END
 7404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7405 0000051A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7406                             815             M_RTS
 7407 0000051C 000B                   M           RTS                             ;RTSの後ろの
 7408 0000051E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7409                             816     
 7410                             817     ;       ***************************************************
 7411                             818     ;       ***                                             ***
 7412                             819     ;       ***     各モードでのﾘｾｯﾄ条件に必要な位置信号    ***
 7413                             820     ;       ***     _INP_MODEと_MODE_SELを使い分ける        ***
 7414                             821     ;       ***     また回転とその他で待機点が異なる        ***
 7415                             822     ;       ***     ()                                      ***
 7416                             823     ;       ***************************************************
 7417                                     ***** BEGIN-POOL *****
 7418 00000520 00000000                   DATA FOR SOURCE-LINE 810
 7419                                     ***** END-POOL *****
 7420 00000524                    824     _MODE_AREA_MAKE:                ;ssa_ctrl.src 待機点AREA作成
 7421                             825             SUB_START
 7422 00000524 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7423                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7424 00000526 D102               826             MOV.L   #_SET1_MRTION_SEL1,R1   ;bit0~bit3
 7425                             827             SUB_END
 7426                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7427 00000528 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7428                             828             M_RTS
 7429 0000052A 000B                   M           RTS                             ;RTSの後ろの
 7430 0000052C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7431                             829     
 7432                             830     
 7433                             831     
 7434                             832     ;       *******************************************
 7435                             833     ;       ***                                     ***
 7436                             834     ;       ***     モード制御                      ***
 7437                             835     ;       ***                                     ***
 7438                             836     ;       *******************************************
 7439                             837     
 7440                                     ***** BEGIN-POOL *****
 7441 0000052E 0000                       ALIGNMENT CODE
 7442 00000530 00000000                   DATA FOR SOURCE-LINE 826
 7443                                     ***** END-POOL *****
 7444 00000534                    838     _MODE_CTRL:             ;==>ssa_cbmn.src
 7445                             839             SUB_START                       ;
 7446 00000534 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7447                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7448                             840     
 7449                             841     ;       -------------- EPﾁｪｯｸ 2014-06-04 ------------
 7450                             842             FAR_JSR #_EP_SENCER_CHECK,R0
 7451 00000536 D004                   M           MOV.L   #_EP_SENCER_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7452 00000538 400B                   M           JSR     @R0                     ;
 7453 0000053A 0009                   M           NOP                                     ;
 7454 0000053C D103               843             MOV.L   #_EPCHK_FLG,R1                  ;
 7455 0000053E 6011               844             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    27
PROGRAM NAME =

 7456 00000540 C801               845             TST     #BIT0,R0                        ;動作中
 7457                             846             TST_BIT_OF MODE_CTL_100                 ;
 7458 00000542 8905                   M           BT      MODE_CTL_100
 7459                             847             M_BRA   MODE_CTL_EXIT                   ;
 7460 00000544 A04B                   M           BRA     MODE_CTL_EXIT
 7461 00000546 0009                   M           NOP
 7462                             848     
 7463                                     ***** BEGIN-POOL *****
 7464 00000548 00000000                   DATA FOR SOURCE-LINE 842
 7465 0000054C 00000000                   DATA FOR SOURCE-LINE 843
 7466                                     ***** END-POOL *****
 7467 00000550                    849     MODE_CTL_100
 7468                             850     
 7469                             851     ;       ---------- 2010-08-20[制動モード]---------
 7470                             852             FAR_JSR #_BRKTST_CTRL,R0        ;
 7471 00000550 D026                   M           MOV.L   #_BRKTST_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7472 00000552 400B                   M           JSR     @R0                     ;
 7473 00000554 0009                   M           NOP                                     ;
 7474                             853     
 7475                             854              .AIF   1 EQ 1  ;
 7476                             855 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7477                             856              .AENDI
 7478                             857     ;       ---------- 2016-10-31(2016-05-11)----------
 7479                             858             FAR_JSR #_POSCTRL_CANSEL_RESET,R0
 7480 00000556 D026                   M           MOV.L   #_POSCTRL_CANSEL_RESET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7481 00000558 400B                   M           JSR     @R0                     ;
 7482 0000055A 0009                   M           NOP                                     ;
 7483                             859     
 7484                             860     ;       -------------ＳＷ情報でモードによっては異常にするため[2014-02-20 R02R03]----------
                                          -----
 7485                             861             FAR_JSR #_MASK2_SAFTY_MAK,R0            ;[SWの条件だけを作る]
 7486 0000055C D025                   M           MOV.L   #_MASK2_SAFTY_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7487 0000055E 400B                   M           JSR     @R0                     ;
 7488 00000560 0009                   M           NOP                                     ;
 7489                             862             FAR_JSR #_SFTY_MUTING_MODE_ERR,R0       ;
 7490 00000562 D025                   M           MOV.L   #_SFTY_MUTING_MODE_ERR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7491 00000564 400B                   M           JSR     @R0                     ;
 7492 00000566 0009                   M           NOP                                     ;
 7493                             863     
 7494                             864     
 7495 00000568 D124               865             MOV.L   #_reset_flg,R1          ;
 7496 0000056A 6011               866             MOV.W   @R1,R0                  ;
 7497 0000056C 2008               867             TST     R0,R0                   ;
 7498                             868             TST_BIT_ON MODE_CTL_EXIT        ;
 7499 0000056E 8B36                   M           BF      MODE_CTL_EXIT
 7500                             869     
 7501 00000570 D123               870             MOV.L   #_SELF_FLG,R1           ;//BIT0:ｾﾙﾌﾁｪｯｸ中 //BIT7
 7502 00000572 6011               871             MOV.W   @R1,R0                  ;
 7503 00000574 D223               872             MOV.L   #_SELF_COM,R2           ;//BIT0:ｾﾙﾌﾁｪｯｸ指令
 7504 00000576 6321               873             MOV.W   @R2,R3                  ;
 7505 00000578 203B               874             OR      R3,R0                   ;
 7506 0000057A C801               875             TST     #BIT0,R0                ;ｾﾙﾌ中またはｾﾙﾌｺﾏﾝﾄﾞON
 7507                             876             TST_BIT_ON MODE_CTL_EXIT        ;
 7508 0000057C 8B2F                   M           BF      MODE_CTL_EXIT
 7509                             877     
 7510 0000057E D122               878             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 7511 00000580 6011               879             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    28
PROGRAM NAME =

 7512 00000582 2008               880             TST     R0,R0                   ;
 7513                             881             TST_BIT_ON MODE_CTL_ET900       ;2003-06-06[2-3]
 7514 00000584 8B21                   M           BF      MODE_CTL_ET900
 7515                             882     
 7516 00000586 D121               883             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 7517 00000588 6011               884             MOV.W   @R1,R0                  ;2003-06-06
 7518 0000058A 2008               885             TST     R0,R0                   ;
 7519                             886             TST_BIT_ON MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-4]
 7520 0000058C 8B1D                   M           BF      MODE_CTL_ET900
 7521                             887     
 7522                             888     
 7523                             889             FAR_JSR #_ANTI_CHEAK,R0         ;(ｾﾙﾌﾁｪｯｸ開始条件､ｾﾙﾌﾁｪｯｸの開始)
 7524 0000058E D020                   M           MOV.L   #_ANTI_CHEAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7525 00000590 400B                   M           JSR     @R0                     ;
 7526 00000592 0009                   M           NOP                                     ;
 7527                             890     
 7528                             891     
 7529                             892     
 7530                             893     ;       ------- 2014-06-06[EPｾﾝｻﾁｪｯｸ]
 7531 00000594 D11F               894             MOV.L   #_EPCHK_FLG,R1          ;
 7532 00000596 6011               895             MOV.W   @R1,R0                  ;
 7533 00000598 D11F               896             MOV.L   #_EPCHK_COM,R1          ;
 7534 0000059A 6211               897             MOV.W   @R1,R2                  ;
 7535 0000059C 202B               898             OR      R2,R0                   ;
 7536 0000059E C801               899             TST     #BIT0,R0                ;
 7537                             900             TST_BIT_ON MODE_CTL_EXIT        ;
 7538 000005A0 8B1D                   M           BF      MODE_CTL_EXIT
 7539                             901     
 7540                             902     
 7541                             903     ;       ------- 2010-08-20[制動モード]
 7542 000005A2 D11E               904             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 7543 000005A4 6011               905             MOV.W   @R1,R0                  ;
 7544 000005A6 C801               906             TST     #BIT0,R0                ;
 7545                             907             TST_BIT_ON MODE_CTL_EXIT        ;
 7546 000005A8 8B19                   M           BF      MODE_CTL_EXIT
 7547                             908     
 7548                             909     
 7549                             910     
 7550                             911     
 7551 000005AA D11D               912             MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
 7552 000005AC 6011               913             MOV.W   @R1,R0                  ;
 7553 000005AE C801               914             TST     #BIT0,R0                ;内部準備完了
 7554                             915             TST_BIT_OF MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-5]
 7555 000005B0 890B                   M           BT      MODE_CTL_ET900
 7556                             916     
 7557                             917             FAR_JSR #_TEPA_PLSCNT_CHK,R0    ;
 7558 000005B2 D01C                   M           MOV.L   #_TEPA_PLSCNT_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7559 000005B4 400B                   M           JSR     @R0                     ;
 7560 000005B6 0009                   M           NOP                                     ;
 7561                             918     
 7562                             919     ;       --------- 2007-12-24 --------
 7563                             920             FAR_JSR #_LOT_CNT_CNT,R0        ;
 7564 000005B8 D01B                   M           MOV.L   #_LOT_CNT_CNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7565 000005BA 400B                   M           JSR     @R0                     ;
 7566 000005BC 0009                   M           NOP                                     ;
 7567                             921     
 7568                             922     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    29
PROGRAM NAME =

 7569                             923     ;;;;;;;2014-02-20       FAR_JSR #_MASK2_SAFTY_MAK,R0    ;[SWの条件だけを作る]
 7570                             924     
 7571                             925             FAR_JSR #_RDY_CHEAK,R0          ;運転動作
 7572 000005BE D01B                   M           MOV.L   #_RDY_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7573 000005C0 400B                   M           JSR     @R0                     ;
 7574 000005C2 0009                   M           NOP                                     ;
 7575                             926             FAR_JSR #_RDY_HOLDSTP_FLGOUT,R0
 7576 000005C4 D01A                   M           MOV.L   #_RDY_HOLDSTP_FLGOUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7577 000005C6 400B                   M           JSR     @R0                     ;
 7578 000005C8 0009                   M           NOP                                     ;
 7579                             927     
 7580 000005CA                    928     MODE_CTL_ET900:                         ;
 7581                             929     
 7582                             930     ;       ==== 2003-06-06[2-2] ==
 7583 000005CA D11A               931             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7584 000005CC 6011               932             MOV.W   @R1,R0                          ;
 7585                             933     ;;[2009-10-07下振子]    TST     #_DMATH_CNTROT,R0               ;
 7586 000005CE C805               934             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;回転or往復
 7587                             935             TST_BIT_OF MODE_CTL_EXIT                ;
 7588 000005D0 8905                   M           BT      MODE_CTL_EXIT
 7589                             936             FAR_JSR #_DAI_MOSTPOS_SMPLE,R0          ;
 7590 000005D2 D019                   M           MOV.L   #_DAI_MOSTPOS_SMPLE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7591 000005D4 400B                   M           JSR     @R0                     ;
 7592 000005D6 0009                   M           NOP                                     ;
 7593                             937     
 7594                             938     
 7595                             939             FAR_JSR #_KJPHOS_SAMPLING1,R0   ;2004-07-05
 7596 000005D8 D018                   M           MOV.L   #_KJPHOS_SAMPLING1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7597 000005DA 400B                   M           JSR     @R0                     ;
 7598 000005DC 0009                   M           NOP                                     ;
 7599                             940     
 7600 000005DE                    941     MODE_CTL_EXIT:                          ;
 7601                             942     
 7602                             943     
 7603                             944              .AIF   1 EQ 1  ;
 7604                             945 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7605                             946              .AENDI
 7606                             947     
 7607                             948             FAR_JSR #_DEBUG_CMPERR_STSMAK,R0        ;2016-08-09
 7608 000005DE D018                   M           MOV.L   #_DEBUG_CMPERR_STSMAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7609 000005E0 400B                   M           JSR     @R0                     ;
 7610 000005E2 0009                   M           NOP                                     ;
 7611                             949     
 7612                             950     
 7613                             951             SUB_END
 7614                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7615 000005E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7616                             952             M_RTS
 7617 000005E6 000B                   M           RTS                             ;RTSの後ろの
 7618 000005E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7619                             953     
 7620                             954     ;       *******************************************
 7621                             955     ;       ***             2016-08-09 調査用       ***
 7622                             956     ;       *******************************************
 7623                             957             .IMPORT _CPUB_DBG_MONI_STP      ;2016-08-12
 7624                                     ***** BEGIN-POOL *****
 7625 000005EA 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    30
PROGRAM NAME =

 7626 000005EC 00000000                   DATA FOR SOURCE-LINE 852
 7627 000005F0 00000000                   DATA FOR SOURCE-LINE 858
 7628 000005F4 00000000                   DATA FOR SOURCE-LINE 861
 7629 000005F8 00000000                   DATA FOR SOURCE-LINE 862
 7630 000005FC 00000000                   DATA FOR SOURCE-LINE 865
 7631 00000600 00000000                   DATA FOR SOURCE-LINE 870
 7632 00000604 00000000                   DATA FOR SOURCE-LINE 872
 7633 00000608 00000000                   DATA FOR SOURCE-LINE 878
 7634 0000060C 00000000                   DATA FOR SOURCE-LINE 883
 7635 00000610 00000000                   DATA FOR SOURCE-LINE 889
 7636 00000614 00000000                   DATA FOR SOURCE-LINE 894
 7637 00000618 00000000                   DATA FOR SOURCE-LINE 896
 7638 0000061C 00000000                   DATA FOR SOURCE-LINE 904
 7639 00000620 00000000                   DATA FOR SOURCE-LINE 912
 7640 00000624 00000000                   DATA FOR SOURCE-LINE 917
 7641 00000628 00000000                   DATA FOR SOURCE-LINE 920
 7642 0000062C 00000000                   DATA FOR SOURCE-LINE 925
 7643 00000630 00000000                   DATA FOR SOURCE-LINE 926
 7644 00000634 00000000                   DATA FOR SOURCE-LINE 931
 7645 00000638 00000000                   DATA FOR SOURCE-LINE 936
 7646 0000063C 00000000                   DATA FOR SOURCE-LINE 939
 7647 00000640 00000000                   DATA FOR SOURCE-LINE 948
 7648                                     ***** END-POOL *****
 7649 00000644                    958     _DEBUG_CMPERR_STSMAK                    ;2016-08-09
 7650                             959             SUB_START
 7651 00000644 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7652                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7653 00000646 200A               960             XOR     R0,R0
 7654 00000648 D112               961             MOV.L   #_STOP_LATCH_B,R1               ;
 7655 0000064A 6211               962             MOV.W   @R1,R2                          ;
 7656 0000064C 2228               963             TST     R2,R2                           ;
 7657                             964             TST_BIT_OF DEBUG_CMPERR_STSMK10         ;
 7658 0000064E 8900                   M           BT      DEBUG_CMPERR_STSMK10
 7659 00000650 CB01               965             OR      #BIT0,R0                        ;257.0/327.0
 7660 00000652                    966     DEBUG_CMPERR_STSMK10
 7661                             967     
 7662 00000652 D111               968             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
 7663 00000654 6211               969             MOV.W   @R1,R2
 7664 00000656 2228               970             TST     R2,R2                           ;
 7665                             971             TST_BIT_OF DEBUG_CMPERR_STSMK20         ;
 7666 00000658 8900                   M           BT      DEBUG_CMPERR_STSMK20
 7667 0000065A CB02               972             OR      #BIT1,R0                        ;257.1/327.1HANDはcpuaから見てだけをﾓﾆﾀ
 7668 0000065C                    973     DEBUG_CMPERR_STSMK20
 7669                             974     
 7670                             975     
 7671                             976             .AIF    0 EQ    0
 7672 0000065C D10F               977 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7673                             978             .AELSE
 7674                             979             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7675                             980             .AENDI
 7676 0000065E 6211               981             MOV.W   @R1,R2
 7677 00000660 2228               982             TST     R2,R2                           ;
 7678                             983             TST_BIT_OF DEBUG_CMPERR_STSMK40         ;
 7679 00000662 8900                   M           BT      DEBUG_CMPERR_STSMK40
 7680 00000664 CB04               984             OR      #BIT2,R0                        ;257.2HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7681 00000666                    985     DEBUG_CMPERR_STSMK40
 7682                             986     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    31
PROGRAM NAME =

 7683                             987             .AIF    0 EQ    0
 7684 00000666 D10E               988 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7685                             989             .AELSE
 7686                             990             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7687                             991             .AENDI
 7688 00000668 6211               992             MOV.W   @R1,R2
 7689 0000066A 2228               993             TST     R2,R2                           ;
 7690                             994             TST_BIT_OF DEBUG_CMPERR_STSMK60         ;
 7691 0000066C 8900                   M           BT      DEBUG_CMPERR_STSMK60
 7692 0000066E CB08               995             OR      #BIT3,R0                        ;257.3HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7693 00000670                    996     DEBUG_CMPERR_STSMK60
 7694                             997     
 7695                             998     
 7696                             999             .AIF    0 EQ    0
 7697 00000670 D10C              1000 C           MOV.L   #_SH4_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7698                            1001             .AELSE
 7699                            1002             MOV.L   #_SH2_HD_STEP_END,R1            ;
 7700                            1003             .AENDI
 7701 00000672 6211              1004             MOV.W   @R1,R2
 7702 00000674 2228              1005             TST     R2,R2                           ;
 7703                            1006             TST_BIT_OF DEBUG_CMPERR_STSMK80         ;
 7704 00000676 8900                   M           BT      DEBUG_CMPERR_STSMK80
 7705 00000678 CB10              1007             OR      #BIT4,R0                        ;257.4HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7706 0000067A                   1008     DEBUG_CMPERR_STSMK80
 7707                            1009     
 7708                            1010     
 7709                            1011             .AIF    0 EQ    0
 7710 0000067A D10B              1012 C           MOV.L   #_SH2_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7711                            1013             .AELSE
 7712                            1014             MOV.L   #_SH4_HD_STEP_END,R1            ;
 7713                            1015             .AENDI
 7714 0000067C 6211              1016             MOV.W   @R1,R2
 7715 0000067E 2228              1017             TST     R2,R2                           ;
 7716                            1018             TST_BIT_OF DEBUG_CMPERR_STSMK100        ;
 7717 00000680 8900                   M           BT      DEBUG_CMPERR_STSMK100
 7718 00000682 CB20              1019             OR      #BIT5,R0                        ;257.5HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7719 00000684                   1020     DEBUG_CMPERR_STSMK100
 7720                            1021     
 7721                            1022     
 7722                            1023     
 7723                            1024     
 7724 00000684 D109              1025             MOV.L   #_CMPSTEP_STEP_END,R1   ;
 7725 00000686 6211              1026             MOV.W   @R1,R2
 7726 00000688 2228              1027             TST     R2,R2                           ;
 7727                            1028             TST_BIT_OF DEBUG_CMPERR_STSMK150        ;
 7728 0000068A 8900                   M           BT      DEBUG_CMPERR_STSMK150
 7729 0000068C CB40              1029             OR      #BIT6,R0                        ;257.6/327.6 END
 7730 0000068E                   1030     DEBUG_CMPERR_STSMK150
 7731                            1031     
 7732                            1032     
 7733                            1033     ;;;;;;;;;;;;2020-05-07  MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),
                                          4
 7734                            1034     ;;;;;;;;;;;;2020-05-07  MOV.W   R0,@R1
 7735                            1035     
 7736                            1036             .AIF    0 EQ    0
 7737                            1037 C   
 7738                            1038             .AELSE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    32
PROGRAM NAME =

 7739                            1039     
 7740                            1040             MOV.L   #_CNT_STOP_WAIT_TIM,R1
 7741                            1041             MOV.W   @R1,R0
 7742                            1042             MOV.L   #_CPUB_DBG_MONI_STP,R1  ;2016-08-12
 7743                            1043             MOV.W   R0,@R1                  ;
 7744                            1044     
 7745                            1045             MOV.L   #_CNT_STOP_DBG_CNT,R1   ;//2016-08-22 CHECK
 7746                            1046             MOV.W   @R1,R0
 7747                            1047             MOV.L   #_CPUB_DBG_MONI_CNT,R1  ;2016-08-22
 7748                            1048             MOV.W   R0,@R1                  ;
 7749                            1049     
 7750                            1050             .AENDI
 7751                            1051     
 7752                            1052             SUB_END
 7753                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7754 0000068E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7755                            1053             M_RTS
 7756 00000690 000B                   M           RTS                             ;RTSの後ろの
 7757 00000692 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7758                            1054     
 7759                            1055     ;       ***************************************************
 7760                            1056     ;       ***                                             ***
 7761                            1057     ;       ***     再起動防止OFF→ON条件,ON→OFF(ｾﾙﾌﾁｪｯｸ)  ***
 7762                            1058     ;       ***                                             ***
 7763                            1059     ;       ***************************************************
 7764                            1060     ;       Output ANTI-SIGNAL
 7765                            1061     ;       Output IN_RDY_FLG
 7766                                     ***** BEGIN-POOL *****
 7767 00000694 00000000                   DATA FOR SOURCE-LINE 961
 7768 00000698 00000000                   DATA FOR SOURCE-LINE 968
 7769 0000069C 00000000                   DATA FOR SOURCE-LINE 977
 7770 000006A0 00000000                   DATA FOR SOURCE-LINE 988
 7771 000006A4 00000000                   DATA FOR SOURCE-LINE 1000
 7772 000006A8 00000000                   DATA FOR SOURCE-LINE 1012
 7773 000006AC 00000000                   DATA FOR SOURCE-LINE 1025
 7774                                     ***** END-POOL *****
 7775 000006B0                   1062     _ANTI_CHEAK:
 7776                            1063             SUB_START
 7777 000006B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7778                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7779                            1064     
 7780 000006B2 D114              1065             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 7781 000006B4 6011              1066             MOV.W   @R1,R0                  ;
 7782 000006B6 C810              1067             TST     #_WOANT,R0              ;ANTI
 7783                            1068             TST_BIT_ON ANTI_CHK_0500        ;
 7784 000006B8 8B46                   M           BF      ANTI_CHK_0500
 7785                            1069     
 7786                            1070     ;       ===================================
 7787                            1071     ;       ===     ANTI - OFF 中           ===
 7788                            1072     ;       ===     ANTI - ON またはｾﾙﾌﾁｪｯｸ ===
 7789                            1073     ;       ===================================
 7790 000006BA D113              1074             MOV.L   #_MODE_SEL,R1                   ;
 7791 000006BC 6011              1075             MOV.W   @R1,R0                          ;
 7792 000006BE C801              1076             TST     #_W1OFF,R0                      ;切?
 7793                            1077             TST_BIT_ON ANTI_CHK_EXIT                ;ﾘｾｯﾄ不可
 7794 000006C0 8B4C                   M           BF      ANTI_CHK_EXIT
 7795                            1078     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    33
PROGRAM NAME =

 7796                            1079     ;;;全モードセルフチェックを行う
 7797                            1080     ;;;2006-05-09   MOV.W   #(_W1DUP+_W1DIC+_W1INC),R1      ;
 7798                            1081     ;;;2006-05-09   TST     R1,R0                           ;
 7799                            1082     ;;;2006-05-09   TST_BIT_ON ANTI_CHK_0100                ;寸動等
 7800                            1083     
 7801 000006C2 D112              1084             MOV.L   #_SELF_FLG,R1                   ;
 7802 000006C4 6011              1085             MOV.W   @R1,R0                          ;
 7803 000006C6 C880              1086             TST     #BIT7,R0                        ;ｾﾙﾌﾁｪｯｸ完了?
 7804                            1087             TST_BIT_OF ANTI_CHK_0150                ;(ｾﾙﾌﾁｪｯｸ未完了)
 7805 000006C8 892E                   M           BT      ANTI_CHK_0150
 7806                            1088     
 7807 000006CA                   1089     ANTI_CHK_0100:                                  ;
 7808                            1090             FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 7809 000006CA D011                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7810 000006CC 400B                   M           JSR     @R0                     ;
 7811 000006CE 0009                   M           NOP                                     ;
 7812                            1091             FAR_JSR #_ANTI_ON,R1                    ;ANTI-ON
 7813 000006D0 D110                   M           MOV.L   #_ANTI_ON,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7814 000006D2 410B                   M           JSR     @R1                     ;
 7815 000006D4 0009                   M           NOP                                     ;
 7816                            1092             MEM1_DATA_SET MEM=_IN_RDY_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2        ;内部準備
                                          完了
 7817 000006D6 D110                   M           MOV.L   #_IN_RDY_FLG,R1         ;
 7818 000006D8 9212                   M           MOV.W   #BIT0,R2                ;
 7819 000006DA 2121                   M           MOV.W   R2,@R1  ;
 7820                            1093     
 7821                            1094     ;       ------ 2006-04-10 ------
 7822                            1095             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7823 000006DC D10F                   M           MOV.L   #_SELF_COM,R1           ;
 7824 000006DE 9210                   M           MOV.W   #0,R2           ;
 7825 000006E0 2121                   M           MOV.W   R2,@R1  ;
 7826                            1096             MEM1_DATA_SET MEM=_SELF_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7827 000006E2 D10A                   M           MOV.L   #_SELF_FLG,R1           ;
 7828 000006E4 920D                   M           MOV.W   #0,R2           ;
 7829 000006E6 2121                   M           MOV.W   R2,@R1  ;
 7830                            1097     
 7831                            1098     
 7832                            1099     ;       -----REQ-ON--------
 7833 000006E8 D10D              1100             MOV.L   #_EPCHK_FLG,R1          ;
 7834 000006EA 6011              1101             MOV.W   @R1,R0                  ;
 7835 000006EC C880              1102             TST     #BIT7,R0                ;
 7836                            1103             TST_BIT_ON ANTI_CHK_0130        ;正常完了している
 7837 000006EE 8B05                   M           BF      ANTI_CHK_0130
 7838                            1104             MEM1_DATA_SET MEM=_EPCHK_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;
 7839 000006F0 D10C                   M           MOV.L   #_EPCHK_COM,R1          ;
 7840 000006F2 9205                   M           MOV.W   #BIT0,R2                ;
 7841 000006F4 2121                   M           MOV.W   R2,@R1  ;
 7842                            1105             MEM1_DATA_SET MEM=_EPCHK_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;
 7843 000006F6 D10A                   M           MOV.L   #_EPCHK_FLG,R1          ;
 7844 000006F8 9203                   M           MOV.W   #0,R2           ;
 7845 000006FA 2121                   M           MOV.W   R2,@R1  ;
 7846 000006FC                   1106     ANTI_CHK_0130:
 7847                            1107     
 7848                            1108     
 7849                            1109     
 7850                            1110             M_BRA   ANTI_CHK_EXIT                   ;
 7851 000006FC A02E                   M           BRA     ANTI_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    34
PROGRAM NAME =

 7852 000006FE 0009                   M           NOP
 7853                            1111     
 7854                                     ***** BEGIN-POOL *****
 7855 00000700 0001                       DATA FOR SOURCE-LINE 1092,1104
 7856 00000702 0000                       DATA FOR SOURCE-LINE 1095,1096,1105
 7857 00000704 00000000                   DATA FOR SOURCE-LINE 1065
 7858 00000708 00000000                   DATA FOR SOURCE-LINE 1074
 7859 0000070C 00000000                   DATA FOR SOURCE-LINE 1084,1096
 7860 00000710 00000000                   DATA FOR SOURCE-LINE 1090
 7861 00000714 00000000                   DATA FOR SOURCE-LINE 1091
 7862 00000718 00000000                   DATA FOR SOURCE-LINE 1092
 7863 0000071C 00000000                   DATA FOR SOURCE-LINE 1095
 7864 00000720 00000000                   DATA FOR SOURCE-LINE 1100,1105
 7865 00000724 00000000                   DATA FOR SOURCE-LINE 1104
 7866                                     ***** END-POOL *****
 7867 00000728                   1112     ANTI_CHK_0150:
 7868                            1113     
 7869                            1114             FAR_JSR #_SELF_START_CONF,R1            ;ANS R0=00(ｾﾙﾌﾁｪｯｸ開始可能)
 7870 00000728 D105                   M           MOV.L   #_SELF_START_CONF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7871 0000072A 410B                   M           JSR     @R1                     ;
 7872 0000072C 0009                   M           NOP                                     ;
 7873 0000072E 2008              1115             TST     R0,R0                           ;
 7874                            1116             TST_BIT_ON ANTI_CHK_EXIT                ;
 7875 00000730 8B14                   M           BF      ANTI_CHK_EXIT
 7876                            1117     
 7877                            1118             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2  ;ｾﾙﾌ開始ｺﾏﾝﾄﾞ
 7878 00000732 D104                   M           MOV.L   #_SELF_COM,R1           ;
 7879 00000734 9202                   M           MOV.W   #BIT0,R2                ;
 7880 00000736 2121                   M           MOV.W   R2,@R1  ;
 7881                            1119             M_BRA   ANTI_CHK_EXIT                   ;
 7882 00000738 A010                   M           BRA     ANTI_CHK_EXIT
 7883 0000073A 0009                   M           NOP
 7884                            1120     
 7885                            1121     
 7886                            1122     ;       ===================================
 7887                            1123     ;       ===     ANTI - ON 中            ===
 7888                            1124     ;       ===================================
 7889                                     ***** BEGIN-POOL *****
 7890 0000073C 0001                       DATA FOR SOURCE-LINE 1118
 7891 0000073E 0000                       ALIGNMENT CODE
 7892 00000740 00000000                   DATA FOR SOURCE-LINE 1114
 7893 00000744 00000000                   DATA FOR SOURCE-LINE 1118
 7894                                     ***** END-POOL *****
 7895 00000748                   1125     ANTI_CHK_0500:
 7896 00000748 D106              1126             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 7897 0000074A 6011              1127             MOV.W   @R1,R0                          ;
 7898 0000074C C801              1128             TST     #BIT0,R0                        ;
 7899                            1129             TST_BIT_ON ANTI_CHK_EXIT                ;
 7900 0000074E 8B05                   M           BF      ANTI_CHK_EXIT
 7901                            1130     
 7902                            1131             FAR_JSR #_ANTI_OF,R1                    ;ｾﾙﾌﾁｪｯｸ未完SET
 7903 00000750 D105                   M           MOV.L   #_ANTI_OF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7904 00000752 410B                   M           JSR     @R1                     ;
 7905 00000754 0009                   M           NOP                                     ;
 7906 00000756 200A              1132             XOR     R0,R0
 7907 00000758 D104              1133             MOV.L   #_SELF_FLG,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    35
PROGRAM NAME =

 7908 0000075A 2101              1134             MOV.W   R0,@R1                          ;
 7909                            1135     
 7910 0000075C                   1136     ANTI_CHK_EXIT:
 7911                            1137     
 7912                            1138             SUB_END
 7913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7914 0000075C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7915                            1139             M_RTS
 7916 0000075E 000B                   M           RTS                             ;RTSの後ろの
 7917 00000760 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7918                            1140     
 7919                            1141     
 7920                            1142     ;       ***************************************************
 7921                            1143     ;       ***                                             ***
 7922                            1144     ;       ***     準備完了・起動                          ***
 7923                            1145     ;       ***                                             ***
 7924                            1146     ;       ***************************************************
 7925                            1147     ;       U2b     DRV_ACT_FLG;    //運転動作ﾌﾗｸﾞ BIT0:運転中
 7926                            1148     ;       U2b     BTTN_FLG;       //BIT0:両手ﾌﾘ- BIT1:片手ON　BIT2:両手ON
 7927                            1149             .IMPORT _SH4_HD_HLDSTOP2        ;
 7928                            1150             .IMPORT _SH2_HD_HLDSTOP2        ;
 7929                            1151     
 7930                                     ***** BEGIN-POOL *****
 7931 00000762 0000                       ALIGNMENT CODE
 7932 00000764 00000000                   DATA FOR SOURCE-LINE 1126
 7933 00000768 00000000                   DATA FOR SOURCE-LINE 1131
 7934 0000076C 00000000                   DATA FOR SOURCE-LINE 1133
 7935                                     ***** END-POOL *****
 7936 00000770                   1152     _RDY_CHEAK:
 7937                            1153             SUB_START
 7938 00000770 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7939                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7940                            1154     
 7941                            1155     ;       -------------------------------------------
 7942                            1156     ;       ---                                     ---
 7943                            1157     ;       -------------------------------------------
 7944                            1158             FAR_JSR #_POSHLD1_SIG_CHK,R0            ;
 7945 00000772 D008                   M           MOV.L   #_POSHLD1_SIG_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7946 00000774 400B                   M           JSR     @R0                     ;
 7947 00000776 0009                   M           NOP                                     ;
 7948                            1159     
 7949                            1160                                             ;"HOLD-CMDは必ず動作中で行うこと"
 7950 00000778 D107              1161             MOV.L   #_POS_HOLD_FLG,R1       ;BIT0=1:減速状態[既に停止ｺﾏﾝﾄﾞは個別ｿﾌﾄで発行して
                                          いる]
 7951 0000077A 6011              1162             MOV.W   @R1,R0                  ;BIT1=1:位置決め完了状態
 7952 0000077C 2008              1163             TST     R0,R0                   ;
 7953                            1164             TST_BIT_ON RDY_HOLDCHK_0100
 7954 0000077E 8B0F                   M           BF      RDY_HOLDCHK_0100
 7955                            1165     
 7956 00000780 D106              1166             MOV.L   #_POS_HOLD_CMD,R1                                               ;BIT0~BIT6
                                          の7個まで受け付ける
 7957 00000782 6011              1167             MOV.W   @R1,R0                                                          ;
 7958 00000784 2008              1168             TST     R0,R0                                                           ;
 7959                            1169             TST_BIT_OF RDY_HOLDCHK_END                                              ;
 7960 00000786 8965                   M           BT      RDY_HOLDCHK_END
 7961                            1170     
 7962                            1171             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    36
PROGRAM NAME =

 7963 00000788 D103                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7964 0000078A 6011                   M           MOV.W   @R1,R0          ;
 7965 0000078C CB01                   M           OR      #BIT0,R0                ;
 7966 0000078E 2101                   M           MOV.W   R0,@R1          ;
 7967                            1172             M_BRA   RDY_HOLDCHK_1000
 7968 00000790 A054                   M           BRA     RDY_HOLDCHK_1000
 7969 00000792 0009                   M           NOP
 7970                            1173     
 7971                                     ***** BEGIN-POOL *****
 7972 00000794 00000000                   DATA FOR SOURCE-LINE 1158
 7973 00000798 00000000                   DATA FOR SOURCE-LINE 1161,1171
 7974 0000079C 00000000                   DATA FOR SOURCE-LINE 1166
 7975                                     ***** END-POOL *****
 7976 000007A0                   1174     RDY_HOLDCHK_0100
 7977 000007A0 C802              1175             TST     #BIT1,R0                                                        ;位置決め
                                          完了状態?
 7978                            1176             TST_BIT_ON RDY_HOLDCHK_0200                                             ;
 7979 000007A2 8B19                   M           BF      RDY_HOLDCHK_0200
 7980                            1177     
 7981                            1178             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7982 000007A4 D008                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7983 000007A6 400B                   M           JSR     @R0                     ;
 7984 000007A8 0009                   M           NOP                                     ;
 7985                            1179     
 7986 000007AA D108              1180             MOV.L   #_DRV_ACT_FLG,R1                                                ;//運転動
                                          作ﾌﾗｸﾞ BIT0:運転中
 7987 000007AC 6011              1181             MOV.W   @R1,R0                                                          ;
 7988 000007AE C801              1182             TST     #BIT0,R0                                                        ;運転中?
 7989                            1183             TST_BIT_ON RDY_HOLDCHK_1000                                             ;YES 状態
                                          維持
 7990 000007B0 8B44                   M           BF      RDY_HOLDCHK_1000
 7991                            1184     
 7992                            1185             FAR_JSR #_HOLD_STOP_BA_JG,R0                                            ;
 7993 000007B2 D007                   M           MOV.L   #_HOLD_STOP_BA_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7994 000007B4 400B                   M           JSR     @R0                     ;
 7995 000007B6 0009                   M           NOP                                     ;
 7996 000007B8 2008              1186             TST     R0,R0                                                           ;
 7997                            1187             TST_BIT_OF RDY_HOLDCHK_1999                                             ;相手停止?
                                          NO
 7998 000007BA 8949                   M           BT      RDY_HOLDCHK_1999
 7999                            1188     
 8000                            1189             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT1,WKREG=R1        ;bit-set
 8001 000007BC D105                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 8002 000007BE 6011                   M           MOV.W   @R1,R0          ;
 8003 000007C0 CB02                   M           OR      #BIT1,R0                ;
 8004 000007C2 2101                   M           MOV.W   R0,@R1          ;
 8005                            1190             M_BRA   RDY_HOLDCHK_1999
 8006 000007C4 A044                   M           BRA     RDY_HOLDCHK_1999
 8007 000007C6 0009                   M           NOP
 8008                            1191     
 8009                            1192     
 8010                            1193     ;       ---------------- 再スタート---------------------
 8011                                     ***** BEGIN-POOL *****
 8012 000007C8 00000000                   DATA FOR SOURCE-LINE 1178
 8013 000007CC 00000000                   DATA FOR SOURCE-LINE 1180
 8014 000007D0 00000000                   DATA FOR SOURCE-LINE 1185
 8015 000007D4 00000000                   DATA FOR SOURCE-LINE 1189
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    37
PROGRAM NAME =

 8016                                     ***** END-POOL *****
 8017 000007D8                   1194     RDY_HOLDCHK_0200:
 8018                            1195             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 8019 000007D8 D010                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8020 000007DA 400B                   M           JSR     @R0                     ;
 8021 000007DC 0009                   M           NOP                                     ;
 8022                            1196     
 8023                            1197             FAR_JSR #_POS_HOLD_RESTART_CHK,R0       ;ｺﾏﾝﾄﾞ発行
 8024 000007DE D010                   M           MOV.L   #_POS_HOLD_RESTART_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8025 000007E0 400B                   M           JSR     @R0                     ;
 8026 000007E2 0009                   M           NOP                                     ;
 8027                            1198     
 8028 000007E4 D10F              1199             MOV.L   #_POS_HOLD_RESTARTCMD,R1        ;
 8029 000007E6 6011              1200             MOV.W   @R1,R0                          ;
 8030 000007E8 2008              1201             TST     R0,R0                           ;
 8031                            1202             TST_BIT_OF RDY_HOLDCHK_1999             ;
 8032 000007EA 8931                   M           BT      RDY_HOLDCHK_1999
 8033 000007EC 6007              1203             NOT     R0,R0                           ;
 8034 000007EE D10E              1204             MOV.L   #_POS_HOLD_CMD,R1               ;BIT0~BIT6の7個まで受け付ける
 8035 000007F0 6211              1205             MOV.W   @R1,R2                          ;
 8036 000007F2 2209              1206             AND     R0,R2                           ;
 8037 000007F4 2121              1207             MOV.W   R2,@R1                          ;
 8038 000007F6 2228              1208             TST     R2,R2                           ;
 8039                            1209             TST_BIT_ON RDY_HOLDCHK_1999             ;
 8040 000007F8 8B2A                   M           BF      RDY_HOLDCHK_1999
 8041                            1210     
 8042                            1211     ;       -------- 全てのHOLD条件無し -----------
 8043                            1212             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;
 8044 000007FA D00C                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8045 000007FC 400B                   M           JSR     @R0                     ;
 8046 000007FE 0009                   M           NOP                                     ;
 8047                            1213             FAR_JSR #_HOLD_RESTART_BA_JG,R0         ;
 8048 00000800 D00B                   M           MOV.L   #_HOLD_RESTART_BA_JG,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8049 00000802 400B                   M           JSR     @R0                     ;
 8050 00000804 0009                   M           NOP                                     ;
 8051 00000806 2008              1214             TST     R0,R0                           ;
 8052                            1215             TST_BIT_ON RDY_HOLDCHK_1999             ;
 8053 00000808 8B22                   M           BF      RDY_HOLDCHK_1999
 8054                            1216             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
 8055 0000080A D00A                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8056 0000080C 400B                   M           JSR     @R0                     ;
 8057 0000080E 0009                   M           NOP                                     ;
 8058                            1217     
 8059 00000810 E001              1218             MOV.B   #BIT0,R0                        ;
 8060 00000812 D109              1219             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8061 00000814 2101              1220             MOV.W   R0,@R1                          ;
 8062                            1221             M_BRA   RDY_CHK_0220                    ;再起動
 8063 00000816 A13D                   M           BRA     RDY_CHK_0220
 8064 00000818 0009                   M           NOP
 8065                            1222     
 8066                                     ***** BEGIN-POOL *****
 8067 0000081A 0000                       ALIGNMENT CODE
 8068 0000081C 00000000                   DATA FOR SOURCE-LINE 1195
 8069 00000820 00000000                   DATA FOR SOURCE-LINE 1197
 8070 00000824 00000000                   DATA FOR SOURCE-LINE 1199
 8071 00000828 00000000                   DATA FOR SOURCE-LINE 1204
 8072 0000082C 00000000                   DATA FOR SOURCE-LINE 1212
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    38
PROGRAM NAME =

 8073 00000830 00000000                   DATA FOR SOURCE-LINE 1213
 8074 00000834 00000000                   DATA FOR SOURCE-LINE 1216
 8075 00000838 00000000                   DATA FOR SOURCE-LINE 1219
 8076                                     ***** END-POOL *****
 8077 0000083C                   1223     RDY_HOLDCHK_1000
 8078 0000083C D102              1224             MOV.L   #_END_CMD_LATCH,R1              ;
 8079 0000083E 6011              1225             MOV.W   @R1,R0                          ;
 8080 00000840 2008              1226             TST     R0,R0                           ;
 8081                            1227             TST_BIT_ON RDY_HOLDCHK_1200             ;
 8082 00000842 8B03                   M           BF      RDY_HOLDCHK_1200
 8083                            1228             M_BRA   RDY_CHK_1000                    ;
 8084 00000844 A25D                   M           BRA     RDY_CHK_1000
 8085 00000846 0009                   M           NOP
 8086                                     ***** BEGIN-POOL *****
 8087 00000848 00000000                   DATA FOR SOURCE-LINE 1224
 8088                                     ***** END-POOL *****
 8089 0000084C                   1229     RDY_HOLDCHK_1200
 8090                            1230             M_BRA   RDY_CHK_1200                    ;
 8091 0000084C A272                   M           BRA     RDY_CHK_1200
 8092 0000084E 0009                   M           NOP
 8093                            1231     
 8094 00000850                   1232     RDY_HOLDCHK_1999
 8095                            1233             M_BRA   RDY_CHK_EXIT
 8096 00000850 A2A6                   M           BRA     RDY_CHK_EXIT
 8097 00000852 0009                   M           NOP
 8098                            1234     
 8099 00000854                   1235     RDY_HOLDCHK_END
 8100                            1236     
 8101                            1237     
 8102                            1238     
 8103                            1239     ;       --------運転／非運転-------------
 8104                            1240     
 8105                            1241     ;;;;;;;;;;;;;;  ==== 2003-07-09(非運転状態ではｻｲｸﾙ速度表示ON) ====
 8106                            1242             FAR_JSR #_CNT_CYCL_DISP_ST,R0   ;表示する(表示したくないならこのｽｷｬﾝ内に表示しない
                                          をONする)
 8107 00000854 D007                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8108 00000856 400B                   M           JSR     @R0                     ;
 8109 00000858 0009                   M           NOP                                     ;
 8110                            1243     
 8111                            1244     ;       ------------2019-08-20--------------
 8112                            1245             FAR_JSR #_CNT_SPM_DISP_CHK,R0   ;
 8113 0000085A D007                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8114 0000085C 400B                   M           JSR     @R0                     ;
 8115 0000085E 0009                   M           NOP                                     ;
 8116                            1246     
 8117                            1247     
 8118                            1248     ;       ================================
 8119 00000860 D106              1249             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 8120 00000862 6011              1250             MOV.W   @R1,R0                  ;
 8121 00000864 C801              1251             TST     #BIT0,R0                ;運転中?
 8122                            1252             TST_BIT_OF RDY_CHK_0050         ;
 8123 00000866 890F                   M           BT      RDY_CHK_0050
 8124                            1253     ;       ===============================
 8125 00000868 D105              1254             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8126 0000086A 6011              1255             MOV.W   @R1,R0                  ;
 8127 0000086C 2008              1256             TST     R0,R0                   ;
 8128                            1257             TST_BIT_ON RDY_CHK_0030         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    39
PROGRAM NAME =

 8129 0000086E 8B09                   M           BF      RDY_CHK_0030
 8130                            1258             M_BRA   RDY_CHK_1200            ;(終了待ち)
 8131 00000870 A260                   M           BRA     RDY_CHK_1200
 8132 00000872 0009                   M           NOP
 8133                            1259     
 8134                                     ***** BEGIN-POOL *****
 8135 00000874 00000000                   DATA FOR SOURCE-LINE 1242
 8136 00000878 00000000                   DATA FOR SOURCE-LINE 1245
 8137 0000087C 00000000                   DATA FOR SOURCE-LINE 1249
 8138 00000880 00000000                   DATA FOR SOURCE-LINE 1254
 8139                                     ***** END-POOL *****
 8140 00000884                   1260     RDY_CHK_0030:
 8141                            1261             M_BRA   RDY_CHK_0500            ;通常の位置決め状態
 8142 00000884 A1B2                   M           BRA     RDY_CHK_0500
 8143 00000886 0009                   M           NOP
 8144                            1262     
 8145 00000888                   1263     RDY_CHK_0050:
 8146                            1264     ;       ----------------------------------------------
 8147                            1265             _MONI_RDY_SET SETNO=1,SETREG=R0,WKREG=R1        ;2014-09-13
 8148 00000888 9007                   M           MOV.W   #1,R0
 8149 0000088A D104                   M           MOV.L   #_MONI_RDY_STEP,R1
 8150 0000088C 2101                   M           MOV.W   R0,@R1
 8151                            1266     ;       ----------------------------------------------
 8152                            1267     
 8153 0000088E D104              1268             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8154 00000890 6011              1269             MOV.W   @R1,R0                  ;
 8155 00000892 2008              1270             TST     R0,R0                   ;
 8156                            1271             TST_BIT_OF RDY_CHK_0060         ;
 8157 00000894 8906                   M           BT      RDY_CHK_0060
 8158                            1272             M_BRA   RDY_CHK_0200_START_WAIT ;
 8159 00000896 A115                   M           BRA     RDY_CHK_0200_START_WAIT
 8160 00000898 0009                   M           NOP
 8161                            1273     
 8162                                     ***** BEGIN-POOL *****
 8163 0000089A 0001                       DATA FOR SOURCE-LINE 1265
 8164 0000089C 00000000                   DATA FOR SOURCE-LINE 1265
 8165 000008A0 00000000                   DATA FOR SOURCE-LINE 1268
 8166                                     ***** END-POOL *****
 8167 000008A4                   1274     RDY_CHK_0060:
 8168                            1275     ;       ----------------------------------------------
 8169                            1276             _MONI_RDY_SET SETNO=2,SETREG=R0,WKREG=R1        ;2014-09-13
 8170 000008A4 900A                   M           MOV.W   #2,R0
 8171 000008A6 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 8172 000008A8 2101                   M           MOV.W   R0,@R1
 8173                            1277     ;       ----------------------------------------------
 8174                            1278     
 8175                            1279     ;       ------- 2007-01-16--
 8176                            1280     
 8177                            1281     
 8178                            1282     ;       ------- 2006-07-28---
 8179                            1283             FAR_JSR #_ORGIN_MODE_START_WAIT,R0      ;
 8180 000008AA D006                   M           MOV.L   #_ORGIN_MODE_START_WAIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8181 000008AC 400B                   M           JSR     @R0                     ;
 8182 000008AE 0009                   M           NOP                                     ;
 8183 000008B0 2008              1284             TST     R0,R0
 8184                            1285             TST_BIT_OF RDY_CHK_0070
 8185 000008B2 890B                   M           BT      RDY_CHK_0070
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    40
PROGRAM NAME =

 8186 000008B4 8855              1286             CMP/EQ  #H'55,R0                        ;
 8187 000008B6 8B07              1287             BF      ORGIN_MODE_START_WT10           ;
 8188                            1288             M_BRA   RDY_CHK_0220                    ;55:起動
 8189 000008B8 A0EC                   M           BRA     RDY_CHK_0220
 8190 000008BA 0009                   M           NOP
 8191                                     ***** BEGIN-POOL *****
 8192 000008BC 0002                       DATA FOR SOURCE-LINE 1276
 8193 000008BE 0000                       ALIGNMENT CODE
 8194 000008C0 00000000                   DATA FOR SOURCE-LINE 1276
 8195 000008C4 00000000                   DATA FOR SOURCE-LINE 1283
 8196                                     ***** END-POOL *****
 8197 000008C8                   1289     ORGIN_MODE_START_WT10
 8198                            1290             M_BRA   RDY_CHK_0399                    ;-1
 8199 000008C8 A186                   M           BRA     RDY_CHK_0399
 8200 000008CA 0009                   M           NOP
 8201                            1291     
 8202 000008CC                   1292     RDY_CHK_0070:
 8203                            1293     
 8204                            1294     ;       ----------------------------------------------
 8205                            1295             _MONI_RDY_SET SETNO=3,SETREG=R0,WKREG=R1        ;2014-09-13
 8206 000008CC 901B                   M           MOV.W   #3,R0
 8207 000008CE D10E                   M           MOV.L   #_MONI_RDY_STEP,R1
 8208 000008D0 2101                   M           MOV.W   R0,@R1
 8209                            1296     ;       ----------------------------------------------
 8210                            1297     
 8211                            1298     ;       ------- 2008-04-28(ORGIN MODE) ------------
 8212                            1299             FAR_JSR #_ORGIN_180CHK,R0
 8213 000008D2 D00E                   M           MOV.L   #_ORGIN_180CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8214 000008D4 400B                   M           JSR     @R0                     ;
 8215 000008D6 0009                   M           NOP                                     ;
 8216                            1300     
 8217                            1301     
 8218                            1302     
 8219                            1303     
 8220                            1304     ;       ======= 非運転状態では位置決め完了待ちｸﾘｱ 2003-06-13 ====
 8221                            1305             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
 8222 000008D8 D10D                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
 8223 000008DA 6011                   M           MOV.W   @R1,R0          ;
 8224 000008DC C9FE                   M           AND     #LOW ~BIT0,R0           ;
 8225 000008DE 2101                   M           MOV.W   R0,@R1          ;
 8226                            1306     
 8227                            1307     ;       ------- 2006-07-28 ----------------
 8228                            1308             FAR_JSR #_TEP_FLG_CLR,R0
 8229 000008E0 D00C                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8230 000008E2 400B                   M           JSR     @R0                     ;
 8231 000008E4 0009                   M           NOP                                     ;
 8232                            1309     
 8233                            1310     ;       ===========================================
 8234                            1311     ;       ===     安全装置ﾏｽｸ                     ===
 8235                            1312     ;       ===========================================
 8236                            1313     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
 8237                            1314     
 8238                            1315     ;       ===========================================================
 8239                            1316     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択のSWの反映を停止の待機点で行う     ===
 8240                            1317     ;       ===========================================================
 8241                            1318     ;       ======>2013-08-20 停止中であればSW切り替えを反映させる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    41
PROGRAM NAME =

 8242                            1319     
 8243 000008E6 D10C              1320             MOV.L   #_UPMSK2_MOD,R1                         ;
 8244 000008E8 6011              1321             MOV.W   @R1,R0                                  ;
 8245 000008EA 2008              1322             TST     R0,R0                                   ;
 8246                            1323             TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;SWを使用しない
 8247 000008EC 8902                   M           BT      RDY_SFTY_MASK2CHK050
 8248                            1324     
 8249                            1325     ;;;;;;;;;;;;2013-08-20; <ふりこの場合、待機点の切替が起動後になってしまう。>
 8250                            1326     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 8251                            1327     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8252                            1328     ;;;;;;;;;;;;2013-08-20  TST     #(_DMATH_DNDRIV),R0                     ;
 8253                            1329     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK030                 ;
 8254                            1330     ;;;;;;;;;;;;2013-08-20
 8255                            1331     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1             ;
 8256                            1332     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8257                            1333     ;;;;;;;;;;;;2013-08-20  MOV.W   #BIT7,R4                                ;
 8258                            1334     ;;;;;;;;;;;;2013-08-20  TST     R4,R0                                   ;
 8259                            1335     ;;;;;;;;;;;;2013-08-20  TST_BIT_ON RDY_SFTY_MASK2CHK040                 ;
 8260                            1336     ;;;;;;;;;;;;2013-08-20
 8261                            1337     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK030
 8262                            1338     ;;;;;;;;;;;;2013-08-20
 8263                            1339     ;;;;;;;;;;;;2013-08-20  MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機
                                          点範囲
 8264                            1340     ;;;;;;;;;;;;2013-08-20  MOV.W   @R4,R0                                  ;
 8265                            1341     ;;;;;;;;;;;;2013-08-20  TST     #BIT0,R0                                ;
 8266                            1342     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;待機点ではない
 8267                            1343     ;;;;;;;;;;;;2013-08-20
 8268                            1344     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK040
 8269                            1345     
 8270                            1346             FAR_JSR #_MASK2_SAFTY_SW_MOV,R0                 ;
 8271 000008EE D00B                   M           MOV.L   #_MASK2_SAFTY_SW_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8272 000008F0 400B                   M           JSR     @R0                     ;
 8273 000008F2 0009                   M           NOP                                     ;
 8274                            1347     
 8275 000008F4                   1348     RDY_SFTY_MASK2CHK050:
 8276                            1349     
 8277                            1350     
 8278                            1351     ;       ===========================================================
 8279                            1352     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択 停止中[待機点と待機点以外]        ===
 8280                            1353     ;       ===========================================================
 8281                            1354     ;;;;;   FAR_JSR #_SFTY_MASK_START,R0            ;従来のソフトは停止時いつでもマスク
 8282                            1355     ;;;;2015-09-06  FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8283                            1356     
 8284                            1357     
 8285                            1358     ;;;;_BRK_SADOU_CHG
 8286                            1359     ;       -------- 2015-09-06---------
 8287 000008F4 D10A              1360             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
 8288 000008F6 6011              1361             MOV.W   @R1,R0                                                  ;
 8289 000008F8 8801              1362             CMP/EQ  #1,R0
 8290 000008FA 8915              1363             BT      RDY_SFTY_MASK2CHK055                                    ;停止制御有効
 8291                            1364     
 8292                            1365             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
 8293 000008FC D009                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8294 000008FE 400B                   M           JSR     @R0                     ;
 8295 00000900 0009                   M           NOP                                     ;
 8296                            1366             M_BRA   RDY_SFTY_MASK2CHK100                                    ;
 8297 00000902 A022                   M           BRA     RDY_SFTY_MASK2CHK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    42
PROGRAM NAME =

 8298 00000904 0009                   M           NOP
 8299                            1367     
 8300                                     ***** BEGIN-POOL *****
 8301 00000906 0003                       DATA FOR SOURCE-LINE 1295
 8302 00000908 00000000                   DATA FOR SOURCE-LINE 1295
 8303 0000090C 00000000                   DATA FOR SOURCE-LINE 1299
 8304 00000910 00000000                   DATA FOR SOURCE-LINE 1305
 8305 00000914 00000000                   DATA FOR SOURCE-LINE 1308
 8306 00000918 00000000                   DATA FOR SOURCE-LINE 1320
 8307 0000091C 00000000                   DATA FOR SOURCE-LINE 1346
 8308 00000920 00000000                   DATA FOR SOURCE-LINE 1360
 8309 00000924 00000000                   DATA FOR SOURCE-LINE 1365
 8310                                     ***** END-POOL *****
 8311 00000928                   1368     RDY_SFTY_MASK2CHK055:
 8312                            1369     
 8313 00000928 D104              1370             MOV.L   #_DRV_START_KEEP,R1
 8314 0000092A 6011              1371             MOV.W   @R1,R0                          ;
 8315 0000092C C801              1372             TST     #BIT0,R0                        ;
 8316                            1373             TST_BIT_ON RDY_SFTY_MASK2CHK060         ;
 8317 0000092E 8B09                   M           BF      RDY_SFTY_MASK2CHK060
 8318                            1374     
 8319                            1375             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8320 00000930 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8321 00000932 400B                   M           JSR     @R0                     ;
 8322 00000934 0009                   M           NOP                                     ;
 8323                            1376             M_BRA   RDY_SFTY_MASK2CHK100            ;
 8324 00000936 A008                   M           BRA     RDY_SFTY_MASK2CHK100
 8325 00000938 0009                   M           NOP
 8326                                     ***** BEGIN-POOL *****
 8327 0000093A 0000                       ALIGNMENT CODE
 8328 0000093C 00000000                   DATA FOR SOURCE-LINE 1370
 8329 00000940 00000000                   DATA FOR SOURCE-LINE 1375
 8330                                     ***** END-POOL *****
 8331 00000944                   1377     RDY_SFTY_MASK2CHK060:
 8332                            1378             FAR_JSR #_SFTY_MASK_END,R0              ;
 8333 00000944 D004                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8334 00000946 400B                   M           JSR     @R0                     ;
 8335 00000948 0009                   M           NOP                                     ;
 8336 0000094A                   1379     RDY_SFTY_MASK2CHK100:
 8337                            1380     
 8338                            1381     ;       ================================================================
 8339                            1382     
 8340 0000094A D104              1383             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 8341 0000094C 6011              1384             MOV.W   @R1,R0                  ;
 8342 0000094E C820              1385             TST     #_WORDY,R0              ;RDY
 8343                            1386             TST_BIT_OF RDY_CHK_0120         ;準備未完了
 8344 00000950 8906                   M           BT      RDY_CHK_0120
 8345                            1387             M_BRA   RDY_CHK_0200            ;(準備完了ON)
 8346 00000952 A067                   M           BRA     RDY_CHK_0200
 8347 00000954 0009                   M           NOP
 8348                            1388     
 8349                                     ***** BEGIN-POOL *****
 8350 00000956 0000                       ALIGNMENT CODE
 8351 00000958 00000000                   DATA FOR SOURCE-LINE 1378
 8352 0000095C 00000000                   DATA FOR SOURCE-LINE 1383
 8353                                     ***** END-POOL *****
 8354 00000960                   1389     RDY_CHK_0120:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    43
PROGRAM NAME =

 8355                            1390     ;       ----------------------------------------------
 8356                            1391             _MONI_RDY_SET SETNO=4,SETREG=R0,WKREG=R1        ;2014-09-13
 8357 00000960 9035                   M           MOV.W   #4,R0
 8358 00000962 D11F                   M           MOV.L   #_MONI_RDY_STEP,R1
 8359 00000964 2101                   M           MOV.W   R0,@R1
 8360                            1392     ;       ----------------------------------------------
 8361                            1393     
 8362                            1394     ;       ===================================
 8363                            1395     ;       ===                             ===
 8364                            1396     ;       ===     準備未完了              ===
 8365                            1397     ;       ===                             ===
 8366                            1398     ;       ===================================
 8367                            1399     ;       (本当は両手ﾌﾘ+連続停止OFF+,,,,,)
 8368                            1400     
 8369                            1401     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
 8370                            1402     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
 8371                            1403     
 8372                            1404     
 8373                            1405     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8374                            1406             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8375 00000966 D11F                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8376 00000968 6011                   M           MOV.W   @R1,R0          ;
 8377 0000096A 9431                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8378 0000096C 2049                   M           AND     R4,R0           ;
 8379 0000096E 2101                   M           MOV.W   R0,@R1          ;
 8380                            1407     
 8381                            1408     ;       ----- 2006-04-10----
 8382                            1409     ;;;     MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK
 8383                            1410     
 8384                            1411     
 8385                            1412     
 8386                            1413     ;;;;;;;;;[2007-01-16]   MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;
 8387                            1414     ;;;;;;;;;[2007-01-16]   MOV.W   @R1,R0                  ;
 8388                            1415     ;;;;;;;;;[2007-01-16]   TST     R0,R0                   ;
 8389                            1416     ;;;;;;;;;[2007-01-16]   TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8390                            1417     
 8391                            1418     ;2015-09-06 _BRK_SADOU_CHG 遮光解除後の準備完了の遅延をやめる
 8392                            1419     ;2015-09-06;    ------- 2007-01-19(原点復帰のみこの処理を入れる)----------
 8393                            1420     ;2015-09-06     MOV.L   #_MODE_SEL,R1                   ;
 8394                            1421     ;2015-09-06     MOV.W   @R1,R0                          ;
 8395                            1422     ;2015-09-06     TST     #_W1DUP,R0                      ;原点復帰?
 8396                            1423     ;2015-09-06     TST_BIT_OF RDY_CHK_0130                 ;
 8397                            1424     ;2015-09-06
 8398                            1425     ;2015-09-06;    -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
 8399                            1426     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
 8400                            1427     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
 8401                            1428     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
 8402                            1429     ;2015-09-06     TST     R4,R0                           ;
 8403                            1430     ;2015-09-06     TST_BIT_ON RDY_CHK_0130                 ;"MC時=1"
 8404                            1431     ;2015-09-06
 8405                            1432     ;2015-09-06;    -------- 原点復帰[2007年の話]----------
 8406                            1433     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;原点復帰モードのみ準備完了を遅らせる　０
                                          ．８秒くらい
 8407                            1434     ;2015-09-06     MOV.W   @R1,R0                  ;パルス遅らせる方式では、チョン押しと長押
                                          し区別がしずらいから
 8408                            1435     ;2015-09-06     TST     R0,R0                   ;準備完了を遅らせている
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    44
PROGRAM NAME =

 8409                            1436     ;2015-09-06     TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8410                            1437     ;2015-09-06
 8411                            1438     ;2015-09-06RDY_CHK_0130:
 8412                            1439     ;       ----------------------------------------------
 8413                            1440             _MONI_RDY_SET SETNO=5,SETREG=R0,WKREG=R1        ;2014-09-13
 8414 00000970 902F                   M           MOV.W   #5,R0
 8415 00000972 D11B                   M           MOV.L   #_MONI_RDY_STEP,R1
 8416 00000974 2101                   M           MOV.W   R0,@R1
 8417                            1441     ;       ----------------------------------------------
 8418                            1442     
 8419                            1443     
 8420                            1444     ;       ------- 順番入れ替え 2006-07-28 (とりあえず不要な入れ替えでしたが、、)-------
 8421                            1445             FAR_JSR #_RDYON_CONF1,R1        ;
 8422 00000976 D11C                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8423 00000978 410B                   M           JSR     @R1                     ;
 8424 0000097A 0009                   M           NOP                                     ;
 8425 0000097C 2008              1446             TST     R0,R0                   ;
 8426                            1447             TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8427 0000097E 8B45                   M           BF      RDY_CHK_0199
 8428                            1448     
 8429                            1449     
 8430                            1450     ;       ----------------------------------------------
 8431                            1451             _MONI_RDY_SET SETNO=20,SETREG=R0,WKREG=R1       ;2014-09-13
 8432 00000980 9028                   M           MOV.W   #20,R0
 8433 00000982 D117                   M           MOV.L   #_MONI_RDY_STEP,R1
 8434 00000984 2101                   M           MOV.W   R0,@R1
 8435                            1452     ;       ----------------------------------------------
 8436                            1453     
 8437                            1454     
 8438                            1455     
 8439 00000986 D119              1456             MOV.L   #_BTTN_FLG,R1           ;
 8440 00000988 6011              1457             MOV.W   @R1,R0                  ;
 8441 0000098A C801              1458             TST     #BIT0,R0                ;両手ﾌﾘ?
 8442                            1459             TST_BIT_OF RDY_CHK_0199         ;NO
 8443 0000098C 893E                   M           BT      RDY_CHK_0199
 8444                            1460     
 8445                            1461     ;       ----------------------------------------------
 8446                            1462             _MONI_RDY_SET SETNO=21,SETREG=R0,WKREG=R1       ;2014-09-13
 8447 0000098E 9022                   M           MOV.W   #21,R0
 8448 00000990 D113                   M           MOV.L   #_MONI_RDY_STEP,R1
 8449 00000992 2101                   M           MOV.W   R0,@R1
 8450                            1463     ;       ----------------------------------------------
 8451                            1464     
 8452                            1465     ;;      ------- 順番入れ替え 2006-07-28-------
 8453                            1466     ;;      MOV.L   #_BTTN_FLG,R1           ;
 8454                            1467     ;;      MOV.W   @R1,R0                  ;
 8455                            1468     ;;      TST     #BIT0,R0                ;両手ﾌﾘ?
 8456                            1469     ;;      TST_BIT_OF RDY_CHK_0199         ;NO
 8457                            1470     ;;
 8458                            1471     ;;      FAR_JSR #_RDYON_CONF1,R1        ;
 8459                            1472     ;;      TST     R0,R0                   ;
 8460                            1473     ;;      TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8461                            1474     ;------- 両手フリ----
 8462                            1475     
 8463 00000994 D116              1476             MOV.L   #_MODE_SEL,R1           ;
 8464 00000996 6611              1477             MOV.W   @R1,R6                  ;
 8465 00000998 921E              1478             MOV.W   #_W1CNT,R2              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    45
PROGRAM NAME =

 8466 0000099A 2628              1479             TST     R2,R6                   ;
 8467                            1480             TST_BIT_OF RDY_CHK_0150         ;
 8468 0000099C 8904                   M           BT      RDY_CHK_0150
 8469                            1481     
 8470 0000099E D315              1482             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 8471 000009A0 6131              1483             MOV.W   @R3,R1                  ;
 8472 000009A2 921A              1484             MOV.W   #_W2SUP,R2              ;
 8473 000009A4 2128              1485             TST     R2,R1                   ;
 8474                            1486             TST_BIT_ON RDY_CHK_0199         ;連続ｾｯﾄｱｯﾌﾟ釦中
 8475 000009A6 8B31                   M           BF      RDY_CHK_0199
 8476                            1487     
 8477 000009A8                   1488     RDY_CHK_0150:
 8478 000009A8 200A              1489             XOR     R0,R0
 8479 000009AA D113              1490             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
 8480 000009AC 2101              1491             MOV.W   R0,@R1                  ;
 8481                            1492     
 8482 000009AE 9215              1493             MOV.W   #_SYS_BSAME_TIM,R2      ;
 8483 000009B0 D112              1494             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 8484 000009B2 2121              1495             MOV.W   R2,@R1                  ;
 8485                            1496     
 8486                            1497             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0  ;
 8487 000009B4 D012                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8488 000009B6 400B                   M           JSR     @R0                     ;
 8489 000009B8 0009                   M           NOP                                     ;
 8490                            1498             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8491 000009BA D012                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8492 000009BC 400B                   M           JSR     @R0                     ;
 8493 000009BE 0009                   M           NOP                                     ;
 8494 000009C0 2008              1499             TST     R0,R0                   ;
 8495                            1500             TST_BIT_OF RDY_CHK_0198         ;WAIT
 8496 000009C2 8902                   M           BT      RDY_CHK_0198
 8497                            1501             FAR_JSR #_RDY_ON,R1             ;準備完了へ遷移
 8498 000009C4 D110                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8499 000009C6 410B                   M           JSR     @R1                     ;
 8500 000009C8 0009                   M           NOP                                     ;
 8501 000009CA                   1502     RDY_CHK_0198:
 8502                            1503             M_BRA   RDY_CHK_EXIT
 8503 000009CA A1E9                   M           BRA     RDY_CHK_EXIT
 8504 000009CC 0009                   M           NOP
 8505                            1504     
 8506                                     ***** BEGIN-POOL *****
 8507 000009CE 0004                       DATA FOR SOURCE-LINE 1391
 8508 000009D0 FFF7                       DATA FOR SOURCE-LINE 1406
 8509 000009D2 0005                       DATA FOR SOURCE-LINE 1440
 8510 000009D4 0014                       DATA FOR SOURCE-LINE 1451
 8511 000009D6 0015                       DATA FOR SOURCE-LINE 1462
 8512 000009D8 0008                       DATA FOR SOURCE-LINE 1478
 8513 000009DA 0080                       DATA FOR SOURCE-LINE 1484
 8514 000009DC 01F4                       DATA FOR SOURCE-LINE 1493
 8515 000009DE 0000                       ALIGNMENT CODE
 8516 000009E0 00000000                   DATA FOR SOURCE-LINE 1391,1440,1451,1462
 8517 000009E4 00000000                   DATA FOR SOURCE-LINE 1406
 8518 000009E8 00000000                   DATA FOR SOURCE-LINE 1445
 8519 000009EC 00000000                   DATA FOR SOURCE-LINE 1456
 8520 000009F0 00000000                   DATA FOR SOURCE-LINE 1476
 8521 000009F4 00000000                   DATA FOR SOURCE-LINE 1482
 8522 000009F8 00000000                   DATA FOR SOURCE-LINE 1490
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    46
PROGRAM NAME =

 8523 000009FC 00000000                   DATA FOR SOURCE-LINE 1494
 8524 00000A00 00000000                   DATA FOR SOURCE-LINE 1497
 8525 00000A04 00000000                   DATA FOR SOURCE-LINE 1498
 8526 00000A08 00000000                   DATA FOR SOURCE-LINE 1501
 8527                                     ***** END-POOL *****
 8528 00000A0C                   1505     RDY_CHK_0199:
 8529                            1506             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したいをOFF
 8530 00000A0C D003                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8531 00000A0E 400B                   M           JSR     @R0                     ;
 8532 00000A10 0009                   M           NOP                                     ;
 8533                            1507             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
 8534 00000A12 D003                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8535 00000A14 400B                   M           JSR     @R0                     ;
 8536 00000A16 0009                   M           NOP                                     ;
 8537                            1508     
 8538                            1509             M_BRA   RDY_CHK_EXIT
 8539 00000A18 A1C2                   M           BRA     RDY_CHK_EXIT
 8540 00000A1A 0009                   M           NOP
 8541                            1510     
 8542                            1511     ;       ===================================
 8543                            1512     ;       ===     準備完了ON              ===
 8544                            1513     ;       ===     起動または準備未完了    ===
 8545                            1514     ;       ===================================
 8546                                     ***** BEGIN-POOL *****
 8547 00000A1C 00000000                   DATA FOR SOURCE-LINE 1506
 8548 00000A20 00000000                   DATA FOR SOURCE-LINE 1507
 8549                                     ***** END-POOL *****
 8550 00000A24                   1515     RDY_CHK_0200:
 8551                            1516              .AIF   1 EQ 1  ;
 8552                            1517 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8553                            1518              .AENDI
 8554                            1519             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-07-22 二重回路対策
 8555 00000A24 D00E                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8556 00000A26 400B                   M           JSR     @R0                     ;
 8557 00000A28 0009                   M           NOP                                     ;
 8558                            1520     
 8559                            1521     
 8560                            1522             FAR_JSR #_RDYON_CONF1,R1                ;
 8561 00000A2A D10E                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8562 00000A2C 410B                   M           JSR     @R1                     ;
 8563 00000A2E 0009                   M           NOP                                     ;
 8564 00000A30 2008              1523             TST     R0,R0                           ;
 8565                            1524             TST_BIT_ON RDY_CHK_0299A                ;準備未完了へ
 8566 00000A32 8B2D                   M           BF      RDY_CHK_0299A
 8567                            1525     
 8568                            1526     
 8569                            1527     ;       ------------------------------------
 8570                            1528             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8571 00000A34 D00C                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8572 00000A36 400B                   M           JSR     @R0                     ;
 8573 00000A38 0009                   M           NOP                                     ;
 8574                            1529     ;       ------------------------------------
 8575                            1530     
 8576                            1531             FAR_JSR #_BTTN_START_CHK,R1             ;(0.5秒同時ON,) R0=00(KEEP) 55(起動) FF(準
                                          備未完へ)
 8577 00000A3A D10C                   M           MOV.L   #_BTTN_START_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8578 00000A3C 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    47
PROGRAM NAME =

 8579 00000A3E 0009                   M           NOP                                     ;
 8580 00000A40 2008              1532             TST     R0,R0                           ;
 8581                            1533             TST_BIT_OF RDY_CHK_0290A                ;変化なし 2002-10-08 相手側ﾁｪｯｸ
 8582 00000A42 8923                   M           BT      RDY_CHK_0290A
 8583 00000A44 8855              1534             CMP/EQ  #H'55,R0                        ;
 8584 00000A46 8B23              1535             BF      RDY_CHK_0299A                   ;失敗 -1
 8585                            1536     
 8586                            1537     ;       ---------------------------
 8587                            1538     ;       ---                     ---
 8588                            1539     ;       ---     起動が入った    ---
 8589                            1540     ;       ---     2007-01-16      ---
 8590                            1541     ;       ---                     ---
 8591                            1542     ;       ---------------------------
 8592                            1543             FAR_JSR #_DRV_START_KEP_WAIT,R0         ;
 8593 00000A48 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8594 00000A4A 400B                   M           JSR     @R0                     ;
 8595 00000A4C 0009                   M           NOP                                     ;
 8596 00000A4E 2008              1544             TST     R0,R0                           ;
 8597                            1545             TST_BIT_OF RDY_CHK_0280                 ;(原点復帰または解除中ではない)
 8598 00000A50 8912                   M           BT      RDY_CHK_0280
 8599 00000A52 8855              1546             CMP/EQ  #H'55,R0                        ;
 8600 00000A54 8B1A              1547             BF      RDY_CHK_0290A                   ;
 8601                            1548     
 8602                            1549     ;       ------- 起動時の原点復帰時の演算(ﾚﾍﾞﾙﾀｲﾌﾟのみ使用可能)------
 8603                            1550             FAR_JSR #_ORGIN_MODE_SEL_START,R0       ;
 8604 00000A56 D007                   M           MOV.L   #_ORGIN_MODE_SEL_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8605 00000A58 400B                   M           JSR     @R0                     ;
 8606 00000A5A 0009                   M           NOP                                     ;
 8607                            1551     
 8608                            1552             M_BRA   RDY_CHK_0220                    ;起動
 8609 00000A5C A01A                   M           BRA     RDY_CHK_0220
 8610 00000A5E 0009                   M           NOP
 8611                            1553     
 8612                            1554     
 8613                                     ***** BEGIN-POOL *****
 8614 00000A60 00000000                   DATA FOR SOURCE-LINE 1519
 8615 00000A64 00000000                   DATA FOR SOURCE-LINE 1522
 8616 00000A68 00000000                   DATA FOR SOURCE-LINE 1528
 8617 00000A6C 00000000                   DATA FOR SOURCE-LINE 1531
 8618 00000A70 00000000                   DATA FOR SOURCE-LINE 1543
 8619 00000A74 00000000                   DATA FOR SOURCE-LINE 1550
 8620                                     ***** END-POOL *****
 8621 00000A78                   1555     RDY_CHK_0280
 8622                            1556     
 8623                            1557     ;       ===================================
 8624                            1558     ;       ===                             ===
 8625                            1559     ;       ===     2006-07-28              ===
 8626                            1560     ;       ===     原点起動                ===
 8627                            1561     ;       ===                             ===
 8628                            1562     ;       ===================================
 8629                            1563     ;       ここには手動パルサ以外こない
 8630                            1564             FAR_JSR #_ORGIN_MODE_SEL_WAIT,R0        ;
 8631 00000A78 D003                   M           MOV.L   #_ORGIN_MODE_SEL_WAIT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8632 00000A7A 400B                   M           JSR     @R0                     ;
 8633 00000A7C 0009                   M           NOP                                     ;
 8634 00000A7E 2008              1565             TST     R0,R0                           ;
 8635                            1566             TST_BIT_OF RDY_CHK_0220                 ;起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    48
PROGRAM NAME =

 8636 00000A80 8908                   M           BT      RDY_CHK_0220
 8637                            1567             M_BRA   RDY_CHK_0399                    ;
 8638 00000A82 A0A9                   M           BRA     RDY_CHK_0399
 8639 00000A84 0009                   M           NOP
 8640                            1568     
 8641                            1569     
 8642                                     ***** BEGIN-POOL *****
 8643 00000A86 0000                       ALIGNMENT CODE
 8644 00000A88 00000000                   DATA FOR SOURCE-LINE 1564
 8645                                     ***** END-POOL *****
 8646 00000A8C                   1570     RDY_CHK_0290A:
 8647                            1571             M_BRA   RDY_CHK_0290                    ;
 8648 00000A8C A08E                   M           BRA     RDY_CHK_0290
 8649 00000A8E 0009                   M           NOP
 8650                            1572     
 8651 00000A90                   1573     RDY_CHK_0299A:
 8652                            1574             M_BRA   RDY_CHK_0299                    ;失敗 -1
 8653 00000A90 A096                   M           BRA     RDY_CHK_0299
 8654 00000A92 0009                   M           NOP
 8655                            1575     
 8656                            1576     
 8657 00000A94                   1577     RDY_CHK_0220:
 8658                            1578     
 8659                            1579     ;       ===================================
 8660                            1580     ;       ===     擬似起動処理            ===
 8661                            1581     ;       ===================================
 8662                            1582             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
 8663 00000A94 D007                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8664 00000A96 400B                   M           JSR     @R0                     ;
 8665 00000A98 0009                   M           NOP                                     ;
 8666                            1583     
 8667                            1584             FAR_JSR #_CPU_AB_STR_ON_OUT,R0          ;
 8668 00000A9A D007                   M           MOV.L   #_CPU_AB_STR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8669 00000A9C 400B                   M           JSR     @R0                     ;
 8670 00000A9E 0009                   M           NOP                                     ;
 8671 00000AA0 9006              1585             MOV.W   #BIT0,R0                        ;
 8672 00000AA2 D106              1586             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 8673 00000AA4 2101              1587             MOV.W   R0,@R1                          ;
 8674                            1588     
 8675                            1589     ;       ==== 2003-07-01 ====
 8676                            1590             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;
 8677 00000AA6 D006                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8678 00000AA8 400B                   M           JSR     @R0                     ;
 8679 00000AAA 0009                   M           NOP                                     ;
 8680                            1591             M_BRA   RDY_CHK_0399                    ;準備完了はONのままとする
 8681 00000AAC A094                   M           BRA     RDY_CHK_0399
 8682 00000AAE 0009                   M           NOP
 8683                            1592     
 8684                                     ***** BEGIN-POOL *****
 8685 00000AB0 0001                       DATA FOR SOURCE-LINE 1585
 8686 00000AB2 0000                       ALIGNMENT CODE
 8687 00000AB4 00000000                   DATA FOR SOURCE-LINE 1582
 8688 00000AB8 00000000                   DATA FOR SOURCE-LINE 1584
 8689 00000ABC 00000000                   DATA FOR SOURCE-LINE 1586
 8690 00000AC0 00000000                   DATA FOR SOURCE-LINE 1590
 8691                                     ***** END-POOL *****
 8692 00000AC4                   1593     RDY_CHK_0200_START_WAIT:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    49
PROGRAM NAME =

 8693                            1594     ;       ---- 2015-03-15-------
 8694                            1595             .AIF    0 EQ    0       ;
 8695                            1596             .AELSE
 8696                            1597             FAR_JSR #_ELSE_CPU_START_POS_PRESET,R0  ;
 8697                            1598             .AENDI
 8698                            1599     
 8699                            1600             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 8700 00000AC4 D007                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8701 00000AC6 400B                   M           JSR     @R0                     ;
 8702 00000AC8 0009                   M           NOP                                     ;
 8703 00000ACA 2008              1601             TST     R0,R0                           ;
 8704                            1602             TST_BIT_ON RDY_CHK_0200_START           ;相手も起動したいぞ(これを最初にﾁｪｯｸする事
                                          )
 8705 00000ACC 8B12                   M           BF      RDY_CHK_0200_START
 8706                            1603     
 8707                            1604     
 8708                            1605     ;       -------HOLDからの起動(運転釦無し、自動起動)　2014-09-01--------------
 8709 00000ACE D106              1606             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8710 00000AD0 6011              1607             MOV.W   @R1,R0                          ;
 8711 00000AD2 2008              1608             TST     R0,R0                           ;
 8712                            1609             TST_BIT_ON RDY_CHK_0200_START_WT2       ;
 8713 00000AD4 8B0C                   M           BF      RDY_CHK_0200_START_WT2
 8714                            1610     ;       ------------------------------------------------
 8715                            1611     
 8716                            1612     
 8717                            1613             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
 8718 00000AD6 D005                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8719 00000AD8 400B                   M           JSR     @R0                     ;
 8720 00000ADA 0009                   M           NOP                                     ;
 8721                            1614     
 8722 00000ADC 2008              1615             TST     R0,R0                           ;
 8723                            1616             TST_BIT_ON RDY_CHK_0200_START_WT2       ;(準備完了ONならいつまでもまつ)
 8724 00000ADE 8B07                   M           BF      RDY_CHK_0200_START_WT2
 8725                            1617             M_BRA   RDY_CHK_0299                    ;失敗:起動をあきらめる
 8726 00000AE0 A06E                   M           BRA     RDY_CHK_0299
 8727 00000AE2 0009                   M           NOP
 8728                            1618     
 8729                                     ***** BEGIN-POOL *****
 8730 00000AE4 00000000                   DATA FOR SOURCE-LINE 1600
 8731 00000AE8 00000000                   DATA FOR SOURCE-LINE 1606
 8732 00000AEC 00000000                   DATA FOR SOURCE-LINE 1613
 8733                                     ***** END-POOL *****
 8734 00000AF0                   1619     RDY_CHK_0200_START_WT2:
 8735                            1620             M_BRA   RDY_CHK_0399
 8736 00000AF0 A072                   M           BRA     RDY_CHK_0399
 8737 00000AF2 0009                   M           NOP
 8738                            1621     
 8739 00000AF4                   1622     RDY_CHK_0200_START:
 8740                            1623     
 8741                            1624     ;       ===================================
 8742                            1625     ;       ===     起動処理                ===
 8743                            1626     ;       ===================================
 8744                            1627     
 8745                            1628     ;;;;;   FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8746                            1629     
 8747                            1630     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8748                            1631             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;2005-01-17
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    50
PROGRAM NAME =

 8749 00000AF4 D01C                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8750 00000AF6 400B                   M           JSR     @R0                     ;
 8751 00000AF8 0009                   M           NOP                                     ;
 8752                            1632     
 8753                            1633             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8754 00000AFA D11C                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8755 00000AFC 6011                   M           MOV.W   @R1,R0          ;
 8756 00000AFE 9430                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8757 00000B00 2049                   M           AND     R4,R0           ;
 8758 00000B02 2101                   M           MOV.W   R0,@R1          ;
 8759                            1634     
 8760                            1635             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
 8761 00000B04 D01A                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8762 00000B06 400B                   M           JSR     @R0                     ;
 8763 00000B08 0009                   M           NOP                                     ;
 8764                            1636             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
 8765 00000B0A D01A                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8766 00000B0C 400B                   M           JSR     @R0                     ;
 8767 00000B0E 0009                   M           NOP                                     ;
 8768                            1637             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
 8769 00000B10 D019                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8770 00000B12 400B                   M           JSR     @R0                     ;
 8771 00000B14 0009                   M           NOP                                     ;
 8772                            1638     
 8773                            1639     ;       ==== 2004-01-28 ==
 8774 00000B16 200A              1640             XOR     R0,R0
 8775 00000B18 D118              1641             MOV.L   #_ENC360_OVER_FLG,R1            ;
 8776 00000B1A 2101              1642             MOV.W   R0,@R1                          ;
 8777                            1643     
 8778                            1644             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
 8779 00000B1C D018                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8780 00000B1E 400B                   M           JSR     @R0                     ;
 8781 00000B20 0009                   M           NOP                                     ;
 8782                            1645     
 8783                            1646             FAR_JSR #_CB_CTL_START_INI,R0
 8784 00000B22 D018                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8785 00000B24 400B                   M           JSR     @R0                     ;
 8786 00000B26 0009                   M           NOP                                     ;
 8787                            1647             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
 8788 00000B28 D017                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8789 00000B2A 400B                   M           JSR     @R0                     ;
 8790 00000B2C 0009                   M           NOP                                     ;
 8791                            1648     
 8792                            1649     
 8793                            1650             FAR_JSR #_MN_POS_CTRL_START,R0                                                  ;
 8794 00000B2E D017                   M           MOV.L   #_MN_POS_CTRL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8795 00000B30 400B                   M           JSR     @R0                     ;
 8796 00000B32 0009                   M           NOP                                     ;
 8797                            1651     
 8798                            1652     
 8799                            1653     
 8800                            1654     ;       --------------------2014-09-19-----------------------
 8801                            1655             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
 8802 00000B34 D016                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8803 00000B36 400B                   M           JSR     @R0                     ;
 8804 00000B38 0009                   M           NOP                                     ;
 8805                            1656     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    51
PROGRAM NAME =

 8806                            1657     ;       --------------------2014-09-12-----------------------
 8807                            1658     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
 8808                            1659     ;;;;;;;;;;;     MOV.W   @R1,R0                  ;
 8809                            1660     ;;;;;;;;;;;     PUSH_REG1 R0
 8810                            1661     ;;;;;;;;;;;
 8811                            1662     ;;;;;;;;;;;     FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12[位置計算後にCLR]
 8812                            1663     ;;;;;;;;;;;
 8813                            1664     ;;;;;;;;;;;     POP_REG1 R0
 8814                            1665     ;;;;;;;;;;;     TST     R0,R0                           ;
 8815                            1666     ;;;;;;;;;;;     TST_BIT_OF RDY_POSHLD_CHK050            ;再起動
 8816                            1667     ;;;;;;;;;;;
 8817                            1668     ;;;;;;;;;;;     MOV.B   #BIT0,R0                        ;
 8818                            1669     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
 8819                            1670     ;;;;;;;;;;;     MOV.W   R0,@R1                          ;
 8820                            1671     ;;;;;;;;;;;
 8821                            1672     ;;;;;;;;;;;RDY_POSHLD_CHK050
 8822                            1673     ;       --------------------------------------
 8823                            1674     
 8824                            1675             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
 8825 00000B3A D116                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
 8826 00000B3C 9212                   M           MOV.W   #BIT0,R2                ;
 8827 00000B3E 2121                   M           MOV.W   R2,@R1  ;
 8828                            1676             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
 8829 00000B40 D015                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8830 00000B42 400B                   M           JSR     @R0                     ;
 8831 00000B44 0009                   M           NOP                                     ;
 8832                            1677     
 8833                            1678             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8834 00000B46 D015                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8835 00000B48 400B                   M           JSR     @R0                     ;
 8836 00000B4A 0009                   M           NOP                                     ;
 8837                            1679             FAR_JSR #_RDY_OF,R1                     ;
 8838 00000B4C D114                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8839 00000B4E 410B                   M           JSR     @R1                     ;
 8840 00000B50 0009                   M           NOP                                     ;
 8841                            1680     
 8842                            1681              .AIF   1 EQ 1  ;
 8843                            1682 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8844                            1683              .AENDI
 8845                            1684             FAR_JSR #_SELFCHK_LOCK_SET,R0           ;2016-04-16
 8846 00000B52 D014                   M           MOV.L   #_SELFCHK_LOCK_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8847 00000B54 400B                   M           JSR     @R0                     ;
 8848 00000B56 0009                   M           NOP                                     ;
 8849                            1685     
 8850                            1686     
 8851                            1687     ;       ====== 2007-01-16========
 8852                            1688             FAR_JSR #_START_SFTY_LOCK_CLR,R0
 8853 00000B58 D013                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8854 00000B5A 400B                   M           JSR     @R0                     ;
 8855 00000B5C 0009                   M           NOP                                     ;
 8856                            1689     
 8857                            1690     
 8858                            1691     
 8859                            1692     
 8860                            1693     
 8861                            1694     ;;;     XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    52
PROGRAM NAME =

 8862                            1695     ;;;     MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したいは終わり側にも使用する
 8863                            1696     ;;;     MOV.W   R0,@R1                          ;
 8864                            1697     ;;;     FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 8865                            1698             M_BRA   RDY_CHK_0399                    ;
 8866 00000B5E A03B                   M           BRA     RDY_CHK_0399
 8867 00000B60 0009                   M           NOP
 8868                            1699     
 8869                            1700     ;       ====== 保持状態=======
 8870                                     ***** BEGIN-POOL *****
 8871 00000B62 FFF7                       DATA FOR SOURCE-LINE 1633
 8872 00000B64 0001                       DATA FOR SOURCE-LINE 1675
 8873 00000B66 0000                       ALIGNMENT CODE
 8874 00000B68 00000000                   DATA FOR SOURCE-LINE 1631
 8875 00000B6C 00000000                   DATA FOR SOURCE-LINE 1633
 8876 00000B70 00000000                   DATA FOR SOURCE-LINE 1635
 8877 00000B74 00000000                   DATA FOR SOURCE-LINE 1636
 8878 00000B78 00000000                   DATA FOR SOURCE-LINE 1637
 8879 00000B7C 00000000                   DATA FOR SOURCE-LINE 1641
 8880 00000B80 00000000                   DATA FOR SOURCE-LINE 1644
 8881 00000B84 00000000                   DATA FOR SOURCE-LINE 1646
 8882 00000B88 00000000                   DATA FOR SOURCE-LINE 1647
 8883 00000B8C 00000000                   DATA FOR SOURCE-LINE 1650
 8884 00000B90 00000000                   DATA FOR SOURCE-LINE 1655
 8885 00000B94 00000000                   DATA FOR SOURCE-LINE 1675
 8886 00000B98 00000000                   DATA FOR SOURCE-LINE 1676
 8887 00000B9C 00000000                   DATA FOR SOURCE-LINE 1678
 8888 00000BA0 00000000                   DATA FOR SOURCE-LINE 1679
 8889 00000BA4 00000000                   DATA FOR SOURCE-LINE 1684
 8890 00000BA8 00000000                   DATA FOR SOURCE-LINE 1688
 8891                                     ***** END-POOL *****
 8892 00000BAC                   1701     RDY_CHK_0290:                           ;((((()))))
 8893                            1702             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8894 00000BAC D003                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8895 00000BAE 400B                   M           JSR     @R0                     ;
 8896 00000BB0 0009                   M           NOP                                     ;
 8897 00000BB2 2008              1703             TST     R0,R0                   ;
 8898                            1704             TST_BIT_OF RDY_CHK_0299         ;相手側CPUのせいで準備未完了へ
 8899 00000BB4 8904                   M           BT      RDY_CHK_0299
 8900                            1705             M_BRA   RDY_CHK_0399            ;
 8901 00000BB6 A00F                   M           BRA     RDY_CHK_0399
 8902 00000BB8 0009                   M           NOP
 8903                            1706     
 8904                            1707     ;       ======= 準備完了失敗====
 8905                                     ***** BEGIN-POOL *****
 8906 00000BBA 0000                       ALIGNMENT CODE
 8907 00000BBC 00000000                   DATA FOR SOURCE-LINE 1702
 8908                                     ***** END-POOL *****
 8909 00000BC0                   1708     RDY_CHK_0299:
 8910                            1709             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
 8911 00000BC0 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8912 00000BC2 400B                   M           JSR     @R0                     ;
 8913 00000BC4 0009                   M           NOP                                     ;
 8914                            1710             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8915 00000BC6 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8916 00000BC8 400B                   M           JSR     @R0                     ;
 8917 00000BCA 0009                   M           NOP                                     ;
 8918                            1711             FAR_JSR #_RDY_OF,R0                     ;準備未完了へ遷移
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    53
PROGRAM NAME =

 8919 00000BCC D005                   M           MOV.L   #_RDY_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8920 00000BCE 400B                   M           JSR     @R0                     ;
 8921 00000BD0 0009                   M           NOP                                     ;
 8922                            1712     ;;;     FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 8923                            1713     
 8924                            1714     ;       ------- 2007-01-16----------
 8925 00000BD2 200A              1715             XOR     R0,R0
 8926 00000BD4 D104              1716             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 8927 00000BD6 2101              1717             MOV.W   R0,@R1                          ;
 8928                            1718     
 8929 00000BD8                   1719     RDY_CHK_0399:
 8930                            1720             M_BRA   RDY_CHK_EXIT
 8931 00000BD8 A0E2                   M           BRA     RDY_CHK_EXIT
 8932 00000BDA 0009                   M           NOP
 8933                            1721     
 8934                            1722     
 8935                            1723     
 8936                            1724     ;       ===================================
 8937                            1725     ;       ===     ﾊﾞﾙﾌﾞON(位置決め中)     ===
 8938                            1726     ;       ===================================
 8939                            1727     ;       >> ﾛｯﾄｶｳﾝﾀ処理 <<
 8940                                     ***** BEGIN-POOL *****
 8941 00000BDC 00000000                   DATA FOR SOURCE-LINE 1709
 8942 00000BE0 00000000                   DATA FOR SOURCE-LINE 1710
 8943 00000BE4 00000000                   DATA FOR SOURCE-LINE 1711
 8944 00000BE8 00000000                   DATA FOR SOURCE-LINE 1716
 8945                                     ***** END-POOL *****
 8946 00000BEC                   1728     RDY_CHK_0500:
 8947                            1729     
 8948                            1730     ;;;2007-12-24   FAR_JSR #_LOT_CNT_CNT,R0        ;
 8949                            1731     
 8950                            1732     
 8951                            1733             FAR_JSR #_STEP_SIG_DISP,R0      ;
 8952 00000BEC D006                   M           MOV.L   #_STEP_SIG_DISP,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8953 00000BEE 400B                   M           JSR     @R0                     ;
 8954 00000BF0 0009                   M           NOP                                     ;
 8955                            1734     ;       ==== 2003-07-09 ====
 8956                            1735             FAR_JSR #_CNT_SPM_DISP_CHK,R0
 8957 00000BF2 D006                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8958 00000BF4 400B                   M           JSR     @R0                     ;
 8959 00000BF6 0009                   M           NOP                                     ;
 8960                            1736     ;       ====================
 8961                            1737     
 8962                            1738     ;       ---------------------------------------------------------
 8963                            1739     ;       --------------------[一旦停止処理]-------------------
 8964                            1740     ;       ---------------------------------------------------------
 8965                            1741             FAR_JSR #_POSHLD1_STEP1_STOPCMD_CHK,R0                  ;
 8966 00000BF8 D005                   M           MOV.L   #_POSHLD1_STEP1_STOPCMD_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8967 00000BFA 400B                   M           JSR     @R0                     ;
 8968 00000BFC 0009                   M           NOP                                     ;
 8969 00000BFE 2008              1742             TST     R0,R0                                           ;
 8970                            1743             TST_BIT_OF RDY_CHK_0505                                 ;
 8971 00000C00 8908                   M           BT      RDY_CHK_0505
 8972                            1744             M_BRA   RDY_CHK_1000                                    ;
 8973 00000C02 A07E                   M           BRA     RDY_CHK_1000
 8974 00000C04 0009                   M           NOP
 8975                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    54
PROGRAM NAME =

 8976 00000C06 0000                       ALIGNMENT CODE
 8977 00000C08 00000000                   DATA FOR SOURCE-LINE 1733
 8978 00000C0C 00000000                   DATA FOR SOURCE-LINE 1735
 8979 00000C10 00000000                   DATA FOR SOURCE-LINE 1741
 8980                                     ***** END-POOL *****
 8981 00000C14                   1745     RDY_CHK_0505:
 8982                            1746     
 8983                            1747     
 8984                            1748     
 8985                            1749     ;       --------- 2006-07-28---------------------
 8986                            1750     ;       位置決めキャンセル機能１
 8987                            1751             FAR_JSR #_POS_CANSEL_STOP_CHK,R0        ;
 8988 00000C14 D003                   M           MOV.L   #_POS_CANSEL_STOP_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8989 00000C16 400B                   M           JSR     @R0                     ;
 8990 00000C18 0009                   M           NOP                                     ;
 8991 00000C1A 2008              1752             TST     R0,R0                           ;
 8992                            1753             TST_BIT_OF RDY_CHK_0510                 ;
 8993 00000C1C 8904                   M           BT      RDY_CHK_0510
 8994                            1754             M_BRA   RDY_CHK_1000                    ;
 8995 00000C1E A070                   M           BRA     RDY_CHK_1000
 8996 00000C20 0009                   M           NOP
 8997                                     ***** BEGIN-POOL *****
 8998 00000C22 0000                       ALIGNMENT CODE
 8999 00000C24 00000000                   DATA FOR SOURCE-LINE 1751
 9000                                     ***** END-POOL *****
 9001 00000C28                   1755     RDY_CHK_0510:
 9002                            1756     ;       ----------------------------------------------
 9003                            1757     ;       ===== 各々のモード処理======
 9004 00000C28 D102              1758             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
 9005 00000C2A 6011              1759             MOV.W   @R1,R0                  ;
 9006 00000C2C 2008              1760             TST     R0,R0                   ;
 9007                            1761             TST_BIT_ON RDY_CHK_0520         ;BIT0
 9008 00000C2E 8B03                   M           BF      RDY_CHK_0520
 9009                            1762             M_BRA   RDY_CHK_1000            ;
 9010 00000C30 A067                   M           BRA     RDY_CHK_1000
 9011 00000C32 0009                   M           NOP
 9012                            1763     
 9013                                     ***** BEGIN-POOL *****
 9014 00000C34 00000000                   DATA FOR SOURCE-LINE 1758
 9015                                     ***** END-POOL *****
 9016 00000C38                   1764     RDY_CHK_0520:
 9017                            1765     
 9018                            1766     ;       ------ 2007-03-02[CMP]------------------------
 9019 00000C38 D102              1767             MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 9020 00000C3A 6011              1768             MOV.W   @R1,R0                          ;
 9021 00000C3C C802              1769             TST     #BIT1,R0                        ;
 9022                            1770             TST_BIT_OF RDY_CHK_0525                 ;
 9023 00000C3E 8903                   M           BT      RDY_CHK_0525
 9024                            1771             M_BRA   RDY_CHK_1000                    ;
 9025 00000C40 A05F                   M           BRA     RDY_CHK_1000
 9026 00000C42 0009                   M           NOP
 9027                                     ***** BEGIN-POOL *****
 9028 00000C44 00000000                   DATA FOR SOURCE-LINE 1767
 9029                                     ***** END-POOL *****
 9030 00000C48                   1772     RDY_CHK_0525:
 9031                            1773     ;       ----------------------------------------
 9032                            1774     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    55
PROGRAM NAME =

 9033                            1775     
 9034                            1776     ;       -------- 2007-02-05 ----------
 9035                            1777     ;2015-09-06_BRK_SADOU_CHG EQ 1
 9036                            1778     ;;;廃止 FAR_JSR #_SFTY_DLY_SET2,R0      ;全モードで停止後の遮光ブレーキ遅延時間
 9037                            1779     
 9038 00000C48 D106              1780             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 9039 00000C4A 6011              1781             MOV.W   @R1,R0                  ;
 9040 00000C4C C808              1782             TST     #_W1CNT,R0              ;
 9041                            1783             TST_BIT_OF RDY_CHK_0600         ;
 9042 00000C4E 8915                   M           BT      RDY_CHK_0600
 9043                            1784     
 9044 00000C50 9106              1785             MOV.W   #(BIT12+BIT11),R1       ;
 9045 00000C52 2018              1786             TST     R1,R0
 9046                            1787             TST_BIT_OF RDY_CHK_0530         ;
 9047 00000C54 890A                   M           BT      RDY_CHK_0530
 9048                            1788     
 9049                            1789             FAR_JSR #_MODE_CSS_STOP_CHK,R0  ;連続一行程・連続寸動一行程
 9050 00000C56 D004                   M           MOV.L   #_MODE_CSS_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9051 00000C58 400B                   M           JSR     @R0                     ;
 9052 00000C5A 0009                   M           NOP                                     ;
 9053                            1790             M_BRA   RDY_CHK_1000
 9054 00000C5C A051                   M           BRA     RDY_CHK_1000
 9055 00000C5E 0009                   M           NOP
 9056                            1791     
 9057                                     ***** BEGIN-POOL *****
 9058 00000C60 1800                       DATA FOR SOURCE-LINE 1785
 9059 00000C62 0000                       ALIGNMENT CODE
 9060 00000C64 00000000                   DATA FOR SOURCE-LINE 1780
 9061 00000C68 00000000                   DATA FOR SOURCE-LINE 1789
 9062                                     ***** END-POOL *****
 9063 00000C6C                   1792     RDY_CHK_0530:
 9064                            1793             FAR_JSR #_MODE_CNT_STOP_CHK,R0  ;
 9065 00000C6C D002                   M           MOV.L   #_MODE_CNT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9066 00000C6E 400B                   M           JSR     @R0                     ;
 9067 00000C70 0009                   M           NOP                                     ;
 9068                            1794             M_BRA   RDY_CHK_1000
 9069 00000C72 A046                   M           BRA     RDY_CHK_1000
 9070 00000C74 0009                   M           NOP
 9071                                     ***** BEGIN-POOL *****
 9072 00000C76 0000                       ALIGNMENT CODE
 9073 00000C78 00000000                   DATA FOR SOURCE-LINE 1793
 9074                                     ***** END-POOL *****
 9075 00000C7C                   1795     RDY_CHK_0600:
 9076                            1796     
 9077 00000C7C C802              1797             TST     #_W1INC,R0              ;
 9078                            1798             TST_BIT_OF RDY_CHK_0650         ;
 9079 00000C7E 8907                   M           BT      RDY_CHK_0650
 9080                            1799             FAR_JSR #_MODE_INC_STOP_CHK,R0  ;
 9081 00000C80 D002                   M           MOV.L   #_MODE_INC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9082 00000C82 400B                   M           JSR     @R0                     ;
 9083 00000C84 0009                   M           NOP                                     ;
 9084                            1800             M_BRA   RDY_CHK_1000
 9085 00000C86 A03C                   M           BRA     RDY_CHK_1000
 9086 00000C88 0009                   M           NOP
 9087                            1801     
 9088                                     ***** BEGIN-POOL *****
 9089 00000C8A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    56
PROGRAM NAME =

 9090 00000C8C 00000000                   DATA FOR SOURCE-LINE 1799
 9091                                     ***** END-POOL *****
 9092 00000C90                   1802     RDY_CHK_0650:
 9093                            1803     
 9094 00000C90 C804              1804             TST     #_W1SGL,R0              ;
 9095                            1805             TST_BIT_OF RDY_CHK_0700         ;
 9096 00000C92 891B                   M           BT      RDY_CHK_0700
 9097                            1806     ;       === 回転時は一度                [作業一行程,一行程,外部安全一]
 9098                            1807             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9099 00000C94 D008                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9100 00000C96 400B                   M           JSR     @R0                     ;
 9101 00000C98 0009                   M           NOP                                     ;
 9102                            1808                                             ;上昇ホールドするかしないか
 9103                            1809     
 9104                            1810             FAR_JSR #_UP_HOLD_AREA_MASK,R0  ;安全一行程中のマスクするかしないかの条件
 9105 00000C9A D008                   M           MOV.L   #_UP_HOLD_AREA_MASK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9106 00000C9C 400B                   M           JSR     @R0                     ;
 9107 00000C9E 0009                   M           NOP                                     ;
 9108                            1811     
 9109                            1812     
 9110                            1813             FAR_JSR #_MODE_SGL_STOP_CHK,R0  ;AUTO SIGNAL MAKE　AUTOのための処理
 9111 00000CA0 D007                   M           MOV.L   #_MODE_SGL_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9112 00000CA2 400B                   M           JSR     @R0                     ;
 9113 00000CA4 0009                   M           NOP                                     ;
 9114                            1814     
 9115 00000CA6 D107              1815             MOV.L   #_UP_HOLD_FLG,R1        ;
 9116 00000CA8 6011              1816             MOV.W   @R1,R0                  ;
 9117 00000CAA C802              1817             TST     #BIT1,R0                ;上昇無効
 9118                            1818             TST_BIT_OF SGL_UP_HOLD_MASK050  ;
 9119 00000CAC 8902                   M           BT      SGL_UP_HOLD_MASK050
 9120                            1819     
 9121                            1820             FAR_JSR #_SFTY_MASK_START,R0    ;[[[[]]]]
 9122 00000CAE D006                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9123 00000CB0 400B                   M           JSR     @R0                     ;
 9124 00000CB2 0009                   M           NOP                                     ;
 9125                            1821     
 9126                            1822     
 9127                            1823     ;       -------- 2007-02-05 ----------
 9128                            1824     ;2015-09-06_BRK_SADOU_CHG EQ 1
 9129                            1825     ;;;廃止 FAR_JSR #_SFTY_DLY_SET1,R0      ;
 9130                            1826     
 9131                            1827     ;;;;;   -------- 2006-11-21-------------
 9132                            1828     ;;;;;   MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
 9133                            1829     ;;;;;   MOV.W   @R1,R0                  ;
 9134                            1830     ;;;;;   -------- 2007-01-16-----
 9135                            1831     ;;;;;   MOV.L   #_PAR_SLOCK_DLY2,R1     ;
 9136                            1832     ;;;;;   MOV.W   @R1,R1                  ;
 9137                            1833     ;;;;;   ADD     R1,R0                   ;
 9138                            1834     ;;;;;   MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
 9139                            1835     ;;;;;   MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
 9140                            1836     ;;;;;;  ---------------------------------
 9141                            1837     
 9142                            1838     
 9143 00000CB4                   1839     SGL_UP_HOLD_MASK050:
 9144                            1840             M_BRA   RDY_CHK_1000            ;
 9145 00000CB4 A025                   M           BRA     RDY_CHK_1000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    57
PROGRAM NAME =

 9146 00000CB6 0009                   M           NOP
 9147                            1841     
 9148                                     ***** BEGIN-POOL *****
 9149 00000CB8 00000000                   DATA FOR SOURCE-LINE 1807
 9150 00000CBC 00000000                   DATA FOR SOURCE-LINE 1810
 9151 00000CC0 00000000                   DATA FOR SOURCE-LINE 1813
 9152 00000CC4 00000000                   DATA FOR SOURCE-LINE 1815
 9153 00000CC8 00000000                   DATA FOR SOURCE-LINE 1820
 9154                                     ***** END-POOL *****
 9155 00000CCC                   1842     RDY_CHK_0700:
 9156                            1843     
 9157 00000CCC C810              1844             TST     #_W1OPT,R0              ;
 9158                            1845             TST_BIT_OF RDY_CHK_0750         ;
 9159 00000CCE 890B                   M           BT      RDY_CHK_0750
 9160                            1846             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9161 00000CD0 D003                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9162 00000CD2 400B                   M           JSR     @R0                     ;
 9163 00000CD4 0009                   M           NOP                                     ;
 9164                            1847             FAR_JSR #_MODE_OPT_STOP_CHK,R0  ;OPTION=安全一工程(分けるか?)
 9165 00000CD6 D003                   M           MOV.L   #_MODE_OPT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9166 00000CD8 400B                   M           JSR     @R0                     ;
 9167 00000CDA 0009                   M           NOP                                     ;
 9168                            1848             M_BRA   RDY_CHK_1000            ;
 9169 00000CDC A011                   M           BRA     RDY_CHK_1000
 9170 00000CDE 0009                   M           NOP
 9171                                     ***** BEGIN-POOL *****
 9172 00000CE0 00000000                   DATA FOR SOURCE-LINE 1846
 9173 00000CE4 00000000                   DATA FOR SOURCE-LINE 1847
 9174                                     ***** END-POOL *****
 9175 00000CE8                   1849     RDY_CHK_0750:
 9176                            1850     
 9177 00000CE8 C840              1851             TST     #_W1DUP,R0                      ;
 9178                            1852             TST_BIT_OF RDY_CHK_0950                 ;
 9179 00000CEA 8907                   M           BT      RDY_CHK_0950
 9180                            1853             FAR_JSR #_MODE_DUP_STOP_CHK,R0          ;待機点復帰
 9181 00000CEC D002                   M           MOV.L   #_MODE_DUP_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9182 00000CEE 400B                   M           JSR     @R0                     ;
 9183 00000CF0 0009                   M           NOP                                     ;
 9184                            1854             M_BRA   RDY_CHK_1000
 9185 00000CF2 A006                   M           BRA     RDY_CHK_1000
 9186 00000CF4 0009                   M           NOP
 9187                                     ***** BEGIN-POOL *****
 9188 00000CF6 0000                       ALIGNMENT CODE
 9189 00000CF8 00000000                   DATA FOR SOURCE-LINE 1853
 9190                                     ***** END-POOL *****
 9191 00000CFC                   1855     RDY_CHK_0950:
 9192                            1856     
 9193                            1857             FAR_JSR #_MODE_DIC_STOP_CHK,R0  ;段取
 9194 00000CFC D008                   M           MOV.L   #_MODE_DIC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9195 00000CFE 400B                   M           JSR     @R0                     ;
 9196 00000D00 0009                   M           NOP                                     ;
 9197                            1858     
 9198                            1859     ;       ===================================
 9199                            1860     ;       ===     位置決め部              ===
 9200                            1861     ;       ===================================
 9201 00000D02                   1862     RDY_CHK_1000:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    58
PROGRAM NAME =

 9202                            1863             FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 9203 00000D02 D108                   M           MOV.L   #_MN_POS_CTRL_ACT,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9204 00000D04 410B                   M           JSR     @R1                     ;
 9205 00000D06 0009                   M           NOP                                     ;
 9206                            1864                                                     ;<寸動等の停止 -->準備未完了へ "FF">
 9207                            1865                                                     ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 9208 00000D08 D107              1866             MOV.L   #_END_CMD_LATCH,R1
 9209 00000D0A 2101              1867             MOV.W   R0,@R1                          ;
 9210 00000D0C 2008              1868             TST     R0,R0                           ;
 9211                            1869             TST_BIT_OF RDY_CHK_EXIT                 ;(継続)
 9212 00000D0E 8947                   M           BT      RDY_CHK_EXIT
 9213                            1870     
 9214 00000D10 200A              1871             XOR     R0,R0                           ;
 9215 00000D12 D106              1872             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 9216 00000D14 2101              1873             MOV.W   R0,@R1                          ;
 9217                            1874             FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 9218 00000D16 D006                   M           MOV.L   #_CPU_BA_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9219 00000D18 400B                   M           JSR     @R0                     ;
 9220 00000D1A 0009                   M           NOP                                     ;
 9221                            1875             M_BRA   RDY_CHK_EXIT                    ;
 9222 00000D1C A040                   M           BRA     RDY_CHK_EXIT
 9223 00000D1E 0009                   M           NOP
 9224                            1876     
 9225                                     ***** BEGIN-POOL *****
 9226 00000D20 00000000                   DATA FOR SOURCE-LINE 1857
 9227 00000D24 00000000                   DATA FOR SOURCE-LINE 1863
 9228 00000D28 00000000                   DATA FOR SOURCE-LINE 1866
 9229 00000D2C 00000000                   DATA FOR SOURCE-LINE 1872
 9230 00000D30 00000000                   DATA FOR SOURCE-LINE 1874
 9231                                     ***** END-POOL *****
 9232 00000D34                   1877     RDY_CHK_1200:
 9233                            1878             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 9234 00000D34 D005                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9235 00000D36 400B                   M           JSR     @R0                     ;
 9236 00000D38 0009                   M           NOP                                     ;
 9237 00000D3A 2008              1879             TST     R0,R0                           ;
 9238                            1880             TST_BIT_ON RDY_CHK_EXIT                 ;起動状態のまま
 9239 00000D3C 8B30                   M           BF      RDY_CHK_EXIT
 9240                            1881     
 9241 00000D3E D104              1882             MOV.L   #_END_CMD_LATCH,R1              ;
 9242 00000D40 6011              1883             MOV.W   @R1,R0                          ;
 9243                            1884     
 9244 00000D42 8855              1885             CMP/EQ  #H'55,R0                        ;
 9245 00000D44 8906              1886             BT      RDY_CHK_CYCL_END                ;ｻｲｸﾙｴﾝﾄﾞ
 9246                            1887             M_BRA   RDY_CHK_END_COM                 ;寸動終了
 9247 00000D46 A014                   M           BRA     RDY_CHK_END_COM
 9248 00000D48 0009                   M           NOP
 9249                            1888     
 9250                                     ***** BEGIN-POOL *****
 9251 00000D4A 0000                       ALIGNMENT CODE
 9252 00000D4C 00000000                   DATA FOR SOURCE-LINE 1878
 9253 00000D50 00000000                   DATA FOR SOURCE-LINE 1882
 9254                                     ***** END-POOL *****
 9255 00000D54                   1889     RDY_CHK_CYCL_END:
 9256                            1890     ;;本当はここだけど、ここにこない        FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;(ﾛｯﾄｶｳﾝﾀ
                                          には使用できないので注意)
 9257                            1891     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    59
PROGRAM NAME =

 9258 00000D54 D115              1892             MOV.L   #_MODE_SEL,R1                   ;
 9259 00000D56 6011              1893             MOV.W   @R1,R0                          ;
 9260 00000D58 9225              1894             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9261 00000D5A 2028              1895             TST     R2,R0                           ;
 9262                            1896             TST_BIT_ON RDY_CHK_END_COM              ;
 9263 00000D5C 8B09                   M           BF      RDY_CHK_END_COM
 9264                            1897     
 9265 00000D5E D114              1898             MOV.L   #_SELF_CHK_SEL,R1               ;
 9266 00000D60 6011              1899             MOV.W   @R1,R0                          ;
 9267 00000D62 C802              1900             TST     #BIT1,R0                        ;2006-04-10 運転終了時にセルフするBIT1=1
 9268                            1901             TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9269 00000D64 8905                   M           BT      RDY_CHK_END_COM
 9270                            1902     
 9271                            1903     ;;2006-04-10    TST     #BIT0,R0                        ;
 9272                            1904     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9273                            1905     
 9274                            1906     ;;2006-04-10    TST     #BIT1,R0                        ;
 9275                            1907     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;//制御停止時ｾﾙﾌﾁｪｯｸしない JUMP
 9276                            1908     
 9277 00000D66 D113              1909             MOV.L   #_SELF_TIMING_SIG,R1            ;2006-04-10
 9278 00000D68 901E              1910             MOV.W   #1,R0                           ;2006-04-10
 9279 00000D6A 2101              1911             MOV.W   R0,@R1                          ;2006-04-10
 9280                            1912     
 9281                            1913     ; ==== //制御停止時ｾﾙﾌﾁｪｯｸする===
 9282 00000D6C D112              1914             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 9283 00000D6E 200A              1915             XOR     R0,R0                           ;
 9284 00000D70 2101              1916             MOV.W   R0,@R1                          ;
 9285                            1917     
 9286 00000D72                   1918     RDY_CHK_END_COM:
 9287                            1919             FAR_JSR #_STEP_SIG_DSP_CLR,R0           ;行程ｸﾘｱ
 9288 00000D72 D012                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9289 00000D74 400B                   M           JSR     @R0                     ;
 9290 00000D76 0009                   M           NOP                                     ;
 9291                            1920     
 9292                            1921             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;中断及び１回転終了時
 9293 00000D78 D011                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9294 00000D7A 400B                   M           JSR     @R0                     ;
 9295 00000D7C 0009                   M           NOP                                     ;
 9296                            1922     
 9297                            1923             FAR_JSR #_AUTO_OF,R0                    ;
 9298 00000D7E D011                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9299 00000D80 400B                   M           JSR     @R0                     ;
 9300 00000D82 0009                   M           NOP                                     ;
 9301                            1924     
 9302 00000D84 200A              1925             XOR     R0,R0
 9303 00000D86 D110              1926             MOV.L   #_DRV_ACT_FLG,R1                ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 9304 00000D88 2101              1927             MOV.W   R0,@R1                          ;
 9305                            1928     
 9306                            1929     ;;;;;;;;2017-05-08      FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05
 9307                            1930     
 9308                            1931             FAR_JSR #_FRCYCL_OF,R0                  ;上昇無効
 9309 00000D8A D010                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9310 00000D8C 400B                   M           JSR     @R0                     ;
 9311 00000D8E 0009                   M           NOP                                     ;
 9312                            1932     
 9313                            1933     ;       ==== 2017-05-12(一旦停止中)======
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    60
PROGRAM NAME =

 9314                            1934             FAR_JSR #_API_HOLD_WAIT_BRKOFF_SIG,R0
 9315 00000D90 D00F                   M           MOV.L   #_API_HOLD_WAIT_BRKOFF_SIG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9316 00000D92 400B                   M           JSR     @R0                     ;
 9317 00000D94 0009                   M           NOP                                     ;
 9318 00000D96 2008              1935             TST     R0,R0                           ;
 9319                            1936             TST_BIT_ON RDY_CHK_EXIT                 ;
 9320 00000D98 8B02                   M           BF      RDY_CHK_EXIT
 9321                            1937     
 9322                            1938             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2017-05-08
 9323 00000D9A D00E                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9324 00000D9C 400B                   M           JSR     @R0                     ;
 9325 00000D9E 0009                   M           NOP                                     ;
 9326                            1939     
 9327 00000DA0                   1940     RDY_CHK_EXIT:
 9328                            1941             SUB_END
 9329                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9330 00000DA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9331                            1942             M_RTS
 9332 00000DA2 000B                   M           RTS                             ;RTSの後ろの
 9333 00000DA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9334                            1943     
 9335                            1944     
 9336                            1945     ;       ***********************************
 9337                            1946     ;       ***                             ***
 9338                            1947     ;       ***     RDY-ON 維持条件         ***
 9339                            1948     ;       ***                             ***
 9340                            1949     ;       ***********************************
 9341                            1950     ;       R0=0 RDY ON KEEP
 9342                                     ***** BEGIN-POOL *****
 9343 00000DA6 0062                       DATA FOR SOURCE-LINE 1894
 9344 00000DA8 0001                       DATA FOR SOURCE-LINE 1910
 9345 00000DAA 0000                       ALIGNMENT CODE
 9346 00000DAC 00000000                   DATA FOR SOURCE-LINE 1892
 9347 00000DB0 00000000                   DATA FOR SOURCE-LINE 1898
 9348 00000DB4 00000000                   DATA FOR SOURCE-LINE 1909
 9349 00000DB8 00000000                   DATA FOR SOURCE-LINE 1914
 9350 00000DBC 00000000                   DATA FOR SOURCE-LINE 1919
 9351 00000DC0 00000000                   DATA FOR SOURCE-LINE 1921
 9352 00000DC4 00000000                   DATA FOR SOURCE-LINE 1923
 9353 00000DC8 00000000                   DATA FOR SOURCE-LINE 1926
 9354 00000DCC 00000000                   DATA FOR SOURCE-LINE 1931
 9355 00000DD0 00000000                   DATA FOR SOURCE-LINE 1934
 9356 00000DD4 00000000                   DATA FOR SOURCE-LINE 1938
 9357                                     ***** END-POOL *****
 9358 00000DD8                   1951     _RDYON_CONF1:
 9359                            1952             SUB_START
 9360 00000DD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9361                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9362 00000DDA D113              1953             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
 9363 00000DDC 6011              1954             MOV.W   @R1,R0                          ;
 9364 00000DDE 941D              1955             MOV.W   #BIT14,R4                       ;
 9365 00000DE0 2048              1956             TST     R4,R0                           ;
 9366                            1957             TST_BIT_ON RDY_ON_CF_999                ;一旦停止指令
 9367 00000DE2 8B2B                   M           BF      RDY_ON_CF_999
 9368                            1958     
 9369                            1959     ;       ----------------------------------------------
 9370                            1960             _MONI_RDY_SET SETNO=10,SETREG=R0,WKREG=R1       ;2014-09-13
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    61
PROGRAM NAME =

 9371 00000DE4 901B                   M           MOV.W   #10,R0
 9372 00000DE6 D111                   M           MOV.L   #_MONI_RDY_STEP,R1
 9373 00000DE8 2101                   M           MOV.W   R0,@R1
 9374                            1961     ;       ----------------------------------------------
 9375                            1962     
 9376 00000DEA D111              1963             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9377 00000DEC 6011              1964             MOV.W   @R1,R0                          ;
 9378 00000DEE C803              1965             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9379                            1966             TST_BIT_ON RDY_ON_CF_999                ;
 9380 00000DF0 8B24                   M           BF      RDY_ON_CF_999
 9381                            1967     
 9382                            1968     ;       ----------------------------------------------
 9383                            1969             _MONI_RDY_SET SETNO=11,SETREG=R0,WKREG=R1       ;2014-09-13
 9384 00000DF2 9015                   M           MOV.W   #11,R0
 9385 00000DF4 D10D                   M           MOV.L   #_MONI_RDY_STEP,R1
 9386 00000DF6 2101                   M           MOV.W   R0,@R1
 9387                            1970     ;       ----------------------------------------------
 9388                            1971     
 9389 00000DF8 D10E              1972             MOV.L   #_MODE_SEL,R1                   ;
 9390 00000DFA 6611              1973             MOV.W   @R1,R6                          ;
 9391 00000DFC 9211              1974             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9392 00000DFE 2628              1975             TST     R2,R6                           ;
 9393                            1976             TST_BIT_ON RDY_ON_CF_998                ;(寸動・段取はﾛｯﾄｶｳﾝﾄｱｯﾌﾟは関係なし)
 9394 00000E00 8B09                   M           BF      RDY_ON_CF_998
 9395                            1977     
 9396                            1978     ;       ----------------------------------------------
 9397                            1979             _MONI_RDY_SET SETNO=12,SETREG=R0,WKREG=R1       ;2014-09-13
 9398 00000E02 900F                   M           MOV.W   #12,R0
 9399 00000E04 D109                   M           MOV.L   #_MONI_RDY_STEP,R1
 9400 00000E06 2101                   M           MOV.W   R0,@R1
 9401                            1980     ;       ----------------------------------------------
 9402                            1981     
 9403 00000E08 D10B              1982             MOV.L   #_CNT_STOP_CMD,R1               ;
 9404 00000E0A 6011              1983             MOV.W   @R1,R0                          ;
 9405 00000E0C 2008              1984             TST     R0,R0                           ;
 9406                            1985             TST_BIT_ON RDY_ON_CF_999                ;連続停止,LOT,設定異常
 9407 00000E0E 8B15                   M           BF      RDY_ON_CF_999
 9408                            1986     
 9409                            1987     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
 9410                            1988     ;;      MOV.W   @R1,R0                          ;
 9411                            1989     ;;      MOV.W   #_W1END,R2                      ;
 9412                            1990     ;;      TST     R2,R0                           ;連続停止
 9413                            1991     ;;      TST_BIT_ON RDY_ON_CF_999                ;
 9414                            1992     
 9415                            1993     ;       ----------------------------------------------
 9416                            1994             _MONI_RDY_SET SETNO=13,SETREG=R0,WKREG=R1       ;2014-09-13
 9417 00000E10 9009                   M           MOV.W   #13,R0
 9418 00000E12 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 9419 00000E14 2101                   M           MOV.W   R0,@R1
 9420                            1995     ;       ----------------------------------------------
 9421                            1996     
 9422 00000E16                   1997     RDY_ON_CF_998:
 9423 00000E16 200A              1998             XOR     R0,R0                   ;準備完了
 9424                            1999             M_BRA   RDY_ON_CF_EXT           ;
 9425 00000E18 A011                   M           BRA     RDY_ON_CF_EXT
 9426 00000E1A 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    62
PROGRAM NAME =

 9427                                     ***** BEGIN-POOL *****
 9428 00000E1C 4000                       DATA FOR SOURCE-LINE 1955
 9429 00000E1E 000A                       DATA FOR SOURCE-LINE 1960
 9430 00000E20 000B                       DATA FOR SOURCE-LINE 1969
 9431 00000E22 0062                       DATA FOR SOURCE-LINE 1974
 9432 00000E24 000C                       DATA FOR SOURCE-LINE 1979
 9433 00000E26 000D                       DATA FOR SOURCE-LINE 1994
 9434 00000E28 00000000                   DATA FOR SOURCE-LINE 1953
 9435 00000E2C 00000000                   DATA FOR SOURCE-LINE 1960,1969,1979,1994
 9436 00000E30 00000000                   DATA FOR SOURCE-LINE 1963
 9437 00000E34 00000000                   DATA FOR SOURCE-LINE 1972
 9438 00000E38 00000000                   DATA FOR SOURCE-LINE 1982
 9439                                     ***** END-POOL *****
 9440 00000E3C                   2000     RDY_ON_CF_999:
 9441 00000E3C E0FF              2001             MOV     #-1,R0                  ;準備未完了
 9442 00000E3E                   2002     RDY_ON_CF_EXT:
 9443                            2003             SUB_END
 9444                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9445 00000E3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9446                            2004             M_RTS
 9447 00000E40 000B                   M           RTS                             ;RTSの後ろの
 9448 00000E42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9449                            2005     
 9450                            2006     ;       ***********************************
 9451                            2007     ;       ***                             ***
 9452                            2008     ;       ***     2006-04-10              ***
 9453                            2009     ;       ***                             ***
 9454                            2010     ;       ***********************************
 9455                            2011     ;;;;2015-09-06
 9456                            2012     ;;;;_BRK_SADOU_CHG EQ 0 廃止
 9457                            2013     ;;;;_RDY_OF_SFTY_LOCK:
 9458                            2014     ;;;;    SUB_START
 9459                            2015     ;;;;    MOV.L   #_PAR_SFTY_BRKSEL,R1            ;
 9460                            2016     ;;;;    MOV.W   @R1,R0                          ;
 9461                            2017     ;;;;    CMP/EQ  #1,R0                           ;
 9462                            2018     ;;;;    BF      RDY_OF_SFTYLOCK_END             ;
 9463                            2019     ;;;;
 9464                            2020     ;;;;;   ----------- 位置決め完了から遅延時間分は遮光になってもブレーキかけない安一------
 9465                            2021     ;;;;;   (ｾﾙﾌﾁｪｯｸ遅延時間)2007-01-16(ﾌﾞﾚｰｷをかけない)
 9466                            2022     ;;;;    MOV.L   #_SFTY_LOCK_DLYTM,R1            ;
 9467                            2023     ;;;;    MOV.W   @R1,R0                          ;(上昇ﾎｰﾙﾄﾞ無効)
 9468                            2024     ;;;;    TST     R0,R0                           ;
 9469                            2025     ;;;;    TST_BIT_ON RDY_OF_SFTYLOCK_END          ;(位置決め完了遅延時間)
 9470                            2026     ;;;;
 9471                            2027     ;;;;
 9472                            2028     ;;;;    MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9473                            2029     ;;;;    MOV.W   @R1,R0                          ;
 9474                            2030     ;;;;    TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9475                            2031     ;;;;    TST_BIT_OF RDY_OF_SFTYLOCK_100          ;
 9476                            2032     ;;;;
 9477                            2033     ;;;;
 9478                            2034     ;;;;    MOV.W   #BIT0,R0                        ;
 9479                            2035     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9480                            2036     ;;;;    MOV.W   R0,@R1                          ;
 9481                            2037     ;;;;    M_BRA   RDY_OF_SFTYLOCK_END             ;
 9482                            2038     ;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    63
PROGRAM NAME =

 9483                            2039     ;;;;RDY_OF_SFTYLOCK_100:
 9484                            2040     ;;;;    XOR     R0,R0
 9485                            2041     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9486                            2042     ;;;;    MOV.W   R0,@R1                          ;
 9487                            2043     ;;;;
 9488                            2044     ;;;;RDY_OF_SFTYLOCK_END:
 9489                            2045     ;;;;    SUB_END
 9490                            2046     ;;;;    M_RTS
 9491                            2047     
 9492                            2048     
 9493                            2049     ;       ***********************************
 9494                            2050     ;       ***                             ***
 9495                            2051     ;       ***     RDY-ON から起動条件     ***
 9496                            2052     ;       ***             準備未完へ      ***
 9497                            2053     ;       ***                             ***
 9498                            2054     ;       ***********************************
 9499                            2055     ;       (0.5秒同時ON,)
 9500                            2056     ;       R0=00(KEEP) H'55(起動) FF(準備未完へ)
 9501 00000E44                   2057     _BTTN_START_CHK:
 9502                            2058             SUB_START
 9503 00000E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9504                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9505                            2059     
 9506                            2060     ;       ------- 2007-01-16(遮光装置の遅延時の起動記憶)----------
 9507 00000E46 D105              2061             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 9508 00000E48 6011              2062             MOV.W   @R1,R0                          ;
 9509 00000E4A C801              2063             TST     #BIT0,R0                        ;
 9510                            2064             TST_BIT_OF BTTN_DRVSEP_CHK_END          ;
 9511 00000E4C 890D                   M           BT      BTTN_DRVSEP_CHK_END
 9512                            2065     
 9513 00000E4E D104              2066             MOV.L   #_BTTN_FLG,R1                   ;
 9514 00000E50 6011              2067             MOV.W   @R1,R0                          ;
 9515 00000E52 C804              2068             TST     #BIT2,R0                        ;両手ON
 9516                            2069             TST_BIT_OF BTTN_DRVSEP_CHK_CLR          ;両手ONをやめた
 9517 00000E54 8906                   M           BT      BTTN_DRVSEP_CHK_CLR
 9518                            2070             M_BRA   BTTN_START_CK570                ;
 9519 00000E56 A09E                   M           BRA     BTTN_START_CK570
 9520 00000E58 0009                   M           NOP
 9521                            2071     
 9522                                     ***** BEGIN-POOL *****
 9523 00000E5A 0000                       ALIGNMENT CODE
 9524 00000E5C 00000000                   DATA FOR SOURCE-LINE 2061
 9525 00000E60 00000000                   DATA FOR SOURCE-LINE 2066
 9526                                     ***** END-POOL *****
 9527 00000E64                   2072     BTTN_DRVSEP_CHK_CLR:
 9528 00000E64 200A              2073             XOR     R0,R0                   ;
 9529 00000E66 D10B              2074             MOV.L   #_DRV_START_KEEP,R1     ;FLG
 9530 00000E68 2101              2075             MOV.W   R0,@R1                  ;;
 9531 00000E6A                   2076     BTTN_DRVSEP_CHK_END:
 9532                            2077     
 9533                            2078     
 9534                            2079     ;;_BRK_SADOU_CHG EQ 0
 9535                            2080     ;;;;;;2015-09-06
 9536                            2081     ;;;;;;; ------- 2007-01-23(遮光装置の遅延時手動パルサは受け付けない)-------
 9537                            2082     ;;;;;;  MOV.L   #_RDY_SFTY_WAIT_TIM,R1                          ;
 9538                            2083     ;;;;;;  MOV.W   @R1,R0                                          ;
 9539                            2084     ;;;;;;  TST     R0,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    64
PROGRAM NAME =

 9540                            2085     ;;;;;;  TST_BIT_OF BTTN_DRVTEP_CHKEND                           ;
 9541                            2086     ;;;;;;  FAR_JSR #_TEPA_PLSCNT_CLR,R0                            ;
 9542                            2087     ;;;;;;BTTN_DRVTEP_CHKEND
 9543                            2088     ;       ---------------------------------[2]
 9544                            2089     
 9545                            2090     
 9546                            2091     
 9547                            2092     
 9548                            2093     
 9549 00000E6A D10B              2094             MOV.L   #_BTTN_FLG,R1           ;
 9550 00000E6C 6011              2095             MOV.W   @R1,R0                  ;
 9551 00000E6E C801              2096             TST     #BIT0,R0                ;両手ﾌﾘ?
 9552                            2097             TST_BIT_OF BTTN_START_CK100     ;NO JUMP
 9553 00000E70 8905                   M           BT      BTTN_START_CK100
 9554                            2098     
 9555                            2099             FAR_JSR #_TEPA_PLSCNT_CLR,R0    ;2006-07-28
 9556 00000E72 D00A                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9557 00000E74 400B                   M           JSR     @R0                     ;
 9558 00000E76 0009                   M           NOP                                     ;
 9559                            2100     
 9560 00000E78 9209              2101             MOV.W   #_SYS_BSAME_TIM,R2      ;(両手ﾌﾘｰ)
 9561 00000E7A D109              2102             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9562 00000E7C 2121              2103             MOV.W   R2,@R1                  ;
 9563 00000E7E                   2104     BTTN_START_CK100:
 9564                            2105     
 9565 00000E7E D109              2106             MOV.L   #_MODE_SEL,R1           ;
 9566 00000E80 6611              2107             MOV.W   @R1,R6                  ;
 9567 00000E82 9205              2108             MOV.W   #_W1CNT,R2              ;
 9568 00000E84 2628              2109             TST     R2,R6                   ;
 9569                            2110             TST_BIT_ON BTTN_START_CK150     ;
 9570 00000E86 8B0F                   M           BF      BTTN_START_CK150
 9571 00000E88 9203              2111             MOV.W   #H'7FFF,R2              ;連続以外はいつでも7FFF設定
 9572                            2112             M_BRA   BTTN_START_CK220        ;
 9573 00000E8A A042                   M           BRA     BTTN_START_CK220
 9574 00000E8C 0009                   M           NOP
 9575                            2113     
 9576                                     ***** BEGIN-POOL *****
 9577 00000E8E 01F4                       DATA FOR SOURCE-LINE 2101
 9578 00000E90 0008                       DATA FOR SOURCE-LINE 2108
 9579 00000E92 7FFF                       DATA FOR SOURCE-LINE 2111
 9580 00000E94 00000000                   DATA FOR SOURCE-LINE 2074
 9581 00000E98 00000000                   DATA FOR SOURCE-LINE 2094
 9582 00000E9C 00000000                   DATA FOR SOURCE-LINE 2099
 9583 00000EA0 00000000                   DATA FOR SOURCE-LINE 2102
 9584 00000EA4 00000000                   DATA FOR SOURCE-LINE 2106
 9585                                     ***** END-POOL *****
 9586 00000EA8                   2114     BTTN_START_CK150:
 9587                            2115     ;       **********************************
 9588                            2116     ;       ***     2004-01-26              **
 9589                            2117     ;       **********************************
 9590 00000EA8 D106              2118             MOV.L   #_MODE_SEL,R1           ;
 9591 00000EAA 6011              2119             MOV.W   @R1,R0                  ;
 9592 00000EAC 9108              2120             MOV.W   #(BIT12+BIT11),R1       ;
 9593 00000EAE 2018              2121             TST     R1,R0                   ;OPTIONの連続寸動
 9594                            2122             TST_BIT_ON BTTN_START_CK180     ;本当のｵﾌﾟｼｮﾝではない
 9595 00000EB0 8B03                   M           BF      BTTN_START_CK180
 9596                            2123     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    65
PROGRAM NAME =

 9597                            2124     ;       ===============================================
 9598                            2125     ;       ====== ｾｯﾄｱｯﾌﾟ仕様CHEAK 未なら 7FFF=R2 CK220へ==
 9599                            2126     ;       ================================================
 9600 00000EB2 D105              2127             MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
 9601 00000EB4 6011              2128             MOV.W   @R1,R0                  ;28.4
 9602 00000EB6 C810              2129             TST     #BIT4,R0                ;
 9603                            2130             TST_BIT_ON BTTN_START_CK190     ;ｾｯﾄｱｯﾌﾟ仕様
 9604 00000EB8 8B08                   M           BF      BTTN_START_CK190
 9605 00000EBA                   2131     BTTN_START_CK180:                       ;
 9606 00000EBA 9202              2132             MOV.W   #H'7FFF,R2              ;
 9607                            2133             M_BRA   BTTN_START_CK220        ;
 9608 00000EBC A029                   M           BRA     BTTN_START_CK220
 9609 00000EBE 0009                   M           NOP
 9610                            2134     
 9611                            2135     ;       ===== ｾｯﾄｱｯﾌﾟﾁｪｯｸ ====
 9612                                     ***** BEGIN-POOL *****
 9613 00000EC0 1800                       DATA FOR SOURCE-LINE 2120
 9614 00000EC2 7FFF                       DATA FOR SOURCE-LINE 2132
 9615 00000EC4 00000000                   DATA FOR SOURCE-LINE 2118
 9616 00000EC8 00000000                   DATA FOR SOURCE-LINE 2127
 9617                                     ***** END-POOL *****
 9618 00000ECC                   2136     BTTN_START_CK190:
 9619 00000ECC D105              2137             MOV.L   #_SET_UP_TIM,R1         ;
 9620 00000ECE 6211              2138             MOV.W   @R1,R2                  ;
 9621 00000ED0 2228              2139             TST     R2,R2                   ;
 9622                            2140             TST_BIT_OF BTTN_START_CK192     ;ｾｯﾄｱｯﾌﾟ待ち
 9623 00000ED2 890B                   M           BT      BTTN_START_CK192
 9624                            2141     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 9625                            2142             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 9626 00000ED4 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 9627 00000ED6 6011                   M           MOV.W   @R1,R0          ;
 9628 00000ED8 9403                   M           MOV.W   #LWORD (~BIT3),R4       ;
 9629 00000EDA 2049                   M           AND     R4,R0           ;
 9630 00000EDC 2101                   M           MOV.W   R0,@R1          ;
 9631                            2143             M_BRA   BTTN_START_CK195
 9632 00000EDE A00A                   M           BRA     BTTN_START_CK195
 9633 00000EE0 0009                   M           NOP
 9634                                     ***** BEGIN-POOL *****
 9635 00000EE2 FFF7                       DATA FOR SOURCE-LINE 2142
 9636 00000EE4 00000000                   DATA FOR SOURCE-LINE 2137
 9637 00000EE8 00000000                   DATA FOR SOURCE-LINE 2142
 9638                                     ***** END-POOL *****
 9639 00000EEC                   2144     BTTN_START_CK192:
 9640                            2145     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち状態 ======
 9641                            2146             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4
 9642 00000EEC D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
 9643 00000EEE 6011                   M           MOV.W   @R1,R0          ;
 9644 00000EF0 9408                   M           MOV.W   #(BIT3),R4              ;
 9645 00000EF2 204B                   M           OR      R4,R0           ;
 9646 00000EF4 2101                   M           MOV.W   R0,@R1          ;
 9647 00000EF6                   2147     BTTN_START_CK195:
 9648                            2148     
 9649 00000EF6 D305              2149             MOV.L   #_di2_cb_ctl2_on,R3     ;
 9650 00000EF8 6131              2150             MOV.W   @R3,R1                  ;
 9651 00000EFA 9204              2151             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9652 00000EFC 2128              2152             TST     R2,R1                   ;
 9653                            2153             TST_BIT_ON BTTN_START_CK200     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    66
PROGRAM NAME =

 9654 00000EFE 8B07                   M           BF      BTTN_START_CK200
 9655                            2154             M_BRA   BTTN_START_CK300        ;
 9656 00000F00 A009                   M           BRA     BTTN_START_CK300
 9657 00000F02 0009                   M           NOP
 9658                            2155     
 9659                                     ***** BEGIN-POOL *****
 9660 00000F04 0008                       DATA FOR SOURCE-LINE 2146
 9661 00000F06 0080                       DATA FOR SOURCE-LINE 2151
 9662 00000F08 00000000                   DATA FOR SOURCE-LINE 2146
 9663 00000F0C 00000000                   DATA FOR SOURCE-LINE 2149
 9664                                     ***** END-POOL *****
 9665 00000F10                   2156     BTTN_START_CK200:
 9666 00000F10 9214              2157             MOV.W   #_SYS_SETUP_TIM,R2      ;
 9667 00000F12                   2158     BTTN_START_CK220:
 9668 00000F12 D10B              2159             MOV.L   #_SET_UP_TIM,R1         ;
 9669 00000F14 2121              2160             MOV.W   R2,@R1                  ;
 9670                            2161     
 9671                            2162     ;       ============================
 9672 00000F16                   2163     BTTN_START_CK300:
 9673 00000F16 D10B              2164             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9674 00000F18 6211              2165             MOV.W   @R1,R2                  ;
 9675 00000F1A 2228              2166             TST     R2,R2                   ;
 9676                            2167             TST_BIT_OF BTTN_START_CK599     ;準備未完了へ
 9677 00000F1C 893E                   M           BT      BTTN_START_CK599
 9678                            2168     
 9679                            2169     ;;;;;   -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9680                            2170     ;;;;;                                   ;ｾｯﾄｱｯﾌﾟの処理が必要
 9681                            2171     ;;;;;           MOV.L   #_BTTN_FLG,R1           ;
 9682                            2172     ;;;;;           MOV.W   @R1,R0                  ;
 9683                            2173     ;;;;;           TST     #BIT2,R0                ;両手ON
 9684                            2174     ;;;;;           TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9685                            2175     ;;;;;
 9686                            2176     ;;;;;   ;       ------- 2006-07-28 ------------
 9687                            2177     ;;;;;           MOV.L   #_MODE_SEL,R1                   ;
 9688                            2178     ;;;;;           MOV.W   @R1,R0                          ;
 9689                            2179     ;;;;;           TST     #_W1DIC,R0                      ;
 9690                            2180     ;;;;;           TST_BIT_OF BTTN_START_CK320             ;
 9691                            2181     ;;;;;
 9692                            2182     ;;;;;           FAR_JSR #_TEPA_START_CHK,R0             ;
 9693                            2183     ;;;;;           TST     R0,R0                           ;
 9694                            2184     ;;;;;           TST_BIT_ON BTTN_START_CK570             ;
 9695                            2185     ;;;;;   BTTN_START_CK320:
 9696                            2186     ;       ---------------------------------
 9697                            2187     
 9698                            2188     ;       -------------------
 9699 00000F1E D10A              2189             MOV.L   #_MODE_SEL,R1                   ;
 9700 00000F20 6011              2190             MOV.W   @R1,R0                          ;
 9701 00000F22 C820              2191             TST     #_W1DIC,R0                      ;
 9702                            2192             TST_BIT_OF BTTN_START_CK320             ;
 9703 00000F24 8916                   M           BT      BTTN_START_CK320
 9704                            2193     
 9705 00000F26 D109              2194             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 9706 00000F28 6011              2195             MOV.W   @R1,R0                          ;
 9707 00000F2A C802              2196             TST     #BIT1,R0                        ;
 9708                            2197             TST_BIT_OF BTTN_START_CK320             ;手パ無効
 9709 00000F2C 8912                   M           BT      BTTN_START_CK320
 9710                            2198     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    67
PROGRAM NAME =

 9711                            2199             FAR_JSR #_TEPA_START_CHK,R0             ;
 9712 00000F2E D008                   M           MOV.L   #_TEPA_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9713 00000F30 400B                   M           JSR     @R0                     ;
 9714 00000F32 0009                   M           NOP                                     ;
 9715 00000F34 2008              2200             TST     R0,R0                           ;
 9716                            2201             TST_BIT_ON BTTN_START_CK570             ;
 9717 00000F36 8B2E                   M           BF      BTTN_START_CK570
 9718                            2202             M_BRA   BTTN_START_CK550                ;
 9719 00000F38 A02A                   M           BRA     BTTN_START_CK550
 9720 00000F3A 0009                   M           NOP
 9721                            2203     
 9722                                     ***** BEGIN-POOL *****
 9723 00000F3C 07D0                       DATA FOR SOURCE-LINE 2157
 9724 00000F3E 0000                       ALIGNMENT CODE
 9725 00000F40 00000000                   DATA FOR SOURCE-LINE 2159
 9726 00000F44 00000000                   DATA FOR SOURCE-LINE 2164
 9727 00000F48 00000000                   DATA FOR SOURCE-LINE 2189
 9728 00000F4C 00000000                   DATA FOR SOURCE-LINE 2194
 9729 00000F50 00000000                   DATA FOR SOURCE-LINE 2199
 9730                                     ***** END-POOL *****
 9731 00000F54                   2204     BTTN_START_CK320:
 9732                            2205     ;       -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9733                            2206                                     ;ｾｯﾄｱｯﾌﾟの処理が必要
 9734 00000F54 D107              2207             MOV.L   #_BTTN_FLG,R1           ;
 9735 00000F56 6011              2208             MOV.W   @R1,R0                  ;
 9736 00000F58 C804              2209             TST     #BIT2,R0                ;両手ON
 9737                            2210             TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9738 00000F5A 8B11                   M           BF      BTTN_START_CK350
 9739                            2211     
 9740                            2212     ;       ---------------------------------
 9741                            2213     
 9742                            2214     ;       ===== ｾｯﾄｱｯﾌﾟ釦を押しながら2秒経過してしまったのかチェック===
 9743 00000F5C D106              2215             MOV.L   #_SET_UP_TIM,R1         ;
 9744 00000F5E 6211              2216             MOV.W   @R1,R2                  ;
 9745 00000F60 2228              2217             TST     R2,R2                   ;
 9746                            2218             TST_BIT_ON BTTN_START_CK550     ;
 9747 00000F62 8B15                   M           BF      BTTN_START_CK550
 9748                            2219     
 9749 00000F64 D305              2220             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 9750 00000F66 6131              2221             MOV.W   @R3,R1                  ;
 9751 00000F68 9203              2222             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9752 00000F6A 2128              2223             TST     R2,R1                   ;ON続けて2秒経過
 9753                            2224             TST_BIT_ON BTTN_START_CK599     ;
 9754 00000F6C 8B16                   M           BF      BTTN_START_CK599
 9755                            2225             M_BRA   BTTN_START_CK550        ;
 9756 00000F6E A00F                   M           BRA     BTTN_START_CK550
 9757 00000F70 0009                   M           NOP
 9758                            2226     
 9759                            2227     ;       ==== 運転釦ON ====
 9760                                     ***** BEGIN-POOL *****
 9761 00000F72 0080                       DATA FOR SOURCE-LINE 2222
 9762 00000F74 00000000                   DATA FOR SOURCE-LINE 2207
 9763 00000F78 00000000                   DATA FOR SOURCE-LINE 2215
 9764 00000F7C 00000000                   DATA FOR SOURCE-LINE 2220
 9765                                     ***** END-POOL *****
 9766 00000F80                   2228     BTTN_START_CK350:
 9767 00000F80 D102              2229             MOV.L   #_SET_UP_TIM,R1         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    68
PROGRAM NAME =

 9768 00000F82 6211              2230             MOV.W   @R1,R2                  ;
 9769 00000F84 2228              2231             TST     R2,R2                   ;
 9770                            2232             TST_BIT_OF BTTN_START_CK599     ;ｾｯﾄｱｯﾌﾟOFF
 9771 00000F86 8909                   M           BT      BTTN_START_CK599
 9772                            2233             M_BRA   BTTN_START_CK570
 9773 00000F88 A005                   M           BRA     BTTN_START_CK570
 9774 00000F8A 0009                   M           NOP
 9775                            2234     
 9776                            2235     
 9777                                     ***** BEGIN-POOL *****
 9778 00000F8C 00000000                   DATA FOR SOURCE-LINE 2229
 9779                                     ***** END-POOL *****
 9780 00000F90                   2236     BTTN_START_CK550:                       ;
 9781 00000F90 200A              2237             XOR     R0,R0                   ;
 9782                            2238             M_BRA   BTTN_START_CKEXT        ;
 9783 00000F92 A004                   M           BRA     BTTN_START_CKEXT
 9784 00000F94 0009                   M           NOP
 9785 00000F96                   2239     BTTN_START_CK570:
 9786 00000F96 E055              2240             MOV     #H'55,R0                ;起動
 9787                            2241             M_BRA   BTTN_START_CKEXT        ;
 9788 00000F98 A001                   M           BRA     BTTN_START_CKEXT
 9789 00000F9A 0009                   M           NOP
 9790 00000F9C                   2242     BTTN_START_CK599:                       ;
 9791 00000F9C E0FF              2243             MOV     #-1,R0                  ;準備未完へ
 9792 00000F9E                   2244     BTTN_START_CKEXT:
 9793                            2245             SUB_END
 9794                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9795 00000F9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9796                            2246             M_RTS
 9797 00000FA0 000B                   M           RTS                             ;RTSの後ろの
 9798 00000FA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9799                            2247     
 9800                            2248     
 9801                            2249     ;       *******************************************
 9802                            2250     ;       ***                                     ***
 9803                            2251     ;       ***     2016-10-31(2016-04-16)          ***
 9804                            2252     ;       ***      ｻﾌﾞﾙｰﾁﾝにする(JUMP)            ***
 9805                            2253     ;       *******************************************
 9806                            2254              .AIF   1 EQ 1  ;
 9807                            2255 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9808                            2256              .AENDI
 9809                            2257     
 9810                            2258             .IMPORT _PAR_SELFCHK_POWSEL
 9811 00000FA4                   2259     _SELFCHK_LOCK_SET:              ;2016-04-16
 9812                            2260             SUB_START
 9813 00000FA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9814                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9815                            2261     
 9816 00000FA6 D108              2262             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
 9817 00000FA8 6011              2263             MOV.W   @R1,R0                          ;
 9818 00000FAA 8801              2264             CMP/EQ  #1,R0                           ;
 9819 00000FAC 8908              2265             BT      SELF_FORCE_POW_100              ;"1"ならちゃんとセルフする
 9820                            2266     
 9821                            2267     ;       ===== 2006-12-06 [1]=====
 9822 00000FAE 900A              2268             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
 9823 00000FB0 D106              2269             MOV.L   #_SELF_LOCK_FLG,R1              ;
 9824 00000FB2 2101              2270             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    69
PROGRAM NAME =

 9825 00000FB4 222A              2271             XOR     R2,R2                           ;
 9826 00000FB6 233A              2272             XOR     R3,R3                           ;
 9827 00000FB8 D105              2273             MOV.L   #_SELF_CHK_SEL,R1               ;
 9828 00000FBA 2121              2274             MOV.W   R2,@R1                          ;
 9829 00000FBC D105              2275             MOV.L   #_SELF_CHK_MATHED,R1            ;
 9830 00000FBE 2131              2276             MOV.W   R3,@R1                          ;
 9831                            2277     
 9832 00000FC0                   2278     SELF_FORCE_POW_100
 9833                            2279             SUB_END
 9834                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9835 00000FC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9836                            2280             M_RTS
 9837 00000FC2 000B                   M           RTS                             ;RTSの後ろの
 9838 00000FC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9839                            2281     
 9840                            2282     
 9841                            2283     ;       ***********************************
 9842                            2284     ;       ***                             ***
 9843                            2285     ;       ***     CPUA位置→CPUB位置      ***
 9844                            2286     ;       ***     2015-03-15 寸動対策     ***
 9845                            2287     ;       ***                             ***
 9846                            2288     ;       ***********************************
 9847                            2289             .IMPORT _SH_POSCTL_RL_ABSPLS
 9848                                     ***** BEGIN-POOL *****
 9849 00000FC6 0001                       DATA FOR SOURCE-LINE 2268
 9850 00000FC8 00000000                   DATA FOR SOURCE-LINE 2262
 9851 00000FCC 00000000                   DATA FOR SOURCE-LINE 2269
 9852 00000FD0 00000000                   DATA FOR SOURCE-LINE 2273
 9853 00000FD4 00000000                   DATA FOR SOURCE-LINE 2275
 9854                                     ***** END-POOL *****
 9855 00000FD8                   2290     _ELSE_CPU_START_POS_PRESET:
 9856                            2291             SUB_START
 9857 00000FD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9858                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9859                            2292             .AIF    0 EQ    0       ;
 9860                            2293 C   
 9861                            2294             .AELSE
 9862                            2295     
 9863                            2296             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4        ;CPUA
 9864                            2297             MOV.L   @(0,R4),R1                              ;
 9865                            2298             MOV.L   @(4,R4),R2                              ;
 9866                            2299     
 9867                            2300             MOV.L   @(0,R4),R5                              ;
 9868                            2301             MOV.L   @(4,R4),R6                              ;
 9869                            2302             SUB     R1,R5
 9870                            2303             SUB     R2,R6                                   ;
 9871                            2304             OR      R5,R6                                   ;
 9872                            2305             TST     R6,R6                                   ;
 9873                            2306             TST_BIT_OF ELSECPU_GET_OBJPOS_100               ;8ﾊﾞｲﾄｱｸｾｽ中の問題
 9874                            2307     
 9875                            2308             MOV.L   @(0,R4),R1                              ;
 9876                            2309             MOV.L   @(4,R4),R2                              ;
 9877                            2310     
 9878                            2311     
 9879                            2312     ELSECPU_GET_OBJPOS_100
 9880                            2313             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
 9881                            2314             MOV.L   R1,@(0,R4)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    70
PROGRAM NAME =

 9882                            2315             MOV.L   R2,@(4,R4)
 9883                            2316     
 9884                            2317     ELSECPU_GET_OBJPOS_EXT
 9885                            2318     
 9886                            2319             .AENDI
 9887                            2320             SUB_END
 9888                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9889 00000FDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9890                            2321             M_RTS
 9891 00000FDC 000B                   M           RTS                             ;RTSの後ろの
 9892 00000FDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9893                            2322     
 9894                            2323     
 9895                            2324     
 9896                            2325     ;       *******************************************
 9897                            2326     ;       ***                                     ***
 9898                            2327     ;       ***                                     ***
 9899                            2328     ;       ***                                     ***
 9900                            2329     ;       *******************************************
 9901 00000FE0                   2330     _MODE_CNT_STOP_CHK:
 9902                            2331             SUB_START
 9903 00000FE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9904                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9905                            2332             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
 9906 00000FE2 D017                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9907 00000FE4 400B                   M           JSR     @R0                     ;
 9908 00000FE6 0009                   M           NOP                                     ;
 9909 00000FE8 2118              2333             TST     R1,R1                   ;
 9910                            2334             TST_BIT_OF MODE_CNT_STPCMP_100  ;自分のいくぞ信号ON? NO
 9911 00000FEA 890F                   M           BT      MODE_CNT_STPCMP_100
 9912                            2335     
 9913 00000FEC D115              2336             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
 9914 00000FEE 6011              2337             MOV.W   @R1,R0                  ;
 9915 00000FF0 D215              2338             MOV.L   #_CPOS_STEP_MAX,R2      ;
 9916 00000FF2 6421              2339             MOV.W   @R2,R4                  ;
 9917 00000FF4 7401              2340             ADD     #1,R4                   ;
 9918 00000FF6 3400              2341             CMP/EQ  R0,R4                   ;
 9919 00000FF8 8908              2342             BT      MODE_CNT_STPCMP_100     ;最終工程
 9920                            2343     
 9921 00000FFA 6503              2344             MOV     R0,R5                   ;push
 9922                            2345             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
 9923 00000FFC D213                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9924 00000FFE 420B                   M           JSR     @R2                     ;
 9925 00001000 0009                   M           NOP                                     ;
 9926 00001002 3500              2346             CMP/EQ  R0,R5                   ;
 9927 00001004 8B02              2347             BF      MODE_CNT_STPCMP_100     ;不一致状態
 9928                            2348     
 9929                            2349             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
 9930 00001006 D012                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9931 00001008 400B                   M           JSR     @R0                     ;
 9932 0000100A 0009                   M           NOP                                     ;
 9933                            2350     
 9934 0000100C                   2351     MODE_CNT_STPCMP_100:
 9935                            2352     
 9936                            2353     ;       -------- 2015-11-13-------------------
 9937                            2354     ;;      MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    71
PROGRAM NAME =

 9938                            2355     ;;      MOV.W   @R1,R0                          ;
 9939                            2356     ;;      MOV.W   #_WOATO,R2                      ;AUTO
 9940                            2357     ;;      TST     R2,R0                           ;
 9941                            2358     ;;      TST_BIT_ON MODE_CNT_STPCHK_200          ;AUTO ON
 9942                            2359     ;;
 9943                            2360     ;;      MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9944                            2361     ;;      MOV.W   @R1,R0                          ;
 9945                            2362     ;;      MOV.W   #(BIT9+BIT8),R4                 ;
 9946                            2363     ;;      TST     R4,R0                           ;
 9947                            2364     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ
 9948                            2365     ;;
 9949                            2366     ;;      MOV.W   #BIT8,R4                        ;
 9950                            2367     ;;      TST     R4,R0                           ;ﾀｲﾏ?
 9951                            2368     ;;      TST_BIT_OF MODE_CNT_STPCHK_050
 9952                            2369     ;;      MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9953                            2370     ;;      MOV.L   @R1,R0                          ;
 9954                            2371     ;;      M_BRA   MODE_CNT_STPCHK_080             ;
 9955                            2372     ;;
 9956                            2373     ;;MODE_CNT_STPCHK_050:
 9957                            2374     ;;      MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
 9958                            2375     ;;      MOV.W   @R1,R0                          ;
 9959                            2376     ;;MODE_CNT_STPCHK_080:
 9960                            2377     ;;      TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9961                            2378     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9962                            2379     
 9963                            2380     
 9964                            2381     ;       -------- 2015-11-13-------------------
 9965 0000100C D111              2382             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9966 0000100E 6011              2383             MOV.W   @R1,R0                          ;
 9967 00001010 9414              2384             MOV.W   #(BIT9+BIT8),R4                 ;
 9968 00001012 2048              2385             TST     R4,R0                           ;
 9969                            2386             TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ:AUTO ON固定
 9970 00001014 895E                   M           BT      MODE_CNT_STPCHK_199
 9971                            2387     
 9972                            2388     ;       -------------AUTO ON[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
 9973 00001016 D110              2389             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9974 00001018 6011              2390             MOV.W   @R1,R0                          ;
 9975 0000101A 9210              2391             MOV.W   #_WOATO,R2                      ;AUTO
 9976 0000101C 2028              2392             TST     R2,R0                           ;
 9977                            2393             TST_BIT_OF MODE_CNT_STPCHK_120          ;AUTO OFF
 9978 0000101E 8923                   M           BT      MODE_CNT_STPCHK_120
 9979                            2394     
 9980                            2395     ;;; .AIF 1 EQ 1
 9981                            2396     ;       --------- 相手CPU停止判定必要[2015-11-15]------
 9982                            2397             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;
 9983 00001020 D00E                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9984 00001022 400B                   M           JSR     @R0                     ;
 9985 00001024 0009                   M           NOP                                     ;
 9986 00001026 2008              2398             TST     R0,R0                           ;
 9987                            2399             TST_BIT_OF MODE_CNT_STPCHK_200
 9988 00001028 8957                   M           BT      MODE_CNT_STPCHK_200
 9989                            2400             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set[ﾃ
                                          ﾞﾊﾞｯｸ用だと思う]
 9990 0000102A D10D                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
 9991 0000102C 6011                   M           MOV.W   @R1,R0          ;
 9992 0000102E CB01                   M           OR      #BIT0,R0                ;
 9993 00001030 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    72
PROGRAM NAME =

 9994                            2401             FAR_JSR #_AUTO_OF,R0                    ;
 9995 00001032 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9996 00001034 400B                   M           JSR     @R0                     ;
 9997 00001036 0009                   M           NOP                                     ;
 9998                            2402             M_BRA   MODE_CNT_STPCHK_150             ;AUTO OFF
 9999 00001038 A033                   M           BRA     MODE_CNT_STPCHK_150
10000 0000103A 0009                   M           NOP
10001                            2403     
10002                            2404     ;;; .AENDI
10003                            2405     ;;;[2016-10-31不要]     M_BRA   MODE_CNT_STPCHK_200             ;AUTO ON
10004                            2406     
10005                            2407     
10006                            2408     ;       -------------AUTO OFF[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
10007                                     ***** BEGIN-POOL *****
10008 0000103C 0300                       DATA FOR SOURCE-LINE 2384
10009 0000103E 0040                       DATA FOR SOURCE-LINE 2391
10010 00001040 00000000                   DATA FOR SOURCE-LINE 2332
10011 00001044 00000000                   DATA FOR SOURCE-LINE 2336
10012 00001048 00000000                   DATA FOR SOURCE-LINE 2338
10013 0000104C 00000000                   DATA FOR SOURCE-LINE 2345
10014 00001050 00000000                   DATA FOR SOURCE-LINE 2349
10015 00001054 00000000                   DATA FOR SOURCE-LINE 2382
10016 00001058 00000000                   DATA FOR SOURCE-LINE 2389
10017 0000105C 00000000                   DATA FOR SOURCE-LINE 2397
10018 00001060 00000000                   DATA FOR SOURCE-LINE 2400
10019 00001064 00000000                   DATA FOR SOURCE-LINE 2401
10020                                     ***** END-POOL *****
10021 00001068                   2409     MODE_CNT_STPCHK_120                             ;AUTO OFF
10022 00001068 D104              2410             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
10023 0000106A 6011              2411             MOV.W   @R1,R0                          ;
10024 0000106C 9405              2412             MOV.W   #BIT8,R4                        ;
10025 0000106E 2048              2413             TST     R4,R0                           ;ﾀｲﾏ?
10026                            2414             TST_BIT_OF MODE_CNT_STPCHK_050
10027 00001070 8908                   M           BT      MODE_CNT_STPCHK_050
10028 00001072 D103              2415             MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
10029 00001074 6012              2416             MOV.L   @R1,R0                          ;
10030                            2417             M_BRA   MODE_CNT_STPCHK_080             ;
10031 00001076 A00A                   M           BRA     MODE_CNT_STPCHK_080
10032 00001078 0009                   M           NOP
10033                            2418     
10034                                     ***** BEGIN-POOL *****
10035 0000107A 0100                       DATA FOR SOURCE-LINE 2412
10036 0000107C 00000000                   DATA FOR SOURCE-LINE 2410
10037 00001080 00000000                   DATA FOR SOURCE-LINE 2415
10038                                     ***** END-POOL *****
10039 00001084                   2419     MODE_CNT_STPCHK_050:
10040 00001084 D10C              2420             MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
10041 00001086 6011              2421             MOV.W   @R1,R0                          ;
10042                            2422     
10043                            2423              .AIF   1 EQ 1  ;
10044                            2424 C   ;       -------- 2016-10-31 ADD 二重回路対策
10045                            2425              .AENDI
10046                            2426     ;       -------- 2016-10-31(2016-07-21)(相手cpu状態)----------------
10047                            2427             .AIF    0 EQ    0       ;
10048 00001088 D10C              2428 C           MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
10049                            2429             .AELSE
10050                            2430             MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    73
PROGRAM NAME =

10051                            2431             .AENDI                                  ;
10052 0000108A 6411              2432             MOV.W   @R1,R4                          ;
10053 0000108C 204B              2433             OR      R4,R0                           ;自分+相手cpu
10054                            2434     
10055                            2435     
10056 0000108E                   2436     MODE_CNT_STPCHK_080:
10057 0000108E 2008              2437             TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
10058                            2438             TST_BIT_OF MODE_CNT_STPCHK_199          ;
10059 00001090 8920                   M           BT      MODE_CNT_STPCHK_199
10060                            2439     
10061                            2440     
10062 00001092 D10B              2441             MOV.L   #_BTTN_FLG,R1                   ;
10063 00001094 6011              2442             MOV.W   @R1,R0                          ;
10064 00001096 C804              2443             TST     #BIT2,R0                        ;両手ON
10065                            2444             TST_BIT_ON MODE_CNT_STPCHK_300          ;<200の方が安全かな>
10066 00001098 8B57                   M           BF      MODE_CNT_STPCHK_300
10067                            2445     
10068                            2446              .AIF   1 EQ 1  ;
10069                            2447 C   ;       -------- 2016-10-31 ADD 二重回路対策
10070                            2448              .AENDI
10071                            2449     
10072                            2450     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
10073 0000109A D10A              2451             MOV.L   #_CMPSTEP_STEP_END,R1           ;
10074 0000109C 6011              2452             MOV.W   @R1,R0                          ;
10075 0000109E 2008              2453             TST     R0,R0                           ;
10076                            2454             TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10077 000010A0 8B53                   M           BF      MODE_CNT_STPCHK_300
10078                            2455     
10079                            2456     
10080                            2457     ;[[2016-10-31]; ---------- 2015-11-13[行程2重回路対策]---------------
10081                            2458     ;[[2016-10-31];;; .AIF 1 EQ 1
10082                            2459     ;[[2016-10-31]  FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10083                            2460     ;[[2016-10-31]  TST     R0,R0                           ;
10084                            2461     ;[[2016-10-31]  TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10085                            2462     ;[[2016-10-31];;; .AENDI
10086                            2463     
10087 000010A2                   2464     MODE_CNT_STPCHK_150:                            ;AUTO OFF
10088                            2465     
10089                            2466     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10090                            2467             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10091 000010A2 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10092 000010A4 400B                   M           JSR     @R0                     ;
10093 000010A6 0009                   M           NOP                                     ;
10094                            2468     
10095                            2469     ;       ---2007-03-02-----
10096                            2470             MOD_LOW_STOP_R0_R1                      ;MNWR_POS_CMD=BIT1,減速停止,起動OFF
10097 000010A8 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10098 000010AA E002                   M           MOV.B   #BIT1,R0                        ;
10099 000010AC 2101                   M           MOV.W   R0,@R1                          ;
10100                            2471             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;CPUBへSTOP(AUTO-ON,AUTO-OFF)に関わらず･･･
                                          AUTOにさせないため
10101 000010AE D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10102 000010B0 400B                   M           JSR     @R0                     ;
10103 000010B2 0009                   M           NOP                                     ;
10104                            2472     
10105                            2473             M_BRA   MODE_CNT_STPCHK_300             ;
10106 000010B4 A049                   M           BRA     MODE_CNT_STPCHK_300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    74
PROGRAM NAME =

10107 000010B6 0009                   M           NOP
10108                            2474     
10109                                     ***** BEGIN-POOL *****
10110 000010B8 00000000                   DATA FOR SOURCE-LINE 2420
10111 000010BC 00000000                   DATA FOR SOURCE-LINE 2428
10112 000010C0 00000000                   DATA FOR SOURCE-LINE 2441
10113 000010C4 00000000                   DATA FOR SOURCE-LINE 2451
10114 000010C8 00000000                   DATA FOR SOURCE-LINE 2467
10115 000010CC 00000000                   DATA FOR SOURCE-LINE 2470
10116 000010D0 00000000                   DATA FOR SOURCE-LINE 2471
10117                                     ***** END-POOL *****
10118 000010D4                   2475     MODE_CNT_STPCHK_199:                            ;
10119                            2476             FAR_JSR #_AUTO_ON,R0                    ;
10120 000010D4 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10121 000010D6 400B                   M           JSR     @R0                     ;
10122 000010D8 0009                   M           NOP                                     ;
10123 000010DA                   2477     MODE_CNT_STPCHK_200:                            ;
10124                            2478     
10125                            2479     ;       -------------------------------------------
10126 000010DA D105              2480             MOV.L   #_POSHLD1_STOPLATCH,R1          ;
10127 000010DC 6011              2481             MOV.W   @R1,R0                          ;
10128 000010DE 2008              2482             TST     R0,R0                           ;
10129                            2483             TST_BIT_OF MODE_CNT_STPCHK_210          ;
10130 000010E0 8908                   M           BT      MODE_CNT_STPCHK_210
10131 000010E2 200A              2484             XOR     R0,R0                           ;
10132 000010E4 2101              2485             MOV.W   R0,@R1                          ;
10133                            2486             M_BRA   MODE_CNT_STPCHK_220             ;
10134 000010E6 A00D                   M           BRA     MODE_CNT_STPCHK_220
10135 000010E8 0009                   M           NOP
10136                            2487     
10137                                     ***** BEGIN-POOL *****
10138 000010EA 0000                       ALIGNMENT CODE
10139 000010EC 00000000                   DATA FOR SOURCE-LINE 2476
10140 000010F0 00000000                   DATA FOR SOURCE-LINE 2480
10141                                     ***** END-POOL *****
10142 000010F4                   2488     MODE_CNT_STPCHK_210:                            ;
10143                            2489     
10144 000010F4 D10C              2490             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10145 000010F6 6011              2491             MOV.W   @R1,R0                          ;
10146 000010F8 2008              2492             TST     R0,R0                           ;
10147                            2493             TST_BIT_OF MODE_CNT_STPCHK_250          ;
10148 000010FA 8907                   M           BT      MODE_CNT_STPCHK_250
10149                            2494     
10150                            2495              .AIF   1 EQ 1  ;
10151                            2496 C   ;       -------- 2016-10-31 ADD 二重回路対策
10152                            2497              .AENDI
10153                            2498     
10154                            2499     ;       --2016-10-31(2016-08-11)(CMPERR対策)---------
10155 000010FC D10B              2500             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
10156 000010FE 6011              2501             MOV.W   @R1,R0                          ;
10157 00001100 2008              2502             TST     R0,R0                           ;
10158                            2503             TST_BIT_ON MODE_CNT_STPCHK_250          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10159 00001102 8B03                   M           BF      MODE_CNT_STPCHK_250
10160                            2504     
10161                            2505     
10162 00001104                   2506     MODE_CNT_STPCHK_220:                            ;
10163                            2507     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    75
PROGRAM NAME =

10164 00001104 D10A              2508             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10165 00001106 6011              2509             MOV.W   @R1,R0                          ;
10166 00001108 CB01              2510             OR      #BIT0,R0                        ;
10167 0000110A 2101              2511             MOV.W   R0,@R1                          ;
10168 0000110C                   2512     MODE_CNT_STPCHK_250:
10169                            2513     
10170 0000110C D108              2514             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10171 0000110E 6011              2515             MOV.W   @R1,R0                          ;
10172 00001110 C801              2516             TST     #BIT0,R0                        ;
10173                            2517             TST_BIT_OF MODE_CNT_STPCHK_300          ;
10174 00001112 891A                   M           BT      MODE_CNT_STPCHK_300
10175                            2518     
10176 00001114 D107              2519             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10177 00001116 6011              2520             MOV.W   @R1,R0                          ;
10178 00001118 D207              2521             MOV.L   #_CPOS_STEP_MAX,R2              ;
10179 0000111A 6421              2522             MOV.W   @R2,R4                          ;
10180 0000111C 7401              2523             ADD     #1,R4                           ;
10181 0000111E 3400              2524             CMP/EQ  R0,R4                           ;
10182 00001120 8B0C              2525             BF      MODE_CNT_STPCHK_280             ;最終工程以外?
10183                            2526             M_BRA   MODE_CNT_STPCHK_300             ;
10184 00001122 A012                   M           BRA     MODE_CNT_STPCHK_300
10185 00001124 0009                   M           NOP
10186                            2527     
10187                                     ***** BEGIN-POOL *****
10188 00001126 0000                       ALIGNMENT CODE
10189 00001128 00000000                   DATA FOR SOURCE-LINE 2490
10190 0000112C 00000000                   DATA FOR SOURCE-LINE 2500
10191 00001130 00000000                   DATA FOR SOURCE-LINE 2508,2514
10192 00001134 00000000                   DATA FOR SOURCE-LINE 2519
10193 00001138 00000000                   DATA FOR SOURCE-LINE 2521
10194                                     ***** END-POOL *****
10195 0000113C                   2528     MODE_CNT_STPCHK_280:
10196                            2529     ;       == 2004-12-20====
10197 0000113C D104              2530             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10198 0000113E 6011              2531             MOV.W   @R1,R0                          ;
10199 00001140 C804              2532             TST     #BIT2,R0                        ;2004-12-20
10200                            2533             TST_BIT_ON MODE_CNT_STPCHK_300          ;(待機点停止しないﾓｰﾄﾞは別)
10201 00001142 8B02                   M           BF      MODE_CNT_STPCHK_300
10202                            2534     
10203                            2535             FAR_JSR #_STOP_LTH_OUT,R0
10204 00001144 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10205 00001146 400B                   M           JSR     @R0                     ;
10206 00001148 0009                   M           NOP                                     ;
10207                            2536     
10208                            2537     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10209                            2538     
10210 0000114A                   2539     MODE_CNT_STPCHK_300:                            ;
10211                            2540     
10212                            2541             SUB_END
10213                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10214 0000114A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10215                            2542             M_RTS
10216 0000114C 000B                   M           RTS                             ;RTSの後ろの
10217 0000114E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10218                            2543     
10219                            2544     
10220                            2545     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    76
PROGRAM NAME =

10221                            2546     ;       ***************************************************
10222                            2547     ;       ***                                             ***
10223                            2548     ;       ***     2016-04-12                              ***
10224                            2549     ;       ***     連続一行程                              ***
10225                            2550     ;       ***     連続寸動一行程                          ***
10226                            2551     ;       ***     上記のための連続の共通部サブルーチン化  ***
10227                            2552     ;       ***     但し、連続には使用しないでおく          ***
10228                            2553     ;       ***                                             ***
10229                            2554     ;       ***************************************************
10230                                     ***** BEGIN-POOL *****
10231 00001150 00000000                   DATA FOR SOURCE-LINE 2530
10232 00001154 00000000                   DATA FOR SOURCE-LINE 2535
10233                                     ***** END-POOL *****
10234 00001158                   2555     _MODE_CNTCOM1_STOP_CHK:
10235                            2556             SUB_START
10236 00001158 4F22                   M           STS.L   PR,@-R15                ;[必要]
10237                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10238                            2557     
10239                            2558             FAR_JSR #_CPU_AB_CST_OF_JG,R0           ;R0=_SH4_HD_CNT_STOP,R1=_SH4_HD_CNT_CNT
10240 0000115A D00C                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10241 0000115C 400B                   M           JSR     @R0                     ;
10242 0000115E 0009                   M           NOP                                     ;
10243 00001160 2118              2559             TST     R1,R1                           ;
10244                            2560             TST_BIT_OF MODE_CNTCOM1_STPCMP_100      ;自分のいくぞ信号ON? NO:
10245 00001162 890F                   M           BT      MODE_CNTCOM1_STPCMP_100
10246                            2561     
10247 00001164 D10A              2562             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10248 00001166 6011              2563             MOV.W   @R1,R0                          ;
10249 00001168 D20A              2564             MOV.L   #_CPOS_STEP_MAX,R2              ;
10250 0000116A 6421              2565             MOV.W   @R2,R4                          ;
10251 0000116C 7401              2566             ADD     #1,R4                           ;
10252 0000116E 3400              2567             CMP/EQ  R0,R4                           ;
10253 00001170 8908              2568             BT      MODE_CNTCOM1_STPCMP_100         ;最終工程
10254                            2569     
10255 00001172 6503              2570             MOV     R0,R5                           ;push
10256                            2571             FAR_JSR #_CPU_BA_STEP_LOAD,R2           ;ANS R0 (SH2_STEP_NO,SH4_STEP_NO)
10257 00001174 D208                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10258 00001176 420B                   M           JSR     @R2                     ;
10259 00001178 0009                   M           NOP                                     ;
10260 0000117A 3500              2572             CMP/EQ  R0,R5                           ;
10261 0000117C 8B02              2573             BF      MODE_CNTCOM1_STPCMP_100         ;不一致状態
10262                            2574     
10263                            2575                                                     ;自分のいくぞ信号クリア(相手のもやったほう
                                          がいいのか？)
10264                            2576             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0         ;_SH4_HD_CNT_CNT=0CLR
10265 0000117E D007                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10266 00001180 400B                   M           JSR     @R0                     ;
10267 00001182 0009                   M           NOP                                     ;
10268                            2577     
10269 00001184                   2578     MODE_CNTCOM1_STPCMP_100:
10270                            2579             SUB_END
10271                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10272 00001184 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10273                            2580             M_RTS
10274 00001186 000B                   M           RTS                             ;RTSの後ろの
10275 00001188 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10276                            2581     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    77
PROGRAM NAME =

10277                            2582     
10278                            2583     ;       **************************************************
10279                            2584     ;       ***                                             ***
10280                            2585     ;       ***     AUTO_ON状態(停止条件の判定              ***
10281                            2586     ;       ***                                             ***
10282                            2587     ;       ***************************************************
10283                                     ***** BEGIN-POOL *****
10284 0000118A 0000                       ALIGNMENT CODE
10285 0000118C 00000000                   DATA FOR SOURCE-LINE 2558
10286 00001190 00000000                   DATA FOR SOURCE-LINE 2562
10287 00001194 00000000                   DATA FOR SOURCE-LINE 2564
10288 00001198 00000000                   DATA FOR SOURCE-LINE 2571
10289 0000119C 00000000                   DATA FOR SOURCE-LINE 2576
10290                                     ***** END-POOL *****
10291 000011A0                   2588     _MODE_CNTCNF1_STOP_CHK:
10292                            2589             SUB_START
10293 000011A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10294                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10295                            2590     ;       -------------AUTO ON(連続一行程)------------
10296                            2591             FAR_JSR #_AUTO_ON,R0                            ;
10297 000011A2 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10298 000011A4 400B                   M           JSR     @R0                     ;
10299 000011A6 0009                   M           NOP                                     ;
10300                            2592     ;       -------------------------------------------
10301 000011A8 D104              2593             MOV.L   #_POSHLD1_STOPLATCH,R1                  ;
10302 000011AA 6011              2594             MOV.W   @R1,R0                                  ;
10303 000011AC 2008              2595             TST     R0,R0                                   ;
10304                            2596             TST_BIT_OF MODE_CNTCNF1_STPCHK_210              ;
10305 000011AE 8907                   M           BT      MODE_CNTCNF1_STPCHK_210
10306 000011B0 200A              2597             XOR     R0,R0                                   ;
10307 000011B2 2101              2598             MOV.W   R0,@R1                                  ;
10308                            2599             M_BRA   MODE_CNTCNF1_STPCHK_220                 ;
10309 000011B4 A008                   M           BRA     MODE_CNTCNF1_STPCHK_220
10310 000011B6 0009                   M           NOP
10311                                     ***** BEGIN-POOL *****
10312 000011B8 00000000                   DATA FOR SOURCE-LINE 2591
10313 000011BC 00000000                   DATA FOR SOURCE-LINE 2593
10314                                     ***** END-POOL *****
10315 000011C0                   2600     MODE_CNTCNF1_STPCHK_210:                                ;
10316                            2601     
10317 000011C0 D105              2602             MOV.L   #_CNT_STOP_CMD,R1                       ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄ
                                          ｱｯﾌﾟ
10318 000011C2 6011              2603             MOV.W   @R1,R0                                  ;
10319 000011C4 2008              2604             TST     R0,R0                                   ;
10320                            2605             TST_BIT_OF MODE_CNTCNF1_STPCHK_250              ;(上死点停止指令OFF)
10321 000011C6 8903                   M           BT      MODE_CNTCNF1_STPCHK_250
10322 000011C8                   2606     MODE_CNTCNF1_STPCHK_220:                                ;
10323                            2607     
10324                            2608     ;       //BIT0:ｽﾄｯﾌﾟ釦記憶 停止可能なタイミングで出力される
10325                            2609             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10326 000011C8 D104                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10327 000011CA 6011                   M           MOV.W   @R1,R0          ;
10328 000011CC CB01                   M           OR      #BIT0,R0                ;
10329 000011CE 2101                   M           MOV.W   R0,@R1          ;
10330                            2610     
10331 000011D0                   2611     MODE_CNTCNF1_STPCHK_250:
10332                            2612             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    78
PROGRAM NAME =

10333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10334 000011D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10335                            2613             M_RTS
10336 000011D2 000B                   M           RTS                             ;RTSの後ろの
10337 000011D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10338                            2614     
10339                            2615     
10340                            2616     
10341                            2617     ;       **************************************************
10342                            2618     ;       ***                                             ***
10343                            2619     ;       ***     AUTO_ON状態(相手側も動作する状態)       ***
10344                            2620     ;       ***                                             ***
10345                            2621     ;       ***************************************************
10346                                     ***** BEGIN-POOL *****
10347 000011D6 0000                       ALIGNMENT CODE
10348 000011D8 00000000                   DATA FOR SOURCE-LINE 2602
10349 000011DC 00000000                   DATA FOR SOURCE-LINE 2609
10350                                     ***** END-POOL *****
10351 000011E0                   2622     _MODE_CNTCOM2_STOP_CHK:
10352                            2623             SUB_START
10353 000011E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10354                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10355                            2624     
10356 000011E2 D106              2625             MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦等
10357 000011E4 6011              2626             MOV.W   @R1,R0                                  ;
10358 000011E6 C801              2627             TST     #BIT0,R0                                ;
10359                            2628             TST_BIT_OF MODE_CNTCOM2_STPCHK_300              ;
10360 000011E8 8915                   M           BT      MODE_CNTCOM2_STPCHK_300
10361                            2629     
10362 000011EA D105              2630             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10363 000011EC 6011              2631             MOV.W   @R1,R0                          ;
10364 000011EE D205              2632             MOV.L   #_CPOS_STEP_MAX,R2              ;
10365 000011F0 6421              2633             MOV.W   @R2,R4                          ;
10366 000011F2 7401              2634             ADD     #1,R4                           ;
10367 000011F4 3400              2635             CMP/EQ  R0,R4                           ;
10368 000011F6 8B07              2636             BF      MODE_CNTCOM2_STPCHK_280         ;最終工程以外?
10369                            2637             M_BRA   MODE_CNTCOM2_STPCHK_300         ;最終行程は別で行う
10370 000011F8 A00D                   M           BRA     MODE_CNTCOM2_STPCHK_300
10371 000011FA 0009                   M           NOP
10372                            2638     
10373                                     ***** BEGIN-POOL *****
10374 000011FC 00000000                   DATA FOR SOURCE-LINE 2625
10375 00001200 00000000                   DATA FOR SOURCE-LINE 2630
10376 00001204 00000000                   DATA FOR SOURCE-LINE 2632
10377                                     ***** END-POOL *****
10378 00001208                   2639     MODE_CNTCOM2_STPCHK_280:
10379                            2640     
10380 00001208 D104              2641             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10381 0000120A 6011              2642             MOV.W   @R1,R0                          ;
10382 0000120C C804              2643             TST     #BIT2,R0                        ;2004-12-20
10383                            2644             TST_BIT_ON MODE_CNTCOM2_STPCHK_300      ;BIT2=1 待機点停止しないﾓｰﾄﾞは別で行う
10384 0000120E 8B02                   M           BF      MODE_CNTCOM2_STPCHK_300
10385                            2645     
10386                            2646             FAR_JSR #_STOP_LTH_OUT,R0               ;STOP_LATCH.BIT0=1,SH4_HD_CNT_STOP=-1
10387 00001210 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10388 00001212 400B                   M           JSR     @R0                     ;
10389 00001214 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    79
PROGRAM NAME =

10390                            2647     
10391 00001216                   2648     MODE_CNTCOM2_STPCHK_300:                        ;
10392                            2649     
10393                            2650             SUB_END
10394                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10395 00001216 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10396                            2651             M_RTS
10397 00001218 000B                   M           RTS                             ;RTSの後ろの
10398 0000121A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10399                            2652     
10400                            2653     ;       ***************************
10401                            2654     ;       ***                     ***
10402                            2655     ;       ***************************
10403                            2656             .EXPORT _STOP_LTH_OUT
10404                                     ***** BEGIN-POOL *****
10405 0000121C 00000000                   DATA FOR SOURCE-LINE 2641
10406 00001220 00000000                   DATA FOR SOURCE-LINE 2646
10407                                     ***** END-POOL *****
10408 00001224                   2657     _STOP_LTH_OUT:
10409                            2658             SUB_START
10410 00001224 4F22                   M           STS.L   PR,@-R15                ;[必要]
10411                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10412 00001226 D105              2659             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10413 00001228 6011              2660             MOV.W   @R1,R0                          ;
10414 0000122A CB01              2661             OR      #BIT0,R0                        ;
10415 0000122C 2101              2662             MOV.W   R0,@R1                          ;
10416                            2663     
10417                            2664             FAR_JSR #_CPU_AB_CST_ON_OUT1,R0         ;SH4_HD_CNT_STOP=-1
10418 0000122E D004                   M           MOV.L   #_CPU_AB_CST_ON_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10419 00001230 400B                   M           JSR     @R0                     ;
10420 00001232 0009                   M           NOP                                     ;
10421                            2665     
10422                            2666             SUB_END
10423                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10424 00001234 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10425                            2667             M_RTS
10426 00001236 000B                   M           RTS                             ;RTSの後ろの
10427 00001238 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10428                            2668     
10429                            2669     
10430                            2670     ;       *******************************************
10431                            2671     ;       ***                                     ***
10432                            2672     ;       ***             安全一工程              ***
10433                            2673     ;       ***             一行程                  ***
10434                            2674     ;       *******************************************
10435                                     ***** BEGIN-POOL *****
10436 0000123A 0000                       ALIGNMENT CODE
10437 0000123C 00000000                   DATA FOR SOURCE-LINE 2659
10438 00001240 00000000                   DATA FOR SOURCE-LINE 2664
10439                                     ***** END-POOL *****
10440 00001244                   2675     _MODE_SGL_STOP_CHK:
10441                            2676             SUB_START
10442 00001244 4F22                   M           STS.L   PR,@-R15                ;[必要]
10443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10444                            2677     ;       === 2003-05-24==
10445 00001246 D105              2678             MOV.L   #_MODE_SEL,R1                   ;寸動・安全一工程・連続・OPT
10446 00001248 6011              2679             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    80
PROGRAM NAME =

10447 0000124A 9106              2680             MOV.W   #BIT10,R1                       ;
10448 0000124C 2018              2681             TST     R1,R0                           ;
10449                            2682             TST_BIT_OF MODE_SGL_STPCHK_050          ;安全一行程
10450 0000124E 8909                   M           BT      MODE_SGL_STPCHK_050
10451                            2683             FAR_JSR #_AUTO_ON,R0                    ;一行程
10452 00001250 D003                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10453 00001252 400B                   M           JSR     @R0                     ;
10454 00001254 0009                   M           NOP                                     ;
10455                            2684             M_BRA   MODE_SGL_STPCHK_200             ;
10456 00001256 A03F                   M           BRA     MODE_SGL_STPCHK_200
10457 00001258 0009                   M           NOP
10458                            2685     
10459                                     ***** BEGIN-POOL *****
10460 0000125A 0400                       DATA FOR SOURCE-LINE 2680
10461 0000125C 00000000                   DATA FOR SOURCE-LINE 2678
10462 00001260 00000000                   DATA FOR SOURCE-LINE 2683
10463                                     ***** END-POOL *****
10464 00001264                   2686     MODE_SGL_STPCHK_050:                            ;
10465 00001264 D10A              2687             MOV.L   #_UP_HOLD_FLG,R1                ;
10466 00001266 6011              2688             MOV.W   @R1,R0                          ;
10467 00001268 C801              2689             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10468                            2690             TST_BIT_OF MODE_SGL_STPCHK_100          ;
10469 0000126A 8923                   M           BT      MODE_SGL_STPCHK_100
10470                            2691     ;;      FAR_JSR #_AUTO_ON,R0                    ;
10471                            2692     
10472                            2693     ;       ----2007-03-02-------------------------
10473                            2694             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;相手側はautoにならないで止めたみたいか？
10474 0000126C D009                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10475 0000126E 400B                   M           JSR     @R0                     ;
10476 00001270 0009                   M           NOP                                     ;
10477 00001272 2008              2695             TST     R0,R0                           ;
10478                            2696             TST_BIT_OF MODE_SGL_STPCHK_080          ;
10479 00001274 8916                   M           BT      MODE_SGL_STPCHK_080
10480                            2697             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10481 00001276 D108                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10482 00001278 6011                   M           MOV.W   @R1,R0          ;
10483 0000127A CB01                   M           OR      #BIT0,R0                ;
10484 0000127C 2101                   M           MOV.W   R0,@R1          ;
10485                            2698             FAR_JSR #_AUTO_OF,R0                    ;
10486 0000127E D007                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10487 00001280 400B                   M           JSR     @R0                     ;
10488 00001282 0009                   M           NOP                                     ;
10489                            2699     
10490                            2700     ;       ---------- [2015-11-15]-------------------
10491                            2701     ;;; .AIF 1 EQ 1
10492                            2702             FAR_JSR #_UP_HOLD_MISS,R0       ;
10493 00001284 D006                   M           MOV.L   #_UP_HOLD_MISS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10494 00001286 400B                   M           JSR     @R0                     ;
10495 00001288 0009                   M           NOP                                     ;
10496                            2703     ;;; .AENDI
10497                            2704     ;       ---------------------------------------
10498                            2705     
10499                            2706             M_BRA   MODE_SGL_STPCHK_150             ;
10500 0000128A A01C                   M           BRA     MODE_SGL_STPCHK_150
10501 0000128C 0009                   M           NOP
10502                            2707     
10503                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    81
PROGRAM NAME =

10504 0000128E 0000                       ALIGNMENT CODE
10505 00001290 00000000                   DATA FOR SOURCE-LINE 2687
10506 00001294 00000000                   DATA FOR SOURCE-LINE 2694
10507 00001298 00000000                   DATA FOR SOURCE-LINE 2697
10508 0000129C 00000000                   DATA FOR SOURCE-LINE 2698
10509 000012A0 00000000                   DATA FOR SOURCE-LINE 2702
10510                                     ***** END-POOL *****
10511 000012A4                   2708     MODE_SGL_STPCHK_080             ;
10512                            2709             FAR_JSR #_AUTO_ON,R0                    ;
10513 000012A4 D002                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10514 000012A6 400B                   M           JSR     @R0                     ;
10515 000012A8 0009                   M           NOP                                     ;
10516                            2710             M_BRA   MODE_SGL_STPCHK_200             ;
10517 000012AA A015                   M           BRA     MODE_SGL_STPCHK_200
10518 000012AC 0009                   M           NOP
10519                            2711     
10520                                     ***** BEGIN-POOL *****
10521 000012AE 0000                       ALIGNMENT CODE
10522 000012B0 00000000                   DATA FOR SOURCE-LINE 2709
10523                                     ***** END-POOL *****
10524 000012B4                   2712     MODE_SGL_STPCHK_100:                            ;
10525                            2713     
10526                            2714     ;       ======= 2003-06-13 =====
10527                            2715     ;;;とりあえずくみこまない       MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分
                                          ) 2003-06-13
10528                            2716     ;;;とりあえずくみこまない       MOV.W   @R1,R0                          ;運転中止(寸動部分
                                          ) 2003-06-13
10529                            2717     ;;;とりあえずくみこまない       TST     R0,R0                           ;運転中止(寸動部分
                                          ) 2003-06-13
10530                            2718     ;;;とりあえずくみこまない       TST_BIT_OF MODE_SGL_STPCHK_150          ;TIME-OUT
10531                            2719     
10532                            2720     
10533 000012B4 D10A              2721             MOV.L   #_BTTN_FLG,R1                   ;
10534 000012B6 6011              2722             MOV.W   @R1,R0                          ;
10535 000012B8 C804              2723             TST     #BIT2,R0                        ;両手ON
10536                            2724             TST_BIT_ON MODE_SGL_STPCHK_200          ;
10537 000012BA 8B0D                   M           BF      MODE_SGL_STPCHK_200
10538                            2725     
10539                            2726     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10540                            2727     ;;; .AIF 1 EQ 1
10541                            2728             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10542 000012BC D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10543 000012BE 400B                   M           JSR     @R0                     ;
10544 000012C0 0009                   M           NOP                                     ;
10545 000012C2 2008              2729             TST     R0,R0                           ;
10546                            2730             TST_BIT_ON MODE_SGL_STPCHK_200          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10547 000012C4 8B08                   M           BF      MODE_SGL_STPCHK_200
10548                            2731     ;;; .AENDI
10549                            2732     
10550 000012C6                   2733     MODE_SGL_STPCHK_150:
10551                            2734     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10552                            2735             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10553 000012C6 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10554 000012C8 400B                   M           JSR     @R0                     ;
10555 000012CA 0009                   M           NOP                                     ;
10556                            2736     
10557                            2737             MOD_LOW_STOP_R0_R1                      ;2007-03-02
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    82
PROGRAM NAME =

10558 000012CC D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10559 000012CE E002                   M           MOV.B   #BIT1,R0                        ;
10560 000012D0 2101                   M           MOV.W   R0,@R1                          ;
10561                            2738     ;       ---2007-03-02-----
10562                            2739             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10563 000012D2 D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10564 000012D4 400B                   M           JSR     @R0                     ;
10565 000012D6 0009                   M           NOP                                     ;
10566                            2740     
10567                            2741     ;;;     MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10568                            2742     ;;;     MOV.W   #BIT1,R0                        ;
10569                            2743     ;;;     MOV.W   R0,@R1                          ;
10570 000012D8                   2744     MODE_SGL_STPCHK_200:
10571                            2745             SUB_END
10572                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10573 000012D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10574                            2746             M_RTS
10575 000012DA 000B                   M           RTS                             ;RTSの後ろの
10576 000012DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10577                            2747     
10578                            2748     
10579                            2749     
10580                            2750     ;       *******************************************
10581                            2751     ;       ***                                     ***
10582                            2752     ;       ***     2016-04-12正式に作成            ***
10583                            2753     ;       ***                                     ***
10584                            2754     ;       *******************************************
10585                                     ***** BEGIN-POOL *****
10586 000012DE 0000                       ALIGNMENT CODE
10587 000012E0 00000000                   DATA FOR SOURCE-LINE 2721
10588 000012E4 00000000                   DATA FOR SOURCE-LINE 2728
10589 000012E8 00000000                   DATA FOR SOURCE-LINE 2735
10590 000012EC 00000000                   DATA FOR SOURCE-LINE 2737
10591 000012F0 00000000                   DATA FOR SOURCE-LINE 2739
10592                                     ***** END-POOL *****
10593 000012F4                   2755     _MODE_CSS_STOP_CHK:     ;連続一行程・連続寸動一行程
10594                            2756             SUB_START
10595 000012F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
10596                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10597                            2757     
10598 000012F6 D104              2758             MOV.L   #_MODE_SEL,R1           ;
10599 000012F8 6011              2759             MOV.W   @R1,R0                  ;
10600 000012FA 9103              2760             MOV.W   #BIT11,R1
10601 000012FC 2018              2761             TST     R1,R0           ;連続一行程？
10602                            2762             TST_BIT_ON MODE_CCC_STOPCHK     ;YES
10603 000012FE 8B05                   M           BF      MODE_CCC_STOPCHK
10604                            2763             M_BRA   MODE_CSS_STOPCHK_START  ;連続寸動一行程
10605 00001300 A022                   M           BRA     MODE_CSS_STOPCHK_START
10606 00001302 0009                   M           NOP
10607                            2764     
10608                            2765     ;       == 連続一行程==
10609                                     ***** BEGIN-POOL *****
10610 00001304 0800                       DATA FOR SOURCE-LINE 2760
10611 00001306 0000                       ALIGNMENT CODE
10612 00001308 00000000                   DATA FOR SOURCE-LINE 2758
10613                                     ***** END-POOL *****
10614 0000130C                   2766     MODE_CCC_STOPCHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    83
PROGRAM NAME =

10615                            2767             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;
10616 0000130C D009                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10617 0000130E 400B                   M           JSR     @R0                     ;
10618 00001310 0009                   M           NOP                                     ;
10619                            2768             FAR_JSR #_MODE_CNTCNF1_STOP_CHK,R0              ;
10620 00001312 D009                   M           MOV.L   #_MODE_CNTCNF1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10621 00001314 400B                   M           JSR     @R0                     ;
10622 00001316 0009                   M           NOP                                     ;
10623 00001318 D108              2769             MOV.L   #_BTTN_FLG,R1                           ;
10624 0000131A 6011              2770             MOV.W   @R1,R0                                  ;
10625 0000131C C804              2771             TST     #BIT2,R0                                ;
10626                            2772             TST_BIT_ON MODE_CCC_STPCMP_120                  ;両手ON
10627 0000131E 8B03                   M           BF      MODE_CCC_STPCMP_120
10628                            2773             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10629 00001320 D107                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10630 00001322 6011                   M           MOV.W   @R1,R0          ;
10631 00001324 CB01                   M           OR      #BIT0,R0                ;
10632 00001326 2101                   M           MOV.W   R0,@R1          ;
10633 00001328                   2774     MODE_CCC_STPCMP_120:
10634                            2775     
10635                            2776             FAR_JSR #_MODE_CNTCOM2_STOP_CHK,R0              ;STOP_LATCH_B->STOP_LATCH
10636 00001328 D006                   M           MOV.L   #_MODE_CNTCOM2_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10637 0000132A 400B                   M           JSR     @R0                     ;
10638 0000132C 0009                   M           NOP                                     ;
10639                            2777                                                             ;良いﾀｲﾐﾝｸﾞで出力する()
10640                            2778     
10641                            2779     
10642                            2780             M_BRA   MODE_CSS_STOPCK1000     ;
10643 0000132E A0AD                   M           BRA     MODE_CSS_STOPCK1000
10644 00001330 0009                   M           NOP
10645                            2781     
10646                            2782     ;       ===========================================
10647                            2783     ;       ===             連続寸動一行程          ===
10648                            2784     ;       ===========================================
10649                            2785     ;       == 連続寸動一行程(あした考える->20190820) ==
10650                                     ***** BEGIN-POOL *****
10651 00001332 0000                       ALIGNMENT CODE
10652 00001334 00000000                   DATA FOR SOURCE-LINE 2767
10653 00001338 00000000                   DATA FOR SOURCE-LINE 2768
10654 0000133C 00000000                   DATA FOR SOURCE-LINE 2769
10655 00001340 00000000                   DATA FOR SOURCE-LINE 2773
10656 00001344 00000000                   DATA FOR SOURCE-LINE 2776
10657                                     ***** END-POOL *****
10658 00001348                   2786     MODE_CSS_STOPCHK_START: ;
10659                            2787             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;2019-08-20 共通化
10660 00001348 D00C                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10661 0000134A 400B                   M           JSR     @R0                     ;
10662 0000134C 0009                   M           NOP                                     ;
10663                            2788     
10664                            2789     
10665                            2790     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10666                            2791     ;       本来なら200:~220でやるべき話だが　ここでやったほうが安全性は高い
10667                            2792             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10668 0000134E D00C                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10669 00001350 400B                   M           JSR     @R0                     ;
10670 00001352 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    84
PROGRAM NAME =

10671 00001354 2008              2793             TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10672                            2794             TST_BIT_OF MODE_CCS_STPCMP_105                                          ;
10673 00001356 891F                   M           BT      MODE_CCS_STPCMP_105
10674                            2795             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10675 00001358 D10A                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10676 0000135A 6011                   M           MOV.W   @R1,R0          ;
10677 0000135C CB01                   M           OR      #BIT0,R0                ;
10678 0000135E 2101                   M           MOV.W   R0,@R1          ;
10679                            2796             FAR_JSR #_AUTO_OF,R0                                                    ;
10680 00001360 D009                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10681 00001362 400B                   M           JSR     @R0                     ;
10682 00001364 0009                   M           NOP                                     ;
10683                            2797     
10684                            2798             FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10685 00001366 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10686 00001368 400B                   M           JSR     @R0                     ;
10687 0000136A 0009                   M           NOP                                     ;
10688                            2799             MOD_LOW_STOP_R0_R1                                              ;
10689 0000136C D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10690 0000136E E002                   M           MOV.B   #BIT1,R0                        ;
10691 00001370 2101                   M           MOV.W   R0,@R1                          ;
10692                            2800             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10693 00001372 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10694 00001374 400B                   M           JSR     @R0                     ;
10695 00001376 0009                   M           NOP                                     ;
10696                            2801             M_BRA   MODE_CCS_STPCMP_300                                     ;
10697 00001378 A088                   M           BRA     MODE_CCS_STPCMP_300
10698 0000137A 0009                   M           NOP
10699                            2802     
10700                            2803     
10701                            2804     
10702                                     ***** BEGIN-POOL *****
10703 0000137C 00000000                   DATA FOR SOURCE-LINE 2787
10704 00001380 00000000                   DATA FOR SOURCE-LINE 2792
10705 00001384 00000000                   DATA FOR SOURCE-LINE 2795
10706 00001388 00000000                   DATA FOR SOURCE-LINE 2796
10707 0000138C 00000000                   DATA FOR SOURCE-LINE 2798
10708 00001390 00000000                   DATA FOR SOURCE-LINE 2799
10709 00001394 00000000                   DATA FOR SOURCE-LINE 2800
10710                                     ***** END-POOL *****
10711 00001398                   2805     MODE_CCS_STPCMP_105:
10712                            2806     ;       ----------------------------------------------------------------
10713                            2807     
10714                            2808     
10715                            2809     
10716                            2810     ;;;;;;  ----- 2005-08-26 -------
10717                            2811     ;;;;;;  MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10718                            2812     ;;;;;;  MOV.W   @R1,R0                          ;
10719                            2813     ;;;;;;  TST     #BIT0,R0                        ;STOP-LATCH-ON
10720                            2814     ;;;;;;  TST_BIT_OF MODE_CCS_STPCMP_110          ;
10721                            2815     ;;;;;;  M_BRA   MODE_CCS_STPCMP_270
10722                            2816     ;;;;;;MODE_CCS_STPCMP_110:
10723                            2817     ;       ------------------------
10724                            2818     
10725 00001398 D111              2819             MOV.L   #_BTTN_FLG,R1                   ;
10726 0000139A 6011              2820             MOV.W   @R1,R0                          ;
10727 0000139C C804              2821             TST     #BIT2,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    85
PROGRAM NAME =

10728                            2822             TST_BIT_ON MODE_CCS_STPCMP_120          ;両手ON
10729 0000139E 8B02                   M           BF      MODE_CCS_STPCMP_120
10730                            2823     
10731 000013A0 901C              2824             MOV.W   #BIT0,R0                        ;
10732 000013A2 D110              2825             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10733 000013A4 2101              2826             MOV.W   R0,@R1                          ;
10734                            2827     
10735 000013A6                   2828     MODE_CCS_STPCMP_120:
10736                            2829     ;       ---------回転の論理変更----------
10737 000013A6 D110              2830             MOV.L   #_CPOS_CTL_MATH,R1              ;
10738 000013A8 6011              2831             MOV.W   @R1,R0                          ;
10739                            2832     ;;;2016-10-31   TST     #_DMATH_CNTROT,R0               ;
10740 000013AA C805              2833             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10741                            2834             TST_BIT_OF MODE_CCS_STPCMP_140          ;
10742 000013AC 892C                   M           BT      MODE_CCS_STPCMP_140
10743                            2835     
10744 000013AE D40F              2836             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
10745 000013B0 6041              2837             MOV.W   @R4,R0                          ;
10746 000013B2 C802              2838             TST     #(BIT1),R0                      ;下降(停止)
10747                            2839             TST_BIT_ON MODE_CCS_STPCMP_145          ;
10748 000013B4 8B2C                   M           BF      MODE_CCS_STPCMP_145
10749                            2840     
10750 000013B6 D50E              2841             MOV.L   #_INT_POS_CTL_STEP,R5           ;
10751 000013B8 6251              2842             MOV.W   @R5,R2                          ;
10752 000013BA D40E              2843             MOV.L   #_UP_HOLD_STEP,R4               ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
10753 000013BC 6541              2844             MOV.W   @R4,R5                          ;
10754 000013BE 3252              2845             CMP/HS  R5,R2                           ;ﾁｪｯｸすべき工程にきたか
10755 000013C0 8B26              2846             BF      MODE_CCS_STPCMP_145             ;NO(停止)
10756                            2847     
10757                            2848     ;;;2019-08-20   MOV.L   #_INC_ENC360,R4                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
10758 000013C2 D40D              2849             MOV.L   #_DNM_CTL_INC3600,R4            ;
10759 000013C4 6241              2850             MOV.W   @R4,R2                          ;
10760 000013C6 D50D              2851             MOV.L   #_UP_HOLD_DIG,R5                ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
10761 000013C8 6151              2852             MOV.W   @R5,R1                          ;START
10762 000013CA D50D              2853             MOV.L   #_SETX_UPAREA_DIG,R5            ;
10763 000013CC 6351              2854             MOV.W   @R5,R3                          ;
10764                            2855             FAR_JSR #_DIG_AREA_CHK1,R0              ;"ANS:R5"
10765 000013CE D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10766 000013D0 400B                   M           JSR     @R0                     ;
10767 000013D2 0009                   M           NOP                                     ;
10768 000013D4 4511              2856             CMP/PZ  R5                              ;
10769 000013D6 8B1B              2857             BF      MODE_CCS_STPCMP_145             ;
10770                            2858             M_BRA   MODE_CCS_STPCMP_200             ;165~359.9　HOLD
10771 000013D8 A042                   M           BRA     MODE_CCS_STPCMP_200
10772 000013DA 0009                   M           NOP
10773                            2859     
10774                            2860     ;       -------- 反転------------
10775                                     ***** BEGIN-POOL *****
10776 000013DC 0001                       DATA FOR SOURCE-LINE 2824
10777 000013DE 0000                       ALIGNMENT CODE
10778 000013E0 00000000                   DATA FOR SOURCE-LINE 2819
10779 000013E4 00000000                   DATA FOR SOURCE-LINE 2825
10780 000013E8 00000000                   DATA FOR SOURCE-LINE 2830
10781 000013EC 00000000                   DATA FOR SOURCE-LINE 2836
10782 000013F0 00000000                   DATA FOR SOURCE-LINE 2841
10783 000013F4 00000000                   DATA FOR SOURCE-LINE 2843
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    86
PROGRAM NAME =

10784 000013F8 00000000                   DATA FOR SOURCE-LINE 2849
10785 000013FC 00000000                   DATA FOR SOURCE-LINE 2851
10786 00001400 00000000                   DATA FOR SOURCE-LINE 2853
10787 00001404 00000000                   DATA FOR SOURCE-LINE 2855
10788                                     ***** END-POOL *****
10789 00001408                   2861     MODE_CCS_STPCMP_140:
10790 00001408 D10D              2862             MOV.L   #_LOT_CNT_FLG,R1                ;//行程=1で0 最終工程で条件成立で=1()
10791 0000140A 6011              2863             MOV.W   @R1,R0                          ;BIT0=1 上昇ﾎｰﾙﾄﾞ〜1工程または下降工程まで
10792 0000140C C801              2864             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10793                            2865             TST_BIT_ON MODE_CCS_STPCMP_200          ;
10794 0000140E 8B27                   M           BF      MODE_CCS_STPCMP_200
10795                            2866     
10796                            2867     
10797 00001410                   2868     MODE_CCS_STPCMP_145:
10798                            2869             FAR_JSR #_AUTO_OF,R0                    ;
10799 00001410 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10800 00001412 400B                   M           JSR     @R0                     ;
10801 00001414 0009                   M           NOP                                     ;
10802                            2870     
10803                            2871     ;       === 上昇ﾎｰﾙﾄﾞではない===
10804 00001416 D10C              2872             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10805 00001418 6011              2873             MOV.W   @R1,R0                          ;
10806 0000141A C801              2874             TST     #BIT0,R0                        ;
10807                            2875             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10808 0000141C 8936                   M           BT      MODE_CCS_STPCMP_300
10809                            2876     
10810                            2877     ;;;;2005-08-28  MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10811                            2878     
10812                            2879     ;下降行程で手を離したら無条件に停止する
10813                            2880     ;;;;2007-12-26  MOV.L   #_STOP_LATCH_B,R1               ;2005-08-28
10814                            2881     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10815                            2882     ;;;;2007-12-26  TST     #BIT0,R0                        ;
10816                            2883     ;;;;2007-12-26  TST_BIT_OF MODE_CCS_STPCMP_150          ;通常の停止
10817                            2884     ;;;;2007-12-26
10818                            2885     ;;;;2007-12-26  MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10819                            2886     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10820                            2887     ;;;;2007-12-26  MOV.L   #_CPOS_STEP_MAX,R2              ;
10821                            2888     ;;;;2007-12-26  MOV.W   @R2,R4                          ;
10822                            2889     ;;;;2007-12-26  ADD     #1,R4                           ;
10823                            2890     ;;;;2007-12-26  CMP/EQ  R0,R4                           ;
10824                            2891     ;;;;2007-12-26  BF      MODE_CCS_STPCMP_150             ;最終工程でないなら手動停止
10825                            2892     ;;;;2007-12-26  M_BRA   MODE_CCS_STPCMP_300             ;
10826                            2893     ;;;;2019-08-20MODE_CCS_STPCMP_150:
10827                            2894     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10828                            2895             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10829 0000141E D00B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10830 00001420 400B                   M           JSR     @R0                     ;
10831 00001422 0009                   M           NOP                                     ;
10832                            2896             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10833 00001424 D10A                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10834 00001426 E002                   M           MOV.B   #BIT1,R0                        ;
10835 00001428 2101                   M           MOV.W   R0,@R1                          ;
10836                            2897     ;       ---2007-03-02-----
10837                            2898             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10838 0000142A D00A                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10839 0000142C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    87
PROGRAM NAME =

10840 0000142E 0009                   M           NOP                                     ;
10841                            2899     
10842                            2900     ;       ------- 2007-12-26-------
10843 00001430 200A              2901             XOR     R0,R0
10844 00001432 D109              2902             MOV.L   #_STOP_LATCH_B,R1               ;
10845 00001434 2101              2903             MOV.W   R0,@R1
10846 00001436 D109              2904             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10847 00001438 2101              2905             MOV.W   R0,@R1
10848                            2906             M_BRA   MODE_CCS_STPCMP_300             ;
10849 0000143A A027                   M           BRA     MODE_CCS_STPCMP_300
10850 0000143C 0009                   M           NOP
10851                            2907     
10852                            2908     ;       ====== 上昇ﾎｰﾙﾄﾞ中 =====
10853                                     ***** BEGIN-POOL *****
10854 0000143E 0000                       ALIGNMENT CODE
10855 00001440 00000000                   DATA FOR SOURCE-LINE 2862
10856 00001444 00000000                   DATA FOR SOURCE-LINE 2869
10857 00001448 00000000                   DATA FOR SOURCE-LINE 2872
10858 0000144C 00000000                   DATA FOR SOURCE-LINE 2895
10859 00001450 00000000                   DATA FOR SOURCE-LINE 2896
10860 00001454 00000000                   DATA FOR SOURCE-LINE 2898
10861 00001458 00000000                   DATA FOR SOURCE-LINE 2902
10862 0000145C 00000000                   DATA FOR SOURCE-LINE 2904
10863                                     ***** END-POOL *****
10864 00001460                   2909     MODE_CCS_STPCMP_200:
10865                            2910     ;2007-11-21 本来は200:~220:だけでいいが確認が難しいことと、不具合をださないなら上でやる
10866                            2911     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10867                            2912     ;       FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10868                            2913     ;       TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10869                            2914     ;       TST_BIT_OF MODE_CCS_STPCMP_220                                          ;
10870                            2915     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10871                            2916     ;       FAR_JSR #_AUTO_OF,R0                                                    ;
10872                            2917     ;
10873                            2918     ;       FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10874                            2919     ;       MOD_LOW_STOP_R0_R1                                              ;
10875                            2920     ;       FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10876                            2921     ;       M_BRA   MODE_CCS_STPCMP_300                                     ;
10877                            2922     ;MODE_CCS_STPCMP_220:
10878                            2923     ;       ----------------------------------------------------------------
10879                            2924     
10880                            2925             FAR_JSR #_AUTO_ON,R0                    ;
10881 00001460 D00C                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10882 00001462 400B                   M           JSR     @R0                     ;
10883 00001464 0009                   M           NOP                                     ;
10884                            2926     
10885 00001466 D10C              2927             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10886 00001468 6011              2928             MOV.W   @R1,R0                          ;
10887 0000146A 2008              2929             TST     R0,R0                           ;
10888                            2930             TST_BIT_ON MODE_CCS_STPCMP_250          ;停止すべき
10889 0000146C 8B03                   M           BF      MODE_CCS_STPCMP_250
10890                            2931     
10891 0000146E D10B              2932             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10892 00001470 6011              2933             MOV.W   @R1,R0                          ;
10893 00001472 C801              2934             TST     #BIT0,R0                        ;
10894                            2935             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    88
PROGRAM NAME =

10895 00001474 890A                   M           BT      MODE_CCS_STPCMP_300
10896                            2936     
10897 00001476                   2937     MODE_CCS_STPCMP_250:
10898 00001476 D10A              2938             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10899 00001478 6011              2939             MOV.W   @R1,R0                          ;
10900 0000147A CB01              2940             OR      #BIT0,R0                        ;
10901 0000147C 2101              2941             MOV.W   R0,@R1                          ;
10902                            2942     
10903 0000147E                   2943     MODE_CCS_STPCMP_270:
10904                            2944     
10905                            2945     ;;;;;;;;;;;2007-12-26 最終工程でなくても上昇ﾎｰﾙﾄﾞで停止ｺﾏﾝﾄﾞ出力
10906                            2946     ;;;     ------------- 追加 2005-08-26 -----------
10907                            2947     ;;;        MOV.L        #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10908                            2948     ;;;        MOV.W        @R1,R0                          ;
10909                            2949     ;;;        MOV.L        #_CPOS_STEP_MAX,R2              ;
10910                            2950     ;;;        MOV.W        @R2,R4                          ;
10911                            2951     ;;;        ADD  #1,R4                           ;
10912                            2952     ;;;        CMP/EQ       R0,R4                           ;
10913                            2953     ;;;        BF   MODE_CCS_STPCMP_280             ;最終工程以外?
10914                            2954     ;;;        M_BRA        MODE_CCS_STPCMP_300             ;
10915                            2955     
10916 0000147E                   2956     MODE_CCS_STPCMP_280:
10917 0000147E D109              2957             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10918 00001480 6011              2958             MOV.W   @R1,R0                                                  ;
10919 00001482 C804              2959             TST     #BIT2,R0                                                ;2004-12-20
10920                            2960             TST_BIT_ON MODE_CCS_STPCMP_300                                  ;
10921 00001484 8B02                   M           BF      MODE_CCS_STPCMP_300
10922                            2961     
10923                            2962             FAR_JSR #_STOP_LTH_OUT,R0
10924 00001486 D008                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10925 00001488 400B                   M           JSR     @R0                     ;
10926 0000148A 0009                   M           NOP                                     ;
10927                            2963     
10928                            2964     
10929 0000148C                   2965     MODE_CCS_STPCMP_300:
10930                            2966     
10931 0000148C                   2967     MODE_CSS_STOPCK1000:
10932                            2968     
10933                            2969             SUB_END
10934                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10935 0000148C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10936                            2970             M_RTS
10937 0000148E 000B                   M           RTS                             ;RTSの後ろの
10938 00001490 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10939                            2971     
10940                            2972     
10941                                     ***** BEGIN-POOL *****
10942 00001492 0000                       ALIGNMENT CODE
10943 00001494 00000000                   DATA FOR SOURCE-LINE 2925
10944 00001498 00000000                   DATA FOR SOURCE-LINE 2927
10945 0000149C 00000000                   DATA FOR SOURCE-LINE 2932
10946 000014A0 00000000                   DATA FOR SOURCE-LINE 2938
10947 000014A4 00000000                   DATA FOR SOURCE-LINE 2957
10948 000014A8 00000000                   DATA FOR SOURCE-LINE 2962
10949                                     ***** END-POOL *****
10950 000014AC                   2973     _MODE_OPT_STOP_CHK:;//(ｵﾌﾟｼｮﾝではなくなってしまっている ここにはこないPSDIぐらい)
10951 000014AC                   2974     _MODE_INC_STOP_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    89
PROGRAM NAME =

10952                            2975             SUB_START
10953 000014AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
10954                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10955 000014AE D103              2976             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分) 2003-06-13
10956 000014B0 6011              2977             MOV.W   @R1,R0                          ;運転中止(寸動部分) 2003-06-13
10957 000014B2 2008              2978             TST     R0,R0                           ;運転中止(寸動部分) 2003-06-13
10958                            2979             TST_BIT_OF MODE_INC_STPCHK_050          ;運転中止(寸動部分) 2003-06-13
10959 000014B4 8923                   M           BT      MODE_INC_STPCHK_050
10960                            2980             M_BRA   MODE_INC_STPCHK_000             ;運転中止(寸動部分) 2003-06-13
10961 000014B6 A019                   M           BRA     MODE_INC_STPCHK_000
10962 000014B8 0009                   M           NOP
10963                            2981     
10964                            2982     
10965                                     ***** BEGIN-POOL *****
10966 000014BA 0000                       ALIGNMENT CODE
10967 000014BC 00000000                   DATA FOR SOURCE-LINE 2976
10968                                     ***** END-POOL *****
10969 000014C0                   2983     _MODE_DIC_STOP_CHK:
10970                            2984             SUB_START
10971 000014C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10972                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10973                            2985     ;       -------- 2006-07-28----
10974 000014C2 D107              2986             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10975 000014C4 6011              2987             MOV.W   @R1,R0                          ;
10976 000014C6 2008              2988             TST     R0,R0                           ;
10977                            2989             TST_BIT_OF MODE_INC_STPCHK_000          ;
10978 000014C8 8910                   M           BT      MODE_INC_STPCHK_000
10979                            2990     
10980                            2991     
10981                            2992     ;       ---------手パﾓｰﾄﾞで手パ有効OFFなら終り[2011-07-04]
10982 000014CA D106              2993             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
10983 000014CC 6011              2994             MOV.W   @R1,R0                          ;
10984 000014CE C802              2995             TST     #BIT1,R0                        ;
10985                            2996             TST_BIT_OF MODE_INC_STPCHK_050          ;
10986 000014D0 8915                   M           BT      MODE_INC_STPCHK_050
10987                            2997     
10988                            2998     
10989 000014D2 D105              2999             MOV.L   #_BTTN_FLG,R1                   ;
10990 000014D4 6011              3000             MOV.W   @R1,R0                          ;
10991 000014D6 C802              3001             TST     #BIT1,R0                        ;
10992                            3002             TST_BIT_ON MODE_INC_STPCHK_100          ;片手ONなら継続
10993 000014D8 8B1A                   M           BF      MODE_INC_STPCHK_100
10994                            3003             M_BRA   MODE_INC_STPCHK_050             ;
10995 000014DA A010                   M           BRA     MODE_INC_STPCHK_050
10996 000014DC 0009                   M           NOP
10997                            3004     ;       -----------------------
10998                            3005     
10999                                     ***** BEGIN-POOL *****
11000 000014DE 0000                       ALIGNMENT CODE
11001 000014E0 00000000                   DATA FOR SOURCE-LINE 2986
11002 000014E4 00000000                   DATA FOR SOURCE-LINE 2993
11003 000014E8 00000000                   DATA FOR SOURCE-LINE 2999
11004                                     ***** END-POOL *****
11005 000014EC                   3006     MODE_INC_STPCHK_000:
11006 000014EC D10A              3007             MOV.L   #_BTTN_FLG,R1                   ;
11007 000014EE 6011              3008             MOV.W   @R1,R0                          ;
11008 000014F0 C804              3009             TST     #BIT2,R0                        ;両手ON
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    90
PROGRAM NAME =

11009                            3010             TST_BIT_ON MODE_INC_STPCHK_100          ;
11010 000014F2 8B0D                   M           BF      MODE_INC_STPCHK_100
11011                            3011     
11012                            3012     ;       ---------- 2015-11-13[行程2重回路対策]---------------
11013                            3013     ;;;; .AIF 1 EQ 1
11014                            3014             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
11015 000014F4 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11016 000014F6 400B                   M           JSR     @R0                     ;
11017 000014F8 0009                   M           NOP                                     ;
11018 000014FA 2008              3015             TST     R0,R0                           ;
11019                            3016             TST_BIT_ON MODE_INC_STPCHK_100          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
11020 000014FC 8B08                   M           BF      MODE_INC_STPCHK_100
11021                            3017     ;;;; .AENDI
11022                            3018     ;       ------------------------------------
11023                            3019     
11024 000014FE                   3020     MODE_INC_STPCHK_050:
11025                            3021     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11026                            3022             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11027 000014FE D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11028 00001500 400B                   M           JSR     @R0                     ;
11029 00001502 0009                   M           NOP                                     ;
11030                            3023     
11031                            3024             MOD_LOW_STOP_R0_R1                      ;2007-03-02
11032 00001504 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11033 00001506 E002                   M           MOV.B   #BIT1,R0                        ;
11034 00001508 2101                   M           MOV.W   R0,@R1                          ;
11035                            3025     ;       ---2007-03-02-----
11036                            3026             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11037 0000150A D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11038 0000150C 400B                   M           JSR     @R0                     ;
11039 0000150E 0009                   M           NOP                                     ;
11040                            3027     
11041                            3028     ;;;     MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11042                            3029     ;;;     MOV.W   #BIT1,R0                        ;
11043                            3030     ;;;     MOV.W   R0,@R1                          ;
11044 00001510                   3031     MODE_INC_STPCHK_100:
11045                            3032             SUB_END
11046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11047 00001510 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11048                            3033             M_RTS
11049 00001512 000B                   M           RTS                             ;RTSの後ろの
11050 00001514 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11051                            3034     
11052                            3035     ;       === 2003-07-09 =====
11053                                     ***** BEGIN-POOL *****
11054 00001516 0000                       ALIGNMENT CODE
11055 00001518 00000000                   DATA FOR SOURCE-LINE 3007
11056 0000151C 00000000                   DATA FOR SOURCE-LINE 3014
11057 00001520 00000000                   DATA FOR SOURCE-LINE 3022
11058 00001524 00000000                   DATA FOR SOURCE-LINE 3024
11059 00001528 00000000                   DATA FOR SOURCE-LINE 3026
11060                                     ***** END-POOL *****
11061 0000152C                   3036     _MODE_DUP_STOP_CHK:
11062                            3037             SUB_START
11063 0000152C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11064                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11065                            3038     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    91
PROGRAM NAME =

11066 0000152E D109              3039             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
11067 00001530 6011              3040             MOV.W   @R1,R0                          ;
11068 00001532 8801              3041             CMP/EQ  #1,R0                           ;
11069 00001534 8918              3042             BT      MODE_DUP_STPCHK100              ;
11070                            3043     
11071 00001536 D108              3044             MOV.L   #_BTTN_FLG,R1                   ;
11072 00001538 6011              3045             MOV.W   @R1,R0                          ;
11073 0000153A C804              3046             TST     #BIT2,R0                        ;両手ON
11074                            3047             TST_BIT_ON MODE_DUP_STPCHK200           ;
11075 0000153C 8B22                   M           BF      MODE_DUP_STPCHK200
11076                            3048             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11077 0000153E D007                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11078 00001540 400B                   M           JSR     @R0                     ;
11079 00001542 0009                   M           NOP                                     ;
11080                            3049     ;;;20060916             FAR_JSR #_STOPPING_TIM_STOP_INI,R0      ;
11081                            3050             MOD_LOW_STOP_R0_R1                      ;減速停止
11082 00001544 D106                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11083 00001546 E002                   M           MOV.B   #BIT1,R0                        ;
11084 00001548 2101                   M           MOV.W   R0,@R1                          ;
11085                            3051     ;       ---2007-03-02-----
11086                            3052             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11087 0000154A D006                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11088 0000154C 400B                   M           JSR     @R0                     ;
11089 0000154E 0009                   M           NOP                                     ;
11090                            3053     
11091                            3054             M_BRA   MODE_DUP_STPCHK200
11092 00001550 A018                   M           BRA     MODE_DUP_STPCHK200
11093 00001552 0009                   M           NOP
11094                            3055     
11095                                     ***** BEGIN-POOL *****
11096 00001554 00000000                   DATA FOR SOURCE-LINE 3039
11097 00001558 00000000                   DATA FOR SOURCE-LINE 3044
11098 0000155C 00000000                   DATA FOR SOURCE-LINE 3048
11099 00001560 00000000                   DATA FOR SOURCE-LINE 3050
11100 00001564 00000000                   DATA FOR SOURCE-LINE 3052
11101                                     ***** END-POOL *****
11102 00001568                   3056     MODE_DUP_STPCHK100:
11103                            3057     ;       ====原点復帰完了待ち
11104 00001568 D108              3058             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11105 0000156A 6011              3059             MOV.W   @R1,R0                          ;起動でBIT1=BIT0=0 完了でBIT0=1　LATCH/BIT
                                          1=1
11106 0000156C C810              3060             TST     #BIT4,R0                        ;
11107                            3061             TST_BIT_ON MODE_DUP_STPCHK200           ;BIT4=1 全工程終了
11108 0000156E 8B09                   M           BF      MODE_DUP_STPCHK200
11109                            3062     
11110 00001570 C808              3063             TST     #BIT3,R0                        ;終了 終了ﾗｯﾁ
11111                            3064             TST_BIT_OF MODE_DUP_STPCHK200           ;
11112 00001572 8907                   M           BT      MODE_DUP_STPCHK200
11113 00001574 CB10              3065             OR      #BIT4,R0                        ;
11114 00001576 2101              3066             MOV.W   R0,@R1                          ;
11115                            3067     
11116                            3068             MOD_LOW_STOP_R0_R1                      ;減速停止(本当は不要だけど終了させる為にあ
                                          えて)
11117 00001578 D105                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11118 0000157A E002                   M           MOV.B   #BIT1,R0                        ;
11119 0000157C 2101                   M           MOV.W   R0,@R1                          ;
11120                            3069     ;       ---2007-03-02-----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    92
PROGRAM NAME =

11121                            3070             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11122 0000157E D005                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11123 00001580 400B                   M           JSR     @R0                     ;
11124 00001582 0009                   M           NOP                                     ;
11125                            3071     
11126 00001584                   3072     MODE_DUP_STPCHK200
11127                            3073             SUB_END
11128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11129 00001584 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11130                            3074             M_RTS
11131 00001586 000B                   M           RTS                             ;RTSの後ろの
11132 00001588 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11133                            3075     
11134                            3076     ;       *******************************************
11135                            3077     ;       ***                                     ***
11136                            3078     ;       ***     位置決めキャンセル指令時クリア  ***
11137                            3079     ;       ***                                     ***
11138                            3080     ;       *******************************************
11139                                     ***** BEGIN-POOL *****
11140 0000158A 0000                       ALIGNMENT CODE
11141 0000158C 00000000                   DATA FOR SOURCE-LINE 3058
11142 00001590 00000000                   DATA FOR SOURCE-LINE 3068
11143 00001594 00000000                   DATA FOR SOURCE-LINE 3070
11144                                     ***** END-POOL *****
11145 00001598                   3081     _POS_CANSEL_STOP_CHK:
11146                            3082             SUB_START
11147 00001598 4F22                   M           STS.L   PR,@-R15                ;[必要]
11148                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11149                            3083              .AIF   1 EQ 1  ;
11150                            3084 C   ;       -------- 2016-10-31 ADD 二重回路対策
11151                            3085              .AENDI
11152                            3086     
11153                            3087     ;;;2016-10-31   MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
11154                            3088     ;;;2016-10-31   MOV.W   @R1,R0                          ;
11155                            3089     ;;;2016-10-31   MOV.W   #BIT11,R4                       ;
11156                            3090     
11157                            3091     ;       -------- 2016-10-31(2016-05-11) ﾗｯﾁﾃﾞｰﾀに変更-----------
11158 0000159A D10C              3092             MOV.L   #_POSCANSEL_CMD,R1              ;
11159 0000159C 6011              3093             MOV.W   @R1,R0                          ;
11160 0000159E 9413              3094             MOV.W   #BIT11,R4                       ;
11161                            3095     
11162 000015A0 2048              3096             TST     R4,R0                           ;
11163                            3097             TST_BIT_OF POS_CANSEL_STPCHK_MOV        ;
11164 000015A2 891F                   M           BT      POS_CANSEL_STPCHK_MOV
11165                            3098     
11166                            3099             FAR_JSR #_POS_CANSEL_CLR,R0
11167 000015A4 D00A                   M           MOV.L   #_POS_CANSEL_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11168 000015A6 400B                   M           JSR     @R0                     ;
11169 000015A8 0009                   M           NOP                                     ;
11170                            3100             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
11171 000015AA D00A                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11172 000015AC 400B                   M           JSR     @R0                     ;
11173 000015AE 0009                   M           NOP                                     ;
11174                            3101     
11175                            3102     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11176                            3103             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11177 000015B0 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    93
PROGRAM NAME =

11178 000015B2 400B                   M           JSR     @R0                     ;
11179 000015B4 0009                   M           NOP                                     ;
11180                            3104     
11181                            3105     ;       ---2007-03-02-----
11182                            3106             MOD_LOW_STOP_R0_R1              ;bit1->_MNWR_POS_CMD,R1         ;減速停止,起動OFF
11183 000015B6 D109                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11184 000015B8 E002                   M           MOV.B   #BIT1,R0                        ;
11185 000015BA 2101                   M           MOV.W   R0,@R1                          ;
11186                            3107             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11187 000015BC D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11188 000015BE 400B                   M           JSR     @R0                     ;
11189 000015C0 0009                   M           NOP                                     ;
11190                            3108     
11191                            3109     ;       ---- STOP ANS
11192 000015C2 E001              3110             MOV     #1,R0
11193                            3111             M_BRA   POS_CANSEL_STPCHK_END
11194 000015C4 A00F                   M           BRA     POS_CANSEL_STPCHK_END
11195 000015C6 0009                   M           NOP
11196                                     ***** BEGIN-POOL *****
11197 000015C8 0800                       DATA FOR SOURCE-LINE 3094
11198 000015CA 0000                       ALIGNMENT CODE
11199 000015CC 00000000                   DATA FOR SOURCE-LINE 3092
11200 000015D0 00000000                   DATA FOR SOURCE-LINE 3099
11201 000015D4 00000000                   DATA FOR SOURCE-LINE 3100
11202 000015D8 00000000                   DATA FOR SOURCE-LINE 3103
11203 000015DC 00000000                   DATA FOR SOURCE-LINE 3106
11204 000015E0 00000000                   DATA FOR SOURCE-LINE 3107
11205                                     ***** END-POOL *****
11206 000015E4                   3112     POS_CANSEL_STPCHK_MOV:
11207 000015E4 200A              3113             XOR     R0,R0
11208 000015E6                   3114     POS_CANSEL_STPCHK_END:
11209                            3115             SUB_END
11210                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11211 000015E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11212                            3116             M_RTS
11213 000015E8 000B                   M           RTS                             ;RTSの後ろの
11214 000015EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11215                            3117     
11216 000015EC                   3118     _POS_CANSEL_CLR
11217                            3119             SUB_START
11218 000015EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11219                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11220                            3120             FAR_JSR #_AUTO_OF,R0                    ;
11221 000015EE D006                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11222 000015F0 400B                   M           JSR     @R0                     ;
11223 000015F2 0009                   M           NOP                                     ;
11224 000015F4 200A              3121             XOR     R0,R0
11225 000015F6 D105              3122             MOV.L   #_STOP_LATCH_B,R1               ;
11226 000015F8 2101              3123             MOV.W   R0,@R1
11227 000015FA D105              3124             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11228 000015FC 2101              3125             MOV.W   R0,@R1
11229 000015FE D105              3126             MOV.L   #_INT_CLS_CTL_FLG,R1            ;//BIT0=1 START 起動時ｸﾘｱ
11230 00001600 2101              3127             MOV.W   R0,@R1                          ;
11231                            3128     
11232                            3129             SUB_END
11233                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11234 00001602 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    94
PROGRAM NAME =

11235                            3130             M_RTS
11236 00001604 000B                   M           RTS                             ;RTSの後ろの
11237 00001606 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11238                            3131     
11239                            3132     
11240                            3133     ;       *******************************************
11241                            3134     ;       ***                                     ***
11242                            3135     ;       ***     モード制御フラグの異常時クリア  ***
11243                            3136     ;       ***                                     ***
11244                            3137     ;       *******************************************
11245                                     ***** BEGIN-POOL *****
11246 00001608 00000000                   DATA FOR SOURCE-LINE 3120
11247 0000160C 00000000                   DATA FOR SOURCE-LINE 3122
11248 00001610 00000000                   DATA FOR SOURCE-LINE 3124
11249 00001614 00000000                   DATA FOR SOURCE-LINE 3126
11250                                     ***** END-POOL *****
11251 00001618                   3138             .ALIGN  4                               ;
11252 00001618                   3139     _EMG_CTL_FLG_PROC:
11253                            3140             SUB_START
11254 00001618 4F22                   M           STS.L   PR,@-R15                ;[必要]
11255                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11256                            3141             FAR_JSR #_EXQ_CTL_FLG_PROC,R1           ;
11257 0000161A D10D                   M           MOV.L   #_EXQ_CTL_FLG_PROC,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11258 0000161C 410B                   M           JSR     @R1                     ;
11259 0000161E 0009                   M           NOP                                     ;
11260                            3142             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;(ﾛｯﾄｶｳﾝﾀには使用できないので注意)
11261 00001620 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11262 00001622 400B                   M           JSR     @R0                     ;
11263 00001624 0009                   M           NOP                                     ;
11264                            3143             FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;
11265 00001626 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11266 00001628 400B                   M           JSR     @R0                     ;
11267 0000162A 0009                   M           NOP                                     ;
11268                            3144     
11269 0000162C 200A              3145             XOR     R0,R0                           ;
11270 0000162E D10B              3146             MOV.L   #_INT_POS_CTL_STEP,R1           ;
11271 00001630 2101              3147             MOV.W   R0,@R1                          ;
11272 00001632 D10B              3148             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
11273 00001634 2101              3149             MOV.W   R0,@R1                          ;
11274                            3150     
11275                            3151             FAR_JSR #_STEP_SIG_DSP_CLR,R0
11276 00001636 D00B                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11277 00001638 400B                   M           JSR     @R0                     ;
11278 0000163A 0009                   M           NOP                                     ;
11279                            3152     
11280 0000163C 200A              3153             XOR     R0,R0                           ;2004-01-28
11281 0000163E D10A              3154             MOV.L   #_ENC360_OVER_FLG,R1            ;
11282 00001640 2101              3155             MOV.W   R0,@R1                          ;
11283                            3156     
11284                            3157     ;       ----- 2006-04-26 ------------
11285 00001642 200A              3158             XOR     R0,R0                           ;
11286 00001644 D109              3159             MOV.L   #_IN_RDY_FLG,R1                 ;ANTI LEVEL
11287 00001646 2101              3160             MOV.W   R0,@R1                          ;
11288                            3161     
11289                            3162             SUB_END
11290                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11291 00001648 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    95
PROGRAM NAME =

11292                            3163             M_RTS
11293 0000164A 000B                   M           RTS                             ;RTSの後ろの
11294 0000164C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11295                            3164     
11296                                     ***** BEGIN-POOL *****
11297 0000164E 0000                       ALIGNMENT CODE
11298 00001650 00000000                   DATA FOR SOURCE-LINE 3141
11299 00001654 00000000                   DATA FOR SOURCE-LINE 3142
11300 00001658 00000000                   DATA FOR SOURCE-LINE 3143
11301 0000165C 00000000                   DATA FOR SOURCE-LINE 3146
11302 00001660 00000000                   DATA FOR SOURCE-LINE 3148
11303 00001664 00000000                   DATA FOR SOURCE-LINE 3151
11304 00001668 00000000                   DATA FOR SOURCE-LINE 3154
11305 0000166C 00000000                   DATA FOR SOURCE-LINE 3159
11306                                     ***** END-POOL *****
11307 00001670                   3165             .ALIGN  4                               ;
11308 00001670                   3166     _EXQ_CTL_FLG_PROC:                              ;EMGでも呼ばれる
11309                            3167             SUB_START
11310 00001670 4F22                   M           STS.L   PR,@-R15                ;[必要]
11311                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11312                            3168     ;;;     XOR     R0,R0                           ;
11313                            3169     ;;;2006-04-26   MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
11314                            3170     ;;;2006-04-26   MOV.W   R0,@R1                  ;
11315                            3171     
11316 00001672 200A              3172             XOR     R0,R0                           ;
11317 00001674 D127              3173             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
11318 00001676 2101              3174             MOV.W   R0,@R1                  ;
11319                            3175     
11320                            3176     
11321                            3177             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05[clr]
11322 00001678 D027                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11323 0000167A 400B                   M           JSR     @R0                     ;
11324 0000167C 0009                   M           NOP                                     ;
11325                            3178     
11326                            3179     ;;      2007-01-16 START_SFTY_LOCK_CLRでｸﾘｱする
11327                            3180     ;;      MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK 2006-04-10
11328                            3181     ;;      MOV.W   R0,@R1                  ;2006-04-10
11329                            3182     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;2006-04-10
11330                            3183     ;;      MOV.W   R0,@R1                  ;2006-04-10
11331                            3184     
11332                            3185     ;       ====== 2007-01-16========
11333                            3186             FAR_JSR #_START_SFTY_LOCK_CLR,R0        ;2007-01-16[KEP--clr]
11334 0000167E D027                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11335 00001680 400B                   M           JSR     @R0                     ;
11336 00001682 0009                   M           NOP                                     ;
11337                            3187     
11338                            3188     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
11339                            3189     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
11340                            3190             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                ;2013-02-23 新ｿﾌﾄは
11341 00001684 D026                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11342 00001686 400B                   M           JSR     @R0                     ;
11343 00001688 0009                   M           NOP                                     ;
11344                            3191     
11345 0000168A 200A              3192             XOR     R0,R0                   ;
11346 0000168C D125              3193             MOV.L   #_INT_CLS_CTL_FLG,R1    ;       //BIT0=1 START 起動時ｸﾘｱ
11347 0000168E 2101              3194             MOV.W   R0,@R1
11348                            3195     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    96
PROGRAM NAME =

11349 00001690 200A              3196             XOR     R0,R0                           ;
11350 00001692 D125              3197             MOV.L   #_RST_ERR_CHK_FLG,R1            ;BIT0=偏差異常みない
11351 00001694 2101              3198             MOV.W   R0,@R1                          ;
11352                            3199     ;       == 2003-07-09 ==
11353 00001696 D125              3200             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11354 00001698 2101              3201             MOV.W   R0,@R1                          ;
11355                            3202     
11356                            3203     
11357                            3204     ;       ======ｻｲｸﾙ停止状態OFF==========================
11358                            3205             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
11359 0000169A D125                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11360 0000169C 6011                   M           MOV.W   @R1,R0          ;
11361 0000169E 9436                   M           MOV.W   #LWORD (~BIT7),R4       ;
11362 000016A0 2049                   M           AND     R4,R0           ;
11363 000016A2 2101                   M           MOV.W   R0,@R1          ;
11364                            3206     
11365                            3207     ;       ======各一旦停止=================================
11366                            3208             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11367 000016A4 D122                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11368 000016A6 6011                   M           MOV.W   @R1,R0          ;
11369 000016A8 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
11370 000016AA 2049                   M           AND     R4,R0           ;
11371 000016AC 2101                   M           MOV.W   R0,@R1          ;
11372                            3209     ;       ===============================================
11373                            3210             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
11374 000016AE D121                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11375 000016B0 6011                   M           MOV.W   @R1,R0          ;
11376 000016B2 C900                   M           AND     #LOW ~(H'FF),R0         ;
11377 000016B4 2101                   M           MOV.W   R0,@R1          ;
11378                            3211     
11379                            3212     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
11380                            3213             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
11381 000016B6 D11E                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11382 000016B8 6011                   M           MOV.W   @R1,R0          ;
11383 000016BA 942A                   M           MOV.W   #LWORD (~BIT3),R4       ;
11384 000016BC 2049                   M           AND     R4,R0           ;
11385 000016BE 2101                   M           MOV.W   R0,@R1          ;
11386                            3214     ;       ===============================================
11387                            3215             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0                 ;起動したいもｸﾘｱ
11388 000016C0 D01D                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11389 000016C2 400B                   M           JSR     @R0                     ;
11390 000016C4 0009                   M           NOP                                     ;
11391                            3216     
11392                            3217             FAR_JSR #_STOPPING_TIM_STOP_INI,R0
11393 000016C6 D01D                   M           MOV.L   #_STOPPING_TIM_STOP_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11394 000016C8 400B                   M           JSR     @R0                     ;
11395 000016CA 0009                   M           NOP                                     ;
11396                            3218     
11397                            3219     
11398                            3220     ;       ==== 2012-03-06====
11399                            3221             FAR_JSR #_BRKTMCAL_STG1_STOPINI,R0              ;停止ソフト
11400 000016CC D01C                   M           MOV.L   #_BRKTMCAL_STG1_STOPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11401 000016CE 400B                   M           JSR     @R0                     ;
11402 000016D0 0009                   M           NOP                                     ;
11403                            3222     
11404                            3223     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    97
PROGRAM NAME =

11405                            3224     ;       ==== 2003-07-01 ====
11406                            3225             FAR_JSR #_BRK_ERR_WORK_CLR1,R0
11407 000016D2 D01C                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11408 000016D4 400B                   M           JSR     @R0                     ;
11409 000016D6 0009                   M           NOP                                     ;
11410                            3226     
11411                            3227     ;       ==== 2003-07-09 ====
11412                            3228             FAR_JSR #_CNT_CYCL_DISP_ST,R0
11413 000016D8 D01B                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11414 000016DA 400B                   M           JSR     @R0                     ;
11415 000016DC 0009                   M           NOP                                     ;
11416                            3229     
11417                            3230     ;       === 2019-08-20==========
11418 000016DE 200A              3231             XOR             R0,R0
11419 000016E0 D11A              3232             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;
11420 000016E2 2101              3233             MOV.W   R0,@R1                                  ;
11421                            3234     
11422                            3235     
11423                            3236     
11424                            3237     ;       ==== 2004-03-29 ===
11425                            3238             FAR_JSR #_EXQ_STOP_LEV_POS_CLR,R0
11426 000016E4 D01A                   M           MOV.L   #_EXQ_STOP_LEV_POS_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11427 000016E6 400B                   M           JSR     @R0                     ;
11428 000016E8 0009                   M           NOP                                     ;
11429                            3239     
11430                            3240     ;       ==== 2004-04-19 ==
11431                            3241             FAR_JSR #_GPOSIN_HOS_RESET,R0
11432 000016EA D01A                   M           MOV.L   #_GPOSIN_HOS_RESET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11433 000016EC 400B                   M           JSR     @R0                     ;
11434 000016EE 0009                   M           NOP                                     ;
11435                            3242     
11436                            3243     ;       ==== 2004-12-20 =====
11437                            3244             FAR_JSR #_CNTREST_HOS_RESET,R0
11438 000016F0 D019                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11439 000016F2 400B                   M           JSR     @R0                     ;
11440 000016F4 0009                   M           NOP                                     ;
11441                            3245     
11442                            3246     
11443                            3247     ;       ==== 2006-07-28 =====
11444                            3248             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0 ;
11445 000016F6 D019                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11446 000016F8 400B                   M           JSR     @R0                     ;
11447 000016FA 0009                   M           NOP                                     ;
11448                            3249     
11449                            3250     
11450                            3251     ;       --------タイマ処理から再開をクリア[3/]------
11451                            3252             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W
11452 000016FC 200A                   M           XOR     R0,R0           ;
11453 000016FE D118                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11454 00001700 2101                   M           MOV.W   R0,@R1          ;
11455                            3253     
11456                            3254     
11457                            3255     ;       -------------------2014-08-30 -----------
11458                            3256             FAR_JSR #_POS_HOLD_FLG_EXQ_CLR,R0
11459 00001702 D018                   M           MOV.L   #_POS_HOLD_FLG_EXQ_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11460 00001704 400B                   M           JSR     @R0                     ;
11461 00001706 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    98
PROGRAM NAME =

11462                            3257     
11463                            3258     
11464                            3259     
11465                            3260             SUB_END
11466                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11467 00001708 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11468                            3261             M_RTS
11469 0000170A 000B                   M           RTS                             ;RTSの後ろの
11470 0000170C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11471                            3262     
11472                            3263     
11473                            3264     
11474                            3265     ;       *******************************************
11475                            3266     ;       ***                                     ***
11476                            3267     ;       ***     リセット制御フラグの異常時CLR   ***
11477                            3268     ;       ***                                     ***
11478                            3269     ;       *******************************************
11479                                     ***** BEGIN-POOL *****
11480 0000170E FF7F                       DATA FOR SOURCE-LINE 3205
11481 00001710 FDFF                       DATA FOR SOURCE-LINE 3208
11482 00001712 FFF7                       DATA FOR SOURCE-LINE 3213
11483 00001714 00000000                   DATA FOR SOURCE-LINE 3173
11484 00001718 00000000                   DATA FOR SOURCE-LINE 3177
11485 0000171C 00000000                   DATA FOR SOURCE-LINE 3186
11486 00001720 00000000                   DATA FOR SOURCE-LINE 3190
11487 00001724 00000000                   DATA FOR SOURCE-LINE 3193
11488 00001728 00000000                   DATA FOR SOURCE-LINE 3197
11489 0000172C 00000000                   DATA FOR SOURCE-LINE 3200
11490 00001730 00000000                   DATA FOR SOURCE-LINE 3205,3208,3213
11491 00001734 00000000                   DATA FOR SOURCE-LINE 3210
11492 00001738 00000000                   DATA FOR SOURCE-LINE 3215
11493 0000173C 00000000                   DATA FOR SOURCE-LINE 3217
11494 00001740 00000000                   DATA FOR SOURCE-LINE 3221
11495 00001744 00000000                   DATA FOR SOURCE-LINE 3225
11496 00001748 00000000                   DATA FOR SOURCE-LINE 3228
11497 0000174C 00000000                   DATA FOR SOURCE-LINE 3232
11498 00001750 00000000                   DATA FOR SOURCE-LINE 3238
11499 00001754 00000000                   DATA FOR SOURCE-LINE 3241
11500 00001758 00000000                   DATA FOR SOURCE-LINE 3244
11501 0000175C 00000000                   DATA FOR SOURCE-LINE 3248
11502 00001760 00000000                   DATA FOR SOURCE-LINE 3252
11503 00001764 00000000                   DATA FOR SOURCE-LINE 3256
11504                                     ***** END-POOL *****
11505 00001768                   3270             .ALIGN  4                               ;
11506 00001768                   3271     _STP_RST_FLG_PROC:
11507                            3272             SUB_START
11508 00001768 4F22                   M           STS.L   PR,@-R15                ;[必要]
11509                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11510 0000176A 200A              3273             XOR     R0,R0
11511 0000176C D102              3274             MOV.L   #_reset_flg,R1                  ;
11512 0000176E 2101              3275             MOV.W   R0,@R1                          ;
11513                            3276             SUB_END
11514                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11515 00001770 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11516                            3277             M_RTS
11517 00001772 000B                   M           RTS                             ;RTSの後ろの
11518 00001774 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE    99
PROGRAM NAME =

11519                            3278     
11520                            3279     
11521                            3280     ;       ***************************************************
11522                            3281     ;       ***     ﾘｾｯﾄ開始時にｻｰﾎﾞを含めてやるべき処理    ***
11523                            3282     ;       ***************************************************
11524                            3283             .IMPORT _DEBUG_SIGNAL_OFF
11525                                     ***** BEGIN-POOL *****
11526 00001776 0000                       ALIGNMENT CODE
11527 00001778 00000000                   DATA FOR SOURCE-LINE 3274
11528                                     ***** END-POOL *****
11529 0000177C                   3284     _RST_MOD_POS_START:
11530                            3285             SUB_START
11531 0000177C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11532                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11533                            3286     ;;;;;   FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;現在位置を目標位置に変える
11534                            3287             FAR_JSR #_DEBUG_SIGNAL_OFF,R0           ;2004-03-03
11535 0000177E D003                   M           MOV.L   #_DEBUG_SIGNAL_OFF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11536 00001780 400B                   M           JSR     @R0                     ;
11537 00001782 0009                   M           NOP                                     ;
11538                            3288             SUB_END
11539                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11540 00001784 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11541                            3289             M_RTS
11542 00001786 000B                   M           RTS                             ;RTSの後ろの
11543 00001788 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11544                            3290     
11545                            3291     
11546                            3292     ;       ***************************************************
11547                            3293     ;       ***     ﾘｾｯﾄ終了時にｻｰﾎﾞを含めてやるべき処理    ***
11548                            3294     ;       ***************************************************
11549                            3295     ;       [1]動作モードの決定
11550                            3296     ;       [2]
11551                            3297     ;
11552                            3298     ;
11553                                     ***** BEGIN-POOL *****
11554 0000178A 0000                       ALIGNMENT CODE
11555 0000178C 00000000                   DATA FOR SOURCE-LINE 3287
11556                                     ***** END-POOL *****
11557 00001790                   3299     _RST_MOD_POS_END:
11558                            3300             SUB_START
11559 00001790 4F22                   M           STS.L   PR,@-R15                ;[必要]
11560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11561                            3301     
11562                            3302     ;;;;;;;;;       -----------2011-09-14 段取で安全一を動かすならこのソフトを生かす--
11563                            3303     ;;;;;;;;;       MOV.L   #_BRKTST_INPUT_CMD,R1           ;//BIT0:制動試験指令[349.0の替わり
                                          ],BIT1:制動試験停止指令
11564                            3304     ;;;;;;;;;       MOV.W   @R1,R0                          ;
11565                            3305     ;;;;;;;;;       TST     #BIT0,R0                        ;
11566                            3306     ;;;;;;;;;       TST_BIT_OF RST_MOD_POSEND_100           ;
11567                            3307     ;;;;;;;;;       MOV.W   #(_W1DIC),R0                    ;
11568                            3308     ;;;;;;;;;       MOV.L   #_MODE_SEL,R1                   ;
11569                            3309     ;;;;;;;;;       MOV.W   R0,@R1                          ;
11570                            3310     ;;;;;;;;;       M_BRA   RST_MOD_POSEND_200              ;
11571                            3311     ;       ------------------------------------------
11572                            3312     
11573 00001792                   3313     RST_MOD_POSEND_100:
11574 00001792 D106              3314             MOV.L   #_INP_MODE,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   100
PROGRAM NAME =

11575 00001794 6011              3315             MOV.W   @R1,R0                          ;
11576 00001796 D106              3316             MOV.L   #_MODE_SEL,R1                   ;
11577 00001798 2101              3317             MOV.W   R0,@R1                          ;
11578                            3318     
11579 0000179A                   3319     RST_MOD_POSEND_200:
11580                            3320     
11581 0000179A 200A              3321             XOR     R0,R0                           ;
11582 0000179C D105              3322             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
11583 0000179E 2101              3323             MOV.W   R0,@R1                          ;
11584 000017A0 D105              3324             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
11585 000017A2 2101              3325             MOV.W   R0,@R1                          ;
11586                            3326             SUB_END
11587                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11588 000017A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11589                            3327             M_RTS
11590 000017A6 000B                   M           RTS                             ;RTSの後ろの
11591 000017A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11592                            3328     
11593                            3329     ;       *******************************************
11594                            3330     ;       ***     上昇ﾎｰﾙﾄﾞ位置検索               ***
11595                            3331     ;       *******************************************
11596                            3332     ;       -- 設定からくる上昇位置をチェックする --
11597                            3333     ;       運転ﾓｰﾄﾞと運転方法から待機点へ戻る
11598                                     ***** BEGIN-POOL *****
11599 000017AA 0000                       ALIGNMENT CODE
11600 000017AC 00000000                   DATA FOR SOURCE-LINE 3314
11601 000017B0 00000000                   DATA FOR SOURCE-LINE 3316
11602 000017B4 00000000                   DATA FOR SOURCE-LINE 3322
11603 000017B8 00000000                   DATA FOR SOURCE-LINE 3324
11604                                     ***** END-POOL *****
11605 000017BC                   3334     _SV_UP_HOLD_CHK:
11606                            3335             SUB_START
11607 000017BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11608                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11609 000017BE D104              3336             MOV.L   #_MODE_SEL,R1                           ;
11610 000017C0 6011              3337             MOV.W   @R1,R0                                  ;
11611 000017C2 9404              3338             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;
11612 000017C4 2048              3339             TST     R4,R0                                   ;ﾓｰｼｮﾝ運転か?
11613                            3340             TST_BIT_ON SV_UP_HLDCHK_0050                    ;
11614 000017C6 8B05                   M           BF      SV_UP_HLDCHK_0050
11615 000017C8 200A              3341             XOR     R0,R0                                   ;
11616                            3342             M_BRA   SV_UP_HLDCHK_0900                       ;
11617 000017CA A040                   M           BRA     SV_UP_HLDCHK_0900
11618 000017CC 0009                   M           NOP
11619                            3343     
11620                                     ***** BEGIN-POOL *****
11621 000017CE 001E                       DATA FOR SOURCE-LINE 3338
11622 000017D0 00000000                   DATA FOR SOURCE-LINE 3336
11623                                     ***** END-POOL *****
11624 000017D4                   3344     SV_UP_HLDCHK_0050:
11625 000017D4 D102              3345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11626 000017D6 6011              3346             MOV.W   @R1,R0                                  ;
11627 000017D8 C808              3347             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11628                            3348             TST_BIT_ON SV_UP_HLDCHK_0100                    ;上往復
11629 000017DA 8B03                   M           BF      SV_UP_HLDCHK_0100
11630                            3349             M_BRA   SV_UP_HLDCHK_0190                       ;
11631 000017DC A012                   M           BRA     SV_UP_HLDCHK_0190
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   101
PROGRAM NAME =

11632 000017DE 0009                   M           NOP
11633                            3350     ;       ======== 上往復 =======
11634                                     ***** BEGIN-POOL *****
11635 000017E0 00000000                   DATA FOR SOURCE-LINE 3345
11636                                     ***** END-POOL *****
11637 000017E4                   3351     SV_UP_HLDCHK_0100:
11638                            3352             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11639 000017E4 D404                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11640 000017E6 440B                   M           JSR     @R4                     ;
11641 000017E8 0009                   M           NOP                                     ;
11642 000017EA D404              3353             MOV.L   #_UP_HOLD_STEP1,R4      ;
11643 000017EC 2411              3354             MOV.W   R1,@R4
11644 000017EE D404              3355             MOV.L   #_UP_HOLD_STEP2,R4      ;
11645 000017F0 2421              3356             MOV.W   R2,@R4
11646                            3357             M_BRA   SV_UP_HLDCHK_0900
11647 000017F2 A02C                   M           BRA     SV_UP_HLDCHK_0900
11648 000017F4 0009                   M           NOP
11649                            3358     
11650                                     ***** BEGIN-POOL *****
11651 000017F6 0000                       ALIGNMENT CODE
11652 000017F8 00000000                   DATA FOR SOURCE-LINE 3352
11653 000017FC 00000000                   DATA FOR SOURCE-LINE 3353
11654 00001800 00000000                   DATA FOR SOURCE-LINE 3355
11655                                     ***** END-POOL *****
11656 00001804                   3359     SV_UP_HLDCHK_0190:
11657 00001804 C804              3360             TST     #_DMATH_DNDRIV,R0               ;DRIVE MATH 下往復
11658                            3361             TST_BIT_ON SV_UP_HLDCHK_0200
11659 00001806 8B01                   M           BF      SV_UP_HLDCHK_0200
11660                            3362             M_BRA   SV_UP_HLDCHK_0290               ;
11661 00001808 A002                   M           BRA     SV_UP_HLDCHK_0290
11662 0000180A 0009                   M           NOP
11663                            3363     
11664                            3364     ;       =====   下往復  =====
11665 0000180C                   3365     SV_UP_HLDCHK_0200:
11666                            3366             M_BRA   SV_UP_HLDCHK_0295               ;回転と同じ論理[2009-10-07]
11667 0000180C A002                   M           BRA     SV_UP_HLDCHK_0295
11668 0000180E 0009                   M           NOP
11669                            3367     
11670                            3368     ;;[20091007下振子]      FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11671                            3369     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP1,R4      ;
11672                            3370     ;;[20091007下振子]      MOV.W   R1,@R4                  ;
11673                            3371     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP2,R4      ;
11674                            3372     ;;[20091007下振子]      MOV.W   R2,@R4                  ;運転開始時にUP_HOLD_STEPにCOPY
11675                            3373     ;;[20091007下振子]      M_BRA   SV_UP_HLDCHK_0900
11676                            3374     
11677                            3375     
11678 00001810                   3376     SV_UP_HLDCHK_0290:
11679 00001810 C802              3377             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
11680                            3378             TST_BIT_ON SV_UP_HLDCHK_0300            ;
11681 00001812 8B13                   M           BF      SV_UP_HLDCHK_0300
11682 00001814                   3379     SV_UP_HLDCHK_0295:              ;20091007下振り子は回転と同じ論理
11683                            3380     ;       =====   回転    =====
11684                            3381             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R1
11685 00001814 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11686 00001816 440B                   M           JSR     @R4                     ;
11687 00001818 0009                   M           NOP                                     ;
11688 0000181A D405              3382             MOV.L   #_UP_HOLD_STEP,R4;      //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   102
PROGRAM NAME =

11689 0000181C 2411              3383             MOV.W   R1,@R4
11690 0000181E D405              3384             MOV.L   #_UP_HOLD_STEP1,R4      ;
11691 00001820 2411              3385             MOV.W   R1,@R4
11692 00001822 D405              3386             MOV.L   #_UP_HOLD_STEP2,R4      ;
11693 00001824 2411              3387             MOV.W   R1,@R4
11694                            3388             M_BRA   SV_UP_HLDCHK_0900
11695 00001826 A012                   M           BRA     SV_UP_HLDCHK_0900
11696 00001828 0009                   M           NOP
11697                            3389     
11698                            3390     ;       =====   反転    =====
11699                                     ***** BEGIN-POOL *****
11700 0000182A 0000                       ALIGNMENT CODE
11701 0000182C 00000000                   DATA FOR SOURCE-LINE 3381
11702 00001830 00000000                   DATA FOR SOURCE-LINE 3382
11703 00001834 00000000                   DATA FOR SOURCE-LINE 3384
11704 00001838 00000000                   DATA FOR SOURCE-LINE 3386
11705                                     ***** END-POOL *****
11706 0000183C                   3391     SV_UP_HLDCHK_0300:
11707                            3392             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R2
11708 0000183C D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11709 0000183E 440B                   M           JSR     @R4                     ;
11710 00001840 0009                   M           NOP                                     ;
11711 00001842 D405              3393             MOV.L   #_UP_HOLD_STEP,R4       ;       //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11712 00001844 2421              3394             MOV.W   R2,@R4
11713 00001846 D405              3395             MOV.L   #_UP_HOLD_STEP1,R4      ;
11714 00001848 2421              3396             MOV.W   R2,@R4
11715 0000184A D405              3397             MOV.L   #_UP_HOLD_STEP2,R4      ;
11716 0000184C 2421              3398             MOV.W   R2,@R4
11717 0000184E                   3399     SV_UP_HLDCHK_0900:
11718                            3400     
11719                            3401             SUB_END
11720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11721 0000184E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11722                            3402             M_RTS
11723 00001850 000B                   M           RTS                             ;RTSの後ろの
11724 00001852 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11725                            3403     
11726                            3404     ;       *******************************************
11727                            3405     ;       ***                                     ***
11728                            3406     ;       ***     以降/時計回転ステップ検索       ***
11729                            3407     ;       ***     以降/反時計回転ステップ検索     ***
11730                            3408     ;       ***                                     ***
11731                            3409     ;       *******************************************
11732                            3410     ;       1,2,3,4,5,6(5段の最終)
11733                            3411     ;       ここでは段数を決定する
11734                            3412     ;       実動作で、角度を判定する
11735                            3413     ;
11736                            3414     ;       待機点を横切る運転はない
11737                            3415     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=3
11738                            3416     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11739                            3417     ;
11740                            3418     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11741                            3419     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   103
PROGRAM NAME =

11742                            3420     ;
11743                            3421     ;       < つまり >      R1は位置増加(CW/正転:待機点への戻りの方向)
11744                            3422     ;                       R2は位置減少(CCW/逆転:待機点への戻りの方向)
11745                            3423     ;
11746                                     ***** BEGIN-POOL *****
11747 00001854 00000000                   DATA FOR SOURCE-LINE 3392
11748 00001858 00000000                   DATA FOR SOURCE-LINE 3393
11749 0000185C 00000000                   DATA FOR SOURCE-LINE 3395
11750 00001860 00000000                   DATA FOR SOURCE-LINE 3397
11751                                     ***** END-POOL *****
11752 00001864                   3424             .ALIGN  4
11753 00001864                   3425     _CW_CCW_ENDSTEP_SERACH:
11754                            3426             SUB_START
11755 00001864 4F22                   M           STS.L   PR,@-R15                ;[必要]
11756                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11757 00001866 D110              3427             MOV.L   #_SETX_POS_STEP_MAX,R1          ;//設定=1~10(2~11)
11758 00001868 6511              3428             MOV.W   @R1,R5                          ;R5ｶｳﾝﾀ
11759 0000186A 7501              3429             ADD     #1,R5                           ;設定+1=MAX
11760 0000186C 6153              3430             MOV     R5,R1                           ;MAX-SET
11761 0000186E 6253              3431             MOV     R5,R2                           ;MAX-SET
11762 00001870 6053              3432             MOV     R5,R0                           ;
11763 00001872 70FF              3433             ADD     #-1,R0                          ;
11764 00001874 4008              3434             SHLL2   R0                              ;*4
11765 00001876 DA0D              3435             MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10     ;
11766 00001878 3A0C              3436             ADD     R0,R10                          ;
11767 0000187A 68A2              3437             MOV.L   @R10,R8                         ;最終工程(待機点)
11768 0000187C 7AFC              3438             ADD     #-4,R10                         ;
11769 0000187E 6053              3439             MOV     R5,R0
11770                            3440     
11771 00001880 233A              3441             XOR     R3,R3                           ;
11772 00001882 244A              3442             XOR     R4,R4                           ;
11773                            3443     
11774 00001884                   3444     CW_CCW_ESTEP_LOP000:
11775 00001884 2008              3445             TST     R0,R0                           ;MAX STEP
11776                            3446             TST_BIT_OF CW_CCW_ESTEP_LOPEND          ;
11777 00001886 8927                   M           BT      CW_CCW_ESTEP_LOPEND
11778                            3447     
11779 00001888 67A2              3448             MOV.L   @R10,R7                         ;
11780 0000188A 8801              3449             CMP/EQ  #1,R0                           ;1ｽﾃｯﾌﾟ
11781 0000188C 8B01              3450             BF      CW_CCW_ESTEP_LOP050             ;最後? NO
11782 0000188E D508              3451             MOV.L   #_SETX_UPAREA_PLS,R5            ;//4;待機点
11783 00001890 6752              3452             MOV.L   @R5,R7                          ;
11784 00001892                   3453     CW_CCW_ESTEP_LOP050:                            ;
11785                            3454     
11786                            3455     
11787 00001892 3870              3456             CMP/EQ  R7,R8                           ;R7(前段)=<R8(現段)
11788 00001894 8914              3457             BT      CW_CCW_ESTEP_LOP300             ;
11789                            3458     
11790 00001896 3877              3459             CMP/GT  R7,R8                           ;
11791 00001898 8B0C              3460             BF      CW_CCW_ESTEP_LOP150             ;R7(前段)>=R8(現段)
11792 0000189A E401              3461             MOV     #1,R4                           ;逆転終了
11793                            3462     
11794 0000189C 2338              3463             TST     R3,R3                           ;一回でも逆転があったか
11795                            3464             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11796 0000189E 8B16                   M           BF      CW_CCW_ESTEP_LOP400
11797                            3465     ;       ===== 正転===
11798 000018A0 6103              3466             MOV     R0,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   104
PROGRAM NAME =

11799                            3467             M_BRA   CW_CCW_ESTEP_LOP400
11800 000018A2 A014                   M           BRA     CW_CCW_ESTEP_LOP400
11801 000018A4 0009                   M           NOP
11802                            3468     
11803                                     ***** BEGIN-POOL *****
11804 000018A6 0000                       ALIGNMENT CODE
11805 000018A8 00000000                   DATA FOR SOURCE-LINE 3427
11806 000018AC 00000000                   DATA FOR SOURCE-LINE 3435
11807 000018B0 00000000                   DATA FOR SOURCE-LINE 3451
11808                                     ***** END-POOL *****
11809 000018B4                   3469     CW_CCW_ESTEP_LOP150:                            ;
11810 000018B4 E301              3470             MOV     #1,R3                           ;正転終了
11811 000018B6 2448              3471             TST     R4,R4                           ;
11812                            3472             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11813 000018B8 8B09                   M           BF      CW_CCW_ESTEP_LOP400
11814                            3473     ;       ===== 逆転===
11815 000018BA 6203              3474             MOV     R0,R2                           ;
11816                            3475             M_BRA   CW_CCW_ESTEP_LOP400             ;
11817 000018BC A007                   M           BRA     CW_CCW_ESTEP_LOP400
11818 000018BE 0009                   M           NOP
11819                            3476     
11820                            3477     
11821                            3478     ;       ===== ﾃﾞｰﾀEQU時の処理====
11822                            3479     ;       ===== 前段時の処理 =====
11823 000018C0                   3480     CW_CCW_ESTEP_LOP300:                            ;
11824 000018C0 2338              3481             TST     R3,R3                           ;
11825                            3482             TST_BIT_ON CW_CCW_ESTEP_LOP320          ;
11826 000018C2 8B00                   M           BF      CW_CCW_ESTEP_LOP320
11827                            3483     ;;;     ADD     #-1,R1                          ;
11828 000018C4 6203              3484             MOV     R0,R2                           ;
11829 000018C6                   3485     CW_CCW_ESTEP_LOP320:                            ;
11830                            3486     
11831 000018C6 2448              3487             TST     R4,R4                           ;
11832                            3488             TST_BIT_ON CW_CCW_ESTEP_LOP340          ;
11833 000018C8 8B00                   M           BF      CW_CCW_ESTEP_LOP340
11834                            3489     ;;;     ADD     #-1,R2                          ;
11835 000018CA 6203              3490             MOV     R0,R2                           ;
11836                            3491     
11837 000018CC                   3492     CW_CCW_ESTEP_LOP340:                            ;
11838 000018CC 0009              3493             NOP
11839 000018CE                   3494     CW_CCW_ESTEP_LOP400:                            ;
11840 000018CE 70FF              3495             ADD     #-1,R0                          ;
11841 000018D0 7AFC              3496             ADD     #-4,R10                         ;
11842 000018D2 6873              3497             MOV     R7,R8                           ;入れ替え
11843                            3498             M_BRA   CW_CCW_ESTEP_LOP000             ;
11844 000018D4 AFD6                   M           BRA     CW_CCW_ESTEP_LOP000
11845 000018D6 0009                   M           NOP
11846                            3499     
11847 000018D8                   3500     CW_CCW_ESTEP_LOPEND:
11848                            3501             M_BRA   CW_CCW_ESTEPTMCHK_START
11849 000018D8 A000                   M           BRA     CW_CCW_ESTEPTMCHK_START
11850 000018DA 0009                   M           NOP
11851                            3502     
11852                            3503     ;       --------- input R1,R2 OUTPUT R1,R2---------
11853 000018DC                   3504     CW_CCW_ESTEPTMCHK_START:
11854                            3505     ;;;     MOV.L   #_PAR_UPCHK_SEL1,R4             ;
11855 000018DC D402              3506             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R4     ;2012-03-06
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   105
PROGRAM NAME =

11856 000018DE 6041              3507             MOV.W   @R4,R0                          ;
11857 000018E0 8801              3508             CMP/EQ  #1,R0                           ;
11858 000018E2 8903              3509             BT      CW_CCW_ESTEPTMCHK_010           ;
11859                            3510             M_BRA   CW_CCW_ESTEPTMCHK_LOPEND        ;
11860 000018E4 A026                   M           BRA     CW_CCW_ESTEPTMCHK_LOPEND
11861 000018E6 0009                   M           NOP
11862                            3511     
11863                                     ***** BEGIN-POOL *****
11864 000018E8 00000000                   DATA FOR SOURCE-LINE 3506
11865                                     ***** END-POOL *****
11866 000018EC                   3512     CW_CCW_ESTEPTMCHK_010
11867                            3513     
11868                            3514     
11869                            3515     ;       ========== 2011-09-01 r1:これ以降cw,r2:これ以降ccw
11870                            3516     ;タイマ停止があればその工程は上昇ホールドではない
11871                            3517     ;[R1,R2]
11872 000018EC D40F              3518             MOV.L   #_SETX_POS_STEP_MAX,R4          ;//設定=1~10(2~11)
11873 000018EE 6541              3519             MOV.W   @R4,R5                          ;R5ｶｳﾝﾀ
11874                            3520     
11875 000018F0 7501              3521             ADD     #1,R5                           ;設定+1=MAX
11876 000018F2 6053              3522             MOV     R5,R0                           ;
11877 000018F4 D40E              3523             MOV.L   #_SETX_POS_SDAT1_TIM,R4         ;
11878 000018F6 70FE              3524             ADD     #-2,R0                          ;
11879 000018F8 4008              3525             SHLL2   R0                              ;
11880 000018FA 340C              3526             ADD     R0,R4                           ;
11881 000018FC 6053              3527             MOV     R5,R0                           ;R0=2~6,2~11
11882 000018FE 70FF              3528             ADD     #-1,R0                          ;R0=2~5,2~10:　5段目が0以外なら6ｽﾃｯﾌﾟから
11883                            3529     
11884                            3530     
11885 00001900                   3531     CW_CCW_ESTEPTMCHK_LOP:
11886 00001900 2008              3532             TST     R0,R0
11887                            3533             TST_BIT_OF CW_CCW_ESTEPTMCHK_LOPEND     ;
11888 00001902 8917                   M           BT      CW_CCW_ESTEPTMCHK_LOPEND
11889                            3534     
11890 00001904 6342              3535             MOV.L   @R4,R3                          ;R3:data
11891                            3536     
11892 00001906 3152              3537             CMP/HS  R5,R1                           ;MAX=< R1 演算不要
11893 00001908 8905              3538             BT      CW_CCW_ESTEPTMCHK_100           ;
11894 0000190A 3106              3539             CMP/HI  R0,R1                           ;
11895 0000190C 8903              3540             BT      CW_CCW_ESTEPTMCHK_100           ;
11896                            3541     
11897 0000190E 2338              3542             TST     R3,R3                           ;
11898                            3543             TST_BIT_OF CW_CCW_ESTEPTMCHK_100        ;
11899 00001910 8901                   M           BT      CW_CCW_ESTEPTMCHK_100
11900 00001912 6103              3544             MOV     R0,R1                           ;
11901 00001914 7101              3545             ADD     #1,R1                           ;
11902 00001916                   3546     CW_CCW_ESTEPTMCHK_100:
11903                            3547     
11904                            3548     
11905 00001916 3252              3549             CMP/HS  R5,R2                           ;MAX=< R2 演算不要
11906 00001918 8903              3550             BT      CW_CCW_ESTEPTMCHK_200           ;
11907 0000191A 3206              3551             CMP/HI  R0,R2                           ;
11908 0000191C 8901              3552             BT      CW_CCW_ESTEPTMCHK_200           ;
11909                            3553     
11910 0000191E 6203              3554             MOV     R0,R2                           ;
11911 00001920 7201              3555             ADD     #1,R2                           ;
11912                            3556     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   106
PROGRAM NAME =

11913 00001922                   3557     CW_CCW_ESTEPTMCHK_200:
11914 00001922 74FC              3558             ADD     #-4,R4                          ;
11915 00001924 70FF              3559             ADD     #-1,R0                          ;
11916                            3560             M_BRA   CW_CCW_ESTEPTMCHK_LOP           ;
11917 00001926 AFEB                   M           BRA     CW_CCW_ESTEPTMCHK_LOP
11918 00001928 0009                   M           NOP
11919                                     ***** BEGIN-POOL *****
11920 0000192A 0000                       ALIGNMENT CODE
11921 0000192C 00000000                   DATA FOR SOURCE-LINE 3518
11922 00001930 00000000                   DATA FOR SOURCE-LINE 3523
11923                                     ***** END-POOL *****
11924 00001934                   3561     CW_CCW_ESTEPTMCHK_LOPEND                ;
11925                            3562             SUB_END
11926                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11927 00001934 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11928                            3563             M_RTS
11929 00001936 000B                   M           RTS                             ;RTSの後ろの
11930 00001938 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11931                            3564     
11932                            3565     ;       ***********************************
11933                            3566     ;       ***                             ***
11934                            3567     ;       ***     上昇ﾎｰﾙﾄﾞ状態ならﾎｰﾙﾄﾞ  ***
11935                            3568     ;       ***                             ***
11936                            3569     ;       ***                             ***
11937                            3570     ;       ***********************************
11938 0000193C                   3571             .ALIGN  4
11939 0000193C                   3572     _CTRL_UP_HOLD_CHK:
11940                            3573             SUB_START
11941 0000193C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11942                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11943                            3574     ;;2012-03-06    MOV.L   #_INT_POS_CTL_STEP,R5   ;
11944                            3575     ;;2012-03-06    MOV.W   @R5,R0                  ;
11945                            3576     ;;2012-03-06    TST     R0,R0                   ;
11946                            3577     ;;2012-03-06    TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11947                            3578     ;;2012-03-06    M_BRA   CTRL_UP_HOLD_CK_END     ;
11948                            3579     
11949                            3580     ;ﾃｽﾄﾓｰﾄﾞ中はﾏｽｸ,AUTOにしない
11950 0000193E D105              3581             MOV.L   #_BRKTST_SW_IN,R1               ;2012-03-06
11951 00001940 6011              3582             MOV.W   @R1,R0                          ;2012-03-06
11952 00001942 2008              3583             TST     R0,R0                           ;2012-03-06
11953                            3584             TST_BIT_ON CTRL_UP_HOLD_CK_STAA         ;2012-03-06EXIT
11954 00001944 8B03                   M           BF      CTRL_UP_HOLD_CK_STAA
11955                            3585     
11956 00001946 D504              3586             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11957 00001948 6051              3587             MOV.W   @R5,R0                  ;
11958 0000194A 2008              3588             TST     R0,R0                   ;
11959                            3589             TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11960 0000194C 8B06                   M           BF      CTRL_UP_HOLD_CK_ST00
11961 0000194E                   3590     CTRL_UP_HOLD_CK_STAA:
11962                            3591             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11963 0000194E A027                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11964 00001950 0009                   M           NOP
11965                            3592     
11966                            3593     
11967                            3594     
11968                            3595     
11969                            3596     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   107
PROGRAM NAME =

11970                                     ***** BEGIN-POOL *****
11971 00001952 0000                       ALIGNMENT CODE
11972 00001954 00000000                   DATA FOR SOURCE-LINE 3581
11973 00001958 00000000                   DATA FOR SOURCE-LINE 3586
11974                                     ***** END-POOL *****
11975 0000195C                   3597     CTRL_UP_HOLD_CK_ST00:
11976 0000195C D102              3598             MOV.L   #_UP_HOLD_FLG,R1        ;       //BIT0=1 上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝ
                                          ﾓｰﾄﾞでこの信号はON/OFFする
11977 0000195E 6011              3599             MOV.W   @R1,R0                  ;BIT4(OBJ~待機),BIT5(待機~OBJ)
11978 00001960 C801              3600             TST     #BIT0,R0                ;
11979                            3601             TST_BIT_OF CTRL_UP_HOLD_CK_ST20 ;
11980 00001962 8903                   M           BT      CTRL_UP_HOLD_CK_ST20
11981                            3602             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11982 00001964 A01C                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11983 00001966 0009                   M           NOP
11984                            3603     
11985                                     ***** BEGIN-POOL *****
11986 00001968 00000000                   DATA FOR SOURCE-LINE 3598
11987                                     ***** END-POOL *****
11988 0000196C                   3604     CTRL_UP_HOLD_CK_ST20:
11989                            3605     ;       ===== 一度ｴﾘｱ外にでたかﾁｪｯｸ ======
11990 0000196C D40E              3606             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
11991 0000196E 6041              3607             MOV.W   @R4,R0                          ;
11992 00001970 C810              3608             TST     #BIT4,R0                        ;
11993                            3609             TST_BIT_ON CTRL_UP_HOLD_CK_ST40         ;
11994 00001972 8B03                   M           BF      CTRL_UP_HOLD_CK_ST40
11995 00001974 D10D              3610             MOV.L   #_UP_HOLD_FLG,R1                ;１回目の運転開始(異常時または1CYCLEND)
11996 00001976 6011              3611             MOV.W   @R1,R0                          ;
11997 00001978 CB30              3612             OR      #(BIT5+BIT4),R0                 ;
11998 0000197A 2101              3613             MOV.W   R0,@R1                          ;
11999 0000197C                   3614     CTRL_UP_HOLD_CK_ST40:
12000                            3615             FAR_JSR #_UP_HOLD_SIG_MAK,R0
12001 0000197C D00C                   M           MOV.L   #_UP_HOLD_SIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12002 0000197E 400B                   M           JSR     @R0                     ;
12003 00001980 0009                   M           NOP                                     ;
12004 00001982 2008              3616             TST     R0,R0
12005                            3617             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT
12006 00001984 890C                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
12007                            3618     
12008                            3619     ;;2012-03-06    MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこ
                                          の信号はON/OFFする
12009                            3620     ;;2012-03-06    MOV.W   @R1,R0                  ;
12010                            3621     ;;2012-03-06    OR      #BIT0,R0                ;
12011                            3622     ;;2012-03-06    MOV.W   R0,@R1                  ;
12012                            3623     ;速度がある程度になったらホールドする
12013                            3624     
12014                            3625     ;       ===========================
12015                            3626     ;       ===     2012-03-06      ===
12016                            3627     ;       ===　　速度チェック     ===
12017                            3628     ;       ===========================
12018 00001986 D10B              3629             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
12019 00001988 6011              3630             MOV.W   @R1,R0                          ;
12020 0000198A 8801              3631             CMP/EQ  #1,R0                           ;
12021 0000198C 8B04              3632             BF      CTRL_UP_HOLD_CK_ST50            ;
12022                            3633     
12023                            3634     ;       -------2012-03-06--------
12024                            3635             FAR_JSR #_UP_HOLD_MASK_SPDCHK,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   108
PROGRAM NAME =

12025 0000198E D00A                   M           MOV.L   #_UP_HOLD_MASK_SPDCHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12026 00001990 400B                   M           JSR     @R0                     ;
12027 00001992 0009                   M           NOP                                     ;
12028 00001994 2008              3636             TST     R0,R0                           ;
12029                            3637             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT       ;動作方向でその速度に達していない
12030 00001996 8903                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
12031                            3638     
12032 00001998                   3639     CTRL_UP_HOLD_CK_ST50:
12033                            3640     
12034 00001998 D104              3641             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12035 0000199A 6011              3642             MOV.W   @R1,R0                  ;
12036 0000199C CB01              3643             OR      #BIT0,R0                ;
12037 0000199E 2101              3644             MOV.W   R0,@R1                  ;
12038                            3645     
12039                            3646     
12040                            3647     
12041                            3648     
12042                            3649     
12043                            3650     
12044                            3651     
12045                            3652     
12046 000019A0                   3653     CTRL_UP_HOLD_CK_ST_EXT:
12047                            3654     
12048                            3655             SUB_END
12049                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12050 000019A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12051                            3656             M_RTS
12052 000019A2 000B                   M           RTS                             ;RTSの後ろの
12053 000019A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12054                            3657     
12055                            3658     ;       ***************************************************
12056                            3659     ;       ***                                             ***
12057                            3660     ;       ***     上昇ホールドが相手ＣＰＵが行わないで    ***
12058                            3661     ;       ***     強制停止に向かった                      ***
12059                            3662     ;       ***                                             ***
12060                            3663     ;       ***************************************************
12061                            3664     ;       2015-11-15
12062                            3665     ;;; .AIF 1 EQ 1
12063                                     ***** BEGIN-POOL *****
12064 000019A6 0000                       ALIGNMENT CODE
12065 000019A8 00000000                   DATA FOR SOURCE-LINE 3606
12066 000019AC 00000000                   DATA FOR SOURCE-LINE 3610,3641
12067 000019B0 00000000                   DATA FOR SOURCE-LINE 3615
12068 000019B4 00000000                   DATA FOR SOURCE-LINE 3629
12069 000019B8 00000000                   DATA FOR SOURCE-LINE 3635
12070                                     ***** END-POOL *****
12071 000019BC                   3666     _UP_HOLD_MISS
12072                            3667             SUB_START
12073 000019BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12074                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12075                            3668             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;
12076 000019BE D004                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12077 000019C0 400B                   M           JSR     @R0                     ;
12078 000019C2 0009                   M           NOP                                     ;
12079                            3669             FAR_JSR #_SFTY_MASK_END,R0      ;(結果としてはﾏｽｸするかもしれない)
12080 000019C4 D003                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   109
PROGRAM NAME =

12081 000019C6 400B                   M           JSR     @R0                     ;
12082 000019C8 0009                   M           NOP                                     ;
12083                            3670     
12084                            3671             SUB_END
12085                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12086 000019CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12087                            3672             M_RTS
12088 000019CC 000B                   M           RTS                             ;RTSの後ろの
12089 000019CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12090                            3673     ;;; .AENDI
12091                            3674     
12092                            3675     ;       ***********************************
12093                            3676     ;       ***                             ***
12094                            3677     ;       ***                             ***
12095                            3678     ;       ***                             ***
12096                            3679     ;       ***********************************
12097                            3680     ;
12098                                     ***** BEGIN-POOL *****
12099 000019D0 00000000                   DATA FOR SOURCE-LINE 3668
12100 000019D4 00000000                   DATA FOR SOURCE-LINE 3669
12101                                     ***** END-POOL *****
12102 000019D8                   3681             .ALIGN  4
12103 000019D8                   3682     _UP_HOLD_SIG_MAK:
12104                            3683             SUB_START
12105 000019D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12107 000019DA D50A              3684             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12108 000019DC 6251              3685             MOV.W   @R5,R2                  ;
12109 000019DE D40A              3686             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
12110 000019E0 6541              3687             MOV.W   @R4,R5                  ;
12111 000019E2 3252              3688             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
12112 000019E4 8B34              3689             BF      CTRL_UP_HOLD_CK_END     ;
12113                            3690     
12114                            3691     ;       ======== ﾁｪｯｸすべき工程だ =======
12115                            3692     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
12116                            3693     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
12117                            3694     ;       --------- [2009-10-07下振子]----
12118 000019E6 D409              3695             MOV.L   #_DNM_CTL_INC3600,R4    ;2009-10-07
12119 000019E8 6241              3696             MOV.W   @R4,R2                  ;
12120                            3697     
12121 000019EA D509              3698             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
12122 000019EC 6151              3699             MOV.W   @R5,R1                  ;START
12123 000019EE D509              3700             MOV.L   #_SETX_UPAREA_DIG,R5    ;
12124 000019F0 6351              3701             MOV.W   @R5,R3                  ;
12125                            3702             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
12126 000019F2 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12127 000019F4 400B                   M           JSR     @R0                     ;
12128 000019F6 0009                   M           NOP                                     ;
12129                            3703     
12130                            3704     
12131 000019F8 D108              3705             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12132 000019FA 6011              3706             MOV.W   @R1,R0                                  ;
12133 000019FC C808              3707             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12134                            3708             TST_BIT_OF CTRL_UP_HOLD_CK_200                  ;
12135 000019FE 890F                   M           BT      CTRL_UP_HOLD_CK_200
12136                            3709             M_BRA   CTRL_UP_HOLD_CK_400                     ;2009-10-07
12137 00001A00 A018                   M           BRA     CTRL_UP_HOLD_CK_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   110
PROGRAM NAME =

12138 00001A02 0009                   M           NOP
12139                            3710     ;;      M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12140                            3711     
12141                                     ***** BEGIN-POOL *****
12142 00001A04 00000000                   DATA FOR SOURCE-LINE 3684
12143 00001A08 00000000                   DATA FOR SOURCE-LINE 3686
12144 00001A0C 00000000                   DATA FOR SOURCE-LINE 3695
12145 00001A10 00000000                   DATA FOR SOURCE-LINE 3698
12146 00001A14 00000000                   DATA FOR SOURCE-LINE 3700
12147 00001A18 00000000                   DATA FOR SOURCE-LINE 3702
12148 00001A1C 00000000                   DATA FOR SOURCE-LINE 3705
12149                                     ***** END-POOL *****
12150 00001A20                   3712     CTRL_UP_HOLD_CK_200:
12151 00001A20 C804              3713             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12152                            3714             TST_BIT_OF CTRL_UP_HOLD_CK_300                  ;
12153 00001A22 8901                   M           BT      CTRL_UP_HOLD_CK_300
12154                            3715             M_BRA   CTRL_UP_HOLD_CK_400                     ;[2009-10-07下振子]
12155 00001A24 A006                   M           BRA     CTRL_UP_HOLD_CK_400
12156 00001A26 0009                   M           NOP
12157                            3716     ;;;[2009-10-07下振子]   M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12158                            3717     
12159 00001A28                   3718     CTRL_UP_HOLD_CK_300:
12160 00001A28 C802              3719             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12161                            3720             TST_BIT_OF CTRL_UP_HOLD_CK_400                  ;
12162 00001A2A 8903                   M           BT      CTRL_UP_HOLD_CK_400
12163                            3721     
12164                            3722     ;       ==== 反転R5=0,-1 ====
12165 00001A2C 4515              3723             CMP/PL  R5                                      ;
12166 00001A2E 8B0B              3724             BF      CTRL_UP_HOLD_CK_700                     ;成立
12167                            3725             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12168 00001A30 A00E                   M           BRA     CTRL_UP_HOLD_CK_END
12169 00001A32 0009                   M           NOP
12170                            3726     
12171 00001A34                   3727     CTRL_UP_HOLD_CK_400:
12172                            3728     ;       ==== 正転R5=0,1 ====
12173 00001A34 D603              3729             MOV.L   #_UP_HOLD_FLG,R6                ;
12174 00001A36 6061              3730             MOV.W   @R6,R0                          ;
12175 00001A38 C820              3731             TST     #BIT5,R0                        ;範囲外へ一度いっているか？
12176                            3732             TST_BIT_OF CTRL_UP_HOLD_CK_END
12177 00001A3A 8909                   M           BT      CTRL_UP_HOLD_CK_END
12178 00001A3C 4511              3733             CMP/PZ  R5
12179 00001A3E 8903              3734             BT      CTRL_UP_HOLD_CK_700                     ;成立
12180                            3735             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12181 00001A40 A006                   M           BRA     CTRL_UP_HOLD_CK_END
12182 00001A42 0009                   M           NOP
12183                                     ***** BEGIN-POOL *****
12184 00001A44 00000000                   DATA FOR SOURCE-LINE 3729
12185                                     ***** END-POOL *****
12186 00001A48                   3736     CTRL_UP_HOLD_CK_700:
12187                            3737     
12188 00001A48 E0FF              3738             MOV     #-1,R0                  ;
12189                            3739     
12190                            3740             SUB_END
12191                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12192 00001A4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12193                            3741             M_RTS
12194 00001A4C 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   111
PROGRAM NAME =

12195 00001A4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12196                            3742     
12197                            3743     
12198                            3744     
12199 00001A50                   3745     CTRL_UP_HOLD_CK_END:
12200 00001A50 200A              3746             XOR     R0,R0
12201                            3747             SUB_END
12202                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12203 00001A52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12204                            3748             M_RTS
12205 00001A54 000B                   M           RTS                             ;RTSの後ろの
12206 00001A56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12207                            3749     
12208                            3750     
12209                            3751     
12210                            3752     ;       ***********************************
12211                            3753     ;       ***                             ***
12212                            3754     ;       ***     2012-03-06              ***
12213                            3755     ;       ***     　　速度チェック        ***
12214                            3756     ;       ***                             ***
12215                            3757     ;       ***********************************
12216                            3758     ;動作方向にその速度以上になったらホールド・マスクする
12217 00001A58                   3759             .ALIGN  4                               ;
12218 00001A58                   3760     _UP_HOLD_MASK_SPDCHK:
12219                            3761             SUB_START
12220 00001A58 4F22                   M           STS.L   PR,@-R15                ;[必要]
12221                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12222                            3762     
12223 00001A5A D109              3763             MOV.L   #_ENC_PLS_SPD_DIR,R1                                    ;
12224 00001A5C 6211              3764             MOV.W   @R1,R2                                                  ;
12225                            3765     
12226 00001A5E D109              3766             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12227 00001A60 6011              3767             MOV.W   @R1,R0                                  ;
12228 00001A62 C801              3768             TST     #_DMATH_CNTROT,R0                       ;
12229                            3769             TST_BIT_ON UP_HOLD_MASKSPDCHK_FWD
12230 00001A64 8B07                   M           BF      UP_HOLD_MASKSPDCHK_FWD
12231                            3770     
12232 00001A66 C802              3771             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12233                            3772             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;
12234 00001A68 8B10                   M           BF      UP_HOLD_MASKSPDCHK_REV
12235                            3773     
12236 00001A6A C804              3774             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH ふりこ
12237                            3775             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;選択されていない
12238 00001A6C 891E                   M           BT      UP_HOLD_MASKSPDCHK_NG
12239                            3776     
12240                            3777     ;ふりこ[今往路?復路]
12241 00001A6E D106              3778             MOV.L   #_DNM_DIR_SET_FLG,R1                    ;//
12242 00001A70 6011              3779             MOV.W   @R1,R0                                  ;0:往路
12243 00001A72 2008              3780             TST     R0,R0                                   ;
12244                            3781             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;1:復路
12245 00001A74 8B0A                   M           BF      UP_HOLD_MASKSPDCHK_REV
12246                            3782     
12247 00001A76                   3783     UP_HOLD_MASKSPDCHK_FWD:
12248 00001A76 2228              3784             TST     R2,R2                                   ;
12249                            3785             TST_BIT_ON UP_HOLD_MASKSPDCHK_NG                ;逆回転 EXIT
12250 00001A78 8B18                   M           BF      UP_HOLD_MASKSPDCHK_NG
12251                            3786             M_BRA   UP_HOLD_MASKSPDCHK_COM                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   112
PROGRAM NAME =

12252 00001A7A A009                   M           BRA     UP_HOLD_MASKSPDCHK_COM
12253 00001A7C 0009                   M           NOP
12254                            3787     
12255                                     ***** BEGIN-POOL *****
12256 00001A7E 0000                       ALIGNMENT CODE
12257 00001A80 00000000                   DATA FOR SOURCE-LINE 3763
12258 00001A84 00000000                   DATA FOR SOURCE-LINE 3766
12259 00001A88 00000000                   DATA FOR SOURCE-LINE 3778
12260                                     ***** END-POOL *****
12261 00001A8C                   3788     UP_HOLD_MASKSPDCHK_REV:
12262 00001A8C 2228              3789             TST     R2,R2                                   ;
12263                            3790             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;正回転 EXIT
12264 00001A8E 890D                   M           BT      UP_HOLD_MASKSPDCHK_NG
12265                            3791     
12266 00001A90                   3792     UP_HOLD_MASKSPDCHK_COM:
12267                            3793     
12268                            3794     
12269                            3795     
12270 00001A90 D104              3796             MOV.L   #(_PAR_UPMASK_SPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
12271 00001A92 6211              3797             MOV.W   @R1,R2                                                  ;
12272 00001A94 D104              3798             MOV.L   #_PV_ENC_SPD_PER,R1                                     ;
12273 00001A96 6311              3799             MOV.W   @R1,R3                                                  ;
12274 00001A98 3323              3800             CMP/GE  R2,R3                                                   ;R2=<R3[PV]
12275 00001A9A 8B07              3801             BF      UP_HOLD_MASKSPDCHK_NG
12276                            3802     ;       ------------------------------------------------------------------
12277                            3803     ;       ---回転では+方向
12278                            3804     ;       ---反転では-方向
12279                            3805     ;       ---ふりこ往路では+方向
12280                            3806     ;       ---ふりこ復路では-方向
12281                            3807     ;       ---ブレーキテストでは
12282                            3808     
12283 00001A9C                   3809     UP_HOLD_MASKSPDCHK_STR:
12284 00001A9C E001              3810             MOV.B   #1,R0
12285                            3811             M_BRA   UP_HOLD_MASKSPDCHK_END
12286 00001A9E A006                   M           BRA     UP_HOLD_MASKSPDCHK_END
12287 00001AA0 0009                   M           NOP
12288                            3812     
12289                                     ***** BEGIN-POOL *****
12290 00001AA2 0000                       ALIGNMENT CODE
12291 00001AA4 00000000                   DATA FOR SOURCE-LINE 3796
12292 00001AA8 00000000                   DATA FOR SOURCE-LINE 3798
12293                                     ***** END-POOL *****
12294 00001AAC                   3813     UP_HOLD_MASKSPDCHK_NG:
12295 00001AAC 200A              3814             XOR     R0,R0
12296 00001AAE                   3815     UP_HOLD_MASKSPDCHK_END
12297                            3816     
12298                            3817             SUB_END
12299                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12300 00001AAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12301                            3818             M_RTS
12302 00001AB0 000B                   M           RTS                             ;RTSの後ろの
12303 00001AB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12304                            3819     
12305                            3820     
12306                            3821     ;       ===================================
12307                            3822     ;       ===     上昇ﾎｰﾙﾄﾞ無効出力       ===
12308                            3823     ;       ===================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   113
PROGRAM NAME =

12309 00001AB4                   3824     _UP_HOLD_AREA_MASK:
12310                            3825             SUB_START
12311 00001AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12312                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12313 00001AB6 D10D              3826             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12314 00001AB8 6011              3827             MOV.W   @R1,R0                  ;
12315 00001ABA C802              3828             TST     #BIT1,R0                ;
12316                            3829             TST_BIT_ON UP_HOLD_ARA_MASK500  ;既に終了
12317 00001ABC 8B12                   M           BF      UP_HOLD_ARA_MASK500
12318 00001ABE C801              3830             TST     #BIT0,R0                ;ﾎｰﾙﾄﾞ状態か
12319                            3831             TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12320 00001AC0 8910                   M           BT      UP_HOLD_ARA_MASK500
12321                            3832     
12322                            3833     ;       === 上昇無効仕様か ===
12323                            3834     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12324                            3835     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.W   @R1,R0                  ;28.2
12325                            3836     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST     #BIT2,R0                ;
12326                            3837     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12327                            3838     
12328                            3839     
12329                            3840     ;       ---2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]--
12330                            3841     ;;;     FAR_JSR #_OPT_SFTY_MASK_CHK,R0  ;
12331                            3842     ;;;     TST     R0,R0                           ;
12332                            3843     ;;;;    TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12333                            3844     
12334                            3845             FAR_JSR #_OPT_SGL_SFTY_MASK_CHK,R0      ;
12335 00001AC2 D00B                   M           MOV.L   #_OPT_SGL_SFTY_MASK_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12336 00001AC4 400B                   M           JSR     @R0                     ;
12337 00001AC6 0009                   M           NOP                                     ;
12338 00001AC8 2008              3846             TST     R0,R0                           ;R0=-1　上昇無効にしない
12339                            3847             TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12340 00001ACA 8B0B                   M           BF      UP_HOLD_ARA_MASK500
12341                            3848                                                     ;・作業一行程、一行程は待機点２ＳＷに従う
12342                            3849     
12343                            3850     
12344                            3851     ;;;;2013-02-20 振子・反転とも上昇ホールド＋マスク有り
12345                            3852     ;;;;2013-02-20 ;        ----2011-09-06 振り子と反転は　上昇ホールドはするが上昇無効にはし
                                          ない
12346                            3853     ;;;;2013-02-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12347                            3854     ;;;;2013-02-20  MOV.W   @R1,R0                                  ;
12348                            3855     ;;;;2013-02-20  TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12349                            3856     ;;;;2013-02-20  TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12350                            3857     ;;;;反転がマスクはされているが遮光停止するのはなぜ？
12351                            3858     
12352                            3859     
12353                            3860     ;       ====== 2013-02-23 やっぱり　ふりこと反転は　マスクする、しないを切り替える
12354 00001ACC D109              3861             MOV.L   #_UPMSK2_DRVSEL,R1                      ;//2013-02-23
12355 00001ACE 6011              3862             MOV.W   @R1,R0                                  ;0:反転,ふりこを上昇無効にしない
12356 00001AD0 2008              3863             TST     R0,R0                                   ;
12357                            3864             TST_BIT_ON UP_HOLD_ARA_MASK480                  ;1の場合見なくする
12358 00001AD2 8B03                   M           BF      UP_HOLD_ARA_MASK480
12359                            3865     ;       -------------------------------------------------------------------
12360                            3866     
12361 00001AD4 D108              3867             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   114
PROGRAM NAME =

12362 00001AD6 6011              3868             MOV.W   @R1,R0                                  ;
12363 00001AD8 C806              3869             TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12364                            3870             TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12365 00001ADA 8B03                   M           BF      UP_HOLD_ARA_MASK500
12366                            3871     
12367                            3872     
12368 00001ADC                   3873     UP_HOLD_ARA_MASK480:
12369                            3874     
12370                            3875     ;       ======= このフラグをONすれば上昇ﾎｰﾙﾄﾞ+速度条件でﾏｽｸ===-
12371 00001ADC D103              3876             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12372 00001ADE 6011              3877             MOV.W   @R1,R0                  ;
12373 00001AE0 CB02              3878             OR      #BIT1,R0                ;
12374 00001AE2 2101              3879             MOV.W   R0,@R1                  ;
12375                            3880     
12376                            3881     
12377 00001AE4                   3882     UP_HOLD_ARA_MASK500:
12378                            3883     
12379                            3884             SUB_END
12380                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12381 00001AE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12382                            3885             M_RTS
12383 00001AE6 000B                   M           RTS                             ;RTSの後ろの
12384 00001AE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12385                            3886     
12386                            3887     
12387                            3888     
12388                                     ***** BEGIN-POOL *****
12389 00001AEA 0000                       ALIGNMENT CODE
12390 00001AEC 00000000                   DATA FOR SOURCE-LINE 3826,3876
12391 00001AF0 00000000                   DATA FOR SOURCE-LINE 3845
12392 00001AF4 00000000                   DATA FOR SOURCE-LINE 3861
12393 00001AF8 00000000                   DATA FOR SOURCE-LINE 3867
12394                                     ***** END-POOL *****
12395 00001AFC                   3889     _UP_HOLD_FLG_CLR1:
12396                            3890             SUB_START
12397 00001AFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12398                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12399 00001AFE D103              3891             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ信号(手放し自動、上昇無効出力用)
12400 00001B00 6011              3892             MOV.W   @R1,R0                  ;
12401 00001B02 C9FC              3893             AND     #LOW ~(BIT1+BIT0),R0    ;(ここでOFFする必要があるのか？)
12402 00001B04 2101              3894             MOV.W   R0,@R1                  ;
12403                            3895             SUB_END
12404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12405 00001B06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12406                            3896             M_RTS
12407 00001B08 000B                   M           RTS                             ;RTSの後ろの
12408 00001B0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12409                            3897     
12410                                     ***** BEGIN-POOL *****
12411 00001B0C 00000000                   DATA FOR SOURCE-LINE 3891
12412                                     ***** END-POOL *****
12413 00001B10                   3898     _UP_HOLD_FLG_CLR2:
12414                            3899             SUB_START
12415 00001B10 4F22                   M           STS.L   PR,@-R15                ;[必要]
12416                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12417 00001B12 D103              3900             MOV.L   #_UP_HOLD_FLG,R1        ;１回目の運転開始(異常時または1CYCLEND)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   115
PROGRAM NAME =

12418 00001B14 6011              3901             MOV.W   @R1,R0                  ;
12419 00001B16 C9CF              3902             AND     #LOW ~(BIT5+BIT4),R0    ;
12420 00001B18 2101              3903             MOV.W   R0,@R1                  ;
12421                            3904             SUB_END
12422                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12423 00001B1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12424                            3905             M_RTS
12425 00001B1C 000B                   M           RTS                             ;RTSの後ろの
12426 00001B1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12427                            3906     
12428                            3907     
12429                            3908     
12430                            3909     
12431                            3910     
12432                            3911     
12433                            3912     
12434                            3913     
12435                            3914     ;       ***************************************************
12436                            3915     ;       ***                                             ***
12437                            3916     ;       ***     ミューテングの定義変更                  ***
12438                            3917     ;       ***     2012-09-25                              ***
12439                            3918     ;       ***     準備完了・未完了中も急停止にする        ***
12440                            3919     ;       ***                                             ***
12441                            3920     ;       ***************************************************
12442                            3921     ;;;2013-02-23 不要      .ALIGN  4                               ;
12443                            3922     ;;;2013-02-23 不要_SFTY_MASK_ST_NOT_DRV:
12444                            3923     ;;;2013-02-23 不要      SUB_START
12445                            3924     ;;;2013-02-23 不要
12446                            3925     ;;;2013-02-23 不要;     ======== 2013-02-20[SEQ349.9] ====
12447                            3926     ;;;2013-02-23 不要      MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃ
                                          ﾝｸﾞ無効)
12448                            3927     ;;;2013-02-23 不要      MOV.W   @R1,R0                          ;
12449                            3928     ;;;2013-02-23 不要      CMP/EQ  #1,R0                           ;
12450                            3929     ;;;2013-02-23 不要      BT      SFTY_MASK_ST_NOTDRV100          ;
12451                            3930     ;;;2013-02-23 不要
12452                            3931     ;;;2013-02-23 不要
12453                            3932     ;;;2013-02-23 不要;;;2012-10-15 MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照
                                          しない 1:参照する
12454                            3933     ;;;2013-02-23 不要      MOV.L   #_UPMSK2_MATH,R1                        ;//0:参照しない 1:
                                          参照する
12455                            3934     ;;;2013-02-23 不要      MOV.W   @R1,R0                                  ;
12456                            3935     ;;;2013-02-23 不要      TST     R0,R0                                   ;
12457                            3936     ;;;2013-02-23 不要      TST_BIT_ON SFTY_MASK_ST_NOTDRV100               ;
12458                            3937     ;;;2013-02-23 不要
12459                            3938     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12460                            3939     ;;;2013-02-23 不要
12461                            3940     ;;;2013-02-23 不要      M_BRA   SFTY_MASK_ST_NOTDRV500
12462                            3941     ;;;2013-02-23 不要
12463                            3942     ;;;2013-02-23 不要
12464                            3943     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV100:
12465                            3944     ;;;2013-02-23 不要
12466                            3945     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_END,R0                      ;
12467                            3946     ;;;2013-02-23 不要
12468                            3947     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV500:                                       ;
12469                            3948     ;;;2013-02-23 不要
12470                            3949     ;;;2013-02-23 不要      SUB_END
12471                            3950     ;;;2013-02-23 不要      M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   116
PROGRAM NAME =

12472                            3951     
12473                            3952     
12474                            3953     ;       ***********************************
12475                            3954     ;       ***                             ***
12476                            3955     ;       ***     停止中のマスク          ***
12477                            3956     ;       ***                             ***
12478                            3957     ;       ***********************************
12479                            3958     ;       ***************************
12480                            3959     ;       ***     2013-02-23      ***
12481                            3960     ;       ***************************
12482                            3961     ;       上昇無効が有効/無効
12483                            3962     ;       SWが有効で,SWがONか?
12484                            3963     ;
12485                            3964     ;
12486                                     ***** BEGIN-POOL *****
12487 00001B20 00000000                   DATA FOR SOURCE-LINE 3900
12488                                     ***** END-POOL *****
12489 00001B24                   3965     _NEWMASK_SEL_STOPMSK
12490                            3966             SUB_START                               ;
12491 00001B24 4F22                   M           STS.L   PR,@-R15                ;[必要]
12492                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12493                            3967     
12494                            3968     ;       ======== 2013-02-20[SEQ349.9] ====
12495 00001B26 D10A              3969             MOV.L   #_MYUTING_MOD_STOPSEL,R1                ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12496 00001B28 6011              3970             MOV.W   @R1,R0                                  ;
12497 00001B2A 8801              3971             CMP/EQ  #1,R0                                   ;
12498 00001B2C 890B              3972             BT      NEWMASK_SELSTOPCHK400                   ;
12499                            3973     
12500                            3974     ;       ----------------------------------
12501 00001B2E D109              3975             MOV.L   #_UPMSK2_MATH,R1                ;[0:停止中はﾏｽｸ固定],[1:停止中はﾏｽｸする/し
                                          ないをSWで決定]
12502 00001B30 6011              3976             MOV.W   @R1,R0                          ;
12503 00001B32 2008              3977             TST     R0,R0                           ;
12504                            3978             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12505 00001B34 8916                   M           BT      NEWMASK_SELSTOPCHK500
12506                            3979     
12507 00001B36 D108              3980             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない:1:参照する
12508 00001B38 6011              3981             MOV.W   @R1,R0                          ;
12509 00001B3A 2008              3982             TST     R0,R0                           ;
12510                            3983             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12511 00001B3C 8912                   M           BT      NEWMASK_SELSTOPCHK500
12512                            3984     
12513 00001B3E D107              3985             MOV.L   #_UPMAK2_MOD_USE_SW,R1          ;
12514 00001B40 6011              3986             MOV.W   @R1,R0                          ;
12515 00001B42 2008              3987             TST     R0,R0
12516                            3988             TST_BIT_ON NEWMASK_SELSTOPCHK500        ;上昇無効にする
12517 00001B44 8B0E                   M           BF      NEWMASK_SELSTOPCHK500
12518                            3989     
12519                            3990     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にしない----
12520 00001B46                   3991     NEWMASK_SELSTOPCHK400
12521                            3992             FAR_JSR #_SFTY_MASK_END,R0                      ;
12522 00001B46 D006                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12523 00001B48 400B                   M           JSR     @R0                     ;
12524 00001B4A 0009                   M           NOP                                     ;
12525                            3993             M_BRA   NEWMASK_SELSTOPCHKEND
12526 00001B4C A00D                   M           BRA     NEWMASK_SELSTOPCHKEND
12527 00001B4E 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   117
PROGRAM NAME =

12528                            3994     
12529                            3995     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にする----
12530                                     ***** BEGIN-POOL *****
12531 00001B50 00000000                   DATA FOR SOURCE-LINE 3969
12532 00001B54 00000000                   DATA FOR SOURCE-LINE 3975
12533 00001B58 00000000                   DATA FOR SOURCE-LINE 3980
12534 00001B5C 00000000                   DATA FOR SOURCE-LINE 3985
12535 00001B60 00000000                   DATA FOR SOURCE-LINE 3992
12536                                     ***** END-POOL *****
12537 00001B64                   3996     NEWMASK_SELSTOPCHK500
12538                            3997             FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12539 00001B64 D002                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12540 00001B66 400B                   M           JSR     @R0                     ;
12541 00001B68 0009                   M           NOP                                     ;
12542 00001B6A                   3998     NEWMASK_SELSTOPCHKEND
12543                            3999     
12544                            4000     
12545                            4001             SUB_END
12546                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12547 00001B6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12548                            4002             M_RTS
12549 00001B6C 000B                   M           RTS                             ;RTSの後ろの
12550 00001B6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12551                            4003     
12552                            4004     
12553                            4005     ;       ***********************************
12554                            4006     ;       ***     動作上ﾏｽｸしたい         ***
12555                            4007     ;       ***     上昇無効,運転終了       ***
12556                            4008     ;       ***********************************
12557                                     ***** BEGIN-POOL *****
12558 00001B70 00000000                   DATA FOR SOURCE-LINE 3997
12559                                     ***** END-POOL *****
12560 00001B74                   4009     _SFTY_MASK_START:
12561                            4010             SUB_START
12562 00001B74 4F22                   M           STS.L   PR,@-R15                ;[必要]
12563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12564 00001B76 D105              4011             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12565 00001B78 6011              4012             MOV.W   @R1,R0                  ;
12566 00001B7A CB03              4013             OR      #(BIT1+BIT0),R0         ;
12567 00001B7C 2101              4014             MOV.W   R0,@R1                  ;
12568                            4015             FAR_JSR #_FRCYCL_OF,R0          ;
12569 00001B7E D004                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12570 00001B80 400B                   M           JSR     @R0                     ;
12571 00001B82 0009                   M           NOP                                     ;
12572                            4016             SUB_END
12573                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12574 00001B84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12575                            4017             M_RTS
12576 00001B86 000B                   M           RTS                             ;RTSの後ろの
12577 00001B88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12578                            4018     
12579                            4019     ;       ***********************************
12580                            4020     ;       ***     動作上ﾏｽｸやめたい       ***
12581                            4021     ;       ***     起動時                  ***
12582                            4022     ;       ***********************************
12583                                     ***** BEGIN-POOL *****
12584 00001B8A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   118
PROGRAM NAME =

12585 00001B8C 00000000                   DATA FOR SOURCE-LINE 4011
12586 00001B90 00000000                   DATA FOR SOURCE-LINE 4015
12587                                     ***** END-POOL *****
12588 00001B94                   4023     _SFTY_MASK_END:
12589                            4024             SUB_START
12590 00001B94 4F22                   M           STS.L   PR,@-R15                ;[必要]
12591                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12592 00001B96 D104              4025             MOV.L   #_SW_DEV_MASK_FLG,R1    ;//BIT1=BIT0=0 安全装置無効  BIT1=BIT0=1 安全装置
                                          有効
12593 00001B98 6011              4026             MOV.W   @R1,R0                  ;
12594 00001B9A C803              4027             TST     #(BIT1+BIT0),R0         ;
12595                            4028             TST_BIT_ON SFTY_MASK_ED_100     ;
12596 00001B9C 8B08                   M           BF      SFTY_MASK_ED_100
12597                            4029             FAR_JSR #_SFTY_MASK_START,R0    ;
12598 00001B9E D003                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12599 00001BA0 400B                   M           JSR     @R0                     ;
12600 00001BA2 0009                   M           NOP                                     ;
12601                            4030             M_BRA   SFTY_MASK_ED_200        ;
12602 00001BA4 A00B                   M           BRA     SFTY_MASK_ED_200
12603 00001BA6 0009                   M           NOP
12604                            4031     
12605                                     ***** BEGIN-POOL *****
12606 00001BA8 00000000                   DATA FOR SOURCE-LINE 4025
12607 00001BAC 00000000                   DATA FOR SOURCE-LINE 4029
12608                                     ***** END-POOL *****
12609 00001BB0                   4032     SFTY_MASK_ED_100:
12610 00001BB0 D104              4033             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12611 00001BB2 6011              4034             MOV.W   @R1,R0                  ;
12612 00001BB4 C9FC              4035             AND     #LOW ~(BIT1+BIT0),R0    ;
12613 00001BB6 2101              4036             MOV.W   R0,@R1                  ;
12614                            4037             FAR_JSR #_FRCYCL_ON,R0          ;
12615 00001BB8 D003                   M           MOV.L   #_FRCYCL_ON,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12616 00001BBA 400B                   M           JSR     @R0                     ;
12617 00001BBC 0009                   M           NOP                                     ;
12618 00001BBE                   4038     SFTY_MASK_ED_200:
12619                            4039             SUB_END
12620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12621 00001BBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12622                            4040             M_RTS
12623 00001BC0 000B                   M           RTS                             ;RTSの後ろの
12624 00001BC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12625                            4041     
12626                            4042     
12627                            4043     
12628                            4044     
12629                            4045     
12630                            4046     
12631                            4047     
12632                            4048     
12633                            4049     
12634                            4050     
12635                            4051     ;       *******************************************************************
12636                            4052     ;       ***                                                             ***
12637                            4053     ;       ***     2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]     ***
12638                            4054     ;       ***                                                             ***
12639                            4055     ;       *******************************************************************
12640                            4056     ;       ANS R0=0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   119
PROGRAM NAME =

12641                            4057     ;       ANS R0=-1 (上昇無効にしない)
12642                            4058     ;;_OPT_SFTY_MASK_CHK:
12643                            4059     ;;      SUB_START
12644                            4060     ;;      XOR     R2,R2                   ;
12645                            4061     ;;
12646                            4062     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
12647                            4063     ;;      MOV.W   @R1,R0                          ;
12648                            4064     ;;      TST     #_W1OPT,R0                      ;OPTION?
12649                            4065     ;;      TST_BIT_OF OPT_SFTY_MASKCHK_100         ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12650                            4066     ;;
12651                            4067     ;;      MOV.L   #_MODE_SEL,R1                   ;
12652                            4068     ;;      MOV.W   @R1,R0                          ;
12653                            4069     ;;      MOV.W   #BIT10,R1                       ;
12654                            4070     ;;      TST     R1,R0                           ;
12655                            4071     ;;      TST_BIT_ON OPT_SFTY_MASKCHK_100         ;ON:一行程
12656                            4072     ;;
12657                            4073     ;;      ---ｵﾌﾟｼｮﾝの安全一行程--
12658                            4074     ;;      MOV.L   #_WPAR_SFYOPT_USEL,R1           ;
12659                            4075     ;;      MOV.W   @R1,R0                          ;
12660                            4076     ;;      CMP/EQ  #1,R0                           ;
12661                            4077     ;;      BF      OPT_SFTY_MASKCHK_100            ;
12662                            4078     ;;
12663                            4079     ;;      MOV.B   #-1,R2                          ;
12664                            4080     ;;
12665                            4081     ;;OPT_SFTY_MASKCHK_100:
12666                            4082     ;;      MOV     R2,R0
12667                            4083     ;;      SUB_END
12668                            4084     ;;      M_RTS
12669                            4085     
12670                            4086     ;       ***************************************************************************
12671                            4087     ;       ***                                                                     ***
12672                            4088     ;       ***     2012-09-25                                                      ***
12673                            4089     ;       ***     [ｵﾌﾟｼｮﾝの安全一行程はｼｽﾊﾟﾗの指示に従い上昇無効にする/しない]    ***
12674                            4090     ;       ***                                                                     ***
12675                            4091     ;       ***************************************************************************
12676                            4092     ;       ANS R0=0:上昇無効にする,-1:上昇無効にしない
12677                                     ***** BEGIN-POOL *****
12678 00001BC4 00000000                   DATA FOR SOURCE-LINE 4033
12679 00001BC8 00000000                   DATA FOR SOURCE-LINE 4037
12680                                     ***** END-POOL *****
12681 00001BCC                   4093             .ALIGN  4                               ;
12682 00001BCC                   4094     _OPT_SGL_SFTY_MASK_CHK:
12683                            4095             SUB_START
12684 00001BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12685                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12686 00001BCE 222A              4096             XOR     R2,R2                   ;
12687                            4097     
12688                            4098     ;       ======== 2013-02-20[SEQ349.9] ====
12689 00001BD0 D10B              4099             MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12690 00001BD2 6011              4100             MOV.W   @R1,R0                          ;
12691 00001BD4 8801              4101             CMP/EQ  #1,R0                           ;
12692 00001BD6 8936              4102             BT      OPT_SGL_SFTY_MASKCHK_500        ;
12693                            4103     
12694                            4104     
12695 00001BD8 D10A              4105             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12696 00001BDA 6011              4106             MOV.W   @R1,R0                          ;28.2
12697 00001BDC C804              4107             TST     #BIT2,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   120
PROGRAM NAME =

12698                            4108             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;
12699 00001BDE 8932                   M           BT      OPT_SGL_SFTY_MASKCHK_500
12700                            4109     
12701                            4110     
12702 00001BE0 D109              4111             MOV.L   #_di1_cb_ctl1_dt,R1             ;
12703 00001BE2 6011              4112             MOV.W   @R1,R0                          ;
12704 00001BE4 C810              4113             TST     #_W1OPT,R0                      ;OPTION?
12705                            4114             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_100     ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12706 00001BE6 891D                   M           BT      OPT_SGL_SFTY_MASKCHK_100
12707                            4115     
12708 00001BE8 D108              4116             MOV.L   #_MODE_SEL,R1                   ;
12709 00001BEA 6011              4117             MOV.W   @R1,R0                          ;
12710 00001BEC 9107              4118             MOV.W   #BIT10,R1                       ;
12711 00001BEE 2018              4119             TST     R1,R0                           ;
12712                            4120             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_080     ;ON:一行程　2012-09-25
12713 00001BF0 8B10                   M           BF      OPT_SGL_SFTY_MASKCHK_080
12714                            4121     ;;;;;;  TST_BIT_ON OPT_SGL_SFTY_MASKCHK_100     ;ON:一行程
12715                            4122     
12716                            4123     ;       ---ｵﾌﾟｼｮﾝの安全一行程--
12717 00001BF2 D107              4124             MOV.L   #_WPAR_SFYOPT_USEL,R1           ;PARAM66
12718 00001BF4 6011              4125             MOV.W   @R1,R0                          ;
12719 00001BF6 8801              4126             CMP/EQ  #1,R0                           ;
12720 00001BF8 8925              4127             BT      OPT_SGL_SFTY_MASKCHK_500        ;1:上昇無効にしない
12721                            4128             M_BRA   OPT_SGL_SFTY_MASKCHK_400        ;0,2上昇無効にする
12722 00001BFA A021                   M           BRA     OPT_SGL_SFTY_MASKCHK_400
12723 00001BFC 0009                   M           NOP
12724                            4129     
12725                            4130     ;       --------一行程[新ﾓｰﾄﾞでは上昇無効にしない]---
12726                                     ***** BEGIN-POOL *****
12727 00001BFE 0400                       DATA FOR SOURCE-LINE 4118
12728 00001C00 00000000                   DATA FOR SOURCE-LINE 4099
12729 00001C04 00000000                   DATA FOR SOURCE-LINE 4105
12730 00001C08 00000000                   DATA FOR SOURCE-LINE 4111
12731 00001C0C 00000000                   DATA FOR SOURCE-LINE 4116
12732 00001C10 00000000                   DATA FOR SOURCE-LINE 4124
12733                                     ***** END-POOL *****
12734 00001C14                   4131     OPT_SGL_SFTY_MASKCHK_080:
12735                            4132     ;;;;2012-10-15  MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:参照する
12736                            4133     ;;;;2013-08-20  MOV.L   #_UPMSK2_MATH,R1                ;//0: 1:
12737                            4134     
12738 00001C14 D102              4135             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない[旧ﾓｰﾄﾞ] 1:参照する 2013-08
                                          -20
12739 00001C16 6011              4136             MOV.W   @R1,R0                          ;
12740 00001C18 2008              4137             TST     R0,R0                           ;
12741                            4138             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12742 00001C1A 8911                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12743                            4139             M_BRA   OPT_SGL_SFTY_MASKCHK_500        ;
12744 00001C1C A013                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12745 00001C1E 0009                   M           NOP
12746                            4140     
12747                            4141     
12748                            4142     ;       ======== 通常の安全一行程の条件(GAMEN-SWは上昇無効有り)===
12749                                     ***** BEGIN-POOL *****
12750 00001C20 00000000                   DATA FOR SOURCE-LINE 4135
12751                                     ***** END-POOL *****
12752 00001C24                   4143     OPT_SGL_SFTY_MASKCHK_100:
12753                            4144     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MATH,R1                ;//0:参照しない 1:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   121
PROGRAM NAME =

                                          参照する
12754                            4145     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12755                            4146     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12756                            4147     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12757                            4148     ;;;;;;;;;;;;;;2013-08-20
12758                            4149     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:
                                          参照する
12759                            4150     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12760                            4151     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12761                            4152     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;2012-10-15
12762                            4153     ;;;;;;;;;;;;;;2013-08-20
12763                            4154     ;;;;;;;;;;;;;;2013-08-20;;;;2012-10-15  TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までど
                                          おりする
12764                            4155     
12765                            4156     ;       ===2013-08-20 SWを使用しない場合は 旧動作(上昇無効にする)==
12766 00001C24 D104              4157             MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照しない 1:参照する
12767 00001C26 6011              4158             MOV.W   @R1,R0                                  ;
12768 00001C28 2008              4159             TST     R0,R0                                   ;
12769                            4160             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400             ;今までどおりする
12770 00001C2A 8909                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12771                            4161     
12772 00001C2C D103              4162             MOV.L   #_UPMAK2_MOD_USE_SW,R1                  ;
12773 00001C2E 6011              4163             MOV.W   @R1,R0                                  ;
12774 00001C30 2008              4164             TST     R0,R0
12775                            4165             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_400             ;ON する
12776 00001C32 8B05                   M           BF      OPT_SGL_SFTY_MASKCHK_400
12777                            4166             M_BRA   OPT_SGL_SFTY_MASKCHK_500                ;しない
12778 00001C34 A007                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12779 00001C36 0009                   M           NOP
12780                            4167     
12781                            4168     ;       ----------上昇無効にする----
12782                                     ***** BEGIN-POOL *****
12783 00001C38 00000000                   DATA FOR SOURCE-LINE 4157
12784 00001C3C 00000000                   DATA FOR SOURCE-LINE 4162
12785                                     ***** END-POOL *****
12786 00001C40                   4169     OPT_SGL_SFTY_MASKCHK_400:
12787 00001C40 222A              4170             XOR     R2,R2
12788                            4171             M_BRA   OPT_SGL_SFTY_MASKCHK_END
12789 00001C42 A001                   M           BRA     OPT_SGL_SFTY_MASKCHK_END
12790 00001C44 0009                   M           NOP
12791                            4172     
12792                            4173     ;       ---------しない----
12793 00001C46                   4174     OPT_SGL_SFTY_MASKCHK_500:
12794 00001C46 E2FF              4175             MOV.B   #-1,R2                          ;
12795 00001C48                   4176     OPT_SGL_SFTY_MASKCHK_END:
12796 00001C48 6023              4177             MOV     R2,R0
12797                            4178     
12798                            4179             SUB_END
12799                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12800 00001C4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12801                            4180             M_RTS
12802 00001C4C 000B                   M           RTS                             ;RTSの後ろの
12803 00001C4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12804                            4181     
12805                            4182     
12806                            4183     
12807                            4184     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   122
PROGRAM NAME =

12808                            4185     
12809                            4186     
12810                            4187     
12811                            4188     
12812                            4189     
12813                            4190     ;       ***********************************
12814                            4191     ;       ***     ロットカウント処理      ***
12815                            4192     ;       ***********************************
12816                            4193     ;
12817                            4194     ;
12818                            4195     ;       <待機点内->待機点外>
12819                            4196             .IMPORT _LOT_SIG_SET            ;
12820 00001C50                   4197     _LOT_CNT_CNT:
12821                            4198             SUB_START
12822 00001C50 4F22                   M           STS.L   PR,@-R15                ;[必要]
12823                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12824                            4199     
12825                            4200     ;       ====待機点復帰はロットカウンタをカウントしない S00ejの2回目===
12826 00001C52 D105              4201             MOV.L   #_MODE_SEL,R1           ;
12827 00001C54 6011              4202             MOV.W   @R1,R0                  ;
12828 00001C56 C860              4203             TST     #(_W1DUP+_W1DIC),R0     ;TST #_W1DUP 原点復帰と段取はｶｳﾝﾄしない 2003-07-01
12829                            4204             TST_BIT_ON LOT_CNTCNT_200       ;原点時はｶｳﾝﾄしない
12830 00001C58 8B2B                   M           BF      LOT_CNTCNT_200
12831                            4205     
12832                            4206     
12833                            4207     ;;;;;;;;        --------- 2020-05-07(2019-09-05)ADD　待機点切替前に手を離すと次回にならな
                                          い-------
12834                            4208     ;;;;;;; TST             #_W1CNT,R0                              ;
12835                            4209     ;;;;;;; TST_BIT_OF LOT_CNTCNT_MOD49             ;(連続以外はパス)
12836                            4210     ;;;;;;;
12837                            4211     ;;;;;;; MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12838                            4212     ;;;;;;; MOV.W   @R1,R0                                  ;.8=TIM .9=CNT
12839                            4213     ;;;;;;; MOV.W   #(BIT9|BIT8),R4                 ;
12840                            4214     ;;;;;;; TST             R4,R0                                   ;
12841                            4215     ;;;;;;; TST_BIT_OF LOT_CNTCNT_MOD49             ;(ﾀｲﾏ,回転以外はパス)
12842                            4216     ;;;;;;;
12843                            4217     ;;;;;;; MOV.L   #_LOT_CHK_FLG,R1                ;
12844                            4218     ;;;;;;; MOV.W   @R1,R0                                  ;
12845                            4219     ;;;;;;; TST             #(BIT4),R0                              ;
12846                            4220     ;;;;;;; TST_BIT_ON      LOT_CNTCNT_080          ;下降領域に入った
12847                            4221     ;;;;;;; M_BRA   LOT_CNTCNT_200                  ;
12848                            4222     ;;;;;;;
12849                            4223     ;;;;;;;LOT_CNTCNT_MOD49:
12850                            4224     ;;;;;;; --------------------------------------------
12851                            4225     
12852                            4226     
12853                            4227     
12854                            4228     
12855                            4229     
12856                            4230     
12857 00001C5A D104              4231             MOV.L   #_LOT_CHK_FLG,R1        ;
12858 00001C5C 6011              4232             MOV.W   @R1,R0                  ;
12859 00001C5E C911              4233             AND     #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12860 00001C60 8811              4234             CMP/EQ  #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12861 00001C62 8905              4235             BT      LOT_CNTCNT_050          ;下降領域に入った
12862                            4236             M_BRA   LOT_CNTCNT_200          ;
12863 00001C64 A025                   M           BRA     LOT_CNTCNT_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   123
PROGRAM NAME =

12864 00001C66 0009                   M           NOP
12865                            4237     
12866                            4238     
12867                                     ***** BEGIN-POOL *****
12868 00001C68 00000000                   DATA FOR SOURCE-LINE 4201
12869 00001C6C 00000000                   DATA FOR SOURCE-LINE 4231
12870                                     ***** END-POOL *****
12871 00001C70                   4239     LOT_CNTCNT_050:
12872                            4240              .AIF   1 EQ 1  ;
12873                            4241 C   ;       -------- 2016-10-31 ADD 二重回路対策
12874                            4242              .AENDI
12875                            4243     ;       ---------- 2016-10-31(2016-07-16) ----------------
12876                            4244             .AIF    0 EQ    0       ;
12877 00001C70 D103              4245 C           MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12878                            4246             .AELSE                                  ;
12879                            4247             MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12880                            4248             .AENDI                                  ;
12881                            4249     
12882 00001C72 6011              4250             MOV.W   @R1,R0                          ;
12883 00001C74 C911              4251             AND     #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12884 00001C76 8811              4252             CMP/EQ  #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12885 00001C78 8904              4253             BT      LOT_CNTCNT_080                  ;下降領域に入った
12886                            4254             M_BRA   LOT_CNTCNT_200                  ;
12887 00001C7A A01A                   M           BRA     LOT_CNTCNT_200
12888 00001C7C 0009                   M           NOP
12889                            4255     
12890                                     ***** BEGIN-POOL *****
12891 00001C7E 0000                       ALIGNMENT CODE
12892 00001C80 00000000                   DATA FOR SOURCE-LINE 4245
12893                                     ***** END-POOL *****
12894 00001C84                   4256     LOT_CNTCNT_080:                                 ;
12895                            4257     
12896                            4258     
12897 00001C84 D10E              4259             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1() <===ﾓｰｼｮﾝ時
                                          のみ=1
12898 00001C86 6011              4260             MOV.W   @R1,R0                  ;
12899 00001C88 2008              4261             TST     R0,R0                   ;
12900                            4262             TST_BIT_ON LOT_CNTCNT_200       ;
12901 00001C8A 8B12                   M           BF      LOT_CNTCNT_200
12902                            4263     
12903                            4264             FAR_JSR #_UP_LOT_SIG_MAK,R0
12904 00001C8C D00D                   M           MOV.L   #_UP_LOT_SIG_MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12905 00001C8E 400B                   M           JSR     @R0                     ;
12906 00001C90 0009                   M           NOP                                     ;
12907                            4265     
12908 00001C92 2008              4266             TST     R0,R0                   ;
12909                            4267             TST_BIT_OF LOT_CNTCNT_200       ;
12910 00001C94 890D                   M           BT      LOT_CNTCNT_200
12911                            4268     
12912 00001C96 D10A              4269             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12913 00001C98 6011              4270             MOV.W   @R1,R0                  ;
12914 00001C9A CB01              4271             OR      #BIT0,R0                ;
12915 00001C9C 2101              4272             MOV.W   R0,@R1                  ;
12916                            4273     
12917                            4274     
12918                            4275     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
12919                            4276     ;;2016-10-31未使用      MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   124
PROGRAM NAME =

12920                            4277     ;;2016-10-31未使用      OR      #BIT0,R0                ;
12921                            4278     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
12922                            4279     
12923                            4280     
12924                            4281     
12925                            4282             FAR_JSR #_LOT_SIG_SET,R0                                                ;
12926 00001C9E D00A                   M           MOV.L   #_LOT_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12927 00001CA0 400B                   M           JSR     @R0                     ;
12928 00001CA2 0009                   M           NOP                                     ;
12929                            4283     
12930                            4284     ;       ===========ﾛｯﾄｶｳﾝﾀでの処理==================
12931 00001CA4 D109              4285             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12932 00001CA6 6011              4286             MOV.W   @R1,R0                  ;
12933 00001CA8 2008              4287             TST     R0,R0
12934                            4288             TST_BIT_OF CONT_LOT_CHK050
12935 00001CAA 8901                   M           BT      CONT_LOT_CHK050
12936 00001CAC 70FF              4289             ADD     #-1,R0
12937 00001CAE 2101              4290             MOV.W   R0,@R1
12938 00001CB0                   4291     CONT_LOT_CHK050:
12939 00001CB0 0009              4292             NOP
12940                            4293     
12941                            4294     
12942 00001CB2                   4295     LOT_CNTCNT_200:
12943                            4296              .AIF   1 EQ 1  ;
12944                            4297 C   ;       -------- 2016-10-31 ADD 二重回路対策
12945                            4298              .AENDI
12946                            4299             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
12947 00001CB2 D007                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12948 00001CB4 400B                   M           JSR     @R0                     ;
12949 00001CB6 0009                   M           NOP                                     ;
12950                            4300     
12951                            4301     ;;;2019-02-05 TEST      FAR_JSR #_DEBUG_SQ_SIG_246_247,R0       ;2018-02-10ﾃﾞﾊﾞｯｸ
12952                            4302     
12953                            4303             SUB_END
12954                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12955 00001CB8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12956                            4304             M_RTS
12957 00001CBA 000B                   M           RTS                             ;RTSの後ろの
12958 00001CBC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12959                            4305     
12960                            4306     
12961                                     ***** BEGIN-POOL *****
12962 00001CBE 0000                       ALIGNMENT CODE
12963 00001CC0 00000000                   DATA FOR SOURCE-LINE 4259,4269
12964 00001CC4 00000000                   DATA FOR SOURCE-LINE 4264
12965 00001CC8 00000000                   DATA FOR SOURCE-LINE 4282
12966 00001CCC 00000000                   DATA FOR SOURCE-LINE 4285
12967 00001CD0 00000000                   DATA FOR SOURCE-LINE 4299
12968                                     ***** END-POOL *****
12969 00001CD4                   4307     _DEBUG_SQ_SIG_246_247
12970                            4308             SUB_START
12971 00001CD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12972                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12973                            4309     
12974                            4310     ;---------2018-02-10 ﾃﾞﾊﾞｯｸ--------------
12975 00001CD6 D10A              4311             MOV.L   #_LOT_CNT_FLG,R1                        ;BIT0->BIT8
12976 00001CD8 6211              4312             MOV.W   @R1,R2                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   125
PROGRAM NAME =

12977 00001CDA 4218              4313             SHLL8   R2                                                      ;
12978 00001CDC D109              4314             MOV.L   #_LOT_CHK_FLG,R1                        ;BIT0,BIT4
12979 00001CDE 6011              4315             MOV.W   @R1,R0                                          ;
12980 00001CE0 600C              4316             EXTU.B  R0,R0                                           ;
12981 00001CE2 202B              4317             OR              R2,R0                                           ;
12982 00001CE4 D108              4318             MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
12983 00001CE6 2101              4319             MOV.W   R0,@R1                                          ;
12984                            4320     
12985 00001CE8 D108              4321             MOV.L   #_DEBUG_STS_CNT1,R1                     ;
12986 00001CEA 6211              4322             MOV.W   @R1,R2                                          ;
12987 00001CEC 4218              4323             SHLL8   R2                                                      ;
12988 00001CEE D108              4324             MOV.L   #_DEBUG_STS_CNT2,R1                     ;
12989 00001CF0 6011              4325             MOV.W   @R1,R0                                          ;
12990 00001CF2 600C              4326             EXTU.B  R0,R0                                           ;
12991 00001CF4 202B              4327             OR              R2,R0                                           ;
12992 00001CF6 D107              4328             MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
12993 00001CF8 2101              4329             MOV.W   R0,@R1                                          ;
12994                            4330             SUB_END
12995                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12996 00001CFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12997                            4331             M_RTS
12998 00001CFC 000B                   M           RTS                             ;RTSの後ろの
12999 00001CFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13000                            4332     
13001                            4333     
13002                            4334              .AIF   1 EQ 1  ;
13003                            4335 C   ;       -------- 2016-10-31 ADD 二重回路対策
13004                            4336              .AENDI
13005                            4337     ;       ---------- 二重回路 2016-07-21---------
13006                                     ***** BEGIN-POOL *****
13007 00001D00 00000000                   DATA FOR SOURCE-LINE 4311
13008 00001D04 00000000                   DATA FOR SOURCE-LINE 4314
13009 00001D08 00000000                   DATA FOR SOURCE-LINE 4318
13010 00001D0C 00000000                   DATA FOR SOURCE-LINE 4321
13011 00001D10 00000000                   DATA FOR SOURCE-LINE 4324
13012 00001D14 00000000                   DATA FOR SOURCE-LINE 4328
13013                                     ***** END-POOL *****
13014 00001D18                   4338     _CNT_MODE_CNT_SIG_OUT
13015                            4339             SUB_START
13016 00001D18 4F22                   M           STS.L   PR,@-R15                ;[必要]
13017                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13018                            4340     
13019                            4341     ;       ------2016-07-16
13020 00001D1A D107              4342             MOV.L   #_LOT_CHK_FLG,R1                ;
13021 00001D1C 6011              4343             MOV.W   @R1,R0                          ;
13022                            4344             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13023 00001D1E D107              4345 C           MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
13024                            4346             .AELSE
13025                            4347             MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
13026                            4348             .AENDI                                  ;
13027 00001D20 2101              4349             MOV.W   R0,@R1                          ;
13028                            4350     
13029                            4351     
13030 00001D22 D107              4352             MOV.L   #_LOT_CNT_FLG,R1                ;
13031 00001D24 6011              4353             MOV.W   @R1,R0                          ;
13032                            4354             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13033 00001D26 D107              4355 C           MOV.L   #_CPUA_LOT_CNT_FLG,R1           ;2016-07-18CHECK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   126
PROGRAM NAME =

13034                            4356             .AELSE
13035                            4357             MOV.L   #_CPUB_LOT_CNT_FLG,R1           ;2016-07-18CHECK
13036                            4358             .AENDI                                  ;
13037 00001D28 2101              4359             MOV.W   R0,@R1                          ;
13038                            4360     
13039                            4361     
13040 00001D2A D107              4362             MOV.L   #_CONT_MOD_CNT_PV,R1            ;
13041 00001D2C 6011              4363             MOV.W   @R1,R0                          ;
13042                            4364             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13043 00001D2E D107              4365 C           MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
13044                            4366             .AELSE
13045                            4367             MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
13046                            4368             .AENDI                                  ;
13047 00001D30 2101              4369             MOV.W   R0,@R1                          ;
13048                            4370             SUB_END
13049                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13050 00001D32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13051                            4371             M_RTS
13052 00001D34 000B                   M           RTS                             ;RTSの後ろの
13053 00001D36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13054                            4372     
13055                            4373     
13056                            4374     
13057                            4375             .EXPORT _LOT_SIG_FLG_CLR
13058                            4376     
13059                                     ***** BEGIN-POOL *****
13060 00001D38 00000000                   DATA FOR SOURCE-LINE 4342
13061 00001D3C 00000000                   DATA FOR SOURCE-LINE 4345
13062 00001D40 00000000                   DATA FOR SOURCE-LINE 4352
13063 00001D44 00000000                   DATA FOR SOURCE-LINE 4355
13064 00001D48 00000000                   DATA FOR SOURCE-LINE 4362
13065 00001D4C 00000000                   DATA FOR SOURCE-LINE 4365
13066                                     ***** END-POOL *****
13067 00001D50                   4377     _LOT_SIG_FLG_CLR:
13068                            4378             SUB_START
13069 00001D50 4F22                   M           STS.L   PR,@-R15                ;[必要]
13070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13071 00001D52 D107              4379             MOV.L   #_LOT_CHK_FLG,R1        ;
13072 00001D54 6011              4380             MOV.W   @R1,R0                  ;
13073 00001D56 C9EE              4381             AND     #LOW ~(BIT4+BIT0),R0    ;
13074 00001D58 2101              4382             MOV.W   R0,@R1
13075                            4383     
13076 00001D5A D106              4384             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
13077 00001D5C 200A              4385             XOR     R0,R0                   ;
13078 00001D5E 2101              4386             MOV.W   R0,@R1                  ;
13079                            4387     
13080                            4388     ;       ---2018-02-10 DEBUG --------------
13081 00001D60 D105              4389             MOV.L   #_DEBUG_STS_CNT1,R1                     ;
13082 00001D62 6011              4390             MOV.W   @R1,R0                                          ;
13083 00001D64 7001              4391             ADD             #1,R0                                           ;
13084 00001D66 2101              4392             MOV.W   R0,@R1                                          ;
13085                            4393     ;       ----------------------------------
13086                            4394     
13087                            4395             SUB_END
13088                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13089 00001D68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13090                            4396             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   127
PROGRAM NAME =

13091 00001D6A 000B                   M           RTS                             ;RTSの後ろの
13092 00001D6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13093                            4397     
13094                            4398     
13095                                     ***** BEGIN-POOL *****
13096 00001D6E 0000                       ALIGNMENT CODE
13097 00001D70 00000000                   DATA FOR SOURCE-LINE 4379
13098 00001D74 00000000                   DATA FOR SOURCE-LINE 4384
13099 00001D78 00000000                   DATA FOR SOURCE-LINE 4389
13100                                     ***** END-POOL *****
13101 00001D7C                   4399     _UP_LOT_SIG_MAK:
13102                            4400             SUB_START
13103 00001D7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13104                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13105 00001D7E D50A              4401             MOV.L   #_INT_POS_CTL_STEP,R5   ;
13106 00001D80 6251              4402             MOV.W   @R5,R2                  ;
13107 00001D82 D40A              4403             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
13108 00001D84 6541              4404             MOV.W   @R4,R5                  ;
13109 00001D86 3252              4405             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
13110 00001D88 8B2E              4406             BF      CTRL_UP_LOT_CK_END      ;
13111                            4407     
13112                            4408     ;       == ﾁｪｯｸすべく工程より大きい====
13113                            4409     ;       ======== ﾁｪｯｸすべき工程だ =======
13114                            4410     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
13115                            4411     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
13116                            4412     
13117 00001D8A D409              4413             MOV.L   #_DNM_CTL_INC3600,R4    ;[2009-10-07下振子]
13118 00001D8C 6241              4414             MOV.W   @R4,R2                  ;
13119                            4415     
13120 00001D8E D509              4416             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
13121 00001D90 6151              4417             MOV.W   @R5,R1                  ;START
13122 00001D92 D509              4418             MOV.L   #_SETX_UPAREA_DIG,R5    ;
13123 00001D94 6351              4419             MOV.W   @R5,R3                  ;
13124                            4420             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
13125 00001D96 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13126 00001D98 400B                   M           JSR     @R0                     ;
13127 00001D9A 0009                   M           NOP                                     ;
13128                            4421     
13129                            4422     
13130 00001D9C D108              4423             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
13131 00001D9E 6011              4424             MOV.W   @R1,R0                                  ;
13132 00001DA0 C808              4425             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
13133                            4426             TST_BIT_OF CTRL_UP_LOT_CK_200                   ;
13134 00001DA2 890F                   M           BT      CTRL_UP_LOT_CK_200
13135                            4427             M_BRA   CTRL_UP_LOT_CK_END                      ;(作成未)
13136 00001DA4 A020                   M           BRA     CTRL_UP_LOT_CK_END
13137 00001DA6 0009                   M           NOP
13138                            4428     
13139                                     ***** BEGIN-POOL *****
13140 00001DA8 00000000                   DATA FOR SOURCE-LINE 4401
13141 00001DAC 00000000                   DATA FOR SOURCE-LINE 4403
13142 00001DB0 00000000                   DATA FOR SOURCE-LINE 4413
13143 00001DB4 00000000                   DATA FOR SOURCE-LINE 4416
13144 00001DB8 00000000                   DATA FOR SOURCE-LINE 4418
13145 00001DBC 00000000                   DATA FOR SOURCE-LINE 4420
13146 00001DC0 00000000                   DATA FOR SOURCE-LINE 4423
13147                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   128
PROGRAM NAME =

13148 00001DC4                   4429     CTRL_UP_LOT_CK_200:
13149 00001DC4 C804              4430             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
13150                            4431             TST_BIT_OF CTRL_UP_LOT_CK_300                   ;
13151 00001DC6 8901                   M           BT      CTRL_UP_LOT_CK_300
13152                            4432             M_BRA   CTRL_UP_LOT_CK_400                      ;[2009-10-07下振子]
13153 00001DC8 A006                   M           BRA     CTRL_UP_LOT_CK_400
13154 00001DCA 0009                   M           NOP
13155                            4433     ;;[2009-10-07下振子]    M_BRA   CTRL_UP_LOT_CK_END      ;(作成未)
13156                            4434     
13157 00001DCC                   4435     CTRL_UP_LOT_CK_300:
13158 00001DCC C802              4436             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
13159                            4437             TST_BIT_OF CTRL_UP_LOT_CK_400                   ;
13160 00001DCE 8903                   M           BT      CTRL_UP_LOT_CK_400
13161                            4438     
13162                            4439     ;       ==== 反転R5=0,-1 ====
13163 00001DD0 4515              4440             CMP/PL  R5                                      ;
13164 00001DD2 8B05              4441             BF      CTRL_UP_LOT_CK_700                      ;成立
13165                            4442             M_BRA   CTRL_UP_LOT_CK_END                      ;
13166 00001DD4 A008                   M           BRA     CTRL_UP_LOT_CK_END
13167 00001DD6 0009                   M           NOP
13168                            4443     
13169                            4444     ;-----------回転-----------
13170 00001DD8                   4445     CTRL_UP_LOT_CK_400:
13171                            4446     ;       ==== 正転R5=0,1 ====
13172 00001DD8 4511              4447             CMP/PZ  R5
13173 00001DDA 8901              4448             BT      CTRL_UP_LOT_CK_700                      ;成立
13174                            4449             M_BRA   CTRL_UP_LOT_CK_END                      ;
13175 00001DDC A004                   M           BRA     CTRL_UP_LOT_CK_END
13176 00001DDE 0009                   M           NOP
13177 00001DE0                   4450     CTRL_UP_LOT_CK_700:
13178 00001DE0 E0FF              4451             MOV     #-1,R0                  ;
13179                            4452     
13180                            4453             SUB_END
13181                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13182 00001DE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13183                            4454             M_RTS
13184 00001DE4 000B                   M           RTS                             ;RTSの後ろの
13185 00001DE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13186                            4455     
13187 00001DE8                   4456     CTRL_UP_LOT_CK_END:
13188 00001DE8 200A              4457             XOR     R0,R0
13189                            4458             SUB_END
13190                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13191 00001DEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13192                            4459             M_RTS
13193 00001DEC 000B                   M           RTS                             ;RTSの後ろの
13194 00001DEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13195                            4460     
13196                            4461     
13197                            4462     
13198                            4463     ;       *******************************************
13199                            4464     ;       ***                                     ***
13200                            4465     ;       ***     クラッチ・ブレーキ起動処理      ***
13201                            4466     ;       ***                                     ***
13202                            4467     ;       *******************************************
13203 00001DF0                   4468     _CB_CTL_START_INI:
13204                            4469             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   129
PROGRAM NAME =

13205 00001DF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13206                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13207                            4470     
13208                            4471              .AIF   1 EQ 1  ;
13209                            4472 C   ;       -------- 2016-10-31 ADD 二重回路対策
13210                            4473              .AENDI
13211                            4474             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-10-31(2016-07-22) 二重回路対策
13212 00001DF2 D00D                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13213 00001DF4 400B                   M           JSR     @R0                     ;
13214 00001DF6 0009                   M           NOP                                     ;
13215                            4475     
13216                            4476     ;2016-10-31     XOR     R2,R2
13217                            4477     ;2016-10-31     XOR     R3,R3
13218                            4478     ;2016-10-31     MOV.L   #_MODE_SEL,R1                           ;
13219                            4479     ;2016-10-31     MOV.W   @R1,R0                                  ;
13220                            4480     ;2016-10-31     TST     #_W1CNT,R0                              ;
13221                            4481     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100
13222                            4482     ;2016-10-31
13223                            4483     ;2016-10-31;    **********************************
13224                            4484     ;2016-10-31;    ***     2004-01-26              **
13225                            4485     ;2016-10-31;    **********************************
13226                            4486     ;2016-10-31     MOV.W   #(BIT12+BIT11),R1       ;
13227                            4487     ;2016-10-31     TST     R1,R0                   ;OPTIONの連続寸動
13228                            4488     ;2016-10-31     TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13229                            4489     ;2016-10-31
13230                            4490     ;2016-10-31     MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13231                            4491     ;2016-10-31     MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13232                            4492     ;2016-10-31     MOV.W   #BIT8,R4                        ;
13233                            4493     ;2016-10-31     TST     R4,R0                           ;
13234                            4494     ;2016-10-31     TST_BIT_OF CONT_MD_CHK050       ;
13235                            4495     ;2016-10-31     MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13236                            4496     ;2016-10-31     MOV.L   @R1,R2                  ;
13237                            4497     ;2016-10-31     M_BRA   CONT_MD_CHK100          ;
13238                            4498     ;2016-10-31CONT_MD_CHK050:
13239                            4499     ;2016-10-31
13240                            4500     ;2016-10-31     MOV.W   #BIT9,R4                        ;
13241                            4501     ;2016-10-31     TST     R4,R0                           ;
13242                            4502     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100       ;
13243                            4503     ;2016-10-31     MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13244                            4504     ;2016-10-31     MOV.W   @R1,R3                  ;
13245                            4505     ;2016-10-31CONT_MD_CHK100:
13246                            4506     ;2016-10-31
13247                            4507     ;2016-10-31     MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13248                            4508     ;2016-10-31     MOV.L   R2,@R1                  ;
13249                            4509     ;2016-10-31     MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13250                            4510     ;2016-10-31     MOV.W   R3,@R1                  ;
13251                            4511     
13252                            4512     ;       ======ｻｲｸﾙ停止状態OFF==========================
13253 00001DF8 D50C              4513             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R5             ;
13254 00001DFA 6051              4514             MOV.W   @R5,R0                                  ;
13255 00001DFC 9412              4515             MOV.W   #LWORD ~(BIT7),R4                       ;
13256 00001DFE 2049              4516             AND     R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13257 00001E00 2501              4517             MOV.W   R0,@R5                                  ;
13258                            4518     ;       ===============================================
13259                            4519     
13260                            4520     ;       ======= ｻｰﾎﾞ 2003-05-24 ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   130
PROGRAM NAME =

13261 00001E02 D10B              4521             MOV.L   #_WPAR_INCSTP_EDYTM1,R1         ;停止遅延時間1=>ﾊﾟﾗﾒｰﾀﾜｰｸへ
13262 00001E04 6011              4522             MOV.W   @R1,R0                          ;
13263 00001E06 D10B              4523             MOV.L   #_WPAR_INCSTP_EDYTM,R1          ;
13264 00001E08 2101              4524             MOV.W   R0,@R1                          ;
13265                            4525     
13266                            4526             FAR_JSR #_DRV_START_INI_NEW1,R0         ;2003-07-09
13267 00001E0A D00B                   M           MOV.L   #_DRV_START_INI_NEW1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13268 00001E0C 400B                   M           JSR     @R0                     ;
13269 00001E0E 0009                   M           NOP                                     ;
13270                            4527     
13271                            4528     
13272                            4529             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
13273 00001E10 D10A                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13274 00001E12 6011                   M           MOV.W   @R1,R0          ;
13275 00001E14 C900                   M           AND     #LOW ~(H'FF),R0         ;
13276 00001E16 2101                   M           MOV.W   R0,@R1          ;
13277                            4530     
13278                            4531     ;       ----- 2007-03-02 ----
13279 00001E18 200A              4532             XOR     R0,R0
13280 00001E1A D109              4533             MOV.L   #_CMP_RECOVER_FLG,R1            ;(ﾃﾞﾊﾞｯｸ用)
13281 00001E1C 2101              4534             MOV.W   R0,@R1                          ;
13282                            4535     
13283                            4536     
13284                            4537     
13285                            4538             SUB_END
13286                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13287 00001E1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13288                            4539             M_RTS
13289 00001E20 000B                   M           RTS                             ;RTSの後ろの
13290 00001E22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13291                            4540     
13292                            4541     ;       *******************************************
13293                            4542     ;       ***                                     ***
13294                            4543     ;       ***     2016-10-31(2016-07-22)          ***
13295                            4544     ;       ***     二重回路対策                    ***
13296                            4545     ;       *******************************************
13297                            4546              .AIF   1 EQ 1  ;
13298                            4547 C   ;       -------- 2016-10-31 ADD 二重回路対策
13299                            4548              .AENDI
13300                            4549     ;
13301                                     ***** BEGIN-POOL *****
13302 00001E24 FF7F                       DATA FOR SOURCE-LINE 4515
13303 00001E26 0000                       ALIGNMENT CODE
13304 00001E28 00000000                   DATA FOR SOURCE-LINE 4474
13305 00001E2C 00000000                   DATA FOR SOURCE-LINE 4513
13306 00001E30 00000000                   DATA FOR SOURCE-LINE 4521
13307 00001E34 00000000                   DATA FOR SOURCE-LINE 4523
13308 00001E38 00000000                   DATA FOR SOURCE-LINE 4526
13309 00001E3C 00000000                   DATA FOR SOURCE-LINE 4529
13310 00001E40 00000000                   DATA FOR SOURCE-LINE 4533
13311                                     ***** END-POOL *****
13312 00001E44                   4550     _START_CNT_INFO_OUT
13313                            4551             SUB_START
13314 00001E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
13315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13316 00001E46 222A              4552             XOR     R2,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   131
PROGRAM NAME =

13317 00001E48 233A              4553             XOR     R3,R3
13318 00001E4A D109              4554             MOV.L   #_MODE_SEL,R1                           ;
13319 00001E4C 6011              4555             MOV.W   @R1,R0                                  ;
13320 00001E4E C808              4556             TST     #_W1CNT,R0                              ;
13321                            4557             TST_BIT_OF CONT_MD_CHK100
13322 00001E50 8919                   M           BT      CONT_MD_CHK100
13323                            4558     
13324                            4559     ;       **********************************
13325                            4560     ;       ***     2004-01-26              **
13326                            4561     ;       **********************************
13327 00001E52 910A              4562             MOV.W   #(BIT12+BIT11),R1       ;
13328 00001E54 2018              4563             TST     R1,R0                   ;OPTIONの連続寸動
13329                            4564             TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13330 00001E56 8B16                   M           BF      CONT_MD_CHK100
13331                            4565     
13332 00001E58 D106              4566             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13333 00001E5A 6011              4567             MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13334 00001E5C 9406              4568             MOV.W   #BIT8,R4                        ;
13335 00001E5E 2048              4569             TST     R4,R0                           ;
13336                            4570             TST_BIT_OF CONT_MD_CHK050       ;
13337 00001E60 890C                   M           BT      CONT_MD_CHK050
13338 00001E62 D105              4571             MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13339 00001E64 6212              4572             MOV.L   @R1,R2                  ;
13340                            4573             M_BRA   CONT_MD_CHK100          ;
13341 00001E66 A00E                   M           BRA     CONT_MD_CHK100
13342 00001E68 0009                   M           NOP
13343                                     ***** BEGIN-POOL *****
13344 00001E6A 1800                       DATA FOR SOURCE-LINE 4562
13345 00001E6C 0100                       DATA FOR SOURCE-LINE 4568
13346 00001E6E 0000                       ALIGNMENT CODE
13347 00001E70 00000000                   DATA FOR SOURCE-LINE 4554
13348 00001E74 00000000                   DATA FOR SOURCE-LINE 4566
13349 00001E78 00000000                   DATA FOR SOURCE-LINE 4571
13350                                     ***** END-POOL *****
13351 00001E7C                   4574     CONT_MD_CHK050:
13352                            4575     
13353 00001E7C 940D              4576             MOV.W   #BIT9,R4                        ;
13354 00001E7E 2048              4577             TST     R4,R0                           ;
13355                            4578             TST_BIT_OF CONT_MD_CHK100       ;
13356 00001E80 8901                   M           BT      CONT_MD_CHK100
13357 00001E82 D106              4579             MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13358 00001E84 6311              4580             MOV.W   @R1,R3                  ;
13359 00001E86                   4581     CONT_MD_CHK100:
13360                            4582     
13361 00001E86 D106              4583             MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13362 00001E88 2122              4584             MOV.L   R2,@R1                  ;
13363 00001E8A D106              4585             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13364 00001E8C 2131              4586             MOV.W   R3,@R1                  ;
13365                            4587     
13366                            4588             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13367 00001E8E D006                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13368 00001E90 400B                   M           JSR     @R0                     ;
13369 00001E92 0009                   M           NOP                                     ;
13370                            4589     
13371                            4590             SUB_END
13372                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13373 00001E94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   132
PROGRAM NAME =

13374                            4591             M_RTS
13375 00001E96 000B                   M           RTS                             ;RTSの後ろの
13376 00001E98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13377                            4592     
13378                            4593     ;       =====================================
13379                            4594     ;       ==== 2003-07-09に追加した起動ｸﾘｱ ====
13380                            4595     ;       =====================================
13381                                     ***** BEGIN-POOL *****
13382 00001E9A 0200                       DATA FOR SOURCE-LINE 4576
13383 00001E9C 00000000                   DATA FOR SOURCE-LINE 4579
13384 00001EA0 00000000                   DATA FOR SOURCE-LINE 4583
13385 00001EA4 00000000                   DATA FOR SOURCE-LINE 4585
13386 00001EA8 00000000                   DATA FOR SOURCE-LINE 4588
13387                                     ***** END-POOL *****
13388          00000002          4596     _EQ_CNT_DISP_STCNT      .EQU    2       ;
13389                            4597     
13390 00001EAC                   4598     _DRV_START_INI_NEW1:
13391                            4599             SUB_START
13392 00001EAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13394                            4600     ;       == 2003-07-09 ==
13395 00001EAE 200A              4601             XOR     R0,R0
13396 00001EB0 D109              4602             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
13397 00001EB2 2101              4603             MOV.W   R0,@R1                          ;
13398                            4604     
13399 00001EB4 D109              4605             MOV.L   #_PAR_ORGDRV_CNT,R1             ;
13400 00001EB6 6011              4606             MOV.W   @R1,R0                          ;
13401 00001EB8 D109              4607             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13402 00001EBA 2101              4608             MOV.W   R0,@R1                          ;
13403                            4609     
13404                            4610     ;       ======== 連続======
13405 00001EBC D109              4611             MOV.L   #_MODE_SEL,R1                   ;
13406 00001EBE 6011              4612             MOV.W   @R1,R0                          ;
13407 00001EC0 C808              4613             TST     #_W1CNT,R0                      ;
13408                            4614             TST_BIT_OF DRV_START_ININW1_050         ;
13409 00001EC2 8915                   M           BT      DRV_START_ININW1_050
13410                            4615     
13411 00001EC4 9006              4616             MOV.W   #_EQ_CNT_DISP_STCNT,R0          ;
13412 00001EC6 D108              4617             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13413 00001EC8 2101              4618             MOV.W   R0,@R1                          ;
13414                            4619     
13415 00001ECA 9004              4620             MOV.W   #BIT0,R0                        ;
13416 00001ECC D107              4621             MOV.L   #_CYCL_DSP_DISENB,R1;//0:表示 1:非表示 => 反転して出力
13417 00001ECE 2101              4622             MOV.W   R0,@R1
13418                            4623             M_BRA   DRV_START_ININW1_100
13419 00001ED0 A011                   M           BRA     DRV_START_ININW1_100
13420 00001ED2 0009                   M           NOP
13421                                     ***** BEGIN-POOL *****
13422 00001ED4 0002                       DATA FOR SOURCE-LINE 4616
13423 00001ED6 0001                       DATA FOR SOURCE-LINE 4620
13424 00001ED8 00000000                   DATA FOR SOURCE-LINE 4602
13425 00001EDC 00000000                   DATA FOR SOURCE-LINE 4605
13426 00001EE0 00000000                   DATA FOR SOURCE-LINE 4607
13427 00001EE4 00000000                   DATA FOR SOURCE-LINE 4611
13428 00001EE8 00000000                   DATA FOR SOURCE-LINE 4617
13429 00001EEC 00000000                   DATA FOR SOURCE-LINE 4621
13430                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   133
PROGRAM NAME =

13431 00001EF0                   4624     DRV_START_ININW1_050:
13432 00001EF0 200A              4625             XOR     R0,R0                           ;
13433 00001EF2 D102              4626             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13434 00001EF4 2101              4627             MOV.W   R0,@R1
13435 00001EF6                   4628     DRV_START_ININW1_100:
13436                            4629             SUB_END
13437                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13438 00001EF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13439                            4630             M_RTS
13440 00001EF8 000B                   M           RTS                             ;RTSの後ろの
13441 00001EFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13442                            4631     
13443                            4632     ;       ===================================
13444                            4633     ;       ==== 2003-07-09連続SPM表示開始  ===
13445                            4634     ;       ===================================
13446                                     ***** BEGIN-POOL *****
13447 00001EFC 00000000                   DATA FOR SOURCE-LINE 4626
13448                                     ***** END-POOL *****
13449 00001F00                   4635     _CNT_CYCL_DISP_ST:
13450                            4636             SUB_START
13451 00001F00 4F22                   M           STS.L   PR,@-R15                ;[必要]
13452                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13453 00001F02 200A              4637             XOR     R0,R0                           ;
13454 00001F04 D102              4638             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13455 00001F06 2101              4639             MOV.W   R0,@R1
13456                            4640             SUB_END
13457                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13458 00001F08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13459                            4641             M_RTS
13460 00001F0A 000B                   M           RTS                             ;RTSの後ろの
13461 00001F0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13462                            4642     ;       =====================================
13463                            4643     ;       ==== 2003-07-09連続SPM非表示条件  ===
13464                            4644     ;       =====================================
13465                                     ***** BEGIN-POOL *****
13466 00001F0E 0000                       ALIGNMENT CODE
13467 00001F10 00000000                   DATA FOR SOURCE-LINE 4638
13468                                     ***** END-POOL *****
13469 00001F14                   4645     _CNT_SPM_DISP_CHK:
13470                            4646             SUB_START
13471 00001F14 4F22                   M           STS.L   PR,@-R15                ;[必要]
13472                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13473 00001F16 D107              4647             MOV.L   #_MODE_SEL,R1                   ;
13474 00001F18 6011              4648             MOV.W   @R1,R0                          ;
13475 00001F1A C808              4649             TST     #_W1CNT,R0                      ;
13476                            4650             TST_BIT_OF CNT_SPM_DSPCK050             ;
13477 00001F1C 8906                   M           BT      CNT_SPM_DSPCK050
13478 00001F1E D106              4651             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13479 00001F20 6011              4652             MOV.W   @R1,R0                                  ;
13480 00001F22 2008              4653             TST     R0,R0                                           ;
13481                            4654             TST_BIT_OF CNT_SPM_DSPCK050             ;表示する
13482 00001F24 8902                   M           BT      CNT_SPM_DSPCK050
13483                            4655     
13484 00001F26 9004              4656             MOV.W   #BIT0,R0                                        ;
13485 00001F28 D104              4657             MOV.L   #_CYCL_DSP_DISENB,R1            ;1:非表示 => 反転して出力
13486 00001F2A 2101              4658             MOV.W   R0,@R1                          ;
13487                            4659     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   134
PROGRAM NAME =

13488 00001F2C                   4660     CNT_SPM_DSPCK050:
13489                            4661     
13490                            4662             SUB_END
13491                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13492 00001F2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13493                            4663             M_RTS
13494 00001F2E 000B                   M           RTS                             ;RTSの後ろの
13495 00001F30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13496                            4664     
13497                            4665     
13498                            4666     
13499                            4667     ;       ***********************************
13500                            4668     ;       ***                             ***
13501                            4669     ;       ***     終了処理の二重回路対策  ***
13502                            4670     ;       ***                             ***
13503                            4671     ;       ***********************************
13504                            4672     ;自分のやるべき事が終わったらこのチェックを行う
13505                            4673     ;       Output  R0=FF:終了
13506                            4674     ;               R0=0 :WAIT
13507                            4675     ;       "この処理が終わり上位でフラグをクリアする事"
13508                            4676     ;
13509                            4677     ;
13510                            4678             .EXPORT _CMPAB_NEAR_END_PROC    ;
13511                            4679             .EXPORT _CMPAB_STEP_END_PROC    ;
13512                            4680     
13513                            4681             .EXPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
13514                            4682             .EXPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
13515                            4683             .EXPORT _CMPSTP_POS_START_CLR;//起動したい
13516                            4684             .EXPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13517                            4685             .EXPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
13518                            4686             .EXPORT _CMPSTP_CNT_STOP_CLR;//連続停止
13519                            4687             .EXPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
13520                            4688             .EXPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13521                            4689             .EXPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13522                            4690     
13523                            4691             .EXPORT _CMPEMG_EXQ_FLG_CLR;//
13524                            4692             .EXPORT _POS_CMP_1STEP_START_INI
13525                            4693     
13526                                     ***** BEGIN-POOL *****
13527 00001F32 0001                       DATA FOR SOURCE-LINE 4656
13528 00001F34 00000000                   DATA FOR SOURCE-LINE 4647
13529 00001F38 00000000                   DATA FOR SOURCE-LINE 4651
13530 00001F3C 00000000                   DATA FOR SOURCE-LINE 4657
13531                                     ***** END-POOL *****
13532 00001F40                   4694     _CMPAB_NEAR_END_PROC
13533                            4695             SUB_START
13534 00001F40 4F22                   M           STS.L   PR,@-R15                ;[必要]
13535                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13536                            4696             PUSH_REG1 R5
13537 00001F42 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13538                                 M                                           ;REG=>[SP]
13539                                 M                                           ;"-4" FF,FF,FF,FC
13540 00001F44 D505              4697             MOV.L   #_CMPSTEP_NEAR_ZERO,R5          ;//ﾆｱｾﾞﾛ処理を行いたい
13541 00001F46 6051              4698             MOV.W   @R5,R0                          ;
13542 00001F48 2008              4699             TST     R0,R0                           ;
13543                            4700             TST_BIT_ON CMPAB_NEAR_END_PC_100        ;
13544 00001F4A 8B0B                   M           BF      CMPAB_NEAR_END_PC_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   135
PROGRAM NAME =

13545 00001F4C E001              4701             MOV     #BIT0,R0                        ;
13546 00001F4E 2501              4702             MOV.W   R0,@R5                          ;START FLG ON bit0
13547                            4703             FAR_JSR #_CPU_AB_NZR_ON_OUT,R0          ;R0,R1 USED
13548 00001F50 D003                   M           MOV.L   #_CPU_AB_NZR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13549 00001F52 400B                   M           JSR     @R0                     ;
13550 00001F54 0009                   M           NOP                                     ;
13551                            4704             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13552 00001F56 A029                   M           BRA     CMPAB_NEAR_END_PC_NG
13553 00001F58 0009                   M           NOP
13554                            4705     
13555                            4706     ;       ===== 処理開始 =========
13556                                     ***** BEGIN-POOL *****
13557 00001F5A 0000                       ALIGNMENT CODE
13558 00001F5C 00000000                   DATA FOR SOURCE-LINE 4697
13559 00001F60 00000000                   DATA FOR SOURCE-LINE 4703
13560                                     ***** END-POOL *****
13561 00001F64                   4707     CMPAB_NEAR_END_PC_100:
13562 00001F64 6051              4708             MOV.W   @R5,R0                          ;
13563 00001F66 C802              4709             TST     #BIT1,R0                        ;
13564                            4710             TST_BIT_ON CMPAB_NEAR_END_PC_200        ;
13565 00001F68 8B10                   M           BF      CMPAB_NEAR_END_PC_200
13566                            4711             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;R0 !=0 END
13567 00001F6A D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13568 00001F6C 400B                   M           JSR     @R0                     ;
13569 00001F6E 0009                   M           NOP                                     ;
13570 00001F70 2008              4712             TST     R0,R0                           ;
13571                            4713             TST_BIT_OF CMPAB_NEAR_END_PC_NG         ;CPU-Bまだ処理中
13572 00001F72 891B                   M           BT      CMPAB_NEAR_END_PC_NG
13573 00001F74 6051              4714             MOV.W   @R5,R0                          ;
13574 00001F76 CB02              4715             OR      #BIT1,R0                        ;
13575 00001F78 2501              4716             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13576                            4717             FAR_JSR #_CPU_BA_NZR_OF_OUT,R0          ;CPU-B信号ｸﾘｱ
13577 00001F7A D003                   M           MOV.L   #_CPU_BA_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13578 00001F7C 400B                   M           JSR     @R0                     ;
13579 00001F7E 0009                   M           NOP                                     ;
13580                            4718             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13581 00001F80 A014                   M           BRA     CMPAB_NEAR_END_PC_NG
13582 00001F82 0009                   M           NOP
13583                            4719     
13584                                     ***** BEGIN-POOL *****
13585 00001F84 00000000                   DATA FOR SOURCE-LINE 4711
13586 00001F88 00000000                   DATA FOR SOURCE-LINE 4717
13587                                     ***** END-POOL *****
13588 00001F8C                   4720     CMPAB_NEAR_END_PC_200:
13589 00001F8C 6051              4721             MOV.W   @R5,R0                          ;
13590 00001F8E C804              4722             TST     #BIT2,R0                        ;(完了状態)
13591                            4723             TST_BIT_ON CMPAB_NEAR_END_PC_OK         ;
13592 00001F90 8B07                   M           BF      CMPAB_NEAR_END_PC_OK
13593                            4724     
13594                            4725             FAR_JSR #_CPU_AB_NZR_OF_JG,R0           ;R0=0;完了
13595 00001F92 D005                   M           MOV.L   #_CPU_AB_NZR_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13596 00001F94 400B                   M           JSR     @R0                     ;
13597 00001F96 0009                   M           NOP                                     ;
13598 00001F98 2008              4726             TST     R0,R0                           ;
13599                            4727             TST_BIT_ON CMPAB_NEAR_END_PC_NG         ;自分の信号がｸﾘｱされていない
13600 00001F9A 8B07                   M           BF      CMPAB_NEAR_END_PC_NG
13601 00001F9C 6051              4728             MOV.W   @R5,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   136
PROGRAM NAME =

13602 00001F9E CB04              4729             OR      #BIT2,R0                        ;
13603 00001FA0 2501              4730             MOV.W   R0,@R5                          ;
13604 00001FA2                   4731     CMPAB_NEAR_END_PC_OK:
13605 00001FA2 E0FF              4732             MOV     #-1,R0                          ;
13606                            4733             M_BRA   CMPAB_NEAR_END_PC_ED            ;
13607 00001FA4 A003                   M           BRA     CMPAB_NEAR_END_PC_ED
13608 00001FA6 0009                   M           NOP
13609                            4734     
13610                                     ***** BEGIN-POOL *****
13611 00001FA8 00000000                   DATA FOR SOURCE-LINE 4725
13612                                     ***** END-POOL *****
13613 00001FAC                   4735     CMPAB_NEAR_END_PC_NG:
13614 00001FAC 200A              4736             XOR     R0,R0                   ;
13615 00001FAE                   4737     CMPAB_NEAR_END_PC_ED:
13616                            4738             POP_REG1 R5                     ;
13617                                 M                                   ; RE"+4" 00,00,00,04
13618 00001FAE 65F6                   M           MOV.L   @R15+,R5        ;
13619                            4739             SUB_END
13620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13621 00001FB0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13622                            4740             M_RTS
13623 00001FB2 000B                   M           RTS                             ;RTSの後ろの
13624 00001FB4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13625                            4741     
13626                            4742     
13627                            4743             .MACRO  CMPAB_STEP_END_MAC FLG,ABON_OUT,BAON_JG,BAOF_OUT,ABOF_JG
13628                            4744             PUSH_REG1 R5
13629                            4745             MOV.L   #\FLG,R5                        ;//ﾆｱｾﾞﾛ処理を行いたい
13630                            4746             MOV.W   @R5,R0                          ;
13631                            4747             TST     R0,R0                           ;
13632                            4748             TST_BIT_ON JMP100\@                     ;
13633                            4749             MOV     #BIT0,R0                        ;
13634                            4750             MOV.W   R0,@R5                          ;START FLG ON bit0
13635                            4751             FAR_JSR #\ABON_OUT,R0                   ;R0,R1 USED
13636                            4752             M_BRA   JMP_NG\@                        ;
13637                            4753     
13638                            4754     ;       ===== 処理開始 =========
13639                            4755     JMP100\@:
13640                            4756             MOV.W   @R5,R0                          ;
13641                            4757             TST     #BIT1,R0                        ;
13642                            4758             TST_BIT_ON JMP200\@                     ;
13643                            4759     
13644                            4760             FAR_JSR #\BAON_JG,R0                    ;R0 !=0 END
13645                            4761             TST     R0,R0                           ;
13646                            4762             TST_BIT_OF JMP_NG\@                     ;CPU-Bまだ処理中
13647                            4763             MOV.W   @R5,R0                          ;
13648                            4764             OR      #BIT1,R0                        ;
13649                            4765             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13650                            4766             FAR_JSR #\BAOF_OUT,R0                   ;CPU-B信号ｸﾘｱ
13651                            4767             M_BRA   JMP_NG\@
13652                            4768     
13653                            4769     JMP200\@:
13654                            4770             MOV.W   @R5,R0                          ;
13655                            4771             TST     #BIT2,R0                        ;(完了状態)
13656                            4772             TST_BIT_ON JMP_OK\@                     ;
13657                            4773     
13658                            4774             FAR_JSR #\ABOF_JG,R0            ;R0=0;完了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   137
PROGRAM NAME =

13659                            4775             TST     R0,R0                           ;
13660                            4776             TST_BIT_ON JMP_NG\@             ;自分の信号がｸﾘｱされていない
13661                            4777             MOV.W   @R5,R0                          ;
13662                            4778             OR      #BIT2,R0                        ;
13663                            4779             MOV.W   R0,@R5                          ;
13664                            4780     JMP_OK\@:
13665                            4781             MOV     #-1,R0                          ;
13666                            4782             M_BRA   JMP_ED\@
13667                            4783     
13668                            4784     JMP_NG\@:
13669                            4785             XOR     R0,R0                   ;
13670                            4786     JMP_ED\@:
13671                            4787             POP_REG1 R5                     ;
13672                            4788             .ENDM
13673                            4789     
13674                            4790     
13675 00001FB6                   4791     _CMPAB_STEP_END_PROC
13676                            4792             SUB_START
13677 00001FB6 4F22                   M           STS.L   PR,@-R15                ;[必要]
13678                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13679                            4793             CMPAB_STEP_END_MAC FLG=         _CMPSTEP_STEP_END
13680                            4794     +                       ,ABON_OUT=      _CPU_AB_CED_ON_OUT
13681                            4795     +                       ,BAON_JG=       _CPU_BA_CED_ON_JG
13682                            4796     +                       ,BAOF_OUT=      _CPU_BA_CED_OF_OUT
13683                            4797     +                       ,ABOF_JG=       _CPU_AB_CED_OF_JG
13684                                 M           PUSH_REG1 R5
13685 00001FB8 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13686                                 M                                           ;REG=>[SP]
13687                                 M                                           ;"-4" FF,FF,FF,FC
13688 00001FBA D505                   M           MOV.L   #_CMPSTEP_STEP_END,R5                   ;//ﾆｱｾﾞﾛ処理を行いたい
13689 00001FBC 6051                   M           MOV.W   @R5,R0                          ;
13690 00001FBE 2008                   M           TST     R0,R0                           ;
13691                                 M           TST_BIT_ON JMP10000000                  ;
13692 00001FC0 8B0A                   M           BF      JMP10000000
13693 00001FC2 E001                   M           MOV     #BIT0,R0                        ;
13694 00001FC4 2501                   M           MOV.W   R0,@R5                          ;START FLG ON bit0
13695                                 M           FAR_JSR #_CPU_AB_CED_ON_OUT,R0                  ;R0,R1 USED
13696 00001FC6 D003                   M           MOV.L   #_CPU_AB_CED_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13697 00001FC8 400B                   M           JSR     @R0                     ;
13698 00001FCA 0009                   M           NOP                                     ;
13699                                 M           M_BRA   JMP_NG00000                     ;
13700 00001FCC A028                   M           BRA     JMP_NG00000
13701 00001FCE 0009                   M           NOP
13702                                 M   
13703                                 M   ;       ===== 処理開始 =========
13704                                 M   ***** BEGIN-POOL *****
13705 00001FD0 00000000               M   DATA FOR SOURCE-LINE 4793
13706 00001FD4 00000000               M   DATA FOR SOURCE-LINE 4793
13707                                 M   ***** END-POOL *****
13708 00001FD8                        M   JMP10000000:
13709 00001FD8 6051                   M           MOV.W   @R5,R0                          ;
13710 00001FDA C802                   M           TST     #BIT1,R0                        ;
13711                                 M           TST_BIT_ON JMP20000000                  ;
13712 00001FDC 8B10                   M           BF      JMP20000000
13713                                 M   
13714                                 M           FAR_JSR #_CPU_BA_CED_ON_JG,R0                   ;R0 !=0 END
13715 00001FDE D006                   M           MOV.L   #_CPU_BA_CED_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   138
PROGRAM NAME =

13716 00001FE0 400B                   M           JSR     @R0                     ;
13717 00001FE2 0009                   M           NOP                                     ;
13718 00001FE4 2008                   M           TST     R0,R0                           ;
13719                                 M           TST_BIT_OF JMP_NG00000                  ;CPU-Bまだ処理中
13720 00001FE6 891B                   M           BT      JMP_NG00000
13721 00001FE8 6051                   M           MOV.W   @R5,R0                          ;
13722 00001FEA CB02                   M           OR      #BIT1,R0                        ;
13723 00001FEC 2501                   M           MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13724                                 M           FAR_JSR #_CPU_BA_CED_OF_OUT,R0                  ;CPU-B信号ｸﾘｱ
13725 00001FEE D003                   M           MOV.L   #_CPU_BA_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13726 00001FF0 400B                   M           JSR     @R0                     ;
13727 00001FF2 0009                   M           NOP                                     ;
13728                                 M           M_BRA   JMP_NG00000
13729 00001FF4 A014                   M           BRA     JMP_NG00000
13730 00001FF6 0009                   M           NOP
13731                                 M   
13732                                 M   ***** BEGIN-POOL *****
13733 00001FF8 00000000               M   DATA FOR SOURCE-LINE 4793
13734 00001FFC 00000000               M   DATA FOR SOURCE-LINE 4793
13735                                 M   ***** END-POOL *****
13736 00002000                        M   JMP20000000:
13737 00002000 6051                   M           MOV.W   @R5,R0                          ;
13738 00002002 C804                   M           TST     #BIT2,R0                        ;(完了状態)
13739                                 M           TST_BIT_ON JMP_OK00000                  ;
13740 00002004 8B07                   M           BF      JMP_OK00000
13741                                 M   
13742                                 M           FAR_JSR #_CPU_AB_CED_OF_JG,R0           ;R0=0;完了
13743 00002006 D005                   M           MOV.L   #_CPU_AB_CED_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13744 00002008 400B                   M           JSR     @R0                     ;
13745 0000200A 0009                   M           NOP                                     ;
13746 0000200C 2008                   M           TST     R0,R0                           ;
13747                                 M           TST_BIT_ON JMP_NG00000          ;自分の信号がｸﾘｱされていない
13748 0000200E 8B07                   M           BF      JMP_NG00000
13749 00002010 6051                   M           MOV.W   @R5,R0                          ;
13750 00002012 CB04                   M           OR      #BIT2,R0                        ;
13751 00002014 2501                   M           MOV.W   R0,@R5                          ;
13752 00002016                        M   JMP_OK00000:
13753 00002016 E0FF                   M           MOV     #-1,R0                          ;
13754                                 M           M_BRA   JMP_ED00000
13755 00002018 A003                   M           BRA     JMP_ED00000
13756 0000201A 0009                   M           NOP
13757                                 M   
13758                                 M   ***** BEGIN-POOL *****
13759 0000201C 00000000               M   DATA FOR SOURCE-LINE 4793
13760                                 M   ***** END-POOL *****
13761 00002020                        M   JMP_NG00000:
13762 00002020 200A                   M           XOR     R0,R0                   ;
13763 00002022                        M   JMP_ED00000:
13764                                 M           POP_REG1 R5                     ;
13765                                 M                                   ; RE"+4" 00,00,00,04
13766 00002022 65F6                   M           MOV.L   @R15+,R5        ;
13767                            4798             SUB_END
13768                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13769 00002024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13770                            4799             M_RTS
13771 00002026 000B                   M           RTS                             ;RTSの後ろの
13772 00002028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   139
PROGRAM NAME =

13773                            4800     
13774                            4801     
13775                            4802     ;
13776                            4803     ;
13777                            4804     ;
13778 0000202A                   4805     _CMPSTP_CTRL_REDY_CLR:;//準備完了にしたいをOFF
13779                            4806             SUB_START
13780 0000202A 4F22                   M           STS.L   PR,@-R15                ;[必要]
13781                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13782                            4807             FAR_JSR #_CPU_AB_RDY_OF_OUT,R0
13783 0000202C D004                   M           MOV.L   #_CPU_AB_RDY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13784 0000202E 400B                   M           JSR     @R0                     ;
13785 00002030 0009                   M           NOP                                     ;
13786 00002032 D104              4808             MOV.L   #_CMPSTEP_CTRL_REDY,R1;//準備完了にしたくない<<完了・未完了は共通で1:完了
                                          0:>>
13787 00002034 200A              4809             XOR     R0,R0
13788 00002036 2101              4810             MOV.W   R0,@R1
13789                            4811             SUB_END
13790                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13791 00002038 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13792                            4812             M_RTS
13793 0000203A 000B                   M           RTS                             ;RTSの後ろの
13794 0000203C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13795                            4813     
13796                                     ***** BEGIN-POOL *****
13797 0000203E 0000                       ALIGNMENT CODE
13798 00002040 00000000                   DATA FOR SOURCE-LINE 4807
13799 00002044 00000000                   DATA FOR SOURCE-LINE 4808
13800                                     ***** END-POOL *****
13801 00002048                   4814     _CMPSTP_CTRL_BUSY_CLR:;//準備未完了にしたいをOFF
13802                            4815             SUB_START
13803 00002048 4F22                   M           STS.L   PR,@-R15                ;[必要]
13804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13805                            4816             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0
13806 0000204A D004                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13807 0000204C 400B                   M           JSR     @R0                     ;
13808 0000204E 0009                   M           NOP                                     ;
13809 00002050 D103              4817             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたくない
13810 00002052 200A              4818             XOR     R0,R0
13811 00002054 2101              4819             MOV.W   R0,@R1
13812                            4820             SUB_END
13813                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13814 00002056 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13815                            4821             M_RTS
13816 00002058 000B                   M           RTS                             ;RTSの後ろの
13817 0000205A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13818                            4822     
13819                                     ***** BEGIN-POOL *****
13820 0000205C 00000000                   DATA FOR SOURCE-LINE 4816
13821 00002060 00000000                   DATA FOR SOURCE-LINE 4817
13822                                     ***** END-POOL *****
13823 00002064                   4823     _CMPSTP_POS_START_CLR:;//起動したいをOFF
13824                            4824             SUB_START
13825 00002064 4F22                   M           STS.L   PR,@-R15                ;[必要]
13826                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13827                            4825             FAR_JSR #_CPU_AB_STR_OF_OUT,R0
13828 00002066 D004                   M           MOV.L   #_CPU_AB_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   140
PROGRAM NAME =

13829 00002068 400B                   M           JSR     @R0                     ;
13830 0000206A 0009                   M           NOP                                     ;
13831 0000206C D103              4826             MOV.L   #_CMPSTEP_POS_START,R1;//起動したいくない
13832 0000206E 200A              4827             XOR     R0,R0
13833 00002070 2101              4828             MOV.W   R0,@R1
13834                            4829             SUB_END
13835                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13836 00002072 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13837                            4830             M_RTS
13838 00002074 000B                   M           RTS                             ;RTSの後ろの
13839 00002076 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13840                            4831     
13841                                     ***** BEGIN-POOL *****
13842 00002078 00000000                   DATA FOR SOURCE-LINE 4825
13843 0000207C 00000000                   DATA FOR SOURCE-LINE 4826
13844                                     ***** END-POOL *****
13845 00002080                   4832     _CMPSTP_SFTY_AUTO_CLR:;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13846                            4833             SUB_START
13847 00002080 4F22                   M           STS.L   PR,@-R15                ;[必要]
13848                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13849                            4834     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13850                            4835             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13851 00002082 D006                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13852 00002084 400B                   M           JSR     @R0                     ;
13853 00002086 0009                   M           NOP                                     ;
13854                            4836             FAR_JSR #_CPU_BA_DRVSTOP_OF_OUT,R0      ;相手側CLR
13855 00002088 D005                   M           MOV.L   #_CPU_BA_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13856 0000208A 400B                   M           JSR     @R0                     ;
13857 0000208C 0009                   M           NOP                                     ;
13858                            4837     
13859 0000208E D105              4838             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13860 00002090 200A              4839             XOR     R0,R0
13861 00002092 2101              4840             MOV.W   R0,@R1
13862                            4841             SUB_END
13863                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13864 00002094 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13865                            4842             M_RTS
13866 00002096 000B                   M           RTS                             ;RTSの後ろの
13867 00002098 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13868                            4843     
13869                                     ***** BEGIN-POOL *****
13870 0000209A 0000                       ALIGNMENT CODE
13871 0000209C 00000000                   DATA FOR SOURCE-LINE 4835
13872 000020A0 00000000                   DATA FOR SOURCE-LINE 4836
13873 000020A4 00000000                   DATA FOR SOURCE-LINE 4838
13874                                     ***** END-POOL *****
13875 000020A8                   4844     _CMPSTP_NEAR_ZERO_CLR:;//ﾆｱｾﾞﾛ処理を行いたい
13876                            4845             SUB_START
13877 000020A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13878                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13879                            4846             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0
13880 000020AA D004                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13881 000020AC 400B                   M           JSR     @R0                     ;
13882 000020AE 0009                   M           NOP                                     ;
13883 000020B0 D103              4847             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13884 000020B2 200A              4848             XOR     R0,R0
13885 000020B4 2101              4849             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   141
PROGRAM NAME =

13886                            4850             SUB_END
13887                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13888 000020B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13889                            4851             M_RTS
13890 000020B8 000B                   M           RTS                             ;RTSの後ろの
13891 000020BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13892                            4852     
13893                                     ***** BEGIN-POOL *****
13894 000020BC 00000000                   DATA FOR SOURCE-LINE 4846
13895 000020C0 00000000                   DATA FOR SOURCE-LINE 4847
13896                                     ***** END-POOL *****
13897 000020C4                   4853     _CMPSTP_CNT_STOP_CLR:;//連続停止
13898                            4854             SUB_START
13899 000020C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13900                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13901                            4855             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13902 000020C6 D006                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13903 000020C8 400B                   M           JSR     @R0                     ;
13904 000020CA 0009                   M           NOP                                     ;
13905                            4856             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13906 000020CC D005                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13907 000020CE 400B                   M           JSR     @R0                     ;
13908 000020D0 0009                   M           NOP                                     ;
13909 000020D2 D105              4857             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13910 000020D4 200A              4858             XOR     R0,R0
13911 000020D6 2101              4859             MOV.W   R0,@R1
13912                            4860             SUB_END
13913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13914 000020D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13915                            4861             M_RTS
13916 000020DA 000B                   M           RTS                             ;RTSの後ろの
13917 000020DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13918                            4862     
13919                                     ***** BEGIN-POOL *****
13920 000020DE 0000                       ALIGNMENT CODE
13921 000020E0 00000000                   DATA FOR SOURCE-LINE 4855
13922 000020E4 00000000                   DATA FOR SOURCE-LINE 4856
13923 000020E8 00000000                   DATA FOR SOURCE-LINE 4857
13924                                     ***** END-POOL *****
13925 000020EC                   4863     _CMPSTP_STEP_END_CLR:;//位置決め完了としたい
13926                            4864             SUB_START
13927 000020EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13928                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13929                            4865             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13930 000020EE D004                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13931 000020F0 400B                   M           JSR     @R0                     ;
13932 000020F2 0009                   M           NOP                                     ;
13933 000020F4 D103              4866             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13934 000020F6 200A              4867             XOR     R0,R0
13935 000020F8 2101              4868             MOV.W   R0,@R1
13936                            4869             SUB_END
13937                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13938 000020FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13939                            4870             M_RTS
13940 000020FC 000B                   M           RTS                             ;RTSの後ろの
13941 000020FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13942                            4871     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   142
PROGRAM NAME =

13943                            4872     ;       ***************************
13944                            4873     ;       ***     EMG/EXQ         ***
13945                            4874     ;       ***************************
13946                                     ***** BEGIN-POOL *****
13947 00002100 00000000                   DATA FOR SOURCE-LINE 4865
13948 00002104 00000000                   DATA FOR SOURCE-LINE 4866
13949                                     ***** END-POOL *****
13950 00002108                   4875     _CMPEMG_EXQ_FLG_CLR:
13951                            4876             SUB_START
13952 00002108 4F22                   M           STS.L   PR,@-R15                ;[必要]
13953                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13954                            4877             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
13955 0000210A D014                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13956 0000210C 400B                   M           JSR     @R0                     ;
13957 0000210E 0009                   M           NOP                                     ;
13958                            4878             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
13959 00002110 D013                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13960 00002112 400B                   M           JSR     @R0                     ;
13961 00002114 0009                   M           NOP                                     ;
13962                            4879     
13963                            4880             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0  ;
13964 00002116 D013                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13965 00002118 400B                   M           JSR     @R0                     ;
13966 0000211A 0009                   M           NOP                                     ;
13967                            4881     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13968                            4882             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13969 0000211C D012                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13970 0000211E 400B                   M           JSR     @R0                     ;
13971 00002120 0009                   M           NOP                                     ;
13972                            4883     
13973                            4884             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0  ;
13974 00002122 D012                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13975 00002124 400B                   M           JSR     @R0                     ;
13976 00002126 0009                   M           NOP                                     ;
13977                            4885             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13978 00002128 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13979 0000212A 400B                   M           JSR     @R0                     ;
13980 0000212C 0009                   M           NOP                                     ;
13981                            4886             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13982 0000212E D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13983 00002130 400B                   M           JSR     @R0                     ;
13984 00002132 0009                   M           NOP                                     ;
13985                            4887             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13986 00002134 D010                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13987 00002136 400B                   M           JSR     @R0                     ;
13988 00002138 0009                   M           NOP                                     ;
13989                            4888     
13990 0000213A 200A              4889             XOR     R0,R0
13991 0000213C D10F              4890             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたい
13992 0000213E 2101              4891             MOV.W   R0,@R1
13993 00002140 D10F              4892             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13994 00002142 2101              4893             MOV.W   R0,@R1
13995 00002144 D10F              4894             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13996 00002146 2101              4895             MOV.W   R0,@R1
13997 00002148 D10F              4896             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13998 0000214A 2101              4897             MOV.W   R0,@R1
13999 0000214C D10F              4898             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   143
PROGRAM NAME =

14000 0000214E 2101              4899             MOV.W   R0,@R1
14001                            4900     
14002                            4901     ;       == 2004-12-20 ==
14003 00002150 D10F              4902             MOV.L   #_CNT_BANK_CALC_ERR,R1
14004 00002152 2101              4903             MOV.W   R0,@R1
14005                            4904     
14006                            4905     
14007                            4906             SUB_END
14008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14009 00002154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14010                            4907             M_RTS
14011 00002156 000B                   M           RTS                             ;RTSの後ろの
14012 00002158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14013                            4908     
14014                            4909     ;       ***************************
14015                            4910     ;       ***     開始時          ***
14016                            4911     ;       ***     START           ***
14017                            4912     ;       ***************************
14018                                     ***** BEGIN-POOL *****
14019 0000215A 0000                       ALIGNMENT CODE
14020 0000215C 00000000                   DATA FOR SOURCE-LINE 4877
14021 00002160 00000000                   DATA FOR SOURCE-LINE 4878
14022 00002164 00000000                   DATA FOR SOURCE-LINE 4880
14023 00002168 00000000                   DATA FOR SOURCE-LINE 4882
14024 0000216C 00000000                   DATA FOR SOURCE-LINE 4884
14025 00002170 00000000                   DATA FOR SOURCE-LINE 4885
14026 00002174 00000000                   DATA FOR SOURCE-LINE 4886
14027 00002178 00000000                   DATA FOR SOURCE-LINE 4887
14028 0000217C 00000000                   DATA FOR SOURCE-LINE 4890
14029 00002180 00000000                   DATA FOR SOURCE-LINE 4892
14030 00002184 00000000                   DATA FOR SOURCE-LINE 4894
14031 00002188 00000000                   DATA FOR SOURCE-LINE 4896
14032 0000218C 00000000                   DATA FOR SOURCE-LINE 4898
14033 00002190 00000000                   DATA FOR SOURCE-LINE 4902
14034                                     ***** END-POOL *****
14035 00002194                   4913     _CMPCYC_START_CLR:
14036                            4914             SUB_START
14037 00002194 4F22                   M           STS.L   PR,@-R15                ;[必要]
14038                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14039                            4915             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
14040 00002196 D004                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14041 00002198 400B                   M           JSR     @R0                     ;
14042 0000219A 0009                   M           NOP                                     ;
14043                            4916             FAR_JSR #_CMPSTP_SFTY_AUTO_CLR,R0;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
14044 0000219C D003                   M           MOV.L   #_CMPSTP_SFTY_AUTO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14045 0000219E 400B                   M           JSR     @R0                     ;
14046 000021A0 0009                   M           NOP                                     ;
14047                            4917             SUB_END
14048                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14049 000021A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14050                            4918             M_RTS
14051 000021A4 000B                   M           RTS                             ;RTSの後ろの
14052 000021A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14053                            4919     
14054                            4920     ;       ***********************************
14055                            4921     ;       ***     終了前                  ***
14056                            4922     ;       ***     起動に必要な信号の準備  ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   144
PROGRAM NAME =

14057                            4923     ;       ***********************************
14058                                     ***** BEGIN-POOL *****
14059 000021A8 00000000                   DATA FOR SOURCE-LINE 4915
14060 000021AC 00000000                   DATA FOR SOURCE-LINE 4916
14061                                     ***** END-POOL *****
14062 000021B0                   4924     _CMPCYC_END_CLR:
14063                            4925             SUB_START
14064 000021B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14065                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14066                            4926             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたい
14067 000021B2 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14068 000021B4 400B                   M           JSR     @R0                     ;
14069 000021B6 0009                   M           NOP                                     ;
14070                            4927             FAR_JSR #_CMPSTP_CTRL_BUSY_CLR,R0;//準備未完了にしたい
14071 000021B8 D005                   M           MOV.L   #_CMPSTP_CTRL_BUSY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14072 000021BA 400B                   M           JSR     @R0                     ;
14073 000021BC 0009                   M           NOP                                     ;
14074                            4928             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したい
14075 000021BE D005                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14076 000021C0 400B                   M           JSR     @R0                     ;
14077 000021C2 0009                   M           NOP                                     ;
14078                            4929             SUB_END
14079                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14080 000021C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14081                            4930             M_RTS
14082 000021C6 000B                   M           RTS                             ;RTSの後ろの
14083 000021C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14084                            4931     
14085                            4932     ;       ***********************************
14086                            4933     ;       ***                             ***
14087                            4934     ;       ***     1つのｽﾃｯﾌﾟの起動時      ***
14088                            4935     ;       ***                             ***
14089                            4936     ;       ***********************************
14090                                     ***** BEGIN-POOL *****
14091 000021CA 0000                       ALIGNMENT CODE
14092 000021CC 00000000                   DATA FOR SOURCE-LINE 4926
14093 000021D0 00000000                   DATA FOR SOURCE-LINE 4927
14094 000021D4 00000000                   DATA FOR SOURCE-LINE 4928
14095                                     ***** END-POOL *****
14096 000021D8                   4937     _POS_CMP_1STEP_START_INI:
14097                            4938             SUB_START
14098 000021D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14099                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14100                            4939             FAR_JSR #_CMPSTP_STEP_END_CLR,R0;//位置決め完了としたい
14101 000021DA D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14102 000021DC 400B                   M           JSR     @R0                     ;
14103 000021DE 0009                   M           NOP                                     ;
14104                            4940             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾆｱｾﾞﾛ処理を行いたい
14105 000021E0 D00A                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14106 000021E2 400B                   M           JSR     @R0                     ;
14107 000021E4 0009                   M           NOP                                     ;
14108                            4941             FAR_JSR #_FUL_DATA_INIT,R0                      ;
14109 000021E6 D00A                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14110 000021E8 400B                   M           JSR     @R0                     ;
14111 000021EA 0009                   M           NOP                                     ;
14112 000021EC 200A              4942             XOR     R0,R0                                   ;
14113 000021EE D109              4943             MOV.L   #_NEAR_IN_FLG,R1                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   145
PROGRAM NAME =

14114 000021F0 2101              4944             MOV.W   R0,@R1                                  ;
14115                            4945     
14116                            4946             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
14117 000021F2 D009                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14118 000021F4 400B                   M           JSR     @R0                     ;
14119 000021F6 0009                   M           NOP                                     ;
14120                            4947     
14121                            4948     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
14122                            4949             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
14123 000021F8 D108                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
14124 000021FA 6011                   M           MOV.W   @R1,R0          ;
14125 000021FC C9FE                   M           AND     #LOW ~BIT0,R0           ;
14126 000021FE 2101                   M           MOV.W   R0,@R1          ;
14127                            4950     
14128                            4951     
14129                            4952             SUB_END
14130                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14131 00002200 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14132                            4953             M_RTS
14133 00002202 000B                   M           RTS                             ;RTSの後ろの
14134 00002204 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14135                            4954     
14136                            4955     ;       ***********************************
14137                            4956     ;       **      ステップ表示            ***
14138                            4957     ;       ***********************************
14139                            4958     ;       ５段仕様は段数によらず最終工程は６行程目＋BIT15
14140                            4959     ;       10段仕様は段数によらず最終工程は１１行程目＋BIT15
14141                            4960     ;
14142                            4961     ;
14143                                     ***** BEGIN-POOL *****
14144 00002206 0000                       ALIGNMENT CODE
14145 00002208 00000000                   DATA FOR SOURCE-LINE 4939
14146 0000220C 00000000                   DATA FOR SOURCE-LINE 4940
14147 00002210 00000000                   DATA FOR SOURCE-LINE 4941
14148 00002214 00000000                   DATA FOR SOURCE-LINE 4943
14149 00002218 00000000                   DATA FOR SOURCE-LINE 4946
14150 0000221C 00000000                   DATA FOR SOURCE-LINE 4949
14151                                     ***** END-POOL *****
14152 00002220                   4962     _STEP_SIG_DSP_CLR;
14153                            4963             SUB_START
14154 00002220 4F22                   M           STS.L   PR,@-R15                ;[必要]
14155                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14156 00002222 244A              4964             XOR     R4,R4           ;210.0~210.15
14157 00002224 266A              4965             XOR     R6,R6           ;2015-10-01 100段
14158                            4966             M_BRA   STEP_SIG_DSP200
14159 00002226 A017                   M           BRA     STEP_SIG_DSP200
14160 00002228 0009                   M           NOP
14161                            4967     
14162 0000222A                   4968     _STEP_SIG_DISP;
14163                            4969             SUB_START
14164 0000222A 4F22                   M           STS.L   PR,@-R15                ;[必要]
14165                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14166                            4970     
14167                            4971     ;;;;;;  10段でも100段でもこっち
14168                            4972     ;;;;;;  XOR     R5,R5
14169                            4973     ;;;;;;  XOR     R6,R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   146
PROGRAM NAME =

14170                            4974     ;;;;;;  MOV.L   #_SYS_100STEP_USE,R1    ;//100段ｿﾌﾄ
14171                            4975     ;;;;;;  MOV.W   @R1,R0                  ;
14172                            4976     ;;;;;;  TST     R0,R0                   ;
14173                            4977     ;;;;;;  TST_BIT_OF STEP_SIG_DSP050      ;
14174                            4978     
14175 0000222C 255A              4979             XOR     R5,R5                   ;
14176 0000222E D108              4980             MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
14177 00002230 6011              4981             MOV.W   @R1,R0                  ;
14178 00002232 D108              4982             MOV.L   #_CPOS_STEP_MAX,R1      ;
14179 00002234 6411              4983             MOV.W   @R1,R4                  ;
14180 00002236 7401              4984             ADD     #1,R4                   ;
14181 00002238 3042              4985             CMP/HS  R4,R0                   ;
14182 0000223A 8B01              4986             BF      STEP_SIG_DSP020         ;
14183                            4987     
14184 0000223C 9005              4988             MOV.W   #D'100,R0               ;戻り行程は100
14185 0000223E 9505              4989             MOV.W   #BIT15,R5               ;
14186                            4990     
14187 00002240                   4991     STEP_SIG_DSP020                         ;
14188 00002240 6603              4992             MOV     R0,R6                   ;0,1~98,100
14189 00002242 250B              4993             OR      R0,R5                   ;BIT15+ 0,1~98,100
14190 00002244 6453              4994             MOV     R5,R4                   ;
14191                            4995             M_BRA   STEP_SIG_DSP200         ;OUTPUT　行程数R4,[*表示]R6
14192 00002246 A007                   M           BRA     STEP_SIG_DSP200
14193 00002248 0009                   M           NOP
14194                            4996     
14195                            4997     
14196                            4998     ;;;;;;;;2015-10-25;     ----------- 5/10段仕様----------
14197                            4999     ;;;;;;;;2015-10-25STEP_SIG_DSP030                               ;
14198                            5000     ;;;;;;;;2015-10-25      MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
14199                            5001     ;;;;;;;;2015-10-25      MOV.W   @R1,R0                  ;
14200                            5002     ;;;;;;;;2015-10-25      MOV.L   #_CPOS_STEP_MAX,R1      ;
14201                            5003     ;;;;;;;;2015-10-25      MOV.W   @R1,R4                  ;
14202                            5004     ;;;;;;;;2015-10-25      ADD     #1,R4                   ;
14203                            5005     ;;;;;;;;2015-10-25      CMP/HS  R4,R0                   ;
14204                            5006     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP100         ;
14205                            5007     ;;;;;;;;2015-10-25
14206                            5008     ;;;;;;;;2015-10-25;     ==== 最終工程==
14207                            5009     ;;;;;;;;2015-10-25      MOV.L   #_WFSYS_MAX_STEP_SEL,R1 ;2004-01-26
14208                            5010     ;;;;;;;;2015-10-25      MOV.W   @R1,R0                  ;
14209                            5011     ;;;;;;;;2015-10-25      CMP/EQ  #1,R0                   ;
14210                            5012     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP050         ;
14211                            5013     ;;;;;;;;2015-10-25
14212                            5014     ;;;;;;;;2015-10-25      MOV.W   #_EQ_STEP_MAX+1,R0      ;1~5の時は2~6
14213                            5015     ;;;;;;;;2015-10-25      CMP/HI  R0,R4                   ;5+1 < MAX+1
14214                            5016     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP050         ;NO MAX=1~5
14215                            5017     ;;;;;;;;2015-10-25
14216                            5018     ;;;;;;;;2015-10-25      MOV.W   #(BIT15+BIT10),R4       ;"*"はBIT10
14217                            5019     ;;;;;;;;2015-10-25      M_BRA   STEP_SIG_DSP200         ;
14218                            5020     ;;;;;;;;2015-10-25
14219                            5021     ;;;;;;;;2015-10-25STEP_SIG_DSP050:
14220                            5022     ;;;;;;;;2015-10-25      MOV.W   #(BIT15+BIT5),R4        ;"*"はBIT5
14221                            5023     ;;;;;;;;2015-10-25      M_BRA   STEP_SIG_DSP200         ;
14222                            5024     ;;;;;;;;2015-10-25
14223                            5025     ;;;;;;;;2015-10-25STEP_SIG_DSP100:
14224                            5026     ;;;;;;;;2015-10-25      MOV.L   #_LONG_BIT_TBL0,R1              ;
14225                            5027     ;;;;;;;;2015-10-25      SHLL2   R0                              ;data=1 BIT0
14226                            5028     ;;;;;;;;2015-10-25      ADD     R1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   147
PROGRAM NAME =

14227                            5029     ;;;;;;;;2015-10-25      MOV.L   @R0,R4                          ;
14228                            5030     ;;;;;;;;2015-10-25
14229                            5031     ;;;;;;;;2015-10-25
14230                            5032     
14231                                     ***** BEGIN-POOL *****
14232 0000224A 0064                       DATA FOR SOURCE-LINE 4988
14233 0000224C 8000                       DATA FOR SOURCE-LINE 4989
14234 0000224E 0000                       ALIGNMENT CODE
14235 00002250 00000000                   DATA FOR SOURCE-LINE 4980
14236 00002254 00000000                   DATA FOR SOURCE-LINE 4982
14237                                     ***** END-POOL *****
14238 00002258                   5033     STEP_SIG_DSP200:
14239                            5034     
14240                            5035     ;       ---------2014-09-22 追加BIT13--------------
14241 00002258 D106              5036             MOV.L   #_MOT_REP_F,R1                  ;//BIT0(ﾘﾋﾟｰﾄ動作
14242 0000225A 6011              5037             MOV.W   @R1,R0                          ;
14243 0000225C C801              5038             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ中
14244                            5039             TST_BIT_OF STEP_SIG_DSP300              ;
14245 0000225E 8901                   M           BT      STEP_SIG_DSP300
14246 00002260 9007              5040             MOV.W   #BIT13,R0                       ;
14247 00002262 240B              5041             OR      R0,R4                           ;
14248 00002264                   5042     STEP_SIG_DSP300:                                ;
14249 00002264 D504              5043             MOV.L   #_SQ_CBWK_TOP+_WKSQCB210,R5     ;
14250 00002266 2541              5044             MOV.W   R4,@R5                          ;
14251                            5045     
14252                            5046             .AIF    0 EQ    0       ;
14253                            5047 C           .IMPORT _PVP_MOT_ACT_STEP
14254 00002268 D504              5048 C           MOV.L   #_PVP_MOT_ACT_STEP,R5           ;
14255 0000226A 2561              5049 C           MOV.W   R6,@R5                          ;
14256                            5050             .AENDI
14257                            5051     
14258                            5052             SUB_END
14259                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14260 0000226C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14261                            5053             M_RTS
14262 0000226E 000B                   M           RTS                             ;RTSの後ろの
14263 00002270 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14264                            5054     
14265                            5055     
14266                            5056     ;       ***********************************
14267                            5057     ;       ***                             ***
14268                            5058     ;       ***     運転開始                ***
14269                            5059     ;       ***                             ***
14270                            5060     ;       ***********************************
14271                                     ***** BEGIN-POOL *****
14272 00002272 2000                       DATA FOR SOURCE-LINE 5040
14273 00002274 00000000                   DATA FOR SOURCE-LINE 5036
14274 00002278 00000000                   DATA FOR SOURCE-LINE 5043
14275 0000227C 00000000                   DATA FOR SOURCE-LINE 5048
14276                                     ***** END-POOL *****
14277 00002280                   5061     _STOPPING_TIM_MOV_INI:
14278                            5062             SUB_START
14279 00002280 4F22                   M           STS.L   PR,@-R15                ;[必要]
14280                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14281 00002282 D104              5063             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14282 00002284 200A              5064             XOR     R0,R0                   ;動作開始
14283 00002286 2101              5065             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   148
PROGRAM NAME =

14284                            5066     
14285                            5067     
14286                            5068     ;       ==== 2012-03-06====
14287                            5069             FAR_JSR #_BRKTMCAL_API1_STR,R0          ;JUMP力がないため
14288 00002288 D003                   M           MOV.L   #_BRKTMCAL_API1_STR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14289 0000228A 400B                   M           JSR     @R0                     ;
14290 0000228C 0009                   M           NOP                                     ;
14291                            5070     
14292                            5071             SUB_END
14293                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14294 0000228E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14295                            5072             M_RTS
14296 00002290 000B                   M           RTS                             ;RTSの後ろの
14297 00002292 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14298                            5073     
14299                            5074     ;       ***********************************
14300                            5075     ;       ***                             ***
14301                            5076     ;       ***     停止条件成立(測定開始)  ***
14302                            5077     ;       ***                             ***
14303                            5078     ;       ***********************************
14304                            5079     
14305                                     ***** BEGIN-POOL *****
14306 00002294 00000000                   DATA FOR SOURCE-LINE 5063
14307 00002298 00000000                   DATA FOR SOURCE-LINE 5069
14308                                     ***** END-POOL *****
14309 0000229C                   5080     _STOPPING_TIM_STOP_INI:
14310                            5081             SUB_START
14311 0000229C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14312                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14313 0000229E D114              5082             MOV.L   #_STOPPING_TIM_FLG,R1           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停
                                          止中
14314 000022A0 6011              5083             MOV.W   @R1,R0                          ;
14315 000022A2 C841              5084             TST     #(BIT6+BIT0),R0                 ;
14316                            5085             TST_BIT_ON STOPPING_TIM_STOPINI_100     ;動作開始?/停止後の停止?
14317 000022A4 8B1E                   M           BF      STOPPING_TIM_STOPINI_100
14318                            5086     
14319                            5087     ;;2010-08-20    MOV.W   #_SYS_STOPPING_TIM,R2
14320 000022A6 D113              5088             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14321 000022A8 6211              5089             MOV.W   @R1,R2                          ;
14322                            5090     
14323 000022AA D113              5091             MOV.L   #_STOPPING_STOP_TIM,R1  ;//停止を測定するタイマ
14324 000022AC 2121              5092             MOV.W   R2,@R1                  ;
14325                            5093     
14326 000022AE D413              5094             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;RL_OBJ->PV 200609
                                          19
14327 000022B0 6146              5095             MOV.L   @R4+,R1                                                 ;
14328 000022B2 6242              5096             MOV.L   @R4,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14329 000022B4 D412              5097             MOV.L   #_STOPPING_VLVOFF_POS,R4;//停止処理開始時点の位置
14330 000022B6 2412              5098             MOV.L   R1,@R4                  ;
14331 000022B8 1421              5099             MOV.L   R2,@(4,R4)              ;
14332                            5100     
14333 000022BA D412              5101             MOV.L   #_STOPPING_STOP_POS,R4  ;//停止処理測定位置
14334 000022BC 2412              5102             MOV.L   R1,@R4                  ;
14335 000022BE 1421              5103             MOV.L   R2,@(4,R4)              ;
14336                            5104     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   149
PROGRAM NAME =

14337 000022C0 D10B              5105             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14338 000022C2 9012              5106             MOV.W   #BIT0,R0                ;
14339 000022C4 2101              5107             MOV.W   R0,@R1
14340                            5108     
14341 000022C6 200A              5109             XOR     R0,R0                   ;
14342 000022C8 D10F              5110             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14343 000022CA 2101              5111             MOV.W   R0,@R1                  ;
14344 000022CC D10F              5112             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14345 000022CE 2101              5113             MOV.W   R0,@R1                  ;
14346                            5114     
14347                            5115     ;       ==== 2003-07-09 ========
14348 000022D0 D10F              5116             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14349 000022D2 900B              5117             MOV.W   #BIT4,R0                ;
14350 000022D4 2101              5118             MOV.W   R0,@R1                  ;BIT4:起動有り ELSE = 0
14351                            5119     
14352                            5120     
14353                            5121     ;       --2009-07-17 add[不具合対策 ﾌﾞﾚｰｷ角度ｵｰﾊﾞ3]---
14354                            5122             FAR_JSR #_LINK_CLANK_DIG_MAK,R0 ;2009-07-17
14355 000022D6 D00F                   M           MOV.L   #_LINK_CLANK_DIG_MAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14356 000022D8 400B                   M           JSR     @R0                     ;
14357 000022DA 0009                   M           NOP                                     ;
14358                            5123     
14359 000022DC D10E              5124             MOV.L   #_LINK_CLANK_PV,R1      ;//0.1度
14360 000022DE 6011              5125             MOV.W   @R1,R0                  ;
14361 000022E0 D10E              5126             MOV.L   #_VALV_OFF_DIG_CLANK,R1 ;
14362 000022E2 2101              5127             MOV.W   R0,@R1                  ;
14363                            5128     
14364                            5129     ;       =========================
14365                            5130     
14366 000022E4                   5131     STOPPING_TIM_STOPINI_100:
14367                            5132     
14368                            5133             SUB_END
14369                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14370 000022E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14371                            5134             M_RTS
14372 000022E6 000B                   M           RTS                             ;RTSの後ろの
14373 000022E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14374                            5135     
14375                            5136     ;       ***********************************
14376                            5137     ;       ***                             ***
14377                            5138     ;       ***     (測定中)                ***
14378                            5139     ;       ***                             ***
14379                            5140     ;       ***********************************
14380                            5141     
14381                                     ***** BEGIN-POOL *****
14382 000022EA 0001                       DATA FOR SOURCE-LINE 5106
14383 000022EC 0010                       DATA FOR SOURCE-LINE 5117
14384 000022EE 0000                       ALIGNMENT CODE
14385 000022F0 00000000                   DATA FOR SOURCE-LINE 5082,5105
14386 000022F4 00000000                   DATA FOR SOURCE-LINE 5088
14387 000022F8 00000000                   DATA FOR SOURCE-LINE 5091
14388 000022FC 00000000                   DATA FOR SOURCE-LINE 5094
14389 00002300 00000000                   DATA FOR SOURCE-LINE 5097
14390 00002304 00000000                   DATA FOR SOURCE-LINE 5101
14391 00002308 00000000                   DATA FOR SOURCE-LINE 5110
14392 0000230C 00000000                   DATA FOR SOURCE-LINE 5112
14393 00002310 00000000                   DATA FOR SOURCE-LINE 5116
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   150
PROGRAM NAME =

14394 00002314 00000000                   DATA FOR SOURCE-LINE 5122
14395 00002318 00000000                   DATA FOR SOURCE-LINE 5124
14396 0000231C 00000000                   DATA FOR SOURCE-LINE 5126
14397                                     ***** END-POOL *****
14398 00002320                   5142     _STOPPING_TIM_CHK:
14399                            5143             SUB_START
14400 00002320 4F22                   M           STS.L   PR,@-R15                ;[必要]
14401                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14402                            5144     
14403 00002322 D104              5145             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14404 00002324 9004              5146             MOV.W   #BIT0,R0                ;
14405 00002326 6011              5147             MOV.W   @R1,R0                  ;
14406 00002328 C840              5148             TST     #BIT6,R0                ;測定完了?
14407                            5149             TST_BIT_OF STOPPING_TIM_CK050   ;
14408 0000232A 8905                   M           BT      STOPPING_TIM_CK050
14409                            5150             M_BRA   STOPPING_TIM_CK900      ;完了
14410 0000232C A065                   M           BRA     STOPPING_TIM_CK900
14411 0000232E 0009                   M           NOP
14412                            5151     
14413                                     ***** BEGIN-POOL *****
14414 00002330 0001                       DATA FOR SOURCE-LINE 5146
14415 00002332 0000                       ALIGNMENT CODE
14416 00002334 00000000                   DATA FOR SOURCE-LINE 5145
14417                                     ***** END-POOL *****
14418 00002338                   5152     STOPPING_TIM_CK050:                                                     ;
14419 00002338 C801              5153             TST     #BIT0,R0
14420                            5154             TST_BIT_ON STOPPING_TIM_CK080   ;
14421 0000233A 8B01                   M           BF      STOPPING_TIM_CK080
14422                            5155             M_BRA   STOPPING_TIM_CK900      ;未
14423 0000233C A05D                   M           BRA     STOPPING_TIM_CK900
14424 0000233E 0009                   M           NOP
14425 00002340                   5156     STOPPING_TIM_CK080
14426                            5157     
14427                            5158     
14428 00002340 D114              5159             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14429 00002342 6211              5160             MOV.W   @R1,R2                  ;
14430 00002344 7201              5161             ADD     #1,R2                   ;
14431 00002346 2121              5162             MOV.W   R2,@R1                  ;
14432                            5163     
14433 00002348 D013              5164             MOV.L   #_LINK_PV_ABSPLS,R0                     ;RL_OBJ->PV20060919
14434 0000234A 6106              5165             MOV.L   @R0+,R1                                                 ;
14435 0000234C 6202              5166             MOV.L   @R0,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14436                            5167     
14437 0000234E D013              5168             MOV.L   #_STOPPING_VLVOFF_POS,R0                ;//停止処理開始時点の位置
14438 00002350 6306              5169             MOV.L   @R0+,R3                                 ;
14439 00002352 6402              5170             MOV.L   @R0,R4                                  ;
14440                            5171     
14441 00002354 D012              5172             MOV.L   #_STOPPING_STOP_POS,R0                  ;
14442 00002356 6502              5173             MOV.L   @R0,R5                                  ;
14443 00002358 2012              5174             MOV.L   R1,@R0                                  ;
14444 0000235A 5601              5175             MOV.L   @(4,R0),R6                              ;
14445 0000235C 1021              5176             MOV.L   R2,@(4,R0)                              ;
14446                            5177     
14447                            5178             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R3,DT_ANS_REGL=R4       ;ﾊﾞﾙﾌﾞOFF開始−今
                                          回
14448 0000235E 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   151
PROGRAM NAME =

14449 00002360 342A                   M           SUBC    R2,R4
14450 00002362 331A                   M           SUBC    R1,R3
14451                            5179             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;前回−今回
14452 00002364 0008                   M           CLRT
14453 00002366 362A                   M           SUBC    R2,R6
14454 00002368 351A                   M           SUBC    R1,R5
14455                            5180     
14456                            5181     
14457                            5182     ;ﾊﾞﾙﾌﾞOFF位置+/-10ﾊﾟﾙｽの範囲では停止中と判断する[2011-08-29]
14458 0000236A 6043              5183             MOV     R4,R0                                   ;
14459 0000236C 4011              5184             CMP/PZ  R0                                      ;
14460 0000236E 8900              5185             BT      STOPPING_TIM_CK100                      ;
14461 00002370 600B              5186             NEG     R0,R0                                   ;
14462 00002372                   5187     STOPPING_TIM_CK100:                                     ;
14463 00002372 910D              5188             MOV.W   #D'10,R1                                ;
14464 00002374 3102              5189             CMP/HS  R0,R1                                   ;
14465 00002376 8903              5190             BT      STOPPING_TIM_CK120                      ;
14466                            5191     ;       -------------------------------------------------------
14467                            5192     
14468                            5193     
14469 00002378 6063              5194             MOV     R6,R0                   ;
14470 0000237A 205B              5195             OR      R5,R0                   ;
14471 0000237C 2008              5196             TST     R0,R0                   ;
14472                            5197             TST_BIT_ON STOPPING_TIM_CK400   ;
14473 0000237E 8B27                   M           BF      STOPPING_TIM_CK400
14474 00002380                   5198     STOPPING_TIM_CK120:
14475                            5199     ;       ===== 停止状態() =====
14476 00002380 D408              5200             MOV.L   #_STOPPING_STOP_TIM,R4                                  ;//停止を測定する
                                          タイマ
14477 00002382 6041              5201             MOV.W   @R4,R0                                                  ;
14478 00002384 2008              5202             TST     R0,R0                                                   ;
14479                            5203             TST_BIT_OF STOPPING_TIM_CK200                                   ;
14480 00002386 890F                   M           BT      STOPPING_TIM_CK200
14481 00002388 70FF              5204             ADD     #-1,R0                                                  ;
14482 0000238A 2401              5205             MOV.W   R0,@R4                                                  ;
14483                            5206             M_BRA   STOPPING_TIM_CK900                                      ;
14484 0000238C A035                   M           BRA     STOPPING_TIM_CK900
14485 0000238E 0009                   M           NOP
14486                            5207     ;       ====== ﾀｲﾑｱｯﾌﾟ停止=======
14487                                     ***** BEGIN-POOL *****
14488 00002390 000A                       DATA FOR SOURCE-LINE 5188
14489 00002392 0000                       ALIGNMENT CODE
14490 00002394 00000000                   DATA FOR SOURCE-LINE 5159
14491 00002398 00000000                   DATA FOR SOURCE-LINE 5164
14492 0000239C 00000000                   DATA FOR SOURCE-LINE 5168
14493 000023A0 00000000                   DATA FOR SOURCE-LINE 5172
14494 000023A4 00000000                   DATA FOR SOURCE-LINE 5200
14495                                     ***** END-POOL *****
14496 000023A8                   5208     STOPPING_TIM_CK200:
14497 000023A8 D106              5209             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14498 000023AA 6211              5210             MOV.W   @R1,R2                  ;
14499                            5211     
14500                            5212     ;;;2010-08-20   MOV.W   #_SYS_STOPPING_TIM,R4   ;
14501 000023AC D106              5213             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14502 000023AE 6411              5214             MOV.W   @R1,R4                          ;
14503                            5215     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   152
PROGRAM NAME =

14504 000023B0 3248              5216             SUB     R4,R2                   ;
14505 000023B2 4211              5217             CMP/PZ  R2                      ;
14506 000023B4 8900              5218             BT      STOPPING_TIM_CK250      ;
14507 000023B6 222A              5219             XOR     R2,R2                   ;
14508 000023B8                   5220     STOPPING_TIM_CK250:                     ;
14509                            5221     
14510                            5222             FAR_JSR #_BRKTMCAL_API3_ENDCNF1,R0      ;2012-03-06
14511 000023B8 D004                   M           MOV.L   #_BRKTMCAL_API3_ENDCNF1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14512 000023BA 400B                   M           JSR     @R0                     ;
14513 000023BC 0009                   M           NOP                                     ;
14514                            5223             M_BRA   STOPPING_TIM_CK600      ;
14515 000023BE A013                   M           BRA     STOPPING_TIM_CK600
14516 000023C0 0009                   M           NOP
14517                            5224     
14518                            5225     ;       ==== 動作状態 ============
14519                                     ***** BEGIN-POOL *****
14520 000023C2 0000                       ALIGNMENT CODE
14521 000023C4 00000000                   DATA FOR SOURCE-LINE 5209
14522 000023C8 00000000                   DATA FOR SOURCE-LINE 5213
14523 000023CC 00000000                   DATA FOR SOURCE-LINE 5222
14524                                     ***** END-POOL *****
14525 000023D0                   5226     STOPPING_TIM_CK400:
14526                            5227     
14527                            5228     ;;;;2010-08-20  MOV.W   #_SYS_STOPPING_TIM,R0           ;
14528 000023D0 D40D              5229             MOV.L   #_WPAR_STOPING_TIM,R4           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14529 000023D2 6041              5230             MOV.W   @R4,R0                          ;
14530                            5231     
14531 000023D4 D40D              5232             MOV.L   #_STOPPING_STOP_TIM,R4          ;//停止を測定するタイマ
14532 000023D6 2401              5233             MOV.W   R0,@R4                          ;
14533                            5234     
14534 000023D8 235A              5235             XOR     R5,R3                           ;動作方向[[[[[[[[]]]]]]]]]]
14535 000023DA 4311              5236             CMP/PZ  R3                              ;
14536 000023DC 890D              5237             BT      STOPPING_TIM_CK900              ;同一方向NO 反転した
14537                            5238     
14538                            5239             FAR_JSR #_BRKTMCAL_API4_ENDCNF2,R0      ;2012-03-06
14539 000023DE D00C                   M           MOV.L   #_BRKTMCAL_API4_ENDCNF2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14540 000023E0 400B                   M           JSR     @R0                     ;
14541 000023E2 0009                   M           NOP                                     ;
14542                            5240     
14543                            5241     ;       ===== 反転停止 ======
14544 000023E4 D10B              5242             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14545 000023E6 6211              5243             MOV.W   @R1,R2                  ;
14546                            5244     
14547 000023E8                   5245     STOPPING_TIM_CK600:
14548 000023E8 D10B              5246             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14549 000023EA 2121              5247             MOV.W   R2,@R1                  ;
14550                            5248     
14551 000023EC D10B              5249             MOV.L   #_STOPPING_TIM_FLG,R1                           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0
                                          測定開始 BIT6:停止中
14552 000023EE 900A              5250             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
14553 000023F0 2101              5251             MOV.W   R0,@R1                                          ;BIT1~BIT5はその他の処理用
14554                            5252                                                                     ;BIT1:画面へ
14555                            5253     
14556                            5254     ;       ==== 2003-07-09 ========
14557 000023F2 D10B              5255             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14558 000023F4 6011              5256             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   153
PROGRAM NAME =

14559 000023F6 CB20              5257             OR      #(BIT5),R0              ;
14560 000023F8 2101              5258             MOV.W   R0,@R1                  ;BIT5起動有り/完了有り
14561                            5259     ;       =========================
14562                            5260     
14563 000023FA                   5261     STOPPING_TIM_CK900:
14564                            5262     
14565                            5263             FAR_JSR #_STOP_ERR_CHK,R0
14566 000023FA D00A                   M           MOV.L   #_STOP_ERR_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14567 000023FC 400B                   M           JSR     @R0                     ;
14568 000023FE 0009                   M           NOP                                     ;
14569                            5264     
14570                            5265             SUB_END
14571                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14572 00002400 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14573                            5266             M_RTS
14574 00002402 000B                   M           RTS                             ;RTSの後ろの
14575 00002404 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14576                            5267     
14577                            5268     
14578                            5269     ;//     *******************************************
14579                            5270     ;//     ***     2003-06-13                      ***
14580                            5271     ;//     ***     ニアゼロタイムアウトセット      ***
14581                            5272     ;//     *******************************************
14582                            5273             .EXPORT _SET_NZ_TIM_DAT
14583                            5274             .EXPORT _NZ_TIM_CHK1
14584                                     ***** BEGIN-POOL *****
14585 00002406 007F                       DATA FOR SOURCE-LINE 5250
14586 00002408 00000000                   DATA FOR SOURCE-LINE 5229
14587 0000240C 00000000                   DATA FOR SOURCE-LINE 5232
14588 00002410 00000000                   DATA FOR SOURCE-LINE 5239
14589 00002414 00000000                   DATA FOR SOURCE-LINE 5242
14590 00002418 00000000                   DATA FOR SOURCE-LINE 5246
14591 0000241C 00000000                   DATA FOR SOURCE-LINE 5249
14592 00002420 00000000                   DATA FOR SOURCE-LINE 5255
14593 00002424 00000000                   DATA FOR SOURCE-LINE 5263
14594                                     ***** END-POOL *****
14595 00002428                   5275     _SET_NZ_TIM_DAT
14596                            5276             SUB_START
14597 00002428 4F22                   M           STS.L   PR,@-R15                ;[必要]
14598                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14599 0000242A D109              5277             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14600 0000242C 6011              5278             MOV.W   @R1,R0                          ;
14601 0000242E 2008              5279             TST     R0,R0                           ;
14602                            5280             TST_BIT_ON SET_NZ_TIMDT_010             ;
14603 00002430 8B00                   M           BF      SET_NZ_TIMDT_010
14604 00002432 900B              5281             MOV.W   #H'7FFF,R0                      ;
14605 00002434                   5282     SET_NZ_TIMDT_010
14606 00002434 D107              5283             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14607 00002436 2101              5284             MOV.W   R0,@R1                          ;
14608                            5285     
14609 00002438 D107              5286             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;異常(機能は入れない)
14610 0000243A 6011              5287             MOV.W   @R1,R0                          ;
14611 0000243C 2008              5288             TST     R0,R0                           ;
14612                            5289             TST_BIT_ON SET_NZ_TIMDT_020             ;
14613 0000243E 8B00                   M           BF      SET_NZ_TIMDT_020
14614 00002440 9004              5290             MOV.W   #H'7FFF,R0                      ;
14615 00002442                   5291     SET_NZ_TIMDT_020                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   154
PROGRAM NAME =

14616 00002442 D106              5292             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;
14617 00002444 2101              5293             MOV.W   R0,@R1                          ;
14618                            5294     
14619                            5295             SUB_END
14620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14621 00002446 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14622                            5296             M_RTS
14623 00002448 000B                   M           RTS                             ;RTSの後ろの
14624 0000244A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14625                            5297     
14626                            5298     ;//     *******************************************
14627                            5299     ;//     ***     2003-06-13                      ***
14628                            5300     ;//     ***     ニアゼロタイムアウト            ***
14629                            5301     ;//     *******************************************
14630                                     ***** BEGIN-POOL *****
14631 0000244C 7FFF                       DATA FOR SOURCE-LINE 5281,5290
14632 0000244E 0000                       ALIGNMENT CODE
14633 00002450 00000000                   DATA FOR SOURCE-LINE 5277
14634 00002454 00000000                   DATA FOR SOURCE-LINE 5283
14635 00002458 00000000                   DATA FOR SOURCE-LINE 5286
14636 0000245C 00000000                   DATA FOR SOURCE-LINE 5292
14637                                     ***** END-POOL *****
14638 00002460                   5302     _NZ_TIM_CHK1
14639                            5303             SUB_START
14640 00002460 4F22                   M           STS.L   PR,@-R15                ;[必要]
14641                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14642 00002462 D10B              5304             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14643 00002464 6011              5305             MOV.W   @R1,R0                          ;
14644 00002466 2008              5306             TST     R0,R0                           ;
14645                            5307             TST_BIT_OF NZ_TIM_CK1_100               ;
14646 00002468 8905                   M           BT      NZ_TIM_CK1_100
14647                            5308     
14648 0000246A D10A              5309             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14649 0000246C 6011              5310             MOV.W   @R1,R0                          ;
14650 0000246E 2008              5311             TST     R0,R0                           ;
14651                            5312             TST_BIT_OF NZ_TIM_CK1_100               ;
14652 00002470 8901                   M           BT      NZ_TIM_CK1_100
14653 00002472 70FF              5313             ADD     #-1,R0                          ;
14654 00002474 2101              5314             MOV.W   R0,@R1                          ;
14655 00002476                   5315     NZ_TIM_CK1_100
14656                            5316     
14657 00002476 D108              5317             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;運転中止(寸動部分)
14658 00002478 6011              5318             MOV.W   @R1,R0                          ;
14659 0000247A 2008              5319             TST     R0,R0                           ;
14660                            5320             TST_BIT_OF NZ_TIM_CK1_200               ;
14661 0000247C 8905                   M           BT      NZ_TIM_CK1_200
14662                            5321     
14663 0000247E D107              5322             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;運転中止(寸動部分)
14664 00002480 6011              5323             MOV.W   @R1,R0                          ;
14665 00002482 2008              5324             TST     R0,R0                           ;
14666                            5325             TST_BIT_OF NZ_TIM_CK1_200               ;
14667 00002484 8901                   M           BT      NZ_TIM_CK1_200
14668 00002486 70FF              5326             ADD     #-1,R0                          ;
14669 00002488 2101              5327             MOV.W   R0,@R1                          ;
14670 0000248A                   5328     NZ_TIM_CK1_200
14671                            5329     
14672                            5330             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   155
PROGRAM NAME =

14673                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14674 0000248A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14675                            5331             M_RTS
14676 0000248C 000B                   M           RTS                             ;RTSの後ろの
14677 0000248E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14678                            5332     
14679                            5333     ;       ***********************************
14680                            5334     ;       ***                             ***
14681                            5335     ;       ***     2006-07-28              ***
14682                            5336     ;       ***                             ***
14683                            5337     ;       ***********************************
14684                            5338     ;       ANS R0=0 START // ELSE WAIT
14685                                     ***** BEGIN-POOL *****
14686 00002490 00000000                   DATA FOR SOURCE-LINE 5304
14687 00002494 00000000                   DATA FOR SOURCE-LINE 5309
14688 00002498 00000000                   DATA FOR SOURCE-LINE 5317
14689 0000249C 00000000                   DATA FOR SOURCE-LINE 5322
14690                                     ***** END-POOL *****
14691 000024A0                   5339     _ORGIN_MODE_SEL_WAIT:
14692                            5340             SUB_START
14693 000024A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14694                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14695 000024A2 222A              5341             XOR     R2,R2
14696 000024A4 D10A              5342             MOV.L   #_MODE_SEL,R1           ;
14697 000024A6 6011              5343             MOV.W   @R1,R0                  ;
14698 000024A8 C840              5344             TST     #_W1DUP,R0              ;
14699                            5345             TST_BIT_OF ORGIN_MODE_SEL_WTEND ;
14700 000024AA 8921                   M           BT      ORGIN_MODE_SEL_WTEND
14701                            5346     
14702                            5347     
14703                            5348     ;_BRK_SADOU_CHG 2015-09-06
14704                            5349     ;2015-09-06;    ======= 2010-10-25 針の穴===
14705                            5350     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14706                            5351     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14707                            5352     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
14708                            5353     ;2015-09-06     TST     R4,R0
14709                            5354     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;off今まで通り
14710                            5355     ;2015-09-06
14711                            5356     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14712                            5357     ;2015-09-06     MOV.W   @R1,R0                          ;
14713                            5358     ;2015-09-06     TST     R0,R0                           ;
14714                            5359     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;
14715                            5360     ;2015-09-06     MOV.W   #1,R2                           ;ﾀｲﾏではないがﾀｲﾏ代わりに入れる
14716                            5361     ;2015-09-06     M_BRA   ORGIN_MODE_SEL_WTEND            ;
14717                            5362     ;2015-09-06
14718                            5363     ;2015-09-06
14719                            5364     ;2015-09-06ORGIN_MODE_SEL_WT030:                                ;
14720                            5365     
14721                            5366     
14722                            5367     
14723                            5368     ;       === 2008-09-16 原点復帰方法ﾚﾍﾞﾙなら即起動===========
14724 000024AC D109              5369             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
14725 000024AE 6011              5370             MOV.W   @R1,R0                          ;
14726 000024B0 8801              5371             CMP/EQ  #1,R0                           ;ｴｯｼﾞ?
14727 000024B2 8915              5372             BT      ORGIN_MODE_SEL_WT100            ;YES ｴｯｼﾞ
14728                            5373     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   156
PROGRAM NAME =

14729 000024B4 233A              5374             XOR     R3,R3                           ;(ｻｰﾁ)
14730 000024B6 D108              5375             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14731 000024B8 6011              5376             MOV.W   @R1,R0                          ;
14732 000024BA 9407              5377             MOV.W   #BIT15,R4                       ;
14733 000024BC 2048              5378             TST     R4,R0                           ;
14734                            5379             TST_BIT_OF ORGIN_MODE_SEL_WT090         ;
14735 000024BE 8900                   M           BT      ORGIN_MODE_SEL_WT090
14736 000024C0 9305              5380             MOV.W   #1,R3                           ;待機点位置決め
14737 000024C2                   5381     ORGIN_MODE_SEL_WT090:                           ;
14738 000024C2 D106              5382             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14739 000024C4 2131              5383             MOV.W   R3,@R1                          ;
14740 000024C6 222A              5384             XOR     R2,R2                           ;ﾚﾍﾞﾙ
14741                            5385             M_BRA   ORGIN_MODE_SEL_WTEND            ;
14742 000024C8 A012                   M           BRA     ORGIN_MODE_SEL_WTEND
14743 000024CA 0009                   M           NOP
14744                            5386     ;       ====================================================
14745                            5387     
14746                            5388     
14747                                     ***** BEGIN-POOL *****
14748 000024CC 8000                       DATA FOR SOURCE-LINE 5377
14749 000024CE 0001                       DATA FOR SOURCE-LINE 5380
14750 000024D0 00000000                   DATA FOR SOURCE-LINE 5342
14751 000024D4 00000000                   DATA FOR SOURCE-LINE 5369
14752 000024D8 00000000                   DATA FOR SOURCE-LINE 5375
14753 000024DC 00000000                   DATA FOR SOURCE-LINE 5382
14754                                     ***** END-POOL *****
14755 000024E0                   5389     ORGIN_MODE_SEL_WT100:
14756 000024E0 D106              5390             MOV.L   #_WPAR_ORGMOD2_TIM,R1           ;
14757 000024E2 6211              5391             MOV.W   @R1,R2                          ;
14758 000024E4 2228              5392             TST     R2,R2                           ;
14759                            5393             TST_BIT_OF ORGIN_MODE_SEL_WTEND         ;
14760 000024E6 8903                   M           BT      ORGIN_MODE_SEL_WTEND
14761                            5394     
14762                            5395     
14763                            5396             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORGIN_MOD2_START_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14764 000024E8 D105                   M           MOV.L   #_ORGIN_MOD2_START_FLG,R1               ;
14765 000024EA 6011                   M           MOV.W   @R1,R0          ;
14766 000024EC CB01                   M           OR      #BIT0,R0                ;
14767 000024EE 2101                   M           MOV.W   R0,@R1          ;
14768                            5397     
14769                            5398     
14770 000024F0                   5399     ORGIN_MODE_SEL_WTEND:
14771 000024F0 D104              5400             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;
14772 000024F2 2121              5401             MOV.W   R2,@R1                  ;
14773 000024F4 6023              5402             MOV     R2,R0                   ;
14774                            5403     
14775                            5404             SUB_END
14776                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14777 000024F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14778                            5405             M_RTS
14779 000024F8 000B                   M           RTS                             ;RTSの後ろの
14780 000024FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14781                            5406     
14782                            5407             .EXPORT _ORGIN_MODE_FLG_CLR     ;
14783                                     ***** BEGIN-POOL *****
14784 000024FC 00000000                   DATA FOR SOURCE-LINE 5390
14785 00002500 00000000                   DATA FOR SOURCE-LINE 5396
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   157
PROGRAM NAME =

14786 00002504 00000000                   DATA FOR SOURCE-LINE 5400
14787                                     ***** END-POOL *****
14788 00002508                   5408     _ORGIN_MODE_FLG_CLR:
14789                            5409             SUB_START
14790 00002508 4F22                   M           STS.L   PR,@-R15                ;[必要]
14791                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14792 0000250A 200A              5410             XOR     R0,R0                           ;
14793 0000250C D102              5411             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14794 0000250E 2101              5412             MOV.W   R0,@R1                          ;
14795                            5413             SUB_END
14796                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14797 00002510 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14798                            5414             M_RTS
14799 00002512 000B                   M           RTS                             ;RTSの後ろの
14800 00002514 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14801                            5415     
14802                            5416     
14803                            5417     
14804                            5418     
14805                            5419     
14806                            5420     
14807                            5421     
14808                            5422     
14809                            5423     ;       ***********************************
14810                            5424     ;       ***                             ***
14811                            5425     ;       ***     2015-10-13              ***
14812                            5426     ;       ***                             ***
14813                            5427     ;       ***********************************
14814                            5428     ;       ANS R0=0 START // ELSE WAIT
14815                            5429     ;       レベルタイプのみ
14816                                     ***** BEGIN-POOL *****
14817 00002516 0000                       ALIGNMENT CODE
14818 00002518 00000000                   DATA FOR SOURCE-LINE 5411
14819                                     ***** END-POOL *****
14820 0000251C                   5430     _ORGIN_MODE_SEL_START:
14821                            5431             SUB_START
14822 0000251C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14823                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14824                            5432     
14825 0000251E D109              5433             MOV.L   #_MODE_SEL,R1           ;
14826 00002520 6011              5434             MOV.W   @R1,R0                  ;
14827 00002522 C840              5435             TST     #_W1DUP,R0              ;
14828                            5436             TST_BIT_OF ORGIN_MODE_SEL_STEND ;
14829 00002524 8908                   M           BT      ORGIN_MODE_SEL_STEND
14830                            5437     
14831 00002526 233A              5438             XOR     R3,R3                           ;(ｻｰﾁ)
14832 00002528 D107              5439             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14833 0000252A 6011              5440             MOV.W   @R1,R0                          ;
14834 0000252C 9407              5441             MOV.W   #BIT15,R4                       ;
14835 0000252E 2048              5442             TST     R4,R0                           ;
14836                            5443             TST_BIT_OF ORGIN_MODE_SEL_ST090         ;
14837 00002530 8900                   M           BT      ORGIN_MODE_SEL_ST090
14838 00002532 9305              5444             MOV.W   #1,R3                           ;待機点位置決め
14839 00002534                   5445     ORGIN_MODE_SEL_ST090:                           ;
14840 00002534 D105              5446             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14841 00002536 2131              5447             MOV.W   R3,@R1                          ;
14842 00002538                   5448     ORGIN_MODE_SEL_STEND:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   158
PROGRAM NAME =

14843                            5449     
14844                            5450             SUB_END
14845                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14846 00002538 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14847                            5451             M_RTS
14848 0000253A 000B                   M           RTS                             ;RTSの後ろの
14849 0000253C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14850                            5452     
14851                            5453     
14852                            5454     
14853                            5455     ;       ***********************************
14854                            5456     ;       ***                             ***
14855                            5457     ;       ***     2006-07-28              ***
14856                            5458     ;       ***     ﾓｰﾄﾞ判定・起動          ***
14857                            5459     ;       ***********************************
14858                            5460     ;       00:EXIT
14859                            5461     ;       55:起動
14860                            5462     ;       FF:WAIT
14861                                     ***** BEGIN-POOL *****
14862 0000253E 8000                       DATA FOR SOURCE-LINE 5441
14863 00002540 0001                       DATA FOR SOURCE-LINE 5444
14864 00002542 0000                       ALIGNMENT CODE
14865 00002544 00000000                   DATA FOR SOURCE-LINE 5433
14866 00002548 00000000                   DATA FOR SOURCE-LINE 5439
14867 0000254C 00000000                   DATA FOR SOURCE-LINE 5446
14868                                     ***** END-POOL *****
14869 00002550                   5463     _ORGIN_MODE_START_WAIT:
14870                            5464             SUB_START
14871 00002550 4F22                   M           STS.L   PR,@-R15                ;[必要]
14872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14873 00002552 D10C              5465             MOV.L   #_MODE_SEL,R1           ;
14874 00002554 6011              5466             MOV.W   @R1,R0                  ;
14875 00002556 C840              5467             TST     #_W1DUP,R0              ;
14876                            5468             TST_BIT_OF ORGIN_MODE_ST_WT_NOT ;
14877 00002558 892C                   M           BT      ORGIN_MODE_ST_WT_NOT
14878                            5469     
14879 0000255A D10B              5470             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14880 0000255C 6011              5471             MOV.W   @R1,R0                          ;
14881 0000255E 2008              5472             TST     R0,R0                           ;
14882                            5473             TST_BIT_OF ORGIN_MODE_ST_WT_NOT         ;
14883 00002560 8928                   M           BT      ORGIN_MODE_ST_WT_NOT
14884                            5474     
14885 00002562 D10A              5475             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;//2.0sec
14886 00002564 6211              5476             MOV.W   @R1,R2                  ;
14887 00002566 2228              5477             TST     R2,R2                   ;
14888                            5478             TST_BIT_OF ORGIN_MODE_ST_WT100  ;TIME UP 2.0
14889 00002568 8916                   M           BT      ORGIN_MODE_ST_WT100
14890 0000256A 72FF              5479             ADD     #-1,R2
14891 0000256C 2121              5480             MOV.W   R2,@R1
14892                            5481     
14893 0000256E D108              5482             MOV.L   #_BTTN_FLG,R1                   ;
14894 00002570 6011              5483             MOV.W   @R1,R0                          ;
14895 00002572 C804              5484             TST     #BIT2,R0                        ;両手ON
14896                            5485             TST_BIT_ON ORGIN_MODE_ST_WT_WAIT        ;YES
14897 00002574 8B1B                   M           BF      ORGIN_MODE_ST_WT_WAIT
14898                            5486     
14899 00002576 9003              5487             MOV.W   #1,R0                           ;ﾁｮﾝ押し
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   159
PROGRAM NAME =

14900 00002578 D106              5488             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14901 0000257A 2101              5489             MOV.W   R0,@R1                          ;
14902                            5490             M_BRA   ORGIN_MODE_ST_WT_START          ;
14903 0000257C A014                   M           BRA     ORGIN_MODE_ST_WT_START
14904 0000257E 0009                   M           NOP
14905                            5491     
14906                                     ***** BEGIN-POOL *****
14907 00002580 0001                       DATA FOR SOURCE-LINE 5487
14908 00002582 0000                       ALIGNMENT CODE
14909 00002584 00000000                   DATA FOR SOURCE-LINE 5465
14910 00002588 00000000                   DATA FOR SOURCE-LINE 5470
14911 0000258C 00000000                   DATA FOR SOURCE-LINE 5475
14912 00002590 00000000                   DATA FOR SOURCE-LINE 5482
14913 00002594 00000000                   DATA FOR SOURCE-LINE 5488
14914                                     ***** END-POOL *****
14915 00002598                   5492     ORGIN_MODE_ST_WT100                             ;
14916 00002598 200A              5493             XOR     R0,R0                           ;長い押し
14917 0000259A D102              5494             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14918 0000259C 2101              5495             MOV.W   R0,@R1                          ;
14919                            5496             M_BRA   ORGIN_MODE_ST_WT_START          ;
14920 0000259E A003                   M           BRA     ORGIN_MODE_ST_WT_START
14921 000025A0 0009                   M           NOP
14922                            5497     
14923                            5498     
14924                                     ***** BEGIN-POOL *****
14925 000025A2 0000                       ALIGNMENT CODE
14926 000025A4 00000000                   DATA FOR SOURCE-LINE 5494
14927                                     ***** END-POOL *****
14928 000025A8                   5499     ORGIN_MODE_ST_WT_START          ;
14929 000025A8 E055              5500             MOV.B   #H'55,R0                ;
14930                            5501             M_BRA   ORGIN_MODE_ST_WTEND     ;
14931 000025AA A004                   M           BRA     ORGIN_MODE_ST_WTEND
14932 000025AC 0009                   M           NOP
14933 000025AE                   5502     ORGIN_MODE_ST_WT_WAIT           ;
14934 000025AE E0FF              5503             MOV.B   #-1,R0
14935                            5504             M_BRA   ORGIN_MODE_ST_WTEND     ;
14936 000025B0 A001                   M           BRA     ORGIN_MODE_ST_WTEND
14937 000025B2 0009                   M           NOP
14938                            5505     
14939 000025B4                   5506     ORGIN_MODE_ST_WT_NOT    ;
14940 000025B4 200A              5507             XOR     R0,R0
14941 000025B6                   5508     ORGIN_MODE_ST_WTEND     ;
14942                            5509             SUB_END
14943                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14944 000025B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14945                            5510             M_RTS
14946 000025B8 000B                   M           RTS                             ;RTSの後ろの
14947 000025BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14948                            5511     
14949                            5512     ;       *******************************************
14950                            5513     ;       ***                                     ***
14951                            5514     ;       ***     通信側にも処理がある            ***
14952                            5515     ;       ***                                     ***
14953                            5516     ;       *******************************************
14954                            5517             .IMPORT         _RENEA_ERR_RESET_INI
14955                            5518             .IMPORT         _LT_RNA_REF_ERR_FLG1    ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14956                            5519     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   160
PROGRAM NAME =

14957                            5520      .AIF   0 EQ    0       ;
14958                            5521 C           .IMPORT         _API_X_PRO_SEND_START2  ;
14959                            5522      .AENDI
14960                            5523     
14961 000025BC                   5524     _RNA_SCIF_ERR_CLR1:
14962                            5525             SUB_START
14963 000025BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
14964                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14965                            5526             .AIF    0 EQ    0               ;
14966                            5527 C           .IMPORT _IN_RNA_REF_ERR_FLG1
14967                            5528 C           .IMPORT _IN_RNA_REF_ERR_FLG2
14968                            5529 C   
14969 000025BE D103              5530 C           MOV.L   #_LT_RNA_REF_ERR_FLG1,R1                ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14970 000025C0 6011              5531 C           MOV.W   @R1,R0                                  ;
14971 000025C2 C850              5532 C           TST     #(BIT6+BIT4),R0                         ;ﾘﾆｱ異常
14972                            5533 C           TST_BIT_ON RNA_SCIF_ERRCLR1_050                 ;
14973 000025C4 8B04                   M           BF      RNA_SCIF_ERRCLR1_050
14974                            5534 C   
14975                            5535 C   ;;;[温度ﾃｽﾄ用でﾘｾｯﾄ毎に読出たい時用]
14976                            5536 C   ;;; .AIF        0 EQ    0       ;
14977                            5537 C   ;;;     FAR_JSR #_API_X_PRO_SEND_START2,R0              ;2015-10-15
14978                            5538 C   ;;; .AENDI
14979                            5539 C   
14980                            5540 C           M_BRA   RNA_SCIF_ERRCLR1_100                    ;
14981 000025C6 A00F                   M           BRA     RNA_SCIF_ERRCLR1_100
14982 000025C8 0009                   M           NOP
14983                            5541 C   
14984                                 C   ***** BEGIN-POOL *****
14985 000025CA 0000                   C   ALIGNMENT CODE
14986 000025CC 00000000               C   DATA FOR SOURCE-LINE 5530
14987                                 C   ***** END-POOL *****
14988 000025D0                   5542 C   RNA_SCIF_ERRCLR1_050:
14989                            5543 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0                  ;
14990 000025D0 D003                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14991 000025D2 400B                   M           JSR     @R0                     ;
14992 000025D4 0009                   M           NOP                                     ;
14993                            5544 C           FAR_JSR #_RENEA_ERR_RESET_INI,R0                ;
14994 000025D6 D003                   M           MOV.L   #_RENEA_ERR_RESET_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14995 000025D8 400B                   M           JSR     @R0                     ;
14996 000025DA 0009                   M           NOP                                     ;
14997                            5545 C           M_BRA   RNA_SCIF_ERRCLR1_200                    ;
14998 000025DC A007                   M           BRA     RNA_SCIF_ERRCLR1_200
14999 000025DE 0009                   M           NOP
15000                            5546 C   
15001                                 C   ***** BEGIN-POOL *****
15002 000025E0 00000000               C   DATA FOR SOURCE-LINE 5543
15003 000025E4 00000000               C   DATA FOR SOURCE-LINE 5544
15004                                 C   ***** END-POOL *****
15005 000025E8                   5547 C   RNA_SCIF_ERRCLR1_100:
15006                            5548 C   
15007                            5549 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0
15008 000025E8 D002                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15009 000025EA 400B                   M           JSR     @R0                     ;
15010 000025EC 0009                   M           NOP                                     ;
15011                            5550 C   
15012 000025EE                   5551 C   RNA_SCIF_ERRCLR1_200:
15013                            5552 C   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   161
PROGRAM NAME =

15014                            5553             .AENDI
15015                            5554             SUB_END
15016                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15017 000025EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15018                            5555             M_RTS
15019 000025F0 000B                   M           RTS                             ;RTSの後ろの
15020 000025F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15021                            5556     
15022                            5557             .EXPORT _CLRSQ206_BIT11
15023                            5558             .EXPORT _SETSQ206_BIT11
15024                            5559     
15025                                     ***** BEGIN-POOL *****
15026 000025F4 00000000                   DATA FOR SOURCE-LINE 5549
15027                                     ***** END-POOL *****
15028 000025F8                   5560     _CLRSQ206_BIT11:
15029                            5561             SUB_START
15030 000025F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15031                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15032                            5562             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT11),WKRG1=R1,WKRG2=R
                                          4       ;
15033 000025FA D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
15034 000025FC 6011                   M           MOV.W   @R1,R0          ;
15035 000025FE 9404                   M           MOV.W   #LWORD (~BIT11),R4      ;
15036 00002600 2049                   M           AND     R4,R0           ;
15037 00002602 2101                   M           MOV.W   R0,@R1          ;
15038                            5563             SUB_END
15039                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15040 00002604 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15041                            5564             M_RTS
15042 00002606 000B                   M           RTS                             ;RTSの後ろの
15043 00002608 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15044                            5565     
15045                                     ***** BEGIN-POOL *****
15046 0000260A F7FF                       DATA FOR SOURCE-LINE 5562
15047 0000260C 00000000                   DATA FOR SOURCE-LINE 5562
15048                                     ***** END-POOL *****
15049 00002610                   5566     _SETSQ206_BIT11:
15050                            5567             SUB_START
15051 00002610 4F22                   M           STS.L   PR,@-R15                ;[必要]
15052                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15053                            5568             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4
                                                  ;
15054 00002612 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
15055 00002614 6011                   M           MOV.W   @R1,R0          ;
15056 00002616 9404                   M           MOV.W   #(BIT11),R4             ;
15057 00002618 204B                   M           OR      R4,R0           ;
15058 0000261A 2101                   M           MOV.W   R0,@R1          ;
15059                            5569             SUB_END
15060                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15061 0000261C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15062                            5570             M_RTS
15063 0000261E 000B                   M           RTS                             ;RTSの後ろの
15064 00002620 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15065                            5571     
15066                            5572     
15067                            5573     
15068                            5574     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   162
PROGRAM NAME =

15069                            5575     ;       ---------------------------
15070                            5576     ;       ---     2007-01-16      ---
15071                            5577     ;       ---------------------------
15072                            5578     ;       ﾚﾍﾞﾙﾀｲﾌﾟのみ対象
15073                            5579     ;
15074                                     ***** BEGIN-POOL *****
15075 00002622 0800                       DATA FOR SOURCE-LINE 5568
15076 00002624 00000000                   DATA FOR SOURCE-LINE 5568
15077                                     ***** END-POOL *****
15078 00002628                   5580     _DRV_START_KEP_WAIT
15079                            5581             SUB_START
15080 00002628 4F22                   M           STS.L   PR,@-R15                ;[必要]
15081                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15082                            5582     
15083                            5583     
15084                            5584     ;_BRK_SADOU_CHG 2015-09-06
15085                            5585     ;;;2015-09-06   MOV.L   #_MODE_SEL,R1                   ;
15086                            5586     ;;;2015-09-06   MOV.W   @R1,R0                          ;
15087                            5587     ;;;2015-09-06   TST     #_W1DUP,R0                      ;
15088                            5588     ;;;2015-09-06   TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
15089                            5589     
15090 0000262A D109              5590             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
15091 0000262C 6011              5591             MOV.W   @R1,R0                          ;
15092 0000262E 2008              5592             TST     R0,R0
15093                            5593             TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
15094 00002630 8B1C                   M           BF      DRV_START_KEP_WAIT_NON
15095                            5594     
15096 00002632 D108              5595             MOV.L   #_DRV_START_KEEP,R1             ;FLG
15097 00002634 6011              5596             MOV.W   @R1,R0                          ;
15098 00002636 C801              5597             TST     #BIT0,R0                        ;
15099                            5598             TST_BIT_ON DRV_START_KEP_WAIT_100       ;
15100 00002638 8B10                   M           BF      DRV_START_KEP_WAIT_100
15101                            5599     
15102                            5600     ;       --- OFF---
15103 0000263A D107              5601             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15104 0000263C 6011              5602             MOV.W   @R1,R0                          ;
15105 0000263E 2008              5603             TST     R0,R0                           ;
15106                            5604             TST_BIT_OF DRV_START_KEP_WAIT_100
15107 00002640 890C                   M           BT      DRV_START_KEP_WAIT_100
15108                            5605     
15109 00002642 9003              5606             MOV.W   #BIT0,R0                        ;
15110 00002644 D103              5607             MOV.L   #_DRV_START_KEEP,R1             ;FLG
15111 00002646 2101              5608             MOV.W   R0,@R1                          ;
15112                            5609             M_BRA   DRV_START_KEP_WAIT_USE          ;
15113 00002648 A013                   M           BRA     DRV_START_KEP_WAIT_USE
15114 0000264A 0009                   M           NOP
15115                            5610     
15116                                     ***** BEGIN-POOL *****
15117 0000264C 0001                       DATA FOR SOURCE-LINE 5606
15118 0000264E 0000                       ALIGNMENT CODE
15119 00002650 00000000                   DATA FOR SOURCE-LINE 5590
15120 00002654 00000000                   DATA FOR SOURCE-LINE 5595,5607
15121 00002658 00000000                   DATA FOR SOURCE-LINE 5601
15122                                     ***** END-POOL *****
15123 0000265C                   5611     DRV_START_KEP_WAIT_100
15124 0000265C D102              5612             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;「「「「ﾛｯｸ解除の遅延時間中?」」」
15125 0000265E 6011              5613             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   163
PROGRAM NAME =

15126 00002660 2008              5614             TST     R0,R0                           ;
15127                            5615             TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
15128 00002662 8B06                   M           BF      DRV_START_KEP_WAIT_USE
15129                            5616     ;       -- 起動--
15130                            5617             M_BRA   DRV_START_KEP_WAIT_START
15131 00002664 A009                   M           BRA     DRV_START_KEP_WAIT_START
15132 00002666 0009                   M           NOP
15133                            5618     
15134                            5619     
15135                                     ***** BEGIN-POOL *****
15136 00002668 00000000                   DATA FOR SOURCE-LINE 5612
15137                                     ***** END-POOL *****
15138 0000266C                   5620     DRV_START_KEP_WAIT_NON
15139 0000266C 200A              5621             XOR     R0,R0                   ;
15140                            5622             M_BRA   DRV_START_KEP_WAIT_END  ;
15141 0000266E A008                   M           BRA     DRV_START_KEP_WAIT_END
15142 00002670 0009                   M           NOP
15143 00002672                   5623     DRV_START_KEP_WAIT_USE
15144 00002672 9001              5624             MOV.W   #1,R0
15145                            5625             M_BRA   DRV_START_KEP_WAIT_END
15146 00002674 A005                   M           BRA     DRV_START_KEP_WAIT_END
15147 00002676 0009                   M           NOP
15148                            5626     
15149                                     ***** BEGIN-POOL *****
15150 00002678 0001                       DATA FOR SOURCE-LINE 5624
15151                                     ***** END-POOL *****
15152 0000267A                   5627     DRV_START_KEP_WAIT_START
15153 0000267A 200A              5628             XOR     R0,R0                           ;
15154 0000267C D103              5629             MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
15155 0000267E 2101              5630             MOV.W   R0,@R1                          ;
15156 00002680 9002              5631             MOV.W   #H'55,R0                        ;
15157 00002682                   5632     DRV_START_KEP_WAIT_END
15158                            5633             SUB_END
15159                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15160 00002682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15161                            5634             M_RTS
15162 00002684 000B                   M           RTS                             ;RTSの後ろの
15163 00002686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15164                            5635     
15165                            5636     ;;      ---------------------------
15166                            5637     ;;      ---     2007-01-16      ---
15167                            5638     ;;      ---------------------------
15168                            5639     ;;_DRV_START_KEP_WAIT
15169                            5640     ;;      SUB_START
15170                            5641     ;;
15171                            5642     ;;      -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
15172                            5643     ;;      MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
15173                            5644     ;;      MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
15174                            5645     ;;      MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2秒だから
15175                            5646     ;;      TST     R4,R0
15176                            5647     ;;      TST_BIT_ON DRV_START_KEP_WAIT_050       ;原点復帰でもﾊﾟﾙｽ出力を遅らせる
15177                            5648     ;;
15178                            5649     ;;      MOV.L   #_MODE_SEL,R1                   ;
15179                            5650     ;;      MOV.W   @R1,R0                          ;
15180                            5651     ;;      TST     #_W1DUP,R0                      ;
15181                            5652     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
15182                            5653     ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   164
PROGRAM NAME =

15183                            5654     ;;      MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
15184                            5655     ;;      MOV.W   @R1,R0                          ;
15185                            5656     ;;      TST     R0,R0
15186                            5657     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
15187                            5658     ;;
15188                            5659     ;;DRV_START_KEP_WAIT_050
15189                            5660     ;;
15190                            5661     ;;
15191                            5662     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
15192                            5663     ;;      MOV.W   @R1,R0                          ;
15193                            5664     ;;      TST     #BIT0,R0                        ;
15194                            5665     ;;      TST_BIT_ON DRV_START_KEP_WAIT_100       ;
15195                            5666     ;;
15196                            5667     ;;      --- OFF---
15197                            5668     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15198                            5669     ;;      MOV.W   @R1,R0                          ;
15199                            5670     ;;      TST     R0,R0                           ;
15200                            5671     ;;      TST_BIT_OF DRV_START_KEP_WAIT_100
15201                            5672     ;;
15202                            5673     ;;      MOV.W   #BIT0,R0                        ;
15203                            5674     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
15204                            5675     ;;      MOV.W   R0,@R1                          ;
15205                            5676     ;;      M_BRA   DRV_START_KEP_WAIT_USE          ;
15206                            5677     ;;
15207                            5678     ;;DRV_START_KEP_WAIT_100
15208                            5679     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15209                            5680     ;;      MOV.W   @R1,R0                          ;
15210                            5681     ;;      TST     R0,R0                           ;
15211                            5682     ;;      TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
15212                            5683     ;;      -- 起動--
15213                            5684     ;;      M_BRA   DRV_START_KEP_WAIT_START
15214                            5685     ;;
15215                            5686     ;;
15216                            5687     ;;DRV_START_KEP_WAIT_NON
15217                            5688     ;;      XOR     R0,R0                   ;
15218                            5689     ;;      M_BRA   DRV_START_KEP_WAIT_END  ;
15219                            5690     ;;DRV_START_KEP_WAIT_USE
15220                            5691     ;;      MOV.W   #1,R0
15221                            5692     ;;      M_BRA   DRV_START_KEP_WAIT_END
15222                            5693     ;;
15223                            5694     ;;DRV_START_KEP_WAIT_START
15224                            5695     ;;      XOR     R0,R0                           ;
15225                            5696     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
15226                            5697     ;;      MOV.W   R0,@R1                          ;
15227                            5698     ;;      MOV.W   #H'55,R0                        ;
15228                            5699     ;;DRV_START_KEP_WAIT_END
15229                            5700     ;;      SUB_END
15230                            5701     ;;      M_RTS
15231                            5702     
15232                            5703     
15233                            5704     ;       ---------------------------
15234                            5705     ;       ---     2007-01-16      ---
15235                            5706     ;       ---------------------------
15236                                     ***** BEGIN-POOL *****
15237 00002688 0055                       DATA FOR SOURCE-LINE 5631
15238 0000268A 0000                       ALIGNMENT CODE
15239 0000268C 00000000                   DATA FOR SOURCE-LINE 5629
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   165
PROGRAM NAME =

15240                                     ***** END-POOL *****
15241 00002690                   5707     _START_SFTY_LOCK_CLR
15242                            5708             SUB_START
15243 00002690 4F22                   M           STS.L   PR,@-R15                ;[必要]
15244                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15245 00002692 200A              5709             XOR     R0,R0
15246                            5710     
15247 00002694 D103              5711             MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;ﾛｯｸ釈放の遅延時間
15248 00002696 2101              5712             MOV.W   R0,@R1                  ;
15249                            5713     
15250                            5714     ;_BRK_SADOU_CHG 2015-09-06
15251                            5715     ;;;2015-09-06廃止       MOV.L   #_SFTY_LOCK_DLYTM,R1    ;位置決め完了の遅延時間
15252                            5716     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
15253                            5717     
15254                            5718     ;;;2015-09-06廃止       MOV.L   #_RDY_SFTY_LOCK,R1      ;FLG
15255                            5719     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
15256                            5720     
15257 00002698 D103              5721             MOV.L   #_DRV_START_KEEP,R1     ;FLG
15258 0000269A 2101              5722             MOV.W   R0,@R1                  ;
15259                            5723     
15260                            5724             SUB_END
15261                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15262 0000269C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15263                            5725             M_RTS
15264 0000269E 000B                   M           RTS                             ;RTSの後ろの
15265 000026A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15266                            5726     
15267                            5727     
15268                            5728     
15269                            5729     ;       ***********************************
15270                            5730     ;       ***                             ***
15271                            5731     ;       ***     2007-02-05              ***
15272                            5732     ;       ***     運転完了、中断時        ***
15273                            5733     ;       ***     遮光遅延を働かせる      ***
15274                            5734     ;       ***                             ***
15275                            5735     ;       ***********************************
15276                            5736     ;2015-09-06_BRK_SADOU_CHG EQ 1
15277                            5737     ;;廃止_SFTY_DLY_SET1                            ;安一専用
15278                            5738     ;;廃止  SUB_START
15279                            5739     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15280                            5740     ;;廃止  MOV.W   @R1,R0                  ;
15281                            5741     ;;廃止
15282                            5742     ;;廃止  MOV.L   #_PAR_SLOCK_DLY2,R1     ;
15283                            5743     ;;廃止  MOV.W   @R1,R1                  ;
15284                            5744     ;;廃止  ADD     R1,R0                   ;
15285                            5745     ;;廃止
15286                            5746     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15287                            5747     ;;廃止  MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
15288                            5748     ;;廃止  SUB_END
15289                            5749     ;;廃止  M_RTS
15290                            5750     ;;廃止
15291                            5751     ;;廃止_SFTY_DLY_SET2
15292                            5752     ;;廃止  SUB_START
15293                            5753     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15294                            5754     ;;廃止  MOV.W   @R1,R0                  ;
15295                            5755     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15296                            5756     ;;廃止  MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   166
PROGRAM NAME =

15297                            5757     ;;廃止  SUB_END
15298                            5758     ;;廃止  M_RTS
15299                            5759     ;;廃止; ------このNOP4がないと変になる2007-02-26-----------
15300                            5760     ;;廃止  NOP
15301                            5761     ;;廃止  NOP
15302                            5762     ;;廃止  NOP
15303                            5763     ;;廃止  NOP
15304                            5764     
15305                            5765     ;       *******************************************
15306                            5766     ;       ***                                     ***
15307                            5767     ;       ***     ORGIN DIRECT CHECK              ***
15308                            5768     ;       ***     2008-04-28　180度近辺           ***
15309                            5769     ;       ***     2008-05-07  181はパス           ***
15310                            5770     ;       *******************************************
15311                            5771     ;       179,180でON
15312                            5772     ;       178,180,181以外でOFF
15313                            5773     
15314                                     ***** BEGIN-POOL *****
15315 000026A2 0000                       ALIGNMENT CODE
15316 000026A4 00000000                   DATA FOR SOURCE-LINE 5711
15317 000026A8 00000000                   DATA FOR SOURCE-LINE 5721
15318                                     ***** END-POOL *****
15319          000006FE          5774     _EQ_ORG_ONDIG   .EQU    179*10  ;
15320          00000708          5775     _EQ_ORG_OFDIG   .EQU    180*10  ;
15321          0000000A          5776     _EQ_ORG_HIS     .EQU    10      ;
15322                            5777     
15323 000026AC                   5778             .ALIGN  4                               ;2008-05-07
15324 000026AC                   5779     _ORGIN_180CHK
15325                            5780             SUB_START
15326 000026AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15327                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15328                            5781     
15329 000026AE D408              5782             MOV.L   #_INC_ENC360,R4                                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と
                                          同じ)
15330 000026B0 6241              5783             MOV.W   @R4,R2                                          ;
15331                            5784     
15332 000026B2 910A              5785             MOV.W   #_EQ_ORG_ONDIG,R1                                       ;179~181
15333 000026B4 930A              5786             MOV.W   #_EQ_ORG_OFDIG,R3                                       ;
15334                            5787             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15335 000026B6 3313                   M           CMP/GE  R1,R3
15336 000026B8 8B0C                   M           BF      JMP0100001
15337                                 M   ;       === 0度をはさなまい===
15338 000026BA 200A                   M           XOR     R0,R0
15339 000026BC 3213                   M           CMP/GE  R1,R2           ;
15340 000026BE 8B0F                   M           BF      JMP0200001                      ; PV<SV1
15341 000026C0 3323                   M           CMP/GE  R2,R3           ;
15342 000026C2 8B0D                   M           BF      JMP0200001                      ; SV2<PV2 (1)
15343 000026C4 E001                   M           MOV     #1,R0           ;
15344                                 M           M_BRA   JMP0200001                      ;
15345 000026C6 A00B                   M           BRA     JMP0200001
15346 000026C8 0009                   M           NOP
15347                                 M   
15348                                 M   ;       ==== ０度をはさむ====
15349                                 M   ***** BEGIN-POOL *****
15350 000026CA 06FE                   M   DATA FOR SOURCE-LINE 5785
15351 000026CC 0708                   M   DATA FOR SOURCE-LINE 5786
15352 000026CE 0000                   M   ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   167
PROGRAM NAME =

15353 000026D0 00000000               M   DATA FOR SOURCE-LINE 5782
15354                                 M   ***** END-POOL *****
15355 000026D4                        M   JMP0100001:
15356 000026D4 E001                   M           MOV     #1,R0
15357 000026D6 3213                   M           CMP/GE  R1,R2
15358 000026D8 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
15359 000026DA 3323                   M           CMP/GE  R2,R3           ;
15360 000026DC 8900                   M           BT      JMP0200001                      ;
15361 000026DE 200A                   M           XOR     R0,R0           ;
15362 000026E0                        M   JMP0200001:
15363                            5788     
15364 000026E0 2008              5789             TST     R0,R0                                           ;
15365                            5790             TST_BIT_OF ORGIN_180CK_100                              ;範囲内ﾋｽﾃﾘｼｽ中
15366 000026E2 8911                   M           BT      ORGIN_180CK_100
15367                            5791     
15368                            5792             MEM1_BIT0_F_ORSET MEM=_ORIGN_180ARA_FLG,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15369 000026E4 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15370 000026E6 6041                   M           MOV.W   @R4,R0          ;
15371 000026E8 9108                   M           MOV.W   #BIT5,R1                ;
15372 000026EA 201B                   M           OR      R1,R0           ;
15373 000026EC 2401                   M           MOV.W   R0,@R4          ;
15374                            5793             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15375 000026EE D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15376 000026F0 6041                   M           MOV.W   @R4,R0          ;
15377 000026F2 9103                   M           MOV.W   #BIT5,R1                ;
15378 000026F4 201B                   M           OR      R1,R0           ;
15379 000026F6 2401                   M           MOV.W   R0,@R4          ;
15380                            5794     
15381                            5795     ;;;;    ------- 2009-03-19 不具合(だめ) S05p~現在までの不具合 S05vにて修正
15382                            5796     ;;;;    MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15383                            5797     ;;;;    MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15384                            5798     
15385                            5799     
15386                            5800             M_BRA   ORGIN_180CK_300                                 ;
15387 000026F8 A02E                   M           BRA     ORGIN_180CK_300
15388 000026FA 0009                   M           NOP
15389                            5801     
15390                            5802     
15391                                     ***** BEGIN-POOL *****
15392 000026FC 0020                       DATA FOR SOURCE-LINE 5792,5793
15393 000026FE 0000                       ALIGNMENT CODE
15394 00002700 00000000                   DATA FOR SOURCE-LINE 5792
15395 00002704 00000000                   DATA FOR SOURCE-LINE 5793
15396                                     ***** END-POOL *****
15397 00002708                   5803     ORGIN_180CK_100
15398 00002708 910A              5804             MOV.W   #_EQ_ORG_ONDIG-_EQ_ORG_HIS,R1                   ;178~182
15399 0000270A 930A              5805             MOV.W   #_EQ_ORG_OFDIG+_EQ_ORG_HIS,R3                   ;
15400                            5806             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15401 0000270C 3313                   M           CMP/GE  R1,R3
15402 0000270E 8B09                   M           BF      JMP0100002
15403                                 M   ;       === 0度をはさなまい===
15404 00002710 200A                   M           XOR     R0,R0
15405 00002712 3213                   M           CMP/GE  R1,R2           ;
15406 00002714 8B0C                   M           BF      JMP0200002                      ; PV<SV1
15407 00002716 3323                   M           CMP/GE  R2,R3           ;
15408 00002718 8B0A                   M           BF      JMP0200002                      ; SV2<PV2 (1)
15409 0000271A E001                   M           MOV     #1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   168
PROGRAM NAME =

15410                                 M           M_BRA   JMP0200002                      ;
15411 0000271C A008                   M           BRA     JMP0200002
15412 0000271E 0009                   M           NOP
15413                                 M   
15414                                 M   ;       ==== ０度をはさむ====
15415                                 M   ***** BEGIN-POOL *****
15416 00002720 06F4                   M   DATA FOR SOURCE-LINE 5804
15417 00002722 0712                   M   DATA FOR SOURCE-LINE 5805
15418                                 M   ***** END-POOL *****
15419 00002724                        M   JMP0100002:
15420 00002724 E001                   M           MOV     #1,R0
15421 00002726 3213                   M           CMP/GE  R1,R2
15422 00002728 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
15423 0000272A 3323                   M           CMP/GE  R2,R3           ;
15424 0000272C 8900                   M           BT      JMP0200002                      ;
15425 0000272E 200A                   M           XOR     R0,R0           ;
15426 00002730                        M   JMP0200002:
15427 00002730 2008              5807             TST     R0,R0                                           ;
15428                            5808             TST_BIT_ON ORGIN_180CK_200                              ;範囲内ﾋｽﾃﾘｼｽ中
15429 00002732 8B11                   M           BF      ORGIN_180CK_200
15430                            5809     
15431                            5810             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15432 00002734 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15433 00002736 6041                   M           MOV.W   @R4,R0          ;
15434 00002738 9108                   M           MOV.W   #LWORD (~BIT5),R1       ;
15435 0000273A 2019                   M           AND     R1,R0           ;
15436 0000273C 2401                   M           MOV.W   R0,@R4          ;
15437                            5811             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15438 0000273E D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15439 00002740 6041                   M           MOV.W   @R4,R0          ;
15440 00002742 9103                   M           MOV.W   #LWORD (~BIT5),R1       ;
15441 00002744 2019                   M           AND     R1,R0           ;
15442 00002746 2401                   M           MOV.W   R0,@R4          ;
15443                            5812             M_BRA   ORGIN_180CK_300                                 ;
15444 00002748 A006                   M           BRA     ORGIN_180CK_300
15445 0000274A 0009                   M           NOP
15446                            5813     
15447                            5814     ;       --------- ﾋｽﾃﾘｼｽ中---
15448                                     ***** BEGIN-POOL *****
15449 0000274C FFDF                       DATA FOR SOURCE-LINE 5810,5811
15450 0000274E 0000                       ALIGNMENT CODE
15451 00002750 00000000                   DATA FOR SOURCE-LINE 5810
15452 00002754 00000000                   DATA FOR SOURCE-LINE 5811
15453                                     ***** END-POOL *****
15454 00002758                   5815     ORGIN_180CK_200
15455                            5816     ;       ======== CPUA => CPUB DIRECTION===
15456                            5817             .AIF    0 EQ    0
15457                            5818             .AELSE
15458                            5819             MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15459                            5820             MOV.W   @R1,R0                          ;
15460                            5821             MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15461                            5822             MOV.W   R0,@R1                          ;
15462                            5823             .AENDI
15463                            5824     
15464 00002758                   5825     ORGIN_180CK_300
15465                            5826     
15466                            5827     ;       ======== CPUB => CPUA DIRECTION===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   169
PROGRAM NAME =

15467                            5828             .AIF    0 EQ    0       ;
15468 00002758 D103              5829 C           MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15469 0000275A 6011              5830 C           MOV.W   @R1,R0                          ;
15470 0000275C D103              5831 C           MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15471 0000275E 2101              5832 C           MOV.W   R0,@R1                          ;
15472                            5833             .AELSE
15473                            5834             .AENDI
15474                            5835     
15475                            5836     
15476                            5837     
15477                            5838             SUB_END
15478                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15479 00002760 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15480                            5839             M_RTS
15481 00002762 000B                   M           RTS                             ;RTSの後ろの
15482 00002764 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15483                            5840     
15484                            5841     ;       ***********************************
15485                            5842     ;       ***                             ***
15486                            5843     ;       ***     2008-11-11              ***
15487                            5844     ;       ***                             ***
15488                            5845     ;       ***********************************
15489                            5846     ;       ﾘﾆｱｽｹｰﾙ異常で停止させない場合、ﾘｾｯﾄをｼｰｹﾝｽから行う
15490                            5847             .EXPORT _RNA_ERR_RSTCHK                 ;
15491                                     ***** BEGIN-POOL *****
15492 00002766 0000                       ALIGNMENT CODE
15493 00002768 00000000                   DATA FOR SOURCE-LINE 5829
15494 0000276C 00000000                   DATA FOR SOURCE-LINE 5831
15495                                     ***** END-POOL *****
15496 00002770                   5848             .ALIGN  4                               ;
15497 00002770                   5849     _RNA_ERR_RSTCHK                                 ;
15498                            5850             SUB_START
15499 00002770 4F22                   M           STS.L   PR,@-R15                ;[必要]
15500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15501                            5851     
15502                            5852     
15503 00002772 D10C              5853             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15504 00002774 6011              5854             MOV.W   @R1,R0                          ;
15505 00002776 D10C              5855             MOV.L   #_SQ_RNA_ALMRST_OLD,R1          ;
15506 00002778 6211              5856             MOV.W   @R1,R2                          ;
15507 0000277A 2101              5857             MOV.W   R0,@R1                          ;
15508 0000277C 220A              5858             XOR     R0,R2                           ;EDGE
15509 0000277E 2209              5859             AND     R0,R2                           ;ON EDGE
15510                            5860     
15511 00002780 D10A              5861             MOV.L   #_IN_PARAM_RNA_CHK,R1           ;1:ERRを見ない　特殊ﾊﾞｰｼﾞｮﾝ
15512 00002782 6011              5862             MOV.W   @R1,R0                          ;
15513 00002784 2008              5863             TST     R0,R0                           ;
15514                            5864             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15515 00002786 8909                   M           BT      RNA_ERR_RSTCKEXT
15516                            5865     
15517 00002788 D109              5866             MOV.L   #_RNA_RESET_FLG,R1              ;(TIME-OUTを見ないだけ)
15518 0000278A 6011              5867             MOV.W   @R1,R0                          ;
15519 0000278C 2008              5868             TST     R0,R0                           ;
15520                            5869             TST_BIT_ON RNA_ERR_RSTCKEXT             ;
15521 0000278E 8B05                   M           BF      RNA_ERR_RSTCKEXT
15522                            5870     
15523 00002790 9407              5871             MOV.W   #BIT12,R4                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   170
PROGRAM NAME =

15524 00002792 2248              5872             TST     R4,R2                           ;
15525                            5873             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15526 00002794 8902                   M           BT      RNA_ERR_RSTCKEXT
15527                            5874     
15528                            5875             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;(ﾊｰﾄﾞ異常があれば異常ｺﾏﾝﾄﾞを出力する)
15529 00002796 D007                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15530 00002798 400B                   M           JSR     @R0                     ;
15531 0000279A 0009                   M           NOP                                     ;
15532                            5876     
15533                            5877     
15534 0000279C                   5878     RNA_ERR_RSTCKEXT                ;
15535                            5879             SUB_END
15536                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15537 0000279C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15538                            5880             M_RTS
15539 0000279E 000B                   M           RTS                             ;RTSの後ろの
15540 000027A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15541                            5881     
15542                            5882     
15543                            5883     ;       ***************************************************
15544                            5884     ;       ***                                             ***
15545                            5885     ;       ***     準備完了、未完了の遮光を急停止にする    ***
15546                            5886     ;       ***     このソフトでは停止にしない              ***
15547                            5887     ;       ***     MASKをやめる条件をつくるだけ            ***
15548                            5888     ;       ***     2012-09-25                              ***
15549                            5889     ;       ***************************************************
15550                                     ***** BEGIN-POOL *****
15551 000027A2 1000                       DATA FOR SOURCE-LINE 5871
15552 000027A4 00000000                   DATA FOR SOURCE-LINE 5853
15553 000027A8 00000000                   DATA FOR SOURCE-LINE 5855
15554 000027AC 00000000                   DATA FOR SOURCE-LINE 5861
15555 000027B0 00000000                   DATA FOR SOURCE-LINE 5866
15556 000027B4 00000000                   DATA FOR SOURCE-LINE 5875
15557                                     ***** END-POOL *****
15558 000027B8                   5890             .ALIGN  4                               ;
15559 000027B8                   5891     _MASK2_SAFTY_MAK:
15560                            5892             SUB_START
15561 000027B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15562                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15563                            5893     
15564 000027BA D10B              5894             MOV.L   #(_PAR_MYUTING_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15565 000027BC 6011              5895             MOV.W   @R1,R0                                                  ;
15566 000027BE 8801              5896             CMP/EQ  #1,R0                                                   ;
15567 000027C0 8B1F              5897             BF      MASK2_SFYSTP500                                         ;ﾐｭｰﾃﾝｸﾞ選択外部SW
                                          を参照しない
15568                            5898     
15569 000027C2 D10A              5899             MOV.L   #_SW_DEV_MASK_FLG,R1                                    ;
15570 000027C4 6011              5900             MOV.W   @R1,R0                                                  ;
15571 000027C6 C803              5901             TST     #(BIT1+BIT0),R0                                         ;
15572                            5902             TST_BIT_OF MASK2_SFYSTP400                                      ;安全装置の有効・
                                          無効ＳＷ兼ROMパラ含む
15573 000027C8 8918                   M           BT      MASK2_SFYSTP400
15574                            5903     
15575 000027CA D109              5904             MOV.L   #_di2_cb_ctl2_dt,R1                                     ;
15576 000027CC 6211              5905             MOV.W   @R1,R2                                                  ;
15577 000027CE 9409              5906             MOV.W   #_W2WT2,R4                                              ;BIT5
15578 000027D0 2249              5907             AND     R4,R2                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   171
PROGRAM NAME =

15579 000027D2 D108              5908             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15580 000027D4 2121              5909             MOV.W   R2,@R1                                                  ;
15581                            5910     
15582 000027D6 D108              5911             MOV.L   #_SELF_FLG,R1                                           ;//BIT0:ｾﾙﾌﾁｪｯｸ中
15583 000027D8 6011              5912             MOV.W   @R1,R0                                                  ;
15584 000027DA C801              5913             TST     #BIT0,R0                                                ;
15585                            5914             TST_BIT_ON MASK2_SFYSTP500                                      ;
15586 000027DC 8B11                   M           BF      MASK2_SFYSTP500
15587                            5915     
15588 000027DE 9002              5916             MOV.W   #1,R0                                                   ;この時点である一
                                          部を安全一を除き準備完了中もEXQ停止
15589                            5917             M_BRA   MASK2_SFYSTP600                                         ;
15590 000027E0 A010                   M           BRA     MASK2_SFYSTP600
15591 000027E2 0009                   M           NOP
15592                            5918     
15593                            5919     
15594                                     ***** BEGIN-POOL *****
15595 000027E4 0020                       DATA FOR SOURCE-LINE 5906
15596 000027E6 0001                       DATA FOR SOURCE-LINE 5916
15597 000027E8 00000000                   DATA FOR SOURCE-LINE 5894
15598 000027EC 00000000                   DATA FOR SOURCE-LINE 5899
15599 000027F0 00000000                   DATA FOR SOURCE-LINE 5904
15600 000027F4 00000000                   DATA FOR SOURCE-LINE 5908
15601 000027F8 00000000                   DATA FOR SOURCE-LINE 5911
15602                                     ***** END-POOL *****
15603 000027FC                   5920     MASK2_SFYSTP400:
15604 000027FC 222A              5921             XOR     R2,R2
15605 000027FE D104              5922             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15606 00002800 2121              5923             MOV.W   R2,@R1                                                  ;
15607                            5924     
15608 00002802                   5925     MASK2_SFYSTP500:
15609 00002802 200A              5926             XOR     R0,R0
15610 00002804                   5927     MASK2_SFYSTP600:
15611 00002804 D103              5928             MOV.L   #_UPMSK2_MOD,R1         ;//SWを0:参照しない,1:参照する
15612 00002806 2101              5929             MOV.W   R0,@R1                  ;
15613                            5930     
15614 00002808                   5931     MASK2_SFYSTPEXT:
15615                            5932     
15616                            5933             SUB_END
15617                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15618 00002808 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15619                            5934             M_RTS
15620 0000280A 000B                   M           RTS                             ;RTSの後ろの
15621 0000280C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15622                            5935     
15623                                     ***** BEGIN-POOL *****
15624 0000280E 0000                       ALIGNMENT CODE
15625 00002810 00000000                   DATA FOR SOURCE-LINE 5922
15626 00002814 00000000                   DATA FOR SOURCE-LINE 5928
15627                                     ***** END-POOL *****
15628 00002818                   5936     _MASK2_SAFTY_SW_MOV:
15629                            5937             SUB_START
15630 00002818 4F22                   M           STS.L   PR,@-R15                ;[必要]
15631                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15632 0000281A D103              5938             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   172
PROGRAM NAME =

                                          機点2)
15633 0000281C 6011              5939             MOV.W   @R1,R0                                                  ;
15634 0000281E D103              5940             MOV.L   #_UPMAK2_MOD_USE_SW,R1                                  ;//0,1(反映ﾀｲﾐﾝｸﾞ
                                          後)
15635 00002820 2101              5941             MOV.W   R0,@R1                                                  ;
15636                            5942     
15637                            5943             SUB_END
15638                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15639 00002822 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15640                            5944             M_RTS
15641 00002824 000B                   M           RTS                             ;RTSの後ろの
15642 00002826 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15643                            5945     
15644                            5946     
15645                            5947     
15646                            5948     
15647                            5949     
15648                            5950     ;       *******************************************
15649                            5951     ;       ***                                     ***
15650                            5952     ;       ***             2014-02-20              ***
15651                            5953     ;       ***             SWによるﾓｰﾄﾞ制限        ***
15652                            5954     ;       *******************************************
15653                                     ***** BEGIN-POOL *****
15654 00002828 00000000                   DATA FOR SOURCE-LINE 5938
15655 0000282C 00000000                   DATA FOR SOURCE-LINE 5940
15656                                     ***** END-POOL *****
15657 00002830                   5955     _SFTY_MUTING_MODE_ERR:
15658                            5956             SUB_START
15659 00002830 4F22                   M           STS.L   PR,@-R15                ;[必要]
15660                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15661 00002832 D10C              5957             MOV.L   #(_PAR_MYUTERR_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15662 00002834 6011              5958             MOV.W   @R1,R0
15663 00002836 8801              5959             CMP/EQ  #1,R0
15664 00002838 8B39              5960             BF      SFTY_MUTING_MODER_EXT           ;
15665                            5961     
15666 0000283A D10B              5962             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15667 0000283C 6011              5963             MOV.W   @R1,R0                                                  ;
15668 0000283E D10B              5964             MOV.L   #_UPMSK2_MOD_IN_SWOLD,R1        ;//2014-02-20
15669 00002840 6211              5965             MOV.W   @R1,R2                          ;
15670 00002842 2101              5966             MOV.W   R0,@R1                          ;
15671 00002844 220A              5967             XOR     R0,R2                           ;
15672 00002846 2028              5968             TST     R2,R0                           ;
15673                            5969             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15674 00002848 8916                   M           BT      SFTY_MUTING_MODER_100
15675                            5970     
15676                            5971     ;       ------無効から有効になった--------
15677 0000284A D109              5972             MOV.L   #_INP_MODE,R1                   ;
15678 0000284C 6011              5973             MOV.W   @R1,R0                          ;
15679 0000284E 9407              5974             MOV.W   #_W1CNT+_W1OPT,R4               ;
15680 00002850 2048              5975             TST     R4,R0                           ;
15681                            5976             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15682 00002852 8911                   M           BT      SFTY_MUTING_MODER_100
15683                            5977     
15684 00002854 9404              5978             MOV.W   #H'0018,R4                      ;
15685                            5979             FAR_JSR #_EMG_STOP,R0                   ;
15686 00002856 D007                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   173
PROGRAM NAME =

15687 00002858 400B                   M           JSR     @R0                     ;
15688 0000285A 0009                   M           NOP                                     ;
15689                            5980             M_BRA   SFTY_MUTING_MODER_EXT           ;
15690 0000285C A027                   M           BRA     SFTY_MUTING_MODER_EXT
15691 0000285E 0009                   M           NOP
15692                            5981     
15693                            5982     
15694                                     ***** BEGIN-POOL *****
15695 00002860 0018                       DATA FOR SOURCE-LINE 5974,5978
15696 00002862 0000                       ALIGNMENT CODE
15697 00002864 00000000                   DATA FOR SOURCE-LINE 5957
15698 00002868 00000000                   DATA FOR SOURCE-LINE 5962
15699 0000286C 00000000                   DATA FOR SOURCE-LINE 5964
15700 00002870 00000000                   DATA FOR SOURCE-LINE 5972
15701 00002874 00000000                   DATA FOR SOURCE-LINE 5979
15702                                     ***** END-POOL *****
15703 00002878                   5983     SFTY_MUTING_MODER_100:
15704                            5984     
15705                            5985     ;       -------------------------------------------
15706                            5986     ;       ---             ﾓｰﾄﾞ制限                ---
15707                            5987     ;       -------------------------------------------
15708                            5988     
15709 00002878 D104              5989             MOV.L   #_INP_MODE,R1                           ;
15710 0000287A 6011              5990             MOV.W   @R1,R0                                  ;
15711 0000287C C808              5991             TST     #_W1CNT,R0                              ;
15712                            5992             TST_BIT_ON SFTY_MUTING_MODER_200                ;連続
15713 0000287E 8B09                   M           BF      SFTY_MUTING_MODER_200
15714                            5993     
15715 00002880 D103              5994             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
15716 00002882 6011              5995             MOV.W   @R1,R0                                  ;
15717 00002884 C810              5996             TST     #_W1OPT,R0                              ;
15718                            5997             TST_BIT_ON SFTY_MUTING_MODER_200                ;ｵﾌﾟｼｮﾝ
15719 00002886 8B05                   M           BF      SFTY_MUTING_MODER_200
15720                            5998             M_BRA   SFTY_MUTING_MODER_EXT                   ;
15721 00002888 A011                   M           BRA     SFTY_MUTING_MODER_EXT
15722 0000288A 0009                   M           NOP
15723                            5999     
15724                            6000     
15725                                     ***** BEGIN-POOL *****
15726 0000288C 00000000                   DATA FOR SOURCE-LINE 5989
15727 00002890 00000000                   DATA FOR SOURCE-LINE 5994
15728                                     ***** END-POOL *****
15729 00002894                   6001     SFTY_MUTING_MODER_200:
15730                            6002     
15731 00002894 D108              6003             MOV.L   #_UPMSK2_MOD_IN_SW,R1                   ;//BIT5=0/1(生　待機点2)
15732 00002896 6011              6004             MOV.W   @R1,R0                                  ;
15733 00002898 2008              6005             TST     R0,R0                                   ;
15734                            6006             TST_BIT_OF SFTY_MUTING_MODER_EXT                ;
15735 0000289A 8908                   M           BT      SFTY_MUTING_MODER_EXT
15736                            6007     
15737                            6008             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
                                          ;
15738 0000289C D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
15739 0000289E 6011                   M           MOV.W   @R1,R0          ;
15740 000028A0 9408                   M           MOV.W   #(BIT4),R4              ;
15741 000028A2 204B                   M           OR      R4,R0           ;
15742 000028A4 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   174
PROGRAM NAME =

15743 000028A6 9406              6009             MOV.W   #H'2164,R4
                                          ;
15744                            6010             FAR_JSR #_EMG_STOP,R0
                                          ;
15745 000028A8 D005                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15746 000028AA 400B                   M           JSR     @R0                     ;
15747 000028AC 0009                   M           NOP                                     ;
15748                            6011     
15749 000028AE                   6012     SFTY_MUTING_MODER_EXT:
15750                            6013     
15751                            6014             SUB_END
15752                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15753 000028AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15754                            6015             M_RTS
15755 000028B0 000B                   M           RTS                             ;RTSの後ろの
15756 000028B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15757                            6016     
15758                            6017     
15759                            6018     
15760                            6019     
15761                            6020     
15762                            6021     ;       ***************************************************
15763                            6022     ;       ***                                             ***
15764                            6023     ;       ***                                             ***
15765                            6024     ;       ***             制動試験                        ***
15766                            6025     ;       ***                                             ***
15767                            6026     ;       ***             2010-08-20                      ***
15768                            6027     ;       ***                                             ***
15769                            6028     ;       ***************************************************
15770                            6029     ;       ﾊﾟﾗﾒｰﾀ21から
15771                            6030     ;_PAR_SELF_MATH_SEL
15772                            6031     ;       MOV.L   #_SELF_CHK_SEL,R1               ;
15773                            6032     ;       MOV.W   R2,@R1                          ;0:ｾﾙﾌﾁｪｯｸなし
15774                            6033     ;                                               ;BIT0=1:非常停止解除時
15775                            6034     ;                                               ;BIT1=1:動作終了時
15776                            6035     ;       MOV.L   #_SELF_CHK_MATHED,R1            ;
15777                            6036     ;       MOV.W   R3,@R1                          ;項目
15778                            6037     ;       _PAR_SELFCHK_POWSEL     .DATA.W         1       ;0:電源投入時のみPARAM21 1:PARAM21
                                          のﾀｲﾐﾝｸﾞ
15779                            6038     ;
15780                            6039     ;       1回ｾﾙﾌﾁｪｯｸが終了し、起動したら、通常のｾﾙﾌﾁｪｯｸ _SELF_CHK_SEL
15781                            6040     ;       MOV.L   #_SELF_LOCK_FLG,R1
15782                            6041     ;
15783                            6042     ;
15784                            6043     
15785                                     ***** BEGIN-POOL *****
15786 000028B4 0010                       DATA FOR SOURCE-LINE 6008
15787 000028B6 2164                       DATA FOR SOURCE-LINE 6009
15788 000028B8 00000000                   DATA FOR SOURCE-LINE 6003
15789 000028BC 00000000                   DATA FOR SOURCE-LINE 6008
15790 000028C0 00000000                   DATA FOR SOURCE-LINE 6010
15791                                     ***** END-POOL *****
15792 000028C4                   6044             .ALIGN  4
15793 000028C4                   6045     _BRKTST_CTRL:
15794                            6046             SUB_START
15795 000028C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15796                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   175
PROGRAM NAME =

15797                            6047     
15798                            6048     ;       ------2011-09-14-------
15799                            6049             FAR_JSR #_BRKTST_INPUT_MAK,R0           ;
15800 000028C6 D011                   M           MOV.L   #_BRKTST_INPUT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15801 000028C8 400B                   M           JSR     @R0                     ;
15802 000028CA 0009                   M           NOP                                     ;
15803                            6050     
15804                            6051     
15805 000028CC D110              6052             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15806 000028CE 6011              6053             MOV.W   @R1,R0                          ;
15807 000028D0 C801              6054             TST     #BIT0,R0                        ;
15808                            6055             TST_BIT_ON BRKTST_CTL_100               ;
15809 000028D2 8B2B                   M           BF      BRKTST_CTL_100
15810                            6056                                                     ;BIT0=1 START
15811                            6057                                                     ;BIT1=0 起動待ち BIT1=1 起動完了
15812                            6058                                                     ;BIT2=0 起動中   BIT2=1 停止指令ON
15813                            6059                                                     ;BIT3=0 停止待ち BIT3=1 停止完了
15814                            6060                                                     ;BIT4=1:98%到達
15815                            6061                                                     ;BIT5=0:正常 1:速度到達しないまたは停止時
                                          間ｵｰﾊﾞした失敗
15816                            6062                                                     ;BIT6=1 完了(指令OFF待ち)
15817                            6063                                                     ;BIT7=1 完了(このソフトでは使用しない)
15818                            6064     
15819                            6065     
15820                            6066     ;       ========== ILDE =========
15821                            6067     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15822 000028D4 D10F              6068             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15823 000028D6 6011              6069             MOV.W   @R1,R0                          ;
15824 000028D8 C801              6070             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15825                            6071             TST_BIT_OF BRKTST_CTL_090               ;OFF
15826 000028DA 8914                   M           BT      BRKTST_CTL_090
15827                            6072     
15828                            6073     ;       --- ｾﾙﾌﾁｪｯｸ有ならｾﾙﾌﾁｪｯｸ完了後に行う---
15829 000028DC D10E              6074             MOV.L   #_SELF_CHK_SEL,R1               ;
15830 000028DE 6011              6075             MOV.W   @R1,R0                          ;
15831 000028E0 2008              6076             TST     R0,R0                           ;
15832                            6077             TST_BIT_OF BRKTST_CTL_050               ;SELFﾁｪｯｸ有効？ NO
15833 000028E2 8903                   M           BT      BRKTST_CTL_050
15834                            6078     
15835 000028E4 D10D              6079             MOV.L   #_SELF_FLG,R1                   ;//BIT0:ｾﾙﾌﾁｪｯｸ中  BIT7ｾﾙﾌﾁｪｯｸ正常完了
15836 000028E6 6011              6080             MOV.W   @R1,R0                          ;
15837 000028E8 C880              6081             TST     #BIT7,R0                        ;
15838                            6082             TST_BIT_OF BRKTST_CTL_090               ;ｾﾙﾌﾁｪｯｸ未完了
15839 000028EA 890C                   M           BT      BRKTST_CTL_090
15840 000028EC                   6083     BRKTST_CTL_050:
15841                            6084     
15842                            6085             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15843 000028EC D00C                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15844 000028EE 400B                   M           JSR     @R0                     ;
15845 000028F0 0009                   M           NOP                                     ;
15846 000028F2 2008              6086             TST     R0,R0                           ;
15847                            6087             TST_BIT_ON BRKTST_CTL_090               ;R0!=0 EXIT
15848 000028F4 8B07                   M           BF      BRKTST_CTL_090
15849                            6088     
15850 000028F6 9008              6089             MOV.W   #BIT0,R0                        ;
15851 000028F8 D105              6090             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15852 000028FA 2101              6091             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   176
PROGRAM NAME =

15853                            6092                                                     ;BIT7が変化するときにCALL
15854 000028FC D109              6093             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15855 000028FE 2101              6094             MOV.W   R0,@R1                          ;2011-09-14
15856                            6095             .AIF    0 EQ    0       ;
15857                            6096 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15858 00002900 D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15859 00002902 400B                   M           JSR     @R0                     ;
15860 00002904 0009                   M           NOP                                     ;
15861                            6097             .AENDI
15862                            6098     
15863                            6099     
15864 00002906                   6100     BRKTST_CTL_090:
15865                            6101             M_BRA   BRKTST_CTL_900                  ;
15866 00002906 A0F5                   M           BRA     BRKTST_CTL_900
15867 00002908 0009                   M           NOP
15868                            6102     
15869                            6103     
15870                            6104     ;       ------------- 動作中---------------
15871                                     ***** BEGIN-POOL *****
15872 0000290A 0001                       DATA FOR SOURCE-LINE 6089
15873 0000290C 00000000                   DATA FOR SOURCE-LINE 6049
15874 00002910 00000000                   DATA FOR SOURCE-LINE 6052,6090
15875 00002914 00000000                   DATA FOR SOURCE-LINE 6068
15876 00002918 00000000                   DATA FOR SOURCE-LINE 6074
15877 0000291C 00000000                   DATA FOR SOURCE-LINE 6079
15878 00002920 00000000                   DATA FOR SOURCE-LINE 6085
15879 00002924 00000000                   DATA FOR SOURCE-LINE 6093
15880 00002928 00000000                   DATA FOR SOURCE-LINE 6096
15881                                     ***** END-POOL *****
15882 0000292C                   6105     BRKTST_CTL_100:
15883                            6106     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15884 0000292C D10E              6107             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15885 0000292E 6011              6108             MOV.W   @R1,R0                          ;
15886 00002930 C801              6109             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15887                            6110             TST_BIT_ON BRKTST_CTL_200               ;
15888 00002932 8B39                   M           BF      BRKTST_CTL_200
15889                            6111     
15890 00002934 D10D              6112             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15891 00002936 6011              6113             MOV.W   @R1,R0                          ;
15892 00002938 C960              6114             AND     #(BIT6+BIT5),R0                 ;
15893 0000293A 8840              6115             CMP/EQ  #BIT6,R0                        ;異常がなくて正常完了している
15894 0000293C 8922              6116             BT      BRKTST_CTL_150                  ;正常完了状態でのOFF
15895                            6117     
15896                            6118     ;;;;2011-09-14  TST     #BIT6,R0                ;
15897                            6119     ;;;;2011-09-14  TST_BIT_ON BRKTST_CTL_150       ;完了状態でのOFF
15898                            6120     
15899                            6121                                                     ;動作中にモードＯＦＦした、異常停止
15900 0000293E 9411              6122             MOV.W   #H'3490,R4                      ;2010-12-21
15901                            6123             FAR_JSR #_EMG_STOP,R0                   ;
15902 00002940 D00B                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15903 00002942 400B                   M           JSR     @R0                     ;
15904 00002944 0009                   M           NOP                                     ;
15905                            6124     
15906 00002946 200A              6125             XOR     R0,R0                           ;
15907 00002948 D108              6126             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15908 0000294A 2101              6127             MOV.W   R0,@R1                          ;
15909                            6128                                                     ;BIT7が変化するときにCALL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   177
PROGRAM NAME =

15910 0000294C D109              6129             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15911 0000294E 2101              6130             MOV.W   R0,@R1                          ;2011-09-14
15912                            6131             .AIF    0 EQ    0       ;
15913                            6132 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15914 00002950 D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15915 00002952 400B                   M           JSR     @R0                     ;
15916 00002954 0009                   M           NOP                                     ;
15917                            6133             .AENDI
15918                            6134     
15919 00002956 200A              6135             XOR     R0,R0
15920 00002958 D108              6136             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15921 0000295A 2101              6137             MOV.W   R0,@R1
15922 0000295C D108              6138             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
15923 0000295E 2101              6139             MOV.W   R0,@R1
15924                            6140     
15925                            6141             M_BRA   BRKTST_CTL_190
15926 00002960 A018                   M           BRA     BRKTST_CTL_190
15927 00002962 0009                   M           NOP
15928                            6142     
15929                            6143     ;       --------- 正常完了状態でoffされた----------
15930                                     ***** BEGIN-POOL *****
15931 00002964 3490                       DATA FOR SOURCE-LINE 6122
15932 00002966 0000                       ALIGNMENT CODE
15933 00002968 00000000                   DATA FOR SOURCE-LINE 6107
15934 0000296C 00000000                   DATA FOR SOURCE-LINE 6112,6126
15935 00002970 00000000                   DATA FOR SOURCE-LINE 6123
15936 00002974 00000000                   DATA FOR SOURCE-LINE 6129
15937 00002978 00000000                   DATA FOR SOURCE-LINE 6132
15938 0000297C 00000000                   DATA FOR SOURCE-LINE 6136
15939 00002980 00000000                   DATA FOR SOURCE-LINE 6138
15940                                     ***** END-POOL *****
15941 00002984                   6144     BRKTST_CTL_150:
15942                            6145     
15943 00002984 9008              6146             MOV.W   #BIT7,R0                        ;
15944 00002986 D105              6147             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15945 00002988 2101              6148             MOV.W   R0,@R1                          ;
15946                            6149                                                     ;BIT7が変化するときにCALL
15947 0000298A D105              6150             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15948 0000298C 2101              6151             MOV.W   R0,@R1                          ;2011-09-14
15949                            6152             .AIF    0 EQ    0       ;
15950                            6153 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15951 0000298E D005                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15952 00002990 400B                   M           JSR     @R0                     ;
15953 00002992 0009                   M           NOP                                     ;
15954                            6154             .AENDI
15955                            6155     
15956                            6156     
15957 00002994                   6157     BRKTST_CTL_190:
15958                            6158             M_BRA   BRKTST_CTL_900                  ;
15959 00002994 A0AE                   M           BRA     BRKTST_CTL_900
15960 00002996 0009                   M           NOP
15961                            6159     
15962                            6160     ;       -------------起動待ち(BIT1=0),起動中(),停止判定待ち-----------------
15963                                     ***** BEGIN-POOL *****
15964 00002998 0080                       DATA FOR SOURCE-LINE 6146
15965 0000299A 0000                       ALIGNMENT CODE
15966 0000299C 00000000                   DATA FOR SOURCE-LINE 6147
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   178
PROGRAM NAME =

15967 000029A0 00000000                   DATA FOR SOURCE-LINE 6150
15968 000029A4 00000000                   DATA FOR SOURCE-LINE 6153
15969                                     ***** END-POOL *****
15970 000029A8                   6161     BRKTST_CTL_200:
15971 000029A8 D102              6162             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15972 000029AA 6011              6163             MOV.W   @R1,R0                          ;
15973                            6164     
15974 000029AC C808              6165             TST     #BIT3,R0                        ;
15975                            6166             TST_BIT_OF BRKTST_CTL_220               ;
15976 000029AE 8903                   M           BT      BRKTST_CTL_220
15977                            6167             M_BRA   BRKTST_CTL_500                  ;[停止完了]
15978 000029B0 A090                   M           BRA     BRKTST_CTL_500
15979 000029B2 0009                   M           NOP
15980                            6168     
15981                                     ***** BEGIN-POOL *****
15982 000029B4 00000000                   DATA FOR SOURCE-LINE 6162
15983                                     ***** END-POOL *****
15984 000029B8                   6169     BRKTST_CTL_220:
15985 000029B8 C804              6170             TST     #BIT2,R0                        ;
15986                            6171             TST_BIT_ON BRKTST_CTL_400               ;
15987 000029BA 8B6D                   M           BF      BRKTST_CTL_400
15988 000029BC C802              6172             TST     #BIT1,R0                        ;
15989                            6173             TST_BIT_ON BRKTST_CTL_300               ;
15990 000029BE 8B35                   M           BF      BRKTST_CTL_300
15991                            6174     
15992                            6175     ;       ---- 起動待ち[BIT1=0]-----
15993                            6176     
15994                            6177     ;       ===============準備完了・未完了処置===========
15995                            6178     ;       --- 2010-10-22 ---------
15996                            6179             FAR_JSR #_BRKTST_RDY_CHK,R0             ;
15997 000029C0 D003                   M           MOV.L   #_BRKTST_RDY_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15998 000029C2 400B                   M           JSR     @R0                     ;
15999 000029C4 0009                   M           NOP                                     ;
16000                            6180     
16001 000029C6 2008              6181             TST     R0,R0                           ;
16002                            6182             TST_BIT_OF BRKTST_CTL_250               ;
16003 000029C8 8904                   M           BT      BRKTST_CTL_250
16004                            6183             M_BRA   BRKTST_CTL_290                  ;RDY-OFFまたはrdy-onだが(起動不可)
16005 000029CA A024                   M           BRA     BRKTST_CTL_290
16006 000029CC 0009                   M           NOP
16007                            6184     
16008                            6185     ;       ---------- 準備完了で”起動受付可能”な状況
16009                                     ***** BEGIN-POOL *****
16010 000029CE 0000                       ALIGNMENT CODE
16011 000029D0 00000000                   DATA FOR SOURCE-LINE 6179
16012                                     ***** END-POOL *****
16013 000029D4                   6186     BRKTST_CTL_250:
16014                            6187     
16015                            6188             FAR_JSR #_BTTN_START_CHK,R0     ;
16016 000029D4 D005                   M           MOV.L   #_BTTN_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16017 000029D6 400B                   M           JSR     @R0                     ;
16018 000029D8 0009                   M           NOP                                     ;
16019 000029DA 2008              6189             TST     R0,R0                   ;
16020                            6190             TST_BIT_OF BRKTST_CTL_290       ;変化なし
16021 000029DC 891B                   M           BT      BRKTST_CTL_290
16022 000029DE 8855              6191             CMP/EQ  #H'55,R0                ;
16023 000029E0 8908              6192             BT      BRKTST_CTL_260          ;起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   179
PROGRAM NAME =

16024                            6193     
16025                            6194     ;       ---------- 失敗-----------
16026                            6195             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16027 000029E2 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16028 000029E4 400B                   M           JSR     @R0                     ;
16029 000029E6 0009                   M           NOP                                     ;
16030                            6196             M_BRA   BRKTST_CTL_290                  ;
16031 000029E8 A015                   M           BRA     BRKTST_CTL_290
16032 000029EA 0009                   M           NOP
16033                            6197     
16034                            6198     
16035                                     ***** BEGIN-POOL *****
16036 000029EC 00000000                   DATA FOR SOURCE-LINE 6188
16037 000029F0 00000000                   DATA FOR SOURCE-LINE 6195
16038                                     ***** END-POOL *****
16039 000029F4                   6199     BRKTST_CTL_260:
16040                            6200             FAR_JSR #_DRV_START_KEP_WAIT,R0                         ;
16041 000029F4 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16042 000029F6 400B                   M           JSR     @R0                     ;
16043 000029F8 0009                   M           NOP                                     ;
16044 000029FA 2008              6201             TST     R0,R0                                           ;
16045                            6202             TST_BIT_OF BRKTST_CTL_290                               ;
16046 000029FC 890B                   M           BT      BRKTST_CTL_290
16047 000029FE 8855              6203             CMP/EQ  #H'55,R0
16048 00002A00 8B09              6204             BF      BRKTST_CTL_290                                  ;"1"ﾛｯｸ解除中待ち
16049                            6205     
16050                            6206             FAR_JSR #_BRKTST_CHKDT_MAK,R0
16051 00002A02 D007                   M           MOV.L   #_BRKTST_CHKDT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16052 00002A04 400B                   M           JSR     @R0                     ;
16053 00002A06 0009                   M           NOP                                     ;
16054                            6207             FAR_JSR #_BRKTST_MOTOR_START,R0                                         ;起動
16055 00002A08 D006                   M           MOV.L   #_BRKTST_MOTOR_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16056 00002A0A 400B                   M           JSR     @R0                     ;
16057 00002A0C 0009                   M           NOP                                     ;
16058                            6208             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
16059 00002A0E D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16060 00002A10 6011                   M           MOV.W   @R1,R0          ;
16061 00002A12 CB02                   M           OR      #BIT1,R0                ;
16062 00002A14 2101                   M           MOV.W   R0,@R1          ;
16063 00002A16                   6209     BRKTST_CTL_290:
16064                            6210             M_BRA   BRKTST_CTL_900                                                  ;
16065 00002A16 A06D                   M           BRA     BRKTST_CTL_900
16066 00002A18 0009                   M           NOP
16067                            6211     
16068                            6212     ;       ----------------------------------------
16069                                     ***** BEGIN-POOL *****
16070 00002A1A 0000                       ALIGNMENT CODE
16071 00002A1C 00000000                   DATA FOR SOURCE-LINE 6200
16072 00002A20 00000000                   DATA FOR SOURCE-LINE 6206
16073 00002A24 00000000                   DATA FOR SOURCE-LINE 6207
16074 00002A28 00000000                   DATA FOR SOURCE-LINE 6208
16075                                     ***** END-POOL *****
16076 00002A2C                   6213     BRKTST_CTL_300:
16077                            6214     ;       ------ 98%CHKCK----
16078                            6215             FAR_JSR #_BRKTST_SPD_CHK,R0
16079 00002A2C D008                   M           MOV.L   #_BRKTST_SPD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16080 00002A2E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   180
PROGRAM NAME =

16081 00002A30 0009                   M           NOP                                     ;
16082                            6216     
16083                            6217     ;       ---- 起動中・停止指令待ち[BIT2=0]-----
16084                            6218     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
16085 00002A32 D108              6219             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
16086 00002A34 6011              6220             MOV.W   @R1,R0                                                          ;
16087 00002A36 C802              6221             TST     #BIT1,R0                                                        ;349.1(停
                                          止指令)
16088                            6222             TST_BIT_OF BRKTST_CTL_350                                               ;
16089 00002A38 8912                   M           BT      BRKTST_CTL_350
16090 00002A3A 9408              6223             MOV.W   #H'3491,R4                                                      ;2010-12-2
                                          1
16091                            6224             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
16092 00002A3C D006                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16093 00002A3E 400B                   M           JSR     @R0                     ;
16094 00002A40 0009                   M           NOP                                     ;
16095                            6225             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT2,WKREG=R1      ;ちゃんと
                                          した停止
16096 00002A42 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16097 00002A44 6011                   M           MOV.W   @R1,R0          ;
16098 00002A46 CB04                   M           OR      #BIT2,R0                ;
16099 00002A48 2101                   M           MOV.W   R0,@R1          ;
16100                            6226             M_BRA   BRKTST_CTL_390
16101 00002A4A A01A                   M           BRA     BRKTST_CTL_390
16102 00002A4C 0009                   M           NOP
16103                            6227     
16104                                     ***** BEGIN-POOL *****
16105 00002A4E 3491                       DATA FOR SOURCE-LINE 6223
16106 00002A50 00000000                   DATA FOR SOURCE-LINE 6215
16107 00002A54 00000000                   DATA FOR SOURCE-LINE 6219
16108 00002A58 00000000                   DATA FOR SOURCE-LINE 6224
16109 00002A5C 00000000                   DATA FOR SOURCE-LINE 6225
16110                                     ***** END-POOL *****
16111 00002A60                   6228     BRKTST_CTL_350:
16112 00002A60 D109              6229             MOV.L   #_BTTN_FLG,R1                   ;
16113 00002A62 6011              6230             MOV.W   @R1,R0                          ;
16114 00002A64 C804              6231             TST     #BIT2,R0                        ;両手ON
16115                            6232             TST_BIT_OF BRKTST_CTL_360               ;両手ONでない
16116 00002A66 8904                   M           BT      BRKTST_CTL_360
16117                            6233     
16118                            6234             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
16119 00002A68 D008                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16120 00002A6A 400B                   M           JSR     @R0                     ;
16121 00002A6C 0009                   M           NOP                                     ;
16122 00002A6E 2008              6235             TST     R0,R0                           ;
16123                            6236             TST_BIT_OF BRKTST_CTL_390               ;
16124 00002A70 8907                   M           BT      BRKTST_CTL_390
16125                            6237     
16126 00002A72                   6238     BRKTST_CTL_360                                  ;両手ONでない
16127 00002A72 9408              6239             MOV.W   #H'3492,R4                      ;2010-12-21
16128                            6240     ;;;;    FAR_JSR #_BRKTST_MOTOR_STOP,R0          ;動作中に運転釦を離したまたは異常が発生し
                                          た
16129                            6241             FAR_JSR #_EMG_STOP,R0                   ;
16130 00002A74 D006                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16131 00002A76 400B                   M           JSR     @R0                     ;
16132 00002A78 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   181
PROGRAM NAME =

16133                            6242             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT5+BIT2),WKREG=R1       ;B
                                          IT5異常
16134 00002A7A D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16135 00002A7C 6011                   M           MOV.W   @R1,R0          ;
16136 00002A7E CB24                   M           OR      #(BIT5+BIT2),R0         ;
16137 00002A80 2101                   M           MOV.W   R0,@R1          ;
16138 00002A82                   6243     BRKTST_CTL_390:
16139                            6244             M_BRA   BRKTST_CTL_900                  ;
16140 00002A82 A037                   M           BRA     BRKTST_CTL_900
16141 00002A84 0009                   M           NOP
16142                            6245     
16143                            6246     
16144                            6247     
16145                            6248     
16146                            6249     ;       ----------------------------------------
16147                                     ***** BEGIN-POOL *****
16148 00002A86 3492                       DATA FOR SOURCE-LINE 6239
16149 00002A88 00000000                   DATA FOR SOURCE-LINE 6229
16150 00002A8C 00000000                   DATA FOR SOURCE-LINE 6234
16151 00002A90 00000000                   DATA FOR SOURCE-LINE 6241
16152 00002A94 00000000                   DATA FOR SOURCE-LINE 6242
16153                                     ***** END-POOL *****
16154 00002A98                   6250     BRKTST_CTL_400:
16155                            6251     ;       ---- 停止指令ON 停止判定待ち[BIT3=0]-----
16156 00002A98 D10B              6252             MOV.L   #_STOPPING_TIM_FLG,R1                                           ;
16157 00002A9A 6011              6253             MOV.W   @R1,R0
16158 00002A9C C840              6254             TST     #BIT6,R0                                                        ;
16159                            6255             TST_BIT_OF BRKTST_CTL_490                                               ;
16160 00002A9E 8910                   M           BT      BRKTST_CTL_490
16161                            6256     
16162                            6257             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT3,WKREG=R1      ;[停止完了
                                          ]
16163 00002AA0 D10A                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16164 00002AA2 6011                   M           MOV.W   @R1,R0          ;
16165 00002AA4 CB08                   M           OR      #BIT3,R0                ;
16166 00002AA6 2101                   M           MOV.W   R0,@R1          ;
16167                            6258     
16168                            6259     
16169                            6260     ;;;;    MOV.L   #_SQ_CBWK_TOP+_WKSQCB212,R1
16170                            6261     ;;;;    MOV.W   @R1,R0
16171                            6262     ;;;;    MOV.W   #(BIT9+BIT8),R4                                                 ;
16172                            6263     
16173 00002AA8 D109              6264             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1
16174 00002AAA 6011              6265             MOV.W   @R1,R0
16175 00002AAC 940B              6266             MOV.W   #(BIT15+BIT14),R4                                                       ;
16176 00002AAE 2048              6267             TST     R4,R0                                                           ;
16177                            6268             TST_BIT_ON BRKTST_CTL_450                                               ;
16178 00002AB0 8B03                   M           BF      BRKTST_CTL_450
16179                            6269     
16180 00002AB2 D106              6270             MOV.L   #_BRKTST_MOD_FLG,R1                                             ;
16181 00002AB4 6011              6271             MOV.W   @R1,R0                                                          ;
16182 00002AB6 C810              6272             TST     #BIT4,R0                                                        ;
16183                            6273             TST_BIT_ON BRKTST_CTL_490                                               ;速度到達
16184 00002AB8 8B03                   M           BF      BRKTST_CTL_490
16185                            6274     
16186 00002ABA                   6275     BRKTST_CTL_450:
16187                            6276             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT5,WKREG=R1      ;停止ｵｰﾊﾞ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   182
PROGRAM NAME =

16188 00002ABA D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16189 00002ABC 6011                   M           MOV.W   @R1,R0          ;
16190 00002ABE CB20                   M           OR      #BIT5,R0                ;
16191 00002AC0 2101                   M           MOV.W   R0,@R1          ;
16192                            6277     
16193 00002AC2                   6278     BRKTST_CTL_490:
16194                            6279             M_BRA   BRKTST_CTL_900                  ;
16195 00002AC2 A017                   M           BRA     BRKTST_CTL_900
16196 00002AC4 0009                   M           NOP
16197                            6280     
16198                            6281     
16199                            6282     ;       ---------[正常に停止完了した 異常にして、リセットを待つ]-----------------
16200                                     ***** BEGIN-POOL *****
16201 00002AC6 C000                       DATA FOR SOURCE-LINE 6266
16202 00002AC8 00000000                   DATA FOR SOURCE-LINE 6252
16203 00002ACC 00000000                   DATA FOR SOURCE-LINE 6257,6270,6276
16204 00002AD0 00000000                   DATA FOR SOURCE-LINE 6264
16205                                     ***** END-POOL *****
16206 00002AD4                   6283     BRKTST_CTL_500:
16207 00002AD4 9408              6284             MOV.W   #H'3493,R4                                                      ;2010-12-2
                                          1
16208                            6285             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
16209 00002AD6 D005                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16210 00002AD8 400B                   M           JSR     @R0                     ;
16211 00002ADA 0009                   M           NOP                                     ;
16212                            6286             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
16213 00002ADC D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16214 00002ADE 6011                   M           MOV.W   @R1,R0          ;
16215 00002AE0 CB40                   M           OR      #BIT6,R0                ;
16216 00002AE2 2101                   M           MOV.W   R0,@R1          ;
16217                            6287             M_BRA   BRKTST_CTL_900                                                  ;
16218 00002AE4 A006                   M           BRA     BRKTST_CTL_900
16219 00002AE6 0009                   M           NOP
16220                            6288     
16221                            6289     
16222                            6290     
16223                            6291     ;       ---------------------------------------------
16224                                     ***** BEGIN-POOL *****
16225 00002AE8 3493                       DATA FOR SOURCE-LINE 6284
16226 00002AEA 0000                       ALIGNMENT CODE
16227 00002AEC 00000000                   DATA FOR SOURCE-LINE 6285
16228 00002AF0 00000000                   DATA FOR SOURCE-LINE 6286
16229                                     ***** END-POOL *****
16230 00002AF4                   6292     BRKTST_CTL_900:
16231                            6293     
16232 00002AF4 D10C              6294             MOV.L   #_BRKTST_MOD_FLG,R1             ;
16233 00002AF6 6011              6295             MOV.W   @R1,R0                          ;
16234 00002AF8 D10C              6296             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1     ;
16235 00002AFA 6211              6297             MOV.W   @R1,R2                          ;
16236 00002AFC 9411              6298             MOV.W   #H'FF00,R4                      ;
16237 00002AFE 2249              6299             AND     R4,R2
16238 00002B00 6447              6300             NOT     R4,R4
16239 00002B02 2049              6301             AND     R4,R0
16240 00002B04 220B              6302             OR      R0,R2
16241 00002B06 2121              6303             MOV.W   R2,@R1                          ;
16242                            6304     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   183
PROGRAM NAME =

16243                            6305     
16244                            6306     
16245                            6307     
16246                            6308     ;       -----------ﾌﾞﾚｰｷﾃｽﾄ時にｽﾄｯﾋﾟﾝｸﾞﾀｲﾏﾘｾｯﾄ
16247 00002B08 D109              6309             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更
16248 00002B0A 6011              6310             MOV.W   @R1,R0                  ;
16249 00002B0C 940A              6311             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
16250 00002B0E 2048              6312             TST     R4,R0                   ;ONｴｯｼﾞ
16251                            6313             TST_BIT_OF BRKTST_CTL_950       ;
16252 00002B10 8904                   M           BT      BRKTST_CTL_950
16253                            6314             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB229,LG=W,BIT=~(BIT15+BIT14+BIT13+BIT12),
                                          WKRG1=R1,WKRG2=R4       ;
16254 00002B12 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1             ;
16255 00002B14 6011                   M           MOV.W   @R1,R0          ;
16256 00002B16 9406                   M           MOV.W   #LWORD ~(BIT15+BIT14+BIT13+BIT12),R4    ;
16257 00002B18 2049                   M           AND     R4,R0           ;
16258 00002B1A 2101                   M           MOV.W   R0,@R1          ;
16259 00002B1C                   6315     BRKTST_CTL_950:
16260                            6316     
16261                            6317     
16262                            6318             SUB_END
16263                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16264 00002B1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16265                            6319             M_RTS
16266 00002B1E 000B                   M           RTS                             ;RTSの後ろの
16267 00002B20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16268                            6320     
16269                            6321     
16270                            6322     
16271                            6323     ;       ***********************************
16272                            6324     ;       ***                             ***
16273                            6325     ;       ***     制動モード条件          ***
16274                            6326     ;       ***                             ***
16275                            6327     ;       ***********************************
16276                            6328     ;ANS:R0=0 NOMAL
16277                            6329     ;    R0=-1 ERR
16278                                     ***** BEGIN-POOL *****
16279 00002B22 FF00                       DATA FOR SOURCE-LINE 6298
16280 00002B24 8000                       DATA FOR SOURCE-LINE 6311
16281 00002B26 0FFF                       DATA FOR SOURCE-LINE 6314
16282 00002B28 00000000                   DATA FOR SOURCE-LINE 6294
16283 00002B2C 00000000                   DATA FOR SOURCE-LINE 6296,6314
16284 00002B30 00000000                   DATA FOR SOURCE-LINE 6309
16285                                     ***** END-POOL *****
16286 00002B34                   6330     _BRKTST_MODE_CONF:
16287                            6331             SUB_START
16288 00002B34 4F22                   M           STS.L   PR,@-R15                ;[必要]
16289                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16290                            6332     
16291 00002B36 E2FF              6333             MOV.B   #-1,R2                                  ;
16292                            6334     
16293                            6335     ;;;;2011-09-14  MOV.L   #_INP_MODE,R1                           ;
16294                            6336     ;;;;;   MOV.W   @R1,R0                                  ;
16295                            6337     ;;;;2010-08     TST     #_W1DUP,R0                              ;上死点復帰
16296                            6338     ;;;;2011-09-14  TST     #_W1DIC,R0                              ;段取寸動
16297                            6339     ;;;;2011-09-14  TST_BIT_OF BRKTST_MOD_CF_END                    ;NO END[[[[[[[ここは実行さ
                                          れない CMDを落とすから]]]]]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   184
PROGRAM NAME =

16298                            6340     
16299 00002B38 D105              6341             MOV.L   #_emg_err_flg,R1                        ;//異常ﾗｯﾁ
16300 00002B3A 6011              6342             MOV.W   @R1,R0                                  ;
16301 00002B3C D105              6343             MOV.L   #_exq_err_flg,R1                        ;//異常ﾗｯﾁ
16302 00002B3E 6311              6344             MOV.W   @R1,R3                                  ;
16303 00002B40 203B              6345             OR      R3,R0                                   ;
16304 00002B42 2008              6346             TST     R0,R0                                   ;
16305                            6347             TST_BIT_ON BRKTST_MOD_CF_END                    ;
16306 00002B44 8B00                   M           BF      BRKTST_MOD_CF_END
16307                            6348     
16308 00002B46 222A              6349             XOR     R2,R2                                   ;
16309 00002B48                   6350     BRKTST_MOD_CF_END:
16310 00002B48 6023              6351             MOV     R2,R0                                   ;
16311                            6352             SUB_END
16312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16313 00002B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16314                            6353             M_RTS
16315 00002B4C 000B                   M           RTS                             ;RTSの後ろの
16316 00002B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16317                            6354     
16318                            6355     ;       *******************************************
16319                            6356     ;       ***                                     ***
16320                            6357     ;       ***                                     ***
16321                            6358     ;       ***                                     ***
16322                            6359     ;       *******************************************
16323                                     ***** BEGIN-POOL *****
16324 00002B50 00000000                   DATA FOR SOURCE-LINE 6341
16325 00002B54 00000000                   DATA FOR SOURCE-LINE 6343
16326                                     ***** END-POOL *****
16327 00002B58                   6360             .ALIGN  4
16328 00002B58                   6361     _BRKTST_INPUT_MAK:
16329                            6362             SUB_START
16330 00002B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
16331                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16332                            6363     ;       -------- 2011-09-14---
16333 00002B5A D10A              6364             MOV.L   #_INP_MODE,R1                           ;
16334 00002B5C 6011              6365             MOV.W   @R1,R0                                  ;
16335 00002B5E C804              6366             TST     #_W1SGL,R0                              ;安全一行程SW
16336                            6367             TST_BIT_OF BRKTST_INPUTMK_100                   ;
16337 00002B60 891A                   M           BT      BRKTST_INPUTMK_100
16338                            6368     
16339 00002B62 D109              6369             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
16340 00002B64 6011              6370             MOV.W   @R1,R0                                  ;
16341 00002B66 C810              6371             TST     #_W1OPT,R0                              ;OPT
16342                            6372             TST_BIT_ON BRKTST_INPUTMK_100                   ;OPTIONの安全でした
16343 00002B68 8B16                   M           BF      BRKTST_INPUTMK_100
16344                            6373     
16345                            6374     ;;;;    MOV.L   #_CB_SEQ_CB_COM349,R1                           ;これは本当は違う　安全装
                                          置入／切
16346                            6375     ;;;;    MOV.W   @R1,R0                                          ;
16347                            6376     ;;;;    TST     #BIT0,R0                                        ;
16348                            6377     ;;;;    TST_BIT_OF BRKTST_INPUTMK_100                           ;
16349                            6378     
16350 00002B6A D108              6379             MOV.L   #_BRKTST_SW_IN,R1                               ;
16351 00002B6C 6011              6380             MOV.W   @R1,R0                                          ;
16352 00002B6E C801              6381             TST     #BIT0,R0                                        ;
16353                            6382             TST_BIT_OF BRKTST_INPUTMK_100                           ;BIT0=BIT1=1でくる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   185
PROGRAM NAME =

16354 00002B70 8912                   M           BT      BRKTST_INPUTMK_100
16355                            6383     
16356                            6384             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_INPUT_CMD,LG=W,BIT=(BIT0),WKREG=R1  ;[安全一行
                                          程のみonする]
16357 00002B72 D107                   M           MOV.L   #_BRKTST_INPUT_CMD,R1           ;
16358 00002B74 6011                   M           MOV.W   @R1,R0          ;
16359 00002B76 CB01                   M           OR      #(BIT0),R0              ;
16360 00002B78 2101                   M           MOV.W   R0,@R1          ;
16361                            6385             FAR_JSR #_BRKTST_STOPSIG_MAKE,R0                                        ;
16362 00002B7A D006                   M           MOV.L   #_BRKTST_STOPSIG_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16363 00002B7C 400B                   M           JSR     @R0                     ;
16364 00002B7E 0009                   M           NOP                                     ;
16365                            6386             M_BRA   BRKTST_INPUTMK_200                                              ;
16366 00002B80 A00F                   M           BRA     BRKTST_INPUTMK_200
16367 00002B82 0009                   M           NOP
16368                            6387     
16369                                     ***** BEGIN-POOL *****
16370 00002B84 00000000                   DATA FOR SOURCE-LINE 6364
16371 00002B88 00000000                   DATA FOR SOURCE-LINE 6369
16372 00002B8C 00000000                   DATA FOR SOURCE-LINE 6379
16373 00002B90 00000000                   DATA FOR SOURCE-LINE 6384
16374 00002B94 00000000                   DATA FOR SOURCE-LINE 6385
16375                                     ***** END-POOL *****
16376 00002B98                   6388     BRKTST_INPUTMK_100:
16377 00002B98 200A              6389             XOR     R0,R0                                   ;
16378 00002B9A D103              6390             MOV.L   #_BRKTST_INPUT_CMD,R1                   ;2011-09-14
16379 00002B9C 2101              6391             MOV.W   R0,@R1                                  ;
16380 00002B9E D103              6392             MOV.L   #_BRKTST_STR_FLG,R1                     ;
16381 00002BA0 2101              6393             MOV.W   R0,@R1                                  ;
16382                            6394     
16383 00002BA2                   6395     BRKTST_INPUTMK_200:
16384                            6396     
16385                            6397             SUB_END
16386                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16387 00002BA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16388                            6398             M_RTS
16389 00002BA4 000B                   M           RTS                             ;RTSの後ろの
16390 00002BA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16391                            6399     
16392                            6400     
16393                            6401     
16394                            6402     ;       ***********************************
16395                            6403     ;       ***                             ***
16396                            6404     ;       ***     制動試験準備完了条件    ***
16397                            6405     ;       ***     2010-10-22              ***
16398                            6406     ;       ***********************************
16399                            6407     ;ANS:R0=0 RDY-ON
16400                            6408     ;    R0=-1 RDY-OFF
16401                            6409     ;       FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
16402                                     ***** BEGIN-POOL *****
16403 00002BA8 00000000                   DATA FOR SOURCE-LINE 6390
16404 00002BAC 00000000                   DATA FOR SOURCE-LINE 6392
16405                                     ***** END-POOL *****
16406 00002BB0                   6410     _BRKTST_RDY_CHK:
16407                            6411             SUB_START
16408 00002BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   186
PROGRAM NAME =

16410                            6412     
16411                            6413     ;       ===========================
16412                            6414     ;       ===     安全装置ﾏｽｸ     ===
16413                            6415     ;       ===========================
16414                            6416     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
16415                            6417     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
16416                            6418     
16417                            6419     ;;;;_BRK_SADOU_CHG 2015-09-06[MCは後から修正]
16418                            6420     ;;;     FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23
16419                            6421     
16420                            6422     ;       -------- 2015-09-06---------
16421 00002BB2 D104              6423             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
16422 00002BB4 6011              6424             MOV.W   @R1,R0                                                  ;
16423 00002BB6 8801              6425             CMP/EQ  #1,R0
16424 00002BB8 8908              6426             BT      BRKTST_RDY_SFTY_MASK2CHK055                                     ;停止制御
                                          有効
16425                            6427     
16426                            6428             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
16427 00002BBA D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16428 00002BBC 400B                   M           JSR     @R0                     ;
16429 00002BBE 0009                   M           NOP                                     ;
16430                            6429             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100                                     ;
16431 00002BC0 A015                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16432 00002BC2 0009                   M           NOP
16433                            6430     
16434                                     ***** BEGIN-POOL *****
16435 00002BC4 00000000                   DATA FOR SOURCE-LINE 6423
16436 00002BC8 00000000                   DATA FOR SOURCE-LINE 6428
16437                                     ***** END-POOL *****
16438 00002BCC                   6431     BRKTST_RDY_SFTY_MASK2CHK055:
16439                            6432     
16440 00002BCC D104              6433             MOV.L   #_DRV_START_KEEP,R1
16441 00002BCE 6011              6434             MOV.W   @R1,R0                          ;
16442 00002BD0 C801              6435             TST     #BIT0,R0                        ;
16443                            6436             TST_BIT_ON BRKTST_RDY_SFTY_MASK2CHK060          ;
16444 00002BD2 8B09                   M           BF      BRKTST_RDY_SFTY_MASK2CHK060
16445                            6437     
16446                            6438             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
16447 00002BD4 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16448 00002BD6 400B                   M           JSR     @R0                     ;
16449 00002BD8 0009                   M           NOP                                     ;
16450                            6439             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100             ;
16451 00002BDA A008                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16452 00002BDC 0009                   M           NOP
16453                            6440     
16454                                     ***** BEGIN-POOL *****
16455 00002BDE 0000                       ALIGNMENT CODE
16456 00002BE0 00000000                   DATA FOR SOURCE-LINE 6433
16457 00002BE4 00000000                   DATA FOR SOURCE-LINE 6438
16458                                     ***** END-POOL *****
16459 00002BE8                   6441     BRKTST_RDY_SFTY_MASK2CHK060:
16460                            6442             FAR_JSR #_SFTY_MASK_END,R0              ;
16461 00002BE8 D011                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16462 00002BEA 400B                   M           JSR     @R0                     ;
16463 00002BEC 0009                   M           NOP                                     ;
16464 00002BEE                   6443     BRKTST_RDY_SFTY_MASK2CHK100:
16465                            6444     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   187
PROGRAM NAME =

16466                            6445     
16467                            6446     
16468 00002BEE D111              6447             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
16469 00002BF0 6011              6448             MOV.W   @R1,R0                  ;
16470 00002BF2 C820              6449             TST     #_WORDY,R0              ;RDY
16471                            6450             TST_BIT_ON BRKTST_RDYCK_0200    ;(準備完了ON)
16472 00002BF4 8B2E                   M           BF      BRKTST_RDYCK_0200
16473                            6451     
16474                            6452     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
16475                            6453     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;
16476                            6454     
16477                            6455             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16478 00002BF6 D010                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16479 00002BF8 400B                   M           JSR     @R0                     ;
16480 00002BFA 0009                   M           NOP                                     ;
16481 00002BFC 2008              6456             TST     R0,R0                   ;
16482                            6457             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16483 00002BFE 8B41                   M           BF      BRKTST_RDYCHK_OFF
16484                            6458     
16485 00002C00 D10E              6459             MOV.L   #_BTTN_FLG,R1           ;
16486 00002C02 6011              6460             MOV.W   @R1,R0                  ;
16487 00002C04 C801              6461             TST     #BIT0,R0                ;両手ﾌﾘ?
16488                            6462             TST_BIT_OF BRKTST_RDYCHK_OFF    ;
16489 00002C06 893D                   M           BT      BRKTST_RDYCHK_OFF
16490                            6463     
16491 00002C08 200A              6464             XOR     R0,R0
16492 00002C0A D10D              6465             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
16493 00002C0C 2101              6466             MOV.W   R0,@R1                  ;
16494                            6467     
16495 00002C0E 920E              6468             MOV.W   #_SYS_BSAME_TIM,R2      ;
16496 00002C10 D10C              6469             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
16497 00002C12 2121              6470             MOV.W   R2,@R1                  ;
16498                            6471     
16499                            6472             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0          ;
16500 00002C14 D00C                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16501 00002C16 400B                   M           JSR     @R0                     ;
16502 00002C18 0009                   M           NOP                                     ;
16503                            6473             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
16504 00002C1A D00C                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16505 00002C1C 400B                   M           JSR     @R0                     ;
16506 00002C1E 0009                   M           NOP                                     ;
16507 00002C20 2008              6474             TST     R0,R0                           ;
16508                            6475             TST_BIT_OF BRKTST_RDYCK_0198            ;WAIT
16509 00002C22 8902                   M           BT      BRKTST_RDYCK_0198
16510                            6476             FAR_JSR #_RDY_ON,R1                     ;準備完了へ遷移
16511 00002C24 D10A                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16512 00002C26 410B                   M           JSR     @R1                     ;
16513 00002C28 0009                   M           NOP                                     ;
16514 00002C2A                   6477     BRKTST_RDYCK_0198:                              ;
16515                            6478             M_BRA   BRKTST_RDYCHK_START_WAIT        ;RDY-ON待ち
16516 00002C2A A02E                   M           BRA     BRKTST_RDYCHK_START_WAIT
16517 00002C2C 0009                   M           NOP
16518                            6479     
16519                            6480     
16520                            6481     
16521                            6482     ;       -------準備完了状態
16522                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   188
PROGRAM NAME =

16523 00002C2E 01F4                       DATA FOR SOURCE-LINE 6468
16524 00002C30 00000000                   DATA FOR SOURCE-LINE 6442
16525 00002C34 00000000                   DATA FOR SOURCE-LINE 6447
16526 00002C38 00000000                   DATA FOR SOURCE-LINE 6455
16527 00002C3C 00000000                   DATA FOR SOURCE-LINE 6459
16528 00002C40 00000000                   DATA FOR SOURCE-LINE 6465
16529 00002C44 00000000                   DATA FOR SOURCE-LINE 6469
16530 00002C48 00000000                   DATA FOR SOURCE-LINE 6472
16531 00002C4C 00000000                   DATA FOR SOURCE-LINE 6473
16532 00002C50 00000000                   DATA FOR SOURCE-LINE 6476
16533                                     ***** END-POOL *****
16534 00002C54                   6483     BRKTST_RDYCK_0200       ;(準備完了ON状態)
16535                            6484             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16536 00002C54 D003                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16537 00002C56 400B                   M           JSR     @R0                     ;
16538 00002C58 0009                   M           NOP                                     ;
16539 00002C5A 2008              6485             TST     R0,R0                   ;
16540                            6486             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16541 00002C5C 8B12                   M           BF      BRKTST_RDYCHK_OFF
16542                            6487             M_BRA   BRKTST_RDYCHK_ON        ;
16543 00002C5E A003                   M           BRA     BRKTST_RDYCHK_ON
16544 00002C60 0009                   M           NOP
16545                            6488     
16546                            6489     
16547                                     ***** BEGIN-POOL *****
16548 00002C62 0000                       ALIGNMENT CODE
16549 00002C64 00000000                   DATA FOR SOURCE-LINE 6484
16550                                     ***** END-POOL *****
16551 00002C68                   6490     BRKTST_RDYCHK_ON:
16552                            6491             FAR_JSR #_RDY_ON,R1                                     ;
16553 00002C68 D104                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16554 00002C6A 410B                   M           JSR     @R1                     ;
16555 00002C6C 0009                   M           NOP                                     ;
16556                            6492             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0                          ;
16557 00002C6E D004                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16558 00002C70 400B                   M           JSR     @R0                     ;
16559 00002C72 0009                   M           NOP                                     ;
16560 00002C74 255A              6493             XOR     R5,R5                                           ;
16561                            6494             M_BRA   BRKTST_RDYCHK_END                               ;
16562 00002C76 A009                   M           BRA     BRKTST_RDYCHK_END
16563 00002C78 0009                   M           NOP
16564                            6495     
16565                            6496     
16566                            6497     
16567                                     ***** BEGIN-POOL *****
16568 00002C7A 0000                       ALIGNMENT CODE
16569 00002C7C 00000000                   DATA FOR SOURCE-LINE 6491
16570 00002C80 00000000                   DATA FOR SOURCE-LINE 6492
16571                                     ***** END-POOL *****
16572 00002C84                   6498     BRKTST_RDYCHK_OFF:
16573                            6499             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16574 00002C84 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16575 00002C86 400B                   M           JSR     @R0                     ;
16576 00002C88 0009                   M           NOP                                     ;
16577 00002C8A                   6500     BRKTST_RDYCHK_START_WAIT:
16578 00002C8A E5FF              6501             MOV     #-1,R5                                          ;起動受付不可
16579 00002C8C                   6502     BRKTST_RDYCHK_END:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   189
PROGRAM NAME =

16580 00002C8C 6053              6503             MOV     R5,R0                                           ;
16581                            6504     
16582                            6505             SUB_END
16583                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16584 00002C8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16585                            6506             M_RTS
16586 00002C90 000B                   M           RTS                             ;RTSの後ろの
16587 00002C92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16588                            6507     
16589                            6508     
16590                                     ***** BEGIN-POOL *****
16591 00002C94 00000000                   DATA FOR SOURCE-LINE 6499
16592                                     ***** END-POOL *****
16593 00002C98                   6509     _BRKTST_RDY_OFF_OUT:
16594                            6510             SUB_START
16595 00002C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
16596                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16597                            6511             FAR_JSR #_RDY_OF,R1                     ;
16598 00002C9A D107                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16599 00002C9C 410B                   M           JSR     @R1                     ;
16600 00002C9E 0009                   M           NOP                                     ;
16601                            6512             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
16602 00002CA0 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16603 00002CA2 400B                   M           JSR     @R0                     ;
16604 00002CA4 0009                   M           NOP                                     ;
16605                            6513             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16606 00002CA6 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16607 00002CA8 400B                   M           JSR     @R0                     ;
16608 00002CAA 0009                   M           NOP                                     ;
16609 00002CAC 200A              6514             XOR     R0,R0                           ;
16610 00002CAE D105              6515             MOV.L   #_DRV_START_KEEP,R1             ;FLG
16611 00002CB0 2101              6516             MOV.W   R0,@R1                          ;
16612                            6517             SUB_END
16613                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16614 00002CB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16615                            6518             M_RTS
16616 00002CB4 000B                   M           RTS                             ;RTSの後ろの
16617 00002CB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16618                            6519     
16619                            6520     ;       ***********************************
16620                            6521     ;       ***                             ***
16621                            6522     ;       ***     motor起動               ***
16622                            6523     ;       ***                             ***
16623                            6524     ;       ***********************************
16624                            6525             .IMPORT _BRKTST_POS_START               ;
16625                            6526     ;       --------------<同期ソフトはできないつくり>-----------------------------
16626                                     ***** BEGIN-POOL *****
16627 00002CB8 00000000                   DATA FOR SOURCE-LINE 6511
16628 00002CBC 00000000                   DATA FOR SOURCE-LINE 6512
16629 00002CC0 00000000                   DATA FOR SOURCE-LINE 6513
16630 00002CC4 00000000                   DATA FOR SOURCE-LINE 6515
16631                                     ***** END-POOL *****
16632 00002CC8                   6527     _BRKTST_MOTOR_START:
16633                            6528             SUB_START
16634 00002CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16635                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16636                            6529     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   190
PROGRAM NAME =

16637                            6530     ;       ===================================
16638                            6531     ;       ===     起動処理                ===
16639                            6532     ;       ===================================
16640                            6533             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
16641 00002CCA D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
16642 00002CCC 6011                   M           MOV.W   @R1,R0          ;
16643 00002CCE 9442                   M           MOV.W   #LWORD (~BIT3),R4       ;
16644 00002CD0 2049                   M           AND     R4,R0           ;
16645 00002CD2 2101                   M           MOV.W   R0,@R1          ;
16646                            6534             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
16647 00002CD4 D022                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16648 00002CD6 400B                   M           JSR     @R0                     ;
16649 00002CD8 0009                   M           NOP                                     ;
16650                            6535             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
16651 00002CDA D022                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16652 00002CDC 400B                   M           JSR     @R0                     ;
16653 00002CDE 0009                   M           NOP                                     ;
16654                            6536             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
16655 00002CE0 D021                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16656 00002CE2 400B                   M           JSR     @R0                     ;
16657 00002CE4 0009                   M           NOP                                     ;
16658                            6537     
16659                            6538     ;       ==== 2004-01-28 ==
16660 00002CE6 200A              6539             XOR     R0,R0
16661 00002CE8 D120              6540             MOV.L   #_ENC360_OVER_FLG,R1            ;
16662 00002CEA 2101              6541             MOV.W   R0,@R1                          ;
16663                            6542     
16664                            6543             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
16665 00002CEC D020                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16666 00002CEE 400B                   M           JSR     @R0                     ;
16667 00002CF0 0009                   M           NOP                                     ;
16668                            6544             FAR_JSR #_CB_CTL_START_INI,R0
16669 00002CF2 D020                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16670 00002CF4 400B                   M           JSR     @R0                     ;
16671 00002CF6 0009                   M           NOP                                     ;
16672                            6545             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
16673 00002CF8 D01F                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16674 00002CFA 400B                   M           JSR     @R0                     ;
16675 00002CFC 0009                   M           NOP                                     ;
16676                            6546     
16677                            6547     ;;;;;   FAR_JSR #_MN_POS_CTRL_START,R0          ;
16678                            6548     
16679                            6549     
16680                            6550             FAR_JSR #_BRKTST_POS_START,R0
16681 00002CFE D01F                   M           MOV.L   #_BRKTST_POS_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16682 00002D00 400B                   M           JSR     @R0                     ;
16683 00002D02 0009                   M           NOP                                     ;
16684                            6551     
16685                            6552     
16686                            6553     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
16687                            6554             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
16688 00002D04 D41E                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
16689 00002D06 6041                   M           MOV.W   @R4,R0          ;
16690 00002D08 9126                   M           MOV.W   #LWORD (~BIT5),R1       ;
16691 00002D0A 2019                   M           AND     R1,R0           ;
16692 00002D0C 2401                   M           MOV.W   R0,@R4          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   191
PROGRAM NAME =

16693                            6555             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
16694 00002D0E D41D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
16695 00002D10 6041                   M           MOV.W   @R4,R0          ;
16696 00002D12 9121                   M           MOV.W   #LWORD (~BIT5),R1       ;
16697 00002D14 2019                   M           AND     R1,R0           ;
16698 00002D16 2401                   M           MOV.W   R0,@R4          ;
16699                            6556     
16700                            6557     
16701                            6558             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
16702 00002D18 D11B                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
16703 00002D1A 921E                   M           MOV.W   #BIT0,R2                ;
16704 00002D1C 2121                   M           MOV.W   R2,@R1  ;
16705                            6559             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
16706 00002D1E D01B                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16707 00002D20 400B                   M           JSR     @R0                     ;
16708 00002D22 0009                   M           NOP                                     ;
16709                            6560     
16710                            6561             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16711 00002D24 D01A                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16712 00002D26 400B                   M           JSR     @R0                     ;
16713 00002D28 0009                   M           NOP                                     ;
16714                            6562             FAR_JSR #_RDY_OF,R1                     ;
16715 00002D2A D11A                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16716 00002D2C 410B                   M           JSR     @R1                     ;
16717 00002D2E 0009                   M           NOP                                     ;
16718                            6563     
16719                            6564     ;       ==== 2007-09-07 ちゃんとｾﾙﾌを生かす===
16720                            6565     ;;      .IMPORT _PAR_SELFCHK_POWSEL
16721                            6566     
16722 00002D30 D119              6567             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
16723 00002D32 6011              6568             MOV.W   @R1,R0                          ;
16724 00002D34 8801              6569             CMP/EQ  #1,R0                           ;
16725 00002D36 8908              6570             BT      BRKTST_STR_POW_100              ;"1"ならちゃんとセルフする
16726                            6571     
16727                            6572     ;       ===== 2006-12-06 [1]=====
16728 00002D38 900F              6573             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
16729 00002D3A D118              6574             MOV.L   #_SELF_LOCK_FLG,R1              ;
16730 00002D3C 2101              6575             MOV.W   R0,@R1                          ;
16731 00002D3E 222A              6576             XOR     R2,R2                           ;
16732 00002D40 233A              6577             XOR     R3,R3                           ;
16733 00002D42 D117              6578             MOV.L   #_SELF_CHK_SEL,R1               ;
16734 00002D44 2121              6579             MOV.W   R2,@R1                          ;
16735 00002D46 D117              6580             MOV.L   #_SELF_CHK_MATHED,R1            ;
16736 00002D48 2131              6581             MOV.W   R3,@R1                          ;
16737                            6582     
16738 00002D4A                   6583     BRKTST_STR_POW_100
16739                            6584     
16740                            6585     ;       ====== 2007-01-16========
16741                            6586             FAR_JSR #_START_SFTY_LOCK_CLR,R0
16742 00002D4A D017                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16743 00002D4C 400B                   M           JSR     @R0                     ;
16744 00002D4E 0009                   M           NOP                                     ;
16745                            6587     
16746                            6588     
16747                            6589             SUB_END
16748                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   192
PROGRAM NAME =

16749 00002D50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16750                            6590             M_RTS
16751 00002D52 000B                   M           RTS                             ;RTSの後ろの
16752 00002D54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16753                            6591     
16754                            6592     
16755                                     ***** BEGIN-POOL *****
16756 00002D56 FFF7                       DATA FOR SOURCE-LINE 6533
16757 00002D58 FFDF                       DATA FOR SOURCE-LINE 6554,6555
16758 00002D5A 0001                       DATA FOR SOURCE-LINE 6558,6573
16759 00002D5C 00000000                   DATA FOR SOURCE-LINE 6533
16760 00002D60 00000000                   DATA FOR SOURCE-LINE 6534
16761 00002D64 00000000                   DATA FOR SOURCE-LINE 6535
16762 00002D68 00000000                   DATA FOR SOURCE-LINE 6536
16763 00002D6C 00000000                   DATA FOR SOURCE-LINE 6540
16764 00002D70 00000000                   DATA FOR SOURCE-LINE 6543
16765 00002D74 00000000                   DATA FOR SOURCE-LINE 6544
16766 00002D78 00000000                   DATA FOR SOURCE-LINE 6545
16767 00002D7C 00000000                   DATA FOR SOURCE-LINE 6550
16768 00002D80 00000000                   DATA FOR SOURCE-LINE 6554
16769 00002D84 00000000                   DATA FOR SOURCE-LINE 6555
16770 00002D88 00000000                   DATA FOR SOURCE-LINE 6558
16771 00002D8C 00000000                   DATA FOR SOURCE-LINE 6559
16772 00002D90 00000000                   DATA FOR SOURCE-LINE 6561
16773 00002D94 00000000                   DATA FOR SOURCE-LINE 6562
16774 00002D98 00000000                   DATA FOR SOURCE-LINE 6567
16775 00002D9C 00000000                   DATA FOR SOURCE-LINE 6574
16776 00002DA0 00000000                   DATA FOR SOURCE-LINE 6578
16777 00002DA4 00000000                   DATA FOR SOURCE-LINE 6580
16778 00002DA8 00000000                   DATA FOR SOURCE-LINE 6586
16779                                     ***** END-POOL *****
16780 00002DAC                   6593             .ALIGN  4
16781 00002DAC                   6594     _BRKTST_CHKDT_MAK:
16782                            6595             SUB_START
16783 00002DAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16784                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16785 00002DAE D00C              6596             MOV.L   #_LINK_MAX_SPD_PLS,R0   ;
16786 00002DB0 6202              6597             MOV.L   @R0,R2                  ;
16787 00002DB2 9414              6598             MOV.W   #_SPD_PER_MAX,R4        ;100.00per
16788                            6599     
16789 00002DB4 D00B              6600             MOV.L   #_WPAR_BRKTOUT_SPD,R0           ;出力LATE
16790 00002DB6 6101              6601             MOV.W   @R0,R1                          ;
16791 00002DB8 4115              6602             CMP/PL  R1                              ;
16792 00002DBA 8900              6603             BT      BRKTST_CHKDTMK_100                      ;
16793 00002DBC 6143              6604             MOV     R4,R1                                   ;
16794 00002DBE                   6605     BRKTST_CHKDTMK_100:                                     ;
16795                            6606             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16796 00002DBE D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16797 00002DC0 400B                   M           JSR     @R0                     ;
16798 00002DC2 0009                   M           NOP                                     ;
16799 00002DC4 D109              6607             MOV.L   #_BRKTST_OUTSPD_PLS,R1          ;
16800 00002DC6 2122              6608             MOV.L   R2,@R1                          ;
16801                            6609     
16802 00002DC8 D009              6610             MOV.L   #_WPAR_BRKTCHK_SPD,R0           ;
16803 00002DCA 6101              6611             MOV.W   @R0,R1                          ;
16804 00002DCC 9407              6612             MOV.W   #_SPD_PER_MAX,R4                ;100.00per
16805                            6613             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   193
PROGRAM NAME =

16806 00002DCE D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16807 00002DD0 400B                   M           JSR     @R0                     ;
16808 00002DD2 0009                   M           NOP                                     ;
16809 00002DD4 D107              6614             MOV.L   #_BRKTST_CHKSPD_PLS,R1
16810 00002DD6 2122              6615             MOV.L   R2,@R1                          ;
16811                            6616     
16812                            6617             SUB_END
16813                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16814 00002DD8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16815                            6618             M_RTS
16816 00002DDA 000B                   M           RTS                             ;RTSの後ろの
16817 00002DDC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16818                            6619     
16819                            6620     
16820                            6621     
16821                            6622     
16822                            6623     
16823                            6624     ;       ***********************************
16824                            6625     ;       ***                             ***
16825                            6626     ;       ***             速度            ***
16826                            6627     ;       ***                             ***
16827                            6628     ;       ***********************************
16828                                     ***** BEGIN-POOL *****
16829 00002DDE 2710                       DATA FOR SOURCE-LINE 6598,6612
16830 00002DE0 00000000                   DATA FOR SOURCE-LINE 6596
16831 00002DE4 00000000                   DATA FOR SOURCE-LINE 6600
16832 00002DE8 00000000                   DATA FOR SOURCE-LINE 6606,6613
16833 00002DEC 00000000                   DATA FOR SOURCE-LINE 6607
16834 00002DF0 00000000                   DATA FOR SOURCE-LINE 6610
16835 00002DF4 00000000                   DATA FOR SOURCE-LINE 6614
16836                                     ***** END-POOL *****
16837 00002DF8                   6629             .ALIGN  4
16838 00002DF8                   6630     _BRKTST_SPD_CHK:
16839                            6631             SUB_START
16840 00002DF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16842 00002DFA D106              6632             MOV.L   #_ABS_ENC_PLS_SPD,R1    ;
16843 00002DFC 6212              6633             MOV.L   @R1,R2                  ;PV(ABS)
16844 00002DFE D106              6634             MOV.L   #_BRKTST_CHKSPD_PLS,R1  ;
16845 00002E00 6012              6635             MOV.L   @R1,R0                  ;SV
16846 00002E02 3202              6636             CMP/HS  R0,R2                   ;R0=< R2?
16847 00002E04 8B03              6637             BF      BRKTST_SPDCHK_100       ;NO JUMP
16848                            6638     
16849                            6639             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT4),WKREG=R1    ;BIT4速度ﾗ
                                          ｯﾁ
16850 00002E06 D105                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16851 00002E08 6011                   M           MOV.W   @R1,R0          ;
16852 00002E0A CB10                   M           OR      #(BIT4),R0              ;
16853 00002E0C 2101                   M           MOV.W   R0,@R1          ;
16854                            6640     
16855 00002E0E                   6641     BRKTST_SPDCHK_100:
16856                            6642             SUB_END
16857                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16858 00002E0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16859                            6643             M_RTS
16860 00002E10 000B                   M           RTS                             ;RTSの後ろの
16861 00002E12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   194
PROGRAM NAME =

16862                            6644     
16863                            6645     
16864                            6646     ;       ***********************************
16865                            6647     ;       ***                             ***
16866                            6648     ;       ***     motor停止               ***
16867                            6649     ;       ***                             ***
16868                            6650     ;       ***********************************
16869                                     ***** BEGIN-POOL *****
16870 00002E14 00000000                   DATA FOR SOURCE-LINE 6632
16871 00002E18 00000000                   DATA FOR SOURCE-LINE 6634
16872 00002E1C 00000000                   DATA FOR SOURCE-LINE 6639
16873                                     ***** END-POOL *****
16874 00002E20                   6651             .ALIGN  4
16875                            6652             .IMPORT _EMG_STOP_SPEC;相手には教えない
16876                            6653     
16877 00002E20                   6654     _BRKTST_MOTOR_STOP:
16878                            6655             SUB_START
16879 00002E20 4F22                   M           STS.L   PR,@-R15                ;[必要]
16880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16881                            6656             FAR_JSR #_EMG_STOP_SPEC,R0              ;相手には教えない
16882 00002E22 D003                   M           MOV.L   #_EMG_STOP_SPEC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16883 00002E24 400B                   M           JSR     @R0                     ;
16884 00002E26 0009                   M           NOP                                     ;
16885                            6657             SUB_END
16886                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16887 00002E28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16888                            6658             M_RTS
16889 00002E2A 000B                   M           RTS                             ;RTSの後ろの
16890 00002E2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16891                            6659     
16892                            6660     ;       *******************************************
16893                            6661     ;       ***                                     ***
16894                            6662     ;       ***                                     ***
16895                            6663     ;       ***                                     ***
16896                            6664     ;       *******************************************
16897                                     ***** BEGIN-POOL *****
16898 00002E2E 0000                       ALIGNMENT CODE
16899 00002E30 00000000                   DATA FOR SOURCE-LINE 6656
16900                                     ***** END-POOL *****
16901 00002E34                   6665             .ALIGN  4                               ;
16902 00002E34                   6666     _BRKTST_STOPSIG_MAKE:
16903                            6667             SUB_START
16904 00002E34 4F22                   M           STS.L   PR,@-R15                ;[必要]
16905                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16906 00002E36 D10D              6668             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16907 00002E38 6011              6669             MOV.W   @R1,R0                                          ;
16908 00002E3A C801              6670             TST     #BIT0,R0                                        ;
16909                            6671             TST_BIT_OF BRKTST_STOPSIG_MK300                         ;
16910 00002E3C 8912                   M           BT      BRKTST_STOPSIG_MK300
16911                            6672     
16912 00002E3E D40C              6673             MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
16913 00002E40 6542              6674             MOV.L   @R4,R5                                                  ;
16914 00002E42 5641              6675             MOV.L   @(1*4,R4),R6                                            ;
16915                            6676     
16916 00002E44 D40B              6677             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;
16917 00002E46 6146              6678             MOV.L   @R4+,R1                                                 ;
16918 00002E48 6242              6679             MOV.L   @R4,R2                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   195
PROGRAM NAME =

16919                            6680     
16920                            6681             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;R5,R6 - R1,R2 =R5
                                          ,R6<0なら停止
16921 00002E4A 0008                   M           CLRT
16922 00002E4C 362A                   M           SUBC    R2,R6
16923 00002E4E 351A                   M           SUBC    R1,R5
16924 00002E50 4511              6682             CMP/PZ  R5
16925 00002E52 8907              6683             BT      BRKTST_STOPSIG_MK300                            ;
16926                            6684     
16927 00002E54 D105              6685             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16928 00002E56 6011              6686             MOV.W   @R1,R0                                          ;
16929 00002E58 C9FE              6687             AND     #LOW ~BIT0,R0                                   ;
16930 00002E5A 2101              6688             MOV.W   R0,@R1                                          ;
16931                            6689     
16932 00002E5C D106              6690             MOV.L   #_BRKTST_INPUT_CMD,R1                           ;2011-09-14
16933 00002E5E 6011              6691             MOV.W   @R1,R0                                          ;
16934 00002E60 CB02              6692             OR      #BIT1,R0                                        ;
16935 00002E62 2101              6693             MOV.W   R0,@R1                                          ;
16936                            6694     
16937 00002E64                   6695     BRKTST_STOPSIG_MK300:
16938                            6696             SUB_END
16939                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16940 00002E64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16941                            6697             M_RTS
16942 00002E66 000B                   M           RTS                             ;RTSの後ろの
16943 00002E68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16944                            6698     
16945                            6699     
16946                            6700     
16947                            6701     ;       ***********************************
16948                            6702     ;       ***                             ***
16949                            6703     ;       ***     RDY-ON 維持条件         ***
16950                            6704     ;       ***                             ***
16951                            6705     ;       ***********************************
16952                            6706     ;       R0=0 RDY ON KEEP
16953                                     ***** BEGIN-POOL *****
16954 00002E6A 0000                       ALIGNMENT CODE
16955 00002E6C 00000000                   DATA FOR SOURCE-LINE 6668,6685
16956 00002E70 00000000                   DATA FOR SOURCE-LINE 6673
16957 00002E74 00000000                   DATA FOR SOURCE-LINE 6677
16958 00002E78 00000000                   DATA FOR SOURCE-LINE 6690
16959                                     ***** END-POOL *****
16960 00002E7C                   6707     _BRK_RDYON_CONF1:
16961                            6708             SUB_START
16962 00002E7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16963                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16964 00002E7E D108              6709             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
16965 00002E80 6011              6710             MOV.W   @R1,R0                          ;
16966 00002E82 940C              6711             MOV.W   #BIT14,R4                       ;
16967 00002E84 2048              6712             TST     R4,R0                           ;
16968                            6713             TST_BIT_ON BRK_RDY_ON_CF_999            ;一旦停止指令
16969 00002E86 8B11                   M           BF      BRK_RDY_ON_CF_999
16970                            6714     
16971 00002E88 D106              6715             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
16972 00002E8A 6011              6716             MOV.W   @R1,R0                          ;
16973 00002E8C C803              6717             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   196
PROGRAM NAME =

16974                            6718             TST_BIT_ON BRK_RDY_ON_CF_999            ;
16975 00002E8E 8B0D                   M           BF      BRK_RDY_ON_CF_999
16976                            6719     
16977 00002E90 D105              6720             MOV.L   #_CNT_STOP_CMD,R1               ;
16978 00002E92 6011              6721             MOV.W   @R1,R0                          ;
16979 00002E94 C801              6722             TST     #BIT0,R0                        ;
16980                            6723             TST_BIT_ON BRK_RDY_ON_CF_999            ;BIT0=連続停止,(BIT2:LOT,設定異常)
16981 00002E96 8B09                   M           BF      BRK_RDY_ON_CF_999
16982                            6724     
16983                            6725     
16984 00002E98                   6726     BRK_RDY_ON_CF_998:
16985 00002E98 200A              6727             XOR     R0,R0                   ;準備完了
16986                            6728             M_BRA   BRK_RDY_ON_CF_EXT               ;
16987 00002E9A A008                   M           BRA     BRK_RDY_ON_CF_EXT
16988 00002E9C 0009                   M           NOP
16989                            6729     
16990                                     ***** BEGIN-POOL *****
16991 00002E9E 4000                       DATA FOR SOURCE-LINE 6711
16992 00002EA0 00000000                   DATA FOR SOURCE-LINE 6709
16993 00002EA4 00000000                   DATA FOR SOURCE-LINE 6715
16994 00002EA8 00000000                   DATA FOR SOURCE-LINE 6720
16995                                     ***** END-POOL *****
16996 00002EAC                   6730     BRK_RDY_ON_CF_999:
16997 00002EAC E0FF              6731             MOV     #-1,R0                  ;準備未完了
16998 00002EAE                   6732     BRK_RDY_ON_CF_EXT:
16999                            6733             SUB_END
17000                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17001 00002EAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17002                            6734             M_RTS
17003 00002EB0 000B                   M           RTS                             ;RTSの後ろの
17004 00002EB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17005                            6735     
17006 00002EB4                   6736             .ALIGN  4
17007 00002EB4 0009              6737             NOP
17008 00002EB6 0009              6738             NOP
17009 00002EB8 0009              6739             NOP
17010 00002EBA 0009              6740             NOP
17011                            6741     
17012                            6742     ;       *******************************************
17013                            6743     ;       ***                                     ***
17014                            6744     ;       ***                                     ***
17015                            6745     ;       ***                                     ***
17016                            6746     ;       ***                                     ***
17017                            6747     ;       ***                                     ***
17018                            6748     ;       ***                                     ***
17019                            6749     ;       ***             R02R03新機能            ***
17020                            6750     ;       ***                                     ***
17021                            6751     ;       ***                                     ***
17022                            6752     ;       ***                                     ***
17023                            6753     ;       ***                                     ***
17024                            6754     ;       ***                                     ***
17025                            6755     ;       ***                                     ***
17026                            6756     ;       *******************************************
17027                            6757     
17028                            6758     ;       *******************************************
17029                            6759     ;       ***                                     ***
17030                            6760     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   197
PROGRAM NAME =

17031                            6761     ;       ***             外部起動                ***
17032                            6762     ;       ***                                     ***
17033                            6763     ;       ***                                     ***
17034                            6764     ;       *******************************************
17035                            6765             .EXPORT _EXT_DRVBTTN_MODE
17036 00002EBC                   6766     _EXT_DRVBTTN_MODE
17037                            6767             SUB_START
17038 00002EBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17039                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17040                            6768     
17041 00002EBE D10D              6769             MOV.L   #(_PAR_EXTDRV_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
17042 00002EC0 6011              6770             MOV.W   @R1,R0                                                  ;
17043 00002EC2 8801              6771             CMP/EQ  #1,R0                                                   ;
17044 00002EC4 8B12              6772             BF      EXT_DRVBTTN_MOD_END                                     ;
17045                            6773     
17046                            6774             FAR_JSR #_EXT_DRVBTTN_INFO_MAKE,R0              ;
17047 00002EC6 D00C                   M           MOV.L   #_EXT_DRVBTTN_INFO_MAKE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17048 00002EC8 400B                   M           JSR     @R0                     ;
17049 00002ECA 0009                   M           NOP                                     ;
17050                            6775     
17051                            6776     
17052                            6777             FAR_JSR #_EXT_DRVBTTN_MODJG_CONF,R0     ;
17053 00002ECC D00B                   M           MOV.L   #_EXT_DRVBTTN_MODJG_CONF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17054 00002ECE 400B                   M           JSR     @R0                     ;
17055 00002ED0 0009                   M           NOP                                     ;
17056                            6778     
17057 00002ED2 930E              6779             MOV.W   #BIT15,R3
17058 00002ED4 244A              6780             XOR     R4,R4                           ;
17059 00002ED6 D10A              6781             MOV.L   #_EXTDRV_BTTN_USE,R1            ;//SYSPARAM+各条件
17060 00002ED8 6011              6782             MOV.W   @R1,R0                          ;
17061 00002EDA 2008              6783             TST     R0,R0                           ;
17062                            6784             TST_BIT_OF EXT_DRVBTTN_MOD100           ;
17063 00002EDC 8900                   M           BT      EXT_DRVBTTN_MOD100
17064 00002EDE 6433              6785             MOV     R3,R4                           ;
17065 00002EE0                   6786     EXT_DRVBTTN_MOD100
17066                            6787     
17067 00002EE0 6337              6788             NOT     R3,R3                           ;
17068 00002EE2 D108              6789             MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1     ;
17069 00002EE4 6211              6790             MOV.W   @R1,R2                          ;
17070 00002EE6 2239              6791             AND     R3,R2                           ;
17071 00002EE8 224B              6792             OR      R4,R2                           ;
17072 00002EEA 2121              6793             MOV.W   R2,@R1                          ;
17073                            6794     
17074                            6795     
17075 00002EEC                   6796     EXT_DRVBTTN_MOD_END
17076                            6797     
17077                            6798             SUB_END
17078                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17079 00002EEC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17080                            6799             M_RTS
17081 00002EEE 000B                   M           RTS                             ;RTSの後ろの
17082 00002EF0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17083                            6800     
17084                            6801     
17085                            6802     
17086                            6803     ;       ***********************************
17087                            6804     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   198
PROGRAM NAME =

17088                            6805     ;       ***     釦入力                  ***
17089                            6806     ;       ***                             ***
17090                            6807     ;       ***********************************
17091                                     ***** BEGIN-POOL *****
17092 00002EF2 8000                       DATA FOR SOURCE-LINE 6779
17093 00002EF4 00000000                   DATA FOR SOURCE-LINE 6769
17094 00002EF8 00000000                   DATA FOR SOURCE-LINE 6774
17095 00002EFC 00000000                   DATA FOR SOURCE-LINE 6777
17096 00002F00 00000000                   DATA FOR SOURCE-LINE 6781
17097 00002F04 00000000                   DATA FOR SOURCE-LINE 6789
17098                                     ***** END-POOL *****
17099 00002F08                   6808     _EXT_DRVBTTN_INFO_MAKE:
17100                            6809             SUB_START
17101 00002F08 4F22                   M           STS.L   PR,@-R15                ;[必要]
17102                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17103                            6810     
17104                            6811     ;       ---------- 打ち抜き記憶処理だけ先に行う------------------
17105 00002F0A 255A              6812             XOR     R5,R5
17106 00002F0C D10D              6813             MOV.L   #_CB_SEQ_CB_COM352,R1           ;//
17107 00002F0E 6011              6814             MOV.W   @R1,R0                          ;
17108 00002F10 C801              6815             TST     #BIT0,R0                        ;
17109                            6816             TST_BIT_OF EXT_DRVBTTN_INFO_MK100       ;
17110 00002F12 8907                   M           BT      EXT_DRVBTTN_INFO_MK100
17111                            6817     
17112 00002F14 D10C              6818             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17113 00002F16 6511              6819             MOV.W   @R1,R5                          ;自己保持
17114                            6820     
17115 00002F18 D10C              6821             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
17116 00002F1A 6011              6822             MOV.W   @R1,R0                          ;
17117 00002F1C 940E              6823             MOV.W   #_WOATO,R4                      ;
17118 00002F1E 2048              6824             TST     R4,R0                           ;AUTO ON?
17119                            6825             TST_BIT_OF EXT_DRVBTTN_INFO_MK100
17120 00002F20 8900                   M           BT      EXT_DRVBTTN_INFO_MK100
17121                            6826     
17122 00002F22 E501              6827             MOV.B   #BIT0,R5                        ;
17123                            6828     
17124 00002F24                   6829     EXT_DRVBTTN_INFO_MK100:
17125 00002F24 D108              6830             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17126 00002F26 2151              6831             MOV.W   R5,@R1                          ;
17127                            6832     
17128                            6833     
17129                            6834     ;       -----------------釦入力---------------------------
17130 00002F28 D109              6835             MOV.L   #_CB_IN_HANYO,R1                        ;//BIT8,9,10,11,12,13 6点(SQ004相
                                          当)
17131 00002F2A 6011              6836             MOV.W   @R1,R0                                  ;(論理あわせ済み信号)
17132 00002F2C 9307              6837             MOV.W   #(BIT11+BIT10),R3                       ;BIT10=N.C　0:運転 BIT11=N.O 1:運
                                          転
17133 00002F2E 2039              6838             AND     R3,R0                                   ;
17134 00002F30 9406              6839             MOV.W   #(0+BIT10),R4                           ;両手OFF
17135 00002F32 3040              6840             CMP/EQ  R4,R0                                   ;
17136 00002F34 8B0E              6841             BF      EXT_DRVBTTN_INFO_MK200                  ;
17137 00002F36 E201              6842             MOV.B   #BIT0,R2                                ;
17138                            6843             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
17139 00002F38 A014                   M           BRA     EXT_DRVBTTN_INFO_MK400
17140 00002F3A 0009                   M           NOP
17141                            6844     
17142                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   199
PROGRAM NAME =

17143 00002F3C 0040                       DATA FOR SOURCE-LINE 6823
17144 00002F3E 0C00                       DATA FOR SOURCE-LINE 6837
17145 00002F40 0400                       DATA FOR SOURCE-LINE 6839
17146 00002F42 0000                       ALIGNMENT CODE
17147 00002F44 00000000                   DATA FOR SOURCE-LINE 6813
17148 00002F48 00000000                   DATA FOR SOURCE-LINE 6818,6830
17149 00002F4C 00000000                   DATA FOR SOURCE-LINE 6821
17150 00002F50 00000000                   DATA FOR SOURCE-LINE 6835
17151                                     ***** END-POOL *****
17152 00002F54                   6845     EXT_DRVBTTN_INFO_MK200
17153 00002F54 9404              6846             MOV.W   #(BIT11+0),R4                           ;両手ON
17154 00002F56 3040              6847             CMP/EQ  R4,R0                                   ;
17155 00002F58 8B03              6848             BF      EXT_DRVBTTN_INFO_MK300                  ;
17156 00002F5A E204              6849             MOV.B   #BIT2,R2                                ;
17157                            6850             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
17158 00002F5C A002                   M           BRA     EXT_DRVBTTN_INFO_MK400
17159 00002F5E 0009                   M           NOP
17160                            6851     
17161                                     ***** BEGIN-POOL *****
17162 00002F60 0800                       DATA FOR SOURCE-LINE 6846
17163                                     ***** END-POOL *****
17164 00002F62                   6852     EXT_DRVBTTN_INFO_MK300
17165                            6853     
17166 00002F62 E202              6854             MOV.B   #BIT1,R2                                ;片手ON
17167                            6855     
17168 00002F64                   6856     EXT_DRVBTTN_INFO_MK400:
17169 00002F64 D107              6857             MOV.L   #_EXT_BTTN_FLG,R1                       ;
17170 00002F66 2121              6858             MOV.W   R2,@R1                                  ;
17171                            6859                                                             ;BIT10=BIT11=1 1秒で異常
17172                            6860     
17173                            6861     
17174 00002F68 D107              6862             MOV.L   #_EXTDRV_BTTN_USE,R1                    ;//SYSPARAM+各条件
17175 00002F6A 6211              6863             MOV.W   @R1,R2                                  ;
17176 00002F6C 2228              6864             TST     R2,R2                                   ;
17177                            6865             TST_BIT_OF EXT_DRVBTTN_INFO_MK410               ;
17178 00002F6E 8902                   M           BT      EXT_DRVBTTN_INFO_MK410
17179                            6866     
17180                            6867     ;       ---------- 釦異常ﾁｪｯｸ input R0[実入力]
17181 00002F70 9406              6868             MOV.W   #(BIT11+BIT10),R4                       ;
17182 00002F72 3040              6869             CMP/EQ  R4,R0                                   ;異常?
17183 00002F74 890C              6870             BT      EXT_DRVBTTN_INFO_MK420                  ;YES
17184 00002F76                   6871     EXT_DRVBTTN_INFO_MK410:
17185                            6872             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0             ;
17186 00002F76 D005                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17187 00002F78 400B                   M           JSR     @R0                     ;
17188 00002F7A 0009                   M           NOP                                     ;
17189                            6873             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMAL
17190 00002F7C A01B                   M           BRA     EXT_DRVBTTN_INFO_MK500
17191 00002F7E 0009                   M           NOP
17192                            6874     
17193                                     ***** BEGIN-POOL *****
17194 00002F80 0C00                       DATA FOR SOURCE-LINE 6868
17195 00002F82 0000                       ALIGNMENT CODE
17196 00002F84 00000000                   DATA FOR SOURCE-LINE 6857
17197 00002F88 00000000                   DATA FOR SOURCE-LINE 6862
17198 00002F8C 00000000                   DATA FOR SOURCE-LINE 6872
17199                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   200
PROGRAM NAME =

17200 00002F90                   6875     EXT_DRVBTTN_INFO_MK420:
17201 00002F90 D103              6876             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                ;
17202 00002F92 6011              6877             MOV.W   @R1,R0                                  ;
17203 00002F94 2008              6878             TST     R0,R0                                   ;
17204                            6879             TST_BIT_OF EXT_DRVBTTN_INFO_MK450               ;異常
17205 00002F96 8905                   M           BT      EXT_DRVBTTN_INFO_MK450
17206 00002F98 70FF              6880             ADD     #-1,R0                                  ;
17207 00002F9A 2101              6881             MOV.W   R0,@R1                                  ;
17208                            6882             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMALだが
17209 00002F9C A00B                   M           BRA     EXT_DRVBTTN_INFO_MK500
17210 00002F9E 0009                   M           NOP
17211                            6883     
17212                                     ***** BEGIN-POOL *****
17213 00002FA0 00000000                   DATA FOR SOURCE-LINE 6876
17214                                     ***** END-POOL *****
17215 00002FA4                   6884     EXT_DRVBTTN_INFO_MK450:
17216                            6885     
17217                            6886             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT15),WKRG1=R1,WKRG2=R4
                                          ;
17218 00002FA4 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
17219 00002FA6 6011                   M           MOV.W   @R1,R0          ;
17220 00002FA8 9408                   M           MOV.W   #(BIT15),R4             ;
17221 00002FAA 204B                   M           OR      R4,R0           ;
17222 00002FAC 2101                   M           MOV.W   R0,@R1          ;
17223 00002FAE 9406              6887             MOV.W   #H'216F,R4
                                          ;216.15
17224                            6888             FAR_JSR #_EMG_STOP,R0
                                          ;
17225 00002FB0 D004                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17226 00002FB2 400B                   M           JSR     @R0                     ;
17227 00002FB4 0009                   M           NOP                                     ;
17228                            6889     
17229 00002FB6                   6890     EXT_DRVBTTN_INFO_MK500:
17230                            6891     
17231                            6892     
17232                            6893             SUB_END
17233                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17234 00002FB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17235                            6894             M_RTS
17236 00002FB8 000B                   M           RTS                             ;RTSの後ろの
17237 00002FBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17238                            6895     
17239                            6896     
17240                            6897     ;       ***********************************
17241                            6898     ;       ***                             ***
17242                            6899     ;       ***     切替                    ***
17243                            6900     ;       ***                             ***
17244                            6901     ;       ***********************************
17245                                     ***** BEGIN-POOL *****
17246 00002FBC 8000                       DATA FOR SOURCE-LINE 6886
17247 00002FBE 216F                       DATA FOR SOURCE-LINE 6887
17248 00002FC0 00000000                   DATA FOR SOURCE-LINE 6886
17249 00002FC4 00000000                   DATA FOR SOURCE-LINE 6888
17250                                     ***** END-POOL *****
17251 00002FC8                   6902     _EXT_DRVBTTN_MODJG_CONF
17252                            6903             SUB_START
17253 00002FC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   201
PROGRAM NAME =

17254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17255                            6904     
17256 00002FCA 266A              6905             XOR     R6,R6                                                   ;ANS
17257                            6906     
17258                            6907     ;       ----------------------------------------------
17259 00002FCC D10F              6908             MOV.L   #_di1_cb_ctl1_dt,R1                                     ;//
17260 00002FCE 6011              6909             MOV.W   @R1,R0                                                  ;
17261 00002FD0 C810              6910             TST     #_W1OPT,R0                                              ;OPT
17262                            6911             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500                              ;ｵﾌﾟｼｮﾝ行程ではな
                                          い
17263 00002FD2 8924                   M           BT      EXT_DRVBTTN_MODJG_CF500
17264                            6912     
17265                            6913     ;       ------------[ﾉｯﾁsw=ｵﾌﾟｼｮﾝ行程]----------------------------------
17266                            6914     
17267                            6915     ;       ----------- 352,1=1 外部入力　外部起動ﾓｰﾄﾞ----------------------
17268 00002FD4 D10E              6916             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2014-09-01
17269 00002FD6 6011              6917             MOV.W   @R1,R0                                  ;
17270 00002FD8 C802              6918             TST     #BIT1,R0                                ;
17271                            6919             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300              ;
17272 00002FDA 8B1F                   M           BF      EXT_DRVBTTN_MODJG_CF300
17273                            6920     
17274                            6921     ;       ------------[仕様設定107 22.10=1]----------------------------------
17275 00002FDC D10D              6922             MOV.L   #_CB_SEQ_SW_SEL022,R1           ;
17276 00002FDE 6011              6923             MOV.W   @R1,R0                          ;
17277 00002FE0 9410              6924             MOV.W   #BIT10,R4                       ;107
17278 00002FE2 2048              6925             TST     R4,R0                           ;
17279                            6926             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.10=1 有効
17280 00002FE4 8B1A                   M           BF      EXT_DRVBTTN_MODJG_CF300
17281                            6927     
17282                            6928     
17283 00002FE6 940E              6929             MOV.W   #BIT11,R4                       ;108 22.11
17284 00002FE8 2048              6930             TST     R4,R0                           ;
17285                            6931             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500      ;22.11=0 無効
17286 00002FEA 8918                   M           BT      EXT_DRVBTTN_MODJG_CF500
17287                            6932     
17288                            6933     ;       ------------[仕様設定108 22.11=1]----------------------------------
17289 00002FEC 940C              6934             MOV.W   #(BIT6+BIT4),R4                 ;
17290 00002FEE 2048              6935             TST     R4,R0                           ;
17291                            6936             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.6(103) 22.4(101)のどちらかONで有効
17292 00002FF0 8B14                   M           BF      EXT_DRVBTTN_MODJG_CF300
17293                            6937     
17294 00002FF2 940A              6938             MOV.W   #(BIT8+BIT7),R4                 ;22.8(105) 22.7(104)の両方OFFで有効
17295 00002FF4 2048              6939             TST     R4,R0                           ;
17296                            6940             TST_BIT_OF EXT_DRVBTTN_MODJG_CF300      ;
17297 00002FF6 8911                   M           BT      EXT_DRVBTTN_MODJG_CF300
17298                            6941     
17299                            6942     ;       打抜記憶
17300 00002FF8 D107              6943             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17301 00002FFA 6011              6944             MOV.W   @R1,R0                          ;
17302 00002FFC C801              6945             TST     #BIT0,R0                        ;
17303                            6946             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;有効
17304 00002FFE 8B0D                   M           BF      EXT_DRVBTTN_MODJG_CF300
17305                            6947             M_BRA   EXT_DRVBTTN_MODJG_CF500         ;
17306 00003000 A00D                   M           BRA     EXT_DRVBTTN_MODJG_CF500
17307 00003002 0009                   M           NOP
17308                            6948     ;       ----------------------------------------------------------------------
17309                            6949     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   202
PROGRAM NAME =

17310                            6950     
17311                            6951     ;       --------------- 有効----------------------
17312                                     ***** BEGIN-POOL *****
17313 00003004 0400                       DATA FOR SOURCE-LINE 6924
17314 00003006 0800                       DATA FOR SOURCE-LINE 6929
17315 00003008 0050                       DATA FOR SOURCE-LINE 6934
17316 0000300A 0180                       DATA FOR SOURCE-LINE 6938
17317 0000300C 00000000                   DATA FOR SOURCE-LINE 6908
17318 00003010 00000000                   DATA FOR SOURCE-LINE 6916
17319 00003014 00000000                   DATA FOR SOURCE-LINE 6922
17320 00003018 00000000                   DATA FOR SOURCE-LINE 6943
17321                                     ***** END-POOL *****
17322 0000301C                   6952     EXT_DRVBTTN_MODJG_CF300
17323 0000301C E601              6953             MOV.B   #BIT0,R6                        ;
17324 0000301E                   6954     EXT_DRVBTTN_MODJG_CF500
17325 0000301E D106              6955             MOV.L   #_EXTDRV_BTTN_USE,R1    ;//SYSPARAM+各条件
17326 00003020 6011              6956             MOV.W   @R1,R0                  ;
17327 00003022 2161              6957             MOV.W   R6,@R1                  ;NEW=R6
17328                            6958     
17329 00003024 206A              6959             XOR     R6,R0                           ;
17330 00003026 2069              6960             AND     R6,R0                           ;R0=BIT0
17331 00003028 C801              6961             TST     #BIT0,R0                        ;
17332                            6962             TST_BIT_OF EXT_DRVBTTN_MODJG_CF700      ;
17333 0000302A 8902                   M           BT      EXT_DRVBTTN_MODJG_CF700
17334                            6963     
17335                            6964     ;       ------- 立ち上がり[異常検出タイマプリセット]　-----------
17336                            6965             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0     ;
17337 0000302C D003                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17338 0000302E 400B                   M           JSR     @R0                     ;
17339 00003030 0009                   M           NOP                                     ;
17340                            6966     
17341                            6967     
17342 00003032                   6968     EXT_DRVBTTN_MODJG_CF700
17343                            6969             SUB_END
17344                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17345 00003032 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17346                            6970             M_RTS
17347 00003034 000B                   M           RTS                             ;RTSの後ろの
17348 00003036 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17349                            6971     
17350                            6972     
17351                                     ***** BEGIN-POOL *****
17352 00003038 00000000                   DATA FOR SOURCE-LINE 6955
17353 0000303C 00000000                   DATA FOR SOURCE-LINE 6965
17354                                     ***** END-POOL *****
17355 00003040                   6973     _EXT_DRVBTTN_ERRTIM_SET
17356                            6974             SUB_START
17357 00003040 4F22                   M           STS.L   PR,@-R15                ;[必要]
17358                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17359 00003042 D103              6975             MOV.L   #(_PAR_BTNER_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1       ;NO=NC=1 THEN 異常
17360 00003044 6011              6976             MOV.W   @R1,R0                                                  ;
17361 00003046 D103              6977             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                                ;
17362 00003048 2101              6978             MOV.W   R0,@R1                                                  ;運転ボタン異常時
                                          間１秒
17363                            6979             SUB_END
17364                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17365 0000304A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   203
PROGRAM NAME =

17366                            6980             M_RTS
17367 0000304C 000B                   M           RTS                             ;RTSの後ろの
17368 0000304E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17369                            6981     
17370                            6982     
17371                            6983     
17372                            6984     ;       *******************************************
17373                            6985     ;       ***                                     ***
17374                            6986     ;       ***     位置決め一旦停止(自動待機位置)  ***
17375                            6987     ;       ***                                     ***
17376                            6988     ;       *******************************************
17377                            6989     ;       ﾊﾝﾄﾞｼｪｲｸの考え
17378                            6990     ;       ----------- 停止処理側---------------------------------
17379                            6991     ;               [1]運転
17380                            6992     ;               [2]停止判定したCPU(A)            -->[SH4_HD_HLDSTOP1]=-1 -->CPU(B)
17381                            6993     ;               [3]停止状態
17382                            6994     ;               [4]相手CPU同状態(停止)判定待ち   -->[SH4==SH2==-1]
17383                            6995     ;       ----------- 起動処理側---------------------------------
17384                            6996     ;               [5]起動条件待ち->起動条件成立    -->[SH4_HD_HLDSTOP1]=0  -->CPU(B)
17385                            6997     ;               [6]相手CPU同状態(起動)待ち       -->[SH4==SH2==0]
17386                            6998     ;               [7]実起動処理
17387                            6999     ;;      _CPU_AB_DRVHLDSTOP_ON_OUT       ;
17388                            7000     ;;      _CPU_AB_DRVHLDSTOP_OF_OUT       ;
17389                            7001     ;;      _CPU_BA_DRVHLDSTOP_ON_JG        ;
17390                            7002     ;;      _CPU_BA_DRVHLDSTOP_OF_JG        ;
17391                            7003     
17392                            7004     ;       ***************************
17393                            7005     ;       ***                     ***
17394                            7006     ;       ***     停止側処理      ***
17395                            7007     ;       ***                     ***
17396                            7008     ;       ***************************
17397                            7009     ;       //BIT0=1:ﾎｰﾙﾄﾞ停止受付[自分停止ON または相手停止ON]
17398                            7010             .IMPORT _CMP_HOLD_CTLGENSOK
17399                            7011     
17400                                     ***** BEGIN-POOL *****
17401 00003050 00000000                   DATA FOR SOURCE-LINE 6975
17402 00003054 00000000                   DATA FOR SOURCE-LINE 6977
17403                                     ***** END-POOL *****
17404 00003058                   7012     _POSHLD1_STEP1_STOPCMD_CHK:
17405                            7013             SUB_START
17406 00003058 4F22                   M           STS.L   PR,@-R15                ;[必要]
17407                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17408 0000305A D103              7014             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17409 0000305C 6011              7015             MOV.W   @R1,R0                          ;
17410 0000305E C801              7016             TST     #BIT0,R0                        ;
17411                            7017             TST_BIT_OF POSHLD1_STEP1_STOP100        ;
17412 00003060 8904                   M           BT      POSHLD1_STEP1_STOP100
17413                            7018             M_BRA   POSHLD1_STEP1_STOPWAIT          ;BIT0=1:停止側の処理は終了:上のソフトの処
                                          理待ち
17414 00003062 A056                   M           BRA     POSHLD1_STEP1_STOPWAIT
17415 00003064 0009                   M           NOP
17416                            7019     
17417                            7020     ;       -------------停止信号待ち-----------------------
17418                            7021     ;       自分は範囲でしか停止出力しない
17419                            7022     ;       相手からはいつでも受け付ける
17420                            7023     
17421                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   204
PROGRAM NAME =

17422 00003066 0000                       ALIGNMENT CODE
17423 00003068 00000000                   DATA FOR SOURCE-LINE 7014
17424                                     ***** END-POOL *****
17425 0000306C                   7024     POSHLD1_STEP1_STOP100:
17426                            7025             FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;相手CPUから止まれといわれたか
17427 0000306C D00D                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17428 0000306E 400B                   M           JSR     @R0                     ;
17429 00003070 0009                   M           NOP                                     ;
17430 00003072 2008              7026             TST     R0,R0                                   ;
17431                            7027             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17432 00003074 8B20                   M           BF      POSHLD1_STEP1_STOP150
17433                            7028     
17434 00003076 D10C              7029             MOV.L   #_SEQAB_DP_TOP+151*2,R1                 ;151.8[本仕様有]
17435 00003078 6011              7030             MOV.W   @R1,R0                                  ;
17436 0000307A 9411              7031             MOV.W   #BIT8,R4                                ;
17437 0000307C 2048              7032             TST     R4,R0                                   ;
17438                            7033             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17439 0000307E 8945                   M           BT      POSHLD1_STEP1_STOPNO
17440                            7034     
17441 00003080 D10A              7035             MOV.L   #_SEQAB_DP_TOP+32*2,R1                  ;32.12[入/切]
17442 00003082 6011              7036             MOV.W   @R1,R0                                  ;
17443 00003084 940D              7037             MOV.W   #BIT12,R4                               ;
17444 00003086 2048              7038             TST     R4,R0                                   ;
17445                            7039             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17446 00003088 8940                   M           BT      POSHLD1_STEP1_STOPNO
17447                            7040     
17448 0000308A D109              7041             MOV.L   #_MODE_SEL,R1                   ;
17449 0000308C 6011              7042             MOV.W   @R1,R0                          ;
17450 0000308E C81C              7043             TST     #_W1CNT+_W1SGL+_W1OPT,R0        ;
17451                            7044             TST_BIT_OF POSHLD1_STEP1_STOPNO
17452 00003090 893C                   M           BT      POSHLD1_STEP1_STOPNO
17453                            7045     
17454                            7046     
17455                            7047             FAR_JSR #_POSHLD1_STOP_CONFCHK,R0
17456 00003092 D008                   M           MOV.L   #_POSHLD1_STOP_CONFCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17457 00003094 400B                   M           JSR     @R0                     ;
17458 00003096 0009                   M           NOP                                     ;
17459 00003098 2008              7048             TST     R0,R0                                   ;
17460                            7049             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17461 0000309A 8B0D                   M           BF      POSHLD1_STEP1_STOP150
17462                            7050             M_BRA   POSHLD1_STEP1_STOPNO                    ;
17463 0000309C A036                   M           BRA     POSHLD1_STEP1_STOPNO
17464 0000309E 0009                   M           NOP
17465                            7051     
17466                            7052     
17467                                     ***** BEGIN-POOL *****
17468 000030A0 0100                       DATA FOR SOURCE-LINE 7031
17469 000030A2 1000                       DATA FOR SOURCE-LINE 7037
17470 000030A4 00000000                   DATA FOR SOURCE-LINE 7025
17471 000030A8 00000000                   DATA FOR SOURCE-LINE 7029
17472 000030AC 00000000                   DATA FOR SOURCE-LINE 7035
17473 000030B0 00000000                   DATA FOR SOURCE-LINE 7041
17474 000030B4 00000000                   DATA FOR SOURCE-LINE 7047
17475                                     ***** END-POOL *****
17476 000030B8                   7053     POSHLD1_STEP1_STOP150:
17477                            7054     
17478                            7055             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0            ;停止釦を記憶
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   205
PROGRAM NAME =

17479 000030B8 D00D                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17480 000030BA 400B                   M           JSR     @R0                     ;
17481 000030BC 0009                   M           NOP                                     ;
17482                            7056     
17483                            7057     ;       --------- 停止条件成立---------
17484                            7058             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
17485 000030BE D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17486 000030C0 400B                   M           JSR     @R0                     ;
17487 000030C2 0009                   M           NOP                                     ;
17488                            7059     
17489                            7060             MOD_LOW_STOP_R0_R1
                                          ;
17490 000030C4 D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
17491 000030C6 E002                   M           MOV.B   #BIT1,R0                        ;
17492 000030C8 2101                   M           MOV.W   R0,@R1                          ;
17493                            7061             FAR_JSR #_CPU_AB_DRVHLDSTOP_ON_OUT,R0
                                          ;
17494 000030CA D00C                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_ON_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17495 000030CC 400B                   M           JSR     @R0                     ;
17496 000030CE 0009                   M           NOP                                     ;
17497                            7062             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17498 000030D0 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17499 000030D2 6011                   M           MOV.W   @R1,R0          ;
17500 000030D4 CB01                   M           OR      #(BIT0),R0              ;
17501 000030D6 2101                   M           MOV.W   R0,@R1          ;
17502                            7063             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_CMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17503 000030D8 D10A                   M           MOV.L   #_POS_HOLD_CMD,R1               ;
17504 000030DA 6011                   M           MOV.W   @R1,R0          ;
17505 000030DC CB01                   M           OR      #(BIT0),R0              ;
17506 000030DE 2101                   M           MOV.W   R0,@R1          ;
17507                            7064             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17508 000030E0 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17509 000030E2 6011                   M           MOV.W   @R1,R0          ;
17510 000030E4 9403                   M           MOV.W   #(BIT6),R4              ;
17511 000030E6 204B                   M           OR      R4,R0           ;
17512 000030E8 2101                   M           MOV.W   R0,@R1          ;
17513                            7065     
17514                            7066             M_BRA   POSHLD1_STEP1_STOPWAIT
17515 000030EA A012                   M           BRA     POSHLD1_STEP1_STOPWAIT
17516 000030EC 0009                   M           NOP
17517                            7067     
17518                            7068     
17519                                     ***** BEGIN-POOL *****
17520 000030EE 0040                       DATA FOR SOURCE-LINE 7064
17521 000030F0 00000000                   DATA FOR SOURCE-LINE 7055
17522 000030F4 00000000                   DATA FOR SOURCE-LINE 7058
17523 000030F8 00000000                   DATA FOR SOURCE-LINE 7060
17524 000030FC 00000000                   DATA FOR SOURCE-LINE 7061
17525 00003100 00000000                   DATA FOR SOURCE-LINE 7062
17526 00003104 00000000                   DATA FOR SOURCE-LINE 7063
17527 00003108 00000000                   DATA FOR SOURCE-LINE 7064
17528                                     ***** END-POOL *****
17529 0000310C                   7069     POSHLD1_STEP1_STOPNO:
17530 0000310C 200A              7070             XOR     R0,R0                   ;何もない(動いていいよ、動くことを妨げない)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   206
PROGRAM NAME =

17531                            7071             M_BRA   POSHLD1_STEP1_STOPEXT
17532 0000310E A004                   M           BRA     POSHLD1_STEP1_STOPEXT
17533 00003110 0009                   M           NOP
17534                            7072     
17535 00003112                   7073     POSHLD1_STEP1_STOPWAIT:
17536 00003112 E0FF              7074             MOV.B   #-1,R0                  ;停止処理中
17537                            7075             M_BRA   POSHLD1_STEP1_STOPEXT
17538 00003114 A001                   M           BRA     POSHLD1_STEP1_STOPEXT
17539 00003116 0009                   M           NOP
17540                            7076     
17541 00003118                   7077     POSHLD1_STEP1_STOPSTOP:
17542 00003118 E001              7078             MOV.B   #1,R0                   ;停止終了
17543 0000311A                   7079     POSHLD1_STEP1_STOPEXT:
17544                            7080     
17545                            7081             SUB_END
17546                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17547 0000311A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17548                            7082             M_RTS
17549 0000311C 000B                   M           RTS                             ;RTSの後ろの
17550 0000311E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17551                            7083     
17552                            7084     
17553                            7085     ;       ***********************************************************
17554                            7086     ;       ***     位置決め停止前の停止釦、一旦停止中停止釦の記憶  ***
17555                            7087     ;       ***********************************************************
17556                            7088     ;       1ｻｲｸﾙに2回の停止位置は存在しない
17557 00003120                   7089     _POSHLD1_STOPBTTNCMD_CHK
17558                            7090             SUB_START
17559 00003120 4F22                   M           STS.L   PR,@-R15                ;[必要]
17560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17561                            7091     
17562 00003122 D107              7092             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
17563 00003124 6011              7093             MOV.W   @R1,R0                          ;
17564 00003126 2008              7094             TST     R0,R0                           ;
17565                            7095             TST_BIT_ON  POSHLD1_STOPBTTNCMDCK_050
17566 00003128 8B03                   M           BF      POSHLD1_STOPBTTNCMDCK_050
17567 0000312A D106              7096             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
17568 0000312C 6011              7097             MOV.W   @R1,R0                          ;
17569 0000312E 2008              7098             TST     R0,R0
17570                            7099             TST_BIT_OF POSHLD1_STOPBTTNCMDCK_100    ;
17571 00003130 8903                   M           BT      POSHLD1_STOPBTTNCMDCK_100
17572 00003132                   7100     POSHLD1_STOPBTTNCMDCK_050
17573                            7101             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSHLD1_STOPLATCH,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17574 00003132 D105                   M           MOV.L   #_POSHLD1_STOPLATCH,R1          ;
17575 00003134 6011                   M           MOV.W   @R1,R0          ;
17576 00003136 CB01                   M           OR      #(BIT0),R0              ;
17577 00003138 2101                   M           MOV.W   R0,@R1          ;
17578 0000313A                   7102     POSHLD1_STOPBTTNCMDCK_100
17579                            7103     
17580                            7104     
17581                            7105             SUB_END
17582                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17583 0000313A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17584                            7106             M_RTS
17585 0000313C 000B                   M           RTS                             ;RTSの後ろの
17586 0000313E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   207
PROGRAM NAME =

17587                            7107     
17588                            7108     
17589                            7109     
17590                                     ***** BEGIN-POOL *****
17591 00003140 00000000                   DATA FOR SOURCE-LINE 7092
17592 00003144 00000000                   DATA FOR SOURCE-LINE 7096
17593 00003148 00000000                   DATA FOR SOURCE-LINE 7101
17594                                     ***** END-POOL *****
17595 0000314C                   7110     _POSHLD1_STOP_CONFCHK:
17596                            7111             SUB_START
17597 0000314C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17598                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17599                            7112     
17600 0000314E D125              7113             MOV.L   #_POS_HOLDABS_CALCF,R1  ;//1:終了
17601 00003150 6011              7114             MOV.W   @R1,R0                  ;
17602 00003152 E401              7115             MOV.B   #BIT0,R4                ;
17603 00003154 2048              7116             TST     R4,R0                   ;
17604                            7117             TST_BIT_OF POSHLD1_STOPCONF_100 ;ﾛｯﾄ変更無し
17605 00003156 8905                   M           BT      POSHLD1_STOPCONF_100
17606 00003158 6447              7118             NOT     R4,R4                   ;
17607 0000315A 2049              7119             AND     R4,R0                   ;
17608 0000315C 2101              7120             MOV.W   R0,@R1                  ;
17609                            7121     
17610 0000315E 200A              7122             XOR     R0,R0
17611 00003160 D121              7123             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//1:終了
17612 00003162 2101              7124             MOV.W   R0,@R1                  ;
17613                            7125     
17614 00003164                   7126     POSHLD1_STOPCONF_100
17615                            7127     
17616 00003164 D121              7128             MOV.L   #_SETX_POS_STEP_MAX,R1          ;
17617 00003166 6811              7129             MOV.W   @R1,R8                          ;LOOP data 1~10
17618 00003168 7801              7130             ADD     #1,R8                           ;2~11
17619                            7131     
17620 0000316A E401              7132             MOV.B   #BIT0,R4                ;
17621 0000316C D61E              7133             MOV.L   #_POSHLD1_CHKLST_FLG,R6 ;//1:終了
17622                            7134     
17623 0000316E D520              7135             MOV.L   #_POSHLD1_STOP_STEP,R5  ;//11個
17624                            7136     
17625 00003170                   7137     POSHLD1_STOPCONF_200LOP
17626 00003170 6361              7138             MOV.W   @R6,R3                          ;毎回読む
17627                            7139     
17628 00003172 6055              7140             MOV.W   @R5+,R0                         ;
17629 00003174 2008              7141             TST     R0,R0                           ;
17630                            7142             TST_BIT_OF POSHLD1_STOPCONF_500         ;
17631 00003176 8954                   M           BT      POSHLD1_STOPCONF_500
17632                            7143     
17633 00003178 2348              7144             TST     R4,R3                           ;終了?
17634                            7145             TST_BIT_ON POSHLD1_STOPCONF_400         ;YES
17635 0000317A 8B4B                   M           BF      POSHLD1_STOPCONF_400
17636                            7146     
17637 0000317C 70FF              7147             ADD     #-1,R0
17638 0000317E DB1D              7148             MOV.L   #_SETX_POS_SDAT1_CNTSTEP,R11    ;速度連続.LONG
17639 00003180 4008              7149             SHLL2   R0                              ;
17640 00003182 0CBE              7150             MOV.L   @(R0,R11),R12                   ;指定されている目標行程
17641                            7151     
17642 00003184 D11C              7152             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
17643 00003186 6011              7153             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   208
PROGRAM NAME =

17644 00003188 2008              7154             TST     R0,R0                           ;
17645                            7155             TST_BIT_OF POSHLD1_STOPCONF_STOPNO      ;起動していない
17646 0000318A 894A                   M           BT      POSHLD1_STOPCONF_STOPNO
17647                            7156     
17648 0000318C 70FF              7157             ADD     #-1,R0
17649 0000318E 4008              7158             SHLL2   R0                              ;
17650 00003190 0DBE              7159             MOV.L   @(R0,R11),R13                   ;今回運転している目標行程
17651                            7160     
17652 00003192 3DC0              7161             CMP/EQ  R12,R13                         ;R12=R13
17653 00003194 8B3A              7162             BF      POSHLD1_STOPCONF_300            ;
17654                            7163     
17655                            7164             PUSH_REG1       R3                      ;CHKFLG
17656 00003196 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17657                                 M                                           ;REG=>[SP]
17658                                 M                                           ;"-4" FF,FF,FF,FC
17659                            7165             PUSH_REG1       R4                      ;CHKBIT
17660 00003198 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17661                                 M                                           ;REG=>[SP]
17662                                 M                                           ;"-4" FF,FF,FF,FC
17663                            7166             PUSH_REG1       R5                      ;STEP
17664 0000319A 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17665                                 M                                           ;REG=>[SP]
17666                                 M                                           ;"-4" FF,FF,FF,FC
17667                            7167             PUSH_REG1       R6                      ;CHKFLG
17668 0000319C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17669                                 M                                           ;REG=>[SP]
17670                                 M                                           ;"-4" FF,FF,FF,FC
17671                            7168             PUSH_REG1       R8                      ;CHKFLG
17672 0000319E 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17673                                 M                                           ;REG=>[SP]
17674                                 M                                           ;"-4" FF,FF,FF,FC
17675                            7169     ;       演算
17676                            7170             FAR_JSR #_HOLD1_DNSTART_POSCHK,R0       ;
17677 000031A0 D016                   M           MOV.L   #_HOLD1_DNSTART_POSCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17678 000031A2 400B                   M           JSR     @R0                     ;
17679 000031A4 0009                   M           NOP                                     ;
17680                            7171     
17681                            7172             POP_REG1        R8
17682                                 M                                   ; RE"+4" 00,00,00,04
17683 000031A6 68F6                   M           MOV.L   @R15+,R8        ;
17684                            7173             POP_REG1        R6
17685                                 M                                   ; RE"+4" 00,00,00,04
17686 000031A8 66F6                   M           MOV.L   @R15+,R6        ;
17687                            7174             POP_REG1        R5
17688                                 M                                   ; RE"+4" 00,00,00,04
17689 000031AA 65F6                   M           MOV.L   @R15+,R5        ;
17690                            7175             POP_REG1        R4
17691                                 M                                   ; RE"+4" 00,00,00,04
17692 000031AC 64F6                   M           MOV.L   @R15+,R4        ;
17693                            7176             POP_REG1        R3
17694                                 M                                   ; RE"+4" 00,00,00,04
17695 000031AE 63F6                   M           MOV.L   @R15+,R3        ;
17696                            7177     
17697 000031B0 2008              7178             TST     R0,R0
17698                            7179             TST_BIT_OF POSHLD1_STOPCONF_400         ;0:まだ未到達
17699 000031B2 892F                   M           BT      POSHLD1_STOPCONF_400
17700                            7180     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   209
PROGRAM NAME =

17701 000031B4 8801              7181             CMP/EQ  #1,R0
17702 000031B6 8B2B              7182             BF      POSHLD1_STOPCONF_350            ;-1:MISS[目標位置を超えた] 1:NOMAL 0:まだ
17703                            7183     
17704 000031B8 6033              7184             MOV     R3,R0                           ;
17705 000031BA 234B              7185             OR      R4,R3                           ;
17706 000031BC 2631              7186             MOV.W   R3,@R6                          ;CHKLISTSAVE
17707 000031BE 2048              7187             TST     R4,R0                           ;
17708                            7188             TST_BIT_ON POSHLD1_STOPCONF_400         ;前回もＯＮだった
17709 000031C0 8B28                   M           BF      POSHLD1_STOPCONF_400
17710                            7189     
17711                            7190     ;       ---------- 前回OFFで今回ON-----------------------
17712 000031C2 D10F              7191             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17713 000031C4 6011              7192             MOV.W   @R1,R0                                  ;
17714 000031C6 920B              7193             MOV.W   #BIT12,R2                               ;
17715 000031C8 2028              7194             TST     R2,R0                                   ;
17716                            7195             TST_BIT_ON POSHLD1_STOPCONF_STOPSTOP            ;2015-02-20[論理入れ替え]
17717 000031CA 8B2D                   M           BF      POSHLD1_STOPCONF_STOPSTOP
17718                            7196     
17719                            7197             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R2;
                                          通過信号
17720 000031CC D10D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17721 000031CE 6011                   M           MOV.W   @R1,R0          ;
17722 000031D0 9206                   M           MOV.W   #(BIT12),R2             ;
17723 000031D2 202B                   M           OR      R2,R0           ;
17724 000031D4 2101                   M           MOV.W   R0,@R1          ;
17725 000031D6 9004              7198             MOV.W   #D'20,R0                                        ;
17726 000031D8 D10B              7199             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1                       ;2015-02-20追加　20msecだ
                                          け再起動または通過時
17727 000031DA 2101              7200             MOV.W   R0,@R1                                          ;
17728                            7201             M_BRA   POSHLD1_STOPCONF_400                    ;
17729 000031DC A01A                   M           BRA     POSHLD1_STOPCONF_400
17730 000031DE 0009                   M           NOP
17731                            7202     
17732                            7203     ;;;;2015-02-20[論理入れ替え]
17733                            7204     ;;;;    TST_BIT_OF POSHLD1_STOPCONF_400                 ;
17734                            7205     ;;;;    M_BRA   POSHLD1_STOPCONF_STOPSTOP
17735                            7206     
17736                            7207     
17737                            7208     
17738                            7209     
17739                            7210     
17740                            7211     
17741                            7212     
17742                            7213     
17743                            7214     
17744                                     ***** BEGIN-POOL *****
17745 000031E0 1000                       DATA FOR SOURCE-LINE 7193,7197
17746 000031E2 0014                       DATA FOR SOURCE-LINE 7198
17747 000031E4 00000000                   DATA FOR SOURCE-LINE 7113
17748 000031E8 00000000                   DATA FOR SOURCE-LINE 7123,7133
17749 000031EC 00000000                   DATA FOR SOURCE-LINE 7128
17750 000031F0 00000000                   DATA FOR SOURCE-LINE 7135
17751 000031F4 00000000                   DATA FOR SOURCE-LINE 7148
17752 000031F8 00000000                   DATA FOR SOURCE-LINE 7152
17753 000031FC 00000000                   DATA FOR SOURCE-LINE 7170
17754 00003200 00000000                   DATA FOR SOURCE-LINE 7191
17755 00003204 00000000                   DATA FOR SOURCE-LINE 7197
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   210
PROGRAM NAME =

17756 00003208 00000000                   DATA FOR SOURCE-LINE 7199
17757                                     ***** END-POOL *****
17758 0000320C                   7215     POSHLD1_STOPCONF_300
17759 0000320C 3DC7              7216             CMP/GT  R12,R13                         ;R12[指定]<R13[現状]?
17760 0000320E 8B01              7217             BF      POSHLD1_STOPCONF_400            ;NO! R13[現状]<R12[指定]まだその行程でない
17761                            7218     
17762                            7219     ;       -------------通り過ぎた R12[指定]<R13[現状]----------------
17763 00003210                   7220     POSHLD1_STOPCONF_350
17764 00003210 234B              7221             OR      R4,R3                           ;
17765 00003212 2631              7222             MOV.W   R3,@R6                          ;CHKLISTSAVE
17766                            7223     
17767 00003214                   7224     POSHLD1_STOPCONF_400
17768 00003214 4400              7225             SHLL    R4                      ;
17769 00003216 78FF              7226             ADD     #-1,R8                  ;
17770 00003218 2888              7227             TST     R8,R8                   ;
17771                            7228             TST_BIT_OF POSHLD1_STOPCONF_499 ;MAX(ここではひっかっかることはない)
17772 0000321A 8901                   M           BT      POSHLD1_STOPCONF_499
17773                            7229             M_BRA   POSHLD1_STOPCONF_200LOP
17774 0000321C AFA8                   M           BRA     POSHLD1_STOPCONF_200LOP
17775 0000321E 0009                   M           NOP
17776                            7230     
17777 00003220                   7231     POSHLD1_STOPCONF_499
17778 00003220 0009              7232             NOP
17779 00003222                   7233     POSHLD1_STOPCONF_500
17780 00003222                   7234     POSHLD1_STOPCONF_STOPNO         ;
17781 00003222 200A              7235             XOR     R0,R0
17782                            7236             M_BRA   POSHLD1_STOPCONF_STOPEND
17783 00003224 A001                   M           BRA     POSHLD1_STOPCONF_STOPEND
17784 00003226 0009                   M           NOP
17785                            7237     
17786 00003228                   7238     POSHLD1_STOPCONF_STOPSTOP               ;
17787 00003228 E001              7239             MOV.B   #BIT0,R0                ;
17788                            7240     
17789 0000322A                   7241     POSHLD1_STOPCONF_STOPEND
17790                            7242             SUB_END
17791                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17792 0000322A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17793                            7243             M_RTS
17794 0000322C 000B                   M           RTS                             ;RTSの後ろの
17795 0000322E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17796                            7244     
17797                            7245     
17798 00003230                   7246     _HOLD1_DNSTART_POSCHK:
17799                            7247             SUB_START
17800 00003230 4F22                   M           STS.L   PR,@-R15                ;[必要]
17801                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17802 00003232 D106              7248             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
17803 00003234 6011              7249             MOV.W   @R1,R0                                  ;
17804 00003236 C804              7250             TST     #_DMATH_DNDRIV,R0                       ;ふりこ
17805                            7251             TST_BIT_OF HOLD1_DNSTARTPOSCK100                ;
17806 00003238 890E                   M           BT      HOLD1_DNSTARTPOSCK100
17807                            7252     
17808 0000323A D105              7253             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//このフラグでいいのかな？
17809 0000323C 6011              7254             MOV.W   @R1,R0                          ;
17810 0000323E 2008              7255             TST     R0,R0                           ;
17811                            7256             TST_BIT_OF HOLD1_DNSTARTPOSCK100        ;
17812 00003240 890A                   M           BT      HOLD1_DNSTARTPOSCK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   211
PROGRAM NAME =

17813                            7257     
17814 00003242 D404              7258             MOV.L   #_POSHLD1_SDAT2_HOLDPOS,R4;//停止位置
17815 00003244 6146              7259             MOV.L   @R4+,R1
17816 00003246 6246              7260             MOV.L   @R4+,R2
17817                            7261             M_BRA   HOLD1_DNSTARTPOSCK200           ;
17818 00003248 A009                   M           BRA     HOLD1_DNSTARTPOSCK200
17819 0000324A 0009                   M           NOP
17820                            7262     
17821                                     ***** BEGIN-POOL *****
17822 0000324C 00000000                   DATA FOR SOURCE-LINE 7248
17823 00003250 00000000                   DATA FOR SOURCE-LINE 7253
17824 00003254 00000000                   DATA FOR SOURCE-LINE 7258
17825                                     ***** END-POOL *****
17826 00003258                   7263     HOLD1_DNSTARTPOSCK100:
17827 00003258 D404              7264             MOV.L   #_POSHLD1_SDAT1_HOLDPOS,R4;//停止位置
17828 0000325A 6146              7265             MOV.L   @R4+,R1
17829 0000325C 6246              7266             MOV.L   @R4+,R2
17830                            7267     
17831 0000325E                   7268     HOLD1_DNSTARTPOSCK200:
17832                            7269             FAR_JSR #_CMP_HOLD_CTLGENSOK,R0         ;R0=01
17833 0000325E D004                   M           MOV.L   #_CMP_HOLD_CTLGENSOK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17834 00003260 400B                   M           JSR     @R0                     ;
17835 00003262 0009                   M           NOP                                     ;
17836                            7270     
17837                            7271             SUB_END
17838                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17839 00003264 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17840                            7272             M_RTS
17841 00003266 000B                   M           RTS                             ;RTSの後ろの
17842 00003268 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17843                            7273     
17844                            7274     ;       *******************************************
17845                            7275     ;       ***                                     ***
17846                            7276     ;       ***     開始側処理                      ***
17847                            7277     ;       ***     (完全に停止した時点)            ***
17848                            7278     ;       ***                                     ***
17849                            7279     ;       *******************************************
17850                            7280     ;
17851                                     ***** BEGIN-POOL *****
17852 0000326A 0000                       ALIGNMENT CODE
17853 0000326C 00000000                   DATA FOR SOURCE-LINE 7264
17854 00003270 00000000                   DATA FOR SOURCE-LINE 7269
17855                                     ***** END-POOL *****
17856 00003274                   7281     _POSHLD1_STEP2_START_CHK:
17857                            7282             SUB_START
17858 00003274 4F22                   M           STS.L   PR,@-R15                ;[必要]
17859                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17860 00003276 D113              7283             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17861 00003278 6011              7284             MOV.W   @R1,R0                          ;
17862 0000327A C801              7285             TST     #BIT0,R0                        ;
17863                            7286             TST_BIT_OF POSHLD1_STEP2_STARTEXT       ;このソフトには関係ないのに呼ばれた
17864 0000327C 896B                   M           BT      POSHLD1_STEP2_STARTEXT
17865                            7287     
17866 0000327E C804              7288             TST     #BIT2,R0                        ;
17867                            7289             TST_BIT_ON POSHLD1_STEP2_STARTEXT       ;
17868 00003280 8B69                   M           BF      POSHLD1_STEP2_STARTEXT
17869                            7290     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   212
PROGRAM NAME =

17870 00003282 C802              7291             TST     #BIT1,R0                        ;ﾀｲﾏ設定?
17871                            7292             TST_BIT_ON POSHLD1_STEP2_START100       ;
17872 00003284 8B14                   M           BF      POSHLD1_STEP2_START100
17873                            7293     
17874                            7294     ;       ------------内部停止状態成立-----------
17875 00003286 D110              7295             MOV.L   #_SVP_WTTIM_MAX,R1              ;//ｽﾗｲﾄﾞ自動待機機能  待機時間上限
17876 00003288 6211              7296             MOV.W   @R1,R2                          ;
17877 0000328A 9417              7297             MOV.W   #D'100,R4                       ;0.1秒
17878 0000328C 324D              7298             DMULS.L R4,R2                           ;
17879 0000328E 021A              7299             STS.L   MACL,R2                         ;
17880 00003290 D10E              7300             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17881 00003292 2122              7301             MOV.L   R2,@R1                          ;
17882                            7302     
17883                            7303             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT1),WKREG=R1          ;
17884 00003294 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17885 00003296 6011                   M           MOV.W   @R1,R0          ;
17886 00003298 CB02                   M           OR      #(BIT1),R0              ;
17887 0000329A 2101                   M           MOV.W   R0,@R1          ;
17888                            7304             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4 ;
                                          待機停止中
17889 0000329C D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17890 0000329E 6011                   M           MOV.W   @R1,R0          ;
17891 000032A0 940D                   M           MOV.W   #(BIT7),R4              ;
17892 000032A2 204B                   M           OR      R4,R0           ;
17893 000032A4 2101                   M           MOV.W   R0,@R1          ;
17894                            7305             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17895 000032A6 D10A                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17896 000032A8 6011                   M           MOV.W   @R1,R0          ;
17897 000032AA 9409                   M           MOV.W   #LWORD (~BIT6),R4       ;
17898 000032AC 2049                   M           AND     R4,R0           ;
17899 000032AE 2101                   M           MOV.W   R0,@R1          ;
17900                            7306     
17901                            7307     
17902                            7308     
17903 000032B0                   7309     POSHLD1_STEP2_START100:
17904                            7310     ;       ------------------------------------------------
17905                            7311     ;       ----------<2017-05-12>--------------------------
17906                            7312     ;       ------------------------------------------------
17907                            7313     ;       停止上限をみない
17908 000032B0 D108              7314             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2017-05-12追加
17909 000032B2 6011              7315             MOV.W   @R1,R0                                  ;
17910 000032B4 C804              7316             TST     #BIT2,R0                                ;
17911                            7317             TST_BIT_OF POSHLD1_STEP2_START110               ;OFF:今まで通りﾀｲﾏを見る
17912 000032B6 890F                   M           BT      POSHLD1_STEP2_START110
17913                            7318             M_BRA   POSHLD1_STEP2_START200                  ;ﾀｲﾏを見ない.いつもでも待つ
17914 000032B8 A014                   M           BRA     POSHLD1_STEP2_START200
17915 000032BA 0009                   M           NOP
17916                            7319     
17917                                     ***** BEGIN-POOL *****
17918 000032BC 0064                       DATA FOR SOURCE-LINE 7297
17919 000032BE 0080                       DATA FOR SOURCE-LINE 7304
17920 000032C0 FFBF                       DATA FOR SOURCE-LINE 7305
17921 000032C2 0000                       ALIGNMENT CODE
17922 000032C4 00000000                   DATA FOR SOURCE-LINE 7283,7303
17923 000032C8 00000000                   DATA FOR SOURCE-LINE 7295
17924 000032CC 00000000                   DATA FOR SOURCE-LINE 7300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   213
PROGRAM NAME =

17925 000032D0 00000000                   DATA FOR SOURCE-LINE 7304,7305
17926 000032D4 00000000                   DATA FOR SOURCE-LINE 7314
17927                                     ***** END-POOL *****
17928 000032D8                   7320     POSHLD1_STEP2_START110:
17929                            7321     ;       ------------------------------------------------
17930                            7322     ;       ------------------------------------------------
17931                            7323     
17932 000032D8 D113              7324             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17933 000032DA 6212              7325             MOV.L   @R1,R2                          ;
17934 000032DC 2228              7326             TST     R2,R2                           ;
17935                            7327             TST_BIT_OF POSHLD1_STEP2_START500       ;ﾀｲﾑｱｯﾌﾟ,0設定
17936 000032DE 8931                   M           BT      POSHLD1_STEP2_START500
17937 000032E0 72FF              7328             ADD     #-1,R2                          ;
17938 000032E2 2122              7329             MOV.L   R2,@R1                          ;
17939                            7330     
17940                            7331     
17941 000032E4                   7332     POSHLD1_STEP2_START200:
17942                            7333     ;       --------------------試し------------------------
17943                            7334     ;       "本仕様有／無ｼｰｹﾝｽ+有効/無効sw+角度範囲+停止指令",相手信号
17944 000032E4 D111              7335             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17945 000032E6 6011              7336             MOV.W   @R1,R0                                  ;
17946 000032E8 941A              7337             MOV.W   #BIT12,R4                               ;
17947 000032EA 2048              7338             TST     R4,R0                                   ;
17948                            7339             TST_BIT_ON POSHLD1_STEP2_STARTEXT               ;
17949 000032EC 8B33                   M           BF      POSHLD1_STEP2_STARTEXT
17950                            7340     
17951                            7341     ;       ----------------起動条件成立--------------------------------
17952                            7342             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT2),WKREG=R1
                                          ;
17953 000032EE D110                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17954 000032F0 6011                   M           MOV.W   @R1,R0          ;
17955 000032F2 CB04                   M           OR      #(BIT2),R0              ;
17956 000032F4 2101                   M           MOV.W   R0,@R1          ;
17957                            7343             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_RESTARTCMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;RESTART
17958 000032F6 D10F                   M           MOV.L   #_POS_HOLD_RESTARTCMD,R1                ;
17959 000032F8 6011                   M           MOV.W   @R1,R0          ;
17960 000032FA CB01                   M           OR      #(BIT0),R0              ;
17961 000032FC 2101                   M           MOV.W   R0,@R1          ;
17962                            7344             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                          ;待機停止中
17963 000032FE D10E                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17964 00003300 6011                   M           MOV.W   @R1,R0          ;
17965 00003302 940E                   M           MOV.W   #LWORD (~BIT7),R4       ;
17966 00003304 2049                   M           AND     R4,R0           ;
17967 00003306 2101                   M           MOV.W   R0,@R1          ;
17968                            7345     ;;;;2015-02-20  MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT8),WKRG1=R1,WKR
                                          G2=R4           ;再起動ON
17969                            7346             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12|BIT8),WKRG1=R1,WKRG2
                                          =R4             ;再起動ON
17970 00003308 D10B                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17971 0000330A 6011                   M           MOV.W   @R1,R0          ;
17972 0000330C 940A                   M           MOV.W   #(BIT12|BIT8),R4                ;
17973 0000330E 204B                   M           OR      R4,R0           ;
17974 00003310 2101                   M           MOV.W   R0,@R1          ;
17975                            7347     
17976 00003312 9008              7348             MOV.W   #D'20,R0                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   214
PROGRAM NAME =

17977 00003314 D109              7349             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1               ;20msecだけ再起動をONする
17978 00003316 2101              7350             MOV.W   R0,@R1                                  ;
17979 00003318 D109              7351             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1               ;2015-02-20追加　20msecだけ再起動
                                          または通過時
17980 0000331A 2101              7352             MOV.W   R0,@R1                                  ;
17981                            7353             M_BRA   POSHLD1_STEP2_STARTEXT
                                          ;
17982 0000331C A01B                   M           BRA     POSHLD1_STEP2_STARTEXT
17983 0000331E 0009                   M           NOP
17984                            7354     
17985                                     ***** BEGIN-POOL *****
17986 00003320 1000                       DATA FOR SOURCE-LINE 7337
17987 00003322 FF7F                       DATA FOR SOURCE-LINE 7344
17988 00003324 1100                       DATA FOR SOURCE-LINE 7346
17989 00003326 0014                       DATA FOR SOURCE-LINE 7348
17990 00003328 00000000                   DATA FOR SOURCE-LINE 7324
17991 0000332C 00000000                   DATA FOR SOURCE-LINE 7335
17992 00003330 00000000                   DATA FOR SOURCE-LINE 7342
17993 00003334 00000000                   DATA FOR SOURCE-LINE 7343
17994 00003338 00000000                   DATA FOR SOURCE-LINE 7344,7346
17995 0000333C 00000000                   DATA FOR SOURCE-LINE 7349
17996 00003340 00000000                   DATA FOR SOURCE-LINE 7351
17997                                     ***** END-POOL *****
17998 00003344                   7355     POSHLD1_STEP2_START500:
17999                            7356     
18000                            7357     
18001 00003344 D506              7358             MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R5             ;
18002 00003346 6151              7359             MOV.W   @R5,R1                                  ;
18003 00003348 9008              7360             MOV.W   #BIT13,R0
18004 0000334A 210B              7361             OR      R0,R1
18005 0000334C 2511              7362             MOV.W   R1,@R5
18006                            7363     
18007 0000334E 9406              7364             MOV.W   #H'224D,R4                              ;2010-12-21
18008                            7365             FAR_JSR #_EXQ_STOP,R0                           ;EXQ_FLG
18009 00003350 D004                   M           MOV.L   #_EXQ_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18010 00003352 400B                   M           JSR     @R0                     ;
18011 00003354 0009                   M           NOP                                     ;
18012                            7366     
18013 00003356                   7367     POSHLD1_STEP2_STARTEXT:
18014                            7368     
18015                            7369             SUB_END
18016                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18017 00003356 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18018                            7370             M_RTS
18019 00003358 000B                   M           RTS                             ;RTSの後ろの
18020 0000335A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18021                            7371     
18022                            7372     
18023                                     ***** BEGIN-POOL *****
18024 0000335C 2000                       DATA FOR SOURCE-LINE 7360
18025 0000335E 224D                       DATA FOR SOURCE-LINE 7364
18026 00003360 00000000                   DATA FOR SOURCE-LINE 7358
18027 00003364 00000000                   DATA FOR SOURCE-LINE 7365
18028                                     ***** END-POOL *****
18029 00003368                   7373     _POSHLD1_FLG_CLR:
18030                            7374             SUB_START
18031 00003368 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   215
PROGRAM NAME =

18032                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18033 0000336A 200A              7375             XOR     R0,R0
18034 0000336C D106              7376             MOV.L   #_POS_HLDSTOP1_FLG,R1   ;
18035 0000336E 2101              7377             MOV.W   R0,@R1                  ;
18036 00003370 D106              7378             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//
18037 00003372 2101              7379             MOV.W   R0,@R1
18038                            7380     
18039                            7381             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT7|BIT6),WKRG1=R1,WKRG2
                                          =R4     ;
18040 00003374 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18041 00003376 6011                   M           MOV.W   @R1,R0          ;
18042 00003378 9404                   M           MOV.W   #LWORD ~(BIT7|BIT6),R4  ;
18043 0000337A 2049                   M           AND     R4,R0           ;
18044 0000337C 2101                   M           MOV.W   R0,@R1          ;
18045                            7382     
18046                            7383             SUB_END
18047                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18048 0000337E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18049                            7384             M_RTS
18050 00003380 000B                   M           RTS                             ;RTSの後ろの
18051 00003382 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18052                            7385     
18053                            7386     
18054                            7387     
18055                            7388     
18056                            7389     
18057                                     ***** BEGIN-POOL *****
18058 00003384 FF3F                       DATA FOR SOURCE-LINE 7381
18059 00003386 0000                       ALIGNMENT CODE
18060 00003388 00000000                   DATA FOR SOURCE-LINE 7376
18061 0000338C 00000000                   DATA FOR SOURCE-LINE 7378
18062 00003390 00000000                   DATA FOR SOURCE-LINE 7381
18063                                     ***** END-POOL *****
18064 00003394                   7390     _POSHLD1_SIG_CHK
18065                            7391             SUB_START
18066 00003394 4F22                   M           STS.L   PR,@-R15                ;[必要]
18067                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18068                            7392     ;       --------- 再起動信号--------------
18069 00003396 D507              7393             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
18070 00003398 6351              7394             MOV.W   @R5,R3
18071 0000339A 9409              7395             MOV.W   #BIT8,R4
18072 0000339C 2348              7396             TST     R4,R3
18073                            7397             TST_BIT_OF POSHLD1_SIGCHK_200   ;
18074 0000339E 8910                   M           BT      POSHLD1_SIGCHK_200
18075                            7398     
18076 000033A0 D105              7399             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;       //100msecだけ再起動をONする
18077 000033A2 6011              7400             MOV.W   @R1,R0                          ;
18078 000033A4 2008              7401             TST     R0,R0
18079                            7402             TST_BIT_OF POSHLD1_SIGCHK_100           ;
18080 000033A6 8909                   M           BT      POSHLD1_SIGCHK_100
18081 000033A8 70FF              7403             ADD     #-1,R0
18082 000033AA 2101              7404             MOV.W   R0,@R1
18083                            7405             M_BRA   POSHLD1_SIGCHK_200
18084 000033AC A009                   M           BRA     POSHLD1_SIGCHK_200
18085 000033AE 0009                   M           NOP
18086                                     ***** BEGIN-POOL *****
18087 000033B0 0100                       DATA FOR SOURCE-LINE 7395
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   216
PROGRAM NAME =

18088 000033B2 0000                       ALIGNMENT CODE
18089 000033B4 00000000                   DATA FOR SOURCE-LINE 7393
18090 000033B8 00000000                   DATA FOR SOURCE-LINE 7399
18091                                     ***** END-POOL *****
18092 000033BC                   7406     POSHLD1_SIGCHK_100
18093 000033BC 6447              7407             NOT     R4,R4
18094 000033BE 2349              7408             AND     R4,R3
18095 000033C0 2531              7409             MOV.W   R3,@R5                          ;
18096                            7410     
18097 000033C2                   7411     POSHLD1_SIGCHK_200
18098                            7412     
18099                            7413     
18100                            7414     
18101                            7415     ;       --------- 通過信号2015-02-20--------------
18102 000033C2 D507              7416             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
18103 000033C4 6351              7417             MOV.W   @R5,R3
18104 000033C6 9409              7418             MOV.W   #BIT12,R4
18105 000033C8 2348              7419             TST     R4,R3
18106                            7420             TST_BIT_OF POSHLD1_SIGCHK_400   ;
18107 000033CA 8910                   M           BT      POSHLD1_SIGCHK_400
18108                            7421     
18109 000033CC D105              7422             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;       //100msecだけ再起動をONする
18110 000033CE 6011              7423             MOV.W   @R1,R0                          ;
18111 000033D0 2008              7424             TST     R0,R0
18112                            7425             TST_BIT_OF POSHLD1_SIGCHK_300           ;
18113 000033D2 8909                   M           BT      POSHLD1_SIGCHK_300
18114 000033D4 70FF              7426             ADD     #-1,R0
18115 000033D6 2101              7427             MOV.W   R0,@R1
18116                            7428             M_BRA   POSHLD1_SIGCHK_400
18117 000033D8 A009                   M           BRA     POSHLD1_SIGCHK_400
18118 000033DA 0009                   M           NOP
18119                                     ***** BEGIN-POOL *****
18120 000033DC 1000                       DATA FOR SOURCE-LINE 7418
18121 000033DE 0000                       ALIGNMENT CODE
18122 000033E0 00000000                   DATA FOR SOURCE-LINE 7416
18123 000033E4 00000000                   DATA FOR SOURCE-LINE 7422
18124                                     ***** END-POOL *****
18125 000033E8                   7429     POSHLD1_SIGCHK_300
18126 000033E8 6447              7430             NOT     R4,R4
18127 000033EA 2349              7431             AND     R4,R3
18128 000033EC 2531              7432             MOV.W   R3,@R5                          ;
18129                            7433     
18130 000033EE                   7434     POSHLD1_SIGCHK_400
18131                            7435     
18132                            7436             SUB_END
18133                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18134 000033EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18135                            7437             M_RTS
18136 000033F0 000B                   M           RTS                             ;RTSの後ろの
18137 000033F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18138                            7438     
18139                            7439     ;       *******************************************
18140                            7440     ;       ***                                     ***
18141                            7441     ;       ***     複数個で一旦停止を行える構造    ***
18142                            7442     ;       ***                                     ***
18143                            7443     ;       ***                                     ***
18144                            7444     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   217
PROGRAM NAME =

18145                            7445     ;
18146                            7446     ;
18147                            7447     ;_POS_HLDSTOP1_FLG;     //位置決め状態、準備未完了状態にて行う
18148 000033F4                   7448     _POS_HOLD_RESTART_CHK:
18149                            7449             SUB_START
18150 000033F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18151                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18152                            7450             FAR_JSR #_POSHLD1_STEP2_START_CHK,R0            ;ｺﾏﾝﾄﾞで出力
18153 000033F6 D003                   M           MOV.L   #_POSHLD1_STEP2_START_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18154 000033F8 400B                   M           JSR     @R0                     ;
18155 000033FA 0009                   M           NOP                                     ;
18156                            7451     
18157                            7452             SUB_END
18158                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18159 000033FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18160                            7453             M_RTS
18161 000033FE 000B                   M           RTS                             ;RTSの後ろの
18162 00003400 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18163                            7454     
18164                            7455     
18165                            7456     
18166                            7457     
18167                                     ***** BEGIN-POOL *****
18168 00003402 0000                       ALIGNMENT CODE
18169 00003404 00000000                   DATA FOR SOURCE-LINE 7450
18170                                     ***** END-POOL *****
18171 00003408                   7458     _HOLD_RESTART_OF_OUT:
18172                            7459             SUB_START
18173 00003408 4F22                   M           STS.L   PR,@-R15                ;[必要]
18174                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18175                            7460             FAR_JSR #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;
18176 0000340A D003                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18177 0000340C 400B                   M           JSR     @R0                     ;
18178 0000340E 0009                   M           NOP                                     ;
18179                            7461             SUB_END
18180                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18181 00003410 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18182                            7462             M_RTS
18183 00003412 000B                   M           RTS                             ;RTSの後ろの
18184 00003414 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18185                            7463     
18186                            7464     
18187                            7465     ;       -----R0=0 RESTART-OK----------
18188                                     ***** BEGIN-POOL *****
18189 00003416 0000                       ALIGNMENT CODE
18190 00003418 00000000                   DATA FOR SOURCE-LINE 7460
18191                                     ***** END-POOL *****
18192 0000341C                   7466     _HOLD_RESTART_BA_JG:
18193                            7467             SUB_START
18194 0000341C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18195                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18196                            7468             FAR_JSR #_CPU_BA_DRVHLDSTOP_OF_JG,R0    ;R0=0 起動 とりあえず１個
18197 0000341E D003                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_OF_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18198 00003420 400B                   M           JSR     @R0                     ;
18199 00003422 0009                   M           NOP                                     ;
18200                            7469             SUB_END
18201                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   218
PROGRAM NAME =

18202 00003424 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18203                            7470             M_RTS
18204 00003426 000B                   M           RTS                             ;RTSの後ろの
18205 00003428 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18206                            7471     
18207                            7472     ;       -----R0=0 RESTART-OK----------
18208                            7473     ;;;;;;;;;;_HOLD_STOP_BA_JG:
18209                            7474     ;;;;;;;;;;      SUB_START
18210                            7475     ;;;;;;;;;;      FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0    ;R0=FFFF 停止 とりあえず1個(複数時
                                          でもどれか１つがFFFFでいいと思う)
18211                            7476     ;;;;;;;;;;      SUB_END
18212                            7477     ;;;;;;;;;       M_RTS
18213                            7478     
18214                            7479     
18215                            7480     
18216                            7481     
18217                                     ***** BEGIN-POOL *****
18218 0000342A 0000                       ALIGNMENT CODE
18219 0000342C 00000000                   DATA FOR SOURCE-LINE 7468
18220                                     ***** END-POOL *****
18221 00003430                   7482     _POS_HOLD_FLG_CLR:
18222                            7483             SUB_START
18223 00003430 4F22                   M           STS.L   PR,@-R15                ;[必要]
18224                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18225                            7484     
18226 00003432 200A              7485             XOR     R0,R0
18227 00003434 D105              7486             MOV.L   #_POS_HOLD_RESTARTCMD,R1
18228 00003436 2101              7487             MOV.W   R0,@R1
18229 00003438 D105              7488             MOV.L   #_POS_HOLD_CMD,R1
18230 0000343A 2101              7489             MOV.W   R0,@R1
18231 0000343C D105              7490             MOV.L   #_POS_HOLD_FLG,R1
18232 0000343E 2101              7491             MOV.W   R0,@R1
18233                            7492     
18234                            7493             FAR_JSR #_POSHLD1_FLG_CLR,R0            ;
18235 00003440 D005                   M           MOV.L   #_POSHLD1_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18236 00003442 400B                   M           JSR     @R0                     ;
18237 00003444 0009                   M           NOP                                     ;
18238                            7494     
18239                            7495             SUB_END
18240                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18241 00003446 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18242                            7496             M_RTS
18243 00003448 000B                   M           RTS                             ;RTSの後ろの
18244 0000344A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18245                            7497     
18246                            7498     ;
18247                                     ***** BEGIN-POOL *****
18248 0000344C 00000000                   DATA FOR SOURCE-LINE 7486
18249 00003450 00000000                   DATA FOR SOURCE-LINE 7488
18250 00003454 00000000                   DATA FOR SOURCE-LINE 7490
18251 00003458 00000000                   DATA FOR SOURCE-LINE 7493
18252                                     ***** END-POOL *****
18253 0000345C                   7499     _POS_HOLD_FLG_STR2CLR:
18254                            7500             SUB_START
18255 0000345C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18256                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18257 0000345E 200A              7501             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   219
PROGRAM NAME =

18258 00003460 D102              7502             MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
18259 00003462 2101              7503             MOV.W   R0,@R1                  ;
18260                            7504     
18261                            7505     ;;;;;;;;;;      MOV.L   #_POS_HOLD_RDY_EXITF2,R1;//しょうがない
18262                            7506     ;;;;;;;;;;      MOV.W   R0,@R1                  ;
18263                            7507     
18264                            7508             SUB_END
18265                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18266 00003464 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18267                            7509             M_RTS
18268 00003466 000B                   M           RTS                             ;RTSの後ろの
18269 00003468 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18270                            7510     
18271                            7511     
18272                            7512     
18273                            7513     
18274                            7514     
18275                            7515     ;       *******************************************
18276                            7516     ;       ***                                     ***
18277                            7517     ;       ***     ｽﾗｲﾄﾞ位置自動待機中信号         ***
18278                            7518     ;       ***     ﾌﾞﾚｰｷを解除するﾀｲﾐﾝｸﾞ           ***
18279                            7519     ;       ***     2017-05-12                      ***
18280                            7520     ;       ***                                     ***
18281                            7521     ;       *******************************************
18282                                     ***** BEGIN-POOL *****
18283 0000346A 0000                       ALIGNMENT CODE
18284 0000346C 00000000                   DATA FOR SOURCE-LINE 7502
18285                                     ***** END-POOL *****
18286 00003470                   7522     _API_HOLD_WAIT_BRKOFF_SIG
18287                            7523             SUB_START
18288 00003470 4F22                   M           STS.L   PR,@-R15                ;[必要]
18289                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18290                            7524     
18291 00003472 222A              7525             XOR     R2,R2
18292                            7526     
18293 00003474 D107              7527             MOV.L   #(_PAR_POSHLD_BRKSEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1  ;2017-05-10　CE3-9
                                          9 自動待機中に連続時ﾌﾞﾚｰｷかける(0)/かけない(1)
18294 00003476 6011              7528             MOV.W   @R1,R0                                                  ;
18295 00003478 8801              7529             CMP/EQ  #1,R0                                                   ;
18296 0000347A 8B07              7530             BF      API_HOLD_WAIT_BRKOFFSIG_END                             ;
18297                            7531     
18298 0000347C D106              7532             MOV.L   #_MODE_SEL,R1                                           ;
18299 0000347E 6011              7533             MOV.W   @R1,R0                                                  ;
18300 00003480 C808              7534             TST     #_W1CNT,R0                                              ;
18301                            7535             TST_BIT_OF API_HOLD_WAIT_BRKOFFSIG_END                          ;
18302 00003482 8903                   M           BT      API_HOLD_WAIT_BRKOFFSIG_END
18303                            7536     
18304                            7537     
18305                            7538             FAR_JSR #_HOLD_WAIT_DURING_SIG,R0
18306 00003484 D005                   M           MOV.L   #_HOLD_WAIT_DURING_SIG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18307 00003486 400B                   M           JSR     @R0                     ;
18308 00003488 0009                   M           NOP                                     ;
18309 0000348A 6203              7539             MOV     R0,R2                                                   ;
18310                            7540     
18311 0000348C                   7541     API_HOLD_WAIT_BRKOFFSIG_END                                             ;
18312 0000348C 6023              7542             MOV     R2,R0                                                   ;
18313                            7543     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   220
PROGRAM NAME =

18314                            7544             SUB_END
18315                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18316 0000348E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18317                            7545             M_RTS
18318 00003490 000B                   M           RTS                             ;RTSの後ろの
18319 00003492 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18320                            7546     
18321                            7547     
18322                                     ***** BEGIN-POOL *****
18323 00003494 00000000                   DATA FOR SOURCE-LINE 7527
18324 00003498 00000000                   DATA FOR SOURCE-LINE 7532
18325 0000349C 00000000                   DATA FOR SOURCE-LINE 7538
18326                                     ***** END-POOL *****
18327 000034A0                   7548     _HOLD_WAIT_DURING_SIG
18328                            7549             SUB_START
18329 000034A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18330                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18331                            7550     
18332 000034A2 222A              7551             XOR     R2,R2
18333 000034A4 D107              7552             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;起動のCPUA/Bﾊﾝﾄﾞｼｪｲｸ中
18334 000034A6 6011              7553             MOV.W   @R1,R0                          ;
18335 000034A8 C901              7554             AND     #BIT0,R0
18336 000034AA 220B              7555             OR      R0,R2                           ;
18337                            7556     
18338 000034AC D106              7557             MOV.L   #_POS_HOLD_FLG,R1
18339 000034AE 6011              7558             MOV.W   @R1,R0
18340 000034B0 C907              7559             AND     #(BIT2+BIT1+BIT0),R0            ;BIT0:ｺﾏﾝﾄﾞ受付,BIT1(待機中):,BIT2再起動中
18341 000034B2 220B              7560             OR      R0,R2                           ;
18342                            7561     
18343 000034B4 D105              7562             MOV.L   #_POS_HOLD_CMD,R1               ;
18344 000034B6 6011              7563             MOV.W   @R1,R0                          ;
18345 000034B8 C901              7564             AND     #(BIT0),R0                      ;BIT0
18346 000034BA 220B              7565             OR      R0,R2                           ;
18347                            7566     
18348 000034BC 6023              7567             MOV     R2,R0                           ;
18349                            7568     
18350                            7569             SUB_END
18351                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18352 000034BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18353                            7570             M_RTS
18354 000034C0 000B                   M           RTS                             ;RTSの後ろの
18355 000034C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18356                            7571     
18357                            7572     
18358                            7573     
18359                            7574     
18360                            7575     
18361                            7576     
18362                            7577     
18363                            7578     
18364                            7579     
18365                            7580     
18366                            7581     ;       ***********************************
18367                            7582     ;       ***     EXQ,EMG時の内部ｸﾘｱ      ***
18368                            7583     ;       ***********************************
18369                                     ***** BEGIN-POOL *****
18370 000034C4 00000000                   DATA FOR SOURCE-LINE 7552
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   221
PROGRAM NAME =

18371 000034C8 00000000                   DATA FOR SOURCE-LINE 7557
18372 000034CC 00000000                   DATA FOR SOURCE-LINE 7562
18373                                     ***** END-POOL *****
18374 000034D0                   7584     _POS_HOLD_FLG_EXQ_CLR:
18375                            7585             SUB_START
18376 000034D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18378                            7586     
18379                            7587             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
18380 000034D2 D00E                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18381 000034D4 400B                   M           JSR     @R0                     ;
18382 000034D6 0009                   M           NOP                                     ;
18383                            7588             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
18384 000034D8 D00D                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18385 000034DA 400B                   M           JSR     @R0                     ;
18386 000034DC 0009                   M           NOP                                     ;
18387                            7589     
18388 000034DE 200A              7590             XOR     R0,R0                           ;
18389 000034E0 D10C              7591             MOV.L   #_POSHLD1_STOPLATCH,R1          ;//停止前、停止中に停止釦相当が発生したか?
18390 000034E2 2101              7592             MOV.W   R0,@R1                          ;
18391                            7593     
18392 000034E4 D10C              7594             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;251.8   20msecだけ再起動をONする
18393 000034E6 2101              7595             MOV.W   R0,@R1                          ;
18394 000034E8 D10C              7596             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;251.12  20msecだけ通過時もしくは再起動時O
                                          Nする[2015-02-20]
18395 000034EA 2101              7597             MOV.W   R0,@R1                          ;
18396                            7598     
18397                            7599     ;       ---     2015-02-20 BIT9は設定条件       ---
18398                            7600             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT12|BIT8|BIT7|BIT6),WKR
                                          G1=R1,WKRG2=R4  ;
18399 000034EC D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18400 000034EE 6011                   M           MOV.W   @R1,R0          ;
18401 000034F0 940A                   M           MOV.W   #LWORD ~(BIT12|BIT8|BIT7|BIT6),R4       ;
18402 000034F2 2049                   M           AND     R4,R0           ;
18403 000034F4 2101                   M           MOV.W   R0,@R1          ;
18404                            7601     
18405                            7602     
18406                            7603             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;DPRAM ｺﾏﾝﾄﾞｸﾘｱ
18407 000034F6 D00B                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18408 000034F8 400B                   M           JSR     @R0                     ;
18409 000034FA 0009                   M           NOP                                     ;
18410                            7604             FAR_JSR #_RDY_HOLDSTP_OF_FLGOUT,R0      ;
18411 000034FC D00A                   M           MOV.L   #_RDY_HOLDSTP_OF_FLGOUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18412 000034FE 400B                   M           JSR     @R0                     ;
18413 00003500 0009                   M           NOP                                     ;
18414                            7605     
18415                            7606     
18416                            7607     
18417                            7608     
18418                            7609             SUB_END
18419                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18420 00003502 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18421                            7610             M_RTS
18422 00003504 000B                   M           RTS                             ;RTSの後ろの
18423 00003506 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18424                            7611     
18425                            7612     ;EMG,EXQなのでRDY_CHECKは通らないから強制OFF[2015-02-20]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   222
PROGRAM NAME =

18426                                     ***** BEGIN-POOL *****
18427 00003508 EE3F                       DATA FOR SOURCE-LINE 7600
18428 0000350A 0000                       ALIGNMENT CODE
18429 0000350C 00000000                   DATA FOR SOURCE-LINE 7587
18430 00003510 00000000                   DATA FOR SOURCE-LINE 7588
18431 00003514 00000000                   DATA FOR SOURCE-LINE 7591
18432 00003518 00000000                   DATA FOR SOURCE-LINE 7594
18433 0000351C 00000000                   DATA FOR SOURCE-LINE 7596
18434 00003520 00000000                   DATA FOR SOURCE-LINE 7600
18435 00003524 00000000                   DATA FOR SOURCE-LINE 7603
18436 00003528 00000000                   DATA FOR SOURCE-LINE 7604
18437                                     ***** END-POOL *****
18438 0000352C                   7613     _RDY_HOLDSTP_OF_FLGOUT:
18439                            7614             SUB_START
18440 0000352C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18441                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18442 0000352E 200A              7615             XOR     R0,R0
18443 00003530 D103              7616             MOV.L   #_SH4_HD_HLDSTOP2,R1
18444 00003532 2101              7617             MOV.W   R0,@R1
18445 00003534 D103              7618             MOV.L   #_SH2_HD_HLDSTOP2,R1
18446 00003536 2101              7619             MOV.W   R0,@R1
18447                            7620             SUB_END
18448                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18449 00003538 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18450                            7621             M_RTS
18451 0000353A 000B                   M           RTS                             ;RTSの後ろの
18452 0000353C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18453                            7622     
18454                            7623     
18455                                     ***** BEGIN-POOL *****
18456 0000353E 0000                       ALIGNMENT CODE
18457 00003540 00000000                   DATA FOR SOURCE-LINE 7616
18458 00003544 00000000                   DATA FOR SOURCE-LINE 7618
18459                                     ***** END-POOL *****
18460 00003548                   7624     _RDY_HOLDSTP_FLGOUT:
18461                            7625             SUB_START
18462 00003548 4F22                   M           STS.L   PR,@-R15                ;[必要]
18463                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18464                            7626     
18465 0000354A D103              7627             MOV.L   #_POS_HOLD_FLG,R1       ;
18466 0000354C 6011              7628             MOV.W   @R1,R0                  ;
18467                            7629     
18468                            7630             .AIF    0 EQ    0       ;
18469 0000354E D103              7631 C           MOV.L   #_SH4_HD_HLDSTOP2,R1
18470                            7632             .AELSE
18471                            7633             MOV.L   #_SH2_HD_HLDSTOP2,R1
18472                            7634             .AENDI
18473 00003550 2101              7635             MOV.W   R0,@R1
18474                            7636     
18475                            7637             SUB_END
18476                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18477 00003552 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18478                            7638             M_RTS
18479 00003554 000B                   M           RTS                             ;RTSの後ろの
18480 00003556 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18481                            7639     
18482                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   223
PROGRAM NAME =

18483 00003558 00000000                   DATA FOR SOURCE-LINE 7627
18484 0000355C 00000000                   DATA FOR SOURCE-LINE 7631
18485                                     ***** END-POOL *****
18486 00003560                   7640     _HOLD_STOP_BA_JG:
18487                            7641             SUB_START
18488 00003560 4F22                   M           STS.L   PR,@-R15                ;[必要]
18489                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18490                            7642     
18491                            7643             .AIF    0 EQ    0       ;
18492 00003562 D102              7644 C           MOV.L   #_SH2_HD_HLDSTOP2,R1
18493                            7645             .AELSE
18494                            7646             MOV.L   #_SH4_HD_HLDSTOP2,R1
18495                            7647             .AENDI
18496 00003564 6011              7648             MOV.W   @R1,R0
18497                            7649     
18498                            7650             SUB_END
18499                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18500 00003566 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18501                            7651             M_RTS
18502 00003568 000B                   M           RTS                             ;RTSの後ろの
18503 0000356A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18504                            7652     
18505                            7653     
18506                            7654     ;       *******************************************
18507                            7655     ;       ***                                     ***
18508                            7656     ;       ***                                     ***
18509                            7657     ;       ***                                     ***
18510                            7658     ;       ***     寸動任意角度起動                ***
18511                            7659     ;       ***                                     ***
18512                            7660     ;       ***                                     ***
18513                            7661     ;       ***                                     ***
18514                            7662     ;       *******************************************
18515                            7663     
18516                            7664     ;       *******************************************
18517                            7665     ;       ***                                     ***
18518                            7666     ;       ***     EMG時ワーククリア               ***
18519                            7667     ;       ***                                     ***
18520                            7668     ;       *******************************************
18521                            7669     ;       起動時もCALLされる
18522                            7670             .EXPORT _INC_RST_WORK_CLR
18523                                     ***** BEGIN-POOL *****
18524 0000356C 00000000                   DATA FOR SOURCE-LINE 7644
18525                                     ***** END-POOL *****
18526 00003570                   7671     _INC_RST_WORK_CLR
18527                            7672             SUB_START                               ;
18528 00003570 4F22                   M           STS.L   PR,@-R15                ;[必要]
18529                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18530 00003572 200A              7673             XOR     R0,R0                           ;
18531 00003574 D103              7674             MOV.L   #_INC_RESET_STEP,R1             ;//0,1:1ｽﾃｯﾌﾟから起動 2~11
18532 00003576 2101              7675             MOV.W   R0,@R1                          ;//
18533                            7676     
18534 00003578 D103              7677             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18535 0000357A 2101              7678             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18536                            7679     
18537                            7680             SUB_END                                 ;
18538                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18539 0000357C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   224
PROGRAM NAME =

18540                            7681             M_RTS                                   ;
18541 0000357E 000B                   M           RTS                             ;RTSの後ろの
18542 00003580 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18543                            7682     
18544                            7683     ;       *******************************************
18545                            7684     ;       ***                                     ***
18546                            7685     ;       ***     リセット時の開始行程判断        ***
18547                            7686     ;       ***                                     ***
18548                            7687     ;       *******************************************
18549                            7688             .IMPORT _POS_STEP1_SEARCH               ;
18550                            7689     
18551                                     ***** BEGIN-POOL *****
18552 00003582 0000                       ALIGNMENT CODE
18553 00003584 00000000                   DATA FOR SOURCE-LINE 7674
18554 00003588 00000000                   DATA FOR SOURCE-LINE 7677
18555                                     ***** END-POOL *****
18556 0000358C                   7690     _INC_RSTMODE_CHK
18557                            7691             SUB_START                                                       ;
18558 0000358C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18559                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18560                            7692     
18561                            7693             FAR_JSR #_INC_SPEC_RSTCHK,R0                    ;ｼｽﾊﾟﾗが有効で且つ寸動
18562 0000358E D004                   M           MOV.L   #_INC_SPEC_RSTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18563 00003590 400B                   M           JSR     @R0                     ;
18564 00003592 0009                   M           NOP                                     ;
18565                            7694     
18566 00003594 222A              7695             XOR     R2,R2                                   ;
18567 00003596 2008              7696             TST     R0,R0
18568                            7697             TST_BIT_ON INC_RSTMODECK020                     ;寸動で且つ、リセット有効
18569 00003598 8B04                   M           BF      INC_RSTMODECK020
18570                            7698             M_BRA   INC_RSTMODECK499                        ;特殊なﾓｰﾄﾞではない
18571 0000359A A08A                   M           BRA     INC_RSTMODECK499
18572 0000359C 0009                   M           NOP
18573                            7699     
18574                                     ***** BEGIN-POOL *****
18575 0000359E 0000                       ALIGNMENT CODE
18576 000035A0 00000000                   DATA FOR SOURCE-LINE 7693
18577                                     ***** END-POOL *****
18578 000035A4                   7700     INC_RSTMODECK020
18579                            7701     
18580                            7702     ;       ----------------------------------
18581 000035A4 D104              7703             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18582 000035A6 6011              7704             MOV.W   @R1,R0                                  ;
18583 000035A8 C804              7705             TST     #(_DMATH_DNDRIV),R0                     ;
18584                            7706             TST_BIT_OF INC_RSTMODECK100                     ;振子でない
18585 000035AA 8909                   M           BT      INC_RSTMODECK100
18586                            7707     
18587 000035AC D403              7708             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
18588 000035AE 6041              7709             MOV.W   @R4,R0
18589 000035B0 C890              7710             TST     #(BIT7+BIT4),R0                         ;
18590                            7711             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18591 000035B2 8B7D                   M           BF      INC_RSTMODECK490
18592                            7712             M_BRA   INC_RSTMODECK200                        ;
18593 000035B4 A008                   M           BRA     INC_RSTMODECK200
18594 000035B6 0009                   M           NOP
18595                            7713     
18596                            7714     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   225
PROGRAM NAME =

18597                                     ***** BEGIN-POOL *****
18598 000035B8 00000000                   DATA FOR SOURCE-LINE 7703
18599 000035BC 00000000                   DATA FOR SOURCE-LINE 7708
18600                                     ***** END-POOL *****
18601 000035C0                   7715     INC_RSTMODECK100
18602 000035C0 D412              7716             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
18603 000035C2 6041              7717             MOV.W   @R4,R0                                  ;
18604 000035C4 C810              7718             TST     #BIT4,R0                                ;左側
18605                            7719             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18606 000035C6 8B73                   M           BF      INC_RSTMODECK490
18607                            7720     
18608                            7721     ;       --------- 待機点にいない いままではここはＮＧ区間-----------
18609 000035C8                   7722     INC_RSTMODECK200
18610                            7723     
18611                            7724             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0          ;
18612 000035C8 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18613 000035CA 400B                   M           JSR     @R0                     ;
18614 000035CC 0009                   M           NOP                                     ;
18615                            7725             FAR_JSR #_NOW_INC_DIG_MAK,R0            ;
18616 000035CE D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18617 000035D0 400B                   M           JSR     @R0                     ;
18618 000035D2 0009                   M           NOP                                     ;
18619                            7726     
18620                            7727     
18621 000035D4 D110              7728             MOV.L   #_LINK_NOWROT_OFSPLS_P,R1               ;[[[目標]]]
18622 000035D6 6712              7729             MOV.L   @R1,R7                                  ;
18623                            7730     
18624                            7731     ;       -------2018-01-25[回転で待機点359度のとき 0の場合は問題なし]-----------
18625                            7732             FAR_JSR #_INC_RST_DATA_CHK,R0                   ;input R7 /output R7
18626 000035D8 D010                   M           MOV.L   #_INC_RST_DATA_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18627 000035DA 400B                   M           JSR     @R0                     ;
18628 000035DC 0009                   M           NOP                                     ;
18629                            7733     ;       -------------- 2018-01-25 追加----------------
18630                            7734     
18631                            7735     ;       -----------INPUT R7--------------------
18632                            7736             FAR_JSR #_POS_STEP1_SEARCH,R0                   ;INPUT R7
18633 000035DE D010                   M           MOV.L   #_POS_STEP1_SEARCH,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18634 000035E0 400B                   M           JSR     @R0                     ;
18635 000035E2 0009                   M           NOP                                     ;
18636                            7737                                                             ;OUTPUT R0(R6):ｽﾃｯﾌﾟ R5方向
18637                            7738                                                             ;R2(Sn),R3(Sn_1),R7(入力=目標位置)
18638 000035E4 2008              7739             TST     R0,R0                                   ;
18639                            7740             TST_BIT_OF INC_RSTMODECK490                     ;OKにはできない
18640 000035E6 8963                   M           BT      INC_RSTMODECK490
18641 000035E8 D10E              7741             MOV.L   #_INC_RESET_STEP,R1                     ;
18642 000035EA 2101              7742             MOV.W   R0,@R1                                  ;開始行程
18643                            7743     
18644                            7744     ;       -- R5=方向 BIT1=0(正)/1(逆)---
18645 000035EC D10E              7745             MOV.L   #(_PAR_INCMODE_EPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
18646 000035EE 6011              7746             MOV.W   @R1,R0                                                  ;
18647 000035F0 2008              7747             TST     R0,R0                                                   ;
18648                            7748             TST_BIT_OF INC_RSTMODECK280                                     ;
18649 000035F2 8929                   M           BT      INC_RSTMODECK280
18650                            7749     
18651 000035F4 E402              7750             MOV.B   #BIT1,R4                                ;
18652 000035F6 2548              7751             TST     R4,R5                                   ;
18653                            7752             TST_BIT_OF INC_RSTMODECK240                     ;方向
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   226
PROGRAM NAME =

18654 000035F8 8918                   M           BT      INC_RSTMODECK240
18655 000035FA 600B              7753             NEG     R0,R0                                   ;
18656 000035FC 307C              7754             ADD     R7,R0                                   ;
18657                            7755     
18658                            7756             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R7,MINRG=R0    ;T=1:範囲内　R7 >= R2 => R0(R7-α)
                                          　なら次行程
18659 000035FE 3203                   M           CMP/GE  R0,R2           ;MIN =< DT THEN T=1
18660 00003600 8B00                   M           BF      JMP0100003                      ;DT < MIN T=0
18661 00003602 3723                   M           CMP/GE  R2,R7           ;
18662 00003604                        M   JMP0100003                                      ;
18663 00003604 8917              7757             BT      INC_RSTMODECK260                        ;
18664                            7758             M_BRA   INC_RSTMODECK280                        ;範囲内ではない
18665 00003606 A01F                   M           BRA     INC_RSTMODECK280
18666 00003608 0009                   M           NOP
18667                            7759     
18668                                     ***** BEGIN-POOL *****
18669 0000360A 0000                       ALIGNMENT CODE
18670 0000360C 00000000                   DATA FOR SOURCE-LINE 7716
18671 00003610 00000000                   DATA FOR SOURCE-LINE 7724
18672 00003614 00000000                   DATA FOR SOURCE-LINE 7725
18673 00003618 00000000                   DATA FOR SOURCE-LINE 7728
18674 0000361C 00000000                   DATA FOR SOURCE-LINE 7732
18675 00003620 00000000                   DATA FOR SOURCE-LINE 7736
18676 00003624 00000000                   DATA FOR SOURCE-LINE 7741
18677 00003628 00000000                   DATA FOR SOURCE-LINE 7745
18678                                     ***** END-POOL *****
18679 0000362C                   7760     INC_RSTMODECK240                                        ;
18680 0000362C 307C              7761             ADD     R7,R0                                   ;
18681                            7762             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R0,MINRG=R7    ;T=1:範囲内　R7=<R2<=R0(R7+α)なら
                                          次行程
18682 0000362E 3273                   M           CMP/GE  R7,R2           ;MIN =< DT THEN T=1
18683 00003630 8B00                   M           BF      JMP0100004                      ;DT < MIN T=0
18684 00003632 3023                   M           CMP/GE  R2,R0           ;
18685 00003634                        M   JMP0100004                                      ;
18686 00003634 8B08              7763             BF      INC_RSTMODECK280                        ;範囲内ではない2016-05-17抜けてい
                                          た
18687 00003636                   7764     INC_RSTMODECK260                                        ;
18688                            7765     
18689 00003636 D50D              7766             MOV.L   #_INC_RESET_STEP,R5                     ;
18690 00003638 6051              7767             MOV.W   @R5,R0                                  ;
18691 0000363A 7001              7768             ADD     #1,R0
18692 0000363C D40C              7769             MOV.L   #_SETX_POS_STEP_MAX,R4                  ;
18693 0000363E 6141              7770             MOV.W   @R4,R1                                  ;
18694 00003640 7101              7771             ADD     #1,R1                                   ;
18695 00003642 3103              7772             CMP/GE  R0,R1                                   ;
18696 00003644 8B00              7773             BF      INC_RSTMODECK280                        ;ｵｰﾊﾞしてしまう
18697 00003646 2501              7774             MOV.W   R0,@R5                                  ;
18698                            7775     
18699                            7776     
18700 00003648                   7777     INC_RSTMODECK280
18701 00003648 D10A              7778             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18702 0000364A 6011              7779             MOV.W   @R1,R0                                  ;
18703 0000364C C804              7780             TST     #(_DMATH_DNDRIV),R0                     ;
18704                            7781             TST_BIT_OF INC_RSTMODECK300                     ;ふりこではない
18705 0000364E 8921                   M           BT      INC_RSTMODECK300
18706                            7782     
18707                            7783     ;       ------前回がﾓｰｼｮﾝ運転ならその運転の方向を引き継ぐ[2014-11-10]-----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   227
PROGRAM NAME =

18708 00003650 D109              7784             MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
18709 00003652 6011              7785             MOV.W   @R1,R0                          ;
18710 00003654 C801              7786             TST     #BIT0,R0                        ;
18711                            7787             TST_BIT_OF INC_RSTMODECK290             ;前はﾓｰｼｮﾝではないorふりこではない
18712 00003656 8915                   M           BT      INC_RSTMODECK290
18713                            7788     
18714 00003658 D108              7789             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
18715 0000365A 6011              7790             MOV.W   @R1,R0                          ;
18716 0000365C C801              7791             TST     #BIT0,R0                        ;
18717                            7792             TST_BIT_OF INC_RSTMODECK300             ;正
18718 0000365E 8919                   M           BT      INC_RSTMODECK300
18719                            7793     
18720                            7794             FAR_JSR #_DNM_DATA_REV_SET,R0           ;逆
18721 00003660 D007                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18722 00003662 400B                   M           JSR     @R0                     ;
18723 00003664 0009                   M           NOP                                     ;
18724                            7795             M_BRA   INC_RSTMODECK300                ;
18725 00003666 A015                   M           BRA     INC_RSTMODECK300
18726 00003668 0009                   M           NOP
18727                            7796     
18728                            7797     
18729                            7798     
18730                                     ***** BEGIN-POOL *****
18731 0000366A 0000                       ALIGNMENT CODE
18732 0000366C 00000000                   DATA FOR SOURCE-LINE 7766
18733 00003670 00000000                   DATA FOR SOURCE-LINE 7769
18734 00003674 00000000                   DATA FOR SOURCE-LINE 7778
18735 00003678 00000000                   DATA FOR SOURCE-LINE 7784
18736 0000367C 00000000                   DATA FOR SOURCE-LINE 7789
18737 00003680 00000000                   DATA FOR SOURCE-LINE 7794
18738                                     ***** END-POOL *****
18739 00003684                   7799     INC_RSTMODECK290
18740                            7800     
18741 00003684 930C              7801             MOV.W   #_UPDN_DIRJG_DIG,R3                     ;               .EQU    1800    ;
18742 00003686 D107              7802             MOV.L   #_INC_ENC360,R1                         ;
18743 00003688 6211              7803             MOV.W   @R1,R2                                  ;
18744 0000368A 3237              7804             CMP/GT  R3,R2                                   ;
18745 0000368C 8B02              7805             BF      INC_RSTMODECK300                        ;
18746                            7806     
18747                            7807     ;       --------0~180-------------
18748                            7808             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
18749 0000368E D006                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18750 00003690 400B                   M           JSR     @R0                     ;
18751 00003692 0009                   M           NOP                                     ;
18752                            7809     
18753 00003694                   7810     INC_RSTMODECK300
18754                            7811     
18755 00003694 E001              7812             MOV.B   #BIT0,R0                        ;
18756 00003696 D105              7813             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18757 00003698 2101              7814             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18758                            7815     
18759                            7816     ;       -----------------------------------------
18760                            7817     ;;;INC_RSTMODECK480
18761 0000369A E201              7818             MOV.B   #BIT0,R2                        ;
18762                            7819             M_BRA   INC_RSTMODECK500                ;OKして!
18763 0000369C A00A                   M           BRA     INC_RSTMODECK500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   228
PROGRAM NAME =

18764 0000369E 0009                   M           NOP
18765                            7820     
18766                            7821     
18767                                     ***** BEGIN-POOL *****
18768 000036A0 0708                       DATA FOR SOURCE-LINE 7801
18769 000036A2 0000                       ALIGNMENT CODE
18770 000036A4 00000000                   DATA FOR SOURCE-LINE 7802
18771 000036A8 00000000                   DATA FOR SOURCE-LINE 7808
18772 000036AC 00000000                   DATA FOR SOURCE-LINE 7813
18773                                     ***** END-POOL *****
18774 000036B0                   7822     INC_RSTMODECK490
18775 000036B0 0009              7823             NOP
18776 000036B2                   7824     INC_RSTMODECK499
18777 000036B2 200A              7825             XOR     R0,R0                           ;通常ｿﾌﾄを流して
18778 000036B4                   7826     INC_RSTMODECK500
18779                            7827     
18780                            7828             SUB_END                                                         ;
18781                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18782 000036B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18783                            7829             M_RTS                                                           ;
18784 000036B6 000B                   M           RTS                             ;RTSの後ろの
18785 000036B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18786                            7830     
18787                            7831     
18788                            7832     
18789                            7833             .EXPORT _INC_SPEC_RSTCHK
18790 000036BA                   7834     _INC_SPEC_RSTCHK
18791                            7835             SUB_START                                                       ;
18792 000036BA 4F22                   M           STS.L   PR,@-R15                ;[必要]
18793                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18794                            7836     
18795 000036BC D105              7837             MOV.L   #(_PAR_INCMODE_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
18796 000036BE 6011              7838             MOV.W   @R1,R0                                                  ;
18797 000036C0 8801              7839             CMP/EQ  #1,R0                                                   ;
18798 000036C2 8B0B              7840             BF      INC_SPEC_RSTCK100                                       ;
18799                            7841     
18800 000036C4 D104              7842             MOV.L   #_INP_MODE,R1                                           ;
18801 000036C6 6011              7843             MOV.W   @R1,R0                                                  ;
18802 000036C8 C802              7844             TST     #_W1INC,R0                                              ;寸動?
18803                            7845             TST_BIT_OF INC_SPEC_RSTCK100                                    ;
18804 000036CA 8907                   M           BT      INC_SPEC_RSTCK100
18805                            7846     
18806 000036CC E001              7847             MOV.B   #BIT0,R0
18807                            7848             M_BRA   INC_SPEC_RSTCK200
18808 000036CE A006                   M           BRA     INC_SPEC_RSTCK200
18809 000036D0 0009                   M           NOP
18810                            7849     
18811                                     ***** BEGIN-POOL *****
18812 000036D2 0000                       ALIGNMENT CODE
18813 000036D4 00000000                   DATA FOR SOURCE-LINE 7837
18814 000036D8 00000000                   DATA FOR SOURCE-LINE 7842
18815                                     ***** END-POOL *****
18816 000036DC                   7850     INC_SPEC_RSTCK100:
18817 000036DC 200A              7851             XOR     R0,R0
18818 000036DE                   7852     INC_SPEC_RSTCK200:
18819                            7853     
18820                            7854     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   229
PROGRAM NAME =

18821                            7855             SUB_END                                                         ;
18822                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18823 000036DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18824                            7856             M_RTS                                                           ;
18825 000036E0 000B                   M           RTS                             ;RTSの後ろの
18826 000036E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18827                            7857     
18828                            7858     ;
18829                            7859     ;
18830                            7860     ;       INPUT R7/OUTPUT R7
18831                            7861     
18832                            7862     ;       -------------- 2018-01-25 追加----------------
18833 000036E4                   7863     _INC_RST_DATA_CHK:
18834                            7864             SUB_START                                                       ;
18835 000036E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18837                            7865     
18838 000036E6 D107              7866             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18839 000036E8 6011              7867             MOV.W   @R1,R0                                                  ;
18840 000036EA C801              7868             TST             #_DMATH_CNTROT,R0                               ;
18841                            7869             TST_BIT_OF INC_RSTDAT_CHK230
18842 000036EC 8906                   M           BT      INC_RSTDAT_CHK230
18843                            7870     
18844 000036EE D106              7871             MOV.L   #_SETX_UPAREA_PLS,R1                    ;//4;待機点
18845 000036F0 6212              7872             MOV.L   @R1,R2                                                  ;起点(Sn_1)
18846 000036F2 3723              7873             CMP/GE  R2,R7                                                   ;待機点(起点)<=現
                                          在位置:正常
18847 000036F4 8902              7874             BT              INC_RSTDAT_CHK230
18848                            7875     
18849 000036F6 D105              7876             MOV.L   #_LINK_1ROT_PLS,R1                              ;
18850 000036F8 6412              7877             MOV.L   @R1,R4                                                  ;
18851 000036FA 374C              7878             ADD             R4,R7                                                   ;
18852 000036FC                   7879     INC_RSTDAT_CHK230
18853                            7880     
18854                            7881             SUB_END                                                         ;
18855                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18856 000036FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18857                            7882             M_RTS                                                           ;
18858 000036FE 000B                   M           RTS                             ;RTSの後ろの
18859 00003700 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18860                            7883     
18861                            7884     ;       *******************************************
18862                            7885     ;       ***                                     ***
18863                            7886     ;       ***             EPｾﾝｻﾁｪｯｸ               ***
18864                            7887     ;       ***                                     ***
18865                            7888     ;       *******************************************
18866                            7889             .INCLUDE        "ssa_epchk.inc"         ;//
18867                               1 I1  ;       ***********************************
18868                               2 I1  ;       ***                             ***
18869                               3 I1  ;       ***     EPｾﾝｻﾁｪｯｸ               ***
18870                               4 I1  ;       ***                             ***
18871                               5 I1  ;       ***********************************
18872                               6 I1  ;       電源投入時
18873                               7 I1  ;       位置づけはｾﾙﾌﾁｪｯｸだが,独立した機能
18874                               8 I1  ;       ANTI-ONしてから
18875                               9 I1  
18876                              10 I1          .EXPORT         _EPSEN_CLR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   230
PROGRAM NAME =

18877                              11 I1  
18878                              12 I1          .GLOBAL         _PAR_EPCHK_SEL          ;5 0:EPｾﾝｻﾁｪｯｸしない 1:ﾁｪｯｸする
18879                              13 I1          .GLOBAL         _PAR_EP1STR_DLYTM       ;6 開始遅延時間 ms
18880                              14 I1          .GLOBAL         _PAR_EP2FVINOF_ERTM     ;7 片方ﾘﾚｰOF(0)確認時間兼ﾀｲﾑｱｳﾄ
18881                              15 I1          .GLOBAL         _PAR_EP3BRKON_DLYTM     ;8 ﾌﾞﾚｰｷON出力遅延
18882                              16 I1          .GLOBAL         _PAR_EP4EPINOF_ERTM     ;9 EPｾﾝｻoff確認時間兼ﾀｲﾑｱｳﾄ
18883                              17 I1          .GLOBAL         _PAR_EP5RSTON_DLYTM     ;10 EPｾﾝｻﾘｾｯﾄON遅延時間
18884                              18 I1          .GLOBAL         _PAR_EP6RSTON_JGTM      ;1 ﾘｾｯﾄON時間兼判定時間
18885                              19 I1          .GLOBAL         _PAR_EP6RSTOF_INTTM     ;2 OFFｲﾝﾀ-ﾊﾞﾙ時間
18886                              20 I1          .GLOBAL         _PAR_EP6RST_RETRY       ;3 ﾘｾｯﾄﾘﾄﾗｲ回数
18887                              21 I1          .GLOBAL         _PAR_EP7AB_DLYTM        ;4 CPUA-->CPUBﾃｽﾄ遅延時間
18888                              22 I1          .GLOBAL         _PAR_EP7END_DLYTM       ;5 CPUB-->終了遅延時間
18889                              23 I1  
18890                              24 I1  
18891                              25 I1          .MACRO  STEP_NEXT MEM
18892                              26 I1          MOV.L   #\MEM,R1        ;
18893                              27 I1          MOV.W   @R1,R0          ;
18894                              28 I1          ADD     #1,R0           ;
18895                              29 I1          MOV.W   R0,@R1          ;
18896                              30 I1          .ENDM
18897                              31 I1  
18898                                 I1  ***** BEGIN-POOL *****
18899 00003702 0000                   I1  ALIGNMENT CODE
18900 00003704 00000000               I1  DATA FOR SOURCE-LINE 7866
18901 00003708 00000000               I1  DATA FOR SOURCE-LINE 7871
18902 0000370C 00000000               I1  DATA FOR SOURCE-LINE 7876
18903                                 I1  ***** END-POOL *****
18904 00003710                     32 I1          .ALIGN  4                               ;
18905 00003710                     33 I1  _EP_JMP_TBL
18906                              34 I1  
18907 00003710 00000000            35 I1          .DATA.L         EP_STEP_USE_RY_DATSET_A ;0
18908 00003714 00000000            36 I1          .DATA.L         EP_STEP_USE_RY_A        ;1 片効有効RY-ON,片効きｾﾝｻ確認
18909 00003718 00000000            37 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;2
18910 0000371C 00000000            38 I1          .DATA.L         EP_STEP_VALVON_COM      ;3 ﾊﾞﾙﾌﾞON,EPｾﾝｻ確認
18911 00003720 00000000            39 I1          .DATA.L         EP_STEP_EPSENSIG_A      ;4
18912 00003724 00000000            40 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;5
18913 00003728 00000000            41 I1          .DATA.L         EP_STEP_RESETON_COM     ;6
18914 0000372C 00000000            42 I1          .DATA.L         EP_STEP_ENDSIG_A        ;7
18915 00003730 00000000            43 I1          .DATA.L         EP_STEP_USE_RY_DATSET_B ;8
18916 00003734 00000000            44 I1          .DATA.L         EP_STEP_USE_RY_B        ;9
18917 00003738 00000000            45 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;10
18918 0000373C 00000000            46 I1          .DATA.L         EP_STEP_VALVON_COM      ;11
18919 00003740 00000000            47 I1          .DATA.L         EP_STEP_EPSENSIG_B      ;12
18920 00003744 00000000            48 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;13
18921 00003748 00000000            49 I1          .DATA.L         EP_STEP_RESETON_COM     ;14
18922 0000374C 00000000            50 I1          .DATA.L         EP_STEP_ENDSIG_B        ;15
18923 00003750 00000000            51 I1          .DATA.L         EP_STEP_XX              ;16
18924 00003754 00000000            52 I1          .DATA.L         EP_STEP_XX              ;17
18925 00003758 00000000            53 I1          .DATA.L         EP_STEP_XX              ;18
18926 0000375C 00000000            54 I1          .DATA.L         EP_STEP_XX              ;19
18927 00003760 00000000            55 I1          .DATA.L         EP_STEP_XX              ;20
18928 00003764 00000000            56 I1          .DATA.L         EP_STEP_XX              ;21
18929 00003768 00000000            57 I1          .DATA.L         EP_STEP_XX              ;22
18930 0000376C 00000000            58 I1          .DATA.L         EP_STEP_XX              ;23
18931 00003770 00000000            59 I1          .DATA.L         EP_STEP_XX              ;24
18932 00003774 00000000            60 I1          .DATA.L         EP_STEP_XX              ;25
18933 00003778 00000000            61 I1          .DATA.L         EP_STEP_XX              ;26
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   231
PROGRAM NAME =

18934 0000377C 00000000            62 I1          .DATA.L         EP_STEP_XX              ;27
18935 00003780 00000000            63 I1          .DATA.L         EP_STEP_XX              ;28
18936 00003784 00000000            64 I1          .DATA.L         EP_STEP_XX              ;29
18937 00003788 00000000            65 I1          .DATA.L         EP_STEP_XX              ;30
18938 0000378C 00000000            66 I1          .DATA.L         EP_STEP_XX              ;31
18939 00003790 00000000            67 I1          .DATA.L         EP_STEP_XX              ;32
18940                              68 I1  
18941                              69 I1  
18942                              70 I1  
18943 00003794                     71 I1          .ALIGN  4                               ;
18944                              72 I1          .EXPORT _EP_SENCER_CHECK
18945 00003794                     73 I1  _EP_SENCER_CHECK
18946                              74 I1          SUB_START
18947 00003794 4F22                   M           STS.L   PR,@-R15                ;[必要]
18948                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18949                              75 I1  
18950 00003796 D105                76 I1          MOV.L   #_EPCHK_FLG,R1                  ;
18951 00003798 6011                77 I1          MOV.W   @R1,R0                          ;
18952 0000379A 2008                78 I1          TST     R0,R0                           ;
18953                              79 I1          TST_BIT_ON EP_SENCER_CK050              ;
18954 0000379C 8B36                   M           BF      EP_SENCER_CK050
18955                              80 I1  
18956 0000379E D104                81 I1          MOV.L   #_EPCHK_COM,R1                  ;
18957 000037A0 6011                82 I1          MOV.W   @R1,R0                          ;
18958 000037A2 2008                83 I1          TST     R0,R0                           ;
18959                              84 I1          TST_BIT_ON EP_SENCER_CK020              ;
18960 000037A4 8B06                   M           BF      EP_SENCER_CK020
18961                              85 I1          M_BRA   EP_SENCER_CKEXT                 ;IDEL
18962 000037A6 A1F6                   M           BRA     EP_SENCER_CKEXT
18963 000037A8 0009                   M           NOP
18964                              86 I1  
18965                              87 I1  ;       --------- 開始処理-----------
18966                                 I1  ***** BEGIN-POOL *****
18967 000037AA 0000                   I1  ALIGNMENT CODE
18968 000037AC 00000000               I1  DATA FOR SOURCE-LINE 76
18969 000037B0 00000000               I1  DATA FOR SOURCE-LINE 81
18970                                 I1  ***** END-POOL *****
18971 000037B4                     88 I1  EP_SENCER_CK020:
18972                              89 I1  
18973 000037B4 D102                90 I1          MOV.L   #(_PAR_EPCHK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1      ;
18974 000037B6 6011                91 I1          MOV.W   @R1,R0                                                  ;
18975 000037B8 8801                92 I1          CMP/EQ  #1,R0                                                   ;
18976 000037BA 8903                93 I1          BT      EP_SENCER_CK030                                         ;
18977                              94 I1          M_BRA   EP_SENCER_CK800                                         ;正常終了
18978 000037BC A1C6                   M           BRA     EP_SENCER_CK800
18979 000037BE 0009                   M           NOP
18980                              95 I1  
18981                              96 I1  
18982                                 I1  ***** BEGIN-POOL *****
18983 000037C0 00000000               I1  DATA FOR SOURCE-LINE 90
18984                                 I1  ***** END-POOL *****
18985 000037C4                     97 I1  EP_SENCER_CK030:
18986                              98 I1  
18987                              99 I1          FAR_JSR #_EP_SENCHK_STOPCONF1,R0        ;
18988 000037C4 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18989 000037C6 400B                   M           JSR     @R0                     ;
18990 000037C8 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   232
PROGRAM NAME =

18991 000037CA 2008               100 I1          TST     R0,R0                           ;
18992                             101 I1          TST_BIT_OF EP_SENCER_CK040              ;
18993 000037CC 8908                   M           BT      EP_SENCER_CK040
18994                             102 I1  
18995 000037CE 200A               103 I1          XOR     R0,R0
18996 000037D0 D102               104 I1          MOV.L   #_EPCHK_STS,R1                  ;
18997 000037D2 2101               105 I1          MOV.W   R0,@R1                          ;
18998                             106 I1          M_BRA   EP_SENCER_CK900                 ;
18999 000037D4 A1C8                   M           BRA     EP_SENCER_CK900
19000 000037D6 0009                   M           NOP
19001                             107 I1  
19002                                 I1  ***** BEGIN-POOL *****
19003 000037D8 00000000               I1  DATA FOR SOURCE-LINE 99
19004 000037DC 00000000               I1  DATA FOR SOURCE-LINE 104
19005                                 I1  ***** END-POOL *****
19006 000037E0                    108 I1  EP_SENCER_CK040:
19007 000037E0 E001               109 I1          MOV.B   #BIT0,R0                ;
19008 000037E2 D106               110 I1          MOV.L   #_EPCHK_FLG,R1          ;
19009 000037E4 2101               111 I1          MOV.W   R0,@R1                  ;
19010                             112 I1  
19011 000037E6 200A               113 I1          XOR     R0,R0                   ;
19012 000037E8 D105               114 I1          MOV.L   #_EPCHK_STEP,R1         ;
19013 000037EA 2101               115 I1          MOV.W   R0,@R1                  ;
19014                             116 I1  
19015 000037EC E001               117 I1          MOV.B   #BIT0,R0                ;
19016 000037EE D105               118 I1          MOV.L   #_EPCHK_STS,R1          ;
19017 000037F0 2101               119 I1          MOV.W   R0,@R1                  ;
19018                             120 I1  
19019                             121 I1  ;       ---------------------------
19020 000037F2 222A               122 I1          XOR     R2,R2
19021 000037F4 D104               123 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19022 000037F6 2121               124 I1          MOV.W   R2,@R1                                                  ;
19023                             125 I1  
19024                             126 I1          M_BRA   EP_SENCER_CKEND         ;
19025 000037F8 A1C9                   M           BRA     EP_SENCER_CKEND
19026 000037FA 0009                   M           NOP
19027                             127 I1  
19028                             128 I1  
19029                                 I1  ***** BEGIN-POOL *****
19030 000037FC 00000000               I1  DATA FOR SOURCE-LINE 110
19031 00003800 00000000               I1  DATA FOR SOURCE-LINE 114
19032 00003804 00000000               I1  DATA FOR SOURCE-LINE 118
19033 00003808 00000000               I1  DATA FOR SOURCE-LINE 123
19034                                 I1  ***** END-POOL *****
19035 0000380C                    129 I1  EP_SENCER_CK050:
19036 0000380C C880               130 I1          TST     #BIT7,R0                ;
19037                             131 I1          TST_BIT_OF EP_SENCER_CK100      ;
19038 0000380E 8901                   M           BT      EP_SENCER_CK100
19039                             132 I1          M_BRA   EP_SENCER_CKEND ;
19040 00003810 A1BD                   M           BRA     EP_SENCER_CKEND
19041 00003812 0009                   M           NOP
19042                             133 I1  
19043                             134 I1  ;       ---------- 処理中---------------
19044 00003814                    135 I1  EP_SENCER_CK100:
19045                             136 I1  
19046                             137 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_DLY_TIM,WKREG1=R1,WKREG2=R4 ;
19047 00003814 D106                   M           MOV.L   #_EPCHK_DLY_TIM,R1              ;SORCE ADRESS SET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   233
PROGRAM NAME =

19048 00003816 6411                   M           MOV.W   @R1,R4          ;
19049 00003818 2448                   M           TST     R4,R4                   ;
19050 0000381A 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
19051 0000381C 4410                   M           DT      R4                              ;
19052 0000381E 2141                   M           MOV.W   R4,@R1          ;STORE
19053 00003820                        M   JMP_0100005:
19054                             138 I1  
19055                             139 I1  ;       -------- 中断条件--------------------
19056                             140 I1          FAR_JSR #_EP_SENCHK_STOPCONF2,R0        ;
19057 00003820 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19058 00003822 400B                   M           JSR     @R0                     ;
19059 00003824 0009                   M           NOP                                     ;
19060 00003826 2008               141 I1          TST     R0,R0                           ;
19061                             142 I1          TST_BIT_OF EP_SENCER_CK150              ;
19062 00003828 8906                   M           BT      EP_SENCER_CK150
19063                             143 I1          M_BRA   EP_SENCER_CK900                 ;異常
19064 0000382A A19D                   M           BRA     EP_SENCER_CK900
19065 0000382C 0009                   M           NOP
19066                             144 I1  
19067                                 I1  ***** BEGIN-POOL *****
19068 0000382E 0000                   I1  ALIGNMENT CODE
19069 00003830 00000000               I1  DATA FOR SOURCE-LINE 137
19070 00003834 00000000               I1  DATA FOR SOURCE-LINE 140
19071                                 I1  ***** END-POOL *****
19072 00003838                    145 I1  EP_SENCER_CK150:
19073                             146 I1  
19074                             147 I1  ;       -----------遅延時間処理--------
19075 00003838 D102               148 I1          MOV.L   #_EPCHK_DLY_TIM,R1              ;
19076 0000383A 6011               149 I1          MOV.W   @R1,R0                          ;
19077 0000383C 2008               150 I1          TST     R0,R0                           ;
19078                             151 I1          TST_BIT_OF EP_SENCER_CK200              ;
19079 0000383E 8903                   M           BT      EP_SENCER_CK200
19080                             152 I1          M_BRA   EP_SENCER_CKEND         ;
19081 00003840 A1A5                   M           BRA     EP_SENCER_CKEND
19082 00003842 0009                   M           NOP
19083                             153 I1  
19084                             154 I1  ;       ---------- 遅延時間中は異常ﾀｲﾏｶｳﾝﾄしない-----------
19085                                 I1  ***** BEGIN-POOL *****
19086 00003844 00000000               I1  DATA FOR SOURCE-LINE 148
19087                                 I1  ***** END-POOL *****
19088 00003848                    155 I1  EP_SENCER_CK200:
19089                             156 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_ERR_TIM,WKREG1=R1,WKREG2=R4 ;
19090 00003848 D107                   M           MOV.L   #_EPCHK_ERR_TIM,R1              ;SORCE ADRESS SET
19091 0000384A 6411                   M           MOV.W   @R1,R4          ;
19092 0000384C 2448                   M           TST     R4,R4                   ;
19093 0000384E 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
19094 00003850 4410                   M           DT      R4                              ;
19095 00003852 2141                   M           MOV.W   R4,@R1          ;STORE
19096 00003854                        M   JMP_0100006:
19097                             157 I1  
19098 00003854 D105               158 I1          MOV.L   #_EPCHK_STEP,R1                         ;
19099 00003856 6011               159 I1          MOV.W   @R1,R0                                  ;
19100 00003858 C91F               160 I1          AND     #H'1F,R0                                ;MAX 16ｽﾃｯﾌﾟ
19101 0000385A 4008               161 I1          SHLL2   R0                                      ;
19102 0000385C D104               162 I1          MOV.L   #_EP_JMP_TBL,R1                         ;
19103 0000385E 310C               163 I1          ADD     R0,R1                                   ;
19104 00003860 6012               164 I1          MOV.L   @R1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   234
PROGRAM NAME =

19105                             165 I1          REG_JMP WKREG=R0                                ;
19106 00003862 402B                   M           JMP     @R0
19107 00003864 0009                   M           NOP
19108                             166 I1  
19109                             167 I1  
19110                             168 I1  ;       ---------------------------------------------------
19111                             169 I1  ;       ---     遅延ﾀｲﾏ,有効ﾘﾚｰ,異常ﾀｲﾏｾｯﾄ[STEP0]       ---
19112                             170 I1  ;       ---------------------------------------------------
19113                                 I1  ***** BEGIN-POOL *****
19114 00003866 0000                   I1  ALIGNMENT CODE
19115 00003868 00000000               I1  DATA FOR SOURCE-LINE 156
19116 0000386C 00000000               I1  DATA FOR SOURCE-LINE 158
19117 00003870 00000000               I1  DATA FOR SOURCE-LINE 162
19118                                 I1  ***** END-POOL *****
19119 00003874                    171 I1  EP_STEP_USE_RY_DATSET_A
19120                             172 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19121 00003874 D102               173 I1          MOV.L   #(_PAR_EP1STR_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;開始遅延
19122 00003876 6211               174 I1          MOV.W   @R1,R2                                                  ;
19123 00003878 D102               175 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19124 0000387A 2121               176 I1          MOV.W   R2,@R1                                                  ;
19125                             177 I1          M_BRA   EP_STEP_USE_RY_DATSETCOM
19126 0000387C A008                   M           BRA     EP_STEP_USE_RY_DATSETCOM
19127 0000387E 0009                   M           NOP
19128                             178 I1  
19129                                 I1  ***** BEGIN-POOL *****
19130 00003880 00000000               I1  DATA FOR SOURCE-LINE 173
19131 00003884 00000000               I1  DATA FOR SOURCE-LINE 175
19132                                 I1  ***** END-POOL *****
19133 00003888                    179 I1  EP_STEP_USE_RY_DATSET_B
19134                             180 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19135 00003888 D106               181 I1          MOV.L   #(_PAR_EP7AB_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;開始遅延
19136 0000388A 6211               182 I1          MOV.W   @R1,R2                                                  ;
19137 0000388C D106               183 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19138 0000388E 2121               184 I1          MOV.W   R2,@R1                                                  ;
19139                             185 I1  
19140 00003890                    186 I1  EP_STEP_USE_RY_DATSETCOM
19141                             187 I1  
19142                             188 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19143 00003890 D106               189 I1          MOV.L   #(_PAR_EP2FVINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;片方ﾘﾚｰOF(0)確認
                                          時間兼ﾀｲﾑｱｳﾄ
19144 00003892 6211               190 I1          MOV.W   @R1,R2                                                  ;
19145 00003894 D106               191 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
19146 00003896 2121               192 I1          MOV.W   R2,@R1                                                  ;
19147                             193 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
19148 00003898 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19149 0000389A 6011                   M           MOV.W   @R1,R0          ;
19150 0000389C 7001                   M           ADD     #1,R0           ;
19151 0000389E 2101                   M           MOV.W   R0,@R1          ;
19152                             194 I1          M_BRA   EP_SENCER_CKEND                                         ;
19153 000038A0 A175                   M           BRA     EP_SENCER_CKEND
19154 000038A2 0009                   M           NOP
19155                             195 I1  
19156                             196 I1  
19157                             197 I1  ;       ---------------------------------------------------
19158                             198 I1  ;       ---     VF-RYの片効ｱﾝｻ待ち，異常CHK[STEP1]      ---
19159                             199 I1  ;       ---------------------------------------------------
19160                             200 I1  ;       ﾀｲﾑｱｯﾌﾟ前に入力を確認し、入力が"L"なら即遷移する,時間内に"L"にならなければ異常
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   235
PROGRAM NAME =

19161                             201 I1  ;       ----------- A:ｽﾃｯﾌﾟ1,B:ｽﾃｯﾌﾟ1----------
19162                                 I1  ***** BEGIN-POOL *****
19163 000038A4 00000000               I1  DATA FOR SOURCE-LINE 181
19164 000038A8 00000000               I1  DATA FOR SOURCE-LINE 183
19165 000038AC 00000000               I1  DATA FOR SOURCE-LINE 189
19166 000038B0 00000000               I1  DATA FOR SOURCE-LINE 191
19167 000038B4 00000000               I1  DATA FOR SOURCE-LINE 193
19168                                 I1  ***** END-POOL *****
19169 000038B8                    202 I1  EP_STEP_USE_RY_A
19170                             203 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R4      ;BIT5=1:A
                                          片効要求
19171 000038B8 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19172 000038BA 6011                   M           MOV.W   @R1,R0          ;
19173 000038BC 9403                   M           MOV.W   #(BIT5),R4              ;
19174 000038BE 204B                   M           OR      R4,R0           ;
19175 000038C0 2101                   M           MOV.W   R0,@R1          ;
19176                             204 I1          M_BRA   EP_STEP_USE_RY_COM              ;
19177 000038C2 A008                   M           BRA     EP_STEP_USE_RY_COM
19178 000038C4 0009                   M           NOP
19179                             205 I1  
19180                             206 I1  
19181                                 I1  ***** BEGIN-POOL *****
19182 000038C6 0020                   I1  DATA FOR SOURCE-LINE 203
19183 000038C8 00000000               I1  DATA FOR SOURCE-LINE 203
19184                                 I1  ***** END-POOL *****
19185 000038CC                    207 I1  EP_STEP_USE_RY_B
19186                             208 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4      ;BIT6=A片
                                          効要求
19187 000038CC D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19188 000038CE 6011                   M           MOV.W   @R1,R0          ;
19189 000038D0 940C                   M           MOV.W   #(BIT6),R4              ;
19190 000038D2 204B                   M           OR      R4,R0           ;
19191 000038D4 2101                   M           MOV.W   R0,@R1          ;
19192 000038D6                    209 I1  EP_STEP_USE_RY_COM
19193                             210 I1  
19194                             211 I1          FAR_JSR #_VFRY_IN_CHK,R0                                                ;ANS R0=0(
                                          OFF) R0=BIT14(ON)
19195 000038D6 D007                   M           MOV.L   #_VFRY_IN_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19196 000038D8 400B                   M           JSR     @R0                     ;
19197 000038DA 0009                   M           NOP                                     ;
19198                             212 I1  
19199 000038DC 2008               213 I1          TST     R0,R0                                                           ;
19200                             214 I1          TST_BIT_ON EP_STEP_USE_RY_COM_150                                       ;
19201 000038DE 8B0D                   M           BF      EP_STEP_USE_RY_COM_150
19202                             215 I1  
19203                             216 I1  ;       ------- OFF発見 ------
19204                             217 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19205 000038E0 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19206 000038E2 6011                   M           MOV.W   @R1,R0          ;
19207 000038E4 7001                   M           ADD     #1,R0           ;
19208 000038E6 2101                   M           MOV.W   R0,@R1          ;
19209                             218 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19210 000038E8 A151                   M           BRA     EP_SENCER_CKEND
19211 000038EA 0009                   M           NOP
19212                             219 I1  
19213                                 I1  ***** BEGIN-POOL *****
19214 000038EC 0040                   I1  DATA FOR SOURCE-LINE 208
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   236
PROGRAM NAME =

19215 000038EE 0000                   I1  ALIGNMENT CODE
19216 000038F0 00000000               I1  DATA FOR SOURCE-LINE 208
19217 000038F4 00000000               I1  DATA FOR SOURCE-LINE 211
19218 000038F8 00000000               I1  DATA FOR SOURCE-LINE 217
19219                                 I1  ***** END-POOL *****
19220 000038FC                    220 I1  EP_STEP_USE_RY_COM_150                                                          ;
19221 000038FC D105               221 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19222 000038FE 6011               222 I1          MOV.W   @R1,R0                                                          ;
19223 00003900 2008               223 I1          TST     R0,R0                                                           ;
19224                             224 I1          TST_BIT_ON EP_STEP_USE_RY_COM_190                                       ;
19225 00003902 8B0B                   M           BF      EP_STEP_USE_RY_COM_190
19226                             225 I1  
19227                             226 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R4      ;ﾌｨｰﾄﾞﾊﾞｯｸ
                                          失敗
19228 00003904 D104                   M           MOV.L   #_EPCHK_STS,R1          ;
19229 00003906 6011                   M           MOV.W   @R1,R0          ;
19230 00003908 9403                   M           MOV.W   #(BIT2),R4              ;
19231 0000390A 204B                   M           OR      R4,R0           ;
19232 0000390C 2101                   M           MOV.W   R0,@R1          ;
19233                             227 I1          M_BRA   EP_SENCER_CK900                                                 ;
19234 0000390E A12B                   M           BRA     EP_SENCER_CK900
19235 00003910 0009                   M           NOP
19236                             228 I1  
19237                                 I1  ***** BEGIN-POOL *****
19238 00003912 0004                   I1  DATA FOR SOURCE-LINE 226
19239 00003914 00000000               I1  DATA FOR SOURCE-LINE 221
19240 00003918 00000000               I1  DATA FOR SOURCE-LINE 226
19241                                 I1  ***** END-POOL *****
19242 0000391C                    229 I1  EP_STEP_USE_RY_COM_190                                                          ;
19243                             230 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19244 0000391C A137                   M           BRA     EP_SENCER_CKEND
19245 0000391E 0009                   M           NOP
19246                             231 I1  
19247                             232 I1  
19248                             233 I1  
19249                             234 I1  ;       ---------------------------------------------------
19250                             235 I1  ;       ---     遅延ﾀｲﾏ,ﾊﾞﾙﾌﾞON,異常ﾀｲﾏｾｯﾄ[STEP2]       ---
19251                             236 I1  ;       ---------------------------------------------------
19252 00003920                    237 I1  EP_STEP_VALVON_DATSET
19253                             238 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19254 00003920 D106               239 I1          MOV.L   #(_PAR_EP3BRKON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾌﾞﾚｰｷON出
                                          力遅延
19255 00003922 6211               240 I1          MOV.W   @R1,R2                                                          ;
19256 00003924 D106               241 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19257 00003926 2121               242 I1          MOV.W   R2,@R1                                                          ;
19258                             243 I1  
19259                             244 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19260 00003928 D106               245 I1          MOV.L   #(_PAR_EP4EPINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;ﾊﾞﾙﾌﾞON時間兼ﾀｲﾑｱ
                                          ｳﾄ時間
19261 0000392A 6211               246 I1          MOV.W   @R1,R2                                                  ;
19262 0000392C D106               247 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
19263 0000392E 2121               248 I1          MOV.W   R2,@R1                                                  ;
19264                             249 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
19265 00003930 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19266 00003932 6011                   M           MOV.W   @R1,R0          ;
19267 00003934 7001                   M           ADD     #1,R0           ;
19268 00003936 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   237
PROGRAM NAME =

19269                             250 I1          M_BRA   EP_SENCER_CKEND                                         ;
19270 00003938 A129                   M           BRA     EP_SENCER_CKEND
19271 0000393A 0009                   M           NOP
19272                             251 I1  
19273                             252 I1  
19274                             253 I1  ;       ---------------------------------------------------
19275                             254 I1  ;       ---     ﾊﾞﾙﾌﾞONのｱﾝｻEP待ち，異常CHK[STEP3]      ---
19276                             255 I1  ;       ---------------------------------------------------
19277                             256 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"L"なら遷移,"H"なら異常
19278                             257 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19279                                 I1  ***** BEGIN-POOL *****
19280 0000393C 00000000               I1  DATA FOR SOURCE-LINE 239
19281 00003940 00000000               I1  DATA FOR SOURCE-LINE 241
19282 00003944 00000000               I1  DATA FOR SOURCE-LINE 245
19283 00003948 00000000               I1  DATA FOR SOURCE-LINE 247
19284 0000394C 00000000               I1  DATA FOR SOURCE-LINE 249
19285                                 I1  ***** END-POOL *****
19286 00003950                    258 I1  EP_STEP_VALVON_COM
19287 00003950 E001               259 I1          MOV.B   #(BIT0),R0                      ;ﾌﾞﾚｰｷ解除
19288 00003952 D10A               260 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
19289 00003954 2101               261 I1          MOV.W   R0,@R1                          ;
19290                             262 I1  
19291                             263 I1  
19292 00003956 D10A               264 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19293 00003958 6011               265 I1          MOV.W   @R1,R0                                                          ;
19294 0000395A 2008               266 I1          TST     R0,R0                                                           ;
19295                             267 I1          TST_BIT_ON EP_STEP_VALV_COM_190                                 ;
19296 0000395C 8B20                   M           BF      EP_STEP_VALV_COM_190
19297                             268 I1  
19298                             269 I1  ;       ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ
19299 0000395E 200A               270 I1          XOR     R0,R0                           ;
19300 00003960 D106               271 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
19301 00003962 2101               272 I1          MOV.W   R0,@R1                          ;
19302                             273 I1  
19303                             274 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19304 00003964 D007                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19305 00003966 400B                   M           JSR     @R0                     ;
19306 00003968 0009                   M           NOP                                     ;
19307                             275 I1  
19308 0000396A 2008               276 I1          TST     R0,R0                                                           ;
19309                             277 I1          TST_BIT_ON EP_STEP_VALV_COM_150                                 ;
19310 0000396C 8B0E                   M           BF      EP_STEP_VALV_COM_150
19311                             278 I1  
19312                             279 I1  ;       ------- OFF発見 ------
19313                             280 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19314 0000396E D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19315 00003970 6011                   M           MOV.W   @R1,R0          ;
19316 00003972 7001                   M           ADD     #1,R0           ;
19317 00003974 2101                   M           MOV.W   R0,@R1          ;
19318                             281 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19319 00003976 A10A                   M           BRA     EP_SENCER_CKEND
19320 00003978 0009                   M           NOP
19321                             282 I1  
19322                                 I1  ***** BEGIN-POOL *****
19323 0000397A 0000                   I1  ALIGNMENT CODE
19324 0000397C 00000000               I1  DATA FOR SOURCE-LINE 260,271
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   238
PROGRAM NAME =

19325 00003980 00000000               I1  DATA FOR SOURCE-LINE 264
19326 00003984 00000000               I1  DATA FOR SOURCE-LINE 274
19327 00003988 00000000               I1  DATA FOR SOURCE-LINE 280
19328                                 I1  ***** END-POOL *****
19329 0000398C                    283 I1  EP_STEP_VALV_COM_150                                                            ;
19330                             284 I1  
19331                             285 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻ失敗
19332 0000398C D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19333 0000398E 6011                   M           MOV.W   @R1,R0          ;
19334 00003990 9403                   M           MOV.W   #(BIT3),R4              ;
19335 00003992 204B                   M           OR      R4,R0           ;
19336 00003994 2101                   M           MOV.W   R0,@R1          ;
19337                             286 I1          M_BRA   EP_SENCER_CK900                                                 ;
19338 00003996 A0E7                   M           BRA     EP_SENCER_CK900
19339 00003998 0009                   M           NOP
19340                             287 I1  
19341                                 I1  ***** BEGIN-POOL *****
19342 0000399A 0008                   I1  DATA FOR SOURCE-LINE 285
19343 0000399C 00000000               I1  DATA FOR SOURCE-LINE 285
19344                                 I1  ***** END-POOL *****
19345 000039A0                    288 I1  EP_STEP_VALV_COM_190
19346                             289 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19347 000039A0 A0F5                   M           BRA     EP_SENCER_CKEND
19348 000039A2 0009                   M           NOP
19349                             290 I1  
19350                             291 I1  
19351                             292 I1  
19352                             293 I1  ;       ---------------------------------------------------
19353                             294 I1  ;       ---     EP確認完了[STEP4]                       ---
19354                             295 I1  ;       ---------------------------------------------------
19355 000039A4                    296 I1  EP_STEP_EPSENSIG_A:
19356                             297 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4      ;
19357 000039A4 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
19358 000039A6 6011                   M           MOV.W   @R1,R0          ;
19359 000039A8 940A                   M           MOV.W   #(BIT7),R4              ;
19360 000039AA 204B                   M           OR      R4,R0           ;
19361 000039AC 2101                   M           MOV.W   R0,@R1          ;
19362 000039AE 200A               298 I1          XOR     R0,R0                                                           ;
19363 000039B0 D105               299 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;STEP5の前
                                          に行う
19364 000039B2 2101               300 I1          MOV.W   R0,@R1                                                          ;
19365                             301 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19366 000039B4 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19367 000039B6 6011                   M           MOV.W   @R1,R0          ;
19368 000039B8 7001                   M           ADD     #1,R0           ;
19369 000039BA 2101                   M           MOV.W   R0,@R1          ;
19370                             302 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19371 000039BC A0E7                   M           BRA     EP_SENCER_CKEND
19372 000039BE 0009                   M           NOP
19373                             303 I1  
19374                                 I1  ***** BEGIN-POOL *****
19375 000039C0 0080                   I1  DATA FOR SOURCE-LINE 297
19376 000039C2 0000                   I1  ALIGNMENT CODE
19377 000039C4 00000000               I1  DATA FOR SOURCE-LINE 297
19378 000039C8 00000000               I1  DATA FOR SOURCE-LINE 299
19379 000039CC 00000000               I1  DATA FOR SOURCE-LINE 301
19380                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   239
PROGRAM NAME =

19381 000039D0                    304 I1  EP_STEP_EPSENSIG_B:
19382                             305 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT8),WKRG1=R1,WKRG2=R4      ;
19383 000039D0 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
19384 000039D2 6011                   M           MOV.W   @R1,R0          ;
19385 000039D4 940A                   M           MOV.W   #(BIT8),R4              ;
19386 000039D6 204B                   M           OR      R4,R0           ;
19387 000039D8 2101                   M           MOV.W   R0,@R1          ;
19388 000039DA 200A               306 I1          XOR     R0,R0                                                           ;STEP5の前
                                          に行う
19389 000039DC D105               307 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;
19390 000039DE 2101               308 I1          MOV.W   R0,@R1                                                          ;
19391                             309 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19392 000039E0 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19393 000039E2 6011                   M           MOV.W   @R1,R0          ;
19394 000039E4 7001                   M           ADD     #1,R0           ;
19395 000039E6 2101                   M           MOV.W   R0,@R1          ;
19396                             310 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19397 000039E8 A0D1                   M           BRA     EP_SENCER_CKEND
19398 000039EA 0009                   M           NOP
19399                             311 I1  
19400                             312 I1  
19401                             313 I1  ;       ---------------------------------------------------
19402                             314 I1  ;       ---     EPﾘｾｯﾄON遅延,ﾀｲﾑｱｳﾄ設定[STEP5]          ---
19403                             315 I1  ;       ---------------------------------------------------
19404                                 I1  ***** BEGIN-POOL *****
19405 000039EC 0100                   I1  DATA FOR SOURCE-LINE 305
19406 000039EE 0000                   I1  ALIGNMENT CODE
19407 000039F0 00000000               I1  DATA FOR SOURCE-LINE 305
19408 000039F4 00000000               I1  DATA FOR SOURCE-LINE 307
19409 000039F8 00000000               I1  DATA FOR SOURCE-LINE 309
19410                                 I1  ***** END-POOL *****
19411 000039FC                    316 I1  EP_STEP_RESET_DATSET1:
19412 000039FC D104               317 I1          MOV.L   #_EPCHK_RETRY_CNT,R1            ;
19413 000039FE 6011               318 I1          MOV.W   @R1,R0                          ;
19414 00003A00 2008               319 I1          TST     R0,R0                           ;
19415                             320 I1          TST_BIT_ON EP_STEP_RESET_100            ;ﾘﾄﾗｲ
19416 00003A02 8B0B                   M           BF      EP_STEP_RESET_100
19417                             321 I1  
19418                             322 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19419 00003A04 D103               323 I1          MOV.L   #(_PAR_EP5RSTON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間
19420 00003A06 6211               324 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19421 00003A08 D103               325 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19422 00003A0A 2121               326 I1          MOV.W   R2,@R1                                                          ;
19423                             327 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19424 00003A0C A00A                   M           BRA     EP_STEP_RESET_DATSET_COM
19425 00003A0E 0009                   M           NOP
19426                             328 I1  
19427                                 I1  ***** BEGIN-POOL *****
19428 00003A10 00000000               I1  DATA FOR SOURCE-LINE 317
19429 00003A14 00000000               I1  DATA FOR SOURCE-LINE 323
19430 00003A18 00000000               I1  DATA FOR SOURCE-LINE 325
19431                                 I1  ***** END-POOL *****
19432 00003A1C                    329 I1  EP_STEP_RESET_100:
19433                             330 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19434 00003A1C D106               331 I1          MOV.L   #(_PAR_EP6RSTOF_INTTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   240
PROGRAM NAME =

                                          延時間(ｲﾝﾀｰﾊﾞﾙ時間)
19435 00003A1E 6211               332 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19436 00003A20 D106               333 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19437 00003A22 2121               334 I1          MOV.W   R2,@R1                                                          ;
19438                             335 I1  
19439 00003A24                    336 I1  EP_STEP_RESET_DATSET_COM:
19440                             337 I1  
19441                             338 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19442 00003A24 D106               339 I1          MOV.L   #(_PAR_EP6RSTON_JGTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1          ;ﾘｾｯﾄON時
                                          間兼ﾀｲﾑｱｳﾄ時間
19443 00003A26 6211               340 I1          MOV.W   @R1,R2                                                          ;
19444 00003A28 D106               341 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19445 00003A2A 2121               342 I1          MOV.W   R2,@R1                                                          ;
19446                             343 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19447 00003A2C D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19448 00003A2E 6011                   M           MOV.W   @R1,R0          ;
19449 00003A30 7001                   M           ADD     #1,R0           ;
19450 00003A32 2101                   M           MOV.W   R0,@R1          ;
19451                             344 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19452 00003A34 A0AB                   M           BRA     EP_SENCER_CKEND
19453 00003A36 0009                   M           NOP
19454                             345 I1  
19455                             346 I1  
19456                             347 I1  
19457                             348 I1  
19458                             349 I1  ;       ---------------------------------------------------
19459                             350 I1  ;       ---     ﾘｾｯﾄONのｱﾝｻEP待ち，異常CHK[STEP6]       ---
19460                             351 I1  ;       ---------------------------------------------------
19461                             352 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"Ｈ"なら遷移,"Ｌ"なら異常　ﾘﾄﾗｲ
19462                             353 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19463                                 I1  ***** BEGIN-POOL *****
19464 00003A38 00000000               I1  DATA FOR SOURCE-LINE 331
19465 00003A3C 00000000               I1  DATA FOR SOURCE-LINE 333
19466 00003A40 00000000               I1  DATA FOR SOURCE-LINE 339
19467 00003A44 00000000               I1  DATA FOR SOURCE-LINE 341
19468 00003A48 00000000               I1  DATA FOR SOURCE-LINE 343
19469                                 I1  ***** END-POOL *****
19470 00003A4C                    354 I1  EP_STEP_RESETON_COM
19471                             355 I1  
19472                             356 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4      ;ﾘｾｯﾄｺﾏﾝﾄﾞ
19473 00003A4C D10D                   M           MOV.L   #_EPCHK_STS,R1          ;
19474 00003A4E 6011                   M           MOV.W   @R1,R0          ;
19475 00003A50 9415                   M           MOV.W   #(BIT9),R4              ;
19476 00003A52 204B                   M           OR      R4,R0           ;
19477 00003A54 2101                   M           MOV.W   R0,@R1          ;
19478                             357 I1  
19479 00003A56 D10C               358 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19480 00003A58 6011               359 I1          MOV.W   @R1,R0                                                          ;
19481 00003A5A 2008               360 I1          TST     R0,R0                                                           ;
19482                             361 I1          TST_BIT_ON EP_STEP_RESET_COM_190                                        ;
19483 00003A5C 8B38                   M           BF      EP_STEP_RESET_COM_190
19484                             362 I1  
19485                             363 I1  ;       ------- ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ--------
19486                             364 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9),WKRG1=R1,WKRG2=R4     ;ﾘｾｯﾄOFF
19487 00003A5E D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19488 00003A60 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   241
PROGRAM NAME =

19489 00003A62 940D                   M           MOV.W   #LWORD ~(BIT9),R4       ;
19490 00003A64 2049                   M           AND     R4,R0           ;
19491 00003A66 2101                   M           MOV.W   R0,@R1          ;
19492                             365 I1  
19493                             366 I1  
19494                             367 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19495 00003A68 D008                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19496 00003A6A 400B                   M           JSR     @R0                     ;
19497 00003A6C 0009                   M           NOP                                     ;
19498                             368 I1  
19499 00003A6E 2008               369 I1          TST     R0,R0                                                           ;
19500                             370 I1          TST_BIT_OF EP_STEP_RESET_COM_150                                        ;
19501 00003A70 8910                   M           BT      EP_STEP_RESET_COM_150
19502                             371 I1  
19503                             372 I1  ;       ------- ON発見 ------
19504                             373 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19505 00003A72 D107                   M           MOV.L   #_EPCHK_STEP,R1 ;
19506 00003A74 6011                   M           MOV.W   @R1,R0          ;
19507 00003A76 7001                   M           ADD     #1,R0           ;
19508 00003A78 2101                   M           MOV.W   R0,@R1          ;
19509                             374 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19510 00003A7A A088                   M           BRA     EP_SENCER_CKEND
19511 00003A7C 0009                   M           NOP
19512                             375 I1  
19513                                 I1  ***** BEGIN-POOL *****
19514 00003A7E 0200                   I1  DATA FOR SOURCE-LINE 356
19515 00003A80 FDFF                   I1  DATA FOR SOURCE-LINE 364
19516 00003A82 0000                   I1  ALIGNMENT CODE
19517 00003A84 00000000               I1  DATA FOR SOURCE-LINE 356,364
19518 00003A88 00000000               I1  DATA FOR SOURCE-LINE 358
19519 00003A8C 00000000               I1  DATA FOR SOURCE-LINE 367
19520 00003A90 00000000               I1  DATA FOR SOURCE-LINE 373
19521                                 I1  ***** END-POOL *****
19522 00003A94                    376 I1  EP_STEP_RESET_COM_150                                                           ;
19523 00003A94 D106               377 I1          MOV.L   #(_PAR_EP6RST_RETRY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;ﾘｾｯﾄﾘﾄﾗｲ
                                          回数
19524 00003A96 6211               378 I1          MOV.W   @R1,R2                                                          ;0:ﾘﾄﾗｲし
                                          ない
19525 00003A98 D506               379 I1          MOV.L   #_EPCHK_RETRY_CNT,R5                                            ;
19526 00003A9A 6051               380 I1          MOV.W   @R5,R0                                                          ;
19527 00003A9C 3022               381 I1          CMP/HS  R2,R0                                                           ;0(SV)=<0(
                                          PV)
19528 00003A9E 890D               382 I1          BT      EP_STEP_RESET_COM_170                                           ;ﾘﾄﾗｲｵｰﾊﾞ
19529 00003AA0 7001               383 I1          ADD     #1,R0                                                           ;
19530 00003AA2 2501               384 I1          MOV.W   R0,@R5                                                          ;
19531                             385 I1  
19532 00003AA4 D104               386 I1          MOV.L   #_EPCHK_STEP,R1                         ;1個前からやり直す
19533 00003AA6 6011               387 I1          MOV.W   @R1,R0                                  ;
19534 00003AA8 70FF               388 I1          ADD     #-1,R0                                  ;
19535 00003AAA 2101               389 I1          MOV.W   R0,@R1                                  ;
19536                             390 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19537 00003AAC A06F                   M           BRA     EP_SENCER_CKEND
19538 00003AAE 0009                   M           NOP
19539                             391 I1  
19540                             392 I1  
19541                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   242
PROGRAM NAME =

19542 00003AB0 00000000               I1  DATA FOR SOURCE-LINE 377
19543 00003AB4 00000000               I1  DATA FOR SOURCE-LINE 379
19544 00003AB8 00000000               I1  DATA FOR SOURCE-LINE 386
19545                                 I1  ***** END-POOL *****
19546 00003ABC                    393 I1  EP_STEP_RESET_COM_170                                                           ;終了処理
19547                             394 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻﾘｾｯﾄ
                                          失敗
19548 00003ABC D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19549 00003ABE 6011                   M           MOV.W   @R1,R0          ;
19550 00003AC0 9403                   M           MOV.W   #(BIT4),R4              ;
19551 00003AC2 204B                   M           OR      R4,R0           ;
19552 00003AC4 2101                   M           MOV.W   R0,@R1          ;
19553                             395 I1          M_BRA   EP_SENCER_CK900                                                 ;
19554 00003AC6 A04F                   M           BRA     EP_SENCER_CK900
19555 00003AC8 0009                   M           NOP
19556                             396 I1  
19557                                 I1  ***** BEGIN-POOL *****
19558 00003ACA 0010                   I1  DATA FOR SOURCE-LINE 394
19559 00003ACC 00000000               I1  DATA FOR SOURCE-LINE 394
19560                                 I1  ***** END-POOL *****
19561 00003AD0                    397 I1  EP_STEP_RESET_COM_190
19562                             398 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19563 00003AD0 A05D                   M           BRA     EP_SENCER_CKEND
19564 00003AD2 0009                   M           NOP
19565                             399 I1  
19566                             400 I1  
19567                             401 I1  
19568                             402 I1  ;       ---------------------------------------------------
19569                             403 I1  ;       ---     CPUA終了,CPUB開始遅延+ﾀｲﾑｱｳﾄ設定[STEP7] ---
19570                             404 I1  ;       ---------------------------------------------------
19571 00003AD4                    405 I1  EP_STEP_ENDSIG_A
19572                             406 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT5),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19573 00003AD4 D10B                   M           MOV.L   #_EPCHK_STS,R1          ;
19574 00003AD6 6011                   M           MOV.W   @R1,R0          ;
19575 00003AD8 9411                   M           MOV.W   #LWORD ~(BIT9|BIT5),R4  ;
19576 00003ADA 2049                   M           AND     R4,R0           ;
19577 00003ADC 2101                   M           MOV.W   R0,@R1          ;
19578                             407 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT10),WKRG1=R1,WKRG2=R4             ;A
                                          完了
19579 00003ADE D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19580 00003AE0 6011                   M           MOV.W   @R1,R0          ;
19581 00003AE2 940D                   M           MOV.W   #(BIT10),R4             ;
19582 00003AE4 204B                   M           OR      R4,R0           ;
19583 00003AE6 2101                   M           MOV.W   R0,@R1          ;
19584                             408 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4              ;B
                                          開始
19585 00003AE8 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19586 00003AEA 6011                   M           MOV.W   @R1,R0          ;
19587 00003AEC 9409                   M           MOV.W   #(BIT1),R4              ;
19588 00003AEE 204B                   M           OR      R4,R0           ;
19589 00003AF0 2101                   M           MOV.W   R0,@R1          ;
19590                             409 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19591 00003AF2 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19592 00003AF4 6011                   M           MOV.W   @R1,R0          ;
19593 00003AF6 7001                   M           ADD     #1,R0           ;
19594 00003AF8 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   243
PROGRAM NAME =

19595                             410 I1          M_BRA   EP_SENCER_CKEND                                                         ;
19596 00003AFA A048                   M           BRA     EP_SENCER_CKEND
19597 00003AFC 0009                   M           NOP
19598                             411 I1  
19599                                 I1  ***** BEGIN-POOL *****
19600 00003AFE FDDF                   I1  DATA FOR SOURCE-LINE 406
19601 00003B00 0400                   I1  DATA FOR SOURCE-LINE 407
19602 00003B02 0002                   I1  DATA FOR SOURCE-LINE 408
19603 00003B04 00000000               I1  DATA FOR SOURCE-LINE 406,407,408
19604 00003B08 00000000               I1  DATA FOR SOURCE-LINE 409
19605                                 I1  ***** END-POOL *****
19606 00003B0C                    412 I1  EP_STEP_ENDSIG_B
19607                             413 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT6),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19608 00003B0C D10A                   M           MOV.L   #_EPCHK_STS,R1          ;
19609 00003B0E 6011                   M           MOV.W   @R1,R0          ;
19610 00003B10 9410                   M           MOV.W   #LWORD ~(BIT9|BIT6),R4  ;
19611 00003B12 2049                   M           AND     R4,R0           ;
19612 00003B14 2101                   M           MOV.W   R0,@R1          ;
19613                             414 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4     ;
19614 00003B16 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19615 00003B18 6011                   M           MOV.W   @R1,R0          ;
19616 00003B1A 940C                   M           MOV.W   #(BIT11),R4             ;
19617 00003B1C 204B                   M           OR      R4,R0           ;
19618 00003B1E 2101                   M           MOV.W   R0,@R1          ;
19619                             415 I1  
19620                             416 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19621 00003B20 D106               417 I1          MOV.L   #(_PAR_EP7END_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;終了遅延
19622 00003B22 6211               418 I1          MOV.W   @R1,R2                                                          ;
19623 00003B24 D106               419 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19624 00003B26 2121               420 I1          MOV.W   R2,@R1                                                          ;
19625                             421 I1  ;;;;2015-10-26ｺﾞﾐ　悪さはしないが       M_BRA   EP_STEP_RESET_DATSET_COM
                                                          ;
19626                             422 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19627 00003B28 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19628 00003B2A 6011                   M           MOV.W   @R1,R0          ;
19629 00003B2C 7001                   M           ADD     #1,R0           ;
19630 00003B2E 2101                   M           MOV.W   R0,@R1          ;
19631                             423 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19632 00003B30 A02D                   M           BRA     EP_SENCER_CKEND
19633 00003B32 0009                   M           NOP
19634                             424 I1  
19635                             425 I1  
19636                                 I1  ***** BEGIN-POOL *****
19637 00003B34 FDBF                   I1  DATA FOR SOURCE-LINE 413
19638 00003B36 0800                   I1  DATA FOR SOURCE-LINE 414
19639 00003B38 00000000               I1  DATA FOR SOURCE-LINE 413,414
19640 00003B3C 00000000               I1  DATA FOR SOURCE-LINE 417
19641 00003B40 00000000               I1  DATA FOR SOURCE-LINE 419
19642 00003B44 00000000               I1  DATA FOR SOURCE-LINE 422
19643                                 I1  ***** END-POOL *****
19644 00003B48                    426 I1  EP_STEP_ENDSIG
19645                             427 I1          M_BRA   EP_SENCER_CK800                                                 ;
19646 00003B48 A000                   M           BRA     EP_SENCER_CK800
19647 00003B4A 0009                   M           NOP
19648                             428 I1  
19649                             429 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   244
PROGRAM NAME =

19650 00003B4C                    430 I1  EP_STEP_XX:
19651                             431 I1  
19652                             432 I1  ;       -----------正常終了処理--------
19653 00003B4C                    433 I1  EP_SENCER_CK800:
19654                             434 I1  
19655 00003B4C 9006               435 I1          MOV.W   #BIT7,R0                        ;
19656 00003B4E D104               436 I1          MOV.L   #_EPCHK_FLG,R1                  ;
19657 00003B50 2101               437 I1          MOV.W   R0,@R1                          ;
19658                             438 I1  
19659 00003B52 9004               439 I1          MOV.W   #BIT15,R0
19660 00003B54 D103               440 I1          MOV.L   #_EPCHK_STS,R1                  ;BIT15:正常完了
19661 00003B56 2101               441 I1          MOV.W   R0,@R1                          ;
19662                             442 I1  
19663                             443 I1          M_BRA   EP_SENCER_CK950                 ;
19664 00003B58 A014                   M           BRA     EP_SENCER_CK950
19665 00003B5A 0009                   M           NOP
19666                             444 I1  
19667                             445 I1  
19668                             446 I1  ;       -----------異常終了処理--------
19669                                 I1  ***** BEGIN-POOL *****
19670 00003B5C 0080                   I1  DATA FOR SOURCE-LINE 435
19671 00003B5E 8000                   I1  DATA FOR SOURCE-LINE 439
19672 00003B60 00000000               I1  DATA FOR SOURCE-LINE 436
19673 00003B64 00000000               I1  DATA FOR SOURCE-LINE 440
19674                                 I1  ***** END-POOL *****
19675 00003B68                    447 I1  EP_SENCER_CK900:
19676                             448 I1  
19677 00003B68 9418               449 I1          MOV.W   #H'239E,R4              ;2010-12-21
19678                             450 I1          FAR_JSR #_EMG_STOP,R0                   ;
19679 00003B6A D00E                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19680 00003B6C 400B                   M           JSR     @R0                     ;
19681 00003B6E 0009                   M           NOP                                     ;
19682                             451 I1  
19683 00003B70 200A               452 I1          XOR     R0,R0                                   ;
19684 00003B72 D10D               453 I1          MOV.L   #_EPCHK_FLG,R1                          ;
19685 00003B74 2101               454 I1          MOV.W   R0,@R1                                  ;
19686                             455 I1  
19687 00003B76 D10D               456 I1          MOV.L   #_EPCHK_STS,R1                          ;
19688 00003B78 6011               457 I1          MOV.W   @R1,R0                                  ;
19689 00003B7A 9410               458 I1          MOV.W   #(BIT4|BIT3|BIT2),R4                    ;異常要因以外をｸﾘｱ
19690 00003B7C 2049               459 I1          AND     R4,R0                                   ;
19691                             460 I1  
19692 00003B7E 940F               461 I1          MOV.W   #BIT14,R4                               ;BIT14異常終了ｾｯﾄ
19693 00003B80 204B               462 I1          OR      R4,R0                                   ;
19694 00003B82 2101               463 I1          MOV.W   R0,@R1                                  ;
19695                             464 I1  
19696                             465 I1  ;       -----------終了共通処理--------
19697 00003B84                    466 I1  EP_SENCER_CK950:
19698 00003B84 200A               467 I1          XOR     R0,R0                                   ;
19699 00003B86 D10A               468 I1          MOV.L   #_EPCHK_COM,R1                          ;
19700 00003B88 2101               469 I1          MOV.W   R0,@R1                                  ;
19701 00003B8A D10A               470 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1                 ;強制ﾊﾞﾙﾌﾞON:OFF
19702 00003B8C 2101               471 I1          MOV.W   R0,@R1                                  ;
19703                             472 I1  
19704                             473 I1  
19705 00003B8E                    474 I1  EP_SENCER_CKEND
19706 00003B8E D107               475 I1          MOV.L   #_EPCHK_STS,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   245
PROGRAM NAME =

19707 00003B90 6211               476 I1          MOV.W   @R1,R2                          ;
19708 00003B92 D109               477 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19709 00003B94 2121               478 I1          MOV.W   R2,@R1                          ;
19710                             479 I1  
19711 00003B96                    480 I1  EP_SENCER_CKEXT
19712                             481 I1          SUB_END
19713                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19714 00003B96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19715                             482 I1          M_RTS
19716 00003B98 000B                   M           RTS                             ;RTSの後ろの
19717 00003B9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19718                             483 I1  
19719                             484 I1  
19720                                 I1  ***** BEGIN-POOL *****
19721 00003B9C 239E                   I1  DATA FOR SOURCE-LINE 449
19722 00003B9E 001C                   I1  DATA FOR SOURCE-LINE 458
19723 00003BA0 4000                   I1  DATA FOR SOURCE-LINE 461
19724 00003BA2 0000                   I1  ALIGNMENT CODE
19725 00003BA4 00000000               I1  DATA FOR SOURCE-LINE 450
19726 00003BA8 00000000               I1  DATA FOR SOURCE-LINE 453
19727 00003BAC 00000000               I1  DATA FOR SOURCE-LINE 456,475
19728 00003BB0 00000000               I1  DATA FOR SOURCE-LINE 468
19729 00003BB4 00000000               I1  DATA FOR SOURCE-LINE 470
19730 00003BB8 00000000               I1  DATA FOR SOURCE-LINE 477
19731                                 I1  ***** END-POOL *****
19732 00003BBC                    485 I1  _EP_SENCHK_STOPCONF1:
19733 00003BBC                    486 I1  _EP_SENCHK_STOPCONF2:
19734                             487 I1          SUB_START
19735 00003BBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19736                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19737                             488 I1  
19738 00003BBE D104               489 I1          MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
19739 00003BC0 6011               490 I1          MOV.W   @R1,R0                  ;
19740 00003BC2 D104               491 I1          MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
19741 00003BC4 6211               492 I1          MOV.W   @R1,R2                  ;
19742 00003BC6 202B               493 I1          OR      R2,R0                   ;
19743                             494 I1  
19744                             495 I1          SUB_END
19745                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19746 00003BC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19747                             496 I1          M_RTS
19748 00003BCA 000B                   M           RTS                             ;RTSの後ろの
19749 00003BCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19750                             497 I1  
19751                             498 I1  
19752                             499 I1  ;       ANS R0=0(OFF) R0=BIT14(ON)
19753                                 I1  ***** BEGIN-POOL *****
19754 00003BCE 0000                   I1  ALIGNMENT CODE
19755 00003BD0 00000000               I1  DATA FOR SOURCE-LINE 489
19756 00003BD4 00000000               I1  DATA FOR SOURCE-LINE 491
19757                                 I1  ***** END-POOL *****
19758 00003BD8                    500 I1  _VFRY_IN_CHK:
19759                             501 I1          SUB_START
19760 00003BD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19761                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19762 00003BDA 9405               502 I1          MOV.W   #BIT14,R4                       ;
19763 00003BDC D103               503 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   246
PROGRAM NAME =

19764 00003BDE 6011               504 I1          MOV.W   @R1,R0                          ;
19765 00003BE0 2049               505 I1          AND     R4,R0                           ;0orBIT14
19766                             506 I1  
19767                             507 I1          SUB_END
19768                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19769 00003BE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19770                             508 I1          M_RTS
19771 00003BE4 000B                   M           RTS                             ;RTSの後ろの
19772 00003BE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19773                             509 I1  
19774                             510 I1  
19775                                 I1  ***** BEGIN-POOL *****
19776 00003BE8 4000                   I1  DATA FOR SOURCE-LINE 502
19777 00003BEA 0000                   I1  ALIGNMENT CODE
19778 00003BEC 00000000               I1  DATA FOR SOURCE-LINE 503
19779                                 I1  ***** END-POOL *****
19780 00003BF0                    511 I1  _EPSEN_IN_CHK
19781                             512 I1          SUB_START
19782 00003BF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19783                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19784 00003BF2 9405               513 I1          MOV.W   #BIT15,R4                       ;
19785 00003BF4 D103               514 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19786 00003BF6 6011               515 I1          MOV.W   @R1,R0                          ;
19787 00003BF8 2049               516 I1          AND     R4,R0                           ;0orBIT15
19788                             517 I1  
19789                             518 I1          SUB_END
19790                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19791 00003BFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19792                             519 I1          M_RTS
19793 00003BFC 000B                   M           RTS                             ;RTSの後ろの
19794 00003BFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19795                             520 I1  
19796                             521 I1  
19797                                 I1  ***** BEGIN-POOL *****
19798 00003C00 8000                   I1  DATA FOR SOURCE-LINE 513
19799 00003C02 0000                   I1  ALIGNMENT CODE
19800 00003C04 00000000               I1  DATA FOR SOURCE-LINE 514
19801                                 I1  ***** END-POOL *****
19802 00003C08                    522 I1  _EPSEN_CLR
19803                             523 I1          SUB_START
19804 00003C08 4F22                   M           STS.L   PR,@-R15                ;[必要]
19805                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19806                             524 I1  
19807 00003C0A 9408               525 I1          MOV.W   #BIT15,R4
19808 00003C0C D104               526 I1          MOV.L   #_EPCHK_STS,R1                  ;
19809 00003C0E 6011               527 I1          MOV.W   @R1,R0
19810 00003C10 2049               528 I1          AND     R4,R0
19811 00003C12 2101               529 I1          MOV.W   R0,@R1                          ;
19812 00003C14 D103               530 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19813 00003C16 2101               531 I1          MOV.W   R0,@R1                          ;
19814                             532 I1  
19815                             533 I1          SUB_END
19816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19817 00003C18 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19818                             534 I1          M_RTS
19819 00003C1A 000B                   M           RTS                             ;RTSの後ろの
19820 00003C1C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   247
PROGRAM NAME =

19821                             535 I1  
19822                            7890     
19823                                     ***** BEGIN-POOL *****
19824 00003C1E 8000                       DATA FOR SOURCE-LINE 525
19825 00003C20 00000000                   DATA FOR SOURCE-LINE 526
19826 00003C24 00000000                   DATA FOR SOURCE-LINE 530
19827                                     ***** END-POOL *****
19828 00003C28                   7891             .ALIGN  4
19829                            7892     ;       *******************************************
19830                            7893     ;       ***                                     ***
19831                            7894     ;       ***                                     ***
19832                            7895     ;       ***                                     ***
19833                            7896     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19834                            7897     ;       ***             2016-04-16              ***
19835                            7898     ;       ***             2016-01-10              ***
19836                            7899     ;       ***                                     ***
19837                            7900     ;       ***                                     ***
19838                            7901     ;       ***                                     ***
19839                            7902     ;       *******************************************
19840                            7903     ;       リセット時に行う
19841                            7904     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19842                            7905     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19843                            7906     ;       このリカバーはハンドシェイク時のみのリカバーとする
19844                            7907     
19845                            7908             .IMPORT _CPUA_SV_STEP                           ;
19846                            7909             .IMPORT _CPUB_SV_STEP                           ;
19847                            7910     
19848                            7911             .IMPORT _EMG_POS_FLG_PROC
19849                            7912     
19850                            7913     
19851 00003C28                   7914     _EXQ_PROC_STEP_RECOVER:
19852                            7915             SUB_START
19853 00003C28 4F22                   M           STS.L   PR,@-R15                ;[必要]
19854                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19855                            7916     
19856                            7917     
19857 00003C2A D117              7918             MOV.L   #_MODE_SEL,R1                           ;
19858 00003C2C 6011              7919             MOV.W   @R1,R0                                  ;
19859                            7920     
19860 00003C2E 942A              7921             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
19861 00003C30 2048              7922             TST     R4,R0                                   ;
19862                            7923             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19863 00003C32 896B                   M           BT      EXQ_PROC_STEPRECOVER_END1
19864                            7924     
19865 00003C34 D115              7925             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19866 00003C36 6011              7926             MOV.W   @R1,R0                                  ;
19867                            7927     ;;;;    TST     #_DMATH_CNTROT,R0                       ;
19868                            7928     ;;;;    TST     #(_DMATH_DNDRIV),R0                     ;回転or往復
19869 00003C38 C805              7929             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
19870                            7930             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;
19871 00003C3A 8967                   M           BT      EXQ_PROC_STEPRECOVER_END1
19872                            7931     
19873 00003C3C D114              7932             MOV.L   #_EXQ_LT_GET_FLG,R1                     ;[]
19874 00003C3E 6011              7933             MOV.W   @R1,R0                                  ;
19875 00003C40 2008              7934             TST     R0,R0                                   ;
19876                            7935             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19877 00003C42 8963                   M           BT      EXQ_PROC_STEPRECOVER_END1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   248
PROGRAM NAME =

19878                            7936     
19879                            7937     
19880                            7938     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
19881 00003C44 D113              7939             MOV.L   #_EXQ_LT_PROC_CNT1,R1
19882 00003C46 6011              7940             MOV.W   @R1,R0
19883 00003C48 7001              7941             ADD     #1,R0
19884 00003C4A 2101              7942             MOV.W   R0,@R1
19885                            7943     
19886 00003C4C E401              7944             MOV.B   #BIT0,R4
19887 00003C4E D112              7945             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19888 00003C50 6011              7946             MOV.W   @R1,R0
19889 00003C52 204A              7947             XOR     R4,R0
19890 00003C54 2101              7948             MOV.W   R0,@R1
19891                            7949     
19892                            7950     
19893                            7951     ;---------------------------------------------------------
19894                            7952     ;切替条件
19895                            7953     ;       EXQ_LT_GET_FLGがON
19896                            7954     ;       (1)R1:自分が0(emg)でない
19897                            7955     ;       (1)R2:相手も0(emg)でない
19898                            7956     ;         (2-1)自分が最終行程の場合
19899                            7957     ;               (3-1)待機点範囲の場合
19900                            7958     ;                       相手CPUが0または1の場合　
19901                            7959     ;                       自分はEMG処理相当を行う(行程1からはじめる)
19902                            7960     ;               (3-2)待機点範囲でない場合:演算しない
19903                            7961     ;         (2-2)自分が最終行程でない場合
19904                            7962     ;               自分<相手であれば行程を入れ替える
19905                            7963     ;       EXQ_LT_HAND_STEP2_FLG=_CMPSTEP_STEP_END
19906                            7964     
19907                            7965             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
19908 00003C56 D011                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19909 00003C58 400B                   M           JSR     @R0                     ;
19910 00003C5A 0009                   M           NOP                                     ;
19911 00003C5C 6303              7966             MOV     R0,R3                           ;R3!=0:待機点
19912                            7967     
19913 00003C5E D510              7968             MOV.L   #_SV_POS_CTL_STEP,R5            ;
19914 00003C60 6151              7969             MOV.W   @R5,R1                          ;自分
19915                            7970             .AIF    0 EQ    0
19916 00003C62 D610              7971 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
19917                            7972             .AELSE
19918                            7973             MOV.L   #_CPUA_SV_STEP,R6               ;
19919                            7974             .AENDI
19920 00003C64 6261              7975             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
19921 00003C66 2118              7976             TST     R1,R1                           ;CPUA(自分)
19922                            7977             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;[次の工程は１行程から行う]
19923 00003C68 8950                   M           BT      EXQ_PROC_STEPRECOVER_END1
19924                            7978     
19925 00003C6A 2338              7979             TST     R3,R3                           ;待機点？
19926                            7980             TST_BIT_OF EXQ_PROC_STEPRECOVER_200     ;NO!
19927 00003C6C 8950                   M           BT      EXQ_PROC_STEPRECOVER_200
19928                            7981     
19929 00003C6E D40E              7982             MOV.L   #_CPOS_STEP_MAX,R4              ;
19930 00003C70 6041              7983             MOV.W   @R4,R0                          ;
19931 00003C72 7001              7984             ADD     #1,R0                           ;
19932 00003C74 3010              7985             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
19933 00003C76 8B49              7986             BF      EXQ_PROC_STEPRECOVER_END1       ;NO!(待機点だが最終ステップではない)
19934                            7987     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   249
PROGRAM NAME =

19935                            7988     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
19936 00003C78 E001              7989             MOV.B   #1,R0                           ;
19937 00003C7A 2228              7990             TST     R2,R2                           ;
19938                            7991             TST_BIT_OF EXQ_PROC_STEPRECOVER_100     ;(R2=0:次の工程は0から YES:EMG)
19939 00003C7C 8916                   M           BT      EXQ_PROC_STEPRECOVER_100
19940                            7992     
19941 00003C7E 3200              7993             CMP/EQ  R0,R2                           ;
19942 00003C80 8914              7994             BT      EXQ_PROC_STEPRECOVER_100        ;相手CPU=1です
19943                            7995             M_BRA   EXQ_PROC_STEPRECOVER_END1       ;
19944 00003C82 A043                   M           BRA     EXQ_PROC_STEPRECOVER_END1
19945 00003C84 0009                   M           NOP
19946                            7996     
19947                            7997     ;
19948                            7998     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
19949                            7999     ;
19950                            8000     ;待機点での方向変更処理が必要
19951                            8001     ;       「EMGと同じ処理」
19952                                     ***** BEGIN-POOL *****
19953 00003C86 001E                       DATA FOR SOURCE-LINE 7921
19954 00003C88 00000000                   DATA FOR SOURCE-LINE 7918
19955 00003C8C 00000000                   DATA FOR SOURCE-LINE 7925
19956 00003C90 00000000                   DATA FOR SOURCE-LINE 7932
19957 00003C94 00000000                   DATA FOR SOURCE-LINE 7939
19958 00003C98 00000000                   DATA FOR SOURCE-LINE 7945
19959 00003C9C 00000000                   DATA FOR SOURCE-LINE 7965
19960 00003CA0 00000000                   DATA FOR SOURCE-LINE 7968
19961 00003CA4 00000000                   DATA FOR SOURCE-LINE 7971
19962 00003CA8 00000000                   DATA FOR SOURCE-LINE 7982
19963                                     ***** END-POOL *****
19964 00003CAC                   8002     EXQ_PROC_STEPRECOVER_100:
19965                            8003     
19966 00003CAC D105              8004             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19967 00003CAE 6011              8005             MOV.W   @R1,R0                          ;
19968 00003CB0 C804              8006             TST     #_DMATH_DNDRIV,R0               ;
19969                            8007             TST_BIT_ON EXQ_PROC_STEPRECOVER_150     ;
19970 00003CB2 8B0D                   M           BF      EXQ_PROC_STEPRECOVER_150
19971                            8008     
19972                            8009             FAR_JSR #_EMG_POS_FLG_PROC,R0           ;振り子以外なら非常停止と同じ処理でいい
19973 00003CB4 D004                   M           MOV.L   #_EMG_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19974 00003CB6 400B                   M           JSR     @R0                     ;
19975 00003CB8 0009                   M           NOP                                     ;
19976                            8010             FAR_JSR #_EMG_CTL_FLG_PROC,R0           ;
19977 00003CBA D004                   M           MOV.L   #_EMG_CTL_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19978 00003CBC 400B                   M           JSR     @R0                     ;
19979 00003CBE 0009                   M           NOP                                     ;
19980                            8011             M_BRA   EXQ_PROC_STEPRECOVER_180        ;
19981 00003CC0 A00C                   M           BRA     EXQ_PROC_STEPRECOVER_180
19982 00003CC2 0009                   M           NOP
19983                            8012     
19984                                     ***** BEGIN-POOL *****
19985 00003CC4 00000000                   DATA FOR SOURCE-LINE 8004
19986 00003CC8 00000000                   DATA FOR SOURCE-LINE 8009
19987 00003CCC 00000000                   DATA FOR SOURCE-LINE 8010
19988                                     ***** END-POOL *****
19989 00003CD0                   8013     EXQ_PROC_STEPRECOVER_150:
19990                            8014             FAR_JSR #_DNM_CYCLE_END,R0              ;
19991 00003CD0 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   250
PROGRAM NAME =

19992 00003CD2 400B                   M           JSR     @R0                     ;
19993 00003CD4 0009                   M           NOP                                     ;
19994                            8015             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
19995 00003CD6 D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19996 00003CD8 400B                   M           JSR     @R0                     ;
19997 00003CDA 0009                   M           NOP                                     ;
19998 00003CDC                   8016     EXQ_PROC_STEPRECOVER_180:
19999                            8017             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20000 00003CDC D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20001 00003CDE 400B                   M           JSR     @R0                     ;
20002 00003CE0 0009                   M           NOP                                     ;
20003                            8018     
20004                            8019     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20005 00003CE2 D108              8020             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20006 00003CE4 6011              8021             MOV.W   @R1,R0                          ;
20007 00003CE6 7001              8022             ADD     #1,R0                           ;
20008 00003CE8 2101              8023             MOV.W   R0,@R1                          ;
20009                            8024     
20010 00003CEA E402              8025             MOV.B   #BIT1,R4
20011 00003CEC D106              8026             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20012 00003CEE 6011              8027             MOV.W   @R1,R0
20013 00003CF0 204A              8028             XOR     R4,R0
20014 00003CF2 2101              8029             MOV.W   R0,@R1
20015                            8030     ;       ------ﾃﾞﾊﾞｯｸ--------
20016                            8031             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20017 00003CF4 A030                   M           BRA     EXQ_PROC_STEPRECOVER_END
20018 00003CF6 0009                   M           NOP
20019                            8032     
20020                            8033     
20021                            8034     ;       ==============================================
20022                                     ***** BEGIN-POOL *****
20023 00003CF8 00000000                   DATA FOR SOURCE-LINE 8014
20024 00003CFC 00000000                   DATA FOR SOURCE-LINE 8015
20025 00003D00 00000000                   DATA FOR SOURCE-LINE 8017
20026 00003D04 00000000                   DATA FOR SOURCE-LINE 8020
20027 00003D08 00000000                   DATA FOR SOURCE-LINE 8026
20028                                     ***** END-POOL *****
20029 00003D0C                   8035     EXQ_PROC_STEPRECOVER_END1       ;
20030                            8036             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20031 00003D0C A024                   M           BRA     EXQ_PROC_STEPRECOVER_END
20032 00003D0E 0009                   M           NOP
20033                            8037     
20034                            8038     
20035                            8039     ;       ---------------------途中行程-----------------------
20036 00003D10                   8040     EXQ_PROC_STEPRECOVER_200:                       ;NO!
20037                            8041     
20038 00003D10 D109              8042             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;[HANDｼｪｲｸ中]
20039 00003D12 6011              8043             MOV.W   @R1,R0                          ;
20040 00003D14 2008              8044             TST     R0,R0                           ;
20041                            8045             TST_BIT_OF EXQ_PROC_STEPRECOVER_END     ;
20042 00003D16 891F                   M           BT      EXQ_PROC_STEPRECOVER_END
20043                            8046     
20044 00003D18 6151              8047             MOV.W   @R5,R1                          ;CPUA(自分)
20045 00003D1A 6261              8048             MOV.W   @R6,R2                          ;CPUB 2BYTE
20046                            8049     
20047                            8050     
20048 00003D1C 3216              8051             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   251
PROGRAM NAME =

20049 00003D1E 8911              8052             BT      EXQ_PROC_STEPRECOVER_250        ;YES
20050                            8053     
20051                            8054     
20052 00003D20 D106              8055             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20053 00003D22 6011              8056             MOV.W   @R1,R0                          ;
20054 00003D24 7001              8057             ADD     #1,R0                           ;
20055 00003D26 2101              8058             MOV.W   R0,@R1                          ;
20056                            8059     
20057 00003D28 E408              8060             MOV.B   #BIT3,R4
20058 00003D2A D105              8061             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20059 00003D2C 6011              8062             MOV.W   @R1,R0
20060 00003D2E 204A              8063             XOR     R4,R0
20061 00003D30 2101              8064             MOV.W   R0,@R1
20062                            8065             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20063 00003D32 A011                   M           BRA     EXQ_PROC_STEPRECOVER_END
20064 00003D34 0009                   M           NOP
20065                            8066     
20066                            8067     
20067                            8068     ;       ------------- 行程変更実地
20068                                     ***** BEGIN-POOL *****
20069 00003D36 0000                       ALIGNMENT CODE
20070 00003D38 00000000                   DATA FOR SOURCE-LINE 8042
20071 00003D3C 00000000                   DATA FOR SOURCE-LINE 8055
20072 00003D40 00000000                   DATA FOR SOURCE-LINE 8061
20073                                     ***** END-POOL *****
20074 00003D44                   8069     EXQ_PROC_STEPRECOVER_250:                       ;NO!
20075 00003D44 2521              8070             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20076                            8071     
20077                            8072     ;       ------ 必要があれば目標位置演算-------------
20078                            8073     
20079 00003D46 D106              8074             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20080 00003D48 6011              8075             MOV.W   @R1,R0                          ;
20081 00003D4A 7001              8076             ADD     #1,R0                           ;
20082 00003D4C 2101              8077             MOV.W   R0,@R1                          ;
20083                            8078     
20084 00003D4E E404              8079             MOV.B   #BIT2,R4
20085 00003D50 D104              8080             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20086 00003D52 6011              8081             MOV.W   @R1,R0
20087 00003D54 204A              8082             XOR     R4,R0
20088 00003D56 2101              8083             MOV.W   R0,@R1
20089                            8084     
20090                            8085     
20091                            8086     
20092 00003D58                   8087     EXQ_PROC_STEPRECOVER_END:
20093                            8088     
20094                            8089             SUB_END
20095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20096 00003D58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20097                            8090             M_RTS
20098 00003D5A 000B                   M           RTS                             ;RTSの後ろの
20099 00003D5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20100                            8091     
20101                            8092     
20102                            8093     
20103                            8094     
20104                            8095             .IMPORT _DNM_CYCLE_END          ;
20105                            8096             .IMPORT _CYC_END_POS_FLG_CLR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   252
PROGRAM NAME =

20106                            8097     
20107                            8098     ;       *******************************************
20108                            8099     ;       ***     待機点かどうかのチェック        ***
20109                            8100     ;       *******************************************
20110                            8101     ;       ANS R0
20111                                     ***** BEGIN-POOL *****
20112 00003D5E 0000                       ALIGNMENT CODE
20113 00003D60 00000000                   DATA FOR SOURCE-LINE 8074
20114 00003D64 00000000                   DATA FOR SOURCE-LINE 8080
20115                                     ***** END-POOL *****
20116 00003D68                   8102     _RECOVER_WAIT_AREA_CHK:
20117                            8103             SUB_START
20118 00003D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
20119                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20120                            8104             PUSH_REG1 R1
20121 00003D6A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20122                                 M                                           ;REG=>[SP]
20123                                 M                                           ;"-4" FF,FF,FF,FC
20124                            8105             PUSH_REG1 R2
20125 00003D6C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20126                                 M                                           ;REG=>[SP]
20127                                 M                                           ;"-4" FF,FF,FF,FC
20128                            8106             PUSH_REG1 R3
20129 00003D6E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20130                                 M                                           ;REG=>[SP]
20131                                 M                                           ;"-4" FF,FF,FF,FC
20132                            8107             PUSH_REG1 R4
20133 00003D70 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20134                                 M                                           ;REG=>[SP]
20135                                 M                                           ;"-4" FF,FF,FF,FC
20136 00003D72 233A              8108             XOR     R3,R3                           ;ANS R3=0
20137                            8109     
20138 00003D74 D104              8110             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20139 00003D76 6011              8111             MOV.W   @R1,R0                          ;
20140 00003D78 C804              8112             TST     #_DMATH_DNDRIV,R0               ;
20141                            8113             TST_BIT_OF RECOVER_WAIT_AREACHK_100     ;
20142 00003D7A 8909                   M           BT      RECOVER_WAIT_AREACHK_100
20143                            8114     
20144                            8115              .AIF   1 EQ 1  ;
20145                            8116 C   ;       -------- 2016-10-31 ADD 二重回路対策
20146                            8117              .AENDI
20147                            8118     
20148                            8119     ;;;信号変更 2016-10-31
20149 00003D7C D103              8120             MOV.L   #_DNM_RST_SPEC_AREASIG,R1
20150 00003D7E 6011              8121             MOV.W   @R1,R0                          ;
20151 00003D80 C801              8122             TST     #BIT0,R0
20152                            8123             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
20153 00003D82 8B0D                   M           BF      RECOVER_WAIT_AREACHK_200
20154                            8124     
20155                            8125     ;;;信号変更     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1
20156                            8126     ;;;信号変更     MOV.W   @R1,R0                          ;
20157                            8127     ;;;信号変更     MOV.W   #BIT7,R4                        ;
20158                            8128     ;;;信号変更     TST     R4,R0                           ;
20159                            8129     ;;;信号変更     TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
20160                            8130     
20161                            8131     ;;;;記述ミス    MOV.L   #_M_LINK_AREASIG,R4             ;
20162                            8132     ;;;;記述ミス    MOV.W   @R4,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   253
PROGRAM NAME =

20163                            8133     ;;;;記述ミス    TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
20164                            8134             M_BRA   RECOVER_WAIT_AREACHK_END
20165 00003D84 A00D                   M           BRA     RECOVER_WAIT_AREACHK_END
20166 00003D86 0009                   M           NOP
20167                            8135     
20168                                     ***** BEGIN-POOL *****
20169 00003D88 00000000                   DATA FOR SOURCE-LINE 8110
20170 00003D8C 00000000                   DATA FOR SOURCE-LINE 8120
20171                                     ***** END-POOL *****
20172 00003D90                   8136     RECOVER_WAIT_AREACHK_100
20173 00003D90 D402              8137             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲(ふりこでは使えない
                                          )
20174 00003D92 6041              8138             MOV.W   @R4,R0                          ;
20175 00003D94 C810              8139             TST     #BIT4,R0                        ;
20176                            8140             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
20177 00003D96 8B03                   M           BF      RECOVER_WAIT_AREACHK_200
20178                            8141             M_BRA   RECOVER_WAIT_AREACHK_END
20179 00003D98 A003                   M           BRA     RECOVER_WAIT_AREACHK_END
20180 00003D9A 0009                   M           NOP
20181                            8142     
20182                            8143     
20183                                     ***** BEGIN-POOL *****
20184 00003D9C 00000000                   DATA FOR SOURCE-LINE 8137
20185                                     ***** END-POOL *****
20186 00003DA0                   8144     RECOVER_WAIT_AREACHK_200
20187 00003DA0 E301              8145             MOV.B   #BIT0,R3
20188 00003DA2                   8146     RECOVER_WAIT_AREACHK_END
20189 00003DA2 6033              8147             MOV     R3,R0                           ;ANS R0=0 R0=BIT0(待機点範囲)
20190                            8148             POP_REG1 R4
20191                                 M                                   ; RE"+4" 00,00,00,04
20192 00003DA4 64F6                   M           MOV.L   @R15+,R4        ;
20193                            8149             POP_REG1 R3
20194                                 M                                   ; RE"+4" 00,00,00,04
20195 00003DA6 63F6                   M           MOV.L   @R15+,R3        ;
20196                            8150             POP_REG1 R2
20197                                 M                                   ; RE"+4" 00,00,00,04
20198 00003DA8 62F6                   M           MOV.L   @R15+,R2        ;
20199                            8151             POP_REG1 R1
20200                                 M                                   ; RE"+4" 00,00,00,04
20201 00003DAA 61F6                   M           MOV.L   @R15+,R1        ;
20202                            8152     
20203                            8153             SUB_END
20204                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20205 00003DAC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20206                            8154             M_RTS
20207 00003DAE 000B                   M           RTS                             ;RTSの後ろの
20208 00003DB0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20209                            8155     
20210                            8156     
20211                            8157     ;       *******************************************
20212                            8158     ;       ***                                     ***
20213                            8159     ;       ***                                     ***
20214                            8160     ;       ***     2016-10-31(2016-06-21)          ***
20215                            8161     ;       ***                                     ***
20216                            8162     ;       *******************************************
20217                            8163              .AIF   1 EQ 1  ;
20218                            8164 C   ;       -------- 2016-10-31 ADD 二重回路対策
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   254
PROGRAM NAME =

20219                            8165              .AENDI
20220                            8166     
20221 00003DB2                   8167     _DNM_OBJ_AREA_SIG2:             ;振り子の場合の目標の待機点信号
20222                            8168             SUB_START
20223 00003DB2 4F22                   M           STS.L   PR,@-R15                ;[必要]
20224                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20225                            8169     
20226 00003DB4 D10C              8170             MOV.L   #_MODE_SEL,R1                           ;
20227 00003DB6 6011              8171             MOV.W   @R1,R0                                  ;
20228 00003DB8 C81E              8172             TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
20229                            8173             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;
20230 00003DBA 893D                   M           BT      DNMOBJ_ARASIG2_150
20231                            8174     
20232 00003DBC D10B              8175             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20233 00003DBE 6011              8176             MOV.W   @R1,R0                                  ;
20234 00003DC0 C804              8177             TST     #_DMATH_DNDRIV,R0                       ;
20235                            8178             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;ふりこじゃない
20236 00003DC2 8939                   M           BT      DNMOBJ_ARASIG2_150
20237                            8179     
20238 00003DC4 D10A              8180             MOV.L   #_BRKTST_SW_IN,R1                       ;
20239 00003DC6 6011              8181             MOV.W   @R1,R0                                  ;
20240 00003DC8 C801              8182             TST     #BIT0,R0                                ;
20241                            8183             TST_BIT_ON DNMOBJ_ARASIG2_150                   ;
20242 00003DCA 8B35                   M           BF      DNMOBJ_ARASIG2_150
20243                            8184     
20244 00003DCC D409              8185             MOV.L   #_DNM_SETX_LINK_UP_POS_DN,R4            ;ﾘﾝｸ(範囲比較)
20245 00003DCE 6141              8186             MOV.W   @R4,R1                                  ;待機点-α
20246 00003DD0 D409              8187             MOV.L   #_DNM_SETX_LINK_UP_POS_UP,R4            ;
20247 00003DD2 6341              8188             MOV.W   @R4,R3                                  ;待機点+α
20248 00003DD4 D409              8189             MOV.L   #_INC_ENC360,R4                         ;PG
20249 00003DD6 6241              8190             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
20250                            8191             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
20251 00003DD8 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20252 00003DDA 400B                   M           JSR     @R0                     ;
20253 00003DDC 0009                   M           NOP                                     ;
20254 00003DDE 4511              8192             CMP/PZ  R5                                      ;
20255 00003DE0 8B10              8193             BF      DNMOBJ_ARASIG2_100                      ;
20256                            8194             M_BRA   DNMOBJ_ARASIG2_120_SET
20257 00003DE2 A019                   M           BRA     DNMOBJ_ARASIG2_120_SET
20258 00003DE4 0009                   M           NOP
20259                            8195     
20260                            8196     
20261                                     ***** BEGIN-POOL *****
20262 00003DE6 0000                       ALIGNMENT CODE
20263 00003DE8 00000000                   DATA FOR SOURCE-LINE 8170
20264 00003DEC 00000000                   DATA FOR SOURCE-LINE 8175
20265 00003DF0 00000000                   DATA FOR SOURCE-LINE 8180
20266 00003DF4 00000000                   DATA FOR SOURCE-LINE 8185
20267 00003DF8 00000000                   DATA FOR SOURCE-LINE 8187
20268 00003DFC 00000000                   DATA FOR SOURCE-LINE 8189
20269 00003E00 00000000                   DATA FOR SOURCE-LINE 8191
20270                                     ***** END-POOL *****
20271 00003E04                   8197     DNMOBJ_ARASIG2_100:
20272 00003E04 D407              8198             MOV.L   #_SETX_LINK_UP_POS_DN,R4                ;ﾘﾝｸ(範囲比較)
20273 00003E06 6141              8199             MOV.W   @R4,R1                                  ;待機点-α
20274 00003E08 D407              8200             MOV.L   #_SETX_LINK_UP_POS_UP,R4                ;
20275 00003E0A 6341              8201             MOV.W   @R4,R3                                  ;待機点+α
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   255
PROGRAM NAME =

20276 00003E0C D407              8202             MOV.L   #_INC_ENC360,R4                         ;PG
20277 00003E0E 6241              8203             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
20278                            8204             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
20279 00003E10 D007                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20280 00003E12 400B                   M           JSR     @R0                     ;
20281 00003E14 0009                   M           NOP                                     ;
20282 00003E16 8B0F              8205             BF      DNMOBJ_ARASIG2_150                      ;
20283 00003E18                   8206     DNMOBJ_ARASIG2_120_SET:
20284                            8207     
20285                            8208             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
20286 00003E18 D106                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
20287 00003E1A 6011                   M           MOV.W   @R1,R0          ;
20288 00003E1C CB01                   M           OR      #(BIT0),R0              ;
20289 00003E1E 2101                   M           MOV.W   R0,@R1          ;
20290                            8209             M_BRA   DNMOBJ_ARASIG2_200
20291 00003E20 A00E                   M           BRA     DNMOBJ_ARASIG2_200
20292 00003E22 0009                   M           NOP
20293                            8210     
20294                                     ***** BEGIN-POOL *****
20295 00003E24 00000000                   DATA FOR SOURCE-LINE 8198
20296 00003E28 00000000                   DATA FOR SOURCE-LINE 8200
20297 00003E2C 00000000                   DATA FOR SOURCE-LINE 8202
20298 00003E30 00000000                   DATA FOR SOURCE-LINE 8204
20299 00003E34 00000000                   DATA FOR SOURCE-LINE 8208
20300                                     ***** END-POOL *****
20301 00003E38                   8211     DNMOBJ_ARASIG2_150:
20302                            8212     
20303                            8213             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(~BIT0),WKREG=R1    ;
20304 00003E38 D103                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
20305 00003E3A 6011                   M           MOV.W   @R1,R0          ;
20306 00003E3C C9FE                   M           AND     #LOW (~BIT0),R0         ;
20307 00003E3E 2101                   M           MOV.W   R0,@R1          ;
20308                            8214     
20309 00003E40                   8215     DNMOBJ_ARASIG2_200:
20310                            8216     
20311                            8217             SUB_END
20312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20313 00003E40 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20314                            8218             M_RTS
20315 00003E42 000B                   M           RTS                             ;RTSの後ろの
20316 00003E44 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20317                            8219     
20318                            8220     
20319                            8221     
20320                            8222     ;       *******************************************
20321                            8223     ;       ***                                     ***
20322                            8224     ;       ***     EXQ発生時　ﾊﾝﾄﾞｼｪｲｸ中かﾁｪｯｸ     ***
20323                            8225     ;       ***     2016-01-10[]                    ***
20324                            8226     ;       ***     2016-04-15                      ***
20325                            8227     ;       *******************************************
20326                            8228             .EXPORT _API_EXQ_STEP_STS_GET
20327                                     ***** BEGIN-POOL *****
20328 00003E46 0000                       ALIGNMENT CODE
20329 00003E48 00000000                   DATA FOR SOURCE-LINE 8213
20330                                     ***** END-POOL *****
20331 00003E4C                   8229     _API_EXQ_STEP_STS_GET
20332                            8230             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   256
PROGRAM NAME =

20333 00003E4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20334                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20335                            8231     
20336 00003E4E D106              8232             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
20337 00003E50 6011              8233             MOV.W   @R1,R0                          ;
20338 00003E52 2008              8234             TST     R0,R0                           ;
20339                            8235             TST_BIT_ON API_EXQ_STEP_STSGET_EXT      ;
20340 00003E54 8B05                   M           BF      API_EXQ_STEP_STSGET_EXT
20341 00003E56 E001              8236             MOV.B   #BIT0,R0                        ;
20342 00003E58 2101              8237             MOV.W   R0,@R1                          ;
20343                            8238     
20344 00003E5A D104              8239             MOV.L   #_CMPSTEP_STEP_END,R1   ;(HAND)
20345 00003E5C 6011              8240             MOV.W   @R1,R0                          ;
20346 00003E5E D104              8241             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
20347 00003E60 2101              8242             MOV.W   R0,@R1                          ;
20348                            8243     
20349                            8244     
20350 00003E62                   8245     API_EXQ_STEP_STSGET_EXT
20351                            8246     
20352                            8247             SUB_END
20353                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20354 00003E62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20355                            8248             M_RTS
20356 00003E64 000B                   M           RTS                             ;RTSの後ろの
20357 00003E66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20358                            8249     
20359                            8250     
20360                            8251     ;       *******************************************
20361                            8252     ;       ***                                     ***
20362                            8253     ;       ***     クリア                          ***
20363                            8254     ;       ***     2016-01-10                      ***
20364                            8255     ;       *******************************************
20365                            8256             .EXPORT _API_EXQ_STEP_FLGCLR
20366                                     ***** BEGIN-POOL *****
20367 00003E68 00000000                   DATA FOR SOURCE-LINE 8232
20368 00003E6C 00000000                   DATA FOR SOURCE-LINE 8239
20369 00003E70 00000000                   DATA FOR SOURCE-LINE 8241
20370                                     ***** END-POOL *****
20371 00003E74                   8257     _API_EXQ_STEP_FLGCLR
20372                            8258             SUB_START
20373 00003E74 4F22                   M           STS.L   PR,@-R15                ;[必要]
20374                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20375 00003E76 200A              8259             XOR     R0,R0
20376 00003E78 D103              8260             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
20377 00003E7A 2101              8261             MOV.W   R0,@R1                          ;
20378 00003E7C D103              8262             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
20379 00003E7E 2101              8263             MOV.W   R0,@R1                          ;
20380                            8264     
20381                            8265             SUB_END
20382                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20383 00003E80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20384                            8266             M_RTS
20385 00003E82 000B                   M           RTS                             ;RTSの後ろの
20386 00003E84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20387                            8267     
20388                            8268     ;       *******************************************
20389                            8269     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   257
PROGRAM NAME =

20390                            8270     ;       ***     リセット処理                    ***
20391                            8271     ;       ***     2016-10-31(2016-05-11)          ***
20392                            8272     ;       ***                                     ***
20393                            8273     ;       *******************************************
20394                            8274              .AIF   1 EQ 1  ;
20395                            8275 C   ;       -------- 2016-10-31 ADD 二重回路対策
20396                            8276              .AENDI
20397                                     ***** BEGIN-POOL *****
20398 00003E86 0000                       ALIGNMENT CODE
20399 00003E88 00000000                   DATA FOR SOURCE-LINE 8260
20400 00003E8C 00000000                   DATA FOR SOURCE-LINE 8262
20401                                     ***** END-POOL *****
20402 00003E90                   8277     _POSCTRL_CANSEL_RESET:
20403                            8278             SUB_START
20404 00003E90 4F22                   M           STS.L   PR,@-R15                ;[必要]
20405                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20406 00003E92 D10E              8279             MOV.L   #_POSCANSEL_CMD,R1              ;
20407 00003E94 6011              8280             MOV.W   @R1,R0                          ;
20408 00003E96 2008              8281             TST     R0,R0                           ;
20409                            8282             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20410 00003E98 8913                   M           BT      POSCTRL_CANSEL_RST_EXT
20411                            8283     
20412 00003E9A D10D              8284             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
20413 00003E9C 6011              8285             MOV.W   @R1,R0                          ;
20414 00003E9E 9413              8286             MOV.W   #BIT11,R4                       ;
20415 00003EA0 2048              8287             TST     R4,R0                           ;指令OFF
20416                            8288             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;
20417 00003EA2 8B0E                   M           BF      POSCTRL_CANSEL_RST_EXT
20418                            8289     
20419 00003EA4 D10B              8290             MOV.L   #_di1_cb_ctl1_dt,R1             ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼ
                                          ｰｹﾝｽがﾘｾｯﾄでｸﾘｱするため)
20420 00003EA6 6011              8291             MOV.W   @R1,R0                          ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFし
                                          ない)
20421 00003EA8 940F              8292             MOV.W   #_W1RST,R4                      ;ﾘｾｯﾄ釦
20422 00003EAA 2048              8293             TST     R4,R0                           ;ONｴｯｼﾞ
20423                            8294             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20424 00003EAC 8909                   M           BT      POSCTRL_CANSEL_RST_EXT
20425                            8295     
20426 00003EAE 200A              8296             XOR     R0,R0                           ;
20427 00003EB0 D106              8297             MOV.L   #_POSCANSEL_CMD,R1              ;
20428 00003EB2 2101              8298             MOV.W   R0,@R1                          ;
20429                            8299     
20430 00003EB4 D108              8300             MOV.L   #_reset_flg,R1                  ;
20431 00003EB6 6011              8301             MOV.W   @R1,R0                          ;
20432 00003EB8 2008              8302             TST     R0,R0                           ;
20433                            8303             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;EXQ,EMG
20434 00003EBA 8B02                   M           BF      POSCTRL_CANSEL_RST_EXT
20435                            8304     
20436                            8305             FAR_JSR #_POSCAN_PROC_STEP_RECOVER,R0   ;
20437 00003EBC D007                   M           MOV.L   #_POSCAN_PROC_STEP_RECOVER,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20438 00003EBE 400B                   M           JSR     @R0                     ;
20439 00003EC0 0009                   M           NOP                                     ;
20440                            8306     
20441                            8307     
20442 00003EC2                   8308     POSCTRL_CANSEL_RST_EXT:
20443                            8309     
20444                            8310             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   258
PROGRAM NAME =

20445                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20446 00003EC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20447                            8311             M_RTS
20448 00003EC4 000B                   M           RTS                             ;RTSの後ろの
20449 00003EC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20450                            8312     
20451                            8313     
20452                            8314     
20453                            8315     ;       *******************************************
20454                            8316     ;       ***                                     ***
20455                            8317     ;       ***                                     ***
20456                            8318     ;       ***                                     ***
20457                            8319     ;       ***     EXQ,遮光による行程違いのRECOVER ***
20458                            8320     ;       ***     2016-10-31                      ***
20459                            8321     ;       ***                                     ***
20460                            8322     ;       ***                                     ***
20461                            8323     ;       *******************************************
20462                            8324     ;       リセット時に行う
20463                            8325     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
20464                            8326     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
20465                            8327     ;       このリカバーはハンドシェイク時のみのリカバーとする
20466                            8328              .AIF   1 EQ 1  ;
20467                            8329 C   ;       -------- 2016-10-31 ADD 二重回路対策
20468                            8330              .AENDI
20469                            8331     
20470                            8332     
20471                                     ***** BEGIN-POOL *****
20472 00003EC8 0800                       DATA FOR SOURCE-LINE 8286
20473 00003ECA 8000                       DATA FOR SOURCE-LINE 8292
20474 00003ECC 00000000                   DATA FOR SOURCE-LINE 8279,8297
20475 00003ED0 00000000                   DATA FOR SOURCE-LINE 8284
20476 00003ED4 00000000                   DATA FOR SOURCE-LINE 8290
20477 00003ED8 00000000                   DATA FOR SOURCE-LINE 8300
20478 00003EDC 00000000                   DATA FOR SOURCE-LINE 8305
20479                                     ***** END-POOL *****
20480 00003EE0                   8333     _POSCAN_PROC_STEP_RECOVER:
20481                            8334             SUB_START
20482 00003EE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20483                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20484                            8335     
20485                            8336     
20486 00003EE2 D115              8337             MOV.L   #_MODE_SEL,R1                           ;
20487 00003EE4 6011              8338             MOV.W   @R1,R0                                  ;
20488                            8339     
20489 00003EE6 9426              8340             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
20490 00003EE8 2048              8341             TST     R4,R0                                   ;
20491                            8342             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1
20492 00003EEA 8953                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20493                            8343     
20494 00003EEC D113              8344             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20495 00003EEE 6011              8345             MOV.W   @R1,R0                                  ;
20496 00003EF0 C805              8346             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
20497                            8347             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;
20498 00003EF2 894F                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20499                            8348     
20500                            8349     
20501                            8350     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   259
PROGRAM NAME =

20502 00003EF4 D112              8351             MOV.L   #_EXQ_LT_PROC_CNT1,R1
20503 00003EF6 6011              8352             MOV.W   @R1,R0
20504 00003EF8 7001              8353             ADD     #1,R0
20505 00003EFA 2101              8354             MOV.W   R0,@R1
20506                            8355     
20507 00003EFC E401              8356             MOV.B   #BIT0,R4
20508 00003EFE D111              8357             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20509 00003F00 6011              8358             MOV.W   @R1,R0
20510 00003F02 204A              8359             XOR     R4,R0
20511 00003F04 2101              8360             MOV.W   R0,@R1
20512                            8361     
20513                            8362     
20514                            8363     ;---------------------------------------------------------
20515                            8364     ;切替条件
20516                            8365     ;       (1)R1:自分が0(emg)でない
20517                            8366     ;       (1)R2:相手も0(emg)でない
20518                            8367     ;         (2-1)自分が最終行程の場合
20519                            8368     ;               (3-1)待機点範囲の場合
20520                            8369     ;                       相手CPUが0または1の場合　
20521                            8370     ;                       自分はEMG処理相当を行う(行程1からはじめる)
20522                            8371     ;               (3-2)待機点範囲でない場合:演算しない
20523                            8372     ;         (2-2)自分が最終行程でない場合
20524                            8373     ;               自分<相手であれば行程を入れ替える
20525                            8374     
20526                            8375             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
20527 00003F06 D010                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20528 00003F08 400B                   M           JSR     @R0                     ;
20529 00003F0A 0009                   M           NOP                                     ;
20530 00003F0C 6303              8376             MOV     R0,R3                           ;R3!=0:待機点
20531                            8377     
20532 00003F0E D50F              8378             MOV.L   #_SV_POS_CTL_STEP,R5            ;
20533 00003F10 6151              8379             MOV.W   @R5,R1                          ;自分
20534                            8380             .AIF    0 EQ    0
20535 00003F12 D60F              8381 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
20536                            8382             .AELSE
20537                            8383             MOV.L   #_CPUA_SV_STEP,R6               ;
20538                            8384             .AENDI
20539 00003F14 6261              8385             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
20540 00003F16 2118              8386             TST     R1,R1                           ;CPUA(自分)
20541                            8387             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;[次の工程は１行程から行う]
20542 00003F18 893C                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20543                            8388     
20544 00003F1A 2338              8389             TST     R3,R3                           ;待機点？
20545                            8390             TST_BIT_OF POSCAN_PROCSTEPRECOVER_200   ;NO!
20546 00003F1C 893C                   M           BT      POSCAN_PROCSTEPRECOVER_200
20547                            8391     
20548 00003F1E D40D              8392             MOV.L   #_CPOS_STEP_MAX,R4              ;
20549 00003F20 6041              8393             MOV.W   @R4,R0                          ;
20550 00003F22 7001              8394             ADD     #1,R0                           ;
20551 00003F24 3010              8395             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
20552 00003F26 8B35              8396             BF      POSCAN_PROCSTEPRECOVER_END1     ;NO!(待機点だが最終ステップではない)
20553                            8397     
20554                            8398     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
20555 00003F28 E001              8399             MOV.B   #1,R0                           ;
20556 00003F2A 2228              8400             TST     R2,R2                           ;
20557                            8401             TST_BIT_OF POSCAN_PROCSTEPRECOVER_100   ;(R2=0:次の工程は0から YES:EMG)
20558 00003F2C 8914                   M           BT      POSCAN_PROCSTEPRECOVER_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   260
PROGRAM NAME =

20559                            8402     
20560 00003F2E 3200              8403             CMP/EQ  R0,R2                           ;
20561 00003F30 8912              8404             BT      POSCAN_PROCSTEPRECOVER_100      ;相手CPU=1です
20562                            8405             M_BRA   POSCAN_PROCSTEPRECOVER_END1     ;
20563 00003F32 A02F                   M           BRA     POSCAN_PROCSTEPRECOVER_END1
20564 00003F34 0009                   M           NOP
20565                            8406     
20566                            8407     ;
20567                            8408     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
20568                            8409     ;待機点での方向変更処理が必要
20569                            8410     ;       「EMGと同じ処理」
20570                                     ***** BEGIN-POOL *****
20571 00003F36 001E                       DATA FOR SOURCE-LINE 8340
20572 00003F38 00000000                   DATA FOR SOURCE-LINE 8337
20573 00003F3C 00000000                   DATA FOR SOURCE-LINE 8344
20574 00003F40 00000000                   DATA FOR SOURCE-LINE 8351
20575 00003F44 00000000                   DATA FOR SOURCE-LINE 8357
20576 00003F48 00000000                   DATA FOR SOURCE-LINE 8375
20577 00003F4C 00000000                   DATA FOR SOURCE-LINE 8378
20578 00003F50 00000000                   DATA FOR SOURCE-LINE 8381
20579 00003F54 00000000                   DATA FOR SOURCE-LINE 8392
20580                                     ***** END-POOL *****
20581 00003F58                   8411     POSCAN_PROCSTEPRECOVER_100:
20582                            8412             FAR_JSR #_DNM_CYCLE_END,R0              ;
20583 00003F58 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20584 00003F5A 400B                   M           JSR     @R0                     ;
20585 00003F5C 0009                   M           NOP                                     ;
20586                            8413             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20587 00003F5E D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20588 00003F60 400B                   M           JSR     @R0                     ;
20589 00003F62 0009                   M           NOP                                     ;
20590                            8414             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20591 00003F64 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20592 00003F66 400B                   M           JSR     @R0                     ;
20593 00003F68 0009                   M           NOP                                     ;
20594                            8415     
20595                            8416     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20596 00003F6A D108              8417             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20597 00003F6C 6011              8418             MOV.W   @R1,R0                          ;
20598 00003F6E 7001              8419             ADD     #1,R0                           ;
20599 00003F70 2101              8420             MOV.W   R0,@R1                          ;
20600                            8421     
20601 00003F72 E402              8422             MOV.B   #BIT1,R4
20602 00003F74 D106              8423             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20603 00003F76 6011              8424             MOV.W   @R1,R0
20604 00003F78 204A              8425             XOR     R4,R0
20605 00003F7A 2101              8426             MOV.W   R0,@R1
20606                            8427     ;       ------ﾃﾞﾊﾞｯｸ--------
20607                            8428             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20608 00003F7C A033                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20609 00003F7E 0009                   M           NOP
20610                            8429     
20611                            8430     
20612                            8431     ;       ==============================================
20613                                     ***** BEGIN-POOL *****
20614 00003F80 00000000                   DATA FOR SOURCE-LINE 8412
20615 00003F84 00000000                   DATA FOR SOURCE-LINE 8413
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   261
PROGRAM NAME =

20616 00003F88 00000000                   DATA FOR SOURCE-LINE 8414
20617 00003F8C 00000000                   DATA FOR SOURCE-LINE 8417
20618 00003F90 00000000                   DATA FOR SOURCE-LINE 8423
20619                                     ***** END-POOL *****
20620 00003F94                   8432     POSCAN_PROCSTEPRECOVER_END1     ;
20621                            8433             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20622 00003F94 A027                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20623 00003F96 0009                   M           NOP
20624                            8434     
20625                            8435     
20626                            8436     ;       ---------------------途中行程-----------------------
20627 00003F98                   8437     POSCAN_PROCSTEPRECOVER_200:                     ;NO!
20628 00003F98 6151              8438             MOV.W   @R5,R1                          ;CPUA(自分)
20629 00003F9A 6261              8439             MOV.W   @R6,R2                          ;CPUB 2BYTE
20630                            8440     
20631 00003F9C 3216              8441             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20632 00003F9E 890F              8442             BT      POSCAN_PROCSTEPRECOVER_250      ;YES
20633                            8443     
20634                            8444     
20635 00003FA0 D105              8445             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20636 00003FA2 6011              8446             MOV.W   @R1,R0                          ;
20637 00003FA4 7001              8447             ADD     #1,R0                           ;
20638 00003FA6 2101              8448             MOV.W   R0,@R1                          ;
20639                            8449     
20640 00003FA8 E408              8450             MOV.B   #BIT3,R4
20641 00003FAA D104              8451             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20642 00003FAC 6011              8452             MOV.W   @R1,R0
20643 00003FAE 204A              8453             XOR     R4,R0
20644 00003FB0 2101              8454             MOV.W   R0,@R1
20645                            8455             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20646 00003FB2 A018                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20647 00003FB4 0009                   M           NOP
20648                            8456     
20649                            8457     
20650                            8458     ;       ------------- 行程変更実地
20651                                     ***** BEGIN-POOL *****
20652 00003FB6 0000                       ALIGNMENT CODE
20653 00003FB8 00000000                   DATA FOR SOURCE-LINE 8445
20654 00003FBC 00000000                   DATA FOR SOURCE-LINE 8451
20655                                     ***** END-POOL *****
20656 00003FC0                   8459     POSCAN_PROCSTEPRECOVER_250:                     ;NO!
20657                            8460     ;       -------2016-07-16---------------
20658                            8461             PUSH_REG1 R2
20659 00003FC0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20660                                 M                                           ;REG=>[SP]
20661                                 M                                           ;"-4" FF,FF,FF,FC
20662                            8462             PUSH_REG1 R5
20663 00003FC2 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20664                                 M                                           ;REG=>[SP]
20665                                 M                                           ;"-4" FF,FF,FF,FC
20666                            8463             FAR_JSR #_ROT_CNTMODE_CHK,R0
20667 00003FC4 D009                   M           MOV.L   #_ROT_CNTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20668 00003FC6 400B                   M           JSR     @R0                     ;
20669 00003FC8 0009                   M           NOP                                     ;
20670                            8464             POP_REG1 R5
20671                                 M                                   ; RE"+4" 00,00,00,04
20672 00003FCA 65F6                   M           MOV.L   @R15+,R5        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   262
PROGRAM NAME =

20673                            8465             POP_REG1 R2
20674                                 M                                   ; RE"+4" 00,00,00,04
20675 00003FCC 62F6                   M           MOV.L   @R15+,R2        ;
20676                            8466     ;       -------------------------------
20677                            8467     
20678 00003FCE 2008              8468             TST     R0,R0
20679                            8469             TST_BIT_ON POSCAN_PROCSTEPRECOVER_END   ;
20680 00003FD0 8B09                   M           BF      POSCAN_PROCSTEPRECOVER_END
20681                            8470     
20682 00003FD2 2521              8471             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20683                            8472     
20684                            8473     ;       ------ 必要があれば目標位置演算-------------
20685 00003FD4 D106              8474             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20686 00003FD6 6011              8475             MOV.W   @R1,R0                          ;
20687 00003FD8 7001              8476             ADD     #1,R0                           ;
20688 00003FDA 2101              8477             MOV.W   R0,@R1                          ;
20689                            8478     
20690 00003FDC E404              8479             MOV.B   #BIT2,R4
20691 00003FDE D105              8480             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20692 00003FE0 6011              8481             MOV.W   @R1,R0
20693 00003FE2 204A              8482             XOR     R4,R0
20694 00003FE4 2101              8483             MOV.W   R0,@R1
20695                            8484     
20696                            8485     
20697 00003FE6                   8486     POSCAN_PROCSTEPRECOVER_END:
20698                            8487     
20699                            8488             SUB_END
20700                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20701 00003FE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20702                            8489             M_RTS
20703 00003FE8 000B                   M           RTS                             ;RTSの後ろの
20704 00003FEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20705                            8490     
20706                                     ***** BEGIN-POOL *****
20707 00003FEC 00000000                   DATA FOR SOURCE-LINE 8463
20708 00003FF0 00000000                   DATA FOR SOURCE-LINE 8474
20709 00003FF4 00000000                   DATA FOR SOURCE-LINE 8480
20710                                     ***** END-POOL *****
20711 00003FF8                   8491     _ROT_CNTMODE_CHK:
20712                            8492             SUB_START
20713 00003FF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20714                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20715                            8493     
20716 00003FFA 9416              8494             MOV.W   #1,R4   ;
20717 00003FFC 3140              8495             CMP/EQ  R4,R1   ;自分はSTEP1
20718 00003FFE 8B1F              8496             BF      ROT_CNTMODCHK_100               ;変更可能(自分が1でない)
20719                            8497     
20720 00004000 D40B              8498             MOV.L   #_CPOS_STEP_MAX,R4              ;
20721 00004002 6041              8499             MOV.W   @R4,R0                          ;
20722 00004004 7001              8500             ADD     #1,R0                           ;
20723 00004006 3020              8501             CMP/EQ  R2,R0                           ;相手が最終行程
20724 00004008 8B1A              8502             BF      ROT_CNTMODCHK_100               ;変更可能(相手が最終ｽﾃｯﾌﾟではない)
20725                            8503     
20726 0000400A D10A              8504             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20727 0000400C 6011              8505             MOV.W   @R1,R0                          ;
20728 0000400E C801              8506             TST     #(_DMATH_CNTROT),R0             ;回転
20729                            8507             TST_BIT_OF ROT_CNTMODCHK_100            ;NO! 変更可能
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   263
PROGRAM NAME =

20730 00004010 8916                   M           BT      ROT_CNTMODCHK_100
20731                            8508     
20732                            8509     ;待機点Vﾓｰﾄﾞ
20733 00004012 D109              8510             MOV.L   #_SETX_POS_MOD_FLG1,R1          ;
20734 00004014 6011              8511             MOV.W   @R1,R0                          ;
20735 00004016 C905              8512             AND     #(BIT2+BIT0),R0                 ;
20736 00004018 8805              8513             CMP/EQ  #(BIT2+BIT0),R0                 ;
20737 0000401A 8B11              8514             BF      ROT_CNTMODCHK_100               ;回転,連続で待機点停止無し? NO
20738                            8515     
20739                            8516     
20740 0000401C D107              8517             MOV.L   #_LINK_CLANK_PV,R1              ;
20741 0000401E 6011              8518             MOV.W   @R1,R0                          ;
20742 00004020 9404              8519             MOV.W   #D'600,R4                       ;60.0
20743 00004022 3042              8520             CMP/HS  R4,R0                           ;
20744 00004024 890C              8521             BT      ROT_CNTMODCHK_100               ;60<ｸﾗﾝｸ角度が大きい
20745                            8522             M_BRA   ROT_CNTMODCHK_200               ;0~60度だ.
20746 00004026 A00E                   M           BRA     ROT_CNTMODCHK_200
20747 00004028 0009                   M           NOP
20748                            8523     
20749                                     ***** BEGIN-POOL *****
20750 0000402A 0001                       DATA FOR SOURCE-LINE 8494
20751 0000402C 0258                       DATA FOR SOURCE-LINE 8519
20752 0000402E 0000                       ALIGNMENT CODE
20753 00004030 00000000                   DATA FOR SOURCE-LINE 8498
20754 00004034 00000000                   DATA FOR SOURCE-LINE 8504
20755 00004038 00000000                   DATA FOR SOURCE-LINE 8510
20756 0000403C 00000000                   DATA FOR SOURCE-LINE 8517
20757                                     ***** END-POOL *****
20758 00004040                   8524     ROT_CNTMODCHK_100:
20759 00004040 200A              8525             XOR     R0,R0                   ;変更する
20760                            8526             M_BRA   ROT_CNTMODCHK_END       ;
20761 00004042 A001                   M           BRA     ROT_CNTMODCHK_END
20762 00004044 0009                   M           NOP
20763                            8527     
20764 00004046                   8528     ROT_CNTMODCHK_200:
20765 00004046 E001              8529             MOV.B   #1,R0                   ;変更しない
20766 00004048                   8530     ROT_CNTMODCHK_END:
20767                            8531             SUB_END
20768                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20769 00004048 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20770                            8532             M_RTS
20771 0000404A 000B                   M           RTS                             ;RTSの後ろの
20772 0000404C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20773                            8533     
20774                            8534     
20775                            8535     
20776                            8536             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   264

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ANTI_CHK_0100                    P             000006CA   7807*
ANTI_CHK_0130                    P             000006FC   7837  7846*
ANTI_CHK_0150                    P             00000728   7805  7867*
ANTI_CHK_0500                    P             00000748   7784  7895*
ANTI_CHK_EXIT                    P             0000075C   7794  7851  7875  7882  7900  7910*
API_EXQ_STEP_STSGET_EXT          P             00003E62  20340 20350*
API_HOLD_WAIT_BRKOFFSIG_END      P             0000348C  18296 18302 18311*
BIT0                                      EQU  00000001     15* 2040  2349  2364  6409  6433  6465  6801  6861  6878  6910  6924 
                                                          7026  7227  7456  7506  7536  7544  7553  7659  7818  7840  7879  7898 
                                                          7965  7988  8059  8121  8224  8315  8441  8671  8826  9378  9509  9551 
                                                          9822  9992 10166 10172 10328 10358 10414 10467 10483 10631 10677 10731 
                                                         10792 10806 10893 10900 11978 12036 12318 12401 12566 12594 12612 12859 
                                                         12860 12883 12884 12914 13073 13415 13484 13545 13693 14125 14243 14315 
                                                         14338 14404 14419 14552 14766 15098 15109 15571 15584 15807 15824 15850 
                                                         15886 16352 16359 16442 16487 16703 16728 16908 16929 16973 16979 17108 
                                                         17122 17137 17302 17323 17331 17410 17500 17505 17576 17602 17620 17787 
                                                         17862 17960 18335 18340 18345 18710 18716 18755 18761 18806 19007 19015 
                                                         19287 19886 20151 20187 20240 20288 20306 20341 20507 20735 20736 
BIT1                                      EQU  00000002     16* 2041  2350  2365  6506  6605  6878  6910  6924  7227  7667  7977 
                                                          8003  9021  9117  9267  9378  9707 10098 10559 10690 10746 10834 10984 
                                                         10991 11033 11083 11118 11184 12315 12373 12401 12566 12594 12612 13563 
                                                         13574 13710 13722 14552 15571 15988 16061 16087 16934 16973 17166 17270 
                                                         17491 17870 17886 18340 18651 19587 20010 20601 
BIT10                                     EQU  00000400     25* 2375  7246  7280  7344 10447 12710 17132 17134 17181 17277 19581 
BIT11                                     EQU  00000800     26* 2376  7246  7291  9044  9592 10600 11160 13327 15035 15056 17132 
                                                         17153 17181 17283 19616 20414 
BIT12                                     EQU  00001000     27* 2381  7246  7296  9044  9592 13327 15523 16256 17443 17714 17722 
                                                         17946 17972 18104 18401 
BIT13                                     EQU  00002000     28* 2382  7246  7275 14246 16256 18003 
BIT14                                     EQU  00004000     29* 2383  7246  9364 16175 16256 16966 19692 19762 
BIT15                                     EQU  00008000     30* 2384 14185 14732 14834 16175 16256 17057 17220 19659 19784 19807 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2042  2351  2366  2386  6495  6706  6878  7227  7680  9515  9736 
                                                         10064 10199 10382 10535 10625 10727 10919 11008 11073 12697 13590 13602 
                                                         13738 13750 14552 14895 15985 16098 16114 16136 17156 17866 17910 17955 
                                                         18340 19230 19689 20084 20690 20735 20736 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2043  2352  2367  2387  6878  7227  7380  7692  8377  8756  9628 
                                                          9644 11110 11383 14552 15974 16165 16643 19334 19689 20057 20640 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2353  2368  2388  6878  7076  7130  7151  7227  7705  9602 11106 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   265

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         11113 11992 11997 12419 12859 12860 12883 12884 13073 14349 14552 14971 
                                                         15740 16182 16852 17289 18589 18604 19550 19689 20175 
BIT5                                      EQU  00000020     20* 2354  2369  2389  6878  7227  7718 11997 12175 12419 14552 14559 
                                                         15371 15377 15434 15440 15892 16136 16190 16690 16696 19173 19575 
BIT6                                      EQU  00000040     21* 2355  2370  2390  6878  7227  7729 14315 14406 14552 14971 15892 
                                                         15893 16158 16215 17289 17510 17897 18042 18401 19189 19610 
BIT7                                      EQU  00000080     22* 2356  2371  2391  7080  7803  7835 11361 13255 15837 15943 17294 
                                                         17891 17965 18042 18401 18589 19036 19359 19655 
BIT8                                      EQU  00000100     23* 2357  2372  7362  7384  9967 10024 13334 17294 17436 17972 18071 
                                                         18401 19385 
BIT9                                      EQU  00000200     24* 2358  2373  7362  9967 11369 13353 19475 19489 19575 19610 
BRKTST_CHKDTMK_100               P             00002DBE  16792 16794*
BRKTST_CTL_050                   P             000028EC  15833 15840*
BRKTST_CTL_090                   P             00002906  15826 15839 15848 15864*
BRKTST_CTL_100                   P             0000292C  15809 15882*
BRKTST_CTL_150                   P             00002984  15894 15941*
BRKTST_CTL_190                   P             00002994  15926 15957*
BRKTST_CTL_200                   P             000029A8  15888 15970*
BRKTST_CTL_220                   P             000029B8  15976 15984*
BRKTST_CTL_250                   P             000029D4  16003 16013*
BRKTST_CTL_260                   P             000029F4  16023 16039*
BRKTST_CTL_290                   P             00002A16  16005 16021 16031 16046 16048 16063*
BRKTST_CTL_300                   P             00002A2C  15990 16076*
BRKTST_CTL_350                   P             00002A60  16089 16111*
BRKTST_CTL_360                   P             00002A72  16116 16126*
BRKTST_CTL_390                   P             00002A82  16101 16124 16138*
BRKTST_CTL_400                   P             00002A98  15987 16154*
BRKTST_CTL_450                   P             00002ABA  16178 16186*
BRKTST_CTL_490                   P             00002AC2  16160 16184 16193*
BRKTST_CTL_500                   P             00002AD4  15978 16206*
BRKTST_CTL_900                   P             00002AF4  15866 15959 16065 16140 16195 16218 16230*
BRKTST_CTL_950                   P             00002B1C  16252 16259*
BRKTST_INPUTMK_100               P             00002B98  16337 16343 16354 16376*
BRKTST_INPUTMK_200               P             00002BA2  16366 16383*
BRKTST_MOD_CF_END                P             00002B48  16306 16309*
BRKTST_RDYCHK_END                P             00002C8C  16562 16579*
BRKTST_RDYCHK_OFF                P             00002C84  16483 16489 16541 16572*
BRKTST_RDYCHK_ON                 P             00002C68  16543 16551*
BRKTST_RDYCHK_START_WAIT         P             00002C8A  16516 16577*
BRKTST_RDYCK_0198                P             00002C2A  16509 16514*
BRKTST_RDYCK_0200                P             00002C54  16472 16534*
BRKTST_RDY_SFTY_MASK2CHK055      P             00002BCC  16424 16438*
BRKTST_RDY_SFTY_MASK2CHK060      P             00002BE8  16444 16459*
BRKTST_RDY_SFTY_MASK2CHK100      P             00002BEE  16431 16451 16464*
BRKTST_SPDCHK_100                P             00002E0E  16847 16855*
BRKTST_STOPSIG_MK300             P             00002E64  16910 16925 16937*
BRKTST_STR_POW_100               P             00002D4A  16725 16738*
BRK_RDY_ON_CF_998                P             00002E98  16984*
BRK_RDY_ON_CF_999                P             00002EAC  16969 16975 16981 16996*
BRK_RDY_ON_CF_EXT                P             00002EAE  16987 16998*
BTTN_DRVSEP_CHK_CLR              P             00000E64   9517  9527*
BTTN_DRVSEP_CHK_END              P             00000E6A   9511  9531*
BTTN_START_CK100                 P             00000E7E   9553  9563*
BTTN_START_CK150                 P             00000EA8   9570  9586*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   266

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BTTN_START_CK180                 P             00000EBA   9595  9605*
BTTN_START_CK190                 P             00000ECC   9604  9618*
BTTN_START_CK192                 P             00000EEC   9623  9639*
BTTN_START_CK195                 P             00000EF6   9632  9647*
BTTN_START_CK200                 P             00000F10   9654  9665*
BTTN_START_CK220                 P             00000F12   9573  9608  9667*
BTTN_START_CK300                 P             00000F16   9656  9672*
BTTN_START_CK320                 P             00000F54   9703  9709  9731*
BTTN_START_CK350                 P             00000F80   9738  9766*
BTTN_START_CK550                 P             00000F90   9719  9747  9756  9780*
BTTN_START_CK570                 P             00000F96   9519  9717  9773  9785*
BTTN_START_CK599                 P             00000F9C   9677  9754  9771  9790*
BTTN_START_CKEXT                 P             00000F9E   9783  9788  9792*
CMPAB_NEAR_END_PC_100            P             00001F64  13544 13561*
CMPAB_NEAR_END_PC_200            P             00001F8C  13565 13588*
CMPAB_NEAR_END_PC_ED             P             00001FAE  13607 13615*
CMPAB_NEAR_END_PC_NG             P             00001FAC  13552 13572 13581 13600 13613*
CMPAB_NEAR_END_PC_OK             P             00001FA2  13592 13604*
CNT_SPM_DSPCK050                 P             00001F2C  13477 13482 13488*
CONT_LOT_CHK050                  P             00001CB0  12935 12938*
CONT_MD_CHK050                   P             00001E7C  13337 13351*
CONT_MD_CHK100                   P             00001E86  13322 13330 13341 13356 13359*
CTRL_UP_HOLD_CK_200              P             00001A20  12135 12150*
CTRL_UP_HOLD_CK_300              P             00001A28  12153 12159*
CTRL_UP_HOLD_CK_400              P             00001A34  12137 12155 12162 12171*
CTRL_UP_HOLD_CK_700              P             00001A48  12166 12179 12186*
CTRL_UP_HOLD_CK_END              P             00001A50  12112 12168 12177 12181 12199*
CTRL_UP_HOLD_CK_ST00             P             0000195C  11960 11975*
CTRL_UP_HOLD_CK_ST20             P             0000196C  11980 11988*
CTRL_UP_HOLD_CK_ST40             P             0000197C  11994 11999*
CTRL_UP_HOLD_CK_ST50             P             00001998  12021 12032*
CTRL_UP_HOLD_CK_STAA             P             0000194E  11954 11961*
CTRL_UP_HOLD_CK_ST_EXT           P             000019A0  11963 11982 12006 12030 12046*
CTRL_UP_LOT_CK_200               P             00001DC4  13134 13148*
CTRL_UP_LOT_CK_300               P             00001DCC  13151 13157*
CTRL_UP_LOT_CK_400               P             00001DD8  13153 13160 13170*
CTRL_UP_LOT_CK_700               P             00001DE0  13164 13173 13177*
CTRL_UP_LOT_CK_END               P             00001DE8  13110 13136 13166 13175 13187*
CW_CCW_ESTEPTMCHK_010            P             000018EC  11858 11866*
CW_CCW_ESTEPTMCHK_100            P             00001916  11893 11895 11899 11902*
CW_CCW_ESTEPTMCHK_200            P             00001922  11906 11908 11913*
CW_CCW_ESTEPTMCHK_LOP            P             00001900  11885*11917 
CW_CCW_ESTEPTMCHK_LOPEND         P             00001934  11860 11888 11924*
CW_CCW_ESTEPTMCHK_START          P             000018DC  11849 11853*
CW_CCW_ESTEP_LOP000              P             00001884  11774*11844 
CW_CCW_ESTEP_LOP050              P             00001892  11781 11784*
CW_CCW_ESTEP_LOP150              P             000018B4  11791 11809*
CW_CCW_ESTEP_LOP300              P             000018C0  11788 11823*
CW_CCW_ESTEP_LOP320              P             000018C6  11826 11829*
CW_CCW_ESTEP_LOP340              P             000018CC  11833 11837*
CW_CCW_ESTEP_LOP400              P             000018CE  11796 11800 11813 11817 11839*
CW_CCW_ESTEP_LOPEND              P             000018D8  11777 11847*
DEBUG_CMPERR_STSMK10             P             00000652   7658  7660*
DEBUG_CMPERR_STSMK100            P             00000684   7717  7719*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   267

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DEBUG_CMPERR_STSMK150            P             0000068E   7728  7730*
DEBUG_CMPERR_STSMK20             P             0000065C   7666  7668*
DEBUG_CMPERR_STSMK40             P             00000666   7679  7681*
DEBUG_CMPERR_STSMK60             P             00000670   7691  7693*
DEBUG_CMPERR_STSMK80             P             0000067A   7704  7706*
DNMOBJ_ARASIG2_100               P             00003E04  20255 20271*
DNMOBJ_ARASIG2_120_SET           P             00003E18  20257 20283*
DNMOBJ_ARASIG2_150               P             00003E38  20230 20236 20242 20282 20301*
DNMOBJ_ARASIG2_200               P             00003E40  20291 20309*
DRV_START_ININW1_050             P             00001EF0  13409 13431*
DRV_START_ININW1_100             P             00001EF6  13419 13435*
DRV_START_KEP_WAIT_100           P             0000265C  15100 15107 15123*
DRV_START_KEP_WAIT_END           P             00002682  15141 15146 15157*
DRV_START_KEP_WAIT_NON           P             0000266C  15094 15138*
DRV_START_KEP_WAIT_START         P             0000267A  15131 15152*
DRV_START_KEP_WAIT_USE           P             00002672  15113 15128 15143*
EP_SENCER_CK020                  P             000037B4  18960 18971*
EP_SENCER_CK030                  P             000037C4  18976 18985*
EP_SENCER_CK040                  P             000037E0  18993 19006*
EP_SENCER_CK050                  P             0000380C  18954 19035*
EP_SENCER_CK100                  P             00003814  19038 19044*
EP_SENCER_CK150                  P             00003838  19062 19072*
EP_SENCER_CK200                  P             00003848  19079 19088*
EP_SENCER_CK800                  P             00003B4C  18978 19646 19653*
EP_SENCER_CK900                  P             00003B68  18999 19064 19234 19338 19554 19675*
EP_SENCER_CK950                  P             00003B84  19664 19697*
EP_SENCER_CKEND                  P             00003B8E  19025 19040 19081 19153 19210 19244 19270 19319 19347 19371 19397 19452 
                                                         19510 19537 19563 19596 19632 19705*
EP_SENCER_CKEXT                  P             00003B96  18962 19711*
EP_STEP_ENDSIG                   P             00003B48  19644*
EP_STEP_ENDSIG_A                 P             00003AD4  18914 19571*
EP_STEP_ENDSIG_B                 P             00003B0C  18922 19606*
EP_STEP_EPSENSIG_A               P             000039A4  18911 19355*
EP_STEP_EPSENSIG_B               P             000039D0  18919 19381*
EP_STEP_RESETON_COM              P             00003A4C  18913 18921 19470*
EP_STEP_RESET_100                P             00003A1C  19416 19432*
EP_STEP_RESET_COM_150            P             00003A94  19501 19522*
EP_STEP_RESET_COM_170            P             00003ABC  19528 19546*
EP_STEP_RESET_COM_190            P             00003AD0  19483 19561*
EP_STEP_RESET_DATSET1            P             000039FC  18912 18920 19411*
EP_STEP_RESET_DATSET_COM         P             00003A24  19424 19439*
EP_STEP_USE_RY_A                 P             000038B8  18908 19169*
EP_STEP_USE_RY_B                 P             000038CC  18916 19185*
EP_STEP_USE_RY_COM               P             000038D6  19177 19192*
EP_STEP_USE_RY_COM_150           P             000038FC  19201 19220*
EP_STEP_USE_RY_COM_190           P             0000391C  19225 19242*
EP_STEP_USE_RY_DATSETCOM         P             00003890  19126 19140*
EP_STEP_USE_RY_DATSET_A          P             00003874  18907 19119*
EP_STEP_USE_RY_DATSET_B          P             00003888  18915 19133*
EP_STEP_VALVON_COM               P             00003950  18910 18918 19286*
EP_STEP_VALVON_DATSET            P             00003920  18909 18917 19252*
EP_STEP_VALV_COM_150             P             0000398C  19310 19329*
EP_STEP_VALV_COM_190             P             000039A0  19296 19345*
EP_STEP_XX                       P             00003B4C  18923 18924 18925 18926 18927 18928 18929 18930 18931 18932 18933 18934 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   268

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         18935 18936 18937 18938 18939 19650*
EXQ_PROC_STEPRECOVER_100         P             00003CAC  19939 19942 19964*
EXQ_PROC_STEPRECOVER_150         P             00003CD0  19970 19989*
EXQ_PROC_STEPRECOVER_180         P             00003CDC  19981 19998*
EXQ_PROC_STEPRECOVER_200         P             00003D10  19927 20036*
EXQ_PROC_STEPRECOVER_250         P             00003D44  20049 20074*
EXQ_PROC_STEPRECOVER_END         P             00003D58  20017 20031 20042 20063 20092*
EXQ_PROC_STEPRECOVER_END1        P             00003D0C  19863 19871 19877 19923 19933 19944 20029*
EXT_DRVBTTN_INFO_MK100           P             00002F24  17110 17120 17124*
EXT_DRVBTTN_INFO_MK200           P             00002F54  17136 17152*
EXT_DRVBTTN_INFO_MK300           P             00002F62  17155 17164*
EXT_DRVBTTN_INFO_MK400           P             00002F64  17139 17158 17168*
EXT_DRVBTTN_INFO_MK410           P             00002F76  17178 17184*
EXT_DRVBTTN_INFO_MK420           P             00002F90  17183 17200*
EXT_DRVBTTN_INFO_MK450           P             00002FA4  17205 17215*
EXT_DRVBTTN_INFO_MK500           P             00002FB6  17190 17209 17229*
EXT_DRVBTTN_MOD100               P             00002EE0  17063 17065*
EXT_DRVBTTN_MODJG_CF300          P             0000301C  17272 17280 17292 17297 17304 17322*
EXT_DRVBTTN_MODJG_CF500          P             0000301E  17263 17286 17306 17324*
EXT_DRVBTTN_MODJG_CF700          P             00003032  17333 17342*
EXT_DRVBTTN_MOD_END              P             00002EEC  17044 17075*
HOLD1_DNSTARTPOSCK100            P             00003258  17806 17812 17826*
HOLD1_DNSTARTPOSCK200            P             0000325E  17818 17831*
H_BYTE                                    EQU  00000000     82*
INC_RSTDAT_CHK230                P             000036FC  18842 18847 18852*
INC_RSTMODECK020                 P             000035A4  18569 18578*
INC_RSTMODECK100                 P             000035C0  18585 18601*
INC_RSTMODECK200                 P             000035C8  18593 18609*
INC_RSTMODECK240                 P             0000362C  18654 18679*
INC_RSTMODECK260                 P             00003636  18663 18687*
INC_RSTMODECK280                 P             00003648  18649 18665 18686 18696 18700*
INC_RSTMODECK290                 P             00003684  18712 18739*
INC_RSTMODECK300                 P             00003694  18705 18718 18725 18745 18753*
INC_RSTMODECK490                 P             000036B0  18591 18606 18640 18774*
INC_RSTMODECK499                 P             000036B2  18571 18776*
INC_RSTMODECK500                 P             000036B4  18763 18778*
INC_SPEC_RSTCK100                P             000036DC  18798 18804 18816*
INC_SPEC_RSTCK200                P             000036DE  18808 18818*
JMP0100001                       P             000026D4  15336 15355*
JMP0100002                       P             00002724  15402 15419*
JMP0100003                       P             00003604  18660 18662*
JMP0100004                       P             00003634  18683 18685*
JMP0200001                       P             000026E0  15340 15342 15345 15358 15360 15362*
JMP0200002                       P             00002730  15406 15408 15411 15422 15424 15426*
JMP10000000                      P             00001FD8  13692 13708*
JMP20000000                      P             00002000  13712 13736*
JMP_0100005                      P             00003820  19050 19053*
JMP_0100006                      P             00003854  19093 19096*
JMP_ED00000                      P             00002022  13755 13763*
JMP_NG00000                      P             00002020  13700 13720 13729 13748 13761*
JMP_OK00000                      P             00002016  13740 13752*
LOT_CNTCNT_050                   P             00001C70  12861 12871*
LOT_CNTCNT_080                   P             00001C84  12885 12894*
LOT_CNTCNT_200                   P             00001CB2  12830 12863 12887 12901 12910 12942*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   269

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

L_BYTE                                    EQU  00000001     81*
MASK2_SFYSTP400                  P             000027FC  15573 15603*
MASK2_SFYSTP500                  P             00002802  15567 15586 15608*
MASK2_SFYSTP600                  P             00002804  15590 15610*
MASK2_SFYSTPEXT                  P             00002808  15614*
MODE_CCC_STOPCHK                 P             0000130C  10603 10614*
MODE_CCC_STPCMP_120              P             00001328  10627 10633*
MODE_CCS_STPCMP_105              P             00001398  10673 10711*
MODE_CCS_STPCMP_120              P             000013A6  10729 10735*
MODE_CCS_STPCMP_140              P             00001408  10742 10789*
MODE_CCS_STPCMP_145              P             00001410  10748 10755 10769 10797*
MODE_CCS_STPCMP_200              P             00001460  10771 10794 10864*
MODE_CCS_STPCMP_250              P             00001476  10889 10897*
MODE_CCS_STPCMP_270              P             0000147E  10903*
MODE_CCS_STPCMP_280              P             0000147E  10916*
MODE_CCS_STPCMP_300              P             0000148C  10697 10808 10849 10895 10921 10929*
MODE_CHG_050                     P             00000456   7231  7233*
MODE_CHG_080                     P             00000480   7250  7268*
MODE_CHG_080_SGL                 P             000004C4   7278  7333*
MODE_CHG_080_SNG                 P             000004CE   7283  7343*
MODE_CHG_100                     P             000004DC   7241  7355*
MODE_CHG_150                     P             000004F4   7358  7373*
MODE_CHG_200                     P             00000514   7376  7396*
MODE_CHG_800                     P             00000516   7237  7255  7315  7326  7337  7348  7366  7383  7387  7398*
MODE_CHG_EXT                     P             0000051A   7401*
MODE_CHG_OPT050                  P             000004B0   7294  7299  7311*
MODE_CHG_OPT090                  P             000004BA   7289  7301  7322*
MODE_CNTCNF1_STPCHK_210          P             000011C0  10305 10315*
MODE_CNTCNF1_STPCHK_220          P             000011C8  10309 10322*
MODE_CNTCNF1_STPCHK_250          P             000011D0  10321 10331*
MODE_CNTCOM1_STPCMP_100          P             00001184  10245 10253 10261 10269*
MODE_CNTCOM2_STPCHK_280          P             00001208  10368 10378*
MODE_CNTCOM2_STPCHK_300          P             00001216  10360 10370 10384 10391*
MODE_CNT_STPCHK_050              P             00001084  10027 10039*
MODE_CNT_STPCHK_080              P             0000108E  10031 10056*
MODE_CNT_STPCHK_120              P             00001068   9978 10021*
MODE_CNT_STPCHK_150              P             000010A2   9999 10087*
MODE_CNT_STPCHK_199              P             000010D4   9970 10059 10118*
MODE_CNT_STPCHK_200              P             000010DA   9988 10123*
MODE_CNT_STPCHK_210              P             000010F4  10130 10142*
MODE_CNT_STPCHK_220              P             00001104  10134 10162*
MODE_CNT_STPCHK_250              P             0000110C  10148 10159 10168*
MODE_CNT_STPCHK_280              P             0000113C  10182 10195*
MODE_CNT_STPCHK_300              P             0000114A  10066 10077 10106 10174 10184 10201 10210*
MODE_CNT_STPCMP_100              P             0000100C   9911  9919  9927  9934*
MODE_CSS_STOPCHK_START           P             00001348  10605 10658*
MODE_CSS_STOPCK1000              P             0000148C  10643 10931*
MODE_CTL_100                     P             00000550   7458  7467*
MODE_CTL_ET900                   P             000005CA   7514  7520  7555  7580*
MODE_CTL_EXIT                    P             000005DE   7460  7499  7508  7538  7546  7588  7600*
MODE_DUP_STPCHK100               P             00001568  11069 11102*
MODE_DUP_STPCHK200               P             00001584  11075 11092 11108 11112 11126*
MODE_INC_STPCHK_000              P             000014EC  10961 10978 11005*
MODE_INC_STPCHK_050              P             000014FE  10959 10986 10995 11024*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   270

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MODE_INC_STPCHK_100              P             00001510  10993 11010 11020 11044*
MODE_SGL_STPCHK_050              P             00001264  10450 10464*
MODE_SGL_STPCHK_080              P             000012A4  10479 10511*
MODE_SGL_STPCHK_100              P             000012B4  10469 10524*
MODE_SGL_STPCHK_150              P             000012C6  10500 10550*
MODE_SGL_STPCHK_200              P             000012D8  10456 10517 10537 10547 10570*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEWMASK_SELSTOPCHK400            P             00001B46  12498 12520*
NEWMASK_SELSTOPCHK500            P             00001B64  12505 12511 12517 12537*
NEWMASK_SELSTOPCHKEND            P             00001B6A  12526 12542*
NZ_TIM_CK1_100                   P             00002476  14646 14652 14655*
NZ_TIM_CK1_200                   P             0000248A  14661 14667 14670*
OPT_SGL_SFTY_MASKCHK_080         P             00001C14  12713 12734*
OPT_SGL_SFTY_MASKCHK_100         P             00001C24  12706 12752*
OPT_SGL_SFTY_MASKCHK_400         P             00001C40  12722 12742 12770 12776 12786*
OPT_SGL_SFTY_MASKCHK_500         P             00001C46  12692 12699 12720 12744 12778 12793*
OPT_SGL_SFTY_MASKCHK_END         P             00001C48  12789 12795*
ORGIN_180CK_100                  P             00002708  15366 15397*
ORGIN_180CK_200                  P             00002758  15429 15454*
ORGIN_180CK_300                  P             00002758  15387 15444 15464*
ORGIN_MODE_SEL_ST090             P             00002534  14837 14839*
ORGIN_MODE_SEL_STEND             P             00002538  14829 14842*
ORGIN_MODE_SEL_WT090             P             000024C2  14735 14737*
ORGIN_MODE_SEL_WT100             P             000024E0  14727 14755*
ORGIN_MODE_SEL_WTEND             P             000024F0  14700 14742 14760 14770*
ORGIN_MODE_START_WT10            P             000008C8   8187  8197*
ORGIN_MODE_ST_WT100              P             00002598  14889 14915*
ORGIN_MODE_ST_WTEND              P             000025B6  14931 14936 14941*
ORGIN_MODE_ST_WT_NOT             P             000025B4  14877 14883 14939*
ORGIN_MODE_ST_WT_START           P             000025A8  14903 14920 14928*
ORGIN_MODE_ST_WT_WAIT            P             000025AE  14897 14933*
P                                P        SCT  00000000   5998*
POSCAN_PROCSTEPRECOVER_100       P             00003F58  20558 20561 20581*
POSCAN_PROCSTEPRECOVER_200       P             00003F98  20546 20627*
POSCAN_PROCSTEPRECOVER_250       P             00003FC0  20632 20656*
POSCAN_PROCSTEPRECOVER_END       P             00003FE6  20608 20622 20646 20680 20697*
POSCAN_PROCSTEPRECOVER_END1      P             00003F94  20492 20498 20542 20552 20563 20620*
POSCTRL_CANSEL_RST_EXT           P             00003EC2  20410 20417 20424 20434 20442*
POSHLD1_SIGCHK_100               P             000033BC  18080 18092*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   271

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSHLD1_SIGCHK_200               P             000033C2  18074 18084 18097*
POSHLD1_SIGCHK_300               P             000033E8  18113 18125*
POSHLD1_SIGCHK_400               P             000033EE  18107 18117 18130*
POSHLD1_STEP1_STOP100            P             0000306C  17412 17425*
POSHLD1_STEP1_STOP150            P             000030B8  17432 17461 17476*
POSHLD1_STEP1_STOPEXT            P             0000311A  17532 17538 17543*
POSHLD1_STEP1_STOPNO             P             0000310C  17439 17446 17452 17463 17529*
POSHLD1_STEP1_STOPSTOP           P             00003118  17541*
POSHLD1_STEP1_STOPWAIT           P             00003112  17414 17515 17535*
POSHLD1_STEP2_START100           P             000032B0  17872 17903*
POSHLD1_STEP2_START110           P             000032D8  17912 17928*
POSHLD1_STEP2_START200           P             000032E4  17914 17941*
POSHLD1_STEP2_START500           P             00003344  17936 17998*
POSHLD1_STEP2_STARTEXT           P             00003356  17864 17868 17949 17982 18013*
POSHLD1_STOPBTTNCMDCK_050        P             00003132  17566 17572*
POSHLD1_STOPBTTNCMDCK_100        P             0000313A  17571 17578*
POSHLD1_STOPCONF_100             P             00003164  17605 17614*
POSHLD1_STOPCONF_200LOP          P             00003170  17625*17774 
POSHLD1_STOPCONF_300             P             0000320C  17653 17758*
POSHLD1_STOPCONF_350             P             00003210  17702 17763*
POSHLD1_STOPCONF_400             P             00003214  17635 17699 17709 17729 17760 17767*
POSHLD1_STOPCONF_499             P             00003220  17772 17777*
POSHLD1_STOPCONF_500             P             00003222  17631 17779*
POSHLD1_STOPCONF_STOPEND         P             0000322A  17783 17789*
POSHLD1_STOPCONF_STOPNO          P             00003222  17646 17780*
POSHLD1_STOPCONF_STOPSTOP        P             00003228  17717 17786*
POS_CANSEL_STPCHK_END            P             000015E6  11194 11208*
POS_CANSEL_STPCHK_MOV            P             000015E4  11164 11206*
RDY_CHK_0030                     P             00000884   8129  8140*
RDY_CHK_0050                     P             00000888   8123  8145*
RDY_CHK_0060                     P             000008A4   8157  8167*
RDY_CHK_0070                     P             000008CC   8185  8202*
RDY_CHK_0120                     P             00000960   8344  8354*
RDY_CHK_0150                     P             000009A8   8468  8477*
RDY_CHK_0198                     P             000009CA   8496  8501*
RDY_CHK_0199                     P             00000A0C   8427  8443  8475  8528*
RDY_CHK_0200                     P             00000A24   8346  8550*
RDY_CHK_0200_START               P             00000AF4   8705  8739*
RDY_CHK_0200_START_WAIT          P             00000AC4   8159  8692*
RDY_CHK_0200_START_WT2           P             00000AF0   8713  8724  8734*
RDY_CHK_0220                     P             00000A94   8063  8189  8609  8636  8657*
RDY_CHK_0280                     P             00000A78   8598  8621*
RDY_CHK_0290                     P             00000BAC   8648  8892*
RDY_CHK_0290A                    P             00000A8C   8582  8600  8646*
RDY_CHK_0299                     P             00000BC0   8653  8726  8899  8909*
RDY_CHK_0299A                    P             00000A90   8566  8584  8651*
RDY_CHK_0399                     P             00000BD8   8199  8638  8681  8736  8866  8901  8929*
RDY_CHK_0500                     P             00000BEC   8142  8946*
RDY_CHK_0505                     P             00000C14   8971  8981*
RDY_CHK_0510                     P             00000C28   8993  9001*
RDY_CHK_0520                     P             00000C38   9008  9016*
RDY_CHK_0525                     P             00000C48   9023  9030*
RDY_CHK_0530                     P             00000C6C   9047  9063*
RDY_CHK_0600                     P             00000C7C   9042  9075*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   272

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RDY_CHK_0650                     P             00000C90   9079  9092*
RDY_CHK_0700                     P             00000CCC   9096  9155*
RDY_CHK_0750                     P             00000CE8   9159  9175*
RDY_CHK_0950                     P             00000CFC   9179  9191*
RDY_CHK_1000                     P             00000D02   8084  8973  8995  9010  9025  9054  9069  9085  9145  9169  9185  9201*
RDY_CHK_1200                     P             00000D34   8091  8131  9232*
RDY_CHK_CYCL_END                 P             00000D54   9245  9255*
RDY_CHK_END_COM                  P             00000D72   9247  9263  9269  9286*
RDY_CHK_EXIT                     P             00000DA0   8096  8503  8539  8931  9212  9222  9239  9320  9327*
RDY_HOLDCHK_0100                 P             000007A0   7954  7976*
RDY_HOLDCHK_0200                 P             000007D8   7979  8017*
RDY_HOLDCHK_1000                 P             0000083C   7968  7990  8077*
RDY_HOLDCHK_1200                 P             0000084C   8082  8089*
RDY_HOLDCHK_1999                 P             00000850   7998  8006  8032  8040  8053  8094*
RDY_HOLDCHK_END                  P             00000854   7960  8099*
RDY_ON_CF_998                    P             00000E16   9394  9422*
RDY_ON_CF_999                    P             00000E3C   9367  9380  9407  9440*
RDY_ON_CF_EXT                    P             00000E3E   9425  9442*
RDY_SFTY_MASK2CHK050             P             000008F4   8247  8275*
RDY_SFTY_MASK2CHK055             P             00000928   8290  8311*
RDY_SFTY_MASK2CHK060             P             00000944   8317  8331*
RDY_SFTY_MASK2CHK100             P             0000094A   8297  8324  8336*
RECOVER_WAIT_AREACHK_100         P             00003D90  20142 20172*
RECOVER_WAIT_AREACHK_200         P             00003DA0  20153 20177 20186*
RECOVER_WAIT_AREACHK_END         P             00003DA2  20165 20179 20188*
RESET_CHK_100                    P             0000003E   6405  6423*
RESET_CHK_200                    P             00000058   6430  6447*
RESET_CHK_250                    P             00000074   6461  6468*
RESET_CHK_300                    P             000000AC   6452  6490*
RESET_CHK_305                    P             000000B4   6497  6502*
RESET_CHK_305A                   P             000000BC   6508  6512*
RESET_CHK_325                    P             00000106   6544  6571*
RESET_CHK_330                    P             00000138   6570  6589*
RESET_CHK_350                    P             000001B0   6635  6673*
RESET_CHK_399                    P             000001B6   6654  6680*
RESET_CHK_400                    P             000001C8   6510  6694*
RESET_CHK_500                    P             00000208   6499  6735*
RESET_CHK_EXT                    P             00000260   6470  6573  6686  6700  6721  6740  6809*
RNA_ERR_RSTCKEXT                 P             0000279C  15515 15521 15526 15534*
RNA_SCIF_ERRCLR1_050             P             000025D0  14973 14988*
RNA_SCIF_ERRCLR1_100             P             000025E8  14981 15005*
RNA_SCIF_ERRCLR1_200             P             000025EE  14998 15012*
ROT_CNTMODCHK_100                P             00004040  20718 20724 20730 20737 20744 20758*
ROT_CNTMODCHK_200                P             00004046  20746 20764*
ROT_CNTMODCHK_END                P             00004048  20761 20766*
RST_CONFCK_005                   P             000002D4   6873  6883*
RST_CONFCK_010                   P             000002E4   6863  6869  6882  6893*
RST_CONFCK_015_OK                P             00000332   6938  6961*
RST_CONFCK_020                   P             00000358   6944  6981*
RST_CONFCK_050                   P             0000036C   7011*
RST_CONFCK_055                   P             000003B4   7045  7063*
RST_CONFCK_060                   P             000003E0   7082  7098*
RST_CONFCK_080                   P             00000400   7072  7127*
RST_CONFCK_BRK100                P             0000041C   7028  7148*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   273

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RST_CONFCK_END                   P             00000440   7173  7177*
RST_CONFCK_NG                    P             00000438   6885  7088  7119  7139  7160  7170*
RST_CONFCK_NG70                  P             000003F0   6905  6912  6926  6955  6992  7113*
RST_CONFCK_OK                    P             0000043E   6963  7016  7047  7078  7104  7132  7153  7175*
RST_MOD_POSEND_100               P             00001792  11573*
RST_MOD_POSEND_200               P             0000179A  11579*
SELF_FORCE_POW_100               P             00000FC0   9819  9832*
SET_NZ_TIMDT_010                 P             00002434  14603 14605*
SET_NZ_TIMDT_020                 P             00002442  14613 14615*
SFTY_MASK_ED_100                 P             00001BB0  12596 12609*
SFTY_MASK_ED_200                 P             00001BBE  12602 12618*
SFTY_MUTING_MODER_100            P             00002878  15674 15682 15703*
SFTY_MUTING_MODER_200            P             00002894  15713 15719 15729*
SFTY_MUTING_MODER_EXT            P             000028AE  15664 15690 15721 15735 15749*
SGL_UP_HOLD_MASK050              P             00000CB4   9119  9143*
STEP_SIG_DSP020                  P             00002240  14182 14187*
STEP_SIG_DSP200                  P             00002258  14159 14192 14238*
STEP_SIG_DSP300                  P             00002264  14245 14248*
STOPPING_TIM_CK050               P             00002338  14408 14418*
STOPPING_TIM_CK080               P             00002340  14421 14425*
STOPPING_TIM_CK100               P             00002372  14460 14462*
STOPPING_TIM_CK120               P             00002380  14465 14474*
STOPPING_TIM_CK200               P             000023A8  14480 14496*
STOPPING_TIM_CK250               P             000023B8  14506 14508*
STOPPING_TIM_CK400               P             000023D0  14473 14525*
STOPPING_TIM_CK600               P             000023E8  14515 14547*
STOPPING_TIM_CK900               P             000023FA  14410 14423 14484 14536 14563*
STOPPING_TIM_STOPINI_100         P             000022E4  14317 14366*
SV_UP_HLDCHK_0050                P             000017D4  11614 11624*
SV_UP_HLDCHK_0100                P             000017E4  11629 11637*
SV_UP_HLDCHK_0190                P             00001804  11631 11656*
SV_UP_HLDCHK_0200                P             0000180C  11659 11665*
SV_UP_HLDCHK_0290                P             00001810  11661 11678*
SV_UP_HLDCHK_0295                P             00001814  11667 11682*
SV_UP_HLDCHK_0300                P             0000183C  11681 11706*
SV_UP_HLDCHK_0900                P             0000184E  11617 11647 11695 11717*
UP_HOLD_ARA_MASK480              P             00001ADC  12358 12368*
UP_HOLD_ARA_MASK500              P             00001AE4  12317 12320 12340 12365 12377*
UP_HOLD_MASKSPDCHK_COM           P             00001A90  12252 12266*
UP_HOLD_MASKSPDCHK_END           P             00001AAE  12286 12296*
UP_HOLD_MASKSPDCHK_FWD           P             00001A76  12230 12247*
UP_HOLD_MASKSPDCHK_NG            P             00001AAC  12238 12250 12264 12275 12294*
UP_HOLD_MASKSPDCHK_REV           P             00001A8C  12234 12245 12261*
UP_HOLD_MASKSPDCHK_STR           P             00001A9C  12283*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3442 16842 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3452 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   274

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCERR_ACC_HENSA                         IMPT 00000000   4459 
_ACCERR_ACC_OBJ                           IMPT 00000000   4458 
_ACCERR_ACC_PV                            IMPT 00000000   4457 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4468 
_ACCERR_ERR_CNT                           IMPT 00000000   4460 
_ACCESS_ERR1                              IMPT 00000000   3538 
_ACCLW_CALC_FLG                           IMPT 00000000   5400 
_ACCLW_GEN_MAX_LNG                        IMPT 00000000   5409 
_ACCLW_GET_SET_SPD                        IMPT 00000000   5406 
_ACCLW_GET_STEP_NO                        IMPT 00000000   5405 
_ACCLW_OUT_SET_SPD                        IMPT 00000000   5407 
_ACCLW_REAL_SPD1MS                        IMPT 00000000   5395 
_ACCLW_SET_SPD                            IMPT 00000000   5394 
_ACCLW_USE_CONF                           IMPT 00000000   5396 
_ACCST_ACC_MATH_SEL                       IMPT 00000000   5426 
_ACCST_CALC_FLG                           IMPT 00000000   5421 
_ACCST_GEN_MAX_LNG                        IMPT 00000000   5432 
_ACCST_GET_SET_SPD                        IMPT 00000000   5430 
_ACCST_GET_STEP_NO                        IMPT 00000000   5425 
_ACCST_OUT_SET_SPD                        IMPT 00000000   5431 
_ACCST_REAL_SPD1MS                        IMPT 00000000   5419 
_ACCST_SET_SPD                            IMPT 00000000   5418 
_ACCST_USE_CONF                           IMPT 00000000   5420 
_ACC_MONITOR_DAT1                         IMPT 00000000   4271 
_ACC_MONITOR_DAT2                         IMPT 00000000   4272 
_ACC_MONITOR_DAT3                         IMPT 00000000   4273 
_ACC_MONITOR_DAT4                         IMPT 00000000   4274 
_ACC_MONITOR_DAT5                         IMPT 00000000   4275 
_ACC_MONITOR_DAT6                         IMPT 00000000   4276 
_ACC_MONITOR_DAT7                         IMPT 00000000   4277 
_ACC_MONITOR_DAT8                         IMPT 00000000   4278 
_ACC_REST_ABS_PLS                         IMPT 00000000   4228 
_ACC_REST_FLG                             IMPT 00000000   4229 
_ANTI_CHEAK                      P             000006B0   7524  7775*
_ANTI_OF                                  IMPT 00000000   6020  7903 
_ANTI_ON                                  IMPT 00000000   6019  7813 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6223  9323 11322 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6222  8829 16706 
_API_CAM_RST_ON                           IMPT 00000000   6358  6593 
_API_ENDHAND_SIGCHK                       IMPT 00000000   6342 10542 11015 
_API_EXQ_STEP_FLGCLR             P        EXPT 00003E74   6682 20365 20371*
_API_EXQ_STEP_STS_GET            P        EXPT 00003E4C  20326 20331*
_API_HOLD_WAIT_BRKOFF_SIG        P             00003470   9315 18286*
_API_X_PRO_SEND_START2                    IMPT 00000000  14958 
_AUTO_OF                                  IMPT 00000000   6022  9298  9995 10486 10680 10799 11221 
_AUTO_ON                                  IMPT 00000000   6021 10120 10297 10452 10513 10881 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3685 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3678 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3683 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3682 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3679 
_BASE_TIM010MS                            IMPT 00000000   2499 
_BASE_TIM100MS                            IMPT 00000000   2500 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4444 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   275

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4443 
_BBN_MESURE_POINT                         IMPT 00000000   4438 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4428 
_BBN_MESURE_PSPD                          IMPT 00000000   4430 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4429 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4424 
_BBN_MESURE_SSPD                          IMPT 00000000   4426 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4425 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4442 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4436 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4433 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4435 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4432 
_BBN_SET_TIME                             IMPT 00000000   4439 
_BKTMCL_ACCDAT                            IMPT 00000000   4630 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4631 
_BKTMCL_ACCPOINT                          IMPT 00000000   4633 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4647 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4655 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4654 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4660 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4661 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4662 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4657 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4665 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4666 
_BKTMCL_ENC_DIR                           IMPT 00000000   4638 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4637 
_BKTMCL_POINTMAX                          IMPT 00000000   4634 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4649 
_BKTMCL_SPDBUF                            IMPT 00000000   4629 
_BKTMCL_STOP_SPD                          IMPT 00000000   4653 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4646 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4648 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4642 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4643 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4645 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3431 
_BRK1_CHKDLY_TM                           IMPT 00000000   3419 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3427 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3426 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3425 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3424 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3422 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3423 
_BRK1_SV_DN_ACC                           IMPT 00000000   3430 
_BRK2_CHKDLY_TM                           IMPT 00000000   3420 
_BRK2_SV_DN_ACC                           IMPT 00000000   3432 
_BRKTMCAL_API1_STR                        IMPT 00000000   6319 14288 
_BRKTMCAL_API3_ENDCNF1                    IMPT 00000000   6321 14511 
_BRKTMCAL_API4_ENDCNF2                    IMPT 00000000   6322 14539 
_BRKTMCAL_STG1_STOPINI                    IMPT 00000000   6320 11400 
_BRKTST_AREA_SIG                          IMPT 00000000   4169  7149 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4179 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   276

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4180 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4177 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4178 
_BRKTST_CHKDT_MAK                P             00002DAC  16051 16781*
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4159 16809 16844 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4172 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4171 
_BRKTST_CTRL                     P             000028C4   7471 15793*
_BRKTST_INPUT_CMD                         IMPT 00000000   4162  7024 15822 15884 16085 16357 16378 16932 
_BRKTST_INPUT_MAK                P             00002B58  15800 16328*
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4174 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4173 
_BRKTST_MODE_CONF                P             00002B34  15843 16119 16286*
_BRKTST_MOD_FLG                           IMPT 00000000   4157  7542 15805 15851 15890 15907 15944 15971 16059 16096 16134 16163 
                                                         16180 16188 16213 16232 16850 
_BRKTST_MOTOR_START              P             00002CC8  16055 16632*
_BRKTST_MOTOR_STOP               P             00002E20  16092 16209 16877*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4158 16799 
_BRKTST_POS_START                         IMPT 00000000  16624 16681 
_BRKTST_RDY_CHK                  P             00002BB0  15997 16406*
_BRKTST_RDY_OFF_OUT              P             00002C98  16027 16574 16593*
_BRKTST_SPD_CHK                  P             00002DF8  16079 16838*
_BRKTST_STOPSIG_MAKE             P             00002E34  16362 16902*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4166 16912 
_BRKTST_STR_FLG                           IMPT 00000000   4167 16380 16906 16927 
_BRKTST_SW_IN                             IMPT 00000000   4168  6859 11950 16350 20238 
_BRK_CHK_COM                              IMPT 00000000   3416 
_BRK_CHK_FLG                              IMPT 00000000   3417 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6194  8677 10091 10553 10685 10829 11027 11077 11177 11407 17485 
_BRK_RDYON_CONF1                 P             00002E7C  16478 16536 16960*
_BTTN_FLG                                 IMPT 00000000   2567  8439  9513  9549  9734 10062 10533 10623 10725 10989 11006 11071 
                                                         14893 16112 16485 
_BTTN_ON_TIME                             IMPT 00000000   3708 
_BTTN_START_CHK                  P             00000E44   8577  9501*16016 
_BVLV_CTL_FLG                             IMPT 00000000   4839 
_BVLV_CTL_ON                              IMPT 00000000   4840 
_BVLV_START_IN                            IMPT 00000000   4843 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3188 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2913 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2912 
_CALC_MISS_FLG1                           IMPT 00000000   3791 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2089*
_CALC_PLS_MMIN_L32                        EQU  00000001   2090*
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2085*
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2086*
_CALC_ROT_MAX                             EQU  60000000   2081*
_CALPOSANSLNG                             IMPT 00000000   4774 
_CALPOSLNWORK                             IMPT 00000000   4776 
_CALPOSWORK1                              IMPT 00000000   4770 
_CALPOSWORK2                              IMPT 00000000   4771 
_CALSPDANSPER                             IMPT 00000000   4773 
_CALSPDWORK1                              IMPT 00000000   4768 
_CALSPDWORK2                              IMPT 00000000   4769 
_CALSPDWORKANS                            IMPT 00000000   4772 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   277

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_CNT_CHG_FLG                          IMPT 00000000   3288 11272 
_CAM_CTL_STEP                             IMPT 00000000   2643 
_CAM_DNM_USE_DIR_FLG                      IMPT 00000000   5095 
_CAM_DT_FLG                               EQU  0000000E   2199*
_CAM_INF_D1                               EQU  00000010   2200*
_CAM_INF_D2                               EQU  00000012   2201*
_CAM_NOW_DIG                              IMPT 00000000   3285 
_CAM_OF_DGT                               EQU  0000000C   2198*
_CAM_OF_DIG                               EQU  00000008   2195* 2196 
_CAM_OF_DIR                               EQU  0000000A   2197*
_CAM_OF_STP                               EQU  00000006   2194*
_CAM_OF_TIM                               EQU  00000008   2196*
_CAM_OLD_DIG                              IMPT 00000000   3286 
_CAM_ON_DIG                               EQU  00000002   2192*
_CAM_ON_DIR                               EQU  00000004   2193*
_CAM_ON_STP                               EQU  00000000   2191*
_CAM_OUTPUT_DT                            IMPT 00000000   3279 
_CAM_OUTPUT_SW                            IMPT 00000000   3277 
_CAM_POS_CTL_STEP                         IMPT 00000000   3287 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3043 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3044 
_CAM_SELECT_SW                            IMPT 00000000   3278 
_CAM_START_FLG                            IMPT 00000000   3280 
_CAM_START_MODE                           IMPT 00000000   3281 
_CAM_STEP_MAX                             IMPT 00000000   3284 
_CAM_STEP_NO                              IMPT 00000000   3282 
_CAM_STEP_NO_OLD                          IMPT 00000000   3283 
_CAM_STRCUT                               EQU  00000014   2190*
_CBA_STS_BKUP_SAVE                        IMPT 00000000   6315 15858 15914 15951 
_CBSTS_LOAD_FLG                           IMPT 00000000   4579 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4587 
_CBSTS_SAVE_DAT                           IMPT 00000000   4596 15854 15910 15947 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_CTL_START_INI                P             00001DF0   8784 13203*16669 
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2496 
_CB_IN_HANYO                              IMPT 00000000   4878 17130 
_CB_SEQ_CB_COM340                         IMPT 00000000   3029  9362 16964 17712 17944 20412 
_CB_SEQ_CB_COM345                         IMPT 00000000   3032 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5567 
_CB_SEQ_CB_COM346                         IMPT 00000000   3033 
_CB_SEQ_CB_COM347                         IMPT 00000000   3034 
_CB_SEQ_CB_COM348                         IMPT 00000000   3035 
_CB_SEQ_CB_COM349                         IMPT 00000000   3036 19763 19785 
_CB_SEQ_CB_COM350                         IMPT 00000000   3038 
_CB_SEQ_CB_COM351                         IMPT 00000000   3039 
_CB_SEQ_CB_COM352                         IMPT 00000000   3040 17106 17268 17908 
_CB_SEQ_CB_COM356                         IMPT 00000000   5441 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3030  9705 10982 14730 14832 15503 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3031 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   278

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SEQ_SW_SEL022                         IMPT 00000000   3024 17275 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3025 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3026  7244  7360  7378  9600  9965 10022 12695 13332 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3027 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4928 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_PARAM000                          IMPT 00000000   6265  8287 11855 12018 12270 15564 15661 16421 17041 17359 18293 18645 
                                                         18795 18973 19121 19135 19143 19254 19260 19419 19434 19442 19523 19621 
_CB_TIME                                  EQU  0000000A   2004* 2017  2018  2019  2024 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3530 10732 10804 10891 
_CHKACCINF0                               IMPT 00000000   4761 
_CHKACCINF1                               IMPT 00000000   4762 
_CHKACCINF2                               IMPT 00000000   4763 
_CHKPOSANSDIG                             IMPT 00000000   4750 
_CHKPOSWORK0                              IMPT 00000000   4757 
_CHKPOSWORK1                              IMPT 00000000   4737 
_CHKPOSWORK2                              IMPT 00000000   4738 
_CHKPOSWORKANS                            IMPT 00000000   4743 
_CHKPOS_Ln1                               IMPT 00000000   4765 
_CHKSPDANSPER                             IMPT 00000000   4742 
_CHKSPDPERWORK0                           IMPT 00000000   4758 
_CHKSPDPERWORK1                           IMPT 00000000   4745 
_CHKSPDPERWORK2                           IMPT 00000000   4746 
_CHKSPDPOSINFO                            IMPT 00000000   4748 
_CHKSPDPOSOFS                             IMPT 00000000   4749 
_CHKSPDWORK0                              IMPT 00000000   4756 
_CHKSPDWORK1                              IMPT 00000000   4735 
_CHKSPDWORK2                              IMPT 00000000   4736 
_CHKSPDWORKANS                            IMPT 00000000   4739 
_CHKSPDWORKTMAX                           IMPT 00000000   4741 
_CHKSPDWORKVMAX                           IMPT 00000000   4740 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4268 
_CHK_CLK_SIG                              IMPT 00000000   4804 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4017 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   4016 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   5385 
_CHK_SET1_UPAREA_TIM0                     IMPT 00000000   5384 
_CLRSQ206_BIT11                  P        EXPT 000025F8  15022 15028*
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2779 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2778 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3597 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3591 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3594 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3588 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3596 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3590 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   279

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMP2_NOW_NG_CNT                          IMPT 00000000   3598 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3592 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3595 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3589 
_CMPAB_NEAR_END_PROC             P        EXPT 00001F40  13510 13532*
_CMPAB_STEP_END_PROC             P        EXPT 00001FB6  13511 13675*
_CMPCYC_END_CLR                  P        EXPT 000021B0  13521 14062*
_CMPCYC_START_CLR                P        EXPT 00002194  13520 14035*
_CMPEMG_EXQ_FLG_CLR              P        EXPT 00002108   6620 11388 13523 13950*
_CMPSTEP_CNT_STOP                         IMPT 00000000   2687 13909 13997 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2683 13809 13991 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2682 13786 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2686 13540 13883 13995 
_CMPSTEP_POS_START                        IMPT 00000000   2684  8125  8153  8672  9215 13831 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2685 13859 13993 
_CMPSTEP_STEP_END                         IMPT 00000000   2688  7724 10073 13688 13933 13999 20344 
_CMPSTP_CNT_STOP_CLR             P        EXPT 000020C4  13518 13897*
_CMPSTP_CTRL_BUSY_CLR            P        EXPT 00002048  13514 13801*14071 
_CMPSTP_CTRL_REDY_CLR            P        EXPT 0000202A   8534  8834  8915 13513 13778*13955 14067 16606 16711 
_CMPSTP_NEAR_ZERO_CLR            P        EXPT 000020A8  13517 13875*14105 
_CMPSTP_POS_START_CLR            P        EXPT 00002064   8530  8911 13515 13823*13959 14075 16602 
_CMPSTP_SFTY_AUTO_CLR            P        EXPT 00002080  13516 13845*14044 
_CMPSTP_STEP_END_CLR             P        EXPT 000020EC  13519 13925*14101 
_CMP_ERR_CHK_STSA                         IMPT 00000000   2896 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2897 
_CMP_ERR_STEP_A                           IMPT 00000000   2902 
_CMP_ERR_STEP_B                           IMPT 00000000   2903 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2898 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2899 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2900 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2901 
_CMP_ERR_TIM1                             IMPT 00000000   2599 
_CMP_HOLD_CTLGENSOK                       IMPT 00000000  17398 17833 
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3701 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3906 
_CMP_RECOVER_FLG                          IMPT 00000000   4011  9990 10481 10675 13280 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3702 
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2601 
_CNTREST_HOS_RESET                        IMPT 00000000   6210 11438 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3688 14003 
_CNT_CYCL_DISP_ST                P             00001F00   8107 11413 13449*
_CNT_GRF_I_DATA                           IMPT 00000000   5560 
_CNT_GRF_POINT                            IMPT 00000000   5562 
_CNT_GRF_Y_DATA                           IMPT 00000000   5561 
_CNT_MODE_CNT_SIG_OUT            P             00001D18  12947 13014*13367 
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3955 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3694 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3695 
_CNT_SPM_DISP_CHK                P             00001F14   8113  8957 13469*
_CNT_STOP_CMD                             IMPT 00000000   2522  9403 10144 10317 10885 16977 17562 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4405 
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3675 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5502 
_CNT_STOP_LNGTH                           IMPT 00000000   3681 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   280

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_STOP_WAIT_TIM                        IMPT 00000000   5501 10155 
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3970 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3971 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3953 
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3972 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3967 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3968 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3969 
_CNT_SYNC_STS_FLG                         IMPT 00000000   3954 
_CONT_MOD_CNT_PV                          IMPT 00000000   3100 10040 12931 13040 13363 
_CONT_MOD_TIM_PV                          IMPT 00000000   3102 10028 13361 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3687 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3348 
_COP_DIG_SIG_FLG                          IMPT 00000000   3347 
_COP_OLD_ENC3600                          IMPT 00000000   3366 
_CPOS_BANK_USELFUL                        IMPT 00000000   3674 
_CPOS_CTL_MATH                            IMPT 00000000   2763  7583 10737 
_CPOS_DND_DIGTOP                          IMPT 00000000   3783 
_CPOS_DND_PLSTOP                          IMPT 00000000   3784 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3782 
_CPOS_DND_STOP_SW                         IMPT 00000000   3780 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3781 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4863 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4865 
_CPOS_MOD_FLG1                            IMPT 00000000   2762 10197 10380 10917 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2760 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3676 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2757 
_CPOS_SDAT1_INF1                          IMPT 00000000   2758 
_CPOS_SDAT1_NUM                           IMPT 00000000   2759 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2754 
_CPOS_SDAT1_SPD                           IMPT 00000000   2755 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2761 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3677 
_CPOS_SDAT1_TIM                           IMPT 00000000   2756 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2782 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2783 
_CPOS_STEP_MAX                            IMPT 00000000   2764  9915 10178 10249 10364 14178 19929 20548 20720 
_CPOS_UPAREA_PLS                          IMPT 00000000   2777 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5110 
_CPUA_CONT_MOD_CNT_PV                     IMPT 00000000   6352 13043 
_CPUA_LOT_CHK_FLG                         IMPT 00000000   6348 13023 
_CPUA_LOT_CNT_FLG                         IMPT 00000000   6350 13033 
_CPUA_SV_STEP                             IMPT 00000000  19845 
_CPUBX_MEM1_BUF                           IMPT 00000000   5576 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5575 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5574 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5585 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5587 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5586 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5582 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5583 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5581 
_CPUB_CONT_MOD_CNT_PV                     IMPT 00000000   6353 10048 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   281

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPUB_DBG_MONI_CNT                        IMPT 00000000   6354 
_CPUB_DBG_MONI_STP                        IMPT 00000000   7623 
_CPUB_LOT_CHK_FLG                         IMPT 00000000   6349 12877 
_CPUB_LOT_CNT_FLG                         IMPT 00000000   6351 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5204 
_CPUB_SV_STEP                             IMPT 00000000  19846 19916 20535 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5203 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5578 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5577 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5101 
_CPUD_CHK_TIME                            IMPT 00000000   5102 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5193 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5194 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   6067 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   6063 13806 13964 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   6065 
_CPU_AB_CED_OF_JG                         IMPT 00000000   6130 13743 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   6126 13930 13986 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   6128 13696 
_CPU_AB_CST_OF_JG                         IMPT 00000000   6119  9906 10240 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   6113 13902 13978 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   6114  9930 10265 13906 13982 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   6116 10418 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   6117 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   6145 18176 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   6144 17494 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   6085 13851 13969 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   6086 10101 10563 10693 10838 11037 11087 11122 11187 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   6105 13595 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   6101 13880 13974 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   6103 13548 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   6056 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   6052 13783 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   6054  8487 16500 16557 
_CPU_AB_STR_OF_JG                         IMPT 00000000   6078 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   6074 13828 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   6076  8668 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   6064 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   6066 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   6127 13725 
_CPU_BA_CED_ON_JG                         IMPT 00000000   6129 13715 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   6115 
_CPU_BA_CST_ON_JG                         IMPT 00000000   6118 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   6147 18197 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   6146 17427 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   6088 13855 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   6087  9983 10474 10668 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   6102 13577 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   6104 13567 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   6053 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   6055  8491  8718  8894 16504 
_CPU_BA_STEP_LOAD                         IMPT 00000000   6137  9923 10257 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   6075  9218 
_CPU_BA_STR_ON_JG                         IMPT 00000000   6077  8700  9234 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   282

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_SV_HAND_IN                           IMPT 00000000   2524 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2525 
_CPU_SV_HAND_OUT                          IMPT 00000000   2527 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3973 
_CTL_ENC360                               IMPT 00000000   2536 
_CTL_ENC360_OLD                           IMPT 00000000   4057 
_CTRL_UP_HOLD_CHK                P             0000193C   9099  9161 11939*
_CW_CCW_ENDSTEP_SERACH           P             00001864  11639 11685 11708 11753*
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4315 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4316 
_CYCLE_TIME_DAT                           IMPT 00000000   3016 
_CYCLE_TIME_FLG                           IMPT 00000000   3018 
_CYCLE_TIME_PV                            IMPT 00000000   3017 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6185  6646 
_CYCL_DSP_CNT_PV                          IMPT 00000000   3482 11419 13412 13478 
_CYCL_DSP_DISENB                          IMPT 00000000   3481 13416 13433 13454 13485 
_CYCL_START_CNT                           IMPT 00000000   2780 
_CYC_END_POS_FLG_CLR                      IMPT 00000000  19995 20105 20587 
_DAIHAI_CALC_WORK1                        IMPT 00000000   4356 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4365 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4367 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4368 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4369 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4357 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4358 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4359 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4360 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4361 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4362 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4363 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4364 
_DAI_CMP_SMPSTART                         IMPT 00000000   2960 
_DAI_HOSEI1_FLG                           IMPT 00000000   2950 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6193  7590 
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6182  6515 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5131 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5132 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5134 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5133 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5135 
_DBG_CNT_GPOSINT                          IMPT 00000000   3612 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3606 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3605 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3607 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5485 
_DBG_DNM_END_CNT                          IMPT 00000000   5484 
_DBG_DNM_STR_CNT                          IMPT 00000000   5483 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3246 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3248 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3245 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3247 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3615 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3619 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3627 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   283

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_STEP12_CHG_SPD                       IMPT 00000000   3623 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3609 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3616 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3620 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3628 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3624 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3610 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3617 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3631 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3621 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3629 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3625 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3611 
_DEBUG_CMPERR_STSMAK             P             00000644   7608  7649*
_DEBUG_ENC360_STS                         IMPT 00000000   4669 
_DEBUG_ENC360_STS2                        IMPT 00000000   4670 
_DEBUG_MOD_CODE                           IMPT 00000000   5129 
_DEBUG_SIGNAL_OFF                         IMPT 00000000  11524 11535 
_DEBUG_SPD_CHG_FLG1                       IMPT 00000000   5520 
_DEBUG_SPD_CHG_FLG2                       IMPT 00000000   5521 
_DEBUG_SPD_OLD_DAT1                       IMPT 00000000   5519 
_DEBUG_SQ_SIG_246_247            P             00001CD4  12969*
_DEBUG_STS_CNT1                           IMPT 00000000   5507 12985 13081 
_DEBUG_STS_CNT2                           IMPT 00000000   5508 12988 
_DEF_DAI_POS_PV                           IMPT 00000000   2989 
_DG_PS_INF_CHK1                           EQU  00000000   2208*
_DG_PS_INF_CHK2                           EQU  0000003C   2213*
_DG_PS_INF_CONT                           EQU  00000004   2209*
_DG_PS_INF_LATE                           EQU  00000010   2212*
_DG_PS_INF_STLK                           EQU  0000000C   2211*
_DG_PS_INF_UNIT                           EQU  00000008   2210*
_DIG_AREA_CHK0                            IMPT 00000000   6169 
_DIG_AREA_CHK1                            IMPT 00000000   6170 10765 12126 13125 20251 20279 
_DIR_FLG                                  IMPT 00000000   4069 
_DISP_ENC360                              IMPT 00000000   2540 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3019  6799 
_DISP_SV_DG_DAT                           IMPT 00000000   3332 
_DISP_SV_MM_DAT                           IMPT 00000000   3333 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   6152 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   6153 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   6166 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   6154 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   6167 
_DMATH_CNTROT                             EQU  00000001   2040* 7586 10740 12228 18840 19869 20496 20728 
_DMATH_DNDRIV                             EQU  00000004   2042* 7070  7586 10740 11657 12151 12236 12363 13149 17804 18583 18703 
                                                         19869 19968 20140 20234 20496 
_DMATH_REVRSE                             EQU  00000002   2041*11679 12160 12232 12363 13158 
_DMATH_UPDRIV                             EQU  00000008   2043*11627 12133 13132 
_DNDINC_CTRL_STEP                         IMPT 00000000   3779 
_DND_CALC_WORK                            IMPT 00000000   2806 
_DND_OVERCHK_DIG                          IMPT 00000000   4269 
_DNM_ACC_CALFLG                           IMPT 00000000   4239 
_DNM_CTL_INC3600                          IMPT 00000000   4107 10758 12118 13117 
_DNM_CYCLE_END                            IMPT 00000000  19991 20104 20583 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   284

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_DATA_REV_SET                         IMPT 00000000   6339  7100 18721 18749 
_DNM_DEBUG_CNT                            IMPT 00000000   4710 
_DNM_DEBUG_STS1                           IMPT 00000000   4709 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4105 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4106 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5088 18714 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4145 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4103 17808 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4104 
_DNM_DIR_SET_FLG                          IMPT 00000000   4102 12241 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4781 
_DNM_OBJ_AREA_SIG2               P             00003DB2   6381 20221*
_DNM_RESET_AREA                           IMPT 00000000   5043  7074 18587 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5475 20149 20286 20304 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4101 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4099 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4100 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4098 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4474 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4115 20244 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4114 20246 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5068 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4110 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4109 
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4111 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4113 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4112 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5176 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5185 
_DPCHK_ERR_SIG                            IMPT 00000000   5175 
_DPCHK_WR_COD                             IMPT 00000000   5177 
_DPSQ022                                  EQU  0000002C   2095*
_DPSQ024                                  EQU  00000030   2096*
_DPSQ028                                  EQU  00000038   2097*
_DPSQ029                                  EQU  0000003A   2098*
_DPSQ058                                  EQU  00000074   2099*
_DPSQ287                                  EQU  0000023E   2110*
_DPSQ288                                  EQU  00000240   2111*
_DPSQ340                                  EQU  000002A8   2101*
_DPSQ341                                  EQU  000002AA   2102*
_DPSQ356                                  EQU  000002C8   2103*
_DPSQ358                                  EQU  000002CC   2104*
_DPSQ359                                  EQU  000002CE   2105*
_DPSQ367                                  EQU  000002DE   2106*
_DPSQ368                                  EQU  000002E0   2107*
_DPSQ369                                  EQU  000002E2   2108*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2982 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2974 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2981 
_DRVHOS_IDO_BUF                           IMPT 00000000   2986 
_DRVHOS_IDO_CNT                           IMPT 00000000   2977 
_DRVHOS_IDO_POINT                         IMPT 00000000   2975 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2985 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2983 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   285

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DRVHOS_USE_FLG                           IMPT 00000000   2972 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2973 
_DRVHOS_WORK_BUF                          IMPT 00000000   2987 
_DRV_ACT_FLG                              IMPT 00000000   2673  7986  8119  8825  9303 11317 16702 
_DRV_START_INI_NEW1              P             00001EAC  13267 13390*
_DRV_START_KEEP                           IMPT 00000000   4005  8313  8926  9507  9529 15096 15110 15154 15257 16440 16610 
_DRV_START_KEP_WAIT              P             00002628   8593 15078*16041 
_DT_100PER_0                              EQU  00000064   2008*
_DT_100PER_1                              EQU  000003E8   2007*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3342 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3341 
_DUM_OVERLIDE_COF                         IMPT 00000000   5382 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3340 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5381 
_DUM_SET1_UPAREA_SPD0                     IMPT 00000000   5380 
_DUM_UPAREA_DIG0                          IMPT 00000000   3339 
_DURING_TIM_FX                            IMPT 00000000   4672 11453 
_ELSE_CPU_START_POS_PRESET       P             00000FD8   9855*
_ELSE_ERR_FLG1                            IMPT 00000000   2595 
_ELSE_ERR_FLG2                            IMPT 00000000   2596 
_EMG_CTL_FLG_PROC                P        EXPT 00001618   6287 11252*19977 
_EMG_OUT                                  IMPT 00000000   6007  6416 
_EMG_POS_FLG_PROC                         IMPT 00000000  19848 19973 
_EMG_SCANCUT_FLG                          IMPT 00000000   4817 
_EMG_STOP                                 IMPT 00000000   6220 15686 15745 15902 16130 17225 19679 
_EMG_STOP_SPEC                            IMPT 00000000  16875 16882 
_ENC360_BITERR_CNT                        IMPT 00000000   2560 
_ENC360_BITFLW_CNT                        IMPT 00000000   2559 
_ENC360_BITNML_CNT                        IMPT 00000000   2561 
_ENC360_HEX                               IMPT 00000000   2535 
_ENC360_INDT                              IMPT 00000000   2534 
_ENC360_INOLD                             IMPT 00000000   2533 
_ENC360_LINK_AREASIG                      IMPT 00000000   3654 
_ENC360_OVER_ENC                          IMPT 00000000   3546 
_ENC360_OVER_FLG                          IMPT 00000000   3545  8775 11281 16661 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3448 
_ENCPLS_DELT                              IMPT 00000000   3444 
_ENCPLS_POINT_SEL                         IMPT 00000000   3447 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3445 
_ENCPLS_SPD_POINT                         IMPT 00000000   3446 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3440 
_ENC_PLS_SPD                              IMPT 00000000   3441 
_ENC_PLS_SPD_DIR                          IMPT 00000000   3443 12223 
_ENC_SYSRST_CMD                           IMPT 00000000   2551 
_ENC_TIMEXT_FLG                           IMPT 00000000   2552 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5144 
_END_CMD_LATCH                            IMPT 00000000   2646  8078  9208  9241 
_EPCHK_COM                                IMPT 00000000   4962  7533  7839 18956 19699 
_EPCHK_DLY_TIM                            IMPT 00000000   4965 19021 19047 19075 19123 19137 19256 19421 19436 19623 
_EPCHK_ERR_TIM                            IMPT 00000000   4966 19090 19145 19221 19262 19292 19444 19479 
_EPCHK_FLG                                IMPT 00000000   4963  7454  7531  7833  7843 18950 19008 19656 19684 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4969 19288 19300 19701 
_EPCHK_RETRY_CNT                          IMPT 00000000   4967 19363 19389 19412 19525 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   286

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EPCHK_STEP                               IMPT 00000000   4964 19012 19098 19148 19205 19265 19314 19366 19392 19447 19505 19532 
                                                         19591 19627 
_EPCHK_STOP_DISENB                        IMPT 00000000   5289 
_EPCHK_STS                                IMPT 00000000   4968 18996 19016 19171 19187 19228 19332 19357 19383 19473 19487 19548 
                                                         19573 19579 19585 19608 19614 19660 19687 19706 19808 
_EPSEN_CLR                       P        EXPT 00003C08  18876 19802*
_EPSEN_IN_CHK                    P             00003BF0  19304 19495 19780*
_EP_JMP_TBL                      P             00003710  18905*19102 
_EP_SENCER_CHECK                 P        EXPT 00003794   7451 18944 18945*
_EP_SENCHK_STOPCONF1             P             00003BBC  18988 19732*
_EP_SENCHK_STOPCONF2             P             00003BBC  19057 19733*
_EQ_CNT_DISP_STCNT                        EQU  00000002  13388*13411 
_EQ_DND_MAX                               EQU  00000002   2045*
_EQ_ORG_HIS                               EQU  0000000A  15321*15398 15399 
_EQ_ORG_OFDIG                             EQU  00000708  15320*15333 15399 
_EQ_ORG_ONDIG                             EQU  000006FE  15319*15332 15398 
_EQ_STEP_MAX                              EQU  00000005   2034*
_EQ_STEP_MX2                              EQU  0000000A   2035*
_EQ_STEP_MX3                              EQU  00000062   2036*
_ERRCHK_ENC360                            IMPT 00000000   4621 
_ERR_FIRST_ST                             IMPT 00000000   5031 
_ERR_INFO_A01                             EQU  00000020   2264*
_ERR_INFO_A02                             EQU  00000022   2265*
_ERR_INFO_A03                             EQU  00000024   2266*
_ERR_INFO_A04                             EQU  00000026   2267*
_ERR_INFO_A05                             EQU  00000028   2268*
_ERR_INFO_A06                             EQU  0000002A   2269*
_ERR_INFO_A07                             EQU  0000002C   2270*
_ERR_INFO_A08                             EQU  0000002E   2271*
_ERR_INFO_B01                             EQU  00000030   2272*
_ERR_INFO_B02                             EQU  00000032   2273*
_ERR_INFO_B03                             EQU  00000034   2274*
_ERR_INFO_B04                             EQU  00000036   2275*
_ERR_INFO_B05                             EQU  00000038   2276*
_ERR_INFO_B06                             EQU  0000003A   2277*
_ERR_INFO_B07                             EQU  0000003C   2278*
_ERR_INFO_B08                             EQU  0000003E   2279*
_ERR_INFO_C01                             EQU  00000000   2256*
_ERR_INFO_C02                             EQU  00000004   2257*
_ERR_INFO_C03                             EQU  00000008   2258*
_ERR_INFO_C04                             EQU  0000000C   2259*
_ERR_INFO_C05                             EQU  00000010   2260*
_ERR_INFO_C06                             EQU  00000014   2261*
_ERR_INFO_C07                             EQU  00000018   2262*
_ERR_INFO_C08                             EQU  0000001C   2263*
_ERR_INFO_DLY_TIM                         IMPT 00000000   3540 
_ERR_INFO_RST_CLR                         IMPT 00000000   6204  6775 
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3541 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3542 
_ERR_LEV_IN2                              IMPT 00000000   4294  6391 
_ERR_LEV_IN3                              IMPT 00000000   4295  6394 
_ERR_LEV_IN4                              IMPT 00000000   4296  6397 
_ERR_LEV_IN5                              IMPT 00000000   4297  6400 
_ERR_LEV_IN6                              IMPT 00000000   4298 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   287

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EXQ_CTL_FLG_PROC                P        EXPT 00001670   6288 11257 11308*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5459 20038 20346 20376 
_EXQ_LT_GET_FLG                           IMPT 00000000   5458 19873 20336 20378 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5460 19881 20502 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5461 20005 20596 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5462 20079 20685 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5463 20052 20635 
_EXQ_OUT                                  IMPT 00000000   6008  6440 
_EXQ_PROC_STEP_RECOVER           P             00003C28   6676 19851*
_EXQ_STOP                                 IMPT 00000000   6328 18009 
_EXQ_STOP_LEV_POS_CLR                     IMPT 00000000   6206 11426 
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4886 17201 17361 
_EXTDRV_BTTN_USE                          IMPT 00000000   4879 17059 17174 17325 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4880 17112 17125 17300 
_EXT_BTTN_FLG                             IMPT 00000000   4883 17169 
_EXT_DRVBTTN_ERRTIM_SET          P             00003040  17186 17337 17355*
_EXT_DRVBTTN_INFO_MAKE           P             00002F08  17047 17099*
_EXT_DRVBTTN_MODE                P        EXPT 00002EBC  17035 17036*
_EXT_DRVBTTN_MODJG_CONF          P             00002FC8  17053 17251*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   6159 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   6160 
_FPU_POS_HOKAN1                           IMPT 00000000   6172 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   6157 16796 16806 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   6158 
_FPU_TIM_HOKAN1                           IMPT 00000000   6173 
_FRCYCL_OF                                IMPT 00000000   6023  9309 12569 
_FRCYCL_ON                                IMPT 00000000   6024 12615 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3587 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3586 
_FREQ_SV_SPD                              IMPT 00000000   3519 
_FR_CYL_MASK_FLG                          IMPT 00000000   2645 12564 12610 
_FULCLS_ELSE_STS                          IMPT 00000000   4869 
_FULCLS_MATHED                            IMPT 00000000   4859 
_FULCLS_TIM_SETFLG                        IMPT 00000000   4867 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3081 
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4676 
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4677 
_FUL_CLS_RNADIG                           EQU  00000320   2012*
_FUL_DATA_INIT                            IMPT 00000000   6190 14109 
_FWD_REV_STSIG_OFF                        IMPT 00000000   6201 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3885 
_GPOSIN_HOS_RESET                         IMPT 00000000   6209 11432 
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3961 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3962 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2881 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2880 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   6155 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   6156 
_HIST_DAT_SEND_COM                        IMPT 00000000   5554 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5553  6766 
_HIST_EVENT_COD                           IMPT 00000000   5555 
_HIST_KEP_SEND_COM                        IMPT 00000000   5556 
_HOLD1_DNSTART_POSCHK            P             00003230  17677 17798*
_HOLD_RESTART_BA_JG              P             0000341C   8048 18192*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   288

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HOLD_RESTART_OF_OUT             P             00003408   8044 18171*18407 
_HOLD_STOP_BA_JG                 P             00003560   7993 18486*
_HOLD_WAIT_DURING_SIG            P             000034A0  18306 18327*
_INCENC_ADD                               EQU  00000000   2067*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2702 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2701 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2703 
_INCHEN_ADD                               EQU  00000000   2066*
_INCREV_ADD                               EQU  00000000   2071*
_INCRNA_ADD                               EQU  00000000   2068*
_INCSTP_ADD                               EQU  00000000   2069*
_INC_ABS_ORGWORK                          IMPT 00000000   2928 
_INC_ABS_ORGWORK2                         IMPT 00000000   4348 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4349 
_INC_ENC360                               IMPT 00000000   2539 15329 18742 20248 20276 
_INC_ENC_MM_POS                           IMPT 00000000   2723 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4350 
_INC_RESET_STEP                           IMPT 00000000   5083 18531 18641 18689 
_INC_RESET_USE_F                          IMPT 00000000   5084 18534 18756 
_INC_RSTMODE_CHK                 P             0000358C   7040 18556*
_INC_RST_DATA_CHK                P             000036E4  18626 18833*
_INC_RST_WORK_CLR                P        EXPT 00003570  18522 18526*
_INC_SPEC_RSTCHK                 P        EXPT 000036BA  18562 18789 18790*
_INC_STOP_CNT                             IMPT 00000000   3260 
_INFO_CHK1_COD                            EQU  5AA51234   2206*
_INFO_CHK2_COD                            EQU  4321A55A   2207*
_INPUT_MODE_SW                            IMPT 00000000   2594 
_INP_ERR_FLG                              IMPT 00000000   4612 
_INP_MODE                                 IMPT 00000000   2626  6865  6901  6933  7399 11574 15677 15709 16333 18800 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5152 
_INT1MS_SCAN_02MS                         IMPT 00000000   4287 
_INT1MS_SCAN_03MS                         IMPT 00000000   4288 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4289 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4290 
_INT1MS_SCAN_10MS                         IMPT 00000000   4291 
_INT_CLS_CTL_FLG                          IMPT 00000000   2847 11229 11346 
_INT_CLS_DYL_TIM                          IMPT 00000000   2848 
_INT_CYC_DRV_STS                          IMPT 00000000   2846 
_INT_DND_CTL_STEP                         IMPT 00000000   2842 
_INT_DND_NEG_STEP                         IMPT 00000000   2850 
_INT_DND_STEP_FLG                         IMPT 00000000   2845 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2859 
_INT_POS_CTL_FLAG                         IMPT 00000000   2843 15920 
_INT_POS_CTL_STEP                         IMPT 00000000   2840  9913 10176 10247 10362 10750 11270 11956 12107 13105 14176 17642 
_INT_POS_STEP_FLG                         IMPT 00000000   2844 
_INT_SFY_INP_DAT                          IMPT 00000000   3647 
_INT_SPD_CHG_FLG                          IMPT 00000000   5513 
_INT_STP_INP_DAT                          IMPT 00000000   3648 
_INT_STP_INP_DAT1                         IMPT 00000000   3649 
_INT_STP_INP_DAT2                         IMPT 00000000   3650 
_INT_STP_INP_DAT3                         IMPT 00000000   3651 
_INT_TIM_CHG_FLG                          IMPT 00000000   5514 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4044 15511 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   289

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_IN_POS_GPOINT_POS                        IMPT 00000000   3946 
_IN_RDY_FLG                               IMPT 00000000   2634  7551  7817  7896  9282 11286 
_IN_RNA_REF_ERR_FLG1                      IMPT 00000000  14966 
_IN_RNA_REF_ERR_FLG2                      IMPT 00000000  14967 
_IRQ_EMG_CNT                              IMPT 00000000   3641 
_IRQ_EMG_FLG                              IMPT 00000000   3640 
_IRQ_EMG_STP_CLR                          IMPT 00000000   6207  6624 
_IRQ_SFY_CNT                              IMPT 00000000   3643 
_IRQ_SFY_FLG                              IMPT 00000000   3642 
_IRQ_STP_CNT                              IMPT 00000000   3645 
_IRQ_STP_FLG                              IMPT 00000000   3644 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4202 
_KAJLIV_TTL_POINT                         IMPT 00000000   4201 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4199 
_KJPHOS_CAL_PRS                           IMPT 00000000   3009 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   3001 
_KJPHOS_IDO_BUF                           IMPT 00000000   3004 
_KJPHOS_IDO_CNT                           IMPT 00000000   2998 
_KJPHOS_IDO_POINT                         IMPT 00000000   2997 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   3003 
_KJPHOS_SAMPLING1                         IMPT 00000000   6305  7596 
_KJPHOS_SIG_CLR                           IMPT 00000000   6304  6524 
_KJPHOS_USE_FLG                           IMPT 00000000   2996 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   3000 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4856 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4857 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4855 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   3007 
_KJYUU_IN_DAT_PV                          IMPT 00000000   3006 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   3008 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4866 
_KJYU_CMP_CMD                             IMPT 00000000   4925 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4931 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4930 
_KJ_AREATRD_SIG                           IMPT 00000000   4907 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4908 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3765 
_KJ_AREA_SIG                              IMPT 00000000   3764 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2487 
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3680 
_LINK_1000ROT_PLS                         IMPT 00000000   4220 
_LINK_1ROT_PLS                            IMPT 00000000   2774 18849 
_LINK_2ROT_PLS                            IMPT 00000000   4217 
_LINK_3ROT_PLS                            IMPT 00000000   4218 
_LINK_4ROT_PLS                            IMPT 00000000   4219 
_LINK_CLANK_DIG_MAK                       IMPT 00000000   6312 14355 
_LINK_CLANK_PV                            IMPT 00000000   3497 14359 20740 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3049 16785 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2697 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2696 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2698 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2699 18621 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2768 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2767 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   290

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_POS_OFFSET1                         IMPT 00000000   2861 
_LINK_POS_OFFSET2                         IMPT 00000000   2862 
_LINK_PV_ABSPLS                           IMPT 00000000   2860 14326 14433 16916 
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2821 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2829 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2830 
_LNGTH_ADD_DATA                           IMPT 00000000   2855 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2856 
_LONG_BIT_TBL0                            IMPT 00000000   6231 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3484 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3485 
_LOT_CHK_FLG                              IMPT 00000000   2666 12857 12978 13020 13071 
_LOT_CNT_CNT                     P             00001C50   7564 12820*
_LOT_CNT_FLG                              IMPT 00000000   2664 10790 12897 12912 12975 13030 13076 
_LOT_SIG_FLG_CLR                 P        EXPT 00001D50   6637 13057 13067*20000 20591 
_LOT_SIG_SET                              IMPT 00000000  12819 12926 
_LSA1_FILETR_TIM                          IMPT 00000000   3746 
_LSA2_FILETR_TIM                          IMPT 00000000   3747 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3752 
_LSA_ENC_DIG                              IMPT 00000000   3739 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3740 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3741 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3742 
_LSA_ERRCLR_INI                           IMPT 00000000   6199  6528 
_LSA_ERR_SIG                              IMPT 00000000   3751 
_LSA_SIG_DT                               IMPT 00000000   3743 
_LSA_SIG_DT2                              IMPT 00000000   4068 
_LSA_SIG_OLD_DT                           IMPT 00000000   3744 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3745 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3603 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4476 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4477 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4478 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4479 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3582 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3581 
_LSI_LOAD_PLS                             IMPT 00000000   5213 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3571 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3572 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3573 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3554 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3567 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3565 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3564 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3568 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3574 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3575 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3576 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3577 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3578 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3555 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3665 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3666 
_LSI_SET_SPD_SV                           IMPT 00000000   3664 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   291

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3515 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3514 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3516 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3517 
_LT_RNA_REF_ERR_FLG1                      IMPT 00000000  14955 14969 
_MAIN_CLK                                 IMPT 00000000   4803 
_MAIN_SPD_CHG_FLG                         IMPT 00000000   5515 
_MAIN_START_OK                            IMPT 00000000   2497 
_MAIN_TIM_CHG_FLG                         IMPT 00000000   5516 
_MASK2_SAFTY_MAK                 P             000027B8   7486 15559*
_MASK2_SAFTY_SW_MOV              P             00002818   8271 15628*
_MCN_DBG_COD11                            EQU  00000063   2241*
_MCN_DBG_COD21                            EQU  00000059   2243*
_MCN_DBG_COD22                            EQU  00000058   2244*
_MCN_DBG_COD23                            EQU  00000058   2245*
_MCN_DBG_COD31                            EQU  0000004F   2247*
_MCN_DBG_COD32                            EQU  0000004E   2248*
_MCN_DBG_COD33                            EQU  0000004D   2249*
_MCN_FUJI_DBG1                            EQU  000004D2   2251*
_MNWR_POS_CMD                             IMPT 00000000   2790  9004  9019 10097 10558 10689 10833 11032 11082 11117 11183 15922 
                                                         17490 
_MN_POS_CTRL_ACT                          IMPT 00000000   6178  9203 
_MN_POS_CTRL_START                        IMPT 00000000   6177  8794 
_MODE_AREA_MAKE                  P        EXPT 00000524   6295  7420*
_MODE_CHANGE                     P        EXPT 00000448   6293  7211*
_MODE_CNTCNF1_STOP_CHK           P             000011A0  10291*10620 
_MODE_CNTCOM1_STOP_CHK           P             00001158  10234*10616 10660 
_MODE_CNTCOM2_STOP_CHK           P             000011E0  10351*10636 
_MODE_CNT_STOP_CHK               P             00000FE0   9065  9901*
_MODE_CSS_STOP_CHK               P             000012F4   9050 10593*
_MODE_CTRL                       P        EXPT 00000534   6294  7444*
_MODE_DIC_STOP_CHK               P             000014C0   9194 10969*
_MODE_DUP_STOP_CHK               P             0000152C   9181 11061*
_MODE_INC_STOP_CHK               P             000014AC   9081 10951*
_MODE_OPT_STOP_CHK               P             000014AC   9165 10950*
_MODE_SEL                                 IMPT 00000000   2627  7790  8463  9038  9258  9389  9565  9590  9699 10445 10598 11576 
                                                         11609 12708 12826 13318 13405 13473 14696 14825 14873 17448 18298 19857 
                                                         20226 20486 
_MODE_SGL_STOP_CHK               P             00001244   9111 10440*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3921 
_MONI_DISP_MOD                            IMPT 00000000   5558 
_MONI_RDY_STEP                            IMPT 00000000   5024  8149  8171  8207  8358  8415  8433  8448  9372  9385  9399  9418 
_MONI_RESET_STEP                          IMPT 00000000   5023  6898  6917  6930  6948  6958  6984  6996  7020  7033  7085  7116 
                                                          7136  7157 
_MONI_SELF_STS1                           IMPT 00000000   5025 
_MONI_SELF_STS2                           IMPT 00000000   5026 
_MOTION_CHK_START_FLG                     IMPT 00000000   5330 
_MOTION_SPD_CHKCNT                        IMPT 00000000   5447 
_MOT_REP_CNT                              IMPT 00000000   5070 
_MOT_REP_F                                IMPT 00000000   5069 14241 
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5087 18708 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2600 
_MOV_ERR_FLG1                             IMPT 00000000   2597 
_MRTION_SEL                               IMPT 00000000   2632 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   292

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   6163 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   6162 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   6164 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4729 12495 12689 
_M_LINK_AREASIG                           IMPT 00000000   2706  7128 10744 11990 18602 20173 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2814 
_NEAR_IN_FLG                              IMPT 00000000   2689 14113 
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4328 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4326 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4327 
_NEG_EXITTIM                              IMPT 00000000   4698 
_NEWMASK_SEL_STOPMSK             P             00001B24   8293  8320 11341 12489*16427 16447 
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3583 
_NEW_TEP_CNT                              IMPT 00000000   3811 
_NOW_INC_DIG_MAK                          IMPT 00000000   6226 18616 
_NOW_MOTREP_DIR                           IMPT 00000000   5071 
_NOW_POS_PRESET_OUTPLS                    IMPT 00000000   6179  6550 
_NZ_TIM_CHK1                     P        EXPT 00002460  14583 14638*
_NZ_TIM_OUT_PV1                           IMPT 00000000   3399 10955 14606 14648 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3400 14616 14663 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3397 14599 14642 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3398 14609 14657 
_OBJDIG_CLANK                             IMPT 00000000   4701 
_OBJ_ENC360                               IMPT 00000000   2541 
_OLD_RNAORG_POS1                          IMPT 00000000   2528 
_OPT_SGL_SFTY_MASK_CHK           P             00001BCC  12335 12682*
_ORGIN2_STEP_FLG                          IMPT 00000000   4337 
_ORGIN_180CHK                    P             000026AC   8213 15324*
_ORGIN_END_FLG1                           IMPT 00000000   3071 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3835 14771 14885 
_ORGIN_MOD2_SEL                           IMPT 00000000   3834 14738 14840 14900 14917 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3836 14764 14793 14879 
_ORGIN_MODE_FLG_CLR              P        EXPT 00002508   8663 11171 11445 14782 14788*
_ORGIN_MODE_SEL_START            P             0000251C   8604 14820*
_ORGIN_MODE_SEL_WAIT             P             000024A0   8631 14691*
_ORGIN_MODE_START_WAIT           P             00002550   8180 14869*
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4393 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4394 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4395 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2604  6951 
_ORG_DRV_CNT_PV                           IMPT 00000000   3471 13401 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2603  6988 
_ORG_END_SIG_CLR                          IMPT 00000000   6183  6519 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3062 
_ORG_PRESET_TIM                           IMPT 00000000   2612  6547 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3472 11104 11353 13396 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3063 
_ORIGN_180ARA_FLG                         IMPT 00000000   4029 15369 15432 15468 16688 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3667 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3458 
_OUTPLS_DELT                              IMPT 00000000   3454 
_OUTPLS_DIV                               IMPT 00000000   2864 
_OUTPLS_MOD                               IMPT 00000000   2863 
_OUTPLS_POINT_SEL                         IMPT 00000000   3457 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   293

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3455 
_OUTPLS_SPD_POINT                         IMPT 00000000   3456 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3450 
_OUT_PLS_SPD                              IMPT 00000000   3451 
_OUT_PLS_SPD_DIR                          IMPT 00000000   3453 
_OVER1_JGDIG                              EQU  00000032   2050*
_OVERH_CALC_USE                           IMPT 00000000   4695 
_OVERH_MODE_SEL                           IMPT 00000000   4693 
_OVERLIDE_DT_SEL                          IMPT 00000000   3883 
_OVERLID_DEF_SET                          IMPT 00000000   6310  6793 
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3910 
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3873 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3871 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3872 
_OVER_RIDE_USEFUL                         IMPT 00000000   3905 
_OVER_RID_UPDN_LAT_DTMK                   IMPT 00000000   6308  8749 
_OVER_UPDN_DBGCNT                         IMPT 00000000   3907 
_OVRLIDE_LATE_MAX                         EQU  00000064   2282*
_PAR_BRKDISE_TIM                          IMPT 00000000   6254 
_PAR_BRKLOCK_TIM                          IMPT 00000000   6255 
_PAR_BTNER_TM                             IMPT 00000000   6272 17359 
_PAR_EP1STR_DLYTM                         IMPT 00000000  18879 19121 
_PAR_EP2FVINOF_ERTM                       IMPT 00000000  18880 19143 
_PAR_EP3BRKON_DLYTM                       IMPT 00000000  18881 19254 
_PAR_EP4EPINOF_ERTM                       IMPT 00000000  18882 19260 
_PAR_EP5RSTON_DLYTM                       IMPT 00000000  18883 19419 
_PAR_EP6RSTOF_INTTM                       IMPT 00000000  18885 19434 
_PAR_EP6RSTON_JGTM                        IMPT 00000000  18884 19442 
_PAR_EP6RST_RETRY                         IMPT 00000000  18886 19523 
_PAR_EP7AB_DLYTM                          IMPT 00000000  18887 19135 
_PAR_EP7END_DLYTM                         IMPT 00000000  18888 19621 
_PAR_EPCHK_SEL                            IMPT 00000000  18878 18973 
_PAR_EXTDRV_SEL                           IMPT 00000000   6271 17041 
_PAR_INCMODE_EPLS                         IMPT 00000000   6278 18645 
_PAR_INCMODE_SEL                          IMPT 00000000   6277 18795 
_PAR_MYUTERR_SEL                          IMPT 00000000   6273 15661 
_PAR_MYUTING_SEL                          IMPT 00000000   6268 15564 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6340  8287 16421 
_PAR_ORGDRV_CNT                           IMPT 00000000   6250 13399 
_PAR_ORGDRV_MOD                           IMPT 00000000   6249 11066 14724 
_PAR_POSHLD_BRKSEL                        IMPT 00000000   6281 18293 
_PAR_SELFCHK_POWSEL                       IMPT 00000000   9810  9816 16722 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6256 
_PAR_SFTY_BRKSEL                          IMPT 00000000   6253 
_PAR_SLOCK_DLY2                           IMPT 00000000   6257 
_PAR_UPCHK_SEL1                           IMPT 00000000   6261 11855 12018 
_PAR_UPMASK_SPD                           IMPT 00000000   6264 12270 
_PLSOUTEND_FLG                            IMPT 00000000   5236 
_PLSOUTEND_PVPLS                          IMPT 00000000   5234 
_PLSOUTEND_SHIN                           IMPT 00000000   5235 
_PLS_OUTPUT_FLG                           IMPT 00000000   3390 
_PLS_OUT_END_STS                          IMPT 00000000   4786 
_PON_ERR_WAIT_TIM                         IMPT 00000000   5166 
_POSCANSEL_CMD                            IMPT 00000000   5474 11158 20406 20427 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   294

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSCAN_PROC_STEP_RECOVER        P             00003EE0  20437 20480*
_POSCTL_CALC_ERR                          IMPT 00000000   3858 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3914 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3913 
_POSCTL_RL_PLS                            IMPT 00000000   3845 
_POSCTL_RL_SPD                            IMPT 00000000   3849 
_POSCTL_SET_SPD                           IMPT 00000000   3847 
_POSCTL_STEP_CMD                          IMPT 00000000   3856 
_POSCTL_STEP_FLG                          IMPT 00000000   3857 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3852 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3854 
_POSCTL_SV_PLS                            IMPT 00000000   3844 
_POSCTL_SV_SPD                            IMPT 00000000   3848 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3851 
_POSCTRL_CANSEL_RESET            P             00003E90   7480 20402*
_POSHLD1_CHKLST_FLG                       IMPT 00000000   5018 17611 17621 18036 
_POSHLD1_FLG_CLR                 P             00003368  18029*18235 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4997 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4998 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   5000 17827 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   5001 17814 
_POSHLD1_SIG_CHK                 P             00003394   7945 18064*
_POSHLD1_STEP1_STOPCMD_CHK       P             00003058   8966 17404*
_POSHLD1_STEP2_START_CHK         P             00003274  17856*18153 
_POSHLD1_STOPBTTNCMD_CHK         P             00003120   7982  8019 17479 17557*
_POSHLD1_STOPLATCH                        IMPT 00000000   5006 10126 10301 17574 18389 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4995 
_POSHLD1_STOP_CONFCHK            P             0000314C  17456 17595*
_POSHLD1_STOP_STEP                        IMPT 00000000   4994 17623 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4993 
_POSHLD_SET_DN_ACC                        IMPT 00000000   5005 
_POSINER_FLG                              IMPT 00000000   4947 
_POSINER_MOSTPV_POS                       IMPT 00000000   4943 
_POSINER_OLDPV_POS                        IMPT 00000000   4942 
_POSINER_PV_POS                           IMPT 00000000   4941 
_POSINER_RETRY_CNT                        IMPT 00000000   4949 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4950 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4951 
_POSINER_STS                              IMPT 00000000   4948 
_POSINER_SV_OVRPOS                        IMPT 00000000   4945 
_POSINER_SV_POS                           IMPT 00000000   4944 
_POSINER_SV_STPPOS                        IMPT 00000000   4946 
_POSLSI_CHK_CNT                           IMPT 00000000   2873 
_POSLSI_CHK_DLT                           IMPT 00000000   2874 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2867 
_POSLSI_CHK_STS                           IMPT 00000000   2875 
_POSLSI_CMP_DATA                          IMPT 00000000   2857 
_POSLSI_DELT_POS                          IMPT 00000000   2858 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2866 
_POSLSI_DRV_FRQ                           IMPT 00000000   3584 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2871 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2869 
_POS_CALC_ERR_FLG1                        IMPT 00000000   3557 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3558 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   295

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CALC_ERR_INF1                        IMPT 00000000   3561 
_POS_CALC_ERR_INF2                        IMPT 00000000   3562 
_POS_CANSEL_CLR                  P             000015EC  11167 11216*
_POS_CANSEL_STOP_CHK             P             00001598   8988 11145*
_POS_CMP_1STEP_START_INI         P        EXPT 000021D8  13524 14040 14096*
_POS_CTRL_SQ_STS                          IMPT 00000000   2837  8222 11374 13273 14123 
_POS_DRV_DIRECT                           IMPT 00000000   2831 
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5255 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5254 
_POS_END_WAIT_TIM                         IMPT 00000000   5245 
_POS_FRQ_SPDMAX                           IMPT 00000000   3055 
_POS_GPOINT_POS                           IMPT 00000000   3947 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4977 17880 17932 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4978 17408 17498 17860 17884 17953 18034 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4979 17977 18076 18392 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4980 17726 17979 18109 18394 
_POS_HOLDABS_CALCF                        IMPT 00000000   5017 17600 
_POS_HOLD_CMD                             IMPT 00000000   5012  7956  8034 17503 18229 18343 
_POS_HOLD_FLG                             IMPT 00000000   5013  7950  7963  8001 18231 18338 18465 
_POS_HOLD_FLG_CLR                P             00003430   8055 18221*18380 
_POS_HOLD_FLG_EXQ_CLR            P             000034D0  11459 18374*
_POS_HOLD_FLG_STR2CLR            P        EXPT 0000345C   6337  8571  8802 18253*18384 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   5014  8060  8709 18258 18333 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   5015 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   5011  8028 17958 18227 
_POS_HOLD_RESTART_CHK            P             000033F4   8024 18148*
_POS_LSI_ABSPLS                           IMPT 00000000   2919 
_POS_LSI_ACCLT1                           IMPT 00000000   3059 
_POS_LSI_ACCLT2                           IMPT 00000000   3060 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3556 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3560 
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3077 
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3076 
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2923 
_POS_LSI_OFFSET1                          IMPT 00000000   2921 
_POS_LSI_OFFSET2                          IMPT 00000000   2922 
_POS_LSI_OLDCNT                           IMPT 00000000   2925 
_POS_LSI_SLOW_STOP                        IMPT 00000000   6202 
_POS_LSI_SPDBAS                           IMPT 00000000   3058 
_POS_LSI_SPDLAT                           IMPT 00000000   3057 
_POS_LSI_SPDMAX                           IMPT 00000000   3056 
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2918 
_POS_STEP1_SEARCH                         IMPT 00000000  18549 18633 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3509 
_PRD_DAI_POS0                             IMPT 00000000   3507 
_PRD_DAI_POS1                             IMPT 00000000   3508 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3995 
_PRESET_PV_FLGCLR                         IMPT 00000000   6225  6560 
_PS_DG_INF_CHK1                           EQU  00000000   2215*
_PS_DG_INF_CHK2                           EQU  0000003C   2220*
_PS_DG_INF_CONT                           EQU  00000004   2216*
_PS_DG_INF_LATE                           EQU  00000010   2219*
_PS_DG_INF_STLK                           EQU  0000000C   2218*
_PS_DG_INF_UNIT                           EQU  00000008   2217*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   296

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PS_TIME                                  EQU  00000002   2005*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3258 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3462 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3463 
_PVPX1_CKLMT_AGLTOP                       IMPT 00000000   5332 
_PVPX1_CKLMT_SPDTOP                       IMPT 00000000   5333 
_PVP_MOT_ACT_STEP                         IMPT 00000000  14253 14254 
_PVP_WTJUD_AGL                            IMPT 00000000   6334 
_PVP_WTJUD_POS                            IMPT 00000000   6335 
_PVP_WTJUD_SNO                            IMPT 00000000   6333 
_PVX_AMPERR_TIM1                          IMPT 00000000   3195 
_PVX_AMPERR_TIM2                          IMPT 00000000   3196 
_PVX_AMPERR_TIM3                          IMPT 00000000   3197 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4753 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4734 
_PVX_DAI_POS0                             IMPT 00000000   2939 
_PVX_DAI_POS1                             IMPT 00000000   2940 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4718 
_PVX_DYHITO_POS                           IMPT 00000000   2947 
_PVX_IAMP_VLT                             IMPT 00000000   3198 
_PVX_INPPOS_TIM1                          IMPT 00000000   3171 
_PVX_MOTINS_AG2                           IMPT 00000000   4538 
_PVX_MOTINS_AG2X                          IMPT 00000000   4539 
_PVX_MOTINS_AG3                           IMPT 00000000   4544 
_PVX_MOTINS_AG3X                          IMPT 00000000   4545 
_PVX_MOTINS_AGL                           IMPT 00000000   4541 
_PVX_MOTINS_AGLX                          IMPT 00000000   4542 
_PVX_MOTINS_DAN                           IMPT 00000000   4549 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4550 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4548 
_PVX_MOTINS_INF                           IMPT 00000000   4552 
_PVX_MOTINS_POS                           IMPT 00000000   4535 
_PVX_MOTINS_PS2                           IMPT 00000000   4534 
_PVX_MOTINS_PS3                           IMPT 00000000   4536 
_PVX_RNA_STLORK                           IMPT 00000000   2941 
_PV_ENC_SPD_PER                           IMPT 00000000   3460 12272 
_PV_OUT_SPD_PER                           IMPT 00000000   3461 
_RDYON_CONF1                     P             00000DD8   8422  8561  9358*
_RDY_CHEAK                       P             00000770   7572  7936*
_RDY_HOLDSTP_FLGOUT              P             00003548   7576 18460*
_RDY_HOLDSTP_OF_FLGOUT           P             0000352C  18411 18438*
_RDY_OF                                   IMPT 00000000   6018  8838  8919 16598 16715 
_RDY_ON                                   IMPT 00000000   6017  8498 16511 16553 
_RDY_SFTY_LOCK                            IMPT 00000000   3731 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3732 15103 15124 15247 
_RECOVER_WAIT_AREA_CHK           P             00003D68  19908 20116*20527 
_RENEA_ERR_RESET_INI                      IMPT 00000000  14954 14994 
_REP_CAMOBJ_DIG                           IMPT 00000000   5072 
_RESET_CHEAK                     P        EXPT 00000000   6292  6371*
_RESET_CONF_CHK                  P             000002B4   6565  6853*
_RESET_END_OUT                            IMPT 00000000   6010  6747 
_RESET_ERR_SEQ_CLR                        IMPT 00000000   6187  6608  6757 
_RESET_ERR_SEQ_CLR1                       IMPT 00000000   6188 
_RESET_ERR_SEQ_CLR2                       IMPT 00000000   6189  6761 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   297

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RESET_OUT                                IMPT 00000000   6009  6612  6713 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2731 
_RESET_ROTNUM_ZR                          IMPT 00000000   2730 
_REVCHK_DRIV_SHIN                         IMPT 00000000   4619 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4620 
_REVMOD_REVDN_DIG                         IMPT 00000000   4622 
_REV_CALC_WORK0                           IMPT 00000000   3249 
_REV_CALC_WORK1                           IMPT 00000000   3250 
_REV_CALC_WORK2                           IMPT 00000000   3251 
_REV_ERR_FLG                              IMPT 00000000   5276 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5279 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5280 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4618 
_REV_LATCH_ENCPOS                         IMPT 00000000   2889 
_REV_LATCH_OUTPLS                         IMPT 00000000   2888 
_REV_LATCH_RNAPOS                         IMPT 00000000   2890 
_RM1_CHK_OLDSTS                           IMPT 00000000   5104 
_RM1_CHK_TIME                             IMPT 00000000   5105 
_RM2_CHK_OLDSTS                           IMPT 00000000   5107 
_RM2_CHK_TIME                             IMPT 00000000   5108 
_RNAREV_ADD                               EQU  00000000   2072*
_RNASTP_ADD                               EQU  00000000   2070*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2980 
_RNA_ABS_MAXPOS                           IMPT 00000000   2959 
_RNA_ABS_MD2_C1                           IMPT 00000000   4352 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4353 
_RNA_ABS_MD2_C2                           IMPT 00000000   4354 
_RNA_ABS_MD_DT0                           IMPT 00000000   2943 
_RNA_ABS_MD_DT1                           IMPT 00000000   2944 
_RNA_ABS_MEMORG                           IMPT 00000000   2936 
_RNA_ABS_MINPOS                           IMPT 00000000   2958 
_RNA_ABS_ORGWORK                          IMPT 00000000   2927 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4346 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4347 
_RNA_ABS_POS                              IMPT 00000000   2935 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2957 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2956 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4493 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4486 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4488 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4487 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4490 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4489 
_RNA_BBN_SET_TIME                         IMPT 00000000   4492 
_RNA_CMD_RD_CNT                           IMPT 00000000   2554 
_RNA_CMD_SND_CNT                          IMPT 00000000   2553 
_RNA_COM_ERR_CNT                          IMPT 00000000   2546 
_RNA_COM_NML_CNT                          IMPT 00000000   2547 
_RNA_CTL_POS0                             IMPT 00000000   2945 
_RNA_CTL_POS1                             IMPT 00000000   2946 
_RNA_ENC360                               IMPT 00000000   2538 
_RNA_ERR_RSTCHK                  P        EXPT 00002770  15490 15497*
_RNA_HOS_DELT                             IMPT 00000000   2948 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4505 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   298

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2722 
_RNA_OLD_STEP                             IMPT 00000000   4508 
_RNA_POS_OFFSET1                          IMPT 00000000   2933 
_RNA_POS_OFFSET2                          IMPT 00000000   2934 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4045 
_RNA_PROTOCOL_X                           IMPT 00000000   4048 
_RNA_RESET_FLG                            IMPT 00000000   2549 15517 
_RNA_RESET_TIM                            IMPT 00000000   2550 
_RNA_SCIF_ERR_CLR1               P             000025BC   6555 14961*15529 
_RNA_SCIF_ERR_CLR2                        IMPT 00000000   6218 14990 15008 
_RNA_STLORK                               IMPT 00000000   2938 
_RNA_STLORK_HALF                          IMPT 00000000   4344 
_RNA_STOP_CNT                             IMPT 00000000   3259 
_RNA_TECH_POINT                           IMPT 00000000   4504 
_RNA_TECH_POSBUF                          IMPT 00000000   4503 
_ROOT_MAIN_INP                            IMPT 00000000   5564 
_ROOT_MAIN_OUT                            IMPT 00000000   5565 
_ROT_CNTMODE_CHK                 P             00003FF8  20667 20711*
_RST_DLY_TM                               EQU  000000C8   2024* 6710 
_RST_ERR_CHK_ERR                          IMPT 00000000   2894 
_RST_ERR_CHK_FLG                          IMPT 00000000   2892 11350 
_RST_MOD_POS_END                 P             00001790   6743 11557*
_RST_MOD_POS_START               P             0000177C   6616 11529*
_SAME_TIM                                 IMPT 00000000   2674  8483  9561  9673 16496 
_SCAN_DBG_CNT                             IMPT 00000000   4822 
_SCAN_SMP_SIG                             IMPT 00000000   4809 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4800 
_SCAN_TIM_IN                              IMPT 00000000   4805 
_SCAN_TIM_POINT                           IMPT 00000000   4801 
_SCAN_TIM_TOTAL                           IMPT 00000000   4799 
_SDATCLS_OBJMM                            IMPT 00000000   3083 
_SDATCLS_OBJPLS                           IMPT 00000000   3082 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3084 
_SDATCLS_TRG_STEP                         IMPT 00000000   3086 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3085 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2776 
_SELFCHK_LOCK_SET                P             00000FA4   8846  9811*
_SELF_AD_LATCH                            IMPT 00000000   3720 
_SELF_BRK_LOCK                            IMPT 00000000   3716 
_SELF_CHK_MATHED                          IMPT 00000000   3715  9829 16735 
_SELF_CHK_SEL                             IMPT 00000000   2621  9265  9827 15829 16733 
_SELF_COM                                 IMPT 00000000   2619  7503  7823  7878 
_SELF_FIRST_END_FLG                       IMPT 00000000   3713 
_SELF_FLG                                 IMPT 00000000   2617  7501  7801  7827  7907 15582 15835 
_SELF_LOCK_FLG                            IMPT 00000000   4000  9823 16729 
_SELF_MOV_LENGTH                          IMPT 00000000   3723 
_SELF_MOV_SPEED                           IMPT 00000000   3724 
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3718 
_SELF_SECOND_STEP                         IMPT 00000000   3719 
_SELF_START_CONF                          IMPT 00000000   6175  7870 
_SELF_START_POS_LATCH                     IMPT 00000000   3722 
_SELF_START_WAIT_TM                       IMPT 00000000   2620 
_SELF_TIMING_SIG                          IMPT 00000000   3714  6641  9277 
_SEQAB_DP_TOP                             IMPT 00000000   6327 17434 17441 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   299

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_ACCLAT_TIM1                         IMPT 00000000   3158 
_SET1_AMP100P_VLT                         IMPT 00000000   3192 
_SET1_ARACHK_LNG1                         IMPT 00000000   3173 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4958 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4954 
_SET1_ATSLID_COEF1                        IMPT 00000000   4957 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4955 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4956 
_SET1_BREAK_DIG                           IMPT 00000000   3495 
_SET1_BREAK_TIM1                          IMPT 00000000   3493 
_SET1_CNT_CNT                             IMPT 00000000   3101 13357 
_SET1_CNT_TIM                             IMPT 00000000   3099 13338 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3184 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3185 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3186 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3203 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3205 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3204 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3207 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3206 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3209 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3208 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3211 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3210 
_SET1_DNAREA_INPX                         IMPT 00000000   3161 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3165 
_SET1_DNAREA_JUDG                         IMPT 00000000   3135 
_SET1_DNDINC_SPD1                         IMPT 00000000   3144 
_SET1_DND_DIGTOP                          IMPT 00000000   3774 
_SET1_DND_PLSTOP                          IMPT 00000000   3775 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3773 
_SET1_DND_STOP_SW                         IMPT 00000000   3772 
_SET1_DND_UPPLS                           IMPT 00000000   3776 
_SET1_EJECAM_OFR                          IMPT 00000000   5061 
_SET1_EJECAM_ONR                          IMPT 00000000   5060 
_SET1_ENC360_HOS1                         IMPT 00000000   3175 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3187 
_SET1_INCDIR_SEL1                         IMPT 00000000   3116 
_SET1_INCENC_ELNG                         IMPT 00000000   3178 
_SET1_INCHEN_ELNG                         IMPT 00000000   3177 
_SET1_INCPLS_1REV                         IMPT 00000000   3113 
_SET1_INCPLS_HOSM                         IMPT 00000000   3118 
_SET1_INCPLS_HOSN                         IMPT 00000000   3117 
_SET1_INCPOS_KP01                         IMPT 00000000   3156 
_SET1_INCREV_ELNG                         IMPT 00000000   3182 
_SET1_INCRNA_ELNG                         IMPT 00000000   3179 
_SET1_INCSTP_ELNG                         IMPT 00000000   3180 
_SET1_INPPOS_TIM1                         IMPT 00000000   3170 
_SET1_INTLIM_AGL                          IMPT 00000000   4983 
_SET1_INTLIM_PLS                          IMPT 00000000   4985 
_SET1_KAJAREA_ENO                         IMPT 00000000   4895 
_SET1_KAJAREA_SEL                         IMPT 00000000   4909 
_SET1_KAJAREA_SNO                         IMPT 00000000   4894 
_SET1_KATTCH_EAG                          IMPT 00000000   4917 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   300

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_KATTCH_SAG                          IMPT 00000000   4916 
_SET1_KATTCH_SPD                          IMPT 00000000   4562 
_SET1_KJEND_DIG1                          IMPT 00000000   3763 
_SET1_KJEND_DIG2                          IMPT 00000000   4898 
_SET1_KJEND_STEP1                         IMPT 00000000   3762 
_SET1_KJSTR_DIG1                          IMPT 00000000   3761 
_SET1_KJSTR_DIG2                          IMPT 00000000   4897 
_SET1_KJSTR_STEP1                         IMPT 00000000   3760 
_SET1_LSAABN_AGL1                         IMPT 00000000   3749 
_SET1_LSAABN_AGL2                         IMPT 00000000   3750 
_SET1_MAX_KJYU                            IMPT 00000000   4205 
_SET1_MISCAM_OFR                          IMPT 00000000   5063 
_SET1_MISCAM_ONR                          IMPT 00000000   5062 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3130 
_SET1_MOTREP_CNT                          IMPT 00000000   5053 
_SET1_MOTREP_SPD                          IMPT 00000000   5052 
_SET1_MOTREP_STGE                         IMPT 00000000   5051 
_SET1_MOTREP_STGS                         IMPT 00000000   5050 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5049 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3120 
_SET1_MOT_INF                             IMPT 00000000   5446 
_SET1_MRTION_SEL1                         IMPT 00000000   3213  7424 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3214 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3191 
_SET1_OBJARA_INPX                         IMPT 00000000   3162 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3166 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3168 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3239 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3224 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3219 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3227 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3231 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3273 
_SET1_OVERLIDE_COF                        IMPT 00000000   3884 
_SET1_PLSAHI_PLS                          IMPT 00000000   3800 
_SET1_PLSALO_PLS                          IMPT 00000000   3799 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3275 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3276 
_SET1_REVDAT_SPD1                         IMPT 00000000   3147 
_SET1_REVDAT_SPD2                         IMPT 00000000   3150 
_SET1_REVDAT_SPD3                         IMPT 00000000   3151 
_SET1_RNADIR_SEL1                         IMPT 00000000   3115 
_SET1_RNAORG_POS1                         IMPT 00000000   3131 
_SET1_RNAPOS_KP01                         IMPT 00000000   3157 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3132 
_SET1_RNAPOS_MINP                         IMPT 00000000   3133 
_SET1_RNAREV_ELNG                         IMPT 00000000   3183 
_SET1_RNASTP_ELNG                         IMPT 00000000   3181 
_SET1_ROTCAM_OFR                          IMPT 00000000   5059 
_SET1_ROTCAM_ONR                          IMPT 00000000   5058 
_SET1_RPARAM_TOP1                         IMPT 00000000   3109 
_SET1_SSCURV_TIM1                         IMPT 00000000   3159 
_SET1_STDINC_SPD1                         IMPT 00000000   3146 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3807 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   301

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_TEPLAT_DAT1                         IMPT 00000000   3153 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3154 
_SET1_UPAREA_DIG0                         IMPT 00000000   3238 
_SET1_UPAREA_DIG1                         IMPT 00000000   3174 
_SET1_UPAREA_INPX                         IMPT 00000000   3160 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3164 
_SET1_UPAREA_JUDG                         IMPT 00000000   3134 
_SET1_UPAREA_PLS0                         IMPT 00000000   3222 
_SET1_UPAREA_PLS1                         IMPT 00000000   3223 
_SET1_UPAREA_POS0                         IMPT 00000000   3218 
_SET1_UPAREA_POS1                         IMPT 00000000   3054 
_SET1_UPAREA_SPD0                         IMPT 00000000   3226 
_SET1_UPAREA_SPD1                         IMPT 00000000   3145 
_SET1_UPAREA_TIM0                         IMPT 00000000   3230 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3148 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4204 
_SET2_INTLIM_AGL                          IMPT 00000000   4984 
_SET2_INTLIM_PLS                          IMPT 00000000   4986 
_SET360_UPAREA_DIG1                       IMPT 00000000   4060 
_SET360_UPAREA_PLS1                       IMPT 00000000   4061 
_SETC_KJEND_DIG1                          IMPT 00000000   4143 
_SETC_KJEND_DIG2                          IMPT 00000000   4905 
_SETC_KJSTR_DIG1                          IMPT 00000000   4142 
_SETC_KJSTR_DIG2                          IMPT 00000000   4904 
_SETD_DEGSPD_MAX                          IMPT 00000000   3311 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4253 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4254 
_SETSQ206_BIT11                  P        EXPT 00002610  15023 15049*
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4124 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4123 
_SETXY_UPAREA_DIG                         IMPT 00000000   4119 
_SETXY_UPAREA_PLS                         IMPT 00000000   4118 
_SETX_ACCERR_DLY1                         IMPT 00000000   4461 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4456 
_SETX_ACCERR_SEL                          IMPT 00000000   4466 
_SETX_BANK_USELFUL                        IMPT 00000000   3673 
_SETX_BREAK_DIG2                          IMPT 00000000   4189 
_SETX_BREAK_TIM2                          IMPT 00000000   4190 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3140 
_SETX_DAIPOS_MINP                         IMPT 00000000   3141 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3136 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3137 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3079 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3080 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4862 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4473 
_SETX_INCPLS_HOSM                         IMPT 00000000   3119 
_SETX_KJEND_DIG1                          IMPT 00000000   4138 
_SETX_KJEND_DIG2                          IMPT 00000000   4901 
_SETX_KJSTR_DIG1                          IMPT 00000000   4137 
_SETX_KJSTR_DIG2                          IMPT 00000000   4900 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4864 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5156 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2717 20272 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   302

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_LINK_UP_POS_UP                      IMPT 00000000   2716 20274 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4450 
_SETX_MOTREP_DIR                          IMPT 00000000   5067 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3127 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3128 
_SETX_OVERH_AMP                           IMPT 00000000   4692 
_SETX_OVERH_LNGTH                         IMPT 00000000   4691 
_SETX_POS_CTL_MATH                        IMPT 00000000   2750  7068 11625 12131 12226 12361 13130 17802 18581 18701 18838 19865 
                                                         19966 20138 20232 20494 20726 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2749 20733 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2741 17638 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2742 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2738 11765 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2739 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2740 11877 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2748 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2744 
_SETX_POS_STEP_MAX                        IMPT 00000000   2751 11757 11872 17616 18692 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4506 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4507 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4987 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4988 
_SETX_UPAREA_DIG                          IMPT 00000000   3052 10762 12123 13122 
_SETX_UPAREA_PLS                          IMPT 00000000   3050 11782 18844 
_SETX_UPAREA_RNA                          IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3067 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3069 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3066 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3068 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4472 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3125 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3124 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3123 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3122 
_SETY_KJEND_DIG1                          IMPT 00000000   4140 
_SETY_KJEND_DIG2                          IMPT 00000000   4903 
_SETY_KJSTR_DIG1                          IMPT 00000000   4139 
_SETY_KJSTR_DIG2                          IMPT 00000000   4902 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4990 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4991 
_SET_ACC_OVRLIDE                          IMPT 00000000   3895 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3863 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3861 
_SET_DN_ACC_LATE                          IMPT 00000000   3912 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3887 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3886 
_SET_NZ_TIM_DAT                  P        EXPT 00002428  14117 14582 14595*
_SET_PV_ABS_TO_OBJ                        IMPT 00000000   6309  6532  6717  6789 18612 
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3875 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3874 
_SET_SPDBAS_PLS                           IMPT 00000000   3862 
_SET_SPD_OVRLIDE                          IMPT 00000000   3894 
_SET_UP_ACC_LATE                          IMPT 00000000   3911 
_SET_UP_TIM                               IMPT 00000000   2675  8479  9619  9668  9743  9767 16492 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   303

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SFTYCHK_CLANK_DEG                        IMPT 00000000   5222 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5223 
_SFTYCHK_RNA_POS                          IMPT 00000000   3391 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2569 
_SFTY_IN_DAT                              IMPT 00000000   2568  6908  9376 16971 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3994 
_SFTY_MASK_END                   P             00001B94   8333  8779 12080 12522 12588*16461 16665 
_SFTY_MASK_START                 P             00001B74   9122 12539 12560*12598 
_SFTY_MUTING_MODE_ERR            P             00002830   7490 15657*
_SH2_ADD_PLS                              IMPT 00000000   5752 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5712 
_SH2_CNT_REST_HF                          IMPT 00000000   5723 
_SH2_CNT_REST_PLS                         IMPT 00000000   5707 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5760 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5761 
_SH2_HD_CNT_STOP                          IMPT 00000000   6245  7684 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6237 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6235 
_SH2_HD_HLDSTOP2                          IMPT 00000000   7928 18445 18492 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6243 
_SH2_HD_POS_START                         IMPT 00000000   6239 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6241 
_SH2_HD_STEP_END                          IMPT 00000000   6247  7710 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5708 
_SH2_LOT_CNT_A                            IMPT 00000000   5719 
_SH2_LOT_STEP_A                           IMPT 00000000   5720 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5714 
_SH2_NOW_STEP                             IMPT 00000000   5758 
_SH2_PLSI_ACCS                            IMPT 00000000   5716 
_SH2_PLSI_LATE                            IMPT 00000000   5717 
_SH2_REST_PLS_RL                          IMPT 00000000   5710 
_SH2_REST_PLS_SR                          IMPT 00000000   5709 
_SH2_REST_RL_HF                           IMPT 00000000   5722 
_SH2_REST_SR_HF                           IMPT 00000000   5721 
_SH2_STEP1_FRQ                            IMPT 00000000   5740 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5735 
_SH2_STEP1_REST_P                         IMPT 00000000   5730 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5725 
_SH2_STEP1_TIM                            IMPT 00000000   5745 
_SH2_STEP2_FRQ                            IMPT 00000000   5741 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5736 
_SH2_STEP2_REST_P                         IMPT 00000000   5731 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5726 
_SH2_STEP2_TIM                            IMPT 00000000   5746 
_SH2_STEP3_FRQ                            IMPT 00000000   5742 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5737 
_SH2_STEP3_REST_P                         IMPT 00000000   5732 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5727 
_SH2_STEP3_TIM                            IMPT 00000000   5747 
_SH2_STEP4_FRQ                            IMPT 00000000   5743 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5738 
_SH2_STEP4_REST_P                         IMPT 00000000   5733 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5728 
_SH2_STEP4_TIM                            IMPT 00000000   5748 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   304

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP5_FRQ                            IMPT 00000000   5744 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5739 
_SH2_STEP5_REST_P                         IMPT 00000000   5734 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5729 
_SH2_STEP5_TIM                            IMPT 00000000   5749 
_SH2_STEP_FRQ                             IMPT 00000000   5756 
_SH2_STEP_PV_PLS                          IMPT 00000000   5754 
_SH2_STEP_REST_P                          IMPT 00000000   5755 
_SH2_STEP_SV_PLS                          IMPT 00000000   5753 
_SH2_STEP_TIM                             IMPT 00000000   5757 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5713 
_SH2_TOTAL_PLS                            IMPT 00000000   5751 
_SH4_ADD_PLS                              IMPT 00000000   5695 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5657 
_SH4_CNT_REST_HF                          IMPT 00000000   5667 
_SH4_CNT_REST_PLS                         IMPT 00000000   5653 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5703 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5704 
_SH4_HD_CNT_STOP                          IMPT 00000000   6244  7672 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6236 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6234 
_SH4_HD_HLDSTOP2                          IMPT 00000000   7927 18443 18469 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6242 
_SH4_HD_POS_START                         IMPT 00000000   6238 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6240 
_SH4_HD_STEP_END                          IMPT 00000000   6246  7697 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5654 
_SH4_LOT_CNT_A                            IMPT 00000000   5663 
_SH4_LOT_STEP_A                           IMPT 00000000   5664 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5659 
_SH4_NOW_STEP                             IMPT 00000000   5701 
_SH4_ORG_DIR_REV                          IMPT 00000000   6325 15470 
_SH4_PLSI_ACCS                            IMPT 00000000   5661 
_SH4_PLSI_LATE                            IMPT 00000000   5662 
_SH4_REST_PLS_RL                          IMPT 00000000   5656 
_SH4_REST_PLS_SR                          IMPT 00000000   5655 
_SH4_REST_RL_HF                           IMPT 00000000   5666 
_SH4_REST_SR_HF                           IMPT 00000000   5665 
_SH4_STEP1_FRQ                            IMPT 00000000   5684 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5679 
_SH4_STEP1_REST_P                         IMPT 00000000   5674 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5669 
_SH4_STEP1_TIM                            IMPT 00000000   5689 
_SH4_STEP2_FRQ                            IMPT 00000000   5685 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5680 
_SH4_STEP2_REST_P                         IMPT 00000000   5675 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5670 
_SH4_STEP2_TIM                            IMPT 00000000   5690 
_SH4_STEP3_FRQ                            IMPT 00000000   5686 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5681 
_SH4_STEP3_REST_P                         IMPT 00000000   5676 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5671 
_SH4_STEP3_TIM                            IMPT 00000000   5691 
_SH4_STEP4_FRQ                            IMPT 00000000   5687 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   305

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP4_PV_PLS                         IMPT 00000000   5682 
_SH4_STEP4_REST_P                         IMPT 00000000   5677 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5672 
_SH4_STEP4_TIM                            IMPT 00000000   5692 
_SH4_STEP5_FRQ                            IMPT 00000000   5688 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5683 
_SH4_STEP5_REST_P                         IMPT 00000000   5678 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5673 
_SH4_STEP5_TIM                            IMPT 00000000   5693 
_SH4_STEP_FRQ                             IMPT 00000000   5699 
_SH4_STEP_PV_PLS                          IMPT 00000000   5697 
_SH4_STEP_REST_P                          IMPT 00000000   5698 
_SH4_STEP_SV_PLS                          IMPT 00000000   5696 
_SH4_STEP_TIM                             IMPT 00000000   5700 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5658 
_SH4_TOTAL_PLS                            IMPT 00000000   5694 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4023 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4024 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000   9847 
_SINKAKU_INF                              IMPT 00000000   3292 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3294 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3293 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3296 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3295 
_SINWK_CALC_SCAN                          IMPT 00000000   3304 
_SIN_RCAMOF_SW1                           IMPT 00000000   3320 
_SIN_RCAMON_SW1                           IMPT 00000000   3319 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3299 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3323 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3298 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3322 
_SLIDALM_CHK_FLG                          IMPT 00000000   4381 
_SLIDALM_CHK_POS                          IMPT 00000000   4383 
_SLIDALM_CHK_TIM                          IMPT 00000000   4382 
_SLIDALM_POS_MINAS                        IMPT 00000000   4385 
_SLIDALM_POS_PULAS                        IMPT 00000000   4384 
_SPD_PER_MAX                              EQU  00002710   2006*16787 16804 
_SPLCHK_FLG                               IMPT 00000000   5037 
_SPLCHK_TIM                               IMPT 00000000   5038 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5117 
_SQ_CBWK_TOP                              IMPT 00000000   6232  8375  8754  9626  9642 11359 11367 11381 12982 12992 13253 14249 
                                                         15033 15054 15375 15438 15738 16173 16234 16254 16641 16694 17068 17218 
                                                         17508 17720 17889 17895 17963 17970 18001 18040 18069 18102 18399 19708 
                                                         19812 19887 20011 20058 20085 20508 20602 20641 20691 
_SQ_OVERH_CMP                             IMPT 00000000   4694 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4043 15505 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_INFO_OUT              P             00001E44   8555 13212 13312*
_START_FLG_AFTER_EMG                      IMPT 00000000   3373 
_START_REQ_COD                            EQU  00009876    212*
_START_SFTY_LOCK_CLR             P             00002690   8853 11334 15241*16742 
_STEP_CMPERR_TIMX1                        IMPT 00000000   5494 
_STEP_SIG_DISP                   P        EXPT 0000222A   6298  8952 14162*
_STEP_SIG_DSP_CLR                P        EXPT 00002220   6297  9288 11276 14152*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   306

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_STOPCHK_INC_POS                          IMPT 00000000   3257 
_STOPCHK_RNA_POS                          IMPT 00000000   3256 
_STOPPING_STOP_POS                        IMPT 00000000   2653 14333 14441 
_STOPPING_STOP_TIM                        IMPT 00000000   2655 14323 14476 14531 
_STOPPING_TIM_CHK                P        EXPT 00002320   6302 14398*
_STOPPING_TIM_FLG                         IMPT 00000000   2654 14281 14313 14337 14403 14551 16156 
_STOPPING_TIM_MOV_INI            P        EXPT 00002280   6300  8788 14277*16673 
_STOPPING_TIM_PV1                         IMPT 00000000   2656 14342 14428 14497 14544 
_STOPPING_TIM_PV2                         IMPT 00000000   2657 14344 14548 
_STOPPING_TIM_STOP_INI           P        EXPT 0000229C   6301 11393 14309*
_STOPPING_VLVOFF_POS                      IMPT 00000000   2652 14329 14437 
_STOP_360ENC_DIG                          IMPT 00000000   4076 
_STOP_ERR_CHK                             IMPT 00000000   6198 14566 
_STOP_ERR_LATCH                           IMPT 00000000   3494 14348 14557 
_STOP_LATCH                               IMPT 00000000   2635  7662 10412 10846 11227 
_STOP_LATCH_B                             IMPT 00000000   2636  7654 10164 10170 10326 10356 10629 10844 10898 11225 17567 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2886 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2884 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2883 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2885 
_STOP_LTH_OUT                    P        EXPT 00001224  10204 10387 10403 10408*10924 
_STP_RST_FLG_PROC                P        EXPT 00001768   6289 11506*
_STR_ENC3600_DIG                          IMPT 00000000   2803 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2804 
_SVCHK_SCAN                               IMPT 00000000   4713 
_SVPX1_FED_DEG                            IMPT 00000000   5316 
_SVPX1_FED_POS                            IMPT 00000000   5317 
_SVPX1_MOT_INF                            IMPT 00000000   5315 
_SVPX1_OBJECT_DIG_TOP                     IMPT 00000000   5311 
_SVPX1_OBJECT_POS_TOP                     IMPT 00000000   5310 
_SVPX1_OBJECT_PRS_TOP                     IMPT 00000000   5314 
_SVPX1_OBJECT_SPD_TOP                     IMPT 00000000   5312 
_SVPX1_OBJECT_TIM_TOP                     IMPT 00000000   5313 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3242 
_SVP_INTLIM_AGL                           IMPT 00000000   6330 
_SVP_INTLIM_POS                           IMPT 00000000   6331 
_SVP_INTLIM_SNO                           IMPT 00000000   6329 
_SVP_WTTIM_MAX                            IMPT 00000000   6332 17875 
_SVX_DNM_MAXSPM                           IMPT 00000000   4262 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3548 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3549 
_SV_CHG_FLG1                              IMPT 00000000   3335 
_SV_CHG_FLG2                              IMPT 00000000   3336 
_SV_CONST_SUB_PV                          IMPT 00000000   3963 
_SV_DAT_ERR1                              IMPT 00000000   3337 
_SV_OBJ360                                IMPT 00000000   3520 
_SV_POS_CTL_STEP                          IMPT 00000000   2836 19913 20532 
_SV_REAL_PLS                              IMPT 00000000   3964 
_SV_REAL_SUB_PV                           IMPT 00000000   3965 
_SV_UP_HOLD_CHK                  P             000017BC   8761 11605*16647 
_SW_DEV_MASK_FLG                          IMPT 00000000   2644 12592 15569 
_SYS_100STEP_DNM_SEL                      IMPT 00000000   5308 
_SYS_100STEP_USE                          IMPT 00000000   5307 
_SYS_BSAME_TIM                            EQU  000001F4   2017* 8482  9560 16495 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   307

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYS_SETUP_TIM                            EQU  000007D0   2018* 9666 
_SYS_STEP_MAX                             IMPT 00000000   5305 
_SYS_STOPPING_TIM                         EQU  00000032   2019*
_TABLE_ERR_FLG                            IMPT 00000000   2501 
_TBL_ANS_ACCTIM                           IMPT 00000000   4258 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4260 
_TBL_ANS_MAXSPM                           IMPT 00000000   4259 
_TBL_USE_POS0                             IMPT 00000000   4257 
_TECH2_KJYU_DIG                           IMPT 00000000   4525 
_TECH2_KJYU_LNG                           IMPT 00000000   4523 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4516 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4517 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4518 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4519 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4520 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4521 
_TECH2_KJYU_PLS                           IMPT 00000000   4524 
_TECH2_KJYU_PLSX                          IMPT 00000000   4522 
_TECH2_KN_FLG                             IMPT 00000000   4526 
_TECH_USED_F                              IMPT 00000000   4563 
_TECH_WK_DIG1                             IMPT 00000000   4556 
_TECH_WK_DIG2                             IMPT 00000000   4557 
_TECH_WK_DIG3                             IMPT 00000000   4558 
_TECH_WK_DIG4                             IMPT 00000000   4559 
_TECH_WK_PLS1                             IMPT 00000000   4555 
_TEPA_PLSCNT_CHK                          IMPT 00000000   6215  7558 
_TEPA_PLSCNT_CLR                          IMPT 00000000   6214  6781  7809  9556 
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4419 
_TEPA_START_CHK                           IMPT 00000000   6213  9712 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3821 
_TEP_CHG_SPD1                             IMPT 00000000   3825 
_TEP_CHG_SPD2                             IMPT 00000000   3826 
_TEP_CNTSMP_TIM                           IMPT 00000000   4792 
_TEP_DND_SPD_PLS                          IMPT 00000000   4791 
_TEP_FLG_CLR                              IMPT 00000000   6212  6785  8229 
_TEP_INPLS_FLG                            IMPT 00000000   3816 
_TEP_IN_ADD                               IMPT 00000000   3810 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3823 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3822 
_TEP_MODE_DRV                             IMPT 00000000   3812 10974 15090 
_TEP_POS_ADD_CNT                          IMPT 00000000   3808 
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4793 
_TEP_STEP_FLG                             IMPT 00000000   3813 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3820 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3819 
_TEP_STEP_WTTM                            IMPT 00000000   3814 
_TIM_1MSEC                                EQU  0000000A   2003* 2017  2018  2019  2024 
_TIM_CNT010MS_DT                          EQU  0000000A   2342*
_TIM_CNT100MS_DT                          EQU  00000064   2343*
_TIM_SEC                                  EQU  00002710   2002*
_TMP_SCI_DEBUG                            IMPT 00000000   5373 
_TRD_CLR_CMD                              IMPT 00000000   5541  6770 
_TRD_DP_MOV_CNT                           IMPT 00000000   5547 
_TRD_DP_MOV_FLG                           IMPT 00000000   5546 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   308

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TRD_EVENT_COD                            IMPT 00000000   5536 
_TRD_EVENT_LATCH                          IMPT 00000000   5538 
_TRD_LATE_PV                              IMPT 00000000   5543 
_TRD_LATE_SV                              IMPT 00000000   5542 
_TRD_POINT_END                            IMPT 00000000   5540 
_TRD_POINT_EVENT                          IMPT 00000000   5539 
_TRD_SMP_DAT1                             IMPT 00000000   5527 
_TRD_SMP_DAT2                             IMPT 00000000   5528 
_TRD_SMP_DAT3                             IMPT 00000000   5529 
_TRD_SMP_DAT4                             IMPT 00000000   5530 
_TRD_SMP_DAT5                             IMPT 00000000   5531 
_TRD_SMP_DAT6                             IMPT 00000000   5532 
_TRD_SMP_DAT7                             IMPT 00000000   5533 
_TRD_SMP_DAT8                             IMPT 00000000   5534 
_TRD_SMP_FLG                              IMPT 00000000   5544 
_TRD_SMP_POINT                            IMPT 00000000   5535 
_UP360_CHK_LIST                           IMPT 00000000   4058 
_UP360_JGDIG                              EQU  00000028   2049*
_UPDN_DIRJG_DIG                           EQU  00000708   2011*18741 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5267 
_UPLIMIT_START_F                          IMPT 00000000   4724 
_UPLIMIT_SV_SPD                           IMPT 00000000   4723 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4684 12513 12772 15634 
_UPMSK2_DRVSEL                            IMPT 00000000   4686 12354 
_UPMSK2_MATH                              IMPT 00000000   4685 12501 
_UPMSK2_MOD                               IMPT 00000000   4682  8243 12507 12738 12766 15611 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4683 15579 15605 15632 15666 15731 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4687 15668 
_UP_AREA_DATCHK                           IMPT 00000000   6181 
_UP_HOLD_AREA_MASK               P             00001AB4   9105 12309*
_UP_HOLD_DIG                              IMPT 00000000   2641 10760 12121 13120 
_UP_HOLD_FLG                              IMPT 00000000   2642  9115 10465 11976 11995 12034 12173 12313 12371 12399 12417 
_UP_HOLD_FLG_CLR1                P             00001AFC   8765  9293 11261 12076 12395*16651 
_UP_HOLD_FLG_CLR2                P             00001B10   8769 11265 12413*16655 
_UP_HOLD_MASK_SPDCHK             P             00001A58  12025 12218*
_UP_HOLD_MISS                    P             000019BC  10493 12071*
_UP_HOLD_SIG_MAK                 P             000019D8  12001 12103*
_UP_HOLD_STEP                             IMPT 00000000   2638 10752 11688 11711 12109 13107 
_UP_HOLD_STEP1                            IMPT 00000000   2639 11642 11690 11713 
_UP_HOLD_STEP2                            IMPT 00000000   2640 11644 11692 11715 
_UP_LOT_SIG_MAK                  P             00001D7C  12904 13101*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3496 14361 
_VALV_ON_FLG                              IMPT 00000000   4070 
_VFRY_IN_CHK                     P             00003BD8  19195 19758*
_VIB_DLY_TIM                              IMPT 00000000   4212 
_VIB_GET_SET_TIM                          IMPT 00000000   4209 
_VIB_PV_UP_TIM                            IMPT 00000000   4211 
_VIB_STEP_COM                             IMPT 00000000   4208 
_VIB_STEP_FLG                             IMPT 00000000   4207 
_VIB_USE_SET_TIM                          IMPT 00000000   4210 
_VON1_OF                                  IMPT 00000000   6012 
_VON1_ON                                  IMPT 00000000   6011 
_VON2_OF                                  IMPT 00000000   6014 
_VON2_ON                                  IMPT 00000000   6013 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   309

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VON3_OF                                  IMPT 00000000   6016 
_VON3_ON                                  IMPT 00000000   6015 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2367* 7312  7356  8465  9040  9567 11611 13320 13407 13475 15679 15711 
                                                         17450 18300 19860 20228 20489 
_W1DIC                                    EQU  00000020   2369* 6941  9260  9391  9701 12828 
_W1DUP                                    EQU  00000040   2370* 6867  6935  9177  9260  9391 12828 14698 14827 14875 
_W1END                                    EQU  00000080   2371*
_W1INC                                    EQU  00000002   2365* 7374  9077  9260  9391 11611 18802 19860 20228 20489 
_W1LNC                                    EQU  00000400   2375*
_W1LNO                                    EQU  00000800   2376*
_W1OFF                                    EQU  00000001   2364* 6903  7232  7235  7252  7323  7792 
_W1OPT                                    EQU  00000010   2368* 6880  7239  9157 11611 12704 15679 15717 16341 17261 17450 19860 
                                                         20228 20489 
_W1REV                                    EQU  00004000   2383*
_W1RNC                                    EQU  00000100   2372*
_W1RNO                                    EQU  00000200   2373*
_W1RST                                    EQU  00008000   2384* 6541  6697 16249 20421 
_W1SGL                                    EQU  00000004   2366* 6871  7335  7345  9094 11611 16335 17450 19860 20228 20489 
_W1SNC                                    EQU  00001000   2381*
_W1SNO                                    EQU  00002000   2382*
_W2LS1                                    EQU  00000004   2386*
_W2LS2                                    EQU  00000008   2387*
_W2SUP                                    EQU  00000080   2391* 8472  9651  9751 
_W2WT1                                    EQU  00000010   2388*
_W2WT2                                    EQU  00000020   2389*15577 
_W2WT3                                    EQU  00000040   2390*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5121 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4853 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4851 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4852 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3527  7286 
_WKSQCB200                                EQU  00000000   2115*
_WKSQCB201                                EQU  00000002   2116*
_WKSQCB202                                EQU  00000004   2117*
_WKSQCB203                                EQU  00000006   2118*
_WKSQCB204                                EQU  00000008   2119*
_WKSQCB205                                EQU  0000000A   2120*
_WKSQCB206                                EQU  0000000C   2121* 8375  8754  9626  9642 11359 11367 11381 13253 15033 15054 16641 
_WKSQCB207                                EQU  0000000E   2122*15375 15438 16694 
_WKSQCB208                                EQU  00000010   2123*
_WKSQCB209                                EQU  00000012   2124*
_WKSQCB210                                EQU  00000014   2125*14249 
_WKSQCB211                                EQU  00000016   2126*
_WKSQCB212                                EQU  00000018   2127*
_WKSQCB213                                EQU  0000001A   2128*
_WKSQCB214                                EQU  0000001C   2129*
_WKSQCB215                                EQU  0000001E   2130*
_WKSQCB216                                EQU  00000020   2131*15738 17218 
_WKSQCB217                                EQU  00000022   2132*
_WKSQCB218                                EQU  00000024   2133*
_WKSQCB219                                EQU  00000026   2134*
_WKSQCB220                                EQU  00000028   2135*
_WKSQCB221                                EQU  0000002A   2136*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   310

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB222                                EQU  0000002C   2137*
_WKSQCB223                                EQU  0000002E   2138*
_WKSQCB224                                EQU  00000030   2139*18001 
_WKSQCB225                                EQU  00000032   2140*
_WKSQCB226                                EQU  00000034   2141*
_WKSQCB227                                EQU  00000036   2142*17068 
_WKSQCB228                                EQU  00000038   2143*
_WKSQCB229                                EQU  0000003A   2144*16173 16234 16254 
_WKSQCB230                                EQU  0000003C   2145*
_WKSQCB231                                EQU  0000003E   2146*
_WKSQCB232                                EQU  00000040   2147*
_WKSQCB233                                EQU  00000042   2148*
_WKSQCB234                                EQU  00000044   2149*
_WKSQCB235                                EQU  00000046   2150*
_WKSQCB236                                EQU  00000048   2151*
_WKSQCB237                                EQU  0000004A   2152*
_WKSQCB238                                EQU  0000004C   2153*
_WKSQCB239                                EQU  0000004E   2154*19708 19812 
_WKSQCB240                                EQU  00000050   2155*
_WKSQCB241                                EQU  00000052   2156*
_WKSQCB242                                EQU  00000054   2157*
_WKSQCB243                                EQU  00000056   2158*
_WKSQCB244                                EQU  00000058   2159*
_WKSQCB245                                EQU  0000005A   2160*
_WKSQCB246                                EQU  0000005C   2161*12982 
_WKSQCB247                                EQU  0000005E   2162*12992 
_WKSQCB248                                EQU  00000060   2163*
_WKSQCB249                                EQU  00000062   2164*
_WKSQCB250                                EQU  00000064   2165*
_WKSQCB251                                EQU  00000066   2166*17508 17720 17889 17895 17963 17970 18040 18069 18102 18399 
_WKSQCB252                                EQU  00000068   2167*
_WKSQCB253                                EQU  0000006A   2168*
_WKSQCB254                                EQU  0000006C   2169*
_WKSQCB255                                EQU  0000006E   2170*
_WKSQCB256                                EQU  00000070   2171*
_WKSQCB257                                EQU  00000072   2172*
_WKSQCB258                                EQU  00000074   2173*
_WKSQCB259                                EQU  00000076   2174*19887 20011 20058 20085 20508 20602 20641 20691 
_WKSQCB260                                EQU  00000078   2175*
_WKSQCB261                                EQU  0000007A   2176*
_WKSQCB262                                EQU  0000007C   2177*
_WKSQCB263                                EQU  0000007E   2178*
_WKSQCB264                                EQU  00000080   2179*
_WKSQCB265                                EQU  00000082   2180*
_WKSQCB266                                EQU  00000084   2181*
_WKSQCB267                                EQU  00000086   2182*
_WKSQCB268                                EQU  00000088   2183*
_WKSQCB269                                EQU  0000008A   2184*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3539 
_WK_OBJECT_TIM_TOP                        IMPT 00000000   3233 
_WK_PVP_MOT_STS                           IMPT 00000000   5334 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3317 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3316 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3302 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   311

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3309 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3310 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3301 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3307 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3308 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3314 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3313 
_WOANT                                    EQU  00000010   2353* 7782 
_WOATO                                    EQU  00000040   2355* 9975 17117 
_WOFCY                                    EQU  00000080   2356*
_WOQST                                    EQU  00000001   2349*
_WORCY                                    EQU  00000100   2357*
_WORDY                                    EQU  00000020   2354* 8342 16470 
_WORST                                    EQU  00000200   2358*
_WOVN1                                    EQU  00000002   2350*
_WOVN2                                    EQU  00000004   2351*
_WOVN3                                    EQU  00000008   2352*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4605 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4413 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4414 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4163 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4165 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4164 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4130 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4131 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4128 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4129 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4134 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4135 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4132 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4133 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4706 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4705 
_WPAR_360STP_HAB                          IMPT 00000000   4055 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3981 
_WPAR_ACC_MATHED                          IMPT 00000000   4225 
_WPAR_ANAIN_SEL                           IMPT 00000000   3979 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4652 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3410 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3409 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3411 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4153 16802 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4152 16789 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4412 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3408 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4306 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4307 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3352 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3353 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3350 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3351 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4317 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3357 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3358 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   312

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3355 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3356 
_WPAR_COP_SDG1                            IMPT 00000000   3362 
_WPAR_COP_SDG2                            IMPT 00000000   3363 
_WPAR_COP_ZDG1                            IMPT 00000000   3360 
_WPAR_COP_ZDG2                            IMPT 00000000   3361 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4054 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4371 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2969 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2966 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2967 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2970 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2965 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2968 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3414 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3413 
_WPAR_INCOVER_LNG                         IMPT 00000000   3379 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3380 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3381 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3382 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3386 13263 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3384 13261 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3385 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4200 
_WPAR_LSA_FILTIM                          IMPT 00000000   3748 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4053 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4336 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3833 14756 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4396 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3882 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3388 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4154 12717 
_WPAR_SLDALM_LNG                          IMPT 00000000   4378 
_WPAR_SLDALM_TIM                          IMPT 00000000   4379 
_WPAR_STOPING_TIM                         IMPT 00000000   4223 14320 14501 14528 
_WPAR_ZERO_SPD                            IMPT 00000000   3407 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4203 
_WPV_ABS_AD_DATA                          IMPT 00000000   3987 
_WPV_AD_DATA                              IMPT 00000000   3986 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5524 
_WPV_CB_STS_POINT                         IMPT 00000000   5549 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5525 
_WPV_CB_TRD_POINT                         IMPT 00000000   5550 
_WPV_POWER_MONI                           IMPT 00000000   3988 
_WPV_POWER_ON_CNT                         IMPT 00000000   5551 
_WPV_SCAN_MAX01                           IMPT 00000000   4811 
_WPV_SCAN_MAX10                           IMPT 00000000   4810 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4807 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4806 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2226*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2227*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2228*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2229*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4120 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   313

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4122 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4121 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2713 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2715 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2714 
_WXPV_ERR_DISP                            IMPT 00000000   3658 
_W_PARAM_TOP                              IMPT 00000000   4571  8287 11855 12018 12270 15564 15661 16421 17041 17359 18293 18645 
                                                         18795 18973 19121 19135 19143 19254 19260 19419 19434 19442 19523 19621 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5370 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5365 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5358 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5363 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5362 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5371 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5359 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5361 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5369 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5360 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5366 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   6174 
_ZERO_INCENC                              EQU  00000000   2058*
_ZERO_INCHEN                              EQU  00000000   2057*
_ZERO_INCREV                              EQU  00000000   2062*
_ZERO_INCRNA                              EQU  00000001   2059*
_ZERO_INCSTP                              EQU  00000000   2060*
_ZERO_RNAREV                              EQU  00000001   2063*
_ZERO_RNASTP                              EQU  00000001   2061*
_cbsys_tbl_err                            IMPT 00000000   4245 
_di1_cb_ctl1                              IMPT 00000000   2506 
_di1_cb_ctl1_dt                           IMPT 00000000   2514  6538  6695  6876  7225 12702 15715 16247 16339 17259 20419 
_di1_cb_ctl1_of                           IMPT 00000000   2516 
_di1_cb_ctl1_on                           IMPT 00000000   2515 
_di2_cb_ctl2                              IMPT 00000000   2507 
_di2_cb_ctl2_dt                           IMPT 00000000   2518  8470  9749 15575 
_di2_cb_ctl2_of                           IMPT 00000000   2520 
_di2_cb_ctl2_on                           IMPT 00000000   2519  9649 
_di3_cb_inp1                              IMPT 00000000   2508  6921 
_di3_cb_inp1_dt                           IMPT 00000000   2512 
_di4_cb_inp2                              IMPT 00000000   2509 
_dq1_cb_out1                              IMPT 00000000   2510  7780  8340  9973 16468 17115 
_emg_err_flg                              IMPT 00000000   2590  6454  6631  7012  7510 11582 16299 19738 
_emg_lev_flg                              IMPT 00000000   2589  6389  6406 
_exq_err_flg                              IMPT 00000000   2593  6456  7516 11584 16301 19740 
_exq_lev_flg                              IMPT 00000000   2591  6426 
_pass_err_flg1                            IMPT 00000000   2587  6811 
_pass_err_flg2                            IMPT 00000000   2588 
_reset_dly_tim                            IMPT 00000000   2611  6709  6736 
_reset_flg                                IMPT 00000000   2610  6388  6464  6603  6704  6751  7495 11511 20430 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:20:52                                                  PAGE   314

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    00000404E        
