*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     位置決め                                ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6181                              40     
 6182 00000000                     41             .SECTION        P,CODE                  ;
 6183                              42     
 6184                              43     
 6185          00000014            44     _SGL_CMPERR_CNTMAX      .EQU    20      ;2;(600回確認済み) 2005-04-14(4/18)
 6186          000007D0            45     _PLS_ERR_HABPLS1        .EQU    2000    ;2000pls
 6187                              46     
 6188                              47     
 6189          00001770            48     _SYNC_ERR_HABPLS1       .EQU    6000    ;2000pls(連続の異常範囲)
 6190          000007D0            49     _SYNC_ERR_HOSHAB        .EQU    2000    ;500pls(この範囲にある時補正はしない) 1msec=MAX500
                                          pls
 6191          00000064            50     _SYNC_ERR_HOSHAB_M      .EQU    100     ;100pls(この範囲にある時補正はしない)
 6192                              51     
 6193          00000064            52     _SYNC_GEN_HOS_ERR       .EQU    100     ;<==1000
 6194          00000001            53     _SYNC_GEN_HOS_HAB       .EQU    1       ;<==10
 6195          00000001            54     _SYNC_GEN_HOS_ADD       .EQU    1       ;
 6196                              55     
 6197          00000003            56     _LSI_RETRY_ERR_MAX      .EQU    3       ;
 6198          0000000A            57     _LSI_CMP_ERR_MAX        .EQU    10      ;
 6199                              58     
 6200                              59     
 6201          0000000F            60     _LSI_G_HOS_SPD          .EQU    15      ;500K=65535 250K=32767 1%=327 0.1%=32 (15代わった
                                          ら)
 6202          00080000            61     _DBG_XOR_SIG            .EQU    BIT3*H'10000    ;
 6203                              62     
 6204                              63     ;;2015-07-07 移動 _OVRLIDE_LATE_MAX     .EQU    100             ;1~100% 2006-09-19
 6205          00E4E1C0            64     _GENSOK_LNGTH_MAX       .EQU    30*500000       ;30秒×500,000HZ=E4,E1C0 2006-09-19
 6206          000003E8            65     _ACC_UNIT               .EQU    1000            ;1msec
 6207                              66     
 6208                              67     _CMP_ERR_SPEC_ENB       .DEFINE "0"     ;//noなら新ｱｸｾｽ部のLSI異常を見ない
 6209                              68     _OBJ_PLS_CTL_TYP        .DEFINE "1"     ;//
 6210                              69     
 6211                              70     
 6212                              71     ;       ***********************************
 6213                              72     ;       ***     2010-10-05              ***
 6214                              73     ;       ***********************************
 6215                              74     _X_SET_PV_ABS_TO_OBJ                    .DEFINE "_dum_SET_PV_ABS_TO_OBJ"        ;
 6216                              75     _X_LINK_PV_ABSPLS                       .DEFINE "_LINK_RL_OBJ_ABSPLS"           ;
 6217                              76     
 6218                              77             .IMPORT _PV_POWER_ON_CNT                        ;
 6219                              78             .IMPORT _CPU_CTRL_CLK                           ;
 6220                              79     
 6221                              80             .IMPORT _SVP_MACINE_SEL1
 6222                              81             .IMPORT _CHK_DNM_SPEC_MOD1
 6223                              82     
 6224                              83     
 6225                              84     ;       //      ***********************************
 6226                              85     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6227                              86     ;       //      ***********************************
 6228                              87     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     2
PROGRAM NAME =

 6229                              88     
 6230                              89             .IMPORT         _CPOS_INI1_DTMOV1;ssa_dtmk.src
 6231                              90             .IMPORT         _CPOS_INI1_DTMOV2;ssa_dtmk.src
 6232                              91             .IMPORT         _CPOS_ROT_NUM_SET;ssa_dtmk.src
 6233                              92             .IMPORT         _CPOS_ABS_POS_SET;ssa_dtmk.src
 6234                              93             .IMPORT         _CPOS_SPD_DTMOV
 6235                              94             .IMPORT         _CPOS_TIM_DTMOV
 6236                              95     
 6237                              96             .IMPORT         _HLDCAM_ABS_POS_SET             ;ssa_dtmk.src 2014-08-30
 6238                              97             .IMPORT         _HLDCAM_BANK2_ABS_POS_SET       ;ssa_dtmk.src 2014-08-30
 6239                              98     
 6240                              99     
 6241                             100             .IMPORT         _DIG_LNGTH_CALC1;ssa_sca1.src
 6242                             101     ;;;;    .IMPORT         _POS_INC_TO_OUT_CHG_MOD 使用されない
 6243                             102     ;;;;    .IMPORT         _POS_OUT_TO_INC_CHG　使用されない
 6244                             103     
 6245                             104             .IMPORT         _ORGIN_MODE_INI         ;ssa_else.src
 6246                             105             .IMPORT         _ORGIN_MODE_SMP         ;
 6247                             106             .IMPORT         _ORGIN_MODE_END         ;
 6248                             107     ;;;;;   .IMPORT         _ORGIN2_MODE_END        ;
 6249                             108     
 6250                             109             .IMPORT         _LOT_SIG_SET            ;
 6251                             110     
 6252                             111             .IMPORT         _CYCLE_TIME_REFLASH_START
 6253                             112             .IMPORT         _CYCLE_TIME_REFLASH_END
 6254                             113             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6255                             114     
 6256                             115             .IMPORT         _NOW_INC_DIG_MAK        ;DTMK
 6257                             116     
 6258                             117             .IMPORT _DAT_MOSTPOS_SIG_CLR
 6259                             118             .IMPORT _DAI_MOSTPOS_SMPINI
 6260                             119             .IMPORT _DAI_MOSTPOS_SMPLE
 6261                             120             .IMPORT _DAI_MOSTPOS_CMPARE
 6262                             121     
 6263                             122             .IMPORT _DAI_FULL_SCALE_SMP_INI ;
 6264                             123             .IMPORT _DAI_FULL_SCALE_SMPLE   ;
 6265                             124             .IMPORT _DAI_FULL_SCALE_SMP_END ;
 6266                             125     
 6267                             126             .IMPORT _ORG_END_SIG_CLR;
 6268                             127     
 6269                             128             .IMPORT _CMPAB_NEAR_END_PROC    ;
 6270                             129             .IMPORT _CMPAB_STEP_END_PROC    ;
 6271                             130     
 6272                             131             .IMPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
 6273                             132             .IMPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
 6274                             133             .IMPORT _CMPSTP_POS_START_CLR;//起動したい
 6275                             134             .IMPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6276                             135             .IMPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
 6277                             136             .IMPORT _CMPSTP_CNT_STOP_CLR;//連続停止
 6278                             137             .IMPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
 6279                             138             .IMPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6280                             139             .IMPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6281                             140     
 6282                             141             .IMPORT _CMPEMG_EXQ_FLG_CLR;
 6283                             142             .IMPORT _POS_CMP_1STEP_START_INI
 6284                             143     
 6285                             144             .IMPORT _STOP_LTH_OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     3
PROGRAM NAME =

 6286                             145             .IMPORT _LOT_SIG_FLG_CLR                        ;通常の連続
 6287                             146             .IMPORT _STOPPING_TIM_STOP_INI
 6288                             147     
 6289                             148             .IMPORT _POS_OVER_RUN_CHK1      ;[S01m 2003-04-03]
 6290                             149     
 6291                             150             .IMPORT         _BRK_ERR_WORK_CLR1              ;ERR1.SRC
 6292                             151     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6293                             152     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6294                             153     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6295                             154             .IMPORT         _BRK_ERR_CHK_START4             ;
 6296                             155     
 6297                             156             .IMPORT         _SET_NZ_TIM_DAT
 6298                             157             .IMPORT         _NZ_TIM_CHK1
 6299                             158     
 6300                             159     ;       ======= 2004-12-20 ==
 6301                             160             .IMPORT         _BANK2_CPOS_ABS_POS_SET ;2004-12-20 ssa_dtmk
 6302                             161             .IMPORT         _BANK2_TO_BANK1_MOV     ;
 6303                             162     
 6304                             163     ;       ======= 2006-07-28 ==
 6305                             164             .IMPORT _DND_POS_START_DAT_INI
 6306                             165     
 6307                             166             .AIF    0 EQ    0
 6308                             167 C   
 6309                             168 C           .IMPORT _VIB_PLS_OUT_ON         ;2010-08-23加振動制御 ssa_kjyu.inc
 6310                             169 C           .IMPORT _VIB_PLS_OUT_OF         ;2010-08-23加振動制御 ssa_kjyu.inc
 6311                             170 C   
 6312                             171 C           .IMPORT _API_IVW_CYC_START                      ;2010-09-21
 6313                             172 C           .IMPORT _API_IVW_CYC_END                        ;2010-09-21
 6314                             173 C   
 6315                             174 C   ;;;;;2012-10-19 .IMPORT _OVERH_CYC_START                        ;2012-09-25
 6316                             175 C           .IMPORT _OVERH_CYC_END                          ;2012-09-25
 6317                             176 C   
 6318                             177             .AENDI
 6319                             178     
 6320                             179             .IMPORT _API_BREAK_VALV_FLG_ON
 6321                             180             .IMPORT _API_BREAK_VALV_FLG_OF
 6322                             181     
 6323                             182     ;       //      ***********************************
 6324                             183     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6325                             184     ;       //      ***********************************
 6326                             185             .IMPORT         _LONG_BIT_TBL0
 6327                             186             .IMPORT         _SQ_CBWK_TOP
 6328                             187     ;       ====================================
 6329                             188             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6330                             189             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6331                             190             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6332                             191             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6333                             192             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6334                             193             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6335                             194             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6336                             195             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6337                             196             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6338                             197             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6339                             198             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6340                             199             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6341                             200             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6342                             201             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     4
PROGRAM NAME =

 6343                             202     
 6344                             203     ;       ==== 2003-07-09 ===
 6345                             204             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更
 6346                             205             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6347                             206     
 6348                             207             .GLOBAL         _PAR_INSERT_SMPTM       ;2012-09-25
 6349                             208             .GLOBAL         _CB_SYS_PARAM000        ;2012-09-25
 6350                             209             .GLOBAL         _PAR_INCSPD_UPLMT       ;
 6351                             210             .GLOBAL         _PAR_STOPTIM_SEL        ;
 6352                             211     
 6353                             212     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT1         ;
 6354                             213     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT1         ;
 6355                             214     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT2         ;
 6356                             215     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT2         ;
 6357                             216     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT3         ;
 6358                             217     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT3         ;
 6359                             218     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT4         ;
 6360                             219     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT4         ;
 6361                             220     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT5         ;
 6362                             221     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT5         ;
 6363                             222     
 6364                             223             .IMPORT         _PVP_CB_A_VER           ;
 6365                             224             .IMPORT         _SH4_GPOINT_LNG         ;
 6366                             225             .IMPORT         _SH2_GPOINT_LNG         ;
 6367                             226     
 6368                             227             .IMPORT         _KJPHOS_SMPINI          ;2004-07-05
 6369                             228             .IMPORT         _KJPHOS_SMPLING_END1    ;2004-07-05
 6370                             229     
 6371                             230             .IMPORT         _ORIGIN_POS_CHK_INI2    ;2011-03-23 待機点移動完了
 6372                             231     
 6373                             232             .IMPORT         _UP_ACCERR_START_INI    ;2011-08-29
 6374                             233     
 6375                             234             .IMPORT         _PVPAB_KAJLIV_TTL               ;//荷重生（TON）(1word)
 6376                             235     
 6377                             236     
 6378                             237             .IMPORT         _POS_HOLD_FLG_STR2CLR           ;2014-09-12
 6379                             238     
 6380                             239     ;       //      ***********************************
 6381                             240     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6382                             241     ;       //      ***********************************
 6383                             242             .EXPORT         _INT_POS_CTRL           ;-->ssa_k.src
 6384                             243             .EXPORT         _INT_POS_DATA_REF       ;-->ssa_k.src
 6385                             244     
 6386                             245             .EXPORT         _EMG_POS_FLG_PROC
 6387                             246             .EXPORT         _EXQ_POS_FLG_PROC
 6388                             247     
 6389                             248             .EXPORT         _MN_POS_CTRL_START              ;===>ssa_ctrl
 6390                             249             .EXPORT         _MN_POS_CTRL_ACT                ;===>ssa_ctrl
 6391                             250     
 6392                             251             .EXPORT         _FWD_REV_STSIG_OFF      ;SSA_CTRL1 2004-01-26
 6393                             252             .EXPORT         _POS_LSI_SLOW_STOP      ;SSA_CTRL1 2004-01-26
 6394                             253     
 6395                             254             .EXPORT _POS_LSI_START_INITAL           ;SPEED,LATE
 6396                             255             .EXPORT _POS_LSI_TOP_SPEED_SET  ;SPEED
 6397                             256             .EXPORT _LENGH_ADD_CALC         ;
 6398                             257             .EXPORT _LENGH_ADD_CALC_SV_TYPE ;
 6399                             258     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     5
PROGRAM NAME =

 6400                             259             .EXPORT _POS_LENGTH_ADD_DATA    ;
 6401                             260             .EXPORT _POS_PLS_OUTPUT_DATA    ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 6402                             261             .EXPORT _FWD_REV_START          ;起動
 6403                             262             .EXPORT _LOD_POS_STS_REG        ;
 6404                             263             .EXPORT _LOD_POS_STS_REG_POR    ;
 6405                             264             .EXPORT _FWD_REV_STSIG_OFF_SPEC ;
 6406                             265     
 6407                             266             .EXPORT _SET_PV_ABS_TO_OBJ      ;20060919
 6408                             267             .EXPORT _CHG_LSI_LATE_TO_PLS    ;20060919
 6409                             268             .EXPORT _OVERLID_DEF_SET        ;20060919
 6410                             269     
 6411                             270             .IMPORT _DIG01_CHG_DN_DATA_MAKE ;[20091007下振子]
 6412                             271     
 6413                             272             .IMPORT         _DIG36000_CHG_RENEA1            ;360.00度-->0.001mm
 6414                             273             .IMPORT _SVP_UPAREA_SPD0        ;0.1%　戻り速度
 6415                             274     
 6416                             275     ;       ------
 6417                             276             .IMPORT _CYCLE_SPD1             ;
 6418                             277     
 6419                             278             .IMPORT _INC_RST_WORK_CLR       ;
 6420                             279     
 6421                             280     ;;;     _BRK_SADOU_CHG EQ 1
 6422                             281     ;       ------ 2015-09-06(H2W 2015-03-15,H1F 2015-07-14)-------
 6423                             282     ;       -------- 2015-07-14------
 6424                             283             .IMPORT _PAR_MYUBRK_TIM1        ;[H1F=未作or無][H2W=2015-03-16 行程終了時　ﾐｭｰﾃﾝｸﾞ
                                          切替時間]
 6425                             284             .IMPORT _PAR_MYUBRK_TIM2        ;[H1F=未作or無][H2W=2015-03-16 終了時　ﾐｭｰﾃﾝｸﾞ切替
                                          時間]
 6426                             285             .IMPORT _PAR_MYU_BRK_SEL        ;[H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK
                                          :LOCK]
 6427                             286             .IMPORT _PAR_SELF_WAIT_TM       ;P22ｾﾙﾌﾁｪｯｸまたは位置決めからﾛｯｸ開始遅延時間(停止
                                          確認用)
 6428                             287     
 6429                             288             .AIF    0 EQ    0
 6430                             289 C           .IMPORT _API_CAM_DRV_DNM_DIR_SET        ;2016-11-16
 6431                             290             .AENDI
 6432                             291     
 6433                             292     
 6434                             293     
 6435                             294     ;       ***************************************************
 6436                             295     ;       ***                                             ***
 6437                             296     ;       ***                                             ***
 6438                             297     ;       ***                                             ***
 6439                             298     ;       ***             位置決めＬＳＩアクセス          ***
 6440                             299     ;       ***                                             ***
 6441                             300     ;       ***                                             ***
 6442                             301     ;       ***                                             ***
 6443                             302     ;       ***************************************************
 6444                             303     ;       ?加減速時間の演算と指令周波数の演算
 6445                             304     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
 6446                             305     ;       "_poslsi1_top"
 6447                             306     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
 6448                             307     ;       *速度周波数の演算
 6449                             308     ;       *ベース周波数=1?
 6450                             309     ;       *加速時間
 6451                             310     ;       *急停止の時間
 6452                             311     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     6
PROGRAM NAME =

 6453                             312     ;       ***                             ***
 6454                             313     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
 6455                             314     ;       ***                             ***
 6456                             315     ;       ***********************************
 6457                             316     ;       25MHZ*1/N*1/LATE=65535
 6458                             317             .IMPORT _poslsi1_top
 6459                             318     ;;;;_PLS_OUTPUT_MAX             .EQU    H'7FFF  ;
 6460          00FFFFFF           319     _PLS_OUTPUT_MAX         .EQU    H'00FFFFFF;128倍までは余裕あり
 6461          00000000           320     _PLSI_CH1               .equ    0
 6462          00000030           321     _PLSI_CH2               .equ    h'30
 6463                             322     
 6464          00000000           323     _PLS_BitComdL           .equ    h'0     ;R/W
 6465                             324     ;;_PLS_BitComdH         .equ    h'2     ;R/W
 6466          00000004           325     _PLS_BitInfoL           .equ    h'4     ;R
 6467                             326     ;;_PLS_BitInfoH         .equ    h'6     ;R
 6468          00000008           327     _PLS_TopFreqL           .EQU    H'8     ;R/W ﾄｯﾌﾟ周波数
 6469                             328     ;;_PLS_TopFreqH         .EQU    H'A     ;R/W
 6470          0000000C           329     _PLS_BasFreqL           .EQU    H'C     ;R/W ﾍﾞｰｽ周波数
 6471                             330     ;;_PLS_BasFreqH         .EQU    H'E     ;R/W
 6472          00000010           331     _PLS_NowFreqL           .EQU    H'10    ;R/W 現在周波数
 6473                             332     ;;_PLS_NowFreqH         .EQU    H'12    ;R/W
 6474          00000014           333     _PLS_OutPposL           .EQU    H'14    ;R/W 指令ﾊﾟﾙｽ数(これに払い出したいﾃﾞｰﾀを入れる:残
                                          量ｶｳﾝﾀでもある)
 6475                             334     ;;_PLS_OutPposH         .EQU    H'16    ;R/W
 6476          00000018           335     _PLS_GNpointL           .EQU    H'18    ;R/W 減速点
 6477                             336     ;;_PLS_GNpointH         .EQU    H'1A    ;R/W
 6478          0000001C           337     _PLS_AccLate1           .EQU    H'1C    ;R/W 通常運転加減速(減速指令時)
 6479          0000001E           338     _PLS_AccLate2           .EQU    H'1E    ;R/W 急停止加減速(急停止指令時)
 6480          00000020           339     _PLS_SpedLate           .EQU    H'20    ;R/W 周波数のLATE
 6481          00000022           340     _PLS_OutcntPS           .EQU    H'22    ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(1回の起動での払出ﾊﾟﾙｽ数up-cnt)
 6482          00000024           341     _PLS_NowPos1L           .equ    h'24
 6483                             342     ;;_PLS_NowPos1H         .equ    h'26
 6484          00000028           343     _PLS_NowPos2            .equ    h'28
 6485          0000002A           344     _PLS_CtrlReg            .equ    h'2A
 6486                             345     
 6487                             346     
 6488          00000000           347     _PLSI_CH_COM            .EQU    0
 6489          0000007E           348     _PLS_LTCHReg            .EQU    H'7E    ;LATCH
 6490                             349     
 6491                             350     ;       *******************************************
 6492                             351     ;       ***                                     ***
 6493                             352     ;       ***     DE LATCH                        ***
 6494                             353     ;       ***     32BIT ﾃﾞｰﾀを読み込む時のラッチ  ***
 6495                             354     ;       ***                                     ***
 6496                             355     ;       *******************************************
 6497                             356             .MACRO  PLS_READ_LATCH          ;ﾚｼﾞｽﾀ破壊せず
 6498                             357             PUSH_REG1 R0                                            ;
 6499                             358             MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
 6500                             359             MOV.W   @R0,R0                                          ;
 6501                             360             POP_REG1 R0                                             ;
 6502                             361             .ENDM
 6503                             362     
 6504                             363     ;       ***************************************************
 6505                             364     ;       ***     *CSを一旦上げてWAITを作成する為         ***
 6506                             365     ;       ***************************************************
 6507                             366             .MACRO  POS_LSI_WORD_DUM_LOD    ;ﾚｼﾞｽﾀ破壊せず
 6508                             367             PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     7
PROGRAM NAME =

 6509                             368             MOV.L   #_PVP_CB_A_VER,R0       ;
 6510                             369             MOV.W   @R0,R0
 6511                             370             POP_REG1 R0
 6512                             371             .ENDM
 6513                             372     
 6514                             373             .MACRO  POSLSI_RD_WR_WAIT_NOP
 6515                             374             NOP
 6516                             375             NOP
 6517                             376             NOP
 6518                             377             NOP
 6519                             378             NOP
 6520                             379             NOP
 6521                             380             NOP
 6522                             381             NOP
 6523                             382             NOP
 6524                             383             NOP
 6525                             384             .ENDM
 6526                             385     
 6527                             386             .MACRO  TIM_CNT_ADD MEM,LG,ADR_REG,DAT_REG,LATE
 6528                             387             MOV.L   #\MEM,\ADR_REG          ;
 6529                             388             MOV.\LG @\ADR_REG,\DAT_REG      ;
 6530                             389             ADD     #\LATE,\DAT_REG         ;
 6531                             390             MOV.\LG \DAT_REG,@\ADR_REG      ;
 6532                             391             .ENDM
 6533                             392     
 6534                             393             .MACRO  eSHi_SET_MEM_MOV SRC,L1,DST,L2
 6535                             394             PUSH_REG1 R0
 6536                             395             PUSH_REG1 R1
 6537                             396             MOV.L   #\SRC,R1        ;
 6538                             397             MOV.\L1 @R1,R0          ;
 6539                             398             MOV.L   #\DST,R1        ;
 6540                             399             MOV.\L2 R0,@R1          ;
 6541                             400             POP_REG1 R1
 6542                             401             POP_REG1 R0
 6543                             402             .ENDM
 6544                             403     
 6545                             404             .MACRO  eSHi_SET_REG_MOV DST,L1,SETREG,WKREG1
 6546                             405             PUSH_REG1 \WKREG1               ;
 6547                             406             MOV.L   #\DST,\WKREG1           ;
 6548                             407             MOV.\L1 \SETREG,@\WKREG1        ;
 6549                             408             POP_REG1 \WKREG1                ;
 6550                             409             .ENDM
 6551                             410     
 6552                             411             .MACRO  eSHi_SET_IM_MOV DST,L1,WKREG1,WKREG2,IMD
 6553                             412             PUSH_REG1 \WKREG1               ;
 6554                             413             PUSH_REG1 \WKREG2               ;
 6555                             414             MOV.W   #\IMD,\WKREG2           ;
 6556                             415             MOV.L   #\DST,\WKREG1           ;
 6557                             416             MOV.\L1 \WKREG2,@\WKREG1        ;
 6558                             417             POP_REG1 \WKREG2                ;
 6559                             418             POP_REG1 \WKREG1                ;
 6560                             419             .ENDM
 6561                             420     
 6562                             421     
 6563                             422     
 6564                             423     ;       *******************************************
 6565                             424     ;       ***     WRITEｱｸｾｽ開始時にON(H)          ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     8
PROGRAM NAME =

 6566                             425     ;       *******************************************
 6567                             426     
 6568                             427             .AIF    0 EQ    0
 6569                             428 C           .IMPORT _PDTRA
 6570                             429             .AENDI
 6571                             430     
 6572                             431             .MACRO  DEBUG_LSI_ACS_ON2_BIT BITDT
 6573                             432     
 6574                             433             .AIF    0 EQ    0
 6575                             434     ;;      (波形測定時)
 6576                             435             PUSH_REG1 R0
 6577                             436             PUSH_REG1 R1
 6578                             437             PUSH_REG1 R2
 6579                             438             MOV.L   #_PDTRA,R1                      ;
 6580                             439             MOV.W   @R1,R0                          ;
 6581                             440             MOV.W   #\BITDT,R2                      ;
 6582                             441             OR      R2,R0                           ;
 6583                             442             MOV.W   R0,@R1                          ;
 6584                             443     
 6585                             444             POP_REG1 R2
 6586                             445             POP_REG1 R1
 6587                             446             POP_REG1 R0
 6588                             447             .AENDI
 6589                             448     
 6590                             449             .ENDM
 6591                             450     
 6592                             451             .MACRO  DEBUG_LSI_ACS_OF2_BIT BITDT
 6593                             452     
 6594                             453             .AIF    0 EQ    0
 6595                             454     ;;      (波形測定時)
 6596                             455             PUSH_REG1 R0
 6597                             456             PUSH_REG1 R1
 6598                             457             PUSH_REG1 R2
 6599                             458             MOV.L   #_PDTRA,R1                      ;
 6600                             459             MOV.W   @R1,R0                          ;
 6601                             460             MOV.W   #LWORD ~\BITDT,R2               ;
 6602                             461             AND     R2,R0                           ;
 6603                             462             MOV.W   R0,@R1                          ;
 6604                             463             POP_REG1 R2
 6605                             464             POP_REG1 R1
 6606                             465             POP_REG1 R0
 6607                             466             .AENDI
 6608                             467     
 6609                             468             .ENDM
 6610                             469     
 6611                             470     
 6612                             471     
 6613                             472     ;       ***********************************
 6614                             473     ;       ***                             ***
 6615                             474     ;       ***     起動時呼ばれる          ***
 6616                             475     ;       ***                             ***
 6617                             476     ;       ***********************************
 6618                             477     ;
 6619                             478     ;       ・データのラッチ
 6620                             479             .IMPORT _CPUB_HENSA_FLG_CLR             ;2012-02-08
 6621                             480     ;
 6622 00000000                    481             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE     9
PROGRAM NAME =

 6623 00000000                    482     _MN_POS_CTRL_START:             ;ssa_pos1.src
 6624                             483             SUB_START
 6625 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6626                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6627                             484     
 6628                             485     
 6629                             486     ;       ----------2014-11-10------------
 6630 00000002 222A               487             XOR     R2,R2
 6631 00000004 D12C               488             MOV.L   #_CPOS_CTL_MATH,R1                      ;
 6632 00000006 6011               489             MOV.W   @R1,R0                                  ;
 6633 00000008 C804               490             TST     #_DMATH_DNDRIV,R0                       ;往復?
 6634                             491             TST_BIT_OF MN_POSCTL_ST050                      ;違う
 6635 0000000A 8904                   M           BT      MN_POSCTL_ST050
 6636                             492     
 6637 0000000C D12B               493             MOV.L   #_MODE_SEL,R1                           ;
 6638 0000000E 6011               494             MOV.W   @R1,R0                                  ;
 6639 00000010 C81E               495             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0       ;
 6640                             496             TST_BIT_OF MN_POSCTL_ST050                      ;
 6641 00000012 8900                   M           BT      MN_POSCTL_ST050
 6642                             497     
 6643 00000014 E201               498             MOV.B   #BIT0,R2                                ;対象運転開始
 6644                             499     
 6645 00000016                    500     MN_POSCTL_ST050                                         ;
 6646 00000016 D12A               501             MOV.L   #_MOVE_MODE_MATH_LATCH,R1               ;//0:(ふりこ以外 または 段取・原点
                                          モード)1:(ふりこでﾓｰｼｮﾝしていた)
 6647 00000018 2121               502             MOV.W   R2,@R1                                  ;
 6648                             503     ;       --------------------------------------------------
 6649                             504     
 6650                             505     ;       -------- 2013-02-08-------
 6651                             506     ;;;;;   MOV.L   #_CPOS_CTL_MATH,R1              ;
 6652                             507     ;;;;;   MOV.W   @R1,R0                          ;
 6653                             508     ;;;;;   TST     #_DMATH_DNDRIV,R0               ; 往復?
 6654                             509     ;;;;;   TST_BIT_OF MN_POSCTL_ST200              ;
 6655                             510     
 6656                             511             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
 6657 0000001A D02A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6658 0000001C 400B                   M           JSR     @R0                     ;
 6659 0000001E 0009                   M           NOP                                     ;
 6660                             512     
 6661                             513     ;;;;;MN_POSCTL_ST200:                           ;
 6662                             514     
 6663                             515     ;       --------------- 2014-09-12 [HLD後の起動なので再演算しない]-------
 6664                             516     ;;;;収集が付かないのでSET_PV_ABS_TO_OBJの中で抜ける     MOV.L   #_POS_HOLD_RDY_EXITF,R1
                                          ;
 6665                             517     ;;;;収集が付かないので  MOV.W   @R1,R0                          ;
 6666                             518     ;;;;収集が付かないので  TST     #BIT0,R0                        ;
 6667                             519     ;;;;収集が付かないので  TST_BIT_ON MN_POSCTL_START_050          ;
 6668                             520     
 6669                             521     ;       ======== 20060919 ======================
 6670                             522     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
 6671                             523     ;;;;;;  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
 6672                             524     ;       =======================================
 6673                             525     
 6674                             526     ;;;;収集が付かないので  M_BRA   MN_POSCTL_START_060             ;
 6675                             527     ;;;;収集が付かないので
 6676                             528     ;;;;収集が付かないのでMN_POSCTL_START_050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    10
PROGRAM NAME =

 6677                             529     ;;;;収集が付かないので  NOP
 6678                             530     ;;;;収集が付かないのでMN_POSCTL_START_060:
 6679                             531     
 6680                             532             FAR_JSR #_PRESET_PV_ABS_TO_OBJ,R0       ;
 6681 00000020 D029                   M           MOV.L   #_PRESET_PV_ABS_TO_OBJ,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6682 00000022 400B                   M           JSR     @R0                     ;
 6683 00000024 0009                   M           NOP                                     ;
 6684                             533     
 6685                             534     
 6686                             535     
 6687                             536     
 6688                             537     
 6689                             538     ;       --------------2013-02-15 寸動制限------------
 6690                             539             FAR_JSR #_INC_UPLIMT_CALC,R0    ;
 6691 00000026 D029                   M           MOV.L   #_INC_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6692 00000028 400B                   M           JSR     @R0                     ;
 6693 0000002A 0009                   M           NOP                                     ;
 6694                             540     
 6695                             541     
 6696                             542     ;       === 2005-04-14-E(4/18) ====
 6697                             543             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
 6698 0000002C D028                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6699 0000002E 400B                   M           JSR     @R0                     ;
 6700 00000030 0009                   M           NOP                                     ;
 6701                             544     
 6702                             545     ;       ----- [2009-10-07下振子]-----
 6703                             546             FAR_JSR #_DNM_CYCLE_START,R0    ;
 6704 00000032 D028                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6705 00000034 400B                   M           JSR     @R0                     ;
 6706 00000036 0009                   M           NOP                                     ;
 6707                             547     
 6708                             548             FAR_JSR #_CPOS_INI1_DTMOV1,R0           ;//運転ﾃﾞｰﾀﾗｯﾁ
 6709 00000038 D027                   M           MOV.L   #_CPOS_INI1_DTMOV1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6710 0000003A 400B                   M           JSR     @R0                     ;
 6711 0000003C 0009                   M           NOP                                     ;
 6712                             549             FAR_JSR #_DND_POS_START_DAT_INI,R0      ;2006-07-28
 6713 0000003E D027                   M           MOV.L   #_DND_POS_START_DAT_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6714 00000040 400B                   M           JSR     @R0                     ;
 6715 00000042 0009                   M           NOP                                     ;
 6716                             550     
 6717                             551             FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
 6718 00000044 D026                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6719 00000046 400B                   M           JSR     @R0                     ;
 6720 00000048 0009                   M           NOP                                     ;
 6721                             552             FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
 6722 0000004A D026                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6723 0000004C 400B                   M           JSR     @R0                     ;
 6724 0000004E 0009                   M           NOP                                     ;
 6725                             553     
 6726 00000050 222A               554             XOR     R2,R2
 6727 00000052 D125               555             MOV.L   #_INT_DND_CTL_STEP,R1;
 6728 00000054 2121               556             MOV.W   R2,@R1
 6729 00000056 D125               557             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 6730 00000058 2121               558             MOV.W   R2,@R1
 6731                             559     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6732 0000005A 200A               560             XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    11
PROGRAM NAME =

 6733 0000005C D124               561             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6734 0000005E 2101               562             MOV.W   R0,@R1                          ;
 6735                             563     
 6736                             564     ;       === 2004-12-20 ===
 6737 00000060 D124               565             MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
 6738 00000062 2101               566             MOV.W   R0,@R1                          ;
 6739                             567     
 6740                             568             FAR_JSR #_CNTREST_HOS_RESET,R1  ;
 6741 00000064 D124                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6742 00000066 410B                   M           JSR     @R1                     ;
 6743 00000068 0009                   M           NOP                                     ;
 6744                             569     
 6745                             570     ;       === 2004-01-26 CCS===
 6746 0000006A 200A               571             XOR     R0,R0
 6747 0000006C D123               572             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
 6748 0000006E 2101               573             MOV.W   R0,@R1                          ;
 6749                             574     
 6750                             575     
 6751                             576     ;       ====== 一旦停止信号OFF=====
 6752                             577             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
 6753 00000070 D123                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 6754 00000072 6011                   M           MOV.W   @R1,R0          ;
 6755 00000074 941F                   M           MOV.W   #LWORD (~BIT9),R4       ;
 6756 00000076 2049                   M           AND     R4,R0           ;
 6757 00000078 2101                   M           MOV.W   R0,@R1          ;
 6758                             578     
 6759                             579             FAR_JSR #_CMPCYC_START_CLR,R0           ;
 6760 0000007A D022                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6761 0000007C 400B                   M           JSR     @R0                     ;
 6762 0000007E 0009                   M           NOP                                     ;
 6763                             580             FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
 6764 00000080 D021                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6765 00000082 400B                   M           JSR     @R0                     ;
 6766 00000084 0009                   M           NOP                                     ;
 6767                             581             FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
 6768 00000086 D021                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6769 00000088 400B                   M           JSR     @R0                     ;
 6770 0000008A 0009                   M           NOP                                     ;
 6771                             582     
 6772                             583             FAR_JSR #_MOTION_CYCLE_START,R0         ;
 6773 0000008C D020                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6774 0000008E 400B                   M           JSR     @R0                     ;
 6775 00000090 0009                   M           NOP                                     ;
 6776                             584     
 6777                             585             FAR_JSR #_POS_LSI_WORK_STOP2,R0
 6778 00000092 D020                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6779 00000094 400B                   M           JSR     @R0                     ;
 6780 00000096 0009                   M           NOP                                     ;
 6781                             586     
 6782 00000098 200A               587             XOR     R0,R0                   ;
 6783 0000009A D11F               588             MOV.L   #_INT_CYC_DRV_STS,R1    ;
 6784 0000009C 2101               589             MOV.W   R0,@R1                  ;
 6785 0000009E D11F               590             MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
 6786 000000A0 2101               591             MOV.W   R0,@R1                  ;
 6787 000000A2 D11F               592             MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    12
PROGRAM NAME =

 6788 000000A4 2101               593             MOV.W   R0,@R1                  ;
 6789 000000A6 D11F               594             MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
 6790 000000A8 2101               595             MOV.W   R0,@R1                  ;
 6791                             596     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
 6792                             597     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
 6793                             598     
 6794                             599     ;;      FAR_JSR #_CPOS_INI1_DTMOV1,R0   ;//運転ﾃﾞｰﾀﾗｯﾁ
 6795                             600     
 6796 000000AA D104               601             MOV.L   #_MODE_SEL,R1                                           ;
 6797 000000AC 6011               602             MOV.W   @R1,R0                                                  ;
 6798 000000AE C81E               603             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0                       ;
 6799                             604             TST_BIT_OF MN_POSCTL_START_110                                  ;
 6800 000000B0 893A                   M           BT      MN_POSCTL_START_110
 6801                             605             M_BRA   MN_POSCTL_START_500                                     ;寸動,安一,連続
 6802 000000B2 A07B                   M           BRA     MN_POSCTL_START_500
 6803 000000B4 0009                   M           NOP
 6804                                     ***** BEGIN-POOL *****
 6805 000000B6 FDFF                       DATA FOR SOURCE-LINE 577
 6806 000000B8 00000000                   DATA FOR SOURCE-LINE 488
 6807 000000BC 00000000                   DATA FOR SOURCE-LINE 493,601
 6808 000000C0 00000000                   DATA FOR SOURCE-LINE 501
 6809 000000C4 00000000                   DATA FOR SOURCE-LINE 511
 6810 000000C8 00000000                   DATA FOR SOURCE-LINE 532
 6811 000000CC 00000000                   DATA FOR SOURCE-LINE 539
 6812 000000D0 00000000                   DATA FOR SOURCE-LINE 543
 6813 000000D4 00000000                   DATA FOR SOURCE-LINE 546
 6814 000000D8 00000000                   DATA FOR SOURCE-LINE 548
 6815 000000DC 00000000                   DATA FOR SOURCE-LINE 549
 6816 000000E0 00000000                   DATA FOR SOURCE-LINE 551
 6817 000000E4 00000000                   DATA FOR SOURCE-LINE 552
 6818 000000E8 00000000                   DATA FOR SOURCE-LINE 555
 6819 000000EC 00000000                   DATA FOR SOURCE-LINE 557
 6820 000000F0 00000000                   DATA FOR SOURCE-LINE 561
 6821 000000F4 00000000                   DATA FOR SOURCE-LINE 565
 6822 000000F8 00000000                   DATA FOR SOURCE-LINE 568
 6823 000000FC 00000000                   DATA FOR SOURCE-LINE 572
 6824 00000100 00000000                   DATA FOR SOURCE-LINE 577
 6825 00000104 00000000                   DATA FOR SOURCE-LINE 579
 6826 00000108 00000000                   DATA FOR SOURCE-LINE 580
 6827 0000010C 00000000                   DATA FOR SOURCE-LINE 581
 6828 00000110 00000000                   DATA FOR SOURCE-LINE 583
 6829 00000114 00000000                   DATA FOR SOURCE-LINE 585
 6830 00000118 00000000                   DATA FOR SOURCE-LINE 588
 6831 0000011C 00000000                   DATA FOR SOURCE-LINE 590
 6832 00000120 00000000                   DATA FOR SOURCE-LINE 592
 6833 00000124 00000000                   DATA FOR SOURCE-LINE 594
 6834                                     ***** END-POOL *****
 6835 00000128                    606     MN_POSCTL_START_110:
 6836                             607     
 6837                             608     ;       === 待機点作成(最寄)  :上死点復帰の場合は360ｴﾝｺｰﾀﾞから算出する  ;
 6838 00000128 C840               609             TST     #(_W1DUP),R0                                            ;
 6839                             610             TST_BIT_ON MN_POSCTL_START_200                                  ;強制上昇
 6840 0000012A 8B07                   M           BF      MN_POSCTL_START_200
 6841                             611     
 6842                             612     ;       === 段取モード========
 6843                             613             FAR_JSR #_MN_DNDINC_START,R0            ;2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化
 6844 0000012C D002                   M           MOV.L   #_MN_DNDINC_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    13
PROGRAM NAME =

 6845 0000012E 400B                   M           JSR     @R0                     ;
 6846 00000130 0009                   M           NOP                                     ;
 6847                             614             M_BRA   MN_POSCTL_START_800             ;
 6848 00000132 A064                   M           BRA     MN_POSCTL_START_800
 6849 00000134 0009                   M           NOP
 6850                             615     
 6851                             616     ;;      -- 2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化--
 6852                             617     ;;      MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 6853                             618     ;;      MOV.W   @R1,R0                          ;
 6854                             619     ;;      CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 6855                             620     ;;      BF      MN_POSCTL_START_150             ;
 6856                             621     ;;
 6857                             622     ;;      ====== 反転/段取寸動===
 6858                             623     ;;      FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 6859                             624     ;;      FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 6860                             625     ;;      M_BRA   MN_POSCTL_START_180             ;
 6861                             626     ;;
 6862                             627     ;;MN_POSCTL_START_150:
 6863                             628     ;;      ====== 回転/段取寸動===
 6864                             629     ;;      +/-MAX位置を目標とする                                  ;
 6865                             630     ;;      === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 6866                             631     ;;      FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 6867                             632     ;;      MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 6868                             633     ;;      MOV.W   @R1,R0
 6869                             634     ;;      FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 6870                             635     ;;MN_POSCTL_START_180:
 6871                             636     ;;      FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 6872                             637     ;;      M_BRA   MN_POSCTL_START_800                             ;
 6873                             638     
 6874                             639     
 6875                             640     ;       ===================================
 6876                             641     ;       ===     (原点復帰開始処理)      ===
 6877                             642     ;       ===================================
 6878                             643     ;2008-09-16(論理変更　ﾚﾍﾞﾙ動作も活かす)
 6879                                     ***** BEGIN-POOL *****
 6880 00000136 0000                       ALIGNMENT CODE
 6881 00000138 00000000                   DATA FOR SOURCE-LINE 613
 6882                                     ***** END-POOL *****
 6883 0000013C                    644     MN_POSCTL_START_200:                                                    ;
 6884 0000013C D10B               645             MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6885 0000013E 6011               646             MOV.W   @R1,R0                          ;
 6886 00000140 C801               647             TST     #BIT0,R0                        ;
 6887                             648             TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6888 00000142 891D                   M           BT      MN_POSCTL_START_220
 6889                             649     
 6890                             650     ;       --------[2014-09-18]-----------
 6891 00000144 D10A               651             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R1
 6892 00000146 6011               652             MOV.W   @R1,R0                          ;
 6893 00000148 C801               653             TST     #BIT0,R0                        ;
 6894                             654             TST_BIT_OF MN_POSCTL_START_220          ;1:ﾓｰｼｮﾝ運転可能=待機動作もｻｰﾁ無し可能
 6895 0000014A 8919                   M           BT      MN_POSCTL_START_220
 6896                             655     
 6897                             656     ;       --------------------------------
 6898                             657     
 6899 0000014C D109               658             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6900 0000014E 6011               659             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    14
PROGRAM NAME =

 6901 00000150 2008               660             TST     R0,R0                           ;
 6902                             661             TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6903 00000152 8915                   M           BT      MN_POSCTL_START_220
 6904                             662     
 6905 00000154 D108               663             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6906 00000156 6011               664             MOV.W   @R1,R0                          ;
 6907 00000158 9406               665             MOV.W   #BIT15,R4                       ;
 6908 0000015A 2048               666             TST     R4,R0                           ;
 6909                             667             TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6910 0000015C 8910                   M           BT      MN_POSCTL_START_220
 6911                             668     
 6912                             669             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6913 0000015E D007                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6914 00000160 400B                   M           JSR     @R0                     ;
 6915 00000162 0009                   M           NOP                                     ;
 6916                             670                                                     ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6917                             671                                                     ;
 6918                             672             M_BRA   MN_POSCTL_START_800             ;
 6919 00000164 A04B                   M           BRA     MN_POSCTL_START_800
 6920 00000166 0009                   M           NOP
 6921                             673     
 6922                             674     ;;;;----------- 2008-09-16 論理変更
 6923                             675     ;;;;2006-11-21
 6924                             676     ;;;;MN_POSCTL_START_200:                                                        ;
 6925                             677     ;;;;    MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6926                             678     ;;;;    MOV.W   @R1,R0                          ;
 6927                             679     ;;;;    MOV.W   #BIT15,R4                       ;
 6928                             680     ;;;;    TST     R4,R0                           ;
 6929                             681     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6930                             682     ;;;;
 6931                             683     ;;;;    ============ 2006-07-28=========
 6932                             684     ;;;;    MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6933                             685     ;;;;    MOV.W   @R1,R0                          ;
 6934                             686     ;;;;    TST     R0,R0                           ;
 6935                             687     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6936                             688     ;;;;
 6937                             689     ;;;;    MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6938                             690     ;;;;    MOV.W   @R1,R0                          ;
 6939                             691     ;;;;    TST     #BIT0,R0                        ;
 6940                             692     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6941                             693     ;;;;
 6942                             694     ;;;;    FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6943                             695     ;;;;                                            ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6944                             696     ;;;;                                            ;
 6945                             697     ;;;;    M_BRA   MN_POSCTL_START_800             ;
 6946                             698     
 6947                             699     
 6948                             700     
 6949                             701     ;----------- 2006-11-21 論理変更
 6950                             702     ;;;MN_POSCTL_START_200:                                                 ;
 6951                             703     ;;;     ============ 2006-07-28=========
 6952                             704     ;;;     MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6953                             705     ;;;     MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    15
PROGRAM NAME =

 6954                             706     ;;;     TST     R0,R0                           ;
 6955                             707     ;;;     TST_BIT_ON MN_POSCTL_START_210          ;
 6956                             708     ;;;
 6957                             709     ;;;     ============2004-05-24=========================
 6958                             710     ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6959                             711     ;;;     MOV.W   @R1,R0                          ;
 6960                             712     ;;;     MOV.W   #BIT15,R4                       ;
 6961                             713     ;;;     TST     R4,R0                           ;
 6962                             714     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6963                             715     ;;;MN_POSCTL_START_210:                                                 ;
 6964                             716     ;;;     MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6965                             717     ;;;     MOV.W   @R1,R0                          ;
 6966                             718     ;;;     TST     #BIT0,R0                        ;
 6967                             719     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6968                             720     ;;;
 6969                             721     ;;;     FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6970                             722     ;;;                                             ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6971                             723     ;;;                                             ;
 6972                             724     ;;;     M_BRA   MN_POSCTL_START_800             ;
 6973                             725     
 6974                             726     ;       ----------------- ｻｰﾁﾀｲﾌﾟ-----------------------
 6975                                     ***** BEGIN-POOL *****
 6976 00000168 8000                       DATA FOR SOURCE-LINE 665
 6977 0000016A 0000                       ALIGNMENT CODE
 6978 0000016C 00000000                   DATA FOR SOURCE-LINE 645
 6979 00000170 00000000                   DATA FOR SOURCE-LINE 651
 6980 00000174 00000000                   DATA FOR SOURCE-LINE 658
 6981 00000178 00000000                   DATA FOR SOURCE-LINE 663
 6982 0000017C 00000000                   DATA FOR SOURCE-LINE 669
 6983                                     ***** END-POOL *****
 6984 00000180                    727     MN_POSCTL_START_220:
 6985 00000180 D106               728             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
 6986 00000182 200A               729             XOR     R0,R0                           ;
 6987 00000184 2101               730             MOV.W   R0,@R1                          ;
 6988                             731     
 6989                             732     ;       ===============================================
 6990                             733     ;       ==== 上死点復帰・待機点復帰====
 6991                             734     ;       今の位置から上死点＋３度を目指す
 6992                             735     ;       今の位置から上死点−３度を目指す
 6993                             736             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R1       ;
 6994 00000186 D106                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6995 00000188 410B                   M           JSR     @R1                     ;
 6996 0000018A 0009                   M           NOP                                     ;
 6997                             737             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 6998 0000018C D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6999 0000018E 440B                   M           JSR     @R4                     ;
 7000 00000190 0009                   M           NOP                                     ;
 7001                             738             FAR_JSR #_ORG_END_SIG_CLR,R0            ;
 7002 00000192 D005                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7003 00000194 400B                   M           JSR     @R0                     ;
 7004 00000196 0009                   M           NOP                                     ;
 7005                             739             M_BRA   MN_POSCTL_START_800             ;
 7006 00000198 A031                   M           BRA     MN_POSCTL_START_800
 7007 0000019A 0009                   M           NOP
 7008                             740     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    16
PROGRAM NAME =

 7009                                     ***** BEGIN-POOL *****
 7010 0000019C 00000000                   DATA FOR SOURCE-LINE 728
 7011 000001A0 00000000                   DATA FOR SOURCE-LINE 736
 7012 000001A4 00000000                   DATA FOR SOURCE-LINE 737
 7013 000001A8 00000000                   DATA FOR SOURCE-LINE 738
 7014                                     ***** END-POOL *****
 7015 000001AC                    741     MN_POSCTL_START_500:                            ;
 7016                             742             FAR_JSR #_CPOS_INI1_DTMOV2,R0           ;
 7017 000001AC D009                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7018 000001AE 400B                   M           JSR     @R0                     ;
 7019 000001B0 0009                   M           NOP                                     ;
 7020                             743     
 7021                             744     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 7022                             745     ;;      XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 7023                             746     ;;      MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 7024                             747     ;;      MOV.W   R0,@R1                          ;
 7025                             748     
 7026                             749     ;(急停止の場合はSV_POS_CTL_SEPは0ではない ok!)
 7027                             750     ;(ｻｲｸﾙ停止では、回転数を演算する必要はない)
 7028                             751     
 7029                             752     ;
 7030                             753     ;       === 待機点作成(方向あり)====
 7031 000001B2 D109               754             MOV.L   #_SV_POS_CTL_STEP,R1            ;
 7032 000001B4 6011               755             MOV.W   @R1,R0                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
 7033                             756     
 7034 000001B6 2008               757             TST     R0,R0                           ;
 7035                             758             TST_BIT_ON MN_POSCTL_START_600          ;(ﾘｾｯﾄ時に待機点を決定する)
 7036 000001B8 8B1E                   M           BF      MN_POSCTL_START_600
 7037                             759     ;;;;;;;;;;STEP=0:非常停止後の起動
 7038                             760     ;;;;;;;;;;2014-09-19    ----------- [2009-10-07下振子]
 7039                             761     ;;;;;;;;;;2014-09-19    MOV.L   #_CPOS_CTL_MATH,R1              ;
 7040                             762     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 7041                             763     ;;;;;;;;;;2014-09-19    TST     #_DMATH_DNDRIV,R0               ; 往復?
 7042                             764     ;;;;;;;;;;2014-09-19    TST_BIT_OF MN_POSCTL_START_520          ;
 7043                             765     ;;;;;;;;;;2014-09-19    MOV.L   #_DNM_DIR_SET_FLG,R1            ;(この論理はよくない)
 7044                             766     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 7045                             767     ;;;;;;;;;;2014-09-19    TST     R0,R0                           ;
 7046                             768     ;;;;;;;;;;2014-09-19    TST_BIT_ON MN_POSCTL_START_540          ;DNM_DIR_NOW_FLG
 7047                             769     ;;;;;;;;;;2014-09-19MN_POSCTL_START_520:                                ;
 7048                             770     ;;;;;;;;;;2014-09-19 目標位置から演算するから不要に思える.待機点を跨ぐなら別
 7049                             771     
 7050                             772     ;       ------------ これがいまのところインターロックではたらいていなそう(20091007コメント
                                          )----------
 7051 000001BA D108               773             MOV.L   #_INT_CYC_DRV_STS,R1            ;SV=0非常停止またはｻｲｸﾙ停止(BIT0=1:ｻｲｸﾙ停
                                          止)
 7052 000001BC 6011               774             MOV.W   @R1,R0                          ;
 7053 000001BE C801               775             TST     #BIT0,R0                        ;
 7054                             776             TST_BIT_ON MN_POSCTL_START_540          ;(これがうまくとれていない ｻｲｸﾙ停止時は演
                                          算しない)
 7055 000001C0 8B12                   M           BF      MN_POSCTL_START_540
 7056                             777     
 7057                             778     ;       ---------- 非常停止後の起動-----------
 7058                             779             FAR_JSR #_NEXT_CYCL_START2,R0                   ;(((((何の起動??)))))
 7059 000001C2 D007                   M           MOV.L   #_NEXT_CYCL_START2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7060 000001C4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    17
PROGRAM NAME =

 7061 000001C6 0009                   M           NOP                                     ;
 7062                             780             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 7063 000001C8 D006                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7064 000001CA 400B                   M           JSR     @R0                     ;
 7065 000001CC 0009                   M           NOP                                     ;
 7066                             781     
 7067                             782     
 7068                             783     ;
 7069                             784     
 7070                             785     
 7071                             786             M_BRA   MN_POSCTL_START_600                     ;
 7072 000001CE A013                   M           BRA     MN_POSCTL_START_600
 7073 000001D0 0009                   M           NOP
 7074                             787     
 7075                             788     ;       -------遮光停止でこれをやった場合で　待機点を越えていたら以外にだめ？(コメント2009
                                          1007)--------
 7076                             789     ;       遮光による停止、またはサイクルＥＮＤ後の自動起動
 7077                             790     
 7078                                     ***** BEGIN-POOL *****
 7079 000001D2 0000                       ALIGNMENT CODE
 7080 000001D4 00000000                   DATA FOR SOURCE-LINE 742
 7081 000001D8 00000000                   DATA FOR SOURCE-LINE 754
 7082 000001DC 00000000                   DATA FOR SOURCE-LINE 773
 7083 000001E0 00000000                   DATA FOR SOURCE-LINE 779
 7084 000001E4 00000000                   DATA FOR SOURCE-LINE 780
 7085                                     ***** END-POOL *****
 7086 000001E8                    791     MN_POSCTL_START_540:                                    ;
 7087 000001E8 D115               792             MOV.L   #_LINK_OBJROT_NUM_ZR,R1                 ;//NOW ROTATION 番号
 7088 000001EA 6212               793             MOV.L   @R1,R2                                  ;+0
 7089                             794             FAR_JSR #_NEXT_CYCL_START1,R0                   ;(連続時は転送でも良いがとりあえず
                                          このまま残す)
 7090 000001EC D015                   M           MOV.L   #_NEXT_CYCL_START1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7091 000001EE 400B                   M           JSR     @R0                     ;
 7092 000001F0 0009                   M           NOP                                     ;
 7093                             795             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 7094 000001F2 D015                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7095 000001F4 400B                   M           JSR     @R0                     ;
 7096 000001F6 0009                   M           NOP                                     ;
 7097 000001F8                    796     MN_POSCTL_START_600:                            ;
 7098 000001F8 0009               797             NOP                                     ;何もしないくて良いはず
 7099 000001FA 0009               798             NOP                                     ;
 7100 000001FC 0009               799             NOP                                     ;
 7101 000001FE                    800     MN_POSCTL_START_800:                            ;
 7102                             801     
 7103                             802     
 7104 000001FE 901D               803             MOV.W   #BIT0,R0                        ;起動
 7105 00000200 D112               804             MOV.L   #_MNWR_POS_CMD,R1               ;
 7106 00000202 2101               805             MOV.W   R0,@R1                          ;
 7107                             806     
 7108                             807     
 7109                             808     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
 7110                             809             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
 7111 00000204 D412                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
 7112 00000206 6041                   M           MOV.W   @R4,R0          ;
 7113 00000208 9119                   M           MOV.W   #LWORD (~BIT5),R1       ;
 7114 0000020A 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    18
PROGRAM NAME =

 7115 0000020C 2401                   M           MOV.W   R0,@R4          ;
 7116                             810             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
 7117 0000020E D411                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
 7118 00000210 6041                   M           MOV.W   @R4,R0          ;
 7119 00000212 9114                   M           MOV.W   #LWORD (~BIT5),R1       ;
 7120 00000214 2019                   M           AND     R1,R0           ;
 7121 00000216 2401                   M           MOV.W   R0,@R4          ;
 7122                             811     
 7123                             812     
 7124                             813     ;       --------2011-05-11　起動時　本当は.160度手前.....----
 7125                             814             FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
 7126 00000218 D00F                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7127 0000021A 400B                   M           JSR     @R0                     ;
 7128 0000021C 0009                   M           NOP                                     ;
 7129                             815     
 7130                             816     
 7131                             817     ;       -2012-05-30 反転
 7132                             818             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
 7133 0000021E D00F                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7134 00000220 400B                   M           JSR     @R0                     ;
 7135 00000222 0009                   M           NOP                                     ;
 7136                             819     
 7137                             820     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
 7138                             821             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
 7139                             822 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
 7140 00000224 D00E                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7141 00000226 400B                   M           JSR     @R0                     ;
 7142 00000228 0009                   M           NOP                                     ;
 7143                             823 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
 7144 0000022A D00E                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7145 0000022C 400B                   M           JSR     @R0                     ;
 7146 0000022E 0009                   M           NOP                                     ;
 7147                             824             .AENDI
 7148                             825     
 7149                             826     ;       -------- 2015-11-17 ---------
 7150                             827     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_START1,R0
 7151                             828             FAR_JSR #_API_ACC_MATHED_COM_DRV_START1,R0      ;2016-04-18
 7152 00000230 D00D                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_START1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7153 00000232 400B                   M           JSR     @R0                     ;
 7154 00000234 0009                   M           NOP                                     ;
 7155                             829     
 7156                             830             SUB_END
 7157                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7158 00000236 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7159                             831             M_RTS
 7160 00000238 000B                   M           RTS                             ;RTSの後ろの
 7161 0000023A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7162                             832     
 7163                             833     
 7164                             834     ;       ***********************************
 7165                             835     ;       ***     運転中に呼ばれる        ***
 7166                             836     ;       ***********************************
 7167                             837     ;       FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 7168                             838     ;                                               ;<寸動等の停止 -->準備未完了へ "FF">
 7169                             839     ;                                               ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 7170                             840     ;
 7171                             841     ;       ・１回転分のデータを作成するだけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    19
PROGRAM NAME =

 7172                             842     ;       ・位置決め完了を見るだけ
 7173                             843     ;
 7174                                     ***** BEGIN-POOL *****
 7175 0000023C 0001                       DATA FOR SOURCE-LINE 803
 7176 0000023E FFDF                       DATA FOR SOURCE-LINE 809,810
 7177 00000240 00000000                   DATA FOR SOURCE-LINE 792
 7178 00000244 00000000                   DATA FOR SOURCE-LINE 794
 7179 00000248 00000000                   DATA FOR SOURCE-LINE 795
 7180 0000024C 00000000                   DATA FOR SOURCE-LINE 804
 7181 00000250 00000000                   DATA FOR SOURCE-LINE 809
 7182 00000254 00000000                   DATA FOR SOURCE-LINE 810
 7183 00000258 00000000                   DATA FOR SOURCE-LINE 814
 7184 0000025C 00000000                   DATA FOR SOURCE-LINE 818
 7185 00000260 00000000                   DATA FOR SOURCE-LINE 822
 7186 00000264 00000000                   DATA FOR SOURCE-LINE 823
 7187 00000268 00000000                   DATA FOR SOURCE-LINE 828
 7188                                     ***** END-POOL *****
 7189 0000026C                    844             .ALIGN  4                               ;
 7190 0000026C                    845     _MN_POS_CTRL_ACT:                               ;ssa_pos1.src
 7191                             846             SUB_START
 7192 0000026C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7193                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7194                             847     
 7195 0000026E D103               848             MOV.L   #_INT_CYC_DRV_STS,R1            ;
 7196 00000270 6011               849             MOV.W   @R1,R0                          ;
 7197 00000272 C840               850             TST     #BIT6,R0                        ;工程終了
 7198                             851             TST_BIT_OF MN_POS_CTLACT_100            ;(位置決め完了 NO!)
 7199 00000274 8904                   M           BT      MN_POS_CTLACT_100
 7200                             852             M_BRA   MN_POS_CTLACT_800               ;
 7201 00000276 A029                   M           BRA     MN_POS_CTLACT_800
 7202 00000278 0009                   M           NOP
 7203                             853     
 7204                                     ***** BEGIN-POOL *****
 7205 0000027A 0000                       ALIGNMENT CODE
 7206 0000027C 00000000                   DATA FOR SOURCE-LINE 848
 7207                                     ***** END-POOL *****
 7208 00000280                    854     MN_POS_CTLACT_100:                              ;
 7209                             855     
 7210                             856     
 7211                             857     ;;;     _BRK_SADOU_CHG EQ 1
 7212                             858     ;       ------------2015-09-06 ﾌﾞﾚｰｷ作動(H2W 2015-03-16,H1F 2015-07-14)-----------------
 7213 00000280 D104               859             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1                    ;[
                                          H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK:LOCK]
 7214 00000282 6011               860             MOV.W   @R1,R0                                  ;
 7215 00000284 8801               861             CMP/EQ  #1,R0
 7216 00000286 8B09               862             BF      MN_POS_CTLACT_130                       ;
 7217                             863     
 7218                             864     ;       -------------2015-09-06 (2015-07-14)-------------------------
 7219                             865     ;       ｲﾝﾎﾟｼﾞｼｮﾝから位置決め完了(ﾌﾞﾚｰｷまでの遅延)
 7220                             866             FAR_JSR #_POS_ENDWAIT_TIM_SET,R0                ;[安一,連続のAUTO それ以外でとるか
                                          ]
 7221 00000288 D003                   M           MOV.L   #_POS_ENDWAIT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7222 0000028A 400B                   M           JSR     @R0                     ;
 7223 0000028C 0009                   M           NOP                                     ;
 7224                             867             M_BRA   MN_POS_CTLACT_150                                       ;
 7225 0000028E A008                   M           BRA     MN_POS_CTLACT_150
 7226 00000290 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    20
PROGRAM NAME =

 7227                             868     
 7228                                     ***** BEGIN-POOL *****
 7229 00000292 0000                       ALIGNMENT CODE
 7230 00000294 00000000                   DATA FOR SOURCE-LINE 859
 7231 00000298 00000000                   DATA FOR SOURCE-LINE 866
 7232                                     ***** END-POOL *****
 7233 0000029C                    869     MN_POS_CTLACT_130:                                      ;
 7234                             870     ;       --------------2015-09-06(2015-07-14)------------------------
 7235                             871             FAR_JSR #_POS_ENDMYUT_TIM_SET,R0                ;終了から動力遮断するorﾐｭｰﾃﾝｸﾞにす
                                          る時間
 7236 0000029C D007                   M           MOV.L   #_POS_ENDMYUT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7237 0000029E 400B                   M           JSR     @R0                     ;
 7238 000002A0 0009                   M           NOP                                     ;
 7239                             872     ;       -------------------------------------------------
 7240 000002A2                    873     MN_POS_CTLACT_150:                                      ;
 7241                             874     
 7242                             875     
 7243                             876     
 7244                             877     
 7245                             878     
 7246                             879     
 7247 000002A2 D107               880             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7248 000002A4 6011               881             MOV.W   @R1,R0                          ;
 7249 000002A6 C805               882             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;[20091007下振子]
 7250                             883             TST_BIT_OF DAI_CHK01_200                ;
 7251 000002A8 8902                   M           BT      DAI_CHK01_200
 7252                             884             FAR_JSR #_DAI_FULL_SCALE_SMPLE,R0       ;2003-02-03
 7253 000002AA D006                   M           MOV.L   #_DAI_FULL_SCALE_SMPLE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7254 000002AC 400B                   M           JSR     @R0                     ;
 7255 000002AE 0009                   M           NOP                                     ;
 7256 000002B0                    885     DAI_CHK01_200:
 7257                             886     
 7258                             887             FAR_JSR #_MOST_DISP_DAT_SMP,R0          ;
 7259 000002B0 D005                   M           MOV.L   #_MOST_DISP_DAT_SMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7260 000002B2 400B                   M           JSR     @R0                     ;
 7261 000002B4 0009                   M           NOP                                     ;
 7262                             888             M_BRA   MN_POS_CTLACT_CONTINUE          ;
 7263 000002B6 A01D                   M           BRA     MN_POS_CTLACT_CONTINUE
 7264 000002B8 0009                   M           NOP
 7265                             889     
 7266                                     ***** BEGIN-POOL *****
 7267 000002BA 0000                       ALIGNMENT CODE
 7268 000002BC 00000000                   DATA FOR SOURCE-LINE 871
 7269 000002C0 00000000                   DATA FOR SOURCE-LINE 880
 7270 000002C4 00000000                   DATA FOR SOURCE-LINE 884
 7271 000002C8 00000000                   DATA FOR SOURCE-LINE 887
 7272                                     ***** END-POOL *****
 7273 000002CC                    890     MN_POS_CTLACT_800:
 7274 000002CC 200A               891             XOR     R0,R0                           ;ｻｲｸﾙ停止
 7275 000002CE D106               892             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
 7276 000002D0 2101               893             MOV.W   R0,@R1                          ;
 7277                             894     
 7278                             895     ;;;     _BRK_SADOU_CHG EQ 1
 7279                             896     ;       --------2015-09-06(2015-07-14)----------------
 7280 000002D2 D106               897             MOV.L   #_POS_END_WAIT_TIM,R1           ;
 7281 000002D4 6011               898             MOV.W   @R1,R0                          ;
 7282 000002D6 2008               899             TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    21
PROGRAM NAME =

 7283                             900             TST_BIT_ON MN_POS_CTLACT_CONTINUE       ;(位置決め完了を待つ---遮光時は動力遮断状
                                          態だから大丈夫)
 7284 000002D8 8B0C                   M           BF      MN_POS_CTLACT_CONTINUE
 7285                             901     ;       -----------------------------------------
 7286                             902     
 7287                             903     
 7288 000002DA D105               904             MOV.L   #_INT_CYC_DRV_STS,R1    ;//BIT0:CYCLE　END()
 7289 000002DC 6011               905             MOV.W   @R1,R0
 7290 000002DE C801               906             TST     #BIT0,R0                        ;(わざとｻｲｸﾙ停止にしない)
 7291                             907             TST_BIT_ON MN_POS_CTLACT_CYCLE_END      ;
 7292 000002E0 8B0E                   M           BF      MN_POS_CTLACT_CYCLE_END
 7293                             908             M_BRA   MN_POS_CTLACT_STOP_END          ;
 7294 000002E2 A00A                   M           BRA     MN_POS_CTLACT_STOP_END
 7295 000002E4 0009                   M           NOP
 7296                             909     
 7297                             910     
 7298                                     ***** BEGIN-POOL *****
 7299 000002E6 0000                       ALIGNMENT CODE
 7300 000002E8 00000000                   DATA FOR SOURCE-LINE 892
 7301 000002EC 00000000                   DATA FOR SOURCE-LINE 897
 7302 000002F0 00000000                   DATA FOR SOURCE-LINE 904
 7303                                     ***** END-POOL *****
 7304 000002F4                    911     MN_POS_CTLACT_CONTINUE:
 7305 000002F4 200A               912             XOR     R0,R0
 7306                             913             M_BRA   MN_POS_CTLACT_EXIT
 7307 000002F6 A004                   M           BRA     MN_POS_CTLACT_EXIT
 7308 000002F8 0009                   M           NOP
 7309                             914     
 7310 000002FA                    915     MN_POS_CTLACT_STOP_END:
 7311 000002FA E0FF               916             MOV     #-1,R0
 7312                             917             M_BRA   MN_POS_CTLACT_EXIT
 7313 000002FC A001                   M           BRA     MN_POS_CTLACT_EXIT
 7314 000002FE 0009                   M           NOP
 7315 00000300                    918     MN_POS_CTLACT_CYCLE_END:
 7316 00000300 E055               919             MOV     #H'55,R0        ;CYCLE END
 7317 00000302                    920     MN_POS_CTLACT_EXIT:
 7318                             921             SUB_END
 7319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7320 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7321                             922             M_RTS
 7322 00000304 000B                   M           RTS                             ;RTSの後ろの
 7323 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7324                             923     
 7325                             924     
 7326                             925     
 7327                             926     
 7328                             927     ;       ***********************************
 7329                             928     ;       ***                             ***
 7330                             929     ;       ***     2015-09-06              ***
 7331                             930     ;       ***     2015-07-14              ***
 7332                             931     ;       ***                             ***
 7333                             932     ;       ***********************************
 7334                             933     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動
 7335                             934     ;;;     _BRK_SADOU_CHG EQ 1
 7336 00000308                    935     _POS_ENDWAIT_TIM_SET
 7337                             936             SUB_START
 7338 00000308 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    22
PROGRAM NAME =

 7339                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7340                             937     
 7341                             938     
 7342                             939     ;       --------------------------------------------
 7343 0000030A D109               940             MOV.L   #(_PAR_MYUBRK_TIM2-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[PNO.95][H2W=2015
                                          -03-16 寸動終了時ﾀｲﾏ]
 7344 0000030C 6211               941             MOV.W   @R1,R2                          ;
 7345                             942     
 7346 0000030E D109               943             MOV.L   #_MODE_SEL,R1                   ;
 7347 00000310 6011               944             MOV.W   @R1,R0                          ;
 7348 00000312 C81C               945             TST     #(_W1OPT+_W1CNT+_W1SGL),R0      ;
 7349                             946             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;
 7350 00000314 8906                   M           BT      POS_ENDWAIT_TIMSET_END
 7351                             947     
 7352 00000316 D108               948             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 7353 00000318 6011               949             MOV.W   @R1,R0                          ;
 7354 0000031A 9408               950             MOV.W   #_WOATO,R4                      ;AUTO
 7355 0000031C 2048               951             TST     R4,R0                           ;
 7356                             952             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;[AUTOじゃない]
 7357 0000031E 8901                   M           BT      POS_ENDWAIT_TIMSET_END
 7358                             953     
 7359                             954     ;       ----------- 1ｻｲｸﾙ停止時用 2015-07-14--------
 7360 00000320 D106               955             MOV.L   #(_PAR_MYUBRK_TIM1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[H2W=2015-03-14
                                          行程終了時　ﾐｭｰﾃﾝｸﾞ切替時間]
 7361 00000322 6211               956             MOV.W   @R1,R2                          ;[PNO.94]
 7362                             957                                                     ;
 7363                             958     
 7364 00000324                    959     POS_ENDWAIT_TIMSET_END
 7365 00000324 D106               960             MOV.L   #_POS_END_WAIT_TIM,R1           ;[位置決め完了遅延時間==動力遮断を伸ばす時
                                          間]
 7366 00000326 2121               961             MOV.W   R2,@R1
 7367                             962     
 7368                             963     
 7369                             964     
 7370                             965             SUB_END
 7371                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7372 00000328 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7373                             966             M_RTS
 7374 0000032A 000B                   M           RTS                             ;RTSの後ろの
 7375 0000032C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7376                             967     
 7377                             968     
 7378                             969     
 7379                             970     ;       ***********************************
 7380                             971     ;       ***                             ***
 7381                             972     ;       ***     2015-07-14              ***
 7382                             973     ;       ***                             ***
 7383                             974     ;       ***********************************
 7384                             975     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動しない
 7385                             976     ;       P22　ﾊﾟﾙｽ出力完了~ﾌﾞﾚｰｷをかけても良い時間
 7386                             977     ;       ﾐｭｰﾃﾝｸﾞ中はﾐｭｰﾃﾝｸﾞ継続時間
 7387                             978     ;       ﾐｭｰﾃﾝｸﾞしない状態では動力遮断時間
 7388                             979     ;
 7389                             980     ;       今までは遮光を検知しない時間=ﾐｭｰﾃﾝｸﾞ継続時間相当
 7390                             981     ;
 7391                             982     
 7392                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    23
PROGRAM NAME =

 7393 0000032E 0040                       DATA FOR SOURCE-LINE 950
 7394 00000330 00000000                   DATA FOR SOURCE-LINE 940
 7395 00000334 00000000                   DATA FOR SOURCE-LINE 943
 7396 00000338 00000000                   DATA FOR SOURCE-LINE 948
 7397 0000033C 00000000                   DATA FOR SOURCE-LINE 955
 7398 00000340 00000000                   DATA FOR SOURCE-LINE 960
 7399                                     ***** END-POOL *****
 7400 00000344                    983     _POS_ENDMYUT_TIM_SET:
 7401                             984             SUB_START
 7402 00000344 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7403                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7404                             985     
 7405 00000346 D10C               986             MOV.L   #(_PAR_SELF_WAIT_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;P22ｾﾙﾌﾁｪｯｸまたは
                                          位置決めからﾛｯｸ開始遅延時間(停止確認用)
 7406 00000348 6211               987             MOV.W   @R1,R2                  ;
 7407 0000034A 233A               988             XOR     R3,R3
 7408                             989     
 7409                             990     
 7410 0000034C D10B               991             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 7411 0000034E 6011               992             MOV.W   @R1,R0                  ;
 7412 00000350 C804               993             TST     #_W1SGL,R0              ;
 7413                             994             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7414 00000352 890A                   M           BT      POS_ENDMYUTTIM_STOP
 7415                             995     
 7416 00000354 D10A               996             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
 7417 00000356 6011               997             MOV.W   @R1,R0                  ;
 7418 00000358 C802               998             TST     #BIT1,R0                ;
 7419                             999             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7420 0000035A 8906                   M           BT      POS_ENDMYUTTIM_STOP
 7421                            1000     
 7422 0000035C D109              1001             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
 7423 0000035E 6011              1002             MOV.W   @R1,R0                  ;
 7424 00000360 C803              1003             TST     #(BIT1+BIT0),R0         ;
 7425                            1004             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;
 7426 00000362 8902                   M           BT      POS_ENDMYUTTIM_STOP
 7427                            1005     
 7428                            1006     
 7429                            1007     ;       ---     ﾐｭｰﾃﾝｸﾞする     ---
 7430 00000364                   1008     POS_ENDMYUTTIM_KEEP:
 7431 00000364 6023              1009             MOV     R2,R0                   ;
 7432 00000366 6233              1010             MOV     R3,R2                   ;
 7433 00000368 6303              1011             MOV     R0,R3                   ;
 7434                            1012     
 7435                            1013     ;       ---     ﾐｭｰﾃﾝｸﾞじゃない ---
 7436 0000036A                   1014     POS_ENDMYUTTIM_STOP
 7437 0000036A D107              1015             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1     ;//終了後この時間であれば動力遮断する時間
 7438 0000036C 2121              1016             MOV.W   R2,@R1                          ;
 7439 0000036E D107              1017             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1     ;//終了後上昇無効を継続する時間
 7440 00000370 2131              1018             MOV.W   R3,@R1                          ;
 7441                            1019     
 7442                            1020     
 7443                            1021     
 7444                            1022             SUB_END
 7445                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7446 00000372 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7447                            1023             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    24
PROGRAM NAME =

 7448 00000374 000B                   M           RTS                             ;RTSの後ろの
 7449 00000376 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7450                            1024     
 7451                            1025     ;       ***********************************
 7452                            1026     ;       ***                             ***
 7453                            1027     ;       ***     2015-07-14              ***
 7454                            1028     ;       ***                             ***
 7455                            1029     ;       ***     一応ｸﾘｱしておく         ***
 7456                            1030     ;       ***********************************
 7457                                     ***** BEGIN-POOL *****
 7458 00000378 00000000                   DATA FOR SOURCE-LINE 986
 7459 0000037C 00000000                   DATA FOR SOURCE-LINE 991
 7460 00000380 00000000                   DATA FOR SOURCE-LINE 996
 7461 00000384 00000000                   DATA FOR SOURCE-LINE 1001
 7462 00000388 00000000                   DATA FOR SOURCE-LINE 1015
 7463 0000038C 00000000                   DATA FOR SOURCE-LINE 1017
 7464                                     ***** END-POOL *****
 7465 00000390                   1031     _POS_END_MYUTIG_TIMER_CLR
 7466                            1032             SUB_START
 7467 00000390 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7468                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7469 00000392 200A              1033             XOR     R0,R0
 7470 00000394 D104              1034             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1;    //終了後この時間であれば動力遮断する時間
 7471 00000396 2101              1035             MOV.W   R0,@R1
 7472                            1036     
 7473 00000398 D104              1037             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1;    //終了後上昇無効を継続する時間
 7474 0000039A 2101              1038             MOV.W   R0,@R1
 7475                            1039     
 7476 0000039C D104              1040             MOV.L   #_POS_END_WAIT_TIM,R1;          //[位置決め完了遅延時間==動力遮断を伸ばす
                                          時間]
 7477 0000039E 2101              1041             MOV.W   R0,@R1
 7478                            1042             SUB_END
 7479                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7480 000003A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7481                            1043             M_RTS
 7482 000003A2 000B                   M           RTS                             ;RTSの後ろの
 7483 000003A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7484                            1044     
 7485                            1045     
 7486                            1046     ;;;LENGTH_ADD[2]=LINK_SV_OBJ_ABSPLS[2]-LINK_RL_OBJ_ABSPLS[2];//abs停止目標位置-ﾘｱﾙﾀｲﾑ目標
                                          絶対位置
 7487                            1047     ;       ***********************************
 7488                            1048     ;       ***                             ***
 7489                            1049     ;       ***     ﾓｰﾄﾞに関わるｻﾌﾞﾙｰﾁﾝ     ***
 7490                            1050     ;       ***                             ***
 7491                            1051     ;       ***********************************
 7492                            1052     
 7493                            1053     
 7494                            1054     
 7495                            1055     ;;;;;;@@@@@@@@@@
 7496                            1056     
 7497                            1057     ;       ***********************************
 7498                            1058     ;       ***                             ***
 7499                            1059     ;       ***     上死点復帰              ***
 7500                            1060     ;       ***     速度設定                ***
 7501                            1061     ;       ***                             ***
 7502                            1062     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    25
PROGRAM NAME =

 7503                                     ***** BEGIN-POOL *****
 7504 000003A6 0000                       ALIGNMENT CODE
 7505 000003A8 00000000                   DATA FOR SOURCE-LINE 1034
 7506 000003AC 00000000                   DATA FOR SOURCE-LINE 1037
 7507 000003B0 00000000                   DATA FOR SOURCE-LINE 1040
 7508                                     ***** END-POOL *****
 7509 000003B4                   1063             .ALIGN  4                               ;
 7510 000003B4                   1064     _DNDUPS_SPD_SET:
 7511                            1065             SUB_START
 7512 000003B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7513                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7514 000003B6 D103              1066             MOV.L   #_SET1_UPAREA_SPD1,R1   ;
 7515 000003B8 6212              1067             MOV.L   @R1,R2                  ;
 7516 000003BA D103              1068             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7517 000003BC 2122              1069             MOV.L   R2,@R1                  ;
 7518                            1070             SUB_END
 7519                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7520 000003BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7521                            1071             M_RTS
 7522 000003C0 000B                   M           RTS                             ;RTSの後ろの
 7523 000003C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7524                            1072     
 7525                                     ***** BEGIN-POOL *****
 7526 000003C4 00000000                   DATA FOR SOURCE-LINE 1066
 7527 000003C8 00000000                   DATA FOR SOURCE-LINE 1068
 7528                                     ***** END-POOL *****
 7529 000003CC                   1073             .ALIGN  4                               ;
 7530 000003CC                   1074     _DNDUPS_CLEEP_SPD_SET:
 7531                            1075             SUB_START
 7532 000003CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7533                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7534 000003CE D103              1076             MOV.L   #_SET1_UPCLEEP_SPD,R1   ;
 7535 000003D0 6212              1077             MOV.L   @R1,R2                  ;
 7536 000003D2 D103              1078             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7537 000003D4 2122              1079             MOV.L   R2,@R1                  ;
 7538                            1080             SUB_END
 7539                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7540 000003D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7541                            1081             M_RTS
 7542 000003D8 000B                   M           RTS                             ;RTSの後ろの
 7543 000003DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7544                            1082     
 7545                            1083     
 7546                            1084     
 7547                            1085     ;       ***********************************
 7548                            1086     ;       ***                             ***
 7549                            1087     ;       ***     2006-07-28              ***
 7550                            1088     ;       ***                             ***
 7551                            1089     ;       ***********************************
 7552                                     ***** BEGIN-POOL *****
 7553 000003DC 00000000                   DATA FOR SOURCE-LINE 1076
 7554 000003E0 00000000                   DATA FOR SOURCE-LINE 1078
 7555                                     ***** END-POOL *****
 7556 000003E4                   1090             .ALIGN  4                               ;
 7557 000003E4                   1091     _MN_DNDINC_START:
 7558                            1092             SUB_START
 7559 000003E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    26
PROGRAM NAME =

 7560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7561 000003E6 D104              1093             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 7562 000003E8 6011              1094             MOV.W   @R1,R0                          ;
 7563 000003EA 2008              1095             TST     R0,R0                           ;
 7564                            1096             TST_BIT_OF DNDINC_ST_100                ;
 7565 000003EC 8908                   M           BT      DNDINC_ST_100
 7566                            1097     
 7567                            1098             FAR_JSR #_MN_TEP_START,R0
 7568 000003EE D003                   M           MOV.L   #_MN_TEP_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7569 000003F0 400B                   M           JSR     @R0                     ;
 7570 000003F2 0009                   M           NOP                                     ;
 7571                            1099             M_BRA   DNDINC_ST_END                           ;
 7572 000003F4 A04F                   M           BRA     DNDINC_ST_END
 7573 000003F6 0009                   M           NOP
 7574                            1100     
 7575                                     ***** BEGIN-POOL *****
 7576 000003F8 00000000                   DATA FOR SOURCE-LINE 1093
 7577 000003FC 00000000                   DATA FOR SOURCE-LINE 1098
 7578                                     ***** END-POOL *****
 7579 00000400                   1101     DNDINC_ST_100:
 7580 00000400 D107              1102             MOV.L   #_CPOS_DND_STOP_SW,R1           ;
 7581 00000402 6011              1103             MOV.W   @R1,R0                          ;
 7582 00000404 C803              1104             TST     #(BIT1+BIT0),R0                 ;停止有り?
 7583                            1105             TST_BIT_OF DNDINC_ST_520                ;
 7584 00000406 8929                   M           BT      DNDINC_ST_520
 7585                            1106     
 7586 00000408 D106              1107             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 7587 0000040A 6011              1108             MOV.W   @R1,R0                                  ;
 7588 0000040C 8802              1109             CMP/EQ  #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
 7589 0000040E 8B0F              1110             BF      DNDINC_ST_350                           ;
 7590                            1111     
 7591                            1112     ;       ====== 反転/段取寸動===
 7592                            1113             FAR_JSR #_DND_LNK_STEP_CHECK1,R0                ;//<どの工程から開始するか> CHEAK
 7593 00000410 D005                   M           MOV.L   #_DND_LNK_STEP_CHECK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7594 00000412 400B                   M           JSR     @R0                     ;
 7595 00000414 0009                   M           NOP                                     ;
 7596                            1114             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7597 00000416 D105                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7598 00000418 410B                   M           JSR     @R1                     ;
 7599 0000041A 0009                   M           NOP                                     ;
 7600                            1115             M_BRA   DNDINC_ST_380                           ;
 7601 0000041C A011                   M           BRA     DNDINC_ST_380
 7602 0000041E 0009                   M           NOP
 7603                            1116     
 7604                                     ***** BEGIN-POOL *****
 7605 00000420 00000000                   DATA FOR SOURCE-LINE 1102
 7606 00000424 00000000                   DATA FOR SOURCE-LINE 1107
 7607 00000428 00000000                   DATA FOR SOURCE-LINE 1113
 7608 0000042C 00000000                   DATA FOR SOURCE-LINE 1114
 7609                                     ***** END-POOL *****
 7610 00000430                   1117     DNDINC_ST_350:
 7611                            1118     ;       ====== 回転/段取寸動===
 7612                            1119     ;       +/-MAX位置を目標とする                                  ;
 7613                            1120     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7614                            1121             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7615 00000430 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    27
PROGRAM NAME =

 7616 00000432 410B                   M           JSR     @R1                     ;
 7617 00000434 0009                   M           NOP                                     ;
 7618                            1122             FAR_JSR #_DNDINC_STEP_MAKE,R1                           ;
 7619 00000436 D106                   M           MOV.L   #_DNDINC_STEP_MAKE,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7620 00000438 410B                   M           JSR     @R1                     ;
 7621 0000043A 0009                   M           NOP                                     ;
 7622                            1123             FAR_JSR #_DNDINC_MAKE_OBJPOS,R1                         ;
 7623 0000043C D105                   M           MOV.L   #_DNDINC_MAKE_OBJPOS,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7624 0000043E 410B                   M           JSR     @R1                     ;
 7625 00000440 0009                   M           NOP                                     ;
 7626                            1124     
 7627 00000442                   1125     DNDINC_ST_380:
 7628                            1126             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7629 00000442 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7630 00000444 440B                   M           JSR     @R4                     ;
 7631 00000446 0009                   M           NOP                                     ;
 7632                            1127             M_BRA   DNDINC_ST_END                                   ;
 7633 00000448 A025                   M           BRA     DNDINC_ST_END
 7634 0000044A 0009                   M           NOP
 7635                            1128     
 7636                            1129     
 7637                            1130     ;       -------- 今までのソフトをそのまま流す-------------
 7638                                     ***** BEGIN-POOL *****
 7639 0000044C 00000000                   DATA FOR SOURCE-LINE 1121
 7640 00000450 00000000                   DATA FOR SOURCE-LINE 1122
 7641 00000454 00000000                   DATA FOR SOURCE-LINE 1123
 7642 00000458 00000000                   DATA FOR SOURCE-LINE 1126
 7643                                     ***** END-POOL *****
 7644 0000045C                   1131     DNDINC_ST_520:
 7645 0000045C D105              1132             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 7646 0000045E 6011              1133             MOV.W   @R1,R0                          ;
 7647 00000460 8802              1134             CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 7648 00000462 8B0D              1135             BF      DNDINC_ST_550           ;
 7649                            1136     
 7650                            1137     ;       ====== 反転/段取寸動===
 7651                            1138             FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 7652 00000464 D004                   M           MOV.L   #_DND_LNK_STEP_CHECK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7653 00000466 400B                   M           JSR     @R0                     ;
 7654 00000468 0009                   M           NOP                                     ;
 7655                            1139             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 7656 0000046A D104                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7657 0000046C 410B                   M           JSR     @R1                     ;
 7658 0000046E 0009                   M           NOP                                     ;
 7659                            1140             M_BRA   DNDINC_ST_580           ;
 7660 00000470 A00E                   M           BRA     DNDINC_ST_580
 7661 00000472 0009                   M           NOP
 7662                            1141     
 7663                                     ***** BEGIN-POOL *****
 7664 00000474 00000000                   DATA FOR SOURCE-LINE 1132
 7665 00000478 00000000                   DATA FOR SOURCE-LINE 1138
 7666 0000047C 00000000                   DATA FOR SOURCE-LINE 1139
 7667                                     ***** END-POOL *****
 7668 00000480                   1142     DNDINC_ST_550:
 7669                            1143     ;       ====== 回転/段取寸動===
 7670                            1144     ;       +/-MAX位置を目標とする                                  ;
 7671                            1145     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    28
PROGRAM NAME =

 7672                            1146             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7673 00000480 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7674 00000482 410B                   M           JSR     @R1                     ;
 7675 00000484 0009                   M           NOP                                     ;
 7676 00000486 D106              1147             MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 7677 00000488 6011              1148             MOV.W   @R1,R0
 7678                            1149             FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 7679 0000048A D406                   M           MOV.L   #_LINK_P_M_MAX,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7680 0000048C 440B                   M           JSR     @R4                     ;
 7681 0000048E 0009                   M           NOP                                     ;
 7682 00000490                   1150     DNDINC_ST_580:
 7683                            1151             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7684 00000490 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7685 00000492 440B                   M           JSR     @R4                     ;
 7686 00000494 0009                   M           NOP                                     ;
 7687 00000496                   1152     DNDINC_ST_END:
 7688                            1153             SUB_END
 7689                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7690 00000496 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7691                            1154             M_RTS
 7692 00000498 000B                   M           RTS                             ;RTSの後ろの
 7693 0000049A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7694                            1155     
 7695                            1156     
 7696                            1157     
 7697                            1158     ;       ***********************************
 7698                            1159     ;       ***                             ***
 7699                            1160     ;       ***     段取寸動(回転仕様)      ***
 7700                            1161     ;       ***     方向                    ***
 7701                            1162     ;       ***     目標位置abs             ***
 7702                            1163     ;       ***                             ***
 7703                            1164     ;       ***********************************
 7704                            1165     ;       ANS R0          BIT0
 7705                            1166     ;                       BIT1=1:EQU ｲｺｰﾙ時は逆転から始める
 7706                            1167     ;       ｼｰｹﾝｽﾋﾞｯﾄから決定
 7707                            1168     ;       (増加方向ならMAX)
 7708                            1169     ;       (減少方向ならMIN)
 7709                            1170     ;
 7710                                     ***** BEGIN-POOL *****
 7711 0000049C 00000000                   DATA FOR SOURCE-LINE 1146
 7712 000004A0 00000000                   DATA FOR SOURCE-LINE 1147
 7713 000004A4 00000000                   DATA FOR SOURCE-LINE 1149
 7714 000004A8 00000000                   DATA FOR SOURCE-LINE 1151
 7715                                     ***** END-POOL *****
 7716 000004AC                   1171             .ALIGN  4                               ;
 7717 000004AC                   1172     _DNDINC_DIRECT_MAKE1:
 7718                            1173             SUB_START
 7719 000004AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7720                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7721 000004AE D006              1174             MOV.L   #_CTL_ENC360,R0                 ;//360.0度(いまのところ不要)
 7722 000004B0 6101              1175             MOV.W   @R0,R1                          ;
 7723 000004B2 D406              1176             MOV.L   #_STR_ENC3600_DIG,R4            ;//運転開始時の360.0角度
 7724 000004B4 2411              1177             MOV.W   R1,@R4                          ;
 7725                            1178     
 7726 000004B6 D106              1179             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7727 000004B8 6011              1180             MOV.W   @R1,R0                          ;
 7728 000004BA C901              1181             AND     #BIT0,R0                        ;(BIT0=0正転　BIT0=1逆転)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    29
PROGRAM NAME =

 7729                            1182     
 7730 000004BC D105              1183             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7731 000004BE 2101              1184             MOV.W   R0,@R1
 7732                            1185             SUB_END
 7733                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7734 000004C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7735                            1186             M_RTS
 7736 000004C2 000B                   M           RTS                             ;RTSの後ろの
 7737 000004C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7738                            1187     
 7739                            1188     ;       ***********************************
 7740                            1189     ;       ***                             ***
 7741                            1190     ;       ***     段取寸動(反転仕様)      ***
 7742                            1191     ;       ***     方向                    ***
 7743                            1192     ;       ***     目標位置abs             ***
 7744                            1193     ;       ***                             ***
 7745                            1194     ;       ***********************************
 7746                            1195     ;       <1>EXQ,EMG後の運転なら180を通らない方向待機点に向かう方向で,
 7747                            1196     ;          待機点を目指して運転開始
 7748                            1197     ;          待機点まで辿りついたら、一旦停止する。<FLG=0-->1>
 7749                            1198     ;
 7750                            1199     ;       <2>FLG=1
 7751                            1200     ;          下降から開始する.下限位置を目指す
 7752                            1201     ;          下限位置まで辿りついたら、一旦停止する。<FLG=1-->2>
 7753                            1202     ;
 7754                            1203     ;       <3>FLG=2
 7755                            1204     ;          上昇から開始する.待機位置を目指す
 7756                            1205     ;          待機位置まで辿りついたら、一旦停止する。<FLG=2-->1>
 7757                            1206     ;
 7758                            1207     ;
 7759                            1208     ;
 7760                            1209     ;       *******************************************
 7761                            1210     ;       ***                                     ***
 7762                            1211     ;       ***     運転釦による起動                ***
 7763                            1212     ;       ***     INT_DND_NEG_STEPを作成          ***
 7764                            1213     ;       ***                                     ***
 7765                            1214     ;       *******************************************
 7766                                     ***** BEGIN-POOL *****
 7767 000004C6 0000                       ALIGNMENT CODE
 7768 000004C8 00000000                   DATA FOR SOURCE-LINE 1174
 7769 000004CC 00000000                   DATA FOR SOURCE-LINE 1176
 7770 000004D0 00000000                   DATA FOR SOURCE-LINE 1179
 7771 000004D4 00000000                   DATA FOR SOURCE-LINE 1183
 7772                                     ***** END-POOL *****
 7773 000004D8                   1215             .ALIGN  4                               ;
 7774 000004D8                   1216     _DND_LNK_STEP_CHECK1:
 7775                            1217             SUB_START
 7776 000004D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7777                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7778                            1218     ;       ------- 2007-01-23-----
 7779 000004DA D107              1219             MOV.L   #_CB_SEQ_CB_SEL342,R1                           ;342
 7780 000004DC 6011              1220             MOV.W   @R1,R0                                          ;
 7781 000004DE C808              1221             TST     #BIT3,R0                                        ;342.3
 7782                            1222             TST_BIT_OF DND_LNK_STEP_CK1_100                         ;OFF(往復運転　今までの)
 7783 000004E0 8907                   M           BT      DND_LNK_STEP_CK1_100
 7784                            1223     
 7785 000004E2 E201              1224             MOV     #1,R2                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    30
PROGRAM NAME =

 7786 000004E4 D105              1225             MOV.L   #_CB_SEQ_CB_SEL341,R1                           ;341.0=0 上昇
 7787 000004E6 6011              1226             MOV.W   @R1,R0                                          ;
 7788 000004E8 C801              1227             TST     #BIT0,R0                                        ;
 7789                            1228             TST_BIT_OF DND_LNK_STEP_CK1_050                         ;
 7790 000004EA 8900                   M           BT      DND_LNK_STEP_CK1_050
 7791 000004EC E202              1229             MOV     #2,R2                                           ;
 7792 000004EE                   1230     DND_LNK_STEP_CK1_050:                                           ;
 7793 000004EE D104              1231             MOV.L   #_INT_DND_NEG_STEP,R1                           ;
 7794 000004F0 2121              1232             MOV.W   R2,@R1                                          ;
 7795                            1233     
 7796 000004F2                   1234     DND_LNK_STEP_CK1_100:
 7797                            1235     ;       ---------------------------
 7798                            1236     
 7799                            1237             SUB_END
 7800                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7801 000004F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7802                            1238             M_RTS
 7803 000004F4 000B                   M           RTS                             ;RTSの後ろの
 7804 000004F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7805                            1239     
 7806                                     ***** BEGIN-POOL *****
 7807 000004F8 00000000                   DATA FOR SOURCE-LINE 1219
 7808 000004FC 00000000                   DATA FOR SOURCE-LINE 1225
 7809 00000500 00000000                   DATA FOR SOURCE-LINE 1231
 7810                                     ***** END-POOL *****
 7811 00000504                   1240             .ALIGN  4                               ;
 7812 00000504                   1241     _DND_LNKPLS_OBJMAK1:
 7813                            1242             SUB_START
 7814 00000504 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7815                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7816 00000506 D109              1243             MOV.L   #_INT_DND_NEG_STEP,R1           ;
 7817 00000508 6011              1244             MOV.W   @R1,R0                          ;
 7818 0000050A 8801              1245             CMP/EQ  #1,R0                           ;
 7819 0000050C 8918              1246             BT      DND_LNKPLS_OBJ_DNPOS1           ;下死点を目標に動作
 7820 0000050E 8802              1247             CMP/EQ  #2,R0                           ;
 7821 00000510 89FF              1248             BT      DND_LNKPLS_OBJ_UPPOS1           ;待機点を目標に動作
 7822                            1249     
 7823                            1250     ;       === 方向を判別して待機点を目指す ===
 7824 00000512                   1251     DND_LNKPLS_OBJ_UPPOS1:
 7825 00000512                   1252     DND_LNKPLS_OBJ_UPPOS0:
 7826                            1253     ;;;ｵﾘｷﾞﾅﾙｿﾌﾄ    MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 7827 00000512 D007              1254             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(上死点)
 7828 00000514 6202              1255             MOV.L   @R0,R2                                  ;
 7829                            1256     ;       ==== 2004-05-23====
 7830 00000516 D007              1257             MOV.L   #_PAR_WTSEL_USE,R0
 7831 00000518 6001              1258             MOV.W   @R0,R0                                  ;
 7832 0000051A 8801              1259             CMP/EQ  #1,R0                                   ;待機点選択使用時は上死点ではない
 7833 0000051C 8B01              1260             BF      DND_LNKPLS_OBJ_CHG050                   ;
 7834 0000051E D006              1261             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 7835 00000520 6202              1262             MOV.L   @R0,R2                                  ;
 7836 00000522                   1263     DND_LNKPLS_OBJ_CHG050:
 7837                            1264     ;       ===================
 7838                            1265     
 7839                            1266             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 7840 00000522 D006                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7841 00000524 400B                   M           JSR     @R0                     ;
 7842 00000526 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    31
PROGRAM NAME =

 7843                            1267             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 7844 00000528 A00F                   M           BRA     DND_LNKPLS_OBJMK1_END
 7845 0000052A 0009                   M           NOP
 7846                            1268     
 7847                                     ***** BEGIN-POOL *****
 7848 0000052C 00000000                   DATA FOR SOURCE-LINE 1243
 7849 00000530 00000000                   DATA FOR SOURCE-LINE 1254
 7850 00000534 00000000                   DATA FOR SOURCE-LINE 1257
 7851 00000538 00000000                   DATA FOR SOURCE-LINE 1261
 7852 0000053C 00000000                   DATA FOR SOURCE-LINE 1266
 7853                                     ***** END-POOL *****
 7854 00000540                   1269     DND_LNKPLS_OBJ_DNPOS1:
 7855 00000540 D003              1270             MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 7856 00000542 6202              1271             MOV.L   @R0,R2                                  ;
 7857                            1272             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 7858 00000544 D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7859 00000546 400B                   M           JSR     @R0                     ;
 7860 00000548 0009                   M           NOP                                     ;
 7861 0000054A                   1273     DND_LNKPLS_OBJMK1_END:
 7862                            1274             SUB_END
 7863                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7864 0000054A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7865                            1275             M_RTS
 7866 0000054C 000B                   M           RTS                             ;RTSの後ろの
 7867 0000054E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7868                            1276     
 7869                            1277     ;       *******************************************
 7870                            1278     ;       ***                                     ***
 7871                            1279     ;       ***             Input R2                ***
 7872                            1280     ;       ***             ﾘﾝｸ(内部制御)ﾊﾟﾙｽ       ***
 7873                            1281     ;       ***                                     ***
 7874                            1282     ;       *******************************************
 7875                            1283     ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
 7876                            1284     ;       MOV.L   @R4,R2                                  ;
 7877                            1285     ;
 7878                                     ***** BEGIN-POOL *****
 7879 00000550 00000000                   DATA FOR SOURCE-LINE 1270
 7880 00000554 00000000                   DATA FOR SOURCE-LINE 1272
 7881                                     ***** END-POOL *****
 7882 00000558                   1286             .ALIGN  4                               ;
 7883 00000558                   1287     _LNKPLS_OBJ_DAT_MAK1:
 7884                            1288             SUB_START
 7885 00000558 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7886                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7887                            1289             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;
 7888 0000055A D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7889 0000055C 400B                   M           JSR     @R0                     ;
 7890 0000055E 0009                   M           NOP                                     ;
 7891                            1290     
 7892                            1291             PUSH_REG1 R2
 7893 00000560 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 7894                                 M                                           ;REG=>[SP]
 7895                                 M                                           ;"-4" FF,FF,FF,FC
 7896                            1292     
 7897                            1293     
 7898                            1294             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 7899 00000562 D00A                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    32
PROGRAM NAME =

 7900 00000564 400B                   M           JSR     @R0                     ;
 7901 00000566 0009                   M           NOP                                     ;
 7902                            1295     
 7903                            1296             POP_REG1 R2
 7904                                 M                                   ; RE"+4" 00,00,00,04
 7905 00000568 62F6                   M           MOV.L   @R15+,R2        ;
 7906                            1297     ;       === 目標角度(R2) ====
 7907                            1298     
 7908                            1299     ;;      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 7909                            1300     ;;      MOV.L   @R0,R2                                  ;
 7910                            1301     
 7911 0000056A D409              1302             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 7912 0000056C 6142              1303             MOV.L   @R4,R1                                  ;現在 ***.* pls
 7913                            1304                                                             ;目標 ***.* pls
 7914 0000056E D409              1305             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 7915 00000570 6342              1306             MOV.L   @R4,R3                                  ;
 7916                            1307     ;
 7917                            1308     ;       ===== R3~R2の範囲にR1がいれば正転===
 7918                            1309             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 7919 00000572 3233                   M           CMP/GE  R3,R2
 7920 00000574 8B10                   M           BF      JMP0100000
 7921                                 M   ;       === 0度をはさなまい===
 7922 00000576 200A                   M           XOR     R0,R0
 7923 00000578 3133                   M           CMP/GE  R3,R1           ;
 7924 0000057A 8B13                   M           BF      JMP0200000                      ; PV<SV1
 7925 0000057C 3213                   M           CMP/GE  R1,R2           ;
 7926 0000057E 8B11                   M           BF      JMP0200000                      ; SV2<PV2 (1)
 7927 00000580 E001                   M           MOV     #1,R0           ;
 7928                                 M           M_BRA   JMP0200000                      ;
 7929 00000582 A00F                   M           BRA     JMP0200000
 7930 00000584 0009                   M           NOP
 7931                                 M   
 7932                                 M   ;       ==== ０度をはさむ====
 7933                                 M   ***** BEGIN-POOL *****
 7934 00000586 0000                   M   ALIGNMENT CODE
 7935 00000588 00000000               M   DATA FOR SOURCE-LINE 1289
 7936 0000058C 00000000               M   DATA FOR SOURCE-LINE 1294
 7937 00000590 00000000               M   DATA FOR SOURCE-LINE 1302
 7938 00000594 00000000               M   DATA FOR SOURCE-LINE 1305
 7939                                 M   ***** END-POOL *****
 7940 00000598                        M   JMP0100000:
 7941 00000598 E001                   M           MOV     #1,R0
 7942 0000059A 3133                   M           CMP/GE  R3,R1
 7943 0000059C 8902                   M           BT      JMP0200000                      ;SV1=<PV=<360
 7944 0000059E 3213                   M           CMP/GE  R1,R2           ;
 7945 000005A0 8900                   M           BT      JMP0200000                      ;
 7946 000005A2 200A                   M           XOR     R0,R0           ;
 7947 000005A4                        M   JMP0200000:
 7948 000005A4 233A              1310             XOR     R3,R3
 7949 000005A6 2008              1311             TST     R0,R0
 7950                            1312             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_150               ;
 7951 000005A8 8B00                   M           BF      LNKPLS_OBJ_DAT_MK1_150
 7952 000005AA E3FF              1313             MOV     #-1,R3
 7953 000005AC                   1314     LNKPLS_OBJ_DAT_MK1_150:                                 ;R2
 7954                            1315     
 7955 000005AC 2338              1316             TST     R3,R3                                   ;正転
 7956                            1317             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_300               ;逆転 JUMP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    33
PROGRAM NAME =

 7957 000005AE 8B0D                   M           BF      LNKPLS_OBJ_DAT_MK1_300
 7958                            1318     ;       ==== 正転方向でいく ====
 7959 000005B0 3218              1319             SUB     R1,R2                                   ;
 7960 000005B2 4211              1320             CMP/PZ  R2
 7961 000005B4 8915              1321             BT      LNKPLS_OBJ_DAT_MK1_500                  ;R2 >= 0(R2は符号付距離)
 7962 000005B6 D504              1322             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 7963 000005B8 6452              1323             MOV.L   @R5,R4                                  ;
 7964 000005BA 324C              1324             ADD     R4,R2                                   ;
 7965 000005BC 4211              1325             CMP/PZ  R2
 7966 000005BE 8910              1326             BT      LNKPLS_OBJ_DAT_MK1_500          ;
 7967 000005C0 222A              1327             XOR     R2,R2                                   ;
 7968                            1328             M_BRA   LNKPLS_OBJ_DAT_MK1_500                  ;
 7969 000005C2 A00E                   M           BRA     LNKPLS_OBJ_DAT_MK1_500
 7970 000005C4 0009                   M           NOP
 7971                            1329     
 7972                                     ***** BEGIN-POOL *****
 7973 000005C6 0000                       ALIGNMENT CODE
 7974 000005C8 00000000                   DATA FOR SOURCE-LINE 1322
 7975                                     ***** END-POOL *****
 7976 000005CC                   1330     LNKPLS_OBJ_DAT_MK1_300:                         ;R2
 7977 000005CC 3218              1331             SUB     R1,R2                                   ;300-270
 7978 000005CE 622B              1332             NEG     R2,R2                                   ;
 7979 000005D0 4211              1333             CMP/PZ  R2
 7980 000005D2 8905              1334             BT      LNKPLS_OBJ_DAT_MK1_400                  ;R2 >= 0(R2は符号付距離)
 7981 000005D4 D514              1335             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 7982 000005D6 6452              1336             MOV.L   @R5,R4                                  ;
 7983 000005D8 324C              1337             ADD     R4,R2                                   ;
 7984 000005DA 4211              1338             CMP/PZ  R2
 7985 000005DC 8900              1339             BT      LNKPLS_OBJ_DAT_MK1_400                  ;
 7986 000005DE 222A              1340             XOR     R2,R2                                   ;
 7987 000005E0                   1341     LNKPLS_OBJ_DAT_MK1_400:                         ;
 7988 000005E0 622B              1342             NEG     R2,R2                                   ;
 7989 000005E2                   1343     LNKPLS_OBJ_DAT_MK1_500:                         ;
 7990 000005E2 255A              1344             XOR     R5,R5                                   ;
 7991 000005E4 6623              1345             MOV     R2,R6                                   ;
 7992 000005E6 4211              1346             CMP/PZ  R2                                      ;
 7993 000005E8 8900              1347             BT      LNKPLS_OBJ_DAT_MK1_600                  ;
 7994 000005EA E5FF              1348             MOV     #-1,R5                                  ;
 7995 000005EC                   1349     LNKPLS_OBJ_DAT_MK1_600:                                 ;
 7996                            1350     
 7997 000005EC D40F              1351             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
 7998 000005EE 6146              1352             MOV.L   @R4+,R1                                 ;
 7999 000005F0 6242              1353             MOV.L   @R4,R2                                  ;
 8000                            1354             PUSH_REG1 R1
 8001 000005F2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8002                                 M                                           ;REG=>[SP]
 8003                                 M                                           ;"-4" FF,FF,FF,FC
 8004                            1355             PUSH_REG1 R2
 8005 000005F4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8006                                 M                                           ;REG=>[SP]
 8007                                 M                                           ;"-4" FF,FF,FF,FC
 8008                            1356             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8009 000005F6 0008                   M           CLRT
 8010 000005F8 326E                   M           ADDC    R6,R2
 8011 000005FA 315E                   M           ADDC    R5,R1
 8012                            1357     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    34
PROGRAM NAME =

 8013 000005FC D40C              1358             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8014 000005FE 2412              1359             MOV.L   R1,@R4                                          ;
 8015 00000600 1421              1360             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8016                            1361             POP_REG1 R6
 8017                                 M                                   ; RE"+4" 00,00,00,04
 8018 00000602 66F6                   M           MOV.L   @R15+,R6        ;
 8019                            1362             POP_REG1 R5
 8020                                 M                                   ; RE"+4" 00,00,00,04
 8021 00000604 65F6                   M           MOV.L   @R15+,R5        ;
 8022                            1363     
 8023                            1364             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8024 00000606 0008                   M           CLRT
 8025 00000608 326A                   M           SUBC    R6,R2
 8026 0000060A 315A                   M           SUBC    R5,R1
 8027 0000060C 233A              1365             XOR     R3,R3
 8028 0000060E 4111              1366             CMP/PZ  R1                              ;
 8029 00000610 8900              1367             BT      LNKPLS_OBJ_DAT_MK1_750          ;
 8030 00000612 E301              1368             MOV     #BIT0,R3                        ;
 8031 00000614                   1369     LNKPLS_OBJ_DAT_MK1_750:                         ;
 8032 00000614 D107              1370             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8033 00000616 2131              1371             MOV.W   R3,@R1                          ;
 8034                            1372     
 8035 00000618 D107              1373             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8036 0000061A 6011              1374             MOV.W   @R1,R0                  ;
 8037 0000061C C9FE              1375             AND     #LOW ~BIT0,R0           ;
 8038 0000061E 203B              1376             OR      R3,R0                   ;
 8039 00000620 2101              1377             MOV.W   R0,@R1                  ;
 8040                            1378     
 8041                            1379             SUB_END
 8042                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8043 00000622 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8044                            1380             M_RTS
 8045 00000624 000B                   M           RTS                             ;RTSの後ろの
 8046 00000626 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8047                            1381     
 8048                            1382     
 8049                            1383     
 8050                            1384     
 8051                            1385     
 8052                            1386     
 8053                            1387     
 8054                            1388     
 8055                            1389     
 8056                            1390     
 8057                            1391     
 8058                            1392     
 8059                            1393     
 8060                            1394     
 8061                            1395     
 8062                            1396     
 8063                            1397     ;       ***********************************
 8064                            1398     ;       ***                             ***
 8065                            1399     ;       ***     段取寸動                ***
 8066                            1400     ;       ***     速度設定                ***
 8067                            1401     ;       ***                             ***
 8068                            1402     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    35
PROGRAM NAME =

 8069                                     ***** BEGIN-POOL *****
 8070 00000628 00000000                   DATA FOR SOURCE-LINE 1335
 8071 0000062C 00000000                   DATA FOR SOURCE-LINE 1351
 8072 00000630 00000000                   DATA FOR SOURCE-LINE 1358
 8073 00000634 00000000                   DATA FOR SOURCE-LINE 1370
 8074 00000638 00000000                   DATA FOR SOURCE-LINE 1373
 8075                                     ***** END-POOL *****
 8076 0000063C                   1403             .ALIGN  4                               ;
 8077 0000063C                   1404     _DNDINC_SPD_SET:
 8078                            1405             SUB_START
 8079 0000063C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8080                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8081                            1406     
 8082                            1407     ;       --------2011-09-20-
 8083                            1408             PUSH_REG1 R0    ;2011-09-20
 8084 0000063E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8085                                 M                                           ;REG=>[SP]
 8086                                 M                                           ;"-4" FF,FF,FF,FC
 8087                            1409     
 8088                            1410     
 8089                            1411     ;;;;2016-04-16  MOV.L   #_SET1_DNDINC_SPD1,R1   ;
 8090                            1412     ;;;;2016-04-16  MOV.L   @R1,R2                  ;
 8091                            1413     
 8092                            1414             FAR_JSR #_DND_SPD_SEQ_SET,R0            ;2016-04-16
 8093 00000640 D008                   M           MOV.L   #_DND_SPD_SEQ_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8094 00000642 400B                   M           JSR     @R0                     ;
 8095 00000644 0009                   M           NOP                                     ;
 8096                            1415     
 8097                            1416     ;       ---------------------------
 8098 00000646 D108              1417             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8099 00000648 6011              1418             MOV.W   @R1,R0                          ;
 8100 0000064A C840              1419             TST     #BIT6,R0                        ;
 8101                            1420             TST_BIT_OF DNDINC_SPDSET_100            ;
 8102 0000064C 8904                   M           BT      DNDINC_SPDSET_100
 8103                            1421     
 8104 0000064E D107              1422             MOV.L   #_WPARX_BRKTST_DNDLMT,R1        ;
 8105 00000650 6012              1423             MOV.L   @R1,R0                          ;
 8106                            1424     
 8107 00000652 3202              1425             CMP/HS  R0,R2                           ;R0<R2
 8108 00000654 8B00              1426             BF      DNDINC_SPDSET_100               ;NO JUMP(R2=<R0)
 8109 00000656 6203              1427             MOV     R0,R2                           ;
 8110 00000658                   1428     DNDINC_SPDSET_100:
 8111                            1429     ;       ---------------------------
 8112                            1430     
 8113 00000658 D105              1431             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 8114 0000065A 2122              1432             MOV.L   R2,@R1                  ;
 8115                            1433     
 8116                            1434             POP_REG1 R0     ;2011-09-20
 8117                                 M                                   ; RE"+4" 00,00,00,04
 8118 0000065C 60F6                   M           MOV.L   @R15+,R0        ;
 8119                            1435     
 8120                            1436             SUB_END
 8121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8122 0000065E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8123                            1437             M_RTS
 8124 00000660 000B                   M           RTS                             ;RTSの後ろの
 8125 00000662 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    36
PROGRAM NAME =

 8126                            1438     
 8127                            1439     ;       *******************************************
 8128                            1440     ;       ***                                     ***
 8129                            1441     ;       ***     2016-04-16 段取速度SEQ変更      ***
 8130                            1442     ;       ***                                     ***
 8131                            1443     ;       *******************************************
 8132                                     ***** BEGIN-POOL *****
 8133 00000664 00000000                   DATA FOR SOURCE-LINE 1414
 8134 00000668 00000000                   DATA FOR SOURCE-LINE 1417
 8135 0000066C 00000000                   DATA FOR SOURCE-LINE 1422
 8136 00000670 00000000                   DATA FOR SOURCE-LINE 1431
 8137                                     ***** END-POOL *****
 8138 00000674                   1444     _DND_SPD_SEQ_SET:
 8139                            1445             SUB_START
 8140 00000674 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8141                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8142                            1446     
 8143 00000676 D10C              1447             MOV.L   #_SET1_DNDINC_SPD1,R1           ;
 8144 00000678 6212              1448             MOV.L   @R1,R2                          ;
 8145                            1449     
 8146 0000067A D10C              1450             MOV.L   #_CB_SEQ_CB_COM356,R1           ;
 8147 0000067C 6011              1451             MOV.W   @R1,R0                          ;
 8148 0000067E C880              1452             TST     #BIT7,R0                        ;356.7
 8149                            1453             TST_BIT_OF DND_SPD_SEQSET_END           ;
 8150 00000680 890D                   M           BT      DND_SPD_SEQSET_END
 8151                            1454     
 8152 00000682 C97F              1455             AND     #H'7F,R0                        ;
 8153 00000684 2008              1456             TST     R0,R0                           ;
 8154                            1457             TST_BIT_OF DND_SPD_SEQSET_END           ;指定速度=0
 8155 00000686 890A                   M           BT      DND_SPD_SEQSET_END
 8156                            1458     
 8157 00000688 940C              1459             MOV.W   #D'100,R4                       ;100%単位
 8158 0000068A 3046              1460             CMP/HI  R4,R0                           ;R4 < R0
 8159 0000068C 8B00              1461             BF      DND_SPD_SEQSET_100              ;NO!
 8160 0000068E 6043              1462             MOV     R4,R0                           ;
 8161 00000690                   1463     DND_SPD_SEQSET_100:                             ;
 8162 00000690 6203              1464             MOV     R0,R2                           ;
 8163 00000692 D007              1465             MOV.L   #_LINK_MAX_SPD_PLS,R0           ;
 8164 00000694 6102              1466             MOV.L   @R0,R1                          ;data(R2) *R1/R4
 8165 00000696 9405              1467             MOV.W   #D'100,R4                       ;100%単位
 8166                            1468             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
 8167 00000698 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8168 0000069A 400B                   M           JSR     @R0                     ;
 8169 0000069C 0009                   M           NOP                                     ;
 8170                            1469     
 8171 0000069E                   1470     DND_SPD_SEQSET_END:
 8172                            1471     
 8173                            1472             SUB_END
 8174                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8175 0000069E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8176                            1473             M_RTS
 8177 000006A0 000B                   M           RTS                             ;RTSの後ろの
 8178 000006A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8179                            1474     
 8180                            1475     ;       *******************************************
 8181                            1476     ;       ***                                     ***
 8182                            1477     ;       ***     今の回転上の上死点+3．0を目指す ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    37
PROGRAM NAME =

 8183                            1478     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8184                            1479     ;       *******************************************
 8185                            1480     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8186                            1481     ;                                           -180度以下相当のパルスなら +1回転
 8187                            1482             .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8188                            1483             .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8189                            1484     
 8190                            1485     
 8191                            1486     
 8192                            1487     
 8193                            1488     ;       *******************************************
 8194                            1489     ;       ***                                     ***
 8195                            1490     ;       ***     今の回転上の上死点-3．0を目指す ***
 8196                            1491     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8197                            1492     ;       *******************************************
 8198                            1493     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8199                            1494     ;                                           -180度以下相当のパルスなら +1回転
 8200                            1495     ;;      .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8201                            1496     ;;      .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8202                                     ***** BEGIN-POOL *****
 8203 000006A4 0064                       DATA FOR SOURCE-LINE 1459,1467
 8204 000006A6 0000                       ALIGNMENT CODE
 8205 000006A8 00000000                   DATA FOR SOURCE-LINE 1447
 8206 000006AC 00000000                   DATA FOR SOURCE-LINE 1450
 8207 000006B0 00000000                   DATA FOR SOURCE-LINE 1465
 8208 000006B4 00000000                   DATA FOR SOURCE-LINE 1468
 8209                                     ***** END-POOL *****
 8210 000006B8                   1497             .ALIGN  4                               ;
 8211 000006B8                   1498     _LINK_UPPLS_A_OBJMAK1:
 8212                            1499             SUB_START
 8213 000006B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8214                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8215                            1500     
 8216                            1501     
 8217                            1502             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8218 000006BA D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8219 000006BC 400B                   M           JSR     @R0                     ;
 8220 000006BE 0009                   M           NOP                                     ;
 8221                            1503     
 8222                            1504     ;       === 目標角度 ====
 8223 000006C0 D010              1505             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(1回目は上死点)
 8224 000006C2 6202              1506             MOV.L   @R0,R2                                  ;これは反転でも回転で待機点選択有
                                          りでも同じ
 8225 000006C4 D010              1507             MOV.L   #_ORG_FIRST_OBJPLS,R0                   ;[-ﾏｲﾅｽﾃﾞｰﾀ]
 8226 000006C6 6102              1508             MOV.L   @R0,R1                                  ;
 8227 000006C8 321C              1509             ADD     R1,R2                                   ;
 8228 000006CA D510              1510             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8229 000006CC 6452              1511             MOV.L   @R5,R4                                  ;
 8230                            1512     
 8231                            1513     ;;;2011-03-22[0度不具合]        CMP/HI  R2,R4                                   ;R2 < R4
 8232 000006CE 3423              1514             CMP/GE  R2,R4                                   ;R2 < R4
 8233 000006D0 8900              1515             BT      LINK_UPPLS_A_OBJMK1_100                 ;
 8234 000006D2 3248              1516             SUB     R4,R2                                   ;
 8235 000006D4                   1517     LINK_UPPLS_A_OBJMK1_100:                                ;R2
 8236                            1518     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    38
PROGRAM NAME =

 8237                            1519     ;       ------ 2011-03-22--------
 8238 000006D4 4211              1520             CMP/PZ  R2
 8239 000006D6 8900              1521             BT      LINK_UPPLS_A_OBJMK1_110                 ;
 8240 000006D8 324C              1522             ADD     R4,R2                                   ;
 8241 000006DA                   1523     LINK_UPPLS_A_OBJMK1_110:                                ;
 8242                            1524     
 8243                            1525     
 8244                            1526     
 8245                            1527     
 8246                            1528     
 8247 000006DA D40D              1529             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8248 000006DC 6142              1530             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8249                            1531                                                             ;目標 ***.* pls
 8250 000006DE D40D              1532             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8251 000006E0 6342              1533             MOV.L   @R4,R3                                  ;
 8252                            1534     
 8253                            1535     ;       ===========2008-04-28 =======
 8254                            1536     ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R0             ;
 8255                            1537     
 8256 000006E2 D00D              1538             MOV.L   #_ORIGN_180ARA_FLG,R0   ;
 8257 000006E4 6001              1539             MOV.W   @R0,R0                                  ;
 8258 000006E6 C820              1540             TST     #BIT5,R0                                ;
 8259                            1541             TST_BIT_ON LINK_UPPLS_A_OBJMK1_145              ;逆転固定
 8260 000006E8 8B21                   M           BF      LINK_UPPLS_A_OBJMK1_145
 8261                            1542     ;       ================================
 8262                            1543     
 8263                            1544     
 8264                            1545     ;       ===== R3~R2の範囲にR1がいれば正転===
 8265                            1546             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8266 000006EA 3233                   M           CMP/GE  R3,R2
 8267 000006EC 8B16                   M           BF      JMP0100001
 8268                                 M   ;       === 0度をはさなまい===
 8269 000006EE 200A                   M           XOR     R0,R0
 8270 000006F0 3133                   M           CMP/GE  R3,R1           ;
 8271 000006F2 8B19                   M           BF      JMP0200001                      ; PV<SV1
 8272 000006F4 3213                   M           CMP/GE  R1,R2           ;
 8273 000006F6 8B17                   M           BF      JMP0200001                      ; SV2<PV2 (1)
 8274 000006F8 E001                   M           MOV     #1,R0           ;
 8275                                 M           M_BRA   JMP0200001                      ;
 8276 000006FA A015                   M           BRA     JMP0200001
 8277 000006FC 0009                   M           NOP
 8278                                 M   
 8279                                 M   ;       ==== ０度をはさむ====
 8280                                 M   ***** BEGIN-POOL *****
 8281 000006FE 0000                   M   ALIGNMENT CODE
 8282 00000700 00000000               M   DATA FOR SOURCE-LINE 1502
 8283 00000704 00000000               M   DATA FOR SOURCE-LINE 1505
 8284 00000708 00000000               M   DATA FOR SOURCE-LINE 1507
 8285 0000070C 00000000               M   DATA FOR SOURCE-LINE 1510
 8286 00000710 00000000               M   DATA FOR SOURCE-LINE 1529
 8287 00000714 00000000               M   DATA FOR SOURCE-LINE 1532
 8288 00000718 00000000               M   DATA FOR SOURCE-LINE 1538
 8289                                 M   ***** END-POOL *****
 8290 0000071C                        M   JMP0100001:
 8291 0000071C E001                   M           MOV     #1,R0
 8292 0000071E 3133                   M           CMP/GE  R3,R1
 8293 00000720 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    39
PROGRAM NAME =

 8294 00000722 3213                   M           CMP/GE  R1,R2           ;
 8295 00000724 8900                   M           BT      JMP0200001                      ;
 8296 00000726 200A                   M           XOR     R0,R0           ;
 8297 00000728                        M   JMP0200001:
 8298 00000728 233A              1547             XOR     R3,R3
 8299 0000072A 2008              1548             TST     R0,R0
 8300                            1549             TST_BIT_ON LINK_UPPLS_A_OBJMK1_150              ;
 8301 0000072C 8B00                   M           BF      LINK_UPPLS_A_OBJMK1_150
 8302 0000072E                   1550     LINK_UPPLS_A_OBJMK1_145:                                ;R2
 8303 0000072E E3FF              1551             MOV     #-1,R3
 8304 00000730                   1552     LINK_UPPLS_A_OBJMK1_150:                                ;R2
 8305                            1553     
 8306 00000730 2338              1554             TST     R3,R3                                   ;正転
 8307                            1555             TST_BIT_ON LINK_UPPLS_A_OBJMK1_300              ;逆転 JUMP
 8308 00000732 8B0D                   M           BF      LINK_UPPLS_A_OBJMK1_300
 8309                            1556     ;       ==== 正転方向でいく ====
 8310 00000734 3218              1557             SUB     R1,R2                                   ;
 8311 00000736 4211              1558             CMP/PZ  R2
 8312 00000738 8915              1559             BT      LINK_UPPLS_A_OBJMK1_500                 ;R2 >= 0(R2は符号付距離)
 8313 0000073A D504              1560             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8314 0000073C 6452              1561             MOV.L   @R5,R4                                  ;
 8315 0000073E 324C              1562             ADD     R4,R2                                   ;
 8316 00000740 4211              1563             CMP/PZ  R2
 8317 00000742 8910              1564             BT      LINK_UPPLS_A_OBJMK1_500         ;
 8318 00000744 222A              1565             XOR     R2,R2                                   ;
 8319                            1566             M_BRA   LINK_UPPLS_A_OBJMK1_500                 ;
 8320 00000746 A00E                   M           BRA     LINK_UPPLS_A_OBJMK1_500
 8321 00000748 0009                   M           NOP
 8322                            1567     
 8323                                     ***** BEGIN-POOL *****
 8324 0000074A 0000                       ALIGNMENT CODE
 8325 0000074C 00000000                   DATA FOR SOURCE-LINE 1560
 8326                                     ***** END-POOL *****
 8327 00000750                   1568     LINK_UPPLS_A_OBJMK1_300:                                ;R2
 8328 00000750 3218              1569             SUB     R1,R2                                   ;300-270
 8329 00000752 622B              1570             NEG     R2,R2                                   ;
 8330 00000754 4211              1571             CMP/PZ  R2
 8331 00000756 8905              1572             BT      LINK_UPPLS_A_OBJMK1_400                 ;R2 >= 0(R2は符号付距離)
 8332 00000758 D514              1573             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8333 0000075A 6452              1574             MOV.L   @R5,R4                                  ;
 8334 0000075C 324C              1575             ADD     R4,R2                                   ;
 8335 0000075E 4211              1576             CMP/PZ  R2
 8336 00000760 8900              1577             BT      LINK_UPPLS_A_OBJMK1_400         ;
 8337 00000762 222A              1578             XOR     R2,R2                                   ;
 8338 00000764                   1579     LINK_UPPLS_A_OBJMK1_400:                                ;
 8339 00000764 622B              1580             NEG     R2,R2                                   ;
 8340 00000766                   1581     LINK_UPPLS_A_OBJMK1_500:                                ;
 8341 00000766 255A              1582             XOR     R5,R5
 8342 00000768 6623              1583             MOV     R2,R6                                   ;
 8343 0000076A 4211              1584             CMP/PZ  R2                                      ;
 8344 0000076C 8900              1585             BT      LINK_UPPLS_A_OBJMK1_600                 ;
 8345 0000076E E5FF              1586             MOV     #-1,R5                                  ;
 8346 00000770                   1587     LINK_UPPLS_A_OBJMK1_600:                                ;
 8347                            1588     
 8348                            1589     
 8349 00000770 D40F              1590             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    40
PROGRAM NAME =

 8350 00000772 6146              1591             MOV.L   @R4+,R1                                                 ;
 8351 00000774 6242              1592             MOV.L   @R4,R2                                                  ;
 8352                            1593             PUSH_REG1 R1
 8353 00000776 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8354                                 M                                           ;REG=>[SP]
 8355                                 M                                           ;"-4" FF,FF,FF,FC
 8356                            1594             PUSH_REG1 R2
 8357 00000778 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8358                                 M                                           ;REG=>[SP]
 8359                                 M                                           ;"-4" FF,FF,FF,FC
 8360                            1595             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8361 0000077A 0008                   M           CLRT
 8362 0000077C 326E                   M           ADDC    R6,R2
 8363 0000077E 315E                   M           ADDC    R5,R1
 8364                            1596     
 8365 00000780 D40C              1597             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8366 00000782 2412              1598             MOV.L   R1,@R4                                          ;
 8367 00000784 1421              1599             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8368                            1600             POP_REG1 R6
 8369                                 M                                   ; RE"+4" 00,00,00,04
 8370 00000786 66F6                   M           MOV.L   @R15+,R6        ;
 8371                            1601             POP_REG1 R5
 8372                                 M                                   ; RE"+4" 00,00,00,04
 8373 00000788 65F6                   M           MOV.L   @R15+,R5        ;
 8374                            1602             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8375 0000078A 0008                   M           CLRT
 8376 0000078C 326A                   M           SUBC    R6,R2
 8377 0000078E 315A                   M           SUBC    R5,R1
 8378 00000790 233A              1603             XOR     R3,R3
 8379 00000792 4111              1604             CMP/PZ  R1                              ;+
 8380 00000794 8900              1605             BT      LINK_UPPLS_A_OBJMK1_700         ;
 8381 00000796 E301              1606             MOV     #BIT0,R3
 8382 00000798                   1607     LINK_UPPLS_A_OBJMK1_700:                                ;
 8383 00000798 D107              1608             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8384 0000079A 2131              1609             MOV.W   R3,@R1                          ;
 8385                            1610     
 8386 0000079C D107              1611             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8387 0000079E 6011              1612             MOV.W   @R1,R0                  ;
 8388 000007A0 C9FE              1613             AND     #LOW ~BIT0,R0           ;
 8389 000007A2 203B              1614             OR      R3,R0                   ;
 8390 000007A4 2101              1615             MOV.W   R0,@R1                  ;
 8391                            1616     
 8392                            1617             SUB_END
 8393                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8394 000007A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8395                            1618             M_RTS
 8396 000007A8 000B                   M           RTS                             ;RTSの後ろの
 8397 000007AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8398                            1619     
 8399                            1620     
 8400                            1621     ;       ***************************************************
 8401                            1622     ;       ***                                             ***
 8402                            1623     ;       ***     １回目の目標位置+6.0を目指す            ***
 8403                            1624     ;       ***                                             ***
 8404                            1625     ;       ***************************************************
 8405                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    41
PROGRAM NAME =

 8406 000007AC 00000000                   DATA FOR SOURCE-LINE 1573
 8407 000007B0 00000000                   DATA FOR SOURCE-LINE 1590
 8408 000007B4 00000000                   DATA FOR SOURCE-LINE 1597
 8409 000007B8 00000000                   DATA FOR SOURCE-LINE 1608
 8410 000007BC 00000000                   DATA FOR SOURCE-LINE 1611
 8411                                     ***** END-POOL *****
 8412 000007C0                   1626             .ALIGN  4                               ;
 8413 000007C0                   1627     _LINK_UPPLS_A_OBJMAK2:
 8414                            1628             SUB_START
 8415 000007C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8416                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8417                            1629             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 8418 000007C2 D013                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8419 000007C4 400B                   M           JSR     @R0                     ;
 8420 000007C6 0009                   M           NOP                                     ;
 8421                            1630     
 8422 000007C8 D412              1631             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8423 000007CA 6142              1632             MOV.L   @R4,R1                                          ;
 8424 000007CC 5241              1633             MOV.L   @(1*4,R4),R2                                    ;目標位置ｾｯﾄ
 8425 000007CE D412              1634             MOV.L   #_ORG_SECOND_OBJPLS,R4                          ;
 8426 000007D0 6642              1635             MOV.L   @R4,R6                                          ;
 8427 000007D2 255A              1636             XOR     R5,R5                                           ;
 8428 000007D4 4611              1637             CMP/PZ  R6
 8429 000007D6 8900              1638             BT      LINK_UPPLS_A_OBJMK2_030                         ;あり得ない
 8430 000007D8 75FF              1639             ADD     #-1,R5                                          ;
 8431 000007DA                   1640     LINK_UPPLS_A_OBJMK2_030:                                                ;
 8432                            1641             FAR_JSR #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;
 8433 000007DA D010                   M           MOV.L   #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8434 000007DC 400B                   M           JSR     @R0                     ;
 8435 000007DE 0009                   M           NOP                                     ;
 8436                            1642     
 8437 000007E0 D40C              1643             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8438 000007E2 2412              1644             MOV.L   R1,@R4                                          ;
 8439 000007E4 1421              1645             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8440                            1646     
 8441 000007E6 D40E              1647             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8442 000007E8 6546              1648             MOV.L   @R4+,R5                                                         ;
 8443 000007EA 6642              1649             MOV.L   @R4,R6                                                          ;
 8444                            1650             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8445 000007EC 0008                   M           CLRT
 8446 000007EE 326A                   M           SUBC    R6,R2
 8447 000007F0 315A                   M           SUBC    R5,R1
 8448 000007F2 233A              1651             XOR     R3,R3
 8449 000007F4 4111              1652             CMP/PZ  R1                              ;
 8450 000007F6 8900              1653             BT      LINK_UPPLS_A_OBJMK2_050         ;
 8451 000007F8 E301              1654             MOV     #BIT0,R3                        ;
 8452 000007FA                   1655     LINK_UPPLS_A_OBJMK2_050:                                ;
 8453 000007FA D10A              1656             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8454 000007FC 2131              1657             MOV.W   R3,@R1                          ;
 8455                            1658     
 8456 000007FE D10A              1659             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8457 00000800 6011              1660             MOV.W   @R1,R0                  ;
 8458 00000802 C9FE              1661             AND     #LOW ~BIT0,R0           ;
 8459 00000804 203B              1662             OR      R3,R0                   ;
 8460 00000806 2101              1663             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    42
PROGRAM NAME =

 8461                            1664     
 8462                            1665             SUB_END
 8463                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8464 00000808 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8465                            1666             M_RTS
 8466 0000080A 000B                   M           RTS                             ;RTSの後ろの
 8467 0000080C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8468                            1667     
 8469                            1668     ;       ***************************************************
 8470                            1669     ;       ***                                             ***
 8471                            1670     ;       ***     今の回転上の待機点を目指す              ***
 8472                            1671     ;       ***     本当は正転する待機点を目指す            ***
 8473                            1672     ;       ***************************************************
 8474                            1673     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 8475                            1674     ;
 8476                                     ***** BEGIN-POOL *****
 8477 0000080E 0000                       ALIGNMENT CODE
 8478 00000810 00000000                   DATA FOR SOURCE-LINE 1629
 8479 00000814 00000000                   DATA FOR SOURCE-LINE 1631,1643
 8480 00000818 00000000                   DATA FOR SOURCE-LINE 1634
 8481 0000081C 00000000                   DATA FOR SOURCE-LINE 1641
 8482 00000820 00000000                   DATA FOR SOURCE-LINE 1647
 8483 00000824 00000000                   DATA FOR SOURCE-LINE 1656
 8484 00000828 00000000                   DATA FOR SOURCE-LINE 1659
 8485                                     ***** END-POOL *****
 8486 0000082C                   1675             .ALIGN  4                               ;
 8487 0000082C                   1676     _LINK_UPPLS_A_OBJMAK3:
 8488                            1677             SUB_START
 8489 0000082C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8490                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8491                            1678     
 8492                            1679     
 8493                            1680             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
 8494 0000082E D009                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8495 00000830 400B                   M           JSR     @R0                     ;
 8496 00000832 0009                   M           NOP                                     ;
 8497                            1681     
 8498                            1682     
 8499                            1683             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8500 00000834 D008                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8501 00000836 400B                   M           JSR     @R0                     ;
 8502 00000838 0009                   M           NOP                                     ;
 8503                            1684     
 8504                            1685     ;       ----------- 2014-09-18 -----------------
 8505                            1686             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 8506 0000083A D008                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8507 0000083C 400B                   M           JSR     @R0                     ;
 8508 0000083E 0009                   M           NOP                                     ;
 8509                            1687     
 8510                            1688     
 8511                            1689     ;;2014-09-18　SELECT1へ移動;    -------2012-10-19 別目的　ふりこ退避
 8512                            1690     ;;2014-09-18　SELECT1へ移動     MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8513                            1691     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 8514                            1692     ;;2014-09-18　SELECT1へ移動     TST     #BIT5,R0                        ;
 8515                            1693     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_050      ;R2
 8516                            1694     ;;2014-09-18　SELECT1へ移動
 8517                            1695     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好き
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    43
PROGRAM NAME =

                                          なとこ
 8518                            1696     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 8519                            1697     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 8520                            1698     ;;2014-09-18　SELECT1へ移動
 8521                            1699     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_050:
 8522                            1700     ;;2014-09-18　SELECT1へ移動;    -----------------------------
 8523                            1701     ;;2014-09-18　SELECT1へ移動
 8524                            1702     ;;2014-09-18　SELECT1へ移動     MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 8525                            1703     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 8526                            1704     ;;2014-09-18　SELECT1へ移動     TST     #BIT0,R0                        ;
 8527                            1705     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_100A     ;R2
 8528                            1706     ;;2014-09-18　SELECT1へ移動
 8529                            1707     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機
                                          点X
 8530                            1708     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 8531                            1709     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 8532                            1710     ;;2014-09-18　SELECT1へ移動
 8533                            1711     ;;2014-09-18　SELECT1へ移動
 8534                            1712     ;;2014-09-18　SELECT1へ移動;    === 目標角度 ====
 8535                            1713     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_100A:                            ;R2
 8536                            1714     ;;2014-09-18　SELECT1へ移動     MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 8537                            1715     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 8538                            1716     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_110B:                            ;R2
 8539                            1717     ;;;2011-05-11   MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8540                            1718     ;;;2011-05-11   MOV.L   @R0,R2                                  ;
 8541                            1719     
 8542                            1720     
 8543                            1721     ;       ===========2008-04-28 =======
 8544 00000840 D007              1722             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 8545 00000842 6001              1723             MOV.W   @R0,R0                                  ;
 8546 00000844 C920              1724             AND     #BIT5,R0                                ;
 8547                            1725     
 8548                            1726             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4               ;input R2(目標),R0=0(自動判別) R0!
                                          =0(BIT5=1)逆転固定
 8549 00000846 D407                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8550 00000848 440B                   M           JSR     @R4                     ;
 8551 0000084A 0009                   M           NOP                                     ;
 8552                            1727     
 8553                            1728             SUB_END
 8554                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8555 0000084C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8556                            1729             M_RTS
 8557 0000084E 000B                   M           RTS                             ;RTSの後ろの
 8558 00000850 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8559                            1730     
 8560                            1731     
 8561                            1732     
 8562                            1733     ;       *******************************************
 8563                            1734     ;       ***                                     ***
 8564                            1735     ;       ***     待機点位置決めの目標位置選択    ***
 8565                            1736     ;       ***                                     ***
 8566                            1737     ;       *******************************************
 8567                            1738     ;       2014-09-18 ｻﾌﾞﾙｰﾁﾝ化しただけ
 8568                            1739     ;
 8569                            1740     ;       ANS R0=0:強制書き換え無し R2=待機点
 8570                            1741     ;       ANS R0=1:強制書き換え有り R2=変更目標
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    44
PROGRAM NAME =

 8571                            1742     ;
 8572                            1743     ;
 8573                                     ***** BEGIN-POOL *****
 8574 00000852 0000                       ALIGNMENT CODE
 8575 00000854 00000000                   DATA FOR SOURCE-LINE 1680
 8576 00000858 00000000                   DATA FOR SOURCE-LINE 1683
 8577 0000085C 00000000                   DATA FOR SOURCE-LINE 1686
 8578 00000860 00000000                   DATA FOR SOURCE-LINE 1722
 8579 00000864 00000000                   DATA FOR SOURCE-LINE 1726
 8580                                     ***** END-POOL *****
 8581 00000868                   1744     _LINK_UPPLS_OBJ_SELECT1
 8582                            1745             SUB_START
 8583 00000868 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8584                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8585                            1746     
 8586                            1747     ;       -------2012-10-19 別目的　ふりこ退避
 8587 0000086A D104              1748             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8588 0000086C 6011              1749             MOV.W   @R1,R0                          ;
 8589 0000086E C820              1750             TST     #BIT5,R0                        ;
 8590                            1751             TST_BIT_OF LINK_UPPLS_OBJ_SEL_050       ;R2
 8591 00000870 8908                   M           BT      LINK_UPPLS_OBJ_SEL_050
 8592                            1752     
 8593 00000872 D003              1753             MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好きなとこ
 8594 00000874 6202              1754             MOV.L   @R0,R2                                  ;
 8595                            1755             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 8596 00000876 A019                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 8597 00000878 0009                   M           NOP
 8598                            1756     
 8599                                     ***** BEGIN-POOL *****
 8600 0000087A 0000                       ALIGNMENT CODE
 8601 0000087C 00000000                   DATA FOR SOURCE-LINE 1748
 8602 00000880 00000000                   DATA FOR SOURCE-LINE 1753
 8603                                     ***** END-POOL *****
 8604 00000884                   1757     LINK_UPPLS_OBJ_SEL_050:
 8605                            1758     ;       -----------------------------
 8606                            1759     
 8607 00000884 D103              1760             MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 8608 00000886 6011              1761             MOV.W   @R1,R0                          ;
 8609 00000888 C801              1762             TST     #BIT0,R0                        ;
 8610                            1763             TST_BIT_OF LINK_UPPLS_OBJ_SEL_100A      ;R2
 8611 0000088A 8907                   M           BT      LINK_UPPLS_OBJ_SEL_100A
 8612                            1764     
 8613 0000088C D002              1765             MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機点X
 8614 0000088E 6202              1766             MOV.L   @R0,R2                                  ;
 8615                            1767             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 8616 00000890 A00C                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 8617 00000892 0009                   M           NOP
 8618                            1768     
 8619                            1769     
 8620                            1770     ;       === 目標角度(通常の待機点) ====
 8621                                     ***** BEGIN-POOL *****
 8622 00000894 00000000                   DATA FOR SOURCE-LINE 1760
 8623 00000898 00000000                   DATA FOR SOURCE-LINE 1765
 8624                                     ***** END-POOL *****
 8625 0000089C                   1771     LINK_UPPLS_OBJ_SEL_100A:                                ;R2
 8626 0000089C D002              1772             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8627 0000089E 6202              1773             MOV.L   @R0,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    45
PROGRAM NAME =

 8628 000008A0 200A              1774             XOR     R0,R0                                   ;強制書換無し
 8629                            1775             M_BRA   LINK_UPPLS_OBJ_SEL_END                  ;
 8630 000008A2 A004                   M           BRA     LINK_UPPLS_OBJ_SEL_END
 8631 000008A4 0009                   M           NOP
 8632                            1776     
 8633                                     ***** BEGIN-POOL *****
 8634 000008A6 0000                       ALIGNMENT CODE
 8635 000008A8 00000000                   DATA FOR SOURCE-LINE 1772
 8636                                     ***** END-POOL *****
 8637 000008AC                   1777     LINK_UPPLS_OBJ_SEL_110B:                                ;
 8638 000008AC E0FF              1778             MOV.B   #-1,R0                                  ;強制書換有り
 8639                            1779     
 8640 000008AE                   1780     LINK_UPPLS_OBJ_SEL_END:                         ;R2
 8641                            1781     
 8642                            1782             SUB_END
 8643                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8644 000008AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8645                            1783             M_RTS
 8646 000008B0 000B                   M           RTS                             ;RTSの後ろの
 8647 000008B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8648                            1784     
 8649                            1785     
 8650                            1786     
 8651                            1787     
 8652                            1788     ;       ***************************************************
 8653                            1789     ;       ***                                             ***
 8654                            1790     ;       ***     待機位置決めの方向判別＋目標＋方向      ***
 8655                            1791     ;       ***     R2:目標位置ｵﾌｾｯﾄﾊﾟﾙｽ相当の角度          ***
 8656                            1792     ;       ***     R0=0自動判別　R0=BIT5逆転固定           ***
 8657                            1793     ;       ***                                             ***
 8658                            1794     ;       ***************************************************
 8659                            1795     ;
 8660                            1796     ;input R2(目標),R0=0(自動判別) R0!=0(BIT5=1)逆転固定
 8661                            1797     
 8662                            1798     
 8663 000008B4                   1799     _UPPLS1_OBJMAK_COMMON:
 8664                            1800             SUB_START
 8665 000008B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8666                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8667                            1801     
 8668 000008B6 D408              1802             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8669 000008B8 6142              1803             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8670                            1804                                                             ;目標 ***.* pls
 8671 000008BA D408              1805             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8672 000008BC 6342              1806             MOV.L   @R4,R3                                  ;
 8673                            1807     
 8674                            1808     
 8675                            1809     ;;;;    TST     #BIT5,R0                        ;
 8676 000008BE 2008              1810             TST     R0,R0                           ;
 8677                            1811             TST_BIT_ON UPPLS1_OBJMAK_COM_145        ;逆転固定(1回起動した場合は0になるのでｻｰﾁ
                                          完了時は0)
 8678 000008C0 8B17                   M           BF      UPPLS1_OBJMAK_COM_145
 8679                            1812     
 8680                            1813     ;       ===== R3[下死点]~R2[待機点]の範囲にR1がいれば正転===
 8681                            1814             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8682 000008C2 3233                   M           CMP/GE  R3,R2
 8683 000008C4 8B0C                   M           BF      JMP0100002
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    46
PROGRAM NAME =

 8684                                 M   ;       === 0度をはさなまい===
 8685 000008C6 200A                   M           XOR     R0,R0
 8686 000008C8 3133                   M           CMP/GE  R3,R1           ;
 8687 000008CA 8B0F                   M           BF      JMP0200002                      ; PV<SV1
 8688 000008CC 3213                   M           CMP/GE  R1,R2           ;
 8689 000008CE 8B0D                   M           BF      JMP0200002                      ; SV2<PV2 (1)
 8690 000008D0 E001                   M           MOV     #1,R0           ;
 8691                                 M           M_BRA   JMP0200002                      ;
 8692 000008D2 A00B                   M           BRA     JMP0200002
 8693 000008D4 0009                   M           NOP
 8694                                 M   
 8695                                 M   ;       ==== ０度をはさむ====
 8696                                 M   ***** BEGIN-POOL *****
 8697 000008D6 0000                   M   ALIGNMENT CODE
 8698 000008D8 00000000               M   DATA FOR SOURCE-LINE 1802
 8699 000008DC 00000000               M   DATA FOR SOURCE-LINE 1805
 8700                                 M   ***** END-POOL *****
 8701 000008E0                        M   JMP0100002:
 8702 000008E0 E001                   M           MOV     #1,R0
 8703 000008E2 3133                   M           CMP/GE  R3,R1
 8704 000008E4 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
 8705 000008E6 3213                   M           CMP/GE  R1,R2           ;
 8706 000008E8 8900                   M           BT      JMP0200002                      ;
 8707 000008EA 200A                   M           XOR     R0,R0           ;
 8708 000008EC                        M   JMP0200002:
 8709 000008EC 233A              1815             XOR     R3,R3
 8710 000008EE 2008              1816             TST     R0,R0
 8711                            1817             TST_BIT_ON UPPLS1_OBJMAK_COM_150                ;
 8712 000008F0 8B00                   M           BF      UPPLS1_OBJMAK_COM_150
 8713 000008F2                   1818     UPPLS1_OBJMAK_COM_145:                          ;R2
 8714 000008F2 E3FF              1819             MOV     #-1,R3
 8715 000008F4                   1820     UPPLS1_OBJMAK_COM_150:                          ;R2
 8716                            1821     
 8717 000008F4 2338              1822             TST     R3,R3                                   ;正転
 8718                            1823             TST_BIT_ON UPPLS1_OBJMAK_COM_300                ;逆転 JUMP
 8719 000008F6 8B0D                   M           BF      UPPLS1_OBJMAK_COM_300
 8720                            1824     ;       ==== 正転方向でいく ====
 8721 000008F8 3218              1825             SUB     R1,R2                                   ;
 8722 000008FA 4211              1826             CMP/PZ  R2
 8723 000008FC 8915              1827             BT      UPPLS1_OBJMAK_COM_500                   ;R2 >= 0(R2は符号付距離)
 8724 000008FE D504              1828             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8725 00000900 6452              1829             MOV.L   @R5,R4                                  ;
 8726 00000902 324C              1830             ADD     R4,R2                                   ;
 8727 00000904 4211              1831             CMP/PZ  R2
 8728 00000906 8910              1832             BT      UPPLS1_OBJMAK_COM_500           ;
 8729 00000908 222A              1833             XOR     R2,R2                                   ;
 8730                            1834             M_BRA   UPPLS1_OBJMAK_COM_500                   ;
 8731 0000090A A00E                   M           BRA     UPPLS1_OBJMAK_COM_500
 8732 0000090C 0009                   M           NOP
 8733                            1835     
 8734                                     ***** BEGIN-POOL *****
 8735 0000090E 0000                       ALIGNMENT CODE
 8736 00000910 00000000                   DATA FOR SOURCE-LINE 1828
 8737                                     ***** END-POOL *****
 8738 00000914                   1836     UPPLS1_OBJMAK_COM_300:                          ;R2
 8739 00000914 3218              1837             SUB     R1,R2                                   ;300-270
 8740 00000916 622B              1838             NEG     R2,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    47
PROGRAM NAME =

 8741 00000918 4211              1839             CMP/PZ  R2
 8742 0000091A 8905              1840             BT      UPPLS1_OBJMAK_COM_400                   ;R2 >= 0(R2は符号付距離)
 8743 0000091C D514              1841             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8744 0000091E 6452              1842             MOV.L   @R5,R4                                  ;
 8745 00000920 324C              1843             ADD     R4,R2                                   ;
 8746 00000922 4211              1844             CMP/PZ  R2
 8747 00000924 8900              1845             BT      UPPLS1_OBJMAK_COM_400                   ;
 8748 00000926 222A              1846             XOR     R2,R2                                   ;
 8749 00000928                   1847     UPPLS1_OBJMAK_COM_400:                          ;
 8750 00000928 622B              1848             NEG     R2,R2                                   ;
 8751 0000092A                   1849     UPPLS1_OBJMAK_COM_500:                          ;
 8752 0000092A 255A              1850             XOR     R5,R5                                   ;
 8753 0000092C 6623              1851             MOV     R2,R6                                   ;
 8754 0000092E 4211              1852             CMP/PZ  R2                                      ;
 8755 00000930 8900              1853             BT      UPPLS1_OBJMAK_COM_600                   ;
 8756 00000932 E5FF              1854             MOV     #-1,R5                                  ;
 8757 00000934                   1855     UPPLS1_OBJMAK_COM_600:                          ;
 8758                            1856     
 8759                            1857     
 8760 00000934 D40F              1858             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8761 00000936 6146              1859             MOV.L   @R4+,R1                                                 ;
 8762 00000938 6242              1860             MOV.L   @R4,R2                                                  ;
 8763                            1861             PUSH_REG1 R1
 8764 0000093A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8765                                 M                                           ;REG=>[SP]
 8766                                 M                                           ;"-4" FF,FF,FF,FC
 8767                            1862             PUSH_REG1 R2
 8768 0000093C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8769                                 M                                           ;REG=>[SP]
 8770                                 M                                           ;"-4" FF,FF,FF,FC
 8771                            1863             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8772 0000093E 0008                   M           CLRT
 8773 00000940 326E                   M           ADDC    R6,R2
 8774 00000942 315E                   M           ADDC    R5,R1
 8775                            1864     
 8776 00000944 D40C              1865             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8777 00000946 2412              1866             MOV.L   R1,@R4                                          ;
 8778 00000948 1421              1867             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8779                            1868             POP_REG1 R6
 8780                                 M                                   ; RE"+4" 00,00,00,04
 8781 0000094A 66F6                   M           MOV.L   @R15+,R6        ;
 8782                            1869             POP_REG1 R5
 8783                                 M                                   ; RE"+4" 00,00,00,04
 8784 0000094C 65F6                   M           MOV.L   @R15+,R5        ;
 8785                            1870     
 8786                            1871             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8787 0000094E 0008                   M           CLRT
 8788 00000950 326A                   M           SUBC    R6,R2
 8789 00000952 315A                   M           SUBC    R5,R1
 8790 00000954 233A              1872             XOR     R3,R3
 8791 00000956 4111              1873             CMP/PZ  R1                              ;
 8792 00000958 8900              1874             BT      UPPLS1_OBJMAK_COM_750           ;
 8793 0000095A E301              1875             MOV     #BIT0,R3                        ;
 8794 0000095C                   1876     UPPLS1_OBJMAK_COM_750:                          ;
 8795 0000095C D107              1877             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    48
PROGRAM NAME =

 8796 0000095E 2131              1878             MOV.W   R3,@R1                          ;
 8797                            1879     
 8798 00000960 D107              1880             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8799 00000962 6011              1881             MOV.W   @R1,R0                  ;
 8800 00000964 C9FE              1882             AND     #LOW ~BIT0,R0           ;
 8801 00000966 203B              1883             OR      R3,R0                   ;
 8802 00000968 2101              1884             MOV.W   R0,@R1                  ;
 8803                            1885     
 8804                            1886             SUB_END
 8805                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8806 0000096A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8807                            1887             M_RTS
 8808 0000096C 000B                   M           RTS                             ;RTSの後ろの
 8809 0000096E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8810                            1888     
 8811                            1889     
 8812                            1890     
 8813                            1891     
 8814                            1892     ;       ***************************************************
 8815                            1893     ;       ***                                             ***
 8816                            1894     ;       ***     シーケンスによる運転方向の決定          ***
 8817                            1895     ;       ***                                             ***
 8818                            1896     ;       ***************************************************
 8819                            1897     ;       Input   R0 ==0 正転
 8820                            1898     ;               R0 !=0(BIT13)逆転
 8821                            1899     ;       2004-07-01
 8822                            1900     ;
 8823                                     ***** BEGIN-POOL *****
 8824 00000970 00000000                   DATA FOR SOURCE-LINE 1841
 8825 00000974 00000000                   DATA FOR SOURCE-LINE 1858
 8826 00000978 00000000                   DATA FOR SOURCE-LINE 1865
 8827 0000097C 00000000                   DATA FOR SOURCE-LINE 1877
 8828 00000980 00000000                   DATA FOR SOURCE-LINE 1880
 8829                                     ***** END-POOL *****
 8830 00000984                   1901             .ALIGN  4                               ;
 8831 00000984                   1902     _LINK_DIR_OBJMAK3:
 8832                            1903             SUB_START
 8833 00000984 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8835                            1904     
 8836                            1905             PUSH_REG1 R0
 8837 00000986 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8838                                 M                                           ;REG=>[SP]
 8839                                 M                                           ;"-4" FF,FF,FF,FC
 8840                            1906     
 8841                            1907     
 8842                            1908             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 8843 00000988 D00E                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8844 0000098A 400B                   M           JSR     @R0                     ;
 8845 0000098C 0009                   M           NOP                                     ;
 8846                            1909     
 8847                            1910             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8848 0000098E D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8849 00000990 400B                   M           JSR     @R0                     ;
 8850 00000992 0009                   M           NOP                                     ;
 8851                            1911     
 8852                            1912     ;       === 目標角度() ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    49
PROGRAM NAME =

 8853 00000994 D00D              1913             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8854 00000996 6202              1914             MOV.L   @R0,R2                                  ;
 8855 00000998 D40D              1915             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8856 0000099A 6142              1916             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8857                            1917                                                             ;目標 ***.* pls
 8858                            1918     
 8859                            1919             POP_REG1 R0                                     ;
 8860                                 M                                   ; RE"+4" 00,00,00,04
 8861 0000099C 60F6                   M           MOV.L   @R15+,R0        ;
 8862                            1920     
 8863 0000099E 2008              1921             TST     R0,R0                                   ;
 8864                            1922             TST_BIT_ON LINK_DIR_OBJMK3_300                  ;
 8865 000009A0 8B1C                   M           BF      LINK_DIR_OBJMK3_300
 8866                            1923     ;       ==== 正転方向でいく ====
 8867 000009A2 3218              1924             SUB     R1,R2                                   ;
 8868 000009A4 4211              1925             CMP/PZ  R2
 8869 000009A6 8905              1926             BT      LINK_DIR_OBJMK3_250                             ;R2 >= 0(R2は符号付距離)
 8870 000009A8 D50A              1927             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8871 000009AA 6452              1928             MOV.L   @R5,R4                                  ;
 8872 000009AC 324C              1929             ADD     R4,R2                                   ;
 8873 000009AE 4211              1930             CMP/PZ  R2
 8874 000009B0 8900              1931             BT      LINK_DIR_OBJMK3_250                     ;
 8875 000009B2 222A              1932             XOR     R2,R2                                   ;
 8876 000009B4                   1933     LINK_DIR_OBJMK3_250:                                    ;
 8877                            1934             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0!=0 NEAR ZERO
 8878 000009B4 D008                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8879 000009B6 400B                   M           JSR     @R0                     ;
 8880 000009B8 0009                   M           NOP                                     ;
 8881 000009BA 2008              1935             TST     R0,R0                                   ;
 8882                            1936             TST_BIT_OF LINK_DIR_OBJMK3_280                  ;NOT NEAR ZERO JUMP
 8883 000009BC 8900                   M           BT      LINK_DIR_OBJMK3_280
 8884 000009BE 222A              1937             XOR     R2,R2                                   ;
 8885 000009C0                   1938     LINK_DIR_OBJMK3_280:
 8886                            1939             M_BRA   LINK_DIR_OBJMK3_500                             ;
 8887 000009C0 A01D                   M           BRA     LINK_DIR_OBJMK3_500
 8888 000009C2 0009                   M           NOP
 8889                            1940     
 8890                            1941     ;       ====逆転方向でいく=====
 8891                                     ***** BEGIN-POOL *****
 8892 000009C4 00000000                   DATA FOR SOURCE-LINE 1908
 8893 000009C8 00000000                   DATA FOR SOURCE-LINE 1910
 8894 000009CC 00000000                   DATA FOR SOURCE-LINE 1913
 8895 000009D0 00000000                   DATA FOR SOURCE-LINE 1915
 8896 000009D4 00000000                   DATA FOR SOURCE-LINE 1927
 8897 000009D8 00000000                   DATA FOR SOURCE-LINE 1934
 8898                                     ***** END-POOL *****
 8899 000009DC                   1942     LINK_DIR_OBJMK3_300:                                    ;R2
 8900 000009DC 3218              1943             SUB     R1,R2                                   ;
 8901 000009DE 622B              1944             NEG     R2,R2                                   ;
 8902 000009E0 4211              1945             CMP/PZ  R2                                      ;
 8903 000009E2 8905              1946             BT      LINK_DIR_OBJMK3_400                             ;R2 >= 0(R2は符号付距離)
 8904 000009E4 D517              1947             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8905 000009E6 6452              1948             MOV.L   @R5,R4                                  ;
 8906 000009E8 324C              1949             ADD     R4,R2                                   ;
 8907 000009EA 4211              1950             CMP/PZ  R2
 8908 000009EC 8900              1951             BT      LINK_DIR_OBJMK3_400                     ;
 8909 000009EE 222A              1952             XOR     R2,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    50
PROGRAM NAME =

 8910 000009F0                   1953     LINK_DIR_OBJMK3_400:                                    ;R2 ≦NERA-ZERO or  1REV-NEAR≦R2
                                          なら R2=0とする
 8911                            1954     
 8912                            1955             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0=0 NOT NEAR ZERO
 8913 000009F0 D015                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8914 000009F2 400B                   M           JSR     @R0                     ;
 8915 000009F4 0009                   M           NOP                                     ;
 8916 000009F6 2008              1956             TST     R0,R0                                   ;
 8917                            1957             TST_BIT_OF LINK_DIR_OBJMK3_450                  ;
 8918 000009F8 8900                   M           BT      LINK_DIR_OBJMK3_450
 8919 000009FA 222A              1958             XOR     R2,R2                                   ;
 8920 000009FC                   1959     LINK_DIR_OBJMK3_450:                                    ;
 8921                            1960     
 8922 000009FC 622B              1961             NEG     R2,R2                                   ;
 8923 000009FE                   1962     LINK_DIR_OBJMK3_500:                                    ;R2:+/-
 8924 000009FE 255A              1963             XOR     R5,R5                                   ;
 8925 00000A00 6623              1964             MOV     R2,R6                                   ;
 8926 00000A02 4211              1965             CMP/PZ  R2                                      ;
 8927 00000A04 8900              1966             BT      LINK_DIR_OBJMK3_600                     ;
 8928 00000A06 E5FF              1967             MOV     #-1,R5                                  ;
 8929 00000A08                   1968     LINK_DIR_OBJMK3_600:                                    ;
 8930                            1969     
 8931                            1970     
 8932 00000A08 D410              1971             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8933 00000A0A 6146              1972             MOV.L   @R4+,R1                                                 ;
 8934 00000A0C 6242              1973             MOV.L   @R4,R2                                                  ;
 8935                            1974             PUSH_REG1 R1
 8936 00000A0E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8937                                 M                                           ;REG=>[SP]
 8938                                 M                                           ;"-4" FF,FF,FF,FC
 8939                            1975             PUSH_REG1 R2
 8940 00000A10 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8941                                 M                                           ;REG=>[SP]
 8942                                 M                                           ;"-4" FF,FF,FF,FC
 8943                            1976             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8944 00000A12 0008                   M           CLRT
 8945 00000A14 326E                   M           ADDC    R6,R2
 8946 00000A16 315E                   M           ADDC    R5,R1
 8947 00000A18 D40D              1977             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8948 00000A1A 2412              1978             MOV.L   R1,@R4                                          ;
 8949 00000A1C 1421              1979             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8950                            1980             POP_REG1 R6
 8951                                 M                                   ; RE"+4" 00,00,00,04
 8952 00000A1E 66F6                   M           MOV.L   @R15+,R6        ;
 8953                            1981             POP_REG1 R5
 8954                                 M                                   ; RE"+4" 00,00,00,04
 8955 00000A20 65F6                   M           MOV.L   @R15+,R5        ;
 8956                            1982     
 8957                            1983             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8958 00000A22 0008                   M           CLRT
 8959 00000A24 326A                   M           SUBC    R6,R2
 8960 00000A26 315A                   M           SUBC    R5,R1
 8961 00000A28 233A              1984             XOR     R3,R3
 8962 00000A2A 4111              1985             CMP/PZ  R1                              ;
 8963 00000A2C 8900              1986             BT      LINK_DIR_OBJMK3_750             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    51
PROGRAM NAME =

 8964 00000A2E E301              1987             MOV     #BIT0,R3                        ;
 8965 00000A30                   1988     LINK_DIR_OBJMK3_750:                            ;
 8966 00000A30 D108              1989             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8967 00000A32 2131              1990             MOV.W   R3,@R1                          ;
 8968                            1991     
 8969 00000A34 D108              1992             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8970 00000A36 6011              1993             MOV.W   @R1,R0                  ;
 8971 00000A38 C9FE              1994             AND     #LOW ~BIT0,R0           ;
 8972 00000A3A 203B              1995             OR      R3,R0                   ;
 8973 00000A3C 2101              1996             MOV.W   R0,@R1                  ;
 8974                            1997     
 8975                            1998             SUB_END
 8976                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8977 00000A3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8978                            1999             M_RTS
 8979 00000A40 000B                   M           RTS                             ;RTSの後ろの
 8980 00000A42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8981                            2000     
 8982                            2001     ;       ***************************************************
 8983                            2002     ;       ***                                             ***
 8984                            2003     ;       ***     今の回転上の待機点を目指す              ***
 8985                            2004     ;       ***     本当は正転する待機点を目指す            ***
 8986                            2005     ;       ***************************************************
 8987                            2006     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 8988                            2007     ;
 8989                                     ***** BEGIN-POOL *****
 8990 00000A44 00000000                   DATA FOR SOURCE-LINE 1947
 8991 00000A48 00000000                   DATA FOR SOURCE-LINE 1955
 8992 00000A4C 00000000                   DATA FOR SOURCE-LINE 1971
 8993 00000A50 00000000                   DATA FOR SOURCE-LINE 1977
 8994 00000A54 00000000                   DATA FOR SOURCE-LINE 1989
 8995 00000A58 00000000                   DATA FOR SOURCE-LINE 1992
 8996                                     ***** END-POOL *****
 8997 00000A5C                   2008             .ALIGN  4                               ;
 8998 00000A5C                   2009     _LINK_UPPLS_DNDRIV:
 8999                            2010             SUB_START
 9000 00000A5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9001                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9002                            2011     
 9003                            2012             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9004 00000A5E D005                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9005 00000A60 400B                   M           JSR     @R0                     ;
 9006 00000A62 0009                   M           NOP                                     ;
 9007                            2013     
 9008                            2014     ;       ----------- 2014-09-18 -----------------
 9009                            2015             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9010 00000A64 D004                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9011 00000A66 400B                   M           JSR     @R0                     ;
 9012 00000A68 0009                   M           NOP                                     ;
 9013 00000A6A 2008              2016             TST     R0,R0                                   ;
 9014                            2017             TST_BIT_OF LINK_UPPLSDN_DRV050                  ;強制書き換えなし
 9015 00000A6C 8906                   M           BT      LINK_UPPLSDN_DRV050
 9016                            2018             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9017 00000A6E A01B                   M           BRA     LINK_UPPLSDN_DRV130
 9018 00000A70 0009                   M           NOP
 9019                            2019     
 9020                            2020     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    52
PROGRAM NAME =

 9021                                     ***** BEGIN-POOL *****
 9022 00000A72 0000                       ALIGNMENT CODE
 9023 00000A74 00000000                   DATA FOR SOURCE-LINE 2012
 9024 00000A78 00000000                   DATA FOR SOURCE-LINE 2015
 9025                                     ***** END-POOL *****
 9026 00000A7C                   2021     LINK_UPPLSDN_DRV050:
 9027                            2022             PUSH_REG1 R2                                    ;
 9028 00000A7C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9029                                 M                                           ;REG=>[SP]
 9030                                 M                                           ;"-4" FF,FF,FF,FC
 9031                            2023             FAR_JSR #_AREACHK_0DIG_TO_180,R0                ;ANS:R0
 9032 00000A7E D007                   M           MOV.L   #_AREACHK_0DIG_TO_180,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9033 00000A80 400B                   M           JSR     @R0                     ;
 9034 00000A82 0009                   M           NOP                                     ;
 9035                            2024             POP_REG1 R2                                     ;R2;右側待機点
 9036                                 M                                   ; RE"+4" 00,00,00,04
 9037 00000A84 62F6                   M           MOV.L   @R15+,R2        ;
 9038                            2025     
 9039 00000A86 2008              2026             TST     R0,R0                                   ;
 9040                            2027             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;0~180度：右半球
 9041 00000A88 8B0E                   M           BF      LINK_UPPLSDN_DRV130
 9042                            2028     
 9043 00000A8A D005              2029             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9044 00000A8C 6001              2030             MOV.W   @R0,R0                                  ;
 9045 00000A8E C820              2031             TST     #BIT5,R0                                ;
 9046                            2032             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;181~182度：右半球
 9047 00000A90 8B0A                   M           BF      LINK_UPPLSDN_DRV130
 9048                            2033     
 9049                            2034     
 9050 00000A92 D004              2035             MOV.L   #_DNM_SETX_UPAREA_PLS,R0                ;//4;左半球待機点
 9051 00000A94 6202              2036             MOV.L   @R0,R2                                  ;
 9052                            2037             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9053 00000A96 A007                   M           BRA     LINK_UPPLSDN_DRV130
 9054 00000A98 0009                   M           NOP
 9055                            2038     
 9056                            2039     
 9057                            2040     ;       --------------- INPUT:R2----------
 9058                                     ***** BEGIN-POOL *****
 9059 00000A9A 0000                       ALIGNMENT CODE
 9060 00000A9C 00000000                   DATA FOR SOURCE-LINE 2023
 9061 00000AA0 00000000                   DATA FOR SOURCE-LINE 2029
 9062 00000AA4 00000000                   DATA FOR SOURCE-LINE 2035
 9063                                     ***** END-POOL *****
 9064 00000AA8                   2041     LINK_UPPLSDN_DRV130:
 9065 00000AA8 200A              2042             XOR     R0,R0                                   ;
 9066                            2043             M_BRA   LINK_UPPLSDN_DRV140
 9067 00000AAA A001                   M           BRA     LINK_UPPLSDN_DRV140
 9068 00000AAC 0009                   M           NOP
 9069 00000AAE                   2044     LINK_UPPLSDN_DRV135:
 9070 00000AAE E020              2045             MOV.B   #BIT5,R0                                ;
 9071                            2046     
 9072 00000AB0                   2047     LINK_UPPLSDN_DRV140:
 9073                            2048     
 9074                            2049             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4
 9075 00000AB0 D402                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9076 00000AB2 440B                   M           JSR     @R4                     ;
 9077 00000AB4 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    53
PROGRAM NAME =

 9078                            2050     
 9079                            2051     
 9080                            2052             SUB_END
 9081                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9082 00000AB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9083                            2053             M_RTS
 9084 00000AB8 000B                   M           RTS                             ;RTSの後ろの
 9085 00000ABA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9086                            2054     
 9087                            2055     
 9088                                     ***** BEGIN-POOL *****
 9089 00000ABC 00000000                   DATA FOR SOURCE-LINE 2049
 9090                                     ***** END-POOL *****
 9091 00000AC0                   2056     _AREACHK_0DIG_TO_180:
 9092                            2057             SUB_START
 9093 00000AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9095                            2058     
 9096 00000AC2 D006              2059             MOV.L   #_SET1_UPAREA_DIG1,R0
 9097 00000AC4 6101              2060             MOV.W   @R0,R1                  ;0度相当
 9098                            2061     
 9099 00000AC6 D006              2062             MOV.L   #_INC_ENC360,R0         ;ｸﾗﾝｸ変換前角度
 9100 00000AC8 6201              2063             MOV.W   @R0,R2                  ;
 9101                            2064     
 9102 00000ACA 9305              2065             MOV.W   #_UPDN_DIRJG_DIG,R3     ;
 9103                            2066     
 9104                            2067             FAR_JSR #_DIG_AREA_CHK0,R0      ;R1<= R2 <= R3 THEN R0=1
 9105 00000ACC D005                   M           MOV.L   #_DIG_AREA_CHK0,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9106 00000ACE 400B                   M           JSR     @R0                     ;
 9107 00000AD0 0009                   M           NOP                                     ;
 9108                            2068     
 9109                            2069     
 9110                            2070             SUB_END
 9111                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9112 00000AD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9113                            2071             M_RTS
 9114 00000AD4 000B                   M           RTS                             ;RTSの後ろの
 9115 00000AD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9116                            2072     
 9117                            2073     
 9118                            2074     ;       ***********************************
 9119                            2075     ;       ***                             ***
 9120                            2076     ;       ***     R2：移動距離            ***
 9121                            2077     ;       ***                             ***
 9122                            2078     ;       ***********************************
 9123                            2079     ;       ANS R0
 9124                            2080     ;       MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9125                            2081     ;       MOV.L   @R5,R4                                  ;
 9126                            2082     ;LINK_DIR_OBJMK3_400:                                   ;
 9127                            2083     ;       R2 ≦NEAR(1)  or  1REV-NEAR≦R2(-1)
 9128                            2084     ;       NEAR<R2<1REV-NEAR THEN R0=0
 9129                            2085     
 9130                                     ***** BEGIN-POOL *****
 9131 00000AD8 0708                       DATA FOR SOURCE-LINE 2065
 9132 00000ADA 0000                       ALIGNMENT CODE
 9133 00000ADC 00000000                   DATA FOR SOURCE-LINE 2059
 9134 00000AE0 00000000                   DATA FOR SOURCE-LINE 2062
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    54
PROGRAM NAME =

 9135 00000AE4 00000000                   DATA FOR SOURCE-LINE 2067
 9136                                     ***** END-POOL *****
 9137 00000AE8                   2086             .ALIGN  4                               ;
 9138 00000AE8                   2087     _OBJ_NEAR_CHK1:
 9139                            2088             SUB_START
 9140 00000AE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9141                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9142 00000AEA 200A              2089             XOR     R0,R0
 9143 00000AEC D505              2090             MOV.L   #_SET1_OBJARA_INPXPLS,R5                ;
 9144 00000AEE 6451              2091             MOV.W   @R5,R4                                  ;
 9145 00000AF0 9507              2092             MOV.W   #D'100,R5                               ;min 100pls
 9146 00000AF2 3453              2093             CMP/GE  R5,R4                                   ;
 9147 00000AF4 8900              2094             BT      OBJ_NEAR_CK_030                         ;
 9148 00000AF6 6453              2095             MOV     R5,R4                                   ;
 9149 00000AF8                   2096     OBJ_NEAR_CK_030:                                        ;
 9150                            2097     
 9151 00000AF8 3247              2098             CMP/GT  R4,R2                                   ;
 9152 00000AFA 8905              2099             BT      OBJ_NEAR_CK_050                         ;R4 < R2 JUMP
 9153 00000AFC E001              2100             MOV     #1,R0                                   ;R2≦R4
 9154                            2101             M_BRA   OBJ_NEAR_CK_EXT                         ;ﾆｱｾﾞﾛ幅
 9155 00000AFE A009                   M           BRA     OBJ_NEAR_CK_EXT
 9156 00000B00 0009                   M           NOP
 9157                            2102     
 9158                                     ***** BEGIN-POOL *****
 9159 00000B02 0064                       DATA FOR SOURCE-LINE 2092
 9160 00000B04 00000000                   DATA FOR SOURCE-LINE 2090
 9161                                     ***** END-POOL *****
 9162 00000B08                   2103     OBJ_NEAR_CK_050:
 9163 00000B08 D504              2104             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9164 00000B0A 6552              2105             MOV.L   @R5,R5                                  ;
 9165 00000B0C 3548              2106             SUB     R4,R5                                   ;
 9166 00000B0E 3527              2107             CMP/GT  R2,R5                                   ;R2<R5(1ROT-)
 9167 00000B10 8900              2108             BT      OBJ_NEAR_CK_EXT                         ;
 9168 00000B12 E0FF              2109             MOV     #-1,R0                                  ;
 9169 00000B14                   2110     OBJ_NEAR_CK_EXT:
 9170                            2111             SUB_END
 9171                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9172 00000B14 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9173                            2112             M_RTS
 9174 00000B16 000B                   M           RTS                             ;RTSの後ろの
 9175 00000B18 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9176                            2113     
 9177                            2114     
 9178                            2115     
 9179                            2116     
 9180                            2117     ;       *******************************************
 9181                            2118     ;       ***     回転ﾊﾟﾙｽR1,R2+ｵﾌｾｯﾄR5,R6        ***
 9182                            2119     ;       ***     LIMIT MAX/MIN                   ***
 9183                            2120     ;       *******************************************
 9184                            2121     ;       Input R1,R2,R5,R6
 9185                            2122     ;       Output R1,R2
 9186                            2123     ;       Keep R5,R6
 9187                                     ***** BEGIN-POOL *****
 9188 00000B1A 0000                       ALIGNMENT CODE
 9189 00000B1C 00000000                   DATA FOR SOURCE-LINE 2104
 9190                                     ***** END-POOL *****
 9191 00000B20                   2124             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    55
PROGRAM NAME =

 9192 00000B20                   2125     _ADDR56_R12_ANS_R12_LIMIT_MAX_MIN:
 9193                            2126             SUB_START
 9194 00000B20 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9195                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9196                            2127             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2               ;
 9197 00000B22 0008                   M           CLRT
 9198 00000B24 326E                   M           ADDC    R6,R2
 9199 00000B26 315E                   M           ADDC    R5,R1
 9200                            2128             MAX_MIN8B       DT_REGH=R1,DT_REGL=R2,WKRG1=R0,WKRG2=R4,                ;
 9201                            2129     +                       MAX_H=_CALC_PLS_PMAX_H32,MAX_L=_CALC_PLS_PMAX_L32,      ;
 9202                            2130     +                       MIN_H=_CALC_PLS_MMIN_H32,MIN_L=_CALC_PLS_MMIN_L32       ;
 9203 00000B28 0008                   M           CLRT
 9204 00000B2A D00B                   M           MOV.L   #_CALC_PLS_PMAX_L32,R0
 9205 00000B2C 302A                   M           SUBC    R2,R0           ;
 9206 00000B2E D00B                   M           MOV.L   #_CALC_PLS_PMAX_H32,R0
 9207 00000B30 301A                   M           SUBC    R1,R0           ;
 9208 00000B32 4011                   M           CMP/PZ  R0                      ;
 9209 00000B34 8901                   M           BT      JMP0100003                      ;DATA=<MAX
 9210 00000B36 D208                   M           MOV.L   #_CALC_PLS_PMAX_L32,R2  ;data >= max
 9211 00000B38 D108                   M           MOV.L   #_CALC_PLS_PMAX_H32,R1  ;LIMIT
 9212 00000B3A                        M   JMP0100003                                      ;
 9213 00000B3A 0008                   M           CLRT
 9214 00000B3C D008                   M           MOV.L   #_CALC_PLS_MMIN_L32,R0          ;
 9215 00000B3E 302A                   M           SUBC    R2,R0           ;
 9216 00000B40 D408                   M           MOV.L   #_CALC_PLS_MMIN_H32,R4          ;
 9217 00000B42 341A                   M           SUBC    R1,R4           ;
 9218 00000B44 4415                   M           CMP/PL  R4                      ;
 9219 00000B46 8B04                   M           BF      JMP0200003                      ;"-" R3 < 0 THEN OK!
 9220 00000B48 240B                   M           OR      R0,R4           ;
 9221 00000B4A 2448                   M           TST     R4,R4           ;
 9222                                 M           TST_BIT_OF JMP0200003           ;
 9223 00000B4C 8901                   M           BT      JMP0200003
 9224 00000B4E D204                   M           MOV.L   #_CALC_PLS_MMIN_L32,R2  ;data < min
 9225 00000B50 D104                   M           MOV.L   #_CALC_PLS_MMIN_H32,R1  ;LIMIT
 9226 00000B52                        M   JMP0200003:
 9227                            2131             SUB_END
 9228                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9229 00000B52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9230                            2132             M_RTS
 9231 00000B54 000B                   M           RTS                             ;RTSの後ろの
 9232 00000B56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9233                            2133     
 9234                            2134     
 9235                            2135     ;       ***********************************
 9236                            2136     ;       ***                             ***
 9237                            2137     ;       ***     最大正転値・最小値      ***
 9238                            2138     ;       ***                             ***
 9239                            2139     ;       ***********************************
 9240                            2140     ;       Input R0 BIT0=0正転 BIT0=1逆転
 9241                                     ***** BEGIN-POOL *****
 9242 00000B58 FFFFFFFF                   DATA FOR SOURCE-LINE 2128,2128
 9243 00000B5C 3FFFFFFF                   DATA FOR SOURCE-LINE 2128,2128
 9244 00000B60 00000001                   DATA FOR SOURCE-LINE 2128,2128
 9245 00000B64 C0000000                   DATA FOR SOURCE-LINE 2128,2128
 9246                                     ***** END-POOL *****
 9247 00000B68                   2141             .ALIGN  4                               ;
 9248 00000B68                   2142     _LINK_P_M_MAX:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    56
PROGRAM NAME =

 9249                            2143             SUB_START
 9250 00000B68 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9251                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9252                            2144     
 9253 00000B6A D106              2145             MOV.L   #_CALC_PLS_PMAX_H32,R1  ;
 9254 00000B6C D206              2146             MOV.L   #_CALC_PLS_PMAX_L32,R2  ;
 9255                            2147     
 9256 00000B6E C801              2148             TST     #BIT0,R0                ;
 9257                            2149             TST_BIT_OF LINK_PM_MX50
 9258 00000B70 8901                   M           BT      LINK_PM_MX50
 9259 00000B72 D106              2150             MOV.L   #_CALC_PLS_MMIN_H32,R1  ;
 9260 00000B74 D206              2151             MOV.L   #_CALC_PLS_MMIN_L32,R2  ;
 9261                            2152     
 9262 00000B76                   2153     LINK_PM_MX50:                   ;
 9263 00000B76 D407              2154             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
 9264 00000B78 2412              2155             MOV.L   R1,@R4                          ;
 9265 00000B7A 1421              2156             MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
 9266                            2157             SUB_END
 9267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9268 00000B7C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9269                            2158             M_RTS
 9270 00000B7E 000B                   M           RTS                             ;RTSの後ろの
 9271 00000B80 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9272                            2159     
 9273                            2160     ;       ***************************************************
 9274                            2161     ;       ***                                             ***
 9275                            2162     ;       ***     はじめから待機点目標位置への位置決め    ***
 9276                            2163     ;       ***     2004-05-24(ﾒｲﾝ側での目標位置作成)       ***
 9277                            2164     ;       ***                                             ***
 9278                            2165     ;       ***************************************************
 9279                                     ***** BEGIN-POOL *****
 9280 00000B82 0000                       ALIGNMENT CODE
 9281 00000B84 3FFFFFFF                   DATA FOR SOURCE-LINE 2145
 9282 00000B88 FFFFFFFF                   DATA FOR SOURCE-LINE 2146
 9283 00000B8C C0000000                   DATA FOR SOURCE-LINE 2150
 9284 00000B90 00000001                   DATA FOR SOURCE-LINE 2151
 9285 00000B94 00000000                   DATA FOR SOURCE-LINE 2154
 9286                                     ***** END-POOL *****
 9287 00000B98                   2166             .ALIGN  4                               ;
 9288 00000B98                   2167     _ORGIN_OBJ_POS_CTRL_ST1:                        ;
 9289                            2168             SUB_START
 9290 00000B98 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9291                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9292 00000B9A D109              2169             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9293 00000B9C 900C              2170             MOV.W   #BIT0,R0                        ;
 9294 00000B9E 2101              2171             MOV.W   R0,@R1                          ;
 9295                            2172     
 9296 00000BA0 D108              2173             MOV.L   #_CB_SEQ_CB_COM346,R1           ;2004-07-01
 9297 00000BA2 6011              2174             MOV.W   @R1,R0                          ;
 9298 00000BA4 9109              2175             MOV.W   #BIT14,R1                       ;
 9299 00000BA6 2018              2176             TST     R1,R0                           ;
 9300                            2177             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_100     ;BIT14=0 自動判別
 9301 00000BA8 8910                   M           BT      ORGIN_OBJ_POS_CTLST1_100
 9302                            2178     
 9303 00000BAA 9107              2179             MOV.W   #BIT13,R1                       ;
 9304 00000BAC 2019              2180             AND     R1,R0
 9305                            2181             FAR_JSR #_LINK_DIR_OBJMAK3,R1           ;Input R0 R0==0/R0!=0(BIT13)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    57
PROGRAM NAME =

 9306 00000BAE D106                   M           MOV.L   #_LINK_DIR_OBJMAK3,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9307 00000BB0 410B                   M           JSR     @R1                     ;
 9308 00000BB2 0009                   M           NOP                                     ;
 9309                            2182             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9310 00000BB4 A01B                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9311 00000BB6 0009                   M           NOP
 9312                            2183     
 9313                            2184     
 9314                                     ***** BEGIN-POOL *****
 9315 00000BB8 0001                       DATA FOR SOURCE-LINE 2170
 9316 00000BBA 4000                       DATA FOR SOURCE-LINE 2175
 9317 00000BBC 2000                       DATA FOR SOURCE-LINE 2179
 9318 00000BBE 0000                       ALIGNMENT CODE
 9319 00000BC0 00000000                   DATA FOR SOURCE-LINE 2169
 9320 00000BC4 00000000                   DATA FOR SOURCE-LINE 2173
 9321 00000BC8 00000000                   DATA FOR SOURCE-LINE 2181
 9322                                     ***** END-POOL *****
 9323 00000BCC                   2185     ORGIN_OBJ_POS_CTLST1_100:
 9324                            2186     ;       --------- 2014-09-18-------------
 9325 00000BCC D104              2187             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 9326 00000BCE 6011              2188             MOV.W   @R1,R0                          ;
 9327 00000BD0 C804              2189             TST     #(_DMATH_DNDRIV),R0             ;
 9328                            2190             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_150     ;ふりこ以外
 9329 00000BD2 8909                   M           BT      ORGIN_OBJ_POS_CTLST1_150
 9330                            2191     
 9331                            2192     ;       -------- ふりこ範囲確認--------------
 9332                            2193     ;       待機点+0~181までは右半球
 9333                            2194             FAR_JSR #_LINK_UPPLS_DNDRIV,R0          ;
 9334 00000BD4 D003                   M           MOV.L   #_LINK_UPPLS_DNDRIV,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9335 00000BD6 400B                   M           JSR     @R0                     ;
 9336 00000BD8 0009                   M           NOP                                     ;
 9337                            2195             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9338 00000BDA A008                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9339 00000BDC 0009                   M           NOP
 9340                            2196     
 9341                            2197     
 9342                            2198     
 9343                            2199     
 9344                                     ***** BEGIN-POOL *****
 9345 00000BDE 0000                       ALIGNMENT CODE
 9346 00000BE0 00000000                   DATA FOR SOURCE-LINE 2187
 9347 00000BE4 00000000                   DATA FOR SOURCE-LINE 2194
 9348                                     ***** END-POOL *****
 9349 00000BE8                   2200     ORGIN_OBJ_POS_CTLST1_150:
 9350                            2201             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;自動で方向判別(2004-05-24)
 9351 00000BE8 D005                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9352 00000BEA 400B                   M           JSR     @R0                     ;
 9353 00000BEC 0009                   M           NOP                                     ;
 9354 00000BEE                   2202     ORGIN_OBJ_POS_CTLST1_200:                       ;
 9355                            2203     
 9356                            2204     
 9357                            2205             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 9358 00000BEE D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9359 00000BF0 440B                   M           JSR     @R4                     ;
 9360 00000BF2 0009                   M           NOP                                     ;
 9361                            2206             FAR_JSR #_ORG_END_SIG_CLR,R0            ;206.4 OFF
 9362 00000BF4 D004                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    58
PROGRAM NAME =

 9363 00000BF6 400B                   M           JSR     @R0                     ;
 9364 00000BF8 0009                   M           NOP                                     ;
 9365                            2207     
 9366                            2208             SUB_END
 9367                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9368 00000BFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9369                            2209             M_RTS
 9370 00000BFC 000B                   M           RTS                             ;RTSの後ろの
 9371 00000BFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9372                            2210     
 9373                                     ***** BEGIN-POOL *****
 9374 00000C00 00000000                   DATA FOR SOURCE-LINE 2201
 9375 00000C04 00000000                   DATA FOR SOURCE-LINE 2205
 9376 00000C08 00000000                   DATA FOR SOURCE-LINE 2206
 9377                                     ***** END-POOL *****
 9378 00000C0C                   2211             .ALIGN  4                               ;
 9379 00000C0C                   2212     _ORGIN_OBJ_POS_CTRL_ST2:                                ;
 9380                            2213             SUB_START
 9381 00000C0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9382                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9383 00000C0E D105              2214             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9384 00000C10 6011              2215             MOV.W   @R1,R0                          ;
 9385 00000C12 C801              2216             TST     #BIT0,R0                        ;
 9386                            2217             TST_BIT_OF ORGIN_OBJ_POSCTLST2_EXT      ;(待機点位置決め中 NO! JUMP)
 9387 00000C14 8903                   M           BT      ORGIN_OBJ_POSCTLST2_EXT
 9388                            2218     
 9389 00000C16 D104              2219             MOV.L   #_INT_DND_CTL_STEP,R1           ;
 9390 00000C18 6011              2220             MOV.W   @R1,R0                          ;
 9391 00000C1A CB02              2221             OR      #BIT1,R0                        ;
 9392 00000C1C 2101              2222             MOV.W   R0,@R1                          ;
 9393                            2223     
 9394 00000C1E                   2224     ORGIN_OBJ_POSCTLST2_EXT                         ;
 9395                            2225     
 9396                            2226             SUB_END
 9397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9398 00000C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9399                            2227             M_RTS
 9400 00000C20 000B                   M           RTS                             ;RTSの後ろの
 9401 00000C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9402                            2228     
 9403                            2229     
 9404                            2230     
 9405                            2231     ;       ***************************************************
 9406                            2232     ;       ***                                             ***
 9407                            2233     ;       ***                                             ***
 9408                            2234     ;       ***                                             ***
 9409                            2235     ;       ***                                             ***
 9410                            2236     ;       ***             位置決め200usec割込             ***
 9411                            2237     ;       ***             1msecでも可能                   ***
 9412                            2238     ;       ***                                             ***
 9413                            2239     ;       ***                                             ***
 9414                            2240     ;       ***                                             ***
 9415                            2241     ;       ***                                             ***
 9416                            2242     ;       ***************************************************
 9417                            2243     ;       停止ﾀｲﾏの処理・多段全てを行う
 9418                            2244     ;       即停止状態
 9419                            2245     ;       ここではﾊﾟﾙｽの払出しﾊﾟﾙｽの積算は行う
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    59
PROGRAM NAME =

 9420                            2246     ;       _INT_POS_CTL_FLAG
 9421                            2247     ;               0000,0000:IDEL()
 9422                            2248     ;                       BIT0:(INITAL完了)
 9423                            2249     ;                             BIT0=1で払いﾃﾞｰﾀ作成,起動中
 9424                            2250     ;                       BIT2:減速停止ﾗｯﾁ(払出停止待ち)
 9425                            2251     ;                       BIT3:急停止ﾗｯﾁ(払出停止待ち)
 9426                            2252     ;                       BIT4:
 9427                            2253     ;                       BIT6:位置決め完了(ﾆｱｾﾞﾛ)--->IDELへ
 9428                            2254     ;
 9429                            2255     ;       S2b     INT_POS_STEP_FLG(ｽﾃｯﾌﾟ,段取共通);
 9430                            2256     ;                               BIT0:1ｽﾃｯﾌﾟﾃﾞｰﾀ作成完了 :
 9431                            2257     ;                               BIT1:払い出し開始       :
 9432                            2258     ;                               BIT2:
 9433                            2259     ;                               BIT3:ﾀｲﾏ測定中
 9434                            2260     ;                               BIT4:完了
 9435                                     ***** BEGIN-POOL *****
 9436 00000C24 00000000                   DATA FOR SOURCE-LINE 2214
 9437 00000C28 00000000                   DATA FOR SOURCE-LINE 2219
 9438                                     ***** END-POOL *****
 9439 00000C2C                   2261             .ALIGN  4                               ;
 9440 00000C2C                   2262     _INT_POS_CTRL:
 9441                            2263             SUB_START
 9442 00000C2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9444                            2264     
 9445                            2265             FAR_JSR #_ERR_INFO_DT_IN0,R0    ;
 9446 00000C2E D006                   M           MOV.L   #_ERR_INFO_DT_IN0,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9447 00000C30 400B                   M           JSR     @R0                     ;
 9448 00000C32 0009                   M           NOP                                     ;
 9449                            2266     
 9450                            2267     ;-------------------[2015-04-08]---------------
 9451                            2268             FAR_JSR #_ENDHAND_WAIT_TIMCNT,R0        ;
 9452 00000C34 D005                   M           MOV.L   #_ENDHAND_WAIT_TIMCNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9453 00000C36 400B                   M           JSR     @R0                     ;
 9454 00000C38 0009                   M           NOP                                     ;
 9455                            2269     
 9456 00000C3A D105              2270             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 9457 00000C3C 6011              2271             MOV.W   @R1,R0                  ;
 9458 00000C3E 2008              2272             TST     R0,R0                   ;
 9459                            2273             TST_BIT_OF INT_POSCTL_CHK00     ;
 9460 00000C40 8908                   M           BT      INT_POSCTL_CHK00
 9461                            2274             M_BRA   INT_POSCTL_0910         ;
 9462 00000C42 A224                   M           BRA     INT_POSCTL_0910
 9463 00000C44 0009                   M           NOP
 9464                            2275     
 9465                            2276     
 9466                                     ***** BEGIN-POOL *****
 9467 00000C46 0000                       ALIGNMENT CODE
 9468 00000C48 00000000                   DATA FOR SOURCE-LINE 2265
 9469 00000C4C 00000000                   DATA FOR SOURCE-LINE 2268
 9470 00000C50 00000000                   DATA FOR SOURCE-LINE 2270
 9471                                     ***** END-POOL *****
 9472 00000C54                   2277     INT_POSCTL_CHK00:
 9473                            2278     
 9474                            2279     ;       ------- 2010-08-20[制動モード]
 9475 00000C54 D104              2280             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 9476 00000C56 6011              2281             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    60
PROGRAM NAME =

 9477 00000C58 C801              2282             TST     #BIT0,R0                ;
 9478                            2283             TST_BIT_OF INT_POSCTL_CHK10     ;
 9479 00000C5A 8909                   M           BT      INT_POSCTL_CHK10
 9480                            2284     
 9481                            2285             FAR_JSR #_BRKTST_POS_CTL,R0     ;
 9482 00000C5C D003                   M           MOV.L   #_BRKTST_POS_CTL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9483 00000C5E 400B                   M           JSR     @R0                     ;
 9484 00000C60 0009                   M           NOP                                     ;
 9485                            2286     
 9486                            2287             M_BRA   INT_POSCTL_0910         ;
 9487 00000C62 A214                   M           BRA     INT_POSCTL_0910
 9488 00000C64 0009                   M           NOP
 9489                            2288     
 9490                                     ***** BEGIN-POOL *****
 9491 00000C66 0000                       ALIGNMENT CODE
 9492 00000C68 00000000                   DATA FOR SOURCE-LINE 2280
 9493 00000C6C 00000000                   DATA FOR SOURCE-LINE 2285
 9494                                     ***** END-POOL *****
 9495 00000C70                   2289     INT_POSCTL_CHK10:
 9496                            2290     
 9497                            2291     
 9498                            2292     
 9499                            2293     
 9500                            2294     
 9501                            2295             FAR_JSR #_GAMEN_OVER_RIDE,R0            ;MAIN LOOP DATA 1 CHECK
 9502 00000C70 D00D                   M           MOV.L   #_GAMEN_OVER_RIDE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9503 00000C72 400B                   M           JSR     @R0                     ;
 9504 00000C74 0009                   M           NOP                                     ;
 9505                            2296             FAR_JSR #_OVER_LIDE_SEQREF,R0           ;SEQ       DATA 1 CHKEAK
 9506 00000C76 D00D                   M           MOV.L   #_OVER_LIDE_SEQREF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9507 00000C78 400B                   M           JSR     @R0                     ;
 9508 00000C7A 0009                   M           NOP                                     ;
 9509                            2297             FAR_JSR #_SET_OVER_RIDE,R0              ;
 9510 00000C7C D00C                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9511 00000C7E 400B                   M           JSR     @R0                     ;
 9512 00000C80 0009                   M           NOP                                     ;
 9513                            2298     
 9514                            2299     ;;      --------- 2006-10-16---
 9515                            2300     ;;      MOV.L   #_OVER_RIDE_USEFUL,R1
 9516                            2301     ;;      MOV.W   @R1,R0
 9517                            2302     ;;      TST     #BIT0,R0
 9518                            2303     ;;      TST_BIT_OF OVERRIDE_CHG050
 9519                            2304     ;;      FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;速度ﾘｱﾙﾀｲﾑ
 9520                            2305     ;;OVERRIDE_CHG050
 9521                            2306     
 9522                            2307     
 9523                            2308     
 9524                            2309     
 9525                            2310     ;       ------------------------------------------
 9526                            2311     ;       ------ 2010-10-07 ------------------------
 9527                            2312     ;       ------------------------------------------
 9528                            2313     ;       -----ふりこの場合待機点でのみ速度反映 ----
 9529                            2314             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
 9530 00000C82 D00C                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9531 00000C84 400B                   M           JSR     @R0                     ;
 9532 00000C86 0009                   M           NOP                                     ;
 9533 00000C88 2008              2315             TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    61
PROGRAM NAME =

 9534                            2316             TST_BIT_ON OVERRIDE_CHG050              ;ふりこだ!
 9535 00000C8A 8B06                   M           BF      OVERRIDE_CHG050
 9536                            2317     ;       ---------------------------------------
 9537                            2318     
 9538                            2319     
 9539 00000C8C D10A              2320             MOV.L   #_OVER_RIDE_USEFUL,R1
 9540 00000C8E 6011              2321             MOV.W   @R1,R0
 9541 00000C90 C803              2322             TST     #(BIT1+BIT0),R0                 ;SEQ
 9542                            2323             TST_BIT_OF OVERRIDE_CHG050
 9543 00000C92 8902                   M           BT      OVERRIDE_CHG050
 9544                            2324     
 9545                            2325             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
 9546 00000C94 D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9547 00000C96 400B                   M           JSR     @R0                     ;
 9548 00000C98 0009                   M           NOP                                     ;
 9549                            2326     
 9550 00000C9A                   2327     OVERRIDE_CHG050
 9551                            2328     
 9552                            2329     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
 9553                            2330     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
 9554                            2331     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
 9555                            2332     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
 9556                            2333     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
 9557                            2334     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;（段取でもある)
 9558                            2335     ;;;;;;;;;;;;;
 9559                            2336     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0                 ;
 9560                            2337     ;;;;;;;;;;;;;   TST     R0,R0
 9561                            2338     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;
 9562                            2339     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND100                   ;
 9563                            2340     ;;;;;;;;;;;;;FORCE_STEPEND_HAND100EXT
 9564                            2341     
 9565                            2342     
 9566                            2343     
 9567 00000C9A D509              2344             MOV.L   #_INT_CYC_DRV_STS,R5            ;//BIT0:CYCLE　END()
 9568 00000C9C 6051              2345             MOV.W   @R5,R0                          ;
 9569 00000C9E C840              2346             TST     #BIT6,R0                        ;位置決め完了?
 9570                            2347             TST_BIT_OF INT_POSCTL_0020              ;
 9571 00000CA0 8910                   M           BT      INT_POSCTL_0020
 9572                            2348             M_BRA   INT_POSCTL_0700
 9573 00000CA2 A1DB                   M           BRA     INT_POSCTL_0700
 9574 00000CA4 0009                   M           NOP
 9575                            2349     
 9576                                     ***** BEGIN-POOL *****
 9577 00000CA6 0000                       ALIGNMENT CODE
 9578 00000CA8 00000000                   DATA FOR SOURCE-LINE 2295
 9579 00000CAC 00000000                   DATA FOR SOURCE-LINE 2296
 9580 00000CB0 00000000                   DATA FOR SOURCE-LINE 2297
 9581 00000CB4 00000000                   DATA FOR SOURCE-LINE 2314
 9582 00000CB8 00000000                   DATA FOR SOURCE-LINE 2320
 9583 00000CBC 00000000                   DATA FOR SOURCE-LINE 2325
 9584 00000CC0 00000000                   DATA FOR SOURCE-LINE 2344
 9585                                     ***** END-POOL *****
 9586 00000CC4                   2350     INT_POSCTL_0020:
 9587 00000CC4 D502              2351             MOV.L   #_INT_POS_CTL_FLAG,R5           ;
 9588 00000CC6 6051              2352             MOV.W   @R5,R0                          ;
 9589 00000CC8 C85C              2353             TST     #(BIT6+BIT4+BIT3+BIT2),R0       ;
 9590                            2354             TST_BIT_OF INT_POSCTL_0040              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    62
PROGRAM NAME =

 9591 00000CCA 8903                   M           BT      INT_POSCTL_0040
 9592                            2355             M_BRA   INT_POSCTL_0300                 ;
 9593 00000CCC A196                   M           BRA     INT_POSCTL_0300
 9594 00000CCE 0009                   M           NOP
 9595                            2356     
 9596                                     ***** BEGIN-POOL *****
 9597 00000CD0 00000000                   DATA FOR SOURCE-LINE 2351
 9598                                     ***** END-POOL *****
 9599 00000CD4                   2357     INT_POSCTL_0040:
 9600 00000CD4 C801              2358             TST     #BIT0,R0                ;
 9601                            2359             TST_BIT_OF INT_POSCTL_0045      ;
 9602 00000CD6 8901                   M           BT      INT_POSCTL_0045
 9603                            2360             M_BRA   INT_POSCTL_0200 ;起動処理 BIT0
 9604 00000CD8 A10A                   M           BRA     INT_POSCTL_0200
 9605 00000CDA 0009                   M           NOP
 9606 00000CDC                   2361     INT_POSCTL_0045:
 9607                            2362     
 9608                            2363     ;       ===================
 9609 00000CDC D603              2364             MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
 9610 00000CDE 6061              2365             MOV.W   @R6,R0                  ;
 9611 00000CE0 C907              2366             AND     #(BIT2+BIT1+BIT0),R0    ;
 9612 00000CE2 8801              2367             CMP/EQ  #BIT0,R0                ;
 9613 00000CE4 8904              2368             BT      INT_POSCTL_0048         ;001[起動]
 9614                            2369             M_BRA   INT_POSCTL_0190         ;EXIT
 9615 00000CE6 A0E4                   M           BRA     INT_POSCTL_0190
 9616 00000CE8 0009                   M           NOP
 9617                            2370     ;       ==== 通常の位置決め起動コマンド状態
 9618                                     ***** BEGIN-POOL *****
 9619 00000CEA 0000                       ALIGNMENT CODE
 9620 00000CEC 00000000                   DATA FOR SOURCE-LINE 2364
 9621                                     ***** END-POOL *****
 9622 00000CF0                   2371     INT_POSCTL_0048:
 9623                            2372     
 9624 00000CF0 222A              2373             XOR     R2,R2
 9625 00000CF2 D111              2374             MOV.L   #_INT_POS_STEP_FLG,R1   ;
 9626 00000CF4 2121              2375             MOV.W   R2,@R1                  ;
 9627 00000CF6 D111              2376             MOV.L   #_INT_DND_CTL_STEP,R1;
 9628 00000CF8 2121              2377             MOV.W   R2,@R1
 9629 00000CFA D111              2378             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 9630 00000CFC 2121              2379             MOV.W   R2,@R1                  ;
 9631                            2380     
 9632                            2381     ;       ===========================
 9633 00000CFE D111              2382             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
 9634 00000D00 2121              2383             MOV.W   R2,@R1                          ;
 9635                            2384     ;       ===========================
 9636                            2385     
 9637                            2386     
 9638                            2387     ;       -------- 2014-09-26 寸動--------------
 9639 00000D02 D111              2388             MOV.L   #_INC_RESET_USE_F,R1    ;//STEPを参照して!
 9640 00000D04 6011              2389             MOV.W   @R1,R0                  ;
 9641 00000D06 2008              2390             TST     R0,R0                   ;
 9642                            2391             TST_BIT_OF INT_POSCTL_0080      ;
 9643 00000D08 8906                   M           BT      INT_POSCTL_0080
 9644                            2392     
 9645 00000D0A D110              2393             MOV.L   #_INC_RESET_STEP,R1     ;
 9646 00000D0C 6411              2394             MOV.W   @R1,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    63
PROGRAM NAME =

 9647 00000D0E D110              2395             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
 9648 00000D10 2141              2396             MOV.W   R4,@R1                  ;
 9649                            2397     
 9650                            2398             FAR_JSR #_INC_RST_WORK_CLR,R0
 9651 00000D12 D010                   M           MOV.L   #_INC_RST_WORK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9652 00000D14 400B                   M           JSR     @R0                     ;
 9653 00000D16 0009                   M           NOP                                     ;
 9654                            2399     
 9655 00000D18                   2400     INT_POSCTL_0080
 9656                            2401     ;       ------ ﾓｰｼｮﾝ運転 --------
 9657 00000D18 D10D              2402             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
 9658 00000D1A 6411              2403             MOV.W   @R1,R4                  ;
 9659 00000D1C D20E              2404             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
 9660 00000D1E 2241              2405             MOV.W   R4,@R2                  ;
 9661                            2406     
 9662                            2407     
 9663                            2408     
 9664                            2409     
 9665                            2410     
 9666                            2411     
 9667                            2412     
 9668 00000D20                   2413     INT_POSCTL_0100:
 9669                            2414     ;       ===========================================
 9670                            2415     ;       ===             起動処理                ===
 9671                            2416     ;       ===========================================
 9672                            2417     ;;2002-09-05    FAR_JSR #_POS_LSI_START_INITAL,R0       ;
 9673                            2418     
 9674                            2419     ;       ----------- 2012-05-17 反転のタイマ継続処理CHK---------
 9675                            2420             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0                                     ;
 9676 00000D20 D00E                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9677 00000D22 400B                   M           JSR     @R0                     ;
 9678 00000D24 0009                   M           NOP                                     ;
 9679 00000D26 2008              2421             TST     R0,R0                                                           ;
 9680                            2422             TST_BIT_OF INT_POSCTL_0102                                              ;
 9681 00000D28 891C                   M           BT      INT_POSCTL_0102
 9682                            2423             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;必要があ
                                          ればここでつじつまあわせ
 9683 00000D2A D10D                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9684 00000D2C 6011                   M           MOV.W   @R1,R0          ;
 9685 00000D2E CB01                   M           OR      #BIT0,R0                ;
 9686 00000D30 2101                   M           MOV.W   R0,@R1          ;
 9687                            2424             M_BRA   INT_POSCTL_0190                                                 ;
 9688 00000D32 A0BE                   M           BRA     INT_POSCTL_0190
 9689 00000D34 0009                   M           NOP
 9690                                     ***** BEGIN-POOL *****
 9691 00000D36 0000                       ALIGNMENT CODE
 9692 00000D38 00000000                   DATA FOR SOURCE-LINE 2374
 9693 00000D3C 00000000                   DATA FOR SOURCE-LINE 2376
 9694 00000D40 00000000                   DATA FOR SOURCE-LINE 2378
 9695 00000D44 00000000                   DATA FOR SOURCE-LINE 2382
 9696 00000D48 00000000                   DATA FOR SOURCE-LINE 2388
 9697 00000D4C 00000000                   DATA FOR SOURCE-LINE 2393
 9698 00000D50 00000000                   DATA FOR SOURCE-LINE 2395,2402
 9699 00000D54 00000000                   DATA FOR SOURCE-LINE 2398
 9700 00000D58 00000000                   DATA FOR SOURCE-LINE 2404
 9701 00000D5C 00000000                   DATA FOR SOURCE-LINE 2420
 9702 00000D60 00000000                   DATA FOR SOURCE-LINE 2423
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    64
PROGRAM NAME =

 9703                                     ***** END-POOL *****
 9704 00000D64                   2425     INT_POSCTL_0102:
 9705                            2426     
 9706                            2427     
 9707                            2428     
 9708                            2429     
 9709 00000D64 D108              2430             MOV.L   #_MODE_SEL,R1                   ;
 9710 00000D66 6011              2431             MOV.W   @R1,R0                          ;
 9711 00000D68 C860              2432             TST     #(_W1DUP+_W1DIC),R0             ;
 9712                            2433             TST_BIT_ON INT_POSCTL_0120              ;
 9713 00000D6A 8B5B                   M           BF      INT_POSCTL_0120
 9714                            2434     
 9715                            2435     
 9716                            2436             .AIF    1 EQ 1
 9717 00000D6C D107              2437 C           MOV.L   #_START_FLG_AFTER_EMG,R1        ;???
 9718 00000D6E 9009              2438 C           MOV.W   #1,R0                           ;
 9719 00000D70 2101              2439 C           MOV.W   R0,@R1                          ;
 9720                            2440             .AENDI
 9721                            2441     
 9722                            2442     
 9723                            2443     ;       -------------繰り返し 2014-09-22 ---------------
 9724 00000D72 D107              2444             MOV.L   #_MOT_REP_F,R1                          ;
 9725 00000D74 6011              2445             MOV.W   @R1,R0                                  ;
 9726 00000D76 C801              2446             TST     #BIT0,R0                                ;
 9727                            2447             TST_BIT_OF INT_POSCTL_0102A                     ;
 9728 00000D78 890E                   M           BT      INT_POSCTL_0102A
 9729                            2448     
 9730                            2449     ;       -------- 繰り返しの待機点戻り工程--------------
 9731                            2450             FAR_JSR #_MOT_REPSTART_CALC,R0                  ;
 9732 00000D7A D006                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9733 00000D7C 400B                   M           JSR     @R0                     ;
 9734 00000D7E 0009                   M           NOP                                     ;
 9735                            2451             M_BRA   INT_POSCTL_0115
 9736 00000D80 A044                   M           BRA     INT_POSCTL_0115
 9737 00000D82 0009                   M           NOP
 9738                            2452     
 9739                            2453     
 9740                                     ***** BEGIN-POOL *****
 9741 00000D84 0001                       DATA FOR SOURCE-LINE 2438
 9742 00000D86 0000                       ALIGNMENT CODE
 9743 00000D88 00000000                   DATA FOR SOURCE-LINE 2430
 9744 00000D8C 00000000                   DATA FOR SOURCE-LINE 2437
 9745 00000D90 00000000                   DATA FOR SOURCE-LINE 2444
 9746 00000D94 00000000                   DATA FOR SOURCE-LINE 2450
 9747                                     ***** END-POOL *****
 9748 00000D98                   2454     INT_POSCTL_0102A:
 9749                            2455     
 9750 00000D98 D00C              2456             MOV.L   #_CPOS_CTL_MATH,R0                      ;
 9751 00000D9A 6001              2457             MOV.W   @R0,R0                                  ;
 9752 00000D9C C805              2458             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復[2011-03-23]
 9753                            2459             TST_BIT_OF INT_POSCTL_0110
 9754 00000D9E 892F                   M           BT      INT_POSCTL_0110
 9755                            2460     ;       ===== 回転時の起動===
 9756                            2461             FAR_JSR #_HIST_INFO_DT_IN1,R0           ;起動前の目標停止位置
 9757 00000DA0 D00B                   M           MOV.L   #_HIST_INFO_DT_IN1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9758 00000DA2 400B                   M           JSR     @R0                     ;
 9759 00000DA4 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    65
PROGRAM NAME =

 9760                            2462     
 9761                            2463             FAR_JSR #_POS_LSI_START_INITAL,R0       ;[本当にふりこはここを通していいのかな2011
                                          -03-23]
 9762 00000DA6 D00B                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9763 00000DA8 400B                   M           JSR     @R0                     ;
 9764 00000DAA 0009                   M           NOP                                     ;
 9765                            2464     
 9766                            2465             FAR_JSR #_ERR_INFO_DT_CHK1,R0           ;POS_LSI_START_INITALでｸﾘｱされるﾃﾞｰﾀが0か
                                          ？
 9767 00000DAC D00A                   M           MOV.L   #_ERR_INFO_DT_CHK1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9768 00000DAE 400B                   M           JSR     @R0                     ;
 9769 00000DB0 0009                   M           NOP                                     ;
 9770                            2466             FAR_JSR #_ERR_INFO_DT_IN1,R0            ;2004-01-28(今一)
 9771 00000DB2 D00A                   M           MOV.L   #_ERR_INFO_DT_IN1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9772 00000DB4 400B                   M           JSR     @R0                     ;
 9773 00000DB6 0009                   M           NOP                                     ;
 9774                            2467     
 9775 00000DB8 D109              2468             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
 9776 00000DBA 6011              2469             MOV.W   @R1,R0                          ;
 9777 00000DBC C801              2470             TST     #BIT0,R0                        ;
 9778                            2471             TST_BIT_ON INT_POSCTL_0103              ;上死停止有り
 9779 00000DBE 8B13                   M           BF      INT_POSCTL_0103
 9780                            2472     
 9781                            2473             FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<停止からの起動か実ﾊﾟﾙｽ
                                          から>
 9782 00000DC0 D008                   M           MOV.L   #_POS_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9783 00000DC2 400B                   M           JSR     @R0                     ;
 9784 00000DC4 0009                   M           NOP                                     ;
 9785                            2474     
 9786                            2475             M_BRA   INT_POSCTL_0105
 9787 00000DC6 A012                   M           BRA     INT_POSCTL_0105
 9788 00000DC8 0009                   M           NOP
 9789                                     ***** BEGIN-POOL *****
 9790 00000DCA 0000                       ALIGNMENT CODE
 9791 00000DCC 00000000                   DATA FOR SOURCE-LINE 2456
 9792 00000DD0 00000000                   DATA FOR SOURCE-LINE 2461
 9793 00000DD4 00000000                   DATA FOR SOURCE-LINE 2463
 9794 00000DD8 00000000                   DATA FOR SOURCE-LINE 2465
 9795 00000DDC 00000000                   DATA FOR SOURCE-LINE 2466
 9796 00000DE0 00000000                   DATA FOR SOURCE-LINE 2468
 9797 00000DE4 00000000                   DATA FOR SOURCE-LINE 2473
 9798                                     ***** END-POOL *****
 9799 00000DE8                   2476     INT_POSCTL_0103:                                ;上死停止なし
 9800                            2477             FAR_JSR #_POS_CNT_BANK_DTMAK1,R0        ;これは必ずSVから演算(2004-12-20)もう１回
                                          転先になる
 9801 00000DE8 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9802 00000DEA 400B                   M           JSR     @R0                     ;
 9803 00000DEC 0009                   M           NOP                                     ;
 9804                            2478     
 9805 00000DEE                   2479     INT_POSCTL_0105:
 9806                            2480     
 9807                            2481             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-28(data-smp-only)
 9808 00000DEE D003                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9809 00000DF0 400B                   M           JSR     @R0                     ;
 9810 00000DF2 0009                   M           NOP                                     ;
 9811                            2482             M_BRA   INT_POSCTL_0115                 ;
 9812 00000DF4 A00A                   M           BRA     INT_POSCTL_0115
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    66
PROGRAM NAME =

 9813 00000DF6 0009                   M           NOP
 9814                            2483     
 9815                                     ***** BEGIN-POOL *****
 9816 00000DF8 00000000                   DATA FOR SOURCE-LINE 2477
 9817 00000DFC 00000000                   DATA FOR SOURCE-LINE 2481
 9818                                     ***** END-POOL *****
 9819 00000E00                   2484     INT_POSCTL_0110:
 9820                            2485     ;       ===== 反転時の起動===
 9821                            2486             FAR_JSR #_POS_LSI_START_INITL2,R0       ;
 9822 00000E00 D005                   M           MOV.L   #_POS_LSI_START_INITL2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9823 00000E02 400B                   M           JSR     @R0                     ;
 9824 00000E04 0009                   M           NOP                                     ;
 9825                            2487             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0      ;目標位置に対して少しパルスを減らす 2011-0
                                          2-19
 9826 00000E06 D005                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9827 00000E08 400B                   M           JSR     @R0                     ;
 9828 00000E0A 0009                   M           NOP                                     ;
 9829                            2488     
 9830                            2489     
 9831 00000E0C                   2490     INT_POSCTL_0115:
 9832                            2491             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12
 9833 00000E0C D004                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9834 00000E0E 400B                   M           JSR     @R0                     ;
 9835 00000E10 0009                   M           NOP                                     ;
 9836                            2492             M_BRA   INT_POSCTL_0140                 ;
 9837 00000E12 A029                   M           BRA     INT_POSCTL_0140
 9838 00000E14 0009                   M           NOP
 9839                            2493     
 9840                            2494     
 9841                            2495     ;       ------------段取、原点復帰、手動パルサ
 9842                                     ***** BEGIN-POOL *****
 9843 00000E16 0000                       ALIGNMENT CODE
 9844 00000E18 00000000                   DATA FOR SOURCE-LINE 2486
 9845 00000E1C 00000000                   DATA FOR SOURCE-LINE 2487
 9846 00000E20 00000000                   DATA FOR SOURCE-LINE 2491
 9847                                     ***** END-POOL *****
 9848 00000E24                   2496     INT_POSCTL_0120:                                ;
 9849                            2497     ;       ---------- 2006-07-28------
 9850 00000E24 D108              2498             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 9851 00000E26 6011              2499             MOV.W   @R1,R0                          ;
 9852 00000E28 2008              2500             TST     R0,R0                           ;
 9853                            2501             TST_BIT_OF INT_POSCTL_0130              ;
 9854 00000E2A 8917                   M           BT      INT_POSCTL_0130
 9855                            2502     ;;;;;   FAR_JSR #_POS_LSI_START_INITAL,R0       ;手動パルサ
 9856                            2503             FAR_JSR #_POS_LSI_START_INITAL_TEP,R0   ;2013-06-13
 9857 00000E2C D007                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9858 00000E2E 400B                   M           JSR     @R0                     ;
 9859 00000E30 0009                   M           NOP                                     ;
 9860 00000E32 D107              2504             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
 9861 00000E34 6212              2505             MOV.L   @R1,R2                          ;
 9862                            2506             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
 9863 00000E36 D107                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9864 00000E38 410B                   M           JSR     @R1                     ;
 9865 00000E3A 0009                   M           NOP                                     ;
 9866                            2507             FAR_JSR #_TEP_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
 9867 00000E3C D006                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9868 00000E3E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    67
PROGRAM NAME =

 9869 00000E40 0009                   M           NOP                                     ;
 9870                            2508             M_BRA   INT_POSCTL_0140                 ;
 9871 00000E42 A011                   M           BRA     INT_POSCTL_0140
 9872 00000E44 0009                   M           NOP
 9873                            2509     
 9874                                     ***** BEGIN-POOL *****
 9875 00000E46 0000                       ALIGNMENT CODE
 9876 00000E48 00000000                   DATA FOR SOURCE-LINE 2498
 9877 00000E4C 00000000                   DATA FOR SOURCE-LINE 2503
 9878 00000E50 00000000                   DATA FOR SOURCE-LINE 2504
 9879 00000E54 00000000                   DATA FOR SOURCE-LINE 2506
 9880 00000E58 00000000                   DATA FOR SOURCE-LINE 2507
 9881                                     ***** END-POOL *****
 9882 00000E5C                   2510     INT_POSCTL_0130:                                ;
 9883                            2511             FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
 9884 00000E5C D016                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9885 00000E5E 400B                   M           JSR     @R0                     ;
 9886 00000E60 0009                   M           NOP                                     ;
 9887                            2512             FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
 9888 00000E62 D016                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9889 00000E64 400B                   M           JSR     @R0                     ;
 9890 00000E66 0009                   M           NOP                                     ;
 9891                            2513     
 9892                            2514     
 9893 00000E68                   2515     INT_POSCTL_0140:                                ;
 9894                            2516             FAR_JSR #_POS_LENGTH_ADD_DATA,R0
 9895 00000E68 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9896 00000E6A 400B                   M           JSR     @R0                     ;
 9897 00000E6C 0009                   M           NOP                                     ;
 9898                            2517             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
 9899 00000E6E D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9900 00000E70 400B                   M           JSR     @R0                     ;
 9901 00000E72 0009                   M           NOP                                     ;
 9902                            2518     
 9903                            2519     ;;;;;   FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
 9904                            2520             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
 9905 00000E74 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9906 00000E76 400B                   M           JSR     @R0                     ;
 9907 00000E78 0009                   M           NOP                                     ;
 9908                            2521     
 9909                            2522     ;       == 2004-03 ===
 9910                            2523             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
 9911 00000E7A D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9912 00000E7C 400B                   M           JSR     @R0                     ;
 9913 00000E7E 0009                   M           NOP                                     ;
 9914 00000E80 9019              2524             MOV.W   #D'2,R0                 ;
 9915 00000E82 D113              2525             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
 9916 00000E84 2101              2526             MOV.W   R0,@R1                          ;
 9917                            2527     
 9918                            2528             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
 9919 00000E86 D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9920 00000E88 400B                   M           JSR     @R0                     ;
 9921 00000E8A 0009                   M           NOP                                     ;
 9922                            2529             FAR_JSR #_FWD_REV_START,R1              ;起動
 9923 00000E8C D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    68
PROGRAM NAME =

 9924 00000E8E 410B                   M           JSR     @R1                     ;
 9925 00000E90 0009                   M           NOP                                     ;
 9926                            2530     
 9927                            2531     ;       -------- 2010-09-27 ふりこ情報--------
 9928                            2532             FAR_JSR #_DNM_START_ACC_CALC,R0
 9929 00000E92 D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9930 00000E94 400B                   M           JSR     @R0                     ;
 9931 00000E96 0009                   M           NOP                                     ;
 9932                            2533     
 9933                            2534             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
 9934 00000E98 D111                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9935 00000E9A 6011                   M           MOV.W   @R1,R0          ;
 9936 00000E9C CB01                   M           OR      #BIT0,R0                ;
 9937 00000E9E 2101                   M           MOV.W   R0,@R1          ;
 9938                            2535     
 9939                            2536             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
 9940 00000EA0 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9941 00000EA2 400B                   M           JSR     @R0                     ;
 9942 00000EA4 0009                   M           NOP                                     ;
 9943                            2537     
 9944                            2538             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
 9945 00000EA6 D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9946 00000EA8 400B                   M           JSR     @R0                     ;
 9947 00000EAA 0009                   M           NOP                                     ;
 9948                            2539     
 9949                            2540     ;       ---------------- 起動 2011-09-01 -------------------
 9950                            2541             FAR_JSR #_UP_ACCERR_START_INI,R0
 9951 00000EAC D00F                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9952 00000EAE 400B                   M           JSR     @R0                     ;
 9953 00000EB0 0009                   M           NOP                                     ;
 9954                            2542     
 9955 00000EB2                   2543     INT_POSCTL_0190:
 9956                            2544             M_BRA   INT_POSCTL_0800                 ;
 9957 00000EB2 A0DC                   M           BRA     INT_POSCTL_0800
 9958 00000EB4 0009                   M           NOP
 9959                            2545     
 9960                                     ***** BEGIN-POOL *****
 9961 00000EB6 0002                       DATA FOR SOURCE-LINE 2524
 9962 00000EB8 00000000                   DATA FOR SOURCE-LINE 2511
 9963 00000EBC 00000000                   DATA FOR SOURCE-LINE 2512
 9964 00000EC0 00000000                   DATA FOR SOURCE-LINE 2516
 9965 00000EC4 00000000                   DATA FOR SOURCE-LINE 2517
 9966 00000EC8 00000000                   DATA FOR SOURCE-LINE 2520
 9967 00000ECC 00000000                   DATA FOR SOURCE-LINE 2523
 9968 00000ED0 00000000                   DATA FOR SOURCE-LINE 2525
 9969 00000ED4 00000000                   DATA FOR SOURCE-LINE 2528
 9970 00000ED8 00000000                   DATA FOR SOURCE-LINE 2529
 9971 00000EDC 00000000                   DATA FOR SOURCE-LINE 2532
 9972 00000EE0 00000000                   DATA FOR SOURCE-LINE 2534
 9973 00000EE4 00000000                   DATA FOR SOURCE-LINE 2536
 9974 00000EE8 00000000                   DATA FOR SOURCE-LINE 2538
 9975 00000EEC 00000000                   DATA FOR SOURCE-LINE 2541
 9976                                     ***** END-POOL *****
 9977 00000EF0                   2546     INT_POSCTL_0200:
 9978                            2547     ;       ===========================================
 9979                            2548     ;       ===                                     ===
 9980                            2549     ;       ===             起動中                  ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    69
PROGRAM NAME =

 9981                            2550     ;       ===                                     ===
 9982                            2551     ;       ===========================================
 9983 00000EF0 D609              2552             MOV.L   #_MNWR_POS_CMD,R6                                               ;
 9984 00000EF2 6061              2553             MOV.W   @R6,R0                                                          ;
 9985 00000EF4 2008              2554             TST     R0,R0                                                           ;ﾊﾟﾙｽ払出
                                          即停止
 9986                            2555             TST_BIT_ON INT_POSCTL_0220                                              ;
 9987 00000EF6 8B19                   M           BF      INT_POSCTL_0220
 9988                            2556             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
 9989 00000EF8 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9990 00000EFA 6011                   M           MOV.W   @R1,R0          ;
 9991 00000EFC CB08                   M           OR      #BIT3,R0                ;
 9992 00000EFE 2101                   M           MOV.W   R0,@R1          ;
 9993                            2557             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
 9994 00000F00 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9995 00000F02 400B                   M           JSR     @R0                     ;
 9996 00000F04 0009                   M           NOP                                     ;
 9997                            2558             FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
 9998 00000F06 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9999 00000F08 400B                   M           JSR     @R0                     ;
10000 00000F0A 0009                   M           NOP                                     ;
10001                            2559             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10002 00000F0C D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10003 00000F0E 400B                   M           JSR     @R0                     ;
10004 00000F10 0009                   M           NOP                                     ;
10005                            2560             M_BRA   INT_POSCTL_0800                                                 ;
10006 00000F12 A0AC                   M           BRA     INT_POSCTL_0800
10007 00000F14 0009                   M           NOP
10008                            2561     
10009                                     ***** BEGIN-POOL *****
10010 00000F16 0000                       ALIGNMENT CODE
10011 00000F18 00000000                   DATA FOR SOURCE-LINE 2552
10012 00000F1C 00000000                   DATA FOR SOURCE-LINE 2556
10013 00000F20 00000000                   DATA FOR SOURCE-LINE 2557
10014 00000F24 00000000                   DATA FOR SOURCE-LINE 2558
10015 00000F28 00000000                   DATA FOR SOURCE-LINE 2559
10016                                     ***** END-POOL *****
10017 00000F2C                   2562     INT_POSCTL_0220:                                                                ;
10018 00000F2C C802              2563             TST     #BIT1,R0                                                        ;減速停止ｺ
                                          ﾏﾝﾄﾞ
10019                            2564             TST_BIT_OF INT_POSCTL_0240                                              ;
10020 00000F2E 8917                   M           BT      INT_POSCTL_0240
10021                            2565             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT2,WKREG=R1    ;
10022 00000F30 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10023 00000F32 6011                   M           MOV.W   @R1,R0          ;
10024 00000F34 CB04                   M           OR      #BIT2,R0                ;
10025 00000F36 2101                   M           MOV.W   R0,@R1          ;
10026                            2566             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10027 00000F38 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10028 00000F3A 400B                   M           JSR     @R0                     ;
10029 00000F3C 0009                   M           NOP                                     ;
10030                            2567             FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
10031 00000F3E D006                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10032 00000F40 400B                   M           JSR     @R0                     ;
10033 00000F42 0009                   M           NOP                                     ;
10034                            2568             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    70
PROGRAM NAME =

                                          3
10035 00000F44 D005                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10036 00000F46 400B                   M           JSR     @R0                     ;
10037 00000F48 0009                   M           NOP                                     ;
10038                            2569             M_BRA   INT_POSCTL_0800                                                 ;
10039 00000F4A A090                   M           BRA     INT_POSCTL_0800
10040 00000F4C 0009                   M           NOP
10041                            2570     
10042                                     ***** BEGIN-POOL *****
10043 00000F4E 0000                       ALIGNMENT CODE
10044 00000F50 00000000                   DATA FOR SOURCE-LINE 2565
10045 00000F54 00000000                   DATA FOR SOURCE-LINE 2566
10046 00000F58 00000000                   DATA FOR SOURCE-LINE 2567
10047 00000F5C 00000000                   DATA FOR SOURCE-LINE 2568
10048                                     ***** END-POOL *****
10049 00000F60                   2571     INT_POSCTL_0240:
10050                            2572     ;       ==========(位置決め完了・継続) ==========
10051 00000F60 D109              2573             MOV.L   #_INT_POS_STEP_FLG,R1                                           ;//ｽﾃｯﾌﾟ,
                                          段取り共通
10052 00000F62 6011              2574             MOV.W   @R1,R0                                                          ;
10053 00000F64 C840              2575             TST     #BIT6,R0                                                        ;工程終了
10054                            2576             TST_BIT_OF INT_POSCTL_0250                                              ;
10055 00000F66 8919                   M           BT      INT_POSCTL_0250
10056                            2577             FAR_JSR #_CYC_END_POS_FLG_SET,R0                                        ;
10057 00000F68 D008                   M           MOV.L   #_CYC_END_POS_FLG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10058 00000F6A 400B                   M           JSR     @R0                     ;
10059 00000F6C 0009                   M           NOP                                     ;
10060                            2578             FAR_JSR #_CYC_END_POS_FLG_CLR,R0                                        ;
10061 00000F6E D008                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10062 00000F70 400B                   M           JSR     @R0                     ;
10063 00000F72 0009                   M           NOP                                     ;
10064                            2579     
10065                            2580              .AIF   1 EQ 1  ;
10066                            2581 C   ;       -------- 2016-10-31 ADD 二重回路対策
10067                            2582              .AENDI
10068                            2583     ;       ---------2016-06-13[3]
10069                            2584             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
10070 00000F74 D007                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10071 00000F76 400B                   M           JSR     @R0                     ;
10072 00000F78 0009                   M           NOP                                     ;
10073                            2585     
10074                            2586             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10075 00000F7A D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10076 00000F7C 6011                   M           MOV.W   @R1,R0          ;
10077 00000F7E CB40                   M           OR      #BIT6,R0                ;
10078 00000F80 2101                   M           MOV.W   R0,@R1          ;
10079                            2587             M_BRA   INT_POSCTL_0800                                                 ;
10080 00000F82 A074                   M           BRA     INT_POSCTL_0800
10081 00000F84 0009                   M           NOP
10082                            2588     
10083                            2589     
10084                                     ***** BEGIN-POOL *****
10085 00000F86 0000                       ALIGNMENT CODE
10086 00000F88 00000000                   DATA FOR SOURCE-LINE 2573
10087 00000F8C 00000000                   DATA FOR SOURCE-LINE 2577
10088 00000F90 00000000                   DATA FOR SOURCE-LINE 2578
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    71
PROGRAM NAME =

10089 00000F94 00000000                   DATA FOR SOURCE-LINE 2584
10090 00000F98 00000000                   DATA FOR SOURCE-LINE 2586
10091                                     ***** END-POOL *****
10092 00000F9C                   2590     INT_POSCTL_0250:
10093 00000F9C D105              2591             MOV.L   #_MODE_SEL,R1                   ;
10094 00000F9E 6011              2592             MOV.W   @R1,R0                          ;
10095 00000FA0 C820              2593             TST     #_W1DIC,R0                      ;
10096                            2594             TST_BIT_ON INT_POSCTL_0260              ;段取
10097 00000FA2 8B0B                   M           BF      INT_POSCTL_0260
10098                            2595     
10099 00000FA4 C840              2596             TST     #_W1DUP,R0                      ;
10100                            2597             TST_BIT_ON INT_POSCTL_0260              ;待機点復帰
10101 00000FA6 8B09                   M           BF      INT_POSCTL_0260
10102                            2598     
10103                            2599     
10104                            2600             FAR_JSR #_POS_ALL_STEP_CTRL,R0          ;ﾓｰｼｮﾝ
10105 00000FA8 D003                   M           MOV.L   #_POS_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10106 00000FAA 400B                   M           JSR     @R0                     ;
10107 00000FAC 0009                   M           NOP                                     ;
10108                            2601     
10109                            2602             M_BRA   INT_POSCTL_0280                 ;
10110 00000FAE A008                   M           BRA     INT_POSCTL_0280
10111 00000FB0 0009                   M           NOP
10112                            2603     
10113                                     ***** BEGIN-POOL *****
10114 00000FB2 0000                       ALIGNMENT CODE
10115 00000FB4 00000000                   DATA FOR SOURCE-LINE 2591
10116 00000FB8 00000000                   DATA FOR SOURCE-LINE 2600
10117                                     ***** END-POOL *****
10118 00000FBC                   2604     INT_POSCTL_0260:                                ;
10119                            2605             FAR_JSR #_DND_ALL_STEP_CTRL,R0          ;(((((((((((段取毎スキャン)))))))))))))))
10120 00000FBC D00A                   M           MOV.L   #_DND_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10121 00000FBE 400B                   M           JSR     @R0                     ;
10122 00000FC0 0009                   M           NOP                                     ;
10123 00000FC2                   2606     INT_POSCTL_0280:
10124                            2607             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
10125 00000FC2 D00A                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10126 00000FC4 400B                   M           JSR     @R0                     ;
10127 00000FC6 0009                   M           NOP                                     ;
10128                            2608     
10129                            2609     ;       === FLAG SET(REST-PLS REFLASH-END)====
10130                            2610             eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
10131                                 M           PUSH_REG1 R1            ;
10132 00000FC8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
10133                                 M                                           ;REG=>[SP]
10134                                 M                                           ;"-4" FF,FF,FF,FC
10135                                 M           PUSH_REG1 R0            ;
10136 00000FCA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10137                                 M                                           ;REG=>[SP]
10138                                 M                                           ;"-4" FF,FF,FF,FC
10139 00000FCC 900B                   M           MOV.W   #1,R0           ;
10140 00000FCE D108                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
10141 00000FD0 2101                   M           MOV.W   R0,@R1  ;
10142                                 M           POP_REG1 R0             ;
10143                                 M                                   ; RE"+4" 00,00,00,04
10144 00000FD2 60F6                   M           MOV.L   @R15+,R0        ;
10145                                 M           POP_REG1 R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    72
PROGRAM NAME =

10146                                 M                                   ; RE"+4" 00,00,00,04
10147 00000FD4 61F6                   M           MOV.L   @R15+,R1        ;
10148                            2611     
10149                            2612     
10150                            2613     ;       === 2004-01-28===
10151                            2614             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
10152 00000FD6 D007                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10153 00000FD8 400B                   M           JSR     @R0                     ;
10154 00000FDA 0009                   M           NOP                                     ;
10155                            2615             FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
10156 00000FDC D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10157 00000FDE 400B                   M           JSR     @R0                     ;
10158 00000FE0 0009                   M           NOP                                     ;
10159                            2616     
10160                            2617             .AIF 0  EQ 1    ;2006-09-19
10161                            2618             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
10162                            2619             .AENDI
10163                            2620     
10164                            2621             M_BRA   INT_POSCTL_0800
10165 00000FE2 A044                   M           BRA     INT_POSCTL_0800
10166 00000FE4 0009                   M           NOP
10167                            2622     
10168                            2623     
10169                            2624     ;       ***************************************************
10170                            2625     ;       ***             終わりへ向かう状態              ***
10171                            2626     ;       ***************************************************
10172                                     ***** BEGIN-POOL *****
10173 00000FE6 0001                       DATA FOR SOURCE-LINE 2610
10174 00000FE8 00000000                   DATA FOR SOURCE-LINE 2605
10175 00000FEC 00000000                   DATA FOR SOURCE-LINE 2607
10176 00000FF0 00000000                   DATA FOR SOURCE-LINE 2610
10177 00000FF4 00000000                   DATA FOR SOURCE-LINE 2614
10178 00000FF8 00000000                   DATA FOR SOURCE-LINE 2615
10179                                     ***** END-POOL *****
10180 00000FFC                   2627     INT_POSCTL_0300:
10181 00000FFC C840              2628             TST     #BIT6,R0                        ;
10182                            2629             TST_BIT_ON INT_POSCTL_0700              ;(位置決め完了状態)起動指令OFF待ち
10183 00000FFE 8B2D                   M           BF      INT_POSCTL_0700
10184 00001000 C808              2630             TST     #BIT3,R0                        ;
10185                            2631             TST_BIT_ON INT_POSCTL_0500              ;急停止の払出待ち
10186 00001002 8B1B                   M           BF      INT_POSCTL_0500
10187 00001004 C804              2632             TST     #BIT2,R0                        ;
10188                            2633             TST_BIT_ON INT_POSCTL_0320              ;減速停止の払出待ち
10189 00001006 8B01                   M           BF      INT_POSCTL_0320
10190                            2634             M_BRA   INT_POSCTL_0900                 ;ｱｲﾄﾞﾙ
10191 00001008 A032                   M           BRA     INT_POSCTL_0900
10192 0000100A 0009                   M           NOP
10193                            2635     
10194 0000100C                   2636     INT_POSCTL_0320:
10195                            2637     ;       ===========================================
10196                            2638     ;       ===             減速停止中              ===
10197                            2639     ;       ===========================================
10198 0000100C D607              2640             MOV.L   #_MNWR_POS_CMD,R6               ;
10199 0000100E 6061              2641             MOV.W   @R6,R0                          ;
10200 00001010 2008              2642             TST     R0,R0                           ;ﾊﾟﾙｽ払出即停止
10201                            2643             TST_BIT_ON INT_POSCTL_0500      ;
10202 00001012 8B13                   M           BF      INT_POSCTL_0500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    73
PROGRAM NAME =

10203                            2644             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;起動信号一定時間ONしたらOFF:但し払い出し
                                          中が立つ
10204 00001014 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10205 00001016 400B                   M           JSR     @R0                     ;
10206 00001018 0009                   M           NOP                                     ;
10207                            2645             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
10208 0000101A D006                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10209 0000101C 400B                   M           JSR     @R0                     ;
10210 0000101E 0009                   M           NOP                                     ;
10211                            2646             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;急停止へ
10212 00001020 D105                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10213 00001022 6011                   M           MOV.W   @R1,R0          ;
10214 00001024 CB08                   M           OR      #BIT3,R0                ;
10215 00001026 2101                   M           MOV.W   R0,@R1          ;
10216                            2647             M_BRA   INT_POSCTL_0800                 ;
10217 00001028 A021                   M           BRA     INT_POSCTL_0800
10218 0000102A 0009                   M           NOP
10219                            2648     
10220                            2649     
10221                            2650     ;       ===========================================
10222                            2651     ;       ===             急停止中                ===
10223                            2652     ;       ===========================================
10224                                     ***** BEGIN-POOL *****
10225 0000102C 00000000                   DATA FOR SOURCE-LINE 2640
10226 00001030 00000000                   DATA FOR SOURCE-LINE 2644
10227 00001034 00000000                   DATA FOR SOURCE-LINE 2645
10228 00001038 00000000                   DATA FOR SOURCE-LINE 2646
10229                                     ***** END-POOL *****
10230 0000103C                   2653     INT_POSCTL_0500:
10231                            2654             FAR_JSR #_LOD_POS_STS_REG_SLOW,R1       ;
10232 0000103C D105                   M           MOV.L   #_LOD_POS_STS_REG_SLOW,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10233 0000103E 410B                   M           JSR     @R1                     ;
10234 00001040 0009                   M           NOP                                     ;
10235 00001042 C804              2655             TST     #BIT2,R0                        ;停止?
10236                            2656             TST_BIT_OF INT_POSCTL_0800              ;
10237 00001044 8913                   M           BT      INT_POSCTL_0800
10238                            2657             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10239 00001046 D104                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10240 00001048 6011                   M           MOV.W   @R1,R0          ;
10241 0000104A CB40                   M           OR      #BIT6,R0                ;
10242 0000104C 2101                   M           MOV.W   R0,@R1          ;
10243                            2658             M_BRA   INT_POSCTL_0800         ;
10244 0000104E A00E                   M           BRA     INT_POSCTL_0800
10245 00001050 0009                   M           NOP
10246                            2659     
10247                            2660     
10248                            2661     
10249                            2662     
10250                            2663     
10251                            2664     
10252                            2665     
10253                            2666     ;       ===========================================
10254                            2667     ;       ===             位置決め完了待ち        ===
10255                            2668     ;       ===========================================
10256                                     ***** BEGIN-POOL *****
10257 00001052 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    74
PROGRAM NAME =

10258 00001054 00000000                   DATA FOR SOURCE-LINE 2654
10259 00001058 00000000                   DATA FOR SOURCE-LINE 2657
10260                                     ***** END-POOL *****
10261 0000105C                   2669     INT_POSCTL_0700:                                        ;
10262 0000105C D512              2670             MOV.L   #_INT_CYC_DRV_STS,R5    ;//BIT0:CYCLE　END()
10263 0000105E 6051              2671             MOV.W   @R5,R0                  ;
10264 00001060 C840              2672             TST     #BIT6,R0                ;
10265                            2673             TST_BIT_ON INT_POSCTL_0900      ;
10266 00001062 8B05                   M           BF      INT_POSCTL_0900
10267 00001064 CB40              2674             OR      #BIT6,R0                ;
10268 00001066 2501              2675             MOV.W   R0,@R5                  ;位置決め完了SET
10269                            2676     ;       ===========================     ;
10270                            2677     ;       ===     運転終了        ===     ;
10271                            2678     ;       ===========================     ;
10272                            2679             FAR_JSR #_INT_POS_CTL_END,R0    ;
10273 00001068 D010                   M           MOV.L   #_INT_POS_CTL_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10274 0000106A 400B                   M           JSR     @R0                     ;
10275 0000106C 0009                   M           NOP                                     ;
10276 0000106E                   2680     INT_POSCTL_0800:
10277 0000106E 0009              2681             NOP
10278 00001070                   2682     INT_POSCTL_0900:
10279                            2683             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG1,W    ,_POS_CALC_ERR_INF1,W,R1,R2,R3
                                          ;
10280 00001070 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1
10281 00001072 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10282 00001074 D30F                   M           MOV.L   #_POS_CALC_ERR_INF1,R3  ;DST_ADR
10283 00001076 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10284                            2684             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG2,W    ,_POS_CALC_ERR_INF2,W,R1,R2,R3
                                          ;
10285 00001078 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1
10286 0000107A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10287 0000107C D30F                   M           MOV.L   #_POS_CALC_ERR_INF2,R3  ;DST_ADR
10288 0000107E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10289                            2685             MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_FLG1,W ,_POS_LSI_ACS_ERR_INF1,W,R1,R2,R3
                                          ;
10290 00001080 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1
10291 00001082 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10292 00001084 D30F                   M           MOV.L   #_POS_LSI_ACS_ERR_INF1,R3       ;DST_ADR
10293 00001086 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10294                            2686     
10295                            2687     
10296                            2688     
10297                            2689             FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[S01m 2003-04-03]
10298 00001088 D00F                   M           MOV.L   #_POS_OVER_RUN_CHK1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10299 0000108A 400B                   M           JSR     @R0                     ;
10300 0000108C 0009                   M           NOP                                     ;
10301                            2690     
10302 0000108E                   2691     INT_POSCTL_0910:
10303                            2692     
10304                            2693     
10305                            2694     ;;;2011-09-14移動[ﾌﾞﾚｰｷﾃｽﾄ中はｵｰﾊﾞﾗﾝを見ない]   FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[
                                          S01m 2003-04-03]
10306                            2695     
10307                            2696     
10308                            2697     
10309                            2698     
10310                            2699             FAR_JSR #_ERR_STOP_MOV_CHK,R0           ;FLG=R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    75
PROGRAM NAME =

10311 0000108E D00F                   M           MOV.L   #_ERR_STOP_MOV_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10312 00001090 400B                   M           JSR     @R0                     ;
10313 00001092 0009                   M           NOP                                     ;
10314 00001094 2008              2700             TST     R0,R0                           ;
10315                            2701             TST_BIT_ON INT_POSCTL_0920              ;
10316 00001096 8B1D                   M           BF      INT_POSCTL_0920
10317                            2702             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT1),WKRG1=R1,WKRG2=R4
10318 00001098 D10D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10319 0000109A 6011                   M           MOV.W   @R1,R0          ;
10320 0000109C 9403                   M           MOV.W   #LWORD (~BIT1),R4       ;
10321 0000109E 2049                   M           AND     R4,R0           ;
10322 000010A0 2101                   M           MOV.W   R0,@R1          ;
10323                            2703             M_BRA   INT_POSCTL_0950                 ;
10324 000010A2 A01C                   M           BRA     INT_POSCTL_0950
10325 000010A4 0009                   M           NOP
10326                                     ***** BEGIN-POOL *****
10327 000010A6 FFFD                       DATA FOR SOURCE-LINE 2702
10328 000010A8 00000000                   DATA FOR SOURCE-LINE 2670
10329 000010AC 00000000                   DATA FOR SOURCE-LINE 2679
10330 000010B0 00000000                   DATA FOR SOURCE-LINE 2683
10331 000010B4 00000000                   DATA FOR SOURCE-LINE 2683
10332 000010B8 00000000                   DATA FOR SOURCE-LINE 2684
10333 000010BC 00000000                   DATA FOR SOURCE-LINE 2684
10334 000010C0 00000000                   DATA FOR SOURCE-LINE 2685
10335 000010C4 00000000                   DATA FOR SOURCE-LINE 2685
10336 000010C8 00000000                   DATA FOR SOURCE-LINE 2689
10337 000010CC 00000000                   DATA FOR SOURCE-LINE 2699
10338 000010D0 00000000                   DATA FOR SOURCE-LINE 2702
10339                                     ***** END-POOL *****
10340 000010D4                   2704     INT_POSCTL_0920:
10341                            2705             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4
10342 000010D4 D11A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10343 000010D6 6011                   M           MOV.W   @R1,R0          ;
10344 000010D8 9430                   M           MOV.W   #(BIT1),R4              ;
10345 000010DA 204B                   M           OR      R4,R0           ;
10346 000010DC 2101                   M           MOV.W   R0,@R1          ;
10347 000010DE                   2706     INT_POSCTL_0950:
10348                            2707     
10349                            2708     ;       ------ 2006-09-19 -------
10350                            2709             FAR_JSR #_MONI_SEINOU_CMP_OUTPUT,R0                     ;制御(_SH_POSCTL_RL_ABSPLS
                                          )を使用している注意
10351 000010DE D019                   M           MOV.L   #_MONI_SEINOU_CMP_OUTPUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10352 000010E0 400B                   M           JSR     @R0                     ;
10353 000010E2 0009                   M           NOP                                     ;
10354                            2710             FAR_JSR #_RL_POS_DATA_CHK,R0                            ;
10355 000010E4 D018                   M           MOV.L   #_RL_POS_DATA_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10356 000010E6 400B                   M           JSR     @R0                     ;
10357 000010E8 0009                   M           NOP                                     ;
10358                            2711     
10359                            2712             FAR_JSR #_CNT_HOSEI_CHK_CALC,R0                         ;
10360 000010EA D018                   M           MOV.L   #_CNT_HOSEI_CHK_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10361 000010EC 400B                   M           JSR     @R0                     ;
10362 000010EE 0009                   M           NOP                                     ;
10363                            2713     
10364                            2714     ;       ----------------------------------------------
10365                            2715             FAR_JSR #_PLS_LSI_CTRL,R0                       ;
10366 000010F0 D017                   M           MOV.L   #_PLS_LSI_CTRL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    76
PROGRAM NAME =

10367 000010F2 400B                   M           JSR     @R0                     ;
10368 000010F4 0009                   M           NOP                                     ;
10369                            2716     
10370                            2717     
10371                            2718     ;       ------2012-05-15---------------
10372 000010F6 D117              2719             MOV.L   #_DURING_TIM_FX,R1              ;ﾓﾆﾀ
10373 000010F8 6211              2720             MOV.W   @R1,R2                          ;
10374 000010FA 622C              2721             EXTU.B  R2,R2                           ;
10375                            2722     
10376 000010FC D116              2723             MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
10377 000010FE 6011              2724             MOV.W   @R1,R0                          ;
10378 00001100 4018              2725             SHLL8   R0                              ;
10379 00001102 220B              2726             OR      R0,R2                           ;
10380                            2727     
10381 00001104 D115              2728             MOV.L   #_SQ_CBWK_TOP+_WKSQCB231,R1     ;
10382 00001106 2121              2729             MOV.W   R2,@R1                          ;
10383                            2730     
10384                            2731     ;       ------2012-10-01---------------
10385 00001108 D115              2732             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
10386 0000110A 6211              2733             MOV.W   @R1,R2                          ;
10387 0000110C 622C              2734             EXTU.B  R2,R2                           ;
10388                            2735     
10389                            2736     ;       -------- 2019-04-10-------------
10390 0000110E 233A              2737             XOR             R3,R3
10391 00001110 D114              2738             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向(今回動
                                          きべき方向) 非常停止の影響ない
10392 00001112 6011              2739             MOV.W   @R1,R0                                          ;
10393 00001114 2008              2740             TST             R0,R0
10394                            2741             TST_BIT_OF      DEBUG_SIGINC_100
10395 00001116 8900                   M           BT      DEBUG_SIGINC_100
10396 00001118 E302              2742             MOV.B   #BIT1,R3
10397 0000111A                   2743     DEBUG_SIGINC_100:
10398                            2744     
10399 0000111A 244A              2745             XOR             R4,R4
10400                            2746     ;;;
10401                            2747     ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1         ;
10402                            2748     ;;;     MOV.W   @R1,R0                                          ;
10403                            2749     ;;;     TST             R0,R0
10404                            2750     ;;;     TST_BIT_OF      DEBUG_SIGNEG_100                ;
10405                            2751     ;;;     MOV.B   #BIT2,R4
10406                            2752     ;;;DEBUG_SIGNEG_100:                                            ;
10407                            2753     ;;;
10408                            2754     
10409 0000111C D112              2755             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
10410 0000111E 6011              2756             MOV.W   @R1,R0                                          ;
10411 00001120 C901              2757             AND             #BIT0,R0                                        ;
10412                            2758     
10413 00001122 203B              2759             OR              R3,R0                                           ;BIT1->232.9
10414 00001124 204B              2760             OR              R4,R0                                           ;BIT2->232.10
10415 00001126 4018              2761             SHLL8   R0                                                      ;BIT0->232.8
10416 00001128 220B              2762             OR      R0,R2                                                   ;
10417                            2763     
10418 0000112A D110              2764             MOV.L   #_SQ_CBWK_TOP+_WKSQCB232,R1     ;
10419 0000112C 2121              2765             MOV.W   R2,@R1                          ;
10420                            2766     
10421                            2767     
10422                            2768     ;----------2013-08-20
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    77
PROGRAM NAME =

10423 0000112E D110              2769             MOV.L   #_POSCTL_STEP_FLG,R1            ;
10424 00001130 6211              2770             MOV.W   @R1,R2                          ;
10425 00001132 D110              2771             MOV.L   #_SQ_CBWK_TOP+_WKSQCB233,R1     ;
10426 00001134 2121              2772             MOV.W   R2,@R1                          ;
10427                            2773     
10428                            2774     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+0,R1
10429                            2775     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10430                            2776     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB234,R1     ;
10431                            2777     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10432                            2778     ;;;;;;;;;;;;;;;;;;;2015-07-07
10433                            2779     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+2,R1
10434                            2780     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10435                            2781     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB235,R1     ;
10436                            2782     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10437                            2783     
10438                            2784     
10439                            2785     
10440                            2786             SUB_END
10441                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10442 00001136 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10443                            2787             M_RTS
10444 00001138 000B                   M           RTS                             ;RTSの後ろの
10445 0000113A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10446                            2788     
10447                            2789     ;       ***********************************
10448                            2790     ;       ***                             ***
10449                            2791     ;       ***     INT                     ***
10450                            2792     ;       ***                             ***
10451                            2793     ;       ***********************************
10452                                     ***** BEGIN-POOL *****
10453 0000113C 0002                       DATA FOR SOURCE-LINE 2705
10454 0000113E 0000                       ALIGNMENT CODE
10455 00001140 00000000                   DATA FOR SOURCE-LINE 2705
10456 00001144 00000000                   DATA FOR SOURCE-LINE 2709
10457 00001148 00000000                   DATA FOR SOURCE-LINE 2710
10458 0000114C 00000000                   DATA FOR SOURCE-LINE 2712
10459 00001150 00000000                   DATA FOR SOURCE-LINE 2715
10460 00001154 00000000                   DATA FOR SOURCE-LINE 2719
10461 00001158 00000000                   DATA FOR SOURCE-LINE 2723
10462 0000115C 00000000                   DATA FOR SOURCE-LINE 2728
10463 00001160 00000000                   DATA FOR SOURCE-LINE 2732
10464 00001164 00000000                   DATA FOR SOURCE-LINE 2738
10465 00001168 00000000                   DATA FOR SOURCE-LINE 2755
10466 0000116C 00000000                   DATA FOR SOURCE-LINE 2764
10467 00001170 00000000                   DATA FOR SOURCE-LINE 2769
10468 00001174 00000000                   DATA FOR SOURCE-LINE 2771
10469                                     ***** END-POOL *****
10470 00001178                   2794             .ALIGN  4                               ;
10471 00001178                   2795     _INT_POS_CTL_END:
10472                            2796             SUB_START
10473 00001178 4F22                   M           STS.L   PR,@-R15                ;[必要]
10474                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10475 0000117A 200A              2797             XOR     R0,R0
10476 0000117C D10E              2798             MOV.L   #_INT_POS_CTL_FLAG,R1;
10477 0000117E 2101              2799             MOV.W   R0,@R1
10478 00001180 D10E              2800             MOV.L   #_INT_POS_STEP_FLG,R1;
10479 00001182 2101              2801             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    78
PROGRAM NAME =

10480 00001184 D10E              2802             MOV.L   #_INT_POS_CTL_STEP,R1;
10481 00001186 2101              2803             MOV.W   R0,@R1
10482                            2804     ;       ===========================
10483 00001188 D10E              2805             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
10484 0000118A 2101              2806             MOV.W   R0,@R1                          ;
10485                            2807     ;       ===========================
10486                            2808     
10487 0000118C D10E              2809             MOV.L   #_INT_DND_CTL_STEP,R1;
10488 0000118E 2101              2810             MOV.W   R0,@R1
10489 00001190 D10E              2811             MOV.L   #_INT_DND_STEP_FLG,R1;
10490 00001192 2101              2812             MOV.W   R0,@R1
10491                            2813     
10492 00001194 D10E              2814             MOV.L   #_LNGTH_ADD_DATA,R1;[2];//符号付き
10493 00001196 2102              2815             MOV.L   R0,@R1
10494 00001198 1101              2816             MOV.L   R0,@(4,R1)
10495                            2817     
10496 0000119A D10E              2818             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1;[2];//符号つき TOTAL=TOTAL+ADD ADD_DATA<=0
10497 0000119C 2102              2819             MOV.L   R0,@R1
10498 0000119E 1101              2820             MOV.L   R0,@(4,R1)
10499                            2821     
10500 000011A0 D10D              2822             MOV.L   #_POSLSI_CMP_DATA,R1;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
10501 000011A2 2102              2823             MOV.L   R0,@R1
10502                            2824     
10503 000011A4 D10D              2825             MOV.L   #_POSLSI_DELT_POS,R1;//変化分
10504 000011A6 2102              2826             MOV.L   R0,@R1
10505                            2827     
10506 000011A8 D10D              2828             MOV.L   #_OUTPLS_MOD,R1         ;
10507 000011AA 2102              2829             MOV.L   R0,@R1                  ;
10508                            2830     
10509                            2831     
10510                            2832     ;       ------- 2015-11-17 -----------------------
10511                            2833     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
10512                            2834             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
10513 000011AC D00D                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10514 000011AE 400B                   M           JSR     @R0                     ;
10515 000011B0 0009                   M           NOP                                     ;
10516                            2835     
10517                            2836             SUB_END
10518                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10519 000011B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10520                            2837             M_RTS
10521 000011B4 000B                   M           RTS                             ;RTSの後ろの
10522 000011B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10523                            2838     
10524                            2839     
10525                            2840     
10526                            2841     
10527                            2842     ;       ***********************************
10528                            2843     ;       ***                             ***
10529                            2844     ;       ***     移動距離と速度          ***
10530                            2845     ;       ***                             ***
10531                            2846     ;       ***********************************
10532                                     ***** BEGIN-POOL *****
10533 000011B8 00000000                   DATA FOR SOURCE-LINE 2798
10534 000011BC 00000000                   DATA FOR SOURCE-LINE 2800
10535 000011C0 00000000                   DATA FOR SOURCE-LINE 2802
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    79
PROGRAM NAME =

10536 000011C4 00000000                   DATA FOR SOURCE-LINE 2805
10537 000011C8 00000000                   DATA FOR SOURCE-LINE 2809
10538 000011CC 00000000                   DATA FOR SOURCE-LINE 2811
10539 000011D0 00000000                   DATA FOR SOURCE-LINE 2814
10540 000011D4 00000000                   DATA FOR SOURCE-LINE 2818
10541 000011D8 00000000                   DATA FOR SOURCE-LINE 2822
10542 000011DC 00000000                   DATA FOR SOURCE-LINE 2825
10543 000011E0 00000000                   DATA FOR SOURCE-LINE 2828
10544 000011E4 00000000                   DATA FOR SOURCE-LINE 2834
10545                                     ***** END-POOL *****
10546 000011E8                   2847             .ALIGN  4
10547 000011E8                   2848     _POS_1STEP_DATA_MAK1:
10548                            2849             SUB_START
10549 000011E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
10550                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10551                            2850             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;DUMMY CALL
10552 000011EA D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10553 000011EC 400B                   M           JSR     @R0                     ;
10554 000011EE 0009                   M           NOP                                     ;
10555                            2851     
10556 000011F0 D211              2852             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10557 000011F2 6021              2853             MOV.W   @R2,R0                          ;
10558 000011F4 70FF              2854             ADD     #-1,R0                          ;
10559 000011F6 4008              2855             SHLL2   R0                              ;
10560 000011F8 D410              2856             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
10561 000011FA 024E              2857             MOV.L   @(R0,R4),R2                     ;
10562 000011FC D110              2858             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10563 000011FE 2122              2859             MOV.L   R2,@R1                          ;
10564                            2860     
10565                            2861     
10566                            2862             PUSH_REG1       R0
10567 00001200 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10568                                 M                                           ;REG=>[SP]
10569                                 M                                           ;"-4" FF,FF,FF,FC
10570                            2863             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10571 00001202 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10572 00001204 410B                   M           JSR     @R1                     ;
10573 00001206 0009                   M           NOP                                     ;
10574                            2864             POP_REG1        R0                      ;R0=*4
10575                                 M                                   ; RE"+4" 00,00,00,04
10576 00001208 60F6                   M           MOV.L   @R15+,R0        ;
10577 0000120A 4000              2865             SHLL    R0                              ;*2
10578 0000120C D40E              2866             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10579 0000120E 340C              2867             ADD     R0,R4                   ;
10580 00001210 6146              2868             MOV.L   @R4+,R1                 ;
10581 00001212 6242              2869             MOV.L   @R4,R2                  ;(目標位置)
10582                            2870             FAR_JSR #_LENGH_ADD_CALC,R0     ;
10583 00001214 D00D                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10584 00001216 400B                   M           JSR     @R0                     ;
10585 00001218 0009                   M           NOP                                     ;
10586                            2871     
10587 0000121A 233A              2872             XOR     R3,R3                   ;
10588 0000121C 4111              2873             CMP/PZ  R1                      ;+正転?
10589 0000121E 8900              2874             BT      POS_1STEP_DATMK1_050    ;
10590 00001220 E301              2875             MOV     #BIT0,R3                ;
10591 00001222                   2876     POS_1STEP_DATMK1_050:
10592 00001222 D10B              2877             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    80
PROGRAM NAME =

10593 00001224 6011              2878             MOV.W   @R1,R0                  ;
10594 00001226 C9FE              2879             AND     #LOW ~BIT0,R0           ;
10595 00001228 203B              2880             OR      R3,R0                   ;
10596 0000122A 2101              2881             MOV.W   R0,@R1                  ;
10597                            2882             SUB_END
10598                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10599 0000122C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10600                            2883             M_RTS
10601 0000122E 000B                   M           RTS                             ;RTSの後ろの
10602 00001230 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10603                            2884     
10604                            2885     
10605                            2886     ;       ***********************************
10606                            2887     ;       ***                             ***
10607                            2888     ;       ***     移動距離と速度          ***
10608                            2889     ;       ***     反転用                  ***
10609                            2890     ;       ***     2011-02-19              ***
10610                            2891     ;       ***                             ***
10611                            2892     ;       ***********************************
10612                            2893     ;
10613                            2894     ;       ・上昇のときはBEFOREしない
10614                            2895     ;       ・
10615                            2896     
10616                                     ***** BEGIN-POOL *****
10617 00001232 0000                       ALIGNMENT CODE
10618 00001234 00000000                   DATA FOR SOURCE-LINE 2850
10619 00001238 00000000                   DATA FOR SOURCE-LINE 2852
10620 0000123C 00000000                   DATA FOR SOURCE-LINE 2856
10621 00001240 00000000                   DATA FOR SOURCE-LINE 2858
10622 00001244 00000000                   DATA FOR SOURCE-LINE 2863
10623 00001248 00000000                   DATA FOR SOURCE-LINE 2866
10624 0000124C 00000000                   DATA FOR SOURCE-LINE 2870
10625 00001250 00000000                   DATA FOR SOURCE-LINE 2877
10626                                     ***** END-POOL *****
10627 00001254                   2897             .ALIGN  4
10628 00001254                   2898     _POS_1STEP_DATA_MAK1CL:
10629                            2899             SUB_START
10630 00001254 4F22                   M           STS.L   PR,@-R15                ;[必要]
10631                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10632                            2900     ;----------------------------------------
10633                            2901             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;
10634 00001256 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10635 00001258 400B                   M           JSR     @R0                     ;
10636 0000125A 0009                   M           NOP                                     ;
10637                            2902     
10638 0000125C D20F              2903             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10639 0000125E 6021              2904             MOV.W   @R2,R0                          ;
10640 00001260 70FF              2905             ADD     #-1,R0                          ;
10641 00001262 4008              2906             SHLL2   R0                              ;
10642 00001264 D40E              2907             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
10643 00001266 024E              2908             MOV.L   @(R0,R4),R2                     ;
10644 00001268 D10E              2909             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10645 0000126A 2122              2910             MOV.L   R2,@R1                          ;
10646                            2911     
10647                            2912     
10648                            2913             PUSH_REG1       R0
10649 0000126C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    81
PROGRAM NAME =

10650                                 M                                           ;REG=>[SP]
10651                                 M                                           ;"-4" FF,FF,FF,FC
10652                            2914             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10653 0000126E D10E                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10654 00001270 410B                   M           JSR     @R1                     ;
10655 00001272 0009                   M           NOP                                     ;
10656                            2915             POP_REG1        R0                      ;R0=*4
10657                                 M                                   ; RE"+4" 00,00,00,04
10658 00001274 60F6                   M           MOV.L   @R15+,R0        ;
10659                            2916     
10660                            2917             PUSH_REG1 R0                            ;2012-10-05
10661 00001276 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10662                                 M                                           ;REG=>[SP]
10663                                 M                                           ;"-4" FF,FF,FF,FC
10664                            2918     
10665 00001278 4000              2919             SHLL    R0                              ;*2
10666 0000127A D40C              2920             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10667 0000127C 340C              2921             ADD     R0,R4                           ;
10668 0000127E 6146              2922             MOV.L   @R4+,R1                         ;
10669 00001280 6242              2923             MOV.L   @R4,R2                          ;(目標位置)
10670                            2924     
10671                            2925             POP_REG1 R0                             ;2012-10-05
10672                                 M                                   ; RE"+4" 00,00,00,04
10673 00001282 60F6                   M           MOV.L   @R15+,R0        ;
10674                            2926     
10675                            2927     
10676                            2928     ;       --------------------
10677 00001284 D40A              2929             MOV.L   #_CPOS_SDAT1_INF1,R4            ;
10678 00001286 340C              2930             ADD     R0,R4                           ;
10679 00001288 6042              2931             MOV.L   @R4,R0                          ;
10680 0000128A C802              2932             TST     #BIT1,R0                        ;
10681                            2933             TST_BIT_OF POS_1STEP_DATMK1CL_020       ;正
10682 0000128C 8914                   M           BT      POS_1STEP_DATMK1CL_020
10683                            2934     
10684                            2935     ;       ------------逆転[手前減速位置演算をしない]-------------
10685 0000128E D409              2936             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
10686 00001290 2412              2937             MOV.L   R1,@R4                          ;
10687 00001292 1421              2938             MOV.L   R2,@(4,R4)                      ;save
10688                            2939             M_BRA   POS_1STEP_DATMK1CL_040          ;
10689 00001294 A013                   M           BRA     POS_1STEP_DATMK1CL_040
10690 00001296 0009                   M           NOP
10691                            2940     
10692                                     ***** BEGIN-POOL *****
10693 00001298 00000000                   DATA FOR SOURCE-LINE 2901
10694 0000129C 00000000                   DATA FOR SOURCE-LINE 2903
10695 000012A0 00000000                   DATA FOR SOURCE-LINE 2907
10696 000012A4 00000000                   DATA FOR SOURCE-LINE 2909
10697 000012A8 00000000                   DATA FOR SOURCE-LINE 2914
10698 000012AC 00000000                   DATA FOR SOURCE-LINE 2920
10699 000012B0 00000000                   DATA FOR SOURCE-LINE 2929
10700 000012B4 00000000                   DATA FOR SOURCE-LINE 2936
10701                                     ***** END-POOL *****
10702 000012B8                   2941     POS_1STEP_DATMK1CL_020:
10703                            2942     ;       ============== input R1,R2 ===============
10704                            2943             FAR_JSR #_FUL_BEFOR_CALC,R0             ;[引いた結果が前段や待機点より小さくなる場
                                          合はそれより引かない]
10705 000012B8 D008                   M           MOV.L   #_FUL_BEFOR_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    82
PROGRAM NAME =

10706 000012BA 400B                   M           JSR     @R0                     ;
10707 000012BC 0009                   M           NOP                                     ;
10708                            2944     ;       ============== output R1,R2  =============
10709 000012BE                   2945     POS_1STEP_DATMK1CL_040:
10710                            2946     
10711                            2947     
10712                            2948     
10713                            2949             FAR_JSR #_LENGH_ADD_CALC,R0             ;
10714 000012BE D008                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10715 000012C0 400B                   M           JSR     @R0                     ;
10716 000012C2 0009                   M           NOP                                     ;
10717                            2950     
10718 000012C4 233A              2951             XOR     R3,R3                           ;
10719 000012C6 4111              2952             CMP/PZ  R1                              ;+正転?
10720 000012C8 8900              2953             BT      POS_1STEP_DATMK1CL_050          ;
10721 000012CA E301              2954             MOV     #BIT0,R3                        ;
10722 000012CC                   2955     POS_1STEP_DATMK1CL_050:
10723 000012CC D105              2956             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
10724 000012CE 6011              2957             MOV.W   @R1,R0                          ;
10725 000012D0 C9FE              2958             AND     #LOW ~BIT0,R0                   ;
10726 000012D2 203B              2959             OR      R3,R0                           ;
10727 000012D4 2101              2960             MOV.W   R0,@R1                          ;
10728                            2961     ;       ----------------------------------------
10729                            2962             SUB_END
10730                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10731 000012D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10732                            2963             M_RTS
10733 000012D8 000B                   M           RTS                             ;RTSの後ろの
10734 000012DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10735                            2964     
10736                            2965     ;       *******************************************
10737                            2966     ;       ***     input R1,R2 /Output R1,R2       ***
10738                            2967     ;       *******************************************
10739                                     ***** BEGIN-POOL *****
10740 000012DC 00000000                   DATA FOR SOURCE-LINE 2943
10741 000012E0 00000000                   DATA FOR SOURCE-LINE 2949
10742 000012E4 00000000                   DATA FOR SOURCE-LINE 2956
10743                                     ***** END-POOL *****
10744 000012E8                   2968             .ALIGN  4                               ;
10745 000012E8                   2969     _FUL_BEFOR_CALC:
10746                            2970             SUB_START
10747 000012E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
10748                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10749                            2971             PUSH_REG1 R0
10750 000012EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10751                                 M                                           ;REG=>[SP]
10752                                 M                                           ;"-4" FF,FF,FF,FC
10753                            2972             PUSH_REG1 R3
10754 000012EC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
10755                                 M                                           ;REG=>[SP]
10756                                 M                                           ;"-4" FF,FF,FF,FC
10757                            2973             PUSH_REG1 R4
10758 000012EE 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
10759                                 M                                           ;REG=>[SP]
10760                                 M                                           ;"-4" FF,FF,FF,FC
10761                            2974             PUSH_REG1 R5
10762 000012F0 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    83
PROGRAM NAME =

10763                                 M                                           ;REG=>[SP]
10764                                 M                                           ;"-4" FF,FF,FF,FC
10765                            2975             PUSH_REG1 R6
10766 000012F2 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
10767                                 M                                           ;REG=>[SP]
10768                                 M                                           ;"-4" FF,FF,FF,FC
10769                            2976     
10770 000012F4 D508              2977             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
10771 000012F6 2512              2978             MOV.L   R1,@R5                                  ;
10772 000012F8 1521              2979             MOV.L   R2,@(4,R5)                              ;save
10773                            2980     
10774 000012FA D408              2981             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
10775 000012FC 6642              2982             MOV.L   @R4,R6                          ;
10776 000012FE 255A              2983             XOR     R5,R5                           ;
10777 00001300 2668              2984             TST     R6,R6                           ;
10778                            2985             TST_BIT_OF FUL_BEFOR_CAL500             ;
10779 00001302 8914                   M           BT      FUL_BEFOR_CAL500
10780                            2986     
10781 00001304 D306              2987             MOV.L   #_INT_POS_CTL_STEP,R3           ;//内部制御工程1~11
10782 00001306 6031              2988             MOV.W   @R3,R0                          ;
10783 00001308 D306              2989             MOV.L   #_CPOS_STEP_MAX,R3              ;
10784 0000130A 6431              2990             MOV.W   @R3,R4                          ;
10785 0000130C 7401              2991             ADD     #1,R4                           ;
10786 0000130E 3040              2992             CMP/EQ  R4,R0                           ;
10787 00001310 8B0A              2993             BF      FUL_BEFOR_CAL100                ;（この論理では戻り工程は１つだけになる）
10788                            2994             M_BRA   FUL_BEFOR_CAL500                ;戻り工程は演算しない
10789 00001312 A00C                   M           BRA     FUL_BEFOR_CAL500
10790 00001314 0009                   M           NOP
10791                            2995     
10792                                     ***** BEGIN-POOL *****
10793 00001316 0000                       ALIGNMENT CODE
10794 00001318 00000000                   DATA FOR SOURCE-LINE 2977
10795 0000131C 00000000                   DATA FOR SOURCE-LINE 2981
10796 00001320 00000000                   DATA FOR SOURCE-LINE 2987
10797 00001324 00000000                   DATA FOR SOURCE-LINE 2989
10798                                     ***** END-POOL *****
10799 00001328                   2996     FUL_BEFOR_CAL100:
10800                            2997     
10801                            2998             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
10802 00001328 0008                   M           CLRT
10803 0000132A 326A                   M           SUBC    R6,R2
10804 0000132C 315A                   M           SUBC    R5,R1
10805                            2999     
10806 0000132E                   3000     FUL_BEFOR_CAL500:
10807                            3001             POP_REG1 R6
10808                                 M                                   ; RE"+4" 00,00,00,04
10809 0000132E 66F6                   M           MOV.L   @R15+,R6        ;
10810                            3002             POP_REG1 R5
10811                                 M                                   ; RE"+4" 00,00,00,04
10812 00001330 65F6                   M           MOV.L   @R15+,R5        ;
10813                            3003             POP_REG1 R4
10814                                 M                                   ; RE"+4" 00,00,00,04
10815 00001332 64F6                   M           MOV.L   @R15+,R4        ;
10816                            3004             POP_REG1 R3
10817                                 M                                   ; RE"+4" 00,00,00,04
10818 00001334 63F6                   M           MOV.L   @R15+,R3        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    84
PROGRAM NAME =

10819                            3005             POP_REG1 R0
10820                                 M                                   ; RE"+4" 00,00,00,04
10821 00001336 60F6                   M           MOV.L   @R15+,R0        ;
10822                            3006     
10823                            3007             SUB_END
10824                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10825 00001338 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10826                            3008             M_RTS
10827 0000133A 000B                   M           RTS                             ;RTSの後ろの
10828 0000133C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10829                            3009     
10830                            3010     
10831 00001340                   3011             .ALIGN  4                               ;
10832 00001340                   3012     _FUL_START_FUL_OBJ_SET
10833                            3013             SUB_START
10834 00001340 4F22                   M           STS.L   PR,@-R15                ;[必要]
10835                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10836                            3014     
10837 00001342 D509              3015             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
10838 00001344 6152              3016             MOV.L   @R5,R1                                  ;
10839 00001346 5251              3017             MOV.L   @(4,R5),R2                              ;save
10840                            3018     
10841 00001348 D408              3019             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
10842 0000134A 1410              3020             MOV.L   R1,@(0,R4)
10843 0000134C 1421              3021             MOV.L   R2,@(4,R4)                              ;
10844                            3022     
10845 0000134E D408              3023             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
10846 00001350 1410              3024             MOV.L   R1,@(0,R4)
10847 00001352 1421              3025             MOV.L   R2,@(4,R4)                              ;
10848                            3026     
10849                            3027     ;       ---------------リアルタイム目標位置-----------
10850 00001354 D407              3028             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
10851 00001356 1410              3029             MOV.L   R1,@(0,R4)
10852 00001358 1421              3030             MOV.L   R2,@(4,R4)                              ;
10853                            3031     
10854 0000135A D407              3032             MOV.L   #_POSCTL_RL_PLS,R4                      ;
10855 0000135C 1410              3033             MOV.L   R1,@(0,R4)
10856 0000135E 1421              3034             MOV.L   R2,@(4,R4)                              ;
10857                            3035             SUB_END
10858                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10859 00001360 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10860                            3036             M_RTS
10861 00001362 000B                   M           RTS                             ;RTSの後ろの
10862 00001364 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10863                            3037     
10864                            3038     
10865                            3039     ;       ***********************************
10866                            3040     ;       ***                             ***
10867                            3041     ;       ***     移動距離と速度          ***
10868                            3042     ;       ***     ふりこ・回転の通常      ***
10869                            3043     ;       ***                             ***
10870                            3044     ;       ***********************************
10871                            3045     ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
10872                            3046     ;       が
10873                            3047     ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
10874                            3048     ;       になっているだけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    85
PROGRAM NAME =

10875                            3049     ;
10876                            3050     
10877                                     ***** BEGIN-POOL *****
10878 00001366 0000                       ALIGNMENT CODE
10879 00001368 00000000                   DATA FOR SOURCE-LINE 3015
10880 0000136C 00000000                   DATA FOR SOURCE-LINE 3019
10881 00001370 00000000                   DATA FOR SOURCE-LINE 3023
10882 00001374 00000000                   DATA FOR SOURCE-LINE 3028
10883 00001378 00000000                   DATA FOR SOURCE-LINE 3032
10884                                     ***** END-POOL *****
10885 0000137C                   3051             .ALIGN  4                               ;
10886 0000137C                   3052     _POS_1STEP_DATA_MAK2:
10887                            3053             SUB_START
10888 0000137C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10889                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10890                            3054     
10891                            3055             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測を取り込まない
10892 0000137E D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10893 00001380 400B                   M           JSR     @R0                     ;
10894 00001382 0009                   M           NOP                                     ;
10895                            3056     
10896 00001384 D211              3057             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10897 00001386 6021              3058             MOV.W   @R2,R0                          ;
10898 00001388 70FF              3059             ADD     #-1,R0                          ;
10899 0000138A 4008              3060             SHLL2   R0                              ;
10900 0000138C D410              3061             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
10901 0000138E 024E              3062             MOV.L   @(R0,R4),R2                     ;
10902 00001390 D110              3063             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10903 00001392 2122              3064             MOV.L   R2,@R1                          ;
10904                            3065     
10905                            3066             PUSH_REG1       R0
10906 00001394 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10907                                 M                                           ;REG=>[SP]
10908                                 M                                           ;"-4" FF,FF,FF,FC
10909                            3067             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10910 00001396 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10911 00001398 410B                   M           JSR     @R1                     ;
10912 0000139A 0009                   M           NOP                                     ;
10913                            3068             POP_REG1        R0                      ;R0=*4
10914                                 M                                   ; RE"+4" 00,00,00,04
10915 0000139C 60F6                   M           MOV.L   @R15+,R0        ;
10916 0000139E 4000              3069             SHLL    R0                              ;*2
10917 000013A0 D40E              3070             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10918 000013A2 340C              3071             ADD     R0,R4                   ;
10919 000013A4 6146              3072             MOV.L   @R4+,R1                 ;
10920 000013A6 6242              3073             MOV.L   @R4,R2                  ;(目標位置)
10921                            3074             FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
10922 000013A8 D00D                   M           MOV.L   #_LENGH_ADD_CALC_SV_TYPE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10923 000013AA 400B                   M           JSR     @R0                     ;
10924 000013AC 0009                   M           NOP                                     ;
10925                            3075     
10926 000013AE 233A              3076             XOR     R3,R3                   ;
10927 000013B0 4111              3077             CMP/PZ  R1                      ;+正転?
10928 000013B2 8900              3078             BT      POS_1STEP_DATMK2_050    ;
10929 000013B4 E301              3079             MOV     #BIT0,R3                ;
10930 000013B6                   3080     POS_1STEP_DATMK2_050:
10931 000013B6 D10B              3081             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    86
PROGRAM NAME =

10932 000013B8 6011              3082             MOV.W   @R1,R0                  ;
10933 000013BA C9FE              3083             AND     #LOW ~BIT0,R0           ;
10934 000013BC 203B              3084             OR      R3,R0                   ;
10935 000013BE 2101              3085             MOV.W   R0,@R1                  ;
10936                            3086             SUB_END
10937                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10938 000013C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10939                            3087             M_RTS
10940 000013C2 000B                   M           RTS                             ;RTSの後ろの
10941 000013C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10942                            3088     
10943                            3089     ;       ***********************************
10944                            3090     ;       ***                             ***
10945                            3091     ;       ***     移動距離と速度          ***
10946                            3092     ;       ***                             ***
10947                            3093     ;       ***********************************
10948                            3094     ;;;;;未使用みたい       .ALIGN  4                               ;
10949                            3095     ;;;;;未使用みたい_POS_1STEP_DATA_MAK3:
10950                            3096     ;;;;;未使用みたい       SUB_START
10951                            3097     ;;;;;未使用みたい       FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
10952                            3098     ;;;;;未使用みたい
10953                            3099     ;;;;;未使用みたい       MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10954                            3100     ;;;;;未使用みたい       MOV.W   @R2,R0                          ;
10955                            3101     ;;;;;未使用みたい       ADD     #-1,R0                          ;
10956                            3102     ;;;;;未使用みたい       SHLL2   R0                              ;
10957                            3103     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COP
                                          Y
10958                            3104     ;;;;;未使用みたい       MOV.L   @(R0,R4),R2                     ;
10959                            3105     ;;;;;未使用みたい       MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10960                            3106     ;;;;;未使用みたい       MOV.L   R2,@R1                          ;
10961                            3107     ;;;;;未使用みたい
10962                            3108     ;;;;;未使用みたい       PUSH_REG1       R0
10963                            3109     ;;;;;未使用みたい       FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10964                            3110     ;;;;;未使用みたい       POP_REG1        R0                      ;R0=*4
10965                            3111     ;;;;;未使用みたい       SHLL    R0                              ;*2
10966                            3112     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10967                            3113     ;;;;;未使用みたい       ADD     R0,R4                   ;
10968                            3114     ;;;;;未使用みたい       MOV.L   @R4+,R1                 ;
10969                            3115     ;;;;;未使用みたい       MOV.L   @R4,R2                  ;(目標位置)
10970                            3116     ;;;;;未使用みたい
10971                            3117     ;;;;;未使用みたい       FAR_JSR #_FUL_CLS_LENGH_ADD_CALC,R0
10972                            3118     ;;;;;未使用みたい
10973                            3119     ;;;;;未使用みたい       XOR     R3,R3                   ;
10974                            3120     ;;;;;未使用みたい       CMP/PZ  R1                      ;+正転?
10975                            3121     ;;;;;未使用みたい       BT      POS_1STEP_DATMK3_050    ;
10976                            3122     ;;;;;未使用みたい       MOV     #BIT0,R3                ;
10977                            3123     ;;;;;未使用みたいPOS_1STEP_DATMK3_050:
10978                            3124     ;;;;;未使用みたい       MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
10979                            3125     ;;;;;未使用みたい       MOV.W   @R1,R0                  ;
10980                            3126     ;;;;;未使用みたい       AND     #LOW ~BIT0,R0           ;
10981                            3127     ;;;;;未使用みたい       OR      R3,R0                   ;
10982                            3128     ;;;;;未使用みたい       MOV.W   R0,@R1                  ;
10983                            3129     ;;;;;未使用みたい       SUB_END
10984                            3130     ;;;;;未使用みたい       M_RTS
10985                            3131     
10986                            3132     ;       ***********************************
10987                            3133     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    87
PROGRAM NAME =

10988                            3134     ;       ***     初回起動                ***
10989                            3135     ;       ***                             ***
10990                            3136     ;       ***********************************
10991                            3137     ;
10992                                     ***** BEGIN-POOL *****
10993 000013C6 0000                       ALIGNMENT CODE
10994 000013C8 00000000                   DATA FOR SOURCE-LINE 3055
10995 000013CC 00000000                   DATA FOR SOURCE-LINE 3057
10996 000013D0 00000000                   DATA FOR SOURCE-LINE 3061
10997 000013D4 00000000                   DATA FOR SOURCE-LINE 3063
10998 000013D8 00000000                   DATA FOR SOURCE-LINE 3067
10999 000013DC 00000000                   DATA FOR SOURCE-LINE 3070
11000 000013E0 00000000                   DATA FOR SOURCE-LINE 3074
11001 000013E4 00000000                   DATA FOR SOURCE-LINE 3081
11002                                     ***** END-POOL *****
11003 000013E8                   3138             .ALIGN  4                               ;
11004 000013E8                   3139     _DND_1STEP_DATA_MAK1:
11005                            3140             SUB_START
11006 000013E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11007                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11008 000013EA D10B              3141             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11009 000013EC 6212              3142             MOV.L   @R1,R2                          ;
11010                            3143     
11011                            3144             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11012 000013EE D10B                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11013 000013F0 410B                   M           JSR     @R1                     ;
11014 000013F2 0009                   M           NOP                                     ;
11015                            3145     
11016 000013F4 D50A              3146             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;(はじめの起動分はﾒｲﾝで作られている)
11017 000013F6 6152              3147             MOV.L   @R5,R1                          ;
11018 000013F8 5251              3148             MOV.L   @(4,R5),R2                      ;
11019                            3149             FAR_JSR #_LENGH_ADD_CALC,R0             ;ANS R1,R2
11020 000013FA D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11021 000013FC 400B                   M           JSR     @R0                     ;
11022 000013FE 0009                   M           NOP                                     ;
11023 00001400 233A              3150             XOR     R3,R3                           ;
11024 00001402 4111              3151             CMP/PZ  R1                              ;+正転?
11025 00001404 8900              3152             BT      DND_1STEP_DATMK1_050            ;
11026 00001406 E301              3153             MOV     #BIT0,R3                        ;
11027 00001408                   3154     DND_1STEP_DATMK1_050:
11028 00001408 D107              3155             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11029 0000140A 6011              3156             MOV.W   @R1,R0                  ;
11030 0000140C C9FE              3157             AND     #LOW ~BIT0,R0           ;
11031 0000140E 203B              3158             OR      R3,R0                   ;
11032 00001410 2101              3159             MOV.W   R0,@R1                  ;
11033                            3160             SUB_END
11034                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11035 00001412 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11036                            3161             M_RTS
11037 00001414 000B                   M           RTS                             ;RTSの後ろの
11038 00001416 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11039                            3162     
11040                            3163     
11041                            3164     
11042                            3165     ;       ***********************************
11043                            3166     ;       ***                             ***
11044                            3167     ;       ***     ﾓｰｼｮﾝ全工程             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    88
PROGRAM NAME =

11045                            3168     ;       ***                             ***
11046                            3169     ;       ***********************************
11047                            3170     ;       ======== 停止待ち(速度変更)     0000,0000       ====
11048                            3171     ;       ======== ﾀｲﾏ計測                BIT0            ====
11049                            3172     ;       ======== 再起動/終了            BIT1            ====
11050                            3173     ;       ======== BIT6;終了
11051                                     ***** BEGIN-POOL *****
11052 00001418 00000000                   DATA FOR SOURCE-LINE 3141
11053 0000141C 00000000                   DATA FOR SOURCE-LINE 3144
11054 00001420 00000000                   DATA FOR SOURCE-LINE 3146
11055 00001424 00000000                   DATA FOR SOURCE-LINE 3149
11056 00001428 00000000                   DATA FOR SOURCE-LINE 3155
11057                                     ***** END-POOL *****
11058 0000142C                   3174             .ALIGN  4                               ;
11059 0000142C                   3175     _POS_ALL_STEP_CTRL:
11060                            3176             SUB_START
11061 0000142C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11062                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11063                            3177     
11064                            3178     ;;;;;;;;;;;;[2015-11-15]ちゃんとした場所へ移動
11065                            3179     ;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
11066                            3180     ;;;;;;;;;;;;    MOV.L   #_MODE_SEL,R1                           ;
11067                            3181     ;;;;;;;;;;;;    MOV.W   @R1,R0                                  ;
11068                            3182     ;;;;;;;;;;;;    TST     #_W1INC+_W1SGL,R0                       ;
11069                            3183     ;;;;;;;;;;;;    TST_BIT_OF FORCE_STEPEND_HAND200EXT             ;（段取でもある)
11070                            3184     ;;;;;;;;;;;;
11071                            3185     ;;;;;;;;;;;;    FAR_JSR #_API_ENDHAND_SIGCHK,R0         ;
11072                            3186     ;;;;;;;;;;;;    TST     R0,R0                           ;
11073                            3187     ;;;;;;;;;;;;    TST_BIT_OF FORCE_STEPEND_HAND200EXT     ;
11074                            3188     ;;;;;;;;;;;;    M_BRA   FORCE_STEPEND_HAND200           ;
11075                            3189     ;;;;;;;;;;;;FORCE_STEPEND_HAND200EXT
11076                            3190     
11077                            3191     
11078                            3192     ;       ==== 停止した場合、次の工程の起動、工程がなくなれば終わり====
11079                            3193     ;       停止はﾊﾟﾙｽ払出
11080 0000142E D103              3194             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
11081 00001430 6011              3195             MOV.W   @R1,R0                          ;BIT
11082 00001432 C840              3196             TST     #BIT6,R0                        ;
11083                            3197             TST_BIT_OF POS_ALLSTEPCTL_020           ;
11084 00001434 8904                   M           BT      POS_ALLSTEPCTL_020
11085                            3198             M_BRA   POS_ALLSTEPCTL_900              ;位置決め完了
11086 00001436 A2FF                   M           BRA     POS_ALLSTEPCTL_900
11087 00001438 0009                   M           NOP
11088                            3199     
11089                                     ***** BEGIN-POOL *****
11090 0000143A 0000                       ALIGNMENT CODE
11091 0000143C 00000000                   DATA FOR SOURCE-LINE 3194
11092                                     ***** END-POOL *****
11093 00001440                   3200     POS_ALLSTEPCTL_020:
11094 00001440 C803              3201             TST     #(BIT1+BIT0),R0         ;
11095                            3202             TST_BIT_OF POS_ALLSTEPCTL_100   ;BIT0:ﾀｲﾏ制御開始
11096 00001442 8901                   M           BT      POS_ALLSTEPCTL_100
11097                            3203             M_BRA   POS_ALLSTEPCTL_300      ;BIT1:次の回転起動
11098 00001444 A13A                   M           BRA     POS_ALLSTEPCTL_300
11099 00001446 0009                   M           NOP
11100                            3204     
11101 00001448                   3205     POS_ALLSTEPCTL_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    89
PROGRAM NAME =

11102                            3206     
11103                            3207     
11104                            3208     ;       ----------- 2012-05-17 全モード,(反転)タイマ継続処理CHK---------
11105                            3209             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0             ;
11106 00001448 D003                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11107 0000144A 400B                   M           JSR     @R0                     ;
11108 0000144C 0009                   M           NOP                                     ;
11109 0000144E 2008              3210             TST     R0,R0                                   ;
11110                            3211             TST_BIT_OF POS_ALLSTEPCTL_101                   ;
11111 00001450 8904                   M           BT      POS_ALLSTEPCTL_101
11112                            3212             M_BRA   POS_ALLSTEPCTL_230                      ;
11113 00001452 A0CF                   M           BRA     POS_ALLSTEPCTL_230
11114 00001454 0009                   M           NOP
11115                            3213     
11116                                     ***** BEGIN-POOL *****
11117 00001456 0000                       ALIGNMENT CODE
11118 00001458 00000000                   DATA FOR SOURCE-LINE 3209
11119                                     ***** END-POOL *****
11120 0000145C                   3214     POS_ALLSTEPCTL_101:
11121                            3215     
11122                            3216     
11123                            3217     ;       ---------- 2019-04-10 -----------------
11124                            3218     ;;;     FAR_JSR #_HANTEN_LAST_SIG_CLR,R0
11125                            3219     ;       ---------------------------------------
11126                            3220     
11127 0000145C D105              3221             MOV.L   #_CPOS_CTL_MATH,R1                      ;
11128 0000145E 6011              3222             MOV.W   @R1,R0                                  ;
11129 00001460 C805              3223             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
11130                            3224             TST_BIT_ON POS_ALLSTEPCTL_120                   ;YES
11131 00001462 8B0D                   M           BF      POS_ALLSTEPCTL_120
11132                            3225     
11133                            3226     
11134                            3227             FAR_JSR #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾌﾙｸﾛｰｽﾞ,ﾌﾙｸﾛｰｽﾞのｵｰﾌﾟﾝ時は中でﾁｪｯ
                                          ｸする
11135 00001464 D004                   M           MOV.L   #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11136 00001466 400B                   M           JSR     @R0                     ;
11137 00001468 0009                   M           NOP                                     ;
11138 0000146A 2008              3228             TST     R0,R0                                   ;
11139                            3229             TST_BIT_OF POS_ALLSTEPCTL_105                   ;
11140 0000146C 8906                   M           BT      POS_ALLSTEPCTL_105
11141                            3230             M_BRA   POS_ALLSTEPCTL_230                      ;(BIT2=1)
11142 0000146E A0C1                   M           BRA     POS_ALLSTEPCTL_230
11143 00001470 0009                   M           NOP
11144                            3231     
11145                                     ***** BEGIN-POOL *****
11146 00001472 0000                       ALIGNMENT CODE
11147 00001474 00000000                   DATA FOR SOURCE-LINE 3221
11148 00001478 00000000                   DATA FOR SOURCE-LINE 3227
11149                                     ***** END-POOL *****
11150 0000147C                   3232     POS_ALLSTEPCTL_105:
11151                            3233             M_BRA   POS_ALLSTEPCTL_900                      ;
11152 0000147C A2DC                   M           BRA     POS_ALLSTEPCTL_900
11153 0000147E 0009                   M           NOP
11154                            3234     
11155 00001480                   3235     POS_ALLSTEPCTL_120:
11156                            3236     ;       ======== 2003-07-01 ======
11157                            3237             FAR_JSR #_BRK_ERR_CHK_START4,R0         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    90
PROGRAM NAME =

11158 00001480 D018                   M           MOV.L   #_BRK_ERR_CHK_START4,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11159 00001482 400B                   M           JSR     @R0                     ;
11160 00001484 0009                   M           NOP                                     ;
11161                            3238     
11162                            3239     
11163                            3240     
11164                            3241     
11165                            3242     ;       ===========================================
11166                            3243     ;       === 回転はニアゼロをチェックする        ===
11167                            3244     ;       ===========================================
11168                            3245             FAR_JSR #_OPEN_ROT_NEAR1_ZERO_CHK,R0    ;
11169 00001486 D018                   M           MOV.L   #_OPEN_ROT_NEAR1_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11170 00001488 400B                   M           JSR     @R0                     ;
11171 0000148A 0009                   M           NOP                                     ;
11172                            3246     
11173                            3247     
11174                            3248             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
11175 0000148C D117                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11176 0000148E 410B                   M           JSR     @R1                     ;
11177 00001490 0009                   M           NOP                                     ;
11178 00001492 C804              3249             TST     #BIT2,R0                        ;停止?
11179                            3250             TST_BIT_ON POS_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
11180 00001494 8B5A                   M           BF      POS_ALLSTEPCTL_200
11181                            3251     
11182                            3252     ;       ===========================================
11183                            3253     ;       ===     払出中                          ===
11184                            3254     ;       ===========================================
11185                            3255     
11186                            3256     ;       ===================================================
11187                            3257     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11188                            3258     ;       ===================================================
11189                            3259             FAR_JSR #_DNMODE_ENDWAIT_TIM_SET,R0     ;[[[2013-03-24復活]]]
11190 00001496 D016                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11191 00001498 400B                   M           JSR     @R0                     ;
11192 0000149A 0009                   M           NOP                                     ;
11193                            3260     
11194                            3261     
11195                            3262             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT4),WKREG=R1  ;2012-12-1
                                          0 DEBUG
11196 0000149C D115                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11197 0000149E 6011                   M           MOV.W   @R1,R0          ;
11198 000014A0 C9EF                   M           AND     #LOW ~(BIT4),R0         ;
11199 000014A2 2101                   M           MOV.W   R0,@R1          ;
11200                            3263     
11201                            3264     ;       ===== 払出中のBUSYﾁｪｯｸ ======
11202                            3265             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
11203 000014A4 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11204 000014A6 400B                   M           JSR     @R0                     ;
11205 000014A8 0009                   M           NOP                                     ;
11206                            3266     ;       ===== 払出中 ======
11207                            3267     ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
11208                            3268             FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
11209 000014AA D014                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11210 000014AC 400B                   M           JSR     @R0                     ;
11211 000014AE 0009                   M           NOP                                     ;
11212                            3269     
11213                            3270     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    91
PROGRAM NAME =

11214                            3271     ;       ======== 回転の連続・ﾀｲﾏ=0処理====
11215 000014B0 D113              3272             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11216 000014B2 6011              3273             MOV.W   @R1,R0                          ;
11217 000014B4 C801              3274             TST     #BIT0,R0                        ;
11218                            3275             TST_BIT_ON POS_ALLSTEPCTL_190           ;
11219 000014B6 8B3C                   M           BF      POS_ALLSTEPCTL_190
11220                            3276     
11221                            3277     ;       ========== 2004-01-26 連続寸動一工程/連続一工程 ======
11222 000014B8 D112              3278             MOV.L   #_WFSYS_OPT_CNT_SEL,R1          ;SEL=1 連寸一、連続一行程有効
11223 000014BA 6011              3279             MOV.W   @R1,R0                          ;
11224 000014BC 8801              3280             CMP/EQ  #1,R0                           ;
11225 000014BE 8B29              3281             BF      POS_ALLSTEPCTL_189              ;
11226                            3282     
11227 000014C0 D111              3283             MOV.L   #_MODE_SEL,R1                   ;
11228 000014C2 6011              3284             MOV.W   @R1,R0                          ;
11229 000014C4 C808              3285             TST     #_W1CNT,R0                      ;
11230                            3286             TST_BIT_OF POS_ALLSTEPCTL_189           ;
11231 000014C6 8925                   M           BT      POS_ALLSTEPCTL_189
11232 000014C8 910A              3287             MOV.W   #(BIT12+BIT11),R1               ;
11233 000014CA 2018              3288             TST     R1,R0                           ;
11234                            3289             TST_BIT_OF POS_ALLSTEPCTL_189           ;(通常連続)
11235 000014CC 8922                   M           BT      POS_ALLSTEPCTL_189
11236                            3290     
11237                            3291     
11238                            3292     ;       ==============20071106======================
11239 000014CE D10F              3293             MOV.L   #_CPOS_BANK_USELFUL,R1          ;大バグ
11240 000014D0 6011              3294             MOV.W   @R1,R0                          ;
11241 000014D2 C801              3295             TST     #BIT0,R0                        ;
11242                            3296             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11243 000014D4 892C                   M           BT      POS_ALLSTEPCTL_189A
11244                            3297     
11245                            3298     ;;      FAR_JSR #_CCS_STEP_NEXT_CHK,R0          ;
11246                            3299             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;
11247 000014D6 D00E                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11248 000014D8 400B                   M           JSR     @R0                     ;
11249 000014DA 0009                   M           NOP                                     ;
11250                            3300             M_BRA   POS_ALLSTEPCTL_190              ;
11251 000014DC A029                   M           BRA     POS_ALLSTEPCTL_190
11252 000014DE 0009                   M           NOP
11253                            3301     ;       ===========================================
11254                            3302     
11255                            3303     
11256                                     ***** BEGIN-POOL *****
11257 000014E0 1800                       DATA FOR SOURCE-LINE 3287
11258 000014E2 0000                       ALIGNMENT CODE
11259 000014E4 00000000                   DATA FOR SOURCE-LINE 3237
11260 000014E8 00000000                   DATA FOR SOURCE-LINE 3245
11261 000014EC 00000000                   DATA FOR SOURCE-LINE 3248
11262 000014F0 00000000                   DATA FOR SOURCE-LINE 3259
11263 000014F4 00000000                   DATA FOR SOURCE-LINE 3262
11264 000014F8 00000000                   DATA FOR SOURCE-LINE 3265
11265 000014FC 00000000                   DATA FOR SOURCE-LINE 3268
11266 00001500 00000000                   DATA FOR SOURCE-LINE 3272
11267 00001504 00000000                   DATA FOR SOURCE-LINE 3278
11268 00001508 00000000                   DATA FOR SOURCE-LINE 3283
11269 0000150C 00000000                   DATA FOR SOURCE-LINE 3293
11270 00001510 00000000                   DATA FOR SOURCE-LINE 3299
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    92
PROGRAM NAME =

11271                                     ***** END-POOL *****
11272 00001514                   3304     POS_ALLSTEPCTL_189:                             ;
11273                            3305     
11274 00001514 D104              3306             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
11275 00001516 6011              3307             MOV.W   @R1,R0                          ;
11276 00001518 C801              3308             TST     #BIT0,R0                        ;
11277                            3309             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11278 0000151A 8909                   M           BT      POS_ALLSTEPCTL_189A
11279                            3310             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;(連続の上死点停止なし)
11280 0000151C D003                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11281 0000151E 400B                   M           JSR     @R0                     ;
11282 00001520 0009                   M           NOP                                     ;
11283                            3311             M_BRA   POS_ALLSTEPCTL_190              ;
11284 00001522 A006                   M           BRA     POS_ALLSTEPCTL_190
11285 00001524 0009                   M           NOP
11286                            3312     
11287                                     ***** BEGIN-POOL *****
11288 00001526 0000                       ALIGNMENT CODE
11289 00001528 00000000                   DATA FOR SOURCE-LINE 3306
11290 0000152C 00000000                   DATA FOR SOURCE-LINE 3310
11291                                     ***** END-POOL *****
11292 00001530                   3313     POS_ALLSTEPCTL_189A:                                    ;
11293                            3314     ;;;;未使用      FAR_JSR #_CNT_STEP_NEXT_CHK,R0          ;<ここはくせもの>
11294 00001530 0009              3315             NOP                                             ;安一、寸動、上死点停止付連続、一
                                          工程
11295 00001532                   3316     POS_ALLSTEPCTL_190:                                     ;
11296                            3317     
11297                            3318     ;       ==== 2003-06-13===
11298                            3319             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11299 00001532 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11300 00001534 6011                   M           MOV.W   @R1,R0          ;
11301 00001536 C9FE                   M           AND     #LOW ~BIT0,R0           ;
11302 00001538 2101                   M           MOV.W   R0,@R1          ;
11303                            3320             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
11304 0000153A D003                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11305 0000153C 400B                   M           JSR     @R0                     ;
11306 0000153E 0009                   M           NOP                                     ;
11307                            3321     
11308                            3322             M_BRA   POS_ALLSTEPCTL_900              ;
11309 00001540 A27A                   M           BRA     POS_ALLSTEPCTL_900
11310 00001542 0009                   M           NOP
11311                            3323     
11312                            3324     ;       ===========================
11313                            3325     ;       ===     払出停止        ===
11314                            3326     ;       ===     回転時          ===
11315                            3327     ;       ===========================
11316                                     ***** BEGIN-POOL *****
11317 00001544 00000000                   DATA FOR SOURCE-LINE 3319
11318 00001548 00000000                   DATA FOR SOURCE-LINE 3320
11319                                     ***** END-POOL *****
11320 0000154C                   3328     POS_ALLSTEPCTL_200:
11321                            3329             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT1,WKREG=R1 ;2012-12-10 DEB
                                          UG
11322 0000154C D113                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11323 0000154E 6011                   M           MOV.W   @R1,R0          ;
11324 00001550 CB02                   M           OR      #BIT1,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    93
PROGRAM NAME =

11325 00001552 2101                   M           MOV.W   R0,@R1          ;
11326                            3330     
11327                            3331     ;       ------- 2015-11-17 -----------------------
11328                            3332     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
11329                            3333             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
11330 00001554 D012                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11331 00001556 400B                   M           JSR     @R0                     ;
11332 00001558 0009                   M           NOP                                     ;
11333                            3334     
11334                            3335     
11335 0000155A D112              3336             MOV.L   #_CNT_PLSOUT_STOP_CNT,R1
11336 0000155C 6011              3337             MOV.W   @R1,R0
11337 0000155E 7001              3338             ADD     #1,R0                           ;
11338 00001560 2101              3339             MOV.W   R0,@R1                          ;
11339                            3340             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0  ;2004-03-03
11340 00001562 D011                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11341 00001564 400B                   M           JSR     @R0                     ;
11342 00001566 0009                   M           NOP                                     ;
11343                            3341     
11344                            3342     
11345 00001568 D110              3343             MOV.L   #_NEAR_IN_FLG,R1                ;
11346 0000156A 6011              3344             MOV.W   @R1,R0                          ;
11347 0000156C 2008              3345             TST     R0,R0                           ;
11348                            3346             TST_BIT_ON POS_ALLSTEPCTL_220           ;ﾆｱｾﾞﾛOK
11349 0000156E 8B27                   M           BF      POS_ALLSTEPCTL_220
11350                            3347     
11351                            3348     
11352                            3349             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;ﾆｱｾﾞﾛ代わり
11353 00001570 D00F                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11354 00001572 400B                   M           JSR     @R0                     ;
11355 00001574 0009                   M           NOP                                     ;
11356 00001576 2008              3350             TST     R0,R0
11357                            3351             TST_BIT_OF POS_ALLSTEPCTL_210           ;
11358 00001578 8903                   M           BT      POS_ALLSTEPCTL_210
11359 0000157A D10C              3352             MOV.L   #_NEAR_IN_FLG,R1                ;ﾆｱｾﾞﾛ扱い
11360 0000157C 6011              3353             MOV.W   @R1,R0                          ;
11361 0000157E CB01              3354             OR      #BIT0,R0                        ;
11362 00001580 2101              3355             MOV.W   R0,@R1                          ;
11363 00001582                   3356     POS_ALLSTEPCTL_210:                             ;
11364                            3357     
11365                            3358             FAR_JSR #_NZ_TIM_CHK1,R0                ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏｶｳﾝﾄﾀﾞｳﾝ
11366 00001582 D00C                   M           MOV.L   #_NZ_TIM_CHK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11367 00001584 400B                   M           JSR     @R0                     ;
11368 00001586 0009                   M           NOP                                     ;
11369                            3359     
11370                            3360     
11371                            3361     ;       -----------2012-03-06ｲﾝﾎﾟｼﾞ異常ﾁｪｯｸ------------------------------
11372 00001588 D10B              3362             MOV.L   #_NZ_TIM_OUT_PV2,R1                                     ;
11373 0000158A 6011              3363             MOV.W   @R1,R0                                                  ;
11374 0000158C 2008              3364             TST     R0,R0                                                   ;
11375                            3365             TST_BIT_ON POS_ALLSTEPCTL_211                                   ;
11376 0000158E 8B03                   M           BF      POS_ALLSTEPCTL_211
11377                            3366             MEM1_BIT0_TO_BIT7_ORSET MEM=_INP_ERR_FLG,LG=W,BIT=BIT0,WKREG=R1 ;
11378 00001590 D10A                   M           MOV.L   #_INP_ERR_FLG,R1                ;
11379 00001592 6011                   M           MOV.W   @R1,R0          ;
11380 00001594 CB01                   M           OR      #BIT0,R0                ;
11381 00001596 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    94
PROGRAM NAME =

11382 00001598                   3367     POS_ALLSTEPCTL_211:                                                     ;
11383                            3368     
11384                            3369             M_BRA   POS_ALLSTEPCTL_900              ;
11385 00001598 A24E                   M           BRA     POS_ALLSTEPCTL_900
11386 0000159A 0009                   M           NOP
11387                            3370     
11388                                     ***** BEGIN-POOL *****
11389 0000159C 00000000                   DATA FOR SOURCE-LINE 3329
11390 000015A0 00000000                   DATA FOR SOURCE-LINE 3333
11391 000015A4 00000000                   DATA FOR SOURCE-LINE 3336
11392 000015A8 00000000                   DATA FOR SOURCE-LINE 3340
11393 000015AC 00000000                   DATA FOR SOURCE-LINE 3343,3352
11394 000015B0 00000000                   DATA FOR SOURCE-LINE 3349
11395 000015B4 00000000                   DATA FOR SOURCE-LINE 3358
11396 000015B8 00000000                   DATA FOR SOURCE-LINE 3362
11397 000015BC 00000000                   DATA FOR SOURCE-LINE 3366
11398                                     ***** END-POOL *****
11399 000015C0                   3371     POS_ALLSTEPCTL_220:
11400                            3372     
11401                            3373     ;       ===================================================
11402                            3374     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11403                            3375     ;       ===================================================
11404                            3376     
11405                            3377     ;;;;    ===========================================
11406                            3378     ;;;;    ===     ふりこの終了遅延ﾀｲﾏ2013-02-08   ===
11407                            3379     ;;;;    ===     CPUB_CURVSEL[5]                 ===
11408                            3380     ;;;;    ===========================================
11409                            3381             FAR_JSR #_DNMODE_ENDWAIT_TIM_CHK,R0     ;[[[2013-03-24復活]]]
11410 000015C0 D003                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11411 000015C2 400B                   M           JSR     @R0                     ;
11412 000015C4 0009                   M           NOP                                     ;
11413 000015C6 2008              3382             TST     R0,R0                           ;[[[2013-03-24復活]]]
11414                            3383             TST_BIT_OF POS_ALLSTEPCTL_225           ;[[[2013-03-24復活]]]
11415 000015C8 8904                   M           BT      POS_ALLSTEPCTL_225
11416                            3384             M_BRA   POS_ALLSTEPCTL_900              ;[[[2013-03-24復活]]]
11417 000015CA A235                   M           BRA     POS_ALLSTEPCTL_900
11418 000015CC 0009                   M           NOP
11419                            3385     
11420                                     ***** BEGIN-POOL *****
11421 000015CE 0000                       ALIGNMENT CODE
11422 000015D0 00000000                   DATA FOR SOURCE-LINE 3381
11423                                     ***** END-POOL *****
11424 000015D4                   3386     POS_ALLSTEPCTL_225:
11425                            3387     
11426                            3388     ;       =====================================================
11427                            3389     
11428                            3390     
11429                            3391             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT2,WKREG=R1 ;2012-12-10 DEB
                                          UG
11430 000015D4 D105                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11431 000015D6 6011                   M           MOV.W   @R1,R0          ;
11432 000015D8 CB04                   M           OR      #BIT2,R0                ;
11433 000015DA 2101                   M           MOV.W   R0,@R1          ;
11434                            3392     
11435                            3393             FAR_JSR #_CMPAB_NEAR_END_PROC,R0        ;ｵｰﾌﾟﾝ時ﾆｱｾﾞﾛの終わり
11436 000015DC D004                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11437 000015DE 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    95
PROGRAM NAME =

11438 000015E0 0009                   M           NOP                                     ;
11439 000015E2 2008              3394             TST     R0,R0                           ;
11440                            3395             TST_BIT_ON POS_ALLSTEPCTL_230           ;
11441 000015E4 8B06                   M           BF      POS_ALLSTEPCTL_230
11442                            3396             M_BRA   POS_ALLSTEPCTL_900              ;
11443 000015E6 A227                   M           BRA     POS_ALLSTEPCTL_900
11444 000015E8 0009                   M           NOP
11445                            3397     
11446                                     ***** BEGIN-POOL *****
11447 000015EA 0000                       ALIGNMENT CODE
11448 000015EC 00000000                   DATA FOR SOURCE-LINE 3391
11449 000015F0 00000000                   DATA FOR SOURCE-LINE 3393
11450                                     ***** END-POOL *****
11451 000015F4                   3398     POS_ALLSTEPCTL_230:
11452                            3399     
11453                            3400     ;       ===============================================
11454                            3401             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT3,WKREG=R1 ;2012-12-10 DEB
                                          UG
11455 000015F4 D121                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11456 000015F6 6011                   M           MOV.W   @R1,R0          ;
11457 000015F8 CB08                   M           OR      #BIT3,R0                ;
11458 000015FA 2101                   M           MOV.W   R0,@R1          ;
11459                            3402             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11460 000015FC D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11461 000015FE 6011                   M           MOV.W   @R1,R0          ;
11462 00001600 C9FE                   M           AND     #LOW ~BIT0,R0           ;
11463 00001602 2101                   M           MOV.W   R0,@R1          ;
11464                            3403     
11465                            3404     ;       =====================
11466                            3405     ;       ===== 状態遷移時=====
11467                            3406     ;       =====================
11468                            3407     ;       ==========================
11469                            3408     ;       ===== ﾌﾙｸﾛｰｽﾞ信号ｸﾘｱ======
11470                            3409     ;       ==========================
11471                            3410             FAR_JSR #_FUL_DATA_INIT,R0      ;R0,R1 USED
11472 00001604 D01F                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11473 00001606 400B                   M           JSR     @R0                     ;
11474 00001608 0009                   M           NOP                                     ;
11475                            3411     ;       ===============================================
11476                            3412             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
11477 0000160A D11F                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
11478 0000160C 6011                   M           MOV.W   @R1,R0          ;
11479 0000160E C9FE                   M           AND     #LOW ~BIT0,R0           ;
11480 00001610 2101                   M           MOV.W   R0,@R1          ;
11481                            3413     ;       ===============================================
11482                            3414             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾌﾗｸﾞｸﾘｱしたい
11483 00001612 D01E                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11484 00001614 400B                   M           JSR     @R0                     ;
11485 00001616 0009                   M           NOP                                     ;
11486                            3415     ;       ===============================================
11487                            3416             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
11488 00001618 D01D                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11489 0000161A 400B                   M           JSR     @R0                     ;
11490 0000161C 0009                   M           NOP                                     ;
11491                            3417     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
11492                            3418             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    96
PROGRAM NAME =

                                          ﾃｰﾀｽ
11493 0000161E D118                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11494 00001620 6011                   M           MOV.W   @R1,R0          ;
11495 00001622 C9FE                   M           AND     #LOW ~BIT0,R0           ;
11496 00001624 2101                   M           MOV.W   R0,@R1          ;
11497                            3419     
11498                            3420     
11499 00001626 D21B              3421             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
11500 00001628 6021              3422             MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
11501 0000162A 70FF              3423             ADD     #-1,R0                  ;
11502 0000162C D41A              3424             MOV.L   #_CPOS_SDAT1_TIM,R4     ;
11503 0000162E 4008              3425             SHLL2   R0                      ;
11504 00001630 014E              3426             MOV.L   @(R0,R4),R1             ;
11505                            3427     
11506                            3428     ;       ----------------------------
11507 00001632 D41A              3429             MOV.L   #_MOT_REP_F,R4                  ;//BIT0(ﾘﾋﾟｰﾄ動作
11508 00001634 6041              3430             MOV.W   @R4,R0                          ;
11509 00001636 C801              3431             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ動作直後の停止
11510                            3432             TST_BIT_OF POS_ALLSTEPCTL_REP231        ;
11511 00001638 8900                   M           BT      POS_ALLSTEPCTL_REP231
11512 0000163A 211A              3433             XOR     R1,R1                           ;
11513 0000163C                   3434     POS_ALLSTEPCTL_REP231:                          ;
11514                            3435     
11515                            3436     
11516                            3437     
11517                            3438     
11518                            3439     
11519                            3440     
11520                            3441     
11521                            3442     
11522                            3443     
11523 0000163C D418              3444             MOV.L   #_MODE_SEL,R4           ;
11524 0000163E 6041              3445             MOV.W   @R4,R0                  ;
11525 00001640 C808              3446             TST     #_W1CNT,R0              ;
11526                            3447             TST_BIT_ON POS_ALLSTEPCTL_280   ;
11527 00001642 8B07                   M           BF      POS_ALLSTEPCTL_280
11528                            3448     
11529                            3449     ;       == 連続以外は最終工程は0固定 ==
11530                            3450     
11531 00001644 D213              3451             MOV.L   #_INT_POS_CTL_STEP,R2   ;1~5,6
11532 00001646 6021              3452             MOV.W   @R2,R0                  ;
11533 00001648 D216              3453             MOV.L   #_CPOS_STEP_MAX,R2      ;
11534 0000164A 6421              3454             MOV.W   @R2,R4                  ;
11535 0000164C 7401              3455             ADD     #1,R4                   ;
11536 0000164E 3400              3456             CMP/EQ  R0,R4                   ;R0 =< R4(MAX)
11537 00001650 8B00              3457             BF      POS_ALLSTEPCTL_280      ;最終工程ではない
11538 00001652 211A              3458             XOR     R1,R1                   ;最終工程
11539 00001654                   3459     POS_ALLSTEPCTL_280:                     ;
11540                            3460     
11541                            3461             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
11542                            3462 C   ;2015-03-15
11543 00001654 D014              3463 C           MOV.L   #_FULCLS_TIM_SETFLG,R0          ;
11544 00001656 6001              3464 C           MOV.W   @R0,R0                          ;
11545 00001658 C802              3465 C           TST     #BIT1,R0                        ;
11546                            3466 C           TST_BIT_OF POS_ALLSTEPCTL_285           ;
11547 0000165A 8900                   M           BT      POS_ALLSTEPCTL_285
11548 0000165C 211A              3467 C           XOR     R1,R1                           ;ﾀｲﾏ=0にする
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    97
PROGRAM NAME =

11549 0000165E                   3468 C   POS_ALLSTEPCTL_285:                             ;
11550                            3469             .AENDI
11551                            3470     
11552                            3471     ;       input R1
11553                            3472             FAR_JSR #_DURING_TIM_PRESET_CALC,R0     ;2014-05-30 ﾀｲﾏ継続
11554 0000165E D013                   M           MOV.L   #_DURING_TIM_PRESET_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11555 00001660 400B                   M           JSR     @R0                     ;
11556 00001662 0009                   M           NOP                                     ;
11557                            3473     ;;;2014-05-30   MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
11558                            3474     ;;;2014-05-30   MOV.L   R1,@R4                                                          ;
11559                            3475     
11560                            3476             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
11561 00001664 D112                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
11562 00001666 6011                   M           MOV.W   @R1,R0          ;
11563 00001668 CB01                   M           OR      #BIT0,R0                ;
11564 0000166A 2101                   M           MOV.W   R0,@R1          ;
11565                            3477     
11566                            3478     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
11567                            3479             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
11568                            3480 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
11569 0000166C D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11570 0000166E 400B                   M           JSR     @R0                     ;
11571 00001670 0009                   M           NOP                                     ;
11572                            3481             .AENDI
11573                            3482     
11574                            3483     ;       ===================
11575                            3484     ;       ===     CAM1    ===
11576                            3485     ;       ===================
11577                            3486             FAR_JSR #_CAM_1STEP_END_SIG1,R0 ;
11578 00001672 D011                   M           MOV.L   #_CAM_1STEP_END_SIG1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11579 00001674 400B                   M           JSR     @R0                     ;
11580 00001676 0009                   M           NOP                                     ;
11581                            3487             M_BRA   POS_ALLSTEPCTL_900      ;
11582 00001678 A1DE                   M           BRA     POS_ALLSTEPCTL_900
11583 0000167A 0009                   M           NOP
11584                            3488     
11585                            3489     
11586                            3490     ;       ====<<<<2段目以降の起動処理>>>====
11587                                     ***** BEGIN-POOL *****
11588 0000167C 00000000                   DATA FOR SOURCE-LINE 3401
11589 00001680 00000000                   DATA FOR SOURCE-LINE 3402,3418
11590 00001684 00000000                   DATA FOR SOURCE-LINE 3410
11591 00001688 00000000                   DATA FOR SOURCE-LINE 3412
11592 0000168C 00000000                   DATA FOR SOURCE-LINE 3414
11593 00001690 00000000                   DATA FOR SOURCE-LINE 3416
11594 00001694 00000000                   DATA FOR SOURCE-LINE 3421,3451
11595 00001698 00000000                   DATA FOR SOURCE-LINE 3424
11596 0000169C 00000000                   DATA FOR SOURCE-LINE 3429
11597 000016A0 00000000                   DATA FOR SOURCE-LINE 3444
11598 000016A4 00000000                   DATA FOR SOURCE-LINE 3453
11599 000016A8 00000000                   DATA FOR SOURCE-LINE 3463
11600 000016AC 00000000                   DATA FOR SOURCE-LINE 3472
11601 000016B0 00000000                   DATA FOR SOURCE-LINE 3476
11602 000016B4 00000000                   DATA FOR SOURCE-LINE 3480
11603 000016B8 00000000                   DATA FOR SOURCE-LINE 3486
11604                                     ***** END-POOL *****
11605 000016BC                   3491     POS_ALLSTEPCTL_300:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    98
PROGRAM NAME =

11606 000016BC C802              3492             TST     #BIT1,R0                ;
11607                            3493             TST_BIT_ON POS_ALLSTEPCTL_400   ;
11608 000016BE 8B3B                   M           BF      POS_ALLSTEPCTL_400
11609                            3494     
11610                            3495     ;       ==== 各段一旦停止機能====
11611 000016C0 D106              3496             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
11612 000016C2 6011              3497             MOV.W   @R1,R0                          ;
11613 000016C4 9408              3498             MOV.W   #BIT13,R4                       ;
11614 000016C6 2048              3499             TST     R4,R0                           ;
11615                            3500             TST_BIT_OF POS_ALLSTEPCTL_310           ;
11616 000016C8 890C                   M           BT      POS_ALLSTEPCTL_310
11617                            3501             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4
11618 000016CA D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
11619 000016CC 6011                   M           MOV.W   @R1,R0          ;
11620 000016CE 9404                   M           MOV.W   #(BIT9),R4              ;
11621 000016D0 204B                   M           OR      R4,R0           ;
11622 000016D2 2101                   M           MOV.W   R0,@R1          ;
11623                            3502             M_BRA   POS_ALLSTEPCTL_900              ;
11624 000016D4 A1B0                   M           BRA     POS_ALLSTEPCTL_900
11625 000016D6 0009                   M           NOP
11626                            3503     
11627                                     ***** BEGIN-POOL *****
11628 000016D8 2000                       DATA FOR SOURCE-LINE 3498
11629 000016DA 0200                       DATA FOR SOURCE-LINE 3501
11630 000016DC 00000000                   DATA FOR SOURCE-LINE 3496
11631 000016E0 00000000                   DATA FOR SOURCE-LINE 3501
11632                                     ***** END-POOL *****
11633 000016E4                   3504     POS_ALLSTEPCTL_310:
11634                            3505             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11635 000016E4 D10A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11636 000016E6 6011                   M           MOV.W   @R1,R0          ;
11637 000016E8 9411                   M           MOV.W   #LWORD (~BIT9),R4       ;
11638 000016EA 2049                   M           AND     R4,R0           ;
11639 000016EC 2101                   M           MOV.W   R0,@R1          ;
11640                            3506     
11641                            3507     
11642                            3508     ;       --------反転及び全動作 タイマ計測から再開
11643                            3509             MEM1_BIT0_TO_BIT7_ORSET MEM=_DURING_TIM_FX,LG=W,BIT=BIT0,WKREG=R1       ;する
11644 000016EE D109                   M           MOV.L   #_DURING_TIM_FX,R1              ;
11645 000016F0 6011                   M           MOV.W   @R1,R0          ;
11646 000016F2 CB01                   M           OR      #BIT0,R0                ;
11647 000016F4 2101                   M           MOV.W   R0,@R1          ;
11648                            3510     
11649                            3511             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
11650 000016F6 D108                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
11651 000016F8 6412                   M           MOV.L   @R1,R4          ;
11652 000016FA 2448                   M           TST     R4,R4                   ;
11653 000016FC 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
11654 000016FE 4410                   M           DT      R4                              ;
11655 00001700 2142                   M           MOV.L   R4,@R1          ;STORE
11656 00001702                        M   JMP_0100004:
11657                            3512     
11658 00001702 D405              3513             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
11659 00001704 6142              3514             MOV.L   @R4,R1                  ;
11660 00001706 2118              3515             TST     R1,R1                   ;
11661                            3516             TST_BIT_OF POS_ALLSTEPCTL_320   ;
11662 00001708 8908                   M           BT      POS_ALLSTEPCTL_320
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE    99
PROGRAM NAME =

11663                            3517             M_BRA   POS_ALLSTEPCTL_900      ;
11664 0000170A A195                   M           BRA     POS_ALLSTEPCTL_900
11665 0000170C 0009                   M           NOP
11666                            3518     
11667                                     ***** BEGIN-POOL *****
11668 0000170E FDFF                       DATA FOR SOURCE-LINE 3505
11669 00001710 00000000                   DATA FOR SOURCE-LINE 3505
11670 00001714 00000000                   DATA FOR SOURCE-LINE 3509
11671 00001718 00000000                   DATA FOR SOURCE-LINE 3511,3513
11672                                     ***** END-POOL *****
11673 0000171C                   3519     POS_ALLSTEPCTL_320:
11674                            3520     ;;;     ===================
11675                            3521     ;;;     ===     CAM2    ===
11676                            3522     ;;;     ===================
11677                            3523     ;;;     FAR_JSR #_CAM_1STEP_END_SIG2,R0 ;
11678                            3524     
11679                            3525             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
11680 0000171C D104                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
11681 0000171E 6011                   M           MOV.W   @R1,R0          ;
11682 00001720 CB02                   M           OR      #BIT1,R0                ;
11683 00001722 2101                   M           MOV.W   R0,@R1          ;
11684                            3526     
11685                            3527     ;       --------反転及び全モードタイマ時はタイマ処理から再開をクリア[2/]------
11686                            3528             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
11687 00001724 200A                   M           XOR     R0,R0           ;
11688 00001726 D103                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11689 00001728 2101                   M           MOV.W   R0,@R1          ;
11690                            3529             M_BRA   POS_ALLSTEPCTL_900                      ;
11691 0000172A A185                   M           BRA     POS_ALLSTEPCTL_900
11692 0000172C 0009                   M           NOP
11693                            3530     
11694                            3531     
11695                            3532     ;       ======= 次の起動の演算または終了の判断=====
11696                                     ***** BEGIN-POOL *****
11697 0000172E 0000                       ALIGNMENT CODE
11698 00001730 00000000                   DATA FOR SOURCE-LINE 3525
11699 00001734 00000000                   DATA FOR SOURCE-LINE 3528
11700                                     ***** END-POOL *****
11701 00001738                   3533     POS_ALLSTEPCTL_400:
11702                            3534              .AIF   1 EQ 1  ;
11703                            3535 C   ;       -------- 2016-10-31 ADD 二重回路対策
11704                            3536              .AENDI
11705                            3537     
11706                            3538     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
11707 00001738 D110              3539             MOV.L   #_CMPSTEP_STEP_END,R1           ;
11708 0000173A 6011              3540             MOV.W   @R1,R0                          ;
11709 0000173C 2008              3541             TST     R0,R0                           ;
11710                            3542             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
11711 0000173E 8B12                   M           BF      POS_ALLSTEPCTL_415
11712                            3543     
11713                            3544     ;       --2016-10-31(2016-08-12)(CMPERR対策)---------
11714 00001740 D10F              3545             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
11715 00001742 6011              3546             MOV.W   @R1,R0                          ;
11716 00001744 2008              3547             TST     R0,R0                           ;
11717                            3548             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
11718 00001746 8B0E                   M           BF      POS_ALLSTEPCTL_415
11719                            3549     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   100
PROGRAM NAME =

11720                            3550     
11721                            3551     
11722                            3552     ;       === ﾌﾙｸﾛｰｽﾞ・回転共にこれで止める　連続・回転・停止なしのみここ以外
11723 00001748 D10E              3553             MOV.L   #_MODE_SEL,R1                   ;
11724 0000174A 6011              3554             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
11725 0000174C C808              3555             TST     #_W1CNT,R0                      ;
11726                            3556             TST_BIT_OF POS_ALLSTEPCTL_415           ;
11727 0000174E 890A                   M           BT      POS_ALLSTEPCTL_415
11728                            3557     
11729                            3558     ;       ===== 2004-12-20 ===
11730 00001750 D10D              3559             MOV.L   #_CPOS_MOD_FLG1,R1              ;
11731 00001752 6011              3560             MOV.W   @R1,R0                          ;
11732 00001754 C804              3561             TST     #BIT2,R0                        ;
11733                            3562             TST_BIT_ON POS_ALLSTEPCTL_415           ;
11734 00001756 8B06                   M           BF      POS_ALLSTEPCTL_415
11735                            3563     
11736 00001758 D10C              3564             MOV.L   #_STOP_LATCH_B,R1               ;
11737 0000175A 6011              3565             MOV.W   @R1,R0                          ;
11738 0000175C 2008              3566             TST     R0,R0                           ;
11739                            3567             TST_BIT_OF POS_ALLSTEPCTL_415           ;
11740 0000175E 8902                   M           BT      POS_ALLSTEPCTL_415
11741                            3568             FAR_JSR #_STOP_LTH_OUT,R0               ;自分を止めるのが目的
11742 00001760 D00B                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11743 00001762 400B                   M           JSR     @R0                     ;
11744 00001764 0009                   M           NOP                                     ;
11745                            3569     
11746 00001766                   3570     POS_ALLSTEPCTL_415:                             ;
11747                            3571     
11748                            3572     ;       ===================================
11749                            3573     ;       ===     二重回路対策            ===
11750                            3574     ;       ===     工程完了                ===
11751                            3575     ;       ===================================
11752                            3576     ;;;;;;;;;;;;FORCE_STEPEND_HAND200:                              ;[2015-04-08]
11753                            3577     
11754                            3578              .AIF   1 EQ 1  ;
11755                            3579 C   ;       -------- 2016-10-31 ADD 二重回路対策
11756                            3580              .AENDI
11757 00001766 9008              3581             MOV.W   #D'5,R0                         ;CPUAがCPUBの開始に反応しないかどうかの確
                                          認(2016-08-26)
11758 00001768 D105              3582             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
11759 0000176A 2101              3583             MOV.W   R0,@R1                          ;ﾊﾝﾄﾞｼｪｲｸ終了後2msecだけ停止釦を検知しない
11760                            3584     
11761                            3585             FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
11762 0000176C D009                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11763 0000176E 400B                   M           JSR     @R0                     ;
11764 00001770 0009                   M           NOP                                     ;
11765 00001772 2008              3586             TST     R0,R0                           ;
11766                            3587             TST_BIT_ON POS_ALLSTEPCTL_420           ;
11767 00001774 8B10                   M           BF      POS_ALLSTEPCTL_420
11768                            3588             M_BRA   POS_ALLSTEPCTL_900              ;
11769 00001776 A15F                   M           BRA     POS_ALLSTEPCTL_900
11770 00001778 0009                   M           NOP
11771                                     ***** BEGIN-POOL *****
11772 0000177A 0005                       DATA FOR SOURCE-LINE 3581
11773 0000177C 00000000                   DATA FOR SOURCE-LINE 3539
11774 00001780 00000000                   DATA FOR SOURCE-LINE 3545,3582
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   101
PROGRAM NAME =

11775 00001784 00000000                   DATA FOR SOURCE-LINE 3553
11776 00001788 00000000                   DATA FOR SOURCE-LINE 3559
11777 0000178C 00000000                   DATA FOR SOURCE-LINE 3564
11778 00001790 00000000                   DATA FOR SOURCE-LINE 3568
11779 00001794 00000000                   DATA FOR SOURCE-LINE 3585
11780                                     ***** END-POOL *****
11781 00001798                   3589     POS_ALLSTEPCTL_420:                             ;
11782                            3590             FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
11783 00001798 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11784 0000179A 400B                   M           JSR     @R0                     ;
11785 0000179C 0009                   M           NOP                                     ;
11786                            3591     
11787                            3592     ;       ===================
11788                            3593     ;       ===     CAM2    ===
11789                            3594     ;       ===================
11790                            3595             FAR_JSR #_CAM_1STEP_END_SIG2,R0         ;
11791 0000179E D00B                   M           MOV.L   #_CAM_1STEP_END_SIG2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11792 000017A0 400B                   M           JSR     @R0                     ;
11793 000017A2 0009                   M           NOP                                     ;
11794                            3596     
11795                            3597     
11796                            3598     ;       ====== 次の工程演算[繰り返しCHK] ======
11797                            3599             FAR_JSR #_MOT_REP_STEPCHK,R0            ;ﾘﾋﾟｰﾄ開始(通常工程->ﾘﾋﾟｰﾄ戻工程,ﾘﾋﾟｰﾄ戻->
                                          ﾘﾋﾟｰﾄ開始工程)
11798 000017A4 D00A                   M           MOV.L   #_MOT_REP_STEPCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11799 000017A6 400B                   M           JSR     @R0                     ;
11800 000017A8 0009                   M           NOP                                     ;
11801                            3600     
11802 000017AA D50A              3601             MOV.L   #_MOT_REP_F,R5                  ;//BIT1(ﾚﾋﾟｰﾄ演算しろ),BIT2(ﾘﾋﾟｰﾄ戻実行中)
11803 000017AC 6051              3602             MOV.W   @R5,R0                          ;
11804 000017AE C804              3603             TST     #BIT2,R0                        ;
11805                            3604             TST_BIT_OF POS_ALLSTEPCTL_428           ;ﾘﾋﾟｰﾄから通常の開始工程に切り替えろ?
11806 000017B0 8918                   M           BT      POS_ALLSTEPCTL_428
11807 000017B2 C901              3605             AND     #(BIT0),R0                      ;BIT3,BIT2:CLR
11808 000017B4 2501              3606             MOV.W   R0,@R5                          ;
11809 000017B6 D408              3607             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
11810 000017B8 6141              3608             MOV.W   @R4,R1                          ;
11811 000017BA D508              3609             MOV.L   #_INT_POS_CTL_STEP,R5           ;//内部制御工程1~11
11812 000017BC 2511              3610             MOV.W   R1,@R5                          ;
11813 000017BE D008              3611             MOV.L   #_SV_POS_CTL_STEP,R0            ;//1msec 制御上の見かけ
11814 000017C0 2011              3612             MOV.W   R1,@R0                          ;
11815                            3613             M_BRA   POS_ALLSTEPCTL_580              ;工程番号から位置演算
11816 000017C2 A090                   M           BRA     POS_ALLSTEPCTL_580
11817 000017C4 0009                   M           NOP
11818                            3614     
11819                            3615     
11820                                     ***** BEGIN-POOL *****
11821 000017C6 0000                       ALIGNMENT CODE
11822 000017C8 00000000                   DATA FOR SOURCE-LINE 3590
11823 000017CC 00000000                   DATA FOR SOURCE-LINE 3595
11824 000017D0 00000000                   DATA FOR SOURCE-LINE 3599
11825 000017D4 00000000                   DATA FOR SOURCE-LINE 3601
11826 000017D8 00000000                   DATA FOR SOURCE-LINE 3607
11827 000017DC 00000000                   DATA FOR SOURCE-LINE 3609
11828 000017E0 00000000                   DATA FOR SOURCE-LINE 3611
11829                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   102
PROGRAM NAME =

11830 000017E4                   3616     POS_ALLSTEPCTL_428
11831 000017E4 C802              3617             TST     #BIT1,R0                        ;
11832                            3618             TST_BIT_OF POS_ALLSTEPCTL_430           ;
11833 000017E6 890D                   M           BT      POS_ALLSTEPCTL_430
11834 000017E8 C901              3619             AND     #(BIT0),R0                      ;BIT1:CLR BIT3:ふりこ時に使用される
11835 000017EA 2501              3620             MOV.W   R0,@R5                          ;
11836                            3621     
11837                            3622             FAR_JSR #_DEBUG_BRK_POINT2,R0           ;
11838 000017EC D003                   M           MOV.L   #_DEBUG_BRK_POINT2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11839 000017EE 400B                   M           JSR     @R0                     ;
11840 000017F0 0009                   M           NOP                                     ;
11841                            3623     
11842                            3624             FAR_JSR #_MOT_REPSTART_CALC,R0          ;
11843 000017F2 D003                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11844 000017F4 400B                   M           JSR     @R0                     ;
11845 000017F6 0009                   M           NOP                                     ;
11846                            3625             M_BRA   POS_ALLSTEPCTL_590              ;位置演算後の処理
11847 000017F8 A0BB                   M           BRA     POS_ALLSTEPCTL_590
11848 000017FA 0009                   M           NOP
11849                            3626     
11850                            3627     
11851                                     ***** BEGIN-POOL *****
11852 000017FC 00000000                   DATA FOR SOURCE-LINE 3622
11853 00001800 00000000                   DATA FOR SOURCE-LINE 3624
11854                                     ***** END-POOL *****
11855 00001804                   3628     POS_ALLSTEPCTL_430:                             ;
11856                            3629     ;       ====== 次の工程演算 ======
11857 00001804 D509              3630             MOV.L   #_INT_POS_CTL_STEP,R5   ;//内部制御工程1~11
11858 00001806 6051              3631             MOV.W   @R5,R0                  ;
11859 00001808 70FF              3632             ADD     #-1,R0                  ;
11860 0000180A 4008              3633             SHLL2   R0                      ;
11861 0000180C D708              3634             MOV.L   #_CPOS_SDAT1_CNTSTEP,R7 ;
11862 0000180E 017E              3635             MOV.L   @(R0,R7),R1             ;この工程の最後のｽﾃｯﾌﾟ
11863 00001810 D608              3636             MOV.L   #_CPOS_STEP_MAX,R6      ;//設定
11864 00001812 6461              3637             MOV.W   @R6,R4                  ;
11865 00001814 7401              3638             ADD     #1,R4                   ;
11866 00001816 3142              3639             CMP/HS  R4,R1                   ;R4=(<)R1:NOW 最終工程?
11867 00001818 8912              3640             BT      POS_ALLSTEPCTL_450      ;YES 最終工程だった JUMP
11868 0000181A 7101              3641             ADD     #1,R1                   ;
11869 0000181C 2511              3642             MOV.W   R1,@R5                  ;NEXT ｾｯﾄ
11870                            3643     
11871                            3644     ;       =======================================
11872 0000181E D406              3645             MOV.L   #_CAM_CNT_CHG_FLG,R4            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11873 00001820 200A              3646             XOR     R0,R0                           ;
11874 00001822 2401              3647             MOV.W   R0,@R4                          ;
11875                            3648     ;       =========================================
11876                            3649     
11877                            3650     ;       =================================================
11878 00001824 D005              3651             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
11879 00001826 2011              3652             MOV.W   R1,@R0                  ;
11880                            3653     ;       ================================================
11881                            3654     ;       === 次の工程への処理===         ;
11882                            3655             M_BRA   POS_ALLSTEPCTL_580      ;
11883 00001828 A05D                   M           BRA     POS_ALLSTEPCTL_580
11884 0000182A 0009                   M           NOP
11885                            3656     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   103
PROGRAM NAME =

11886                            3657     ;====通常の安一等の最終工程,連続停止の最終行程もここ 2004-03-03
11887                                     ***** BEGIN-POOL *****
11888 0000182C 00000000                   DATA FOR SOURCE-LINE 3630
11889 00001830 00000000                   DATA FOR SOURCE-LINE 3634
11890 00001834 00000000                   DATA FOR SOURCE-LINE 3636
11891 00001838 00000000                   DATA FOR SOURCE-LINE 3645
11892 0000183C 00000000                   DATA FOR SOURCE-LINE 3651
11893                                     ***** END-POOL *****
11894 00001840                   3658     POS_ALLSTEPCTL_450:
11895                            3659             FAR_JSR #_MOTION_CYCLE_END,R0           ;
11896 00001840 D00D                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11897 00001842 400B                   M           JSR     @R0                     ;
11898 00001844 0009                   M           NOP                                     ;
11899                            3660     
11900                            3661             .AIF    0 EQ    0
11901                            3662 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
11902 00001846 D00D                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11903 00001848 400B                   M           JSR     @R0                     ;
11904 0000184A 0009                   M           NOP                                     ;
11905                            3663 C   
11906                            3664             .AENDI
11907                            3665     
11908                            3666             FAR_JSR #_MOTION_CYCLE_ED2,R0           ;連続のVﾓｰﾄﾞがここを通過している
11909 0000184C D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11910 0000184E 400B                   M           JSR     @R0                     ;
11911 00001850 0009                   M           NOP                                     ;
11912                            3667             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
11913 00001852 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11914 00001854 400B                   M           JSR     @R0                     ;
11915 00001856 0009                   M           NOP                                     ;
11916                            3668     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT1,R0
11917                            3669     
11918                            3670     
11919                            3671     ;       == 非常停止解除(ｻｲｸﾙ運転),1CYCLEND ==
11920 00001858 D10B              3672             MOV.L   #_MODE_SEL,R1                   ;
11921 0000185A 6011              3673             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
11922 0000185C C80A              3674             TST     #(_W1CNT+_W1INC),R0             ;
11923                            3675             TST_BIT_OF POS_ALLSTEPCTL_600X          ;終了
11924 0000185E 8909                   M           BT      POS_ALLSTEPCTL_600X
11925                            3676     
11926 00001860 C802              3677             TST     #(_W1INC),R0                    ;
11927                            3678             TST_BIT_ON POS_ALLSTEPCTL_530           ;開始
11928 00001862 8B17                   M           BF      POS_ALLSTEPCTL_530
11929                            3679     
11930                            3680     ;       === 連続 ===
11931 00001864 D109              3681             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11932 00001866 6011              3682             MOV.W   @R1,R0                          ;
11933 00001868 C801              3683             TST     #BIT0,R0                        ;
11934                            3684             TST_BIT_ON POS_ALLSTEPCTL_600X          ;終了
11935 0000186A 8B03                   M           BF      POS_ALLSTEPCTL_600X
11936                            3685     
11937                            3686              .AIF   1 EQ 1  ;
11938                            3687 C   ;       -------- 2016-10-31 ADD 二重回路対策
11939                            3688              .AENDI
11940                            3689     
11941                            3690     ;;;2016-10-31           M_BRA   POS_ALLSTEPCTL_550              ;(連続のＶﾓｰﾄﾞでの最終工程
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   104
PROGRAM NAME =

                                          から最初の行程) 停止付の処理
11942                            3691     ;       ----------- 2016-10-31(2016-07-31)(CMPERR対策)--------
11943                            3692             .AIF    0 EQ    0
11944 0000186C D108              3693 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
11945                            3694             .AELSE
11946                            3695             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
11947                            3696             .AENDI
11948 0000186E 6011              3697             MOV.W   @R1,R0                          ;
11949 00001870 2008              3698             TST     R0,R0                           ;
11950                            3699             TST_BIT_OF POS_ALLSTEPCTL_550           ;(連続のＶﾓｰﾄﾞでの最終工程から最初の行程)
                                          停止付の処理
11951 00001872 8919                   M           BT      POS_ALLSTEPCTL_550
11952                            3700     ;;;;2016-08-24  XOR     R0,R0                           ;相手の信号を受け付けた場合,相手の
                                          信号をOFFしておく
11953                            3701     ;;;;2016-08-24  MOV.W   R0,@R1                          ;不要
11954                            3702     
11955                            3703     
11956 00001874                   3704     POS_ALLSTEPCTL_600X             ;終了
11957                            3705             M_BRA   POS_ALLSTEPCTL_600              ;終了
11958 00001874 A0C8                   M           BRA     POS_ALLSTEPCTL_600
11959 00001876 0009                   M           NOP
11960                            3706     
11961                            3707     
11962                                     ***** BEGIN-POOL *****
11963 00001878 00000000                   DATA FOR SOURCE-LINE 3659
11964 0000187C 00000000                   DATA FOR SOURCE-LINE 3662
11965 00001880 00000000                   DATA FOR SOURCE-LINE 3666
11966 00001884 00000000                   DATA FOR SOURCE-LINE 3667
11967 00001888 00000000                   DATA FOR SOURCE-LINE 3672
11968 0000188C 00000000                   DATA FOR SOURCE-LINE 3681
11969 00001890 00000000                   DATA FOR SOURCE-LINE 3693
11970                                     ***** END-POOL *****
11971 00001894                   3708     POS_ALLSTEPCTL_530:                             ;
11972 00001894 D103              3709             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
11973 00001896 6111              3710             MOV.W   @R1,R1                          ;.3
11974 00001898 9203              3711             MOV.W   #BIT3,R2                        ;
11975 0000189A 2128              3712             TST     R2,R1
11976                            3713             TST_BIT_OF POS_ALLSTEPCTL_550           ;
11977 0000189C 8904                   M           BT      POS_ALLSTEPCTL_550
11978                            3714             M_BRA   POS_ALLSTEPCTL_600              ;終了 寸動一工程
11979 0000189E A0B3                   M           BRA     POS_ALLSTEPCTL_600
11980 000018A0 0009                   M           NOP
11981                            3715     
11982                            3716     ;       === 継続運転<> ==
11983                                     ***** BEGIN-POOL *****
11984 000018A2 0008                       DATA FOR SOURCE-LINE 3711
11985 000018A4 00000000                   DATA FOR SOURCE-LINE 3709
11986                                     ***** END-POOL *****
11987 000018A8                   3717     POS_ALLSTEPCTL_550:                             ;
11988                            3718             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT4,WKREG=R1 ;2012-12-10 DEB
                                          UG
11989 000018A8 D11A                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11990 000018AA 6011                   M           MOV.W   @R1,R0          ;
11991 000018AC CB10                   M           OR      #BIT4,R0                ;
11992 000018AE 2101                   M           MOV.W   R0,@R1          ;
11993                            3719             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT3+BIT2+BIT1+BIT0),WKREG
                                          =R1     ;2012-12-10 DEBUG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   105
PROGRAM NAME =

11994 000018B0 D118                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11995 000018B2 6011                   M           MOV.W   @R1,R0          ;
11996 000018B4 C9F0                   M           AND     #LOW ~(BIT3+BIT2+BIT1+BIT0),R0          ;
11997 000018B6 2101                   M           MOV.W   R0,@R1          ;
11998                            3720     
11999                            3721              .AIF   1 EQ 1  ;
12000                            3722 C   ;       -------- 2016-10-31 ADD 二重回路対策
12001                            3723              .AENDI
12002                            3724     ;       ---------連続及び寸動の継続時の１サイクル終了はここ
12003                            3725             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
12004 000018B8 D017                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12005 000018BA 400B                   M           JSR     @R0                     ;
12006 000018BC 0009                   M           NOP                                     ;
12007                            3726     
12008                            3727     ;       ----- [2009-10-07下振子]-----
12009                            3728             FAR_JSR #_DNM_CYCLE_START,R0            ;連続の次のｻｲｸﾙ開始はここ
12010 000018BE D017                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12011 000018C0 400B                   M           JSR     @R0                     ;
12012 000018C2 0009                   M           NOP                                     ;
12013                            3729     
12014 000018C4 200A              3730             XOR     R0,R0                           ;
12015                            3731     ;       =======================================
12016 000018C6 D116              3732             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12017 000018C8 2101              3733             MOV.W   R0,@R1                          ;
12018                            3734     ;       =========================================
12019 000018CA D116              3735             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12020 000018CC 2101              3736             MOV.W   R0,@R1                          ;
12021 000018CE D116              3737             MOV.L   #_LINK_OBJROT_NUM_ZR,R1         ;//NOW ROTATION 番号
12022 000018D0 6212              3738             MOV.L   @R1,R2                          ;+0
12023                            3739     ;;;;    FAR_JSR #_NEXT_CYCL_START1,R0           ;回転なら+1
12024                            3740             FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0    ;2004-12-20::::連続/寸動の上死点停止付処理
12025 000018D2 D016                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12026 000018D4 400B                   M           JSR     @R0                     ;
12027 000018D6 0009                   M           NOP                                     ;
12028                            3741     
12029 000018D8 D115              3742             MOV.L   #_SV_POS_CTL_STEP,R1            ;//1msec 制御上の見かけ
12030 000018DA 6411              3743             MOV.W   @R1,R4                          ;
12031 000018DC D215              3744             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
12032 000018DE 2241              3745             MOV.W   R4,@R2                          ;
12033                            3746     
12034                            3747     
12035                            3748             FAR_JSR #_MOTION_CYCLE_START,R0         ;1回転
12036 000018E0 D015                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12037 000018E2 400B                   M           JSR     @R0                     ;
12038 000018E4 0009                   M           NOP                                     ;
12039                            3749     
12040                            3750     
12041                            3751     
12042                            3752     ;       ==== 通常の行程切替,連続の停止付１回転====
12043                            3753     ;       (((((連続Vﾓｰﾄﾞではここは通らない))))))))
12044 000018E6                   3754     POS_ALLSTEPCTL_580:                             ;<====
12045                            3755     ;       ====== 2007-09-15未出荷　(SIT3:2007-09-15)(COP2:2007-07-07) =============
12046                            3756             FAR_JSR #_POS_LSI_START_INITAL,R0
12047 000018E6 D015                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12048 000018E8 400B                   M           JSR     @R0                     ;
12049 000018EA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   106
PROGRAM NAME =

12050                            3757     
12051                            3758             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測から設定に取り込まない
12052 000018EC D014                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12053 000018EE 400B                   M           JSR     @R0                     ;
12054 000018F0 0009                   M           NOP                                     ;
12055                            3759     
12056                            3760             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;20060919:
12057 000018F2 D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12058 000018F4 400B                   M           JSR     @R0                     ;
12059 000018F6 0009                   M           NOP                                     ;
12060                            3761     
12061 000018F8 D113              3762             MOV.L   #_CPOS_CTL_MATH,R1              ;
12062 000018FA 6011              3763             MOV.W   @R1,R0                          ;
12063 000018FC C801              3764             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
12064                            3765             TST_BIT_OF POS_ALLSTEPCTL_585           ;
12065 000018FE 8935                   M           BT      POS_ALLSTEPCTL_585
12066                            3766     ;       ====== 回転時はこれ==========
12067 00001900 D112              3767             MOV.L   #_CPOS_BANK_USELFUL,R1          ;2004-12-20
12068 00001902 6011              3768             MOV.W   @R1,R0                          ;
12069 00001904 C801              3769             TST     #BIT0,R0                        ;
12070                            3770             TST_BIT_ON POS_ALLSTEPCTL_583           ;<====
12071 00001906 8B25                   M           BF      POS_ALLSTEPCTL_583
12072                            3771             FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;_LNGTH,SHIN,SPEED<設定から求める>
12073 00001908 D011                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12074 0000190A 400B                   M           JSR     @R0                     ;
12075 0000190C 0009                   M           NOP                                     ;
12076                            3772             M_BRA   POS_ALLSTEPCTL_590              ;[]
12077 0000190E A030                   M           BRA     POS_ALLSTEPCTL_590
12078 00001910 0009                   M           NOP
12079                            3773     
12080                                     ***** BEGIN-POOL *****
12081 00001912 0000                       ALIGNMENT CODE
12082 00001914 00000000                   DATA FOR SOURCE-LINE 3718,3719
12083 00001918 00000000                   DATA FOR SOURCE-LINE 3725
12084 0000191C 00000000                   DATA FOR SOURCE-LINE 3728
12085 00001920 00000000                   DATA FOR SOURCE-LINE 3732
12086 00001924 00000000                   DATA FOR SOURCE-LINE 3735
12087 00001928 00000000                   DATA FOR SOURCE-LINE 3737
12088 0000192C 00000000                   DATA FOR SOURCE-LINE 3740
12089 00001930 00000000                   DATA FOR SOURCE-LINE 3742
12090 00001934 00000000                   DATA FOR SOURCE-LINE 3744
12091 00001938 00000000                   DATA FOR SOURCE-LINE 3748
12092 0000193C 00000000                   DATA FOR SOURCE-LINE 3756
12093 00001940 00000000                   DATA FOR SOURCE-LINE 3758
12094 00001944 00000000                   DATA FOR SOURCE-LINE 3760
12095 00001948 00000000                   DATA FOR SOURCE-LINE 3762
12096 0000194C 00000000                   DATA FOR SOURCE-LINE 3767
12097 00001950 00000000                   DATA FOR SOURCE-LINE 3771
12098                                     ***** END-POOL *****
12099 00001954                   3774     POS_ALLSTEPCTL_583                              ;
12100                            3775     ;       === 連続の上死点ﾀｲﾏなし===
12101                            3776             FAR_JSR #_POS_CNT_BANK_DTMAK3,R0        ;ﾀｲﾏ停止後の起動
12102 00001954 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK3,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12103 00001956 400B                   M           JSR     @R0                     ;
12104 00001958 0009                   M           NOP                                     ;
12105                            3777             FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0     ;
12106 0000195A D003                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   107
PROGRAM NAME =

12107 0000195C 400B                   M           JSR     @R0                     ;
12108 0000195E 0009                   M           NOP                                     ;
12109                            3778             M_BRA   POS_ALLSTEPCTL_590              ;
12110 00001960 A007                   M           BRA     POS_ALLSTEPCTL_590
12111 00001962 0009                   M           NOP
12112                            3779     
12113                                     ***** BEGIN-POOL *****
12114 00001964 00000000                   DATA FOR SOURCE-LINE 3776
12115 00001968 00000000                   DATA FOR SOURCE-LINE 3777
12116                                     ***** END-POOL *****
12117 0000196C                   3780     POS_ALLSTEPCTL_585:                             ;<<<<<<<<<<<<<<<<<<
12118                            3781     
12119                            3782             FAR_JSR #_POS_1STEP_DATA_MAK_SEL,R0     ;2011-11-18 _POS_1STEP_DATA_MAK1CL/POS_1ST
                                          EP_DATA_MAK2の切り替え
12120 0000196C D017                   M           MOV.L   #_POS_1STEP_DATA_MAK_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12121 0000196E 400B                   M           JSR     @R0                     ;
12122 00001970 0009                   M           NOP                                     ;
12123                            3783     
12124                            3784                                                     ;基本的には一致した状態(本当は最終工程だけ
                                          )
12125                            3785     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12126                            3786     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12127                            3787     
12128 00001972                   3788     POS_ALLSTEPCTL_590:                             ;
12129                            3789     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ==== 2003-07-14 回転の停止時間変更 ===
12130                            3790     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 2014-08-30
12131                            3791     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   #_SV_CHG_FLG2,R1                ;
12132                            3792     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   @R1,R0                          ;
12133                            3793     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST     R0,R0                           ;
12134                            3794     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST_BIT_ON POS_ALLSTEPCTL_900           ;次の起動をかけな
                                          い
12135                            3795     
12136                            3796     ;       ===(次ｽﾃｯﾌﾟ起動)===
12137                            3797             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-27(data-smp only)
12138 00001972 D017                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12139 00001974 400B                   M           JSR     @R0                     ;
12140 00001976 0009                   M           NOP                                     ;
12141                            3798     
12142                            3799             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
12143 00001978 D016                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12144 0000197A 400B                   M           JSR     @R0                     ;
12145 0000197C 0009                   M           NOP                                     ;
12146                            3800             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(data-smp only)
12147 0000197E D016                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12148 00001980 400B                   M           JSR     @R0                     ;
12149 00001982 0009                   M           NOP                                     ;
12150                            3801     
12151                            3802     
12152                            3803     ;;;;;;  FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
12153                            3804     ;;;;;(連続のＶﾓｰﾄﾞもここを通過してきているので安全一行程だけ)
12154                            3805             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
12155 00001984 D015                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12156 00001986 400B                   M           JSR     @R0                     ;
12157 00001988 0009                   M           NOP                                     ;
12158                            3806     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   108
PROGRAM NAME =

12159                            3807     ;       == 2004-03 ===
12160                            3808             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;"SGL"
12161 0000198A D015                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12162 0000198C 400B                   M           JSR     @R0                     ;
12163 0000198E 0009                   M           NOP                                     ;
12164 00001990 901B              3809             MOV.W   #D'2,R0                 ;
12165 00001992 D114              3810             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
12166 00001994 2101              3811             MOV.W   R0,@R1                          ;
12167                            3812     
12168                            3813             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;"SGL"
12169 00001996 D014                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12170 00001998 400B                   M           JSR     @R0                     ;
12171 0000199A 0009                   M           NOP                                     ;
12172                            3814             FAR_JSR #_FWD_REV_START,R1              ;起動
12173 0000199C D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12174 0000199E 410B                   M           JSR     @R1                     ;
12175 000019A0 0009                   M           NOP                                     ;
12176                            3815     
12177                            3816     ;       -------- 2010-09-27 ふりこ情報--------
12178                            3817             FAR_JSR #_DNM_START_ACC_CALC,R0
12179 000019A2 D013                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12180 000019A4 400B                   M           JSR     @R0                     ;
12181 000019A6 0009                   M           NOP                                     ;
12182                            3818     
12183                            3819             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
12184 000019A8 D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12185 000019AA 400B                   M           JSR     @R0                     ;
12186 000019AC 0009                   M           NOP                                     ;
12187                            3820     
12188 000019AE 200A              3821             XOR     R0,R0                           ;
12189 000019B0 D111              3822             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12190 000019B2 2101              3823             MOV.W   R0,@R1                          ;Q
12191                            3824     
12192                            3825     ;       ==== ﾆｱｾﾞﾛ,ﾊﾝﾄﾞｼｪｲｸ終了,ｸﾛｰｽﾞﾌﾗｸﾞCLR ===
12193                            3826             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
12194 000019B4 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12195 000019B6 400B                   M           JSR     @R0                     ;
12196 000019B8 0009                   M           NOP                                     ;
12197                            3827     
12198                            3828     ;       ---------------- 起動 2011-09-01 -------------------
12199                            3829             FAR_JSR #_UP_ACCERR_START_INI,R0
12200 000019BA D011                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12201 000019BC 400B                   M           JSR     @R0                     ;
12202 000019BE 0009                   M           NOP                                     ;
12203                            3830     
12204                            3831     
12205                            3832     ;       ------- 2015-11-17 -----------------------
12206                            3833     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_START1,R0
12207                            3834             FAR_JSR #_API_ACC_MATHED_COM_DRV_START1,R0      ;2016-04-18
12208 000019C0 D010                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_START1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12209 000019C2 400B                   M           JSR     @R0                     ;
12210 000019C4 0009                   M           NOP                                     ;
12211                            3835             M_BRA   POS_ALLSTEPCTL_900              ;
12212 000019C6 A037                   M           BRA     POS_ALLSTEPCTL_900
12213 000019C8 0009                   M           NOP
12214                            3836     
12215                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   109
PROGRAM NAME =

12216 000019CA 0002                       DATA FOR SOURCE-LINE 3809
12217 000019CC 00000000                   DATA FOR SOURCE-LINE 3782
12218 000019D0 00000000                   DATA FOR SOURCE-LINE 3797
12219 000019D4 00000000                   DATA FOR SOURCE-LINE 3799
12220 000019D8 00000000                   DATA FOR SOURCE-LINE 3800
12221 000019DC 00000000                   DATA FOR SOURCE-LINE 3805
12222 000019E0 00000000                   DATA FOR SOURCE-LINE 3808
12223 000019E4 00000000                   DATA FOR SOURCE-LINE 3810
12224 000019E8 00000000                   DATA FOR SOURCE-LINE 3813
12225 000019EC 00000000                   DATA FOR SOURCE-LINE 3814
12226 000019F0 00000000                   DATA FOR SOURCE-LINE 3817
12227 000019F4 00000000                   DATA FOR SOURCE-LINE 3819
12228 000019F8 00000000                   DATA FOR SOURCE-LINE 3822
12229 000019FC 00000000                   DATA FOR SOURCE-LINE 3826
12230 00001A00 00000000                   DATA FOR SOURCE-LINE 3829
12231 00001A04 00000000                   DATA FOR SOURCE-LINE 3834
12232                                     ***** END-POOL *****
12233 00001A08                   3837     POS_ALLSTEPCTL_600:
12234                            3838             FAR_JSR #_MOTION_CYCLE_END,R0                   ;2回目通る
12235 00001A08 D00D                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12236 00001A0A 400B                   M           JSR     @R0                     ;
12237 00001A0C 0009                   M           NOP                                     ;
12238                            3839             FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
12239 00001A0E D00D                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12240 00001A10 400B                   M           JSR     @R0                     ;
12241 00001A12 0009                   M           NOP                                     ;
12242                            3840             FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
12243 00001A14 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12244 00001A16 400B                   M           JSR     @R0                     ;
12245 00001A18 0009                   M           NOP                                     ;
12246                            3841     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT2,R0
12247                            3842     
12248                            3843             .AIF    0 EQ    0
12249                            3844 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12250 00001A1A D00C                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12251 00001A1C 400B                   M           JSR     @R0                     ;
12252 00001A1E 0009                   M           NOP                                     ;
12253                            3845             .AENDI
12254                            3846     
12255                            3847             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
12256 00001A20 D10B                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12257 00001A22 6011                   M           MOV.W   @R1,R0          ;
12258 00001A24 CB40                   M           OR      #BIT6,R0                ;
12259 00001A26 2101                   M           MOV.W   R0,@R1          ;
12260                            3848     
12261                            3849     ;       ------- 2015-11-17 -----------------------
12262                            3850     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
12263                            3851             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
12264 00001A28 D00A                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12265 00001A2A 400B                   M           JSR     @R0                     ;
12266 00001A2C 0009                   M           NOP                                     ;
12267                            3852     
12268                            3853     ;       ======ｻｲｸﾙ停止状態ON==========================
12269 00001A2E D10A              3854             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12270 00001A30 6011              3855             MOV.W   @R1,R0                                  ;
12271 00001A32 9404              3856             MOV.W   #BIT7,R4                                ;
12272 00001A34 204B              3857             OR      R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   110
PROGRAM NAME =

                                          る
12273 00001A36 2101              3858             MOV.W   R0,@R1                                  ;
12274                            3859     ;       ===============================================
12275 00001A38                   3860     POS_ALLSTEPCTL_900:
12276                            3861     
12277                            3862     
12278                            3863     
12279                            3864     
12280                            3865     
12281                            3866     ;       ------- 2012-12-10 DEBUG-----------
12282                            3867     ;;;2014-09-14   MOV.L   #_DNM_DEBUG_STS1,R1
12283                            3868     ;;;2014-09-14   MOV.W   @R1,R2
12284                            3869     ;;;2014-09-14   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
12285                            3870     ;;;2014-09-14   MOV.W   R2,@R1                          ;ﾃﾞﾊﾞｯｸ専用
12286                            3871     
12287                            3872     
12288                            3873             SUB_END
12289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12290 00001A38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12291                            3874             M_RTS
12292 00001A3A 000B                   M           RTS                             ;RTSの後ろの
12293 00001A3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12294                            3875     
12295                            3876     
12296                            3877     
12297                            3878     
12298                            3879     
12299                            3880     
12300                                     ***** BEGIN-POOL *****
12301 00001A3E 0080                       DATA FOR SOURCE-LINE 3856
12302 00001A40 00000000                   DATA FOR SOURCE-LINE 3838
12303 00001A44 00000000                   DATA FOR SOURCE-LINE 3839
12304 00001A48 00000000                   DATA FOR SOURCE-LINE 3840
12305 00001A4C 00000000                   DATA FOR SOURCE-LINE 3844
12306 00001A50 00000000                   DATA FOR SOURCE-LINE 3847
12307 00001A54 00000000                   DATA FOR SOURCE-LINE 3851
12308 00001A58 00000000                   DATA FOR SOURCE-LINE 3854
12309                                     ***** END-POOL *****
12310 00001A5C                   3881     _DEBUG_BRK_POINT1
12311                            3882             SUB_START
12312 00001A5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12313                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12314                            3883     ;       -------debug break-point set----------
12315                            3884             PUSH_REG1 R0
12316 00001A5E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12317                                 M                                           ;REG=>[SP]
12318                                 M                                           ;"-4" FF,FF,FF,FC
12319                            3885             PUSH_REG1 R1
12320 00001A60 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12321                                 M                                           ;REG=>[SP]
12322                                 M                                           ;"-4" FF,FF,FF,FC
12323 00001A62 D107              3886             MOV.L   #_di2_cb_ctl2,R1        ;
12324 00001A64 6011              3887             MOV.W   @R1,R0                  ;
12325 00001A66 C880              3888             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12326                            3889             TST_BIT_OF DEBUG_BRK_PNT1_100
12327 00001A68 8904                   M           BT      DEBUG_BRK_PNT1_100
12328                            3890     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   111
PROGRAM NAME =

12329 00001A6A 0009              3891             NOP
12330 00001A6C 0009              3892             NOP
12331 00001A6E 0009              3893             NOP
12332 00001A70 0009              3894             NOP
12333 00001A72 0009              3895             NOP
12334                            3896     
12335                            3897     
12336 00001A74                   3898     DEBUG_BRK_PNT1_100
12337                            3899     
12338                            3900     
12339                            3901             POP_REG1 R1
12340                                 M                                   ; RE"+4" 00,00,00,04
12341 00001A74 61F6                   M           MOV.L   @R15+,R1        ;
12342                            3902             POP_REG1 R0
12343                                 M                                   ; RE"+4" 00,00,00,04
12344 00001A76 60F6                   M           MOV.L   @R15+,R0        ;
12345                            3903             SUB_END
12346                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12347 00001A78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12348                            3904             M_RTS
12349 00001A7A 000B                   M           RTS                             ;RTSの後ろの
12350 00001A7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12351                            3905     
12352                                     ***** BEGIN-POOL *****
12353 00001A7E 0000                       ALIGNMENT CODE
12354 00001A80 00000000                   DATA FOR SOURCE-LINE 3886
12355                                     ***** END-POOL *****
12356 00001A84                   3906     _DEBUG_BRK_POINT2
12357                            3907             SUB_START
12358 00001A84 4F22                   M           STS.L   PR,@-R15                ;[必要]
12359                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12360                            3908     ;       -------debug break-point set----------
12361                            3909             PUSH_REG1 R0
12362 00001A86 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12363                                 M                                           ;REG=>[SP]
12364                                 M                                           ;"-4" FF,FF,FF,FC
12365                            3910             PUSH_REG1 R1
12366 00001A88 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12367                                 M                                           ;REG=>[SP]
12368                                 M                                           ;"-4" FF,FF,FF,FC
12369 00001A8A D107              3911             MOV.L   #_di2_cb_ctl2,R1        ;
12370 00001A8C 6011              3912             MOV.W   @R1,R0                  ;
12371 00001A8E C880              3913             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12372                            3914             TST_BIT_OF DEBUG_BRK_PNT2_100
12373 00001A90 8904                   M           BT      DEBUG_BRK_PNT2_100
12374                            3915     
12375 00001A92 0009              3916             NOP
12376 00001A94 0009              3917             NOP
12377 00001A96 0009              3918             NOP
12378 00001A98 0009              3919             NOP
12379 00001A9A 0009              3920             NOP
12380                            3921     
12381                            3922     
12382 00001A9C                   3923     DEBUG_BRK_PNT2_100
12383                            3924     
12384                            3925     
12385                            3926             POP_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   112
PROGRAM NAME =

12386                                 M                                   ; RE"+4" 00,00,00,04
12387 00001A9C 61F6                   M           MOV.L   @R15+,R1        ;
12388                            3927             POP_REG1 R0
12389                                 M                                   ; RE"+4" 00,00,00,04
12390 00001A9E 60F6                   M           MOV.L   @R15+,R0        ;
12391                            3928             SUB_END
12392                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12393 00001AA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12394                            3929             M_RTS
12395 00001AA2 000B                   M           RTS                             ;RTSの後ろの
12396 00001AA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12397                            3930     
12398                                     ***** BEGIN-POOL *****
12399 00001AA6 0000                       ALIGNMENT CODE
12400 00001AA8 00000000                   DATA FOR SOURCE-LINE 3911
12401                                     ***** END-POOL *****
12402 00001AAC                   3931     _DEBUG_BRK_POINT3
12403                            3932             SUB_START
12404 00001AAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12405                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12406                            3933     ;       -------debug break-point set----------
12407                            3934             PUSH_REG1 R0
12408 00001AAE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12409                                 M                                           ;REG=>[SP]
12410                                 M                                           ;"-4" FF,FF,FF,FC
12411                            3935             PUSH_REG1 R1
12412 00001AB0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12413                                 M                                           ;REG=>[SP]
12414                                 M                                           ;"-4" FF,FF,FF,FC
12415 00001AB2 D107              3936             MOV.L   #_di2_cb_ctl2,R1        ;
12416 00001AB4 6011              3937             MOV.W   @R1,R0                  ;
12417 00001AB6 C880              3938             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12418                            3939             TST_BIT_OF DEBUG_BRK_PNT3_100
12419 00001AB8 8904                   M           BT      DEBUG_BRK_PNT3_100
12420                            3940     
12421 00001ABA 0009              3941             NOP
12422 00001ABC 0009              3942             NOP
12423 00001ABE 0009              3943             NOP
12424 00001AC0 0009              3944             NOP
12425 00001AC2 0009              3945             NOP
12426                            3946     
12427                            3947     
12428 00001AC4                   3948     DEBUG_BRK_PNT3_100
12429                            3949     
12430                            3950     
12431                            3951             POP_REG1 R1
12432                                 M                                   ; RE"+4" 00,00,00,04
12433 00001AC4 61F6                   M           MOV.L   @R15+,R1        ;
12434                            3952             POP_REG1 R0
12435                                 M                                   ; RE"+4" 00,00,00,04
12436 00001AC6 60F6                   M           MOV.L   @R15+,R0        ;
12437                            3953             SUB_END
12438                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12439 00001AC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12440                            3954             M_RTS
12441 00001ACA 000B                   M           RTS                             ;RTSの後ろの
12442 00001ACC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   113
PROGRAM NAME =

12443                            3955     
12444                            3956     
12445                            3957     ;       *******************************************************************
12446                            3958     ;       ***                                                             ***
12447                            3959     ;       ***     反転時のフルクローズ後の工程（戻り）は目標位置ではだめ  ***
12448                            3960     ;       ***                                                             ***
12449                            3961     ;       *******************************************************************
12450                            3962     ;       2011-02-18 (2010-10-05 はMCのよるソフト)
12451                            3963     ;
12452                                     ***** BEGIN-POOL *****
12453 00001ACE 0000                       ALIGNMENT CODE
12454 00001AD0 00000000                   DATA FOR SOURCE-LINE 3936
12455                                     ***** END-POOL *****
12456 00001AD4                   3964             .ALIGN  4                               ;
12457 00001AD4                   3965     _POS_1STEP_DATA_MAK_SEL:
12458                            3966             SUB_START
12459 00001AD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12460                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12461                            3967     
12462 00001AD6 D104              3968             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12463 00001AD8 6011              3969             MOV.W   @R1,R0                                  ;
12464 00001ADA C805              3970             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
12465                            3971             TST_BIT_ON POS_1STEP_DATA_MKSL100               ;YES
12466 00001ADC 8B08                   M           BF      POS_1STEP_DATA_MKSL100
12467                            3972     
12468                            3973     ;;;     FAR_JSR #_POS_1STEP_DATA_MAK1,R0                ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12469                            3974             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0              ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12470 00001ADE D003                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12471 00001AE0 400B                   M           JSR     @R0                     ;
12472 00001AE2 0009                   M           NOP                                     ;
12473                            3975             M_BRA   POS_1STEP_DATA_MKSL200                  ;
12474 00001AE4 A007                   M           BRA     POS_1STEP_DATA_MKSL200
12475 00001AE6 0009                   M           NOP
12476                            3976     
12477                            3977     
12478                                     ***** BEGIN-POOL *****
12479 00001AE8 00000000                   DATA FOR SOURCE-LINE 3968
12480 00001AEC 00000000                   DATA FOR SOURCE-LINE 3974
12481                                     ***** END-POOL *****
12482 00001AF0                   3978     POS_1STEP_DATA_MKSL100:
12483                            3979             FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;目標位置タイプ　2010-10-05
12484 00001AF0 D002                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12485 00001AF2 400B                   M           JSR     @R0                     ;
12486 00001AF4 0009                   M           NOP                                     ;
12487 00001AF6                   3980     POS_1STEP_DATA_MKSL200:
12488                            3981                                                             ;基本的には一致した状態(本当は最終
                                          工程だけ)
12489                            3982     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12490                            3983     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12491                            3984     
12492                            3985     
12493                            3986             SUB_END
12494                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12495 00001AF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   114
PROGRAM NAME =

12496                            3987             M_RTS
12497 00001AF8 000B                   M           RTS                             ;RTSの後ろの
12498 00001AFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12499                            3988     
12500                            3989     
12501                            3990     
12502                            3991     
12503                            3992     
12504                            3993     ;       *******************************************
12505                            3994     ;       ***                                     ***
12506                            3995     ;       ***                                     ***
12507                            3996     ;       ***                                     ***
12508                            3997     ;       ***     JUMP処理短縮のｻﾌﾞﾙｰﾁﾝ化         ***
12509                            3998     ;       ***     2009-10-07                      ***
12510                            3999     ;       ***                                     ***
12511                            4000     ;       ***                                     ***
12512                            4001     ;       *******************************************
12513                                     ***** BEGIN-POOL *****
12514 00001AFC 00000000                   DATA FOR SOURCE-LINE 3979
12515                                     ***** END-POOL *****
12516 00001B00                   4002     _CNT_NEAR_TIM_CHK:
12517                            4003             SUB_START
12518 00001B00 4F22                   M           STS.L   PR,@-R15                ;[必要]
12519                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12520                            4004             SUB_END
12521                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12522 00001B02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12523                            4005             M_RTS
12524 00001B04 000B                   M           RTS                             ;RTSの後ろの
12525 00001B06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12526                            4006     
12527 00001B08                   4007     _POS_ALLSTEP_STOP_SPD_CHK:
12528                            4008             SUB_START
12529 00001B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
12530                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12531                            4009             SUB_END
12532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12533 00001B0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12534                            4010             M_RTS
12535 00001B0C 000B                   M           RTS                             ;RTSの後ろの
12536 00001B0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12537                            4011     
12538 00001B10                   4012     _NEAR_ZERO_IN_CHK:
12539                            4013             SUB_START
12540 00001B10 4F22                   M           STS.L   PR,@-R15                ;[必要]
12541                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12542                            4014             SUB_END
12543                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12544 00001B12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12545                            4015             M_RTS
12546 00001B14 000B                   M           RTS                             ;RTSの後ろの
12547 00001B16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12548                            4016     
12549 00001B18                   4017     _PLSOUT_STEP_END_TIMSET
12550                            4018             SUB_START
12551 00001B18 4F22                   M           STS.L   PR,@-R15                ;[必要]
12552                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   115
PROGRAM NAME =

12553                            4019             SUB_END
12554                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12555 00001B1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12556                            4020             M_RTS
12557 00001B1C 000B                   M           RTS                             ;RTSの後ろの
12558 00001B1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12559                            4021     
12560 00001B20                   4022     _WAIT_TIM_CNT:
12561                            4023             SUB_START
12562 00001B20 4F22                   M           STS.L   PR,@-R15                ;[必要]
12563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12564                            4024             SUB_END
12565                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12566 00001B22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12567                            4025             M_RTS
12568 00001B24 000B                   M           RTS                             ;RTSの後ろの
12569 00001B26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12570                            4026     
12571                            4027     
12572                            4028     ;       ***********************************
12573                            4029     ;       ***                             ***
12574                            4030     ;       ***     次のｻｲｸﾙ演算            ***
12575                            4031     ;       ***                             ***
12576                            4032     ;       ***********************************
12577                            4033     
12578                            4034     ;       ***************************
12579                            4035     ;       ***     Input R2 回転   ***
12580                            4036     ;       ***************************
12581                            4037     ;       ==かならず正転方向から運転を始める
12582                            4038     ;       ==(今の目標位置＝現在位置）は待機点と正転方向の第一目標位置の間にあるか？(正転動作
                                          から始める)０を
12583                            4039     ;       (1)待機点が第一目標位置より小さい場合（普通の設定 目標位置は１回転足されていない）
                                          ０をはさまない
12584                            4040     ;          @待機点と目標位置の範囲内なら足さない
12585                            4041     ;          A　@以外で１８０度(上昇ホールドだけど)〜０度（３６００）の範囲なら＋１する
12586                            4042     ;          Bそれ以外は戻すからそのまま
12587                            4043     ;       (2)待機点が第一目標位置より大きい場合（普通の設定 目標位置は１回転足されている）：
                                          ０をはさむ
12588                            4044     ;          @待機点〜０の間はそのまま
12589                            4045     ;          A０を含む ０〜第一目標位置の間は−１する
12590                            4046     ;          Bそのままにしておく
12591                            4047     
12592                            4048     ;       パルスで考える
12593                            4049     ;
12594                            4050     ;       0ﾊﾟﾙｽから待機点ﾊﾟﾙｽ間はそのまま
12595                            4051     ;       待機ﾊﾟﾙｽ~SV間
12596                            4052     ;
12597                            4053     ;       第一目標位置が360度を越えない場合(またがない場合)
12598                            4054     ;       第一目標位置が360度を越える場合(またぐ場合)
12599                            4055     ;
12600                            4056     ;
12601                            4057     ;       0_______ORG_____SV________359.9
12602                            4058     ;         PV1       PV2     PV3
12603                            4059     ;         *PV1:そのままの回転 PV2:そのまま　PV3 回転+1
12604                            4060     ;
12605                            4061     ;       0_______ORG_______________360.0_______SV______719.9
12606                            4062     ;          PV2          PV1              PV3-2   PV3-1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   116
PROGRAM NAME =

12607                            4063     ;          PV+360.0
12608                            4064     ;         PV1:そのまま (PV2はない)
12609                            4065     ;         PV3-1:そのまま
12610                            4066     ;         PV3-2: "-1"
12611                            4067     ;       "Input R2"
12612 00001B28                   4068             .ALIGN  4                               ;
12613 00001B28                   4069     _NEXT_CYCL_START2:                              ;[正方向から開始する運転の１回目の起動]
12614                            4070             SUB_START                               ;
12615 00001B28 4F22                   M           STS.L   PR,@-R15                ;[必要]
12616                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12617                            4071     
12618                            4072             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
12619 00001B2A D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12620 00001B2C 400B                   M           JSR     @R0                     ;
12621 00001B2E 0009                   M           NOP                                     ;
12622 00001B30 D410              4073             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12623 00001B32 6242              4074             MOV.L   @R4,R2                                  ;
12624                            4075     
12625 00001B34 D410              4076             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;"(目標)"
12626 00001B36 6942              4077             MOV.L   @R4,R9                                  ;
12627 00001B38 D110              4078             MOV.L   #_CPOS_UPAREA_PLS,R1                    ;//4;待機点
12628 00001B3A 6812              4079             MOV.L   @R1,R8                                  ;
12629 00001B3C D110              4080             MOV.L   #_LINK_1ROT_PLS,R1                      ;待機点より小さかったら+１回転
12630 00001B3E 6712              4081             MOV.L   @R1,R7                                  ;反転時もこの論理でＯＫ
12631                            4082     
12632                            4083     ;;;;2014-09-19 振子の逆待機点からの開始
12633                            4084     ;;;;2014-09-19  MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10             ;
12634 00001B40 DA10              4085             MOV.L   #_CPOS_SDAT1_OFSPOS,R10                                         ;
12635 00001B42 63A2              4086             MOV.L   @R10,R3
                                          ;1ｽﾃｯﾌﾟ目
12636                            4087     
12637                            4088     ;       ------INC_RESET_USE_F;//STEPを参照して　2014-09-26----------
12638                            4089     ;;;;2018-11-13
12639                            4090     ;;;;2018-11-13  MOV.L   #_INC_RESET_USE_F,R1            ;
12640                            4091     ;;;;2018-11-13  MOV.W   @R1,R0                                          ;
12641                            4092     ;;;;2018-11-13  TST     R0,R0                                                   ;
12642                            4093     ;;;;2018-11-13  TST_BIT_ON POS_START_ROT_CAL_900        ;
12643                            4094     ;;;;2018-11-13
12644                            4095     ;       ------------ 2018-11-13--------
12645 00001B44 D110              4096             MOV.L   #_INC_RESET_USE_F,R1                            ;ﾛｯﾄ数を算出するｿﾌﾄ
12646 00001B46 6011              4097             MOV.W   @R1,R0                                                          ;
12647 00001B48 2008              4098             TST     R0,R0                                                                   ;
12648                            4099             TST_BIT_OF POS_START_ROT_CAL_050                        ;
12649 00001B4A 8927                   M           BT      POS_START_ROT_CAL_050
12650                            4100     
12651 00001B4C D10F              4101             MOV.L   #_CPOS_CTL_MATH,R1                                      ;
12652 00001B4E 6011              4102             MOV.W   @R1,R0                                                          ;
12653 00001B50 C801              4103             TST     #(_DMATH_CNTROT),R0                                             ;
12654                            4104             TST_BIT_OF POS_START_ROT_CAL_040                        ;回転ではない 今のﾛｯﾄはそ
                                          のまま
12655 00001B52 8921                   M           BT      POS_START_ROT_CAL_040
12656                            4105     
12657 00001B54 2888              4106             TST             R8,R8                                                           ;
12658                            4107             TST_BIT_OF POS_START_ROT_CAL_040                        ;待機点が0なら関係ない
12659 00001B56 891F                   M           BT      POS_START_ROT_CAL_040
12660                            4108     
12661 00001B58 D10D              4109             MOV.L   #_PAR_WTSEL_USE,R1                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   117
PROGRAM NAME =

12662 00001B5A 6011              4110             MOV.W   @R1,R0                                                          ;
12663 00001B5C 8801              4111             CMP/EQ  #1,R0                                                           ;
12664 00001B5E 8B1B              4112             BF              POS_START_ROT_CAL_040                           ;待機点選択無効
12665                            4113     
12666 00001B60 D10C              4114             MOV.L   #_INC_RESET_STEP,R1                                     ;
12667 00001B62 6011              4115             MOV.W   @R1,R0                                                          ;
12668 00001B64 70FF              4116             ADD             #-1,R0                                                          ;
12669 00001B66 4008              4117             SHLL2   R0                                                                      ;4
                                          BYTE
12670 00001B68 30AC              4118             ADD             R10,R0                                                          ;
12671 00001B6A 6302              4119             MOV.L   @R0,R3                                                          ;R4 目標
12672                            4120             M_BRA   POS_START_ROT_CAL_100                           ;この目標位置で計算
12673 00001B6C A026                   M           BRA     POS_START_ROT_CAL_100
12674 00001B6E 0009                   M           NOP
12675                            4121     
12676                            4122     
12677                                     ***** BEGIN-POOL *****
12678 00001B70 00000000                   DATA FOR SOURCE-LINE 4072
12679 00001B74 00000000                   DATA FOR SOURCE-LINE 4073
12680 00001B78 00000000                   DATA FOR SOURCE-LINE 4076
12681 00001B7C 00000000                   DATA FOR SOURCE-LINE 4078
12682 00001B80 00000000                   DATA FOR SOURCE-LINE 4080
12683 00001B84 00000000                   DATA FOR SOURCE-LINE 4085
12684 00001B88 00000000                   DATA FOR SOURCE-LINE 4096
12685 00001B8C 00000000                   DATA FOR SOURCE-LINE 4101
12686 00001B90 00000000                   DATA FOR SOURCE-LINE 4109
12687 00001B94 00000000                   DATA FOR SOURCE-LINE 4114
12688                                     ***** END-POOL *****
12689 00001B98                   4123     POS_START_ROT_CAL_040:
12690                            4124             M_BRA   POS_START_ROT_CAL_900                   ;
12691 00001B98 A01E                   M           BRA     POS_START_ROT_CAL_900
12692 00001B9A 0009                   M           NOP
12693                            4125     
12694                            4126     
12695                            4127     
12696 00001B9C                   4128     POS_START_ROT_CAL_050:
12697                            4129     ;       ----------------------------------------------------------
12698                            4130     ;       ----- 2014-09-19　ふりこ反対側待機点からの初起動-----------
12699 00001B9C D105              4131             MOV.L   #_CPOS_CTL_MATH,R1                              ;
12700 00001B9E 6011              4132             MOV.W   @R1,R0                                                  ;
12701 00001BA0 C804              4133             TST     #(_DMATH_DNDRIV),R0                                     ;往復
12702                            4134             TST_BIT_OF POS_START_ROT_CAL_100                ;
12703 00001BA2 890B                   M           BT      POS_START_ROT_CAL_100
12704                            4135     
12705 00001BA4 D104              4136             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//このフラグでいいのかな？
12706 00001BA6 6011              4137             MOV.W   @R1,R0                                                  ;
12707 00001BA8 2008              4138             TST     R0,R0                                                           ;
12708                            4139             TST_BIT_OF POS_START_ROT_CAL_100                ;ふりこの通常側からの起動
12709 00001BAA 8907                   M           BT      POS_START_ROT_CAL_100
12710                            4140     
12711                            4141     ;-------いいのかな?
12712 00001BAC 3833              4142             CMP/GE  R3,R8                                                   ;目標=<待機点
12713 00001BAE 8913              4143             BT      POS_START_ROT_CAL_900                           ;逆転から始まる
12714                            4144             M_BRA   POS_START_ROT_CAL_999                   ;-1回転
12715 00001BB0 A020                   M           BRA     POS_START_ROT_CAL_999
12716 00001BB2 0009                   M           NOP
12717                            4145     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   118
PROGRAM NAME =

12718                            4146     
12719                            4147     
12720                            4148     ;---------------- 今までの回転、反転、ふりこ右側待機・・正転から始まる-----------
12721                                     ***** BEGIN-POOL *****
12722 00001BB4 00000000                   DATA FOR SOURCE-LINE 4131
12723 00001BB8 00000000                   DATA FOR SOURCE-LINE 4136
12724                                     ***** END-POOL *****
12725 00001BBC                   4149     POS_START_ROT_CAL_100:
12726 00001BBC 3373              4150             CMP/GE  R7,R3                                                   ;1REV =< SV
12727 00001BBE 8903              4151             BT      POS_START_ROT_CAL_200                           ;
12728                            4152     ;       ======= 0度をはさまない ====
12729 00001BC0 3937              4153             CMP/GT  R3,R9                                                   ;
12730 00001BC2 890F              4154             BT      POS_START_ROT_CAL_950                           ;待機(R8)<SV(R3)<NOW
12731                            4155             M_BRA   POS_START_ROT_CAL_900                   ;
12732 00001BC4 A008                   M           BRA     POS_START_ROT_CAL_900
12733 00001BC6 0009                   M           NOP
12734                            4156     
12735                            4157     ;       ====== ０度を挟む===
12736 00001BC8                   4158     POS_START_ROT_CAL_200:
12737 00001BC8 3897              4159             CMP/GT  R9,R8                                                   ;待機点以下?
12738 00001BCA 8B05              4160             BF      POS_START_ROT_CAL_900                           ;NO! 待機点~360度
12739 00001BCC 6593              4161             MOV     R9,R5
12740 00001BCE 357C              4162             ADD     R7,R5                                                           ;1REV+NOW
12741 00001BD0 3537              4163             CMP/GT  R3,R5                                                   ;SV < NOW
12742 00001BD2 8901              4164             BT      POS_START_ROT_CAL_900                           ;YES
12743                            4165             M_BRA   POS_START_ROT_CAL_999                   ;
12744 00001BD4 A00E                   M           BRA     POS_START_ROT_CAL_999
12745 00001BD6 0009                   M           NOP
12746                            4166     
12747                            4167     
12748                            4168     
12749                            4169     ;       ===== そのまま =====
12750 00001BD8                   4170     POS_START_ROT_CAL_900
12751 00001BD8 D401              4171             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12752 00001BDA 6242              4172             MOV.L   @R4,R2                                  ;
12753                            4173             M_BRA   NEXT_CYCL_STR1_050                      ;
12754 00001BDC A018                   M           BRA     NEXT_CYCL_STR1_050
12755 00001BDE 0009                   M           NOP
12756                            4174     
12757                            4175     ;       ===== +1 =====
12758                                     ***** BEGIN-POOL *****
12759 00001BE0 00000000                   DATA FOR SOURCE-LINE 4171
12760                                     ***** END-POOL *****
12761 00001BE4                   4176     POS_START_ROT_CAL_950
12762 00001BE4 D402              4177             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12763 00001BE6 6242              4178             MOV.L   @R4,R2                                  ;
12764 00001BE8 7201              4179             ADD     #1,R2                                   ;
12765                            4180             M_BRA   NEXT_CYCL_STR1_050                      ;
12766 00001BEA A011                   M           BRA     NEXT_CYCL_STR1_050
12767 00001BEC 0009                   M           NOP
12768                            4181     
12769                            4182     ;       ===== -1 =====
12770                                     ***** BEGIN-POOL *****
12771 00001BEE 0000                       ALIGNMENT CODE
12772 00001BF0 00000000                   DATA FOR SOURCE-LINE 4177
12773                                     ***** END-POOL *****
12774 00001BF4                   4183     POS_START_ROT_CAL_999
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   119
PROGRAM NAME =

12775 00001BF4 D402              4184             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12776 00001BF6 6242              4185             MOV.L   @R4,R2                                  ;
12777 00001BF8 72FF              4186             ADD     #-1,R2                                  ;
12778                            4187             M_BRA   NEXT_CYCL_STR1_050                      ;
12779 00001BFA A009                   M           BRA     NEXT_CYCL_STR1_050
12780 00001BFC 0009                   M           NOP
12781                            4188     
12782                                     ***** BEGIN-POOL *****
12783 00001BFE 0000                       ALIGNMENT CODE
12784 00001C00 00000000                   DATA FOR SOURCE-LINE 4184
12785                                     ***** END-POOL *****
12786 00001C04                   4189             .ALIGN  4                               ;
12787 00001C04                   4190     _NEXT_CYCL_START1:
12788                            4191             SUB_START
12789 00001C04 4F22                   M           STS.L   PR,@-R15                ;[必要]
12790                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12791 00001C06 D111              4192             MOV.L   #_CPOS_CTL_MATH,R1              ;
12792 00001C08 6011              4193             MOV.W   @R1,R0                          ;
12793 00001C0A C801              4194             TST     #_DMATH_CNTROT,R0               ;回転?
12794                            4195             TST_BIT_OF NEXT_CYCL_STR1_050
12795 00001C0C 8900                   M           BT      NEXT_CYCL_STR1_050
12796 00001C0E 7201              4196             ADD     #1,R2                           ;回転数+1<反転>
12797 00001C10                   4197     NEXT_CYCL_STR1_050:
12798                            4198     
12799                            4199     ;       === 2004-12-20====
12800 00001C10 D40F              4200             MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R4
12801 00001C12 2422              4201             MOV.L   R2,@R4
12802                            4202     
12803 00001C14 9418              4203             MOV.W   #1,R4
12804 00001C16 D10F              4204             MOV.L   #_SV_POS_CTL_STEP,R1            ;
12805 00001C18 2141              4205             MOV.W   R4,@R1                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
12806                            4206             PUSH_REG1 R2
12807 00001C1A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
12808                                 M                                           ;REG=>[SP]
12809                                 M                                           ;"-4" FF,FF,FF,FC
12810                            4207             FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
12811 00001C1C D10E                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12812 00001C1E 410B                   M           JSR     @R1                     ;
12813 00001C20 0009                   M           NOP                                     ;
12814                            4208             POP_REG1 R2
12815                                 M                                   ; RE"+4" 00,00,00,04
12816 00001C22 62F6                   M           MOV.L   @R15+,R2        ;
12817                            4209             FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
12818 00001C24 D10D                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12819 00001C26 410B                   M           JSR     @R1                     ;
12820 00001C28 0009                   M           NOP                                     ;
12821                            4210     
12822                            4211     ;       =====2003-07-09 速度============
12823                            4212             FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
12824 00001C2A D00D                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12825 00001C2C 400B                   M           JSR     @R0                     ;
12826 00001C2E 0009                   M           NOP                                     ;
12827                            4213     ;       ===== 2003-07-14 TIME ======
12828                            4214             FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
12829 00001C30 D00C                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12830 00001C32 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   120
PROGRAM NAME =

12831 00001C34 0009                   M           NOP                                     ;
12832                            4215     
12833                            4216     
12834                            4217     ;       --------2012-05-15 反転、全モードのタイマ時はタイマ処理から再開をクリア[3/]　次ｻｲｸ
                                          ﾙ開始----
12835                            4218     ;       基本的にはなくてすむはずかな?
12836                            4219             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
12837 00001C36 200A                   M           XOR     R0,R0           ;
12838 00001C38 D10B                   M           MOV.L   #_DURING_TIM_FX,R1      ;
12839 00001C3A 2101                   M           MOV.W   R0,@R1          ;
12840                            4220     
12841                            4221     
12842                            4222     ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
12843                            4223             FAR_JSR #_HLDCAM_ABS_POS_SET,R1         ;
12844 00001C3C D10B                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12845 00001C3E 410B                   M           JSR     @R1                     ;
12846 00001C40 0009                   M           NOP                                     ;
12847                            4224     
12848                            4225     
12849                            4226     
12850                            4227             SUB_END
12851                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12852 00001C42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12853                            4228             M_RTS
12854 00001C44 000B                   M           RTS                             ;RTSの後ろの
12855 00001C46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12856                            4229     
12857                            4230     
12858                            4231     
12859                            4232     
12860                            4233     
12861                            4234     
12862                            4235     
12863                            4236     
12864                            4237     
12865                            4238     
12866                            4239     
12867                            4240     
12868                            4241     
12869                            4242     
12870                            4243     
12871                            4244     
12872                            4245     
12873                            4246     
12874                            4247     
12875                            4248     ;       ***********************************************************
12876                            4249     ;       ***                                                     ***
12877                            4250     ;       ***     連続速度中の速度と連続内のｽﾃｯﾌﾟ切り替え         ***
12878                            4251     ;       ***                                                     ***
12879                            4252     ;       ***********************************************************
12880                            4253     ;       連続だ。自分の切り替え位置を超えたら＋１する。もし、ＭＡＸステップを超えたら１にす
                                          る
12881                            4254     ;
12882                            4255     ;
12883                                     ***** BEGIN-POOL *****
12884 00001C48 0001                       DATA FOR SOURCE-LINE 4203
12885 00001C4A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   121
PROGRAM NAME =

12886 00001C4C 00000000                   DATA FOR SOURCE-LINE 4192
12887 00001C50 00000000                   DATA FOR SOURCE-LINE 4200
12888 00001C54 00000000                   DATA FOR SOURCE-LINE 4204
12889 00001C58 00000000                   DATA FOR SOURCE-LINE 4207
12890 00001C5C 00000000                   DATA FOR SOURCE-LINE 4209
12891 00001C60 00000000                   DATA FOR SOURCE-LINE 4212
12892 00001C64 00000000                   DATA FOR SOURCE-LINE 4214
12893 00001C68 00000000                   DATA FOR SOURCE-LINE 4219
12894 00001C6C 00000000                   DATA FOR SOURCE-LINE 4223
12895                                     ***** END-POOL *****
12896 00001C70                   4256             .ALIGN  4                               ;
12897 00001C70                   4257     _SPD_STEP_CHG_FWD:
12898                            4258             SUB_START
12899 00001C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
12900                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12901 00001C72 DB12              4259             MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
12902 00001C74 69B1              4260             MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
12903 00001C76 6793              4261             MOV     R9,R7                                                   ;
12904 00001C78 77FF              4262             ADD     #-1,R7                                                  ;
12905 00001C7A 4708              4263             SHLL2   R7                                                      ;
12906 00001C7C 6273              4264             MOV     R7,R2
12907 00001C7E 4200              4265             SHLL    R2
12908 00001C80 D00F              4266             MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
12909 00001C82 302C              4267             ADD     R2,R0
12910 00001C84 6106              4268             MOV.L   @R0+,R1                                                 ;位置
12911 00001C86 6202              4269             MOV.L   @R0,R2                                                  ;
12912                            4270     
12913 00001C88 D40E              4271             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
12914 00001C8A 6546              4272             MOV.L   @R4+,R5                                                 ;
12915 00001C8C 6642              4273             MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
12916                            4274     
12917 00001C8E D00E              4275             MOV.L   #_CPOS_SDAT1_INF1,R0            ;[12];          //SETX-->起動時COPY
12918 00001C90 007E              4276             MOV.L   @(R0,R7),R0                     ;BIT0=1連続
12919 00001C92 C801              4277             TST     #BIT0,R0                        ;
12920                            4278             TST_BIT_OF SPD_STEP_CHGFWD_EXT          ;連続? NO EXIT
12921 00001C94 894B                   M           BT      SPD_STEP_CHGFWD_EXT
12922 00001C96 C802              4279             TST     #BIT1,R0                        ;
12923                            4280             TST_BIT_ON SPD_STEP_CHGFWD_100          ;逆転方向 THEN JUMP
12924 00001C98 8B1E                   M           BF      SPD_STEP_CHGFWD_100
12925                            4281     ;       ===== 正転方向 =======
12926                            4282             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;(ｲｺｰﾙでは切り替え
                                          ない)
12927 00001C9A 0008                   M           CLRT
12928 00001C9C 326A                   M           SUBC    R6,R2
12929 00001C9E 315A                   M           SUBC    R5,R1
12930 00001CA0 4111              4283             CMP/PZ  R1                              ;
12931 00001CA2 8B1E              4284             BF      SPD_STEP_CHGFWD_200             ;"-":超えた
12932                            4285     
12933                            4286     ;       ====== 2013-04-14 反転手前処理[反転手前で止めるため、その区間に停止がある場合の処
                                          理]======
12934 00001CA4 D109              4287             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12935 00001CA6 6011              4288             MOV.W   @R1,R0                                  ;
12936 00001CA8 C805              4289             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
12937                            4290             TST_BIT_ON SPD_STEP_CHGFWD_090                  ;
12938 00001CAA 8B13                   M           BF      SPD_STEP_CHGFWD_090
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   122
PROGRAM NAME =

12939                            4291     
12940                            4292             FAR_JSR #_REV_BEFORE_CHGKOUTEICHK,R0            ;反転
12941 00001CAC D008                   M           MOV.L   #_REV_BEFORE_CHGKOUTEICHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12942 00001CAE 400B                   M           JSR     @R0                     ;
12943 00001CB0 0009                   M           NOP                                     ;
12944 00001CB2 2008              4293             TST     R0,R0                                   ;
12945                            4294             TST_BIT_OF SPD_STEP_CHGFWD_090                  ;
12946 00001CB4 890E                   M           BT      SPD_STEP_CHGFWD_090
12947 00001CB6 6923              4295             MOV     R2,R9                                   ;行程
12948                            4296             M_BRA   SPD_STEP_CHGFWD_202                     ;2013-04-14追加
12949 00001CB8 A014                   M           BRA     SPD_STEP_CHGFWD_202
12950 00001CBA 0009                   M           NOP
12951                            4297     
12952                                     ***** BEGIN-POOL *****
12953 00001CBC 00000000                   DATA FOR SOURCE-LINE 4259
12954 00001CC0 00000000                   DATA FOR SOURCE-LINE 4266
12955 00001CC4 00000000                   DATA FOR SOURCE-LINE 4271
12956 00001CC8 00000000                   DATA FOR SOURCE-LINE 4275
12957 00001CCC 00000000                   DATA FOR SOURCE-LINE 4287
12958 00001CD0 00000000                   DATA FOR SOURCE-LINE 4292
12959                                     ***** END-POOL *****
12960 00001CD4                   4298     SPD_STEP_CHGFWD_090:
12961                            4299             M_BRA   SPD_STEP_CHGFWD_EXT             ;SV-PV >=0 EXIT (SV >= PV)
12962 00001CD4 A02B                   M           BRA     SPD_STEP_CHGFWD_EXT
12963 00001CD6 0009                   M           NOP
12964                            4300     
12965                            4301     
12966 00001CD8                   4302     SPD_STEP_CHGFWD_100:
12967                            4303     ;       ===== 逆転方向 =======
12968                            4304             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;(ｲｺｰﾙでは切り替え
                                          ない)
12969 00001CD8 0008                   M           CLRT
12970 00001CDA 362A                   M           SUBC    R2,R6
12971 00001CDC 351A                   M           SUBC    R1,R5
12972 00001CDE 4511              4305             CMP/PZ  R5                              ;
12973 00001CE0 8925              4306             BT      SPD_STEP_CHGFWD_EXT             ;PV-SV >=0 EXIT (PV >= SV)
12974 00001CE2                   4307     SPD_STEP_CHGFWD_200:
12975 00001CE2 7901              4308             ADD     #1,R9                           ;NEXT STEP SET
12976                            4309     
12977 00001CE4                   4310     SPD_STEP_CHGFWD_202:                            ;2013-04-14追加
12978 00001CE4 D105              4311             MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
12979 00001CE6 6211              4312             MOV.W   @R1,R2                          ;
12980 00001CE8 7201              4313             ADD     #1,R2                           ;
12981 00001CEA 3292              4314             CMP/HS  R9,R2                           ;STEP+1=<MAX
12982 00001CEC 890A              4315             BT      SPD_STEP_CHGFWD_250             ;
12983                            4316     
12984                            4317     ;       === 何の意味のチェックだろう？最大工程＋１＜管理ステップの意味？
12985                            4318             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT3,WKREG=R3      ;
12986 00001CEE D304                   M           MOV.L   #_POSLSI_CHK_STS,R3             ;
12987 00001CF0 6031                   M           MOV.W   @R3,R0          ;
12988 00001CF2 CB08                   M           OR      #BIT3,R0                ;
12989 00001CF4 2301                   M           MOV.W   R0,@R3          ;
12990                            4319             M_BRA   SPD_STEP_CHGFWD_EXT                                             ;
12991 00001CF6 A01A                   M           BRA     SPD_STEP_CHGFWD_EXT
12992 00001CF8 0009                   M           NOP
12993                            4320     
12994                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   123
PROGRAM NAME =

12995 00001CFA 0000                       ALIGNMENT CODE
12996 00001CFC 00000000                   DATA FOR SOURCE-LINE 4311
12997 00001D00 00000000                   DATA FOR SOURCE-LINE 4318
12998                                     ***** END-POOL *****
12999 00001D04                   4321     SPD_STEP_CHGFWD_250:                            ;
13000 00001D04 2B91              4322             MOV.W   R9,@R11                         ;ﾀｲﾏLOAD
13001                            4323     ;       ==========================================
13002                            4324     ;       =================================================
13003 00001D06 D00B              4325             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
13004 00001D08 2091              4326             MOV.W   R9,@R0                  ;
13005                            4327     ;       ================================================
13006 00001D0A 79FF              4328             ADD     #-1,R9                          ;
13007 00001D0C 4908              4329             SHLL2   R9                              ;
13008 00001D0E D00A              4330             MOV.L   #_CPOS_SDAT1_SPD,R0             ;
13009 00001D10 029E              4331             MOV.L   @(R0,R9),R2                     ;
13010 00001D12 D10A              4332             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13011 00001D14 2122              4333             MOV.L   R2,@R1                          ;
13012                            4334             FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1     ;
13013 00001D16 D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13014 00001D18 410B                   M           JSR     @R1                     ;
13015 00001D1A 0009                   M           NOP                                     ;
13016                            4335     
13017                            4336     
13018                            4337     ;       =======================================
13019 00001D1C D109              4338             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
13020 00001D1E 200A              4339             XOR     R0,R0                           ;
13021 00001D20 2101              4340             MOV.W   R0,@R1                          ;
13022                            4341     ;       =========================================
13023                            4342             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_END,R0
13024 00001D22 D009                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_END,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13025 00001D24 400B                   M           JSR     @R0                     ;
13026 00001D26 0009                   M           NOP                                     ;
13027                            4343             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0
13028 00001D28 D008                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13029 00001D2A 400B                   M           JSR     @R0                     ;
13030 00001D2C 0009                   M           NOP                                     ;
13031                            4344     
13032                            4345             .AIF    0 EQ    0
13033                            4346             .AELSE
13034                            4347             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
13035                            4348             .AENDI
13036                            4349     
13037                            4350     
13038 00001D2E                   4351     SPD_STEP_CHGFWD_EXT:
13039                            4352             SUB_END
13040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13041 00001D2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13042                            4353             M_RTS
13043 00001D30 000B                   M           RTS                             ;RTSの後ろの
13044 00001D32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13045                            4354     
13046                            4355     
13047                            4356     
13048                            4357     
13049                            4358     ;       === 2004-01-26 連続寸動一工程　===
13050                            4359     ;       == _CCS_STEP_NEXT_CHK ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   124
PROGRAM NAME =

13051                            4360     ;;;;;;;;;;;;;;不要ですね20060930        .INCLUDE        "ssa_ccss.inc"          ; //
13052                            4361     
13053                            4362     
13054                            4363     ;       *******************************************
13055                            4364     ;       ***                                     ***
13056                            4365     ;       ***             段取/待機点復帰         ***
13057                            4366     ;       ***                                     ***
13058                            4367     ;       *******************************************
13059                                     ***** BEGIN-POOL *****
13060 00001D34 00000000                   DATA FOR SOURCE-LINE 4325
13061 00001D38 00000000                   DATA FOR SOURCE-LINE 4330
13062 00001D3C 00000000                   DATA FOR SOURCE-LINE 4332
13063 00001D40 00000000                   DATA FOR SOURCE-LINE 4334
13064 00001D44 00000000                   DATA FOR SOURCE-LINE 4338
13065 00001D48 00000000                   DATA FOR SOURCE-LINE 4342
13066 00001D4C 00000000                   DATA FOR SOURCE-LINE 4343
13067                                     ***** END-POOL *****
13068          000001F4          4368     _EQ_STOP_START_WAIT_ORG         .EQU    D'500   ;100mec(3000sec)
13069          00000064          4369     _EQ_STOP_START_WAIT_DND         .EQU    D'100   ;
13070                            4370     ;
13071                            4371     ;       ==============
13072 00001D50                   4372             .ALIGN  4                               ;
13073 00001D50                   4373     _DND_ALL_STEP_CTRL:
13074                            4374             SUB_START
13075 00001D50 4F22                   M           STS.L   PR,@-R15                ;[必要]
13076                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13077 00001D52 D106              4375             MOV.L   #_MODE_SEL,R1                   ;
13078 00001D54 6011              4376             MOV.W   @R1,R0                          ;
13079 00001D56 C840              4377             TST     #_W1DUP,R0              ;
13080                            4378             TST_BIT_ON DND_ALLSTEPCTL_020   ;原点復帰
13081 00001D58 8B24                   M           BF      DND_ALLSTEPCTL_020
13082                            4379     
13083                            4380     ;       ------ 2006-07-28 -----
13084 00001D5A D105              4381             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
13085 00001D5C 6011              4382             MOV.W   @R1,R0                          ;
13086 00001D5E 2008              4383             TST     R0,R0                           ;
13087                            4384             TST_BIT_OF DND_ALLSTEPCTL_005           ;
13088 00001D60 890A                   M           BT      DND_ALLSTEPCTL_005
13089                            4385             FAR_JSR #_DND_TEP_STEP_CTRL,R0          ;
13090 00001D62 D004                   M           MOV.L   #_DND_TEP_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13091 00001D64 400B                   M           JSR     @R0                     ;
13092 00001D66 0009                   M           NOP                                     ;
13093                            4386             M_BRA   DND_ALLSTEPCTL_900              ;
13094 00001D68 A17D                   M           BRA     DND_ALLSTEPCTL_900
13095 00001D6A 0009                   M           NOP
13096                            4387     
13097                                     ***** BEGIN-POOL *****
13098 00001D6C 00000000                   DATA FOR SOURCE-LINE 4375
13099 00001D70 00000000                   DATA FOR SOURCE-LINE 4381
13100 00001D74 00000000                   DATA FOR SOURCE-LINE 4385
13101                                     ***** END-POOL *****
13102 00001D78                   4388     DND_ALLSTEPCTL_005:
13103                            4389     
13104 00001D78 D104              4390             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
13105 00001D7A 6011              4391             MOV.W   @R1,R0                          ;
13106 00001D7C C802              4392             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
13107                            4393             TST_BIT_OF DND_ALLSTEPCTL_010           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   125
PROGRAM NAME =

13108 00001D7E 8909                   M           BT      DND_ALLSTEPCTL_010
13109                            4394     
13110                            4395     ;       ==== 反転段取寸動========
13111                            4396             FAR_JSR #_DND_NEG_STEP_CTRL,R0          ;
13112 00001D80 D003                   M           MOV.L   #_DND_NEG_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13113 00001D82 400B                   M           JSR     @R0                     ;
13114 00001D84 0009                   M           NOP                                     ;
13115                            4397             M_BRA   DND_ALLSTEPCTL_900
13116 00001D86 A16E                   M           BRA     DND_ALLSTEPCTL_900
13117 00001D88 0009                   M           NOP
13118                            4398     
13119                                     ***** BEGIN-POOL *****
13120 00001D8A 0000                       ALIGNMENT CODE
13121 00001D8C 00000000                   DATA FOR SOURCE-LINE 4390
13122 00001D90 00000000                   DATA FOR SOURCE-LINE 4396
13123                                     ***** END-POOL *****
13124 00001D94                   4399     DND_ALLSTEPCTL_010:
13125                            4400             FAR_JSR #_DND_ROT_STEP_CTRL,R0          ;[]
13126 00001D94 D002                   M           MOV.L   #_DND_ROT_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13127 00001D96 400B                   M           JSR     @R0                     ;
13128 00001D98 0009                   M           NOP                                     ;
13129                            4401             M_BRA   DND_ALLSTEPCTL_900
13130 00001D9A A164                   M           BRA     DND_ALLSTEPCTL_900
13131 00001D9C 0009                   M           NOP
13132                            4402     
13133                            4403     ;       ================================
13134                            4404     ;       ======== 待機点復帰 ============
13135                            4405     ;       ================================
13136                                     ***** BEGIN-POOL *****
13137 00001D9E 0000                       ALIGNMENT CODE
13138 00001DA0 00000000                   DATA FOR SOURCE-LINE 4400
13139                                     ***** END-POOL *****
13140 00001DA4                   4406     DND_ALLSTEPCTL_020:
13141 00001DA4 D102              4407             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13142 00001DA6 6011              4408             MOV.W   @R1,R0                          ;BIT
13143 00001DA8 C840              4409             TST     #BIT6,R0                        ;
13144                            4410             TST_BIT_OF DND_ALLSTEPCTL_050           ;
13145 00001DAA 8903                   M           BT      DND_ALLSTEPCTL_050
13146                            4411             M_BRA   DND_ALLSTEPCTL_900              ;位置決め完了
13147 00001DAC A15B                   M           BRA     DND_ALLSTEPCTL_900
13148 00001DAE 0009                   M           NOP
13149                            4412     
13150                                     ***** BEGIN-POOL *****
13151 00001DB0 00000000                   DATA FOR SOURCE-LINE 4407
13152                                     ***** END-POOL *****
13153 00001DB4                   4413     DND_ALLSTEPCTL_050:
13154                            4414     ;       ===== 2004-05-23 =======
13155                            4415             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST2,R0     ;.BIT1
13156 00001DB4 D008                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13157 00001DB6 400B                   M           JSR     @R0                     ;
13158 00001DB8 0009                   M           NOP                                     ;
13159                            4416     ;       ========================
13160                            4417     
13161                            4418     
13162 00001DBA D108              4419             MOV.L   #_INT_DND_CTL_STEP,R1           ;
13163 00001DBC 6011              4420             MOV.W   @R1,R0                          ;
13164 00001DBE C802              4421             TST     #BIT1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   126
PROGRAM NAME =

13165                            4422             TST_BIT_ON DND_ALLSTEPCTL_060           ;第３工程中　EXIT
13166 00001DC0 8B04                   M           BF      DND_ALLSTEPCTL_060
13167 00001DC2 C801              4423             TST     #BIT0,R0                        ;
13168                            4424             TST_BIT_OF DND_ALLSTEPCTL_060           ;第２工程前
13169 00001DC4 8902                   M           BT      DND_ALLSTEPCTL_060
13170                            4425             FAR_JSR #_ORGIN_MODE_SMP,R0             ;SMPLING
13171 00001DC6 D006                   M           MOV.L   #_ORGIN_MODE_SMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13172 00001DC8 400B                   M           JSR     @R0                     ;
13173 00001DCA 0009                   M           NOP                                     ;
13174 00001DCC                   4426     DND_ALLSTEPCTL_060:                             ;
13175                            4427     
13176 00001DCC D105              4428             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13177 00001DCE 6011              4429             MOV.W   @R1,R0                          ;BIT
13178 00001DD0 C803              4430             TST     #(BIT1+BIT0),R0                 ;
13179                            4431             TST_BIT_OF DND_ALLSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13180 00001DD2 8909                   M           BT      DND_ALLSTEPCTL_100
13181                            4432             M_BRA   DND_ALLSTEPCTL_300              ;BIT1:次の回転起動
13182 00001DD4 A024                   M           BRA     DND_ALLSTEPCTL_300
13183 00001DD6 0009                   M           NOP
13184                            4433     
13185                                     ***** BEGIN-POOL *****
13186 00001DD8 00000000                   DATA FOR SOURCE-LINE 4415
13187 00001DDC 00000000                   DATA FOR SOURCE-LINE 4419
13188 00001DE0 00000000                   DATA FOR SOURCE-LINE 4425
13189 00001DE4 00000000                   DATA FOR SOURCE-LINE 4428
13190                                     ***** END-POOL *****
13191 00001DE8                   4434     DND_ALLSTEPCTL_100:
13192                            4435             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
13193 00001DE8 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13194 00001DEA 410B                   M           JSR     @R1                     ;
13195 00001DEC 0009                   M           NOP                                     ;
13196 00001DEE C804              4436             TST     #BIT2,R0                        ;停止?
13197                            4437             TST_BIT_ON DND_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13198 00001DF0 8B08                   M           BF      DND_ALLSTEPCTL_200
13199                            4438             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13200 00001DF2 D003                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13201 00001DF4 400B                   M           JSR     @R0                     ;
13202 00001DF6 0009                   M           NOP                                     ;
13203                            4439             M_BRA   DND_ALLSTEPCTL_900              ;
13204 00001DF8 A135                   M           BRA     DND_ALLSTEPCTL_900
13205 00001DFA 0009                   M           NOP
13206                            4440     
13207                            4441     
13208                            4442     ;       ====== 停止 =====
13209                            4443             .IMPORT _PAR_START_WAIT_DND                     ;段取時切替WAIT時間
13210                                     ***** BEGIN-POOL *****
13211 00001DFC 00000000                   DATA FOR SOURCE-LINE 4435
13212 00001E00 00000000                   DATA FOR SOURCE-LINE 4438
13213                                     ***** END-POOL *****
13214 00001E04                   4444     DND_ALLSTEPCTL_200:
13215 00001E04 9107              4445             MOV.W   #_EQ_STOP_START_WAIT_ORG,R1             ;段取時切替WAIT時間
13216 00001E06 D404              4446             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13217 00001E08 2412              4447             MOV.L   R1,@R4                  ;
13218                            4448     
13219                            4449             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1
13220 00001E0A D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13221 00001E0C 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   127
PROGRAM NAME =

13222 00001E0E CB01                   M           OR      #BIT0,R0                ;
13223 00001E10 2101                   M           MOV.W   R0,@R1          ;
13224                            4450             M_BRA   DND_ALLSTEPCTL_900      ;
13225 00001E12 A128                   M           BRA     DND_ALLSTEPCTL_900
13226 00001E14 0009                   M           NOP
13227                            4451     
13228                                     ***** BEGIN-POOL *****
13229 00001E16 01F4                       DATA FOR SOURCE-LINE 4445
13230 00001E18 00000000                   DATA FOR SOURCE-LINE 4446
13231 00001E1C 00000000                   DATA FOR SOURCE-LINE 4449
13232                                     ***** END-POOL *****
13233 00001E20                   4452     DND_ALLSTEPCTL_300:
13234 00001E20 C802              4453             TST     #BIT1,R0                ;
13235                            4454             TST_BIT_ON DND_ALLSTEPCTL_400   ;
13236 00001E22 8B13                   M           BF      DND_ALLSTEPCTL_400
13237                            4455     
13238                            4456             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13239 00001E24 D107                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13240 00001E26 6412                   M           MOV.L   @R1,R4          ;
13241 00001E28 2448                   M           TST     R4,R4                   ;
13242 00001E2A 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
13243 00001E2C 4410                   M           DT      R4                              ;
13244 00001E2E 2142                   M           MOV.L   R4,@R1          ;STORE
13245 00001E30                        M   JMP_0100005:
13246 00001E30 D404              4457             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13247 00001E32 6142              4458             MOV.L   @R4,R1                  ;
13248 00001E34 2118              4459             TST     R1,R1                   ;
13249                            4460             TST_BIT_ON DND_ALLSTEPCTL_320   ;DND_ALLSTEPCTL_900     ;
13250 00001E36 8B03                   M           BF      DND_ALLSTEPCTL_320
13251                            4461             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13252 00001E38 D103                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13253 00001E3A 6011                   M           MOV.W   @R1,R0          ;
13254 00001E3C CB02                   M           OR      #BIT1,R0                ;
13255 00001E3E 2101                   M           MOV.W   R0,@R1          ;
13256 00001E40                   4462     DND_ALLSTEPCTL_320:
13257                            4463             M_BRA   DND_ALLSTEPCTL_900      ;
13258 00001E40 A111                   M           BRA     DND_ALLSTEPCTL_900
13259 00001E42 0009                   M           NOP
13260                            4464     
13261                            4465     
13262                            4466     ;       ======= 次の起動の演算または終了の判断=====
13263                                     ***** BEGIN-POOL *****
13264 00001E44 00000000                   DATA FOR SOURCE-LINE 4456,4457
13265 00001E48 00000000                   DATA FOR SOURCE-LINE 4461
13266                                     ***** END-POOL *****
13267 00001E4C                   4467     DND_ALLSTEPCTL_400:
13268 00001E4C D502              4468             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13269 00001E4E 6051              4469             MOV.W   @R5,R0                  ;
13270 00001E50 C802              4470             TST     #BIT1,R0                ;BIT0=1 FIRST END BIT1=1 SECOND END
13271                            4471             TST_BIT_OF DND_ALLSTEPCTL_420   ;
13272 00001E52 8903                   M           BT      DND_ALLSTEPCTL_420
13273                            4472             M_BRA   DND_ALLSTEPCTL_600      ;YES 最終工程だった JUMP
13274 00001E54 A0F6                   M           BRA     DND_ALLSTEPCTL_600
13275 00001E56 0009                   M           NOP
13276                                     ***** BEGIN-POOL *****
13277 00001E58 00000000                   DATA FOR SOURCE-LINE 4468
13278                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   128
PROGRAM NAME =

13279 00001E5C                   4473     DND_ALLSTEPCTL_420:
13280                            4474     
13281                            4475     
13282 00001E5C C801              4476             TST     #BIT0,R0                        ;
13283                            4477             TST_BIT_OF DND_ALLSTEPCTL_425           ;
13284 00001E5E 8901                   M           BT      DND_ALLSTEPCTL_425
13285                            4478             M_BRA   DND_ALLSTEPCTL_500              ;
13286 00001E60 A0A0                   M           BRA     DND_ALLSTEPCTL_500
13287 00001E62 0009                   M           NOP
13288 00001E64                   4479     DND_ALLSTEPCTL_425:
13289                            4480     
13290                            4481     ;       ===========================
13291                            4482     ;       ===     2003-07-09      ===
13292                            4483     ;       ===========================
13293                            4484     ;       BIT0=0のままでn往復動作を行う
13294 00001E64 D113              4485             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13295 00001E66 6011              4486             MOV.W   @R1,R0                          ;
13296 00001E68 2008              4487             TST     R0,R0                           ;
13297                            4488             TST_BIT_OF DND_ALLSTEPCTL_450           ;(今までのｿﾌﾄを流す)
13298 00001E6A 8975                   M           BT      DND_ALLSTEPCTL_450
13299                            4489     ;
13300                            4490     ;       == _ORG_RDY_CTL_FLG BIT0 を使用する ===
13301 00001E6C D512              4491             MOV.L   #_ORG_RDY_CTL_FLG,R5            ;[2工程/3工程の切り替えﾌﾗｸﾞ]
13302 00001E6E 6051              4492             MOV.W   @R5,R0                          ;
13303 00001E70 C801              4493             TST     #BIT0,R0                        ;
13304                            4494             TST_BIT_ON DND_ORGIN_STEP_050           ;
13305 00001E72 8B35                   M           BF      DND_ORGIN_STEP_050
13306 00001E74 CB01              4495             OR      #BIT0,R0                        ;
13307 00001E76 2501              4496             MOV.W   R0,@R5                          ;
13308                            4497     
13309                            4498     ;       ===== 第２工程開始(補正なし "+") ======
13310                            4499     ;       ======== 20060919 ======================
13311                            4500     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13312                            4501             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13313 00001E78 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13314 00001E7A 400B                   M           JSR     @R0                     ;
13315 00001E7C 0009                   M           NOP                                     ;
13316                            4502     ;       =======================================
13317                            4503             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13318 00001E7E D010                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13319 00001E80 400B                   M           JSR     @R0                     ;
13320 00001E82 0009                   M           NOP                                     ;
13321                            4504             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;ANS R2
13322 00001E84 D00F                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13323 00001E86 400B                   M           JSR     @R0                     ;
13324 00001E88 0009                   M           NOP                                     ;
13325                            4505             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13326 00001E8A D10F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13327 00001E8C 410B                   M           JSR     @R1                     ;
13328 00001E8E 0009                   M           NOP                                     ;
13329                            4506     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13330 00001E90 D50E              4507             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13331 00001E92 6152              4508             MOV.L   @R5,R1                          ;
13332 00001E94 5251              4509             MOV.L   @(4,R5),R2                      ;
13333                            4510             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13334 00001E96 D00E                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   129
PROGRAM NAME =

13335 00001E98 400B                   M           JSR     @R0                     ;
13336 00001E9A 0009                   M           NOP                                     ;
13337                            4511             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13338 00001E9C D00D                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13339 00001E9E 400B                   M           JSR     @R0                     ;
13340 00001EA0 0009                   M           NOP                                     ;
13341                            4512             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13342 00001EA2 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13343 00001EA4 400B                   M           JSR     @R0                     ;
13344 00001EA6 0009                   M           NOP                                     ;
13345                            4513             FAR_JSR #_FWD_REV_START,R1              ;起動
13346 00001EA8 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13347 00001EAA 410B                   M           JSR     @R1                     ;
13348 00001EAC 0009                   M           NOP                                     ;
13349                            4514             M_BRA   DND_ORGIN_STEP_100              ;
13350 00001EAE A038                   M           BRA     DND_ORGIN_STEP_100
13351 00001EB0 0009                   M           NOP
13352                            4515     
13353                                     ***** BEGIN-POOL *****
13354 00001EB2 0000                       ALIGNMENT CODE
13355 00001EB4 00000000                   DATA FOR SOURCE-LINE 4485
13356 00001EB8 00000000                   DATA FOR SOURCE-LINE 4491
13357 00001EBC 00000000                   DATA FOR SOURCE-LINE 4501
13358 00001EC0 00000000                   DATA FOR SOURCE-LINE 4503
13359 00001EC4 00000000                   DATA FOR SOURCE-LINE 4504
13360 00001EC8 00000000                   DATA FOR SOURCE-LINE 4505
13361 00001ECC 00000000                   DATA FOR SOURCE-LINE 4507
13362 00001ED0 00000000                   DATA FOR SOURCE-LINE 4510
13363 00001ED4 00000000                   DATA FOR SOURCE-LINE 4511
13364 00001ED8 00000000                   DATA FOR SOURCE-LINE 4512
13365 00001EDC 00000000                   DATA FOR SOURCE-LINE 4513
13366                                     ***** END-POOL *****
13367 00001EE0                   4516     DND_ORGIN_STEP_050:
13368 00001EE0 C9FE              4517             AND     #LOW ~BIT0,R0                   ;
13369 00001EE2 2501              4518             MOV.W   R0,@R5                          ;BIT0 CLR
13370                            4519     ;       ===== 第3工程開始(補正なし "-") ======
13371                            4520     ;       ======== 20060919 ======================
13372                            4521     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13373                            4522             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13374 00001EE4 D011                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13375 00001EE6 400B                   M           JSR     @R0                     ;
13376 00001EE8 0009                   M           NOP                                     ;
13377                            4523     ;       =======================================
13378                            4524             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R0       ;
13379 00001EEA D011                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13380 00001EEC 400B                   M           JSR     @R0                     ;
13381 00001EEE 0009                   M           NOP                                     ;
13382                            4525             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
13383 00001EF0 D010                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13384 00001EF2 400B                   M           JSR     @R0                     ;
13385 00001EF4 0009                   M           NOP                                     ;
13386                            4526             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13387 00001EF6 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13388 00001EF8 410B                   M           JSR     @R1                     ;
13389 00001EFA 0009                   M           NOP                                     ;
13390                            4527     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   130
PROGRAM NAME =

13391                            4528     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13392 00001EFC D50F              4529             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13393 00001EFE 6152              4530             MOV.L   @R5,R1                          ;
13394 00001F00 5251              4531             MOV.L   @(4,R5),R2                      ;
13395                            4532             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13396 00001F02 D00F                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13397 00001F04 400B                   M           JSR     @R0                     ;
13398 00001F06 0009                   M           NOP                                     ;
13399                            4533             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13400 00001F08 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13401 00001F0A 400B                   M           JSR     @R0                     ;
13402 00001F0C 0009                   M           NOP                                     ;
13403                            4534             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13404 00001F0E D00E                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13405 00001F10 400B                   M           JSR     @R0                     ;
13406 00001F12 0009                   M           NOP                                     ;
13407                            4535             FAR_JSR #_FWD_REV_START,R1              ;起動
13408 00001F14 D10D                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13409 00001F16 410B                   M           JSR     @R1                     ;
13410 00001F18 0009                   M           NOP                                     ;
13411                            4536     
13412 00001F1A D10D              4537             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13413 00001F1C 6011              4538             MOV.W   @R1,R0                          ;
13414 00001F1E 70FF              4539             ADD     #-1,R0                          ;
13415 00001F20 2101              4540             MOV.W   R0,@R1                          ;
13416 00001F22                   4541     DND_ORGIN_STEP_100:
13417 00001F22 200A              4542             XOR     R0,R0                           ;
13418 00001F24 D10B              4543             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13419 00001F26 2101              4544             MOV.W   R0,@R1                          ;Q
13420                            4545     
13421                            4546             M_BRA   DND_ALLSTEPCTL_900              ;
13422 00001F28 A09D                   M           BRA     DND_ALLSTEPCTL_900
13423 00001F2A 0009                   M           NOP
13424                            4547     
13425                            4548     
13426                            4549     ;       ===== 通常の最後の原点復帰（最終回数目）====
13427                                     ***** BEGIN-POOL *****
13428 00001F2C 00000000                   DATA FOR SOURCE-LINE 4522
13429 00001F30 00000000                   DATA FOR SOURCE-LINE 4524
13430 00001F34 00000000                   DATA FOR SOURCE-LINE 4525
13431 00001F38 00000000                   DATA FOR SOURCE-LINE 4526
13432 00001F3C 00000000                   DATA FOR SOURCE-LINE 4529
13433 00001F40 00000000                   DATA FOR SOURCE-LINE 4532
13434 00001F44 00000000                   DATA FOR SOURCE-LINE 4533
13435 00001F48 00000000                   DATA FOR SOURCE-LINE 4534
13436 00001F4C 00000000                   DATA FOR SOURCE-LINE 4535
13437 00001F50 00000000                   DATA FOR SOURCE-LINE 4537
13438 00001F54 00000000                   DATA FOR SOURCE-LINE 4543
13439                                     ***** END-POOL *****
13440 00001F58                   4550     DND_ALLSTEPCTL_450:
13441                            4551     ;       ===== 第２工程開始(補正開始) ======
13442                            4552             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
13443 00001F58 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13444 00001F5A 400B                   M           JSR     @R0                     ;
13445 00001F5C 0009                   M           NOP                                     ;
13446                            4553             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13447 00001F5E D00B                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   131
PROGRAM NAME =

13448 00001F60 400B                   M           JSR     @R0                     ;
13449 00001F62 0009                   M           NOP                                     ;
13450                            4554             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;
13451 00001F64 D00A                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13452 00001F66 400B                   M           JSR     @R0                     ;
13453 00001F68 0009                   M           NOP                                     ;
13454                            4555             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13455 00001F6A D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13456 00001F6C 410B                   M           JSR     @R1                     ;
13457 00001F6E 0009                   M           NOP                                     ;
13458                            4556     
13459                            4557             FAR_JSR #_ORGIN_MODE_INI,R0     ;
13460 00001F70 D009                   M           MOV.L   #_ORGIN_MODE_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13461 00001F72 400B                   M           JSR     @R0                     ;
13462 00001F74 0009                   M           NOP                                     ;
13463 00001F76 D509              4558             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13464 00001F78 6051              4559             MOV.W   @R5,R0                  ;
13465 00001F7A CB01              4560             OR      #BIT0,R0                ;
13466 00001F7C 2501              4561             MOV.W   R0,@R5                  ;
13467                            4562     
13468                            4563     ;       ======= 原点出し時のｲﾝﾀｰﾛｯｸ =======
13469 00001F7E 200A              4564             XOR     R0,R0                           ;
13470 00001F80 D107              4565             MOV.L   #_RST_ERR_CHK_FLG,R1            ;[ｲﾆｼｬﾙを異常側で再演算する]
13471 00001F82 2101              4566             MOV.W   R0,@R1                          ;
13472                            4567             M_BRA   DND_ALLSTEPCTL_580              ;
13473 00001F84 A024                   M           BRA     DND_ALLSTEPCTL_580
13474 00001F86 0009                   M           NOP
13475                            4568     
13476                                     ***** BEGIN-POOL *****
13477 00001F88 00000000                   DATA FOR SOURCE-LINE 4552
13478 00001F8C 00000000                   DATA FOR SOURCE-LINE 4553
13479 00001F90 00000000                   DATA FOR SOURCE-LINE 4554
13480 00001F94 00000000                   DATA FOR SOURCE-LINE 4555
13481 00001F98 00000000                   DATA FOR SOURCE-LINE 4557
13482 00001F9C 00000000                   DATA FOR SOURCE-LINE 4558
13483 00001FA0 00000000                   DATA FOR SOURCE-LINE 4565
13484                                     ***** END-POOL *****
13485 00001FA4                   4569     DND_ALLSTEPCTL_500:
13486                            4570     ;       ===== 第2工程終了（サーチ作業完了） ======
13487                            4571             FAR_JSR #_ORGIN_MODE_END,R0             ;
13488 00001FA4 D018                   M           MOV.L   #_ORGIN_MODE_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13489 00001FA6 400B                   M           JSR     @R0                     ;
13490 00001FA8 0009                   M           NOP                                     ;
13491                            4572             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
13492 00001FAA D018                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13493 00001FAC 400B                   M           JSR     @R0                     ;
13494 00001FAE 0009                   M           NOP                                     ;
13495                            4573             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;(待機点への移動)
13496 00001FB0 D017                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13497 00001FB2 400B                   M           JSR     @R0                     ;
13498 00001FB4 0009                   M           NOP                                     ;
13499                            4574     
13500                            4575             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
13501 00001FB6 D017                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13502 00001FB8 400B                   M           JSR     @R0                     ;
13503 00001FBA 0009                   M           NOP                                     ;
13504                            4576             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   132
PROGRAM NAME =

13505 00001FBC D116                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13506 00001FBE 410B                   M           JSR     @R1                     ;
13507 00001FC0 0009                   M           NOP                                     ;
13508                            4577     
13509                            4578     ;;;2003-07-14   FAR_JSR #_DNDUPS_SPD_SET,R0     ;
13510                            4579     ;       ===== 第３工程開始 ======
13511 00001FC2 D516              4580             MOV.L   #_INT_DND_CTL_STEP,R5           ;
13512 00001FC4 6051              4581             MOV.W   @R5,R0                          ;
13513 00001FC6 CB02              4582             OR      #BIT1,R0                        ;
13514 00001FC8 2501              4583             MOV.W   R0,@R5                          ;
13515                            4584     
13516                            4585     
13517                            4586             FAR_JSR #_DNDUPS_SPD_SET,R0             ;2011-03-22[最後の目標位置へは上昇復帰速度
                                          ]
13518 00001FCA D015                   M           MOV.L   #_DNDUPS_SPD_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13519 00001FCC 400B                   M           JSR     @R0                     ;
13520 00001FCE 0009                   M           NOP                                     ;
13521                            4587     
13522                            4588     
13523 00001FD0                   4589     DND_ALLSTEPCTL_580:
13524 00001FD0 D114              4590             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13525 00001FD2 6212              4591             MOV.L   @R1,R2                          ;
13526                            4592             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
13527 00001FD4 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13528 00001FD6 410B                   M           JSR     @R1                     ;
13529 00001FD8 0009                   M           NOP                                     ;
13530                            4593     
13531 00001FDA D513              4594             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13532 00001FDC 6152              4595             MOV.L   @R5,R1                          ;
13533 00001FDE 5251              4596             MOV.L   @(4,R5),R2                      ;
13534                            4597             FAR_JSR #_LENGH_ADD_CALC,R0             ;Input R1,R2
13535 00001FE0 D012                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13536 00001FE2 400B                   M           JSR     @R0                     ;
13537 00001FE4 0009                   M           NOP                                     ;
13538                            4598             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13539 00001FE6 D012                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13540 00001FE8 400B                   M           JSR     @R0                     ;
13541 00001FEA 0009                   M           NOP                                     ;
13542                            4599             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13543 00001FEC D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13544 00001FEE 400B                   M           JSR     @R0                     ;
13545 00001FF0 0009                   M           NOP                                     ;
13546                            4600             FAR_JSR #_FWD_REV_START,R1              ;起動
13547 00001FF2 D111                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13548 00001FF4 410B                   M           JSR     @R1                     ;
13549 00001FF6 0009                   M           NOP                                     ;
13550                            4601     
13551                            4602             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
13552 00001FF8 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13553 00001FFA 400B                   M           JSR     @R0                     ;
13554 00001FFC 0009                   M           NOP                                     ;
13555                            4603     
13556 00001FFE 200A              4604             XOR     R0,R0                           ;
13557 00002000 D10F              4605             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13558 00002002 2101              4606             MOV.W   R0,@R1                          ;Q
13559                            4607             M_BRA   DND_ALLSTEPCTL_900              ;
13560 00002004 A02F                   M           BRA     DND_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   133
PROGRAM NAME =

13561 00002006 0009                   M           NOP
13562                            4608     
13563                                     ***** BEGIN-POOL *****
13564 00002008 00000000                   DATA FOR SOURCE-LINE 4571
13565 0000200C 00000000                   DATA FOR SOURCE-LINE 4572
13566 00002010 00000000                   DATA FOR SOURCE-LINE 4573
13567 00002014 00000000                   DATA FOR SOURCE-LINE 4575
13568 00002018 00000000                   DATA FOR SOURCE-LINE 4576,4592
13569 0000201C 00000000                   DATA FOR SOURCE-LINE 4580
13570 00002020 00000000                   DATA FOR SOURCE-LINE 4586
13571 00002024 00000000                   DATA FOR SOURCE-LINE 4590
13572 00002028 00000000                   DATA FOR SOURCE-LINE 4594
13573 0000202C 00000000                   DATA FOR SOURCE-LINE 4597
13574 00002030 00000000                   DATA FOR SOURCE-LINE 4598
13575 00002034 00000000                   DATA FOR SOURCE-LINE 4599
13576 00002038 00000000                   DATA FOR SOURCE-LINE 4600
13577 0000203C 00000000                   DATA FOR SOURCE-LINE 4602
13578 00002040 00000000                   DATA FOR SOURCE-LINE 4605
13579                                     ***** END-POOL *****
13580 00002044                   4609     DND_ALLSTEPCTL_600:
13581                            4610             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
13582 00002044 D109                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13583 00002046 6011                   M           MOV.W   @R1,R0          ;
13584 00002048 CB40                   M           OR      #BIT6,R0                ;
13585 0000204A 2101                   M           MOV.W   R0,@R1          ;
13586                            4611     
13587                            4612     ;       == 2003-07-09 ==(_INT_DND_STEP_FLG.BIT6でも代替OK) ===
13588                            4613             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORG_RDY_CTL_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
13589 0000204C D108                   M           MOV.L   #_ORG_RDY_CTL_FLG,R1            ;
13590 0000204E 6011                   M           MOV.W   @R1,R0          ;
13591 00002050 CB08                   M           OR      #BIT3,R0                ;
13592 00002052 2101                   M           MOV.W   R0,@R1          ;
13593                            4614     
13594                            4615     
13595                            4616     
13596                            4617     ;       ====2004-09-27(中型ではこれは206.4=1)====
13597                            4618             FAR_JSR #_DND_ORGIN_SIG_FORCE_ON,R0
13598 00002054 D007                   M           MOV.L   #_DND_ORGIN_SIG_FORCE_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13599 00002056 400B                   M           JSR     @R0                     ;
13600 00002058 0009                   M           NOP                                     ;
13601                            4619     
13602                            4620     ;       ------------2011-03-22-------
13603                            4621     ;;;;;;  FAR_JSR #_ORGIN2_MODE_END,R0
13604                            4622             FAR_JSR #_ORIGIN_POS_CHK_INI2,R0        ;待機点移動完了
13605 0000205A D007                   M           MOV.L   #_ORIGIN_POS_CHK_INI2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13606 0000205C 400B                   M           JSR     @R0                     ;
13607 0000205E 0009                   M           NOP                                     ;
13608                            4623     
13609                            4624     ;       --------- 2014-08-05----------
13610                            4625             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
13611 00002060 D006                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13612 00002062 400B                   M           JSR     @R0                     ;
13613 00002064 0009                   M           NOP                                     ;
13614                            4626     
13615                            4627     
13616                            4628     
13617                            4629     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   134
PROGRAM NAME =

13618                            4630     
13619 00002066                   4631     DND_ALLSTEPCTL_900:
13620                            4632             SUB_END
13621                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13622 00002066 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13623                            4633             M_RTS
13624 00002068 000B                   M           RTS                             ;RTSの後ろの
13625 0000206A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13626                            4634     
13627                            4635     ;       ***************************************************
13628                            4636     ;       ***                                             ***
13629                            4637     ;       ***     中型の目標位置決め原点でも206.4=1にする ***
13630                            4638     ;       ***                                             ***
13631                            4639     ;       ***************************************************
13632                            4640     ;       ====2004-09-27(中型ではこれは206.4=1)====
13633                                     ***** BEGIN-POOL *****
13634 0000206C 00000000                   DATA FOR SOURCE-LINE 4610
13635 00002070 00000000                   DATA FOR SOURCE-LINE 4613
13636 00002074 00000000                   DATA FOR SOURCE-LINE 4618
13637 00002078 00000000                   DATA FOR SOURCE-LINE 4622
13638 0000207C 00000000                   DATA FOR SOURCE-LINE 4625
13639                                     ***** END-POOL *****
13640 00002080                   4641             .ALIGN  4                               ;
13641 00002080                   4642     _DND_ORGIN_SIG_FORCE_ON:
13642                            4643             SUB_START
13643 00002080 4F22                   M           STS.L   PR,@-R15                ;[必要]
13644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13645 00002082 D00A              4644             MOV.L   #_PAR_WTSEL_USE,R0                      ;
13646 00002084 6001              4645             MOV.W   @R0,R0                                  ;
13647 00002086 8801              4646             CMP/EQ  #1,R0                                   ;待機点選択を中型で認識
13648 00002088 8B0C              4647             BF      DND_ORGIN_SIG_FORON_EXT                 ;中型? NO
13649                            4648     
13650 0000208A D109              4649             MOV.L   #_MODE_SEL,R1                           ;
13651 0000208C 6011              4650             MOV.W   @R1,R0                                  ;
13652 0000208E C840              4651             TST     #_W1DUP,R0                              ;
13653                            4652             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;原点? NO
13654 00002090 8908                   M           BT      DND_ORGIN_SIG_FORON_EXT
13655                            4653     
13656 00002092 D108              4654             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1                  ;
13657 00002094 6011              4655             MOV.W   @R1,R0                                  ;
13658 00002096 C801              4656             TST     #BIT0,R0                                ;
13659                            4657             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;目標位置決め? NO
13660 00002098 8904                   M           BT      DND_ORGIN_SIG_FORON_EXT
13661                            4658     
13662                            4659             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
13663 0000209A D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
13664 0000209C 6011                   M           MOV.W   @R1,R0          ;
13665 0000209E 9404                   M           MOV.W   #(BIT4),R4              ;
13666 000020A0 204B                   M           OR      R4,R0           ;
13667 000020A2 2101                   M           MOV.W   R0,@R1          ;
13668 000020A4                   4660     DND_ORGIN_SIG_FORON_EXT:
13669                            4661             SUB_END
13670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13671 000020A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13672                            4662             M_RTS
13673 000020A6 000B                   M           RTS                             ;RTSの後ろの
13674 000020A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   135
PROGRAM NAME =

13675                            4663     
13676                            4664     ;       ***********************************
13677                            4665     ;       ***                             ***
13678                            4666     ;       ***     段取寸動反転仕様        ***
13679                            4667     ;       ***                             ***
13680                            4668     ;       ***********************************
13681                            4669     ;
13682                            4670             .INCLUDE        "ssa_dnd1.inc"          ; //
13683                               1 I1  ;       ***********************************
13684                               2 I1  ;       ***                             ***
13685                               3 I1  ;       ***     段取寸動コントロール    ***
13686                               4 I1  ;       ***                             ***
13687                               5 I1  ;       ***********************************
13688                               6 I1  ;       ***********************************
13689                               7 I1  ;       ***                             ***
13690                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
13691                               9 I1  ;       ***                             ***
13692                              10 I1  ;       ***********************************
13693                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
13694                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
13695                              13 I1  ;       ======== 再起動/終了            BIT1            ====
13696                              14 I1  ;       ======== BIT6;終了
13697                                 I1  ***** BEGIN-POOL *****
13698 000020AA 0010                   I1  DATA FOR SOURCE-LINE 4659
13699 000020AC 00000000               I1  DATA FOR SOURCE-LINE 4644
13700 000020B0 00000000               I1  DATA FOR SOURCE-LINE 4649
13701 000020B4 00000000               I1  DATA FOR SOURCE-LINE 4654
13702 000020B8 00000000               I1  DATA FOR SOURCE-LINE 4659
13703                                 I1  ***** END-POOL *****
13704 000020BC                     15 I1  _DND_NEG_STEP_CTRL:
13705                              16 I1          SUB_START
13706 000020BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13707                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13708                              17 I1  
13709 000020BE D103                18 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;段取り共通
13710 000020C0 6011                19 I1          MOV.W   @R1,R0                          ;
13711 000020C2 C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
13712                              21 I1          TST_BIT_OF DND_NEGSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13713 000020C4 8904                   M           BT      DND_NEGSTEPCTL_100
13714                              22 I1          M_BRA   DND_NEGSTEPCTL_300              ;BIT1:次の回転起動
13715 000020C6 A021                   M           BRA     DND_NEGSTEPCTL_300
13716 000020C8 0009                   M           NOP
13717                              23 I1  
13718                                 I1  ***** BEGIN-POOL *****
13719 000020CA 0000                   I1  ALIGNMENT CODE
13720 000020CC 00000000               I1  DATA FOR SOURCE-LINE 18
13721                                 I1  ***** END-POOL *****
13722 000020D0                     24 I1  DND_NEGSTEPCTL_100:
13723                              25 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13724 000020D0 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13725 000020D2 400B                   M           JSR     @R0                     ;
13726 000020D4 0009                   M           NOP                                     ;
13727                              26 I1  
13728                              27 I1          FAR_JSR #_LOD_POS_STS_REG,R1    ;
13729 000020D6 D104                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13730 000020D8 410B                   M           JSR     @R1                     ;
13731 000020DA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   136
PROGRAM NAME =

13732 000020DC C804                28 I1          TST     #BIT2,R0                ;停止?
13733                              29 I1          TST_BIT_ON DND_NEGSTEPCTL_200   ;YES 停止中 1:停止 0:払出中
13734 000020DE 8B05                   M           BF      DND_NEGSTEPCTL_200
13735                              30 I1          M_BRA   DND_NEGSTEPCTL_900      ;
13736 000020E0 A05E                   M           BRA     DND_NEGSTEPCTL_900
13737 000020E2 0009                   M           NOP
13738                              31 I1  
13739                              32 I1  ;       ===========================
13740                              33 I1  ;       ===     払出停止        ===
13741                              34 I1  ;       ===     回転時          ===
13742                              35 I1  ;       ===========================
13743                                 I1  ***** BEGIN-POOL *****
13744 000020E4 00000000               I1  DATA FOR SOURCE-LINE 25
13745 000020E8 00000000               I1  DATA FOR SOURCE-LINE 27
13746                                 I1  ***** END-POOL *****
13747 000020EC                     36 I1  DND_NEGSTEPCTL_200:
13748                              37 I1  ;       >>>> 切替ﾀｲﾏｾｯﾄ <<<<
13749                              38 I1  ;       ===============================================
13750                              39 I1  ;;;2014-05-30   MOV.L   #_PAR_START_WAIT_DND,R1                                 ;段取時切
                                          替WAIT時間
13751 000020EC D104                40 I1          MOV.L   #(_PAR_START_WAIT_DND-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;段取時切替WAIT時
                                          間
13752 000020EE 6111                41 I1          MOV.W   @R1,R1                                  ;
13753                              42 I1  
13754 000020F0 D404                43 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
13755 000020F2 2412                44 I1          MOV.L   R1,@R4                                                          ;
13756                              45 I1  ;       FLG=(BIT0):ｾｯﾄ                                                          ;
13757                              46 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;ﾀｲﾏ起動
13758 000020F4 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13759 000020F6 6011                   M           MOV.W   @R1,R0          ;
13760 000020F8 CB01                   M           OR      #BIT0,R0                ;
13761 000020FA 2101                   M           MOV.W   R0,@R1          ;
13762                              47 I1          M_BRA   DND_NEGSTEPCTL_900                                              ;
13763 000020FC A050                   M           BRA     DND_NEGSTEPCTL_900
13764 000020FE 0009                   M           NOP
13765                              48 I1  
13766                                 I1  ***** BEGIN-POOL *****
13767 00002100 00000000               I1  DATA FOR SOURCE-LINE 40
13768 00002104 00000000               I1  DATA FOR SOURCE-LINE 43
13769 00002108 00000000               I1  DATA FOR SOURCE-LINE 46
13770                                 I1  ***** END-POOL *****
13771 0000210C                     49 I1  DND_NEGSTEPCTL_300:
13772 0000210C C802                50 I1          TST     #BIT1,R0                ;
13773                              51 I1          TST_BIT_ON DND_NEGSTEPCTL_400   ;
13774 0000210E 8B15                   M           BF      DND_NEGSTEPCTL_400
13775                              52 I1  
13776                              53 I1  ;       ===== 切替ﾀｲﾏ待ち ====
13777                              54 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13778 00002110 D105                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13779 00002112 6412                   M           MOV.L   @R1,R4          ;
13780 00002114 2448                   M           TST     R4,R4                   ;
13781 00002116 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
13782 00002118 4410                   M           DT      R4                              ;
13783 0000211A 2142                   M           MOV.L   R4,@R1          ;STORE
13784 0000211C                        M   JMP_0100006:
13785                              55 I1  
13786 0000211C D402                56 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   137
PROGRAM NAME =

13787 0000211E 6142                57 I1          MOV.L   @R4,R1                  ;
13788 00002120 2118                58 I1          TST     R1,R1                   ;
13789                              59 I1          TST_BIT_OF DND_NEGSTEPCTL_320   ;
13790 00002122 8903                   M           BT      DND_NEGSTEPCTL_320
13791                              60 I1          M_BRA   DND_NEGSTEPCTL_900      ;
13792 00002124 A03C                   M           BRA     DND_NEGSTEPCTL_900
13793 00002126 0009                   M           NOP
13794                              61 I1  
13795                                 I1  ***** BEGIN-POOL *****
13796 00002128 00000000               I1  DATA FOR SOURCE-LINE 54,56
13797                                 I1  ***** END-POOL *****
13798 0000212C                     62 I1  DND_NEGSTEPCTL_320:
13799                              63 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13800 0000212C D102                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13801 0000212E 6011                   M           MOV.W   @R1,R0          ;
13802 00002130 CB02                   M           OR      #BIT1,R0                ;
13803 00002132 2101                   M           MOV.W   R0,@R1          ;
13804                              64 I1          M_BRA   DND_NEGSTEPCTL_900              ;
13805 00002134 A034                   M           BRA     DND_NEGSTEPCTL_900
13806 00002136 0009                   M           NOP
13807                              65 I1  
13808                              66 I1  
13809                              67 I1  ;       ======= 次の起動 =====
13810                                 I1  ***** BEGIN-POOL *****
13811 00002138 00000000               I1  DATA FOR SOURCE-LINE 63
13812                                 I1  ***** END-POOL *****
13813 0000213C                     68 I1  DND_NEGSTEPCTL_400:
13814                              69 I1  ;       ===================================
13815                              70 I1  ;       ===     二重回路対策            ===
13816                              71 I1  ;       ===     工程完了                ===
13817                              72 I1  ;       ===================================
13818                              73 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
13819 0000213C D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13820 0000213E 400B                   M           JSR     @R0                     ;
13821 00002140 0009                   M           NOP                                     ;
13822 00002142 2008                74 I1          TST     R0,R0                           ;
13823                              75 I1          TST_BIT_ON DND_NEGSTEPCTL_420           ;
13824 00002144 8B04                   M           BF      DND_NEGSTEPCTL_420
13825                              76 I1          M_BRA   DND_NEGSTEPCTL_900              ;
13826 00002146 A02B                   M           BRA     DND_NEGSTEPCTL_900
13827 00002148 0009                   M           NOP
13828                              77 I1  
13829                                 I1  ***** BEGIN-POOL *****
13830 0000214A 0000                   I1  ALIGNMENT CODE
13831 0000214C 00000000               I1  DATA FOR SOURCE-LINE 73
13832                                 I1  ***** END-POOL *****
13833 00002150                     78 I1  DND_NEGSTEPCTL_420:                             ;
13834                              79 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
13835 00002150 D004                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13836 00002152 400B                   M           JSR     @R0                     ;
13837 00002154 0009                   M           NOP                                     ;
13838                              80 I1  
13839                              81 I1  ;       ====  次の動作の演算 =====
13840 00002156 D504                82 I1          MOV.L   #_INT_DND_NEG_STEP,R5           ;
13841 00002158 6051                83 I1          MOV.W   @R5,R0                          ;
13842 0000215A 8801                84 I1          CMP/EQ  #1,R0                           ;
13843 0000215C 8B06                85 I1          BF      DND_NEGSTEPCTL_440              ;もし0or2なら待機点なので1へ遷移
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   138
PROGRAM NAME =

13844 0000215E E002                86 I1          MOV     #2,R0                           ;もし1(目標位置への動作)なら2へ（待機点）
13845                              87 I1          M_BRA   DND_NEGSTEPCTL_460              ;
13846 00002160 A005                   M           BRA     DND_NEGSTEPCTL_460
13847 00002162 0009                   M           NOP
13848                                 I1  ***** BEGIN-POOL *****
13849 00002164 00000000               I1  DATA FOR SOURCE-LINE 79
13850 00002168 00000000               I1  DATA FOR SOURCE-LINE 82
13851                                 I1  ***** END-POOL *****
13852 0000216C                     88 I1  DND_NEGSTEPCTL_440:                             ;
13853 0000216C E001                89 I1          MOV     #1,R0                           ;もし0or2(待機点への動作)なら1
13854 0000216E                     90 I1  DND_NEGSTEPCTL_460:                             ;
13855 0000216E 2501                91 I1          MOV.W   R0,@R5                          ;
13856                              92 I1          FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;<<>>
13857 00002170 D00D                   M           MOV.L   #_DND_LNK_STEP_CHECK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13858 00002172 400B                   M           JSR     @R0                     ;
13859 00002174 0009                   M           NOP                                     ;
13860                              93 I1          FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
13861 00002176 D10D                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13862 00002178 410B                   M           JSR     @R1                     ;
13863 0000217A 0009                   M           NOP                                     ;
13864                              94 I1  
13865                              95 I1  ;       ===================
13866                              96 I1  ;       ===     起動    ===
13867                              97 I1  ;       ===================
13868 0000217C                     98 I1  DND_NEGSTEPCTL_580:
13869                              99 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
13870 0000217C D00C                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13871 0000217E 400B                   M           JSR     @R0                     ;
13872 00002180 0009                   M           NOP                                     ;
13873                             100 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13874 00002182 D00C                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13875 00002184 400B                   M           JSR     @R0                     ;
13876 00002186 0009                   M           NOP                                     ;
13877                             101 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13878 00002188 D00B                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13879 0000218A 400B                   M           JSR     @R0                     ;
13880 0000218C 0009                   M           NOP                                     ;
13881                             102 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
13882 0000218E D10B                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13883 00002190 410B                   M           JSR     @R1                     ;
13884 00002192 0009                   M           NOP                                     ;
13885 00002194 200A               103 I1          XOR     R0,R0                           ;
13886 00002196 D10A               104 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13887 00002198 2101               105 I1          MOV.W   R0,@R1                          ;Q
13888                             106 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
13889 0000219A D00A                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13890 0000219C 400B                   M           JSR     @R0                     ;
13891 0000219E 0009                   M           NOP                                     ;
13892                             107 I1  
13893 000021A0                    108 I1  DND_NEGSTEPCTL_900:
13894                             109 I1          SUB_END
13895                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13896 000021A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13897                             110 I1          M_RTS
13898 000021A2 000B                   M           RTS                             ;RTSの後ろの
13899 000021A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   139
PROGRAM NAME =

13900                             111 I1  
13901                             112 I1  
13902                             113 I1  
13903                            4671     
13904                            4672     ;       *******************************************
13905                            4673     ;       ***                                     ***
13906                            4674     ;       ***     段取寸動正転・逆転停止仕様      ***
13907                            4675     ;       ***                                     ***
13908                            4676     ;       *******************************************
13909                            4677     ;
13910                            4678             .INCLUDE        "ssa_dnd2.inc"          ; //
13911                               1 I1  ;       ***********************************
13912                               2 I1  ;       ***                             ***
13913                               3 I1  ;       ***     段取寸動コントロール    ***
13914                               4 I1  ;       ***                             ***
13915                               5 I1  ;       ***********************************
13916                               6 I1  ;       ***********************************
13917                               7 I1  ;       ***                             ***
13918                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
13919                               9 I1  ;       ***                             ***
13920                              10 I1  ;       ***********************************
13921                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
13922                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
13923                              13 I1  ;       ======== 再起動/終了            BIT1            ====
13924                              14 I1  ;       ======== BIT6;終了
13925                                 I1  ***** BEGIN-POOL *****
13926 000021A6 0000                   I1  ALIGNMENT CODE
13927 000021A8 00000000               I1  DATA FOR SOURCE-LINE 92
13928 000021AC 00000000               I1  DATA FOR SOURCE-LINE 93
13929 000021B0 00000000               I1  DATA FOR SOURCE-LINE 99
13930 000021B4 00000000               I1  DATA FOR SOURCE-LINE 100
13931 000021B8 00000000               I1  DATA FOR SOURCE-LINE 101
13932 000021BC 00000000               I1  DATA FOR SOURCE-LINE 102
13933 000021C0 00000000               I1  DATA FOR SOURCE-LINE 104
13934 000021C4 00000000               I1  DATA FOR SOURCE-LINE 106
13935                                 I1  ***** END-POOL *****
13936 000021C8                     15 I1  _DND_ROT_STEP_CTRL:
13937                              16 I1          SUB_START
13938 000021C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13939                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13940                              17 I1  
13941 000021CA D103                18 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
13942 000021CC 6011                19 I1          MOV.W   @R1,R0                          ;
13943 000021CE C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
13944                              21 I1          TST_BIT_ON DND_ROTSTEPCTL_050           ;
13945 000021D0 8B04                   M           BF      DND_ROTSTEPCTL_050
13946                              22 I1          M_BRA   DND_ROTSTEPCTL_EXT              ;
13947 000021D2 A043                   M           BRA     DND_ROTSTEPCTL_EXT
13948 000021D4 0009                   M           NOP
13949                              23 I1  
13950                                 I1  ***** BEGIN-POOL *****
13951 000021D6 0000                   I1  ALIGNMENT CODE
13952 000021D8 00000000               I1  DATA FOR SOURCE-LINE 18
13953                                 I1  ***** END-POOL *****
13954 000021DC                     24 I1  DND_ROTSTEPCTL_050:
13955 000021DC D106                25 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;
13956 000021DE 6011                26 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   140
PROGRAM NAME =

13957 000021E0 C820                27 I1          TST     #BIT5,R0                        ;
13958                              28 I1          TST_BIT_ON DND_ROTSTEPCTL_080           ;終了
13959 000021E2 8B07                   M           BF      DND_ROTSTEPCTL_080
13960                              29 I1  
13961                              30 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13962 000021E4 D005                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13963 000021E6 400B                   M           JSR     @R0                     ;
13964 000021E8 0009                   M           NOP                                     ;
13965                              31 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
13966 000021EA D105                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13967 000021EC 410B                   M           JSR     @R1                     ;
13968 000021EE 0009                   M           NOP                                     ;
13969 000021F0 C804                32 I1          TST     #BIT2,R0                        ;停止?
13970                              33 I1          TST_BIT_ON DND_ROTSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13971 000021F2 8B07                   M           BF      DND_ROTSTEPCTL_200
13972 000021F4                     34 I1  DND_ROTSTEPCTL_080:
13973                              35 I1          M_BRA   DND_ROTSTEPCTL_900              ;
13974 000021F4 A031                   M           BRA     DND_ROTSTEPCTL_900
13975 000021F6 0009                   M           NOP
13976                              36 I1  
13977                              37 I1  ;       ===========================
13978                              38 I1  ;       ===     払出停止        ===
13979                              39 I1  ;       ===     回転時          ===
13980                              40 I1  ;       ===========================
13981                                 I1  ***** BEGIN-POOL *****
13982 000021F8 00000000               I1  DATA FOR SOURCE-LINE 25
13983 000021FC 00000000               I1  DATA FOR SOURCE-LINE 30
13984 00002200 00000000               I1  DATA FOR SOURCE-LINE 31
13985                                 I1  ***** END-POOL *****
13986 00002204                     41 I1  DND_ROTSTEPCTL_200:
13987 00002204                     42 I1  DND_ROTSTEPCTL_400:
13988                              43 I1  ;       ===================================
13989                              44 I1  ;       ===     二重回路対策            ===
13990                              45 I1  ;       ===     工程完了                ===
13991                              46 I1  ;       ===================================
13992                              47 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
13993 00002204 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13994 00002206 400B                   M           JSR     @R0                     ;
13995 00002208 0009                   M           NOP                                     ;
13996 0000220A 2008                48 I1          TST     R0,R0                           ;
13997                              49 I1          TST_BIT_ON DND_ROTSTEPCTL_420           ;
13998 0000220C 8B04                   M           BF      DND_ROTSTEPCTL_420
13999                              50 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14000 0000220E A024                   M           BRA     DND_ROTSTEPCTL_900
14001 00002210 0009                   M           NOP
14002                              51 I1  
14003                                 I1  ***** BEGIN-POOL *****
14004 00002212 0000                   I1  ALIGNMENT CODE
14005 00002214 00000000               I1  DATA FOR SOURCE-LINE 47
14006                                 I1  ***** END-POOL *****
14007 00002218                     52 I1  DND_ROTSTEPCTL_420:                             ;
14008                              53 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14009 00002218 D006                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14010 0000221A 400B                   M           JSR     @R0                     ;
14011 0000221C 0009                   M           NOP                                     ;
14012                              54 I1  
14013                              55 I1  ;       ====  工程を進めて終了する =====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   141
PROGRAM NAME =

14014 0000221E D506                56 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14015 00002220 6351                57 I1          MOV.W   @R5,R3                          ;
14016 00002222 D106                58 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14017 00002224 6011                59 I1          MOV.W   @R1,R0                          ;
14018 00002226 C903                60 I1          AND     #(BIT1+BIT0),R0                 ;
14019 00002228 8803                61 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14020 0000222A 8909                62 I1          BT      DND_ROTSTEPCTL_440              ;
14021 0000222C E301                63 I1          MOV     #1,R3                           ;
14022                              64 I1          M_BRA   DND_ROTSTEPCTL_500              ;
14023 0000222E A00C                   M           BRA     DND_ROTSTEPCTL_500
14024 00002230 0009                   M           NOP
14025                                 I1  ***** BEGIN-POOL *****
14026 00002232 0000                   I1  ALIGNMENT CODE
14027 00002234 00000000               I1  DATA FOR SOURCE-LINE 53
14028 00002238 00000000               I1  DATA FOR SOURCE-LINE 56
14029 0000223C 00000000               I1  DATA FOR SOURCE-LINE 58
14030                                 I1  ***** END-POOL *****
14031 00002240                     65 I1  DND_ROTSTEPCTL_440:                             ;
14032 00002240 7301                66 I1          ADD     #1,R3                           ;
14033 00002242 920E                67 I1          MOV.W   #2,R2                           ;
14034 00002244 3326                68 I1          CMP/HI  R2,R3                           ;
14035 00002246 8B00                69 I1          BF      DND_ROTSTEPCTL_500              ;
14036 00002248 930C                70 I1          MOV.W   #1,R3                           ;
14037 0000224A                     71 I1  DND_ROTSTEPCTL_500:                             ;
14038 0000224A 2531                72 I1          MOV.W   R3,@R5                          ;
14039                              73 I1  
14040                              74 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1    ;BIT5=1 EN
                                          D
14041 0000224C D106                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14042 0000224E 6011                   M           MOV.W   @R1,R0          ;
14043 00002250 CB20                   M           OR      #BIT5,R0                ;
14044 00002252 2101                   M           MOV.W   R0,@R1          ;
14045                              75 I1  
14046                              76 I1  ;       --------- 2014-08-05----------
14047                              77 I1          FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14048 00002254 D005                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14049 00002256 400B                   M           JSR     @R0                     ;
14050 00002258 0009                   M           NOP                                     ;
14051                              78 I1  
14052 0000225A                     79 I1  DND_ROTSTEPCTL_900:
14053 0000225A 0009                80 I1          NOP
14054 0000225C                     81 I1  DND_ROTSTEPCTL_EXT:
14055                              82 I1          SUB_END
14056                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14057 0000225C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14058                              83 I1          M_RTS
14059 0000225E 000B                   M           RTS                             ;RTSの後ろの
14060 00002260 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14061                              84 I1  
14062                              85 I1  ;       ***********************************
14063                              86 I1  ;       ***                             ***
14064                              87 I1  ;       ***     初起動時のエリア作成    ***
14065                              88 I1  ;       ***                             ***
14066                              89 I1  ;       ***********************************
14067                                 I1  ***** BEGIN-POOL *****
14068 00002262 0002                   I1  DATA FOR SOURCE-LINE 67
14069 00002264 0001                   I1  DATA FOR SOURCE-LINE 70
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   142
PROGRAM NAME =

14070 00002266 0000                   I1  ALIGNMENT CODE
14071 00002268 00000000               I1  DATA FOR SOURCE-LINE 74
14072 0000226C 00000000               I1  DATA FOR SOURCE-LINE 77
14073                                 I1  ***** END-POOL *****
14074          00000014            90 I1  _DND_AREA_HIS           .EQU    20              ;2.0DIG
14075 00002270                     91 I1  _DNDINC_STEP_MAKE:
14076                              92 I1          SUB_START
14077 00002270 4F22                   M           STS.L   PR,@-R15                ;[必要]
14078                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14079 00002272 D50B                93 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14080 00002274 6351                94 I1          MOV.W   @R5,R3                          ;
14081 00002276 2338                95 I1          TST     R3,R3                           ;
14082                              96 I1          TST_BIT_OF DNDINC_STEP_MK100            ;再計算
14083 00002278 891C                   M           BT      DNDINC_STEP_MK100
14084                              97 I1  
14085 0000227A D10A                98 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14086 0000227C 6011                99 I1          MOV.W   @R1,R0                          ;
14087 0000227E D10A               100 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14088 00002280 6211               101 I1          MOV.W   @R1,R2
14089 00002282 2101               102 I1          MOV.W   R0,@R1                          ;
14090 00002284 220A               103 I1          XOR     R0,R2                           ;
14091 00002286 2228               104 I1          TST     R2,R2                           ;
14092                             105 I1          TST_BIT_ON DNDINC_STEP_MK100            ;SW変更有り　再計算
14093 00002288 8B14                   M           BF      DNDINC_STEP_MK100
14094                             106 I1  
14095 0000228A D108               107 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14096 0000228C 6011               108 I1          MOV.W   @R1,R0                          ;
14097 0000228E D108               109 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14098 00002290 6211               110 I1          MOV.W   @R1,R2                          ;
14099 00002292 2101               111 I1          MOV.W   R0,@R1                          ;
14100 00002294 220A               112 I1          XOR     R0,R2                           ;
14101 00002296 2228               113 I1          TST     R2,R2                           ;
14102                             114 I1          TST_BIT_ON DNDINC_STEP_MK100            ;DIRD変更有り　再計算
14103 00002298 8B0C                   M           BF      DNDINC_STEP_MK100
14104                             115 I1          M_BRA   DNDINC_STEP_MK150
14105 0000229A A027                   M           BRA     DNDINC_STEP_MK150
14106 0000229C 0009                   M           NOP
14107                             116 I1  
14108                             117 I1  ;;20060919      M_BRA   DNDINC_STEP_MK300               ;
14109                             118 I1  
14110                             119 I1  
14111                             120 I1  ;       -------- 開始計算--------
14112                                 I1  ***** BEGIN-POOL *****
14113 0000229E 0000                   I1  ALIGNMENT CODE
14114 000022A0 00000000               I1  DATA FOR SOURCE-LINE 93
14115 000022A4 00000000               I1  DATA FOR SOURCE-LINE 98
14116 000022A8 00000000               I1  DATA FOR SOURCE-LINE 100
14117 000022AC 00000000               I1  DATA FOR SOURCE-LINE 107
14118 000022B0 00000000               I1  DATA FOR SOURCE-LINE 109
14119                                 I1  ***** END-POOL *****
14120 000022B4                    121 I1  DNDINC_STEP_MK100:
14121 000022B4 D108               122 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14122 000022B6 6011               123 I1          MOV.W   @R1,R0                          ;
14123 000022B8 D108               124 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14124 000022BA 2101               125 I1          MOV.W   R0,@R1                          ;
14125                             126 I1  
14126 000022BC D108               127 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   143
PROGRAM NAME =

14127 000022BE 6211               128 I1          MOV.W   @R1,R2                          ;
14128 000022C0 D108               129 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14129 000022C2 2121               130 I1          MOV.W   R2,@R1                          ;
14130                             131 I1  
14131 000022C4 C903               132 I1          AND     #(BIT1+BIT0),R0                 ;
14132 000022C6 8803               133 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14133 000022C8 8910               134 I1          BT      DNDINC_STEP_MK150               ;
14134                             135 I1  
14135 000022CA D507               136 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14136 000022CC 9302               137 I1          MOV.W   #1,R3                           ;STEP=1
14137 000022CE 2531               138 I1          MOV.W   R3,@R5                          ;
14138                             139 I1          M_BRA   DNDINC_STEP_MK300               ;
14139 000022D0 A061                   M           BRA     DNDINC_STEP_MK300
14140 000022D2 0009                   M           NOP
14141                             140 I1  
14142                                 I1  ***** BEGIN-POOL *****
14143 000022D4 0001                   I1  DATA FOR SOURCE-LINE 137
14144 000022D6 0000                   I1  ALIGNMENT CODE
14145 000022D8 00000000               I1  DATA FOR SOURCE-LINE 122
14146 000022DC 00000000               I1  DATA FOR SOURCE-LINE 124
14147 000022E0 00000000               I1  DATA FOR SOURCE-LINE 127
14148 000022E4 00000000               I1  DATA FOR SOURCE-LINE 129
14149 000022E8 00000000               I1  DATA FOR SOURCE-LINE 136
14150                                 I1  ***** END-POOL *****
14151 000022EC                    141 I1  DNDINC_STEP_MK150:
14152 000022EC D10B               142 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14153 000022EE 6011               143 I1          MOV.W   @R1,R0
14154 000022F0 2008               144 I1          TST     R0,R0                           ;
14155                             145 I1          TST_BIT_ON DNDINC_STEP_MK180            ;
14156 000022F2 8B19                   M           BF      DNDINC_STEP_MK180
14157                             146 I1  
14158 000022F4 940F               147 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14159 000022F6 D10A               148 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14160 000022F8 6211               149 I1          MOV.W   @R1,R2                                                  ;
14161                             150 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;dig-2.0
14162 000022FA 3248                   M           SUB     R4,R2
14163 000022FC 4211                   M           CMP/PZ  R2
14164 000022FE 8901                   M           BT      JMP0100007                      ;
14165 00002300 910A                   M           MOV.W   #3600,R1
14166 00002302 321C                   M           ADD     R1,R2           ;
14167 00002304                        M   JMP0100007                                      ;
14168                             151 I1  
14169 00002304 D107               152 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1        ;
14170 00002306 6311               153 I1          MOV.W   @R1,R3                          ;
14171                             154 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;dig-2.0
14172 00002308 3348                   M           SUB     R4,R3
14173 0000230A 4311                   M           CMP/PZ  R3
14174 0000230C 8901                   M           BT      JMP0100008                      ;
14175 0000230E 9103                   M           MOV.W   #3600,R1
14176 00002310 331C                   M           ADD     R1,R3           ;
14177 00002312                        M   JMP0100008                                      ;
14178                             155 I1          M_BRA   DNDINC_STEP_MK200
14179 00002312 A018                   M           BRA     DNDINC_STEP_MK200
14180 00002314 0009                   M           NOP
14181                             156 I1  
14182                                 I1  ***** BEGIN-POOL *****
14183 00002316 0014                   I1  DATA FOR SOURCE-LINE 147
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   144
PROGRAM NAME =

14184 00002318 0E10                   I1  DATA FOR SOURCE-LINE 150,154
14185 0000231A 0000                   I1  ALIGNMENT CODE
14186 0000231C 00000000               I1  DATA FOR SOURCE-LINE 142
14187 00002320 00000000               I1  DATA FOR SOURCE-LINE 148
14188 00002324 00000000               I1  DATA FOR SOURCE-LINE 152
14189                                 I1  ***** END-POOL *****
14190 00002328                    157 I1  DNDINC_STEP_MK180:                                                      ;
14191                             158 I1  
14192 00002328 9419               159 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14193 0000232A D10E               160 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14194 0000232C 6311               161 I1          MOV.W   @R1,R3                                                  ;
14195                             162 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;
14196 0000232E 334C                   M           ADD     R4,R3
14197 00002330 9116                   M           MOV.W   #3600,R1
14198 00002332 3137                   M           CMP/GT  R3,R1           ;359.9<3600
14199 00002334 8900                   M           BT      JMP0100009                      ;
14200 00002336 3318                   M           SUB     R1,R3           ;
14201 00002338                        M   JMP0100009                                      ;
14202                             163 I1  
14203 00002338 D10B               164 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1                                ;
14204 0000233A 6211               165 I1          MOV.W   @R1,R2                                                  ;
14205                             166 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;
14206 0000233C 324C                   M           ADD     R4,R2
14207 0000233E 910F                   M           MOV.W   #3600,R1
14208 00002340 3127                   M           CMP/GT  R2,R1           ;359.9<3600
14209 00002342 8900                   M           BT      JMP0100010                      ;
14210 00002344 3218                   M           SUB     R1,R2           ;
14211 00002346                        M   JMP0100010                                      ;
14212                             167 I1  
14213 00002346                    168 I1  DNDINC_STEP_MK200:                                              ;
14214 00002346 D109               169 I1          MOV.L   #_INC_ENC360,R1                                 ;
14215 00002348 6411               170 I1          MOV.W   @R1,R4                                          ;
14216                             171 I1  
14217                             172 I1          DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R4,ANSREG=R0       ;R0 !=0 範囲内
14218 0000234A 3233                   M           CMP/GE  R3,R2
14219 0000234C 8B10                   M           BF      JMP0100011
14220                                 M   ;       === 0度をはさなまい===
14221 0000234E 200A                   M           XOR     R0,R0
14222 00002350 3433                   M           CMP/GE  R3,R4           ;
14223 00002352 8B13                   M           BF      JMP0200011                      ; PV<SV1
14224 00002354 3243                   M           CMP/GE  R4,R2           ;
14225 00002356 8B11                   M           BF      JMP0200011                      ; SV2<PV2 (1)
14226 00002358 E001                   M           MOV     #1,R0           ;
14227                                 M           M_BRA   JMP0200011                      ;
14228 0000235A A00F                   M           BRA     JMP0200011
14229 0000235C 0009                   M           NOP
14230                                 M   
14231                                 M   ;       ==== ０度をはさむ====
14232                                 M   ***** BEGIN-POOL *****
14233 0000235E 0014                   M   DATA FOR SOURCE-LINE 159
14234 00002360 0E10                   M   DATA FOR SOURCE-LINE 162,166
14235 00002362 0000                   M   ALIGNMENT CODE
14236 00002364 00000000               M   DATA FOR SOURCE-LINE 160
14237 00002368 00000000               M   DATA FOR SOURCE-LINE 164
14238 0000236C 00000000               M   DATA FOR SOURCE-LINE 169
14239                                 M   ***** END-POOL *****
14240 00002370                        M   JMP0100011:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   145
PROGRAM NAME =

14241 00002370 E001                   M           MOV     #1,R0
14242 00002372 3433                   M           CMP/GE  R3,R4
14243 00002374 8902                   M           BT      JMP0200011                      ;SV1=<PV=<360
14244 00002376 3243                   M           CMP/GE  R4,R2           ;
14245 00002378 8900                   M           BT      JMP0200011                      ;
14246 0000237A 200A                   M           XOR     R0,R0           ;
14247 0000237C                        M   JMP0200011:
14248 0000237C 2008               173 I1          TST     R0,R0                                           ;
14249                             174 I1          TST_BIT_OF DNDINC_STEP_MK220                            ;
14250 0000237E 8907                   M           BT      DNDINC_STEP_MK220
14251 00002380 D502               175 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
14252 00002382 9302               176 I1          MOV.W   #2,R3                                           ;STEP=2 待機点に戻ってきて
                                          いる
14253 00002384 2531               177 I1          MOV.W   R3,@R5                                          ;
14254                             178 I1          M_BRA   DNDINC_STEP_MK300                               ;
14255 00002386 A006                   M           BRA     DNDINC_STEP_MK300
14256 00002388 0009                   M           NOP
14257                                 I1  ***** BEGIN-POOL *****
14258 0000238A 0002                   I1  DATA FOR SOURCE-LINE 176
14259 0000238C 00000000               I1  DATA FOR SOURCE-LINE 175
14260                                 I1  ***** END-POOL *****
14261 00002390                    179 I1  DNDINC_STEP_MK220:                                              ;
14262 00002390 D503               180 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
14263 00002392 9303               181 I1          MOV.W   #1,R3                                           ;STEP=1 待機点を越えている
14264 00002394 2531               182 I1          MOV.W   R3,@R5                                          ;
14265 00002396                    183 I1  DNDINC_STEP_MK300:
14266                             184 I1          SUB_END
14267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14268 00002396 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14269                             185 I1          M_RTS
14270 00002398 000B                   M           RTS                             ;RTSの後ろの
14271 0000239A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14272                             186 I1  
14273                             187 I1  ;       ***********************************
14274                             188 I1  ;       ***                             ***
14275                             189 I1  ;       ***     工程からの目標位置作成  ***
14276                             190 I1  ;       ***                             ***
14277                             191 I1  ;       ***********************************
14278                                 I1  ***** BEGIN-POOL *****
14279 0000239C 0001                   I1  DATA FOR SOURCE-LINE 181
14280 0000239E 0000                   I1  ALIGNMENT CODE
14281 000023A0 00000000               I1  DATA FOR SOURCE-LINE 180
14282                                 I1  ***** END-POOL *****
14283 000023A4                    192 I1  _DNDINC_MAKE_OBJPOS:
14284                             193 I1          SUB_START
14285 000023A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14286                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14287                             194 I1  
14288 000023A6 D104               195 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14289 000023A8 6011               196 I1          MOV.W   @R1,R0                          ;
14290 000023AA C903               197 I1          AND     #(BIT1+BIT0),R0                 ;
14291 000023AC 8803               198 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14292 000023AE 8905               199 I1          BT      DNDINC_MAKOBJPOS_100            ;
14293                             200 I1  
14294 000023B0 C801               201 I1          TST     #BIT0,R0                        ;待機点のみ
14295                             202 I1          TST_BIT_ON DNDINC_MAKOBJPOS_120         ;YES
14296 000023B2 8B08                   M           BF      DNDINC_MAKOBJPOS_120
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   146
PROGRAM NAME =

14297                             203 I1          M_BRA   DNDINC_MAKOBJPOS_150            ;途中位置
14298 000023B4 A010                   M           BRA     DNDINC_MAKOBJPOS_150
14299 000023B6 0009                   M           NOP
14300                             204 I1  
14301                                 I1  ***** BEGIN-POOL *****
14302 000023B8 00000000               I1  DATA FOR SOURCE-LINE 195
14303                                 I1  ***** END-POOL *****
14304 000023BC                    205 I1  DNDINC_MAKOBJPOS_100:
14305 000023BC D104               206 I1          MOV.L   #_DNDINC_CTRL_STEP,R1           ;
14306 000023BE 6311               207 I1          MOV.W   @R1,R3                          ;
14307 000023C0 9205               208 I1          MOV.W   #2,R2                           ;
14308 000023C2 3230               209 I1          CMP/EQ  R3,R2
14309 000023C4 8B08               210 I1          BF      DNDINC_MAKOBJPOS_150            ;
14310 000023C6                    211 I1  DNDINC_MAKOBJPOS_120:
14311 000023C6 D103               212 I1          MOV.L   #_CPOS_DND_PLSTOP+0*4,R1        ;
14312 000023C8 6212               213 I1          MOV.L   @R1,R2                          ;STEP2=待機点に戻る
14313                             214 I1          M_BRA   DNDINC_MAKOBJPOS_200            ;
14314 000023CA A007                   M           BRA     DNDINC_MAKOBJPOS_200
14315 000023CC 0009                   M           NOP
14316                             215 I1  
14317                                 I1  ***** BEGIN-POOL *****
14318 000023CE 0002                   I1  DATA FOR SOURCE-LINE 208
14319 000023D0 00000000               I1  DATA FOR SOURCE-LINE 206
14320 000023D4 00000000               I1  DATA FOR SOURCE-LINE 212
14321                                 I1  ***** END-POOL *****
14322 000023D8                    216 I1  DNDINC_MAKOBJPOS_150:
14323 000023D8 D104               217 I1          MOV.L   #_CPOS_DND_PLSTOP+1*4,R1        ;
14324 000023DA 6212               218 I1          MOV.L   @R1,R2                          ;STEP1=待機点から次へ出発
14325                             219 I1  
14326 000023DC                    220 I1  DNDINC_MAKOBJPOS_200:
14327 000023DC D104               221 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14328 000023DE 6011               222 I1          MOV.W   @R1,R0
14329                             223 I1          FAR_JSR #_LNKPLS_OBJ_DAT_MAK2,R1        ;
14330 000023E0 D104                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK2,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14331 000023E2 410B                   M           JSR     @R1                     ;
14332 000023E4 0009                   M           NOP                                     ;
14333                             224 I1  
14334                             225 I1  
14335                             226 I1          SUB_END
14336                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14337 000023E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14338                             227 I1          M_RTS
14339 000023E8 000B                   M           RTS                             ;RTSの後ろの
14340 000023EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14341                             228 I1  
14342                             229 I1  ;       *******************************************
14343                             230 I1  ;       ***                                     ***
14344                             231 I1  ;       ***     Input R2                        ***
14345                             232 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
14346                             233 I1  ;       ***     Input R0 DIRECT                 ***
14347                             234 I1  ;       ***     方向固定                        ***
14348                             235 I1  ;       ***                                     ***
14349                             236 I1  ;       *******************************************
14350                             237 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
14351                             238 I1  ;       MOV.L   @R4,R2                                  ;
14352                             239 I1  
14353                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   147
PROGRAM NAME =

14354 000023EC 00000000               I1  DATA FOR SOURCE-LINE 217
14355 000023F0 00000000               I1  DATA FOR SOURCE-LINE 221
14356 000023F4 00000000               I1  DATA FOR SOURCE-LINE 223
14357                                 I1  ***** END-POOL *****
14358 000023F8                    240 I1  _LNKPLS_OBJ_DAT_MAK2:
14359                             241 I1          SUB_START
14360 000023F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14361                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14362                             242 I1          PUSH_REG1 R0                                    ;SHIN
14363 000023FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
14364                                 M                                           ;REG=>[SP]
14365                                 M                                           ;"-4" FF,FF,FF,FC
14366                             243 I1          PUSH_REG1 R2                                    ;1ROT DATA
14367 000023FC 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
14368                                 M                                           ;REG=>[SP]
14369                                 M                                           ;"-4" FF,FF,FF,FC
14370                             244 I1  
14371                             245 I1  ;;      MOV.L   #_LINK_PV_ABSPLS,R4             ;
14372                             246 I1  ;;      MOV.L   @R4+,R1                                 ;
14373                             247 I1  ;;      MOV.L   @R4,R2                                  ;
14374                             248 I1  ;;      MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
14375                             249 I1  ;;      MOV.L   R1,@(0,R4)                              ;
14376                             250 I1  ;;      MOV.L   R2,@(4,R4)                              ;
14377                             251 I1  
14378                             252 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
14379 000023FE D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14380 00002400 400B                   M           JSR     @R0                     ;
14381 00002402 0009                   M           NOP                                     ;
14382                             253 I1  
14383                             254 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
14384 00002404 D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14385 00002406 400B                   M           JSR     @R0                     ;
14386 00002408 0009                   M           NOP                                     ;
14387                             255 I1  
14388                             256 I1  
14389                             257 I1  ;       === 目標角度() ====
14390 0000240A D40F               258 I1          MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;[目標側の位置]
14391 0000240C 6142               259 I1          MOV.L   @R4,R1                                  ;現在 ***.* pls "+"data
14392                             260 I1                                                          ;目標 ***.* pls
14393                             261 I1          POP_REG1 R2                                     ;
14394                                 M                                   ; RE"+4" 00,00,00,04
14395 0000240E 62F6                   M           MOV.L   @R15+,R2        ;
14396                             262 I1          POP_REG1 R0                                     ;
14397                                 M                                   ; RE"+4" 00,00,00,04
14398 00002410 60F6                   M           MOV.L   @R15+,R0        ;
14399 00002412 2008               263 I1          TST     R0,R0                                   ;
14400                             264 I1          TST_BIT_ON LNKPLS_OBJ_DAT_MK2_100               ;DIRECT MINAS
14401 00002414 8B20                   M           BF      LNKPLS_OBJ_DAT_MK2_100
14402                             265 I1  ;--------FWD-----------
14403 00002416 3218               266 I1          SUB     R1,R2                                   ;R1(PV) < R2(SV);
14404 00002418 4215               267 I1          CMP/PL  R2                                      ;
14405 0000241A 8908               268 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;YES
14406 0000241C D50B               269 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14407 0000241E 6452               270 I1          MOV.L   @R5,R4                                  ;
14408 00002420 324C               271 I1          ADD     R4,R2                                   ;
14409 00002422 4211               272 I1          CMP/PZ  R2
14410 00002424 8903               273 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;0,+
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   148
PROGRAM NAME =

14411                             274 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14412 00002426 D10A                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14413 00002428 410B                   M           JSR     @R1                     ;
14414 0000242A 0009                   M           NOP                                     ;
14415 0000242C 222A               275 I1          XOR     R2,R2                                   ;
14416 0000242E                    276 I1  LNKPLS_OBJ_DAT_MK2_050                                  ;+1REV
14417                             277 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
14418 0000242E D109               278 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
14419 00002430 6311               279 I1          MOV.W   @R1,R3                                  ;
14420 00002432 3233               280 I1          CMP/GE  R3,R2                                   ;
14421 00002434 8902               281 I1          BT      LNKPLS_OBJ_DAT_MK2_080                  ;
14422 00002436 D505               282 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14423 00002438 6452               283 I1          MOV.L   @R5,R4                                  ;
14424 0000243A 324C               284 I1          ADD     R4,R2                                   ;
14425 0000243C                    285 I1  LNKPLS_OBJ_DAT_MK2_080                                  ;
14426                             286 I1          M_BRA   LNKPLS_OBJ_DAT_MK2_300                  ;
14427 0000243C A020                   M           BRA     LNKPLS_OBJ_DAT_MK2_300
14428 0000243E 0009                   M           NOP
14429                             287 I1  
14430                             288 I1  
14431                             289 I1  ;--------REV-----------
14432                                 I1  ***** BEGIN-POOL *****
14433 00002440 00000000               I1  DATA FOR SOURCE-LINE 252
14434 00002444 00000000               I1  DATA FOR SOURCE-LINE 254
14435 00002448 00000000               I1  DATA FOR SOURCE-LINE 258
14436 0000244C 00000000               I1  DATA FOR SOURCE-LINE 269,282
14437 00002450 00000000               I1  DATA FOR SOURCE-LINE 274
14438 00002454 00000000               I1  DATA FOR SOURCE-LINE 278
14439                                 I1  ***** END-POOL *****
14440 00002458                    290 I1  LNKPLS_OBJ_DAT_MK2_100:                                 ;R2
14441 00002458 3218               291 I1          SUB     R1,R2                                   ;R1(PV) > R2(SV)
14442 0000245A 4211               292 I1          CMP/PZ  R2                                      ;
14443 0000245C 8B02               293 I1          BF      LNKPLS_OBJ_DAT_MK2_150                  ;YES
14444 0000245E D51D               294 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;"0,+"
14445 00002460 6452               295 I1          MOV.L   @R5,R4                                  ;
14446 00002462 3248               296 I1          SUB     R4,R2                                   ;
14447 00002464                    297 I1  LNKPLS_OBJ_DAT_MK2_150                                  ;-1REV
14448 00002464 4215               298 I1          CMP/PL  R2                                      ;
14449 00002466 8B03               299 I1          BF      LNKPLS_OBJ_DAT_MK2_200                  ;0,"-"
14450                             300 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14451 00002468 D11B                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14452 0000246A 410B                   M           JSR     @R1                     ;
14453 0000246C 0009                   M           NOP                                     ;
14454 0000246E 222A               301 I1          XOR     R2,R2                                   ;
14455 00002470                    302 I1  LNKPLS_OBJ_DAT_MK2_200                                  ;
14456                             303 I1  
14457                             304 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
14458 00002470 D11A               305 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
14459 00002472 6311               306 I1          MOV.W   @R1,R3                                  ;
14460 00002474 633B               307 I1          NEG     R3,R3                                   ;
14461 00002476 3233               308 I1          CMP/GE  R3,R2                                   ;-2000
14462 00002478 8B02               309 I1          BF      LNKPLS_OBJ_DAT_MK2_280                  ;
14463 0000247A D516               310 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14464 0000247C 6452               311 I1          MOV.L   @R5,R4                                  ;
14465 0000247E 3248               312 I1          SUB     R4,R2                                   ;
14466 00002480                    313 I1  LNKPLS_OBJ_DAT_MK2_280                                  ;
14467                             314 I1  ;       ---------------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   149
PROGRAM NAME =

14468                             315 I1  
14469                             316 I1  
14470 00002480                    317 I1  LNKPLS_OBJ_DAT_MK2_300                                  ;
14471 00002480 255A               318 I1          XOR     R5,R5                                   ;
14472 00002482 6623               319 I1          MOV     R2,R6                                   ;R5,R6
14473 00002484 4211               320 I1          CMP/PZ  R2                                      ;
14474 00002486 8900               321 I1          BT      LNKPLS_OBJ_DAT_MK2_600                  ;
14475 00002488 E5FF               322 I1          MOV     #-1,R5                                  ;
14476 0000248A                    323 I1  LNKPLS_OBJ_DAT_MK2_600:                                 ;
14477                             324 I1  
14478                             325 I1  
14479 0000248A D415               326 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
14480 0000248C 6146               327 I1          MOV.L   @R4+,R1                                 ;
14481 0000248E 6242               328 I1          MOV.L   @R4,R2                                  ;
14482                             329 I1          PUSH_REG1 R1
14483 00002490 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
14484                                 M                                           ;REG=>[SP]
14485                                 M                                           ;"-4" FF,FF,FF,FC
14486                             330 I1          PUSH_REG1 R2
14487 00002492 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
14488                                 M                                           ;REG=>[SP]
14489                                 M                                           ;"-4" FF,FF,FF,FC
14490                             331 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
14491 00002494 0008                   M           CLRT
14492 00002496 326E                   M           ADDC    R6,R2
14493 00002498 315E                   M           ADDC    R5,R1
14494                             332 I1  
14495 0000249A D412               333 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
14496 0000249C 2412               334 I1          MOV.L   R1,@R4                                          ;
14497 0000249E 1421               335 I1          MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
14498                             336 I1          POP_REG1 R6
14499                                 M                                   ; RE"+4" 00,00,00,04
14500 000024A0 66F6                   M           MOV.L   @R15+,R6        ;
14501                             337 I1          POP_REG1 R5
14502                                 M                                   ; RE"+4" 00,00,00,04
14503 000024A2 65F6                   M           MOV.L   @R15+,R5        ;
14504                             338 I1  
14505                             339 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
14506 000024A4 0008                   M           CLRT
14507 000024A6 326A                   M           SUBC    R6,R2
14508 000024A8 315A                   M           SUBC    R5,R1
14509 000024AA 233A               340 I1          XOR     R3,R3
14510 000024AC 4111               341 I1          CMP/PZ  R1                              ;
14511 000024AE 8900               342 I1          BT      LNKPLS_OBJ_DAT_MK2_750          ;
14512 000024B0 E301               343 I1          MOV     #BIT0,R3                        ;
14513 000024B2                    344 I1  LNKPLS_OBJ_DAT_MK2_750:                         ;
14514 000024B2 D10D               345 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
14515 000024B4 6211               346 I1          MOV.W   @R1,R2                          ;
14516 000024B6 2131               347 I1          MOV.W   R3,@R1                          ;
14517 000024B8 223A               348 I1          XOR     R3,R2                           ;
14518 000024BA 2228               349 I1          TST     R2,R2                           ;
14519                             350 I1          TST_BIT_OF LNKPLS_OBJ_DAT_MK2_800       ;
14520 000024BC 8902                   M           BT      LNKPLS_OBJ_DAT_MK2_800
14521                             351 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14522 000024BE D106                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   150
PROGRAM NAME =

14523 000024C0 410B                   M           JSR     @R1                     ;
14524 000024C2 0009                   M           NOP                                     ;
14525 000024C4                    352 I1  LNKPLS_OBJ_DAT_MK2_800:                         ;
14526                             353 I1  
14527 000024C4 D109               354 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
14528 000024C6 6011               355 I1          MOV.W   @R1,R0                          ;
14529 000024C8 C9FE               356 I1          AND     #LOW ~BIT0,R0                   ;
14530 000024CA 203B               357 I1          OR      R3,R0                           ;
14531 000024CC 2101               358 I1          MOV.W   R0,@R1                          ;
14532                             359 I1  
14533                             360 I1          SUB_END
14534                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14535 000024CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14536                             361 I1          M_RTS
14537 000024D0 000B                   M           RTS                             ;RTSの後ろの
14538 000024D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14539                             362 I1  
14540                             363 I1  
14541                            4679     
14542                            4680     
14543                            4681     ;       *******************************************
14544                            4682     ;       ***                                     ***
14545                            4683     ;       ***     手動パルサ仕様                  ***
14546                            4684     ;       ***                                     ***
14547                            4685     ;       *******************************************
14548                            4686     ;       0.5秒以内に2ﾊﾟﾙｽ以上増えたら起動
14549                            4687     ;
14550                            4688     ;
14551                            4689             .INCLUDE        "ssa_tep1.inc"          ; //
14552                               1 I1  ;       ***********************************
14553                               2 I1  ;       ***                             ***
14554                               3 I1  ;       ***     手動パルサコントロール  ***
14555                               4 I1  ;       ***                             ***
14556                               5 I1  ;       ***********************************
14557                               6 I1  ;       両手offで終了
14558                               7 I1  ;       符号チェンジ
14559                               8 I1  ;       符号チェンジによる停止指令
14560                               9 I1  ;       停止待ち
14561                              10 I1  ;
14562                              11 I1  ;       +方向動作中にｶｳﾝﾀが"-1以下"になったら+動作完了後"-"に戻す：ｶｳﾝﾀの更新,0CLRは行なわ
                                          ない
14563                              12 I1  ;       -方向動作中にｶｳﾝﾀが"+1以上"になったら-動作完了後"+"に進める:
14564                              13 I1  ;
14565                              14 I1  ;       (1)DIRECTIONﾌﾗｸﾞとｶｳﾝﾀを比較する
14566                              15 I1  ;       (2-1)同じ方向にﾊﾟﾙｽが増えたらｶｳﾝﾀ→位置決めLSIに足しこむ.ｶｳﾝﾀ=0とする
14567                              16 I1  ;       (2-2)逆方向に増えたらﾊﾟﾙｽ払い出しを待つ
14568                              17 I1  ;BIT1   (>3-1)残りﾊﾟﾙｽ=0になったら指令をOFFする。：：：ｽﾃｯﾌﾟｼｰｹﾝｽ開始
14569                              18 I1  ;BIT2   (>3-2)位置決め完了したら10msecWAITする
14570                              19 I1  ;BIT6   (>3-3)起動演算を行なう
14571                              20 I1  ;
14572                              21 I1  ;       TEP_STEP_FLG
14573                              22 I1  ;               .BIT0 払出完了
14574                              23 I1  ;               .BIT1 5msecWAIT
14575                              24 I1  ;
14576                              25 I1  ;
14577                              26 I1  ;       plsData-->start-on
14578                              27 I1          .EXPORT _TEP_FLG_CLR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   151
PROGRAM NAME =

14579                              28 I1          .EXPORT _TEPA_START_CHK                 ;
14580                              29 I1          .EXPORT _TEPA_PLSCNT_CLR                ;
14581                              30 I1          .EXPORT _TEPA_PLSCNT_CHK                ;
14582                              31 I1  
14583                              32 I1          .IMPORT _PAR_TEP_WATTIM         ;3 1~50msec
14584                              33 I1          .IMPORT _PAR_TEP_BEFPLS         ;4 10pls
14585                              34 I1          .IMPORT _PAR_TEP_MINSPD         ;
14586                              35 I1  
14587                              36 I1  ;;;;まだ組み込まない    .IMPORT _SH4toSH2_TEPSIG        ;
14588                              37 I1  ;;;;まだ組み込まない    .IMPORT _SH2toSH4_TEPSIG        ;
14589                              38 I1  
14590                              39 I1  
14591                                 I1  ***** BEGIN-POOL *****
14592 000024D4 00000000               I1  DATA FOR SOURCE-LINE 294,310
14593 000024D8 00000000               I1  DATA FOR SOURCE-LINE 300,351
14594 000024DC 00000000               I1  DATA FOR SOURCE-LINE 305
14595 000024E0 00000000               I1  DATA FOR SOURCE-LINE 326
14596 000024E4 00000000               I1  DATA FOR SOURCE-LINE 333
14597 000024E8 00000000               I1  DATA FOR SOURCE-LINE 345
14598 000024EC 00000000               I1  DATA FOR SOURCE-LINE 354
14599                                 I1  ***** END-POOL *****
14600 000024F0                     40 I1  _DND_TEP_STEP_CTRL:
14601                              41 I1          SUB_START
14602 000024F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14603                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14604                              42 I1  
14605                              43 I1  ;       -------- 2013-06-05 -----------------------------
14606                              44 I1          DN_TIME LG=W,MEM_ADR=_TEP_CNTSMP_TIM,WKREG1=R1,WKREG2=R2        ;定周期
14607 000024F2 D107                   M           MOV.L   #_TEP_CNTSMP_TIM,R1             ;SORCE ADRESS SET
14608 000024F4 6211                   M           MOV.W   @R1,R2          ;
14609 000024F6 2228                   M           TST     R2,R2                   ;
14610 000024F8 8901                   M           BT      JMP_0100012                     ;ZERO THEN JUMP
14611 000024FA 4210                   M           DT      R2                              ;
14612 000024FC 2121                   M           MOV.W   R2,@R1          ;STORE
14613 000024FE                        M   JMP_0100012:
14614                              45 I1  
14615                              46 I1  
14616                              47 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0            ;
14617 000024FE D005                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14618 00002500 400B                   M           JSR     @R0                     ;
14619 00002502 0009                   M           NOP                                     ;
14620                              48 I1  
14621 00002504 D104                49 I1          MOV.L   #_TEP_STEP_FLG,R1               ;
14622 00002506 6011                50 I1          MOV.W   @R1,R0                          ;
14623 00002508 C802                51 I1          TST     #BIT1,R0                        ;
14624                              52 I1          TST_BIT_OF DND_TEPSTEPCTL_020           ;
14625 0000250A 8907                   M           BT      DND_TEPSTEPCTL_020
14626                              53 I1          M_BRA   DND_TEPSTEPCTL_400              ;
14627 0000250C A056                   M           BRA     DND_TEPSTEPCTL_400
14628 0000250E 0009                   M           NOP
14629                                 I1  ***** BEGIN-POOL *****
14630 00002510 00000000               I1  DATA FOR SOURCE-LINE 44
14631 00002514 00000000               I1  DATA FOR SOURCE-LINE 47
14632 00002518 00000000               I1  DATA FOR SOURCE-LINE 49
14633                                 I1  ***** END-POOL *****
14634 0000251C                     54 I1  DND_TEPSTEPCTL_020:
14635                              55 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   152
PROGRAM NAME =

14636 0000251C C801                56 I1          TST     #BIT0,R0                        ;
14637                              57 I1          TST_BIT_ON DND_TEPSTEPCTL_200           ;
14638 0000251E 8B23                   M           BF      DND_TEPSTEPCTL_200
14639                              58 I1  
14640                              59 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14641 00002520 D00B                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14642 00002522 400B                   M           JSR     @R0                     ;
14643 00002524 0009                   M           NOP                                     ;
14644                              60 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
14645 00002526 D10B                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14646 00002528 410B                   M           JSR     @R1                     ;
14647 0000252A 0009                   M           NOP                                     ;
14648 0000252C C804                61 I1          TST     #BIT2,R0                        ;停止?
14649                              62 I1          TST_BIT_OF DND_TEPSTEPCTL_180           ;NO 停止中? 0:払出中 1:停止
14650 0000252E 890D                   M           BT      DND_TEPSTEPCTL_180
14651                              63 I1  
14652                              64 I1  
14653                              65 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
14654 00002530 D009                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14655 00002532 400B                   M           JSR     @R0                     ;
14656 00002534 0009                   M           NOP                                     ;
14657                              66 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
14658                              67 I1  
14659                              68 I1  ;       ------ ILDE[0,0] 1回だけではないよ！！--------
14660 00002536 D109                69 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
14661 00002538 6212                70 I1          MOV.L   @R1,R2                                                          ;
14662 0000253A 2228                71 I1          TST     R2,R2                                                           ;
14663                              72 I1          TST_BIT_OF DND_TEPSTEPCTL_180                                           ;
14664 0000253C 8906                   M           BT      DND_TEPSTEPCTL_180
14665                              73 I1                                                                                  ;ﾊﾟﾙｽ有り
                                          遷移1
14666                              74 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;2013-05-2
                                          6
14667 0000253E D008                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14668 00002540 400B                   M           JSR     @R0                     ;
14669 00002542 0009                   M           NOP                                     ;
14670                              75 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;[この時点
                                          でﾊﾟﾙｽ設定していない]
14671 00002544 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14672 00002546 6011                   M           MOV.W   @R1,R0          ;
14673 00002548 CB01                   M           OR      #BIT0,R0                ;
14674 0000254A 2101                   M           MOV.W   R0,@R1          ;
14675                              76 I1  
14676 0000254C                     77 I1  DND_TEPSTEPCTL_180:
14677                              78 I1          M_BRA   DND_TEPSTEPCTL_900              ;
14678 0000254C A057                   M           BRA     DND_TEPSTEPCTL_900
14679 0000254E 0009                   M           NOP
14680                              79 I1  
14681                              80 I1  ;       -------------- 払い出し待ち------------
14682                                 I1  ***** BEGIN-POOL *****
14683 00002550 00000000               I1  DATA FOR SOURCE-LINE 59
14684 00002554 00000000               I1  DATA FOR SOURCE-LINE 60
14685 00002558 00000000               I1  DATA FOR SOURCE-LINE 65
14686 0000255C 00000000               I1  DATA FOR SOURCE-LINE 69
14687 00002560 00000000               I1  DATA FOR SOURCE-LINE 74
14688 00002564 00000000               I1  DATA FOR SOURCE-LINE 75
14689                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   153
PROGRAM NAME =

14690 00002568                     81 I1  DND_TEPSTEPCTL_200:
14691                              82 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0                                     ;
14692 00002568 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14693 0000256A 400B                   M           JSR     @R0                     ;
14694 0000256C 0009                   M           NOP                                     ;
14695                              83 I1          FAR_JSR #_LOD_POS_STS_REG,R1                                            ;
14696 0000256E D10A                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14697 00002570 410B                   M           JSR     @R1                     ;
14698 00002572 0009                   M           NOP                                     ;
14699 00002574 C804                84 I1          TST     #BIT2,R0                                                        ;停止?
14700                              85 I1          TST_BIT_OF DND_TEPSTEPCTL_220                                           ;NO 停止中
                                          ? 0:払出中 1:停止
14701 00002576 8919                   M           BT      DND_TEPSTEPCTL_220
14702                              86 I1  
14703                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1        ;[払い出し
                                          完了 遷移2]
14704 00002578 D108                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14705 0000257A 6011                   M           MOV.W   @R1,R0          ;
14706 0000257C CB02                   M           OR      #BIT1,R0                ;
14707 0000257E 2101                   M           MOV.W   R0,@R1          ;
14708                              88 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0                                          ;
14709 00002580 D007                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14710 00002582 400B                   M           JSR     @R0                     ;
14711 00002584 0009                   M           NOP                                     ;
14712                              89 I1  
14713                              90 I1  
14714                              91 I1  ;       ------- 2013-06-05 払出完了開始遅延100ms--------
14715 00002586 D107                92 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1                                           ;//2013-06
                                          -05
14716 00002588 6211                93 I1          MOV.W   @R1,R2                                                          ;
14717 0000258A D107                94 I1          MOV.L   #_TEP_STEP_WTTM,R1                                              ;
14718 0000258C 2121                95 I1          MOV.W   R2,@R1                                                          ;
14719                              96 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
14720 0000258E A036                   M           BRA     DND_TEPSTEPCTL_900
14721 00002590 0009                   M           NOP
14722                              97 I1  
14723                                 I1  ***** BEGIN-POOL *****
14724 00002592 0000                   I1  ALIGNMENT CODE
14725 00002594 00000000               I1  DATA FOR SOURCE-LINE 82
14726 00002598 00000000               I1  DATA FOR SOURCE-LINE 83
14727 0000259C 00000000               I1  DATA FOR SOURCE-LINE 87
14728 000025A0 00000000               I1  DATA FOR SOURCE-LINE 88
14729 000025A4 00000000               I1  DATA FOR SOURCE-LINE 92
14730 000025A8 00000000               I1  DATA FOR SOURCE-LINE 94
14731                                 I1  ***** END-POOL *****
14732 000025AC                     98 I1  DND_TEPSTEPCTL_220:                                                             ;
14733                              99 I1  ;       2013-05-20 動作中の加算                                         ;
14734                             100 I1  
14735                             101 I1          FAR_JSR #_TEPA_ADD_LSI,R0                                       ;
14736 000025AC D002                   M           MOV.L   #_TEPA_ADD_LSI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14737 000025AE 400B                   M           JSR     @R0                     ;
14738 000025B0 0009                   M           NOP                                     ;
14739                             102 I1  
14740 000025B2                    103 I1  DND_TEPSTEPCTL_290:                                                     ;
14741                             104 I1          M_BRA   DND_TEPSTEPCTL_900                                      ;
14742 000025B2 A024                   M           BRA     DND_TEPSTEPCTL_900
14743 000025B4 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   154
PROGRAM NAME =

14744                             105 I1  
14745                             106 I1  
14746                             107 I1  ;       -------- 遅延待ち--------
14747                                 I1  ***** BEGIN-POOL *****
14748 000025B6 0000                   I1  ALIGNMENT CODE
14749 000025B8 00000000               I1  DATA FOR SOURCE-LINE 101
14750                                 I1  ***** END-POOL *****
14751 000025BC                    108 I1  DND_TEPSTEPCTL_400:
14752 000025BC D103               109 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
14753 000025BE 6011               110 I1          MOV.W   @R1,R0                                          ;
14754 000025C0 2008               111 I1          TST     R0,R0                                           ;
14755                             112 I1          TST_BIT_OF DND_TEPSTEPCTL_420                           ;
14756 000025C2 8905                   M           BT      DND_TEPSTEPCTL_420
14757 000025C4 70FF               113 I1          ADD     #-1,R0                                          ;
14758 000025C6 2101               114 I1          MOV.W   R0,@R1                                          ;
14759                             115 I1  
14760                             116 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0                         ;
14761                             117 I1          M_BRA   DND_TEPSTEPCTL_900                              ;
14762 000025C8 A019                   M           BRA     DND_TEPSTEPCTL_900
14763 000025CA 0009                   M           NOP
14764                             118 I1  
14765                             119 I1  
14766                                 I1  ***** BEGIN-POOL *****
14767 000025CC 00000000               I1  DATA FOR SOURCE-LINE 109
14768                                 I1  ***** END-POOL *****
14769 000025D0                    120 I1  DND_TEPSTEPCTL_420:                                             ;
14770                             121 I1  
14771                             122 I1  ;       ---- ﾀｲﾏ中にﾊﾟﾙｽがあった。再起動[BIT1->BIT0]--------
14772 000025D0 D106               123 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
14773 000025D2 6012               124 I1          MOV.L   @R1,R0                                                          ;
14774 000025D4 2008               125 I1          TST     R0,R0                                                           ;
14775                             126 I1          TST_BIT_OF DND_TEPSTEPCTL_800                                           ;
14776 000025D6 890F                   M           BT      DND_TEPSTEPCTL_800
14777                             127 I1  
14778                             128 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;
14779 000025D8 D005                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14780 000025DA 400B                   M           JSR     @R0                     ;
14781 000025DC 0009                   M           NOP                                     ;
14782                             129 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14783 000025DE D105                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14784 000025E0 6011                   M           MOV.W   @R1,R0          ;
14785 000025E2 CB01                   M           OR      #BIT0,R0                ;
14786 000025E4 2101                   M           MOV.W   R0,@R1          ;
14787                             130 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
14788 000025E6 A00A                   M           BRA     DND_TEPSTEPCTL_900
14789 000025E8 0009                   M           NOP
14790                             131 I1  
14791                             132 I1  
14792                             133 I1  ;       --------- 完全なﾀｲﾑｱｯﾌﾟ-------
14793                                 I1  ***** BEGIN-POOL *****
14794 000025EA 0000                   I1  ALIGNMENT CODE
14795 000025EC 00000000               I1  DATA FOR SOURCE-LINE 123
14796 000025F0 00000000               I1  DATA FOR SOURCE-LINE 128
14797 000025F4 00000000               I1  DATA FOR SOURCE-LINE 129
14798                                 I1  ***** END-POOL *****
14799 000025F8                    134 I1  DND_TEPSTEPCTL_800:
14800                             135 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;[遷移0]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   155
PROGRAM NAME =

14801 000025F8 D003                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14802 000025FA 400B                   M           JSR     @R0                     ;
14803 000025FC 0009                   M           NOP                                     ;
14804                             136 I1  
14805                             137 I1  
14806 000025FE                    138 I1  DND_TEPSTEPCTL_900:
14807 000025FE 0009               139 I1          NOP
14808 00002600                    140 I1  DND_TEPSTEPCTL_EXT:
14809                             141 I1          SUB_END
14810                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14811 00002600 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14812                             142 I1          M_RTS
14813 00002602 000B                   M           RTS                             ;RTSの後ろの
14814 00002604 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14815                             143 I1  
14816                             144 I1  
14817                             145 I1  ;       ***********************************
14818                             146 I1  ;       ***                             ***
14819                             147 I1  ;       ***     起動処理                ***
14820                             148 I1  ;       ***                             ***
14821                             149 I1  ;       ***********************************
14822                                 I1  ***** BEGIN-POOL *****
14823 00002606 0000                   I1  ALIGNMENT CODE
14824 00002608 00000000               I1  DATA FOR SOURCE-LINE 135
14825                                 I1  ***** END-POOL *****
14826 0000260C                    150 I1  _MN_TEP_START
14827                             151 I1          SUB_START
14828 0000260C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14830                             152 I1          FAR_JSR #_TEP_START_INIT1,R0                    ;
14831 0000260E D00D                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14832 00002610 400B                   M           JSR     @R0                     ;
14833 00002612 0009                   M           NOP                                     ;
14834                             153 I1  
14835                             154 I1  ;;;;;;2014-09-14        MOV.L   #_LINK_PV_ABSPLS,R4             ;
14836                             155 I1  ;;;;;;2014-09-14        MOV.L   @R4+,R1                                 ;
14837                             156 I1  ;;;;;;2014-09-14        MOV.L   @R4,R2                                  ;
14838                             157 I1  
14839 00002614 D40C               158 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
14840 00002616 5140               159 I1          MOV.L   @(0,R4),R1                              ;
14841 00002618 5241               160 I1          MOV.L   @(4,R4),R2                              ;
14842 0000261A D40C               161 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
14843 0000261C 2412               162 I1          MOV.L   R1,@R4                                  ;
14844 0000261E 1421               163 I1          MOV.L   R2,@(1*4,R4)                            ;目標位置ｾｯﾄ
14845                             164 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
14846 00002620 D00B                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14847 00002622 400B                   M           JSR     @R0                     ;
14848 00002624 0009                   M           NOP                                     ;
14849                             165 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0                    ;
14850 00002626 D00B                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14851 00002628 400B                   M           JSR     @R0                     ;
14852 0000262A 0009                   M           NOP                                     ;
14853                             166 I1  ;       --- 位置データを作らない---- FAR_JSR #_TEP_SV_OBJ_MAK,R0
14854                             167 I1  
14855                             168 I1  
14856                             169 I1          FAR_JSR #_DNDINC_SPD_SET,R4                             ;とりあえずこれは触らない[
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   156
PROGRAM NAME =

                                          ]
14857 0000262C D40A                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14858 0000262E 440B                   M           JSR     @R4                     ;
14859 00002630 0009                   M           NOP                                     ;
14860                             170 I1  
14861                             171 I1  ;       ---------- 2013-06-05
14862 00002632 200A               172 I1          XOR     R0,R0                                           ;
14863 00002634 D109               173 I1          MOV.L   #_TEP_CNTSMP_TIM,R1                             ;
14864 00002636 2101               174 I1          MOV.W   R0,@R1                                          ;
14865 00002638 D109               175 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
14866 0000263A 2101               176 I1          MOV.W   R0,@R1                                          ;
14867                             177 I1  
14868                             178 I1  
14869                             179 I1  
14870                             180 I1  
14871                             181 I1          SUB_END
14872                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14873 0000263C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14874                             182 I1          M_RTS
14875 0000263E 000B                   M           RTS                             ;RTSの後ろの
14876 00002640 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14877                             183 I1  
14878                             184 I1  ;       ***********************************
14879                             185 I1  ;       ***                             ***
14880                             186 I1  ;       ***     再起動処理              ***
14881                             187 I1  ;       ***                             ***
14882                             188 I1  ;       ***********************************
14883                             189 I1  ;       <<<<<<<<<<<100msecの速度で動作させる>>>>>>>>>>
14884                             190 I1  ;
14885                                 I1  ***** BEGIN-POOL *****
14886 00002642 0000                   I1  ALIGNMENT CODE
14887 00002644 00000000               I1  DATA FOR SOURCE-LINE 152
14888 00002648 00000000               I1  DATA FOR SOURCE-LINE 158
14889 0000264C 00000000               I1  DATA FOR SOURCE-LINE 161
14890 00002650 00000000               I1  DATA FOR SOURCE-LINE 164
14891 00002654 00000000               I1  DATA FOR SOURCE-LINE 165
14892 00002658 00000000               I1  DATA FOR SOURCE-LINE 169
14893 0000265C 00000000               I1  DATA FOR SOURCE-LINE 173
14894 00002660 00000000               I1  DATA FOR SOURCE-LINE 175
14895                                 I1  ***** END-POOL *****
14896 00002664                    191 I1  _INT_TEP_RESTART
14897                             192 I1          SUB_START
14898 00002664 4F22                   M           STS.L   PR,@-R15                ;[必要]
14899                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14900                             193 I1  
14901                             194 I1  
14902 00002666 222A               195 I1          XOR     R2,R2
14903 00002668 D117               196 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
14904 0000266A 2121               197 I1          MOV.W   R2,@R1                          ;
14905                             198 I1  
14906                             199 I1  ;       --------- 2013-06-19 -----------------
14907                             200 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
14908 0000266C D017                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14909 0000266E 400B                   M           JSR     @R0                     ;
14910 00002670 0009                   M           NOP                                     ;
14911                             201 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
14912                             202 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   157
PROGRAM NAME =

14913                             203 I1  ;       --------- 2013-06-05 -----------------
14914                             204 I1          FAR_JSR #_TEP_SPD_CALC1,R0                      ;
14915 00002672 D017                   M           MOV.L   #_TEP_SPD_CALC1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14916 00002674 400B                   M           JSR     @R0                     ;
14917 00002676 0009                   M           NOP                                     ;
14918                             205 I1          FAR_JSR #_TEP_SPD_SET,R0                        ;
14919 00002678 D016                   M           MOV.L   #_TEP_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14920 0000267A 400B                   M           JSR     @R0                     ;
14921 0000267C 0009                   M           NOP                                     ;
14922                             206 I1  
14923                             207 I1  ;;;2013-06-05   FAR_JSR #_DNDINC_SPD_SET,R4             ;
14924                             208 I1  
14925                             209 I1  ;;;;;;  FAR_JSR #_POS_LSI_START_INITAL,R0                                       ;
14926                             210 I1          FAR_JSR #_POS_LSI_START_INITAL_TEP,R0                                   ;2013-06-1
                                          3
14927 0000267E D016                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14928 00002680 400B                   M           JSR     @R0                     ;
14929 00002682 0009                   M           NOP                                     ;
14930                             211 I1  
14931 00002684 D115               212 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                                         ;目標速度
14932 00002686 6212               213 I1          MOV.L   @R1,R2                                                          ;
14933                             214 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1                                      ;
14934 00002688 D115                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14935 0000268A 410B                   M           JSR     @R1                     ;
14936 0000268C 0009                   M           NOP                                     ;
14937                             215 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                                        ;
14938 0000268E D015                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14939 00002690 400B                   M           JSR     @R0                     ;
14940 00002692 0009                   M           NOP                                     ;
14941                             216 I1  
14942                             217 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                                        ;
14943 00002694 D014                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14944 00002696 400B                   M           JSR     @R0                     ;
14945 00002698 0009                   M           NOP                                     ;
14946                             218 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0                                       ;(停止時か
                                          らの起動の場合のみ有効・安一のみ)
14947 0000269A D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14948 0000269C 400B                   M           JSR     @R0                     ;
14949 0000269E 0009                   M           NOP                                     ;
14950                             219 I1          FAR_JSR #_FWD_REV_START,R1                                              ;起動
14951 000026A0 D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14952 000026A2 410B                   M           JSR     @R1                     ;
14953 000026A4 0009                   M           NOP                                     ;
14954                             220 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
14955 000026A6 D113                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
14956 000026A8 6011                   M           MOV.W   @R1,R0          ;
14957 000026AA CB01                   M           OR      #BIT0,R0                ;
14958 000026AC 2101                   M           MOV.W   R0,@R1          ;
14959                             221 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                          ;
14960 000026AE D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14961 000026B0 400B                   M           JSR     @R0                     ;
14962 000026B2 0009                   M           NOP                                     ;
14963                             222 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0                                    ;
14964 000026B4 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14965 000026B6 400B                   M           JSR     @R0                     ;
14966 000026B8 0009                   M           NOP                                     ;
14967                             223 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   158
PROGRAM NAME =

14968 000026BA D011                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14969 000026BC 400B                   M           JSR     @R0                     ;
14970 000026BE 0009                   M           NOP                                     ;
14971                             224 I1          SUB_END
14972                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14973 000026C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14974                             225 I1          M_RTS
14975 000026C2 000B                   M           RTS                             ;RTSの後ろの
14976 000026C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14977                             226 I1  
14978                             227 I1  
14979                             228 I1  ;;;;;;;;2013-06-05元元未使用    ***********************************
14980                             229 I1  ;;;;;;;;        ***                             ***
14981                             230 I1  ;;;;;;;;        ***     再ADD                   ***
14982                             231 I1  ;;;;;;;;        ***                             ***
14983                             232 I1  ;;;;;;;;;       ***********************************
14984                             233 I1  ;;;;;;;;_TEP_ADD_OBJMAK:
14985                             234 I1  ;;;;;;;;        SUB_START
14986                             235 I1  ;;;;;;;;        FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;
14987                             236 I1  ;;;;;;;;        FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
14988                             237 I1  ;;;;;;;;        FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14989                             238 I1  ;;;;;;;;        FAR_JSR #_TEP_START_INIT1,R0                    ;
14990                             239 I1  ;;;;;;;;        SUB_END
14991                             240 I1  ;;;;;;;;        M_RTS
14992                             241 I1  
14993                             242 I1  
14994                                 I1  ***** BEGIN-POOL *****
14995 000026C6 0000                   I1  ALIGNMENT CODE
14996 000026C8 00000000               I1  DATA FOR SOURCE-LINE 196
14997 000026CC 00000000               I1  DATA FOR SOURCE-LINE 200
14998 000026D0 00000000               I1  DATA FOR SOURCE-LINE 204
14999 000026D4 00000000               I1  DATA FOR SOURCE-LINE 205
15000 000026D8 00000000               I1  DATA FOR SOURCE-LINE 210
15001 000026DC 00000000               I1  DATA FOR SOURCE-LINE 212
15002 000026E0 00000000               I1  DATA FOR SOURCE-LINE 214
15003 000026E4 00000000               I1  DATA FOR SOURCE-LINE 215
15004 000026E8 00000000               I1  DATA FOR SOURCE-LINE 217
15005 000026EC 00000000               I1  DATA FOR SOURCE-LINE 218
15006 000026F0 00000000               I1  DATA FOR SOURCE-LINE 219
15007 000026F4 00000000               I1  DATA FOR SOURCE-LINE 220
15008 000026F8 00000000               I1  DATA FOR SOURCE-LINE 221
15009 000026FC 00000000               I1  DATA FOR SOURCE-LINE 222
15010 00002700 00000000               I1  DATA FOR SOURCE-LINE 223
15011                                 I1  ***** END-POOL *****
15012 00002704                    243 I1  _TEP_START_INIT1
15013                             244 I1          SUB_START
15014 00002704 4F22                   M           STS.L   PR,@-R15                ;[必要]
15015                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15016                             245 I1  
15017                             246 I1          MEM1_0CLR MEM=_TEP_STEP_FLG,LG=W,WKREG1=R1,CLRREG=R0            ;
15018 00002706 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15019 00002708 200A                   M           XOR     R0,R0           ;
15020 0000270A 2101                   M           MOV.W   R0,@R1  ;
15021                             247 I1          MEM1_0CLR MEM=_TEP_POS_ADD_CNT,LG=L,WKREG1=R1,CLRREG=R0         ;
15022 0000270C D106                   M           MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15023 0000270E 200A                   M           XOR     R0,R0           ;
15024 00002710 2102                   M           MOV.L   R0,@R1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   159
PROGRAM NAME =

15025                             248 I1  ;       2013-06-20
15026                             249 I1          MEM1_0CLR MEM=_TEP_INPLS_FLG,LG=W,WKREG1=R1,CLRREG=R0           ;
15027 00002712 D106                   M           MOV.L   #_TEP_INPLS_FLG,R1              ;
15028 00002714 200A                   M           XOR     R0,R0           ;
15029 00002716 2101                   M           MOV.W   R0,@R1  ;
15030                             250 I1  
15031                             251 I1  ;;;;;;;;2013-06-05      MEM1_0CLR MEM=_TEP_POS_ADD_CNTOLD,LG=L,WKREG1=R1,CLRREG=R0      ;
15032                             252 I1  
15033                             253 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0  ;2013-07-19
15034 00002718 D005                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15035 0000271A 400B                   M           JSR     @R0                     ;
15036 0000271C 0009                   M           NOP                                     ;
15037                             254 I1  
15038                             255 I1          SUB_END
15039                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15040 0000271E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15041                             256 I1          M_RTS
15042 00002720 000B                   M           RTS                             ;RTSの後ろの
15043 00002722 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15044                             257 I1  
15045                             258 I1  
15046                             259 I1  ;       *******************************************
15047                             260 I1  ;       ***                                     ***
15048                             261 I1  ;       ***             倍率                    ***
15049                             262 I1  ;       ***                                     ***
15050                             263 I1  ;       *******************************************
15051                             264 I1  ;       Output R2:NEW CUNTER
15052                             265 I1  ;       Output R3:OLD CUNTER
15053                             266 I1  ;       起動時はR2,R3は使用しない
15054                                 I1  ***** BEGIN-POOL *****
15055 00002724 00000000               I1  DATA FOR SOURCE-LINE 246
15056 00002728 00000000               I1  DATA FOR SOURCE-LINE 247
15057 0000272C 00000000               I1  DATA FOR SOURCE-LINE 249
15058 00002730 00000000               I1  DATA FOR SOURCE-LINE 253
15059                                 I1  ***** END-POOL *****
15060 00002734                    267 I1  _TEP_ADD_PLS_MAK:
15061                             268 I1          SUB_START
15062 00002734 4F22                   M           STS.L   PR,@-R15                ;[必要]
15063                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15064                             269 I1  
15065                             270 I1  ;       ----------- DIRECT作成 2013-06-20--------
15066 00002736 D415               271 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15067 00002738 6241               272 I1          MOV.W   @R4,R2                          ;
15068 0000273A 2228               273 I1          TST     R2,R2                           ;
15069                             274 I1          TST_BIT_OF TEP_ADD_PLSMK_030            ;
15070 0000273C 8907                   M           BT      TEP_ADD_PLSMK_030
15071                             275 I1  
15072 0000273E 9021               276 I1          MOV.W   #BIT4,R0                        ;
15073 00002740 4211               277 I1          CMP/PZ  R2
15074 00002742 8900               278 I1          BT      TEP_ADD_PLSMK_020               ;FWD
15075 00002744 901F               279 I1          MOV.W   #BIT5,R0                        ;REV
15076 00002746                    280 I1  TEP_ADD_PLSMK_020:
15077 00002746 D112               281 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15078 00002748 6211               282 I1          MOV.W   @R1,R2                          ;
15079 0000274A 220B               283 I1          OR      R0,R2                           ;
15080 0000274C 2121               284 I1          MOV.W   R2,@R1                          ;
15081 0000274E                    285 I1  TEP_ADD_PLSMK_030:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   160
PROGRAM NAME =

15082                             286 I1  ;       -----------------------------------------
15083                             287 I1  
15084                             288 I1  
15085 0000274E D311               289 I1          MOV.L   #_SET1_PLSALO_PLS,R3            ;//パルサ倍率低
15086 00002750 D111               290 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15087 00002752 6011               291 I1          MOV.W   @R1,R0                          ;
15088 00002754 C804               292 I1          TST     #BIT2,R0                        ;0:LOW 1:HIGH
15089                             293 I1          TST_BIT_OF TEP_ADD_PLSMK_050            ;
15090 00002756 8900                   M           BT      TEP_ADD_PLSMK_050
15091 00002758 D310               294 I1          MOV.L   #_SET1_PLSAHI_PLS,R3            ;パルサ倍率高
15092 0000275A                    295 I1  TEP_ADD_PLSMK_050:
15093 0000275A 6131               296 I1          MOV.W   @R3,R1                          ;
15094 0000275C 9414               297 I1          MOV.W   #D'1000,R4                      ;
15095 0000275E 3412               298 I1          CMP/HS  R1,R4                           ;
15096 00002760 8900               299 I1          BT      TEP_ADD_PLSMK_100               ;
15097 00002762 6143               300 I1          MOV     R4,R1                           ;
15098 00002764                    301 I1  TEP_ADD_PLSMK_100:                              ;
15099 00002764 2118               302 I1          TST     R1,R1                           ;
15100                             303 I1          TST_BIT_ON TEP_ADD_PLSMK_150            ;
15101 00002766 8B00                   M           BF      TEP_ADD_PLSMK_150
15102 00002768 E101               304 I1          MOV     #1,R1                           ;
15103 0000276A                    305 I1  TEP_ADD_PLSMK_150:                              ;
15104                             306 I1  
15105 0000276A 200A               307 I1          XOR     R0,R0
15106 0000276C D407               308 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15107 0000276E 6241               309 I1          MOV.W   @R4,R2                          ;
15108 00002770 2401               310 I1          MOV.W   R0,@R4                          ;0CLR
15109                             311 I1                                                  ;R2
15110                             312 I1  
15111 00002772 212F               313 I1          MULS.W  R2,R1                           ;
15112 00002774 021A               314 I1          STS     MACL,R2                         ;
15113 00002776 D10A               315 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15114 00002778 6312               316 I1          MOV.L   @R1,R3                          ;
15115 0000277A 323C               317 I1          ADD     R3,R2                           ;
15116 0000277C 2122               318 I1          MOV.L   R2,@R1                          ;R3:OLD R2:NEW
15117                             319 I1  ;;;;;;;2013-06-05       MOV.L   #_TEP_POS_ADD_CNTOLD,R1         ;[[[[[[[[使用していない]]]
                                          ]]]]]]]]]]]]]
15118                             320 I1  ;;;;;;;2013-06-05       MOV.L   R3,@R1                          ;
15119                             321 I1  
15120                             322 I1          SUB_END
15121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15122 0000277E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15123                             323 I1          M_RTS
15124 00002780 000B                   M           RTS                             ;RTSの後ろの
15125 00002782 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15126                             324 I1  
15127                             325 I1  ;       *******************************************
15128                             326 I1  ;       ***                                     ***
15129                             327 I1  ;       ***     位置決め側                      ***
15130                             328 I1  ;       ***     起動時の位置作成                ***
15131                             329 I1  ;       ***     再起動時の位置作成              ***
15132                             330 I1  ;       ***                                     ***
15133                             331 I1  ;       *******************************************
15134                                 I1  ***** BEGIN-POOL *****
15135 00002784 0010                   I1  DATA FOR SOURCE-LINE 276
15136 00002786 0020                   I1  DATA FOR SOURCE-LINE 279
15137 00002788 03E8                   I1  DATA FOR SOURCE-LINE 297
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   161
PROGRAM NAME =

15138 0000278A 0000                   I1  ALIGNMENT CODE
15139 0000278C 00000000               I1  DATA FOR SOURCE-LINE 271,308
15140 00002790 00000000               I1  DATA FOR SOURCE-LINE 281
15141 00002794 00000000               I1  DATA FOR SOURCE-LINE 289
15142 00002798 00000000               I1  DATA FOR SOURCE-LINE 290
15143 0000279C 00000000               I1  DATA FOR SOURCE-LINE 294
15144 000027A0 00000000               I1  DATA FOR SOURCE-LINE 315
15145                                 I1  ***** END-POOL *****
15146 000027A4                    332 I1  _TEP_1STEP_DATA_MAK1:
15147                             333 I1          SUB_START
15148 000027A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15149                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15150                             334 I1  
15151 000027A6 D008               335 I1          MOV.L   #_CPOS_CTL_MATH,R0              ;
15152 000027A8 6001               336 I1          MOV.W   @R0,R0                          ;
15153                             337 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15154 000027AA C805               338 I1          TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;[2009-10-07下振子]
15155                             339 I1          TST_BIT_ON TEP_1STEP_DATMK1_080         ;
15156 000027AC 8B17                   M           BF      TEP_1STEP_DATMK1_080
15157                             340 I1  
15158                             341 I1          FAR_JSR #_NEG_TEPA_AREA_CHK,R0          ;反転モードのエリア
15159 000027AE D007                   M           MOV.L   #_NEG_TEPA_AREA_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15160 000027B0 400B                   M           JSR     @R0                     ;
15161 000027B2 0009                   M           NOP                                     ;
15162 000027B4 2008               342 I1          TST     R0,R0                           ;
15163                             343 I1          TST_BIT_OF TEP_1STEP_DATMK1_080         ;+/- OK
15164 000027B6 8912                   M           BT      TEP_1STEP_DATMK1_080
15165                             344 I1  
15166 000027B8 D105               345 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15167 000027BA 6212               346 I1          MOV.L   @R1,R2                          ;
15168 000027BC 4211               347 I1          CMP/PZ  R2                              ;
15169 000027BE 8909               348 I1          BT      TEP_1STEP_DATMK1_050            ;
15170                             349 I1  ;       ------ "-" PLS入ってきた----
15171 000027C0 4011               350 I1          CMP/PZ  R0                              ;
15172 000027C2 8909               351 I1          BT      TEP_1STEP_DATMK1_070            ;+のみ許可
15173                             352 I1          M_BRA   TEP_1STEP_DATMK1_080            ;-:OK
15174 000027C4 A00B                   M           BRA     TEP_1STEP_DATMK1_080
15175 000027C6 0009                   M           NOP
15176                             353 I1  
15177                             354 I1  ;       ------ + PLS----
15178                                 I1  ***** BEGIN-POOL *****
15179 000027C8 00000000               I1  DATA FOR SOURCE-LINE 335
15180 000027CC 00000000               I1  DATA FOR SOURCE-LINE 341
15181 000027D0 00000000               I1  DATA FOR SOURCE-LINE 345
15182                                 I1  ***** END-POOL *****
15183 000027D4                    355 I1  TEP_1STEP_DATMK1_050:
15184 000027D4 4015               356 I1          CMP/PL  R0                              ;"+"OK?
15185 000027D6 8902               357 I1          BT      TEP_1STEP_DATMK1_080            ;YES OK
15186 000027D8                    358 I1  TEP_1STEP_DATMK1_070:
15187 000027D8 D116               359 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15188 000027DA 200A               360 I1          XOR     R0,R0                           ;
15189 000027DC 2102               361 I1          MOV.L   R0,@R1                          ;
15190                             362 I1  
15191                             363 I1  ;       -----------ふりこ・回転の通常　及び反転の位置カット後の処理------------
15192 000027DE                    364 I1  TEP_1STEP_DATMK1_080:
15193 000027DE D416               365 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
15194 000027E0 6142               366 I1          MOV.L   @R4,R1                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   162
PROGRAM NAME =

15195 000027E2 5241               367 I1          MOV.L   @(1*4,R4),R2                                            ;
15196                             368 I1  
15197 000027E4 D013               369 I1          MOV.L   #_TEP_POS_ADD_CNT,R0                                    ;位置決め側使用デ
                                          ータ
15198 000027E6 6602               370 I1          MOV.L   @R0,R6                                                  ;
15199                             371 I1          EXTS_4B_TO_8B REG8B_H=R5,REG4B=R6                               ;
15200 000027E8 255A                   M           XOR     R5,R5
15201 000027EA 4611                   M           CMP/PZ  R6
15202 000027EC 8900                   M           BT      JMP0100013              ;
15203 000027EE 75FF                   M           ADD     #-1,R5  ;
15204 000027F0                        M   JMP0100013:
15205                                 M   
15206                             372 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2
15207 000027F0 0008                   M           CLRT
15208 000027F2 326E                   M           ADDC    R6,R2
15209 000027F4 315E                   M           ADDC    R5,R1
15210                             373 I1  
15211                             374 I1  ;;      ------2007-01-23 LIMIT R1,R2(OBJ) R5,R6(DELT):反転の時---------------
15212                             375 I1  ;;      MOV.L   #_CPOS_CTL_MATH,R0              ;
15213                             376 I1  ;;      MOV.W   @R0,R0                          ;
15214                             377 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15215                             378 I1  ;;      TST_BIT_ON TEP_1STEP_DATMK1_200         ;
15216                             379 I1  ;;
15217                             380 I1  ;;      --(反転)--
15218                             381 I1  ;;      MOV.L   #_TEP_POS_ADD_CNT,R0            ;位置決め側使用データ
15219                             382 I1  ;;      MOV.L   @R0,R0                          ;
15220                             383 I1  ;;      CMP/PZ  R0                              ;
15221                             384 I1  ;;      BT      TEP_1STEP_DATMK1_100            ;
15222                             385 I1  ;;      ----- MINAS LIMIT -------
15223                             386 I1  ;;
15224                             387 I1  ;;
15225                             388 I1  ;;TEP_1STEP_DATMK1_100:
15226                             389 I1  ;;      ----- PLAS LIMIT -------
15227                             390 I1  ;;
15228                             391 I1  ;;
15229                             392 I1  ;;
15230                             393 I1  ;;
15231                             394 I1  ;;TEP_1STEP_DATMK1_200:
15232 000027F6 D410               395 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
15233 000027F8 2412               396 I1          MOV.L   R1,@R4                                  ;
15234 000027FA 1421               397 I1          MOV.L   R2,@(1*4,R4)                            ;
15235 000027FC D40F               398 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15236 000027FE 2412               399 I1          MOV.L   R1,@R4                                  ;
15237 00002800 1421               400 I1          MOV.L   R2,@(4,R4)                              ;
15238                             401 I1  
15239 00002802 D40F               402 I1          MOV.L   #_LNGTH_ADD_DATA,R4                     ;//符号付き
15240 00002804 2452               403 I1          MOV.L   R5,@R4                                  ;
15241 00002806 1461               404 I1          MOV.L   R6,@(4,R4)                              ;
15242                             405 I1  
15243 00002808 D40E               406 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                  ;//符号付き
15244 0000280A 2452               407 I1          MOV.L   R5,@R4                                  ;
15245 0000280C 1461               408 I1          MOV.L   R6,@(4,R4)                              ;
15246                             409 I1  
15247 0000280E 233A               410 I1          XOR     R3,R3                                   ;
15248 00002810 4511               411 I1          CMP/PZ  R5                                      ;
15249 00002812 8900               412 I1          BT      TEP_1STEP_DATMK1_100                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   163
PROGRAM NAME =

15250 00002814 930C               413 I1          MOV.W   #BIT0,R3                                ;
15251 00002816                    414 I1  TEP_1STEP_DATMK1_100:
15252 00002816 D10C               415 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
15253 00002818 2131               416 I1          MOV.W   R3,@R1                                  ;
15254                             417 I1  
15255 0000281A D10C               418 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1                   ;
15256 0000281C 6011               419 I1          MOV.W   @R1,R0                                  ;
15257 0000281E C9FE               420 I1          AND     #LOW ~BIT0,R0                           ;
15258 00002820 203B               421 I1          OR      R3,R0                                   ;
15259 00002822 2101               422 I1          MOV.W   R0,@R1                                  ;
15260                             423 I1  
15261                             424 I1  ;       ---------- 2013-06-20 ------------
15262 00002824 200A               425 I1          XOR     R0,R0                           ;
15263 00002826 D10A               426 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15264 00002828 2101               427 I1          MOV.W   R0,@R1                          ;
15265                             428 I1  
15266                             429 I1          SUB_END
15267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15268 0000282A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15269                             430 I1          M_RTS
15270 0000282C 000B                   M           RTS                             ;RTSの後ろの
15271 0000282E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15272                             431 I1  
15273                             432 I1  
15274                             433 I1  
15275                             434 I1  ;       *******************************************
15276                             435 I1  ;       ***                                     ***
15277                             436 I1  ;       ***     手動パルサの反転のリミット      ***
15278                             437 I1  ;       ***     2007-01-23                      ***
15279                             438 I1  ;       *******************************************
15280                             439 I1  ;       0~165が動作範囲とする
15281                             440 I1  ;       180~0~165までは+側を受け付ける(=165~180まではﾌﾟﾗｽを受付けない)
15282                             441 I1  ;       0~165~180までは-側を受け付ける(=180~0まではﾏｲﾅｽを受付けない)
15283                             442 I1  ;       実測で0~165の範囲は+/-受け付ける
15284                             443 I1  ;
15285                             444 I1  ;
15286                             445 I1  ;       180
15287                             446 I1  ;
15288                             447 I1  ;
15289                             448 I1  ;
15290                             449 I1  ;
15291                             450 I1  ;       MOV.L   #_INC_LINK_NOWROT_OFSPLS_P,R4                   ;これを使用するか
15292                             451 I1  ;       MOV.L   @R4,R2                                          ;
15293                             452 I1  ;
15294                             453 I1  ;       0(+/-)ok
15295                             454 I1  ;       1(+)ok
15296                             455 I1  ;       -1(-)ok
15297                             456 I1  ;
15298                                 I1  ***** BEGIN-POOL *****
15299 00002830 0001                   I1  DATA FOR SOURCE-LINE 413
15300 00002832 0000                   I1  ALIGNMENT CODE
15301 00002834 00000000               I1  DATA FOR SOURCE-LINE 359,369
15302 00002838 00000000               I1  DATA FOR SOURCE-LINE 365,395
15303 0000283C 00000000               I1  DATA FOR SOURCE-LINE 398
15304 00002840 00000000               I1  DATA FOR SOURCE-LINE 402
15305 00002844 00000000               I1  DATA FOR SOURCE-LINE 406
15306 00002848 00000000               I1  DATA FOR SOURCE-LINE 415
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   164
PROGRAM NAME =

15307 0000284C 00000000               I1  DATA FOR SOURCE-LINE 418
15308 00002850 00000000               I1  DATA FOR SOURCE-LINE 426
15309                                 I1  ***** END-POOL *****
15310          00000064           457 I1  _TEP_DNPOS_HIS  .EQU    100     ;10.0度
15311                             458 I1  
15312 00002854                    459 I1  _NEG_TEPA_AREA_CHK:
15313                             460 I1          SUB_START
15314 00002854 4F22                   M           STS.L   PR,@-R15                ;[必要]
15315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15316                             461 I1  
15317                             462 I1  
15318 00002856 D40D               463 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15319 00002858 6142               464 I1          MOV.L   @R4,R1                          ;
15320                             465 I1  ;;;;    MOV.L   #_SETX_LINK_UP_POS_DN,R4        ;ﾘﾝｸ(範囲比較)
15321                             466 I1  ;;;;    MOV.W   @R4,R3                          ;待機点-α
15322                             467 I1  
15323 0000285A D40D               468 I1          MOV.L   #_SET1_UPAREA_DIG1,R4           ;ﾘﾝｸ(範囲比較)
15324 0000285C 6341               469 I1          MOV.W   @R4,R3                          ;待機点
15325 0000285E D40D               470 I1          MOV.L   #_INC_ENC360,R4                 ;
15326 00002860 6241               471 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15327                             472 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(ﾏｲﾅｽを受け付けない)
15328 00002862 D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15329 00002864 400B                   M           JSR     @R0                     ;
15330 00002866 0009                   M           NOP                                     ;
15331 00002868 4511               473 I1          CMP/PZ  R5                              ;
15332 0000286A 891C               474 I1          BT      NEG_TEPA_ARACHK200              ;+のみ可能
15333                             475 I1  
15334                             476 I1  
15335 0000286C D40B               477 I1          MOV.L   #_SETX_DNAREA_JG_LNK,R4         ;反転設定不可範囲LINK 度
15336 0000286E 6142               478 I1          MOV.L   @R4,R1                          ;
15337 00002870 D406               479 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15338 00002872 6342               480 I1          MOV.L   @R4,R3                          ;
15339 00002874 9009               481 I1          MOV.W   #_TEP_DNPOS_HIS,R0              ;10.0
15340 00002876 330C               482 I1          ADD     R0,R3                           ;10.0は..
15341 00002878 D406               483 I1          MOV.L   #_INC_ENC360,R4                 ;
15342 0000287A 6241               484 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15343                             485 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(+受け付けない)
15344 0000287C D006                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15345 0000287E 400B                   M           JSR     @R0                     ;
15346 00002880 0009                   M           NOP                                     ;
15347 00002882 890D               486 I1          BT      NEG_TEPA_ARACHK100              ;
15348                             487 I1  
15349 00002884 200A               488 I1          XOR     R0,R0                           ;
15350                             489 I1          M_BRA   NEG_TEPA_ARACHK300              ;+/- OK
15351 00002886 A00F                   M           BRA     NEG_TEPA_ARACHK300
15352 00002888 0009                   M           NOP
15353                             490 I1  
15354                             491 I1  ;       -------- -を受け付ける=====
15355                                 I1  ***** BEGIN-POOL *****
15356 0000288A 0064                   I1  DATA FOR SOURCE-LINE 481
15357 0000288C 00000000               I1  DATA FOR SOURCE-LINE 463,479
15358 00002890 00000000               I1  DATA FOR SOURCE-LINE 468
15359 00002894 00000000               I1  DATA FOR SOURCE-LINE 470,483
15360 00002898 00000000               I1  DATA FOR SOURCE-LINE 472,485
15361 0000289C 00000000               I1  DATA FOR SOURCE-LINE 477
15362                                 I1  ***** END-POOL *****
15363 000028A0                    492 I1  NEG_TEPA_ARACHK100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   165
PROGRAM NAME =

15364 000028A0 E0FF               493 I1          MOV     #-1,R0                          ;
15365                             494 I1          M_BRA   NEG_TEPA_ARACHK300              ;
15366 000028A2 A001                   M           BRA     NEG_TEPA_ARACHK300
15367 000028A4 0009                   M           NOP
15368                             495 I1  
15369                             496 I1  ;       -------- +を受け付ける=====
15370 000028A6                    497 I1  NEG_TEPA_ARACHK200:
15371 000028A6 E001               498 I1          MOV     #1,R0                           ;
15372 000028A8                    499 I1  NEG_TEPA_ARACHK300:
15373                             500 I1  
15374                             501 I1  
15375                             502 I1          SUB_END
15376                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15377 000028A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15378                             503 I1          M_RTS
15379 000028AA 000B                   M           RTS                             ;RTSの後ろの
15380 000028AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15381                             504 I1  
15382                             505 I1  
15383                             506 I1  
15384                             507 I1  ;       ***********************************
15385                             508 I1  ;       ***                             ***
15386                             509 I1  ;       ***     手動パルサフラグ        ***
15387                             510 I1  ;       ***                             ***
15388                             511 I1  ;       ***********************************
15389 000028AE                    512 I1  _TEP_FLG_CLR
15390                             513 I1          SUB_START
15391 000028AE 4F22                   M           STS.L   PR,@-R15                ;[必要]
15392                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15393 000028B0 200A               514 I1          XOR     R0,R0
15394 000028B2 D102               515 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15395 000028B4 2101               516 I1          MOV.W   R0,@R1                  ;
15396                             517 I1          SUB_END
15397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15398 000028B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15399                             518 I1          M_RTS
15400 000028B8 000B                   M           RTS                             ;RTSの後ろの
15401 000028BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15402                             519 I1  
15403                                 I1  ***** BEGIN-POOL *****
15404 000028BC 00000000               I1  DATA FOR SOURCE-LINE 515
15405                                 I1  ***** END-POOL *****
15406 000028C0                    520 I1  _TEP_FLG_START
15407                             521 I1          SUB_START
15408 000028C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15410 000028C2 9004               522 I1          MOV.W   #BIT0,R0
15411 000028C4 D102               523 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15412 000028C6 2101               524 I1          MOV.W   R0,@R1                  ;
15413                             525 I1          SUB_END
15414                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15415 000028C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15416                             526 I1          M_RTS
15417 000028CA 000B                   M           RTS                             ;RTSの後ろの
15418 000028CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15419                             527 I1  
15420                             528 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   166
PROGRAM NAME =

15421                             529 I1  ;       ***                             ***
15422                             530 I1  ;       ***     手動パルサ起動条件      ***
15423                             531 I1  ;       ***     起動=1                  ***
15424                             532 I1  ;       ***                             ***
15425                             533 I1  ;       ***********************************
15426                             534 I1  ;------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
15427                             535 I1  ;
15428                                 I1  ***** BEGIN-POOL *****
15429 000028CE 0001                   I1  DATA FOR SOURCE-LINE 522
15430 000028D0 00000000               I1  DATA FOR SOURCE-LINE 523
15431                                 I1  ***** END-POOL *****
15432 000028D4                    536 I1  _TEPA_START_CHK:
15433                             537 I1          SUB_START
15434 000028D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15435                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15436                             538 I1  
15437 000028D6 D10A               539 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15438 000028D8 6011               540 I1          MOV.W   @R1,R0                          ;
15439 000028DA 2008               541 I1          TST     R0,R0                           ;
15440                             542 I1          TST_BIT_ON TEPA_STARTCHK_NG             ;手パが先になった
15441 000028DC 8B0B                   M           BF      TEPA_STARTCHK_NG
15442                             543 I1  
15443 000028DE D109               544 I1          MOV.L   #_BTTN_FLG,R1                   ;
15444 000028E0 6011               545 I1          MOV.W   @R1,R0                          ;
15445 000028E2 C802               546 I1          TST     #BIT1,R0                        ;
15446                             547 I1          TST_BIT_OF TEPA_STARTCHK_NG             ;
15447 000028E4 8907                   M           BT      TEPA_STARTCHK_NG
15448                             548 I1  
15449 000028E6 D108               549 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
15450 000028E8 6211               550 I1          MOV.W   @R1,R2                          ;
15451 000028EA 4211               551 I1          CMP/PZ  R2                              ;
15452 000028EC 8900               552 I1          BT      TEPA_STARTCHK_050               ;
15453 000028EE 622B               553 I1          NEG     R2,R2                           ;
15454 000028F0                    554 I1  TEPA_STARTCHK_050:
15455 000028F0 9104               555 I1          MOV.W   #D'1,R1                         ;1で良いか
15456 000028F2 3213               556 I1          CMP/GE  R1,R2                           ;
15457 000028F4 890A               557 I1          BT      TEPA_STARTCHK_OK                ;
15458 000028F6                    558 I1  TEPA_STARTCHK_NG:
15459 000028F6 200A               559 I1          XOR     R0,R0                           ;
15460                             560 I1          M_BRA   TEPA_STARTCHK_END               ;
15461 000028F8 A00C                   M           BRA     TEPA_STARTCHK_END
15462 000028FA 0009                   M           NOP
15463                             561 I1  
15464                                 I1  ***** BEGIN-POOL *****
15465 000028FC 0001                   I1  DATA FOR SOURCE-LINE 555
15466 000028FE 0000                   I1  ALIGNMENT CODE
15467 00002900 00000000               I1  DATA FOR SOURCE-LINE 539
15468 00002904 00000000               I1  DATA FOR SOURCE-LINE 544
15469 00002908 00000000               I1  DATA FOR SOURCE-LINE 549
15470                                 I1  ***** END-POOL *****
15471 0000290C                    562 I1  TEPA_STARTCHK_OK:
15472                             563 I1          FAR_JSR #_TEP_FLG_START,R0              ;
15473 0000290C D003                   M           MOV.L   #_TEP_FLG_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15474 0000290E 400B                   M           JSR     @R0                     ;
15475 00002910 0009                   M           NOP                                     ;
15476 00002912 E001               564 I1          MOV     #1,R0                           ;
15477 00002914                    565 I1  TEPA_STARTCHK_END:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   167
PROGRAM NAME =

15478                             566 I1  
15479                             567 I1          SUB_END
15480                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15481 00002914 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15482                             568 I1          M_RTS
15483 00002916 000B                   M           RTS                             ;RTSの後ろの
15484 00002918 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15485                             569 I1  
15486                             570 I1  ;;;     ------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
15487                             571 I1  ;;;_TEPA_START_CHK:
15488                             572 I1  ;;;     SUB_START
15489                             573 I1  ;;;
15490                             574 I1  ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15491                             575 I1  ;;;     MOV.W   @R1,R0                          ;
15492                             576 I1  ;;;     TST     #BIT1,R0                        ;
15493                             577 I1  ;;;     TST_BIT_OF TEPA_STARTCHK_NG             ;無効
15494                             578 I1  ;;;
15495                             579 I1  ;;;     MOV.L   #_TEP_IN_ADD,R1                 ;
15496                             580 I1  ;;;     MOV.W   @R1,R2                          ;
15497                             581 I1  ;;;     CMP/PZ  R2                              ;
15498                             582 I1  ;;;     BT      TEPA_STARTCHK_050               ;
15499                             583 I1  ;;;     NEG     R2,R2                           ;
15500                             584 I1  ;;;TEPA_STARTCHK_050:
15501                             585 I1  ;;;     MOV.W   #D'1,R1                         ;1で良いか
15502                             586 I1  ;;;     CMP/GE  R1,R2                           ;
15503                             587 I1  ;;;     BT      TEPA_STARTCHK_OK                ;
15504                             588 I1  ;;;TEPA_STARTCHK_NG:
15505                             589 I1  ;;;     XOR     R0,R0                           ;
15506                             590 I1  ;;;     M_BRA   TEPA_STARTCHK_END               ;
15507                             591 I1  ;;;
15508                             592 I1  ;;;TEPA_STARTCHK_OK:
15509                             593 I1  ;;;     FAR_JSR #_TEP_FLG_START,R0              ;
15510                             594 I1  ;;;     MOV     #1,R0                           ;
15511                             595 I1  ;;;TEPA_STARTCHK_END:
15512                             596 I1  ;;;
15513                             597 I1  ;;;     SUB_END
15514                             598 I1  ;;;     M_RTS
15515                             599 I1  
15516                             600 I1  ;       ***********************************
15517                             601 I1  ;       ***                             ***
15518                             602 I1  ;       ***     手動パルサ遷移時の      ***
15519                             603 I1  ;       ***     パルスクリア            ***
15520                             604 I1  ;       ***                             ***
15521                             605 I1  ;       ***********************************
15522                             606 I1          .IMPORT         _PVP_CPUA_TEPPLS
15523                             607 I1          .IMPORT         _PVP_CPUB_TEPPLS
15524                             608 I1  
15525                                 I1  ***** BEGIN-POOL *****
15526 0000291A 0000                   I1  ALIGNMENT CODE
15527 0000291C 00000000               I1  DATA FOR SOURCE-LINE 563
15528                                 I1  ***** END-POOL *****
15529 00002920                    609 I1  _TEPA_PLSCNT_CLR
15530                             610 I1          SUB_START
15531 00002920 4F22                   M           STS.L   PR,@-R15                ;[必要]
15532                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15533                             611 I1  
15534                             612 I1          .AIF    0 EQ    0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   168
PROGRAM NAME =

15535 00002922 D106               613 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
15536 00002924 6211               614 C           MOV.W   @R1,R2                          ;
15537                             615             .AELSE
15538                             616             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
15539                             617             MOV.W   @R1,R2                          ;
15540                             618             .AENDI
15541                             619 I1  
15542 00002926 D106               620 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
15543 00002928 2121               621 I1          MOV.W   R2,@R1                          ;
15544                             622 I1  
15545 0000292A 222A               623 I1          XOR     R2,R2
15546 0000292C D105               624 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
15547 0000292E 2121               625 I1          MOV.W   R2,@R1                          ;
15548                             626 I1  
15549 00002930 D105               627 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;位置決め側使用データ
15550 00002932 2122               628 I1          MOV.L   R2,@R1                          ;
15551                             629 I1  
15552                             630 I1          SUB_END
15553                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15554 00002934 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15555                             631 I1          M_RTS
15556 00002936 000B                   M           RTS                             ;RTSの後ろの
15557 00002938 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15558                             632 I1  
15559                             633 I1  ;       ***********************************
15560                             634 I1  ;       ***                             ***
15561                             635 I1  ;       ***     手動ﾊﾟﾙｻの増分ﾁｪｯｸ      ***
15562                             636 I1  ;       ***                             ***
15563                             637 I1  ;       ***                             ***
15564                             638 I1  ;       ***********************************
15565                                 I1  ***** BEGIN-POOL *****
15566 0000293A 0000                   I1  ALIGNMENT CODE
15567 0000293C 00000000               I1  DATA FOR SOURCE-LINE 613
15568 00002940 00000000               I1  DATA FOR SOURCE-LINE 620
15569 00002944 00000000               I1  DATA FOR SOURCE-LINE 624
15570 00002948 00000000               I1  DATA FOR SOURCE-LINE 627
15571                                 I1  ***** END-POOL *****
15572 0000294C                    639 I1  _TEPA_PLSCNT_CHK:
15573                             640 I1          SUB_START
15574 0000294C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15575                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15576                             641 I1  
15577                             642 I1          .AIF    0 EQ    0       ;
15578 0000294E D10C               643 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
15579 00002950 6211               644 C           MOV.W   @R1,R2                          ;
15580                             645             .AELSE
15581                             646             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
15582                             647             MOV.W   @R1,R2                          ;
15583                             648             .AENDI
15584                             649 I1  
15585 00002952 D10C               650 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
15586 00002954 6311               651 I1          MOV.W   @R1,R3                          ;
15587 00002956 2121               652 I1          MOV.W   R2,@R1                          ;
15588 00002958 3238               653 I1          SUB     R3,R2                           ;
15589 0000295A D10B               654 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
15590 0000295C 2121               655 I1          MOV.W   R2,@R1                          ;
15591                             656 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   169
PROGRAM NAME =

15592                             657 I1  ;       ------ 2011-07-04 追加　運転釦が先--
15593 0000295E 2228               658 I1          TST     R2,R2                           ;変化あり?
15594                             659 I1          TST_BIT_OF TEPA_PLSCNTCHK_100           ;
15595 00002960 890A                   M           BT      TEPA_PLSCNTCHK_100
15596                             660 I1  
15597 00002962 D10A               661 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15598 00002964 6011               662 I1          MOV.W   @R1,R0                          ;
15599 00002966 2008               663 I1          TST     R0,R0
15600                             664 I1          TST_BIT_ON TEPA_PLSCNTCHK_050           ;
15601 00002968 8B03                   M           BF      TEPA_PLSCNTCHK_050
15602                             665 I1  
15603 0000296A D109               666 I1          MOV.L   #_BTTN_FLG,R1                   ;
15604 0000296C 6011               667 I1          MOV.W   @R1,R0                          ;
15605 0000296E C802               668 I1          TST     #BIT1,R0                        ;
15606                             669 I1          TST_BIT_ON TEPA_PLSCNTCHK_100           ;
15607 00002970 8B02                   M           BF      TEPA_PLSCNTCHK_100
15608                             670 I1  
15609 00002972                    671 I1  TEPA_PLSCNTCHK_050:
15610                             672 I1  
15611 00002972 9004               673 I1          MOV.W   #D'51,R0                        ;50*10=0.5秒
15612 00002974 D105               674 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15613 00002976 2101               675 I1          MOV.W   R0,@R1                          ;
15614                             676 I1  
15615 00002978                    677 I1  TEPA_PLSCNTCHK_100:
15616                             678 I1  
15617                             679 I1  
15618                             680 I1          SUB_END
15619                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15620 00002978 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15621                             681 I1          M_RTS
15622 0000297A 000B                   M           RTS                             ;RTSの後ろの
15623 0000297C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15624                             682 I1  
15625                             683 I1  
15626                             684 I1  ;       *******************************************
15627                             685 I1  ;       ***                                     ***
15628                             686 I1  ;       ***     2013-05-26                      ***
15629                             687 I1  ;       ***                                     ***
15630                             688 I1  ;       *******************************************
15631                             689 I1  ;       10ﾊﾟﾙｽ,方向無視----→修正必要
15632                                 I1  ***** BEGIN-POOL *****
15633 0000297E 0033                   I1  DATA FOR SOURCE-LINE 673
15634 00002980 00000000               I1  DATA FOR SOURCE-LINE 643
15635 00002984 00000000               I1  DATA FOR SOURCE-LINE 650
15636 00002988 00000000               I1  DATA FOR SOURCE-LINE 654
15637 0000298C 00000000               I1  DATA FOR SOURCE-LINE 661,674
15638 00002990 00000000               I1  DATA FOR SOURCE-LINE 666
15639                                 I1  ***** END-POOL *****
15640 00002994                    690 I1  _TEPA_ADD_LSI:
15641                             691 I1          SUB_START
15642 00002994 4F22                   M           STS.L   PR,@-R15                ;[必要]
15643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15644                             692 I1  
15645                             693 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
15646                             694 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;[自分のインターロック]
15647                             695 I1  ;;まだ組み込まない .AELSE
15648                             696 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   170
PROGRAM NAME =

15649                             697 I1  ;;まだ組み込まない .AENDI
15650                             698 I1  
15651 00002996 D509               699 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R5  ;
15652 00002998 6051               700 I1          MOV.W   @R5,R0                          ;
15653 0000299A 2008               701 I1          TST     R0,R0                           ;
15654                             702 I1          TST_BIT_ON TEPA_ADDLSI_025              ;停止
15655 0000299C 8B22                   M           BF      TEPA_ADDLSI_025
15656                             703 I1  
15657                             704 I1  ;       ---------- 2013-06-20 ------------
15658 0000299E 222A               705 I1          XOR     R2,R2
15659 000029A0 D107               706 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15660 000029A2 6011               707 I1          MOV.W   @R1,R0                          ;
15661 000029A4 2121               708 I1          MOV.W   R2,@R1                          ;
15662                             709 I1  
15663 000029A6 2008               710 I1          TST     R0,R0                                   ;
15664                             711 I1          TST_BIT_OF TEPA_ADDLSI_030                      ;
15665 000029A8 8924                   M           BT      TEPA_ADDLSI_030
15666                             712 I1  
15667 000029AA D106               713 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
15668 000029AC 6211               714 I1          MOV.W   @R1,R2                                  ;
15669 000029AE E401               715 I1          MOV.B   #BIT0,R4                                ;
15670 000029B0 2248               716 I1          TST     R4,R2                                   ;DIRCT +
15671                             717 I1          TST_BIT_ON TEPA_ADDLSI_010                      ;
15672 000029B2 8B09                   M           BF      TEPA_ADDLSI_010
15673                             718 I1  
15674 000029B4 C820               719 I1          TST     #BIT5,R0                                ;逆転有り?
15675                             720 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
15676 000029B6 8B0B                   M           BF      TEPA_ADDLSI_020
15677                             721 I1          M_BRA   TEPA_ADDLSI_030                         ;
15678 000029B8 A01C                   M           BRA     TEPA_ADDLSI_030
15679 000029BA 0009                   M           NOP
15680                             722 I1  
15681                             723 I1  
15682                                 I1  ***** BEGIN-POOL *****
15683 000029BC 00000000               I1  DATA FOR SOURCE-LINE 699
15684 000029C0 00000000               I1  DATA FOR SOURCE-LINE 706
15685 000029C4 00000000               I1  DATA FOR SOURCE-LINE 713
15686                                 I1  ***** END-POOL *****
15687 000029C8                    724 I1  TEPA_ADDLSI_010:
15688 000029C8 C810               725 I1          TST     #BIT4,R0                                ;正転有り?
15689                             726 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
15690 000029CA 8B01                   M           BF      TEPA_ADDLSI_020
15691                             727 I1          M_BRA   TEPA_ADDLSI_030                         ;
15692 000029CC A012                   M           BRA     TEPA_ADDLSI_030
15693 000029CE 0009                   M           NOP
15694                             728 I1  
15695 000029D0                    729 I1  TEPA_ADDLSI_020:
15696                             730 I1          FAR_JSR #_TEP_SPD_CALC3,R0                      ;
15697 000029D0 D005                   M           MOV.L   #_TEP_SPD_CALC3,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15698 000029D2 400B                   M           JSR     @R0                     ;
15699 000029D4 0009                   M           NOP                                     ;
15700                             731 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
15701 000029D6 D005                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15702 000029D8 400B                   M           JSR     @R0                     ;
15703 000029DA 0009                   M           NOP                                     ;
15704                             732 I1  ;;まだ組み込まないFAR_JSR       #_TEP_CPUAB_HAND_STOP,R0                ;2013-06-19
15705                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_REVPLS_LT_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   171
PROGRAM NAME =

15706 000029DC D104                   M           MOV.L   #_TEP_REVPLS_LT_FLG,R1          ;
15707 000029DE 6011                   M           MOV.W   @R1,R0          ;
15708 000029E0 CB01                   M           OR      #BIT0,R0                ;
15709 000029E2 2101                   M           MOV.W   R0,@R1          ;
15710                             734 I1  
15711 000029E4                    735 I1  TEPA_ADDLSI_025:
15712                             736 I1          M_BRA   TEPA_ADDLSI_EXT                         ;
15713 000029E4 A02A                   M           BRA     TEPA_ADDLSI_EXT
15714 000029E6 0009                   M           NOP
15715                             737 I1  
15716                             738 I1  ;       ---------------------------------------------------
15717                                 I1  ***** BEGIN-POOL *****
15718 000029E8 00000000               I1  DATA FOR SOURCE-LINE 730
15719 000029EC 00000000               I1  DATA FOR SOURCE-LINE 731
15720 000029F0 00000000               I1  DATA FOR SOURCE-LINE 733
15721                                 I1  ***** END-POOL *****
15722 000029F4                    739 I1  TEPA_ADDLSI_030
15723                             740 I1  ;       ----------- 復活 2013-06-05--------
15724 000029F4 D113               741 I1          MOV.L   #_TEP_CNTSMP_TIM,R1             ;
15725 000029F6 6011               742 I1          MOV.W   @R1,R0                          ;
15726 000029F8 2008               743 I1          TST     R0,R0                           ;
15727                             744 I1          TST_BIT_ON TEPA_ADDLSI_EXT              ;
15728 000029FA 8B1F                   M           BF      TEPA_ADDLSI_EXT
15729                             745 I1  
15730                             746 I1  ;       -----------------------------------
15731 000029FC D012               747 I1          MOV.L   #_TEP_STEP_SVSMPTM,R0           ;
15732 000029FE 6201               748 I1          MOV.W   @R0,R2                          ;
15733 00002A00 2121               749 I1          MOV.W   R2,@R1                          ;
15734                             750 I1  ;       -----------------------------------
15735 00002A02 D112               751 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                    ;
15736 00002A04 6012               752 I1          MOV.L   @R1,R0                                  ;
15737 00002A06 2008               753 I1          TST     R0,R0                                   ;
15738                             754 I1          TST_BIT_OF TEPA_ADDLSI_EXT                      ;
15739 00002A08 8918                   M           BT      TEPA_ADDLSI_EXT
15740                             755 I1  
15741                             756 I1  
15742                             757 I1          FAR_JSR #_LOAD_REST_PLS,R0                                      ;LOAD PLS
15743 00002A0A D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15744 00002A0C 400B                   M           JSR     @R0                     ;
15745 00002A0E 0009                   M           NOP                                     ;
15746                             758 I1  
15747 00002A10 D110               759 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1                                   ;SYS_PARA 10PLS
15748 00002A12 6411               760 I1          MOV.W   @R1,R4
15749                             761 I1  
15750 00002A14 3406               762 I1          CMP/HI  R0,R4                                                   ;10pls以下 R0<10
15751 00002A16 8911               763 I1          BT      TEPA_ADDLSI_EXT                                         ;"二重回路HAND対象
                                          "
15752                             764 I1                                                                          ;難しい
15753                             765 I1  
15754                             766 I1  ;       ---------パルス加算処理 2013-06-05 --------------
15755                             767 I1          FAR_JSR #_TEP_SPD_CALC2,R0                      ;
15756 00002A18 D00F                   M           MOV.L   #_TEP_SPD_CALC2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15757 00002A1A 400B                   M           JSR     @R0                     ;
15758 00002A1C 0009                   M           NOP                                     ;
15759                             768 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
15760 00002A1E D00F                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15761 00002A20 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   172
PROGRAM NAME =

15762 00002A22 0009                   M           NOP                                     ;
15763                             769 I1  
15764                             770 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;CNT=0 CLR,目標変更
15765 00002A24 D00E                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15766 00002A26 400B                   M           JSR     @R0                     ;
15767 00002A28 0009                   M           NOP                                     ;
15768                             771 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
15769 00002A2A D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15770 00002A2C 400B                   M           JSR     @R0                     ;
15771 00002A2E 0009                   M           NOP                                     ;
15772                             772 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
15773 00002A30 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15774 00002A32 400B                   M           JSR     @R0                     ;
15775 00002A34 0009                   M           NOP                                     ;
15776                             773 I1  
15777 00002A36 200A               774 I1          XOR     R0,R0
15778 00002A38 D104               775 I1          MOV.L   #_TEP_POS_ADD_CNT,R1
15779 00002A3A 2102               776 I1          MOV.L   R0,@R1
15780                             777 I1  
15781                             778 I1  
15782 00002A3C                    779 I1  TEPA_ADDLSI_EXT:
15783                             780 I1  
15784                             781 I1          SUB_END
15785                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15786 00002A3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15787                             782 I1          M_RTS
15788 00002A3E 000B                   M           RTS                             ;RTSの後ろの
15789 00002A40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15790                             783 I1  
15791                             784 I1  ;       ***********************************
15792                             785 I1  ;       ***                             ***
15793                             786 I1  ;       ***     初起動時のエリア作成    ***
15794                             787 I1  ;       ***                             ***
15795                             788 I1  ;       ***********************************
15796                             789 I1  ;;2013-05-26 _DNDTEP_STEP_MAKE:
15797                             790 I1  ;;2013-05-26    SUB_START
15798                             791 I1  ;;2013-05-26    SUB_END
15799                             792 I1  ;;2013-05-26    M_RTS
15800                             793 I1  
15801                             794 I1  ;       ***********************************
15802                             795 I1  ;       ***                             ***
15803                             796 I1  ;       ***     工程からの目標位置作成  ***
15804                             797 I1  ;       ***                             ***
15805                             798 I1  ;       ***********************************
15806                             799 I1  ;;2013-05-26_DNDTEP_MAKE_OBJPOS:
15807                             800 I1  ;;2013-05-26    SUB_START
15808                             801 I1  ;;2013-05-26
15809                             802 I1  ;;2013-05-26
15810                             803 I1  ;;2013-05-26    SUB_END
15811                             804 I1  ;;2013-05-26    M_RTS
15812                             805 I1  
15813                                 I1  ***** BEGIN-POOL *****
15814 00002A42 0000                   I1  ALIGNMENT CODE
15815 00002A44 00000000               I1  DATA FOR SOURCE-LINE 741
15816 00002A48 00000000               I1  DATA FOR SOURCE-LINE 747
15817 00002A4C 00000000               I1  DATA FOR SOURCE-LINE 751,775
15818 00002A50 00000000               I1  DATA FOR SOURCE-LINE 757
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   173
PROGRAM NAME =

15819 00002A54 00000000               I1  DATA FOR SOURCE-LINE 759
15820 00002A58 00000000               I1  DATA FOR SOURCE-LINE 767
15821 00002A5C 00000000               I1  DATA FOR SOURCE-LINE 768
15822 00002A60 00000000               I1  DATA FOR SOURCE-LINE 770
15823 00002A64 00000000               I1  DATA FOR SOURCE-LINE 771
15824 00002A68 00000000               I1  DATA FOR SOURCE-LINE 772
15825                                 I1  ***** END-POOL *****
15826 00002A6C                    806 I1  _TEP_SPD_CALC1:
15827                             807 I1          SUB_START
15828 00002A6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15830 00002A6E D306               808 I1          MOV.L   #_TEP_STEP_SVWTTM1,R3   ;//2013-06-05
15831 00002A70 6431               809 I1          MOV.W   @R3,R4                  ;
15832                             810 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;ANS=TEP1
15833 00002A72 D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15834 00002A74 400B                   M           JSR     @R0                     ;
15835 00002A76 0009                   M           NOP                                     ;
15836                             811 I1  
15837 00002A78 D105               812 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
15838 00002A7A 6212               813 I1          MOV.L   @R1,R2                  ;
15839 00002A7C D105               814 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
15840 00002A7E 2122               815 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
15841                             816 I1  
15842                             817 I1          SUB_END
15843                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15844 00002A80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15845                             818 I1          M_RTS
15846 00002A82 000B                   M           RTS                             ;RTSの後ろの
15847 00002A84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15848                             819 I1  
15849                                 I1  ***** BEGIN-POOL *****
15850 00002A86 0000                   I1  ALIGNMENT CODE
15851 00002A88 00000000               I1  DATA FOR SOURCE-LINE 808
15852 00002A8C 00000000               I1  DATA FOR SOURCE-LINE 810
15853 00002A90 00000000               I1  DATA FOR SOURCE-LINE 812
15854 00002A94 00000000               I1  DATA FOR SOURCE-LINE 814
15855                                 I1  ***** END-POOL *****
15856 00002A98                    820 I1  _TEP_SPD_CALC2:
15857                             821 I1          SUB_START
15858 00002A98 4F22                   M           STS.L   PR,@-R15                ;[必要]
15859                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15860                             822 I1  
15861 00002A9A D106               823 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
15862 00002A9C 6212               824 I1          MOV.L   @R1,R2                  ;
15863 00002A9E D106               825 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
15864 00002AA0 2122               826 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
15865                             827 I1  
15866 00002AA2 D306               828 I1          MOV.L   #_TEP_STEP_SVSMPTM,R3
15867 00002AA4 6431               829 I1          MOV.W   @R3,R4                  ;
15868                             830 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;
15869 00002AA6 D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15870 00002AA8 400B                   M           JSR     @R0                     ;
15871 00002AAA 0009                   M           NOP                                     ;
15872                             831 I1          SUB_END
15873                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15874 00002AAC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15875                             832 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   174
PROGRAM NAME =

15876 00002AAE 000B                   M           RTS                             ;RTSの後ろの
15877 00002AB0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15878                             833 I1  
15879                             834 I1  
15880                                 I1  ***** BEGIN-POOL *****
15881 00002AB2 0000                   I1  ALIGNMENT CODE
15882 00002AB4 00000000               I1  DATA FOR SOURCE-LINE 823
15883 00002AB8 00000000               I1  DATA FOR SOURCE-LINE 825
15884 00002ABC 00000000               I1  DATA FOR SOURCE-LINE 828
15885 00002AC0 00000000               I1  DATA FOR SOURCE-LINE 830
15886                                 I1  ***** END-POOL *****
15887 00002AC4                    835 I1  _TEP_SPD_CALC_COM
15888                             836 I1          SUB_START
15889 00002AC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15890                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15891                             837 I1  
15892 00002AC6 D30E               838 I1          MOV.L   #_TEP_POS_ADD_CNT,R3            ;
15893 00002AC8 6232               839 I1          MOV.L   @R3,R2                          ;
15894 00002ACA 4211               840 I1          CMP/PZ  R2
15895 00002ACC 8900               841 I1          BT      TEP_SPD_CALCCOM_100                     ;
15896 00002ACE 622B               842 I1          NEG     R2,R2                                   ;
15897 00002AD0                    843 I1  TEP_SPD_CALCCOM_100
15898                             844 I1  
15899 00002AD0 9114               845 I1          MOV.W   #D'1000,R1                              ;
15900                             846 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;10PLS:100msec
15901 00002AD2 D00C                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15902 00002AD4 400B                   M           JSR     @R0                     ;
15903 00002AD6 0009                   M           NOP                                     ;
15904                             847 I1  
15905 00002AD8 2228               848 I1          TST     R2,R2                                   ;
15906                             849 I1          TST_BIT_ON TEP_SPD_CALCCOM_200                  ;
15907 00002ADA 8B00                   M           BF      TEP_SPD_CALCCOM_200
15908 00002ADC 920F               850 I1          MOV.W   #1,R2                                   ;
15909 00002ADE                    851 I1  TEP_SPD_CALCCOM_200
15910                             852 I1  
15911                             853 I1  
15912 00002ADE D10A               854 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
15913 00002AE0 6312               855 I1          MOV.L   @R1,R3                  ;
15914                             856 I1  
15915                             857 I1  ;       -----------MAX LIMIT----------
15916 00002AE2 3322               858 I1          CMP/HS  R2,R3
15917 00002AE4 8900               859 I1          BT      TEP_SPD_CALCCOM_300
15918 00002AE6 6233               860 I1          MOV     R3,R2                   ;
15919 00002AE8                    861 I1  TEP_SPD_CALCCOM_300
15920                             862 I1  
15921                             863 I1  
15922                             864 I1  ;       ---------- MIN LIMIT -------------
15923 00002AE8 D108               865 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1    ;
15924 00002AEA 6312               866 I1          MOV.L   @R1,R3                  ;PLS/S
15925                             867 I1  
15926 00002AEC 3232               868 I1          CMP/HS  R3,R2
15927 00002AEE 8900               869 I1          BT      TEP_SPD_CALCCOM_400
15928 00002AF0 6233               870 I1          MOV     R3,R2                   ;
15929 00002AF2                    871 I1  TEP_SPD_CALCCOM_400
15930                             872 I1  
15931 00002AF2 D107               873 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
15932 00002AF4 2122               874 I1          MOV.L   R2,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   175
PROGRAM NAME =

15933                             875 I1  
15934                             876 I1          SUB_END
15935                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15936 00002AF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15937                             877 I1          M_RTS
15938 00002AF8 000B                   M           RTS                             ;RTSの後ろの
15939 00002AFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15940                             878 I1  
15941                             879 I1  ;       -----------------------------------
15942                                 I1  ***** BEGIN-POOL *****
15943 00002AFC 03E8                   I1  DATA FOR SOURCE-LINE 845
15944 00002AFE 0001                   I1  DATA FOR SOURCE-LINE 850
15945 00002B00 00000000               I1  DATA FOR SOURCE-LINE 838
15946 00002B04 00000000               I1  DATA FOR SOURCE-LINE 846
15947 00002B08 00000000               I1  DATA FOR SOURCE-LINE 854
15948 00002B0C 00000000               I1  DATA FOR SOURCE-LINE 865
15949 00002B10 00000000               I1  DATA FOR SOURCE-LINE 873
15950                                 I1  ***** END-POOL *****
15951 00002B14                    880 I1  _TEP_SPD_CALC3:
15952                             881 I1          SUB_START
15953 00002B14 4F22                   M           STS.L   PR,@-R15                ;[必要]
15954                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15955 00002B16 D104               882 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
15956 00002B18 6212               883 I1          MOV.L   @R1,R2                  ;
15957 00002B1A D104               884 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
15958 00002B1C 2122               885 I1          MOV.L   R2,@R1                  ;
15959 00002B1E D104               886 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
15960 00002B20 2122               887 I1          MOV.L   R2,@R1                  ;
15961                             888 I1          SUB_END
15962                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15963 00002B22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15964                             889 I1          M_RTS
15965 00002B24 000B                   M           RTS                             ;RTSの後ろの
15966 00002B26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15967                             890 I1  
15968                             891 I1  
15969                             892 I1  
15970                                 I1  ***** BEGIN-POOL *****
15971 00002B28 00000000               I1  DATA FOR SOURCE-LINE 882
15972 00002B2C 00000000               I1  DATA FOR SOURCE-LINE 884
15973 00002B30 00000000               I1  DATA FOR SOURCE-LINE 886
15974                                 I1  ***** END-POOL *****
15975 00002B34                    893 I1  _TEP_SPD_SET:
15976                             894 I1          SUB_START
15977 00002B34 4F22                   M           STS.L   PR,@-R15                ;[必要]
15978                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15979                             895 I1  
15980 00002B36 D103               896 I1          MOV.L   #_TEP_CHG_SPD1,R1                       ;
15981 00002B38 6212               897 I1          MOV.L   @R1,R2                                  ;
15982                             898 I1  
15983 00002B3A D103               899 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
15984 00002B3C 2122               900 I1          MOV.L   R2,@R1                                  ;
15985                             901 I1  
15986                             902 I1          SUB_END
15987                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15988 00002B3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15989                             903 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   176
PROGRAM NAME =

15990 00002B40 000B                   M           RTS                             ;RTSの後ろの
15991 00002B42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15992                             904 I1  
15993                                 I1  ***** BEGIN-POOL *****
15994 00002B44 00000000               I1  DATA FOR SOURCE-LINE 896
15995 00002B48 00000000               I1  DATA FOR SOURCE-LINE 899
15996                                 I1  ***** END-POOL *****
15997 00002B4C                    905 I1  _TEP_SPD_SET_CHG:
15998                             906 I1          SUB_START
15999 00002B4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16000                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16001                             907 I1  
16002                             908 I1  ;;;;    MOV.L   #_TEP_CHG_SPD1,R1                       ;
16003                             909 I1  ;;;;    MOV.L   @R1,R2                                  ;
16004                             910 I1  
16005 00002B4E D105               911 I1          MOV.L   #_TEP_CHG_SPD2,R1                       ;
16006 00002B50 6212               912 I1          MOV.L   @R1,R2                                  ;
16007                             913 I1  
16008 00002B52 D105               914 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16009 00002B54 2122               915 I1          MOV.L   R2,@R1                                  ;
16010                             916 I1  
16011                             917 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;input R2
16012 00002B56 D105                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16013 00002B58 410B                   M           JSR     @R1                     ;
16014 00002B5A 0009                   M           NOP                                     ;
16015                             918 I1  
16016                             919 I1          SUB_END
16017                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16018 00002B5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16019                             920 I1          M_RTS
16020 00002B5E 000B                   M           RTS                             ;RTSの後ろの
16021 00002B60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16022                             921 I1  
16023                             922 I1  
16024                             923 I1  
16025                             924 I1  
16026                             925 I1  ;       ***************************************************
16027                             926 I1  ;       ***                                             ***
16028                             927 I1  ;       ***                                             ***
16029                             928 I1  ;       ***                                             ***
16030                             929 I1  ;       ***                                             ***
16031                             930 I1  ;       ***************************************************
16032                             931 I1          .EXPORT _TEP_DTMAK
16033                                 I1  ***** BEGIN-POOL *****
16034 00002B62 0000                   I1  ALIGNMENT CODE
16035 00002B64 00000000               I1  DATA FOR SOURCE-LINE 911
16036 00002B68 00000000               I1  DATA FOR SOURCE-LINE 914
16037 00002B6C 00000000               I1  DATA FOR SOURCE-LINE 917
16038                                 I1  ***** END-POOL *****
16039 00002B70                    932 I1  _TEP_DTMAK:
16040                             933 I1          SUB_START
16041 00002B70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16043                             934 I1  
16044                             935 I1  ;       ------------------------------------
16045 00002B72 D117               936 I1          MOV.L   #(_PAR_TEP_BEFPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16046 00002B74 6411               937 I1          MOV.W   @R1,R4                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   177
PROGRAM NAME =

16047 00002B76 9027               938 I1          MOV.W   #D'10,R0                                                ;MIN PLS
16048 00002B78 3402               939 I1          CMP/HS  R0,R4                                                   ;R4(10PLS)=< R0
16049 00002B7A 8900               940 I1          BT      TEP_SYS_SET080                                          ;
16050 00002B7C 6403               941 I1          MOV     R0,R4                                                   ;
16051 00002B7E                    942 I1  TEP_SYS_SET080:
16052 00002B7E D115               943 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1
16053 00002B80 2141               944 I1          MOV.W   R4,@R1
16054                             945 I1  
16055                             946 I1  ;       --------------2013-06-05 -----------
16056 00002B82 9222               947 I1          MOV.W   #D'100,R2                                               ;DEF 100msec
16057 00002B84 D114               948 I1          MOV.L   #(_PAR_TEP_WATTIM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16058 00002B86 6011               949 I1          MOV.W   @R1,R0                                                  ;
16059 00002B88 2008               950 I1          TST     R0,R0                                                   ;
16060                             951 I1          TST_BIT_OF TEP_SYS_SET100                                       ;
16061 00002B8A 8900                   M           BT      TEP_SYS_SET100
16062 00002B8C 6203               952 I1          MOV     R0,R2                                                   ;
16063 00002B8E                    953 I1  TEP_SYS_SET100:
16064 00002B8E D113               954 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16065 00002B90 2121               955 I1          MOV.W   R2,@R1                  ;
16066                             956 I1  
16067 00002B92 D112               957 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16068 00002B94 6211               958 I1          MOV.W   @R1,R2                  ;
16069 00002B96 4201               959 I1          SHLR    R2                      ;
16070 00002B98 D111               960 I1          MOV.L   #_TEP_STEP_SVSMPTM,R1   ;
16071 00002B9A 2121               961 I1          MOV.W   R2,@R1                  ;1/2時間
16072                             962 I1  
16073                             963 I1  ;       ---------- 最小速度兼自起動速度
16074 00002B9C D111               964 I1          MOV.L   #(_PAR_TEP_MINSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16075 00002B9E 6211               965 I1          MOV.W   @R1,R2                                                  ;
16076 00002BA0 2228               966 I1          TST     R2,R2                                                   ;
16077                             967 I1          TST_BIT_ON TEP_SYS_SET200                                       ;
16078 00002BA2 8B00                   M           BF      TEP_SYS_SET200
16079 00002BA4 9212               968 I1          MOV.W   #1,R2                                                   ;0.01%
16080 00002BA6                    969 I1  TEP_SYS_SET200:                                                         ;
16081                             970 I1          FAR_JSR #_CYCLE_SPD1,R0                                         ;
16082 00002BA6 D010                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16083 00002BA8 400B                   M           JSR     @R0                     ;
16084 00002BAA 0009                   M           NOP                                     ;
16085 00002BAC D10F               971 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1                                    ;
16086 00002BAE 2122               972 I1          MOV.L   R2,@R1                                                  ;PLS/S
16087                             973 I1  
16088 00002BB0 D00F               974 I1          MOV.L   #_POS_LSI_SPDMAX,R0                             ;
16089 00002BB2 6102               975 I1          MOV.L   @R0,R1                                          ;
16090 00002BB4 D00F               976 I1          MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
16091 00002BB6 6402               977 I1          MOV.L   @R0,R4                                          ;
16092                             978 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16093 00002BB8 D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16094 00002BBA 400B                   M           JSR     @R0                     ;
16095 00002BBC 0009                   M           NOP                                     ;
16096 00002BBE D10F               979 I1          MOV.L   #_TEP_MIN_SPD_FRQ,R1                            ;//自起動速度
16097 00002BC0 2122               980 I1          MOV.L   R2,@R1                                          ;
16098                             981 I1  
16099                             982 I1  
16100                             983 I1          SUB_END
16101                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16102 00002BC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16103                             984 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   178
PROGRAM NAME =

16104 00002BC4 000B                   M           RTS                             ;RTSの後ろの
16105 00002BC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16106                             985 I1  
16107                             986 I1  ;
16108                             987 I1  ;;まだ組み込まない_TEP_CPUAB_HAND
16109                             988 I1  ;;まだ組み込まない      SUB_START
16110                             989 I1  ;;まだ組み込まない      XOR     R0,R0
16111                             990 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16112                             991 I1  ;;まだ組み込まない      MOV.W   @R5,R1                  ;
16113                             992 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R6    ;
16114                             993 I1  ;;まだ組み込まない      MOV.W   @R6,R2                  ;
16115                             994 I1  ;;まだ組み込まない      CMP/EQ  R1,R2                   ;
16116                             995 I1  ;;まだ組み込まない      BF      TEP_CPUAB_HDEXT         ;
16117                             996 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                        ;
16118                             997 I1  ;;まだ組み込まないTEP_CPUAB_HDEXT
16119                             998 I1  ;;まだ組み込まない
16120                             999 I1  ;;まだ組み込まない      SUB_END
16121                            1000 I1  ;;まだ組み込まない      M_RTS
16122                            1001 I1  
16123                            1002 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_CLR
16124                            1003 I1  ;;まだ組み込まない      SUB_START
16125                            1004 I1  ;;まだ組み込まない      XOR     R0,R0
16126                            1005 I1  ;;まだ組み込まない
16127                            1006 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16128                            1007 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16129                            1008 I1  ;;まだ組み込まない .AELSE
16130                            1009 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16131                            1010 I1  ;;まだ組み込まない .AENDI
16132                            1011 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16133                            1012 I1  ;;まだ組み込まない
16134                            1013 I1  ;;まだ組み込まない      SUB_END
16135                            1014 I1  ;;まだ組み込まない      M_RTS
16136                            1015 I1  
16137                            1016 I1  
16138                            1017 I1  ;*******************************************
16139                            1018 I1  
16140                            1019 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_STOP
16141                            1020 I1  ;;まだ組み込まない      SUB_START
16142                            1021 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                ;
16143                            1022 I1  ;;まだ組み込まない
16144                            1023 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16145                            1024 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16146                            1025 I1  ;;まだ組み込まない .AELSE
16147                            1026 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16148                            1027 I1  ;;まだ組み込まない .AENDI
16149                            1028 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16150                            1029 I1  ;;まだ組み込まない
16151                            1030 I1  ;;まだ組み込まない      SUB_END
16152                            1031 I1  ;;まだ組み込まない      M_RTS
16153                            1032 I1  
16154                            1033 I1  
16155                            1034 I1  ;       *******************************************
16156                            1035 I1  ;       ***                                     ***
16157                            1036 I1  ;       ***     停止させる信号のクリア          ***
16158                            1037 I1  ;       ***                                     ***
16159                            1038 I1  ;       *******************************************
16160                            1039 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   179
PROGRAM NAME =

16161                                 I1  ***** BEGIN-POOL *****
16162 00002BC8 000A                   I1  DATA FOR SOURCE-LINE 938
16163 00002BCA 0064                   I1  DATA FOR SOURCE-LINE 947
16164 00002BCC 0001                   I1  DATA FOR SOURCE-LINE 968
16165 00002BCE 0000                   I1  ALIGNMENT CODE
16166 00002BD0 00000000               I1  DATA FOR SOURCE-LINE 936
16167 00002BD4 00000000               I1  DATA FOR SOURCE-LINE 943
16168 00002BD8 00000000               I1  DATA FOR SOURCE-LINE 948
16169 00002BDC 00000000               I1  DATA FOR SOURCE-LINE 954,957
16170 00002BE0 00000000               I1  DATA FOR SOURCE-LINE 960
16171 00002BE4 00000000               I1  DATA FOR SOURCE-LINE 964
16172 00002BE8 00000000               I1  DATA FOR SOURCE-LINE 970
16173 00002BEC 00000000               I1  DATA FOR SOURCE-LINE 971
16174 00002BF0 00000000               I1  DATA FOR SOURCE-LINE 974
16175 00002BF4 00000000               I1  DATA FOR SOURCE-LINE 976
16176 00002BF8 00000000               I1  DATA FOR SOURCE-LINE 978
16177 00002BFC 00000000               I1  DATA FOR SOURCE-LINE 979
16178                                 I1  ***** END-POOL *****
16179 00002C00                   1040 I1  _TEP_REVPLS_LT_CLR
16180                            1041 I1          SUB_START
16181 00002C00 4F22                   M           STS.L   PR,@-R15                ;[必要]
16182                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16183 00002C02 200A              1042 I1          XOR     R0,R0                   ;
16184 00002C04 D102              1043 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R1  ;
16185 00002C06 2101              1044 I1          MOV.W   R0,@R1                  ;
16186                            1045 I1          SUB_END
16187                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16188 00002C08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16189                            1046 I1          M_RTS
16190 00002C0A 000B                   M           RTS                             ;RTSの後ろの
16191 00002C0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16192                            1047 I1  
16193                            1048 I1  ;       *******************************************
16194                            1049 I1  ;       ***                                     ***
16195                            1050 I1  ;       ***     Input R2                        ***
16196                            1051 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
16197                            1052 I1  ;       ***     Input R0 DIRECT                 ***
16198                            1053 I1  ;       ***     方向固定                        ***
16199                            1054 I1  ;       ***                                     ***
16200                            1055 I1  ;       *******************************************
16201                            1056 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
16202                            1057 I1  ;       MOV.L   @R4,R2                                  ;
16203                            1058 I1  ;
16204                            1059 I1  
16205                            4690     
16206                            4691     
16207                            4692     
16208                            4693     
16209                            4694     
16210                            4695     ;       ***********************************
16211                            4696     ;       ***                             ***
16212                            4697     ;       ***     目標位置→LENGTH        ***
16213                            4698     ;       ***                             ***
16214                            4699     ;       ***********************************
16215                            4700     ;       Input R1,R2(目標位置)
16216                            4701     ;       Output R1,R2
16217                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   180
PROGRAM NAME =

16218 00002C0E 0000                       ALIGNMENT CODE
16219 00002C10 00000000                   DATA FOR SOURCE-LINE 1043
16220                                     ***** END-POOL *****
16221 00002C14                   4702             .ALIGN  4                               ;
16222 00002C14                   4703     _LENGH_ADD_CALC:
16223                            4704             SUB_START
16224 00002C14 4F22                   M           STS.L   PR,@-R15                ;[必要]
16225                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16226 00002C16 D50B              4705             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16227 00002C18 2512              4706             MOV.L   R1,@R5                          ;
16228 00002C1A 1521              4707             MOV.L   R2,@(4,R5)                      ;
16229                            4708     
16230                            4709     ;       ===2004-12-20 ===================
16231                            4710             PUSH_REG1 R5
16232 00002C1C 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
16233                                 M                                           ;REG=>[SP]
16234                                 M                                           ;"-4" FF,FF,FF,FC
16235 00002C1E D50A              4711             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16236 00002C20 2512              4712             MOV.L   R1,@R5                          ;
16237 00002C22 1521              4713             MOV.L   R2,@(4,R5)                      ;
16238                            4714             POP_REG1 R5
16239                                 M                                   ; RE"+4" 00,00,00,04
16240 00002C24 65F6                   M           MOV.L   @R15+,R5        ;
16241                            4715     ;       =================================
16242                            4716     
16243                            4717     ;;;;2014-09-12ﾃﾞﾝｼﾞｬﾗｽか?       MOV.L   #_LINK_PV_ABSPLS,R4             ;(ﾌﾙｸﾛｰｽﾞ時は対象
                                          を変える)
16244 00002C26 D409              4718             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;2014-09-14
16245 00002C28 6546              4719             MOV.L   @R4+,R5                         ;
16246 00002C2A 6642              4720             MOV.L   @R4,R6                          ;
16247                            4721             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16248 00002C2C 0008                   M           CLRT
16249 00002C2E 326A                   M           SUBC    R6,R2
16250 00002C30 315A                   M           SUBC    R5,R1
16251 00002C32 D407              4722             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16252 00002C34 2412              4723             MOV.L   R1,@R4                          ;
16253 00002C36 1421              4724             MOV.L   R2,@(4,R4)                      ;
16254                            4725     
16255                            4726     ;       ==== MONITOR 2004-01-28 ====
16256 00002C38 D406              4727             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16257 00002C3A 2412              4728             MOV.L   R1,@R4                          ;
16258 00002C3C 1421              4729             MOV.L   R2,@(4,R4)                      ;
16259                            4730     
16260                            4731     
16261                            4732     
16262                            4733             SUB_END
16263                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16264 00002C3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16265                            4734             M_RTS
16266 00002C40 000B                   M           RTS                             ;RTSの後ろの
16267 00002C42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16268                            4735     
16269                                     ***** BEGIN-POOL *****
16270 00002C44 00000000                   DATA FOR SOURCE-LINE 4705
16271 00002C48 00000000                   DATA FOR SOURCE-LINE 4711
16272 00002C4C 00000000                   DATA FOR SOURCE-LINE 4718
16273 00002C50 00000000                   DATA FOR SOURCE-LINE 4722
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   181
PROGRAM NAME =

16274 00002C54 00000000                   DATA FOR SOURCE-LINE 4727
16275                                     ***** END-POOL *****
16276 00002C58                   4736             .ALIGN  4                               ;
16277 00002C58                   4737     _LENGH_ADD_CALC_SV_TYPE:
16278                            4738             SUB_START
16279 00002C58 4F22                   M           STS.L   PR,@-R15                ;[必要]
16280                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16281 00002C5A D40B              4739             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16282 00002C5C 6542              4740             MOV.L   @R4,R5                          ;OLD_LOAD
16283 00002C5E 5641              4741             MOV.L   @(4,R4),R6                      ;
16284 00002C60 2412              4742             MOV.L   R1,@R4                          ;
16285 00002C62 1421              4743             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16286                            4744     ;       ===2004-12-20 ===================
16287                            4745             PUSH_REG1 R4
16288 00002C64 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16289                                 M                                           ;REG=>[SP]
16290                                 M                                           ;"-4" FF,FF,FF,FC
16291 00002C66 D409              4746             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16292 00002C68 2412              4747             MOV.L   R1,@R4                          ;
16293 00002C6A 1421              4748             MOV.L   R2,@(4,R4)                      ;
16294                            4749             POP_REG1 R4
16295                                 M                                   ; RE"+4" 00,00,00,04
16296 00002C6C 64F6                   M           MOV.L   @R15+,R4        ;
16297                            4750     ;       =================================
16298                            4751     
16299                            4752             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16300 00002C6E 0008                   M           CLRT
16301 00002C70 326A                   M           SUBC    R6,R2
16302 00002C72 315A                   M           SUBC    R5,R1
16303 00002C74 D406              4753             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16304 00002C76 2412              4754             MOV.L   R1,@R4                          ;
16305 00002C78 1421              4755             MOV.L   R2,@(4,R4)                      ;
16306                            4756     ;       ==== MONITOR 2004-01-28 ====
16307 00002C7A D406              4757             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16308 00002C7C 2412              4758             MOV.L   R1,@R4                          ;
16309 00002C7E 1421              4759             MOV.L   R2,@(4,R4)                      ;
16310                            4760     
16311                            4761             SUB_END
16312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16313 00002C80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16314                            4762             M_RTS
16315 00002C82 000B                   M           RTS                             ;RTSの後ろの
16316 00002C84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16317                            4763     
16318                            4764     ;       ===== BANK LENGTH ADD ====
16319                                     ***** BEGIN-POOL *****
16320 00002C86 0000                       ALIGNMENT CODE
16321 00002C88 00000000                   DATA FOR SOURCE-LINE 4739
16322 00002C8C 00000000                   DATA FOR SOURCE-LINE 4746
16323 00002C90 00000000                   DATA FOR SOURCE-LINE 4753
16324 00002C94 00000000                   DATA FOR SOURCE-LINE 4757
16325                                     ***** END-POOL *****
16326 00002C98                   4765             .ALIGN  4                               ;
16327 00002C98                   4766     _BANK_LENGH_ADD_CALC_SV_TYPE:
16328                            4767             SUB_START
16329 00002C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
16330                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   182
PROGRAM NAME =

16331 00002C9A D40B              4768             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16332 00002C9C 6542              4769             MOV.L   @R4,R5                          ;OLD_LOAD
16333 00002C9E 5641              4770             MOV.L   @(4,R4),R6                      ;
16334 00002CA0 2412              4771             MOV.L   R1,@R4                          ;
16335 00002CA2 1421              4772             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16336                            4773             PUSH_REG1 R4
16337 00002CA4 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16338                                 M                                           ;REG=>[SP]
16339                                 M                                           ;"-4" FF,FF,FF,FC
16340 00002CA6 D409              4774             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16341 00002CA8 2412              4775             MOV.L   R1,@R4                          ;
16342 00002CAA 1421              4776             MOV.L   R2,@(4,R4)                      ;
16343                            4777             POP_REG1 R4
16344                                 M                                   ; RE"+4" 00,00,00,04
16345 00002CAC 64F6                   M           MOV.L   @R15+,R4        ;
16346                            4778     
16347                            4779     
16348                            4780     
16349                            4781             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16350 00002CAE 0008                   M           CLRT
16351 00002CB0 326A                   M           SUBC    R6,R2
16352 00002CB2 315A                   M           SUBC    R5,R1
16353 00002CB4 D406              4782             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16354 00002CB6 2412              4783             MOV.L   R1,@R4                          ;
16355 00002CB8 1421              4784             MOV.L   R2,@(4,R4)                      ;
16356                            4785     ;       ==== MONITOR 2004-01-28 ====
16357 00002CBA D406              4786             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16358 00002CBC 2412              4787             MOV.L   R1,@R4                          ;
16359 00002CBE 1421              4788             MOV.L   R2,@(4,R4)                      ;
16360                            4789     
16361                            4790             SUB_END
16362                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16363 00002CC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16364                            4791             M_RTS
16365 00002CC2 000B                   M           RTS                             ;RTSの後ろの
16366 00002CC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16367                            4792     
16368                            4793     
16369                            4794     ;       ***********************************
16370                            4795     ;       ***     STOP MEM CLR            ***
16371                            4796     ;       ***********************************
16372                                     ***** BEGIN-POOL *****
16373 00002CC6 0000                       ALIGNMENT CODE
16374 00002CC8 00000000                   DATA FOR SOURCE-LINE 4768
16375 00002CCC 00000000                   DATA FOR SOURCE-LINE 4774
16376 00002CD0 00000000                   DATA FOR SOURCE-LINE 4782
16377 00002CD4 00000000                   DATA FOR SOURCE-LINE 4786
16378                                     ***** END-POOL *****
16379 00002CD8                   4797             .ALIGN  4                               ;
16380 00002CD8                   4798     _POS_LSI_WORK_STOP_CLR:
16381                            4799             SUB_START
16382 00002CD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16383                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16384                            4800     
16385 00002CDA 200A              4801             XOR     R0,R0
16386 00002CDC D105              4802             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1                         ;//符号つき TOTAL=TOTAL+AD
                                          D ADD_DATA<=0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   183
PROGRAM NAME =

16387 00002CDE 2102              4803             MOV.L   R0,@R1                                          ;
16388 00002CE0 1101              4804             MOV.L   R0,@(4,R1)                                      ;
16389 00002CE2 D105              4805             MOV.L   #_LNGTH_ADD_DATA,R1                             ;//符号付き
16390 00002CE4 2102              4806             MOV.L   R0,@R1                                          ;
16391 00002CE6 1101              4807             MOV.L   R0,@(4,R1)                                      ;
16392 00002CE8 D104              4808             MOV.L   #_OUTPLS_MOD,R1                                 ;
16393 00002CEA 2102              4809             MOV.L   R0,@R1                                          ;
16394                            4810     
16395                            4811             SUB_END
16396                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16397 00002CEC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16398                            4812             M_RTS
16399 00002CEE 000B                   M           RTS                             ;RTSの後ろの
16400 00002CF0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16401                            4813     
16402                            4814     ;       *******************************************
16403                            4815     ;       ***                                     ***
16404                            4816     ;       *******************************************
16405                                     ***** BEGIN-POOL *****
16406 00002CF2 0000                       ALIGNMENT CODE
16407 00002CF4 00000000                   DATA FOR SOURCE-LINE 4802
16408 00002CF8 00000000                   DATA FOR SOURCE-LINE 4805
16409 00002CFC 00000000                   DATA FOR SOURCE-LINE 4808
16410                                     ***** END-POOL *****
16411 00002D00                   4817             .ALIGN  4                               ;
16412 00002D00                   4818     _POS_LSI_WORK_STOP2;
16413                            4819             SUB_START
16414 00002D00 4F22                   M           STS.L   PR,@-R15                ;[必要]
16415                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16416                            4820             FAR_JSR #_OutputPLS_REG_CLR,R0          ;
16417 00002D02 D004                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16418 00002D04 400B                   M           JSR     @R0                     ;
16419 00002D06 0009                   M           NOP                                     ;
16420 00002D08 200A              4821             XOR     R0,R0                           ;
16421 00002D0A D103              4822             MOV.L   #_POSLSI_CMP_DATA,R1            ;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
16422 00002D0C 2102              4823             MOV.L   R0,@R1                          ;
16423                            4824             SUB_END
16424                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16425 00002D0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16426                            4825             M_RTS
16427 00002D10 000B                   M           RTS                             ;RTSの後ろの
16428 00002D12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16429                            4826     ;       ***********************************
16430                            4827     ;       ***                             ***
16431                            4828     ;       ***                             ***
16432                            4829     ;       ***                             ***
16433                            4830     ;       ***********************************
16434                                     ***** BEGIN-POOL *****
16435 00002D14 00000000                   DATA FOR SOURCE-LINE 4820
16436 00002D18 00000000                   DATA FOR SOURCE-LINE 4822
16437                                     ***** END-POOL *****
16438 00002D1C                   4831             .ALIGN  4
16439 00002D1C                   4832     _EMG_POS_FLG_PROC:
16440                            4833             SUB_START
16441 00002D1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16442                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16443                            4834             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   184
PROGRAM NAME =

16444 00002D1E D013                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16445 00002D20 400B                   M           JSR     @R0                     ;
16446 00002D22 0009                   M           NOP                                     ;
16447                            4835     
16448 00002D24 9021              4836             MOV.W   #BIT6,R0                        ;位置決め完了
16449 00002D26 D112              4837             MOV.L   #_INT_CYC_DRV_STS,R1            ;//BIT0=1(終了:ﾃﾞｰﾀ保証あり)
16450 00002D28 2101              4838             MOV.W   R0,@R1                          ;
16451                            4839     
16452 00002D2A D112              4840             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
16453 00002D2C 200A              4841             XOR     R0,R0                           ;
16454 00002D2E 2101              4842             MOV.W   R0,@R1                          ;
16455                            4843     
16456                            4844     ;;      .AIF    1 EQ 1  ;
16457                            4845     ;;      .AENDI
16458 00002D30 200A              4846             XOR     R0,R0
16459 00002D32 D111              4847             MOV.L   #_INT_DND_NEG_STEP,R1           ;//2003-01-27 1 EQ 1    ;
16460 00002D34 2101              4848             MOV.W   R0,@R1                          ;
16461 00002D36 D111              4849             MOV.L   #_DNDINC_CTRL_STEP,R1           ;2006-07-28
16462 00002D38 2101              4850             MOV.W   R0,@R1                          ;
16463                            4851     
16464                            4852             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
16465 00002D3A D011                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16466 00002D3C 400B                   M           JSR     @R0                     ;
16467 00002D3E 0009                   M           NOP                                     ;
16468                            4853             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
16469 00002D40 D010                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16470 00002D42 400B                   M           JSR     @R0                     ;
16471 00002D44 0009                   M           NOP                                     ;
16472                            4854     
16473                            4855     ;       ---     [2009-10-07下振子]      ---
16474                            4856             FAR_JSR #_DNM_DATA_CLR,R0                       ;
16475 00002D46 D010                   M           MOV.L   #_DNM_DATA_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16476 00002D48 400B                   M           JSR     @R0                     ;
16477 00002D4A 0009                   M           NOP                                     ;
16478                            4857     
16479                            4858     ;       ------------寸動からの上限指令 2013-02-15--
16480 00002D4C 200A              4859             XOR     R0,R0                   ;
16481 00002D4E D10F              4860             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
16482 00002D50 2101              4861             MOV.W   R0,@R1                  ;
16483                            4862     
16484                            4863     ;       ------------ 2013-07-13
16485                            4864             FAR_JSR #_EXQ_POS_FLG_PROC,R0
16486 00002D52 D00F                   M           MOV.L   #_EXQ_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16487 00002D54 400B                   M           JSR     @R0                     ;
16488 00002D56 0009                   M           NOP                                     ;
16489                            4865     
16490                            4866     ;       --------- 2013-07-18
16491 00002D58 200A              4867             XOR     R0,R0
16492 00002D5A D10E              4868             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
16493 00002D5C 2101              4869             MOV.W   R0,@R1                                  ;
16494                            4870     
16495                            4871     ;       --------- 2014-09-22 繰返---------------
16496                            4872             FAR_JSR #_MOT_REP_CLR,R0
16497 00002D5E D00E                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16498 00002D60 400B                   M           JSR     @R0                     ;
16499 00002D62 0009                   M           NOP                                     ;
16500                            4873     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   185
PROGRAM NAME =

16501                            4874             SUB_END
16502                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16503 00002D64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16504                            4875             M_RTS
16505 00002D66 000B                   M           RTS                             ;RTSの後ろの
16506 00002D68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16507                            4876     
16508                            4877     
16509                                     ***** BEGIN-POOL *****
16510 00002D6A 0040                       DATA FOR SOURCE-LINE 4836
16511 00002D6C 00000000                   DATA FOR SOURCE-LINE 4834
16512 00002D70 00000000                   DATA FOR SOURCE-LINE 4837
16513 00002D74 00000000                   DATA FOR SOURCE-LINE 4840
16514 00002D78 00000000                   DATA FOR SOURCE-LINE 4847
16515 00002D7C 00000000                   DATA FOR SOURCE-LINE 4849
16516 00002D80 00000000                   DATA FOR SOURCE-LINE 4852
16517 00002D84 00000000                   DATA FOR SOURCE-LINE 4853
16518 00002D88 00000000                   DATA FOR SOURCE-LINE 4856
16519 00002D8C 00000000                   DATA FOR SOURCE-LINE 4860
16520 00002D90 00000000                   DATA FOR SOURCE-LINE 4864
16521 00002D94 00000000                   DATA FOR SOURCE-LINE 4868
16522 00002D98 00000000                   DATA FOR SOURCE-LINE 4872
16523                                     ***** END-POOL *****
16524 00002D9C                   4878             .ALIGN  4
16525 00002D9C                   4879     _EXQ_POS_FLG_PROC:
16526                            4880             SUB_START
16527 00002D9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16528                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16529                            4881     
16530 00002D9E D11A              4882             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
16531 00002DA0 200A              4883             XOR     R0,R0                   ;
16532 00002DA2 2101              4884             MOV.W   R0,@R1                  ;
16533                            4885             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
16534 00002DA4 D019                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16535 00002DA6 400B                   M           JSR     @R0                     ;
16536 00002DA8 0009                   M           NOP                                     ;
16537                            4886             FAR_JSR #_POS_LSI_EMG_STOP,R0                   ;急停止
16538 00002DAA D019                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16539 00002DAC 400B                   M           JSR     @R0                     ;
16540 00002DAE 0009                   M           NOP                                     ;
16541                            4887     
16542                            4888     ;       ==========================
16543 00002DB0 200A              4889             XOR     R0,R0                           ;
16544 00002DB2 D118              4890             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
16545 00002DB4 2101              4891             MOV.W   R0,@R1                          ;
16546                            4892     
16547 00002DB6 200A              4893             XOR     R0,R0                           ;
16548                            4894             REG_MOV_TO_MEM  DST_ADR=_POS_LSI_ACS_ERR_FLG1   ,L1=W,DT_REG=R0,WKREG1=R1       ;L
                                          SI異常
16549 00002DB8 D117                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1       ;DST_ADR
16550 00002DBA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
16551                            4895             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
16552 00002DBC D117                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1  ;DST_ADR
16553 00002DBE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
16554                            4896             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
16555 00002DC0 D117                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1  ;DST_ADR
16556 00002DC2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   186
PROGRAM NAME =

16557                            4897     
16558                            4898             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0
16559 00002DC4 D017                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16560 00002DC6 400B                   M           JSR     @R0                     ;
16561 00002DC8 0009                   M           NOP                                     ;
16562                            4899     
16563                            4900             .AIF    0 EQ    0
16564                            4901 C   
16565                            4902 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
16566 00002DCA D017                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16567 00002DCC 400B                   M           JSR     @R0                     ;
16568 00002DCE 0009                   M           NOP                                     ;
16569                            4903             .AENDI
16570                            4904     
16571                            4905     
16572                            4906             .AIF    0 EQ    0
16573                            4907 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
16574 00002DD0 D016                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16575 00002DD2 400B                   M           JSR     @R0                     ;
16576 00002DD4 0009                   M           NOP                                     ;
16577                            4908             .AENDI
16578                            4909     
16579                            4910     ;       -2012-05-30 反転
16580                            4911             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
16581 00002DD6 D016                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16582 00002DD8 400B                   M           JSR     @R0                     ;
16583 00002DDA 0009                   M           NOP                                     ;
16584                            4912     
16585                            4913     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
16586                            4914             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
16587                            4915 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
16588 00002DDC D015                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16589 00002DDE 400B                   M           JSR     @R0                     ;
16590 00002DE0 0009                   M           NOP                                     ;
16591                            4916 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
16592 00002DE2 D015                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16593 00002DE4 400B                   M           JSR     @R0                     ;
16594 00002DE6 0009                   M           NOP                                     ;
16595                            4917             .AENDI
16596                            4918     
16597                            4919     ;       --------- 2013-07-18
16598 00002DE8 200A              4920             XOR     R0,R0
16599 00002DEA D114              4921             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
16600 00002DEC 2101              4922             MOV.W   R0,@R1                                  ;
16601                            4923     
16602                            4924             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
16603 00002DEE D014                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16604 00002DF0 400B                   M           JSR     @R0                     ;
16605 00002DF2 0009                   M           NOP                                     ;
16606                            4925     
16607                            4926     ;       -------- 2015-09-06(2015-07-14)-----------
16608                            4927     ;;;     _BRK_SADOU_CHG EQ 1
16609                            4928             FAR_JSR #_POS_END_MYUTIG_TIMER_CLR,R0
16610 00002DF4 D013                   M           MOV.L   #_POS_END_MYUTIG_TIMER_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16611 00002DF6 400B                   M           JSR     @R0                     ;
16612 00002DF8 0009                   M           NOP                                     ;
16613                            4929     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   187
PROGRAM NAME =

16614                            4930     ;       ------- 2015-11-17 -----------------------
16615                            4931     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
16616                            4932             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
16617 00002DFA D013                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16618 00002DFC 400B                   M           JSR     @R0                     ;
16619 00002DFE 0009                   M           NOP                                     ;
16620                            4933     
16621                            4934             SUB_END
16622                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16623 00002E00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16624                            4935             M_RTS
16625 00002E02 000B                   M           RTS                             ;RTSの後ろの
16626 00002E04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16627                            4936     
16628                            4937     ;       ***********************************
16629                            4938     ;       ***                             ***
16630                            4939     ;       ***     ﾜｰｸﾌﾗｸﾞ関係ｸﾘｱ          ***
16631                            4940     ;       ***                             ***
16632                            4941     ;       ***********************************
16633                            4942     ;       1ｻｲｸﾙ終了時
16634                                     ***** BEGIN-POOL *****
16635 00002E06 0000                       ALIGNMENT CODE
16636 00002E08 00000000                   DATA FOR SOURCE-LINE 4882
16637 00002E0C 00000000                   DATA FOR SOURCE-LINE 4885
16638 00002E10 00000000                   DATA FOR SOURCE-LINE 4886
16639 00002E14 00000000                   DATA FOR SOURCE-LINE 4890
16640 00002E18 00000000                   DATA FOR SOURCE-LINE 4894
16641 00002E1C 00000000                   DATA FOR SOURCE-LINE 4895
16642 00002E20 00000000                   DATA FOR SOURCE-LINE 4896
16643 00002E24 00000000                   DATA FOR SOURCE-LINE 4898
16644 00002E28 00000000                   DATA FOR SOURCE-LINE 4902
16645 00002E2C 00000000                   DATA FOR SOURCE-LINE 4907
16646 00002E30 00000000                   DATA FOR SOURCE-LINE 4911
16647 00002E34 00000000                   DATA FOR SOURCE-LINE 4915
16648 00002E38 00000000                   DATA FOR SOURCE-LINE 4916
16649 00002E3C 00000000                   DATA FOR SOURCE-LINE 4921
16650 00002E40 00000000                   DATA FOR SOURCE-LINE 4924
16651 00002E44 00000000                   DATA FOR SOURCE-LINE 4928
16652 00002E48 00000000                   DATA FOR SOURCE-LINE 4932
16653                                     ***** END-POOL *****
16654 00002E4C                   4943             .ALIGN  4
16655                            4944             .EXPORT _CYC_END_POS_FLG_CLR            ;2016-04-18
16656 00002E4C                   4945     _CYC_END_POS_FLG_CLR:
16657                            4946             SUB_START
16658 00002E4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16659                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16660 00002E4E 200A              4947             XOR     R0,R0                           ;
16661 00002E50 D102              4948             MOV.L   #_SV_POS_CTL_STEP,R1            ;
16662 00002E52 2101              4949             MOV.W   R0,@R1                          ;
16663                            4950     
16664                            4951     
16665                            4952             SUB_END
16666                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16667 00002E54 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16668                            4953             M_RTS
16669 00002E56 000B                   M           RTS                             ;RTSの後ろの
16670 00002E58 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   188
PROGRAM NAME =

16671                            4954     ;       ***********************************
16672                            4955     ;       ***                             ***
16673                            4956     ;       ***     ﾜｰｸﾌﾗｸﾞ関係SET          ***
16674                            4957     ;       ***                             ***
16675                            4958     ;       ***********************************
16676                            4959     ;       1ｻｲｸﾙ終了時     CYCL=BIT0,SV_STEP=0
16677                            4960     ;       非常停止復帰時  CYCL=0  ,SV_STEP=0
16678                                     ***** BEGIN-POOL *****
16679 00002E5A 0000                       ALIGNMENT CODE
16680 00002E5C 00000000                   DATA FOR SOURCE-LINE 4948
16681                                     ***** END-POOL *****
16682 00002E60                   4961             .ALIGN  4                               ;
16683 00002E60                   4962     _CYC_END_POS_FLG_SET:
16684                            4963             SUB_START
16685 00002E60 4F22                   M           STS.L   PR,@-R15                ;[必要]
16686                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16687                            4964             MEM1_DATA_SET MEM=_INT_CYC_DRV_STS,LG=W,DATA=(BIT6+BIT0),WKREG1=R1,WKREG2=R2    ;ｻ
                                          ｲｸﾙｴﾝﾄﾞ(次回運転まで有効)
16688 00002E62 D103                   M           MOV.L   #_INT_CYC_DRV_STS,R1            ;
16689 00002E64 9203                   M           MOV.W   #(BIT6+BIT0),R2         ;
16690 00002E66 2121                   M           MOV.W   R2,@R1  ;
16691                            4965             SUB_END
16692                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16693 00002E68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16694                            4966             M_RTS
16695 00002E6A 000B                   M           RTS                             ;RTSの後ろの
16696 00002E6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16697                            4967     
16698                            4968     ;       ***************************************************
16699                            4969     ;       ***                                             ***
16700                            4970     ;       ***                                             ***
16701                            4971     ;       ***                                             ***
16702                            4972     ;       ***             位置決めＬＳＩアクセス          ***
16703                            4973     ;       ***                                             ***
16704                            4974     ;       ***                                             ***
16705                            4975     ;       ***                                             ***
16706                            4976     ;       ***************************************************
16707                            4977     ;       ?加減速時間の演算と指令周波数の演算
16708                            4978     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
16709                            4979     ;       "_poslsi1_top"
16710                            4980     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
16711                            4981     ;       *速度周波数の演算
16712                            4982     ;       *ベース周波数=1?
16713                            4983     ;       *加速時間
16714                            4984     ;       *急停止の時間
16715                            4985     ;       ***********************************
16716                            4986     ;       ***                             ***
16717                            4987     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
16718                            4988     ;       ***                             ***
16719                            4989     ;       ***********************************
16720                            4990     ;       25MHZ*1/N*1/LATE=65535
16721                            4991     
16722                            4992             .EXPORT _POS_LSI_HARD_INITAL
16723                            4993             .EXPORT _POS_LSI_DATA_INITAL
16724                            4994     
16725                            4995             .MACRO  POS_LSI_CMD_WR ADR_REG,DAT_REG
16726                            4996             SWAP.W  \DAT_REG,\DAT_REG                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   189
PROGRAM NAME =

16727                            4997     
16728                            4998             MOV.W   \DAT_REG,@\ADR_REG
16729                            4999             ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
16730                            5000             SWAP.W  \DAT_REG,\DAT_REG                               ;
16731                            5001             POS_LSI_WORD_DUM_LOD                                    ;
16732                            5002             MOV.W   \DAT_REG,@\ADR_REG                              ;HIGH WORD SAVE
16733                            5003             POS_LSI_WORD_DUM_LOD                                    ;
16734                            5004             .ENDM
16735                            5005     
16736                            5006             .MACRO  POS_LSI_BIT_SET_LG ADR,MEM
16737                            5007             MOV.L   #\MEM,R6                                        ;
16738                            5008             MOV.L   @R6,R5                                          ;
16739                            5009             OR      R4,R5                                           ;
16740                            5010             MOV.L   R5,@R6                                          ;SAVE
16741                            5011     
16742                            5012             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
16743                            5013             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16744                            5014             .ENDM
16745                            5015     
16746                            5016     
16747                            5017             .MACRO  POS_LSI_BIT_CLR_LG ADR,MEM
16748                            5018             MOV.L   #\MEM,R6                                        ;
16749                            5019             MOV.L   @R6,R5                                          ;
16750                            5020             AND     R4,R5                                           ;
16751                            5021             MOV.L   R5,@R6                                          ;SAVE
16752                            5022     
16753                            5023             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
16754                            5024             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16755                            5025             .ENDM
16756                            5026     
16757                            5027     ;AND R3 対象BIT
16758                            5028     ;OR  R4 転送BIT
16759                            5029             .MACRO  POS_LSI_BIT_MOV_LG ADR,MEM
16760                            5030             MOV.L   #\MEM,R6                                        ;
16761                            5031             MOV.L   @R6,R5                                          ;
16762                            5032             NOT     R3,R3                                           ;
16763                            5033             AND     R3,R5                                           ;
16764                            5034             OR      R4,R5                                           ;
16765                            5035             MOV.L   R5,@R6                                          ;SAVE
16766                            5036     
16767                            5037             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
16768                            5038             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16769                            5039             .ENDM
16770                            5040     
16771                            5041     
16772                            5042     
16773                            5043     ;       ***************************************************
16774                            5044     ;       ***     位置決めＬＳＩ 32BIT DATA WRITE         ***
16775                            5045     ;       ***     払出ﾊﾟﾙｽ設定
16776                            5046     ;       ********************************************
16777                            5047     
16778                            5048             .MACRO  POS_LSI_32BIT_DAT_SET ADR,ADR_REG,DAT_REG
16779                            5049             PUSH_REG1 \ADR_REG
16780                            5050             PUSH_REG1 \DAT_REG
16781                            5051             POS_LSI_WORD_DUM_LOD                                    ;
16782                            5052             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,\ADR_REG           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   190
PROGRAM NAME =

16783                            5053             MOV.W   \DAT_REG,@\ADR_REG                              ;(LOW)
16784                            5054             ADD     #2,\ADR_REG                                     ;
16785                            5055             SWAP.W  \DAT_REG,\DAT_REG                               ;
16786                            5056             POS_LSI_WORD_DUM_LOD                                    ;
16787                            5057             MOV.W   \DAT_REG,@\ADR_REG                              ;(HIGH)
16788                            5058             POS_LSI_WORD_DUM_LOD                                    ;
16789                            5059             POP_REG1 \DAT_REG
16790                            5060             POP_REG1 \ADR_REG
16791                            5061             .ENDM
16792                            5062     
16793                            5063     
16794                            5064     ;       *******************************************
16795                            5065     ;       ***                                     ***
16796                            5066     ;       ***                                     ***
16797                            5067     ;       ***                                     ***
16798                            5068     ;       *******************************************
16799                                     ***** BEGIN-POOL *****
16800 00002E6E 0041                       DATA FOR SOURCE-LINE 4964
16801 00002E70 00000000                   DATA FOR SOURCE-LINE 4964
16802                                     ***** END-POOL *****
16803 00002E74                   5069             .ALIGN  4                               ;
16804 00002E74                   5070     _POS_LSI_HARD_INITAL:
16805                            5071             SUB_START
16806 00002E74 4F22                   M           STS.L   PR,@-R15                ;[必要]
16807                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16808                            5072     ;       ==========================================
16809 00002E76 D60E              5073             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R6         ;
16810                            5074             .AIF    1 EQ 1          ;2006-09-19
16811 00002E78 9519              5075 C           MOV.W   #H'100*(B'01000011)+(B'11000100),R5
16812                            5076 C                                                                   ;B相進み
16813                            5077 C                                                                   ;BIT7,BIT6=1,1 +OT,-OT無効
16814                            5078 C                                                                   ;BIT9,BIT8=1,1 自動加減速
                                          無効
16815                            5079 C                                                                   ;BIT14         外部ｹﾞｰﾄ無
                                          効
16816                            5080             .AELSE
16817                            5081             MOV.W   #H'100*(B'01000000)+(B'11000100),R5
16818                            5082                                                                     ;B相進み
16819                            5083                                                                     ;BIT7,BIT6=1   +OT,-OT無効
16820                            5084                                                                     ;BIT9,BIT8=0,0 自動加減速
                                          有効
16821                            5085                                                                     ;BIT14         外部ｹﾞｰﾄ無
                                          効
16822                            5086             .AENDI
16823 00002E7A 2651              5087             MOV.W   R5,@R6                                          ;
16824                            5088     ;BIT0=0(正転PLS/逆転PLS 2PLS MODE)
16825                            5089     ;BIT1=0 帰還有効
16826                            5090     ;BIT2=1 A相進み
16827                            5091     ;BIT4,3=0 90位相;
16828                            5092     ;BIT13=0速度16ﾋﾞｯﾄ　=1:20ﾋﾞｯﾄ
16829                            5093     ;
16830                            5094     ;       ======= ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽｶｳﾝﾄ開始    ============
16831 00002E7C D50D              5095             MOV.L   #BIT2,R5                                        ;
16832 00002E7E D60E              5096             MOV.L   #_LSI_BUF_PLS_BitComdL,R6                       ;
16833 00002E80 2652              5097             MOV.L   R5,@R6                                          ;MOTROLA 32BIT DATA
16834                            5098     
16835 00002E82 D40C              5099             MOV.L   #BIT2,R4                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   191
PROGRAM NAME =

16836                            5100             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;BIT2(BIT18)
16837 00002E84 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
16838 00002E86 6562                   M           MOV.L   @R6,R5                                          ;
16839 00002E88 254B                   M           OR      R4,R5                                           ;
16840 00002E8A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
16841                                 M   
16842 00002E8C D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
16843                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16844 00002E8E 6559                   M           SWAP.W  R5,R5                           ;
16845                                 M   
16846 00002E90 2651                   M           MOV.W   R5,@R6
16847 00002E92 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
16848 00002E94 6559                   M           SWAP.W  R5,R5                           ;
16849                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16850                                 M           PUSH_REG1 R0
16851 00002E96 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16852                                 M                                           ;REG=>[SP]
16853                                 M                                           ;"-4" FF,FF,FF,FC
16854 00002E98 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16855 00002E9A 6001                   M           MOV.W   @R0,R0
16856                                 M           POP_REG1 R0
16857                                 M                                   ; RE"+4" 00,00,00,04
16858 00002E9C 60F6                   M           MOV.L   @R15+,R0        ;
16859 00002E9E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
16860                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16861                                 M           PUSH_REG1 R0
16862 00002EA0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16863                                 M                                           ;REG=>[SP]
16864                                 M                                           ;"-4" FF,FF,FF,FC
16865 00002EA2 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16866 00002EA4 6001                   M           MOV.W   @R0,R0
16867                                 M           POP_REG1 R0
16868                                 M                                   ; RE"+4" 00,00,00,04
16869 00002EA6 60F6                   M           MOV.L   @R15+,R0        ;
16870                            5101     
16871                            5102             SUB_END
16872                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16873 00002EA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16874                            5103             M_RTS
16875 00002EAA 000B                   M           RTS                             ;RTSの後ろの
16876 00002EAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16877                            5104     
16878                            5105     ;       ***********************************
16879                            5106     ;       ***                             ***
16880                            5107     ;       ***     ﾒｲﾝﾃﾞｰﾀ受信後           ***
16881                            5108     ;       ***                             ***
16882                            5109     ;       ***********************************
16883                                     ***** BEGIN-POOL *****
16884 00002EAE 43C4                       DATA FOR SOURCE-LINE 5075
16885 00002EB0 00000000                   DATA FOR SOURCE-LINE 5073
16886 00002EB4 00000004                   DATA FOR SOURCE-LINE 5095,5099
16887 00002EB8 00000000                   DATA FOR SOURCE-LINE 5096,5100
16888 00002EBC 00000000                   DATA FOR SOURCE-LINE 5100
16889 00002EC0 00000000                   DATA FOR SOURCE-LINE 5100,5100
16890                                     ***** END-POOL *****
16891 00002EC4                   5110             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   192
PROGRAM NAME =

16892 00002EC4                   5111     _POS_LSI_DATA_INITAL:
16893                            5112             SUB_START
16894 00002EC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16895                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16896                            5113             FAR_JSR #_POS_LSI_SPDLATE_SET,R0        ;(本当は1回だけ)
16897 00002EC6 D006                   M           MOV.L   #_POS_LSI_SPDLATE_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16898 00002EC8 400B                   M           JSR     @R0                     ;
16899 00002ECA 0009                   M           NOP                                     ;
16900                            5114             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;(本当は1回だけ)
16901 00002ECC D005                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16902 00002ECE 400B                   M           JSR     @R0                     ;
16903 00002ED0 0009                   M           NOP                                     ;
16904                            5115             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16905 00002ED2 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
16906 00002ED4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16907 00002ED6 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16908 00002ED8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16909                            5116     
16910                            5117     
16911                            5118     
16912                            5119     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速(意味無し)
16913                            5120     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
16914                            5121     
16915                            5122             SUB_END
16916                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16917 00002EDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16918                            5123             M_RTS
16919 00002EDC 000B                   M           RTS                             ;RTSの後ろの
16920 00002EDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16921                            5124     
16922                            5125     
16923                            5126     ;       ***********************************
16924                            5127     ;       ***                             ***
16925                            5128     ;       ***     起動前ｲﾆｼｬﾙ             ***
16926                            5129     ;       ***                             ***
16927                            5130     ;       ***********************************
16928                                     ***** BEGIN-POOL *****
16929 00002EE0 00000000                   DATA FOR SOURCE-LINE 5113
16930 00002EE4 00000000                   DATA FOR SOURCE-LINE 5114
16931 00002EE8 00000000                   DATA FOR SOURCE-LINE 5115
16932 00002EEC 00000000                   DATA FOR SOURCE-LINE 5115
16933                                     ***** END-POOL *****
16934 00002EF0                   5131             .ALIGN  4                               ;
16935 00002EF0                   5132     _POS_LSI_START_INITAL:
16936                            5133             SUB_START
16937 00002EF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16938                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16939                            5134     
16940                            5135     ;       ===== 本当は不要だけど、ﾃﾞﾊﾞｯｸ完了までは======
16941                            5136     
16942                            5137     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
16943                            5138             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;
16944 00002EF2 D006                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16945 00002EF4 400B                   M           JSR     @R0                     ;
16946 00002EF6 0009                   M           NOP                                     ;
16947                            5139             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16948 00002EF8 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   193
PROGRAM NAME =

16949 00002EFA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16950 00002EFC D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16951 00002EFE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16952                            5140     
16953                            5141     
16954                            5142     
16955                            5143     
16956                            5144     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
16957                            5145     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
16958                            5146             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
16959 00002F00 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16960 00002F02 400B                   M           JSR     @R0                     ;
16961 00002F04 0009                   M           NOP                                     ;
16962                            5147     
16963                            5148             SUB_END
16964                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16965 00002F06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16966                            5149             M_RTS
16967 00002F08 000B                   M           RTS                             ;RTSの後ろの
16968 00002F0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16969                            5150     ;       ***********************************
16970                            5151     ;       ***                             ***
16971                            5152     ;       ***     起動前ｲﾆｼｬﾙ             ***
16972                            5153     ;       ***                             ***
16973                            5154     ;       ***********************************
16974                                     ***** BEGIN-POOL *****
16975 00002F0C 00000000                   DATA FOR SOURCE-LINE 5138
16976 00002F10 00000000                   DATA FOR SOURCE-LINE 5139
16977 00002F14 00000000                   DATA FOR SOURCE-LINE 5139
16978 00002F18 00000000                   DATA FOR SOURCE-LINE 5146
16979                                     ***** END-POOL *****
16980 00002F1C                   5155             .ALIGN  4                               ;
16981 00002F1C                   5156     _POS_LSI_START_INITL2:
16982                            5157             SUB_START
16983 00002F1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16984                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16985                            5158     
16986                            5159     
16987                            5160     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
16988                            5161             FAR_JSR #_POS_LSI_CLS_BAS_SPD_SET,R0    ;
16989 00002F1E D006                   M           MOV.L   #_POS_LSI_CLS_BAS_SPD_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16990 00002F20 400B                   M           JSR     @R0                     ;
16991 00002F22 0009                   M           NOP                                     ;
16992                            5162             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16993 00002F24 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
16994 00002F26 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16995 00002F28 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16996 00002F2A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16997                            5163     
16998                            5164     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
16999                            5165     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17000                            5166             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17001 00002F2C D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17002 00002F2E 400B                   M           JSR     @R0                     ;
17003 00002F30 0009                   M           NOP                                     ;
17004                            5167     
17005                            5168             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   194
PROGRAM NAME =

17006                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17007 00002F32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17008                            5169             M_RTS
17009 00002F34 000B                   M           RTS                             ;RTSの後ろの
17010 00002F36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17011                            5170     
17012                            5171     ;       ***********************************
17013                            5172     ;       ***                             ***
17014                            5173     ;       ***     起動前ｲﾆｼｬﾙ             ***
17015                            5174     ;       ***     2013-06-13              ***
17016                            5175     ;       ***********************************
17017                                     ***** BEGIN-POOL *****
17018 00002F38 00000000                   DATA FOR SOURCE-LINE 5161
17019 00002F3C 00000000                   DATA FOR SOURCE-LINE 5162
17020 00002F40 00000000                   DATA FOR SOURCE-LINE 5162
17021 00002F44 00000000                   DATA FOR SOURCE-LINE 5166
17022                                     ***** END-POOL *****
17023 00002F48                   5176             .ALIGN  4                               ;
17024 00002F48                   5177     _POS_LSI_START_INITAL_TEP:
17025                            5178             SUB_START
17026 00002F48 4F22                   M           STS.L   PR,@-R15                ;[必要]
17027                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17028                            5179     
17029                            5180             FAR_JSR #_POS_LSI_TEP_BAS_SPEED_SET,R0
17030 00002F4A D006                   M           MOV.L   #_POS_LSI_TEP_BAS_SPEED_SET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17031 00002F4C 400B                   M           JSR     @R0                     ;
17032 00002F4E 0009                   M           NOP                                     ;
17033                            5181             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17034 00002F50 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17035 00002F52 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17036 00002F54 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17037 00002F56 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17038                            5182             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17039 00002F58 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17040 00002F5A 400B                   M           JSR     @R0                     ;
17041 00002F5C 0009                   M           NOP                                     ;
17042                            5183     
17043                            5184             SUB_END
17044                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17045 00002F5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17046                            5185             M_RTS
17047 00002F60 000B                   M           RTS                             ;RTSの後ろの
17048 00002F62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17049                            5186     
17050                            5187     ;       ***********************************
17051                            5188     ;       ***                             ***
17052                            5189     ;       ***     指令ﾊﾟﾙｽﾚｼﾞｽﾀｸﾘｱ        ***
17053                            5190     ;       ***                             ***
17054                            5191     ;       ***********************************
17055                            5192     ;       2004-02-19
17056                                     ***** BEGIN-POOL *****
17057 00002F64 00000000                   DATA FOR SOURCE-LINE 5180
17058 00002F68 00000000                   DATA FOR SOURCE-LINE 5181
17059 00002F6C 00000000                   DATA FOR SOURCE-LINE 5181
17060 00002F70 00000000                   DATA FOR SOURCE-LINE 5182
17061                                     ***** END-POOL *****
17062 00002F74                   5193             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   195
PROGRAM NAME =

17063 00002F74                   5194     _OutputPLS_REG_CLR:
17064                            5195             SUB_START
17065 00002F74 4F22                   M           STS.L   PR,@-R15                ;[必要]
17066                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17067                            5196             PUSH_ALL
17068                                 M           PUSH_REG1       R0      ;
17069 00002F76 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17070                                 M                                           ;REG=>[SP]
17071                                 M                                           ;"-4" FF,FF,FF,FC
17072                                 M           PUSH_REG1       R1      ;
17073 00002F78 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17074                                 M                                           ;REG=>[SP]
17075                                 M                                           ;"-4" FF,FF,FF,FC
17076                                 M           PUSH_REG1       R2      ;
17077 00002F7A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17078                                 M                                           ;REG=>[SP]
17079                                 M                                           ;"-4" FF,FF,FF,FC
17080                                 M           PUSH_REG1       R3      ;
17081 00002F7C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17082                                 M                                           ;REG=>[SP]
17083                                 M                                           ;"-4" FF,FF,FF,FC
17084                                 M           PUSH_REG1       R4      ;
17085 00002F7E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17086                                 M                                           ;REG=>[SP]
17087                                 M                                           ;"-4" FF,FF,FF,FC
17088                                 M           PUSH_REG1       R5      ;
17089 00002F80 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17090                                 M                                           ;REG=>[SP]
17091                                 M                                           ;"-4" FF,FF,FF,FC
17092                                 M           PUSH_REG1       R6      ;
17093 00002F82 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17094                                 M                                           ;REG=>[SP]
17095                                 M                                           ;"-4" FF,FF,FF,FC
17096                                 M           PUSH_REG1       R7      ;
17097 00002F84 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
17098                                 M                                           ;REG=>[SP]
17099                                 M                                           ;"-4" FF,FF,FF,FC
17100                                 M           PUSH_REG1       R8      ;
17101 00002F86 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17102                                 M                                           ;REG=>[SP]
17103                                 M                                           ;"-4" FF,FF,FF,FC
17104                                 M           PUSH_REG1       R9      ;
17105 00002F88 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
17106                                 M                                           ;REG=>[SP]
17107                                 M                                           ;"-4" FF,FF,FF,FC
17108                                 M           PUSH_REG1       R10     ;
17109 00002F8A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
17110                                 M                                           ;REG=>[SP]
17111                                 M                                           ;"-4" FF,FF,FF,FC
17112                                 M           PUSH_REG1       R11     ;
17113 00002F8C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
17114                                 M                                           ;REG=>[SP]
17115                                 M                                           ;"-4" FF,FF,FF,FC
17116                                 M           PUSH_REG1       R12     ;
17117 00002F8E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
17118                                 M                                           ;REG=>[SP]
17119                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   196
PROGRAM NAME =

17120                                 M           PUSH_REG1       R13     ;
17121 00002F90 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
17122                                 M                                           ;REG=>[SP]
17123                                 M                                           ;"-4" FF,FF,FF,FC
17124                                 M           PUSH_REG1       R14     ;
17125 00002F92 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
17126                                 M                                           ;REG=>[SP]
17127                                 M                                           ;"-4" FF,FF,FF,FC
17128                                 M           PUSH_MACHL              ;
17129 00002F94 4F02                   M           STS.L   MACH,@-R15
17130 00002F96 4F12                   M           STS.L   MACL,@-R15
17131                                 M           PUSH_SYS_REG    GBR     ;
17132 00002F98 4F13                   M           STC.L   GBR,@-R15
17133                                 M           .AIF    2 EQ 3
17134                                             .AELSE
17135                                 C           PUSH_FPU_ALL            ;2001-07-08
17136                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
17137 00002F9A 4F52                   M           STS.L   FPUL,@-R15
17138 00002F9C 4F62                   M           STS.L   FPSCR,@-R15
17139                                 M                   PUSH_FPU_REG1 FR0       ;
17140 00002F9E FF0B                   M           FMOV.S  FR0,@-R15
17141                                 M                   PUSH_FPU_REG1 FR1       ;
17142 00002FA0 FF1B                   M           FMOV.S  FR1,@-R15
17143                                 M                   PUSH_FPU_REG1 FR2       ;
17144 00002FA2 FF2B                   M           FMOV.S  FR2,@-R15
17145                                 M                   PUSH_FPU_REG1 FR3       ;
17146 00002FA4 FF3B                   M           FMOV.S  FR3,@-R15
17147                                 M                   PUSH_FPU_REG1 FR4       ;
17148 00002FA6 FF4B                   M           FMOV.S  FR4,@-R15
17149                                 M           .AENDI
17150 00002FA8 200A              5197             XOR     R0,R0                                   ;
17151 00002FAA D127              5198             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;//CLR処理そのもの
17152 00002FAC 2101              5199             MOV.W   R0,@R1                                  ;
17153                            5200     
17154                            5201             TIM_CNT_ADD MEM=_LSI_PLSCLR_AC_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17155 00002FAE D127                   M           MOV.L   #_LSI_PLSCLR_AC_CNT1,R1         ;
17156 00002FB0 6012                   M           MOV.L   @R1,R0  ;
17157 00002FB2 7001                   M           ADD     #1,R0           ;
17158 00002FB4 2102                   M           MOV.L   R0,@R1  ;
17159                            5202     
17160                            5203     
17161 00002FB6                   5204     OutputPLS_REGCLR_LOP:
17162                            5205             FAR_JSR #_LOAD_REST_PLS,R0
17163 00002FB6 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17164 00002FB8 400B                   M           JSR     @R0                     ;
17165 00002FBA 0009                   M           NOP                                     ;
17166 00002FBC D425              5206             MOV.L   #(BIT12*H'10000),R4                                             ;
17167                            5207             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17168 00002FBE D626                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17169 00002FC0 6562                   M           MOV.L   @R6,R5                                          ;
17170 00002FC2 254B                   M           OR      R4,R5                                           ;
17171 00002FC4 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17172                                 M   
17173 00002FC6 D625                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17174                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17175 00002FC8 6559                   M           SWAP.W  R5,R5                           ;
17176                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   197
PROGRAM NAME =

17177 00002FCA 2651                   M           MOV.W   R5,@R6
17178 00002FCC 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17179 00002FCE 6559                   M           SWAP.W  R5,R5                           ;
17180                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17181                                 M           PUSH_REG1 R0
17182 00002FD0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17183                                 M                                           ;REG=>[SP]
17184                                 M                                           ;"-4" FF,FF,FF,FC
17185 00002FD2 D023                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17186 00002FD4 6001                   M           MOV.W   @R0,R0
17187                                 M           POP_REG1 R0
17188                                 M                                   ; RE"+4" 00,00,00,04
17189 00002FD6 60F6                   M           MOV.L   @R15+,R0        ;
17190 00002FD8 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17191                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17192                                 M           PUSH_REG1 R0
17193 00002FDA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17194                                 M                                           ;REG=>[SP]
17195                                 M                                           ;"-4" FF,FF,FF,FC
17196 00002FDC D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17197 00002FDE 6001                   M           MOV.W   @R0,R0
17198                                 M           POP_REG1 R0
17199                                 M                                   ; RE"+4" 00,00,00,04
17200 00002FE0 60F6                   M           MOV.L   @R15+,R0        ;
17201                            5208     
17202                            5209     ;(DE LATCHしない)       FAR_JSR #_LOAD_REST_PLS,R0                              ;
17203                            5210             POS_LSI_WORD_DUM_LOD                                                    ;
17204                                 M           PUSH_REG1 R0
17205 00002FE2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17206                                 M                                           ;REG=>[SP]
17207                                 M                                           ;"-4" FF,FF,FF,FC
17208 00002FE4 D01E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17209 00002FE6 6001                   M           MOV.W   @R0,R0
17210                                 M           POP_REG1 R0
17211                                 M                                   ; RE"+4" 00,00,00,04
17212 00002FE8 60F6                   M           MOV.L   @R15+,R0        ;
17213                            5211             POSLSI_RD_WR_WAIT_NOP                                                   ;
17214 00002FEA 0009                   M           NOP
17215 00002FEC 0009                   M           NOP
17216 00002FEE 0009                   M           NOP
17217 00002FF0 0009                   M           NOP
17218 00002FF2 0009                   M           NOP
17219 00002FF4 0009                   M           NOP
17220 00002FF6 0009                   M           NOP
17221 00002FF8 0009                   M           NOP
17222 00002FFA 0009                   M           NOP
17223 00002FFC 0009                   M           NOP
17224                            5212     
17225 00002FFE D119              5213             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                        ;R/W 指令ﾊ
                                          ﾟﾙｽ数
17226 00003000 6015              5214             MOV.W   @R1+,R0                                                         ;
17227                            5215             POS_LSI_WORD_DUM_LOD                                                    ;
17228                                 M           PUSH_REG1 R0
17229 00003002 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17230                                 M                                           ;REG=>[SP]
17231                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   198
PROGRAM NAME =

17232 00003004 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17233 00003006 6001                   M           MOV.W   @R0,R0
17234                                 M           POP_REG1 R0
17235                                 M                                   ; RE"+4" 00,00,00,04
17236 00003008 60F6                   M           MOV.L   @R15+,R0        ;
17237 0000300A 6011              5216             MOV.W   @R1,R0                                                          ;
17238                            5217             POS_LSI_WORD_DUM_LOD                                                    ;
17239                                 M           PUSH_REG1 R0
17240 0000300C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17241                                 M                                           ;REG=>[SP]
17242                                 M                                           ;"-4" FF,FF,FF,FC
17243 0000300E D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17244 00003010 6001                   M           MOV.W   @R0,R0
17245                                 M           POP_REG1 R0
17246                                 M                                   ; RE"+4" 00,00,00,04
17247 00003012 60F6                   M           MOV.L   @R15+,R0        ;
17248                            5218     
17249 00003014 D414              5219             MOV.L   #~(BIT12*H'10000),R4                                            ;
17250                            5220             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17251 00003016 D610                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17252 00003018 6562                   M           MOV.L   @R6,R5                                          ;
17253 0000301A 2549                   M           AND     R4,R5                                           ;
17254 0000301C 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17255                                 M   
17256 0000301E D60F                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17257                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17258 00003020 6559                   M           SWAP.W  R5,R5                           ;
17259                                 M   
17260 00003022 2651                   M           MOV.W   R5,@R6
17261 00003024 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17262 00003026 6559                   M           SWAP.W  R5,R5                           ;
17263                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17264                                 M           PUSH_REG1 R0
17265 00003028 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17266                                 M                                           ;REG=>[SP]
17267                                 M                                           ;"-4" FF,FF,FF,FC
17268 0000302A D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17269 0000302C 6001                   M           MOV.W   @R0,R0
17270                                 M           POP_REG1 R0
17271                                 M                                   ; RE"+4" 00,00,00,04
17272 0000302E 60F6                   M           MOV.L   @R15+,R0        ;
17273 00003030 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17274                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17275                                 M           PUSH_REG1 R0
17276 00003032 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17277                                 M                                           ;REG=>[SP]
17278                                 M                                           ;"-4" FF,FF,FF,FC
17279 00003034 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17280 00003036 6001                   M           MOV.W   @R0,R0
17281                                 M           POP_REG1 R0
17282                                 M                                   ; RE"+4" 00,00,00,04
17283 00003038 60F6                   M           MOV.L   @R15+,R0        ;
17284                            5221             FAR_JSR #_LOAD_REST_PLS,R0
17285 0000303A D005                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17286 0000303C 400B                   M           JSR     @R0                     ;
17287 0000303E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   199
PROGRAM NAME =

17288                            5222     
17289 00003040 2008              5223             TST     R0,R0                                   ;払出ﾊﾟﾙｽｸﾘｱ完了
17290                            5224             TST_BIT_ON OutputPLS_REGCLR_100                 ;
17291 00003042 8B13                   M           BF      OutputPLS_REGCLR_100
17292                            5225             M_BRA   OutputPLS_REGCLR_END                    ;
17293 00003044 A056                   M           BRA     OutputPLS_REGCLR_END
17294 00003046 0009                   M           NOP
17295                                     ***** BEGIN-POOL *****
17296 00003048 00000000                   DATA FOR SOURCE-LINE 5198
17297 0000304C 00000000                   DATA FOR SOURCE-LINE 5201
17298 00003050 00000000                   DATA FOR SOURCE-LINE 5205,5221
17299 00003054 10000000                   DATA FOR SOURCE-LINE 5206
17300 00003058 00000000                   DATA FOR SOURCE-LINE 5207,5220
17301 0000305C 00000000                   DATA FOR SOURCE-LINE 5207,5220
17302 00003060 00000000                   DATA FOR SOURCE-LINE 5207,5207,5210,5215,5217,5220,5220
17303 00003064 00000000                   DATA FOR SOURCE-LINE 5213
17304 00003068 EFFFFFFF                   DATA FOR SOURCE-LINE 5219
17305                                     ***** END-POOL *****
17306 0000306C                   5226     OutputPLS_REGCLR_100:
17307                            5227     
17308                            5228     ;       ==== ﾘｾｯﾄｺﾏﾝﾄﾞによるﾘｾｯﾄ失敗=====
17309                            5229             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17310 0000306C D111                   M           MOV.L   #_LSI_PLSCLR_NG_CNT1,R1         ;
17311 0000306E 6012                   M           MOV.L   @R1,R0  ;
17312 00003070 7001                   M           ADD     #1,R0           ;
17313 00003072 2102                   M           MOV.L   R0,@R1  ;
17314                            5230     
17315                            5231             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17316 00003074 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17317 00003076 400B                   M           JSR     @R0                     ;
17318 00003078 0009                   M           NOP                                     ;
17319 0000307A 600B              5232             NEG     R0,R0                                                   ;
17320                            5233             POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R0   ;
17321                                 M           PUSH_REG1 R1
17322 0000307C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17323                                 M                                           ;REG=>[SP]
17324                                 M                                           ;"-4" FF,FF,FF,FC
17325                                 M           PUSH_REG1 R0
17326 0000307E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17327                                 M                                           ;REG=>[SP]
17328                                 M                                           ;"-4" FF,FF,FF,FC
17329                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17330                                 M           PUSH_REG1 R0
17331 00003080 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17332                                 M                                           ;REG=>[SP]
17333                                 M                                           ;"-4" FF,FF,FF,FC
17334 00003082 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17335 00003084 6001                   M           MOV.W   @R0,R0
17336                                 M           POP_REG1 R0
17337                                 M                                   ; RE"+4" 00,00,00,04
17338 00003086 60F6                   M           MOV.L   @R15+,R0        ;
17339 00003088 D10D                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
17340 0000308A 2101                   M           MOV.W   R0,@R1                          ;(LOW)
17341 0000308C 7102                   M           ADD     #2,R1                                   ;
17342 0000308E 6009                   M           SWAP.W  R0,R0                           ;
17343                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17344                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   200
PROGRAM NAME =

17345 00003090 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17346                                 M                                           ;REG=>[SP]
17347                                 M                                           ;"-4" FF,FF,FF,FC
17348 00003092 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17349 00003094 6001                   M           MOV.W   @R0,R0
17350                                 M           POP_REG1 R0
17351                                 M                                   ; RE"+4" 00,00,00,04
17352 00003096 60F6                   M           MOV.L   @R15+,R0        ;
17353 00003098 2101                   M           MOV.W   R0,@R1                          ;(HIGH)
17354                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17355                                 M           PUSH_REG1 R0
17356 0000309A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17357                                 M                                           ;REG=>[SP]
17358                                 M                                           ;"-4" FF,FF,FF,FC
17359 0000309C D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17360 0000309E 6001                   M           MOV.W   @R0,R0
17361                                 M           POP_REG1 R0
17362                                 M                                   ; RE"+4" 00,00,00,04
17363 000030A0 60F6                   M           MOV.L   @R15+,R0        ;
17364                                 M           POP_REG1 R0
17365                                 M                                   ; RE"+4" 00,00,00,04
17366 000030A2 60F6                   M           MOV.L   @R15+,R0        ;
17367                                 M           POP_REG1 R1
17368                                 M                                   ; RE"+4" 00,00,00,04
17369 000030A4 61F6                   M           MOV.L   @R15+,R1        ;
17370                            5234     
17371                            5235             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17372 000030A6 D004                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17373 000030A8 400B                   M           JSR     @R0                     ;
17374 000030AA 0009                   M           NOP                                     ;
17375 000030AC 2008              5236             TST     R0,R0                                                   ;
17376                            5237             TST_BIT_ON OutputPLS_REGCLR_150                                 ;
17377 000030AE 8B09                   M           BF      OutputPLS_REGCLR_150
17378                            5238             M_BRA   OutputPLS_REGCLR_END                                    ;
17379 000030B0 A020                   M           BRA     OutputPLS_REGCLR_END
17380 000030B2 0009                   M           NOP
17381                            5239     
17382                                     ***** BEGIN-POOL *****
17383 000030B4 00000000                   DATA FOR SOURCE-LINE 5229
17384 000030B8 00000000                   DATA FOR SOURCE-LINE 5231,5235
17385 000030BC 00000000                   DATA FOR SOURCE-LINE 5233,5233,5233
17386 000030C0 00000000                   DATA FOR SOURCE-LINE 5233
17387                                     ***** END-POOL *****
17388 000030C4                   5240     OutputPLS_REGCLR_150:
17389                            5241             TIM_CNT_ADD MEM=_LSI_PLSCLR_RETRY_CNT1,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17390 000030C4 D107                   M           MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;
17391 000030C6 6011                   M           MOV.W   @R1,R0  ;
17392 000030C8 7001                   M           ADD     #1,R0           ;
17393 000030CA 2101                   M           MOV.W   R0,@R1  ;
17394 000030CC D105              5242             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1
                                          ;
17395 000030CE 6011              5243             MOV.W   @R1,R0
                                          ;
17396 000030D0 9107              5244             MOV.W   #_LSI_RETRY_ERR_MAX,R1
                                          ;
17397 000030D2 3016              5245             CMP/HI  R1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   201
PROGRAM NAME =

                                          ;10=< R0
17398 000030D4 890A              5246             BT      OutputPLS_REGCLR_ERR
                                          ;
17399                            5247             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17400 000030D6 D104                   M           MOV.L   #_LSI_PLSCLR_NG_CNT2,R1         ;
17401 000030D8 6012                   M           MOV.L   @R1,R0  ;
17402 000030DA 7001                   M           ADD     #1,R0           ;
17403 000030DC 2102                   M           MOV.L   R0,@R1  ;
17404                            5248             M_BRA   OutputPLS_REGCLR_LOP
                                          ;
17405 000030DE AF6A                   M           BRA     OutputPLS_REGCLR_LOP
17406 000030E0 0009                   M           NOP
17407                            5249     
17408                                     ***** BEGIN-POOL *****
17409 000030E2 0003                       DATA FOR SOURCE-LINE 5244
17410 000030E4 00000000                   DATA FOR SOURCE-LINE 5241,5242
17411 000030E8 00000000                   DATA FOR SOURCE-LINE 5247
17412                                     ***** END-POOL *****
17413 000030EC                   5250     OutputPLS_REGCLR_ERR:
17414                            5251     ;       == 異常ﾌﾗｸﾞ==
17415                            5252             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT1+BIT0),WKREG=R1
                                          ;
17416 000030EC D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
17417 000030EE 6011                   M           MOV.W   @R1,R0          ;
17418 000030F0 CB03                   M           OR      #(BIT1+BIT0),R0         ;
17419 000030F2 2101                   M           MOV.W   R0,@R1          ;
17420                            5253     
17421 000030F4                   5254     OutputPLS_REGCLR_END:
17422                            5255             POP_ALL
17423                                 M           .AIF    2 EQ 3
17424                                             .AELSE
17425                                 C           POP_FPU_ALL             ;2001-07-08
17426                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
17427 000030F4 F4F9                   M           FMOV.S  @R15+,FR4
17428                                 M                   POP_FPU_REG1 FR3        ;
17429 000030F6 F3F9                   M           FMOV.S  @R15+,FR3
17430                                 M                   POP_FPU_REG1 FR2        ;
17431 000030F8 F2F9                   M           FMOV.S  @R15+,FR2
17432                                 M                   POP_FPU_REG1 FR1        ;
17433 000030FA F1F9                   M           FMOV.S  @R15+,FR1
17434                                 M                   POP_FPU_REG1 FR0        ;
17435 000030FC F0F9                   M           FMOV.S  @R15+,FR0
17436                                 M                   POP_SYS_FPU             ;
17437 000030FE 4F66                   M           LDS.L   @R15+,FPSCR
17438 00003100 4F56                   M           LDS.L   @R15+,FPUL
17439                                 M           .AENDI
17440                                 M           POP_SYS_REG     GBR     ;
17441 00003102 4F17                   M           LDC.L   @R15+,GBR
17442                                 M           POP_MACHL               ;
17443 00003104 4F16                   M           LDS.L   @R15+,MACL
17444 00003106 4F06                   M           LDS.L   @R15+,MACH
17445                                 M           POP_REG1        R14     ;
17446                                 M                                   ; RE"+4" 00,00,00,04
17447 00003108 6EF6                   M           MOV.L   @R15+,R14        ;
17448                                 M           POP_REG1        R13     ;
17449                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   202
PROGRAM NAME =

17450 0000310A 6DF6                   M           MOV.L   @R15+,R13        ;
17451                                 M           POP_REG1        R12     ;
17452                                 M                                   ; RE"+4" 00,00,00,04
17453 0000310C 6CF6                   M           MOV.L   @R15+,R12        ;
17454                                 M           POP_REG1        R11     ;
17455                                 M                                   ; RE"+4" 00,00,00,04
17456 0000310E 6BF6                   M           MOV.L   @R15+,R11        ;
17457                                 M           POP_REG1        R10     ;
17458                                 M                                   ; RE"+4" 00,00,00,04
17459 00003110 6AF6                   M           MOV.L   @R15+,R10        ;
17460                                 M           POP_REG1        R9      ;
17461                                 M                                   ; RE"+4" 00,00,00,04
17462 00003112 69F6                   M           MOV.L   @R15+,R9        ;
17463                                 M           POP_REG1        R8      ;
17464                                 M                                   ; RE"+4" 00,00,00,04
17465 00003114 68F6                   M           MOV.L   @R15+,R8        ;
17466                                 M           POP_REG1        R7      ;
17467                                 M                                   ; RE"+4" 00,00,00,04
17468 00003116 67F6                   M           MOV.L   @R15+,R7        ;
17469                                 M           POP_REG1        R6      ;
17470                                 M                                   ; RE"+4" 00,00,00,04
17471 00003118 66F6                   M           MOV.L   @R15+,R6        ;
17472                                 M           POP_REG1        R5      ;
17473                                 M                                   ; RE"+4" 00,00,00,04
17474 0000311A 65F6                   M           MOV.L   @R15+,R5        ;
17475                                 M           POP_REG1        R4      ;
17476                                 M                                   ; RE"+4" 00,00,00,04
17477 0000311C 64F6                   M           MOV.L   @R15+,R4        ;
17478                                 M           POP_REG1        R3      ;
17479                                 M                                   ; RE"+4" 00,00,00,04
17480 0000311E 63F6                   M           MOV.L   @R15+,R3        ;
17481                                 M           POP_REG1        R2      ;
17482                                 M                                   ; RE"+4" 00,00,00,04
17483 00003120 62F6                   M           MOV.L   @R15+,R2        ;
17484                                 M           POP_REG1        R1      ;
17485                                 M                                   ; RE"+4" 00,00,00,04
17486 00003122 61F6                   M           MOV.L   @R15+,R1        ;
17487                                 M           POP_REG1        R0      ;
17488                                 M                                   ; RE"+4" 00,00,00,04
17489 00003124 60F6                   M           MOV.L   @R15+,R0        ;
17490                            5256             SUB_END
17491                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17492 00003126 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17493                            5257             M_RTS
17494 00003128 000B                   M           RTS                             ;RTSの後ろの
17495 0000312A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17496                            5258     
17497                            5259     ;       ***********************************
17498                            5260     ;       ***                             ***
17499                            5261     ;       ***     急停止                  ***
17500                            5262     ;       ***                             ***
17501                            5263     ;       ***********************************
17502                                     ***** BEGIN-POOL *****
17503 0000312C 00000000                   DATA FOR SOURCE-LINE 5252
17504                                     ***** END-POOL *****
17505 00003130                   5264             .ALIGN  4                               ;
17506 00003130                   5265     _POS_LSI_EMG_STOP                       ;急停止
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   203
PROGRAM NAME =

17507                            5266             SUB_START
17508 00003130 4F22                   M           STS.L   PR,@-R15                ;[必要]
17509                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17510                            5267     
17511                            5268             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17512 00003132 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17513 00003134 400B                   M           JSR     @R0                     ;
17514 00003136 0009                   M           NOP                                     ;
17515                            5269     
17516                            5270             FAR_JSR #_LOD_POS_STS_REG,R0
17517 00003138 D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17518 0000313A 400B                   M           JSR     @R0                     ;
17519 0000313C 0009                   M           NOP                                     ;
17520 0000313E C804              5271             TST     #BIT2,R0                ;
17521                            5272             TST_BIT_ON POS_LSI_EMGSTOP_END
17522 00003140 8B05                   M           BF      POS_LSI_EMGSTOP_END
17523                            5273     
17524                            5274             .AIF    1 EQ 1          ;2006-09-19
17525                            5275 C           FAR_JSR #_SPD_CTL_EMG_STOP,R0                           ;
17526 00003142 D006                   M           MOV.L   #_SPD_CTL_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17527 00003144 400B                   M           JSR     @R0                     ;
17528 00003146 0009                   M           NOP                                     ;
17529                            5276 C           FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
17530 00003148 D005                   M           MOV.L   #_POS_LSI_EMG_STOP_CMD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17531 0000314A 400B                   M           JSR     @R0                     ;
17532 0000314C 0009                   M           NOP                                     ;
17533                            5277 C   
17534                            5278             .AELSE
17535                            5279             FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
17536                            5280             .AENDI
17537                            5281     
17538 0000314E                   5282     POS_LSI_EMGSTOP_END:
17539                            5283     
17540                            5284             SUB_END
17541                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17542 0000314E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17543                            5285             M_RTS
17544 00003150 000B                   M           RTS                             ;RTSの後ろの
17545 00003152 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17546                            5286     ;       ***********************************
17547                            5287     ;       ***                             ***
17548                            5288     ;       ***     減速停止                ***
17549                            5289     ;       ***                             ***
17550                            5290     ;       ***********************************
17551                                     ***** BEGIN-POOL *****
17552 00003154 00000000                   DATA FOR SOURCE-LINE 5268
17553 00003158 00000000                   DATA FOR SOURCE-LINE 5270
17554 0000315C 00000000                   DATA FOR SOURCE-LINE 5275
17555 00003160 00000000                   DATA FOR SOURCE-LINE 5276
17556                                     ***** END-POOL *****
17557 00003164                   5291             .ALIGN  4                               ;
17558 00003164                   5292     _POS_LSI_SLOW_STOP                      ;急停止
17559                            5293             SUB_START
17560 00003164 4F22                   M           STS.L   PR,@-R15                ;[必要]
17561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17562                            5294     
17563                            5295             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   204
PROGRAM NAME =

17564 00003166 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17565 00003168 400B                   M           JSR     @R0                     ;
17566 0000316A 0009                   M           NOP                                     ;
17567                            5296     
17568                            5297             FAR_JSR #_LOD_POS_STS_REG,R0
17569 0000316C D006                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17570 0000316E 400B                   M           JSR     @R0                     ;
17571 00003170 0009                   M           NOP                                     ;
17572 00003172 C804              5298             TST     #BIT2,R0                        ;
17573                            5299             TST_BIT_ON POS_LSI_SLWSTOP_END
17574 00003174 8B02                   M           BF      POS_LSI_SLWSTOP_END
17575                            5300     
17576                            5301             .AIF    1 EQ 1          ;2006-09-19
17577                            5302 C           FAR_JSR #_SPD_CTL_SLOW_STOP,R0          ;
17578 00003176 D005                   M           MOV.L   #_SPD_CTL_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17579 00003178 400B                   M           JSR     @R0                     ;
17580 0000317A 0009                   M           NOP                                     ;
17581                            5303             .AELSE
17582                            5304             FAR_JSR #_POS_LSI_SLOW_STOP_CMD,R0      ;
17583                            5305             .AENDI
17584                            5306     
17585                            5307     
17586 0000317C                   5308     POS_LSI_SLWSTOP_END:
17587                            5309     
17588                            5310             SUB_END
17589                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17590 0000317C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17591                            5311             M_RTS
17592 0000317E 000B                   M           RTS                             ;RTSの後ろの
17593 00003180 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17594                            5312     
17595                            5313     ;       ---------------------------------------------------
17596                            5314     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
17597                            5315     ;       ---     EMG                                     ---
17598                            5316     ;       ---------------------------------------------------
17599                                     ***** BEGIN-POOL *****
17600 00003182 0000                       ALIGNMENT CODE
17601 00003184 00000000                   DATA FOR SOURCE-LINE 5295
17602 00003188 00000000                   DATA FOR SOURCE-LINE 5297
17603 0000318C 00000000                   DATA FOR SOURCE-LINE 5302
17604                                     ***** END-POOL *****
17605 00003190                   5317             .ALIGN  4                               ;
17606 00003190                   5318     _POS_LSI_EMG_STOP_CMD:
17607                            5319             SUB_START
17608 00003190 4F22                   M           STS.L   PR,@-R15                ;[必要]
17609                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17610 00003192 D417              5320             MOV.L   #(BIT11*H'10000),R4                                     ;
17611                            5321             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17612 00003194 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17613 00003196 6562                   M           MOV.L   @R6,R5                                          ;
17614 00003198 254B                   M           OR      R4,R5                                           ;
17615 0000319A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17616                                 M   
17617 0000319C D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17618                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17619 0000319E 6559                   M           SWAP.W  R5,R5                           ;
17620                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   205
PROGRAM NAME =

17621 000031A0 2651                   M           MOV.W   R5,@R6
17622 000031A2 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17623 000031A4 6559                   M           SWAP.W  R5,R5                           ;
17624                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17625                                 M           PUSH_REG1 R0
17626 000031A6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17627                                 M                                           ;REG=>[SP]
17628                                 M                                           ;"-4" FF,FF,FF,FC
17629 000031A8 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17630 000031AA 6001                   M           MOV.W   @R0,R0
17631                                 M           POP_REG1 R0
17632                                 M                                   ; RE"+4" 00,00,00,04
17633 000031AC 60F6                   M           MOV.L   @R15+,R0        ;
17634 000031AE 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17635                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17636                                 M           PUSH_REG1 R0
17637 000031B0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17638                                 M                                           ;REG=>[SP]
17639                                 M                                           ;"-4" FF,FF,FF,FC
17640 000031B2 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17641 000031B4 6001                   M           MOV.W   @R0,R0
17642                                 M           POP_REG1 R0
17643                                 M                                   ; RE"+4" 00,00,00,04
17644 000031B6 60F6                   M           MOV.L   @R15+,R0        ;
17645 000031B8 0009              5322             NOP
17646                            5323             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
17647 000031BA D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17648 000031BC 400B                   M           JSR     @R0                     ;
17649 000031BE 0009                   M           NOP                                     ;
17650 000031C0 0009              5324             NOP
17651 000031C2 D410              5325             MOV.L   #~(BIT11*H'10000),R4            ;
17652                            5326             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17653 000031C4 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17654 000031C6 6562                   M           MOV.L   @R6,R5                                          ;
17655 000031C8 2549                   M           AND     R4,R5                                           ;
17656 000031CA 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17657                                 M   
17658 000031CC D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17659                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17660 000031CE 6559                   M           SWAP.W  R5,R5                           ;
17661                                 M   
17662 000031D0 2651                   M           MOV.W   R5,@R6
17663 000031D2 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17664 000031D4 6559                   M           SWAP.W  R5,R5                           ;
17665                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17666                                 M           PUSH_REG1 R0
17667 000031D6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17668                                 M                                           ;REG=>[SP]
17669                                 M                                           ;"-4" FF,FF,FF,FC
17670 000031D8 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17671 000031DA 6001                   M           MOV.W   @R0,R0
17672                                 M           POP_REG1 R0
17673                                 M                                   ; RE"+4" 00,00,00,04
17674 000031DC 60F6                   M           MOV.L   @R15+,R0        ;
17675 000031DE 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   206
PROGRAM NAME =

17676                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17677                                 M           PUSH_REG1 R0
17678 000031E0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17679                                 M                                           ;REG=>[SP]
17680                                 M                                           ;"-4" FF,FF,FF,FC
17681 000031E2 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17682 000031E4 6001                   M           MOV.W   @R0,R0
17683                                 M           POP_REG1 R0
17684                                 M                                   ; RE"+4" 00,00,00,04
17685 000031E6 60F6                   M           MOV.L   @R15+,R0        ;
17686                            5327             SUB_END
17687                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17688 000031E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17689                            5328             M_RTS
17690 000031EA 000B                   M           RTS                             ;RTSの後ろの
17691 000031EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17692                            5329     
17693                            5330     ;       ---------------------------------------------------
17694                            5331     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
17695                            5332     ;       ---     SLOW                                    ---
17696                            5333     ;       ---------------------------------------------------
17697                                     ***** BEGIN-POOL *****
17698 000031EE 0000                       ALIGNMENT CODE
17699 000031F0 08000000                   DATA FOR SOURCE-LINE 5320
17700 000031F4 00000000                   DATA FOR SOURCE-LINE 5321,5326
17701 000031F8 00000000                   DATA FOR SOURCE-LINE 5321,5326
17702 000031FC 00000000                   DATA FOR SOURCE-LINE 5321,5321,5326,5326
17703 00003200 00000000                   DATA FOR SOURCE-LINE 5323
17704 00003204 F7FFFFFF                   DATA FOR SOURCE-LINE 5325
17705                                     ***** END-POOL *****
17706 00003208                   5334             .ALIGN  4                               ;
17707 00003208                   5335     _POS_LSI_SLOW_STOP_CMD
17708                            5336             SUB_START
17709 00003208 4F22                   M           STS.L   PR,@-R15                ;[必要]
17710                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17711 0000320A D417              5337             MOV.L   #(BIT10*H'10000),R4             ;
17712                            5338             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17713 0000320C D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17714 0000320E 6562                   M           MOV.L   @R6,R5                                          ;
17715 00003210 254B                   M           OR      R4,R5                                           ;
17716 00003212 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17717                                 M   
17718 00003214 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17719                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17720 00003216 6559                   M           SWAP.W  R5,R5                           ;
17721                                 M   
17722 00003218 2651                   M           MOV.W   R5,@R6
17723 0000321A 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17724 0000321C 6559                   M           SWAP.W  R5,R5                           ;
17725                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17726                                 M           PUSH_REG1 R0
17727 0000321E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17728                                 M                                           ;REG=>[SP]
17729                                 M                                           ;"-4" FF,FF,FF,FC
17730 00003220 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17731 00003222 6001                   M           MOV.W   @R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   207
PROGRAM NAME =

17732                                 M           POP_REG1 R0
17733                                 M                                   ; RE"+4" 00,00,00,04
17734 00003224 60F6                   M           MOV.L   @R15+,R0        ;
17735 00003226 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17736                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17737                                 M           PUSH_REG1 R0
17738 00003228 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17739                                 M                                           ;REG=>[SP]
17740                                 M                                           ;"-4" FF,FF,FF,FC
17741 0000322A D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17742 0000322C 6001                   M           MOV.W   @R0,R0
17743                                 M           POP_REG1 R0
17744                                 M                                   ; RE"+4" 00,00,00,04
17745 0000322E 60F6                   M           MOV.L   @R15+,R0        ;
17746 00003230 0009              5339             NOP
17747                            5340             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
17748 00003232 D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17749 00003234 400B                   M           JSR     @R0                     ;
17750 00003236 0009                   M           NOP                                     ;
17751 00003238 0009              5341             NOP
17752 0000323A D410              5342             MOV.L   #~(BIT10*H'10000),R4            ;
17753                            5343             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17754 0000323C D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17755 0000323E 6562                   M           MOV.L   @R6,R5                                          ;
17756 00003240 2549                   M           AND     R4,R5                                           ;
17757 00003242 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17758                                 M   
17759 00003244 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17760                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17761 00003246 6559                   M           SWAP.W  R5,R5                           ;
17762                                 M   
17763 00003248 2651                   M           MOV.W   R5,@R6
17764 0000324A 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17765 0000324C 6559                   M           SWAP.W  R5,R5                           ;
17766                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17767                                 M           PUSH_REG1 R0
17768 0000324E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17769                                 M                                           ;REG=>[SP]
17770                                 M                                           ;"-4" FF,FF,FF,FC
17771 00003250 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17772 00003252 6001                   M           MOV.W   @R0,R0
17773                                 M           POP_REG1 R0
17774                                 M                                   ; RE"+4" 00,00,00,04
17775 00003254 60F6                   M           MOV.L   @R15+,R0        ;
17776 00003256 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17777                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17778                                 M           PUSH_REG1 R0
17779 00003258 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17780                                 M                                           ;REG=>[SP]
17781                                 M                                           ;"-4" FF,FF,FF,FC
17782 0000325A D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17783 0000325C 6001                   M           MOV.W   @R0,R0
17784                                 M           POP_REG1 R0
17785                                 M                                   ; RE"+4" 00,00,00,04
17786 0000325E 60F6                   M           MOV.L   @R15+,R0        ;
17787                            5344     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   208
PROGRAM NAME =

17788                            5345             SUB_END
17789                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17790 00003260 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17791                            5346             M_RTS
17792 00003262 000B                   M           RTS                             ;RTSの後ろの
17793 00003264 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17794                            5347     
17795                            5348     ;       ***********************************
17796                            5349     ;       ***                             ***
17797                            5350     ;       ***     速度変更有効            ***
17798                            5351     ;       ***                             ***
17799                            5352     ;       ***********************************
17800                            5353     
17801                            5354     
17802                            5355     ;       ***********************************
17803                            5356     ;       ***                             ***
17804                            5357     ;       ***     起動                    ***
17805                            5358     ;       ***                             ***
17806                            5359     ;       ***********************************
17807                            5360     
17808                                     ***** BEGIN-POOL *****
17809 00003266 0000                       ALIGNMENT CODE
17810 00003268 04000000                   DATA FOR SOURCE-LINE 5337
17811 0000326C 00000000                   DATA FOR SOURCE-LINE 5338,5343
17812 00003270 00000000                   DATA FOR SOURCE-LINE 5338,5343
17813 00003274 00000000                   DATA FOR SOURCE-LINE 5338,5338,5343,5343
17814 00003278 00000000                   DATA FOR SOURCE-LINE 5340
17815 0000327C FBFFFFFF                   DATA FOR SOURCE-LINE 5342
17816                                     ***** END-POOL *****
17817 00003280                   5361             .ALIGN  4                               ;
17818 00003280                   5362     _FWD_REV_START:
17819                            5363             SUB_START
17820 00003280 4F22                   M           STS.L   PR,@-R15                ;[必要]
17821                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17822                            5364             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17823 00003282 D025                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17824 00003284 400B                   M           JSR     @R0                     ;
17825 00003286 0009                   M           NOP                                     ;
17826                            5365     
17827 00003288 D124              5366             MOV.L   #_POSLSI_DRIV_SHIN,R1
17828 0000328A 6011              5367             MOV.W   @R1,R0                                          ;
17829 0000328C D324              5368             MOV.L   #(BIT3*H'10000),R3                              ;
17830 0000328E 244A              5369             XOR     R4,R4                                           ;
17831 00003290 C801              5370             TST     #BIT0,R0                                        ;
17832                            5371             TST_BIT_OF FWD_REV_STR_050                              ;
17833 00003292 8900                   M           BT      FWD_REV_STR_050
17834 00003294 6433              5372             MOV     R3,R4                                           ;
17835 00003296                   5373     FWD_REV_STR_050:                                                ;
17836                            5374     ;       =============================
17837 00003296 D123              5375             MOV.L   #_SVP_MACINE_SEL1,R1                            ;
17838 00003298 6011              5376             MOV.W   @R1,R0                                          ;
17839 0000329A 913B              5377             MOV.W   #D'8765,R1                                      ;
17840 0000329C 3010              5378             CMP/EQ  R1,R0                                           ;
17841 0000329E 8B01              5379             BF      FWD_REV_STR_055                                 ;
17842 000032A0 D01F              5380             MOV.L   #_DBG_XOR_SIG,R0                                ;
17843 000032A2 240A              5381             XOR     R0,R4                                           ;
17844 000032A4                   5382     FWD_REV_STR_055:                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   209
PROGRAM NAME =

17845                            5383     
17846                            5384     ;       ==方向選択==
17847                            5385             POS_LSI_BIT_MOV_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17848 000032A4 D620                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17849 000032A6 6562                   M           MOV.L   @R6,R5                                          ;
17850 000032A8 6337                   M           NOT     R3,R3                                           ;
17851 000032AA 2539                   M           AND     R3,R5                                           ;
17852 000032AC 254B                   M           OR      R4,R5                                           ;
17853 000032AE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17854                                 M   
17855 000032B0 D61E                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17856                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17857 000032B2 6559                   M           SWAP.W  R5,R5                           ;
17858                                 M   
17859 000032B4 2651                   M           MOV.W   R5,@R6
17860 000032B6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17861 000032B8 6559                   M           SWAP.W  R5,R5                           ;
17862                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17863                                 M           PUSH_REG1 R0
17864 000032BA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17865                                 M                                           ;REG=>[SP]
17866                                 M                                           ;"-4" FF,FF,FF,FC
17867 000032BC D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17868 000032BE 6001                   M           MOV.W   @R0,R0
17869                                 M           POP_REG1 R0
17870                                 M                                   ; RE"+4" 00,00,00,04
17871 000032C0 60F6                   M           MOV.L   @R15+,R0        ;
17872 000032C2 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17873                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17874                                 M           PUSH_REG1 R0
17875 000032C4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17876                                 M                                           ;REG=>[SP]
17877                                 M                                           ;"-4" FF,FF,FF,FC
17878 000032C6 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17879 000032C8 6001                   M           MOV.W   @R0,R0
17880                                 M           POP_REG1 R0
17881                                 M                                   ; RE"+4" 00,00,00,04
17882 000032CA 60F6                   M           MOV.L   @R15+,R0        ;
17883                            5386             POS_LSI_WORD_DUM_LOD                                                    ;
17884                                 M           PUSH_REG1 R0
17885 000032CC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17886                                 M                                           ;REG=>[SP]
17887                                 M                                           ;"-4" FF,FF,FF,FC
17888 000032CE D018                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17889 000032D0 6001                   M           MOV.W   @R0,R0
17890                                 M           POP_REG1 R0
17891                                 M                                   ; RE"+4" 00,00,00,04
17892 000032D2 60F6                   M           MOV.L   @R15+,R0        ;
17893                            5387     
17894                            5388     ;       == 起動 ===                                                             ;
17895 000032D4 D417              5389             MOV.L   #(BIT2*H'10000),R4                                              ;
17896                            5390             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;;起動 ONｴ
                                          ｯｼﾞ
17897 000032D6 D614                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17898 000032D8 6562                   M           MOV.L   @R6,R5                                          ;
17899 000032DA 254B                   M           OR      R4,R5                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   210
PROGRAM NAME =

17900 000032DC 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17901                                 M   
17902 000032DE D613                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17903                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17904 000032E0 6559                   M           SWAP.W  R5,R5                           ;
17905                                 M   
17906 000032E2 2651                   M           MOV.W   R5,@R6
17907 000032E4 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17908 000032E6 6559                   M           SWAP.W  R5,R5                           ;
17909                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17910                                 M           PUSH_REG1 R0
17911 000032E8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17912                                 M                                           ;REG=>[SP]
17913                                 M                                           ;"-4" FF,FF,FF,FC
17914 000032EA D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17915 000032EC 6001                   M           MOV.W   @R0,R0
17916                                 M           POP_REG1 R0
17917                                 M                                   ; RE"+4" 00,00,00,04
17918 000032EE 60F6                   M           MOV.L   @R15+,R0        ;
17919 000032F0 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17920                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17921                                 M           PUSH_REG1 R0
17922 000032F2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17923                                 M                                           ;REG=>[SP]
17924                                 M                                           ;"-4" FF,FF,FF,FC
17925 000032F4 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17926 000032F6 6001                   M           MOV.W   @R0,R0
17927                                 M           POP_REG1 R0
17928                                 M                                   ; RE"+4" 00,00,00,04
17929 000032F8 60F6                   M           MOV.L   @R15+,R0        ;
17930                            5391             POS_LSI_WORD_DUM_LOD                                                    ;
17931                                 M           PUSH_REG1 R0
17932 000032FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17933                                 M                                           ;REG=>[SP]
17934                                 M                                           ;"-4" FF,FF,FF,FC
17935 000032FC D00C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17936 000032FE 6001                   M           MOV.W   @R0,R0
17937                                 M           POP_REG1 R0
17938                                 M                                   ; RE"+4" 00,00,00,04
17939 00003300 60F6                   M           MOV.L   @R15+,R0        ;
17940                            5392     
17941                            5393             FAR_JSR #_SPD_CTL_START,R0
17942 00003302 D00D                   M           MOV.L   #_SPD_CTL_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17943 00003304 400B                   M           JSR     @R0                     ;
17944 00003306 0009                   M           NOP                                     ;
17945                            5394     
17946                            5395     
17947                            5396             .AIF    0 EQ    0
17948                            5397 C   
17949                            5398 C           FAR_JSR #_VIB_PLS_OUT_ON,R0     ;2010-08-23加振動制御
17950 00003308 D00C                   M           MOV.L   #_VIB_PLS_OUT_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17951 0000330A 400B                   M           JSR     @R0                     ;
17952 0000330C 0009                   M           NOP                                     ;
17953                            5399             .AENDI
17954                            5400     
17955                            5401     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   211
PROGRAM NAME =

17956                            5402     
17957                            5403     
17958                            5404             SUB_END
17959                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17960 0000330E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17961                            5405             M_RTS
17962 00003310 000B                   M           RTS                             ;RTSの後ろの
17963 00003312 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17964                            5406     
17965                            5407     ;       ==== 起動信号OFF ====
17966                                     ***** BEGIN-POOL *****
17967 00003314 223D                       DATA FOR SOURCE-LINE 5377
17968 00003316 0000                       ALIGNMENT CODE
17969 00003318 00000000                   DATA FOR SOURCE-LINE 5364
17970 0000331C 00000000                   DATA FOR SOURCE-LINE 5366
17971 00003320 00080000                   DATA FOR SOURCE-LINE 5368,5380
17972 00003324 00000000                   DATA FOR SOURCE-LINE 5375
17973 00003328 00000000                   DATA FOR SOURCE-LINE 5385,5390
17974 0000332C 00000000                   DATA FOR SOURCE-LINE 5385,5390
17975 00003330 00000000                   DATA FOR SOURCE-LINE 5385,5385,5386,5390,5390,5391
17976 00003334 00040000                   DATA FOR SOURCE-LINE 5389
17977 00003338 00000000                   DATA FOR SOURCE-LINE 5393
17978 0000333C 00000000                   DATA FOR SOURCE-LINE 5398
17979                                     ***** END-POOL *****
17980 00003340                   5408             .ALIGN  4                               ;
17981 00003340                   5409     _FWD_REV_STSIG_OFF:
17982                            5410             SUB_START
17983 00003340 4F22                   M           STS.L   PR,@-R15                ;[必要]
17984                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17985 00003342 D40B              5411             MOV.L   #~(BIT2*H'10000),R4             ;
17986                            5412             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17987 00003344 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17988 00003346 6562                   M           MOV.L   @R6,R5                                          ;
17989 00003348 2549                   M           AND     R4,R5                                           ;
17990 0000334A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17991                                 M   
17992 0000334C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17993                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17994 0000334E 6559                   M           SWAP.W  R5,R5                           ;
17995                                 M   
17996 00003350 2651                   M           MOV.W   R5,@R6
17997 00003352 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17998 00003354 6559                   M           SWAP.W  R5,R5                           ;
17999                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18000                                 M           PUSH_REG1 R0
18001 00003356 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18002                                 M                                           ;REG=>[SP]
18003                                 M                                           ;"-4" FF,FF,FF,FC
18004 00003358 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18005 0000335A 6001                   M           MOV.W   @R0,R0
18006                                 M           POP_REG1 R0
18007                                 M                                   ; RE"+4" 00,00,00,04
18008 0000335C 60F6                   M           MOV.L   @R15+,R0        ;
18009 0000335E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18010                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18011                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   212
PROGRAM NAME =

18012 00003360 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18013                                 M                                           ;REG=>[SP]
18014                                 M                                           ;"-4" FF,FF,FF,FC
18015 00003362 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18016 00003364 6001                   M           MOV.W   @R0,R0
18017                                 M           POP_REG1 R0
18018                                 M                                   ; RE"+4" 00,00,00,04
18019 00003366 60F6                   M           MOV.L   @R15+,R0        ;
18020                            5413             SUB_END
18021                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18022 00003368 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18023                            5414             M_RTS
18024 0000336A 000B                   M           RTS                             ;RTSの後ろの
18025 0000336C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18026                            5415     
18027                            5416     ;       =====================
18028                            5417     ;       ==== 起動信号OFF ====
18029                            5418     ;       =====================
18030                            5419     ;       残ﾊﾟﾙｽがなくなってから指令OFF
18031                                     ***** BEGIN-POOL *****
18032 0000336E 0000                       ALIGNMENT CODE
18033 00003370 FFFBFFFF                   DATA FOR SOURCE-LINE 5411
18034 00003374 00000000                   DATA FOR SOURCE-LINE 5412
18035 00003378 00000000                   DATA FOR SOURCE-LINE 5412
18036 0000337C 00000000                   DATA FOR SOURCE-LINE 5412,5412
18037                                     ***** END-POOL *****
18038 00003380                   5420             .ALIGN  4                               ;
18039 00003380                   5421     _FWD_REV_STSIG_OFF_SPEC:
18040                            5422             SUB_START
18041 00003380 4F22                   M           STS.L   PR,@-R15                ;[必要]
18042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18043                            5423             PUSH_REG1 R0
18044 00003382 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18045                                 M                                           ;REG=>[SP]
18046                                 M                                           ;"-4" FF,FF,FF,FC
18047                            5424             FAR_JSR #_LOAD_REST_PLS,R0
18048 00003384 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18049 00003386 400B                   M           JSR     @R0                     ;
18050 00003388 0009                   M           NOP                                     ;
18051 0000338A 6103              5425             MOV     R0,R1                                           ;
18052                            5426             POP_REG1 R0
18053                                 M                                   ; RE"+4" 00,00,00,04
18054 0000338C 60F6                   M           MOV.L   @R15+,R0        ;
18055                            5427     
18056 0000338E 2118              5428             TST     R1,R1                           ;
18057                            5429             TST_BIT_ON FWD_REV_STSIG_OFSPEC_050     ;
18058 00003390 8B12                   M           BF      FWD_REV_STSIG_OFSPEC_050
18059 00003392 D40C              5430             MOV.L   #~(BIT2*H'10000),R4             ;
18060                            5431             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18061 00003394 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18062 00003396 6562                   M           MOV.L   @R6,R5                                          ;
18063 00003398 2549                   M           AND     R4,R5                                           ;
18064 0000339A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18065                                 M   
18066 0000339C D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18067                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18068 0000339E 6559                   M           SWAP.W  R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   213
PROGRAM NAME =

18069                                 M   
18070 000033A0 2651                   M           MOV.W   R5,@R6
18071 000033A2 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18072 000033A4 6559                   M           SWAP.W  R5,R5                           ;
18073                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18074                                 M           PUSH_REG1 R0
18075 000033A6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18076                                 M                                           ;REG=>[SP]
18077                                 M                                           ;"-4" FF,FF,FF,FC
18078 000033A8 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18079 000033AA 6001                   M           MOV.W   @R0,R0
18080                                 M           POP_REG1 R0
18081                                 M                                   ; RE"+4" 00,00,00,04
18082 000033AC 60F6                   M           MOV.L   @R15+,R0        ;
18083 000033AE 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18084                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18085                                 M           PUSH_REG1 R0
18086 000033B0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18087                                 M                                           ;REG=>[SP]
18088                                 M                                           ;"-4" FF,FF,FF,FC
18089 000033B2 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18090 000033B4 6001                   M           MOV.W   @R0,R0
18091                                 M           POP_REG1 R0
18092                                 M                                   ; RE"+4" 00,00,00,04
18093 000033B6 60F6                   M           MOV.L   @R15+,R0        ;
18094 000033B8                   5432     FWD_REV_STSIG_OFSPEC_050:
18095                            5433             SUB_END
18096                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18097 000033B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18098                            5434             M_RTS
18099 000033BA 000B                   M           RTS                             ;RTSの後ろの
18100 000033BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18101                            5435     
18102                            5436     ;       ***********************************
18103                            5437     ;       ***     ｽﾃｰﾀｽLOAD               ***
18104                            5438     ;       ***********************************
18105                            5439     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18106                                     ***** BEGIN-POOL *****
18107 000033BE 0000                       ALIGNMENT CODE
18108 000033C0 00000000                   DATA FOR SOURCE-LINE 5424
18109 000033C4 FFFBFFFF                   DATA FOR SOURCE-LINE 5430
18110 000033C8 00000000                   DATA FOR SOURCE-LINE 5431
18111 000033CC 00000000                   DATA FOR SOURCE-LINE 5431
18112 000033D0 00000000                   DATA FOR SOURCE-LINE 5431,5431
18113                                     ***** END-POOL *****
18114 000033D4                   5440             .ALIGN  4                               ;
18115 000033D4                   5441     _LOD_POS_STS_REG:
18116                            5442             SUB_START
18117 000033D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18118                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18119                            5443             PUSH_REG1 R2
18120 000033D6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18121                                 M                                           ;REG=>[SP]
18122                                 M                                           ;"-4" FF,FF,FF,FC
18123                            5444     
18124                            5445             FAR_JSR #_LOD_POS_STS_REG_IN,R0 ;ANS R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   214
PROGRAM NAME =

18125 000033D8 D003                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18126 000033DA 400B                   M           JSR     @R0                     ;
18127 000033DC 0009                   M           NOP                                     ;
18128                            5446     
18129                            5447             POP_REG1 R2
18130                                 M                                   ; RE"+4" 00,00,00,04
18131 000033DE 62F6                   M           MOV.L   @R15+,R2        ;
18132                            5448             SUB_END
18133                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18134 000033E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18135                            5449             M_RTS
18136 000033E2 000B                   M           RTS                             ;RTSの後ろの
18137 000033E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18138                            5450     
18139                            5451     
18140                            5452     ;       ***********************************
18141                            5453     ;       ***     ｽﾃｰﾀｽLOAD               ***
18142                            5454     ;       ***********************************
18143                            5455     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18144                                     ***** BEGIN-POOL *****
18145 000033E6 0000                       ALIGNMENT CODE
18146 000033E8 00000000                   DATA FOR SOURCE-LINE 5445
18147                                     ***** END-POOL *****
18148 000033EC                   5456             .ALIGN  4                               ;
18149 000033EC                   5457     _LOD_POS_STS_REG_POR:
18150 000033EC                   5458     _LOD_POS_STS_REG_SLOW:
18151                            5459             SUB_START
18152 000033EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18153                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18154                            5460             PUSH_REG1 R2
18155 000033EE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18156                                 M                                           ;REG=>[SP]
18157                                 M                                           ;"-4" FF,FF,FF,FC
18158                            5461     
18159                            5462             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;ANS R0
18160 000033F0 D007                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18161 000033F2 400B                   M           JSR     @R0                     ;
18162 000033F4 0009                   M           NOP                                     ;
18163 000033F6 C804              5463             TST     #BIT2,R0                        ;
18164                            5464             TST_BIT_ON LOD_POS_STS_REGSLOW_END      ;
18165 000033F8 8B05                   M           BF      LOD_POS_STS_REGSLOW_END
18166 000033FA D206              5465             MOV.L   #_POSCTL_STEP_FLG,R2            ;
18167 000033FC 6421              5466             MOV.W   @R2,R4                          ;
18168 000033FE 9206              5467             MOV.W   #BIT6,R2                        ;
18169 00003400 2428              5468             TST     R2,R4                           ;
18170                            5469             TST_BIT_OF LOD_POS_STS_REGSLOW_END      ;
18171 00003402 8900                   M           BT      LOD_POS_STS_REGSLOW_END
18172 00003404 CB04              5470             OR      #BIT2,R0                        ;
18173                            5471     
18174 00003406                   5472     LOD_POS_STS_REGSLOW_END:
18175                            5473             POP_REG1 R2
18176                                 M                                   ; RE"+4" 00,00,00,04
18177 00003406 62F6                   M           MOV.L   @R15+,R2        ;
18178                            5474             SUB_END
18179                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18180 00003408 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18181                            5475             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   215
PROGRAM NAME =

18182 0000340A 000B                   M           RTS                             ;RTSの後ろの
18183 0000340C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18184                            5476     
18185                            5477     
18186                            5478     
18187                            5479     ;       ***********************************
18188                            5480     ;       ***     ｽﾃｰﾀｽLOAD               ***
18189                            5481     ;       ***********************************
18190                            5482     ;       R0 BIT2=1 STOP
18191                                     ***** BEGIN-POOL *****
18192 0000340E 0040                       DATA FOR SOURCE-LINE 5467
18193 00003410 00000000                   DATA FOR SOURCE-LINE 5462
18194 00003414 00000000                   DATA FOR SOURCE-LINE 5465
18195                                     ***** END-POOL *****
18196 00003418                   5483             .ALIGN  4                               ;
18197 00003418                   5484     _LOD_POS_STS_REG_IN:
18198                            5485             SUB_START
18199 00003418 4F22                   M           STS.L   PR,@-R15                ;[必要]
18200                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18201                            5486             PUSH_REG1 R2
18202 0000341A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18203                                 M                                           ;REG=>[SP]
18204                                 M                                           ;"-4" FF,FF,FF,FC
18205                            5487     
18206 0000341C D413              5488             MOV.L   #(BIT2*H'10000),R4
18207 0000341E                   5489     LOD_POS_STSRG00:
18208                            5490             POS_LSI_WORD_DUM_LOD                                    ;
18209                                 M           PUSH_REG1 R0
18210 0000341E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18211                                 M                                           ;REG=>[SP]
18212                                 M                                           ;"-4" FF,FF,FF,FC
18213 00003420 D013                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18214 00003422 6001                   M           MOV.W   @R0,R0
18215                                 M           POP_REG1 R0
18216                                 M                                   ; RE"+4" 00,00,00,04
18217 00003424 60F6                   M           MOV.L   @R15+,R0        ;
18218 00003426 D613              5491             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18219 00003428 6065              5492             MOV.W   @R6+,R0                                         ;BIT1:指令ﾊﾟﾙｽ BIT2:ﾊﾟﾙｽ払
                                          出停止中
18220                            5493                                                                     ;BIT2で判断する
18221                            5494             POS_LSI_WORD_DUM_LOD                                    ;
18222                                 M           PUSH_REG1 R0
18223 0000342A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18224                                 M                                           ;REG=>[SP]
18225                                 M                                           ;"-4" FF,FF,FF,FC
18226 0000342C D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18227 0000342E 6001                   M           MOV.W   @R0,R0
18228                                 M           POP_REG1 R0
18229                                 M                                   ; RE"+4" 00,00,00,04
18230 00003430 60F6                   M           MOV.L   @R15+,R0        ;
18231 00003432 6261              5495             MOV.W   @R6,R2                                          ;
18232 00003434 600D              5496             EXTU.W  R0,R0                                           ;LOW
18233 00003436 622D              5497             EXTU.W  R2,R2                                           ;HIGH
18234 00003438 4228              5498             SHLL16  R2
18235 0000343A 202B              5499             OR      R2,R0                                           ;
18236 0000343C 0009              5500             NOP
18237                            5501             POS_LSI_WORD_DUM_LOD                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   216
PROGRAM NAME =

18238                                 M           PUSH_REG1 R0
18239 0000343E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18240                                 M                                           ;REG=>[SP]
18241                                 M                                           ;"-4" FF,FF,FF,FC
18242 00003440 D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18243 00003442 6001                   M           MOV.W   @R0,R0
18244                                 M           POP_REG1 R0
18245                                 M                                   ; RE"+4" 00,00,00,04
18246 00003444 60F6                   M           MOV.L   @R15+,R0        ;
18247 00003446 D60B              5502             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18248 00003448 6165              5503             MOV.W   @R6+,R1                                         ;
18249                            5504             POS_LSI_WORD_DUM_LOD                                    ;
18250                                 M           PUSH_REG1 R0
18251 0000344A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18252                                 M                                           ;REG=>[SP]
18253                                 M                                           ;"-4" FF,FF,FF,FC
18254 0000344C D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18255 0000344E 6001                   M           MOV.W   @R0,R0
18256                                 M           POP_REG1 R0
18257                                 M                                   ; RE"+4" 00,00,00,04
18258 00003450 60F6                   M           MOV.L   @R15+,R0        ;
18259 00003452 6261              5505             MOV.W   @R6,R2                                          ;
18260 00003454 611D              5506             EXTU.W  R1,R1                                           ;LOW
18261 00003456 622D              5507             EXTU.W  R2,R2                                           ;HIGH
18262 00003458 4228              5508             SHLL16  R2                                              ;
18263 0000345A 212B              5509             OR      R2,R1                                           ;
18264                            5510     
18265 0000345C 201A              5511             XOR     R1,R0                                           ;
18266 0000345E 2048              5512             TST     R4,R0                                           ;
18267                            5513             TST_BIT_ON LOD_POS_STSRG00                              ;R0=R1
18268 00003460 8BDD                   M           BF      LOD_POS_STSRG00
18269 00003462 6013              5514             MOV     R1,R0                                           ;BIT2
18270                            5515     
18271                            5516             POP_REG1 R2
18272                                 M                                   ; RE"+4" 00,00,00,04
18273 00003464 62F6                   M           MOV.L   @R15+,R2        ;
18274                            5517             SUB_END
18275                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18276 00003466 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18277                            5518             M_RTS
18278 00003468 000B                   M           RTS                             ;RTSの後ろの
18279 0000346A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18280                            5519     
18281                            5520     
18282                            5521     
18283                            5522     
18284                            5523     
18285                            5524     ;       ***********************************
18286                            5525     ;       ***     現在位置ｶｳﾝﾀLOAD        ***
18287                            5526     ;       ***********************************
18288                            5527             .EXPORT _POS_LSI_CNT_LOAD_R1reg
18289                                     ***** BEGIN-POOL *****
18290 0000346C 00040000                   DATA FOR SOURCE-LINE 5488
18291 00003470 00000000                   DATA FOR SOURCE-LINE 5490,5494,5501,5504
18292 00003474 00000000                   DATA FOR SOURCE-LINE 5491,5502
18293                                     ***** END-POOL *****
18294 00003478                   5528             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   217
PROGRAM NAME =

18295 00003478                   5529     _POS_LSI_CNT_LOAD_R1reg:
18296                            5530             SUB_START
18297 00003478 4F22                   M           STS.L   PR,@-R15                ;[必要]
18298                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18299 0000347A D603              5531             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowPos1L,R6        ;
18300 0000347C 6162              5532             MOV.L   @R6,R1                                          ;(とりあえずこのままにして
                                          おく)
18301 0000347E 6119              5533             SWAP.W  R1,R1                                           ;
18302                            5534             SUB_END
18303                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18304 00003480 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18305                            5535             M_RTS
18306 00003482 000B                   M           RTS                             ;RTSの後ろの
18307 00003484 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18308                            5536     
18309                            5537     
18310                            5538     
18311                            5539     ;       ***********************************
18312                            5540     ;       ***                             ***
18313                            5541     ;       ***     払出ﾊﾟﾙｽ                ***
18314                            5542     ;       ***                             ***
18315                            5543     ;       ***********************************
18316                            5544     ;       I/F LNGTH_ADD_DATA[2];//符号付き
18317                            5545     ;
18318                            5546     ;       ﾊﾞｯｸﾗｯｼの処理はここで行う
18319                            5547     ;
18320                            5548     ;
18321                                     ***** BEGIN-POOL *****
18322 00003486 0000                       ALIGNMENT CODE
18323 00003488 00000000                   DATA FOR SOURCE-LINE 5531
18324                                     ***** END-POOL *****
18325 0000348C                   5549             .ALIGN  4                               ;
18326 0000348C                   5550     _POS_LENGTH_ADD_DATA
18327                            5551             SUB_START
18328 0000348C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18329                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18330 0000348E D40A              5552             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
18331 00003490 6142              5553             MOV.L   @R4,R1                          ;
18332 00003492 5241              5554             MOV.L   @(4,R4),R2                      ;
18333 00003494 233A              5555             XOR     R3,R3                           ;
18334 00003496 2432              5556             MOV.L   R3,@R4                                                  ;
18335 00003498 1431              5557             MOV.L   R3,@(4,R4)                                              ;(ここでﾊﾞｯｸﾗｯｼ補
                                          正を足しこむ)
18336                            5558     
18337 0000349A D708              5559             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
18338 0000349C 6572              5560             MOV.L   @R7,R5                                                  ;
18339 0000349E 5671              5561             MOV.L   @(4,R7),R6                                              ;
18340                            5562             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
18341 000034A0 0008                   M           CLRT
18342 000034A2 326E                   M           ADDC    R6,R2
18343 000034A4 315E                   M           ADDC    R5,R1
18344 000034A6 2712              5563             MOV.L   R1,@R7                                                  ;
18345 000034A8 1721              5564             MOV.L   R2,@(4,R7)                                              ;
18346                            5565     
18347                            5566     ;       ===2004-01-28 MONITOR ==
18348 000034AA D705              5567             MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R7;//符号つき
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   218
PROGRAM NAME =

18349 000034AC 2712              5568             MOV.L   R1,@R7                                                  ;
18350 000034AE 1721              5569             MOV.L   R2,@(4,R7)                                              ;
18351                            5570     
18352                            5571             SUB_END
18353                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18354 000034B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18355                            5572             M_RTS
18356 000034B2 000B                   M           RTS                             ;RTSの後ろの
18357 000034B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18358                            5573     
18359                            5574     ;       *******************************************
18360                            5575     ;       ***                                     ***
18361                            5576     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
18362                            5577     ;       ***                                     ***
18363                            5578     ;       *******************************************
18364                            5579     ;       ***********************************************************
18365                            5580     ;       ***     (停止時からの起動の場合のみ有効・安一のみ)      ***
18366                            5581     ;       ***********************************************************
18367                                     ***** BEGIN-POOL *****
18368 000034B6 0000                       ALIGNMENT CODE
18369 000034B8 00000000                   DATA FOR SOURCE-LINE 5552
18370 000034BC 00000000                   DATA FOR SOURCE-LINE 5559
18371 000034C0 00000000                   DATA FOR SOURCE-LINE 5567
18372                                     ***** END-POOL *****
18373 000034C4                   5582             .ALIGN  4                               ;
18374 000034C4                   5583     _POS_PLSOUT_SET_RETRY:
18375                            5584             SUB_START
18376 000034C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18378 000034C6 D105              5585             MOV.L   #_MODE_SEL,R1                   ;
18379 000034C8 6011              5586             MOV.W   @R1,R0                          ;
18380 000034CA 9406              5587             MOV.W   #_W1SGL,R4                      ;
18381 000034CC 2048              5588             TST     R4,R0                           ;
18382                            5589             TST_BIT_ON POS_PLSOUT_SETRY100          ;
18383 000034CE 8B09                   M           BF      POS_PLSOUT_SETRY100
18384                            5590     
18385                            5591             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;
18386 000034D0 D003                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18387 000034D2 400B                   M           JSR     @R0                     ;
18388 000034D4 0009                   M           NOP                                     ;
18389                            5592             M_BRA   POS_PLSOUT_SETRYEXT
18390 000034D6 A09E                   M           BRA     POS_PLSOUT_SETRYEXT
18391 000034D8 0009                   M           NOP
18392                            5593     
18393                            5594     ;       ===     安全一行程      ===
18394                                     ***** BEGIN-POOL *****
18395 000034DA 0004                       DATA FOR SOURCE-LINE 5587
18396 000034DC 00000000                   DATA FOR SOURCE-LINE 5585
18397 000034E0 00000000                   DATA FOR SOURCE-LINE 5591
18398                                     ***** END-POOL *****
18399 000034E4                   5595     POS_PLSOUT_SETRY100:
18400 000034E4 200A              5596             XOR     R0,R0
18401 000034E6 D116              5597             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
18402 000034E8 2101              5598             MOV.W   R0,@R1                                  ;
18403                            5599     
18404                            5600             eSHi_SET_MEM_MOV SRC=_LNGTH_TOTAL_OUTPLS+4,L1=L,DST=_SH4_LNGH_ADD_SR,L2=L       ;
18405                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   219
PROGRAM NAME =

18406 000034EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18407                                 M                                           ;REG=>[SP]
18408                                 M                                           ;"-4" FF,FF,FF,FC
18409                                 M           PUSH_REG1 R1
18410 000034EC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18411                                 M                                           ;REG=>[SP]
18412                                 M                                           ;"-4" FF,FF,FF,FC
18413 000034EE D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1       ;
18414 000034F0 6012                   M           MOV.L   @R1,R0          ;
18415 000034F2 D115                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;
18416 000034F4 2102                   M           MOV.L   R0,@R1          ;
18417                                 M           POP_REG1 R1
18418                                 M                                   ; RE"+4" 00,00,00,04
18419 000034F6 61F6                   M           MOV.L   @R15+,R1        ;
18420                                 M           POP_REG1 R0
18421                                 M                                   ; RE"+4" 00,00,00,04
18422 000034F8 60F6                   M           MOV.L   @R15+,R0        ;
18423                            5601             TIM_CNT_ADD MEM=_SH4_LOT_CNT_A,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1                ;+
                                          1
18424 000034FA D114                   M           MOV.L   #_SH4_LOT_CNT_A,R1              ;
18425 000034FC 6011                   M           MOV.W   @R1,R0  ;
18426 000034FE 7001                   M           ADD     #1,R0           ;
18427 00003500 2101                   M           MOV.W   R0,@R1  ;
18428                            5602     
18429                            5603     
18430                            5604     
18431 00003502                   5605     POS_PLSOUT_SETRYLOP:
18432                            5606     
18433 00003502 D713              5607             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
18434 00003504 6172              5608             MOV.L   @R7,R1                                                  ;
18435 00003506 5271              5609             MOV.L   @(4,R7),R2                                              ;払いだしたい量
18436                            5610             PUSH_REG1 R1                                                    ;
18437 00003508 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18438                                 M                                           ;REG=>[SP]
18439                                 M                                           ;"-4" FF,FF,FF,FC
18440                            5611             PUSH_REG1 R2                                                    ;
18441 0000350A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18442                                 M                                           ;REG=>[SP]
18443                                 M                                           ;"-4" FF,FF,FF,FC
18444                            5612             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                                ;
18445 0000350C D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18446 0000350E 400B                   M           JSR     @R0                     ;
18447 00003510 0009                   M           NOP                                     ;
18448                            5613             POP_REG1 R2                                                     ;
18449                                 M                                   ; RE"+4" 00,00,00,04
18450 00003512 62F6                   M           MOV.L   @R15+,R2        ;
18451                            5614             POP_REG1 R1                                                     ;
18452                                 M                                   ; RE"+4" 00,00,00,04
18453 00003514 61F6                   M           MOV.L   @R15+,R1        ;
18454 00003516 6313              5615             MOV     R1,R3                                                   ;
18455 00003518 6423              5616             MOV     R2,R4                                                   ;
18456 0000351A 4311              5617             CMP/PZ  R3                                                      ;"+"
18457 0000351C 8905              5618             BT      POS_PLSOUT_SETRY120                                     ;
18458                            5619             NEG1_64 H_REG=R3,L_REG=R4,WKREG=R0                              ;|R3,R4|
18459 0000351E 6447                   M           NOT     R4,R4                           ;
18460 00003520 6337                   M           NOT     R3,R3                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   220
PROGRAM NAME =

18461 00003522 200A                   M           XOR     R0,R0                           ;
18462 00003524 0018                   M           SETT
18463 00003526 340E                   M           ADDC    R0,R4                           ;0+1+R2
18464 00003528 330E                   M           ADDC    R0,R3                           ;
18465 0000352A                   5620     POS_PLSOUT_SETRY120:
18466 0000352A 2338              5621             TST     R3,R3                                                   ;
18467                            5622             TST_BIT_OF POS_PLSOUT_SETRY130                                  ;
18468 0000352C 8918                   M           BT      POS_PLSOUT_SETRY130
18469                            5623     ;       ====上位LWORDが存在する. 1回転の中にそれがあることはない
18470                            5624     ;       ==== data err ===
                                          ;
18471                            5625             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CALC_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
18472 0000352E D10A                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1          ;
18473 00003530 6011                   M           MOV.W   @R1,R0          ;
18474 00003532 CB05                   M           OR      #(BIT2+BIT0),R0         ;
18475 00003534 2101                   M           MOV.W   R0,@R1          ;
18476                            5626             FAR_JSR #_OutputPLS_REG_CLR,R0
                                          ;
18477 00003536 D009                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18478 00003538 400B                   M           JSR     @R0                     ;
18479 0000353A 0009                   M           NOP                                     ;
18480                            5627             M_BRA   POS_PLSOUT_SETRY900
                                          ;
18481 0000353C A064                   M           BRA     POS_PLSOUT_SETRY900
18482 0000353E 0009                   M           NOP
18483                            5628     
18484                                     ***** BEGIN-POOL *****
18485 00003540 00000000                   DATA FOR SOURCE-LINE 5597
18486 00003544 00000000                   DATA FOR SOURCE-LINE 5600
18487 00003548 00000000                   DATA FOR SOURCE-LINE 5600
18488 0000354C 00000000                   DATA FOR SOURCE-LINE 5601
18489 00003550 00000000                   DATA FOR SOURCE-LINE 5607
18490 00003554 00000000                   DATA FOR SOURCE-LINE 5612
18491 00003558 00000000                   DATA FOR SOURCE-LINE 5625
18492 0000355C 00000000                   DATA FOR SOURCE-LINE 5626
18493                                     ***** END-POOL *****
18494 00003560                   5629     POS_PLSOUT_SETRY130:
18495                            5630     
18496                            5631             FAR_JSR #_LOAD_REST_PLS,R0                      ;
18497 00003560 D017                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18498 00003562 400B                   M           JSR     @R0                     ;
18499 00003564 0009                   M           NOP                                     ;
18500                            5632             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_SR,L1=L,SETREG=R0,WKREG1=R5
18501                                 M           PUSH_REG1 R5            ;
18502 00003566 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
18503                                 M                                           ;REG=>[SP]
18504                                 M                                           ;"-4" FF,FF,FF,FC
18505 00003568 D516                   M           MOV.L   #_SH4_REST_PLS_SR,R5            ;
18506 0000356A 2502                   M           MOV.L   R0,@R5  ;
18507                                 M           POP_REG1 R5             ;
18508                                 M                                   ; RE"+4" 00,00,00,04
18509 0000356C 65F6                   M           MOV.L   @R15+,R5        ;
18510                            5633     
18511 0000356E 3400              5634             CMP/EQ  R0,R4                                   ;
18512 00003570 894A              5635             BT      POS_PLSOUT_SETRY900                     ;"EQU"
18513 00003572 7001              5636             ADD     #1,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   221
PROGRAM NAME =

18514 00003574 3400              5637             CMP/EQ  R0,R4                                   ;
18515 00003576 8947              5638             BT      POS_PLSOUT_SETRY900                     ;
18516 00003578 70FE              5639             ADD     #-2,R0                                  ;
18517 0000357A 3400              5640             CMP/EQ  R0,R4                                   ;
18518 0000357C 8944              5641             BT      POS_PLSOUT_SETRY900                     ;
18519                            5642     
18520                            5643     ;       ==== ﾍﾞﾘﾌｧｲ異常====
18521                            5644             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT2                ;VERIFAY ERR
18522                                 M   
18523                                 M           .AIF    0 EQ    0
18524                                 C   ;;      (波形測定時)
18525                                 C           PUSH_REG1 R0
18526 0000357E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18527                                 M                                           ;REG=>[SP]
18528                                 M                                           ;"-4" FF,FF,FF,FC
18529                                 C           PUSH_REG1 R1
18530 00003580 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18531                                 M                                           ;REG=>[SP]
18532                                 M                                           ;"-4" FF,FF,FF,FC
18533                                 C           PUSH_REG1 R2
18534 00003582 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18535                                 M                                           ;REG=>[SP]
18536                                 M                                           ;"-4" FF,FF,FF,FC
18537 00003584 D110                   C           MOV.L   #_PDTRA,R1                      ;
18538 00003586 6011                   C           MOV.W   @R1,R0                          ;
18539 00003588 9217                   C           MOV.W   #BIT2,R2                        ;
18540 0000358A 202B                   C           OR      R2,R0                           ;
18541 0000358C 2101                   C           MOV.W   R0,@R1                          ;
18542                                 C   
18543                                 C           POP_REG1 R2
18544                                 M                                   ; RE"+4" 00,00,00,04
18545 0000358E 62F6                   M           MOV.L   @R15+,R2        ;
18546                                 C           POP_REG1 R1
18547                                 M                                   ; RE"+4" 00,00,00,04
18548 00003590 61F6                   M           MOV.L   @R15+,R1        ;
18549                                 C           POP_REG1 R0
18550                                 M                                   ; RE"+4" 00,00,00,04
18551 00003592 60F6                   M           MOV.L   @R15+,R0        ;
18552                                 M           .AENDI
18553                                 M   
18554                            5645     
18555                            5646             FAR_JSR #_OutputPLS_REG_CLR,R0                  ;
18556 00003594 D00D                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18557 00003596 400B                   M           JSR     @R0                     ;
18558 00003598 0009                   M           NOP                                     ;
18559 0000359A D70D              5647             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                 ;+/-(0へ向かっていく)
18560 0000359C 2712              5648             MOV.L   R1,@R7                                  ;
18561 0000359E 1721              5649             MOV.L   R2,@(4,R7)                              ;払いだしたい量
18562                            5650     
18563 000035A0 D10C              5651             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
18564 000035A2 6011              5652             MOV.W   @R1,R0                                  ;
18565 000035A4 940A              5653             MOV.W   #_LSI_RETRY_ERR_MAX,R4
                                          ;
18566 000035A6 7001              5654             ADD     #1,R0
                                          ;
18567 000035A8 2101              5655             MOV.W   R0,@R1
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   222
PROGRAM NAME =

18568 000035AA 3046              5656             CMP/HI  R4,R0
                                          ;3<
18569 000035AC 8916              5657             BT      POS_PLSOUT_SETRYERR
                                          ;
18570                            5658             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18571 000035AE D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT1,R1         ;
18572 000035B0 6012                   M           MOV.L   @R1,R0  ;
18573 000035B2 7001                   M           ADD     #1,R0           ;
18574 000035B4 2102                   M           MOV.L   R0,@R1  ;
18575                            5659             M_BRA   POS_PLSOUT_SETRYLOP                     ;
18576 000035B6 AFA4                   M           BRA     POS_PLSOUT_SETRYLOP
18577 000035B8 0009                   M           NOP
18578                            5660     
18579                                     ***** BEGIN-POOL *****
18580 000035BA 0004                       DATA FOR SOURCE-LINE 5644
18581 000035BC 0003                       DATA FOR SOURCE-LINE 5653
18582 000035BE 0000                       ALIGNMENT CODE
18583 000035C0 00000000                   DATA FOR SOURCE-LINE 5631
18584 000035C4 00000000                   DATA FOR SOURCE-LINE 5632
18585 000035C8 00000000                   DATA FOR SOURCE-LINE 5644
18586 000035CC 00000000                   DATA FOR SOURCE-LINE 5646
18587 000035D0 00000000                   DATA FOR SOURCE-LINE 5647
18588 000035D4 00000000                   DATA FOR SOURCE-LINE 5651
18589 000035D8 00000000                   DATA FOR SOURCE-LINE 5658
18590                                     ***** END-POOL *****
18591 000035DC                   5661     POS_PLSOUT_SETRYERR:
18592                            5662             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
18593 000035DC D108                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
18594 000035DE 6011                   M           MOV.W   @R1,R0          ;
18595 000035E0 CB05                   M           OR      #(BIT2+BIT0),R0         ;
18596 000035E2 2101                   M           MOV.W   R0,@R1          ;
18597                            5663             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT6                ;RETRY ERR
18598                                 M   
18599                                 M           .AIF    0 EQ    0
18600                                 C   ;;      (波形測定時)
18601                                 C           PUSH_REG1 R0
18602 000035E4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18603                                 M                                           ;REG=>[SP]
18604                                 M                                           ;"-4" FF,FF,FF,FC
18605                                 C           PUSH_REG1 R1
18606 000035E6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18607                                 M                                           ;REG=>[SP]
18608                                 M                                           ;"-4" FF,FF,FF,FC
18609                                 C           PUSH_REG1 R2
18610 000035E8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18611                                 M                                           ;REG=>[SP]
18612                                 M                                           ;"-4" FF,FF,FF,FC
18613 000035EA D106                   C           MOV.L   #_PDTRA,R1                      ;
18614 000035EC 6011                   C           MOV.W   @R1,R0                          ;
18615 000035EE 9206                   C           MOV.W   #BIT6,R2                        ;
18616 000035F0 202B                   C           OR      R2,R0                           ;
18617 000035F2 2101                   C           MOV.W   R0,@R1                          ;
18618                                 C   
18619                                 C           POP_REG1 R2
18620                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   223
PROGRAM NAME =

18621 000035F4 62F6                   M           MOV.L   @R15+,R2        ;
18622                                 C           POP_REG1 R1
18623                                 M                                   ; RE"+4" 00,00,00,04
18624 000035F6 61F6                   M           MOV.L   @R15+,R1        ;
18625                                 C           POP_REG1 R0
18626                                 M                                   ; RE"+4" 00,00,00,04
18627 000035F8 60F6                   M           MOV.L   @R15+,R0        ;
18628                                 M           .AENDI
18629                                 M   
18630                            5664             M_BRA   POS_PLSOUT_SETRYEXT
18631 000035FA A00C                   M           BRA     POS_PLSOUT_SETRYEXT
18632 000035FC 0009                   M           NOP
18633                            5665     
18634                                     ***** BEGIN-POOL *****
18635 000035FE 0040                       DATA FOR SOURCE-LINE 5663
18636 00003600 00000000                   DATA FOR SOURCE-LINE 5662
18637 00003604 00000000                   DATA FOR SOURCE-LINE 5663
18638                                     ***** END-POOL *****
18639 00003608                   5666     POS_PLSOUT_SETRY900:
18640                            5667     ;       === FLAG SET====
18641                            5668             eSHi_SET_IM_MOV DST=_SH4_REST_SR_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
18642                                 M           PUSH_REG1 R1            ;
18643 00003608 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18644                                 M                                           ;REG=>[SP]
18645                                 M                                           ;"-4" FF,FF,FF,FC
18646                                 M           PUSH_REG1 R0            ;
18647 0000360A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18648                                 M                                           ;REG=>[SP]
18649                                 M                                           ;"-4" FF,FF,FF,FC
18650 0000360C 9011                   M           MOV.W   #1,R0           ;
18651 0000360E D10A                   M           MOV.L   #_SH4_REST_SR_HF,R1             ;
18652 00003610 2101                   M           MOV.W   R0,@R1  ;
18653                                 M           POP_REG1 R0             ;
18654                                 M                                   ; RE"+4" 00,00,00,04
18655 00003612 60F6                   M           MOV.L   @R15+,R0        ;
18656                                 M           POP_REG1 R1             ;
18657                                 M                                   ; RE"+4" 00,00,00,04
18658 00003614 61F6                   M           MOV.L   @R15+,R1        ;
18659                            5669     
18660 00003616                   5670     POS_PLSOUT_SETRYEXT:
18661                            5671             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT4                ;VERYFAI ERR OFF付
18662                                 M   
18663                                 M           .AIF    0 EQ    0
18664                                 C   ;;      (波形測定時)
18665                                 C           PUSH_REG1 R0
18666 00003616 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18667                                 M                                           ;REG=>[SP]
18668                                 M                                           ;"-4" FF,FF,FF,FC
18669                                 C           PUSH_REG1 R1
18670 00003618 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18671                                 M                                           ;REG=>[SP]
18672                                 M                                           ;"-4" FF,FF,FF,FC
18673                                 C           PUSH_REG1 R2
18674 0000361A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18675                                 M                                           ;REG=>[SP]
18676                                 M                                           ;"-4" FF,FF,FF,FC
18677 0000361C D107                   C           MOV.L   #_PDTRA,R1                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   224
PROGRAM NAME =

18678 0000361E 6011                   C           MOV.W   @R1,R0                          ;
18679 00003620 9208                   C           MOV.W   #LWORD ~BIT4,R2         ;
18680 00003622 2029                   C           AND     R2,R0                           ;
18681 00003624 2101                   C           MOV.W   R0,@R1                          ;
18682                                 C           POP_REG1 R2
18683                                 M                                   ; RE"+4" 00,00,00,04
18684 00003626 62F6                   M           MOV.L   @R15+,R2        ;
18685                                 C           POP_REG1 R1
18686                                 M                                   ; RE"+4" 00,00,00,04
18687 00003628 61F6                   M           MOV.L   @R15+,R1        ;
18688                                 C           POP_REG1 R0
18689                                 M                                   ; RE"+4" 00,00,00,04
18690 0000362A 60F6                   M           MOV.L   @R15+,R0        ;
18691                                 M           .AENDI
18692                                 M   
18693                            5672     
18694                            5673             SUB_END
18695                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18696 0000362C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18697                            5674             M_RTS
18698 0000362E 000B                   M           RTS                             ;RTSの後ろの
18699 00003630 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18700                            5675     
18701                            5676     ;       *******************************************
18702                            5677     ;       ***                                     ***
18703                            5678     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
18704                            5679     ;       ***                                     ***
18705                            5680     ;       *******************************************
18706                                     ***** BEGIN-POOL *****
18707 00003632 0001                       DATA FOR SOURCE-LINE 5668
18708 00003634 FFEF                       DATA FOR SOURCE-LINE 5671
18709 00003636 0000                       ALIGNMENT CODE
18710 00003638 00000000                   DATA FOR SOURCE-LINE 5668
18711 0000363C 00000000                   DATA FOR SOURCE-LINE 5671
18712                                     ***** END-POOL *****
18713 00003640                   5681             .ALIGN  4                               ;
18714 00003640                   5682     _POS_PLS_OUTPUT_DATA:
18715                            5683             SUB_START
18716 00003640 4F22                   M           STS.L   PR,@-R15                ;[必要]
18717                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18718                            5684     
18719                            5685     
18720                            5686             FAR_JSR #_LOAD_REST_PLS,R0                                              ;
18721 00003642 D00D                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18722 00003644 400B                   M           JSR     @R0                     ;
18723 00003646 0009                   M           NOP                                     ;
18724 00003648 6B03              5687             MOV     R0,R11                                                          ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
18725 0000364A D10C              5688             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                         ;
18726 0000364C 21B2              5689             MOV.L   R11,@R1                                                         ;
18727                            5690     
18728 0000364E DC0C              5691             MOV.L   #_PLS_OUTPUT_MAX,R12                                            ;
18729 00003650 3CB8              5692             SUB     R11,R12                                                         ;
18730 00003652 4C11              5693             CMP/PZ  R12                                                             ;残り設定
                                          できる距離出力側で
18731 00003654 8904              5694             BT      POS_PLS_OUTDAT_050                                              ;
18732                            5695             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT0,WKREG=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   225
PROGRAM NAME =

18733 00003656 D10B                   M           MOV.L   #_POSLSI_CHK_STS,R1             ;
18734 00003658 6011                   M           MOV.W   @R1,R0          ;
18735 0000365A CB01                   M           OR      #BIT0,R0                ;
18736 0000365C 2101                   M           MOV.W   R0,@R1          ;
18737 0000365E 2CCA              5696             XOR     R12,R12                                                         ;
18738 00003660                   5697     POS_PLS_OUTDAT_050:                                                             ;R12は出力
                                          ﾊﾟﾙｽﾚﾍﾞﾙ
18739                            5698     ;       ============= 出力ﾊﾟﾙｽ補正============
18740 00003660 62C3              5699             MOV     R12,R2                                                  ;ﾊﾟﾙｽ列-->ｲﾝｸﾘﾒﾝﾀﾙ
                                          ﾊﾟﾙｽ量
18741                            5700     ;;;;;   FAR_JSR #_POS_OUT_TO_INC_CHG,R0                                 ;
18742 00003662 6C23              5701             MOV     R2,R12                                                  ;
18743                            5702     
18744                            5703     ;       ==== R12が設定可能量====
18745 00003664 D708              5704             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
18746 00003666 6172              5705             MOV.L   @R7,R1                                                  ;
18747 00003668 5271              5706             MOV.L   @(4,R7),R2                                              ;払いだしたい量
18748 0000366A 6013              5707             MOV     R1,R0                                                   ;
18749 0000366C 202B              5708             OR      R2,R0                                                   ;
18750 0000366E 2008              5709             TST     R0,R0                                                   ;
18751                            5710             TST_BIT_ON POS_PLS_OUTDAT_080                                   ;
18752 00003670 8B0C                   M           BF      POS_PLS_OUTDAT_080
18753 00003672 2CCA              5711             XOR     R12,R12                                                 ;位置決めLSIには設
                                          定済み
18754                            5712             M_BRA   POS_PLS_OUTDAT_300                                      ;
18755 00003674 A027                   M           BRA     POS_PLS_OUTDAT_300
18756 00003676 0009                   M           NOP
18757                            5713     
18758                                     ***** BEGIN-POOL *****
18759 00003678 00000000                   DATA FOR SOURCE-LINE 5686
18760 0000367C 00000000                   DATA FOR SOURCE-LINE 5688
18761 00003680 00FFFFFF                   DATA FOR SOURCE-LINE 5691
18762 00003684 00000000                   DATA FOR SOURCE-LINE 5695
18763 00003688 00000000                   DATA FOR SOURCE-LINE 5704
18764                                     ***** END-POOL *****
18765 0000368C                   5714     POS_PLS_OUTDAT_080:                                                     ;
18766                            5715             PUSH_REG1       R1
18767 0000368C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18768                                 M                                           ;REG=>[SP]
18769                                 M                                           ;"-4" FF,FF,FF,FC
18770 0000368E 4111              5716             CMP/PZ  R1                                                      ;
18771 00003690 8905              5717             BT      POS_PLS_OUTDAT_100                                      ;
18772                            5718             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;|R1,R2|
18773 00003692 6227                   M           NOT     R2,R2                           ;
18774 00003694 6117                   M           NOT     R1,R1                           ;
18775 00003696 233A                   M           XOR     R3,R3                           ;
18776 00003698 0018                   M           SETT
18777 0000369A 323E                   M           ADDC    R3,R2                           ;0+1+R2
18778 0000369C 313E                   M           ADDC    R3,R1                           ;
18779 0000369E                   5719     POS_PLS_OUTDAT_100:                                                     ;
18780 0000369E 2118              5720             TST     R1,R1                                                   ;
18781                            5721             TST_BIT_ON POS_PLS_OUTDAT_200                                   ;引いてOK
18782 000036A0 8B02                   M           BF      POS_PLS_OUTDAT_200
18783 000036A2 32C7              5722             CMP/GT  R12,R2                                                  ;引いてOK
18784 000036A4 8900              5723             BT      POS_PLS_OUTDAT_200                                      ;
18785 000036A6 6C23              5724             MOV     R2,R12                                                  ;R12(R2)だけ引いて
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   226
PROGRAM NAME =

                                          OK
18786 000036A8                   5725     POS_PLS_OUTDAT_200:                                                     ;(引く量の決定)
18787 000036A8 200A              5726             XOR     R0,R0                                                   ;
18788                            5727             SUB8B DT_REGH=R0,DT_REGL=R12,DT_ANS_REGH=R1,DT_ANS_REGL=R2      ;
18789 000036AA 0008                   M           CLRT
18790 000036AC 32CA                   M           SUBC    R12,R2
18791 000036AE 310A                   M           SUBC    R0,R1
18792                            5728             POP_REG1 R0
18793                                 M                                   ; RE"+4" 00,00,00,04
18794 000036B0 60F6                   M           MOV.L   @R15+,R0        ;
18795 000036B2 4011              5729             CMP/PZ  R0
18796 000036B4 8905              5730             BT      POS_PLS_OUTDAT_250                                      ;
18797                            5731             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;
18798 000036B6 6227                   M           NOT     R2,R2                           ;
18799 000036B8 6117                   M           NOT     R1,R1                           ;
18800 000036BA 233A                   M           XOR     R3,R3                           ;
18801 000036BC 0018                   M           SETT
18802 000036BE 323E                   M           ADDC    R3,R2                           ;0+1+R2
18803 000036C0 313E                   M           ADDC    R3,R1                           ;
18804 000036C2                   5732     POS_PLS_OUTDAT_250:                                                     ;
18805 000036C2 2712              5733             MOV.L   R1,@R7                                                  ;
18806 000036C4 1721              5734             MOV.L   R2,@(4,R7)                                              ;
18807                            5735     
18808                            5736     ;"R12ADD"
18809 000036C6                   5737     POS_PLS_OUTDAT_300:                                                             ;
18810                            5738             FAR_JSR #_LOAD_REST_PLS,R0                                              ;OLD残りﾊﾟ
                                          ﾙｽ
18811 000036C6 D028                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18812 000036C8 400B                   M           JSR     @R0                     ;
18813 000036CA 0009                   M           NOP                                     ;
18814 000036CC 6403              5739             MOV     R0,R4                                                           ;
18815 000036CE 62C3              5740             MOV     R12,R2                                                          ;
18816                            5741     
18817                            5742             DEBUG_LSI_ACS_ON2_BIT BITDT=(BIT4+BIT0)                                 ;
18818                                 M   
18819                                 M           .AIF    0 EQ    0
18820                                 C   ;;      (波形測定時)
18821                                 C           PUSH_REG1 R0
18822 000036D0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18823                                 M                                           ;REG=>[SP]
18824                                 M                                           ;"-4" FF,FF,FF,FC
18825                                 C           PUSH_REG1 R1
18826 000036D2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18827                                 M                                           ;REG=>[SP]
18828                                 M                                           ;"-4" FF,FF,FF,FC
18829                                 C           PUSH_REG1 R2
18830 000036D4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18831                                 M                                           ;REG=>[SP]
18832                                 M                                           ;"-4" FF,FF,FF,FC
18833 000036D6 D125                   C           MOV.L   #_PDTRA,R1                      ;
18834 000036D8 6011                   C           MOV.W   @R1,R0                          ;
18835 000036DA 9241                   C           MOV.W   #(BIT4+BIT0),R2                 ;
18836 000036DC 202B                   C           OR      R2,R0                           ;
18837 000036DE 2101                   C           MOV.W   R0,@R1                          ;
18838                                 C   
18839                                 C           POP_REG1 R2
18840                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   227
PROGRAM NAME =

18841 000036E0 62F6                   M           MOV.L   @R15+,R2        ;
18842                                 C           POP_REG1 R1
18843                                 M                                   ; RE"+4" 00,00,00,04
18844 000036E2 61F6                   M           MOV.L   @R15+,R1        ;
18845                                 C           POP_REG1 R0
18846                                 M                                   ; RE"+4" 00,00,00,04
18847 000036E4 60F6                   M           MOV.L   @R15+,R0        ;
18848                                 M           .AENDI
18849                                 M   
18850                            5743             .AIF    1               EQ      1       ;YES:WR WAIT 4CLK(NO 3CLK) 2004-02-19
18851                            5744 C           POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R6,DAT_REG=R2           ;製品
18852                                 M           PUSH_REG1 R6
18853 000036E6 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
18854                                 M                                           ;REG=>[SP]
18855                                 M                                           ;"-4" FF,FF,FF,FC
18856                                 M           PUSH_REG1 R2
18857 000036E8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18858                                 M                                           ;REG=>[SP]
18859                                 M                                           ;"-4" FF,FF,FF,FC
18860                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18861                                 M           PUSH_REG1 R0
18862 000036EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18863                                 M                                           ;REG=>[SP]
18864                                 M                                           ;"-4" FF,FF,FF,FC
18865 000036EC D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18866 000036EE 6001                   M           MOV.W   @R0,R0
18867                                 M           POP_REG1 R0
18868                                 M                                   ; RE"+4" 00,00,00,04
18869 000036F0 60F6                   M           MOV.L   @R15+,R0        ;
18870 000036F2 D620                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;
18871 000036F4 2621                   M           MOV.W   R2,@R6                          ;(LOW)
18872 000036F6 7602                   M           ADD     #2,R6                                   ;
18873 000036F8 6229                   M           SWAP.W  R2,R2                           ;
18874                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18875                                 M           PUSH_REG1 R0
18876 000036FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18877                                 M                                           ;REG=>[SP]
18878                                 M                                           ;"-4" FF,FF,FF,FC
18879 000036FC D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18880 000036FE 6001                   M           MOV.W   @R0,R0
18881                                 M           POP_REG1 R0
18882                                 M                                   ; RE"+4" 00,00,00,04
18883 00003700 60F6                   M           MOV.L   @R15+,R0        ;
18884 00003702 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
18885                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18886                                 M           PUSH_REG1 R0
18887 00003704 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18888                                 M                                           ;REG=>[SP]
18889                                 M                                           ;"-4" FF,FF,FF,FC
18890 00003706 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18891 00003708 6001                   M           MOV.W   @R0,R0
18892                                 M           POP_REG1 R0
18893                                 M                                   ; RE"+4" 00,00,00,04
18894 0000370A 60F6                   M           MOV.L   @R15+,R0        ;
18895                                 M           POP_REG1 R2
18896                                 M                                   ; RE"+4" 00,00,00,04
18897 0000370C 62F6                   M           MOV.L   @R15+,R2        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   228
PROGRAM NAME =

18898                                 M           POP_REG1 R6
18899                                 M                                   ; RE"+4" 00,00,00,04
18900 0000370E 66F6                   M           MOV.L   @R15+,R6        ;
18901                            5745             .AELSE
18902                            5746     
18903                            5747     ;       ===== 異常を発生させるよう ======
18904                            5748             PUSH_REG1 R0                                                    ;
18905                            5749             PUSH_REG1 R12                                                   ;
18906                            5750             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R0                ;R/W
18907                            5751             SWAP.W  R12,R12                                                 ;
18908                            5752             MOV.L   R12,@R0                                                 ;
18909                            5753             POP_REG1 R12                                                    ;
18910                            5754             POP_REG1 R0                                                     ;
18911                            5755             .AENDI
18912                            5756     
18913                            5757             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT0
18914                                 M   
18915                                 M           .AIF    0 EQ    0
18916                                 C   ;;      (波形測定時)
18917                                 C           PUSH_REG1 R0
18918 00003710 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18919                                 M                                           ;REG=>[SP]
18920                                 M                                           ;"-4" FF,FF,FF,FC
18921                                 C           PUSH_REG1 R1
18922 00003712 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18923                                 M                                           ;REG=>[SP]
18924                                 M                                           ;"-4" FF,FF,FF,FC
18925                                 C           PUSH_REG1 R2
18926 00003714 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18927                                 M                                           ;REG=>[SP]
18928                                 M                                           ;"-4" FF,FF,FF,FC
18929 00003716 D115                   C           MOV.L   #_PDTRA,R1                      ;
18930 00003718 6011                   C           MOV.W   @R1,R0                          ;
18931 0000371A 9222                   C           MOV.W   #LWORD ~BIT0,R2         ;
18932 0000371C 2029                   C           AND     R2,R0                           ;
18933 0000371E 2101                   C           MOV.W   R0,@R1                          ;
18934                                 C           POP_REG1 R2
18935                                 M                                   ; RE"+4" 00,00,00,04
18936 00003720 62F6                   M           MOV.L   @R15+,R2        ;
18937                                 C           POP_REG1 R1
18938                                 M                                   ; RE"+4" 00,00,00,04
18939 00003722 61F6                   M           MOV.L   @R15+,R1        ;
18940                                 C           POP_REG1 R0
18941                                 M                                   ; RE"+4" 00,00,00,04
18942 00003724 60F6                   M           MOV.L   @R15+,R0        ;
18943                                 M           .AENDI
18944                                 M   
18945                            5758     
18946                            5759             FAR_JSR #_LOAD_REST_PLS,R0                                              ;NEW残りﾊﾟ
                                          ﾙｽ
18947 00003726 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18948 00003728 400B                   M           JSR     @R0                     ;
18949 0000372A 0009                   M           NOP                                     ;
18950 0000372C D112              5760             MOV.L   #_NEW_POSLSI_RESTPLS,R1                                         ;
18951 0000372E 2102              5761             MOV.L   R0,@R1                                                          ;
18952                            5762     
18953                            5763             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_RL,L1=L,SETREG=R0,WKREG1=R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   229
PROGRAM NAME =

18954                                 M           PUSH_REG1 R1            ;
18955 00003730 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18956                                 M                                           ;REG=>[SP]
18957                                 M                                           ;"-4" FF,FF,FF,FC
18958 00003732 D112                   M           MOV.L   #_SH4_REST_PLS_RL,R1            ;
18959 00003734 2102                   M           MOV.L   R0,@R1  ;
18960                                 M           POP_REG1 R1             ;
18961                                 M                                   ; RE"+4" 00,00,00,04
18962 00003736 61F6                   M           MOV.L   @R15+,R1        ;
18963                            5764     
18964                            5765     
18965                            5766     ;       基本的には
18966                            5767     ;       OLD+SV=NEW
18967                            5768     
18968 00003738 34CC              5769             ADD     R12,R4                                                  ;
18969 0000373A 6343              5770             MOV     R4,R3                                                   ;
18970 0000373C 9112              5771             MOV.W   #D'500,R1                                               ;200usec(100pls)　
                                          受信割込有り
18971 0000373E 341C              5772             ADD     R1,R4                                                   ;OLD+SV+500<NEW
18972 00003740 3046              5773             CMP/HI  R4,R0                                                   ;OLD+SV+500<NEW
18973 00003742 891F              5774             BT      POS_PLS_OUTDAT_320_ERR1                                 ;
18974                            5775     
18975 00003744 6433              5776             MOV     R3,R4                                                   ;
18976 00003746 910D              5777             MOV.W   #D'500,R1                                               ;200usec(100pls)
18977 00003748 3418              5778             SUB     R1,R4                                                   ;
18978 0000374A 4411              5779             CMP/PZ  R4                                                      ;
18979 0000374C 8900              5780             BT      POS_PLS_OUTDAT_320_ECK10                                ;
18980 0000374E 244A              5781             XOR     R4,R4                                                   ;
18981 00003750                   5782     POS_PLS_OUTDAT_320_ECK10:                                               ;
18982 00003750 3042              5783             CMP/HS  R4,R0
18983 00003752 891F              5784             BT      POS_PLS_OUTDAT_320_END                                  ;R4 =< R0 OK
18984                            5785     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ-200 ≧残ﾊﾟﾙｽなら異常(2)      ===
18985                            5786             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18986 00003754 D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT2,R1         ;
18987 00003756 6012                   M           MOV.L   @R1,R0  ;
18988 00003758 7001                   M           ADD     #1,R0           ;
18989 0000375A 2102                   M           MOV.L   R0,@R1  ;
18990                            5787     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT3+BIT0),WKREG=R1
                                          ;
18991                            5788             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
18992 0000375C A01E                   M           BRA     POS_PLS_OUTDAT_320_EXT
18993 0000375E 0009                   M           NOP
18994                            5789     
18995                                     ***** BEGIN-POOL *****
18996 00003760 0011                       DATA FOR SOURCE-LINE 5742
18997 00003762 FFFE                       DATA FOR SOURCE-LINE 5757
18998 00003764 01F4                       DATA FOR SOURCE-LINE 5771,5777
18999 00003766 0000                       ALIGNMENT CODE
19000 00003768 00000000                   DATA FOR SOURCE-LINE 5738,5759
19001 0000376C 00000000                   DATA FOR SOURCE-LINE 5742,5757
19002 00003770 00000000                   DATA FOR SOURCE-LINE 5744,5744,5744
19003 00003774 00000000                   DATA FOR SOURCE-LINE 5744
19004 00003778 00000000                   DATA FOR SOURCE-LINE 5760
19005 0000377C 00000000                   DATA FOR SOURCE-LINE 5763
19006 00003780 00000000                   DATA FOR SOURCE-LINE 5786
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   230
PROGRAM NAME =

19007                                     ***** END-POOL *****
19008 00003784                   5790     POS_PLS_OUTDAT_320_ERR1:
                                          ;
19009                            5791     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ≦残ﾊﾟﾙｽなら異常(1)   === 500KHZ 200usec=100pls
                                          ;
19010                            5792             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT3,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;ここだとﾘﾄﾗｲできない
19011 00003784 D102                   M           MOV.L   #_LSI_PLSSET_NG_CNT3,R1         ;
19012 00003786 6012                   M           MOV.L   @R1,R0  ;
19013 00003788 7001                   M           ADD     #1,R0           ;
19014 0000378A 2102                   M           MOV.L   R0,@R1  ;
19015                            5793     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT4+BIT0),WKREG=R1
                                          ;
19016                            5794             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19017 0000378C A006                   M           BRA     POS_PLS_OUTDAT_320_EXT
19018 0000378E 0009                   M           NOP
19019                            5795     
19020                                     ***** BEGIN-POOL *****
19021 00003790 00000000                   DATA FOR SOURCE-LINE 5792
19022                                     ***** END-POOL *****
19023 00003794                   5796     POS_PLS_OUTDAT_320_END:                                                                 ;
19024                            5797             TIM_CNT_ADD MEM=_LSI_PLSSET_AC_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1           ;
19025 00003794 D10C                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1         ;
19026 00003796 6012                   M           MOV.L   @R1,R0  ;
19027 00003798 7001                   M           ADD     #1,R0           ;
19028 0000379A 2102                   M           MOV.L   R0,@R1  ;
19029 0000379C                   5798     POS_PLS_OUTDAT_320_EXT:                                                                 ;
19030                            5799     
19031                            5800     
19032                            5801     
19033                            5802             eSHi_SET_MEM_MOV SRC=_INT_POS_CTL_STEP,L1=W,DST=_SH4_LOT_STEP_A,L2=W
19034                                 M           PUSH_REG1 R0
19035 0000379C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19036                                 M                                           ;REG=>[SP]
19037                                 M                                           ;"-4" FF,FF,FF,FC
19038                                 M           PUSH_REG1 R1
19039 0000379E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19040                                 M                                           ;REG=>[SP]
19041                                 M                                           ;"-4" FF,FF,FF,FC
19042 000037A0 D10A                   M           MOV.L   #_INT_POS_CTL_STEP,R1   ;
19043 000037A2 6011                   M           MOV.W   @R1,R0          ;
19044 000037A4 D10A                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;
19045 000037A6 2101                   M           MOV.W   R0,@R1          ;
19046                                 M           POP_REG1 R1
19047                                 M                                   ; RE"+4" 00,00,00,04
19048 000037A8 61F6                   M           MOV.L   @R15+,R1        ;
19049                                 M           POP_REG1 R0
19050                                 M                                   ; RE"+4" 00,00,00,04
19051 000037AA 60F6                   M           MOV.L   @R15+,R0        ;
19052                            5803     
19053                            5804     
19054                            5805     ;       ======== ものは試し====
19055 000037AC 255A              5806             XOR     R5,R5
19056 000037AE D109              5807             MOV.L   #_POSLSI_DRIV_SHIN,R1
19057 000037B0 6011              5808             MOV.W   @R1,R0                                                  ;
19058 000037B2 C801              5809             TST     #BIT0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   231
PROGRAM NAME =

19059                            5810             TST_BIT_OF POS_PLS_OUTDAT_400                                   ;
19060 000037B4 8905                   M           BT      POS_PLS_OUTDAT_400
19061                            5811             NEG1_64 H_REG=R5,L_REG=R13,WKREG=R3                             ;
19062 000037B6 6DD7                   M           NOT     R13,R13                         ;
19063 000037B8 6557                   M           NOT     R5,R5                           ;
19064 000037BA 233A                   M           XOR     R3,R3                           ;
19065 000037BC 0018                   M           SETT
19066 000037BE 3D3E                   M           ADDC    R3,R13                          ;0+1+R2
19067 000037C0 353E                   M           ADDC    R3,R5                           ;
19068 000037C2                   5812     POS_PLS_OUTDAT_400:                                                     ;
19069                            5813     
19070                            5814     
19071                            5815             SUB_END
19072                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19073 000037C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19074                            5816             M_RTS
19075 000037C4 000B                   M           RTS                             ;RTSの後ろの
19076 000037C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19077                            5817     
19078                            5818     
19079                            5819     ;       ***********************************
19080                            5820     ;       ***                             ***
19081                            5821     ;       ***     連続開始                ***
19082                            5822     ;       ***                             ***
19083                            5823     ;       ***********************************
19084                            5824     ;       安全一工程、連続、オプション
19085                            5825     ;       寸動と
19086                            5826     
19087                                     ***** BEGIN-POOL *****
19088 000037C8 00000000                   DATA FOR SOURCE-LINE 5797
19089 000037CC 00000000                   DATA FOR SOURCE-LINE 5802
19090 000037D0 00000000                   DATA FOR SOURCE-LINE 5802
19091 000037D4 00000000                   DATA FOR SOURCE-LINE 5807
19092                                     ***** END-POOL *****
19093 000037D8                   5827             .ALIGN  4                               ;
19094 000037D8                   5828     _MOTION_CYCLE_START:
19095                            5829             SUB_START
19096 000037D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19097                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19098                            5830     ;;      MOV.L   #_MODE_SEL,R1                   ;
19099                            5831     ;;      MOV.W   @R1,R0                          ;
19100                            5832     ;;      TST     #_W1CNT,R0                      ;
19101                            5833     ;;      TST_BIT_OF MOTION_CYC_ST100             ;
19102                            5834     ;;      FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19103                            5835     ;;MOTION_CYC_ST100:                             ;
19104                            5836     
19105                            5837     
19106                            5838             FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
19107 000037DA D00E                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19108 000037DC 400B                   M           JSR     @R0                     ;
19109 000037DE 0009                   M           NOP                                     ;
19110                            5839             FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
19111 000037E0 D00D                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19112 000037E2 400B                   M           JSR     @R0                     ;
19113 000037E4 0009                   M           NOP                                     ;
19114                            5840     
19115 000037E6 D10D              5841             MOV.L   #_MODE_SEL,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   232
PROGRAM NAME =

19116 000037E8 6011              5842             MOV.W   @R1,R0                          ;
19117 000037EA C81E              5843             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0 ;
19118                            5844             TST_BIT_OF MOTION_CYC_ST200             ;
19119 000037EC 8909                   M           BT      MOTION_CYC_ST200
19120                            5845     
19121 000037EE D10C              5846             MOV.L   #_CPOS_CTL_MATH,R1              ;
19122 000037F0 6011              5847             MOV.W   @R1,R0                          ;
19123                            5848     ;;2009-10-07    TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19124 000037F2 C805              5849             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-07_DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19125                            5850             TST_BIT_OF DAI_CHK01_100
19126 000037F4 8902                   M           BT      DAI_CHK01_100
19127                            5851     
19128                            5852     ;;;2003-02-03   FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;
19129                            5853             FAR_JSR #_DAI_FULL_SCALE_SMP_INI,R0     ;2003-02-03
19130 000037F6 D00B                   M           MOV.L   #_DAI_FULL_SCALE_SMP_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19131 000037F8 400B                   M           JSR     @R0                     ;
19132 000037FA 0009                   M           NOP                                     ;
19133                            5854     
19134 000037FC                   5855     DAI_CHK01_100
19135                            5856     
19136                            5857             FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19137 000037FC D00A                   M           MOV.L   #_CYCLE_TIME_REFLASH_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19138 000037FE 400B                   M           JSR     @R0                     ;
19139 00003800 0009                   M           NOP                                     ;
19140                            5858     
19141 00003802                   5859     MOTION_CYC_ST200:                               ;
19142                            5860     
19143                            5861             FAR_JSR #_MOST_DISP_DAT_INI,R0
19144 00003802 D00A                   M           MOV.L   #_MOST_DISP_DAT_INI,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19145 00003804 400B                   M           JSR     @R0                     ;
19146 00003806 0009                   M           NOP                                     ;
19147                            5862     
19148                            5863     ;       ----------------------------------------
19149                            5864             .AIF    0 EQ    0
19150                            5865 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
19151 00003808 D009                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19152 0000380A 400B                   M           JSR     @R0                     ;
19153 0000380C 0009                   M           NOP                                     ;
19154                            5866 C   ;;;;;2012-10-19 削除    FAR_JSR #_OVERH_CYC_START,R0                    ;2012-09-25
19155                            5867             .AENDI
19156                            5868     
19157                            5869             SUB_END
19158                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19159 0000380E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19160                            5870             M_RTS
19161 00003810 000B                   M           RTS                             ;RTSの後ろの
19162 00003812 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19163                            5871     
19164                            5872     ;
19165                            5873     ;       止まる時に１回通る/止まらないときも
19166                            5874     
19167                                     ***** BEGIN-POOL *****
19168 00003814 00000000                   DATA FOR SOURCE-LINE 5838
19169 00003818 00000000                   DATA FOR SOURCE-LINE 5839
19170 0000381C 00000000                   DATA FOR SOURCE-LINE 5841
19171 00003820 00000000                   DATA FOR SOURCE-LINE 5846
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   233
PROGRAM NAME =

19172 00003824 00000000                   DATA FOR SOURCE-LINE 5853
19173 00003828 00000000                   DATA FOR SOURCE-LINE 5857
19174 0000382C 00000000                   DATA FOR SOURCE-LINE 5861
19175 00003830 00000000                   DATA FOR SOURCE-LINE 5865
19176                                     ***** END-POOL *****
19177 00003834                   5875             .ALIGN  4                               ;
19178 00003834                   5876     _MOTION_CYCLE_END:
19179                            5877             SUB_START
19180 00003834 4F22                   M           STS.L   PR,@-R15                ;[必要]
19181                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19182                            5878     ;       ======= 描画用 ====
19183                            5879             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
19184 00003836 D111                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
19185 00003838 6011                   M           MOV.W   @R1,R0          ;
19186 0000383A CB01                   M           OR      #BIT0,R0                ;
19187 0000383C 2101                   M           MOV.W   R0,@R1          ;
19188                            5880     ;;;;    FAR_JSR #_LOT_SIG_SET,R0                                                ;
19189                            5881     ;;;;    FAR_JSR #_LOT_SIG_FLG_CLR,R0                                            ;
19190                            5882             FAR_JSR #_CYCLE_TIME_REFLASH_END,R0                                     ;
19191 0000383E D010                   M           MOV.L   #_CYCLE_TIME_REFLASH_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19192 00003840 400B                   M           JSR     @R0                     ;
19193 00003842 0009                   M           NOP                                     ;
19194                            5883     
19195                            5884     ;       ============================================
19196 00003844 D10F              5885             MOV.L   #_CPOS_CTL_MATH,R1              ;
19197 00003846 6011              5886             MOV.W   @R1,R0                          ;
19198                            5887     ;;[20091007下振子]      TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19199 00003848 C805              5888             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-0_7DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19200                            5889             TST_BIT_OF DAI_CHK03_300
19201 0000384A 8908                   M           BT      DAI_CHK03_300
19202                            5890     
19203                            5891             FAR_JSR #_DAI_FULL_SCALE_SMP_END,R0     ;2003-02-03
19204 0000384C D00E                   M           MOV.L   #_DAI_FULL_SCALE_SMP_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19205 0000384E 400B                   M           JSR     @R0                     ;
19206 00003850 0009                   M           NOP                                     ;
19207                            5892             FAR_JSR #_DAI_MOSTPOS_CMPARE,R0         ;
19208 00003852 D00E                   M           MOV.L   #_DAI_MOSTPOS_CMPARE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19209 00003854 400B                   M           JSR     @R0                     ;
19210 00003856 0009                   M           NOP                                     ;
19211                            5893     
19212                            5894             FAR_JSR #_KJPHOS_SMPLING_END1,R0        ;2004-07-05
19213 00003858 D00D                   M           MOV.L   #_KJPHOS_SMPLING_END1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19214 0000385A 400B                   M           JSR     @R0                     ;
19215 0000385C 0009                   M           NOP                                     ;
19216                            5895     
19217 0000385E                   5896     DAI_CHK03_300:
19218                            5897     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT4,R0
19219                            5898     
19220                            5899             .AIF    0 EQ    0
19221                            5900 C           .IMPORT _TRD_SIG_SET
19222                            5901 C           FAR_JSR #_TRD_SIG_SET,R0                        ;2006-11-20
19223 0000385E D00D                   M           MOV.L   #_TRD_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19224 00003860 400B                   M           JSR     @R0                     ;
19225 00003862 0009                   M           NOP                                     ;
19226                            5902             .AENDI
19227                            5903     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   234
PROGRAM NAME =

19228                            5904              .AIF   1 EQ 1  ;
19229                            5905 C   ;       -------- 2016-10-31 ADD 二重回路対策
19230                            5906              .AENDI
19231                            5907     ;;;;2016-10-31  FAR_JSR #_DNM_CYCLE_END,R0      ;
19232                            5908     
19233                            5909     ;       ------------- 2007-12-12 ---------------
19234                            5910             FAR_JSR #_CYCL_DOWN_POS_REF,R0          ;
19235 00003864 D00C                   M           MOV.L   #_CYCL_DOWN_POS_REF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19236 00003866 400B                   M           JSR     @R0                     ;
19237 00003868 0009                   M           NOP                                     ;
19238                            5911     
19239                            5912     
19240                            5913             .AIF    0 EQ    0
19241                            5914 C           FAR_JSR #_OVERH_CYC_END,R0                      ;2012-09-25
19242 0000386A D00C                   M           MOV.L   #_OVERH_CYC_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19243 0000386C 400B                   M           JSR     @R0                     ;
19244 0000386E 0009                   M           NOP                                     ;
19245                            5915             .AENDI
19246                            5916     
19247                            5917     ;       ----------- 2014-09-20-----------
19248                            5918             FAR_JSR #_MOT_REP_CLR,R0
19249 00003870 D00B                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19250 00003872 400B                   M           JSR     @R0                     ;
19251 00003874 0009                   M           NOP                                     ;
19252                            5919     
19253                            5920             SUB_END
19254                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19255 00003876 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19256                            5921             M_RTS
19257 00003878 000B                   M           RTS                             ;RTSの後ろの
19258 0000387A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19259                            5922     
19260                            5923     
19261                            5924     ;       *******************************************
19262                            5925     ;       ***             2007-12-12              ***
19263                            5926     ;       *******************************************
19264                                     ***** BEGIN-POOL *****
19265 0000387C 00000000                   DATA FOR SOURCE-LINE 5879
19266 00003880 00000000                   DATA FOR SOURCE-LINE 5882
19267 00003884 00000000                   DATA FOR SOURCE-LINE 5885
19268 00003888 00000000                   DATA FOR SOURCE-LINE 5891
19269 0000388C 00000000                   DATA FOR SOURCE-LINE 5892
19270 00003890 00000000                   DATA FOR SOURCE-LINE 5894
19271 00003894 00000000                   DATA FOR SOURCE-LINE 5901
19272 00003898 00000000                   DATA FOR SOURCE-LINE 5910
19273 0000389C 00000000                   DATA FOR SOURCE-LINE 5914
19274 000038A0 00000000                   DATA FOR SOURCE-LINE 5918
19275                                     ***** END-POOL *****
19276 000038A4                   5927             .ALIGN  4                               ;
19277 000038A4                   5928     _CYCL_DOWN_POS_REF:
19278                            5929             SUB_START
19279 000038A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19280                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19281                            5930     ;;      MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19282                            5931     ;;      MOV.L   @R1,R0                          ;
19283 000038A6 D103              5932             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
19284 000038A8 6012              5933             MOV.L   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   235
PROGRAM NAME =

19285 000038AA D103              5934             MOV.L   #_SHOT_MOST_DOWN_POS,R1
19286 000038AC 2102              5935             MOV.L   R0,@R1                          ;
19287                            5936             SUB_END
19288                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19289 000038AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19290                            5937             M_RTS
19291 000038B0 000B                   M           RTS                             ;RTSの後ろの
19292 000038B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19293                            5938     
19294                            5939     ;       *******************************************
19295                            5940     ;       ***     どのﾓｰﾄﾞでも1回しかこない       ***
19296                            5941     ;       *******************************************
19297                            5942     ;       止まるとき（安全一、連続停止時２回通る）
19298                            5943     ;
19299                                     ***** BEGIN-POOL *****
19300 000038B4 00000000                   DATA FOR SOURCE-LINE 5932
19301 000038B8 00000000                   DATA FOR SOURCE-LINE 5934
19302                                     ***** END-POOL *****
19303 000038BC                   5944             .ALIGN  4                               ;
19304 000038BC                   5945     _MOTION_CYCLE_ED2:
19305                            5946             SUB_START
19306 000038BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19307                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19308                            5947     
19309                            5948     ;       ==========================
19310 000038BE D104              5949             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
19311 000038C0 6011              5950             MOV.W   @R1,R0                  ;
19312 000038C2 2008              5951             TST     R0,R0                   ;
19313                            5952             TST_BIT_OF MOTCYC_ED2_050       ;
19314 000038C4 8901                   M           BT      MOTCYC_ED2_050
19315 000038C6 70FF              5953             ADD     #-1,R0                  ;
19316 000038C8 2101              5954             MOV.W   R0,@R1                  ;
19317 000038CA                   5955     MOTCYC_ED2_050:
19318                            5956     
19319                            5957     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT5,R0
19320                            5958     
19321                            5959             SUB_END
19322                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19323 000038CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19324                            5960             M_RTS
19325 000038CC 000B                   M           RTS                             ;RTSの後ろの
19326 000038CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19327                            5961     
19328                                     ***** BEGIN-POOL *****
19329 000038D0 00000000                   DATA FOR SOURCE-LINE 5949
19330                                     ***** END-POOL *****
19331 000038D4                   5962             .ALIGN  4                               ;
19332                            5963     ;;;2016-10-31_DBG_END_CNT1:
19333                            5964     ;;;2016-10-31   SUB_START
19334                            5965     ;;;2016-10-31   .AIF    0 EQ    0
19335                            5966     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT1,R1
19336                            5967     ;;;2016-10-31   .AELSE
19337                            5968     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT1,R1
19338                            5969     ;;;2016-10-31   .AENDI
19339                            5970     ;;;2016-10-31   MOV.W   @R1,R0
19340                            5971     ;;;2016-10-31   ADD     #1,R0
19341                            5972     ;;;2016-10-31   MOV.W   R0,@R1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   236
PROGRAM NAME =

19342                            5973     ;;;2016-10-31   SUB_END
19343                            5974     ;;;2016-10-31   M_RTS
19344                            5975     ;;;2016-10-31
19345                            5976     ;;;2016-10-31   .ALIGN  4                               ;
19346                            5977     ;;;2016-10-31_DBG_END_CNT2:
19347                            5978     ;;;2016-10-31   SUB_START
19348                            5979     ;;;2016-10-31   .AIF    0 EQ    0
19349                            5980     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT2,R1
19350                            5981     ;;;2016-10-31   .AELSE
19351                            5982     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT2,R1
19352                            5983     ;;;2016-10-31   .AENDI
19353                            5984     ;;;2016-10-31   MOV.W   @R1,R0
19354                            5985     ;;;2016-10-31   ADD     #1,R0
19355                            5986     ;;;2016-10-31   MOV.W   R0,@R1  ;
19356                            5987     ;;;2016-10-31   SUB_END
19357                            5988     ;;;2016-10-31   M_RTS
19358                            5989     ;;;2016-10-31
19359                            5990     ;;;2016-10-31_DBG_END_CNT3:
19360                            5991     ;;;2016-10-31   SUB_START
19361                            5992     ;;;2016-10-31   .AIF    0 EQ    0
19362                            5993     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT3,R1
19363                            5994     ;;;2016-10-31   .AELSE
19364                            5995     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT3,R1
19365                            5996     ;;;2016-10-31   .AENDI
19366                            5997     ;;;2016-10-31   MOV.W   @R1,R0
19367                            5998     ;;;2016-10-31   ADD     #1,R0
19368                            5999     ;;;2016-10-31   MOV.W   R0,@R1  ;
19369                            6000     ;;;2016-10-31   SUB_END
19370                            6001     ;;;2016-10-31   M_RTS
19371                            6002     ;;;2016-10-31
19372                            6003     ;;;2016-10-31_DBG_END_CNT4:
19373                            6004     ;;;2016-10-31   SUB_START
19374                            6005     ;;;2016-10-31   .AIF    0 EQ    0
19375                            6006     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT4,R1
19376                            6007     ;;;2016-10-31   .AELSE
19377                            6008     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT4,R1
19378                            6009     ;;;2016-10-31   .AENDI
19379                            6010     ;;;2016-10-31   MOV.W   @R1,R0
19380                            6011     ;;;2016-10-31   ADD     #1,R0
19381                            6012     ;;;2016-10-31   MOV.W   R0,@R1  ;
19382                            6013     ;;;2016-10-31   SUB_END
19383                            6014     ;;;2016-10-31   M_RTS
19384                            6015     ;;;2016-10-31
19385                            6016     ;;;2016-10-31_DBG_END_CNT5:
19386                            6017     ;;;2016-10-31   SUB_START
19387                            6018     ;;;2016-10-31   .AIF    0 EQ    0
19388                            6019     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT5,R1
19389                            6020     ;;;2016-10-31   .AELSE
19390                            6021     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT5,R1
19391                            6022     ;;;2016-10-31   MOV.W   @R1,R0
19392                            6023     ;;;2016-10-31   ADD     #1,R0
19393                            6024     ;;;2016-10-31   MOV.W   R0,@R1  ;
19394                            6025     ;;;2016-10-31   .AENDI
19395                            6026     ;;;2016-10-31   SUB_END
19396                            6027     ;;;2016-10-31   M_RTS
19397                            6028     
19398                            6029     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   237
PROGRAM NAME =

19399                            6030     
19400                            6031     
19401                            6032     
19402                            6033     ;       ***********************************
19403                            6034     ;       ***     200usec --> 2msec       ***
19404                            6035     ;       ***********************************
19405                            6036     
19406                            6037     ;       ***********************************
19407                            6038     ;       ***     200usec --> 2msec       ***
19408                            6039     ;       ***********************************
19409 000038D4                   6040             .ALIGN  4                               ;
19410 000038D4                   6041     _INT_POS_DATA_REF:
19411                            6042             SUB_START
19412 000038D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19413                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19414                            6043             SUB_END
19415                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19416 000038D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19417                            6044             M_RTS
19418 000038D8 000B                   M           RTS                             ;RTSの後ろの
19419 000038DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19420                            6045     
19421                            6046     
19422                            6047     ;       ***********************************
19423                            6048     ;       ***     払い出しカウント        ***
19424                            6049     ;       ***********************************
19425                            6050             .EXPORT _OUT_UP_DN_TOTAL_CNT
19426 000038DC                   6051             .ALIGN  4                               ;
19427 000038DC                   6052     _OUT_UP_DN_TOTAL_CNT:
19428                            6053             SUB_START
19429 000038DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19430                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19431                            6054     
19432                            6055     ;;;;;   いらない
19433                            6056     ;;;;;   -2013-04-14 [１段目停止位置＝２段目停止位置などでﾘｱﾙと払出完了のﾀｲﾐﾝｸﾞ用]---------
19434                            6057     ;;;;;   FAR_JSR #_LOD_POS_STS_REG_POR,R0        ;
19435                            6058     ;;;;;   MOV.L   #_PLS_OUT_END_STS,R1            ;
19436                            6059     ;;;;;;  MOV.W   R0,@R1                          ;BIT2=1 ﾊﾟﾙｽ出力完了
19437                            6060     ;       ----------------------------------------------------
19438                            6061     
19439                            6062     
19440                            6063     
19441                            6064     
19442                            6065     
19443                            6066     
19444                            6067     
19445                            6068     
19446                            6069     
19447 000038DE D621              6070             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(
                                          残ﾊﾟﾙｽではない)
19448 000038E0 6061              6071             MOV.W   @R6,R0                                                  ;+/-に関わらず+す
                                          るｶｳﾝﾀ
19449                            6072     
19450                            6073     ;       -----------------2007-11-26 前回と同じならもう一度読み込みを行う----------------
19451 000038E2 D421              6074             MOV.L   #_CHK_LSI_LOAD_OUT_CNT,R4                               ;
19452 000038E4 6141              6075             MOV.W   @R4,R1
19453 000038E6 2401              6076             MOV.W   R0,@R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   238
PROGRAM NAME =

19454 000038E8 3100              6077             CMP/EQ  R0,R1
19455 000038EA 8B01              6078             BF      OUTPLS_CNT_CHK010                                       ;
19456 000038EC D61D              6079             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;
19457 000038EE 6061              6080             MOV.W   @R6,R0                                                  ;
19458 000038F0                   6081     OUTPLS_CNT_CHK010:                                                      ;
19459                            6082     
19460                            6083     
19461                            6084     
19462 000038F0 9436              6085             MOV.W   #H'FF00,R4
19463 000038F2 6203              6086             MOV     R0,R2
19464 000038F4 2249              6087             AND     R4,R2
19465                            6088     
19466 000038F6 6161              6089             MOV.W   @R6,R1                                                  ;
19467 000038F8 2149              6090             AND     R4,R1
19468 000038FA 3210              6091             CMP/EQ  R1,R2                                                   ;桁　FFFF=>0　上位
                                          8BITが一致している
19469 000038FC 8900              6092             BT      OUTPLS_CNT_CHK020                                       ;
19470 000038FE 6061              6093             MOV.W   @R6,R0                                                  ;
19471 00003900                   6094     OUTPLS_CNT_CHK020:                                                      ;
19472                            6095     
19473                            6096     
19474 00003900 D11A              6097             MOV.L   #_POSLSI_CHK_CNT,R1                                     ;
19475 00003902 6211              6098             MOV.W   @R1,R2                                                  ;
19476 00003904 2101              6099             MOV.W   R0,@R1                                                  ;
19477 00003906 622D              6100             EXTU.W  R2,R2                                                   ;
19478 00003908 600D              6101             EXTU.W  R0,R0                                                   ;
19479 0000390A 3028              6102             SUB     R2,R0                                                   ;
19480 0000390C 600F              6103             EXTS.W  R0,R0                                                   ;
19481 0000390E 4011              6104             CMP/PZ  R0                                                      ;
19482 00003910 8900              6105             BT      OUTPLS_CNT_CHK050                                       ;
19483 00003912 600B              6106             NEG     R0,R0                                                   ;
19484 00003914                   6107     OUTPLS_CNT_CHK050:                                                      ;
19485 00003914 D116              6108             MOV.L   #_POSLSI_CHK_DLT,R1                                     ;変化量 +のみ
19486 00003916 2101              6109             MOV.W   R0,@R1                                                  ;
19487 00003918 D416              6110             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
19488 0000391A 6141              6111             MOV.W   @R4,R1
19489 0000391C 9321              6112             MOV.W   #BIT0,R3                                                ;
19490                            6113     
19491                            6114     
19492 0000391E 255A              6115             XOR     R5,R5                                                   ;
19493 00003920 6603              6116             MOV     R0,R6                                                   ;
19494                            6117     
19495 00003922 2138              6118             TST     R3,R1                                                   ;
19496                            6119             TST_BIT_OF OUTPLS_CNT_CHK100                                    ;BIT3=0 "+"
19497 00003924 8903                   M           BT      OUTPLS_CNT_CHK100
19498 00003926 666B              6120             NEG     R6,R6                                                   ;
19499 00003928 4611              6121             CMP/PZ  R6
19500 0000392A 8900              6122             BT      OUTPLS_CNT_CHK100                                       ;
19501 0000392C 75FF              6123             ADD     #-1,R5                                                  ;
19502 0000392E                   6124     OUTPLS_CNT_CHK100:                                                      ;
19503                            6125     
19504                            6126     ;       === 2003-07-01 1msec差分速度算出用 ==
19505 0000392E D312              6127             MOV.L   #_OUTPLS_DELT,R3                        ;符号付
19506 00003930 2361              6128             MOV.W   R6,@R3                                  ;
19507                            6129     
19508                            6130     ;       =====================================
19509                            6131             PUSH_REG1 R5                                                    ;異常測定用
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   239
PROGRAM NAME =

19510 00003932 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19511                                 M                                           ;REG=>[SP]
19512                                 M                                           ;"-4" FF,FF,FF,FC
19513                            6132             PUSH_REG1 R6                                                    ;
19514 00003934 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19515                                 M                                           ;REG=>[SP]
19516                                 M                                           ;"-4" FF,FF,FF,FC
19517 00003936 D311              6133             MOV.L   #_POSLSI_OUTPUT_TOTAL_PLS,R3                            ;
19518 00003938 6132              6134             MOV.L   @R3,R1                                                  ;
19519 0000393A 5231              6135             MOV.L   @(4,R3),R2                                              ;
19520                            6136             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19521 0000393C 0008                   M           CLRT
19522 0000393E 326E                   M           ADDC    R6,R2
19523 00003940 315E                   M           ADDC    R5,R1
19524 00003942 2312              6137             MOV.L   R1,@R3                                                  ;
19525 00003944 1321              6138             MOV.L   R2,@(4,R3)                                              ;
19526                            6139             POP_REG1 R6                                                     ;
19527                                 M                                   ; RE"+4" 00,00,00,04
19528 00003946 66F6                   M           MOV.L   @R15+,R6        ;
19529                            6140             POP_REG1 R5                                                     ;
19530                                 M                                   ; RE"+4" 00,00,00,04
19531 00003948 65F6                   M           MOV.L   @R15+,R5        ;
19532                            6141     
19533                            6142     ;       =========       20060919 現在位置管理用 =============
19534 0000394A D30D              6143             MOV.L   #_LINK_RL_OBJ_ABSPLS,R3                         ;
19535 0000394C 6132              6144             MOV.L   @R3,R1                                                  ;
19536 0000394E 5231              6145             MOV.L   @(4,R3),R2                                              ;
19537                            6146             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19538 00003950 0008                   M           CLRT
19539 00003952 326E                   M           ADDC    R6,R2
19540 00003954 315E                   M           ADDC    R5,R1
19541 00003956 2312              6147             MOV.L   R1,@R3                                                  ;
19542 00003958 1321              6148             MOV.L   R2,@(4,R3)                                              ;
19543                            6149     
19544                            6150     
19545                            6151     
19546                            6152             SUB_END
19547                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19548 0000395A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19549                            6153             M_RTS
19550 0000395C 000B                   M           RTS                             ;RTSの後ろの
19551 0000395E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19552                            6154     
19553                            6155     ;       *******************************************
19554                            6156     ;       ***                                     ***
19555                            6157     ;       ***                                     ***
19556                            6158     ;       ***             ニアゼロチェック        ***
19557                            6159     ;       ***                                     ***
19558                            6160     ;       *******************************************
19559                            6161     ;       R0= -1:完了
19560                            6162     ;
19561                                     ***** BEGIN-POOL *****
19562 00003960 FF00                       DATA FOR SOURCE-LINE 6085
19563 00003962 0001                       DATA FOR SOURCE-LINE 6112
19564 00003964 00000000                   DATA FOR SOURCE-LINE 6070,6079
19565 00003968 00000000                   DATA FOR SOURCE-LINE 6074
19566 0000396C 00000000                   DATA FOR SOURCE-LINE 6097
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   240
PROGRAM NAME =

19567 00003970 00000000                   DATA FOR SOURCE-LINE 6108
19568 00003974 00000000                   DATA FOR SOURCE-LINE 6110
19569 00003978 00000000                   DATA FOR SOURCE-LINE 6127
19570 0000397C 00000000                   DATA FOR SOURCE-LINE 6133
19571 00003980 00000000                   DATA FOR SOURCE-LINE 6143
19572                                     ***** END-POOL *****
19573 00003984                   6163             .ALIGN  4                               ;
19574 00003984                   6164     _OPEN_ROT_NEAR1_ZERO_CHK:
19575                            6165             SUB_START
19576 00003984 4F22                   M           STS.L   PR,@-R15                ;[必要]
19577                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19578                            6166             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
19579 00003986 D008                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19580 00003988 400B                   M           JSR     @R0                     ;
19581 0000398A 0009                   M           NOP                                     ;
19582                            6167     
19583                            6168     ;       =====2009-10-07　連続のふりこ専用ｲﾝﾎﾟｼﾞｼｮﾝ(h2wはふりこ＋反転)
19584 0000398C D107              6169             MOV.L   #_MODE_SEL,R1                   ;
19585 0000398E 6011              6170             MOV.W   @R1,R0                          ;
19586 00003990 C808              6171             TST     #_W1CNT,R0                      ;
19587                            6172             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20       ;
19588 00003992 8911                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
19589                            6173     
19590                            6174     ;       -----2009-10-07 ADD(ふりこの場合の連続ﾓｰﾄﾞのみニアゼロ幅を変える) h2wは反転も-----
                                          -
19591 00003994 D306              6175             MOV.L   #_SET1_OBJARA_INPXPSX,R3                ;ふりこ用2007-11-13
19592 00003996 6431              6176             MOV.W   @R3,R4                                  ;
19593 00003998 2448              6177             TST     R4,R4                                   ;
19594                            6178             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;"0以外"
19595 0000399A 890D                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
19596                            6179     
19597 0000399C D105              6180             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19598 0000399E 6011              6181             MOV.W   @R1,R0                                  ;
19599                            6182     ;;;h2w  TST     #(_DMATH_REVRSE+_DMATH_DNDRIV),R0       ;DRIVE MATH 反転,ふりこ
19600 000039A0 C804              6183             TST     #(_DMATH_DNDRIV),R0                     ;DRIVE MATH ふりこ
19601                            6184             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;
19602 000039A2 8909                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
19603                            6185             M_BRA   OPEN_ROT_NEAR1_ZR_CK40
19604 000039A4 A00A                   M           BRA     OPEN_ROT_NEAR1_ZR_CK40
19605 000039A6 0009                   M           NOP
19606                            6186     
19607                            6187     
19608                                     ***** BEGIN-POOL *****
19609 000039A8 00000000                   DATA FOR SOURCE-LINE 6166
19610 000039AC 00000000                   DATA FOR SOURCE-LINE 6169
19611 000039B0 00000000                   DATA FOR SOURCE-LINE 6175
19612 000039B4 00000000                   DATA FOR SOURCE-LINE 6180
19613                                     ***** END-POOL *****
19614 000039B8                   6188     OPEN_ROT_NEAR1_ZR_CK20:
19615 000039B8 D307              6189             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
19616 000039BA 6431              6190             MOV.W   @R3,R4                          ;
19617 000039BC                   6191     OPEN_ROT_NEAR1_ZR_CK40:                         ;
19618 000039BC 3423              6192             CMP/GE  R2,R4                           ;R2 =< MAX
19619 000039BE 890F              6193             BT      OPEN_ROT_NEAR1_ZR_CK50          ;
19620                            6194     ;       ==== ﾆｱｾﾞﾛ待ち======
19621                            6195             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   241
PROGRAM NAME =

19622 000039C0 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19623 000039C2 6011                   M           MOV.W   @R1,R0          ;
19624 000039C4 CB01                   M           OR      #BIT0,R0                ;
19625 000039C6 2101                   M           MOV.W   R0,@R1          ;
19626                            6196             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19627 000039C8 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19628 000039CA 6011                   M           MOV.W   @R1,R0          ;
19629 000039CC C9FD                   M           AND     #LOW ~BIT1,R0           ;
19630 000039CE 2101                   M           MOV.W   R0,@R1          ;
19631                            6197     ;       ===============================================
19632 000039D0 200A              6198             XOR     R0,R0                           ;
19633                            6199             M_BRA   OPEN_ROT_NEAR1_ZR_CK100
19634 000039D2 A016                   M           BRA     OPEN_ROT_NEAR1_ZR_CK100
19635 000039D4 0009                   M           NOP
19636                            6200     
19637                                     ***** BEGIN-POOL *****
19638 000039D6 0000                       ALIGNMENT CODE
19639 000039D8 00000000                   DATA FOR SOURCE-LINE 6189
19640 000039DC 00000000                   DATA FOR SOURCE-LINE 6195,6196
19641                                     ***** END-POOL *****
19642 000039E0                   6201     OPEN_ROT_NEAR1_ZR_CK50:
19643                            6202     ;       =========[ﾆｱｾﾞﾛ]======================================
19644                            6203             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
19645 000039E0 D109                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
19646 000039E2 6011                   M           MOV.W   @R1,R0          ;
19647 000039E4 CB01                   M           OR      #BIT0,R0                ;
19648 000039E6 2101                   M           MOV.W   R0,@R1          ;
19649                            6204             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT0,WKREG=R1 ;2012-12-10 DEB
                                          UG
19650 000039E8 D108                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
19651 000039EA 6011                   M           MOV.W   @R1,R0          ;
19652 000039EC CB01                   M           OR      #BIT0,R0                ;
19653 000039EE 2101                   M           MOV.W   R0,@R1          ;
19654                            6205     
19655                            6206     
19656                            6207     
19657                            6208             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19658 000039F0 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19659 000039F2 6011                   M           MOV.W   @R1,R0          ;
19660 000039F4 C9FE                   M           AND     #LOW ~BIT0,R0           ;
19661 000039F6 2101                   M           MOV.W   R0,@R1          ;
19662                            6209             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19663 000039F8 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19664 000039FA 6011                   M           MOV.W   @R1,R0          ;
19665 000039FC CB02                   M           OR      #BIT1,R0                ;
19666 000039FE 2101                   M           MOV.W   R0,@R1          ;
19667                            6210     
19668                            6211     ;       ===============================================
19669 00003A00 E0FF              6212             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
19670 00003A02                   6213     OPEN_ROT_NEAR1_ZR_CK100:                                ;
19671                            6214             SUB_END
19672                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19673 00003A02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19674                            6215             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   242
PROGRAM NAME =

19675 00003A04 000B                   M           RTS                             ;RTSの後ろの
19676 00003A06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19677                            6216     
19678                            6217     ;       *******************************************
19679                            6218     ;       ***                                     ***
19680                            6219     ;       ***     反転の戻り工程だけの            ***
19681                            6220     ;       ***             ニアゼロチェック        ***
19682                            6221     ;       ***                                     ***
19683                            6222     ;       *******************************************
19684                            6223     ;       R0= -1:完了
19685                            6224     ;
19686                                     ***** BEGIN-POOL *****
19687 00003A08 00000000                   DATA FOR SOURCE-LINE 6203
19688 00003A0C 00000000                   DATA FOR SOURCE-LINE 6204
19689 00003A10 00000000                   DATA FOR SOURCE-LINE 6208,6209
19690                                     ***** END-POOL *****
19691 00003A14                   6225             .ALIGN  4                               ;
19692 00003A14                   6226     _OPEN_ROT_NEAR2_ZERO_CHK:
19693                            6227             SUB_START
19694 00003A14 4F22                   M           STS.L   PR,@-R15                ;[必要]
19695                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19696                            6228             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
19697 00003A16 D00A                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19698 00003A18 400B                   M           JSR     @R0                     ;
19699 00003A1A 0009                   M           NOP                                     ;
19700 00003A1C D309              6229             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
19701 00003A1E 6431              6230             MOV.W   @R3,R4                          ;
19702 00003A20 900D              6231             MOV.W   #D'1000,R0                      ;
19703 00003A22 340C              6232             ADD     R0,R4                           ;目標位置+ｲﾝﾎﾟｼﾞｼｮﾝ+1000~-ｲﾝﾎﾟｼﾞｼｮﾝ-1000
19704                            6233     
19705 00003A24 3423              6234             CMP/GE  R2,R4                           ;R2 =< MAX
19706 00003A26 8911              6235             BT      OPEN_ROT_NEAR2_ZR_CK50          ;
19707                            6236     ;       ==== ﾆｱｾﾞﾛ待ち======
19708                            6237             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19709 00003A28 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19710 00003A2A 6011                   M           MOV.W   @R1,R0          ;
19711 00003A2C CB01                   M           OR      #BIT0,R0                ;
19712 00003A2E 2101                   M           MOV.W   R0,@R1          ;
19713                            6238             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19714 00003A30 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19715 00003A32 6011                   M           MOV.W   @R1,R0          ;
19716 00003A34 C9FD                   M           AND     #LOW ~BIT1,R0           ;
19717 00003A36 2101                   M           MOV.W   R0,@R1          ;
19718                            6239     ;       ===============================================
19719 00003A38 200A              6240             XOR     R0,R0                           ;
19720                            6241             M_BRA   OPEN_ROT_NEAR2_ZR_CK100
19721 00003A3A A014                   M           BRA     OPEN_ROT_NEAR2_ZR_CK100
19722 00003A3C 0009                   M           NOP
19723                            6242     
19724                                     ***** BEGIN-POOL *****
19725 00003A3E 03E8                       DATA FOR SOURCE-LINE 6231
19726 00003A40 00000000                   DATA FOR SOURCE-LINE 6228
19727 00003A44 00000000                   DATA FOR SOURCE-LINE 6229
19728 00003A48 00000000                   DATA FOR SOURCE-LINE 6237,6238
19729                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   243
PROGRAM NAME =

19730 00003A4C                   6243     OPEN_ROT_NEAR2_ZR_CK50:
19731                            6244     ;       =========[ﾆｱｾﾞﾛ]======================================
19732                            6245             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
19733 00003A4C D107                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
19734 00003A4E 6011                   M           MOV.W   @R1,R0          ;
19735 00003A50 CB01                   M           OR      #BIT0,R0                ;
19736 00003A52 2101                   M           MOV.W   R0,@R1          ;
19737                            6246     
19738                            6247             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19739 00003A54 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19740 00003A56 6011                   M           MOV.W   @R1,R0          ;
19741 00003A58 C9FE                   M           AND     #LOW ~BIT0,R0           ;
19742 00003A5A 2101                   M           MOV.W   R0,@R1          ;
19743                            6248             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19744 00003A5C D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19745 00003A5E 6011                   M           MOV.W   @R1,R0          ;
19746 00003A60 CB02                   M           OR      #BIT1,R0                ;
19747 00003A62 2101                   M           MOV.W   R0,@R1          ;
19748                            6249     
19749                            6250     ;       ===============================================
19750 00003A64 E0FF              6251             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
19751 00003A66                   6252     OPEN_ROT_NEAR2_ZR_CK100:                                ;
19752                            6253             SUB_END
19753                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19754 00003A66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19755                            6254             M_RTS
19756 00003A68 000B                   M           RTS                             ;RTSの後ろの
19757 00003A6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19758                            6255     
19759                            6256     
19760                            6257     ;       *******************************************
19761                            6258     ;       ***                                     ***
19762                            6259     ;       ***     カムへステップ完了を教える      ***
19763                            6260     ;       ***                                     ***
19764                            6261     ;       *******************************************
19765                            6262     ;       ﾀｲﾏ前
19766                                     ***** BEGIN-POOL *****
19767 00003A6C 00000000                   DATA FOR SOURCE-LINE 6245
19768 00003A70 00000000                   DATA FOR SOURCE-LINE 6247,6248
19769                                     ***** END-POOL *****
19770 00003A74                   6263             .ALIGN  4                               ;
19771 00003A74                   6264     _CAM_1STEP_END_SIG1:
19772                            6265             SUB_START
19773 00003A74 4F22                   M           STS.L   PR,@-R15                ;[必要]
19774                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19775 00003A76 D105              6266             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
19776 00003A78 6011              6267             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
19777 00003A7A 4008              6268             SHLL2   R0                              ;
19778 00003A7C D204              6269             MOV.L   #_LONG_BIT_TBL0,R2              ;
19779 00003A7E 320C              6270             ADD     R0,R2                           ;
19780 00003A80 6022              6271             MOV.L   @R2,R0                          ;
19781 00003A82 D104              6272             MOV.L   #_CAM_POS_STEP_END_FLG1,R1      ;//各工程の位置決め完了
19782 00003A84 2101              6273             MOV.W   R0,@R1                          ;
19783                            6274             SUB_END
19784                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   244
PROGRAM NAME =

19785 00003A86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19786                            6275             M_RTS
19787 00003A88 000B                   M           RTS                             ;RTSの後ろの
19788 00003A8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19789                            6276     
19790                            6277     ;       ﾀｲﾏ後
19791                                     ***** BEGIN-POOL *****
19792 00003A8C 00000000                   DATA FOR SOURCE-LINE 6266
19793 00003A90 00000000                   DATA FOR SOURCE-LINE 6269
19794 00003A94 00000000                   DATA FOR SOURCE-LINE 6272
19795                                     ***** END-POOL *****
19796 00003A98                   6278             .ALIGN  4                               ;
19797 00003A98                   6279     _CAM_1STEP_END_SIG2:
19798                            6280             SUB_START
19799 00003A98 4F22                   M           STS.L   PR,@-R15                ;[必要]
19800                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19801 00003A9A D105              6281             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
19802 00003A9C 6011              6282             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
19803 00003A9E 4008              6283             SHLL2   R0                              ;
19804 00003AA0 D204              6284             MOV.L   #_LONG_BIT_TBL0,R2              ;
19805 00003AA2 320C              6285             ADD     R0,R2                           ;
19806 00003AA4 6022              6286             MOV.L   @R2,R0                          ;
19807 00003AA6 D104              6287             MOV.L   #_CAM_POS_STEP_END_FLG2,R1      ;//各工程の位置決め完了
19808 00003AA8 2101              6288             MOV.W   R0,@R1                          ;
19809                            6289             SUB_END
19810                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19811 00003AAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19812                            6290             M_RTS
19813 00003AAC 000B                   M           RTS                             ;RTSの後ろの
19814 00003AAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19815                            6291     
19816                            6292     ;       *******************************************
19817                            6293     ;       ***     ANS R1,R2 |目標-現在|=R2        ***
19818                            6294     ;       ***     ANS R0=0 目標>=現在             ***
19819                            6295     ;       *******************************************
19820                            6296     ;       4BYTE MAX +/ 7FFF,FFFF
19821                            6297             .EXPORT _INCENC_SV_HENSA_MAKE
19822                                     ***** BEGIN-POOL *****
19823 00003AB0 00000000                   DATA FOR SOURCE-LINE 6281
19824 00003AB4 00000000                   DATA FOR SOURCE-LINE 6284
19825 00003AB8 00000000                   DATA FOR SOURCE-LINE 6287
19826                                     ***** END-POOL *****
19827 00003ABC                   6298             .ALIGN  4                               ;
19828 00003ABC                   6299     _INCENC_SV_HENSA_MAKE:
19829                            6300             SUB_START
19830 00003ABC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19831                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19832 00003ABE D40C              6301             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;//abs停止目標位置
                                          (設定ﾊﾞｯｸﾗｯｼなし)
19833 00003AC0 6142              6302             MOV.L   @R4,R1                                                  ;
19834 00003AC2 5241              6303             MOV.L   @(1*4,R4),R2                                            ;目標位置
19835 00003AC4 D40B              6304             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;20060919
19836 00003AC6 6542              6305             MOV.L   @R4,R5                                                  ;
19837 00003AC8 5641              6306             MOV.L   @(1*4,R4),R6                                            ;現在位置
19838                            6307             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19839 00003ACA 0008                   M           CLRT
19840 00003ACC 326A                   M           SUBC    R6,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   245
PROGRAM NAME =

19841 00003ACE 315A                   M           SUBC    R5,R1
19842 00003AD0 6013              6308             MOV     R1,R0                           ;
19843 00003AD2 4111              6309             CMP/PZ  R1                              ;
19844 00003AD4 8905              6310             BT      INCENC_SV_HENSA_MK050           ;
19845                            6311             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3      ;
19846 00003AD6 6227                   M           NOT     R2,R2                           ;
19847 00003AD8 6117                   M           NOT     R1,R1                           ;
19848 00003ADA 233A                   M           XOR     R3,R3                           ;
19849 00003ADC 0018                   M           SETT
19850 00003ADE 323E                   M           ADDC    R3,R2                           ;0+1+R2
19851 00003AE0 313E                   M           ADDC    R3,R1                           ;
19852 00003AE2                   6312     INCENC_SV_HENSA_MK050:                          ;
19853 00003AE2 2118              6313             TST     R1,R1                           ;
19854                            6314             TST_BIT_OF INCENC_SV_HENSA_MK100        ;8byte
19855 00003AE4 8900                   M           BT      INCENC_SV_HENSA_MK100
19856 00003AE6 D204              6315             MOV.L   #H'7FFFFFFF,R2                  ;
19857 00003AE8                   6316     INCENC_SV_HENSA_MK100:                          ;
19858                            6317     
19859                            6318             SUB_END
19860                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19861 00003AE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19862                            6319             M_RTS
19863 00003AEA 000B                   M           RTS                             ;RTSの後ろの
19864 00003AEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19865                            6320     
19866                            6321     ;       ***********************************
19867                            6322     ;       ***     最下死点INITAL          ***
19868                            6323     ;       ***********************************
19869                                     ***** BEGIN-POOL *****
19870 00003AEE 0000                       ALIGNMENT CODE
19871 00003AF0 00000000                   DATA FOR SOURCE-LINE 6301
19872 00003AF4 00000000                   DATA FOR SOURCE-LINE 6304
19873 00003AF8 7FFFFFFF                   DATA FOR SOURCE-LINE 6315
19874                                     ***** END-POOL *****
19875 00003AFC                   6324             .ALIGN  4                               ;
19876 00003AFC                   6325     _MOST_DISP_DAT_INI:
19877                            6326             SUB_START
19878 00003AFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19880 00003AFE D109              6327             MOV.L   #_CYCL_START_CNT,R1             ;
19881 00003B00 6011              6328             MOV.W   @R1,R0                          ;
19882 00003B02 7001              6329             ADD     #1,R0                           ;
19883 00003B04 2101              6330             MOV.W   R0,@R1                          ;起動回数
19884                            6331     
19885                            6332     ;       ======== 2007-12-12 ====================
19886 00003B06 D108              6333             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
19887 00003B08 6212              6334             MOV.L   @R1,R2                          ;
19888 00003B0A D108              6335             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
19889 00003B0C 2122              6336             MOV.L   R2,@R1                          ;
19890                            6337     ;       =========================================
19891                            6338     
19892                            6339     ;       ====== 最下死点処理======
19893 00003B0E D108              6340             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
19894 00003B10 6012              6341             MOV.L   @R1,R0                          ;
19895 00003B12 D108              6342             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19896 00003B14 2102              6343             MOV.L   R0,@R1                          ;
19897                            6344     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   246
PROGRAM NAME =

19898 00003B16 D108              6345             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
19899 00003B18 6012              6346             MOV.L   @R1,R0                          ;
19900 00003B1A D108              6347             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19901 00003B1C 2102              6348             MOV.L   R0,@R1                          ;
19902                            6349     ;       =========================
19903                            6350             SUB_END
19904                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19905 00003B1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19906                            6351             M_RTS
19907 00003B20 000B                   M           RTS                             ;RTSの後ろの
19908 00003B22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19909                            6352     
19910                            6353     ;       ***********************************
19911                            6354     ;       ***     最下死点ｻﾝﾌﾟﾘﾝｸﾞ        ***
19912                            6355     ;       ***********************************
19913                                     ***** BEGIN-POOL *****
19914 00003B24 00000000                   DATA FOR SOURCE-LINE 6327
19915 00003B28 00000000                   DATA FOR SOURCE-LINE 6333
19916 00003B2C 00000000                   DATA FOR SOURCE-LINE 6335
19917 00003B30 00000000                   DATA FOR SOURCE-LINE 6340
19918 00003B34 00000000                   DATA FOR SOURCE-LINE 6342
19919 00003B38 00000000                   DATA FOR SOURCE-LINE 6345
19920 00003B3C 00000000                   DATA FOR SOURCE-LINE 6347
19921                                     ***** END-POOL *****
19922 00003B40                   6356             .ALIGN  4                               ;
19923 00003B40                   6357     _MOST_DISP_DAT_SMP:
19924                            6358             SUB_START
19925 00003B40 4F22                   M           STS.L   PR,@-R15                ;[必要]
19926                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19927                            6359     ;       ====== 最下死点処理======
19928 00003B42 D10D              6360             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
19929 00003B44 6012              6361             MOV.L   @R1,R0                          ;
19930 00003B46 D10D              6362             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19931 00003B48 6212              6363             MOV.L   @R1,R2                          ;
19932 00003B4A 3023              6364             CMP/GE  R2,R0                           ; OLD < NEW(R0)
19933 00003B4C 8900              6365             BT      MOST_DISP_DATSMP_050            ;
19934 00003B4E 6203              6366             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
19935 00003B50                   6367     MOST_DISP_DATSMP_050:                           ;
19936 00003B50 2122              6368             MOV.L   R2,@R1                          ;
19937                            6369     
19938 00003B52 D10B              6370             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
19939 00003B54 6012              6371             MOV.L   @R1,R0                          ;
19940 00003B56 D10B              6372             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19941 00003B58 6212              6373             MOV.L   @R1,R2                          ;
19942 00003B5A 3203              6374             CMP/GE  R0,R2                           ;NEW(R0) < OLD
19943 00003B5C 8900              6375             BT      MOST_DISP_DATSMP_100            ;
19944 00003B5E 6203              6376             MOV     R0,R2                           ;最大値ｻﾝﾌﾟﾘﾝｸﾞ
19945 00003B60                   6377     MOST_DISP_DATSMP_100:                           ;
19946 00003B60 2122              6378             MOV.L   R2,@R1                          ;
19947                            6379     ;       =========================
19948                            6380     
19949                            6381     ;       ======== 2007-12-12(RNA_ABS_POSの最小値) ======
19950                            6382     ;       ====== 最下死点処理======
19951 00003B62 D109              6383             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
19952 00003B64 6012              6384             MOV.L   @R1,R0                          ;
19953 00003B66 D109              6385             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;//
19954 00003B68 6212              6386             MOV.L   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   247
PROGRAM NAME =

19955 00003B6A 3023              6387             CMP/GE  R2,R0                           ; OLD < NEW(R0)
19956 00003B6C 8900              6388             BT      MOST_DISP_DATSMP_150            ;
19957 00003B6E 6203              6389             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
19958 00003B70                   6390     MOST_DISP_DATSMP_150:                           ;
19959 00003B70 2122              6391             MOV.L   R2,@R1                          ;
19960                            6392     ;       =========================================
19961                            6393     
19962                            6394             SUB_END
19963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19964 00003B72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19965                            6395             M_RTS
19966 00003B74 000B                   M           RTS                             ;RTSの後ろの
19967 00003B76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19968                            6396     
19969                            6397     ;       ***********************************
19970                            6398     ;       ***                             ***
19971                            6399     ;       ***                             ***
19972                            6400     ;       ***                             ***
19973                            6401     ;       ***********************************
19974                                     ***** BEGIN-POOL *****
19975 00003B78 00000000                   DATA FOR SOURCE-LINE 6360
19976 00003B7C 00000000                   DATA FOR SOURCE-LINE 6362
19977 00003B80 00000000                   DATA FOR SOURCE-LINE 6370
19978 00003B84 00000000                   DATA FOR SOURCE-LINE 6372
19979 00003B88 00000000                   DATA FOR SOURCE-LINE 6383
19980 00003B8C 00000000                   DATA FOR SOURCE-LINE 6385
19981                                     ***** END-POOL *****
19982 00003B90                   6402             .ALIGN  4                               ;
19983 00003B90                   6403     _CMP_ERR_STS_REF:
19984                            6404             SUB_START
19985 00003B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
19986                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19987                            6405             SUB_END
19988                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19989 00003B92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19990                            6406             M_RTS
19991 00003B94 000B                   M           RTS                             ;RTSの後ろの
19992 00003B96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19993                            6407     
19994                            6408     
19995                            6409     ;       ***********************************
19996                            6410     ;       ***     R0=0:停止 ELSE 動作     ***
19997                            6411     ;       ***********************************
19998                            6412     ;       == R0=0 停止 R0=FF 動作
19999                            6413     ;       USED R4,R1,R0
20000                            6414             .IMPORT _CPUA_PLS_OUTF  ;
20001                            6415             .IMPORT _CPUB_PLS_OUTF  ;
20002                            6416     
20003 00003B98                   6417             .ALIGN  4                               ;
20004 00003B98                   6418     _ERR_STOP_MOV_CHK:
20005                            6419             SUB_START
20006 00003B98 4F22                   M           STS.L   PR,@-R15                ;[必要]
20007                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20008                            6420             FAR_JSR #_LOD_POS_STS_REG,R0            ;停止の判断をこれにする
20009 00003B9A D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20010 00003B9C 400B                   M           JSR     @R0                     ;
20011 00003B9E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   248
PROGRAM NAME =

20012 00003BA0 211A              6421             XOR     R1,R1                           ;
20013 00003BA2 C804              6422             TST     #BIT2,R0                        ;
20014                            6423             TST_BIT_ON ERR_STOP_MOVCK050            ;
20015 00003BA4 8B00                   M           BF      ERR_STOP_MOVCK050
20016 00003BA6 71FF              6424             ADD     #-1,R1
20017 00003BA8                   6425     ERR_STOP_MOVCK050:
20018 00003BA8 6013              6426             MOV     R1,R0                           ;
20019 00003BAA D104              6427             MOV.L   #_PLS_OUTPUT_FLG,R1             ;//0払い出し停止 1払出中
20020 00003BAC 2101              6428             MOV.W   R0,@R1                          ;
20021                            6429     
20022                            6430     ;       ----- 2015-07-14--------
20023                            6431      .AIF   0 EQ    0       ;
20024 00003BAE D104              6432 C           MOV.L   #_CPUA_PLS_OUTF,R1      ;
20025                            6433      .AELSE
20026                            6434             MOV.L   #_CPUB_PLS_OUTF,R1      ;
20027                            6435      .AENDI
20028 00003BB0 2101              6436             MOV.W   R0,@R1                          ;
20029                            6437             SUB_END
20030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20031 00003BB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20032                            6438             M_RTS
20033 00003BB4 000B                   M           RTS                             ;RTSの後ろの
20034 00003BB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20035                            6439     
20036                            6440     ;       ***************************************************
20037                            6441     ;       ***                                             ***
20038                            6442     ;       ***                                             ***
20039                            6443     ;       ***                                             ***
20040                            6444     ;       ***                                             ***
20041                            6445     ;       ***             位置決めLSIｱｸｾｽｿﾌﾄ              ***
20042                            6446     ;       ***                                             ***
20043                            6447     ;       ***                                             ***
20044                            6448     ;       ***                                             ***
20045                            6449     ;       ***************************************************
20046                            6450     
20047                            6451     ;       === (2003-07-01 履歴用ﾃﾞｰﾀ作成) ======
20048                            6452             .EXPORT _LOAD_REST_PLS          ;残りﾊﾟﾙｽ
20049                            6453             .EXPORT _LOAD_FREQ_PLS          ;設定ﾊﾟﾙｽ
20050                            6454             .EXPORT _LOAD_NOW_FREQ_PLS      ;現在
20051                            6455             .EXPORT _LOAD_GPOINT_PLS        ;
20052                            6456     
20053                            6457             .EXPORT _LOAD_SPD_LATE          ;
20054                            6458             .EXPORT _LOAD_ACCS1_LATE        ;
20055                            6459             .EXPORT _LOAD_BASE_FREQ_PLS     ;
20056                            6460     
20057                            6461     ;       ***************************************************
20058                            6462     ;       ***                                             ***
20059                            6463     ;       ***             残りﾊﾟﾙｽREAD                    ***
20060                            6464     ;       ***             ANS:R0                          ***
20061                            6465     ;       ***************************************************
20062                            6466     ;       R0以外破壊しない
20063                            6467     ;       "残りﾊﾟﾙｽ"
20064                            6468     ;       減る方向で化けるｹｰｽもある.従って２度読みの古い方側を使用した方が良いか？
20065                            6469     ;       ３度読みでその真ん中は正しい=  >２度読みの古いほうが正しい ==>だめ
20066                            6470     ;       １回目が化けて大きくなって２回目が正常なら発生する
20067                            6471     ;       時間などチェックが必要だ
20068                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   249
PROGRAM NAME =

20069 00003BB8 00000000                   DATA FOR SOURCE-LINE 6420
20070 00003BBC 00000000                   DATA FOR SOURCE-LINE 6427
20071 00003BC0 00000000                   DATA FOR SOURCE-LINE 6432
20072                                     ***** END-POOL *****
20073 00003BC4                   6472             .ALIGN  4                               ;
20074 00003BC4                   6473     _LOAD_REST_PLS:
20075                            6474             SUB_START
20076 00003BC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20077                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20078                            6475             PUSH_REG1 R1
20079 00003BC6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20080                                 M                                           ;REG=>[SP]
20081                                 M                                           ;"-4" FF,FF,FF,FC
20082                            6476             PUSH_REG1 R2
20083 00003BC8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20084                                 M                                           ;REG=>[SP]
20085                                 M                                           ;"-4" FF,FF,FF,FC
20086                            6477             PUSH_REG1 R3
20087 00003BCA 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20088                                 M                                           ;REG=>[SP]
20089                                 M                                           ;"-4" FF,FF,FF,FC
20090                            6478             PUSH_REG1 R4
20091 00003BCC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20092                                 M                                           ;REG=>[SP]
20093                                 M                                           ;"-4" FF,FF,FF,FC
20094 00003BCE E30A              6479             MOV     #D'10,R3                                        ;
20095                            6480     
20096 00003BD0                   6481     LOAD_RESTPLS_LOP:
20097                            6482     
20098 00003BD0 D109              6483             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20099                            6484             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20100 00003BD2 D00A                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20101 00003BD4 400B                   M           JSR     @R0                     ;
20102 00003BD6 0009                   M           NOP                                     ;
20103 00003BD8 6403              6485             MOV     R0,R4                                           ;FIRST R0
20104                            6486     
20105 00003BDA D107              6487             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20106                            6488             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20107 00003BDC D007                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20108 00003BDE 400B                   M           JSR     @R0                     ;
20109 00003BE0 0009                   M           NOP                                     ;
20110 00003BE2 6203              6489             MOV     R0,R2                                           ;FIRST R0
20111                            6490     
20112 00003BE4 D104              6491             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20113                            6492             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20114 00003BE6 D005                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20115 00003BE8 400B                   M           JSR     @R0                     ;
20116 00003BEA 0009                   M           NOP                                     ;
20117                            6493     
20118                            6494     ;       R0=<R2=<R4
20119 00003BEC 3422              6495             CMP/HS  R2,R4                                           ;R2 =< R4
20120 00003BEE 8B07              6496             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R2>R4)
20121 00003BF0 3202              6497             CMP/HS  R0,R2                                           ;R0 =< R2
20122 00003BF2 8B05              6498             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R0>R2)
20123                            6499             M_BRA   LOAD_RESTPLS_END                                ;R0(NEW)=<R2(MID)=<R4(OLD)
                                           R2を信用する
20124 00003BF4 A00F                   M           BRA     LOAD_RESTPLS_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   250
PROGRAM NAME =

20125 00003BF6 0009                   M           NOP
20126                            6500     
20127                                     ***** BEGIN-POOL *****
20128 00003BF8 00000000                   DATA FOR SOURCE-LINE 6483,6487,6491
20129 00003BFC 00000000                   DATA FOR SOURCE-LINE 6484,6488,6492
20130                                     ***** END-POOL *****
20131 00003C00                   6501     LOAD_RESTPLS_050:                                               ;
20132 00003C00 D109              6502             MOV.L   #_LSI_PLSRD_NG_CNT1,R1                          ;
20133 00003C02 6011              6503             MOV.W   @R1,R0                                          ;
20134 00003C04 7001              6504             ADD     #1,R0                                           ;
20135 00003C06 2101              6505             MOV.W   R0,@R1                                          ;
20136                            6506     
20137 00003C08 73FF              6507             ADD     #-1,R3                                          ;
20138 00003C0A 4315              6508             CMP/PL  R3                                              ;
20139 00003C0C 89E0              6509             BT      LOAD_RESTPLS_LOP                                ;
20140                            6510     ;       ==== HARD ERR ===
20141                            6511             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT5+BIT0),WKREG=R1
                                          ;R1,R0
20142 00003C0E D107                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
20143 00003C10 6011                   M           MOV.W   @R1,R0          ;
20144 00003C12 CB21                   M           OR      #(BIT5+BIT0),R0         ;
20145 00003C14 2101                   M           MOV.W   R0,@R1          ;
20146                            6512     
20147                            6513     ;;      MOV     R2,R0                                           ;
20148                            6514     ;       ANS.R2
20149 00003C16                   6515     LOAD_RESTPLS_END:
20150 00003C16 6023              6516             MOV     R2,R0                                           ;(3度読みの真ん中をデータ
                                          として使用する)
20151                            6517             POP_REG1 R4
20152                                 M                                   ; RE"+4" 00,00,00,04
20153 00003C18 64F6                   M           MOV.L   @R15+,R4        ;
20154                            6518             POP_REG1 R3
20155                                 M                                   ; RE"+4" 00,00,00,04
20156 00003C1A 63F6                   M           MOV.L   @R15+,R3        ;
20157                            6519             POP_REG1 R2
20158                                 M                                   ; RE"+4" 00,00,00,04
20159 00003C1C 62F6                   M           MOV.L   @R15+,R2        ;
20160                            6520             POP_REG1 R1
20161                                 M                                   ; RE"+4" 00,00,00,04
20162 00003C1E 61F6                   M           MOV.L   @R15+,R1        ;
20163                            6521     
20164                            6522             SUB_END
20165                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20166 00003C20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20167                            6523             M_RTS
20168 00003C22 000B                   M           RTS                             ;RTSの後ろの
20169 00003C24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20170                            6524     
20171                            6525     ;       ***************************************************
20172                            6526     ;       ***                                             ***
20173                            6527     ;       ***             設定周波数ﾚｼﾞｽﾀREAD             ***
20174                            6528     ;       ***                                             ***
20175                            6529     ;       ***************************************************
20176                            6530     ;       R0以外破壊しない
20177                                     ***** BEGIN-POOL *****
20178 00003C26 0000                       ALIGNMENT CODE
20179 00003C28 00000000                   DATA FOR SOURCE-LINE 6502
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   251
PROGRAM NAME =

20180 00003C2C 00000000                   DATA FOR SOURCE-LINE 6511
20181                                     ***** END-POOL *****
20182 00003C30                   6531             .ALIGN  4                               ;
20183 00003C30                   6532     _LOAD_FREQ_PLS
20184                            6533             SUB_START
20185 00003C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
20186                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20187                            6534     
20188                            6535             PUSH_REG1 R1
20189 00003C32 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20190                                 M                                           ;REG=>[SP]
20191                                 M                                           ;"-4" FF,FF,FF,FC
20192                            6536     
20193 00003C34 D103              6537             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R1        ;TOP(設定)周波数
20194                            6538             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20195 00003C36 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20196 00003C38 400B                   M           JSR     @R0                     ;
20197 00003C3A 0009                   M           NOP                                     ;
20198                            6539     
20199                            6540             POP_REG1 R1
20200                                 M                                   ; RE"+4" 00,00,00,04
20201 00003C3C 61F6                   M           MOV.L   @R15+,R1        ;
20202                            6541     
20203                            6542             SUB_END
20204                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20205 00003C3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20206                            6543             M_RTS
20207 00003C40 000B                   M           RTS                             ;RTSの後ろの
20208 00003C42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20209                            6544     
20210                            6545     ;       ***********************************
20211                            6546     ;       ***     ベース周波数()          ***
20212                            6547     ;       ***********************************
20213                                     ***** BEGIN-POOL *****
20214 00003C44 00000000                   DATA FOR SOURCE-LINE 6537
20215 00003C48 00000000                   DATA FOR SOURCE-LINE 6538
20216                                     ***** END-POOL *****
20217 00003C4C                   6548             .ALIGN  4                               ;
20218 00003C4C                   6549     _LOAD_BASE_FREQ_PLS:
20219                            6550             SUB_START
20220 00003C4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20221                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20222                            6551             PUSH_REG1 R1
20223 00003C4E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20224                                 M                                           ;REG=>[SP]
20225                                 M                                           ;"-4" FF,FF,FF,FC
20226                            6552     
20227 00003C50 D103              6553             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R1        ;BASE(設定)周波数
20228                            6554             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20229 00003C52 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20230 00003C54 400B                   M           JSR     @R0                     ;
20231 00003C56 0009                   M           NOP                                     ;
20232                            6555     
20233                            6556     
20234                            6557             POP_REG1 R1
20235                                 M                                   ; RE"+4" 00,00,00,04
20236 00003C58 61F6                   M           MOV.L   @R15+,R1        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   252
PROGRAM NAME =

20237                            6558             SUB_END
20238                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20239 00003C5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20240                            6559             M_RTS
20241 00003C5C 000B                   M           RTS                             ;RTSの後ろの
20242 00003C5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20243                            6560     ;       ***********************************
20244                            6561     ;       ***     加速時間()              ***
20245                            6562     ;       ***********************************
20246                                     ***** BEGIN-POOL *****
20247 00003C60 00000000                   DATA FOR SOURCE-LINE 6553
20248 00003C64 00000000                   DATA FOR SOURCE-LINE 6554
20249                                     ***** END-POOL *****
20250 00003C68                   6563             .ALIGN  4                               ;
20251 00003C68                   6564     _LOAD_ACCS1_LATE:
20252                            6565             SUB_START
20253 00003C68 4F22                   M           STS.L   PR,@-R15                ;[必要]
20254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20255                            6566             PUSH_REG1 R1
20256 00003C6A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20257                                 M                                           ;REG=>[SP]
20258                                 M                                           ;"-4" FF,FF,FF,FC
20259                            6567     
20260                            6568     
20261 00003C6C D102              6569             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R1        ;
20262 00003C6E 6011              6570             MOV.W   @R1,R0                                          ;
20263                            6571     
20264                            6572             POP_REG1 R1
20265                                 M                                   ; RE"+4" 00,00,00,04
20266 00003C70 61F6                   M           MOV.L   @R15+,R1        ;
20267                            6573             SUB_END
20268                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20269 00003C72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20270                            6574             M_RTS
20271 00003C74 000B                   M           RTS                             ;RTSの後ろの
20272 00003C76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20273                            6575     
20274                            6576     ;       ***************************
20275                            6577     ;       ***     LATE()          ***
20276                            6578     ;       ***************************
20277                                     ***** BEGIN-POOL *****
20278 00003C78 00000000                   DATA FOR SOURCE-LINE 6569
20279                                     ***** END-POOL *****
20280 00003C7C                   6579             .ALIGN  4                               ;
20281 00003C7C                   6580     _LOAD_SPD_LATE:
20282                            6581             SUB_START
20283 00003C7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20284                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20285                            6582             PUSH_REG1 R1
20286 00003C7E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20287                                 M                                           ;REG=>[SP]
20288                                 M                                           ;"-4" FF,FF,FF,FC
20289                            6583     
20290 00003C80 D102              6584             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R1        ;
20291 00003C82 6011              6585             MOV.W   @R1,R0                                          ;
20292                            6586     
20293                            6587             POP_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   253
PROGRAM NAME =

20294                                 M                                   ; RE"+4" 00,00,00,04
20295 00003C84 61F6                   M           MOV.L   @R15+,R1        ;
20296                            6588             SUB_END
20297                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20298 00003C86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20299                            6589             M_RTS
20300 00003C88 000B                   M           RTS                             ;RTSの後ろの
20301 00003C8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20302                            6590     
20303                            6591     
20304                            6592     
20305                            6593     ;       ***************************************************
20306                            6594     ;       ***                                             ***
20307                            6595     ;       ***             現在周波数ﾚｼﾞｽﾀREAD             ***
20308                            6596     ;       ***                                             ***
20309                            6597     ;       ***************************************************
20310                            6598     ;       R0以外破壊しない
20311                                     ***** BEGIN-POOL *****
20312 00003C8C 00000000                   DATA FOR SOURCE-LINE 6584
20313                                     ***** END-POOL *****
20314 00003C90                   6599             .ALIGN  4                               ;
20315 00003C90                   6600     _LOAD_NOW_FREQ_PLS
20316                            6601             SUB_START
20317 00003C90 4F22                   M           STS.L   PR,@-R15                ;[必要]
20318                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20319                            6602     
20320                            6603             PUSH_REG1 R1
20321 00003C92 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20322                                 M                                           ;REG=>[SP]
20323                                 M                                           ;"-4" FF,FF,FF,FC
20324                            6604     
20325 00003C94 D103              6605             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowFreqL,R1        ;R/W 現在周波数
20326                            6606             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20327 00003C96 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20328 00003C98 400B                   M           JSR     @R0                     ;
20329 00003C9A 0009                   M           NOP                                     ;
20330                            6607     
20331                            6608             POP_REG1 R1
20332                                 M                                   ; RE"+4" 00,00,00,04
20333 00003C9C 61F6                   M           MOV.L   @R15+,R1        ;
20334                            6609             SUB_END
20335                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20336 00003C9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20337                            6610             M_RTS
20338 00003CA0 000B                   M           RTS                             ;RTSの後ろの
20339 00003CA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20340                            6611     
20341                            6612     ;       ***************************************************
20342                            6613     ;       ***                                             ***
20343                            6614     ;       ***             減速距離READ                    ***
20344                            6615     ;       ***                                             ***
20345                            6616     ;       ***************************************************
20346                            6617     ;       R0以外破壊しない
20347                                     ***** BEGIN-POOL *****
20348 00003CA4 00000000                   DATA FOR SOURCE-LINE 6605
20349 00003CA8 00000000                   DATA FOR SOURCE-LINE 6606
20350                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   254
PROGRAM NAME =

20351 00003CAC                   6618             .ALIGN  4                               ;
20352 00003CAC                   6619     _LOAD_GPOINT_PLS
20353                            6620             SUB_START
20354 00003CAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20355                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20356                            6621             PUSH_REG1 R1
20357 00003CAE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20358                                 M                                           ;REG=>[SP]
20359                                 M                                           ;"-4" FF,FF,FF,FC
20360                            6622     
20361 00003CB0 D103              6623             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_GNpointL,R1        ;R/W 減速点
20362                            6624             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20363 00003CB2 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20364 00003CB4 400B                   M           JSR     @R0                     ;
20365 00003CB6 0009                   M           NOP                                     ;
20366                            6625     
20367                            6626             POP_REG1 R1
20368                                 M                                   ; RE"+4" 00,00,00,04
20369 00003CB8 61F6                   M           MOV.L   @R15+,R1        ;
20370                            6627             SUB_END
20371                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20372 00003CBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20373                            6628             M_RTS
20374 00003CBC 000B                   M           RTS                             ;RTSの後ろの
20375 00003CBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20376                            6629     
20377                            6630     ;       ***************************************************
20378                            6631     ;       ***                                             ***
20379                            6632     ;       ***             32BITﾚｼﾞｽﾀREAD                  ***
20380                            6633     ;       ***             Input  R1:ADRESS(DESTROY)       ***
20381                            6634     ;       ***             Output R0:data(ﾓﾄﾛｰﾗHEX)        ***
20382                            6635     ;       ***************************************************
20383                                     ***** BEGIN-POOL *****
20384 00003CC0 00000000                   DATA FOR SOURCE-LINE 6623
20385 00003CC4 00000000                   DATA FOR SOURCE-LINE 6624
20386                                     ***** END-POOL *****
20387 00003CC8                   6636             .ALIGN  4                               ;
20388 00003CC8                   6637     _LSI_LOAD_32BIT_DATA:
20389                            6638             SUB_START
20390 00003CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20391                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20392                            6639     ;;      PLS_READ_LATCH                                          ;2004-02-12
20393                            6640     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20394                            6641     ;;      MOV.W   @R1+,R0                                         ;LOW WORD
20395                            6642     ;;      EXTU.W  R0,R0                                           ;
20396                            6643     ;;
20397                            6644     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20398                            6645     ;;      MOV.W   @R1,R1                                          ;HIGH WORD
20399                            6646     ;;      EXTU.W  R1,R1                                           ;
20400                            6647     ;;      SHLL16  R1
20401                            6648     ;;      OR      R1,R0                                           ;
20402                            6649     ;;      MOV.L   #_ACCESS_ERR1+4*4,R1                            ;4 5/5
20403                            6650     
20404                            6651             POS_LSI_WORD_DUM_LOD                                    ;CS(A)
20405                                 M           PUSH_REG1 R0
20406 00003CCA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20407                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   255
PROGRAM NAME =

20408                                 M                                           ;"-4" FF,FF,FF,FC
20409 00003CCC D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20410 00003CCE 6001                   M           MOV.W   @R0,R0
20411                                 M           POP_REG1 R0
20412                                 M                                   ; RE"+4" 00,00,00,04
20413 00003CD0 60F6                   M           MOV.L   @R15+,R0        ;
20414                            6652             PLS_READ_LATCH                                          ;2004-02-12
20415                                 M           PUSH_REG1 R0                                            ;
20416 00003CD2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20417                                 M                                           ;REG=>[SP]
20418                                 M                                           ;"-4" FF,FF,FF,FC
20419 00003CD4 D006                   M           MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
20420 00003CD6 6001                   M           MOV.W   @R0,R0                                          ;
20421                                 M           POP_REG1 R0                                             ;
20422                                 M                                   ; RE"+4" 00,00,00,04
20423 00003CD8 60F6                   M           MOV.L   @R15+,R0        ;
20424                            6653             POS_LSI_WORD_DUM_LOD                                    ;CS(B)
20425                                 M           PUSH_REG1 R0
20426 00003CDA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20427                                 M                                           ;REG=>[SP]
20428                                 M                                           ;"-4" FF,FF,FF,FC
20429 00003CDC D003                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20430 00003CDE 6001                   M           MOV.W   @R0,R0
20431                                 M           POP_REG1 R0
20432                                 M                                   ; RE"+4" 00,00,00,04
20433 00003CE0 60F6                   M           MOV.L   @R15+,R0        ;
20434 00003CE2 6012              6654             MOV.L   @R1,R0                                          ;LONG
20435 00003CE4 6009              6655             SWAP.W  R0,R0                                           ;
20436                            6656     
20437                            6657             SUB_END
20438                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20439 00003CE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20440                            6658             M_RTS
20441 00003CE8 000B                   M           RTS                             ;RTSの後ろの
20442 00003CEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20443                            6659     
20444                            6660     
20445                            6661     ;       *******************************************
20446                            6662     ;       ***     2003-07-01 指令ﾊﾟﾙｽの速度演算   ***
20447                            6663     ;       *******************************************
20448                            6664             .EXPORT _OUT_PLS_SPD_CALC
20449                            6665             .EXPORT _ENC_PLS_SPD_CALC
20450                                     ***** BEGIN-POOL *****
20451 00003CEC 00000000                   DATA FOR SOURCE-LINE 6651,6653
20452 00003CF0 00000000                   DATA FOR SOURCE-LINE 6652
20453                                     ***** END-POOL *****
20454 00003CF4                   6666             .ALIGN  4                               ;
20455 00003CF4                   6667     _OUT_PLS_SPD_CALC:
20456                            6668             SUB_START
20457 00003CF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20459 00003CF6 D109              6669             MOV.L   #_OUTPLS_DELT,R1                        ;符号付
20460 00003CF8 6211              6670             MOV.W   @R1,R2                                  ;
20461                            6671     ;;      SHLL    R2
20462                            6672     ;;      SHLL    R2
20463                            6673     ;;      SHLL    R2
20464                            6674     ;;      SHLL    R2                              ;*16
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   256
PROGRAM NAME =

20465                            6675     
20466                            6676     ;       =====================================
20467 00003CFA D509              6677             MOV.L   #_OUTPLS_SPD_TOTAL,R5           ;= R5(ad4)
20468 00003CFC D609              6678             MOV.L   #_OUTPLS_SPD_AVL_TOP,R6         ;= R6(ad2)
20469 00003CFE D10A              6679             MOV.L   #_OUTPLS_POINT_SEL,R1           ;= R7(dt2)=10
20470 00003D00 6711              6680             MOV.W   @R1,R7                          ;
20471                            6681     
20472 00003D02 D80A              6682             MOV.L   #_OUTPLS_SPD_POINT,R8           ;= R8(ad2)
20473 00003D04 D90A              6683             MOV.L   #_OUT_PLS_SPD_DIR,R9            ;= R9(ad2) 0pls/s でも -と+がある
20474 00003D06 DA0B              6684             MOV.L   #_OUTPLS_1000MSEC_LAT,R10       ;= R10(ad2)
20475 00003D08 DB0B              6685             MOV.L   #_OUT_PLS_SPD,R11               ;= R11(ad4)
20476 00003D0A DC0C              6686             MOV.L   #_ABS_OUT_PLS_SPD,R12           ;= R12(ad4)
20477 00003D0C DD0C              6687             MOV.L   #_PV_OUT_SPD_PER,R13            ;= R13(ad2)
20478 00003D0E DE0D              6688             MOV.L   #_PVC_BRK_OUT_SPD,R14           ;= R14(ad2)
20479                            6689     
20480                            6690             FAR_JSR #_DELT_POS_SPD_CHG1,R0          ;ANS R2 ABS_PLS
20481 00003D10 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20482 00003D12 400B                   M           JSR     @R0                     ;
20483 00003D14 0009                   M           NOP                                     ;
20484                            6691     
20485                            6692             SUB_END
20486                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20487 00003D16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20488                            6693             M_RTS
20489 00003D18 000B                   M           RTS                             ;RTSの後ろの
20490 00003D1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20491                            6694     ;       *******************************************
20492                            6695     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
20493                            6696     ;       *******************************************
20494                                     ***** BEGIN-POOL *****
20495 00003D1C 00000000                   DATA FOR SOURCE-LINE 6669
20496 00003D20 00000000                   DATA FOR SOURCE-LINE 6677
20497 00003D24 00000000                   DATA FOR SOURCE-LINE 6678
20498 00003D28 00000000                   DATA FOR SOURCE-LINE 6679
20499 00003D2C 00000000                   DATA FOR SOURCE-LINE 6682
20500 00003D30 00000000                   DATA FOR SOURCE-LINE 6683
20501 00003D34 00000000                   DATA FOR SOURCE-LINE 6684
20502 00003D38 00000000                   DATA FOR SOURCE-LINE 6685
20503 00003D3C 00000000                   DATA FOR SOURCE-LINE 6686
20504 00003D40 00000000                   DATA FOR SOURCE-LINE 6687
20505 00003D44 00000000                   DATA FOR SOURCE-LINE 6688
20506 00003D48 00000000                   DATA FOR SOURCE-LINE 6690
20507                                     ***** END-POOL *****
20508 00003D4C                   6697             .ALIGN  4                               ;
20509 00003D4C                   6698     _ENC_PLS_SPD_CALC:
20510                            6699             SUB_START
20511 00003D4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20512                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20513                            6700     
20514                            6701     ;       === 2003-07-01 1msec差分速度算出用 ==
20515 00003D4E D109              6702             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
20516 00003D50 6211              6703             MOV.W   @R1,R2                                  ;R2(dt2)
20517                            6704     ;       =====================================
20518 00003D52 D509              6705             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
20519 00003D54 D609              6706             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
20520 00003D56 D10A              6707             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
20521 00003D58 6711              6708             MOV.W   @R1,R7                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   257
PROGRAM NAME =

20522                            6709     
20523 00003D5A D80A              6710             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
20524 00003D5C D90A              6711             MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
20525 00003D5E DA0B              6712             MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
20526 00003D60 DB0B              6713             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
20527 00003D62 DC0C              6714             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
20528 00003D64 DD0C              6715             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
20529 00003D66 DE0D              6716             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2) per
20530                            6717             FAR_JSR #_DELT_POS_SPD_CHG1,R0                  ;ANS R2 ABS_PLS
20531 00003D68 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20532 00003D6A 400B                   M           JSR     @R0                     ;
20533 00003D6C 0009                   M           NOP                                     ;
20534                            6718     
20535                            6719             SUB_END
20536                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20537 00003D6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20538                            6720             M_RTS
20539 00003D70 000B                   M           RTS                             ;RTSの後ろの
20540 00003D72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20541                            6721     
20542                            6722     
20543                            6723     ;       *******************************************
20544                            6724     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
20545                            6725     ;       *******************************************
20546                                     ***** BEGIN-POOL *****
20547 00003D74 00000000                   DATA FOR SOURCE-LINE 6702
20548 00003D78 00000000                   DATA FOR SOURCE-LINE 6705
20549 00003D7C 00000000                   DATA FOR SOURCE-LINE 6706
20550 00003D80 00000000                   DATA FOR SOURCE-LINE 6707
20551 00003D84 00000000                   DATA FOR SOURCE-LINE 6710
20552 00003D88 00000000                   DATA FOR SOURCE-LINE 6711
20553 00003D8C 00000000                   DATA FOR SOURCE-LINE 6712
20554 00003D90 00000000                   DATA FOR SOURCE-LINE 6713
20555 00003D94 00000000                   DATA FOR SOURCE-LINE 6714
20556 00003D98 00000000                   DATA FOR SOURCE-LINE 6715
20557 00003D9C 00000000                   DATA FOR SOURCE-LINE 6716
20558 00003DA0 00000000                   DATA FOR SOURCE-LINE 6717
20559                                     ***** END-POOL *****
20560 00003DA4                   6726             .ALIGN  4                               ;
20561 00003DA4                   6727     _ENC_PLS_SPD_CLR:
20562                            6728             SUB_START
20563 00003DA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20564                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20565                            6729     
20566 00003DA6 222A              6730             XOR     R2,R2
20567 00003DA8 D10A              6731             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
20568 00003DAA 2121              6732             MOV.W   R2,@R1                                  ;
20569                            6733     
20570 00003DAC D50A              6734             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
20571 00003DAE D60B              6735             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
20572 00003DB0 D10B              6736             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
20573 00003DB2 6711              6737             MOV.W   @R1,R7                                  ;
20574 00003DB4 D80B              6738             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
20575                            6739             FAR_JSR #_DELT_POS_SPD_CLR,R0                   ;
20576 00003DB6 D00C                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20577 00003DB8 400B                   M           JSR     @R0                     ;
20578 00003DBA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   258
PROGRAM NAME =

20579                            6740     
20580                            6741     ;;;     MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
20581                            6742     ;;;     MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
20582 00003DBC 200A              6743             XOR     R0,R0
20583 00003DBE DB0B              6744             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
20584 00003DC0 2B02              6745             MOV.L   R0,@R11
20585 00003DC2 DC0B              6746             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
20586 00003DC4 2C02              6747             MOV.L   R0,@R12
20587 00003DC6 DD0B              6748             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
20588 00003DC8 2D01              6749             MOV.W   R0,@R13
20589 00003DCA DE0B              6750             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2)
20590 00003DCC 2E01              6751             MOV.W   R0,@R14
20591                            6752     
20592                            6753     
20593                            6754             SUB_END
20594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20595 00003DCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20596                            6755             M_RTS
20597 00003DD0 000B                   M           RTS                             ;RTSの後ろの
20598 00003DD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20599                            6756     
20600                            6757     ;       .GLOBAL _PV_ENC_SPD_PER;//0~100.00%
20601                            6758     ;       .GLOBAL _PV_OUT_SPD_PER;//0~100.00%
20602                            6759     
20603                            6760     ;_ENCPLS_SPD_TOTAL      = R5(ad4)
20604                            6761     ;_ENC_PLS_SPD_DIR       = R9(ad2) 0pls/s でも -と+がある
20605                            6762     ;_ENCPLS_POINT_SEL      = R7(dt2)=10
20606                            6763     ;_ENCPLS_DELT           = R2(dt2)
20607                            6764     ;_ENCPLS_SPD_AVL_TOP    = R6(ad2)
20608                            6765     ;_ENCPLS_SPD_POINT      = R8(ad2)
20609                            6766     ;_ENCPLS_1000MSEC_LAT   =R10(ad2)
20610                            6767     ;_ENC_PLS_SPD           = R11(ad4)
20611                            6768     ;_ABS_ENC_PLS_SPD       = R12(ad4)
20612                            6769     ;_PV_ENC_SPD_PER        =R13(ad2)
20613                            6770     ;_PVC_ENC_SPD_PER       =R14(ad2)MINLIMIT
20614                            6771     ;R0,R1,R2,R3,R4 WORK
20615                            6772     
20616                            6773     ;       ***********************************************************
20617                            6774     ;       ***                                                     ***
20618                            6775     ;       ***     1msecのﾃﾞｰﾀの移動平均を行う                     ***
20619                            6776     ;       ***     不感帯がないと停止時はｸﾘｱ処理ばかりはしる       ***
20620                            6777     ;       ***     処理の重さだけの話になる                        ***
20621                            6778     ;       ***     (+/-10pls溜まるまで待つか=>やらない)            ***
20622                            6779     ;       ***                                                     ***
20623                            6780     ;       ***********************************************************
20624                                     ***** BEGIN-POOL *****
20625 00003DD4 00000000                   DATA FOR SOURCE-LINE 6731
20626 00003DD8 00000000                   DATA FOR SOURCE-LINE 6734
20627 00003DDC 00000000                   DATA FOR SOURCE-LINE 6735
20628 00003DE0 00000000                   DATA FOR SOURCE-LINE 6736
20629 00003DE4 00000000                   DATA FOR SOURCE-LINE 6738
20630 00003DE8 00000000                   DATA FOR SOURCE-LINE 6739
20631 00003DEC 00000000                   DATA FOR SOURCE-LINE 6744
20632 00003DF0 00000000                   DATA FOR SOURCE-LINE 6746
20633 00003DF4 00000000                   DATA FOR SOURCE-LINE 6748
20634 00003DF8 00000000                   DATA FOR SOURCE-LINE 6750
20635                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   259
PROGRAM NAME =

20636 00003DFC                   6781             .ALIGN  4                               ;
20637 00003DFC                   6782     _DELT_POS_SPD_CHG1:
20638                            6783             SUB_START
20639 00003DFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20640                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20641                            6784     
20642 00003DFE 2778              6785             TST     R7,R7                   ;
20643                            6786             TST_BIT_ON DELT_POS_SPDCG1_020  ;
20644 00003E00 8B00                   M           BF      DELT_POS_SPDCG1_020
20645 00003E02 7701              6787             ADD     #1,R7                   ;
20646 00003E04                   6788     DELT_POS_SPDCG1_020:                    ;
20647                            6789     
20648 00003E04 2228              6790             TST     R2,R2                   ;R2=0
20649                            6791             TST_BIT_OF DELT_POS_SPDCG1_200  ;
20650 00003E06 890C                   M           BT      DELT_POS_SPDCG1_200
20651 00003E08 6091              6792             MOV.W   @R9,R0                  ;符号LOAD
20652 00003E0A 4211              6793             CMP/PZ  R2                      ;
20653 00003E0C 8903              6794             BT      DELT_POS_SPDCG1_050     ;"+"
20654 00003E0E 2008              6795             TST     R0,R0                   ;
20655                            6796             TST_BIT_ON DELT_POS_SPDCG1_200  ;"-" CLR処理不要
20656 00003E10 8B07                   M           BF      DELT_POS_SPDCG1_200
20657                            6797             M_BRA   DELT_POS_SPDCG1_100     ;前回-で今回+ ｸﾘｱ必要
20658 00003E12 A002                   M           BRA     DELT_POS_SPDCG1_100
20659 00003E14 0009                   M           NOP
20660                            6798     
20661 00003E16                   6799     DELT_POS_SPDCG1_050:
20662 00003E16 2008              6800             TST     R0,R0                   ;
20663                            6801             TST_BIT_OF DELT_POS_SPDCG1_200  ;今回も前回も+
20664 00003E18 8903                   M           BT      DELT_POS_SPDCG1_200
20665                            6802     
20666                            6803     ;       ====== CLR =======
20667 00003E1A                   6804     DELT_POS_SPDCG1_100:
20668                            6805             FAR_JSR #_DELT_POS_SPD_CLR,R0
20669 00003E1A D020                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20670 00003E1C 400B                   M           JSR     @R0                     ;
20671 00003E1E 0009                   M           NOP                                     ;
20672                            6806     
20673                            6807     
20674 00003E20 0009              6808             NOP                             ;ﾊﾞﾌｧはｸﾘｱするけど計算は行う
20675                            6809     
20676                            6810     ;       ====================================
20677 00003E22                   6811     DELT_POS_SPDCG1_200:
20678 00003E22 6081              6812             MOV.W   @R8,R0                  ;POINTER
20679 00003E24 4000              6813             SHLL    R0                      ;2Byte
20680 00003E26 360C              6814             ADD     R0,R6                   ;TOP+POINTER
20681 00003E28 6161              6815             MOV.W   @R6,R1                  ;OLD LOAD
20682 00003E2A 2621              6816             MOV.W   R2,@R6                  ;NEW SAVE
20683 00003E2C 6352              6817             MOV.L   @R5,R3                  ;TOTAL
20684 00003E2E 332C              6818             ADD     R2,R3                   ;
20685 00003E30 3318              6819             SUB     R1,R3                   ;
20686 00003E32 2532              6820             MOV.L   R3,@R5                  ;TOTAL REFLASH
20687 00003E34 4001              6821             SHLR    R0                      ;
20688 00003E36 7001              6822             ADD     #1,R0                   ;
20689 00003E38 3072              6823             CMP/HS  R7,R0                   ;R7(10) =<R0(0~9)
20690 00003E3A 8B00              6824             BF      DELT_POS_SPDCG1_250     ;
20691 00003E3C 200A              6825             XOR     R0,R0                   ;
20692 00003E3E                   6826     DELT_POS_SPDCG1_250:                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   260
PROGRAM NAME =

20693 00003E3E 2801              6827             MOV.W   R0,@R8                  ;POINTER +1 REFLASH
20694                            6828     ;       ==================================
20695 00003E40 61A1              6829             MOV.W   @R10,R1                 ;TOTAL(10msec)*100=PLS/S
20696 00003E42 331D              6830             DMULS.L R1,R3                   ;total*100=pps
20697 00003E44 021A              6831             STS     MACL,R2                 ;
20698                            6832     
20699 00003E46 2B22              6833             MOV.L   R2,@R11                 ;_ENC_PLS_SPD 符号付 0.1pps??1PPSでしょう。
20700 00003E48 2228              6834             TST     R2,R2                   ;
20701                            6835             TST_BIT_OF DELT_POS_SPDCG1_350  ;速度が0なら符号は変えない
20702 00003E4A 8905                   M           BT      DELT_POS_SPDCG1_350
20703                            6836     
20704 00003E4C 200A              6837             XOR     R0,R0                   ;
20705 00003E4E 4211              6838             CMP/PZ  R2                      ;+?
20706 00003E50 8901              6839             BT      DELT_POS_SPDCG1_300     ;
20707 00003E52 622B              6840             NEG     R2,R2                   ;
20708 00003E54 E0FF              6841             MOV     #-1,R0                  ;
20709 00003E56                   6842     DELT_POS_SPDCG1_300:                    ;
20710 00003E56 2901              6843             MOV.W   R0,@R9                  ;SHIN _ENC_PLS_SPD_DIR
20711 00003E58                   6844     DELT_POS_SPDCG1_350:                    ;
20712                            6845     
20713                            6846     ;       =========================================
20714 00003E58 D111              6847             MOV.L   #_WPAR_ZERO_SPD,R1                      ;
20715 00003E5A 6011              6848             MOV.W   @R1,R0                                  ;
20716 00003E5C 3202              6849             CMP/HS  R0,R2                                   ;MIN
20717 00003E5E 8900              6850             BT      DELT_POS_SPDCG1_380                     ;
20718 00003E60 222A              6851             XOR     R2,R2                                   ;
20719 00003E62                   6852     DELT_POS_SPDCG1_380:                                    ;
20720 00003E62 2C22              6853             MOV.L   R2,@R12                 ;_ABS_ENC_PLS_SPD       = R12(ad4)
20721                            6854     
20722                            6855     ;       ==== 速度換算 ======
20723                            6856     ;;;2010-10-22   MOV.L   #_LINK_MAX_SPD_PLS,R0                   ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
20724 00003E64 D00F              6857             MOV.L   #_SETD_LINK_MAX_SPD_PLS,R0                      ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s[SETD_LINK_MAX_SPD_PLS　ｻｰﾎﾞﾊﾟﾗ]
20725 00003E66 6402              6858             MOV.L   @R0,R4                                          ;
20726 00003E68 9115              6859             MOV.W   #_SPD_PER_MAX,R1                                ;100.00per
20727                            6860             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
20728 00003E6A D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20729 00003E6C 400B                   M           JSR     @R0                     ;
20730 00003E6E 0009                   M           NOP                                     ;
20731 00003E70 9112              6861             MOV.W   #_SPD_PER_MAX*110/100,R1                        ;110.00per
20732                            6862             REG_PMAX_MMIN   DATA_REG=R2,MAX_MIN_REG=R1              ;R1=10000
20733 00003E72 3123                   M           CMP/GE  R2,R1           ;
20734 00003E74 8900                   M           BT      JMP0100014                              ;DATA =< MAX
20735 00003E76 6213                   M           MOV     R1,R2           ;MAX LIMIT
20736 00003E78                        M   JMP0100014:                                     ;
20737 00003E78 611B                   M           NEG     R1,R1   ;
20738 00003E7A 3213                   M           CMP/GE  R1,R2           ;
20739 00003E7C 8900                   M           BT      JMP0200014                              ;MIN =< DATA
20740 00003E7E 6213                   M           MOV     R1,R2           ;MIN LIMIT
20741 00003E80                        M   JMP0200014:                                     ;
20742 00003E80 611B                   M           NEG     R1,R1   ;
20743 00003E82 2D21              6863             MOV.W   R2,@R13                                         ;_PV_ENC_SPD_PER
20744                            6864     
20745                            6865     ;       =========================================
20746 00003E84 D109              6866             MOV.L   #_WPAR_BRK_SEL_SPD,R1                   ;%
20747 00003E86 6011              6867             MOV.W   @R1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   261
PROGRAM NAME =

20748 00003E88 3202              6868             CMP/HS  R0,R2                                   ;MIN
20749 00003E8A 8900              6869             BT      DELT_POS_SPDCG1_430                     ;
20750 00003E8C 222A              6870             XOR     R2,R2                                   ;
20751 00003E8E                   6871     DELT_POS_SPDCG1_430:                                    ;
20752 00003E8E 2E21              6872             MOV.W   R2,@R14                                 ;_PVC_BRK_ENC_SPD
20753                            6873     
20754                            6874             SUB_END
20755                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20756 00003E90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20757                            6875             M_RTS
20758 00003E92 000B                   M           RTS                             ;RTSの後ろの
20759 00003E94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20760                            6876     
20761                            6877     ;       ===== INPUT R5 TOTAL
20762                            6878     ;       ===== INPUT R6 AVL_TOP
20763                            6879     ;       ===== INPUT R7 POINTER MAX
20764                            6880     ;       ===== INPUT R8 POINTER
20765                            6881     ;       DESTROY R0,R1,R4
20766                            6882     ;
20767                                     ***** BEGIN-POOL *****
20768 00003E96 2710                       DATA FOR SOURCE-LINE 6859
20769 00003E98 2AF8                       DATA FOR SOURCE-LINE 6861
20770 00003E9A 0000                       ALIGNMENT CODE
20771 00003E9C 00000000                   DATA FOR SOURCE-LINE 6805
20772 00003EA0 00000000                   DATA FOR SOURCE-LINE 6847
20773 00003EA4 00000000                   DATA FOR SOURCE-LINE 6857
20774 00003EA8 00000000                   DATA FOR SOURCE-LINE 6860
20775 00003EAC 00000000                   DATA FOR SOURCE-LINE 6866
20776                                     ***** END-POOL *****
20777 00003EB0                   6883             .ALIGN  4                               ;
20778 00003EB0                   6884     _DELT_POS_SPD_CLR:
20779                            6885             SUB_START
20780 00003EB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20781                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20782 00003EB2 244A              6886             XOR     R4,R4                   ;
20783 00003EB4 2841              6887             MOV.W   R4,@R8                  ;POINTER-CLR
20784 00003EB6 2542              6888             MOV.L   R4,@R5                  ;TOTAL-CLR
20785                            6889     
20786 00003EB8 6073              6890             MOV     R7,R0                   ;POINTER MAX
20787 00003EBA 6173              6891             MOV     R7,R1                   ;
20788 00003EBC 71FF              6892             ADD     #-1,R1                  ;
20789 00003EBE 4100              6893             SHLL    R1                      ;
20790 00003EC0 316C              6894             ADD     R6,R1                   ;TOP+MAX
20791                            6895     
20792 00003EC2                   6896     DELT_POS_SPDCG1_150:                    ;
20793 00003EC2 2141              6897             MOV.W   R4,@R1                  ;
20794 00003EC4 71FE              6898             ADD     #-2,R1                  ;
20795 00003EC6 70FF              6899             ADD     #-1,R0                  ;
20796 00003EC8 2008              6900             TST     R0,R0                   ;
20797                            6901             TST_BIT_ON DELT_POS_SPDCG1_150  ;
20798 00003ECA 8BFA                   M           BF      DELT_POS_SPDCG1_150
20799                            6902             SUB_END
20800                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20801 00003ECC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20802                            6903             M_RTS
20803 00003ECE 000B                   M           RTS                             ;RTSの後ろの
20804 00003ED0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   262
PROGRAM NAME =

20805                            6904     
20806                            6905     ;       ***************************
20807                            6906     ;       ***     減速中信号      ***
20808                            6907     ;       ***************************
20809                            6908     ;       TOP周波数ﾚｼﾞｽﾀ >現在周波数ﾚｼﾞｽﾀにて減速中
20810                            6909     ;       ・最終減速かどうかは,最終工程にて判断を行う
20811                            6910     ;       ・停止工程かどうか
20812                            6911     ;       R0,R1,R2,R3,R4,R6
20813                            6912     ;       R0=0
20814                            6913             .EXPORT _GENSOK_SIG_MAK         ;
20815 00003ED4                   6914             .ALIGN  4                               ;
20816 00003ED4                   6915     _GENSOK_SIG_MAK:
20817                            6916             SUB_START
20818 00003ED4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20819                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20820                            6917     
20821                            6918             FAR_JSR #_LOD_POS_STS_REG,R0    ;
20822 00003ED6 D003                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20823 00003ED8 400B                   M           JSR     @R0                     ;
20824 00003EDA 0009                   M           NOP                                     ;
20825 00003EDC C804              6919             TST     #BIT2,R0                ;停止中
20826                            6920             TST_BIT_OF GENSOK_SIGMK_050     ;
20827 00003EDE 8903                   M           BT      GENSOK_SIGMK_050
20828                            6921             M_BRA   GENSOK_SIGMK_OF         ;YES:STOP NOT 減速中
20829 00003EE0 A00D                   M           BRA     GENSOK_SIGMK_OF
20830 00003EE2 0009                   M           NOP
20831                            6922     
20832                                     ***** BEGIN-POOL *****
20833 00003EE4 00000000                   DATA FOR SOURCE-LINE 6918
20834                                     ***** END-POOL *****
20835 00003EE8                   6923     GENSOK_SIGMK_050:                       ;
20836 00003EE8 D102              6924             MOV.L   #_POSCTL_STEP_FLG,R1    ;
20837 00003EEA 6011              6925             MOV.W   @R1,R0                  ;
20838 00003EEC C806              6926             TST     #(BIT2+BIT1),R0         ;
20839                            6927             TST_BIT_ON GENSOK_SIGMK_ON      ;
20840 00003EEE 8B03                   M           BF      GENSOK_SIGMK_ON
20841                            6928             M_BRA   GENSOK_SIGMK_OF         ;
20842 00003EF0 A005                   M           BRA     GENSOK_SIGMK_OF
20843 00003EF2 0009                   M           NOP
20844                            6929     
20845                            6930     
20846                                     ***** BEGIN-POOL *****
20847 00003EF4 00000000                   DATA FOR SOURCE-LINE 6924
20848                                     ***** END-POOL *****
20849 00003EF8                   6931     GENSOK_SIGMK_ON:                        ;
20850 00003EF8 E001              6932             MOV     #BIT0,R0
20851                            6933             M_BRA   GENSOK_SIGMK_END        ;
20852 00003EFA A001                   M           BRA     GENSOK_SIGMK_END
20853 00003EFC 0009                   M           NOP
20854 00003EFE                   6934     GENSOK_SIGMK_OF:                        ;
20855 00003EFE 200A              6935             XOR     R0,R0                   ;
20856 00003F00                   6936     GENSOK_SIGMK_END:                       ;
20857                            6937             SUB_END
20858                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20859 00003F00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20860                            6938             M_RTS
20861 00003F02 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   263
PROGRAM NAME =

20862 00003F04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20863                            6939     
20864                            6940     
20865                            6941             .INCLUDE        "ssa_fulc.inc"          ;//ﾌﾙｸﾛｰｽﾞ処理
20866                               1 I1  ;       ***********************************
20867                               2 I1  ;       ***                             ***
20868                               3 I1  ;       ***     フルクローズ関連        ***
20869                               4 I1  ;       ***                             ***
20870                               5 I1  ;       ***********************************
20871          000003E8             6 I1  _POS_LATE1              .EQU    D'1000  ;100.0%
20872          000003E8             7 I1  _POS_GEN_BEFORE_LNG     .EQU    D'1000  ;1000ﾊﾟﾙｽ
20873          000003E8             8 I1  _POS_LATE_CALC_MAX      .EQU    D'1000  ;1000ﾊﾟﾙｽ
20874                               9 I1  
20875                              10 I1          .IMPORT _PAR_NEGERR_ENB         ;2012-05-30
20876                              11 I1          .IMPORT _PAR_NEG_EXITTIM        ;2012-10-05
20877                              12 I1  
20878                              13 I1          .IMPORT _PAR_KAJYU_HLDSPD       ;1　一旦停止中の荷重制御速度
20879                              14 I1          .IMPORT _PAR_KAJYU_ARASPD       ;2[荷重制御]一旦停止中のromﾊﾟﾗ範囲外 荷重制御速度
                                          pls7/s
20880                              15 I1          .IMPORT _PAR_KAJYU_CHGARA       ;3[荷重制御] 20KNを設定の荷重完了範囲から引くARA->
                                          HLD
20881                              16 I1  
20882                              17 I1          .IMPORT _PAR_NEGCTL_SPDS1       ;
20883                              18 I1  
20884                              19 I1          .IMPORT _PAR_KAJYU_CTIM1        ;2015-06-22周期１
20885                              20 I1          .IMPORT _PAR_KAJYU_CTIM2        ;2015-06-22周期２
20886                              21 I1          .IMPORT _PAR_KAJYU_STPARA       ;2015-06-22出力停止幅
20887                              22 I1          .IMPORT _PAR_KAJYU_FIRST        ;2015-06-22荷重制御開始幅 2015-06-11(H2W/H1F)
20888                              23 I1  
20889                              24 I1          .EXPORT _REVRSE_BASINC_SPDCALC  ;2015-03-15
20890                              25 I1  
20891                              26 I1  ;       ***********************************
20892                              27 I1  ;       ***                             ***
20893                              28 I1  ;       ***     払出中処理              ***
20894                              29 I1  ;       ***     (起動時の)              ***
20895                              30 I1  ;       ***                             ***
20896                              31 I1  ;       ***********************************
20897                              32 I1  ;       ANS     R0=0     (制御状態)
20898                              33 I1  ;               R0.BIT2=1(BUSY完了)
20899                              34 I1  ;
20900                              35 I1  ;_INT_CLS_CTL_FLG,R1    ;
20901                              36 I1  ;BIT0:INIT START
20902                              37 I1  ;BIT1:(反転必要)==>停止待ち<再計算>
20903                              38 I1  ;BIT2:ﾆｱｾﾞﾛに入った<1回目>==>停止待ち<払出=0 待ち>
20904                              39 I1  ;BIT3:ﾆｱｾﾞﾛに入ったまたは停止後の処理(KPに関係なく残ﾊﾟﾙｽ=0なら1ﾊﾟﾙｽずつ足していく)
20905                              40 I1  ;BIT4:
20906                              41 I1  ;BIT5:
20907                              42 I1  ;BIT6:完了
20908                              43 I1  ;残りﾊﾟﾙｽ+AのAの上限は1000ﾊﾟﾙｽとする<>
20909                              44 I1  ;
20910                              45 I1  ;
20911                              46 I1  ;(本当はこの中で多段の動きを考慮して、”Ｖ”指定の処理も必要)
20912                              47 I1  ;
20913                              48 I1  ;;;;    .IMPORT _CPUB_HENSA_FLG_CLR                     ;
20914                              49 I1  
20915 00003F06                     50 I1  _POS_CLS_TYP1_POS_CTL1:
20916                              51 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   264
PROGRAM NAME =

20917 00003F06 4F22                   M           STS.L   PR,@-R15                ;[必要]
20918                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20919                              52 I1  
20920                              53 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
20921                              54 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   @R6,R11                                                 ;(data lat
                                          ch)
20922                              55 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_ACCESS_ERR1+9*4,R6                                    ;**
20923                              56 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    SWAP.W  R11,R11                                                 ;
20924                              57 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
20925                              58 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   R11,@R1                                                 ;
20926                              59 I1  
20927                              60 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
20928                              61 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
20929 00003F08 D01B                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20930 00003F0A 400B                   M           JSR     @R0                     ;
20931 00003F0C 0009                   M           NOP                                     ;
20932                              62 C           PUSH_REG1 R5                                    ;
20933 00003F0E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20934                                 M                                           ;REG=>[SP]
20935                                 M                                           ;"-4" FF,FF,FF,FC
20936                              63 C           PUSH_REG1 R0                                    ;
20937 00003F10 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20938                                 M                                           ;REG=>[SP]
20939                                 M                                           ;"-4" FF,FF,FF,FC
20940                              64 C           FAR_JSR #_KJYU_DATA_INFO_SEL,R0                 ;227.13
20941 00003F12 D01A                   M           MOV.L   #_KJYU_DATA_INFO_SEL,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20942 00003F14 400B                   M           JSR     @R0                     ;
20943 00003F16 0009                   M           NOP                                     ;
20944                              65 C           POP_REG1 R0                                     ;
20945                                 M                                   ; RE"+4" 00,00,00,04
20946 00003F18 60F6                   M           MOV.L   @R15+,R0        ;
20947                              66 C           POP_REG1 R5                                     ;
20948                                 M                                   ; RE"+4" 00,00,00,04
20949 00003F1A 65F6                   M           MOV.L   @R15+,R5        ;
20950                              67 C   
20951                              68 C   ;;;;    FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
20952                              69 C   
20953                              70             .AELSE
20954                              71             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0              ;(目標位置､実測位置作成,R0=R5=ｸﾛｰｽ
                                          ﾞするかどうか？)
20955                              72             .AENDI
20956                              73 I1  
20957                              74 I1  
20958                              75 I1  
20959 00003F1C 2008                76 I1          TST     R0,R0                                   ;
20960                              77 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_NOT             ;R5=工程 R0=0停止工程ではない
20961 00003F1E 8908                   M           BT      POS_CLS_TYP1_POSCTL1_NOT
20962                              78 I1  
20963                              79 I1  ;       ---------------2014-09-22 REPEAT-----------
20964 00003F20 D117                80 I1          MOV.L   #_MOT_REP_F,R1                          ;//BIT0(ﾘﾋﾟｰﾄ動作
20965 00003F22 6011                81 I1          MOV.W   @R1,R0                                  ;
20966 00003F24 C801                82 I1          TST     #BIT0,R0                                ;
20967                              83 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_NOT20           ;
20968 00003F26 8B07                   M           BF      POS_CLS_TYP1_POSCTL1_NOT20
20969                              84 I1  
20970                              85 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   265
PROGRAM NAME =

20971 00003F28 D116                86 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;//設定
20972 00003F2A 6211                87 I1          MOV.W   @R1,R2                                  ;
20973 00003F2C 7201                88 I1          ADD     #1,R2                                   ;
20974 00003F2E 3250                89 I1          CMP/EQ  R5,R2                                   ;
20975 00003F30 8B3B                90 I1          BF      POS_CLS_TYP1_POSCTL1_000                ;最終工程(戻り)ではない
20976                              91 I1  
20977                              92 I1  ;-----------2019-04-10(戻り信号のラッチ:異常時の処理チェック用)---------
20978                              93 I1  ;;;;不要でした  FAR_JSR #_HANTEN_LAST_SIG_SET,R0
20979                              94 I1  ;       --------------------------------------------------------------------
20980                              95 I1  
20981 00003F32                     96 I1  POS_CLS_TYP1_POSCTL1_NOT:                               ;
20982                              97 I1  
20983                              98 I1  ;       ===== ｻｲｸﾙﾁｪﾝｼﾞ====
20984                              99 I1  ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
20985                             100 I1          FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
20986 00003F32 D015                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20987 00003F34 400B                   M           JSR     @R0                     ;
20988 00003F36 0009                   M           NOP                                     ;
20989                             101 I1  
20990 00003F38                    102 I1  POS_CLS_TYP1_POSCTL1_NOT20:                             ;
20991                             103 I1  
20992                             104 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
20993 00003F38 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20994 00003F3A 400B                   M           JSR     @R0                     ;
20995 00003F3C 0009                   M           NOP                                     ;
20996                             105 I1  ;       ===========================================
20997                             106 I1  ;       ===             最終工程                ===
20998                             107 I1  ;       ===========================================
20999                             108 I1  ;       ﾊﾝﾄﾞｼｪｲｸのみ行う
21000                             109 I1  ;;      FAR_JSR #_OPEN_ROT_NEAR_ZERO_CHK,R0             ;
21001                             110 I1  
21002                             111 I1          FAR_JSR #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;(ｵｰﾌﾟﾝでﾆｱｾﾞﾛにいるかどうか)
21003 00003F3E D014                   M           MOV.L   #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21004 00003F40 400B                   M           JSR     @R0                     ;
21005 00003F42 0009                   M           NOP                                     ;
21006                             112 I1  
21007                             113 I1  
21008                             114 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21009 00003F44 D113                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21010 00003F46 410B                   M           JSR     @R1                     ;
21011 00003F48 0009                   M           NOP                                     ;
21012 00003F4A C804               115 I1          TST     #BIT2,R0                                ;
21013                             116 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;払出完了?
21014 00003F4C 892A                   M           BT      TYP1_OPEN_PRC_200
21015                             117 I1  
21016                             118 I1          FAR_JSR #_CPU_BA_NZR_ON_JG,R0                   ;
21017 00003F4E D012                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21018 00003F50 400B                   M           JSR     @R0                     ;
21019 00003F52 0009                   M           NOP                                     ;
21020 00003F54 2008               119 I1          TST     R0,R0                                   ;
21021                             120 I1          TST_BIT_OF TYP1_OPEN_PRC_050                    ;相手側は終わった
21022 00003F56 8903                   M           BT      TYP1_OPEN_PRC_050
21023 00003F58 D110               121 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;ﾆｱｾﾞﾛ扱い
21024 00003F5A 6011               122 I1          MOV.W   @R1,R0                                  ;
21025 00003F5C CB01               123 I1          OR      #BIT0,R0                                ;
21026 00003F5E 2101               124 I1          MOV.W   R0,@R1                                  ;
21027 00003F60                    125 I1  TYP1_OPEN_PRC_050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   266
PROGRAM NAME =

21028                             126 I1  
21029 00003F60 D10E               127 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;
21030 00003F62 6011               128 I1          MOV.W   @R1,R0                                  ;
21031 00003F64 2008               129 I1          TST     R0,R0                                   ;
21032                             130 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21033 00003F66 891D                   M           BT      TYP1_OPEN_PRC_200
21034                             131 I1  
21035                             132 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21036 00003F68 D00D                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21037 00003F6A 400B                   M           JSR     @R0                     ;
21038 00003F6C 0009                   M           NOP                                     ;
21039 00003F6E 2008               133 I1          TST     R0,R0                                   ;
21040                             134 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21041 00003F70 8918                   M           BT      TYP1_OPEN_PRC_200
21042                             135 I1  
21043 00003F72 E004               136 I1          MOV     #BIT2,R0                                ;
21044                             137 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;ﾆｱｾﾞﾛ+払い出し完了
21045 00003F74 A1AE                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21046 00003F76 0009                   M           NOP
21047                             138 I1  
21048                                 I1  ***** BEGIN-POOL *****
21049 00003F78 00000000               I1  DATA FOR SOURCE-LINE 61
21050 00003F7C 00000000               I1  DATA FOR SOURCE-LINE 64
21051 00003F80 00000000               I1  DATA FOR SOURCE-LINE 80
21052 00003F84 00000000               I1  DATA FOR SOURCE-LINE 86
21053 00003F88 00000000               I1  DATA FOR SOURCE-LINE 100
21054 00003F8C 00000000               I1  DATA FOR SOURCE-LINE 104
21055 00003F90 00000000               I1  DATA FOR SOURCE-LINE 111
21056 00003F94 00000000               I1  DATA FOR SOURCE-LINE 114
21057 00003F98 00000000               I1  DATA FOR SOURCE-LINE 118
21058 00003F9C 00000000               I1  DATA FOR SOURCE-LINE 121,127
21059 00003FA0 00000000               I1  DATA FOR SOURCE-LINE 132
21060                                 I1  ***** END-POOL *****
21061 00003FA4                    139 I1  TYP1_OPEN_PRC_200
21062 00003FA4 200A               140 I1          XOR     R0,R0
21063                             141 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21064 00003FA6 A195                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21065 00003FA8 0009                   M           NOP
21066                             142 I1  
21067                             143 I1  
21068                             144 I1  
21069                             145 I1  
21070                             146 I1  ;       ===========================
21071                             147 I1  ;       ===     ﾌﾙｸﾛｰｽﾞ         ===
21072                             148 I1  ;       ===========================
21073 00003FAA                    149 I1  POS_CLS_TYP1_POSCTL1_000:
21074 00003FAA D108               150 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21075 00003FAC 6011               151 I1          MOV.W   @R1,R0                          ;
21076 00003FAE C801               152 I1          TST     #BIT0,R0                        ;ｸﾛｰｽﾞ処理開始?
21077                             153 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_100     ;
21078 00003FB0 8B48                   M           BF      POS_CLS_TYP1_POSCTL1_100
21079                             154 I1  
21080                             155 I1  
21081                             156 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21082                             157 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   @R1,R0                          ;
21083                             158 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX
                                          量
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   267
PROGRAM NAME =

21084                             159 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   R0,@R1                          ;
21085                             160 I1  
21086                             161 I1  ;;;     ==============2012-10-05[本来の形 2012-05-30では不具合]=============
21087                             162 I1  ;;;     MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21088                             163 I1  ;;;     MOV.W   @R1,R0                          ;
21089                             164 I1  ;;;     MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R1     ;//目標−手前
21090                             165 I1  ;;;     MOV.L   @R1,R2                          ;
21091                             166 I1  ;;;     ADD     R2,R0                           ;
21092                             167 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21093                             168 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21094                             169 I1  ;;;
21095                             170 I1  ;       ====== 2012-10-05 仕様変更 180度を最大追い込みとする====
21096                             171 I1          FAR_JSR #_FULCLS_MAXPLS_CALC,R0
21097 00003FB2 D007                   M           MOV.L   #_FULCLS_MAXPLS_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21098 00003FB4 400B                   M           JSR     @R0                     ;
21099 00003FB6 0009                   M           NOP                                     ;
21100                             172 I1  
21101                             173 I1  
21102                             174 I1  
21103                             175 I1  
21104                             176 I1  ;       ===== SIG-OFF[1] =====
21105                             177 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21106 00003FB8 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21107 00003FBA 400B                   M           JSR     @R0                     ;
21108 00003FBC 0009                   M           NOP                                     ;
21109                             178 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;20060930POR
21110 00003FBE D106                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21111 00003FC0 410B                   M           JSR     @R1                     ;
21112 00003FC2 0009                   M           NOP                                     ;
21113 00003FC4 C804               179 I1          TST     #BIT2,R0                                ;
21114                             180 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_050             ;[払い出しパルス終了]
21115 00003FC6 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_050
21116                             181 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21117 00003FC8 A183                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21118 00003FCA 0009                   M           NOP
21119                             182 I1  
21120                             183 I1  ;       =========================
21121                             184 I1  ;       =====(開始条件成立)======
21122                             185 I1  ;       =========================
21123                                 I1  ***** BEGIN-POOL *****
21124 00003FCC 00000000               I1  DATA FOR SOURCE-LINE 150
21125 00003FD0 00000000               I1  DATA FOR SOURCE-LINE 171
21126 00003FD4 00000000               I1  DATA FOR SOURCE-LINE 177
21127 00003FD8 00000000               I1  DATA FOR SOURCE-LINE 178
21128                                 I1  ***** END-POOL *****
21129 00003FDC                    186 I1  POS_CLS_TYP1_POSCTL1_050:
21130 00003FDC E001               187 I1          MOV     #BIT0,R0                                ;
21131 00003FDE D10E               188 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;[step1:ｵｰﾌﾟﾝ後の起動:180度を目指
                                          す]
21132 00003FE0 2101               189 I1          MOV.W   R0,@R1                                  ;
21133                             190 I1  
21134                             191 I1  ;       --------- 2012-05-30----------
21135                             192 I1  ;[[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21136                             193 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0
21137 00003FE2 D00E                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21138 00003FE4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   268
PROGRAM NAME =

21139 00003FE6 0009                   M           NOP                                     ;
21140                             194 I1  
21141 00003FE8 D10D               195 I1          MOV.L   #_PAR_NEG_EXITTIM-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;2 2012-10-5追い込
                                          み失敗の待ち時間
21142 00003FEA 6011               196 I1          MOV.W   @R1,R0                                                  ;
21143 00003FEC D10D               197 I1          MOV.L   #_NEG_EXITTIM,R1                                        ;//超変な針の穴を
                                          通すタイマ  2012-10-05
21144 00003FEE 2101               198 I1          MOV.W   R0,@R1                                                  ;
21145                             199 I1  
21146                             200 I1  
21147                             201 I1  ;       ===ｵｰﾌﾟﾝ出力完了〜ｲﾝﾁﾝｸﾞに切り替わる時のﾓ-ﾀ遅延分のﾀｲﾏ===
21148                             202 I1  ;;;2012-05-30   MOV.W   #D'50,R0                        ;50msec
21149 00003FF0 D10D               203 I1          MOV.L   #_FUL_CLS_DLYTM_SV,R1                   ;2012-05-30
21150 00003FF2 6011               204 I1          MOV.W   @R1,R0                                  ;2012-05-30
21151 00003FF4 D10D               205 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21152 00003FF6 2101               206 I1          MOV.W   R0,@R1                                  ;遅延時間=0
21153                             207 I1  
21154                             208 I1  ;       =====2011-05-11[必要か???]======
21155                             209 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;2014-09-16悪さをしている      FAR_JSR #_FUL_START_FUL_OBJ_SET,R0
21156                             210 I1  
21157                             211 I1  
21158                             212 I1  ;       ========================
21159                             213 I1  ;       ===== 初期起動==========
21160                             214 I1  ;       ========================
21161                             215 I1  ;       自起動周波数=TOP-SPEED
21162                             216 I1  ;;;;2006-09-30  FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET1,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21163                             217 I1  ;       -----------------------------
21164                             218 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21165 00003FF8 D00D                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21166 00003FFA 400B                   M           JSR     @R0                     ;
21167 00003FFC 0009                   M           NOP                                     ;
21168                             219 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;2007-07-07
21169 00003FFE D00D                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21170 00004000 400B                   M           JSR     @R0                     ;
21171 00004002 0009                   M           NOP                                     ;
21172                             220 I1  ;       -----------------------------
21173                             221 I1  ;;;;;;;;;;;;    FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21174                             222 I1  ;
21175 00004004 D10C               223 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
21176 00004006 6312               224 I1          MOV.L   @R1,R3                                  ;30000ﾊﾟﾙｽでしょう2012-05-30ｺﾒﾝﾄ
21177                             225 I1                                                          ;2012-10-05 2BYTE->4BYTE 型U2B->U4
                                          Bに変更
21178                             226 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21179 00004008 D00C                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21180 0000400A 400B                   M           JSR     @R0                     ;
21181 0000400C 0009                   M           NOP                                     ;
21182                             227 I1  
21183                             228 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21184                             229 C   ;       -------2015-03-15[R01:2014-08-20]--------
21185                             230 C           FAR_JSR #_KAJYU_START_UPCHK,R0
21186 0000400E D00C                   M           MOV.L   #_KAJYU_START_UPCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21187 00004010 400B                   M           JSR     @R0                     ;
21188 00004012 0009                   M           NOP                                     ;
21189                             231 I1          .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   269
PROGRAM NAME =

21190                             232 I1  
21191                             233 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT   ;
21192 00004014 A15D                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21193 00004016 0009                   M           NOP
21194                             234 I1  
21195                                 I1  ***** BEGIN-POOL *****
21196 00004018 00000000               I1  DATA FOR SOURCE-LINE 188
21197 0000401C 00000000               I1  DATA FOR SOURCE-LINE 193
21198 00004020 00000000               I1  DATA FOR SOURCE-LINE 195
21199 00004024 00000000               I1  DATA FOR SOURCE-LINE 197
21200 00004028 00000000               I1  DATA FOR SOURCE-LINE 203
21201 0000402C 00000000               I1  DATA FOR SOURCE-LINE 205
21202 00004030 00000000               I1  DATA FOR SOURCE-LINE 218
21203 00004034 00000000               I1  DATA FOR SOURCE-LINE 219
21204 00004038 00000000               I1  DATA FOR SOURCE-LINE 223
21205 0000403C 00000000               I1  DATA FOR SOURCE-LINE 226
21206 00004040 00000000               I1  DATA FOR SOURCE-LINE 230
21207                                 I1  ***** END-POOL *****
21208 00004044                    235 I1  POS_CLS_TYP1_POSCTL1_100:
21209 00004044                    236 I1  POS_CLS_TYP1_POSCTL1_105:                       ;
21210                             237 I1  ;-----------------------とりあえずここ-----------------
21211                             238 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;[2015-07-22]
21212 00004044 D10A                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
21213 00004046 6412                   M           MOV.L   @R1,R4          ;
21214 00004048 2448                   M           TST     R4,R4                   ;
21215 0000404A 8901                   M           BT      JMP_0100015                     ;ZERO THEN JUMP
21216 0000404C 4410                   M           DT      R4                              ;
21217 0000404E 2142                   M           MOV.L   R4,@R1          ;STORE
21218 00004050                        M   JMP_0100015:
21219                             239 I1  
21220                             240 I1  
21221                             241 I1  ;       ===========================
21222                             242 I1  ;       ===     最終遷移        ===
21223                             243 I1  ;       ===========================
21224 00004050 D108               244 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21225 00004052 6011               245 I1          MOV.W   @R1,R0                                  ;
21226 00004054 C840               246 I1          TST     #BIT6,R0                                ;
21227                             247 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_110
21228 00004056 8915                   M           BT      POS_CLS_TYP1_POSCTL1_110
21229                             248 I1  
21230                             249 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                        ;
21231 00004058 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21232 0000405A 410B                   M           JSR     @R1                     ;
21233 0000405C 0009                   M           NOP                                     ;
21234 0000405E C804               250 I1          TST     #BIT2,R0                                ;
21235                             251 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_107             ;
21236 00004060 8904                   M           BT      POS_CLS_TYP1_POSCTL1_107
21237                             252 I1  
21238                             253 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21239 00004062 D006                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21240 00004064 400B                   M           JSR     @R0                     ;
21241 00004066 0009                   M           NOP                                     ;
21242 00004068 2008               254 I1          TST     R0,R0                                   ;
21243                             255 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_108             ;
21244 0000406A 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_108
21245 0000406C                    256 I1  POS_CLS_TYP1_POSCTL1_107:                               ;
21246                             257 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   270
PROGRAM NAME =

21247 0000406C A131                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21248 0000406E 0009                   M           NOP
21249                             258 I1  
21250                                 I1  ***** BEGIN-POOL *****
21251 00004070 00000000               I1  DATA FOR SOURCE-LINE 238
21252 00004074 00000000               I1  DATA FOR SOURCE-LINE 244
21253 00004078 00000000               I1  DATA FOR SOURCE-LINE 249
21254 0000407C 00000000               I1  DATA FOR SOURCE-LINE 253
21255                                 I1  ***** END-POOL *****
21256 00004080                    259 I1  POS_CLS_TYP1_POSCTL1_108:                               ;
21257                             260 I1          M_BRA   POS_CLS_TYP1_POSCTL1_PC_END             ;終了
21258 00004080 A124                   M           BRA     POS_CLS_TYP1_POSCTL1_PC_END
21259 00004082 0009                   M           NOP
21260                             261 I1  
21261                             262 I1  ;       ====================================
21262                             263 I1  ;       ===     通常運転or特殊な状態    ====
21263                             264 I1  ;       ====================================
21264 00004084                    265 I1  POS_CLS_TYP1_POSCTL1_110:
21265                             266 I1  
21266                             267 I1  ;       ---------------- 2012-05-30　[[neg]][[払い出して達しなければSQへ出力するが次へ進む
                                          ]]-----------
21267 00004084 D106               268 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
21268 00004086 6011               269 I1          MOV.W   @R1,R0                          ;
21269 00004088 C801               270 I1          TST     #BIT0,R0                        ;
21270                             271 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_112     ;
21271 0000408A 890F                   M           BT      POS_CLS_TYP1_POSCTL1_112
21272 0000408C 9006               272 I1          MOV.W   #(BIT2+BIT0),R0                 ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21273 0000408E D105               273 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21274 00004090 2101               274 I1          MOV.W   R0,@R1                          ;
21275                             275 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0    ;
21276 00004092 D005                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21277 00004094 400B                   M           JSR     @R0                     ;
21278 00004096 0009                   M           NOP                                     ;
21279                             276 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OVER98     ;
21280 00004098 A042                   M           BRA     POS_CLS_TYP1_POSCTL1_OVER98
21281 0000409A 0009                   M           NOP
21282                                 I1  ***** BEGIN-POOL *****
21283 0000409C 0005                   I1  DATA FOR SOURCE-LINE 272
21284 0000409E 0000                   I1  ALIGNMENT CODE
21285 000040A0 00000000               I1  DATA FOR SOURCE-LINE 268
21286 000040A4 00000000               I1  DATA FOR SOURCE-LINE 273
21287 000040A8 00000000               I1  DATA FOR SOURCE-LINE 275
21288                                 I1  ***** END-POOL *****
21289 000040AC                    277 I1  POS_CLS_TYP1_POSCTL1_112:
21290                             278 I1  ;       -----------------------------------------
21291 000040AC D102               279 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21292 000040AE 6011               280 I1          MOV.W   @R1,R0                                  ;
21293 000040B0 C806               281 I1          TST     #(BIT2+BIT1),R0                         ;
21294                             282 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_113             ;
21295 000040B2 8B03                   M           BF      POS_CLS_TYP1_POSCTL1_113
21296                             283 I1          M_BRA   POS_CLS_TYP1_POSCTL1_200                ;(通常制御)
21297 000040B4 A094                   M           BRA     POS_CLS_TYP1_POSCTL1_200
21298 000040B6 0009                   M           NOP
21299                             284 I1  
21300                                 I1  ***** BEGIN-POOL *****
21301 000040B8 00000000               I1  DATA FOR SOURCE-LINE 279
21302                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   271
PROGRAM NAME =

21303 000040BC                    285 I1  POS_CLS_TYP1_POSCTL1_113:
21304                             286 I1  
21305                             287 I1  ;       ====== 1回ﾆｱｾﾞﾛに入ってからの処理======
21306                             288 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21307 000040BC D004                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21308 000040BE 400B                   M           JSR     @R0                     ;
21309 000040C0 0009                   M           NOP                                     ;
21310                             289 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21311 000040C2 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21312 000040C4 410B                   M           JSR     @R1                     ;
21313 000040C6 0009                   M           NOP                                     ;
21314 000040C8 C804               290 I1          TST     #BIT2,R0                                ;
21315                             291 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_115             ;
21316 000040CA 8B05                   M           BF      POS_CLS_TYP1_POSCTL1_115
21317                             292 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21318 000040CC A101                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21319 000040CE 0009                   M           NOP
21320                             293 I1  
21321                                 I1  ***** BEGIN-POOL *****
21322 000040D0 00000000               I1  DATA FOR SOURCE-LINE 288
21323 000040D4 00000000               I1  DATA FOR SOURCE-LINE 289
21324                                 I1  ***** END-POOL *****
21325 000040D8                    294 I1  POS_CLS_TYP1_POSCTL1_115:                               ;
21326 000040D8 D103               295 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21327 000040DA 6011               296 I1          MOV.W   @R1,R0                                  ;遅延時間=0
21328 000040DC 2008               297 I1          TST     R0,R0                                   ;
21329                             298 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_117             ;
21330 000040DE 8905                   M           BT      POS_CLS_TYP1_POSCTL1_117
21331 000040E0 70FF               299 I1          ADD     #-1,R0                                  ;
21332 000040E2 2101               300 I1          MOV.W   R0,@R1                                  ;
21333                             301 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21334 000040E4 A0F5                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21335 000040E6 0009                   M           NOP
21336                                 I1  ***** BEGIN-POOL *****
21337 000040E8 00000000               I1  DATA FOR SOURCE-LINE 295
21338                                 I1  ***** END-POOL *****
21339 000040EC                    302 I1  POS_CLS_TYP1_POSCTL1_117:                               ;
21340                             303 I1  
21341                             304 I1  ;       ==== 停止した ====
21342                             305 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21343                             306 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21344 000040EC D008                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21345 000040EE 400B                   M           JSR     @R0                     ;
21346 000040F0 0009                   M           NOP                                     ;
21347                             307 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21348 000040F2 D008                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21349 000040F4 400B                   M           JSR     @R0                     ;
21350 000040F6 0009                   M           NOP                                     ;
21351                             308 C           FAR_JSR #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;[1度ﾆｱｾﾞﾛに入ってからの処理]
21352 000040F8 D007                   M           MOV.L   #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21353 000040FA 400B                   M           JSR     @R0                     ;
21354 000040FC 0009                   M           NOP                                     ;
21355                             309 I1          .AENDI
21356                             310 I1  
21357                             311 I1  
21358 000040FE 8800               312 I1          CMP/EQ  #0,R0                                   ;
21359 00004100 8913               313 I1          BT      POS_CLS_TYP1_POSCTL1_ED050              ;[step3]今もﾆｱｾﾞﾛ内なら完了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   272
PROGRAM NAME =

21360                             314 I1  
21361                             315 I1          FAR_JSR #_OVER_DIG_CHK,R0                       ;
21362 00004102 D006                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21363 00004104 400B                   M           JSR     @R0                     ;
21364 00004106 0009                   M           NOP                                     ;
21365 00004108 2008               316 I1          TST     R0,R0                                   ;
21366                             317 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_OVER99          ;
21367 0000410A 8B0B                   M           BF      POS_CLS_TYP1_POSCTL1_OVER99
21368                             318 I1          M_BRA   POS_CLS_TYP1_POSCTL1_118                ;
21369 0000410C A02C                   M           BRA     POS_CLS_TYP1_POSCTL1_118
21370 0000410E 0009                   M           NOP
21371                             319 I1  
21372                             320 I1  
21373                             321 I1  
21374                             322 I1  
21375                             323 I1  ;       ===================================
21376                             324 I1  ;       ==== ﾆｱｾﾞﾛ範囲内 終了決定       ===
21377                             325 I1  ;       ===================================
21378                                 I1  ***** BEGIN-POOL *****
21379 00004110 00000000               I1  DATA FOR SOURCE-LINE 306
21380 00004114 00000000               I1  DATA FOR SOURCE-LINE 307
21381 00004118 00000000               I1  DATA FOR SOURCE-LINE 308
21382 0000411C 00000000               I1  DATA FOR SOURCE-LINE 315
21383                                 I1  ***** END-POOL *****
21384 00004120                    326 I1  POS_CLS_TYP1_POSCTL1_OVER98:                            ;
21385 00004120 0009               327 I1          nop
21386 00004122 0009               328 I1          nop
21387 00004124                    329 I1  POS_CLS_TYP1_POSCTL1_OVER99:                            ;
21388 00004124 0009               330 I1          nop
21389 00004126 0009               331 I1          nop
21390 00004128 0009               332 I1          nop
21391                             333 I1  
21392 0000412A                    334 I1  POS_CLS_TYP1_POSCTL1_ED050:
21393 0000412A 0009               335 I1          nop
21394 0000412C 0009               336 I1          nop
21395                             337 I1  
21396                             338 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21397 0000412E D009                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21398 00004130 400B                   M           JSR     @R0                     ;
21399 00004132 0009                   M           NOP                                     ;
21400                             339 I1  ;       ====== 二重回路対策<CPUA>===========
21401 00004134 D108               340 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;やめる事を決定
21402 00004136 6011               341 I1          MOV.W   @R1,R0                                  ;
21403 00004138 CB40               342 I1          OR      #BIT6,R0                                ;
21404 0000413A 2101               343 I1          MOV.W   R0,@R1                                  ;
21405                             344 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21406 0000413C D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21407 0000413E 400B                   M           JSR     @R0                     ;
21408 00004140 0009                   M           NOP                                     ;
21409                             345 I1  
21410                             346 I1  ;       ==================================
21411                             347 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
21412 00004142 D007                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21413 00004144 400B                   M           JSR     @R0                     ;
21414 00004146 0009                   M           NOP                                     ;
21415                             348 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
21416 00004148 D006                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   273
PROGRAM NAME =

21417 0000414A 400B                   M           JSR     @R0                     ;
21418 0000414C 0009                   M           NOP                                     ;
21419                             349 I1  ;       ==================================
21420                             350 I1  
21421                             351 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21422 0000414E A0C0                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21423 00004150 0009                   M           NOP
21424                             352 I1  
21425                             353 I1  ;       ===========================
21426                             354 I1  ;       ====== ｲﾝﾁﾝｸﾞ処理==========
21427                             355 I1  ;       ===========================
21428                                 I1  ***** BEGIN-POOL *****
21429 00004152 0000                   I1  ALIGNMENT CODE
21430 00004154 00000000               I1  DATA FOR SOURCE-LINE 338
21431 00004158 00000000               I1  DATA FOR SOURCE-LINE 340
21432 0000415C 00000000               I1  DATA FOR SOURCE-LINE 344
21433 00004160 00000000               I1  DATA FOR SOURCE-LINE 347
21434 00004164 00000000               I1  DATA FOR SOURCE-LINE 348
21435                                 I1  ***** END-POOL *****
21436 00004168                    356 I1  POS_CLS_TYP1_POSCTL1_118:                               ;[step3 ﾊﾟﾙｽ出力停止し50msec後毎で
                                          ここにくる]
21437                             357 I1  ;       === 再起動処理(再起動時はKP=1) ====
21438                             358 I1  ;       (方向作成)
21439                             359 I1  ;       (ﾃﾞｰﾀ作成)
21440                             360 I1  
21441                             361 I1  ;       ----------- 2015-06-22[荷重・位置共通]--------------
21442 00004168 D108               362 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;
21443 0000416A 6011               363 I1          MOV.W   @R1,R0                          ;
21444 0000416C D108               364 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21445 0000416E 2101               365 I1          MOV.W   R0,@R1                          ;
21446                             366 I1  
21447                             367 I1  
21448                             368 I1  ;       ------- 2015-03-15[R01:2014-07-15] ----------
21449                             369 I1          .AIF    1 EQ    1               ;
21450 00004170 D108               370 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
21451 00004172 6011               371 C           MOV.W   @R1,R0                                  ;
21452 00004174 2008               372 C           TST     R0,R0
21453                             373 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119A            ;位置の速度JUMP
21454 00004176 8913                   M           BT      POS_CLS_TYP1_POSCTL1_119A
21455                             374 C   
21456                             375 C   ;       -----------2015-06-22--------
21457                             376 C   ;       [未出力[ﾆｱｾﾞﾛ]/再起動ﾊﾟﾙｽ,遅延周期選択追加]
21458                             377 C           FAR_JSR #_RESTART_WAIT_PLS_DATA_SELECT,R0       ;
21459 00004178 D007                   M           MOV.L   #_RESTART_WAIT_PLS_DATA_SELECT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21460 0000417A 400B                   M           JSR     @R0                     ;
21461 0000417C 0009                   M           NOP                                     ;
21462 0000417E 2008               378 C           TST     R0,R0                                   ;
21463                             379 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119E_EX         ;
21464 00004180 891F                   M           BT      POS_CLS_TYP1_POSCTL1_119E_EX
21465                             380 C   
21466                             381 C           FAR_JSR #_REVRSE_KAJYU_AREACHK_BASSET,R0        ;荷重:_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟ
                                          ﾗから
21467 00004182 D006                   M           MOV.L   #_REVRSE_KAJYU_AREACHK_BASSET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21468 00004184 400B                   M           JSR     @R0                     ;
21469 00004186 0009                   M           NOP                                     ;
21470                             382 C           M_BRA   POS_CLS_TYP1_POSCTL1_119E               ;
21471 00004188 A00D                   M           BRA     POS_CLS_TYP1_POSCTL1_119E
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   274
PROGRAM NAME =

21472 0000418A 0009                   M           NOP
21473                             383 C   
21474                             384 C   
21475                                 C   ***** BEGIN-POOL *****
21476 0000418C 00000000               C   DATA FOR SOURCE-LINE 362
21477 00004190 00000000               C   DATA FOR SOURCE-LINE 364
21478 00004194 00000000               C   DATA FOR SOURCE-LINE 370
21479 00004198 00000000               C   DATA FOR SOURCE-LINE 377
21480 0000419C 00000000               C   DATA FOR SOURCE-LINE 381
21481                                 C   ***** END-POOL *****
21482 000041A0                    385 C   POS_CLS_TYP1_POSCTL1_119A:                              ;
21483                             386 C           FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21484 000041A0 D009                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21485 000041A2 400B                   M           JSR     @R0                     ;
21486 000041A4 0009                   M           NOP                                     ;
21487 000041A6                    387 C   POS_CLS_TYP1_POSCTL1_119E:                              ;
21488                             388 I1          .AENDI
21489                             389 I1  
21490                             390 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;R6破壊
21491 000041A6 D009                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21492 000041A8 400B                   M           JSR     @R0                     ;
21493 000041AA 0009                   M           NOP                                     ;
21494                             391 I1  
21495                             392 I1  ;       ------ 2015-06-22 ---------
21496                             393 I1  ;;;;    MOV.L   #_SET1_INCPOS_KP01,R1                   ;
21497                             394 I1  ;;;;    MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
21498 000041AC D108               395 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1              ;
21499 000041AE 6311               396 I1          MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
21500                             397 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21501 000041B0 D008                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21502 000041B2 400B                   M           JSR     @R0                     ;
21503 000041B4 0009                   M           NOP                                     ;
21504 000041B6 E005               398 I1          MOV     #(BIT2+BIT0),R0                         ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21505 000041B8 D107               399 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21506 000041BA 2101               400 I1          MOV.W   R0,@R1                                  ;
21507                             401 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21508 000041BC D007                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21509 000041BE 400B                   M           JSR     @R0                     ;
21510 000041C0 0009                   M           NOP                                     ;
21511 000041C2                    402 I1  POS_CLS_TYP1_POSCTL1_119E_EX:                           ;
21512                             403 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21513 000041C2 A086                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21514 000041C4 0009                   M           NOP
21515                             404 I1  
21516                             405 I1  
21517                             406 I1  ;       =========通常運転(ﾆｱｾﾞﾛ待ち) =====
21518                                 I1  ***** BEGIN-POOL *****
21519 000041C6 0000                   I1  ALIGNMENT CODE
21520 000041C8 00000000               I1  DATA FOR SOURCE-LINE 386
21521 000041CC 00000000               I1  DATA FOR SOURCE-LINE 390
21522 000041D0 00000000               I1  DATA FOR SOURCE-LINE 395
21523 000041D4 00000000               I1  DATA FOR SOURCE-LINE 397
21524 000041D8 00000000               I1  DATA FOR SOURCE-LINE 399
21525 000041DC 00000000               I1  DATA FOR SOURCE-LINE 401
21526                                 I1  ***** END-POOL *****
21527 000041E0                    407 I1  POS_CLS_TYP1_POSCTL1_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   275
PROGRAM NAME =

21528                             408 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21529                             409 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21530 000041E0 D00C                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21531 000041E2 400B                   M           JSR     @R0                     ;
21532 000041E4 0009                   M           NOP                                     ;
21533                             410 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21534 000041E6 D00C                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21535 000041E8 400B                   M           JSR     @R0                     ;
21536 000041EA 0009                   M           NOP                                     ;
21537                             411 C           FAR_JSR #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0    ;
21538 000041EC D00B                   M           MOV.L   #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21539 000041EE 400B                   M           JSR     @R0                     ;
21540 000041F0 0009                   M           NOP                                     ;
21541                             412 C   
21542                             413 I1          .AENDI
21543                             414 I1  
21544                             415 I1  
21545 000041F2 8800               416 I1          CMP/EQ  #0,R0                                                   ;
21546 000041F4 8B1C               417 I1          BF      POS_CLS_TYP1_POSCTL1_220                                        ;
21547                             418 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;[step2:停
                                          止]
21548 000041F6 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21549 000041F8 400B                   M           JSR     @R0                     ;
21550 000041FA 0009                   M           NOP                                     ;
21551                             419 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
21552 000041FC D009                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21553 000041FE 400B                   M           JSR     @R0                     ;
21554 00004200 0009                   M           NOP                                     ;
21555                             420 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
21556 00004202 D109                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21557 00004204 6011                   M           MOV.W   @R1,R0          ;
21558 00004206 CB02                   M           OR      #BIT1,R0                ;
21559 00004208 2101                   M           MOV.W   R0,@R1          ;
21560                             421 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
21561 0000420A D008                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21562 0000420C 400B                   M           JSR     @R0                     ;
21563 0000420E 0009                   M           NOP                                     ;
21564                             422 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;ﾆｱｾﾞﾛにはいった
21565 00004210 A05F                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21566 00004212 0009                   M           NOP
21567                             423 I1  
21568                                 I1  ***** BEGIN-POOL *****
21569 00004214 00000000               I1  DATA FOR SOURCE-LINE 409
21570 00004218 00000000               I1  DATA FOR SOURCE-LINE 410
21571 0000421C 00000000               I1  DATA FOR SOURCE-LINE 411
21572 00004220 00000000               I1  DATA FOR SOURCE-LINE 418
21573 00004224 00000000               I1  DATA FOR SOURCE-LINE 419
21574 00004228 00000000               I1  DATA FOR SOURCE-LINE 420
21575 0000422C 00000000               I1  DATA FOR SOURCE-LINE 421
21576                                 I1  ***** END-POOL *****
21577 00004230                    424 I1  POS_CLS_TYP1_POSCTL1_220:
21578                             425 I1  
21579                             426 I1  ;       input R0
21580                             427 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21581                             428 C   ;       -----------2015-03-15 荷重の場合ニアゼロにならないからここでオーバを見る--------
21582                             429 C           PUSH_REG1 R0
21583 00004230 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   276
PROGRAM NAME =

21584                                 M                                           ;REG=>[SP]
21585                                 M                                           ;"-4" FF,FF,FF,FC
21586                             430 C           FAR_JSR #_OVER_DIG_CHK,R0
21587 00004232 D004                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21588 00004234 400B                   M           JSR     @R0                     ;
21589 00004236 0009                   M           NOP                                     ;
21590 00004238 6103               431 C           MOV     R0,R1                                                           ;
21591                             432 C           POP_REG1 R0
21592                                 M                                   ; RE"+4" 00,00,00,04
21593 0000423A 60F6                   M           MOV.L   @R15+,R0        ;
21594                             433 C   
21595 0000423C 2118               434 C           TST     R1,R1
21596                             435 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_222                     ;
21597 0000423E 8903                   M           BT      POS_CLS_TYP1_POSCTL1_222
21598                             436 C           M_BRA   POS_CLS_TYP1_POSCTL1_250                        ;
21599 00004240 A010                   M           BRA     POS_CLS_TYP1_POSCTL1_250
21600 00004242 0009                   M           NOP
21601                             437 I1          .AENDI
21602                             438 I1  
21603                                 I1  ***** BEGIN-POOL *****
21604 00004244 00000000               I1  DATA FOR SOURCE-LINE 430
21605                                 I1  ***** END-POOL *****
21606 00004248                    439 I1  POS_CLS_TYP1_POSCTL1_222:
21607                             440 I1  ;       -----------------------------------------------------------------------
21608                             441 I1  
21609                             442 I1  
21610                             443 I1  
21611                             444 I1  
21612 00004248 4011               445 I1          CMP/PZ  R0                                      ;+?
21613 0000424A 8B07               446 I1          BF      POS_CLS_TYP1_POSCTL1_240                ;NO ﾏｲﾅｽ
21614                             447 I1  ;       === ＋方向へ行き過ぎている　ﾏｲﾅｽへ向かうべきだ  ;
21615 0000424C D402               448 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
21616 0000424E 6041               449 I1          MOV.W   @R4,R0                                  ;
21617 00004250 C801               450 I1          TST     #BIT0,R0                                ;
21618                             451 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_260             ;OK
21619 00004252 8B21                   M           BF      POS_CLS_TYP1_POSCTL1_260
21620                             452 I1          M_BRA   POS_CLS_TYP1_POSCTL1_250                ;
21621 00004254 A006                   M           BRA     POS_CLS_TYP1_POSCTL1_250
21622 00004256 0009                   M           NOP
21623                             453 I1  
21624                                 I1  ***** BEGIN-POOL *****
21625 00004258 00000000               I1  DATA FOR SOURCE-LINE 448
21626                                 I1  ***** END-POOL *****
21627 0000425C                    454 I1  POS_CLS_TYP1_POSCTL1_240:
21628 0000425C D409               455 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
21629 0000425E 6041               456 I1          MOV.W   @R4,R0                                  ;
21630 00004260 C801               457 I1          TST     #BIT0,R0                                ;
21631                             458 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_260             ;OK
21632 00004262 8919                   M           BT      POS_CLS_TYP1_POSCTL1_260
21633                             459 I1  
21634                             460 I1  ;       ======== 行き過ぎた ====
21635 00004264                    461 I1  POS_CLS_TYP1_POSCTL1_250:
21636                             462 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;
21637 00004264 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21638 00004266 400B                   M           JSR     @R0                     ;
21639 00004268 0009                   M           NOP                                     ;
21640                             463 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   277
PROGRAM NAME =

21641 0000426A D008                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21642 0000426C 400B                   M           JSR     @R0                     ;
21643 0000426E 0009                   M           NOP                                     ;
21644                             464 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
21645 00004270 D107                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21646 00004272 6011                   M           MOV.W   @R1,R0          ;
21647 00004274 CB02                   M           OR      #BIT1,R0                ;
21648 00004276 2101                   M           MOV.W   R0,@R1          ;
21649                             465 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
21650 00004278 D006                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21651 0000427A 400B                   M           JSR     @R0                     ;
21652 0000427C 0009                   M           NOP                                     ;
21653                             466 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT                                   ;
21654 0000427E A028                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21655 00004280 0009                   M           NOP
21656                             467 I1  
21657                                 I1  ***** BEGIN-POOL *****
21658 00004282 0000                   I1  ALIGNMENT CODE
21659 00004284 00000000               I1  DATA FOR SOURCE-LINE 455
21660 00004288 00000000               I1  DATA FOR SOURCE-LINE 462
21661 0000428C 00000000               I1  DATA FOR SOURCE-LINE 463
21662 00004290 00000000               I1  DATA FOR SOURCE-LINE 464
21663 00004294 00000000               I1  DATA FOR SOURCE-LINE 465
21664                                 I1  ***** END-POOL *****
21665 00004298                    468 I1  POS_CLS_TYP1_POSCTL1_260:
21666                             469 I1  
21667                             470 I1  ;-------------------------2012-05-30 CHECK ----------------
21668                             471 I1  ;;[[neg]]
21669                             472 I1  ;;[[neg]]       MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
21670                             473 I1  ;;[[neg]]       MOV.W   @R1,R0                                                  ;
21671                             474 I1  ;;[[neg]]       CMP/EQ  #1,R0                                                   ;
21672                             475 I1  ;;[[neg]]       BF      POS_CLS_TYP1_POSCTL1_280                                ;
21673                             476 I1  ;;[[neg]]
21674 00004298 D108               477 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21675 0000429A 6011               478 I1          MOV.W   @R1,R0                                  ;
21676 0000429C C806               479 I1          TST     #(BIT2+BIT1),R0                         ;
21677                             480 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_280             ;(通常制御)
21678 0000429E 8B0A                   M           BF      POS_CLS_TYP1_POSCTL1_280
21679                             481 I1  
21680                             482 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21681 000042A0 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21682 000042A2 400B                   M           JSR     @R0                     ;
21683 000042A4 0009                   M           NOP                                     ;
21684                             483 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21685 000042A6 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21686 000042A8 410B                   M           JSR     @R1                     ;
21687 000042AA 0009                   M           NOP                                     ;
21688 000042AC C804               484 I1          TST     #BIT2,R0                                ;
21689                             485 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_280             ;まだﾊﾟﾙｽがある
21690 000042AE 8902                   M           BT      POS_CLS_TYP1_POSCTL1_280
21691                             486 I1  
21692                             487 I1  ;       ---ﾊﾟﾙｽがなくなった---
21693                             488 I1          FAR_JSR #_FULCLS_MAXOVER_ERR_WT,R0              ;2012-05-30/2012-10-05
21694 000042B0 D005                   M           MOV.L   #_FULCLS_MAXOVER_ERR_WT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21695 000042B2 400B                   M           JSR     @R0                     ;
21696 000042B4 0009                   M           NOP                                     ;
21697                             489 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   278
PROGRAM NAME =

21698                             490 I1  ;       ----------------------------------------------------------
21699 000042B6                    491 I1  POS_CLS_TYP1_POSCTL1_280:
21700                             492 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21701 000042B6 A00C                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21702 000042B8 0009                   M           NOP
21703                             493 I1  
21704                             494 I1  
21705                             495 I1  
21706                                 I1  ***** BEGIN-POOL *****
21707 000042BA 0000                   I1  ALIGNMENT CODE
21708 000042BC 00000000               I1  DATA FOR SOURCE-LINE 477
21709 000042C0 00000000               I1  DATA FOR SOURCE-LINE 482
21710 000042C4 00000000               I1  DATA FOR SOURCE-LINE 483
21711 000042C8 00000000               I1  DATA FOR SOURCE-LINE 488
21712                                 I1  ***** END-POOL *****
21713 000042CC                    496 I1  POS_CLS_TYP1_POSCTL1_PC_END:
21714 000042CC E004               497 I1          MOV     #BIT2,R0                                ;
21715                             498 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21716 000042CE A001                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21717 000042D0 0009                   M           NOP
21718                             499 I1  
21719 000042D2                    500 I1  POS_CLS_TYP1_POSCTL1_OUT_WAIT:                          ;
21720 000042D2 200A               501 I1          XOR     R0,R0                                   ;まだよ
21721 000042D4                    502 I1  POS_CLS_TYP1_POSCTL1_END:
21722                             503 I1  
21723                             504 I1  ;;;;2018-02-10  PUSH_REG1 R0
21724                             505 I1  ;;;;2018-02-10  PUSH_REG1 R1
21725                             506 I1  ;;;;2018-02-10  MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
21726                             507 I1  ;;;;2018-02-10  MOV.W   @R1,R0                          ;
21727                             508 I1  ;;;;2018-02-10  MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;247.0/247.1
21728                             509 I1  ;;;;2018-02-10  MOV.W   R0,@R1                          ;
21729                             510 I1  ;;;;2018-02-10  POP_REG1 R1
21730                             511 I1  ;;;;2018-02-10  POP_REG1 R0
21731                             512 I1  
21732                             513 I1          SUB_END
21733                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21734 000042D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21735                             514 I1          M_RTS
21736 000042D6 000B                   M           RTS                             ;RTSの後ろの
21737 000042D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21738                             515 I1  
21739                             516 I1  
21740                             517 I1  ;       ***************************
21741                             518 I1  ;       ***                     ***
21742                             519 I1  ;       ***     2015-06-22      ***
21743                             520 I1  ;;      ***                     ***
21744                             521 I1  ;       ***************************
21745                             522 I1  ;       出力しない,ﾊﾟﾙｽ,遅延周期を設定
21746                             523 I1  ;       ANS:R0=0:出力しない
21747                             524 I1  ;
21748 000042DA                    525 I1  _RESTART_WAIT_PLS_DATA_SELECT:
21749                             526 I1          SUB_START
21750 000042DA 4F22                   M           STS.L   PR,@-R15                ;[必要]
21751                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21752                             527 I1  
21753                             528 I1  
21754                             529 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0                 ;0,1,-1,-2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   279
PROGRAM NAME =

21755 000042DC D008                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21756 000042DE 400B                   M           JSR     @R0                     ;
21757 000042E0 0009                   M           NOP                                     ;
21758 000042E2 2008               530 I1          TST     R0,R0                                   ;
21759                             531 I1          TST_BIT_OF RESTART_WAIT_PLS_DATASEL_END         ;[ﾘｽﾀｰﾄしない]
21760 000042E4 891F                   M           BT      RESTART_WAIT_PLS_DATASEL_END
21761                             532 I1  
21762 000042E6 4011               533 I1          CMP/PZ  R0                                      ;+()
21763 000042E8 8914               534 I1          BT      RESTART_WAIT_PLS_DATASEL_100            ;
21764                             535 I1  
21765                             536 I1  ;       ---------範囲外---------
21766                             537 I1  ;;;;H2W MOV.L   #_SVP_OUTPLS_HOSA,R1            ;44
21767                             538 I1  
21768 000042EA D106               539 I1          MOV.L   #_PAR_KAJYU_CTIM1-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;368:範囲外
21769 000042EC 6011               540 I1          MOV.W   @R1,R0                          ;
21770 000042EE D106               541 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
21771 000042F0 2101               542 I1          MOV.W   R0,@R1                          ;遅延時間=0
21772                             543 I1  
21773 000042F2 D106               544 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;31
21774 000042F4 6011               545 I1          MOV.W   @R1,R0                          ;
21775 000042F6 D106               546 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21776 000042F8 2101               547 I1          MOV.W   R0,@R1                          ;
21777                             548 I1  
21778                             549 I1          M_BRA   RESTART_WAIT_PLS_DATASEL_OUT            ;
21779 000042FA A013                   M           BRA     RESTART_WAIT_PLS_DATASEL_OUT
21780 000042FC 0009                   M           NOP
21781                             550 I1  
21782                             551 I1  ;       ------------ニアゼロ範囲内-------------
21783                                 I1  ***** BEGIN-POOL *****
21784 000042FE 0000                   I1  ALIGNMENT CODE
21785 00004300 00000000               I1  DATA FOR SOURCE-LINE 529
21786 00004304 00000000               I1  DATA FOR SOURCE-LINE 539
21787 00004308 00000000               I1  DATA FOR SOURCE-LINE 541
21788 0000430C 00000000               I1  DATA FOR SOURCE-LINE 544
21789 00004310 00000000               I1  DATA FOR SOURCE-LINE 546
21790                                 I1  ***** END-POOL *****
21791 00004314                    552 I1  RESTART_WAIT_PLS_DATASEL_100:
21792                             553 I1  
21793                             554 I1  ;;;H2W  MOV.L   #_SVP_OUTPLS_HOSB,R1            ;45
21794 00004314 D105               555 I1          MOV.L   #_PAR_KAJYU_CTIM2-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;369:範囲内
21795 00004316 6011               556 I1          MOV.W   @R1,R0                          ;
21796 00004318 D105               557 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
21797 0000431A 2101               558 I1          MOV.W   R0,@R1                          ;遅延時間=0
21798                             559 I1  
21799 0000431C D105               560 I1          MOV.L   #_SET1_RNAPOS_KP01,R1           ;
21800 0000431E 6011               561 I1          MOV.W   @R1,R0                          ;
21801 00004320 D105               562 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21802 00004322 2101               563 I1          MOV.W   R0,@R1                          ;
21803                             564 I1  
21804 00004324                    565 I1  RESTART_WAIT_PLS_DATASEL_OUT:
21805 00004324 E001               566 I1          MOV.B   #1,R0                                   ;START
21806 00004326                    567 I1  RESTART_WAIT_PLS_DATASEL_END:
21807                             568 I1  
21808                             569 I1          SUB_END
21809                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21810 00004326 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21811                             570 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   280
PROGRAM NAME =

21812 00004328 000B                   M           RTS                             ;RTSの後ろの
21813 0000432A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21814                             571 I1  
21815                             572 I1  
21816                             573 I1  
21817                             574 I1  ;       *******************************************
21818                             575 I1  ;       ***                                     ***
21819                             576 I1  ;       ***                                     ***
21820                             577 I1  ;       ***                                     ***
21821                             578 I1  ;       ***                                     ***
21822                             579 I1  ;       *******************************************
21823                             580 I1          .IMPORT _POSCHG_LINK_DIG_TO_LINK_PLS            ;
21824                             581 I1          .IMPORT _OBJ_POS_DIG_MAK                        ;2015-03-15[R01:2014-08-20]
21825                             582 I1  
21826                                 I1  ***** BEGIN-POOL *****
21827 0000432C 00000000               I1  DATA FOR SOURCE-LINE 555
21828 00004330 00000000               I1  DATA FOR SOURCE-LINE 557
21829 00004334 00000000               I1  DATA FOR SOURCE-LINE 560
21830 00004338 00000000               I1  DATA FOR SOURCE-LINE 562
21831                                 I1  ***** END-POOL *****
21832 0000433C                    583 I1          .ALIGN  4                                               ;
21833 0000433C                    584 I1  _FULCLS_MAXPLS_CALC:
21834                             585 I1          SUB_START
21835 0000433C 4F22                   M           STS.L   PR,@-R15                ;[必要]
21836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21837                             586 I1  
21838                             587 I1  ;;;;DEBUG       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21839                             588 I1  ;;;;DEBUG       MOV.W   @R1,R2                          ;
21840                             589 I1  ;;;;DEBUG       M_BRA   FULCLS_MAXPLSCAL_200            ;
21841                             590 I1  
21842                             591 I1  ;       -------- 2015-03-15 -----------
21843                             592 I1          FAR_JSR #_OBJ_POS_DIG_MAK,R0                    ;これがない 2015-03-15[R012014-08-
                                          20]
21844 0000433E D00A                   M           MOV.L   #_OBJ_POS_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21845 00004340 400B                   M           JSR     @R0                     ;
21846 00004342 0009                   M           NOP                                     ;
21847                             593 I1  ;       --------------------------
21848                             594 I1  
21849 00004344 D109               595 I1          MOV.L   #_SV_OBJ360,R1                          ;停止目標位置角度
21850 00004346 6311               596 I1          MOV.W   @R1,R3                                  ;
21851 00004348 940D               597 I1          MOV.W   #D'1800,R4                              ;
21852 0000434A 6243               598 I1          MOV     R4,R2                                   ;
21853 0000434C 3238               599 I1          SUB     R3,R2                                   ;
21854 0000434E 4211               600 I1          CMP/PZ  R2                                      ;
21855 00004350 8900               601 I1          BT      FULCLS_MAXPLSCAL_100                    ;
21856 00004352 324C               602 I1          ADD     R4,R2                                   ;角度0.1度
21857 00004354                    603 I1  FULCLS_MAXPLSCAL_100:                                   ;
21858 00004354 7201               604 I1          ADD     #1,R2                                   ;+0.1度
21859                             605 I1          FAR_JSR #_POSCHG_LINK_DIG_TO_LINK_PLS,R0        ;
21860 00004356 D006                   M           MOV.L   #_POSCHG_LINK_DIG_TO_LINK_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21861 00004358 400B                   M           JSR     @R0                     ;
21862 0000435A 0009                   M           NOP                                     ;
21863                             606 I1  
21864                             607 I1  
21865                             608 I1  
21866 0000435C                    609 I1  FULCLS_MAXPLSCAL_200:                                   ;
21867 0000435C D105               610 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   281
PROGRAM NAME =

21868 0000435E 2122               611 I1          MOV.L   R2,@R1                                  ;
21869                             612 I1  
21870                             613 I1  ;;;     MOV.L   #_LINK_NOWROT_OFSPLS_P,R4       ;[[[目標]]]
21871                             614 I1  ;;;     MOV.L   @R4,R2                          ;
21872                             615 I1  ;;;
21873                             616 I1  ;;;     MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
21874                             617 I1  ;;;     MOV.L   R1,@R5                          ;
21875                             618 I1  ;;;     MOV.L   R2,@(4,R5)                      ;
21876                             619 I1  ;;;
21877                             620 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21878                             621 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21879                             622 I1  
21880                             623 I1  
21881                             624 I1          SUB_END
21882                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21883 00004360 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21884                             625 I1          M_RTS
21885 00004362 000B                   M           RTS                             ;RTSの後ろの
21886 00004364 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21887                             626 I1  
21888                             627 I1  
21889                             628 I1  ;       *******************************************
21890                             629 I1  ;       ***             2012-10-05              ***
21891                             630 I1  ;       ***                                     ***
21892                             631 I1  ;       ***     180.0度に達したらEXIT           ***
21893                             632 I1  ;       *******************************************
21894                                 I1  ***** BEGIN-POOL *****
21895 00004366 0708                   I1  DATA FOR SOURCE-LINE 597
21896 00004368 00000000               I1  DATA FOR SOURCE-LINE 592
21897 0000436C 00000000               I1  DATA FOR SOURCE-LINE 595
21898 00004370 00000000               I1  DATA FOR SOURCE-LINE 605
21899 00004374 00000000               I1  DATA FOR SOURCE-LINE 610
21900                                 I1  ***** END-POOL *****
21901 00004378                    633 I1  _OVER_DIG_CHK:
21902                             634 I1          SUB_START
21903 00004378 4F22                   M           STS.L   PR,@-R15                ;[必要]
21904                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21905 0000437A D108               635 I1          MOV.L   #_INC_ENC360,R1                 ;
21906 0000437C 6211               636 I1          MOV.W   @R1,R2                          ;
21907 0000437E 900C               637 I1          MOV.W   #D'1798,R0                      ;179.8
21908 00004380 3202               638 I1          CMP/HS  R0,R2                           ;
21909 00004382 8B11               639 I1          BF      OVER_DIGCHK_NOMAL               ;ｵｰﾊﾞはしていない
21910                             640 I1  
21911 00004384                    641 I1  OVER_DIGCHK_ERR:
21912                             642 I1          FAR_JSR #_FULCLS_MAXOVER_ERR,R0         ;ﾀｲﾏなし
21913 00004384 D006                   M           MOV.L   #_FULCLS_MAXOVER_ERR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21914 00004386 400B                   M           JSR     @R0                     ;
21915 00004388 0009                   M           NOP                                     ;
21916 0000438A D106               643 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21917 0000438C 6011               644 I1          MOV.W   @R1,R0                          ;
21918 0000438E C940               645 I1          AND     #BIT6,R0
21919 00004390 2008               646 I1          TST     R0,R0                           ;
21920                             647 I1          TST_BIT_OF OVER_DIGCHK_NOMAL            ;R0=0SET
21921 00004392 8909                   M           BT      OVER_DIGCHK_NOMAL
21922 00004394 E001               648 I1          MOV.B   #1,R0                           ;R0=1
21923                             649 I1          M_BRA   OVER_DIGCHK_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   282
PROGRAM NAME =

21924 00004396 A008                   M           BRA     OVER_DIGCHK_END
21925 00004398 0009                   M           NOP
21926                                 I1  ***** BEGIN-POOL *****
21927 0000439A 0706                   I1  DATA FOR SOURCE-LINE 637
21928 0000439C 00000000               I1  DATA FOR SOURCE-LINE 635
21929 000043A0 00000000               I1  DATA FOR SOURCE-LINE 642
21930 000043A4 00000000               I1  DATA FOR SOURCE-LINE 643
21931                                 I1  ***** END-POOL *****
21932 000043A8                    650 I1  OVER_DIGCHK_NOMAL
21933 000043A8 200A               651 I1          XOR     R0,R0
21934 000043AA                    652 I1  OVER_DIGCHK_END
21935                             653 I1  
21936                             654 I1          SUB_END
21937                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21938 000043AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21939                             655 I1          M_RTS
21940 000043AC 000B                   M           RTS                             ;RTSの後ろの
21941 000043AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21942                             656 I1  
21943                             657 I1  
21944                             658 I1  ;       ***************************
21945                             659 I1  ;       ***     2012-05-30      ***
21946                             660 I1  ;       ***     反転オーバ      ***
21947                             661 I1  ;       ***************************
21948                             662 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21949 000043B0                    663 I1          .ALIGN  4                                               ;
21950 000043B0                    664 I1  _FULCLS_MAXOVER_ERR:
21951                             665 I1          SUB_START
21952 000043B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21953                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21954                             666 I1          M_BRA   FULCLS_MAXOVER_ERRSET           ;
21955 000043B2 A00B                   M           BRA     FULCLS_MAXOVER_ERRSET
21956 000043B4 0009                   M           NOP
21957                             667 I1  
21958 000043B6                    668 I1  _FULCLS_MAXOVER_ERR_WT:
21959                             669 I1          SUB_START
21960 000043B6 4F22                   M           STS.L   PR,@-R15                ;[必要]
21961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21962                             670 I1  
21963 000043B8 D103               671 I1          MOV.L   #_NEG_EXITTIM,R1                ;
21964 000043BA 6011               672 I1          MOV.W   @R1,R0                          ;
21965 000043BC 2008               673 I1          TST     R0,R0                           ;
21966                             674 I1          TST_BIT_OF FULCLS_MAXOVER_ERRSET        ;
21967 000043BE 8905                   M           BT      FULCLS_MAXOVER_ERRSET
21968 000043C0 70FF               675 I1          ADD     #-1,R0                          ;
21969 000043C2 2101               676 I1          MOV.W   R0,@R1                          ;
21970                             677 I1          M_BRA   FULCLS_MAXOVER_ERRWAT           ;
21971 000043C4 A012                   M           BRA     FULCLS_MAXOVER_ERRWAT
21972 000043C6 0009                   M           NOP
21973                             678 I1  
21974                                 I1  ***** BEGIN-POOL *****
21975 000043C8 00000000               I1  DATA FOR SOURCE-LINE 671
21976                                 I1  ***** END-POOL *****
21977 000043CC                    679 I1  FULCLS_MAXOVER_ERRSET:
21978 000043CC D109               680 I1          MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
21979 000043CE 6011               681 I1          MOV.W   @R1,R0                                                  ;
21980 000043D0 8801               682 I1          CMP/EQ  #1,R0                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   283
PROGRAM NAME =

21981 000043D2 8B0B               683 I1          BF      FULCLS_MAXOVER_ERRWAT                                   ;
21982                             684 I1  
21983                             685 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT6+BIT0),WKREG=R1    ;B
                                          IT6:ERR BIT0:制御
21984 000043D4 D108                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21985 000043D6 6011                   M           MOV.W   @R1,R0          ;
21986 000043D8 CB41                   M           OR      #(BIT6+BIT0),R0         ;
21987 000043DA 2101                   M           MOV.W   R0,@R1          ;
21988                             686 I1  
21989                             687 I1  
21990                             688 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21991                             689 C   ;       ------2015-03-15[R01:2014-08-20] 荷重制御情報追加-------------
21992 000043DC D107               690 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
21993 000043DE 6011               691 C           MOV.W   @R1,R0                                  ;
21994 000043E0 8801               692 C           CMP/EQ  #1,R0                                   ;
21995 000043E2 8B03               693 C           BF      FULCLS_MAXOVER_ERRS100                  ;
21996                             694 C   
21997                             695 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT5),WKREG=R1 ;BIT5:荷重
21998 000043E4 D104                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21999 000043E6 6011                   M           MOV.W   @R1,R0          ;
22000 000043E8 CB20                   M           OR      #(BIT5),R0              ;
22001 000043EA 2101                   M           MOV.W   R0,@R1          ;
22002                             696 C   
22003 000043EC                    697 C   FULCLS_MAXOVER_ERRS100:
22004                             698 C   ;       -----------------------------------------------
22005                             699 I1          .AENDI
22006                             700 I1  
22007                             701 I1  
22008 000043EC                    702 I1  FULCLS_MAXOVER_ERRWAT:
22009                             703 I1          SUB_END
22010                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22011 000043EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22012                             704 I1          M_RTS
22013 000043EE 000B                   M           RTS                             ;RTSの後ろの
22014 000043F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22015                             705 I1  
22016                             706 I1  ;       ***************************
22017                             707 I1  ;       ***     2012-05-30      ***
22018                             708 I1  ;       ***     反転オーバCLR   ***
22019                             709 I1  ;       ***************************
22020                             710 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22021                                 I1  ***** BEGIN-POOL *****
22022 000043F2 0000                   I1  ALIGNMENT CODE
22023 000043F4 00000000               I1  DATA FOR SOURCE-LINE 680
22024 000043F8 00000000               I1  DATA FOR SOURCE-LINE 685,695
22025 000043FC 00000000               I1  DATA FOR SOURCE-LINE 690
22026                                 I1  ***** END-POOL *****
22027 00004400                    711 I1          .ALIGN  4                                               ;
22028                             712 I1          .EXPORT _FULCLS_MAXOVER_CLR     ;
22029 00004400                    713 I1  _FULCLS_MAXOVER_CLR:
22030                             714 I1          SUB_START
22031 00004400 4F22                   M           STS.L   PR,@-R15                ;[必要]
22032                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22033 00004402 200A               715 I1          XOR     R0,R0                   ;
22034 00004404 D102               716 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1  ;
22035 00004406 2101               717 I1          MOV.W   R0,@R1                  ;
22036                             718 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   284
PROGRAM NAME =

22037                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22038 00004408 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22039                             719 I1          M_RTS
22040 0000440A 000B                   M           RTS                             ;RTSの後ろの
22041 0000440C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22042                             720 I1  
22043                             721 I1  ;       ***************************
22044                             722 I1  ;       ***     2012-05-30      ***
22045                             723 I1  ;       ***     反転オーバINI   ***
22046                             724 I1  ;       ***************************
22047                             725 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22048                                 I1  ***** BEGIN-POOL *****
22049 0000440E 0000                   I1  ALIGNMENT CODE
22050 00004410 00000000               I1  DATA FOR SOURCE-LINE 716
22051                                 I1  ***** END-POOL *****
22052 00004414                    726 I1          .ALIGN  4                                               ;
22053 00004414                    727 I1  _FULCLS_MAXOVER_STEP_INI:
22054                             728 I1          SUB_START
22055 00004414 4F22                   M           STS.L   PR,@-R15                ;[必要]
22056                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22057                             729 I1  
22058                             730 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=~BIT0,WKREG=R1 ;
22059 00004416 D103                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22060 00004418 6011                   M           MOV.W   @R1,R0          ;
22061 0000441A C9FE                   M           AND     #LOW ~BIT0,R0           ;
22062 0000441C 2101                   M           MOV.W   R0,@R1          ;
22063                             731 I1  
22064                             732 I1  
22065                             733 I1          SUB_END
22066                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22067 0000441E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22068                             734 I1          M_RTS
22069 00004420 000B                   M           RTS                             ;RTSの後ろの
22070 00004422 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22071                             735 I1  
22072                             736 I1  ;       ***********************************
22073                             737 I1  ;       ***                             ***
22074                             738 I1  ;       ***     追い込み達せず信号出力  ***
22075                             739 I1  ;       ***     224.9  各行程           ***
22076                             740 I1  ;       ***     224.10 1回でも          ***
22077                             741 I1  ;       ***                             ***
22078                             742 I1  ;       ***********************************
22079                             743 I1          .EXPORT _FULCLS_OVER_SIG
22080                             744 I1  
22081                                 I1  ***** BEGIN-POOL *****
22082 00004424 00000000               I1  DATA FOR SOURCE-LINE 730
22083                                 I1  ***** END-POOL *****
22084 00004428                    745 I1          .ALIGN  4                       ;2012-05-30
22085 00004428                    746 I1  _FULCLS_OVER_SIG
22086                             747 I1          SUB_START
22087 00004428 4F22                   M           STS.L   PR,@-R15                ;[必要]
22088                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22089                             748 I1  
22090 0000442A 233A               749 I1          XOR     R3,R3
22091 0000442C 244A               750 I1          XOR     R4,R4
22092 0000442E D10B               751 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22093 00004430 6011               752 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   285
PROGRAM NAME =

22094 00004432 C840               753 I1          TST     #BIT6,R0                        ;
22095                             754 I1          TST_BIT_OF FULCLS_OVERSG_100            ;異常記憶なし
22096 00004434 8903                   M           BT      FULCLS_OVERSG_100
22097 00004436 930D               755 I1          MOV.W   #BIT9,R3                        ;異常有り・リセットまで保持
22098                             756 I1  
22099                             757 I1  
22100                             758 I1  
22101                             759 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22102                             760 C   ;       --2015-03-15[R01:2014-08-20追加]---
22103 00004438 C820               761 C           TST     #BIT5,R0                        ;荷重?
22104                             762 C           TST_BIT_OF FULCLS_OVERSG_100            ;NO
22105 0000443A 8900                   M           BT      FULCLS_OVERSG_100
22106 0000443C 930B               763 C           MOV.W   #BIT10,R3                       ;
22107                             764 I1          .AENDI
22108                             765 I1  
22109 0000443E                    766 I1  FULCLS_OVERSG_100
22110                             767 I1  
22111                             768 I1  ;;;;;   TST     #BIT0,R0                        ;
22112                             769 I1  ;;;;;   TST_BIT_OF FULCLS_OVERSG_200            ;制御中なし
22113                             770 I1  ;;;;;   MOV.W   #BIT10,R4                       ;異常有り・記憶はしない
22114                             771 I1  ;;;;;FULCLS_OVERSG_200
22115                             772 I1  
22116 0000443E D108               773 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R1     ;
22117 00004440 6011               774 I1          MOV.W   @R1,R0                          ;
22118 00004442 9209               775 I1          MOV.W   #(BIT10+BIT9),R2                ;
22119 00004444 6227               776 I1          NOT     R2,R2                           ;
22120 00004446 2029               777 I1          AND     R2,R0                           ;
22121 00004448 203B               778 I1          OR      R3,R0                           ;
22122 0000444A 204B               779 I1          OR      R4,R0                           ;
22123 0000444C 2101               780 I1          MOV.W   R0,@R1                          ;
22124                             781 I1  
22125                             782 I1          SUB_END
22126                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22127 0000444E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22128                             783 I1          M_RTS
22129 00004450 000B                   M           RTS                             ;RTSの後ろの
22130 00004452 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22131                             784 I1  
22132                             785 I1  
22133                             786 I1  ;       ***********************************
22134                             787 I1  ;       ***                             ***
22135                             788 I1  ;       ***     ﾌﾙｸﾛｰｽﾞﾆｱｾﾞﾛ            ***
22136                             789 I1  ;       ***                             ***
22137                             790 I1  ;       ***********************************
22138                             791 I1  ;       ANS R0(ﾌﾙｸﾛｰｽﾞすべきかどうか R0=0しない R0 !=0(工程)ﾌﾙｸﾛｰｽﾞ)
22139                             792 I1  ;       ANS R6 1回転目標ﾊﾟﾙｽ
22140                             793 I1  ;       ANS R7 1回転ﾘﾆｱﾊﾟﾙｽ
22141                             794 I1  ;
22142                             795 I1  ;
22143                             796 I1  ;       設定=0度　==>312度を目標
22144                             797 I1  ;       180より大きい区間は　−扱いで考える(1)
22145                             798 I1  ;       もし1800より大きければ
22146                             799 I1  ;
22147                             800 I1  ;       -1*(3600-現在ﾊﾟﾙｽ)
22148                                 I1  ***** BEGIN-POOL *****
22149 00004454 0200                   I1  DATA FOR SOURCE-LINE 755
22150 00004456 0400                   I1  DATA FOR SOURCE-LINE 763
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   286
PROGRAM NAME =

22151 00004458 0600                   I1  DATA FOR SOURCE-LINE 775
22152 0000445A 0000                   I1  ALIGNMENT CODE
22153 0000445C 00000000               I1  DATA FOR SOURCE-LINE 751
22154 00004460 00000000               I1  DATA FOR SOURCE-LINE 773
22155                                 I1  ***** END-POOL *****
22156 00004464                    801 I1          .ALIGN  4                                               ;
22157                             802 I1  ;       Input 工程=R5
22158                             803 I1  ;       Input R7
22159                             804 I1  ;       ANS     R0:0,1,-1
22160                             805 I1  ;       R0      =0 :ﾆｱｾﾞﾛ範囲内
22161                             806 I1  ;               =1 :正(正転運転では行き過ぎている/逆転運転では生きたりない)
22162                             807 I1  ;               =-1:負(正運転では行きたりない    /逆転運転では行き過ぎている)
22163                             808 I1  ;       ANS     R6:ﾘﾆｱPLS現在位置
22164                             809 I1  
22165                             810 I1  ;
22166 00004464                    811 I1  _POS_CLS_TYP1_NEAR_ZERO_CHEAK:
22167                             812 I1          SUB_START
22168 00004464 4F22                   M           STS.L   PR,@-R15                ;[必要]
22169                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22170 00004466 D40D               813 I1          MOV.L   #_SDATCLS_TRG_STEP,R4           ;//速度連続の最後のｽﾃｯﾌﾟ
22171 00004468 6041               814 I1          MOV.W   @R4,R0                          ;
22172 0000446A 70FF               815 I1          ADD     #-1,R0                          ;
22173 0000446C 4008               816 I1          SHLL2   R0                              ;
22174 0000446E 4000               817 I1          SHLL    R0                              ;8byte
22175 00004470 D40B               818 I1          MOV.L   #_SDATCLS_OBJ_NEAR_UPDNPLS,R4   ;//+0*4:UP +1*4 DN
22176 00004472 340C               819 I1          ADD     R0,R4                           ;
22177 00004474 6346               820 I1          MOV.L   @R4+,R3                         ;目標位置+ALFA(結果"-")
22178 00004476 6142               821 I1          MOV.L   @R4,R1                          ;目標位置-ALFA
22179 00004478 3313               822 I1          CMP/GE  R1,R3                           ;
22180 0000447A 8902               823 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_100    ;
22181 0000447C 6013               824 I1          MOV     R1,R0                           ;
22182 0000447E 6133               825 I1          MOV     R3,R1                           ;
22183 00004480 6303               826 I1          MOV     R0,R3                           ;
22184 00004482                    827 I1  POS_CLS_TYP1_NEAR_ZR_CHK_100:                   ;
22185                             828 I1  
22186                             829 I1  ;       ==== 2003-02-21 ===================
22187 00004482 D008               830 I1          MOV.L   #_DBG_REVMOD_UPPLS,R0   ;
22188 00004484 2032               831 I1          MOV.L   R3,@R0                  ;
22189 00004486 D008               832 I1          MOV.L   #_DBG_REVMOD_DNPLS,R0   ;
22190 00004488 2012               833 I1          MOV.L   R1,@R0                  ;
22191                             834 I1  
22192                             835 I1  ;       ===================================
22193                             836 I1  ;;;     MOV     #1,R0
22194                             837 I1  ;;;     CMP/GT  R3,R6                           ;
22195                             838 I1  ;;;     BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22196                             839 I1  ;;;
22197                             840 I1  ;;;     MOV     #-1,R0                          ;
22198                             841 I1  ;;;     CMP/GE  R1,R6                           ;R1=< R6 NO
22199                             842 I1  ;;;     BF      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;(範囲内 NO)
22200                             843 I1  ;;;     XOR     R0,R0                           ;
22201                             844 I1  ;;;POS_CLS_TYP1_NEAR_ZR_CHK_200:                        ;
22202                             845 I1  
22203 0000448A E001               846 I1          MOV     #1,R0
22204 0000448C 3637               847 I1          CMP/GT  R3,R6                           ;
22205 0000448E 890D               848 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22206                             849 I1  
22207 00004490 E0FF               850 I1          MOV     #-1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   287
PROGRAM NAME =

22208 00004492 3613               851 I1          CMP/GE  R1,R6                           ;R1=< R6 NO
22209 00004494 8B0D               852 I1          BF      POS_CLS_TYP1_NEAR_ZR_CHK_201    ;(範囲内 NO)
22210 00004496 200A               853 I1          XOR     R0,R0                           ;
22211                             854 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22212 00004498 A00C                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22213 0000449A 0009                   M           NOP
22214                             855 I1  
22215                                 I1  ***** BEGIN-POOL *****
22216 0000449C 00000000               I1  DATA FOR SOURCE-LINE 813
22217 000044A0 00000000               I1  DATA FOR SOURCE-LINE 818
22218 000044A4 00000000               I1  DATA FOR SOURCE-LINE 830
22219 000044A8 00000000               I1  DATA FOR SOURCE-LINE 832
22220                                 I1  ***** END-POOL *****
22221 000044AC                    856 I1  POS_CLS_TYP1_NEAR_ZR_CHK_200:                   ;
22222 000044AC 0009               857 I1          NOP
22223                             858 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22224 000044AE A001                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22225 000044B0 0009                   M           NOP
22226 000044B2                    859 I1  POS_CLS_TYP1_NEAR_ZR_CHK_201:                   ;
22227 000044B2 0009               860 I1          NOP
22228 000044B4                    861 I1  POS_CLS_TYP1_NEAR_ZR_CHK_202:                   ;
22229                             862 I1  
22230                             863 I1  ;       ===========================================
22231                             864 I1  ;       === <CPU-Aが終わりを告げたら終わり>     ===
22232                             865 I1  ;       === <CPU-Bが終わりを告げても終わり?>    ===
22233                             866 I1  ;       ===========================================
22234                             867 I1          PUSH_REG1 R2
22235 000044B4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22236                                 M                                           ;REG=>[SP]
22237                                 M                                           ;"-4" FF,FF,FF,FC
22238                             868 I1          PUSH_REG1 R3
22239 000044B6 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22240                                 M                                           ;REG=>[SP]
22241                                 M                                           ;"-4" FF,FF,FF,FC
22242                             869 I1  
22243                             870 I1          PUSH_REG1 R0
22244 000044B8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22245                                 M                                           ;REG=>[SP]
22246                                 M                                           ;"-4" FF,FF,FF,FC
22247                             871 I1          .AIF    0 EQ    0
22248 000044BA 222A               872 C           XOR     R2,R2                           ;CPUAは自分から終わる
22249                             873             .AELSE
22250                             874             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;
22251                             875             MOV     R0,R2                           ;
22252                             876             .AENDI
22253                             877 I1          POP_REG1 R0                             ;
22254                                 M                                   ; RE"+4" 00,00,00,04
22255 000044BC 60F6                   M           MOV.L   @R15+,R0        ;
22256                             878 I1  
22257 000044BE 2228               879 I1          TST     R2,R2                           ;
22258                             880 I1          TST_BIT_OF POS_CLS_CPUB_TO_CPUA_100     ;
22259 000044C0 8900                   M           BT      POS_CLS_CPUB_TO_CPUA_100
22260 000044C2 200A               881 I1          XOR     R0,R0                           ;
22261 000044C4                    882 I1  POS_CLS_CPUB_TO_CPUA_100:                       ;
22262                             883 I1  
22263                             884 I1          POP_REG1 R3
22264                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   288
PROGRAM NAME =

22265 000044C4 63F6                   M           MOV.L   @R15+,R3        ;
22266                             885 I1          POP_REG1 R2
22267                                 M                                   ; RE"+4" 00,00,00,04
22268 000044C6 62F6                   M           MOV.L   @R15+,R2        ;
22269                             886 I1          SUB_END
22270                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22271 000044C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22272                             887 I1          M_RTS
22273 000044CA 000B                   M           RTS                             ;RTSの後ろの
22274 000044CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22275                             888 I1  
22276                             889 I1  
22277                             890 I1  ;       ***********************************
22278                             891 I1  ;       ***     Input R1,R2             ***
22279                             892 I1  ;       ***********************************
22280                             893 I1  ;       R1,R2 絶対値
22281 000044CE                    894 I1  _CLS_POS_LENGTH_ADD_DATA:
22282                             895 I1          SUB_START
22283 000044CE 4F22                   M           STS.L   PR,@-R15                ;[必要]
22284                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22285 000044D0 D40A               896 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
22286 000044D2 6041               897 I1          MOV.W   @R4,R0                                                  ;
22287 000044D4 C801               898 I1          TST     #BIT0,R0                                                ;
22288                             899 I1          TST_BIT_OF CLS_POS_LENGTH_ADDATA_050                            ;
22289 000044D6 8905                   M           BT      CLS_POS_LENGTH_ADDATA_050
22290                             900 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R4                              ;|R1,R2|
22291 000044D8 6227                   M           NOT     R2,R2                           ;
22292 000044DA 6117                   M           NOT     R1,R1                           ;
22293 000044DC 244A                   M           XOR     R4,R4                           ;
22294 000044DE 0018                   M           SETT
22295 000044E0 324E                   M           ADDC    R4,R2                           ;0+1+R2
22296 000044E2 314E                   M           ADDC    R4,R1                           ;
22297 000044E4                    901 I1  CLS_POS_LENGTH_ADDATA_050:                                              ;
22298 000044E4 D706               902 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
22299 000044E6 6572               903 I1          MOV.L   @R7,R5                                                  ;
22300 000044E8 5671               904 I1          MOV.L   @(4,R7),R6                                              ;
22301                             905 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22302 000044EA 0008                   M           CLRT
22303 000044EC 326E                   M           ADDC    R6,R2
22304 000044EE 315E                   M           ADDC    R5,R1
22305 000044F0 2712               906 I1          MOV.L   R1,@R7                                                  ;
22306 000044F2 1721               907 I1          MOV.L   R2,@(4,R7)                                              ;
22307                             908 I1          SUB_END
22308                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22309 000044F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22310                             909 I1          M_RTS
22311 000044F6 000B                   M           RTS                             ;RTSの後ろの
22312 000044F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22313                             910 I1  
22314                             911 I1  
22315                             912 I1  ;       *******************************************
22316                             913 I1  ;       ***     260から0度の間は"-"になる       ***
22317                             914 I1  ;       *******************************************
22318                             915 I1  ;       R0~R2
22319                             916 I1          .EXPORT _FUL_CLS_OBJPLS_CHK
22320                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   289
PROGRAM NAME =

22321 000044FA 0000                   I1  ALIGNMENT CODE
22322 000044FC 00000000               I1  DATA FOR SOURCE-LINE 896
22323 00004500 00000000               I1  DATA FOR SOURCE-LINE 902
22324                                 I1  ***** END-POOL *****
22325 00004504                    917 I1  _FUL_CLS_OBJPLS_CHK:    ;Input R2 もし260~0の間なら"-"のﾊﾟﾙｽになる
22326                             918 I1          SUB_START
22327 00004504 4F22                   M           STS.L   PR,@-R15                ;[必要]
22328                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22329 00004506 D107               919 I1          MOV.L   #_SETX_FULCLS_AREA_PLS,R1       ;//260.0==>PLS
22330 00004508 6012               920 I1          MOV.L   @R1,R0                          ;
22331 0000450A 3203               921 I1          CMP/GE  R0,R2                           ;R2 OK
22332 0000450C 8B06               922 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22333 0000450E D106               923 I1          MOV.L   #_LINK_1ROT_PLS,R1              ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
22334 00004510 6012               924 I1          MOV.L   @R1,R0                          ;
22335 00004512 3028               925 I1          SUB     R2,R0                           ;360-359=1
22336 00004514 620B               926 I1          NEG     R0,R2                           ;-1
22337 00004516 4215               927 I1          CMP/PL  R2                              ;
22338 00004518 8B00               928 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22339 0000451A 222A               929 I1          XOR     R2,R2                           ;
22340 0000451C                    930 I1  FUL_CLS_OBJPLSCK_050:                           ;
22341                             931 I1          SUB_END
22342                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22343 0000451C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22344                             932 I1          M_RTS
22345 0000451E 000B                   M           RTS                             ;RTSの後ろの
22346 00004520 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22347                             933 I1  
22348                             934 I1  
22349                             935 I1  
22350                             936 I1  ;       ***********************************
22351                             937 I1  ;       ***                             ***
22352                             938 I1  ;       ***     目標位置→LENGTH        ***
22353                             939 I1  ;       ***                             ***
22354                             940 I1  ;       ***********************************
22355                             941 I1  ;       Input R1,R2(目標位置)
22356                             942 I1  ;       Output R1,R2
22357                             943 I1          .IMPORT _POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS
22358                                 I1  ***** BEGIN-POOL *****
22359 00004522 0000                   I1  ALIGNMENT CODE
22360 00004524 00000000               I1  DATA FOR SOURCE-LINE 919
22361 00004528 00000000               I1  DATA FOR SOURCE-LINE 923
22362                                 I1  ***** END-POOL *****
22363 0000452C                    944 I1  _FUL_CLS_LENGH_ADD_CALC:
22364                             945 I1          SUB_START
22365 0000452C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22366                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22367                             946 I1  
22368 0000452E D512               947 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22369 00004530 2512               948 I1          MOV.L   R1,@R5                                          ;
22370 00004532 1521               949 I1          MOV.L   R2,@(4,R5)                                      ;絶対目標位置
22371                             950 I1  
22372                             951 I1  ;       == ﾛｯﾄﾃﾞｰﾀを取り除く==                                  ;
22373                             952 I1          FAR_JSR #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;R1,R2+/-回転数 余りパルス
                                          (符号つき)
22374 00004534 D011                   M           MOV.L   #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22375 00004536 400B                   M           JSR     @R0                     ;
22376 00004538 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   290
PROGRAM NAME =

22377 0000453A 6233               953 I1          MOV     R3,R2                                           ;ﾊﾟﾙｽ
22378 0000453C 4211               954 I1          CMP/PZ  R2                                              ;
22379 0000453E 8905               955 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22380 00004540 D10F               956 I1          MOV.L   #_LINK_1ROT_PLS,R1                              ;<待機点340度   目標30度 3
                                          0-340+360>
22381 00004542 6412               957 I1          MOV.L   @R1,R4                                          ;               <30>
22382 00004544 324C               958 I1          ADD     R4,R2                                           ;
22383 00004546 4211               959 I1          CMP/PZ  R2                                              ;
22384 00004548 8900               960 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22385 0000454A 222A               961 I1          XOR     R2,R2                                           ;"演算誤差0":ありえないは
                                          ず?BREAK CHEAK
22386 0000454C                    962 I1  FULCLS_LNG_ADD_CAL200:                                          ;
22387                             963 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0
22388 0000454C D00D                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22389 0000454E 400B                   M           JSR     @R0                     ;
22390 00004550 0009                   M           NOP                                     ;
22391                             964 I1          PUSH_REG1 R2
22392 00004552 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22393                                 M                                           ;REG=>[SP]
22394                                 M                                           ;"-4" FF,FF,FF,FC
22395 00004554 D40C               965 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4                   ;//余り角度 +ﾃﾞｰﾀ
22396 00004556 6242               966 I1          MOV.L   @R4,R2                                          ;
22397                             967 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;
22398 00004558 D00A                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22399 0000455A 400B                   M           JSR     @R0                     ;
22400 0000455C 0009                   M           NOP                                     ;
22401 0000455E 6323               968 I1          MOV     R2,R3                           ;
22402                             969 I1          POP_REG1 R2                             ;
22403                                 M                                   ; RE"+4" 00,00,00,04
22404 00004560 62F6                   M           MOV.L   @R15+,R2        ;
22405                             970 I1  ;       ==== 運転方向(CW/CCW)==
22406 00004562 D10A               971 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
22407 00004564 6411               972 I1          MOV.W   @R1,R4                          ;ﾀｲﾏLOAD
22408 00004566 74FF               973 I1          ADD     #-1,R4                          ;
22409 00004568 4408               974 I1          SHLL2   R4                              ;
22410 0000456A D009               975 I1          MOV.L   #_CPOS_SDAT1_INF1,R0            ;
22411 0000456C 004E               976 I1          MOV.L   @(R0,R4),R0                     ;BIT1=0 CW
22412 0000456E C802               977 I1          TST     #BIT1,R0                        ;
22413                             978 I1          TST_BIT_ON FULCLS_LNG_ADD_CAL300        ;
22414 00004570 8B10                   M           BF      FULCLS_LNG_ADD_CAL300
22415                             979 I1  ;       ====== 正転運転 ===
22416 00004572 3238               980 I1          SUB     R3,R2                           ;
22417                             981 I1  ;;      CMP/PZ  R2                              ;
22418                             982 I1  ;;      BT      FULCLS_LNG_ADD_CAL250           ;
22419                             983 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22420                             984 I1  ;;      MOV.L   @R1,R4                          ;
22421                             985 I1  ;;      ADD     R4,R2                           ;
22422                             986 I1  ;;FULCLS_LNG_ADD_CAL250:                                ;
22423                             987 I1          M_BRA   FULCLS_LNG_ADD_CAL400           ;
22424 00004574 A00F                   M           BRA     FULCLS_LNG_ADD_CAL400
22425 00004576 0009                   M           NOP
22426                             988 I1  
22427                                 I1  ***** BEGIN-POOL *****
22428 00004578 00000000               I1  DATA FOR SOURCE-LINE 947
22429 0000457C 00000000               I1  DATA FOR SOURCE-LINE 952
22430 00004580 00000000               I1  DATA FOR SOURCE-LINE 956
22431 00004584 00000000               I1  DATA FOR SOURCE-LINE 963,967
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   291
PROGRAM NAME =

22432 00004588 00000000               I1  DATA FOR SOURCE-LINE 965
22433 0000458C 00000000               I1  DATA FOR SOURCE-LINE 971
22434 00004590 00000000               I1  DATA FOR SOURCE-LINE 975
22435                                 I1  ***** END-POOL *****
22436 00004594                    989 I1  FULCLS_LNG_ADD_CAL300:
22437                             990 I1  ;       ====== 逆転運転 ===
22438 00004594 3238               991 I1          SUB     R3,R2                           ;
22439                             992 I1  ;;      CMP/PL  R2                              ;
22440                             993 I1  ;;      BF      FULCLS_LNG_ADD_CAL350           ;
22441                             994 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22442                             995 I1  ;;      MOV.L   @R1,R4                          ;
22443                             996 I1  ;;      SUB     R4,R2                           ;
22444                             997 I1  ;;FULCLS_LNG_ADD_CAL350:
22445                             998 I1  ;;      NOP
22446 00004596                    999 I1  FULCLS_LNG_ADD_CAL400:
22447 00004596 211A              1000 I1          XOR     R1,R1                                           ;
22448 00004598 4211              1001 I1          CMP/PZ  R2                                              ;
22449 0000459A 8900              1002 I1          BT      FULCLS_LNG_ADD_CAL450                           ;
22450 0000459C 71FF              1003 I1          ADD     #-1,R1                                          ;
22451 0000459E                   1004 I1  FULCLS_LNG_ADD_CAL450:
22452                            1005 I1  
22453                            1006 I1  ;       ====== 差分======
22454 0000459E D403              1007 I1          MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
22455 000045A0 2412              1008 I1          MOV.L   R1,@R4                          ;
22456 000045A2 1421              1009 I1          MOV.L   R2,@(4,R4)                      ;
22457                            1010 I1          SUB_END
22458                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22459 000045A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22460                            1011 I1          M_RTS
22461 000045A6 000B                   M           RTS                             ;RTSの後ろの
22462 000045A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22463                            1012 I1  
22464                            1013 I1  
22465                            1014 I1          .EXPORT _FUL_DATA_INIT  ;USED R1,R0
22466                                 I1  ***** BEGIN-POOL *****
22467 000045AA 0000                   I1  ALIGNMENT CODE
22468 000045AC 00000000               I1  DATA FOR SOURCE-LINE 1007
22469                                 I1  ***** END-POOL *****
22470 000045B0                   1015 I1  _FUL_DATA_INIT:
22471                            1016 I1          SUB_START
22472 000045B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
22473                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22474 000045B2 D103              1017 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22475 000045B4 200A              1018 I1          XOR     R0,R0                                   ;
22476 000045B6 2101              1019 I1          MOV.W   R0,@R1                                  ;
22477                            1020 I1          SUB_END
22478                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22479 000045B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22480                            1021 I1          M_RTS
22481 000045BA 000B                   M           RTS                             ;RTSの後ろの
22482 000045BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22483                            1022 I1  
22484                            1023 I1  
22485                            1024 I1  ;       ***********************************
22486                            1025 I1  ;       ***                             ***
22487                            1026 I1  ;       ***********************************
22488                            1027 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   292
PROGRAM NAME =

22489                            1028 I1  ;       Input R6:PV
22490                            1029 I1  ;       Input R7:SV
22491                            1030 I1  ;
22492                            1031 I1  ;       Input R3:ｲﾝﾁﾝｸﾞ量
22493                            1032 I1  ;
22494                                 I1  ***** BEGIN-POOL *****
22495 000045BE 0000                   I1  ALIGNMENT CODE
22496 000045C0 00000000               I1  DATA FOR SOURCE-LINE 1017
22497                                 I1  ***** END-POOL *****
22498 000045C4                   1033 I1  _FUL_PLS_START:
22499                            1034 I1          SUB_START
22500 000045C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
22501                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22502                            1035 I1          PUSH_REG1 R3
22503 000045C6 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22504                                 M                                           ;REG=>[SP]
22505                                 M                                           ;"-4" FF,FF,FF,FC
22506                            1036 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
22507 000045C8 D014                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22508 000045CA 400B                   M           JSR     @R0                     ;
22509 000045CC 0009                   M           NOP                                     ;
22510                            1037 I1  
22511                            1038 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
22512 000045CE D014                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22513 000045D0 400B                   M           JSR     @R0                     ;
22514 000045D2 0009                   M           NOP                                     ;
22515                            1039 I1  
22516                            1040 I1  ;       ------2015-03-15
22517                            1041 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22518                            1042 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22519 000045D4 D013                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22520 000045D6 400B                   M           JSR     @R0                     ;
22521 000045D8 0009                   M           NOP                                     ;
22522                            1043 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;R7=100,R6=90 OBJ=100KN PV=90KN
22523 000045DA D013                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22524 000045DC 400B                   M           JSR     @R0                     ;
22525 000045DE 0009                   M           NOP                                     ;
22526                            1044             .AELSE
22527                            1045             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
22528                            1046             .AENDI
22529                            1047 I1  
22530                            1048 I1          POP_REG1 R3
22531                                 M                                   ; RE"+4" 00,00,00,04
22532 000045E0 63F6                   M           MOV.L   @R15+,R3        ;
22533 000045E2 D412              1049 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                           ;
22534 000045E4 6041              1050 I1          MOV.W   @R4,R0
22535 000045E6 C9FE              1051 I1          AND     #LOW ~BIT0,R0                           ;
22536 000045E8 6273              1052 I1          MOV     R7,R2                                   ;R7:SV R6:PV
22537 000045EA 3268              1053 I1          SUB     R6,R2                                   ;SV_-PV_RNA(偏差)
22538 000045EC 4211              1054 I1          CMP/PZ  R2                                      ;
22539 000045EE 8900              1055 I1          BT      FUL_PLS_ST120
22540 000045F0 CB01              1056 I1          OR      #BIT0,R0                                ;
22541 000045F2                   1057 I1  FUL_PLS_ST120:                                          ;
22542 000045F2 2401              1058 I1          MOV.W   R0,@R4                                  ;方向作成
22543 000045F4 211A              1059 I1          XOR     R1,R1                                   ;R1,R2(絶対ﾊﾟﾙｽ)
22544 000045F6 6233              1060 I1          MOV     R3,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   293
PROGRAM NAME =

22545                            1061 I1          FAR_JSR #_CLS_POS_LENGTH_ADD_DATA,R0            ;
22546 000045F8 D00D                   M           MOV.L   #_CLS_POS_LENGTH_ADD_DATA,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22547 000045FA 400B                   M           JSR     @R0                     ;
22548 000045FC 0009                   M           NOP                                     ;
22549                            1062 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
22550 000045FE D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22551 00004600 400B                   M           JSR     @R0                     ;
22552 00004602 0009                   M           NOP                                     ;
22553                            1063 I1          FAR_JSR #_FWD_REV_START,R1                      ;起動
22554 00004604 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22555 00004606 410B                   M           JSR     @R1                     ;
22556 00004608 0009                   M           NOP                                     ;
22557 0000460A 0009              1064 I1          NOP
22558 0000460C 0009              1065 I1          NOP
22559 0000460E 0009              1066 I1          NOP
22560                            1067 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22561 00004610 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22562 00004612 400B                   M           JSR     @R0                     ;
22563 00004614 0009                   M           NOP                                     ;
22564                            1068 I1          SUB_END
22565                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22566 00004616 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22567                            1069 I1          M_RTS
22568 00004618 000B                   M           RTS                             ;RTSの後ろの
22569 0000461A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22570                            1070 I1  
22571                            1071 I1  
22572                            1072 I1  ;       ***********************************
22573                            1073 I1  ;       ***                             ***
22574                            1074 I1  ;       ***     2013-04-14              ***
22575                            1075 I1  ;       ***     (速度継続中のみCALL)    ***
22576                            1076 I1  ;       ***                             ***
22577                            1077 I1  ;       ***********************************
22578                            1078 I1  ;       位置１　停止位置２　手前にした結果　手前位置＜位置１＜位置２の場合、位置１の手前で
                                          停止する
22579                            1079 I1  ;       ANS     R0=1:切替必要
22580                            1080 I1  ;       ANS     R2=X:切替行程
22581                                 I1  ***** BEGIN-POOL *****
22582 0000461C 00000000               I1  DATA FOR SOURCE-LINE 1036
22583 00004620 00000000               I1  DATA FOR SOURCE-LINE 1038
22584 00004624 00000000               I1  DATA FOR SOURCE-LINE 1042
22585 00004628 00000000               I1  DATA FOR SOURCE-LINE 1043
22586 0000462C 00000000               I1  DATA FOR SOURCE-LINE 1049
22587 00004630 00000000               I1  DATA FOR SOURCE-LINE 1061
22588 00004634 00000000               I1  DATA FOR SOURCE-LINE 1062
22589 00004638 00000000               I1  DATA FOR SOURCE-LINE 1063
22590 0000463C 00000000               I1  DATA FOR SOURCE-LINE 1067
22591                                 I1  ***** END-POOL *****
22592 00004640                   1081 I1  _REV_BEFORE_CHGKOUTEICHK:
22593                            1082 I1          SUB_START
22594 00004640 4F22                   M           STS.L   PR,@-R15                ;[必要]
22595                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22596                            1083 I1          PUSH_REG1 R5
22597 00004642 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
22598                                 M                                           ;REG=>[SP]
22599                                 M                                           ;"-4" FF,FF,FF,FC
22600                            1084 I1          PUSH_REG1 R9
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   294
PROGRAM NAME =

22601 00004644 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
22602                                 M                                           ;REG=>[SP]
22603                                 M                                           ;"-4" FF,FF,FF,FC
22604                            1085 I1          PUSH_REG1 R11
22605 00004646 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
22606                                 M                                           ;REG=>[SP]
22607                                 M                                           ;"-4" FF,FF,FF,FC
22608                            1086 I1  
22609 00004648 DB0F              1087 I1          MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
22610 0000464A 69B1              1088 I1          MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
22611 0000464C 6593              1089 I1          MOV     R9,R5                                                   ;
22612 0000464E 75FF              1090 I1          ADD     #-1,R5                                                  ;
22613 00004650 4508              1091 I1          SHLL2   R5                                                      ;
22614 00004652 6253              1092 I1          MOV     R5,R2
22615 00004654 4200              1093 I1          SHLL    R2
22616 00004656 D00D              1094 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
22617 00004658 302C              1095 I1          ADD     R2,R0
22618 0000465A 6106              1096 I1          MOV.L   @R0+,R1                                                 ;位置
22619 0000465C 6202              1097 I1          MOV.L   @R0,R2                                                  ;
22620                            1098 I1  
22621 0000465E 255A              1099 I1          XOR     R5,R5                                                   ;
22622 00004660 D40B              1100 I1          MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4                             ;//目標−手前
22623 00004662 6642              1101 I1          MOV.L   @R4,R6                                                  ;
22624 00004664 7601              1102 I1          ADD     #D'1,R6                                         ;
22625                            1103 I1  
22626                            1104 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22627 00004666 0008                   M           CLRT
22628 00004668 326A                   M           SUBC    R6,R2
22629 0000466A 315A                   M           SUBC    R5,R1
22630                            1105 I1  
22631 0000466C D409              1106 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
22632 0000466E 6546              1107 I1          MOV.L   @R4+,R5                                                 ;
22633 00004670 6642              1108 I1          MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
22634                            1109 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22635 00004672 0008                   M           CLRT
22636 00004674 326A                   M           SUBC    R6,R2
22637 00004676 315A                   M           SUBC    R5,R1
22638                            1110 I1  
22639 00004678 4111              1111 I1          CMP/PZ  R1
22640 0000467A 8B0E              1112 I1          BF      REV_BEFORE_CHGKOUTEICK100                               ;"-" 過ぎた
22641                            1113 I1  
22642 0000467C 6013              1114 I1          MOV     R1,R0
22643 0000467E 202B              1115 I1          OR      R2,R0
22644 00004680 2008              1116 I1          TST     R0,R0
22645                            1117 I1          TST_BIT_OF REV_BEFORE_CHGKOUTEICK090                            ;
22646 00004682 8909                   M           BT      REV_BEFORE_CHGKOUTEICK090
22647                            1118 I1          M_BRA   REV_BEFORE_CHGKOUTEICK300                               ;
22648 00004684 A016                   M           BRA     REV_BEFORE_CHGKOUTEICK300
22649 00004686 0009                   M           NOP
22650                            1119 I1  
22651                                 I1  ***** BEGIN-POOL *****
22652 00004688 00000000               I1  DATA FOR SOURCE-LINE 1087
22653 0000468C 00000000               I1  DATA FOR SOURCE-LINE 1094
22654 00004690 00000000               I1  DATA FOR SOURCE-LINE 1100
22655 00004694 00000000               I1  DATA FOR SOURCE-LINE 1106
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   295
PROGRAM NAME =

22656                                 I1  ***** END-POOL *****
22657 00004698                   1120 I1  REV_BEFORE_CHGKOUTEICK090:
22658 00004698 0009              1121 I1          NOP
22659 0000469A                   1122 I1  REV_BEFORE_CHGKOUTEICK100:
22660 0000469A 6093              1123 I1          MOV     R9,R0                           ;
22661 0000469C 70FF              1124 I1          ADD     #-1,R0                          ;
22662 0000469E 4008              1125 I1          SHLL2   R0
22663 000046A0 D103              1126 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
22664 000046A2 021E              1127 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
22665 000046A4 3922              1128 I1          CMP/HS  R2,R9                           ;
22666 000046A6 8905              1129 I1          BT      REV_BEFORE_CHGKOUTEICK300       ;すでにこの行程
22667                            1130 I1  
22668 000046A8                   1131 I1  REV_BEFORE_CHGKOUTEICK200:
22669 000046A8 E001              1132 I1          MOV.B   #1,R0                           ;ANS R2,R0
22670                            1133 I1          M_BRA   REV_BEFORE_CHGKOUTEICK400
22671 000046AA A004                   M           BRA     REV_BEFORE_CHGKOUTEICK400
22672 000046AC 0009                   M           NOP
22673                            1134 I1  
22674                                 I1  ***** BEGIN-POOL *****
22675 000046AE 0000                   I1  ALIGNMENT CODE
22676 000046B0 00000000               I1  DATA FOR SOURCE-LINE 1126
22677                                 I1  ***** END-POOL *****
22678 000046B4                   1135 I1  REV_BEFORE_CHGKOUTEICK300:
22679 000046B4 200A              1136 I1          XOR     R0,R0
22680 000046B6                   1137 I1  REV_BEFORE_CHGKOUTEICK400:
22681                            1138 I1  
22682                            1139 I1          POP_REG1 R11
22683                                 M                                   ; RE"+4" 00,00,00,04
22684 000046B6 6BF6                   M           MOV.L   @R15+,R11        ;
22685                            1140 I1          POP_REG1 R9
22686                                 M                                   ; RE"+4" 00,00,00,04
22687 000046B8 69F6                   M           MOV.L   @R15+,R9        ;
22688                            1141 I1          POP_REG1 R5
22689                                 M                                   ; RE"+4" 00,00,00,04
22690 000046BA 65F6                   M           MOV.L   @R15+,R5        ;
22691                            1142 I1  
22692                            1143 I1          SUB_END
22693                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22694 000046BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22695                            1144 I1          M_RTS
22696 000046BE 000B                   M           RTS                             ;RTSの後ろの
22697 000046C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22698                            1145 I1  
22699                            1146 I1  
22700                            1147 I1  ;       *******************************************
22701                            1148 I1  ;       ***                                     ***
22702                            1149 I1  ;       ***                                     ***
22703                            1150 I1  ;       ***                                     ***
22704                            1151 I1  ;       ***                                     ***
22705                            1152 I1  ;       ****            荷重−位置変換          ***
22706                            1153 I1  ;       ***                                     ***
22707                            1154 I1  ;       ***                                     ***
22708                            1155 I1  ;       ***                                     ***
22709                            1156 I1  ;       ***                                     ***
22710                            1157 I1  ;       *******************************************
22711                            1158 I1  ;       INPUT
22712                            1159 I1  ;       INPUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   296
PROGRAM NAME =

22713                            1160 I1  ;       OUTPUT
22714                            1161 I1          .IMPORT _SVP_ORGRUP_DEG         ;原点右区間上[荷重ﾃﾞﾊﾞｯｸ]KN
22715                            1162 I1          .IMPORT _SVP_ORGRDN_DEG         ;原点右区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
22716                            1163 I1          .IMPORT _SVP_ORGLUP_DEG         ;原点左区間上[荷重ﾃﾞﾊﾞｯｸ]KN
22717                            1164 I1          .IMPORT _SVP_ORGLDN_DEG         ;原点左区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
22718                            1165 I1  
22719                            1166 I1  
22720                            1167 I1  
22721                            1168 I1  _SVPX_KTBL_MIN_KN       .DEFINE         "_SVP_ORGRUP_DEG"
22722                            1169 I1  _SVPX_KTBL_MIN_PLS      .DEFINE         "_SVP_ORGLUP_DEG"
22723                            1170 I1  
22724                            1171 I1  _SVPX_KTBL_MAX_KN       .DEFINE         "_SVP_ORGRDN_DEG"
22725                            1172 I1  _SVPX_KTBL_MAX_PLS      .DEFINE         "_SVP_ORGLDN_DEG"
22726                            1173 I1  
22727                            1174 I1  ;       R3:Yn_1         R5:Xn_1
22728                            1175 I1  ;       R2:Yn           R4:Xn
22729                            1176 I1  ;       ANS:R2=y        R1:x
22730                            1177 I1  ;       limit R6(Yn)
22731                            1178 I1  
22732 000046C2                   1179 I1  _CLS_KJYU_PLS_CHANGE
22733                            1180 I1          SUB_START
22734 000046C2 4F22                   M           STS.L   PR,@-R15                ;[必要]
22735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22736                            1181 I1  
22737 000046C4 D105              1182 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;//その行程のターゲット
22738 000046C6 6212              1183 I1          MOV.L   @R1,R2                          ;
22739 000046C8 D105              1184 I1          MOV.L   #_W4_PV_CTL_KJYU_TTL_P,R1       ;//制御値=ﾌｨﾙﾀ値予定
22740 000046CA 6012              1185 I1          MOV.L   @R1,R0                          ;荷重実測
22741 000046CC 3208              1186 I1          SUB     R0,R2                           ;
22742 000046CE D105              1187 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1           ;//荷重の偏差
22743 000046D0 2122              1188 I1          MOV.L   R2,@R1                          ;
22744                            1189 I1  
22745                            1190 I1  ;       ------KN->PLS換算は不要 KN=PLSにしてしますためコメントにする
22746 000046D2 D105              1191 I1          MOV.L   #_KJYUCLS_KN_HENSA_PLS,R1       ;//荷重の偏差相当のパルス
22747 000046D4 2122              1192 I1          MOV.L   R2,@R1                          ;PLS="+":もっと正転していい
22748                            1193 I1  
22749                            1194 I1          SUB_END
22750                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22751 000046D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22752                            1195 I1          M_RTS
22753 000046D8 000B                   M           RTS                             ;RTSの後ろの
22754 000046DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22755                            1196 I1  
22756                            1197 I1  
22757                            1198 I1  
22758                            1199 I1  
22759                            1200 I1  ;;      FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
22760                            1201 I1  ;;              @この段でフルクロを行うかどうか R0=0　しない R0 != フルクロする
22761                            1202 I1  ;;              AR6:目標停止位置[PLS],R7リニアの実測位置[PLS] 1回転上のオフセットパルス
22762                            1203 I1  ;;
22763                            1204 I1  ;;      FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0                       ;ANS R0,R6(ﾘﾆｱ実測
                                          ﾊﾟﾙｽ),R7(1回転内目標ﾊﾟﾙｽ)
22764                            1205 I1  ;;              @ニアゼロの範囲内 R0=0, ＋側へオーバR0=1,-側へオーバR0=-1
22765                            1206 I1  ;;               CPUBはCPUAがニアゼロならニアＺロと認識
22766                            1207 I1  
22767                            1208 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   297
PROGRAM NAME =

22768                            1209 I1  ;       ***                                     ***
22769                            1210 I1  ;       ***     ﾌﾙｸﾛｰｽﾞを行う段数かチェック     ***
22770                            1211 I1  ;       ***     [ﾘﾆｱ・荷重切替]                 ***
22771                            1212 I1  ;       *******************************************
22772                            1213 I1  ;       最終段の場合はﾌﾙｸﾛｰｽﾞしない。このソフトの上で見ている
22773                            1214 I1  ;       input INT_POS_CTL_STEP,CPOS_SDAT1_CNTSTEP
22774                            1215 I1  ;       ANS R0:0 ﾌﾙｸﾛｰｽﾞしない
22775                            1216 I1  ;             :0以外 ﾌﾙｸﾛｰｽﾞする
22776                            1217 I1  ;       ANS R5:この行程の停止行程
22777                            1218 I1  ;[_POS_CLS_START_CONFは_POS_CLS_TYP1_PROC_CHKの一部]
22778                            1219 I1  ;
22779                                 I1  ***** BEGIN-POOL *****
22780 000046DC 00000000               I1  DATA FOR SOURCE-LINE 1182
22781 000046E0 00000000               I1  DATA FOR SOURCE-LINE 1184
22782 000046E4 00000000               I1  DATA FOR SOURCE-LINE 1187
22783 000046E8 00000000               I1  DATA FOR SOURCE-LINE 1191
22784                                 I1  ***** END-POOL *****
22785 000046EC                   1220 I1  _POS_CLS_START_CONF:
22786                            1221 I1          SUB_START
22787 000046EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
22788                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22789 000046EE D107              1222 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
22790 000046F0 6011              1223 I1          MOV.W   @R1,R0                          ;
22791 000046F2 6503              1224 I1          MOV     R0,R5                           ;工程PUSH
22792 000046F4 70FF              1225 I1          ADD     #-1,R0                          ;
22793 000046F6 4008              1226 I1          SHLL2   R0
22794 000046F8 D105              1227 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
22795 000046FA 001E              1228 I1          MOV.L   @(R0,R1),R0                     ;現状の工程の目標工程
22796 000046FC D105              1229 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
22797 000046FE 2101              1230 I1          MOV.W   R0,@R1
22798                            1231 I1  
22799 00004700 3500              1232 I1          CMP/EQ  R0,R5                           ;停止させる工程でのみﾌﾙｸﾛｰｽﾞは行う
22800 00004702 8900              1233 I1          BT      POS_CLS_START_050               ;R0=R5 ANS R5=工程,R0
22801 00004704 200A              1234 I1          XOR     R0,R0                           ;ANS MAK
22802 00004706                   1235 I1  POS_CLS_START_050:                              ;
22803                            1236 I1  
22804                            1237 I1          SUB_END
22805                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22806 00004706 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22807                            1238 I1          M_RTS
22808 00004708 000B                   M           RTS                             ;RTSの後ろの
22809 0000470A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22810                            1239 I1  
22811                            1240 I1  ;       ***************************************************
22812                            1241 I1  ;       ***                                             ***
22813                            1242 I1  ;       ***     目標位置(ﾊﾟﾙｽ)と制御対象実測作成        ***
22814                            1243 I1  ;       ***     [ﾘﾆｱ・荷重切替]                         ***
22815                            1244 I1  ;       ***                                             ***
22816                            1245 I1  ;       ***************************************************
22817                            1246 I1  ;       input _SDATCLS_TRG_STEP ;//速度連続の最後のｽﾃｯﾌﾟ
22818                            1247 I1  ;       ANS
22819                            1248 I1  ;       R7:目標停止位置
22820                            1249 I1  ;       R6:ﾘﾆｱ位置　または　荷重からの位置
22821                            1250 I1  ;               荷重の場合は(目標荷重-実測荷重)*K+目標位置
22822                            1251 I1  ;                               (完了幅内では+1,0,-1ﾊﾟﾙｽにする)
22823                            1252 I1  ;
22824                            1253 I1  ;[_POS_CLS_OBJPLS_PVPLS_MAKEは_POS_CLS_TYP1_PROC_CHKの一部]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   298
PROGRAM NAME =

22825                            1254 I1  ;
22826                            1255 I1  ;
22827                            1256 I1  ;
22828                                 I1  ***** BEGIN-POOL *****
22829 0000470C 00000000               I1  DATA FOR SOURCE-LINE 1222
22830 00004710 00000000               I1  DATA FOR SOURCE-LINE 1227
22831 00004714 00000000               I1  DATA FOR SOURCE-LINE 1229
22832                                 I1  ***** END-POOL *****
22833 00004718                   1257 I1  _POS_CLS_OBJPLS_PVPLS_MAKE
22834                            1258 I1          SUB_START
22835 00004718 4F22                   M           STS.L   PR,@-R15                ;[必要]
22836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22837                            1259 I1  
22838 0000471A D111              1260 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
22839 0000471C 6011              1261 I1          MOV.W   @R1,R0                          ;[R5]
22840                            1262 I1  
22841 0000471E D511              1263 I1          MOV.L   #_SDATCLS_UPOBJ_PLS,R5          ;[目標位置=待機点]
22842 00004720 D111              1264 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
22843 00004722 6211              1265 I1          MOV.W   @R1,R2                          ;
22844 00004724 7201              1266 I1          ADD     #1,R2                           ;
22845 00004726 3023              1267 I1          CMP/GE  R2,R0                           ;MAX=NOW
22846 00004728 8903              1268 I1          BT      POS_CLS_OBJPVPLSMAK100  ;
22847                            1269 I1  
22848 0000472A D510              1270 I1          MOV.L   #_SDATCLS_OBJPLS,R5             ;[目標位置=各段設定位置]
22849 0000472C 70FF              1271 I1          ADD     #-1,R0                          ;
22850 0000472E 4008              1272 I1          SHLL2   R0                              ;4BYTE
22851 00004730 350C              1273 I1          ADD     R0,R5                           ;
22852 00004732                   1274 I1  POS_CLS_OBJPVPLSMAK100  ;
22853                            1275 I1  
22854 00004732 6752              1276 I1          MOV.L   @R5,R7                          ;待機点または目標位置(停止)
22855 00004734 6273              1277 I1          MOV     R7,R2
22856                            1278 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(目標ﾊﾟﾙｽ+/-ﾊﾟﾙｽ変換)
22857 00004736 D00E                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22858 00004738 400B                   M           JSR     @R0                     ;
22859 0000473A 0009                   M           NOP                                     ;
22860 0000473C 6723              1279 I1          MOV     R2,R7                           ;R7:目標位置;ANS:目標位置(設定ﾚﾍﾞﾙ)
22861                            1280 I1  
22862 0000473E D40D              1281 I1          MOV.L   #_DBG_REVMOD_OBJPLS,R4          ;
22863 00004740 2422              1282 I1          MOV.L   R2,@R4                          ;ﾃﾞﾊﾞｯｸ用内部ﾃﾞｰﾀﾓﾆﾀ
22864                            1283 I1  
22865                            1284 I1  ;       ==========R7:停止目標位置============
22866 00004742 D10D              1285 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
22867 00004744 6011              1286 I1          MOV.W   @R1,R0                          ;
22868 00004746 2008              1287 I1          TST     R0,R0                           ;
22869                            1288 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK300       ;荷重 JUMP
22870 00004748 8B1C                   M           BF      POS_CLS_OBJPVPLSMAK300
22871                            1289 I1  
22872                            1290 I1  ;       =====   R6:リニア       ======
22873 0000474A D40C              1291 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4   ;//余り角度 +ﾃﾞｰﾀ
22874 0000474C 6642              1292 I1          MOV.L   @R4,R6                          ;
22875 0000474E 6263              1293 I1          MOV     R6,R2                           ;
22876                            1294 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(ﾘﾆｱｽｹｰﾙ==>+/-ﾊﾟﾙｽ変換)
22877 00004750 D007                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22878 00004752 400B                   M           JSR     @R0                     ;
22879 00004754 0009                   M           NOP                                     ;
22880 00004756 6623              1295 I1          MOV     R2,R6                           ;
22881 00004758 D009              1296 I1          MOV.L   #_DBG_REVMOD_CTLPLS,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   299
PROGRAM NAME =

22882 0000475A 2022              1297 I1          MOV.L   R2,@R0                          ;
22883                            1298 I1          M_BRA   POS_CLS_OBJPVPLSMAK500          ;
22884 0000475C A01C                   M           BRA     POS_CLS_OBJPVPLSMAK500
22885 0000475E 0009                   M           NOP
22886                            1299 I1  
22887                            1300 I1  
22888                            1301 I1  ;       =====           荷重            ======
22889                                 I1  ***** BEGIN-POOL *****
22890 00004760 00000000               I1  DATA FOR SOURCE-LINE 1260
22891 00004764 00000000               I1  DATA FOR SOURCE-LINE 1263
22892 00004768 00000000               I1  DATA FOR SOURCE-LINE 1264
22893 0000476C 00000000               I1  DATA FOR SOURCE-LINE 1270
22894 00004770 00000000               I1  DATA FOR SOURCE-LINE 1278,1294
22895 00004774 00000000               I1  DATA FOR SOURCE-LINE 1281
22896 00004778 00000000               I1  DATA FOR SOURCE-LINE 1285
22897 0000477C 00000000               I1  DATA FOR SOURCE-LINE 1291
22898 00004780 00000000               I1  DATA FOR SOURCE-LINE 1296
22899                                 I1  ***** END-POOL *****
22900 00004784                   1302 I1  POS_CLS_OBJPVPLSMAK300:
22901                            1303 I1  ;;      S4b     KJYUCLS_OBJ_KN;         //各段の荷重目標
22902                            1304 I1  ;;      S4b     KJYUCLS_KN_HENSA;       //荷重の偏差
22903                            1305 I1  ;;      S4b     KJYUCLS_KN_HENSA_PLS;   //荷重の偏差相当のパルス
22904                            1306 I1  
22905                            1307 I1          PUSH_REG1 R7                            ;
22906 00004784 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
22907                                 M                                           ;REG=>[SP]
22908                                 M                                           ;"-4" FF,FF,FF,FC
22909                            1308 I1          FAR_JSR #_CLS_KJYU_PLS_CHANGE,R0        ;OUTPUT R2:偏差ﾊﾟﾙｽ+/-
22910 00004786 D006                   M           MOV.L   #_CLS_KJYU_PLS_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22911 00004788 400B                   M           JSR     @R0                     ;
22912 0000478A 0009                   M           NOP                                     ;
22913                            1309 I1          POP_REG1 R7                             ;
22914                                 M                                   ; RE"+4" 00,00,00,04
22915 0000478C 67F6                   M           MOV.L   @R15+,R7        ;
22916                            1310 I1  
22917                            1311 I1  
22918 0000478E 2228              1312 I1          TST     R2,R2                           ;
22919                            1313 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK310       ;
22920 00004790 8B00                   M           BF      POS_CLS_OBJPVPLSMAK310
22921                            1314 I1  
22922 00004792 E201              1315 I1          MOV.B   #1,R2                           ;0なら1にする
22923                            1316 I1  
22924 00004794                   1317 I1  POS_CLS_OBJPVPLSMAK310:                         ;
22925                            1318 I1                                                  ;"R2=2"
22926 00004794 6673              1319 I1          MOV     R7,R6                           ;OBJ=100PLS
22927 00004796 3628              1320 I1          SUB     R2,R6                           ;PV = 98PLS
22928                            1321 I1  
22929                            1322 I1  
22930                            1323 I1  
22931                            1324 I1  
22932 00004798                   1325 I1  POS_CLS_OBJPVPLSMAK500:
22933                            1326 I1  
22934                            1327 I1          SUB_END
22935                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22936 00004798 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22937                            1328 I1          M_RTS
22938 0000479A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   300
PROGRAM NAME =

22939 0000479C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22940                            1329 I1  
22941                            1330 I1  ;       ***************************************************
22942                            1331 I1  ;       ***                                             ***
22943                            1332 I1  ;       ***     リニア　ニアゼロまたは荷重ニアゼロ      ***
22944                            1333 I1  ;       ***                                             ***
22945                            1334 I1  ;       ***************************************************
22946                            1335 I1  ;       input   R6:ﾘﾆｱ位置
22947                            1336 I1  ;       ANS     R0:-1,0,1
22948                            1337 I1          .IMPORT _SVP_KAJOBJ_HAB ;荷重完了範囲
22949                            1338 I1  
22950                                 I1  ***** BEGIN-POOL *****
22951 0000479E 0000                   I1  ALIGNMENT CODE
22952 000047A0 00000000               I1  DATA FOR SOURCE-LINE 1308
22953                                 I1  ***** END-POOL *****
22954 000047A4                   1339 I1  _POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK:
22955                            1340 I1          SUB_START
22956 000047A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
22957                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22958                            1341 I1  
22959 000047A6 D104              1342 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
22960 000047A8 6011              1343 I1          MOV.W   @R1,R0                          ;
22961 000047AA 2008              1344 I1          TST     R0,R0                           ;
22962                            1345 I1          TST_BIT_ON POS_CLS_RNA_KJYU_FIRST_NZ_CHK100     ;
22963 000047AC 8B08                   M           BF      POS_CLS_RNA_KJYU_FIRST_NZ_CHK100
22964                            1346 I1  
22965                            1347 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
22966 000047AE D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22967 000047B0 400B                   M           JSR     @R0                     ;
22968 000047B2 0009                   M           NOP                                     ;
22969                            1348 I1          M_BRA   POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
22970 000047B4 A011                   M           BRA     POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
22971 000047B6 0009                   M           NOP
22972                            1349 I1  
22973                                 I1  ***** BEGIN-POOL *****
22974 000047B8 00000000               I1  DATA FOR SOURCE-LINE 1342
22975 000047BC 00000000               I1  DATA FOR SOURCE-LINE 1347
22976                                 I1  ***** END-POOL *****
22977 000047C0                   1350 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK100:
22978                            1351 I1  
22979                            1352 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
22980 000047C0 D007                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22981 000047C2 400B                   M           JSR     @R0                     ;
22982 000047C4 0009                   M           NOP                                     ;
22983                            1353 I1  ;       -2015-06-22
22984 000047C6 D107              1354 I1          MOV.L   #(_PAR_KAJYU_FIRST-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
22985 000047C8 6311              1355 I1          MOV.W   @R1,R3                                                  ;
22986 000047CA D107              1356 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
22987 000047CC 6212              1357 I1          MOV.L   @R1,R2                  ;"+/-"
22988 000047CE 4211              1358 I1          CMP/PZ  R2
22989 000047D0 8900              1359 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHK120
22990 000047D2 622B              1360 I1          NEG     R2,R2                                   ;
22991 000047D4                   1361 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK120                        ;
22992 000047D4 3236              1362 I1          CMP/HI  R3,R2                                   ;R3<R2
22993 000047D6 8900              1363 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND        ;
22994 000047D8 200A              1364 I1          XOR     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   301
PROGRAM NAME =

22995                            1365 I1  
22996 000047DA                   1366 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND:
22997                            1367 I1  
22998                            1368 I1          SUB_END
22999                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23000 000047DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23001                            1369 I1          M_RTS
23002 000047DC 000B                   M           RTS                             ;RTSの後ろの
23003 000047DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23004                            1370 I1  
23005                            1371 I1  
23006                            1372 I1  
23007                            1373 I1  
23008                            1374 I1  
23009                                 I1  ***** BEGIN-POOL *****
23010 000047E0 00000000               I1  DATA FOR SOURCE-LINE 1352
23011 000047E4 00000000               I1  DATA FOR SOURCE-LINE 1354
23012 000047E8 00000000               I1  DATA FOR SOURCE-LINE 1356
23013                                 I1  ***** END-POOL *****
23014 000047EC                   1375 I1  _POS_CLS_RNA_KJYU_NZ_CHEAK:
23015                            1376 I1          SUB_START
23016 000047EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23017                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23018                            1377 I1  
23019 000047EE D104              1378 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23020 000047F0 6011              1379 I1          MOV.W   @R1,R0                          ;
23021 000047F2 2008              1380 I1          TST     R0,R0                           ;
23022                            1381 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK100   ;
23023 000047F4 8B08                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK100
23024                            1382 I1  
23025                            1383 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23026 000047F6 D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23027 000047F8 400B                   M           JSR     @R0                     ;
23028 000047FA 0009                   M           NOP                                     ;
23029                            1384 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND
23030 000047FC A03F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23031 000047FE 0009                   M           NOP
23032                            1385 I1  
23033                                 I1  ***** BEGIN-POOL *****
23034 00004800 00000000               I1  DATA FOR SOURCE-LINE 1378
23035 00004804 00000000               I1  DATA FOR SOURCE-LINE 1383
23036                                 I1  ***** END-POOL *****
23037 00004808                   1386 I1  POS_CLS_RNA_KJYU_NZ_CHK100:
23038                            1387 I1  
23039                            1388 I1  ;       ---------------------------------------------------
23040                            1389 I1          .IMPORT _SEQ_DP_TOP
23041                            1390 I1  
23042 00004808 D10C              1391 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;[[[[[[[[[[[[
23043 0000480A 6011              1392 I1          MOV.W   @R1,R0                          ;
23044 0000480C 9414              1393 I1          MOV.W   #BIT12,R4                       ;
23045                            1394 I1  
23046 0000480E 2048              1395 I1          TST     R4,R0                           ;
23047                            1396 I1          TST_BIT_OF POS_CLS_RNA_KJYU_NZ_CHK500   ;ﾀｲﾏ中は制御しない
23048 00004810 8932                   M           BT      POS_CLS_RNA_KJYU_NZ_CHK500
23049                            1397 I1  
23050 00004812 D10B              1398 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;//BIT0:SET BIT1:ﾀｲﾑｱｯﾌﾟ()
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   302
PROGRAM NAME =

23051 00004814 6011              1399 I1          MOV.W   @R1,R0                          ;
23052 00004816 C802              1400 I1          TST     #BIT1,R0
23053                            1401 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK400   ;
23054 00004818 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK400
23055                            1402 I1  
23056 0000481A C801              1403 I1          TST     #BIT0,R0                        ;
23057                            1404 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK200   ;ﾆｱｾﾞﾛに入ったか？
23058 0000481C 8B16                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK200
23059                            1405 I1  
23060                            1406 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23061 0000481E D009                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23062 00004820 400B                   M           JSR     @R0                     ;
23063 00004822 0009                   M           NOP                                     ;
23064 00004824 2008              1407 I1          TST     R0,R0                           ;ﾆｱｾﾞﾛか?
23065                            1408 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾆｱｾﾞﾛではない
23066 00004826 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23067                            1409 I1  
23068 00004828 E001              1410 I1          MOV.B   #BIT0,R0                        ;
23069 0000482A D105              1411 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23070 0000482C 2101              1412 I1          MOV.W   R0,@R1                          ;
23071                            1413 I1  
23072                            1414 I1          FAR_JSR #_FCLS_NZ_TIM_SET,R0            ;ﾀｲﾏｾｯﾄ
23073 0000482E D006                   M           MOV.L   #_FCLS_NZ_TIM_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23074 00004830 400B                   M           JSR     @R0                     ;
23075 00004832 0009                   M           NOP                                     ;
23076                            1415 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHK490      ;
23077 00004834 A018                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHK490
23078 00004836 0009                   M           NOP
23079                            1416 I1  
23080                                 I1  ***** BEGIN-POOL *****
23081 00004838 1000                   I1  DATA FOR SOURCE-LINE 1393
23082 0000483A 0000                   I1  ALIGNMENT CODE
23083 0000483C 00000000               I1  DATA FOR SOURCE-LINE 1391
23084 00004840 00000000               I1  DATA FOR SOURCE-LINE 1398,1411
23085 00004844 00000000               I1  DATA FOR SOURCE-LINE 1406
23086 00004848 00000000               I1  DATA FOR SOURCE-LINE 1414
23087                                 I1  ***** END-POOL *****
23088 0000484C                   1417 I1  POS_CLS_RNA_KJYU_NZ_CHK200:
23089                            1418 I1  
23090                            1419 I1  
23091 0000484C D404              1420 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4            ;
23092 0000484E 6142              1421 I1          MOV.L   @R4,R1                          ;
23093 00004850 2118              1422 I1          TST     R1,R1                           ;
23094                            1423 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾀｲﾏ中
23095 00004852 8B09                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23096                            1424 I1  
23097                            1425 I1  ;       --------ﾀｲﾑｱｯﾌﾟ------------
23098 00004854 E003              1426 I1          MOV.B   #BIT1+BIT0,R0                   ;
23099 00004856 D103              1427 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23100 00004858 2101              1428 I1          MOV.W   R0,@R1                          ;
23101                            1429 I1  
23102 0000485A                   1430 I1  POS_CLS_RNA_KJYU_NZ_CHK400:
23103 0000485A 200A              1431 I1          XOR     R0,R0                           ;完了
23104                            1432 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23105 0000485C A00F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23106 0000485E 0009                   M           NOP
23107                            1433 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   303
PROGRAM NAME =

23108                            1434 I1  
23109                                 I1  ***** BEGIN-POOL *****
23110 00004860 00000000               I1  DATA FOR SOURCE-LINE 1420
23111 00004864 00000000               I1  DATA FOR SOURCE-LINE 1427
23112                                 I1  ***** END-POOL *****
23113 00004868                   1435 I1  POS_CLS_RNA_KJYU_NZ_CHK490:
23114                            1436 I1          FAR_JSR #_KJYU_OUT_DIRCT,R0             ;ANS R0=1(戻れ)/-1(進め)　終わらない
23115 00004868 D002                   M           MOV.L   #_KJYU_OUT_DIRCT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23116 0000486A 400B                   M           JSR     @R0                     ;
23117 0000486C 0009                   M           NOP                                     ;
23118                            1437 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23119 0000486E A006                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23120 00004870 0009                   M           NOP
23121                            1438 I1  
23122                            1439 I1  
23123                            1440 I1  ;       --------------------------------------------
23124                                 I1  ***** BEGIN-POOL *****
23125 00004872 0000                   I1  ALIGNMENT CODE
23126 00004874 00000000               I1  DATA FOR SOURCE-LINE 1436
23127                                 I1  ***** END-POOL *****
23128 00004878                   1441 I1  POS_CLS_RNA_KJYU_NZ_CHK500:
23129                            1442 I1  
23130                            1443 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;0(完了),1(戻れ),-1(進め)
23131 00004878 D002                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23132 0000487A 400B                   M           JSR     @R0                     ;
23133 0000487C 0009                   M           NOP                                     ;
23134                            1444 I1  
23135 0000487E                   1445 I1  POS_CLS_RNA_KJYU_NZ_CHKEND:
23136                            1446 I1  
23137                            1447 I1  
23138                            1448 I1          SUB_END
23139                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23140 0000487E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23141                            1449 I1          M_RTS
23142 00004880 000B                   M           RTS                             ;RTSの後ろの
23143 00004882 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23144                            1450 I1  
23145                            1451 I1  
23146                            1452 I1  
23147                            1453 I1  ;       *******************************************
23148                            1454 I1  ;       ***                                     ***
23149                            1455 I1  ;       ***     ユーザ設定荷重完了範囲との比較  ***
23150                            1456 I1  ;       ***                                     ***
23151                            1457 I1  ;       *******************************************
23152                                 I1  ***** BEGIN-POOL *****
23153 00004884 00000000               I1  DATA FOR SOURCE-LINE 1443
23154                                 I1  ***** END-POOL *****
23155 00004888                   1458 I1  _KJYU_NEARZERO_CHK:
23156                            1459 I1          SUB_START
23157 00004888 4F22                   M           STS.L   PR,@-R15                ;[必要]
23158                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23159                            1460 I1  
23160 0000488A D108              1461 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23161 0000488C 6212              1462 I1          MOV.L   @R1,R2                  ;"+/-"
23162                            1463 I1  
23163 0000488E D108              1464 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23164 00004890 6311              1465 I1          MOV.W   @R1,R3                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   304
PROGRAM NAME =

23165                            1466 I1  
23166 00004892 643B              1467 I1          NEG     R3,R4                   ;-R4~+R3
23167                            1468 I1  
23168 00004894 E0FF              1469 I1          MOV.B   #-1,R0                          ;手前だ
23169 00004896 3237              1470 I1          CMP/GT  R3,R2                           ;R3<R2
23170 00004898 8903              1471 I1          BT      KJYU_NEARZERO_CK200             ;まだ荷重が上がっていない
23171                            1472 I1  
23172 0000489A 200A              1473 I1          XOR     R0,R0                           ;範囲内
23173 0000489C 3243              1474 I1          CMP/GE  R4,R2                           ;
23174 0000489E 8900              1475 I1          BT      KJYU_NEARZERO_CK200             ;
23175 000048A0 E001              1476 I1          MOV.B   #1,R0                           ;
23176 000048A2                   1477 I1  KJYU_NEARZERO_CK200:
23177                            1478 I1  
23178 000048A2 D104              1479 I1          MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23179 000048A4 2101              1480 I1          MOV.W   R0,@R1                  ;
23180                            1481 I1  
23181                            1482 I1          SUB_END
23182                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23183 000048A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23184                            1483 I1          M_RTS
23185 000048A8 000B                   M           RTS                             ;RTSの後ろの
23186 000048AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23187                            1484 I1  ;       ***************************************************
23188                            1485 I1  ;       ***                                             ***
23189                            1486 I1  ;       ***     ユーザ設定荷重完了範囲-シスパラとの比較 ***
23190                            1487 I1  ;       ***     [2015-03-15]                            ***
23191                            1488 I1  ;       ***************************************************
23192                            1489 I1  ;;;;;;;;;;_KJYU_NEARZERO2_CHK:
23193                            1490 I1  ;;;;;;;;;;      SUB_START
23194                            1491 I1  ;;;;;;;;;;
23195                            1492 I1  ;;;;;;;;;;      MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足
                                          している
23196                            1493 I1  ;;;;;;;;;;      MOV.L   @R1,R2                  ;"+/-"
23197                            1494 I1  ;;;;;;;;;;
23198                            1495 I1  ;;;;;;;;;;      MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23199                            1496 I1  ;;;;;;;;;;      MOV.W   @R1,R3                  ;
23200                            1497 I1  ;;;;;;;;;;
23201                            1498 I1  ;;;;;;;;;;      MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23202                            1499 I1  ;;;;;;;;;;      MOV.W   @R1,R0                                                  ;
23203                            1500 I1  ;;;;;;;;;;      SUB     R0,R3                                                   ;
23204                            1501 I1  ;;;;;;;;;;      CMP/PL  R0                                                      ;
23205                            1502 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK100                                    ;R0=
23206                            1503 I1  ;;;;;;;;;;
23207                            1504 I1  ;;;;;;;;;;      XOR     R0,R0                                                   ;荷重範囲
                                          内(設定が荷重いつでも荷重到達になる)
23208                            1505 I1  ;;;;;;;;;;      M_BRA   KJYU_NEARZERO2_CK200                                    ;
23209                            1506 I1  ;;;;;;;;;;
23210                            1507 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK100                                                  ;
23211                            1508 I1  ;;;;;;;;;;
23212                            1509 I1  ;;;;;;;;;;      NEG     R3,R4                   ;-R4~+R3
23213                            1510 I1  ;;;;;;;;;;
23214                            1511 I1  ;;;;;;;;;;      MOV.B   #-1,R0                          ;手前だ
23215                            1512 I1  ;;;;;;;;;;      CMP/GT  R3,R2                           ;R3<R2
23216                            1513 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;まだ荷重が上がっていない
23217                            1514 I1  ;;;;;;;;;;
23218                            1515 I1  ;;;;;;;;;;      XOR     R0,R0                           ;範囲内
23219                            1516 I1  ;;;;;;;;;;      CMP/GE  R4,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   305
PROGRAM NAME =

23220                            1517 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;
23221                            1518 I1  ;;;;;;;;;;      MOV.B   #1,R0                           ;
23222                            1519 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK200:
23223                            1520 I1  ;;;;;;;;;;
23224                            1521 I1  ;;;;;;;;;;
23225                            1522 I1  ;;;;;;;;;;      SUB_END
23226                            1523 I1  ;;;;;;;;;;      M_RTS
23227                            1524 I1  
23228                            1525 I1  
23229                            1526 I1  ;;;     R0=0 範囲内
23230                            1527 I1  ;;;     R0=1:荷重ｵｰﾊﾞ,R0=-1荷重不足
23231                            1528 I1  ;;;     MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23232                            1529 I1  ;;;     MOV.W   R0,@R1                  ;
23233                            1530 I1  
23234                            1531 I1  
23235                            1532 I1  ;       ***************************************************
23236                            1533 I1  ;       ***                                             ***
23237                            1534 I1  ;       ***     各種荷重範囲比較                        ***
23238                            1535 I1  ;       ***     2015-06-11                              ***
23239                            1536 I1  ;       ***************************************************
23240                                 I1  ***** BEGIN-POOL *****
23241 000048AC 00000000               I1  DATA FOR SOURCE-LINE 1461
23242 000048B0 00000000               I1  DATA FOR SOURCE-LINE 1464
23243 000048B4 00000000               I1  DATA FOR SOURCE-LINE 1479
23244                                 I1  ***** END-POOL *****
23245 000048B8                   1537 I1  _KJYU_NEARZERO3_CHK:
23246                            1538 I1          SUB_START
23247 000048B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
23248                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23249                            1539 I1  
23250 000048BA D10C              1540 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1                                   ;//荷重の偏差　＋
                                          ：目標-実荷重:"+"まだ不足している
23251 000048BC 6212              1541 I1          MOV.L   @R1,R2                                                  ;"+/-"
23252 000048BE 4211              1542 I1          CMP/PZ  R2                                                      ;
23253 000048C0 8900              1543 I1          BT      KJYU_NEARZERO3CHK_100                                   ;
23254 000048C2 622B              1544 I1          NEG     R2,R2                                                   ;
23255 000048C4                   1545 I1  KJYU_NEARZERO3CHK_100:
23256                            1546 I1  
23257 000048C4 D10A              1547 I1          MOV.L   #(_PAR_KAJYU_STPARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;[荷重停止範囲] 20
                                          15-06-22
23258 000048C6 6311              1548 I1          MOV.W   @R1,R3                                                  ;
23259 000048C8 3322              1549 I1          CMP/HS  R2,R3                                                   ;
23260 000048CA 891C              1550 I1          BT      KJYU_NEARZERO3CHK_OUT_OFF                               ;R2<=R3
23261                            1551 I1  
23262 000048CC D109              1552 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1                                     ;荷重完了範囲
23263 000048CE 6411              1553 I1          MOV.W   @R1,R4                                                  ;
23264 000048D0 6343              1554 I1          MOV     R4,R3                                                   ;
23265                            1555 I1  
23266 000048D2 D109              1556 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23267 000048D4 6011              1557 I1          MOV.W   @R1,R0                                                  ;
23268 000048D6 3308              1558 I1          SUB     R0,R3                                                   ;
23269 000048D8 4311              1559 I1          CMP/PZ  R3
23270 000048DA 8900              1560 I1          BT      KJYU_NEARZERO3CHK_200                                   ;
23271 000048DC 6343              1561 I1          MOV     R4,R3                                                   ;
23272 000048DE                   1562 I1  KJYU_NEARZERO3CHK_200:                                                  ;
23273 000048DE 3322              1563 I1          CMP/HS  R2,R3                                                   ;R2<=R3 到達範囲?
23274 000048E0 8914              1564 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   306
PROGRAM NAME =

23275                            1565 I1  
23276 000048E2 3422              1566 I1          CMP/HS  R2,R4                                                   ;R2<=R4 荷重ニアゼ
                                          ロ範囲?
23277 000048E4 8915              1567 I1          BT      KJYU_NEARZERO3CHK_YES
23278 000048E6 E0FE              1568 I1          MOV.B   #-2,R0                                                  ;範囲外
23279                            1569 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23280 000048E8 A014                   M           BRA     KJYU_NEARZERO3CHK_END
23281 000048EA 0009                   M           NOP
23282                            1570 I1  
23283                            1571 I1  
23284                                 I1  ***** BEGIN-POOL *****
23285 000048EC 00000000               I1  DATA FOR SOURCE-LINE 1540
23286 000048F0 00000000               I1  DATA FOR SOURCE-LINE 1547
23287 000048F4 00000000               I1  DATA FOR SOURCE-LINE 1552
23288 000048F8 00000000               I1  DATA FOR SOURCE-LINE 1556
23289                                 I1  ***** END-POOL *****
23290 000048FC                   1572 I1  KJYU_NEARZERO3_CK100                                                    ;
23291 000048FC 3233              1573 I1          CMP/GE  R3,R2                                                   ;
23292 000048FE 8905              1574 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;R3<=R2
23293 00004900 E0FF              1575 I1          MOV.B   #-1,R0                                                  ;
23294                            1576 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23295 00004902 A007                   M           BRA     KJYU_NEARZERO3CHK_END
23296 00004904 0009                   M           NOP
23297                            1577 I1  
23298                            1578 I1  
23299 00004906                   1579 I1  KJYU_NEARZERO3CHK_OUT_OFF:
23300 00004906 200A              1580 I1          XOR     R0,R0                                                   ;一番小さい
23301                            1581 I1          M_BRA   KJYU_NEARZERO3CHK_END
23302 00004908 A004                   M           BRA     KJYU_NEARZERO3CHK_END
23303 0000490A 0009                   M           NOP
23304                            1582 I1  
23305 0000490C                   1583 I1  KJYU_NEARZERO3CHK_TOUTATU:                                              ;
23306 0000490C E001              1584 I1          MOV.B   #1,R0                                                   ;二番目小さい
23307                            1585 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23308 0000490E A001                   M           BRA     KJYU_NEARZERO3CHK_END
23309 00004910 0009                   M           NOP
23310                            1586 I1  
23311 00004912                   1587 I1  KJYU_NEARZERO3CHK_YES
23312 00004912 E002              1588 I1          MOV.B   #2,R0                                                   ;三番目小さい
23313                            1589 I1  
23314 00004914                   1590 I1  KJYU_NEARZERO3CHK_END
23315                            1591 I1          SUB_END
23316                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23317 00004914 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23318                            1592 I1          M_RTS
23319 00004916 000B                   M           RTS                             ;RTSの後ろの
23320 00004918 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23321                            1593 I1  
23322                            1594 I1  
23323                            1595 I1  
23324 0000491A                   1596 I1  _KJYU_OUT_DIRCT:
23325                            1597 I1          SUB_START
23326 0000491A 4F22                   M           STS.L   PR,@-R15                ;[必要]
23327                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23328                            1598 I1  
23329 0000491C D103              1599 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23330 0000491E 6012              1600 I1          MOV.L   @R1,R0                  ;"+/-"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   307
PROGRAM NAME =

23331                            1601 I1  
23332 00004920 4011              1602 I1          CMP/PZ  R0
23333 00004922 8905              1603 I1          BT      KJYU_OUTDIR100          ;
23334 00004924 E001              1604 I1          MOV.B   #1,R0                   ;R0=1:"+"へ行き過ぎてる 戻れ
23335                            1605 I1          M_BRA   KJYU_OUTDIR200          ;
23336 00004926 A004                   M           BRA     KJYU_OUTDIR200
23337 00004928 0009                   M           NOP
23338                            1606 I1  
23339                                 I1  ***** BEGIN-POOL *****
23340 0000492A 0000                   I1  ALIGNMENT CODE
23341 0000492C 00000000               I1  DATA FOR SOURCE-LINE 1599
23342                                 I1  ***** END-POOL *****
23343 00004930                   1607 I1  KJYU_OUTDIR100:
23344 00004930 E0FF              1608 I1          MOV.B   #-1,R0                  ;R0=-1"-"進め
23345                            1609 I1  
23346 00004932                   1610 I1  KJYU_OUTDIR200:
23347                            1611 I1  
23348                            1612 I1  
23349                            1613 I1          SUB_END
23350                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23351 00004932 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23352                            1614 I1          M_RTS
23353 00004934 000B                   M           RTS                             ;RTSの後ろの
23354 00004936 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23355                            1615 I1  
23356                            1616 I1  ;       *******************************************
23357                            1617 I1  ;       ***                                     ***
23358                            1618 I1  ;       ***                                     ***
23359                            1619 I1  ;       ***                                     ***
23360                            1620 I1  ;       *******************************************
23361                            1621 I1  ;       荷重制御中　タイマ中も制御し続ける 349.12
23362                            1622 I1  ;       ニアゼロ
23363 00004938                   1623 I1  _FCLS_NZ_TIM_SET
23364                            1624 I1          SUB_START
23365 00004938 4F22                   M           STS.L   PR,@-R15                ;[必要]
23366                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23367                            1625 I1  
23368                            1626 I1  
23369 0000493A D205              1627 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
23370 0000493C 6021              1628 I1          MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
23371 0000493E 70FF              1629 I1          ADD     #-1,R0                  ;
23372 00004940 D404              1630 I1          MOV.L   #_CPOS_SDAT1_TIM,R4     ;
23373 00004942 4008              1631 I1          SHLL2   R0                      ;
23374 00004944 014E              1632 I1          MOV.L   @(R0,R4),R1             ;TIM
23375 00004946 D404              1633 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
23376 00004948 2412              1634 I1          MOV.L   R1,@R4                  ;
23377                            1635 I1  
23378                            1636 I1          SUB_END
23379                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23380 0000494A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23381                            1637 I1          M_RTS
23382 0000494C 000B                   M           RTS                             ;RTSの後ろの
23383 0000494E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23384                            1638 I1  
23385                            1639 I1  
23386                                 I1  ***** BEGIN-POOL *****
23387 00004950 00000000               I1  DATA FOR SOURCE-LINE 1627
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   308
PROGRAM NAME =

23388 00004954 00000000               I1  DATA FOR SOURCE-LINE 1630
23389 00004958 00000000               I1  DATA FOR SOURCE-LINE 1633
23390                                 I1  ***** END-POOL *****
23391 0000495C                   1640 I1  _FCLS_KJYU_STEPCHG_CLR
23392                            1641 I1          SUB_START
23393 0000495C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23394                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23395 0000495E 200A              1642 I1          XOR     R0,R0
23396 00004960 D103              1643 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1  ;
23397 00004962 2101              1644 I1          MOV.W   R0,@R1                  ;
23398                            1645 I1  
23399 00004964 D103              1646 I1          MOV.L   #_FULCLS_MATHED,R1
23400 00004966 2101              1647 I1          MOV.W   R0,@R1                  ;
23401                            1648 I1  
23402                            1649 I1          SUB_END
23403                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23404 00004968 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23405                            1650 I1          M_RTS
23406 0000496A 000B                   M           RTS                             ;RTSの後ろの
23407 0000496C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23408                            1651 I1  
23409                            1652 I1  ;       ***************************************************
23410                            1653 I1  ;       ***                                             ***
23411                            1654 I1  ;       ***                                             ***
23412                            1655 I1  ;       ***                                             ***
23413                            1656 I1  ;       ***************************************************
23414                            1657 I1  ;       どこかで異常検出をする(仕様でないのに荷重ＳＷがＯＮだ)
23415                            1658 I1          .IMPORT _WORD_BIT_TBL1
23416                            1659 I1  
23417                                 I1  ***** BEGIN-POOL *****
23418 0000496E 0000                   I1  ALIGNMENT CODE
23419 00004970 00000000               I1  DATA FOR SOURCE-LINE 1643
23420 00004974 00000000               I1  DATA FOR SOURCE-LINE 1646
23421                                 I1  ***** END-POOL *****
23422 00004978                   1660 I1  _KJYU_DATA_INFO_SEL
23423                            1661 I1          SUB_START
23424 00004978 4F22                   M           STS.L   PR,@-R15                ;[必要]
23425                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23426                            1662 I1  
23427 0000497A D110              1663 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23428 0000497C 6011              1664 I1          MOV.W   @R1,R0                          ;1~10
23429 0000497E 2008              1665 I1          TST     R0,R0                           ;
23430                            1666 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;
23431 00004980 8928                   M           BT      KJYU_DATA_INFOSL100
23432                            1667 I1  
23433 00004982 D10F              1668 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23434 00004984 6211              1669 I1          MOV.W   @R1,R2                          ;
23435 00004986 7201              1670 I1          ADD     #1,R2                           ;
23436 00004988 3200              1671 I1          CMP/EQ  R0,R2                           ;戻り行程?
23437 0000498A 8923              1672 I1          BT      KJYU_DATA_INFOSL100             ;
23438                            1673 I1  
23439                            1674 I1  
23440                            1675 I1  ;;;;;;;;;2017-08-15     ADD     #-1,R0                          ;
23441                            1676 I1  ;;;;;;;;;2017-08-15     SHLL    R0                              ;
23442                            1677 I1  ;;;;;;;;;2017-08-15     MOV.L   #_WORD_BIT_TBL1,R4              ;R0=0のときにBIT0
23443                            1678 I1  ;;;;;;;;;2017-08-15     ADD     R0,R4                           ;
23444                            1679 I1  ;;;;;;;;;2017-08-15     MOV.W   @R4,R2                          ;ﾁｪｯｸﾋﾞｯﾄ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   309
PROGRAM NAME =

23445                            1680 I1  ;;;;;;;;;2017-08-15     MOV.L   #_CPOS_FULCLS_MATEHD_SW,R1      ;
23446                            1681 I1  ;;;;;;;;;2017-08-15     MOV.W   @R1,R3                          ;
23447                            1682 I1  ;;;;;;;;;2017-08-15     TST     R2,R3                           ;
23448                            1683 I1  ;;;;;;;;;2017-08-15     TST_BIT_OF KJYU_DATA_INFOSL100          ;位置
23449                            1684 I1  ;;;;;;;;;2017-08-15     SHLL    R0                              ;*2
23450                            1685 I1  
23451                            1686 I1  ;       ------------2017-08-15-----
23452 0000498C 70FF              1687 I1          ADD     #-1,R0                                          ;
23453 0000498E 4000              1688 I1          SHLL    R0                                              ;
23454 00004990 D40C              1689 I1          MOV.L   #_SET1_MOT_INF,R4               ;
23455 00004992 340C              1690 I1          ADD     R0,R4                                           ;
23456 00004994 6241              1691 I1          MOV.W   @R4,R2                                  ;
23457 00004996 930F              1692 I1          MOV.W   #BIT0,R3                                ;
23458 00004998 2328              1693 I1          TST     R2,R3                                           ;
23459                            1694 I1          TST_BIT_OF KJYU_DATA_INFOSL100  ;位置
23460 0000499A 891B                   M           BT      KJYU_DATA_INFOSL100
23461                            1695 I1  
23462 0000499C 4000              1696 I1          SHLL    R0                                              ;*2
23463 0000499E D10A              1697 I1          MOV.L   #_CPOS_KJYUCLS_OBJ,R1           ;
23464 000049A0 310C              1698 I1          ADD     R0,R1                           ;
23465 000049A2 6212              1699 I1          MOV.L   @R1,R2                          ;
23466 000049A4 D109              1700 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;各段の荷重目標
23467 000049A6 2122              1701 I1          MOV.L   R2,@R1                          ;
23468                            1702 I1  
23469                            1703 I1          MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=(BIT13),WKRG1=R1,WKRG2=R4
                                          ;
23470 000049A8 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
23471 000049AA 6011                   M           MOV.W   @R1,R0          ;
23472 000049AC 9405                   M           MOV.W   #(BIT13),R4             ;
23473 000049AE 204B                   M           OR      R4,R0           ;
23474 000049B0 2101                   M           MOV.W   R0,@R1          ;
23475                            1704 I1  
23476 000049B2 E001              1705 I1          MOV.B   #BIT0,R0                        ;
23477                            1706 I1          M_BRA   KJYU_DATA_INFOSL300             ;
23478 000049B4 A014                   M           BRA     KJYU_DATA_INFOSL300
23479 000049B6 0009                   M           NOP
23480                            1707 I1  
23481                                 I1  ***** BEGIN-POOL *****
23482 000049B8 0001                   I1  DATA FOR SOURCE-LINE 1692
23483 000049BA 2000                   I1  DATA FOR SOURCE-LINE 1703
23484 000049BC 00000000               I1  DATA FOR SOURCE-LINE 1663
23485 000049C0 00000000               I1  DATA FOR SOURCE-LINE 1668
23486 000049C4 00000000               I1  DATA FOR SOURCE-LINE 1689
23487 000049C8 00000000               I1  DATA FOR SOURCE-LINE 1697
23488 000049CC 00000000               I1  DATA FOR SOURCE-LINE 1700
23489 000049D0 00000000               I1  DATA FOR SOURCE-LINE 1703
23490                                 I1  ***** END-POOL *****
23491 000049D4                   1708 I1  KJYU_DATA_INFOSL100
23492                            1709 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=~(BIT13),WKRG1=R1,WKRG2=R4
23493 000049D4 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
23494 000049D6 6011                   M           MOV.W   @R1,R0          ;
23495 000049D8 9407                   M           MOV.W   #LWORD ~(BIT13),R4      ;
23496 000049DA 2049                   M           AND     R4,R0           ;
23497 000049DC 2101                   M           MOV.W   R0,@R1          ;
23498 000049DE 200A              1710 I1          XOR     R0,R0
23499 000049E0                   1711 I1  KJYU_DATA_INFOSL300
23500 000049E0 D103              1712 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   310
PROGRAM NAME =

23501 000049E2 2101              1713 I1          MOV.W   R0,@R1                  ;
23502                            1714 I1  
23503                            1715 I1          SUB_END
23504                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23505 000049E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23506                            1716 I1          M_RTS
23507 000049E6 000B                   M           RTS                             ;RTSの後ろの
23508 000049E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23509                            1717 I1  
23510                            1718 I1  
23511                            1719 I1  
23512                            1720 I1  
23513                            1721 I1  
23514                            1722 I1  
23515                            1723 I1  ;       ***************************************************
23516                            1724 I1  ;       ***                                             ***
23517                            1725 I1  ;       ***     １回目の荷重制御開始時に荷重が高いか?   ***
23518                            1726 I1  ;       ***     [2015-03-15]                                    ***
23519                            1727 I1  ;       ***************************************************
23520                                 I1  ***** BEGIN-POOL *****
23521 000049EA DFFF                   I1  DATA FOR SOURCE-LINE 1709
23522 000049EC 00000000               I1  DATA FOR SOURCE-LINE 1709
23523 000049F0 00000000               I1  DATA FOR SOURCE-LINE 1712
23524                                 I1  ***** END-POOL *****
23525 000049F4                   1728 I1  _KAJYU_START_UPCHK:
23526                            1729 I1          SUB_START
23527 000049F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
23528                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23529 000049F6 D10B              1730 I1          MOV.L   #_FULCLS_MATHED,R1      ;//0:位置 1:荷重
23530 000049F8 6011              1731 I1          MOV.W   @R1,R0                  ;
23531 000049FA 8801              1732 I1          CMP/EQ  #1,R0                   ;
23532 000049FC 8B0E              1733 I1          BF      KAJYU_START_UPCK_EXT    ;荷重ではない
23533                            1734 I1  
23534 000049FE D10A              1735 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
23535 00004A00 6011              1736 I1          MOV.W   @R1,R0                  ;
23536 00004A02 C801              1737 I1          TST     #BIT0,R0                ;
23537                            1738 I1          TST_BIT_ON KAJYU_START_UPCK_EXT ;既にチェック済み
23538 00004A04 8B0A                   M           BF      KAJYU_START_UPCK_EXT
23539 00004A06 CB01              1739 I1          OR      #BIT0,R0                ;
23540 00004A08 2101              1740 I1          MOV.W   R0,@R1                  ;
23541                            1741 I1  
23542 00004A0A D108              1742 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23543 00004A0C 6012              1743 I1          MOV.L   @R1,R0                  ;
23544 00004A0E 4011              1744 I1          CMP/PZ  R0                      ;
23545 00004A10 8904              1745 I1          BT      KAJYU_START_UPCK_EXT    ;目標>=実測
23546                            1746 I1  
23547                            1747 I1          MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R4
23548 00004A12 D107                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
23549 00004A14 6011                   M           MOV.W   @R1,R0          ;
23550 00004A16 9404                   M           MOV.W   #(BIT12),R4             ;
23551 00004A18 204B                   M           OR      R4,R0           ;
23552 00004A1A 2101                   M           MOV.W   R0,@R1          ;
23553                            1748 I1  
23554 00004A1C                   1749 I1  KAJYU_START_UPCK_EXT:
23555                            1750 I1  
23556                            1751 I1          SUB_END
23557                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   311
PROGRAM NAME =

23558 00004A1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23559                            1752 I1          M_RTS
23560 00004A1E 000B                   M           RTS                             ;RTSの後ろの
23561 00004A20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23562                            1753 I1  
23563                            1754 I1  ;       ---------起動、異常-------
23564                            1755 I1          .EXPORT _KAJYU_ELSE_STS_CLR
23565                                 I1  ***** BEGIN-POOL *****
23566 00004A22 1000                   I1  DATA FOR SOURCE-LINE 1747
23567 00004A24 00000000               I1  DATA FOR SOURCE-LINE 1730
23568 00004A28 00000000               I1  DATA FOR SOURCE-LINE 1735
23569 00004A2C 00000000               I1  DATA FOR SOURCE-LINE 1742
23570 00004A30 00000000               I1  DATA FOR SOURCE-LINE 1747
23571                                 I1  ***** END-POOL *****
23572 00004A34                   1756 I1  _KAJYU_ELSE_STS_CLR:
23573                            1757 I1          SUB_START
23574 00004A34 4F22                   M           STS.L   PR,@-R15                ;[必要]
23575                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23576                            1758 I1  
23577                            1759 I1          FAR_JSR #_KAJYU_ELSE_STS_FLG_CLR,R0     ;
23578 00004A36 D006                   M           MOV.L   #_KAJYU_ELSE_STS_FLG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23579 00004A38 400B                   M           JSR     @R0                     ;
23580 00004A3A 0009                   M           NOP                                     ;
23581                            1760 I1  
23582                            1761 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=~(BIT12),WKRG1=R1,WKRG2=R
                                          4
23583 00004A3C D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
23584 00004A3E 6011                   M           MOV.W   @R1,R0          ;
23585 00004A40 9404                   M           MOV.W   #LWORD ~(BIT12),R4      ;
23586 00004A42 2049                   M           AND     R4,R0           ;
23587 00004A44 2101                   M           MOV.W   R0,@R1          ;
23588                            1762 I1  
23589                            1763 I1          SUB_END
23590                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23591 00004A46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23592                            1764 I1          M_RTS
23593 00004A48 000B                   M           RTS                             ;RTSの後ろの
23594 00004A4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23595                            1765 I1  
23596                                 I1  ***** BEGIN-POOL *****
23597 00004A4C EFFF                   I1  DATA FOR SOURCE-LINE 1761
23598 00004A4E 0000                   I1  ALIGNMENT CODE
23599 00004A50 00000000               I1  DATA FOR SOURCE-LINE 1759
23600 00004A54 00000000               I1  DATA FOR SOURCE-LINE 1761
23601                                 I1  ***** END-POOL *****
23602 00004A58                   1766 I1  _KAJYU_ELSE_STS_FLG_CLR:
23603                            1767 I1          SUB_START
23604 00004A58 4F22                   M           STS.L   PR,@-R15                ;[必要]
23605                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23606 00004A5A 200A              1768 I1          XOR     R0,R0
23607 00004A5C D102              1769 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
23608 00004A5E 2101              1770 I1          MOV.W   R0,@R1                  ;
23609                            1771 I1          SUB_END
23610                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23611 00004A60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23612                            1772 I1          M_RTS
23613 00004A62 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   312
PROGRAM NAME =

23614 00004A64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23615                            1773 I1  
23616                            1774 I1  
23617                            1775 I1  
23618                            1776 I1  
23619                            1777 I1  
23620                            1778 I1  
23621                            1779 I1  
23622                            1780 I1  
23623                            1781 I1  
23624                            1782 I1  
23625                            1783 I1  
23626                            1784 I1  
23627                            1785 I1  
23628                            1786 I1  
23629                            1787 I1  
23630                            1788 I1  
23631                            1789 I1  
23632                            1790 I1  
23633                            1791 I1  ;       H2WではDTMKだがＱ
23634                            1792 I1  ;       ***************************************************
23635                            1793 I1  ;       ***                                             ***
23636                            1794 I1  ;       ***             起動時荷重データ判断            ***
23637                            1795 I1  ;       ***                                             ***
23638                            1796 I1  ;       ***             範囲1                           ***
23639                            1797 I1  ;       ***             範囲2                           ***
23640                            1798 I1  ;       ***************************************************
23641                            1799 I1  ;       "既に荷重範囲に一度は入った前提"
23642                            1800 I1  ;
23643                            1801 I1  
23644                                 I1  ***** BEGIN-POOL *****
23645 00004A66 0000                   I1  ALIGNMENT CODE
23646 00004A68 00000000               I1  DATA FOR SOURCE-LINE 1769
23647                                 I1  ***** END-POOL *****
23648 00004A6C                   1802 I1  _REVRSE_KAJYU_AREACHK_BASSET:
23649                            1803 I1          SUB_START
23650 00004A6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23651                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23652 00004A6E D108              1804 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23653 00004A70 6011              1805 I1          MOV.W   @R1,R0                                                  ;到達範囲
23654 00004A72 2008              1806 I1          TST     R0,R0                                                   ;
23655                            1807 I1          TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD                          ;最終範囲を使用し
                                          ない
23656 00004A74 8912                   M           BT      REVRSE_KAJYU_AREACK_LASTSPD
23657                            1808 I1  
23658                            1809 I1  ;;;;;2015-06-22
23659                            1810 I1  ;;;;;   FAR_JSR #_KJYU_NEARZERO2_CHK,R0
23660                            1811 I1  ;;;;;   TST     R0,R0                                   ;
23661                            1812 I1  ;;;;;   TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD          ;到達範囲内
23662                            1813 I1  
23663                            1814 I1  ;       速度選択のニアゼロサブルーチン変更
23664                            1815 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0
23665 00004A76 D007                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23666 00004A78 400B                   M           JSR     @R0                     ;
23667 00004A7A 0009                   M           NOP                                     ;
23668 00004A7C 8800              1816 I1          CMP/EQ  #0,R0
23669 00004A7E 890D              1817 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   313
PROGRAM NAME =

23670 00004A80 8801              1818 I1          CMP/EQ  #1,R0
23671 00004A82 890B              1819 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
23672                            1820 I1  
23673                            1821 I1          FAR_JSR #_REVRSE_KAJYU1_BASINCSET,R0            ;
23674 00004A84 D004                   M           MOV.L   #_REVRSE_KAJYU1_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23675 00004A86 400B                   M           JSR     @R0                     ;
23676 00004A88 0009                   M           NOP                                     ;
23677                            1822 I1          M_BRA   REVRSE_KAJYU_AREACK_END                 ;
23678 00004A8A A00A                   M           BRA     REVRSE_KAJYU_AREACK_END
23679 00004A8C 0009                   M           NOP
23680                            1823 I1  
23681                            1824 I1  ;       --------------最後の範囲内の運転--------------
23682                                 I1  ***** BEGIN-POOL *****
23683 00004A8E 0000                   I1  ALIGNMENT CODE
23684 00004A90 00000000               I1  DATA FOR SOURCE-LINE 1804
23685 00004A94 00000000               I1  DATA FOR SOURCE-LINE 1815
23686 00004A98 00000000               I1  DATA FOR SOURCE-LINE 1821
23687                                 I1  ***** END-POOL *****
23688 00004A9C                   1825 I1  REVRSE_KAJYU_AREACK_LASTSPD:
23689                            1826 I1          FAR_JSR #_REVRSE_KAJYU2_BASINCSET,R0
23690 00004A9C D002                   M           MOV.L   #_REVRSE_KAJYU2_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23691 00004A9E 400B                   M           JSR     @R0                     ;
23692 00004AA0 0009                   M           NOP                                     ;
23693                            1827 I1  
23694 00004AA2                   1828 I1  REVRSE_KAJYU_AREACK_END:
23695                            1829 I1  
23696                            1830 I1          SUB_END
23697                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23698 00004AA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23699                            1831 I1          M_RTS
23700 00004AA4 000B                   M           RTS                             ;RTSの後ろの
23701 00004AA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23702                            1832 I1  
23703                            1833 I1  
23704                            1834 I1  
23705                            1835 I1  
23706                            1836 I1  ;もしﾊﾟ-ｾﾝﾃﾞｰﾀなら
23707                            1837 I1  ;DATA(%)*MAX(freq)/10000=freq
23708                            1838 I1  ;freq*FFFF/500,000=LATE
23709                            1839 I1  ;
23710                            1840 I1  ;
23711                            1841 I1  ;もしﾚｰﾄ(7pls/s)なら
23712                            1842 I1  ;DATA()*500,000/FFFF=PLS/S
23713                            1843 I1  
23714                            1844 I1  ;       ------ 2014-08-20-------------------------------------------------------------
23715                            1845 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入っていない-----------
23716                                 I1  ***** BEGIN-POOL *****
23717 00004AA8 00000000               I1  DATA FOR SOURCE-LINE 1826
23718                                 I1  ***** END-POOL *****
23719 00004AAC                   1846 I1  _REVRSE_KAJYU1_BASINCSET:
23720                            1847 I1          SUB_START
23721 00004AAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23722                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23723                            1848 I1  
23724 00004AAE D104              1849 I1          MOV.L   #(_PAR_KAJYU_ARASPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.362
23725 00004AB0 6211              1850 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
23726 00004AB2 2228              1851 I1          TST     R2,R2                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   314
PROGRAM NAME =

23727                            1852 I1          TST_BIT_ON CLSINC1_SEL_020                                      ;
23728 00004AB4 8B08                   M           BF      CLSINC1_SEL_020
23729                            1853 I1  
23730                            1854 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
23731 00004AB6 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23732 00004AB8 400B                   M           JSR     @R0                     ;
23733 00004ABA 0009                   M           NOP                                     ;
23734                            1855 I1          M_BRA   CLSINC1_SEL_END                                         ;
23735 00004ABC A009                   M           BRA     CLSINC1_SEL_END
23736 00004ABE 0009                   M           NOP
23737                            1856 I1  
23738                                 I1  ***** BEGIN-POOL *****
23739 00004AC0 00000000               I1  DATA FOR SOURCE-LINE 1849
23740 00004AC4 00000000               I1  DATA FOR SOURCE-LINE 1854
23741                                 I1  ***** END-POOL *****
23742 00004AC8                   1857 I1  CLSINC1_SEL_020
23743                            1858 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
23744 00004AC8 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23745 00004ACA 400B                   M           JSR     @R0                     ;
23746 00004ACC 0009                   M           NOP                                     ;
23747                            1859 I1  
23748 00004ACE D103              1860 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
23749 00004AD0 2122              1861 I1          MOV.L   R2,@R1                                                  ;
23750 00004AD2                   1862 I1  CLSINC1_SEL_END
23751                            1863 I1  
23752                            1864 I1          SUB_END
23753                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23754 00004AD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23755                            1865 I1          M_RTS
23756 00004AD4 000B                   M           RTS                             ;RTSの後ろの
23757 00004AD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23758                            1866 I1  
23759                            1867 I1  
23760                            1868 I1  ;       -------2014-07-14-----------
23761                            1869 I1  ;       ------ 2014-08-20-----------
23762                            1870 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入った-----------
23763                                 I1  ***** BEGIN-POOL *****
23764 00004AD8 00000000               I1  DATA FOR SOURCE-LINE 1858
23765 00004ADC 00000000               I1  DATA FOR SOURCE-LINE 1860
23766                                 I1  ***** END-POOL *****
23767 00004AE0                   1871 I1  _REVRSE_KAJYU2_BASINCSET:
23768                            1872 I1          SUB_START
23769 00004AE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
23770                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23771                            1873 I1  
23772 00004AE2 D104              1874 I1          MOV.L   #(_PAR_KAJYU_HLDSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.361
23773 00004AE4 6211              1875 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
23774 00004AE6 2228              1876 I1          TST     R2,R2                                                   ;
23775                            1877 I1          TST_BIT_ON CLSINC2_SEL_020                                      ;
23776 00004AE8 8B08                   M           BF      CLSINC2_SEL_020
23777                            1878 I1  
23778                            1879 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
23779 00004AEA D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23780 00004AEC 400B                   M           JSR     @R0                     ;
23781 00004AEE 0009                   M           NOP                                     ;
23782                            1880 I1          M_BRA   CLSINC2_SEL_END                                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   315
PROGRAM NAME =

23783 00004AF0 A009                   M           BRA     CLSINC2_SEL_END
23784 00004AF2 0009                   M           NOP
23785                            1881 I1  
23786                                 I1  ***** BEGIN-POOL *****
23787 00004AF4 00000000               I1  DATA FOR SOURCE-LINE 1874
23788 00004AF8 00000000               I1  DATA FOR SOURCE-LINE 1879
23789                                 I1  ***** END-POOL *****
23790 00004AFC                   1882 I1  CLSINC2_SEL_020
23791                            1883 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
23792 00004AFC D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23793 00004AFE 400B                   M           JSR     @R0                     ;
23794 00004B00 0009                   M           NOP                                     ;
23795                            1884 I1  
23796 00004B02 D103              1885 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
23797 00004B04 2122              1886 I1          MOV.L   R2,@R1                                                  ;
23798 00004B06                   1887 I1  CLSINC2_SEL_END
23799                            1888 I1  
23800                            1889 I1          SUB_END
23801                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23802 00004B06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23803                            1890 I1          M_RTS
23804 00004B08 000B                   M           RTS                             ;RTSの後ろの
23805 00004B0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23806                            1891 I1  
23807                            1892 I1  
23808                            1893 I1  ;       ***********************************
23809                            1894 I1  ;       ***     S01~S09処理             ***
23810                            1895 I1  ;       ***********************************
23811                                 I1  ***** BEGIN-POOL *****
23812 00004B0C 00000000               I1  DATA FOR SOURCE-LINE 1883
23813 00004B10 00000000               I1  DATA FOR SOURCE-LINE 1885
23814                                 I1  ***** END-POOL *****
23815 00004B14                   1896 I1  _REVRSE_BASINC_SPDCALC:
23816                            1897 I1          SUB_START
23817 00004B14 4F22                   M           STS.L   PR,@-R15                ;[必要]
23818                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23819                            1898 I1  
23820                            1899 I1  ;       =======  2012-10-05 =========
23821 00004B16 D10B              1900 I1          MOV.L   #_CB_SEQ_CB_COM351,R1                                   ;ｲﾝﾁﾝｸﾞ速度選択
23822 00004B18 6011              1901 I1          MOV.W   @R1,R0                                                  ;
23823 00004B1A 9411              1902 I1          MOV.W   #BIT9+BIT8+BIT7+BIT6+BIT5+BIT4+BIT3+BIT2+BIT1,R4        ;
23824 00004B1C 2048              1903 I1          TST     R4,R0                                                   ;
23825                            1904 I1          TST_BIT_OF CLSINC_SEL_DEF                                       ;
23826 00004B1E 8915                   M           BT      CLSINC_SEL_DEF
23827                            1905 I1  
23828 00004B20 E308              1906 I1          MOV.B   #D'9-1,R3                                                       ;
23829 00004B22 E402              1907 I1          MOV.B   #BIT1,R4                                                ;
23830 00004B24 D108              1908 I1          MOV.L   #(_PAR_NEGCTL_SPDS1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23831                            1909 I1  
23832 00004B26                   1910 I1  CLSINC_SEL_050LOP:
23833 00004B26 2048              1911 I1          TST     R4,R0
23834                            1912 I1          TST_BIT_ON CLSINC_SEL_100       ;
23835 00004B28 8B04                   M           BF      CLSINC_SEL_100
23836 00004B2A 4400              1913 I1          SHLL    R4
23837 00004B2C 7102              1914 I1          ADD     #2,R1                   ;
23838 00004B2E 73FF              1915 I1          ADD     #-1,R3                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   316
PROGRAM NAME =

23839 00004B30 2338              1916 I1          TST     R3,R3                   ;
23840                            1917 I1          TST_BIT_ON CLSINC_SEL_050LOP    ;BIT1~BIT8
23841 00004B32 8BF8                   M           BF      CLSINC_SEL_050LOP
23842 00004B34                   1918 I1  CLSINC_SEL_100:
23843 00004B34 6211              1919 I1          MOV.W   @R1,R2                  ;
23844 00004B36 2228              1920 I1          TST     R2,R2                   ;
23845                            1921 I1          TST_BIT_ON CLSINC_SEL_300       ;
23846 00004B38 8B0A                   M           BF      CLSINC_SEL_300
23847 00004B3A 7201              1922 I1          ADD     #1,R2                   ;
23848                            1923 I1          M_BRA   CLSINC_SEL_300          ;
23849 00004B3C A008                   M           BRA     CLSINC_SEL_300
23850 00004B3E 0009                   M           NOP
23851                            1924 I1  
23852                            1925 I1  
23853                                 I1  ***** BEGIN-POOL *****
23854 00004B40 03FE                   I1  DATA FOR SOURCE-LINE 1902
23855 00004B42 0000                   I1  ALIGNMENT CODE
23856 00004B44 00000000               I1  DATA FOR SOURCE-LINE 1900
23857 00004B48 00000000               I1  DATA FOR SOURCE-LINE 1908
23858                                 I1  ***** END-POOL *****
23859 00004B4C                   1926 I1  CLSINC_SEL_DEF:
23860 00004B4C D104              1927 I1          MOV.L   #_POS_LSI_CLSINC_SPDBAS,R1              ;ｲﾝﾁﾝｸﾞ時
23861 00004B4E 6212              1928 I1          MOV.L   @R1,R2
23862 00004B50                   1929 I1  CLSINC_SEL_300
23863                            1930 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                ;
23864 00004B50 D004                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23865 00004B52 400B                   M           JSR     @R0                     ;
23866 00004B54 0009                   M           NOP                                     ;
23867 00004B56 D104              1931 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1              ;//PLS/S
23868 00004B58 2122              1932 I1          MOV.L   R2,@R1                                  ;
23869                            1933 I1                                                          ;
23870                            1934 I1  
23871                            1935 I1          SUB_END
23872                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23873 00004B5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23874                            1936 I1          M_RTS
23875 00004B5C 000B                   M           RTS                             ;RTSの後ろの
23876 00004B5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23877                            1937 I1  
23878                            1938 I1  ;-----------2019-04-10(戻り信号のラッチ:異常時の処理チェック用)---------
23879                            1939 I1  ;;;_HANTEN_LAST_SIG_CLR
23880                            1940 I1  ;;;     SUB_START
23881                            1941 I1  ;;;     XOR             R0,R0
23882                            1942 I1  ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1 ;
23883                            1943 I1  ;;;     MOV.W   R0,@R1                                  ;
23884                            1944 I1  ;;;     SUB_END
23885                            1945 I1  ;;;     M_RTS
23886                            1946 I1  ;;;
23887                            1947 I1  ;;;_HANTEN_LAST_SIG_SET
23888                            1948 I1  ;;;     SUB_START
23889                            1949 I1  ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1 ;
23890                            1950 I1  ;;;     MOV.W   @R1,R0                                  ;
23891                            1951 I1  ;;;     OR              #BIT0,R0                                ;
23892                            1952 I1  ;;;     MOV.W   R0,@R1                                  ;
23893                            1953 I1  ;;;     SUB_END
23894                            1954 I1  ;;;     M_RTS
23895                            6942     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   317
PROGRAM NAME =

23896                            6943     
23897                            6944     
23898                            6945     ;       ***************************
23899                            6946     ;       ***                     ***
23900                            6947     ;       ***     異常履歴ﾃﾞｰﾀ    ***
23901                            6948     ;       ***                     ***
23902                            6949     ;       ***************************
23903                                     ***** BEGIN-POOL *****
23904 00004B60 00000000                   DATA FOR SOURCE-LINE 1927
23905 00004B64 00000000                   DATA FOR SOURCE-LINE 1930
23906 00004B68 00000000                   DATA FOR SOURCE-LINE 1931
23907                                     ***** END-POOL *****
23908 00004B6C                   6950             .ALIGN  4                               ;
23909 00004B6C                   6951     _HIST_INFO_DT_IN1:
23910                            6952             SUB_START
23911 00004B6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23912                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23913                            6953             PUSH_REG1 R0
23914 00004B6E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23915                                 M                                           ;REG=>[SP]
23916                                 M                                           ;"-4" FF,FF,FF,FC
23917                            6954             PUSH_REG1 R1
23918 00004B70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23919                                 M                                           ;REG=>[SP]
23920                                 M                                           ;"-4" FF,FF,FF,FC
23921                            6955             PUSH_REG1 R2
23922 00004B72 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
23923                                 M                                           ;REG=>[SP]
23924                                 M                                           ;"-4" FF,FF,FF,FC
23925                            6956     
23926 00004B74 D109              6957             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
23927 00004B76 D20A              6958             MOV.L   #_LT_LINK_SV_OBJ_ABSPLS,R2              ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
23928 00004B78 6016              6959             MOV.L   @R1+,R0                                 ;
23929 00004B7A 2202              6960             MOV.L   R0,@R2                                  ;
23930 00004B7C 7204              6961             ADD     #4,R2                                   ;
23931 00004B7E 6016              6962             MOV.L   @R1+,R0                                 ;
23932 00004B80 2202              6963             MOV.L   R0,@R2                                  ;
23933                            6964     
23934 00004B82 D108              6965             MOV.L   #_LINK_PV_ABSPLS,R1             ;
23935 00004B84 D208              6966             MOV.L   #_LT_INT_LINK_RL_OBJ_ABSPLS,R2          ;
23936 00004B86 6016              6967             MOV.L   @R1+,R0                                 ;
23937 00004B88 2202              6968             MOV.L   R0,@R2                                  ;
23938 00004B8A 7204              6969             ADD     #4,R2                                   ;
23939 00004B8C 6016              6970             MOV.L   @R1+,R0                                 ;
23940 00004B8E 2202              6971             MOV.L   R0,@R2                                  ;
23941                            6972     
23942                            6973             POP_REG1 R2
23943                                 M                                   ; RE"+4" 00,00,00,04
23944 00004B90 62F6                   M           MOV.L   @R15+,R2        ;
23945                            6974             POP_REG1 R1
23946                                 M                                   ; RE"+4" 00,00,00,04
23947 00004B92 61F6                   M           MOV.L   @R15+,R1        ;
23948                            6975             POP_REG1 R0
23949                                 M                                   ; RE"+4" 00,00,00,04
23950 00004B94 60F6                   M           MOV.L   @R15+,R0        ;
23951                            6976             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   318
PROGRAM NAME =

23952                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23953 00004B96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23954                            6977             M_RTS
23955 00004B98 000B                   M           RTS                             ;RTSの後ろの
23956 00004B9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23957                            6978     
23958                            6979     ;       ***********************************
23959                            6980     ;       ***                             ***
23960                            6981     ;       ***     異常情報                ***
23961                            6982     ;       ***                             ***
23962                            6983     ;       ***********************************
23963                            6984             .MACRO  DATA_8B_0CHK MEM,ANSBIT
23964                            6985             MOV.L   #\MEM,R1        ;
23965                            6986             MOV.L   @R1+,R2                 ;HIGH
23966                            6987             MOV.L   @R1,R3                  ;LOW
23967                            6988             XOR     R1,R1                   ;
23968                            6989             OR      R3,R2                   ;
23969                            6990             TST     R2,R2                   ;
23970                            6991             TST_BIT_OF JMP01\@              ;ZERO
23971                            6992             MOV.W   #\ANSBIT,R1             ;
23972                            6993     JMP01\@                                 ;
23973                            6994             .ENDM
23974                            6995     
23975                            6996             .MACRO  DATA_4B_0CHK MEM,ANSBIT
23976                            6997             MOV.L   #\MEM,R1        ;
23977                            6998             MOV.L   @R1+,R2                 ;HIGH
23978                            6999             XOR     R1,R1                   ;
23979                            7000             TST     R2,R2                   ;
23980                            7001             TST_BIT_OF JMP01\@              ;ZERO
23981                            7002             MOV.W   #\ANSBIT,R1             ;
23982                            7003     JMP01\@                                 ;
23983                            7004             .ENDM
23984                            7005     
23985                            7006     
23986                            7007     ;       ***************************
23987                            7008     ;       ***     data 記憶       ***
23988                            7009     ;       ***************************
23989                                     ***** BEGIN-POOL *****
23990 00004B9C 00000000                   DATA FOR SOURCE-LINE 6957
23991 00004BA0 00000000                   DATA FOR SOURCE-LINE 6958
23992 00004BA4 00000000                   DATA FOR SOURCE-LINE 6965
23993 00004BA8 00000000                   DATA FOR SOURCE-LINE 6966
23994                                     ***** END-POOL *****
23995 00004BAC                   7010             .ALIGN  4                               ;
23996 00004BAC                   7011     _ERR_INFO_DT_IN0:
23997                            7012             SUB_START
23998 00004BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24000 00004BAE D105              7013             MOV.L   #_PV_POWER_ON_CNT,R1                    ;
24001 00004BB0 6011              7014             MOV.W   @R1,R0                                  ;
24002 00004BB2 D105              7015             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B01,R1  ;POWER
24003 00004BB4 2101              7016             MOV.W   R0,@R1                                  ;
24004                            7017     
24005 00004BB6 D105              7018             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B02,R1  ;TIM
24006 00004BB8 6011              7019             MOV.W   @R1,R0                                  ;
24007 00004BBA 7001              7020             ADD     #1,R0                                   ;
24008 00004BBC 2101              7021             MOV.W   R0,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   319
PROGRAM NAME =

24009                            7022             SUB_END
24010                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24011 00004BBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24012                            7023             M_RTS
24013 00004BC0 000B                   M           RTS                             ;RTSの後ろの
24014 00004BC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24015                            7024     
24016                                     ***** BEGIN-POOL *****
24017 00004BC4 00000000                   DATA FOR SOURCE-LINE 7013
24018 00004BC8 00000000                   DATA FOR SOURCE-LINE 7015
24019 00004BCC 00000000                   DATA FOR SOURCE-LINE 7018
24020                                     ***** END-POOL *****
24021 00004BD0                   7025             .ALIGN  4                               ;
24022 00004BD0                   7026     _ERR_INFO_DT_IN1:
24023                            7027             SUB_START
24024 00004BD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24026                            7028             PUSH_REG1 R0
24027 00004BD2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24028                                 M                                           ;REG=>[SP]
24029                                 M                                           ;"-4" FF,FF,FF,FC
24030                            7029             PUSH_REG1 R1
24031 00004BD4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24032                                 M                                           ;REG=>[SP]
24033                                 M                                           ;"-4" FF,FF,FF,FC
24034                            7030     
24035                            7031     
24036 00004BD6 D108              7032             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24037 00004BD8 6011              7033             MOV.W   @R1,R0                          ;
24038 00004BDA 2008              7034             TST     R0,R0                           ;
24039                            7035             TST_BIT_ON ERR_INFO_DTIN1_EXT           ;
24040 00004BDC 8B07                   M           BF      ERR_INFO_DTIN1_EXT
24041                            7036     
24042 00004BDE D107              7037             MOV.L   #_MODE_SEL,R1   ;
24043 00004BE0 6011              7038             MOV.W   @R1,R0          ;
24044 00004BE2 C804              7039             TST     #_W1SGL,R0      ;
24045                            7040             TST_BIT_OF ERR_INFO_DTIN1_EXT
24046 00004BE4 8903                   M           BT      ERR_INFO_DTIN1_EXT
24047                            7041     
24048 00004BE6 D106              7042             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24049 00004BE8 6012              7043             MOV.L   @R1,R0                                  ;
24050 00004BEA D106              7044             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C01,R1  ;
24051 00004BEC 2102              7045             MOV.L   R0,@R1                                  ;
24052                            7046     
24053 00004BEE                   7047     ERR_INFO_DTIN1_EXT:
24054                            7048     
24055                            7049             POP_REG1 R1
24056                                 M                                   ; RE"+4" 00,00,00,04
24057 00004BEE 61F6                   M           MOV.L   @R15+,R1        ;
24058                            7050             POP_REG1 R0
24059                                 M                                   ; RE"+4" 00,00,00,04
24060 00004BF0 60F6                   M           MOV.L   @R15+,R0        ;
24061                            7051             SUB_END
24062                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24063 00004BF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24064                            7052             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   320
PROGRAM NAME =

24065 00004BF4 000B                   M           RTS                             ;RTSの後ろの
24066 00004BF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24067                            7053     
24068                            7054     
24069                            7055     ;       ***************************
24070                            7056     ;       ***     data 記憶       ***
24071                            7057     ;       ***************************
24072                            7058     ;       (data-smp only)
24073                                     ***** BEGIN-POOL *****
24074 00004BF8 00000000                   DATA FOR SOURCE-LINE 7032
24075 00004BFC 00000000                   DATA FOR SOURCE-LINE 7037
24076 00004C00 00000000                   DATA FOR SOURCE-LINE 7042
24077 00004C04 00000000                   DATA FOR SOURCE-LINE 7044
24078                                     ***** END-POOL *****
24079 00004C08                   7059             .ALIGN  4                               ;
24080 00004C08                   7060     _ERR_INFO_DT_IN2:
24081                            7061             SUB_START
24082 00004C08 4F22                   M           STS.L   PR,@-R15                ;[必要]
24083                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24084                            7062             PUSH_REG1 R0
24085 00004C0A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24086                                 M                                           ;REG=>[SP]
24087                                 M                                           ;"-4" FF,FF,FF,FC
24088                            7063             PUSH_REG1 R1
24089 00004C0C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24090                                 M                                           ;REG=>[SP]
24091                                 M                                           ;"-4" FF,FF,FF,FC
24092 00004C0E D10E              7064             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24093 00004C10 6011              7065             MOV.W   @R1,R0                          ;
24094 00004C12 2008              7066             TST     R0,R0                           ;
24095                            7067             TST_BIT_ON ERR_INFO_DTIN2_EXT           ;
24096 00004C14 8B13                   M           BF      ERR_INFO_DTIN2_EXT
24097                            7068     
24098 00004C16 D10D              7069             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24099 00004C18 6012              7070             MOV.L   @R1,R0                                  ;
24100 00004C1A D10D              7071             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C02,R1  ;
24101 00004C1C 2102              7072             MOV.L   R0,@R1                                  ;
24102                            7073     
24103 00004C1E D10D              7074             MOV.L   #_LINK_PV_ABSPLS+4,R1           ;
24104 00004C20 6012              7075             MOV.L   @R1,R0                                  ;
24105 00004C22 D10D              7076             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C03,R1  ;
24106 00004C24 2102              7077             MOV.L   R0,@R1                                  ;
24107                            7078     
24108 00004C26 D10D              7079             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24109 00004C28 6012              7080             MOV.L   @R1,R0                                  ;
24110 00004C2A D10D              7081             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;
24111 00004C2C 2102              7082             MOV.L   R0,@R1                                  ;
24112                            7083     
24113                            7084     
24114                            7085     ;       ----- 2010-10-25 ---------------
24115 00004C2E D10D              7086             MOV.L   #_LNGTH_ADD_DATA,R1                     ;
24116 00004C30 6012              7087             MOV.L   @R1,R0                                  ;
24117 00004C32 D10D              7088             MOV.L   #_CHK_ADD_DATA_LATCH,R1                 ;
24118 00004C34 2102              7089             MOV.L   R0,@R1                                  ;
24119                            7090     
24120 00004C36 D109              7091             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   321
PROGRAM NAME =

24121 00004C38 6012              7092             MOV.L   @R1,R0                                  ;
24122 00004C3A D10C              7093             MOV.L   #_CHK_ADD_DATA_LATCH+4,R1               ;
24123 00004C3C 2102              7094             MOV.L   R0,@R1                                  ;
24124                            7095     
24125                            7096     
24126                            7097     
24127                            7098     
24128                            7099     
24129                            7100     
24130 00004C3E                   7101     ERR_INFO_DTIN2_EXT
24131                            7102     
24132                            7103             POP_REG1 R1
24133                                 M                                   ; RE"+4" 00,00,00,04
24134 00004C3E 61F6                   M           MOV.L   @R15+,R1        ;
24135                            7104             POP_REG1 R0
24136                                 M                                   ; RE"+4" 00,00,00,04
24137 00004C40 60F6                   M           MOV.L   @R15+,R0        ;
24138                            7105             SUB_END
24139                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24140 00004C42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24141                            7106             M_RTS
24142 00004C44 000B                   M           RTS                             ;RTSの後ろの
24143 00004C46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24144                            7107     
24145                            7108     ;       ***************************
24146                            7109     ;       ***     data 記憶       ***
24147                            7110     ;       ***************************
24148                                     ***** BEGIN-POOL *****
24149 00004C48 00000000                   DATA FOR SOURCE-LINE 7064
24150 00004C4C 00000000                   DATA FOR SOURCE-LINE 7069
24151 00004C50 00000000                   DATA FOR SOURCE-LINE 7071
24152 00004C54 00000000                   DATA FOR SOURCE-LINE 7074
24153 00004C58 00000000                   DATA FOR SOURCE-LINE 7076
24154 00004C5C 00000000                   DATA FOR SOURCE-LINE 7079,7091
24155 00004C60 00000000                   DATA FOR SOURCE-LINE 7081
24156 00004C64 00000000                   DATA FOR SOURCE-LINE 7086
24157 00004C68 00000000                   DATA FOR SOURCE-LINE 7088
24158 00004C6C 00000000                   DATA FOR SOURCE-LINE 7093
24159                                     ***** END-POOL *****
24160 00004C70                   7111             .ALIGN  4                               ;
24161 00004C70                   7112     _ERR_INFO_DT_IN2A:
24162                            7113             SUB_START
24163 00004C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
24164                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24165                            7114             SUB_END
24166                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24167 00004C72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24168                            7115             M_RTS
24169 00004C74 000B                   M           RTS                             ;RTSの後ろの
24170 00004C76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24171                            7116     
24172                            7117     ;       ***************************
24173                            7118     ;       ***     data 記憶       ***
24174                            7119     ;       ***************************
24175 00004C78                   7120             .ALIGN  4                               ;
24176 00004C78                   7121     _ERR_INFO_DT_IN3:
24177                            7122             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   322
PROGRAM NAME =

24178 00004C78 4F22                   M           STS.L   PR,@-R15                ;[必要]
24179                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24180                            7123             PUSH_REG1 R0
24181 00004C7A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24182                                 M                                           ;REG=>[SP]
24183                                 M                                           ;"-4" FF,FF,FF,FC
24184                            7124             PUSH_REG1 R1
24185 00004C7C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24186                                 M                                           ;REG=>[SP]
24187                                 M                                           ;"-4" FF,FF,FF,FC
24188 00004C7E D106              7125             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24189 00004C80 6011              7126             MOV.W   @R1,R0                          ;
24190 00004C82 2008              7127             TST     R0,R0                           ;
24191                            7128             TST_BIT_ON ERR_INFO_DTIN3_EXT           ;
24192 00004C84 8B03                   M           BF      ERR_INFO_DTIN3_EXT
24193                            7129     
24194 00004C86 D105              7130             MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1               ;
24195 00004C88 6012              7131             MOV.L   @R1,R0                                  ;
24196 00004C8A D105              7132             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C05,R1  ;
24197 00004C8C 2102              7133             MOV.L   R0,@R1                                  ;
24198                            7134     
24199 00004C8E                   7135     ERR_INFO_DTIN3_EXT
24200                            7136     
24201                            7137             POP_REG1 R1
24202                                 M                                   ; RE"+4" 00,00,00,04
24203 00004C8E 61F6                   M           MOV.L   @R15+,R1        ;
24204                            7138             POP_REG1 R0
24205                                 M                                   ; RE"+4" 00,00,00,04
24206 00004C90 60F6                   M           MOV.L   @R15+,R0        ;
24207                            7139             SUB_END
24208                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24209 00004C92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24210                            7140             M_RTS
24211 00004C94 000B                   M           RTS                             ;RTSの後ろの
24212 00004C96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24213                            7141     
24214                            7142     ;       ***********************************
24215                            7143     ;       ***     起動時の残りﾊﾟﾙｽ        ***
24216                            7144     ;       ***********************************
24217                                     ***** BEGIN-POOL *****
24218 00004C98 00000000                   DATA FOR SOURCE-LINE 7125
24219 00004C9C 00000000                   DATA FOR SOURCE-LINE 7130
24220 00004CA0 00000000                   DATA FOR SOURCE-LINE 7132
24221                                     ***** END-POOL *****
24222 00004CA4                   7145             .ALIGN  4                               ;
24223 00004CA4                   7146     _ERR_INFO_DT_IN4:
24224                            7147             SUB_START
24225 00004CA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24226                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24227                            7148             PUSH_REG1 R0
24228 00004CA6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24229                                 M                                           ;REG=>[SP]
24230                                 M                                           ;"-4" FF,FF,FF,FC
24231                            7149             PUSH_REG1 R1
24232 00004CA8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24233                                 M                                           ;REG=>[SP]
24234                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   323
PROGRAM NAME =

24235 00004CAA D10A              7150             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24236 00004CAC 6011              7151             MOV.W   @R1,R0                          ;
24237 00004CAE 2008              7152             TST     R0,R0                           ;
24238                            7153             TST_BIT_ON ERR_INFO_DTIN4_EXT           ;
24239 00004CB0 8B0A                   M           BF      ERR_INFO_DTIN4_EXT
24240                            7154     
24241 00004CB2 D109              7155             MOV.L   #_MODE_SEL,R1   ;
24242 00004CB4 6011              7156             MOV.W   @R1,R0          ;
24243 00004CB6 C804              7157             TST     #_W1SGL,R0      ;
24244                            7158             TST_BIT_OF ERR_INFO_DTIN4_EXT
24245 00004CB8 8906                   M           BT      ERR_INFO_DTIN4_EXT
24246                            7159     
24247                            7160     ;       ==========
24248                            7161             FAR_JSR #_LOAD_REST_PLS,R0              ;残りﾊﾟﾙｽ
24249 00004CBA D008                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24250 00004CBC 400B                   M           JSR     @R0                     ;
24251 00004CBE 0009                   M           NOP                                     ;
24252 00004CC0 D107              7162             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1  ;
24253 00004CC2 2102              7163             MOV.L   R0,@R1                                  ;
24254 00004CC4 D107              7164             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1  ;
24255 00004CC6 2102              7165             MOV.L   R0,@R1                                  ;
24256                            7166     
24257 00004CC8                   7167     ERR_INFO_DTIN4_EXT:
24258                            7168             POP_REG1 R1
24259                                 M                                   ; RE"+4" 00,00,00,04
24260 00004CC8 61F6                   M           MOV.L   @R15+,R1        ;
24261                            7169             POP_REG1 R0
24262                                 M                                   ; RE"+4" 00,00,00,04
24263 00004CCA 60F6                   M           MOV.L   @R15+,R0        ;
24264                            7170             SUB_END
24265                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24266 00004CCC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24267                            7171             M_RTS
24268 00004CCE 000B                   M           RTS                             ;RTSの後ろの
24269 00004CD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24270                            7172     
24271                            7173     ;       ***********************************************************
24272                            7174     ;       ***     TOTAL,ADDが0であること                          ***
24273                            7175     ;       ***********************************************************
24274                                     ***** BEGIN-POOL *****
24275 00004CD2 0000                       ALIGNMENT CODE
24276 00004CD4 00000000                   DATA FOR SOURCE-LINE 7150
24277 00004CD8 00000000                   DATA FOR SOURCE-LINE 7155
24278 00004CDC 00000000                   DATA FOR SOURCE-LINE 7161
24279 00004CE0 00000000                   DATA FOR SOURCE-LINE 7162
24280 00004CE4 00000000                   DATA FOR SOURCE-LINE 7164
24281                                     ***** END-POOL *****
24282 00004CE8                   7176             .ALIGN  4                               ;
24283 00004CE8                   7177     _ERR_INFO_DT_CHK1:
24284                            7178             SUB_START
24285 00004CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24286                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24287                            7179             PUSH_REG1 R0
24288 00004CEA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24289                                 M                                           ;REG=>[SP]
24290                                 M                                           ;"-4" FF,FF,FF,FC
24291                            7180             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   324
PROGRAM NAME =

24292 00004CEC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24293                                 M                                           ;REG=>[SP]
24294                                 M                                           ;"-4" FF,FF,FF,FC
24295                            7181             PUSH_REG1 R2
24296 00004CEE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24297                                 M                                           ;REG=>[SP]
24298                                 M                                           ;"-4" FF,FF,FF,FC
24299                            7182             PUSH_REG1 R3
24300 00004CF0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24301                                 M                                           ;REG=>[SP]
24302                                 M                                           ;"-4" FF,FF,FF,FC
24303                            7183     
24304 00004CF2 D11B              7184             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24305 00004CF4 6011              7185             MOV.W   @R1,R0                          ;
24306 00004CF6 2008              7186             TST     R0,R0                           ;
24307                            7187             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24308 00004CF8 8B27                   M           BF      ERR_INFO_DTCHK1_EXT
24309                            7188     
24310 00004CFA D11A              7189             MOV.L   #_MODE_SEL,R1   ;
24311 00004CFC 6011              7190             MOV.W   @R1,R0          ;
24312 00004CFE C804              7191             TST     #_W1SGL,R0      ;
24313                            7192             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24314 00004D00 8923                   M           BT      ERR_INFO_DTCHK1_EXT
24315                            7193     
24316 00004D02 D019              7194             MOV.L   #_CPOS_CTL_MATH,R0              ;
24317 00004D04 6001              7195             MOV.W   @R0,R0                          ;
24318 00004D06 C801              7196             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24319                            7197             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24320 00004D08 891F                   M           BT      ERR_INFO_DTCHK1_EXT
24321                            7198     
24322                            7199     ;       -------------2011-09-14---------------
24323 00004D0A D118              7200             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24324 00004D0C 6011              7201             MOV.W   @R1,R0                          ;
24325 00004D0E C801              7202             TST     #BIT0,R0                        ;
24326                            7203             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24327 00004D10 8B1B                   M           BF      ERR_INFO_DTCHK1_EXT
24328                            7204     
24329                            7205     
24330 00004D12 D117              7206             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24331 00004D14 6011              7207             MOV.W   @R1,R0                                          ;
24332                            7208     
24333                            7209             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24334 00004D16 D117                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24335 00004D18 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24336 00004D1A 6312                   M           MOV.L   @R1,R3                  ;LOW
24337 00004D1C 211A                   M           XOR     R1,R1                   ;
24338 00004D1E 223B                   M           OR      R3,R2                   ;
24339 00004D20 2228                   M           TST     R2,R2                   ;
24340                                 M           TST_BIT_OF JMP0100016           ;ZERO
24341 00004D22 8900                   M           BT      JMP0100016
24342 00004D24 9118                   M           MOV.W   #BIT0,R1                ;
24343 00004D26                        M   JMP0100016                                      ;
24344 00004D26 201B              7210             OR      R1,R0                                           ;
24345                            7211     
24346                            7212             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24347 00004D28 D113                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24348 00004D2A 6216                   M           MOV.L   @R1+,R2                 ;HIGH
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   325
PROGRAM NAME =

24349 00004D2C 6312                   M           MOV.L   @R1,R3                  ;LOW
24350 00004D2E 211A                   M           XOR     R1,R1                   ;
24351 00004D30 223B                   M           OR      R3,R2                   ;
24352 00004D32 2228                   M           TST     R2,R2                   ;
24353                                 M           TST_BIT_OF JMP0100017           ;ZERO
24354 00004D34 8900                   M           BT      JMP0100017
24355 00004D36 9110                   M           MOV.W   #BIT1,R1                ;
24356 00004D38                        M   JMP0100017                                      ;
24357 00004D38 201B              7213             OR      R1,R0                                           ;
24358                            7214     
24359                            7215             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24360 00004D3A D110                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24361 00004D3C 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24362 00004D3E 211A                   M           XOR     R1,R1                   ;
24363 00004D40 2228                   M           TST     R2,R2                   ;
24364                                 M           TST_BIT_OF JMP0100018           ;ZERO
24365 00004D42 8900                   M           BT      JMP0100018
24366 00004D44 910A                   M           MOV.W   #BIT2,R1                ;
24367 00004D46                        M   JMP0100018                                      ;
24368                            7216     
24369 00004D46 D10A              7217             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24370 00004D48 2101              7218             MOV.W   R0,@R1                                          ;
24371 00004D4A                   7219     ERR_INFO_DTCHK1_EXT:
24372                            7220     
24373                            7221             POP_REG1 R3
24374                                 M                                   ; RE"+4" 00,00,00,04
24375 00004D4A 63F6                   M           MOV.L   @R15+,R3        ;
24376                            7222             POP_REG1 R2
24377                                 M                                   ; RE"+4" 00,00,00,04
24378 00004D4C 62F6                   M           MOV.L   @R15+,R2        ;
24379                            7223             POP_REG1 R1
24380                                 M                                   ; RE"+4" 00,00,00,04
24381 00004D4E 61F6                   M           MOV.L   @R15+,R1        ;
24382                            7224             POP_REG1 R0
24383                                 M                                   ; RE"+4" 00,00,00,04
24384 00004D50 60F6                   M           MOV.L   @R15+,R0        ;
24385                            7225     
24386                            7226     
24387                            7227             SUB_END
24388                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24389 00004D52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24390                            7228             M_RTS
24391 00004D54 000B                   M           RTS                             ;RTSの後ろの
24392 00004D56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24393                            7229     
24394                            7230     ;       ***********************************************************
24395                            7231     ;       ***     TOTAL,ADDが0であること                          ***
24396                            7232     ;       ***********************************************************
24397                            7233     ;       SGL
24398                                     ***** BEGIN-POOL *****
24399 00004D58 0001                       DATA FOR SOURCE-LINE 7209
24400 00004D5A 0002                       DATA FOR SOURCE-LINE 7212
24401 00004D5C 0004                       DATA FOR SOURCE-LINE 7215
24402 00004D5E 0000                       ALIGNMENT CODE
24403 00004D60 00000000                   DATA FOR SOURCE-LINE 7184
24404 00004D64 00000000                   DATA FOR SOURCE-LINE 7189
24405 00004D68 00000000                   DATA FOR SOURCE-LINE 7194
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   326
PROGRAM NAME =

24406 00004D6C 00000000                   DATA FOR SOURCE-LINE 7200
24407 00004D70 00000000                   DATA FOR SOURCE-LINE 7206,7217
24408 00004D74 00000000                   DATA FOR SOURCE-LINE 7209
24409 00004D78 00000000                   DATA FOR SOURCE-LINE 7212
24410 00004D7C 00000000                   DATA FOR SOURCE-LINE 7215
24411                                     ***** END-POOL *****
24412 00004D80                   7234             .ALIGN  4                               ;
24413 00004D80                   7235     _ERR_INFO_DT_CHK2:
24414                            7236             SUB_START
24415 00004D80 4F22                   M           STS.L   PR,@-R15                ;[必要]
24416                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24417                            7237             PUSH_REG1 R0
24418 00004D82 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24419                                 M                                           ;REG=>[SP]
24420                                 M                                           ;"-4" FF,FF,FF,FC
24421                            7238             PUSH_REG1 R1
24422 00004D84 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24423                                 M                                           ;REG=>[SP]
24424                                 M                                           ;"-4" FF,FF,FF,FC
24425                            7239             PUSH_REG1 R2
24426 00004D86 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24427                                 M                                           ;REG=>[SP]
24428                                 M                                           ;"-4" FF,FF,FF,FC
24429                            7240             PUSH_REG1 R3
24430 00004D88 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24431                                 M                                           ;REG=>[SP]
24432                                 M                                           ;"-4" FF,FF,FF,FC
24433                            7241     
24434                            7242     
24435                            7243     
24436 00004D8A D129              7244             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24437 00004D8C 6011              7245             MOV.W   @R1,R0                          ;
24438 00004D8E 2008              7246             TST     R0,R0                           ;
24439                            7247             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24440 00004D90 8B6F                   M           BF      ERR_INFO_DTCHK2_EXT
24441                            7248     
24442 00004D92 D128              7249             MOV.L   #_MODE_SEL,R1                   ;
24443 00004D94 6011              7250             MOV.W   @R1,R0                          ;
24444 00004D96 C804              7251             TST     #_W1SGL,R0                      ;
24445                            7252             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24446 00004D98 896B                   M           BT      ERR_INFO_DTCHK2_EXT
24447                            7253     
24448 00004D9A D027              7254             MOV.L   #_CPOS_CTL_MATH,R0              ;
24449 00004D9C 6001              7255             MOV.W   @R0,R0                          ;
24450                            7256     ;;;;2010-10-25  TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24451 00004D9E C805              7257             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2010-10-25 回転+ふりこ
24452                            7258             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24453 00004DA0 8967                   M           BT      ERR_INFO_DTCHK2_EXT
24454                            7259     
24455                            7260     ;       -------------2011-09-14---------------
24456 00004DA2 D126              7261             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24457 00004DA4 6011              7262             MOV.W   @R1,R0                          ;
24458 00004DA6 C801              7263             TST     #BIT0,R0                        ;
24459                            7264             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24460 00004DA8 8B63                   M           BF      ERR_INFO_DTCHK2_EXT
24461                            7265     
24462                            7266     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   327
PROGRAM NAME =

24463 00004DAA D125              7267             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24464 00004DAC 6011              7268             MOV.W   @R1,R0                                          ;
24465                            7269     
24466                            7270             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24467 00004DAE D125                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24468 00004DB0 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24469 00004DB2 6312                   M           MOV.L   @R1,R3                  ;LOW
24470 00004DB4 211A                   M           XOR     R1,R1                   ;
24471 00004DB6 223B                   M           OR      R3,R2                   ;
24472 00004DB8 2228                   M           TST     R2,R2                   ;
24473                                 M           TST_BIT_OF JMP0100019           ;ZERO
24474 00004DBA 8900                   M           BT      JMP0100019
24475 00004DBC 9133                   M           MOV.W   #BIT0,R1                ;
24476 00004DBE                        M   JMP0100019                                      ;
24477 00004DBE 201B              7271             OR      R1,R0                                           ;
24478                            7272     
24479                            7273             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24480 00004DC0 D121                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24481 00004DC2 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24482 00004DC4 6312                   M           MOV.L   @R1,R3                  ;LOW
24483 00004DC6 211A                   M           XOR     R1,R1                   ;
24484 00004DC8 223B                   M           OR      R3,R2                   ;
24485 00004DCA 2228                   M           TST     R2,R2                   ;
24486                                 M           TST_BIT_OF JMP0100020           ;ZERO
24487 00004DCC 8900                   M           BT      JMP0100020
24488 00004DCE 912B                   M           MOV.W   #BIT1,R1                ;
24489 00004DD0                        M   JMP0100020                                      ;
24490 00004DD0 201B              7274             OR      R1,R0                                           ;
24491                            7275     
24492                            7276             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24493 00004DD2 D11E                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24494 00004DD4 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24495 00004DD6 211A                   M           XOR     R1,R1                   ;
24496 00004DD8 2228                   M           TST     R2,R2                   ;
24497                                 M           TST_BIT_OF JMP0100021           ;ZERO
24498 00004DDA 8900                   M           BT      JMP0100021
24499 00004DDC 9125                   M           MOV.W   #BIT2,R1                ;
24500 00004DDE                        M   JMP0100021                                      ;
24501                            7277     
24502 00004DDE D118              7278             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24503 00004DE0 2101              7279             MOV.W   R0,@R1                                          ;
24504                            7280     
24505                            7281     ;       ==== ADD DATA CHK ===
24506 00004DE2 D11B              7282             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD_
24507 00004DE4 6212              7283             MOV.L   @R1,R2                                  ;
24508 00004DE6 4211              7284             CMP/PZ  R2                                      ;
24509 00004DE8 8900              7285             BT      ERR_INFO_DTCHK2_050                     ;
24510 00004DEA 622B              7286             NEG     R2,R2
24511 00004DEC                   7287     ERR_INFO_DTCHK2_050:
24512                            7288     
24513 00004DEC D119              7289             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
24514 00004DEE 6012              7290             MOV.L   @R1,R0                                  ;
24515 00004DF0 911C              7291             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
24516 00004DF2 301C              7292             ADD     R1,R0                                   ;1ROT-PLS+2000
24517 00004DF4 3022              7293             CMP/HS  R2,R0                                   ;
24518 00004DF6 8903              7294             BT      ERR_INFO_DTCHK2_100                     ;1ROT以下
24519                            7295             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   328
PROGRAM NAME =

                                          =R1 ;//計算不良
24520 00004DF8 D111                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24521 00004DFA 6011                   M           MOV.W   @R1,R0          ;
24522 00004DFC CB10                   M           OR      #BIT4,R0                ;
24523 00004DFE 2101                   M           MOV.W   R0,@R1          ;
24524 00004E00                   7296     ERR_INFO_DTCHK2_100:
24525                            7297     
24526                            7298     ;       =====もう一個チェックが必要[2010-10-26] ふりこ時の対策 化け方が0000,0000,FFF,FFFF[
                                          +]====
24527 00004E00 D315              7299             MOV.L   #_CHK_ADD_DATA_LATCH,R3         ;
24528 00004E02 6136              7300             MOV.L   @R3+,R1                         ;
24529 00004E04 6232              7301             MOV.L   @R3,R2                          ;
24530 00004E06 4111              7302             CMP/PZ  R1                              ;
24531 00004E08 8905              7303             BT      ERR_INFO_DTCHK2_150             ;
24532                            7304             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;
24533 00004E0A 6227                   M           NOT     R2,R2                           ;
24534 00004E0C 6117                   M           NOT     R1,R1                           ;
24535 00004E0E 200A                   M           XOR     R0,R0                           ;
24536 00004E10 0018                   M           SETT
24537 00004E12 320E                   M           ADDC    R0,R2                           ;0+1+R2
24538 00004E14 310E                   M           ADDC    R0,R1                           ;
24539 00004E16                   7305     ERR_INFO_DTCHK2_150:
24540 00004E16 2118              7306             TST     R1,R1                           ;
24541                            7307             TST_BIT_OF ERR_INFO_DTCHK2_200          ;
24542 00004E18 8920                   M           BT      ERR_INFO_DTCHK2_200
24543                            7308             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24544 00004E1A D109                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24545 00004E1C 6011                   M           MOV.W   @R1,R0          ;
24546 00004E1E CB10                   M           OR      #BIT4,R0                ;
24547 00004E20 2101                   M           MOV.W   R0,@R1          ;
24548                            7309             M_BRA   ERR_INFO_DTCHK2_300             ;
24549 00004E22 A025                   M           BRA     ERR_INFO_DTCHK2_300
24550 00004E24 0009                   M           NOP
24551                            7310     
24552                                     ***** BEGIN-POOL *****
24553 00004E26 0001                       DATA FOR SOURCE-LINE 7270
24554 00004E28 0002                       DATA FOR SOURCE-LINE 7273
24555 00004E2A 0004                       DATA FOR SOURCE-LINE 7276
24556 00004E2C 07D0                       DATA FOR SOURCE-LINE 7291
24557 00004E2E 0000                       ALIGNMENT CODE
24558 00004E30 00000000                   DATA FOR SOURCE-LINE 7244
24559 00004E34 00000000                   DATA FOR SOURCE-LINE 7249
24560 00004E38 00000000                   DATA FOR SOURCE-LINE 7254
24561 00004E3C 00000000                   DATA FOR SOURCE-LINE 7261
24562 00004E40 00000000                   DATA FOR SOURCE-LINE 7267,7278,7295,7308
24563 00004E44 00000000                   DATA FOR SOURCE-LINE 7270
24564 00004E48 00000000                   DATA FOR SOURCE-LINE 7273
24565 00004E4C 00000000                   DATA FOR SOURCE-LINE 7276
24566 00004E50 00000000                   DATA FOR SOURCE-LINE 7282
24567 00004E54 00000000                   DATA FOR SOURCE-LINE 7289
24568 00004E58 00000000                   DATA FOR SOURCE-LINE 7299
24569                                     ***** END-POOL *****
24570 00004E5C                   7311     ERR_INFO_DTCHK2_200:
24571 00004E5C D109              7312             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
24572 00004E5E 6012              7313             MOV.L   @R1,R0                                  ;
24573 00004E60 910E              7314             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   329
PROGRAM NAME =

24574 00004E62 301C              7315             ADD     R1,R0                                   ;1ROT-PLS+2000
24575 00004E64 3022              7316             CMP/HS  R2,R0                                   ;
24576 00004E66 8903              7317             BT      ERR_INFO_DTCHK2_300                     ;1ROT以下
24577                            7318             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24578 00004E68 D107                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24579 00004E6A 6011                   M           MOV.W   @R1,R0          ;
24580 00004E6C CB10                   M           OR      #BIT4,R0                ;
24581 00004E6E 2101                   M           MOV.W   R0,@R1          ;
24582 00004E70                   7319     ERR_INFO_DTCHK2_300:
24583 00004E70 0009              7320             NOP
24584                            7321     
24585                            7322     
24586                            7323     
24587 00004E72                   7324     ERR_INFO_DTCHK2_EXT:
24588                            7325     
24589                            7326     
24590                            7327             POP_REG1 R3
24591                                 M                                   ; RE"+4" 00,00,00,04
24592 00004E72 63F6                   M           MOV.L   @R15+,R3        ;
24593                            7328             POP_REG1 R2
24594                                 M                                   ; RE"+4" 00,00,00,04
24595 00004E74 62F6                   M           MOV.L   @R15+,R2        ;
24596                            7329             POP_REG1 R1
24597                                 M                                   ; RE"+4" 00,00,00,04
24598 00004E76 61F6                   M           MOV.L   @R15+,R1        ;
24599                            7330             POP_REG1 R0
24600                                 M                                   ; RE"+4" 00,00,00,04
24601 00004E78 60F6                   M           MOV.L   @R15+,R0        ;
24602                            7331             SUB_END
24603                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24604 00004E7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24605                            7332             M_RTS
24606 00004E7C 000B                   M           RTS                             ;RTSの後ろの
24607 00004E7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24608                            7333     
24609                            7334     ;       *******************************************
24610                            7335     ;       ***     CHEAK ﾚｽﾄﾊﾟﾙｽが減ること/        ***
24611                            7336     ;       *******************************************
24612                                     ***** BEGIN-POOL *****
24613 00004E80 07D0                       DATA FOR SOURCE-LINE 7314
24614 00004E82 0000                       ALIGNMENT CODE
24615 00004E84 00000000                   DATA FOR SOURCE-LINE 7312
24616 00004E88 00000000                   DATA FOR SOURCE-LINE 7318
24617                                     ***** END-POOL *****
24618 00004E8C                   7337             .ALIGN  4                               ;
24619 00004E8C                   7338     _ERR_INFO_DT_CHK3:
24620                            7339             SUB_START
24621 00004E8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24622                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24623                            7340     
24624 00004E8E D10C              7341             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24625 00004E90 6011              7342             MOV.W   @R1,R0                          ;
24626 00004E92 2008              7343             TST     R0,R0                           ;
24627                            7344             TST_BIT_ON ERR_INFO_DTCHK3_EXT                  ;
24628 00004E94 8B68                   M           BF      ERR_INFO_DTCHK3_EXT
24629                            7345     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   330
PROGRAM NAME =

24630 00004E96 D10B              7346             MOV.L   #_MODE_SEL,R1                           ;
24631 00004E98 6011              7347             MOV.W   @R1,R0                                  ;
24632 00004E9A C804              7348             TST     #_W1SGL,R0                              ;
24633                            7349             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
24634 00004E9C 8964                   M           BT      ERR_INFO_DTCHK3_EXT
24635                            7350     
24636 00004E9E D00A              7351             MOV.L   #_CPOS_CTL_MATH,R0              ;
24637 00004EA0 6001              7352             MOV.W   @R0,R0                          ;
24638 00004EA2 C801              7353             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24639                            7354             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
24640 00004EA4 8960                   M           BT      ERR_INFO_DTCHK3_EXT
24641                            7355     
24642                            7356     ;       -------------2011-09-14---------------
24643 00004EA6 D109              7357             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24644 00004EA8 6011              7358             MOV.W   @R1,R0                          ;
24645 00004EAA C801              7359             TST     #BIT0,R0                        ;
24646                            7360             TST_BIT_ON ERR_INFO_DTCHK3_EXT          ;
24647 00004EAC 8B5C                   M           BF      ERR_INFO_DTCHK3_EXT
24648                            7361     
24649                            7362     
24650 00004EAE D108              7363             MOV.L   #_ERR_INFO_DLY_TIM,R1                           ;
24651 00004EB0 6011              7364             MOV.W   @R1,R0                                          ;
24652 00004EB2 2008              7365             TST     R0,R0                                           ;
24653                            7366             TST_BIT_OF ERR_INFO_DTCHK3_050                          ;
24654 00004EB4 890E                   M           BT      ERR_INFO_DTCHK3_050
24655 00004EB6 70FF              7367             ADD     #-1,R0                                          ;
24656 00004EB8 2101              7368             MOV.W   R0,@R1                                          ;
24657                            7369             M_BRA   ERR_INFO_DTCHK3_EXT                             ;(ﾚｽﾄﾊﾟﾙｽが安定しないので
                                          その判断はしない)
24658 00004EBA A055                   M           BRA     ERR_INFO_DTCHK3_EXT
24659 00004EBC 0009                   M           NOP
24660                            7370     
24661                                     ***** BEGIN-POOL *****
24662 00004EBE 0000                       ALIGNMENT CODE
24663 00004EC0 00000000                   DATA FOR SOURCE-LINE 7341
24664 00004EC4 00000000                   DATA FOR SOURCE-LINE 7346
24665 00004EC8 00000000                   DATA FOR SOURCE-LINE 7351
24666 00004ECC 00000000                   DATA FOR SOURCE-LINE 7357
24667 00004ED0 00000000                   DATA FOR SOURCE-LINE 7363
24668                                     ***** END-POOL *****
24669 00004ED4                   7371     ERR_INFO_DTCHK3_050:                                            ;
24670                            7372     
24671                            7373             FAR_JSR #_LOAD_REST_PLS,R0                              ;残りﾊﾟﾙｽ
24672 00004ED4 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24673 00004ED6 400B                   M           JSR     @R0                     ;
24674 00004ED8 0009                   M           NOP                                     ;
24675 00004EDA D126              7374             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
24676 00004EDC 6312              7375             MOV.L   @R1,R3                                          ;
24677 00004EDE 2102              7376             MOV.L   R0,@R1                                          ;NOW =< OLD
24678 00004EE0 D125              7377             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C08,R1          ;
24679 00004EE2 2132              7378             MOV.L   R3,@R1                                          ;OLD SAVE
24680                            7379     
24681 00004EE4 3302              7380             CMP/HS  R0,R3                                           ;
24682 00004EE6 890F              7381             BT      ERR_INFO_DTCHK3_100                             ;
24683                            7382     
24684                            7383             PUSH_REG1 R0                                            ;
24685 00004EE8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   331
PROGRAM NAME =

24686                                 M                                           ;REG=>[SP]
24687                                 M                                           ;"-4" FF,FF,FF,FC
24688 00004EEA D124              7384             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B03,R1          ;
24689 00004EEC 6211              7385             MOV.W   @R1,R2                                          ;
24690 00004EEE 7201              7386             ADD     #1,R2                                           ;
24691 00004EF0 2121              7387             MOV.W   R2,@R1                                          ;
24692                            7388     
24693 00004EF2 3038              7389             SUB     R3,R0                                           ;DELT
24694 00004EF4 D122              7390             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B04,R1          ;増分
24695 00004EF6 6211              7391             MOV.W   @R1,R2                                          ;
24696 00004EF8 3022              7392             CMP/HS  R2,R0                                           ;R2<R0
24697 00004EFA 8B00              7393             BF      ERR_INFO_DTCHK3_060                             ;NO R2 > R0
24698 00004EFC 2101              7394             MOV.W   R0,@R1                                          ;MAX REFLASH
24699 00004EFE                   7395     ERR_INFO_DTCHK3_060:                                            ;
24700                            7396     
24701                            7397             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT0,WKREG
                                          =R1 ;//位置増加
24702 00004EFE D121                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24703 00004F00 6011                   M           MOV.W   @R1,R0          ;
24704 00004F02 CB01                   M           OR      #BIT0,R0                ;
24705 00004F04 2101                   M           MOV.W   R0,@R1          ;
24706                            7398     
24707                            7399             POP_REG1 R0                                             ;
24708                                 M                                   ; RE"+4" 00,00,00,04
24709 00004F06 60F6                   M           MOV.L   @R15+,R0        ;
24710 00004F08                   7400     ERR_INFO_DTCHK3_100:                                            ;
24711                            7401     
24712                            7402     ;       ==== 起動時のRESETより生のﾊﾟﾙｽは小さいか===
24713                            7403     ;       R0:読み出したパルス
24714                            7404     
24715 00004F08 D11F              7405             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1          ;
24716 00004F0A 6212              7406             MOV.L   @R1,R2                                          ;
24717 00004F0C 7201              7407             ADD     #1,R2                                           ;
24718 00004F0E 3202              7408             CMP/HS  R0,R2                                           ;
24719 00004F10 8907              7409             BT      ERR_INFO_DTCHK3_200                             ;起動時より増えていない
24720                            7410     
24721 00004F12 D11E              7411             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B05,R1          ;
24722 00004F14 6011              7412             MOV.W   @R1,R0                                          ;
24723 00004F16 7001              7413             ADD     #1,R0                                           ;
24724 00004F18 2101              7414             MOV.W   R0,@R1                                          ;
24725                            7415     
24726                            7416             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT1,WKREG
                                          =R1 ;//
24727 00004F1A D11A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24728 00004F1C 6011                   M           MOV.W   @R1,R0          ;
24729 00004F1E CB02                   M           OR      #BIT1,R0                ;
24730 00004F20 2101                   M           MOV.W   R0,@R1          ;
24731                            7417     
24732 00004F22                   7418     ERR_INFO_DTCHK3_200:
24733                            7419     
24734                            7420     ;       ==== 起動時のADDより生ﾊﾟﾙｽは小さいか===
24735 00004F22 D114              7421             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
24736 00004F24 6212              7422             MOV.L   @R1,R2                                          ;
24737                            7423     
24738 00004F26 D11A              7424             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD-PLS
24739 00004F28 6012              7425             MOV.L   @R1,R0                                  ;
24740 00004F2A 4011              7426             CMP/PZ  R0                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   332
PROGRAM NAME =

24741 00004F2C 8900              7427             BT      ERR_INFO_DTCHK3_220                     ;
24742 00004F2E 600B              7428             NEG     R0,R0                                   ;
24743 00004F30                   7429     ERR_INFO_DTCHK3_220:                                    ;
24744 00004F30 7001              7430             ADD     #1,R0                                   ;
24745 00004F32 3022              7431             CMP/HS  R2,R0                                   ;R2<R0
24746 00004F34 8907              7432             BT      ERR_INFO_DTCHK3_300                     ;
24747                            7433     
24748                            7434             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT2,WKREG
                                          =R1 ;//
24749 00004F36 D113                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24750 00004F38 6011                   M           MOV.W   @R1,R0          ;
24751 00004F3A CB04                   M           OR      #BIT2,R0                ;
24752 00004F3C 2101                   M           MOV.W   R0,@R1          ;
24753                            7435     
24754 00004F3E D115              7436             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B06,R1          ;
24755 00004F40 6011              7437             MOV.W   @R1,R0                                          ;
24756 00004F42 7001              7438             ADD     #1,R0                                           ;
24757 00004F44 2101              7439             MOV.W   R0,@R1                                          ;
24758                            7440     
24759                            7441     
24760 00004F46                   7442     ERR_INFO_DTCHK3_300:
24761                            7443     
24762                            7444     ;       ==== ｱｸｾｽ不正異常 =====
24763 00004F46 9312              7445             MOV.W   #D'10,R3                ;
24764 00004F48 222A              7446             XOR     R2,R2                   ;
24765 00004F4A D113              7447             MOV.L   #_ACCESS_ERR1,R1        ;
24766 00004F4C                   7448     ERR_INFO_DTCHK3_350:
24767 00004F4C 6016              7449             MOV.L   @R1+,R0                 ;
24768 00004F4E 220B              7450             OR      R0,R2                   ;
24769 00004F50 73FF              7451             ADD     #-1,R3                  ;
24770 00004F52 2338              7452             TST     R3,R3                   ;
24771                            7453             TST_BIT_ON ERR_INFO_DTCHK3_350  ;
24772 00004F54 8BFA                   M           BF      ERR_INFO_DTCHK3_350
24773 00004F56 2228              7454             TST     R2,R2                   ;
24774                            7455             TST_BIT_OF ERR_INFO_DTCHK3_380  ;
24775 00004F58 8903                   M           BT      ERR_INFO_DTCHK3_380
24776                            7456             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT3,WKREG
                                          =R1 ;//(不正ｱｸｾｽ有り)
24777 00004F5A D10A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24778 00004F5C 6011                   M           MOV.W   @R1,R0          ;
24779 00004F5E CB08                   M           OR      #BIT3,R0                ;
24780 00004F60 2101                   M           MOV.W   R0,@R1          ;
24781 00004F62                   7457     ERR_INFO_DTCHK3_380:
24782                            7458     
24783                            7459     
24784                            7460     ;       ==== REST PLS ﾁｪｯｸ(別次元かな)====
24785                            7461             FAR_JSR #_ERR_INFO_DT_CHK3X,R0          ;OVER
24786 00004F62 D00E                   M           MOV.L   #_ERR_INFO_DT_CHK3X,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24787 00004F64 400B                   M           JSR     @R0                     ;
24788 00004F66 0009                   M           NOP                                     ;
24789                            7462     
24790                            7463     
24791 00004F68                   7464     ERR_INFO_DTCHK3_EXT:
24792                            7465     
24793                            7466             SUB_END
24794                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24795 00004F68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   333
PROGRAM NAME =

24796                            7467             M_RTS
24797 00004F6A 000B                   M           RTS                             ;RTSの後ろの
24798 00004F6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24799                            7468     
24800                            7469     ;       ***************************************************
24801                            7470     ;       ***                                             ***
24802                            7471     ;       ***     目標位置+2000＜現在位置+RESETPULS       ***
24803                            7472     ;       ***     注意 REST-PLSは20msec後から読み出す     ***
24804                            7473     ;       ***                                             ***
24805                            7474     ;       ***************************************************
24806                                     ***** BEGIN-POOL *****
24807 00004F6E 000A                       DATA FOR SOURCE-LINE 7445
24808 00004F70 00000000                   DATA FOR SOURCE-LINE 7373
24809 00004F74 00000000                   DATA FOR SOURCE-LINE 7374,7421
24810 00004F78 00000000                   DATA FOR SOURCE-LINE 7377
24811 00004F7C 00000000                   DATA FOR SOURCE-LINE 7384
24812 00004F80 00000000                   DATA FOR SOURCE-LINE 7390
24813 00004F84 00000000                   DATA FOR SOURCE-LINE 7397,7416,7434,7456
24814 00004F88 00000000                   DATA FOR SOURCE-LINE 7405
24815 00004F8C 00000000                   DATA FOR SOURCE-LINE 7411
24816 00004F90 00000000                   DATA FOR SOURCE-LINE 7424
24817 00004F94 00000000                   DATA FOR SOURCE-LINE 7436
24818 00004F98 00000000                   DATA FOR SOURCE-LINE 7447
24819 00004F9C 00000000                   DATA FOR SOURCE-LINE 7461
24820                                     ***** END-POOL *****
24821 00004FA0                   7475             .ALIGN  4                               ;
24822 00004FA0                   7476     _ERR_INFO_DT_CHK3X:
24823                            7477             SUB_START
24824 00004FA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24825                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24826                            7478     
24827 00004FA2 D103              7479             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
24828 00004FA4 6011              7480             MOV.W   @R1,R0                  ;
24829 00004FA6 C801              7481             TST     #BIT0,R0                ;
24830                            7482             TST_BIT_OF ERR_INFO_DTCHK3X_100 ;
24831 00004FA8 8904                   M           BT      ERR_INFO_DTCHK3X_100
24832                            7483             M_BRA   ERR_INFO_DTCHK3X_200    ;
24833 00004FAA A02F                   M           BRA     ERR_INFO_DTCHK3X_200
24834 00004FAC 0009                   M           NOP
24835                            7484     ;       ==== 正転運転 =====
24836                                     ***** BEGIN-POOL *****
24837 00004FAE 0000                       ALIGNMENT CODE
24838 00004FB0 00000000                   DATA FOR SOURCE-LINE 7479
24839                                     ***** END-POOL *****
24840 00004FB4                   7485     ERR_INFO_DTCHK3X_100:
24841                            7486             FAR_JSR #_LOAD_REST_PLS,R0                      ;残りﾊﾟﾙｽ R0
24842 00004FB4 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24843 00004FB6 400B                   M           JSR     @R0                     ;
24844 00004FB8 0009                   M           NOP                                     ;
24845                            7487     
24846 00004FBA D110              7488             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24847 00004FBC 6216              7489             MOV.L   @R1+,R2                                 ;
24848 00004FBE 6312              7490             MOV.L   @R1,R3                                  ;
24849 00004FC0 211A              7491             XOR     R1,R1
24850 00004FC2 9418              7492             MOV.W   #_PLS_ERR_HABPLS1,R4                    ;2000
24851                            7493             ADD8B DT_REGH=R1,DT_REGL=R4,DT_ANS_REGH=R2,DT_ANS_REGL=R3       ;OBJ+2000=R2,R3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   334
PROGRAM NAME =

24852 00004FC4 0008                   M           CLRT
24853 00004FC6 334E                   M           ADDC    R4,R3
24854 00004FC8 321E                   M           ADDC    R1,R2
24855                            7494     
24856                            7495     ;;;     MOV.L   #_LINK_RL_OBJ_ABSPLS,R1                                 ;
24857 00004FCA D10D              7496             MOV.L   #_LINK_PV_ABSPLS,R1                                     ;20060919
24858 00004FCC 6416              7497             MOV.L   @R1+,R4                                                 ;
24859 00004FCE 6512              7498             MOV.L   @R1,R5                                                  ;
24860 00004FD0 211A              7499             XOR     R1,R1                                                   ;R1,R0(残りﾊﾟﾙｽ)
24861                            7500             ADD8B DT_REGH=R1,DT_REGL=R0,DT_ANS_REGH=R4,DT_ANS_REGL=R5       ;PV+REST=R4,R5
24862 00004FD2 0008                   M           CLRT
24863 00004FD4 350E                   M           ADDC    R0,R5
24864 00004FD6 341E                   M           ADDC    R1,R4
24865                            7501     
24866                            7502             SUB8B DT_REGH=R4,DT_REGL=R5,DT_ANS_REGH=R2,DT_ANS_REGL=R3
24867 00004FD8 0008                   M           CLRT
24868 00004FDA 335A                   M           SUBC    R5,R3
24869 00004FDC 324A                   M           SUBC    R4,R2
24870                            7503     ;       R2,R3 - R4,R5= R2,R3 >=0 THEN NOMAL
24871 00004FDE 4211              7504             CMP/PZ  R2                      ;
24872 00004FE0 8914              7505             BT      ERR_INFO_DTCHK3X_300    ;
24873                            7506     ;       === "-" ===
24874                            7507             .AIF    0 EQ    0
24875                            7508 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//OVER-RUN
24876 00004FE2 D108                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24877 00004FE4 6011                   M           MOV.W   @R1,R0          ;
24878 00004FE6 CB10                   M           OR      #BIT4,R0                ;
24879 00004FE8 2101                   M           MOV.W   R0,@R1          ;
24880                            7509             .AELSE
24881                            7510             .AENDI
24882 00004FEA D107              7511             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B07,R1          ;
24883 00004FEC 6011              7512             MOV.W   @R1,R0                                          ;
24884 00004FEE 7001              7513             ADD     #1,R0                                           ;
24885 00004FF0 2101              7514             MOV.W   R0,@R1                                          ;
24886                            7515     
24887                            7516             M_BRA   ERR_INFO_DTCHK3X_300    ;
24888 00004FF2 A00B                   M           BRA     ERR_INFO_DTCHK3X_300
24889 00004FF4 0009                   M           NOP
24890                            7517     ;       ==== 逆転運転 =====
24891                                     ***** BEGIN-POOL *****
24892 00004FF6 07D0                       DATA FOR SOURCE-LINE 7492
24893 00004FF8 00000000                   DATA FOR SOURCE-LINE 7486
24894 00004FFC 00000000                   DATA FOR SOURCE-LINE 7488
24895 00005000 00000000                   DATA FOR SOURCE-LINE 7496
24896 00005004 00000000                   DATA FOR SOURCE-LINE 7508
24897 00005008 00000000                   DATA FOR SOURCE-LINE 7511
24898                                     ***** END-POOL *****
24899 0000500C                   7518     ERR_INFO_DTCHK3X_200:
24900 0000500C                   7519     ERR_INFO_DTCHK3X_300:
24901                            7520     
24902                            7521             SUB_END
24903                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24904 0000500C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24905                            7522             M_RTS
24906 0000500E 000B                   M           RTS                             ;RTSの後ろの
24907 00005010 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   335
PROGRAM NAME =

24908                            7523     
24909                            7524     ;       ***********************************
24910                            7525     ;       ***                             ***
24911                            7526     ;       ***     残りﾊﾟﾙｽﾁｪｯｸ            ***
24912                            7527     ;       ***     二重回路                ***
24913                            7528     ;       ***                             ***
24914                            7529     ;       ***********************************
24915                            7530             .MACRO REST_PLSCMP2_ERRCHK1 REG1,REG2,IMD,ERRBIT        ;
24916                            7531             XOR     R0,R0                                           ;
24917                            7532             SUB     \REG1,\REG2                                     ;
24918                            7533             CMP/PZ  \REG2                                           ;
24919                            7534             BT      JMP01\@                                         ;DATA=<MAX
24920                            7535             NEG     \REG2,\REG2                                     ;
24921                            7536     JMP01\@:                                                        ;
24922                            7537             MOV.L   #\IMD,\REG1                                     ;
24923                            7538             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
24924                            7539             BT      JMP02\@                                         ;DATA=<MAX
24925                            7540             MOV.W   #\ERRBIT,R0                                     ;
24926                            7541     JMP02\@:                                                        ;
24927                            7542     
24928                            7543             .ENDM
24929                            7544     
24930                            7545     ;       ---2005-04-14-E(4/18)
24931                            7546             .MACRO REST_PLSCMP2_ERRCHK2 REG1,REG2,IMD,ERRBIT,CNT_ADR,CNT_MAX;
24932                            7547             XOR     R0,R0                                           ;
24933                            7548             SUB     \REG1,\REG2                                     ;
24934                            7549             CMP/PZ  \REG2                                           ;
24935                            7550             BT      JMP01\@                                         ;DATA=<MAX
24936                            7551             NEG     \REG2,\REG2                                     ;
24937                            7552     JMP01\@:                                                        ;
24938                            7553             MOV.L   #\IMD,\REG1                                     ;
24939                            7554             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
24940                            7555             BT      JMP02\@                                         ;DATA=<MAX
24941                            7556             MOV.L   #\CNT_ADR,\REG1                                 ;
24942                            7557             MOV.W   @\REG1,R0                                       ;CNT+1
24943                            7558             ADD     #1,R0                                           ;
24944                            7559             MOV.W   R0,@\REG1                                       ;
24945                            7560             MOV.W   #\CNT_MAX,\REG1                                 ;
24946                            7561             CMP/HS  \REG1,R0                                        ;MAX =< R0
24947                            7562             BF      JMP03\@                                         ;
24948                            7563             MOV.W   #\ERRBIT,R0                                     ;
24949                            7564             M_BRA   JMP04\@                                         ;ERR
24950                            7565     JMP02\@:                                                        ;
24951                            7566             XOR     R0,R0                                           ;
24952                            7567             MOV.L   #\CNT_ADR,\REG1                                 ;
24953                            7568             MOV.W   R0,@\REG1                                       ;0CLR + ANS=0
24954                            7569     JMP03\@:                                                        ;
24955                            7570             XOR     R0,R0                                           ;
24956                            7571     JMP04\@:                                                        ;
24957                            7572             .ENDM
24958                            7573     
24959                            7574     
24960                            7575     
24961                            7576     
24962                            7577     
24963                            7578     
24964                            7579     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   336
PROGRAM NAME =

24965                            7580     
24966                            7581     
24967                            7582     
24968                            7583     
24969                            7584     ;       ***********************************
24970                            7585     ;       ***     ﾊﾞｯｸｱｯﾌﾟ条件ﾁｪｯｸ        ***
24971                            7586     ;       ***     非常停止の中で呼ばれる  ***
24972                            7587     ;       ***********************************
24973                            7588             .EXPORT _ERR_INFO_BAKUP_START
24974                            7589     
24975                            7590     
24976                            7591     
24977 00005014                   7592             .ALIGN  4                               ;
24978 00005014                   7593     _ERR_INFO_BAKUP_START
24979                            7594             SUB_START
24980 00005014 4F22                   M           STS.L   PR,@-R15                ;[必要]
24981                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24982 00005016 D107              7595             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24983 00005018 6011              7596             MOV.W   @R1,R0                          ;
24984 0000501A 2008              7597             TST     R0,R0                           ;
24985                            7598             TST_BIT_ON ERR_INFO_BAKUP_ST_END        ;
24986 0000501C 8B07                   M           BF      ERR_INFO_BAKUP_ST_END
24987                            7599             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_LATCH,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-LA
                                          TCH
24988 0000501E D105                   M           MOV.L   #_ERR_INFO_SAVE_LATCH,R1                ;
24989 00005020 6011                   M           MOV.W   @R1,R0          ;
24990 00005022 CB01                   M           OR      #BIT0,R0                ;
24991 00005024 2101                   M           MOV.W   R0,@R1          ;
24992                            7600             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-STAR
                                          T
24993 00005026 D104                   M           MOV.L   #_ERR_INFO_SAVE_FLG,R1          ;
24994 00005028 6011                   M           MOV.W   @R1,R0          ;
24995 0000502A CB01                   M           OR      #BIT0,R0                ;
24996 0000502C 2101                   M           MOV.W   R0,@R1          ;
24997                            7601     
24998                            7602     
24999 0000502E                   7603     ERR_INFO_BAKUP_ST_END
25000                            7604             SUB_END
25001                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25002 0000502E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25003                            7605             M_RTS
25004 00005030 000B                   M           RTS                             ;RTSの後ろの
25005 00005032 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25006                            7606     
25007                            7607             .EXPORT         _ERR_INFO_RST_CLR
25008                                     ***** BEGIN-POOL *****
25009 00005034 00000000                   DATA FOR SOURCE-LINE 7595,7599
25010 00005038 00000000                   DATA FOR SOURCE-LINE 7600
25011                                     ***** END-POOL *****
25012 0000503C                   7608             .ALIGN  4                               ;
25013 0000503C                   7609     _ERR_INFO_RST_CLR:
25014                            7610             SUB_START
25015 0000503C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25016                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25017                            7611             FAR_JSR #_ERR_INFO_WK_CLR,R0
25018 0000503E D005                   M           MOV.L   #_ERR_INFO_WK_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25019 00005040 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   337
PROGRAM NAME =

25020 00005042 0009                   M           NOP                                     ;
25021                            7612     
25022 00005044 200A              7613             XOR     R0,R0
25023 00005046 D104              7614             MOV.L   #_ERR_INFO_SAVE_FLG,R1
25024 00005048 2101              7615             MOV.W   R0,@R1                          ;
25025                            7616     
25026 0000504A D104              7617             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25027 0000504C 2101              7618             MOV.W   R0,@R1                          ;
25028                            7619             SUB_END
25029                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25030 0000504E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25031                            7620             M_RTS
25032 00005050 000B                   M           RTS                             ;RTSの後ろの
25033 00005052 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25034                            7621     
25035                            7622     ;       ***************************
25036                            7623     ;       ***                     ***
25037                            7624     ;       ***                     ***
25038                            7625     ;       ***                     ***
25039                            7626     ;       ***************************
25040                                     ***** BEGIN-POOL *****
25041 00005054 00000000                   DATA FOR SOURCE-LINE 7611
25042 00005058 00000000                   DATA FOR SOURCE-LINE 7614
25043 0000505C 00000000                   DATA FOR SOURCE-LINE 7617
25044                                     ***** END-POOL *****
25045 00005060                   7627             .ALIGN  4                               ;
25046 00005060                   7628     _ERR_INFO_WK_CLR:
25047                            7629             SUB_START
25048 00005060 4F22                   M           STS.L   PR,@-R15                ;[必要]
25049                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25050 00005062 200A              7630             XOR     R0,R0
25051 00005064 D107              7631             MOV.L   #_WK_ERR_INFO_CPU_TOP,R1
25052 00005066 920B              7632             MOV.W   #_CB_ERR_INFO_MEM/4,R2          ;
25053                            7633     
25054 00005068                   7634     ERR_INFO_WKCLR_LOP:
25055 00005068 2102              7635             MOV.L   R0,@R1                          ;
25056 0000506A 7104              7636             ADD     #4,R1                           ;
25057 0000506C 72FF              7637             ADD     #-1,R2                          ;
25058 0000506E 2228              7638             TST     R2,R2                           ;
25059                            7639             TST_BIT_ON ERR_INFO_WKCLR_LOP           ;
25060 00005070 8BFA                   M           BF      ERR_INFO_WKCLR_LOP
25061                            7640     
25062                            7641     ;       ------- 2010-10-25---
25063 00005072 D105              7642             MOV.L   #_CHK_ADD_DATA_LATCH,R1         ;
25064 00005074 2102              7643             MOV.L   R0,@R1                          ;
25065 00005076 7104              7644             ADD     #4,R1                           ;
25066 00005078 2102              7645             MOV.L   R0,@R1                          ;
25067                            7646     
25068                            7647             SUB_END
25069                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25070 0000507A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25071                            7648             M_RTS
25072 0000507C 000B                   M           RTS                             ;RTSの後ろの
25073 0000507E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25074                            7649     
25075                            7650     ;       ***********************************
25076                            7651     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   338
PROGRAM NAME =

25077                            7652     ;       ***     １つだけ                ***
25078                            7653     ;       ***     自分の情報を相手に送り  ***
25079                            7654     ;       ***     相手の情報を取り込む    ***
25080                            7655     ;       ***     ﾃﾞｰﾀｸﾞﾗﾌを作成          ***
25081                            7656     ;       ***                             ***
25082                            7657     ;       ***********************************
25083                                     ***** BEGIN-POOL *****
25084 00005080 0020                       DATA FOR SOURCE-LINE 7632
25085 00005082 0000                       ALIGNMENT CODE
25086 00005084 00000000                   DATA FOR SOURCE-LINE 7631
25087 00005088 00000000                   DATA FOR SOURCE-LINE 7642
25088                                     ***** END-POOL *****
25089 0000508C                   7658             .ALIGN  4                               ;
25090 0000508C                   7659     _CHG_STEP_INFO_MAKE_STEP_DAT:
25091                            7660             SUB_START
25092 0000508C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25093                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25094                            7661             PUSH_REG1 R0
25095 0000508E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25096                                 M                                           ;REG=>[SP]
25097                                 M                                           ;"-4" FF,FF,FF,FC
25098                            7662             PUSH_REG1 R1
25099 00005090 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25100                                 M                                           ;REG=>[SP]
25101                                 M                                           ;"-4" FF,FF,FF,FC
25102                            7663             PUSH_REG1 R2
25103 00005092 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25104                                 M                                           ;REG=>[SP]
25105                                 M                                           ;"-4" FF,FF,FF,FC
25106                            7664             PUSH_REG1 R3
25107 00005094 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25108                                 M                                           ;REG=>[SP]
25109                                 M                                           ;"-4" FF,FF,FF,FC
25110                            7665             PUSH_REG1 R4
25111 00005096 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
25112                                 M                                           ;REG=>[SP]
25113                                 M                                           ;"-4" FF,FF,FF,FC
25114                            7666             FAR_JSR #_LOAD_FREQ_PLS,R0
25115 00005098 D015                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25116 0000509A 400B                   M           JSR     @R0                     ;
25117 0000509C 0009                   M           NOP                                     ;
25118 0000509E D115              7667             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25119 000050A0 2101              7668             MOV.W   R0,@R1
                                          ;
25120                            7669             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP_SV_PLS       ,L
                                          ,R1,R2,R3       ;
25121 000050A2 D115                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25122 000050A4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25123 000050A6 D315                   M           MOV.L   #_SH4_STEP_SV_PLS,R3    ;DST_ADR
25124 000050A8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25125                            7670             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP_PV_PLS       ,L
                                          ,R1,R2,R3       ;
25126 000050AA D115                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25127 000050AC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25128 000050AE D315                   M           MOV.L   #_SH4_STEP_PV_PLS,R3    ;DST_ADR
25129 000050B0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   339
PROGRAM NAME =

25130                            7671             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP_REST_P       ,L
                                          ,R1,R2,R3       ;
25131 000050B2 D115                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25132 000050B4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25133 000050B6 D315                   M           MOV.L   #_SH4_STEP_REST_P,R3    ;DST_ADR
25134 000050B8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25135                            7672             MEM_MOV_TO_MEM  _LNGTH_TOTAL_OUTPLS             ,L      ,_SH4_TOTAL_PLS ,L,R1,R2,R
                                          3       ;
25136 000050BA D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1
25137 000050BC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25138 000050BE D315                   M           MOV.L   #_SH4_TOTAL_PLS,R3      ;DST_ADR
25139 000050C0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25140                            7673     ;;      MEM_MOV_TO_MEM  _IN_POS_GPOINT_POS              ,L      ,_SH4_ADD_PLS           ,L
                                          ,R1,R2,R3       ;
25141                            7674     
25142                            7675             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP_FRQ          ,W
                                          ,R1,R2,R3       ;
25143 000050C2 D10C                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25144 000050C4 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25145 000050C6 D314                   M           MOV.L   #_SH4_STEP_FRQ,R3       ;DST_ADR
25146 000050C8 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25147                            7676             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP_TIM          ,W
                                          ,R1,R2,R3       ;
25148 000050CA D114                   M           MOV.L   #_CPU_CTRL_CLK,R1
25149 000050CC 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25150 000050CE D314                   M           MOV.L   #_SH4_STEP_TIM,R3       ;DST_ADR
25151 000050D0 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25152                            7677             MEM_MOV_TO_MEM  _INT_POS_CTL_STEP               ,W      ,_SH4_NOW_STEP          ,W
                                          ,R1,R2,R3       ;
25153 000050D2 D114                   M           MOV.L   #_INT_POS_CTL_STEP,R1
25154 000050D4 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25155 000050D6 D314                   M           MOV.L   #_SH4_NOW_STEP,R3       ;DST_ADR
25156 000050D8 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25157                            7678     
25158                            7679             FAR_JSR #_DATA_GRF_CNT_DATA_MAKE,R0
25159 000050DA D014                   M           MOV.L   #_DATA_GRF_CNT_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25160 000050DC 400B                   M           JSR     @R0                     ;
25161 000050DE 0009                   M           NOP                                     ;
25162                            7680             POP_REG1 R4
25163                                 M                                   ; RE"+4" 00,00,00,04
25164 000050E0 64F6                   M           MOV.L   @R15+,R4        ;
25165                            7681             POP_REG1 R3
25166                                 M                                   ; RE"+4" 00,00,00,04
25167 000050E2 63F6                   M           MOV.L   @R15+,R3        ;
25168                            7682             POP_REG1 R2
25169                                 M                                   ; RE"+4" 00,00,00,04
25170 000050E4 62F6                   M           MOV.L   @R15+,R2        ;
25171                            7683             POP_REG1 R1
25172                                 M                                   ; RE"+4" 00,00,00,04
25173 000050E6 61F6                   M           MOV.L   @R15+,R1        ;
25174                            7684             POP_REG1 R0
25175                                 M                                   ; RE"+4" 00,00,00,04
25176 000050E8 60F6                   M           MOV.L   @R15+,R0        ;
25177                            7685             SUB_END
25178                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25179 000050EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25180                            7686             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   340
PROGRAM NAME =

25181 000050EC 000B                   M           RTS                             ;RTSの後ろの
25182 000050EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25183                            7687     
25184                            7688     ;       ***********************************
25185                            7689     ;       ***     連続の行程切り替わり    ***
25186                            7690     ;       ***********************************
25187                            7691     ;       行程3->1のときの演算前のﾃﾞｰﾀ を4へ
25188                            7692     ;       ﾓﾆﾀ用
25189                                     ***** BEGIN-POOL *****
25190 000050F0 00000000                   DATA FOR SOURCE-LINE 7666
25191 000050F4 00000000                   DATA FOR SOURCE-LINE 7667,7675
25192 000050F8 00000000                   DATA FOR SOURCE-LINE 7669
25193 000050FC 00000000                   DATA FOR SOURCE-LINE 7669
25194 00005100 00000000                   DATA FOR SOURCE-LINE 7670
25195 00005104 00000000                   DATA FOR SOURCE-LINE 7670
25196 00005108 00000000                   DATA FOR SOURCE-LINE 7671
25197 0000510C 00000000                   DATA FOR SOURCE-LINE 7671
25198 00005110 00000000                   DATA FOR SOURCE-LINE 7672
25199 00005114 00000000                   DATA FOR SOURCE-LINE 7672
25200 00005118 00000000                   DATA FOR SOURCE-LINE 7675
25201 0000511C 00000000                   DATA FOR SOURCE-LINE 7676
25202 00005120 00000000                   DATA FOR SOURCE-LINE 7676
25203 00005124 00000000                   DATA FOR SOURCE-LINE 7677
25204 00005128 00000000                   DATA FOR SOURCE-LINE 7677
25205 0000512C 00000000                   DATA FOR SOURCE-LINE 7679
25206                                     ***** END-POOL *****
25207 00005130                   7693             .ALIGN  4                               ;
25208 00005130                   7694     _CHG_STEP_INFO_MAKE_ESTEP_BEFOR
25209                            7695             SUB_START
25210 00005130 4F22                   M           STS.L   PR,@-R15                ;[必要]
25211                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25212                            7696             PUSH_REG1 R0
25213 00005132 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25214                                 M                                           ;REG=>[SP]
25215                                 M                                           ;"-4" FF,FF,FF,FC
25216                            7697             PUSH_REG1 R1
25217 00005134 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25218                                 M                                           ;REG=>[SP]
25219                                 M                                           ;"-4" FF,FF,FF,FC
25220                            7698             PUSH_REG1 R2
25221 00005136 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25222                                 M                                           ;REG=>[SP]
25223                                 M                                           ;"-4" FF,FF,FF,FC
25224                            7699             PUSH_REG1 R3
25225 00005138 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25226                                 M                                           ;REG=>[SP]
25227                                 M                                           ;"-4" FF,FF,FF,FC
25228                            7700             FAR_JSR #_LOAD_FREQ_PLS,R0
25229 0000513A D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25230 0000513C 400B                   M           JSR     @R0                     ;
25231 0000513E 0009                   M           NOP                                     ;
25232 00005140 D10F              7701             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25233 00005142 2101              7702             MOV.W   R0,@R1
                                          ;
25234                            7703             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP4_SV_PLS      ,L
                                          ,R1,R2,R3       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   341
PROGRAM NAME =

25235 00005144 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25236 00005146 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25237 00005148 D30F                   M           MOV.L   #_SH4_STEP4_SV_PLS,R3   ;DST_ADR
25238 0000514A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25239                            7704             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP4_PV_PLS      ,L
                                          ,R1,R2,R3;
25240 0000514C D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25241 0000514E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25242 00005150 D30F                   M           MOV.L   #_SH4_STEP4_PV_PLS,R3   ;DST_ADR
25243 00005152 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25244                            7705             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP4_REST_P      ,L
                                          ,R1,R2,R3;
25245 00005154 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25246 00005156 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25247 00005158 D30F                   M           MOV.L   #_SH4_STEP4_REST_P,R3   ;DST_ADR
25248 0000515A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25249                            7706             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP4_FRQ ,W,R1,R2,R
                                          3;
25250 0000515C D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25251 0000515E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25252 00005160 D30E                   M           MOV.L   #_SH4_STEP4_FRQ,R3      ;DST_ADR
25253 00005162 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25254                            7707             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP4_TIM ,W,R1,R2,R
                                          3;
25255 00005164 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25256 00005166 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25257 00005168 D30E                   M           MOV.L   #_SH4_STEP4_TIM,R3      ;DST_ADR
25258 0000516A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25259                            7708     
25260                            7709             POP_REG1 R3
25261                                 M                                   ; RE"+4" 00,00,00,04
25262 0000516C 63F6                   M           MOV.L   @R15+,R3        ;
25263                            7710             POP_REG1 R2
25264                                 M                                   ; RE"+4" 00,00,00,04
25265 0000516E 62F6                   M           MOV.L   @R15+,R2        ;
25266                            7711             POP_REG1 R1
25267                                 M                                   ; RE"+4" 00,00,00,04
25268 00005170 61F6                   M           MOV.L   @R15+,R1        ;
25269                            7712             POP_REG1 R0
25270                                 M                                   ; RE"+4" 00,00,00,04
25271 00005172 60F6                   M           MOV.L   @R15+,R0        ;
25272                            7713             SUB_END
25273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25274 00005174 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25275                            7714             M_RTS
25276 00005176 000B                   M           RTS                             ;RTSの後ろの
25277 00005178 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25278                            7715     
25279                            7716     ;       行程3->1のときの演算後のﾃﾞｰﾀ を1へ
25280                                     ***** BEGIN-POOL *****
25281 0000517A 0000                       ALIGNMENT CODE
25282 0000517C 00000000                   DATA FOR SOURCE-LINE 7700
25283 00005180 00000000                   DATA FOR SOURCE-LINE 7701,7706
25284 00005184 00000000                   DATA FOR SOURCE-LINE 7703
25285 00005188 00000000                   DATA FOR SOURCE-LINE 7703
25286 0000518C 00000000                   DATA FOR SOURCE-LINE 7704
25287 00005190 00000000                   DATA FOR SOURCE-LINE 7704
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   342
PROGRAM NAME =

25288 00005194 00000000                   DATA FOR SOURCE-LINE 7705
25289 00005198 00000000                   DATA FOR SOURCE-LINE 7705
25290 0000519C 00000000                   DATA FOR SOURCE-LINE 7706
25291 000051A0 00000000                   DATA FOR SOURCE-LINE 7707
25292 000051A4 00000000                   DATA FOR SOURCE-LINE 7707
25293                                     ***** END-POOL *****
25294 000051A8                   7717             .ALIGN  4                               ;
25295 000051A8                   7718     _CHG_STEP_INFO_MAKE_ESTEP_AFTER
25296                            7719             SUB_START
25297 000051A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
25298                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25299                            7720             PUSH_REG1 R0
25300 000051AA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25301                                 M                                           ;REG=>[SP]
25302                                 M                                           ;"-4" FF,FF,FF,FC
25303                            7721             PUSH_REG1 R1
25304 000051AC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25305                                 M                                           ;REG=>[SP]
25306                                 M                                           ;"-4" FF,FF,FF,FC
25307                            7722             PUSH_REG1 R2
25308 000051AE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25309                                 M                                           ;REG=>[SP]
25310                                 M                                           ;"-4" FF,FF,FF,FC
25311                            7723             PUSH_REG1 R3
25312 000051B0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25313                                 M                                           ;REG=>[SP]
25314                                 M                                           ;"-4" FF,FF,FF,FC
25315                            7724             FAR_JSR #_LOAD_FREQ_PLS,R0
25316 000051B2 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25317 000051B4 400B                   M           JSR     @R0                     ;
25318 000051B6 0009                   M           NOP                                     ;
25319 000051B8 D10F              7725             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25320 000051BA 2101              7726             MOV.W   R0,@R1
                                          ;
25321                            7727             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP1_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25322 000051BC D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25323 000051BE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25324 000051C0 D30F                   M           MOV.L   #_SH4_STEP1_SV_PLS,R3   ;DST_ADR
25325 000051C2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25326                            7728             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP1_PV_PLS      ,L,R1,R2,R
                                          3;
25327 000051C4 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25328 000051C6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25329 000051C8 D30F                   M           MOV.L   #_SH4_STEP1_PV_PLS,R3   ;DST_ADR
25330 000051CA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25331                            7729             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP1_REST_P      ,L
                                          ,R1,R2,R3;
25332 000051CC D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25333 000051CE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25334 000051D0 D30F                   M           MOV.L   #_SH4_STEP1_REST_P,R3   ;DST_ADR
25335 000051D2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25336                            7730             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP1_FRQ ,W,R1,R2,R
                                          3;
25337 000051D4 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25338 000051D6 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   343
PROGRAM NAME =

25339 000051D8 D30E                   M           MOV.L   #_SH4_STEP1_FRQ,R3      ;DST_ADR
25340 000051DA 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25341                            7731             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP1_TIM ,W,R1,R2,R
                                          3;
25342 000051DC D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25343 000051DE 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25344 000051E0 D30E                   M           MOV.L   #_SH4_STEP1_TIM,R3      ;DST_ADR
25345 000051E2 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25346                            7732     
25347                            7733             POP_REG1 R3
25348                                 M                                   ; RE"+4" 00,00,00,04
25349 000051E4 63F6                   M           MOV.L   @R15+,R3        ;
25350                            7734             POP_REG1 R2
25351                                 M                                   ; RE"+4" 00,00,00,04
25352 000051E6 62F6                   M           MOV.L   @R15+,R2        ;
25353                            7735             POP_REG1 R1
25354                                 M                                   ; RE"+4" 00,00,00,04
25355 000051E8 61F6                   M           MOV.L   @R15+,R1        ;
25356                            7736             POP_REG1 R0
25357                                 M                                   ; RE"+4" 00,00,00,04
25358 000051EA 60F6                   M           MOV.L   @R15+,R0        ;
25359                            7737             SUB_END
25360                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25361 000051EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25362                            7738             M_RTS
25363 000051EE 000B                   M           RTS                             ;RTSの後ろの
25364 000051F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25365                            7739     
25366                            7740     
25367                            7741     ;       ***********************************
25368                            7742     ;       ***                             ***
25369                            7743     ;       ***********************************
25370                                     ***** BEGIN-POOL *****
25371 000051F2 0000                       ALIGNMENT CODE
25372 000051F4 00000000                   DATA FOR SOURCE-LINE 7724
25373 000051F8 00000000                   DATA FOR SOURCE-LINE 7725,7730
25374 000051FC 00000000                   DATA FOR SOURCE-LINE 7727
25375 00005200 00000000                   DATA FOR SOURCE-LINE 7727
25376 00005204 00000000                   DATA FOR SOURCE-LINE 7728
25377 00005208 00000000                   DATA FOR SOURCE-LINE 7728
25378 0000520C 00000000                   DATA FOR SOURCE-LINE 7729
25379 00005210 00000000                   DATA FOR SOURCE-LINE 7729
25380 00005214 00000000                   DATA FOR SOURCE-LINE 7730
25381 00005218 00000000                   DATA FOR SOURCE-LINE 7731
25382 0000521C 00000000                   DATA FOR SOURCE-LINE 7731
25383                                     ***** END-POOL *****
25384 00005220                   7744             .ALIGN  4                               ;
25385 00005220                   7745     _CHG_STEP_INFO_MAKE_STEP_END:
25386                            7746             SUB_START
25387 00005220 4F22                   M           STS.L   PR,@-R15                ;[必要]
25388                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25389                            7747             PUSH_REG1 R0
25390 00005222 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25391                                 M                                           ;REG=>[SP]
25392                                 M                                           ;"-4" FF,FF,FF,FC
25393                            7748             PUSH_REG1 R1
25394 00005224 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   344
PROGRAM NAME =

25395                                 M                                           ;REG=>[SP]
25396                                 M                                           ;"-4" FF,FF,FF,FC
25397 00005226 D104              7749             MOV.L   #_INT_POS_CTL_STEP,R1           ;
25398 00005228 6011              7750             MOV.W   @R1,R0                          ;
25399 0000522A 8802              7751             CMP/EQ  #2,R0                           ;
25400 0000522C 8B08              7752             BF      CHG_STEP_INFO_MAKSTP_END_010    ;
25401                            7753             FAR_JSR #_CHG_STEP_INFO_MAKE_1STEP_END,R0
25402 0000522E D003                   M           MOV.L   #_CHG_STEP_INFO_MAKE_1STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25403 00005230 400B                   M           JSR     @R0                     ;
25404 00005232 0009                   M           NOP                                     ;
25405                            7754             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT
25406 00005234 A00E                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25407 00005236 0009                   M           NOP
25408                            7755     
25409                                     ***** BEGIN-POOL *****
25410 00005238 00000000                   DATA FOR SOURCE-LINE 7749
25411 0000523C 00000000                   DATA FOR SOURCE-LINE 7753
25412                                     ***** END-POOL *****
25413 00005240                   7756     CHG_STEP_INFO_MAKSTP_END_010:
25414 00005240 8803              7757             CMP/EQ  #3,R0                                   ;
25415 00005242 8B07              7758             BF      CHG_STEP_INFO_MAKSTP_END_020            ;
25416                            7759             FAR_JSR #_CHG_STEP_INFO_MAKE_2STEP_END,R0       ;
25417 00005244 D002                   M           MOV.L   #_CHG_STEP_INFO_MAKE_2STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25418 00005246 400B                   M           JSR     @R0                     ;
25419 00005248 0009                   M           NOP                                     ;
25420                            7760             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT            ;
25421 0000524A A003                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25422 0000524C 0009                   M           NOP
25423                                     ***** BEGIN-POOL *****
25424 0000524E 0000                       ALIGNMENT CODE
25425 00005250 00000000                   DATA FOR SOURCE-LINE 7759
25426                                     ***** END-POOL *****
25427 00005254                   7761     CHG_STEP_INFO_MAKSTP_END_020:
25428                            7762     
25429 00005254                   7763     CHG_STEP_INFO_MAKSTP_END_EXT:
25430                            7764             POP_REG1 R1
25431                                 M                                   ; RE"+4" 00,00,00,04
25432 00005254 61F6                   M           MOV.L   @R15+,R1        ;
25433                            7765             POP_REG1 R0
25434                                 M                                   ; RE"+4" 00,00,00,04
25435 00005256 60F6                   M           MOV.L   @R15+,R0        ;
25436                            7766             SUB_END
25437                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25438 00005258 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25439                            7767             M_RTS
25440 0000525A 000B                   M           RTS                             ;RTSの後ろの
25441 0000525C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25442                            7768     
25443                            7769     
25444                            7770     ;       === 1->2 1の情報を2へ==
25445 00005260                   7771             .ALIGN  4                               ;
25446 00005260                   7772     _CHG_STEP_INFO_MAKE_1STEP_END
25447                            7773             SUB_START
25448 00005260 4F22                   M           STS.L   PR,@-R15                ;[必要]
25449                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25450                            7774             PUSH_REG1 R0
25451 00005262 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   345
PROGRAM NAME =

25452                                 M                                           ;REG=>[SP]
25453                                 M                                           ;"-4" FF,FF,FF,FC
25454                            7775             PUSH_REG1 R1
25455 00005264 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25456                                 M                                           ;REG=>[SP]
25457                                 M                                           ;"-4" FF,FF,FF,FC
25458                            7776             PUSH_REG1 R2
25459 00005266 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25460                                 M                                           ;REG=>[SP]
25461                                 M                                           ;"-4" FF,FF,FF,FC
25462                            7777             PUSH_REG1 R3
25463 00005268 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25464                                 M                                           ;REG=>[SP]
25465                                 M                                           ;"-4" FF,FF,FF,FC
25466                            7778             FAR_JSR #_LOAD_FREQ_PLS,R0
25467 0000526A D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25468 0000526C 400B                   M           JSR     @R0                     ;
25469 0000526E 0009                   M           NOP                                     ;
25470 00005270 D10F              7779             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25471 00005272 2101              7780             MOV.W   R0,@R1
                                          ;
25472                            7781             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP2_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25473 00005274 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25474 00005276 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25475 00005278 D30F                   M           MOV.L   #_SH4_STEP2_SV_PLS,R3   ;DST_ADR
25476 0000527A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25477                            7782             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP2_PV_PLS      ,L
                                          ,R1,R2,R3       ;
25478 0000527C D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25479 0000527E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25480 00005280 D30F                   M           MOV.L   #_SH4_STEP2_PV_PLS,R3   ;DST_ADR
25481 00005282 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25482                            7783             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP2_REST_P      ,L
                                          ,R1,R2,R3       ;
25483 00005284 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25484 00005286 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25485 00005288 D30F                   M           MOV.L   #_SH4_STEP2_REST_P,R3   ;DST_ADR
25486 0000528A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25487                            7784             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP2_FRQ ,W,R1,R2,R
                                          3       ;
25488 0000528C D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25489 0000528E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25490 00005290 D30E                   M           MOV.L   #_SH4_STEP2_FRQ,R3      ;DST_ADR
25491 00005292 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25492                            7785             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP2_TIM ,W,R1,R2,R
                                          3       ;
25493 00005294 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25494 00005296 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25495 00005298 D30E                   M           MOV.L   #_SH4_STEP2_TIM,R3      ;DST_ADR
25496 0000529A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25497                            7786             POP_REG1 R3
25498                                 M                                   ; RE"+4" 00,00,00,04
25499 0000529C 63F6                   M           MOV.L   @R15+,R3        ;
25500                            7787             POP_REG1 R2
25501                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   346
PROGRAM NAME =

25502 0000529E 62F6                   M           MOV.L   @R15+,R2        ;
25503                            7788             POP_REG1 R1
25504                                 M                                   ; RE"+4" 00,00,00,04
25505 000052A0 61F6                   M           MOV.L   @R15+,R1        ;
25506                            7789             POP_REG1 R0
25507                                 M                                   ; RE"+4" 00,00,00,04
25508 000052A2 60F6                   M           MOV.L   @R15+,R0        ;
25509                            7790             SUB_END
25510                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25511 000052A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25512                            7791             M_RTS
25513 000052A6 000B                   M           RTS                             ;RTSの後ろの
25514 000052A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25515                            7792     
25516                            7793     ;       === 2->3 3の情報 ==
25517                                     ***** BEGIN-POOL *****
25518 000052AA 0000                       ALIGNMENT CODE
25519 000052AC 00000000                   DATA FOR SOURCE-LINE 7778
25520 000052B0 00000000                   DATA FOR SOURCE-LINE 7779,7784
25521 000052B4 00000000                   DATA FOR SOURCE-LINE 7781
25522 000052B8 00000000                   DATA FOR SOURCE-LINE 7781
25523 000052BC 00000000                   DATA FOR SOURCE-LINE 7782
25524 000052C0 00000000                   DATA FOR SOURCE-LINE 7782
25525 000052C4 00000000                   DATA FOR SOURCE-LINE 7783
25526 000052C8 00000000                   DATA FOR SOURCE-LINE 7783
25527 000052CC 00000000                   DATA FOR SOURCE-LINE 7784
25528 000052D0 00000000                   DATA FOR SOURCE-LINE 7785
25529 000052D4 00000000                   DATA FOR SOURCE-LINE 7785
25530                                     ***** END-POOL *****
25531 000052D8                   7794             .ALIGN  4                               ;
25532 000052D8                   7795     _CHG_STEP_INFO_MAKE_2STEP_END
25533                            7796             SUB_START
25534 000052D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
25535                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25536                            7797             PUSH_REG1 R0
25537 000052DA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25538                                 M                                           ;REG=>[SP]
25539                                 M                                           ;"-4" FF,FF,FF,FC
25540                            7798             PUSH_REG1 R1
25541 000052DC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25542                                 M                                           ;REG=>[SP]
25543                                 M                                           ;"-4" FF,FF,FF,FC
25544                            7799             PUSH_REG1 R2
25545 000052DE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25546                                 M                                           ;REG=>[SP]
25547                                 M                                           ;"-4" FF,FF,FF,FC
25548                            7800             PUSH_REG1 R3
25549 000052E0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25550                                 M                                           ;REG=>[SP]
25551                                 M                                           ;"-4" FF,FF,FF,FC
25552                            7801             FAR_JSR #_LOAD_FREQ_PLS,R0
25553 000052E2 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25554 000052E4 400B                   M           JSR     @R0                     ;
25555 000052E6 0009                   M           NOP                                     ;
25556 000052E8 D10F              7802             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25557 000052EA 2101              7803             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   347
PROGRAM NAME =

                                          ;
25558                            7804             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP3_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25559 000052EC D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25560 000052EE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25561 000052F0 D30F                   M           MOV.L   #_SH4_STEP3_SV_PLS,R3   ;DST_ADR
25562 000052F2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25563                            7805             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP3_PV_PLS      ,L,R1,R2,R
                                          3       ;
25564 000052F4 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25565 000052F6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25566 000052F8 D30F                   M           MOV.L   #_SH4_STEP3_PV_PLS,R3   ;DST_ADR
25567 000052FA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25568                            7806             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP3_REST_P      ,L
                                          ,R1,R2,R3       ;
25569 000052FC D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25570 000052FE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25571 00005300 D30F                   M           MOV.L   #_SH4_STEP3_REST_P,R3   ;DST_ADR
25572 00005302 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25573                            7807             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP3_FRQ ,W,R1,R2,R
                                          3       ;
25574 00005304 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25575 00005306 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25576 00005308 D30E                   M           MOV.L   #_SH4_STEP3_FRQ,R3      ;DST_ADR
25577 0000530A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25578                            7808             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP3_TIM ,W,R1,R2,R
                                          3       ;
25579 0000530C D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25580 0000530E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25581 00005310 D30E                   M           MOV.L   #_SH4_STEP3_TIM,R3      ;DST_ADR
25582 00005312 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25583                            7809     
25584                            7810             POP_REG1 R3
25585                                 M                                   ; RE"+4" 00,00,00,04
25586 00005314 63F6                   M           MOV.L   @R15+,R3        ;
25587                            7811             POP_REG1 R2
25588                                 M                                   ; RE"+4" 00,00,00,04
25589 00005316 62F6                   M           MOV.L   @R15+,R2        ;
25590                            7812             POP_REG1 R1
25591                                 M                                   ; RE"+4" 00,00,00,04
25592 00005318 61F6                   M           MOV.L   @R15+,R1        ;
25593                            7813             POP_REG1 R0
25594                                 M                                   ; RE"+4" 00,00,00,04
25595 0000531A 60F6                   M           MOV.L   @R15+,R0        ;
25596                            7814             SUB_END
25597                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25598 0000531C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25599                            7815             M_RTS
25600 0000531E 000B                   M           RTS                             ;RTSの後ろの
25601 00005320 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25602                            7816     
25603                            7817     
25604                            7818     
25605                            7819             .EXPORT _MONI_CHG_PROC1
25606                                     ***** BEGIN-POOL *****
25607 00005322 0000                       ALIGNMENT CODE
25608 00005324 00000000                   DATA FOR SOURCE-LINE 7801
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   348
PROGRAM NAME =

25609 00005328 00000000                   DATA FOR SOURCE-LINE 7802,7807
25610 0000532C 00000000                   DATA FOR SOURCE-LINE 7804
25611 00005330 00000000                   DATA FOR SOURCE-LINE 7804
25612 00005334 00000000                   DATA FOR SOURCE-LINE 7805
25613 00005338 00000000                   DATA FOR SOURCE-LINE 7805
25614 0000533C 00000000                   DATA FOR SOURCE-LINE 7806
25615 00005340 00000000                   DATA FOR SOURCE-LINE 7806
25616 00005344 00000000                   DATA FOR SOURCE-LINE 7807
25617 00005348 00000000                   DATA FOR SOURCE-LINE 7808
25618 0000534C 00000000                   DATA FOR SOURCE-LINE 7808
25619                                     ***** END-POOL *****
25620 00005350                   7820             .ALIGN  4                               ;
25621 00005350                   7821     _MONI_CHG_PROC1:
25622                            7822             SUB_START
25623 00005350 4F22                   M           STS.L   PR,@-R15                ;[必要]
25624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25625                            7823     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_REST_P       ,L,_PVP_MONALM_C01,L,R1,R2,H'3FFFFFF
25626                            7824     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_PV_PLS       ,L,_PVP_MONALM_C02,L,R1,R2,H'3FFFFFF
25627                            7825     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W,_PVP_MONALM_A01,W,R1,R2,R3;
25628                            7826     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W,_PVP_MONALM_A02,W,R1,R2,R3;
25629                            7827     
25630                            7828             SUB_END
25631                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25632 00005352 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25633                            7829             M_RTS
25634 00005354 000B                   M           RTS                             ;RTSの後ろの
25635 00005356 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25636                            7830     
25637                            7831     
25638                            7832     
25639                            7833     ;       ****************************
25640                            7834     ;       ***                     ****
25641                            7835     ;       ****************************
25642                            7836     
25643                            7837             .IMPORT _PVP_MONALM_C01
25644                            7838             .IMPORT _PVP_MONALM_C02
25645                            7839             .IMPORT _PVP_MONALM_C03
25646                            7840             .IMPORT _PVP_MONALM_C04
25647                            7841             .IMPORT _PVP_MONALM_C05
25648                            7842             .IMPORT _PVP_MONALM_C06
25649                            7843             .IMPORT _PVP_MONALM_C07
25650                            7844             .IMPORT _PVP_MONALM_C08
25651                            7845             .IMPORT _PVP_MONALM_A01
25652                            7846             .IMPORT _PVP_MONALM_A02
25653                            7847             .IMPORT _PVP_MONALM_A03
25654                            7848             .IMPORT _PVP_MONALM_A04
25655                            7849             .IMPORT _PVP_MONALM_A05
25656                            7850             .IMPORT _PVP_MONALM_A06
25657                            7851             .IMPORT _PVP_MONALM_A07
25658                            7852             .IMPORT _PVP_MONALM_A08
25659                            7853             .IMPORT _PVP_MONALM_B01
25660                            7854             .IMPORT _PVP_MONALM_B02
25661                            7855             .IMPORT _PVP_MONALM_B03
25662                            7856             .IMPORT _PVP_MONALM_B04
25663                            7857             .IMPORT _PVP_MONALM_B05
25664                            7858             .IMPORT _PVP_MONALM_B06
25665                            7859             .IMPORT _PVP_MONALM_B07
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   349
PROGRAM NAME =

25666                            7860             .IMPORT _PVP_MONALM_B08
25667                            7861     
25668                            7862             .IMPORT _PVP_MONALM_P01
25669                            7863             .IMPORT _PVP_MONALM_P02
25670                            7864             .IMPORT _PVP_MONALM_P03
25671                            7865             .IMPORT _PVP_MONALM_P04
25672                            7866     
25673                            7867     ;       ***********************************
25674                            7868     ;       ***     NO.15 ERR情報           ***
25675                            7869     ;       ***********************************
25676                            7870     ;;;;;;;;;;;;;;;;;;;
25677                            7871     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI
25678                            7872     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI2
25679                            7873     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
25680                            7874     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI:
25681                            7875     ;;;;;;;;;;;;;;;;;;;     SUB_START
25682                            7876     ;;;;;;;;;;;;;;;;;;;
25683                            7877     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
25684                            7878     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_INF1,W         ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
25685                            7879     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222
25686                            7880     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_RETRY_CNT1,W        ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗
25687                            7881     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_RETRY_CNT1,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ
25688                            7882     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_RETRY_CNT1,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;二重回路のﾘﾄﾗｲ
25689                            7883     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT1,L           ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;ﾘｾｯﾄｺﾏﾝﾄﾞ MISS
25690                            7884     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT2,L           ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;-500ﾊﾟﾙｽ
25691                            7885     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT3,L           ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;+500ﾊﾟﾙｽ
25692                            7886     ;;;;;;;;;;;;;;;;;;;
25693                            7887     ;;;;;;;;;;;;;;;;;;;
25694                            7888     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
25695                            7889     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSRD_NG_CNT1,W            ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3       ;
25696                            7890     ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
25697                            7891     ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02         ,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
25698                            7892     ;;;;;;;;;;;;;;;;;;;
25699                            7893     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT2,L           ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗　TOTAL
25700                            7894     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT1,L           ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ失敗 TOTAL
25701                            7895     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_NG_CNT1,W           ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;二重回路 TOTAL
25702                            7896     ;;;;;;;;;;;;;;;;;;;
25703                            7897     ;;;;;;;;;;;;;;;;;;;
25704                            7898     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_AC_CNT1,L           ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;起動正常回数
25705                            7899     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT2,L           ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;残り演算正常回数
25706                            7900     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_AC_CNT1,W           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;回路正常回数
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   350
PROGRAM NAME =

25707                            7901     ;;;;;;;;;;;;;;;;;;;;;   MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT1,L           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;(NO/USE)
25708                            7902     ;;;;;;;;;;;;;;;;;;;
25709                            7903     ;;;;;;;;;;;;;;;;;;;
25710                            7904     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
25711                            7905     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_LNGH_ADD_SR,L              ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
25712                            7906     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_LNGH_ADD_SR,L              ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
25713                            7907     ;;;;;;;;;;;;;;;;;;;
25714                            7908     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_SR,L              ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
25715                            7909     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_SR,L              ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
25716                            7910     ;;;;;;;;;;;;;;;;;;;
25717                            7911     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_RL,L              ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
25718                            7912     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_RL,L              ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
25719                            7913     ;;;;;;;;;;;;;;;;;;;
25720                            7914     ;;;;;;;;;;;;;;;;;;;
25721                            7915     ;;;;;;;;;;;;;;;;;;;;040304
25722                            7916     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POS_RL,L          ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,ABS
25723                            7917     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POSMAX,L          ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,+側だけ
25724                            7918     ;;;;;;;;;;;;;;;;;;;
25725                            7919     ;;;;;;;;;;;;;;;;;;;
25726                            7920     ;;;;;;;;;;;;;;;;;;;
25727                            7921     ;;;;;;;;;;;;;;;;;;;     SUB_END
25728                            7922     ;;;;;;;;;;;;;;;;;;;     M_RTS
25729                            7923     
25730                            7924     ;;;;;;;;;;;;;;;;;;;;    ***********************************
25731                            7925     ;;;;;;;;;;;;;;;;;;;;    ***     NO.16 ERR情報           ***
25732                            7926     ;;;;;;;;;;;;;;;;;;;;    ***********************************
25733                            7927     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
25734                            7928     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI2:
25735                            7929     ;;;;;;;;;;;;;;;;;;;     SUB_START
25736                            7930     ;;;;;;;;;;;;;;;;;;;
25737                            7931     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R1         ;
25738                            7932     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   @R1,R0                                          ;
25739                            7933     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_POS_CTRL_WORD_DAT,R1                          ;
25740                            7934     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   R0,@R1                                          ;
25741                            7935     ;;;;;;;;;;;;;;;;;;;
25742                            7936     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
25743                            7937     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
25744                            7938     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF2,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222(詳細)
25745                            7939     ;;;;;;;;;;;;;;;;;;;
25746                            7940     ;;;;;;;;;;;;;;;;;;;;;;  MEM_MOV_TO_MEM  _POS_CTRL_WORD_DAT,W            ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
25747                            7941     ;;;;;;;;;;;;;;;;;;;
25748                            7942     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_ACC_TOTAL_NG_CNT,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
25749                            7943     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_BAS_TOTAL_NG_CNT,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   351
PROGRAM NAME =

25750                            7944     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_TOP_TOTAL_NG_CNT,W        ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
25751                            7945     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_NOW_TOTAL_NG_CNT,W        ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
25752                            7946     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_LAT_TOTAL_NG_CNT,W        ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
25753                            7947     ;;;;;;;;;;;;;;;;;;;
25754                            7948     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
25755                            7949     ;;;;;;;;;;;;;;;;;;;
25756                            7950     ;;;;;;;;;;;;;;;;;;;
25757                            7951     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_ACCS,W                ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
25758                            7952     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_ACCS,W                ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
25759                            7953     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_LATE,W                ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
25760                            7954     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_LATE,W                ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
25761                            7955     ;;;;;;;;;;;;;;;;;;;
25762                            7956     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
25763                            7957     ;;;;;;;;;;;;;;;;;;;
25764                            7958     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_BAS_FRQ_SV,L               ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
25765                            7959     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_BAS_FRQ_SV,L               ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
25766                            7960     ;;;;;;;;;;;;;;;;;;;
25767                            7961     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_TOP_FRQ_SV,L               ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
25768                            7962     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_TOP_FRQ_SV,L               ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
25769                            7963     ;;;;;;;;;;;;;;;;;;;
25770                            7964     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_FRQ_PV,L               ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
25771                            7965     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_FRQ_PV,L               ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
25772                            7966     ;;;;;;;;;;;;;;;;;;;
25773                            7967     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_SV_SPD,L                  ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3;設定周波数(MEM)
25774                            7968     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_PLSI_MAX_FRQ,L            ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3;最大周波数
25775                            7969     ;;;;;;;;;;;;;;;;;;;
25776                            7970     ;;;;;;;;;;;;;;;;;;;
25777                            7971     ;;;;;;;;;;;;;;;;;;;
25778                            7972     ;;;;;;;;;;;;;;;;;;;     SUB_END
25779                            7973     ;;;;;;;;;;;;;;;;;;;     M_RTS
25780                            7974     ;;;;;;;;;;;;;;;;;;;
25781                            7975     ;;;;;;;;;;;;;;;;;;;
25782                            7976     ;;;;;;;;;;;;;;;;;;;
25783                            7977     ;       ***********************************
25784                            7978     ;       ***                             ***
25785                            7979     ;       ***     調査機能                ***
25786                            7980     ;       ***                             ***
25787                            7981     ;       ***********************************
25788                            7982     ;
25789                            7983     ;       === 2004-03-04===
25790                            7984     ;       EMG,EXQ
25791 00005358                   7985             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   352
PROGRAM NAME =

25792 00005358                   7986     _LSI_REST_PLS_CHK_STOP_CLR:
25793                            7987             SUB_START
25794 00005358 4F22                   M           STS.L   PR,@-R15                ;[必要]
25795                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25796                            7988     
25797                            7989     
25798 0000535A 200A              7990             XOR     R0,R0
25799                            7991             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
25800 0000535C D107                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
25801 0000535E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25802                            7992     
25803                            7993             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
25804 00005360 D107                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
25805 00005362 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25806                            7994             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
25807 00005364 D107                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
25808 00005366 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25809                            7995             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
25810 00005368 D107                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
25811 0000536A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25812                            7996             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
25813 0000536C D107                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
25814 0000536E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25815                            7997     
25816                            7998             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
25817 00005370 D107                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
25818 00005372 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25819                            7999     
25820                            8000             SUB_END
25821                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25822 00005374 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25823                            8001             M_RTS
25824 00005376 000B                   M           RTS                             ;RTSの後ろの
25825 00005378 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25826                            8002     
25827                            8003     ;       === 2004-03-04===
25828                                     ***** BEGIN-POOL *****
25829 0000537A 0000                       ALIGNMENT CODE
25830 0000537C 00000000                   DATA FOR SOURCE-LINE 7991
25831 00005380 00000000                   DATA FOR SOURCE-LINE 7993
25832 00005384 00000000                   DATA FOR SOURCE-LINE 7994
25833 00005388 00000000                   DATA FOR SOURCE-LINE 7995
25834 0000538C 00000000                   DATA FOR SOURCE-LINE 7996
25835 00005390 00000000                   DATA FOR SOURCE-LINE 7998
25836                                     ***** END-POOL *****
25837 00005394                   8004             .ALIGN  4                               ;
25838 00005394                   8005     _LSI_REST_PLS_CHK_START_CLR:
25839                            8006             SUB_START
25840 00005394 4F22                   M           STS.L   PR,@-R15                ;[必要]
25841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25842                            8007     
25843 00005396 200A              8008             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   353
PROGRAM NAME =

25844                            8009             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_AC_CNT1     ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          回路正常回数
25845 00005398 D12F                   M           MOV.L   #_LSI_PLSCMP_AC_CNT1,R1 ;DST_ADR
25846 0000539A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25847                            8010             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSSET_AC_CNT2     ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残り演算正常回数
25848 0000539C D12F                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1 ;DST_ADR
25849 0000539E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25850                            8011     
25851                            8012             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POS_RL    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差,+/-
25852 000053A0 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POS_RL,R1        ;DST_ADR
25853 000053A2 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25854                            8013             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POSMAX    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差 MAX
25855 000053A4 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POSMAX,R1        ;DST_ADR
25856 000053A6 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25857                            8014     
25858                            8015     ;       ==== 上は表示を見やすくするため１サイクルデータにする====
25859                            8016     
25860 000053A8 200A              8017             XOR     R0,R0
25861                            8018             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
25862 000053AA D12F                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
25863 000053AC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25864                            8019     
25865 000053AE 200A              8020             XOR     R0,R0
25866                            8021             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
25867 000053B0 D12E                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
25868 000053B2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25869                            8022             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
25870 000053B4 D12E                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
25871 000053B6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25872                            8023             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
25873 000053B8 D12E                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
25874 000053BA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25875                            8024             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
25876 000053BC D12E                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
25877 000053BE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25878                            8025     
25879                            8026             REG_MOV_TO_MEM  DST_ADR=_SH4_LNGH_ADD_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時移動量
25880 000053C0 D12E                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;DST_ADR
25881 000053C2 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25882                            8027             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時残ﾊﾟﾙｽ
25883 000053C4 D12E                   M           MOV.L   #_SH4_REST_PLS_SR,R1    ;DST_ADR
25884 000053C6 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25885                            8028             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_RL        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 REAL-TIME残ﾊﾟﾙｽ
25886 000053C8 D12E                   M           MOV.L   #_SH4_REST_PLS_RL,R1    ;DST_ADR
25887 000053CA 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25888                            8029     
25889 000053CC 200A              8030             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   354
PROGRAM NAME =

25890                            8031             REG_MOV_TO_MEM  DST_ADR=_CMP2_BAS_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25891 000053CE D12E                   M           MOV.L   #_CMP2_BAS_NG_CNT,R1    ;DST_ADR
25892 000053D0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25893                            8032             REG_MOV_TO_MEM  DST_ADR=_CMP2_TOP_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25894 000053D2 D12E                   M           MOV.L   #_CMP2_TOP_NG_CNT,R1    ;DST_ADR
25895 000053D4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25896                            8033             REG_MOV_TO_MEM  DST_ADR=_CMP2_LAT_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25897 000053D6 D12E                   M           MOV.L   #_CMP2_LAT_NG_CNT,R1    ;DST_ADR
25898 000053D8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25899                            8034             REG_MOV_TO_MEM  DST_ADR=_CMP2_ACC_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25900 000053DA D12E                   M           MOV.L   #_CMP2_ACC_NG_CNT,R1    ;DST_ADR
25901 000053DC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25902                            8035             REG_MOV_TO_MEM  DST_ADR=_CMP2_NOW_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25903 000053DE D12E                   M           MOV.L   #_CMP2_NOW_NG_CNT,R1    ;DST_ADR
25904 000053E0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25905                            8036     
25906                            8037     
25907                            8038             FAR_JSR #_CNT_REST_CHK_CLR,R0           ;
25908 000053E2 D02E                   M           MOV.L   #_CNT_REST_CHK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25909 000053E4 400B                   M           JSR     @R0                     ;
25910 000053E6 0009                   M           NOP                                     ;
25911                            8039     
25912                            8040     ;       ======= 連続のチェック ======
25913 000053E8 200A              8041             XOR     R0,R0
25914                            8042             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25915 000053EA D12D                   M           MOV.L   #_SH4_STEP1_SV_PLS,R1   ;DST_ADR
25916 000053EC 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25917                            8043             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25918 000053EE D12D                   M           MOV.L   #_SH4_STEP2_SV_PLS,R1   ;DST_ADR
25919 000053F0 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25920                            8044             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25921 000053F2 D12D                   M           MOV.L   #_SH4_STEP3_SV_PLS,R1   ;DST_ADR
25922 000053F4 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25923                            8045             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25924 000053F6 D12D                   M           MOV.L   #_SH4_STEP4_SV_PLS,R1   ;DST_ADR
25925 000053F8 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25926                            8046             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25927 000053FA D12D                   M           MOV.L   #_SH4_STEP5_SV_PLS,R1   ;DST_ADR
25928 000053FC 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25929                            8047             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          1->2の演算前の残り)
25930 000053FE D12D                   M           MOV.L   #_SH4_STEP1_REST_P,R1   ;DST_ADR
25931 00005400 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25932                            8048             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          2->3)
25933 00005402 D12D                   M           MOV.L   #_SH4_STEP2_REST_P,R1   ;DST_ADR
25934 00005404 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25935                            8049             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
25936 00005406 D12D                   M           MOV.L   #_SH4_STEP3_REST_P,R1   ;DST_ADR
25937 00005408 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25938                            8050             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
25939 0000540A D12D                   M           MOV.L   #_SH4_STEP4_REST_P,R1   ;DST_ADR
25940 0000540C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25941                            8051             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   355
PROGRAM NAME =

25942 0000540E D12D                   M           MOV.L   #_SH4_STEP5_REST_P,R1   ;DST_ADR
25943 00005410 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25944                            8052             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25945 00005412 D12D                   M           MOV.L   #_SH4_STEP1_PV_PLS,R1   ;DST_ADR
25946 00005414 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25947                            8053             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25948 00005416 D12D                   M           MOV.L   #_SH4_STEP2_PV_PLS,R1   ;DST_ADR
25949 00005418 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25950                            8054             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25951 0000541A D12D                   M           MOV.L   #_SH4_STEP3_PV_PLS,R1   ;DST_ADR
25952 0000541C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25953                            8055             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25954 0000541E D12D                   M           MOV.L   #_SH4_STEP4_PV_PLS,R1   ;DST_ADR
25955 00005420 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25956                            8056             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25957 00005422 D12D                   M           MOV.L   #_SH4_STEP5_PV_PLS,R1   ;DST_ADR
25958 00005424 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25959                            8057             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25960 00005426 D12D                   M           MOV.L   #_SH4_STEP1_FRQ,R1      ;DST_ADR
25961 00005428 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25962                            8058             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25963 0000542A D12D                   M           MOV.L   #_SH4_STEP2_FRQ,R1      ;DST_ADR
25964 0000542C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25965                            8059             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25966 0000542E D12D                   M           MOV.L   #_SH4_STEP3_FRQ,R1      ;DST_ADR
25967 00005430 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25968                            8060             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25969 00005432 D12D                   M           MOV.L   #_SH4_STEP4_FRQ,R1      ;DST_ADR
25970 00005434 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25971                            8061             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25972 00005436 D12D                   M           MOV.L   #_SH4_STEP5_FRQ,R1      ;DST_ADR
25973 00005438 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25974                            8062             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25975 0000543A D12D                   M           MOV.L   #_SH4_STEP1_TIM,R1      ;DST_ADR
25976 0000543C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25977                            8063             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25978 0000543E D12D                   M           MOV.L   #_SH4_STEP2_TIM,R1      ;DST_ADR
25979 00005440 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25980                            8064             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25981 00005442 D12D                   M           MOV.L   #_SH4_STEP3_TIM,R1      ;DST_ADR
25982 00005444 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25983                            8065             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25984 00005446 D12D                   M           MOV.L   #_SH4_STEP4_TIM,R1      ;DST_ADR
25985 00005448 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25986                            8066             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25987 0000544A D12D                   M           MOV.L   #_SH4_STEP5_TIM,R1      ;DST_ADR
25988 0000544C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25989                            8067     
25990                            8068             REG_MOV_TO_MEM  DST_ADR=_CNT_GRF_POINT          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25991 0000544E D12D                   M           MOV.L   #_CNT_GRF_POINT,R1      ;DST_ADR
25992 00005450 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25993                            8069     
25994                            8070             SUB_END
25995                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25996 00005452 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25997                            8071             M_RTS
25998 00005454 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   356
PROGRAM NAME =

25999 00005456 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26000                            8072     
26001                            8073     ;       ***************************************************
26002                            8074     ;       ***                                             ***
26003                            8075     ;       ***             連続残りﾊﾟﾙｽ修正                ***
26004                            8076     ;       ***                                             ***
26005                            8077     ;       ***************************************************
26006                                     ***** BEGIN-POOL *****
26007 00005458 00000000                   DATA FOR SOURCE-LINE 8009
26008 0000545C 00000000                   DATA FOR SOURCE-LINE 8010
26009 00005460 00000000                   DATA FOR SOURCE-LINE 8012
26010 00005464 00000000                   DATA FOR SOURCE-LINE 8013
26011 00005468 00000000                   DATA FOR SOURCE-LINE 8018
26012 0000546C 00000000                   DATA FOR SOURCE-LINE 8021
26013 00005470 00000000                   DATA FOR SOURCE-LINE 8022
26014 00005474 00000000                   DATA FOR SOURCE-LINE 8023
26015 00005478 00000000                   DATA FOR SOURCE-LINE 8024
26016 0000547C 00000000                   DATA FOR SOURCE-LINE 8026
26017 00005480 00000000                   DATA FOR SOURCE-LINE 8027
26018 00005484 00000000                   DATA FOR SOURCE-LINE 8028
26019 00005488 00000000                   DATA FOR SOURCE-LINE 8031
26020 0000548C 00000000                   DATA FOR SOURCE-LINE 8032
26021 00005490 00000000                   DATA FOR SOURCE-LINE 8033
26022 00005494 00000000                   DATA FOR SOURCE-LINE 8034
26023 00005498 00000000                   DATA FOR SOURCE-LINE 8035
26024 0000549C 00000000                   DATA FOR SOURCE-LINE 8038
26025 000054A0 00000000                   DATA FOR SOURCE-LINE 8042
26026 000054A4 00000000                   DATA FOR SOURCE-LINE 8043
26027 000054A8 00000000                   DATA FOR SOURCE-LINE 8044
26028 000054AC 00000000                   DATA FOR SOURCE-LINE 8045
26029 000054B0 00000000                   DATA FOR SOURCE-LINE 8046
26030 000054B4 00000000                   DATA FOR SOURCE-LINE 8047
26031 000054B8 00000000                   DATA FOR SOURCE-LINE 8048
26032 000054BC 00000000                   DATA FOR SOURCE-LINE 8049
26033 000054C0 00000000                   DATA FOR SOURCE-LINE 8050
26034 000054C4 00000000                   DATA FOR SOURCE-LINE 8051
26035 000054C8 00000000                   DATA FOR SOURCE-LINE 8052
26036 000054CC 00000000                   DATA FOR SOURCE-LINE 8053
26037 000054D0 00000000                   DATA FOR SOURCE-LINE 8054
26038 000054D4 00000000                   DATA FOR SOURCE-LINE 8055
26039 000054D8 00000000                   DATA FOR SOURCE-LINE 8056
26040 000054DC 00000000                   DATA FOR SOURCE-LINE 8057
26041 000054E0 00000000                   DATA FOR SOURCE-LINE 8058
26042 000054E4 00000000                   DATA FOR SOURCE-LINE 8059
26043 000054E8 00000000                   DATA FOR SOURCE-LINE 8060
26044 000054EC 00000000                   DATA FOR SOURCE-LINE 8061
26045 000054F0 00000000                   DATA FOR SOURCE-LINE 8062
26046 000054F4 00000000                   DATA FOR SOURCE-LINE 8063
26047 000054F8 00000000                   DATA FOR SOURCE-LINE 8064
26048 000054FC 00000000                   DATA FOR SOURCE-LINE 8065
26049 00005500 00000000                   DATA FOR SOURCE-LINE 8066
26050 00005504 00000000                   DATA FOR SOURCE-LINE 8068
26051                                     ***** END-POOL *****
26052 00005508                   8078             .ALIGN  4                               ;
26053 00005508                   8079     _CNT_REST_CHK_CLR:
26054                            8080             SUB_START
26055 00005508 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   357
PROGRAM NAME =

26056                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26057 0000550A 200A              8081             XOR     R0,R0
26058                            8082             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26059 0000550C D10C                   M           MOV.L   #_SH4_CNT_REST_PLS,R1   ;DST_ADR
26060 0000550E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26061                            8083             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26062 00005510 D10C                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
26063 00005512 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26064                            8084     
26065                            8085             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT1      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26066 00005514 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT1,R1  ;DST_ADR
26067 00005516 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26068                            8086             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT2      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26069 00005518 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT2,R1  ;DST_ADR
26070 0000551A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26071                            8087             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26072 0000551C D10C                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26073 0000551E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26074                            8088             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_CHK_CNT2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26075 00005520 D10C                   M           MOV.L   #_CNT_SYNC_CHK_CNT2,R1  ;DST_ADR
26076 00005522 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26077                            8089     
26078                            8090             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_STS_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26079 00005524 D10C                   M           MOV.L   #_CNT_SYNC_STS_FLG,R1   ;DST_ADR
26080 00005526 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26081                            8091             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_ERR_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26082 00005528 D10C                   M           MOV.L   #_CNT_SYNC_ERR_FLG,R1   ;DST_ADR
26083 0000552A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26084                            8092             REG_MOV_TO_MEM  DST_ADR=_CNT_PLSOUT_STOP_CNT    ,L1=W,DT_REG=R0,WKREG1=R1       ;
26085 0000552C D10C                   M           MOV.L   #_CNT_PLSOUT_STOP_CNT,R1        ;DST_ADR
26086 0000552E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26087                            8093             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_CNT1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26088 00005530 D10C                   M           MOV.L   #_CNT_SYNC_HOS_CNT1,R1  ;DST_ADR
26089 00005532 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26090                            8094             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26091 00005534 D10C                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26092 00005536 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26093                            8095     
26094                            8096     
26095                            8097     
26096                            8098             SUB_END
26097                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26098 00005538 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26099                            8099             M_RTS
26100 0000553A 000B                   M           RTS                             ;RTSの後ろの
26101 0000553C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26102                            8100     
26103                            8101     
26104                            8102     
26105                            8103     
26106                            8104             .EXPORT _EXQ_STOP_LEV_POS_CLR           ;
26107                                     ***** BEGIN-POOL *****
26108 0000553E 0000                       ALIGNMENT CODE
26109 00005540 00000000                   DATA FOR SOURCE-LINE 8082
26110 00005544 00000000                   DATA FOR SOURCE-LINE 8083
26111 00005548 00000000                   DATA FOR SOURCE-LINE 8085
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   358
PROGRAM NAME =

26112 0000554C 00000000                   DATA FOR SOURCE-LINE 8086
26113 00005550 00000000                   DATA FOR SOURCE-LINE 8087
26114 00005554 00000000                   DATA FOR SOURCE-LINE 8088
26115 00005558 00000000                   DATA FOR SOURCE-LINE 8090
26116 0000555C 00000000                   DATA FOR SOURCE-LINE 8091
26117 00005560 00000000                   DATA FOR SOURCE-LINE 8092
26118 00005564 00000000                   DATA FOR SOURCE-LINE 8093
26119 00005568 00000000                   DATA FOR SOURCE-LINE 8094
26120                                     ***** END-POOL *****
26121 0000556C                   8105             .ALIGN  4                               ;
26122 0000556C                   8106     _EXQ_STOP_LEV_POS_CLR:
26123                            8107             SUB_START
26124 0000556C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26125                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26126 0000556E 200A              8108             XOR     R0,R0
26127                            8109             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26128 00005570 D104                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
26129 00005572 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26130                            8110             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26131 00005574 D104                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26132 00005576 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26133                            8111     
26134                            8112     ;       ===== 2005-04-14-E(4/18) ===
26135                            8113             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
26136 00005578 D004                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26137 0000557A 400B                   M           JSR     @R0                     ;
26138 0000557C 0009                   M           NOP                                     ;
26139                            8114     
26140                            8115             SUB_END
26141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26142 0000557E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26143                            8116             M_RTS
26144 00005580 000B                   M           RTS                             ;RTSの後ろの
26145 00005582 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26146                            8117     
26147                            8118     ;       ***********************************
26148                            8119     ;       ***                             ***
26149                            8120     ;       ***     連続時の補正ﾃﾞｰﾀ        ***
26150                            8121     ;       ***     (CPU-Bのみ)             ***
26151                            8122     ;       ***********************************
26152                                     ***** BEGIN-POOL *****
26153 00005584 00000000                   DATA FOR SOURCE-LINE 8109
26154 00005588 00000000                   DATA FOR SOURCE-LINE 8110
26155 0000558C 00000000                   DATA FOR SOURCE-LINE 8113
26156                                     ***** END-POOL *****
26157 00005590                   8123             .ALIGN  4                               ;
26158 00005590                   8124     _CNT_HOS_DT_MAK:
26159                            8125             SUB_START
26160 00005590 4F22                   M           STS.L   PR,@-R15                ;[必要]
26161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26162                            8126     ;       CCSのみCALL
26163                            8127             SUB_END
26164                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26165 00005592 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26166                            8128             M_RTS
26167 00005594 000B                   M           RTS                             ;RTSの後ろの
26168 00005596 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   359
PROGRAM NAME =

26169                            8129     
26170                            8130     
26171                            8131     ;       ***************************
26172                            8132     ;       ***     修正機能        ***
26173                            8133     ;       ***************************
26174 00005598                   8134             .ALIGN  4                               ;
26175 00005598                   8135     _CNT_SYNC_HOS_CALC
26176                            8136             SUB_START
26177 00005598 4F22                   M           STS.L   PR,@-R15                ;[必要]
26178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26179                            8137     ;       CCSのみCALL
26180                            8138             SUB_END
26181                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26182 0000559A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26183                            8139             M_RTS
26184 0000559C 000B                   M           RTS                             ;RTSの後ろの
26185 0000559E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26186                            8140     
26187                            8141     
26188                            8142     
26189                            8143     
26190                            8144     ;       ***************************************************
26191                            8145     ;       ***                                             ***
26192                            8146     ;       ***     回転・連続・ALLVﾓｰﾄﾞ時の減速補正        ***
26193                            8147     ;       ***                                             ***
26194                            8148     ;       ***************************************************
26195                            8149     
26196                            8150     ;       ***************************************************
26197                            8151     ;       ***     急停止・異常時                          ***
26198                            8152     ;       ***************************************************
26199                            8153             .EXPORT _GPOSIN_HOS_RESET
26200 000055A0                   8154             .ALIGN  4                               ;
26201 000055A0                   8155     _GPOSIN_HOS_RESET:
26202                            8156             SUB_START
26203 000055A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26205                            8157             SUB_END
26206                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26207 000055A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26208                            8158             M_RTS
26209 000055A4 000B                   M           RTS                             ;RTSの後ろの
26210 000055A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26211                            8159     
26212                            8160     ;       ***************************************************
26213                            8161     ;       ***     運転開始時                              ***
26214                            8162     ;       ***************************************************
26215 000055A8                   8163             .ALIGN  4                               ;
26216 000055A8                   8164     _GPOSIN_HOS_DRV_INI:
26217                            8165             SUB_START
26218 000055A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26219                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26220                            8166             SUB_END
26221                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26222 000055AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26223                            8167             M_RTS
26224 000055AC 000B                   M           RTS                             ;RTSの後ろの
26225 000055AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   360
PROGRAM NAME =

26226                            8168     
26227                            8169     
26228                            8170     ;       ***********************************
26229                            8171     ;       ***     演算                    ***
26230                            8172     ;       ***********************************
26231                            8173     ;       (1)減速距離+5を基準値とする
26232                            8174     ;       (2)+1/-1以内になるまで補正する
26233                            8175     ;       (3)記憶値から100ﾊﾟﾙｽ以上離れたら再度記憶しなおす
26234 000055B0                   8176             .ALIGN  4                               ;
26235 000055B0                   8177     _GPOINT_HOS_CALC:
26236                            8178             SUB_START
26237 000055B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26238                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26239                            8179             SUB_END
26240                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26241 000055B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26242                            8180             M_RTS
26243 000055B4 000B                   M           RTS                             ;RTSの後ろの
26244 000055B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26245                            8181     
26246                            8182     
26247                            8183     
26248                            8184     
26249                            8185     
26250                            8186     
26251                            8187             .EXPORT _DEBUG_SIGNAL_OFF
26252 000055B8                   8188             .ALIGN  4                               ;
26253 000055B8                   8189     _DEBUG_SIGNAL_OFF:
26254                            8190             SUB_START
26255 000055B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26256                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26257                            8191             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT2                ;VERIFAY ERR(OFFない)
26258                                 M   
26259                                 M           .AIF    0 EQ    0
26260                                 C   ;;      (波形測定時)
26261                                 C           PUSH_REG1 R0
26262 000055BA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26263                                 M                                           ;REG=>[SP]
26264                                 M                                           ;"-4" FF,FF,FF,FC
26265                                 C           PUSH_REG1 R1
26266 000055BC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26267                                 M                                           ;REG=>[SP]
26268                                 M                                           ;"-4" FF,FF,FF,FC
26269                                 C           PUSH_REG1 R2
26270 000055BE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26271                                 M                                           ;REG=>[SP]
26272                                 M                                           ;"-4" FF,FF,FF,FC
26273 000055C0 D10B                   C           MOV.L   #_PDTRA,R1                      ;
26274 000055C2 6011                   C           MOV.W   @R1,R0                          ;
26275 000055C4 9212                   C           MOV.W   #LWORD ~BIT2,R2         ;
26276 000055C6 2029                   C           AND     R2,R0                           ;
26277 000055C8 2101                   C           MOV.W   R0,@R1                          ;
26278                                 C           POP_REG1 R2
26279                                 M                                   ; RE"+4" 00,00,00,04
26280 000055CA 62F6                   M           MOV.L   @R15+,R2        ;
26281                                 C           POP_REG1 R1
26282                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   361
PROGRAM NAME =

26283 000055CC 61F6                   M           MOV.L   @R15+,R1        ;
26284                                 C           POP_REG1 R0
26285                                 M                                   ; RE"+4" 00,00,00,04
26286 000055CE 60F6                   M           MOV.L   @R15+,R0        ;
26287                                 M           .AENDI
26288                                 M   
26289                            8192             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT6                ;RETRY ERR
26290                                 M   
26291                                 M           .AIF    0 EQ    0
26292                                 C   ;;      (波形測定時)
26293                                 C           PUSH_REG1 R0
26294 000055D0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26295                                 M                                           ;REG=>[SP]
26296                                 M                                           ;"-4" FF,FF,FF,FC
26297                                 C           PUSH_REG1 R1
26298 000055D2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26299                                 M                                           ;REG=>[SP]
26300                                 M                                           ;"-4" FF,FF,FF,FC
26301                                 C           PUSH_REG1 R2
26302 000055D4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26303                                 M                                           ;REG=>[SP]
26304                                 M                                           ;"-4" FF,FF,FF,FC
26305 000055D6 D106                   C           MOV.L   #_PDTRA,R1                      ;
26306 000055D8 6011                   C           MOV.W   @R1,R0                          ;
26307 000055DA 9208                   C           MOV.W   #LWORD ~BIT6,R2         ;
26308 000055DC 2029                   C           AND     R2,R0                           ;
26309 000055DE 2101                   C           MOV.W   R0,@R1                          ;
26310                                 C           POP_REG1 R2
26311                                 M                                   ; RE"+4" 00,00,00,04
26312 000055E0 62F6                   M           MOV.L   @R15+,R2        ;
26313                                 C           POP_REG1 R1
26314                                 M                                   ; RE"+4" 00,00,00,04
26315 000055E2 61F6                   M           MOV.L   @R15+,R1        ;
26316                                 C           POP_REG1 R0
26317                                 M                                   ; RE"+4" 00,00,00,04
26318 000055E4 60F6                   M           MOV.L   @R15+,R0        ;
26319                                 M           .AENDI
26320                                 M   
26321                            8193             SUB_END
26322                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26323 000055E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26324                            8194             M_RTS
26325 000055E8 000B                   M           RTS                             ;RTSの後ろの
26326 000055EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26327                            8195     
26328                            8196     ;       ***************************************************************************
26329                            8197     ;       ***                                                                     ***
26330                            8198     ;       ***     工程を自分が切り替えた時点の自分のデータと相手のデータを収集    ***
26331                            8199     ;       ***     モニタ専用                                                      ***
26332                            8200     ;       ***************************************************************************
26333                                     ***** BEGIN-POOL *****
26334 000055EC FFFB                       DATA FOR SOURCE-LINE 8191
26335 000055EE FFBF                       DATA FOR SOURCE-LINE 8192
26336 000055F0 00000000                   DATA FOR SOURCE-LINE 8191,8192
26337                                     ***** END-POOL *****
26338          000000C8          8201     _CNT_GRF_MAX            .EQU    200     ;MAX 500
26339                            8202     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   362
PROGRAM NAME =

26340          00000040          8203     _CNT_GRF_1BLOCK         .EQU    64              ;64byte
26341          00000000          8204     _CGRF_iSTEP_SV_PLS              .EQU    0
26342          00000004          8205     _CGRF_iSTEP_PV_PLS              .EQU    4
26343          00000008          8206     _CGRF_iSTEP_REST                .EQU    8
26344          0000000C          8207     _CGRF_iTOTAL_PLS                .EQU    12
26345          00000010          8208     _CGRF_iADD_PLS                  .EQU    16
26346          00000014          8209     _CGRF_GENSOK_LNG1               .EQU    20
26347          00000018          8210     _CGRF_iSTEP_FRQ                 .EQU    24
26348          0000001A          8211     _CGRF_iSTEP_TIM                 .EQU    26
26349          0000001C          8212     _CGRF_iNOW_STEP                 .EQU    28
26350          0000001E          8213     _CGRF_SYNC_STS                  .EQU    30
26351          00000020          8214     _CGRF_SYNC_ERR                  .EQU    32
26352                            8215     
26353          00000024          8216     _CGRF_ySTEP_SV_PLS              .EQU    36
26354          00000028          8217     _CGRF_ySTEP_PV_PLS              .EQU    40
26355          0000002C          8218     _CGRF_ySTEP_REST                .EQU    44
26356          00000030          8219     _CGRF_yTOTAL_PLS                .EQU    48
26357          00000034          8220     _CGRF_yADD_PLS                  .EQU    52
26358          00000038          8221     _CGRF_ySTEP_FRQ                 .EQU    56
26359          0000003C          8222     _CGRF_ySTEP_TIM                 .EQU    60
26360          0000003E          8223     _CGRF_yNOW_STEP                 .EQU    62
26361                            8224     
26362                            8225     
26363                            8226             .MACRO  MEM_MOV2B_GBR   MEM,GBROFS,WKREG1
26364                            8227             MOV.L   #\MEM,\WKREG1           ;
26365                            8228             MOV.W   @\WKREG1,R0             ;
26366                            8229             MOV.W   R0,@(\GBROFS,GBR)       ;
26367                            8230             .ENDM
26368                            8231     
26369                            8232             .MACRO  MEM_MOV4B_GBR   MEM,GBROFS,WKREG1
26370                            8233             MOV.L   #\MEM,\WKREG1           ;
26371                            8234             MOV.W   @\WKREG1+,R0            ;
26372                            8235             MOV.W   R0,@(\GBROFS,GBR)       ;
26373                            8236             MOV.W   @\WKREG1,R0             ;
26374                            8237             MOV.W   R0,@(\GBROFS+2,GBR)     ;
26375                            8238             .ENDM
26376                            8239     
26377                            8240             .MACRO  GBR_MOV2B_MEM   MEM,GBROFS,WKREG1
26378                            8241             MOV.W   @(\GBROFS,GBR),R0       ;
26379                            8242             MOV.L   #\MEM,\WKREG1           ;
26380                            8243             MOV.W   R0,@\WKREG1             ;
26381                            8244             .ENDM
26382                            8245     
26383                            8246             .MACRO  GBR_MOV4B_MEM   MEM,GBROFS,WKREG1
26384                            8247             MOV.W   @(\GBROFS,GBR),R0       ;
26385                            8248             MOV.L   #\MEM,\WKREG1           ;
26386                            8249             MOV.W   R0,@\WKREG1             ;
26387                            8250             MOV.W   @(\GBROFS+2,GBR),R0     ;
26388                            8251             ADD     #2,\WKREG1              ;
26389                            8252             MOV.W   R0,@\WKREG1             ;
26390                            8253             .ENDM
26391                            8254             .MACRO  GBR_MOV4B_MEM_ALMT      MEM,GBROFS,WKREG1,WKREG2
26392                            8255             MOV.W   @(\GBROFS,GBR),R0       ;
26393                            8256             MOV.W   #H'3FF,\WKREG2          ;
26394                            8257             AND     \WKREG2,R0              ;
26395                            8258     
26396                            8259             MOV.L   #\MEM,\WKREG1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   363
PROGRAM NAME =

26397                            8260             MOV.W   R0,@\WKREG1             ;
26398                            8261             MOV.W   @(\GBROFS+2,GBR),R0     ;
26399                            8262             ADD     #2,\WKREG1              ;
26400                            8263             MOV.W   R0,@\WKREG1             ;
26401                            8264             .ENDM
26402                            8265     
26403                            8266     ;       ===== EMG にも呼ばれる======
26404                            8267             .EXPORT _DATA_GRF_CNT_DATA_MAKE
26405 000055F4                   8268             .ALIGN  4                               ;
26406 000055F4                   8269     _DATA_GRF_CNT_DATA_MAKE:
26407                            8270             SUB_START
26408 000055F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26410                            8271             SUB_END
26411                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26412 000055F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26413                            8272             M_RTS
26414 000055F8 000B                   M           RTS                             ;RTSの後ろの
26415 000055FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26416                            8273     
26417                            8274     
26418                            8275             .INCLUDE "ssa_disp.inc"         ;ﾃﾞﾊﾞｯｸﾓﾆﾀ
26419                               1 I1  ;       *******************************************
26420                               2 I1  ;       ***                                     ***
26421                               3 I1  ;       ***                                     ***
26422                               4 I1  ;       ***                                     ***
26423                               5 I1  ;       ***                                     ***
26424                               6 I1  ;       ***                                     ***
26425                               7 I1  ;       ***                                     ***
26426                               8 I1  ;       *******************************************
26427                               9 I1  ;       debug-monitor
26428                              10 I1  ;       ***********************************
26429                              11 I1  ;       ***     表示機能                ***
26430                              12 I1  ;       ***********************************
26431                              13 I1          .EXPORT _MONI_CNT_NOW_INFO_DISP         ;17
26432                              14 I1          .EXPORT _MONI_CNT_HIST_INFO_DISP        ;18
26433                              15 I1  ;       ***********************************
26434                              16 I1  ;       ***     現在値モニタ            ***
26435                              17 I1  ;       ***********************************
26436                              18 I1  ;       ***********************************
26437                              19 I1  ;       ***     NO.17                   ***
26438                              20 I1  ;       ***********************************
26439                              21 I1  
26440                              22 I1  ;       Inout R2 S02 (頁)
26441                              23 I1  ;       Input R3 S03 (詳細)
26442                              24 I1  ;
26443 000055FC                     25 I1  _MONI_CNT_NOW_INFO_DISP
26444                              26 I1          SUB_START
26445 000055FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26446                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26447                              27 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R3,R0                           ;
26448                              28 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #00,R0                          ;
26449                              29 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_010       ;
26450                              30 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP1,R0     ;17-00
26451                              31 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26452                              32 I1  ;;;;;;;;;;;;;;;;;;;
26453                              33 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_010                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   364
PROGRAM NAME =

26454                              34 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #01,R0                          ;
26455                              35 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_020
26456                              36 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP2,R0     ;17-1
26457                              37 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26458                              38 I1  ;;;;;;;;;;;;;;;;;;;
26459                              39 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_020                    ;
26460                              40 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #02,R0                          ;
26461                              41 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_030
26462                              42 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP3,R0     ;17-2
26463                              43 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26464                              44 I1  ;;;;;;;;;;;;;;;;;;;
26465                              45 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_030
26466                              46 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP4,R0     ;17-3
26467                              47 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_EXT                    ;
26468                              48 I1  
26469                              49 I1          SUB_END
26470                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26471 000055FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26472                              50 I1          M_RTS
26473 00005600 000B                   M           RTS                             ;RTSの後ろの
26474 00005602 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26475                              51 I1  
26476                              52 I1  ;       ***********************************
26477                              53 I1  ;       ***                             ***
26478                              54 I1  ;       ***     現在値モニタ            ***
26479                              55 I1  ;       ***     17-0-0-1/2              ***
26480                              56 I1  ;       ***                             ***
26481                              57 I1  ;       ***********************************
26482                              58 I1  ;       ====== 17-0 =====
26483 00005604                     59 I1  _MONI_CNT_NOW_INFO_DSP1
26484                              60 I1          SUB_START
26485 00005604 4F22                   M           STS.L   PR,@-R15                ;[必要]
26486                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26487                              61 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_POWER_ON_CNT,L1=W,DST=_PVP_MONALM_
                                          P01,L2=W
26488                              62 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_CB_STS_POINT,L1=W,DST=_PVP_MONALM_
                                          P02,L2=W
26489                              63 I1  ;;;;;;;;;;;;;;;;;;;
26490                              64 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08(同じことを確認) =======
26491                              65 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26492                              66 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_FRQ          ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26493                              67 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_FRQ          ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26494                              68 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_FRQ          ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26495                              69 I1  ;;;;;;;;;;;;;;;;;;;
26496                              70 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26497                              71 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_FRQ          ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26498                              72 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_FRQ          ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26499                              73 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_FRQ          ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26500                              74 I1  ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   365
PROGRAM NAME =

26501                              75 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26502                              76 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_TIM          ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26503                              77 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_TIM          ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26504                              78 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_TIM          ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26505                              79 I1  ;;;;;;;;;;;;;;;;;;;
26506                              80 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26507                              81 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_TIM          ,W      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26508                              82 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_TIM          ,W      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26509                              83 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_TIM          ,W      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26510                              84 I1  ;;;;;;;;;;;;;;;;;;;
26511                              85 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
26512                              86 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
26513                              87 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
26514                              88 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
26515                              89 I1  ;;;;;;;;;;;;;;;;;;;
26516                              90 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
26517                              91 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
26518                              92 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
26519                              93 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26520                              94 I1  
26521                              95 I1  
26522                              96 I1          SUB_END
26523                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26524 00005606 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26525                              97 I1          M_RTS
26526 00005608 000B                   M           RTS                             ;RTSの後ろの
26527 0000560A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26528                              98 I1  
26529                              99 I1  ;       ***********************************
26530                             100 I1  ;       ***                             ***
26531                             101 I1  ;       ***     現在値モニタ            ***
26532                             102 I1  ;       ***     17-0-1-1/2              ***
26533                             103 I1  ;       ***                             ***
26534                             104 I1  ;       ***********************************
26535                             105 I1  ;       ====== 17-1 =====
26536 0000560C                    106 I1  _MONI_CNT_NOW_INFO_DSP2
26537                             107 I1          SUB_START
26538 0000560C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26539                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26540                             108 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26541                             109 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A01,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   366
PROGRAM NAME =

                                          ,R1,R2,R3;
26542                             110 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26543                             111 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26544                             112 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26545                             113 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26546                             114 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26547                             115 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26548                             116 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26549                             117 I1  ;;;;;;;;;;;;;;;;;;;
26550                             118 I1  ;;;;;;;;;;;;;;;;;;;
26551                             119 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26552                             120 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26553                             121 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_FLAG      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26554                             122 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26555                             123 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26556                             124 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26557                             125 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26558                             126 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26559                             127 I1  ;;;;;;;;;;;;;;;;;;;
26560                             128 I1  ;;;;;;;;;;;;;;;;;;;
26561                             129 I1  ;;;;;;;;;;;;;;;;;;;;    ===========================<<<偏差>>>===========
26562                             130 I1  ;;;;;;;;;;;;;;;;;;;
26563                             131 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _HENSA_OVER_MOVE_CNT            ,L      ,_
                                          PVP_MONALM_C01,L,R1,R2,R3,H'3FFFFFF;
26564                             132 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_OUTPUT_TOTAL_PLS+4      ,L      ,_
                                          PVP_MONALM_C02,L,R1,R2,R3,H'3FFFFFF;
26565                             133 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_HENSA_LATCH+4           ,L      ,_
                                          PVP_MONALM_C03,L,R1,R2,R3,H'3FFFFFF;
26566                             134 I1  ;;;;;;;;;;;;;;;;;;;
26567                             135 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_CONST_SUB_PV                ,L      ,_
                                          PVP_MONALM_C04,L,R1,R2,R3,H'3FFFFFF;
26568                             136 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_SUB_PV                 ,L      ,_
                                          PVP_MONALM_C05,L,R1,R2,R3,H'3FFFFFF;
26569                             137 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_PLS                    ,L      ,_
                                          PVP_MONALM_C06,L,R1,R2,R3,H'3FFFFFF;
26570                             138 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_SV_OBJ_ABSPLS+4           ,L      ,_
                                          PVP_MONALM_C07,L,R1,R2,R3,H'3FFFFFF;
26571                             139 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_PV_ABSPLS+4       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26572                             140 I1  ;;;;;;;;;;;;;;;;;;;
26573                             141 I1  ;;;;;;;;;;;;;;;;;;;
26574                             142 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   367
PROGRAM NAME =

26575                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26576 0000560E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26577                             143 I1          M_RTS
26578 00005610 000B                   M           RTS                             ;RTSの後ろの
26579 00005612 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26580                             144 I1  
26581                             145 I1  
26582                             146 I1  ;       ***********************************
26583                             147 I1  ;       ***                             ***
26584                             148 I1  ;       ***     現在値モニタ            ***
26585                             149 I1  ;       ***     17-0-2-1/2              ***
26586                             150 I1  ;       ***                             ***
26587                             151 I1  ;       ***********************************
26588                             152 I1  ;       ====== 17-2 =====
26589 00005614                    153 I1  _MONI_CNT_NOW_INFO_DSP3
26590                             154 I1          SUB_START
26591 00005614 4F22                   M           STS.L   PR,@-R15                ;[必要]
26592                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26593                             155 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26594                             156 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_STEP           ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26595                             157 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_STEP           ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26596                             158 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _INT_POS_CTL_STEP       ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26597                             159 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SV_POS_CTL_STEP        ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26598                             160 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_PLSOUT_STOP_CNT    ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26599                             161 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_CNT1      ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26600                             162 I1  ;;;;;;;;;;;;;;;;;;;
26601                             163 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26602                             164 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26603                             165 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26604                             166 I1  ;;;;;;;;;;;;;;;;;;;
26605                             167 I1  ;;;;;;;;;;;;;;;;;;;
26606                             168 I1  ;;;;;;;;;;;;;;;;;;;
26607                             169 I1  ;;;;;;;;;;;;;;;;;;;;    ======================================
26608                             170 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26609                             171 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26610                             172 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26611                             173 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26612                             174 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26613                             175 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26614                             176 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26615                             177 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   368
PROGRAM NAME =

26616                             178 I1  ;;;;;;;;;;;;;;;;;;;
26617                             179 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
26618                             180 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
26619                             181 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
26620                             182 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
26621                             183 I1  ;;;;;;;;;;;;;;;;;;;
26622                             184 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
26623                             185 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
26624                             186 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
26625                             187 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26626                             188 I1  ;;;;;;;;;;;;;;;;;;;
26627                             189 I1  ;;;;;;;;;;;;;;;;;;;
26628                             190 I1  
26629                             191 I1          SUB_END
26630                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26631 00005616 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26632                             192 I1          M_RTS
26633 00005618 000B                   M           RTS                             ;RTSの後ろの
26634 0000561A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26635                             193 I1  
26636                             194 I1  ;       ***********************************
26637                             195 I1  ;       ***                             ***
26638                             196 I1  ;       ***     現在値モニタ            ***
26639                             197 I1  ;       ***     17-0-3-1/2              ***
26640                             198 I1  ;       ***                             ***
26641                             199 I1  ;       ***********************************
26642          00000000           200 I1  _SH4_4B         .EQU    0
26643          00000004           201 I1  _SH2_4B         .EQU    4
26644          00000000           202 I1  _SH4_8B         .EQU    0
26645          00000008           203 I1  _SH2_8B         .EQU    8
26646                             204 I1  
26647                             205 I1  
26648                             206 I1  ;       ====== 17-3 =====
26649 0000561C                    207 I1  _MONI_CNT_NOW_INFO_DSP4
26650                             208 I1          SUB_START
26651 0000561C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26652                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26653                             209 I1  
26654                             210 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_REST_SPD_HOSEI_FLG,W,_PVP_MONALM_A01,W,R1,R2,
                                          R3      ;
26655                             211 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26656                             212 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26657                             213 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26658                             214 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26659                             215 I1  ;;;;;;;;;;;;;;;;;;;
26660                             216 I1  ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   369
PROGRAM NAME =

26661                             217 I1  ;;;;;;;;;;;;;;;;;;;;    -------------------------- HENSAﾃﾞｰﾀ---------
26662                             218 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_MONI_CPUAB_PLSDELT,R1
26663                             219 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(0,R1),R5
                                          ;
26664                             220 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(4,R1),R6
                                          ;
26665                             221 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R5,R0
                                          ;
26666                             222 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;H
26667                             223 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
26668                             224 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A06 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;L
26669                             225 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R6,R0
26670                             226 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26671                             227 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
26672                             228 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26673                             229 I1  ;;;;;;;;;;;;;;;;;;;
26674                             230 I1  ;;;;;;;;;;;;;;;;;;;
26675                             231 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH4_4B,R4
                                          ;CPUA
26676                             232 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
26677                             233 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B01 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26678                             234 I1  ;;;;;;;;;;;;;;;;;;;
26679                             235 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH2_4B,R4
                                          ;CPU
26680                             236 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
26681                             237 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26682                             238 I1  ;;;;;;;;;;;;;;;;;;;
26683                             239 I1  ;;;;;;;;;;;;;;;;;;;
26684                             240 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH4_4B,R4
                                          ;
26685                             241 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
26686                             242 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26687                             243 I1  ;;;;;;;;;;;;;;;;;;;
26688                             244 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH2_4B,R4
                                          ;
26689                             245 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
26690                             246 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26691                             247 I1  ;;;;;;;;;;;;;;;;;;;
26692                             248 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26693                             249 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26694                             250 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2,W,_PVP_MONALM_B06,W,R1,R2,R3;
26695                             251 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1,L,_PVP_MONALM_B07,W,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   370
PROGRAM NAME =

26696                             252 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2,L,_PVP_MONALM_B08,W,R1,R2,R3;
26697                             253 I1  ;;;;;;;;;;;;;;;;;;;
26698                             254 I1  ;;;;;;;;;;;;;;;;;;;
26699                             255 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH4_4B,R4   ;OK
26700                             256 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26701                             257 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C01 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26702                             258 I1  ;;;;;;;;;;;;;;;;;;;
26703                             259 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH2_4B,R4   ;OK
26704                             260 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26705                             261 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C02 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26706                             262 I1  ;;;;;;;;;;;;;;;;;;;
26707                             263 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH4_4B,R4 ;
26708                             264 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26709                             265 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C03 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26710                             266 I1  ;;;;;;;;;;;;;;;;;;;
26711                             267 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH2_4B,R4 ;
26712                             268 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26713                             269 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C04 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26714                             270 I1  ;;;;;;;;;;;;;;;;;;;
26715                             271 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH4_8B+4,R4              ;20060919
26716                             272 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26717                             273 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26718                             274 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26719                             275 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C05 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26720                             276 I1  ;;;;;;;;;;;;;;;;;;;
26721                             277 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH2_8B+4,R4              ;20060919
26722                             278 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26723                             279 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26724                             280 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26725                             281 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C06 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26726                             282 I1  ;;;;;;;;;;;;;;;;;;;
26727                             283 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH4_8B+4,R4              ;
26728                             284 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26729                             285 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26730                             286 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26731                             287 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C07 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26732                             288 I1  ;;;;;;;;;;;;;;;;;;;
26733                             289 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH2_8B+4,R4              ;
26734                             290 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26735                             291 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26736                             292 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26737                             293 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C08 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26738                             294 I1  ;;;;;;;;;;;;;;;;;;;
26739                             295 I1  
26740                             296 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   371
PROGRAM NAME =

26741                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26742 0000561E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26743                             297 I1          M_RTS
26744 00005620 000B                   M           RTS                             ;RTSの後ろの
26745 00005622 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26746                             298 I1  
26747                             299 I1  
26748                             300 I1  
26749                             301 I1  ;       =========== C01~C08 =======
26750                             302 I1  
26751                             303 I1  
26752                             304 I1  
26753                             305 I1  ;       ***********************************
26754                             306 I1  ;       ***     履歴モニタ              ***
26755                             307 I1  ;       ***                             ***
26756                             308 I1  ;       ***     18-(0~199)-0/1-1/2      ***
26757                             309 I1  ;       ***                             ***
26758                             310 I1  ;       ***********************************
26759                             311 I1  ;       R2 頁
26760                             312 I1  ;       R3 詳細 0:自分　1:相手
26761 00005624                    313 I1  _MONI_CNT_HIST_INFO_DISP
26762                             314 I1          SUB_START
26763 00005624 4F22                   M           STS.L   PR,@-R15                ;[必要]
26764                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26765                             315 I1          SUB_END
26766                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26767 00005626 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26768                             316 I1          M_RTS
26769 00005628 000B                   M           RTS                             ;RTSの後ろの
26770 0000562A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26771                             317 I1  
26772                            8276     
26773                            8277     ;       ***************************
26774                            8278     ;       ***                     ***
26775                            8279     ;       ***************************
26776                            8280             .EXPORT _HENSA_DAT_MONI_MAK
26777 0000562C                   8281             .ALIGN  4                               ;
26778 0000562C                   8282     _HENSA_DAT_MONI_MAK:
26779                            8283             SUB_START
26780 0000562C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26781                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26782                            8284     
26783                            8285     ;       ===== 遅れ分払い出したことにする====
26784 0000562E D30F              8286             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
26785 00005630 6132              8287             MOV.L   @R3,R1                                                  ;
26786 00005632 5231              8288             MOV.L   @(4,R3),R2                                              ;
26787                            8289     
26788 00005634 D00E              8290             MOV.L   #_LINK_PV_ABSPLS,R0                             ;
26789 00005636 6502              8291             MOV.L   @R0,R5                                                  ;
26790 00005638 5601              8292             MOV.L   @(4,R0),R6                                              ;
26791                            8293     
26792                            8294             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
26793 0000563A 0008                   M           CLRT
26794 0000563C 326A                   M           SUBC    R6,R2
26795 0000563E 315A                   M           SUBC    R5,R1
26796                            8295     
26797 00005640 D00C              8296             MOV.L   #_SV_CONST_SUB_PV,R0                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   372
PROGRAM NAME =

26798 00005642 4211              8297             CMP/PZ  R2
26799 00005644 8900              8298             BT      HENSA_DAT_MONMK_050                                     ;
26800 00005646 622B              8299             NEG     R2,R2
26801 00005648                   8300     HENSA_DAT_MONMK_050:
26802 00005648 2022              8301             MOV.L   R2,@R0                                                  ;SV(CONST)-PV=
26803                            8302     
26804                            8303     ;       ===== 遅れ分払い出したことにする====
26805 0000564A D308              8304             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
26806 0000564C 6132              8305             MOV.L   @R3,R1                                                  ;
26807 0000564E 5231              8306             MOV.L   @(4,R3),R2                                              ;SV-REST-PLS
26808                            8307     
26809 00005650 D109              8308             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
26810 00005652 6612              8309             MOV.L   @R1,R6                                                  ;
26811 00005654 255A              8310             XOR     R5,R5                                                   ;
26812                            8311             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
26813 00005656 0008                   M           CLRT
26814 00005658 326A                   M           SUBC    R6,R2
26815 0000565A 315A                   M           SUBC    R5,R1
26816 0000565C 4211              8312             CMP/PZ  R2
26817 0000565E 8900              8313             BT      HENSA_DAT_MONMK_100                                     ;
26818 00005660 622B              8314             NEG     R2,R2
26819 00005662                   8315     HENSA_DAT_MONMK_100:
26820                            8316     
26821 00005662 D006              8317             MOV.L   #_SV_REAL_SUB_PV,R0
26822 00005664 2022              8318             MOV.L   R2,@R0
26823                            8319     
26824                            8320             SUB_END
26825                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26826 00005666 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26827                            8321             M_RTS
26828 00005668 000B                   M           RTS                             ;RTSの後ろの
26829 0000566A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26830                            8322     
26831                            8323     
26832                            8324     
26833                            8325     ;//     ===================================================
26834                            8326     ;//     ===     対策ソフト部分 2005-04-14-E(4/18)       ===
26835                            8327     ;//     ===================================================
26836                            8328             .EXPORT _SGL_CMP_ERR_DT_CLR
26837                                     ***** BEGIN-POOL *****
26838 0000566C 00000000                   DATA FOR SOURCE-LINE 8286,8304
26839 00005670 00000000                   DATA FOR SOURCE-LINE 8290
26840 00005674 00000000                   DATA FOR SOURCE-LINE 8296
26841 00005678 00000000                   DATA FOR SOURCE-LINE 8308
26842 0000567C 00000000                   DATA FOR SOURCE-LINE 8317
26843                                     ***** END-POOL *****
26844 00005680                   8329             .ALIGN  4                               ;
26845 00005680                   8330     _SGL_CMP_ERR_DT_CLR:
26846                            8331             SUB_START
26847 00005680 4F22                   M           STS.L   PR,@-R15                ;[必要]
26848                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26849 00005682 200A              8332             XOR     R0,R0
26850                            8333             REG_MOV_TO_MEM  DST_ADR=_CMP_LNGTH_AD_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26851 00005684 D103                   M           MOV.L   #_CMP_LNGTH_AD_ERR_CNT,R1       ;DST_ADR
26852 00005686 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26853                            8334             REG_MOV_TO_MEM  DST_ADR=_CMP_RESTP_SR_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   373
PROGRAM NAME =

                                          ;
26854 00005688 D103                   M           MOV.L   #_CMP_RESTP_SR_ERR_CNT,R1       ;DST_ADR
26855 0000568A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26856                            8335             SUB_END
26857                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26858 0000568C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26859                            8336             M_RTS
26860 0000568E 000B                   M           RTS                             ;RTSの後ろの
26861 00005690 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26862                            8337     
26863                            8338             .INCLUDE        "ssa_cntc.inc"          ;//2004-12-15
26864                                 I1  ***** BEGIN-POOL *****
26865 00005692 0000                   I1  ALIGNMENT CODE
26866 00005694 00000000               I1  DATA FOR SOURCE-LINE 8333
26867 00005698 00000000               I1  DATA FOR SOURCE-LINE 8334
26868                                 I1  ***** END-POOL *****
26869 0000569C                      1 I1  _BANK_CNT_STEP_NEXT_CHK:
26870                               2 I1          SUB_START
26871 0000569C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26873                               3 I1  ;       ===== 最終工程で最終目標位置を超えたら次の回転数への切り替えを行う
26874 0000569E DB06                 4 I1          MOV.L   #_INT_POS_CTL_STEP,R11                  ;//内部制御工程1~11
26875 000056A0 60B1                 5 I1          MOV.W   @R11,R0                                 ;
26876 000056A2 70FF                 6 I1          ADD     #-1,R0                                  ;
26877 000056A4 4008                 7 I1          SHLL2   R0
26878 000056A6 D105                 8 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1                 ;
26879 000056A8 021E                 9 I1          MOV.L   @(R0,R1),R2                             ;現状の工程の目標工程
26880 000056AA D105                10 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
26881 000056AC 6311                11 I1          MOV.W   @R1,R3                                  ;
26882 000056AE 7301                12 I1          ADD     #1,R3                                   ;設定+1(帰りも1ｽﾃｯﾌﾟ)
26883 000056B0 3320                13 I1          CMP/EQ  R2,R3                                   ;
26884 000056B2 8907                14 I1          BT      BCNT_STEP_NEXTCHK_100                   ;(最終工程相当)
26885                              15 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;最終工程を行おうとしていないが残
                                          り量を引くことは有り
26886 000056B4 A04F                   M           BRA     BCNT_STEP_NEXTCHK_EXT
26887 000056B6 0009                   M           NOP
26888                              16 I1                                                          ;...不要
26889                              17 I1  ;       ======= 最終工程相当の状態=======
26890                              18 I1  ;       ======= 減速距離と残り距離=====
26891                                 I1  ***** BEGIN-POOL *****
26892 000056B8 00000000               I1  DATA FOR SOURCE-LINE 4
26893 000056BC 00000000               I1  DATA FOR SOURCE-LINE 8
26894 000056C0 00000000               I1  DATA FOR SOURCE-LINE 10
26895                                 I1  ***** END-POOL *****
26896 000056C4                     19 I1  BCNT_STEP_NEXTCHK_100:
26897 000056C4 D408                20 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
26898 000056C6 6203                21 I1          MOV     R0,R2                                                   ;
26899 000056C8 4200                22 I1          SHLL    R2                                                      ;
26900 000056CA 342C                23 I1          ADD     R2,R4                                                   ;
26901 000056CC 6146                24 I1          MOV.L   @R4+,R1                                                 ;
26902 000056CE 6242                25 I1          MOV.L   @R4,R2                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
26903                              26 I1  
26904 000056D0 D406                27 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
26905 000056D2 6546                28 I1          MOV.L   @R4+,R5                                                 ;
26906 000056D4 6642                29 I1          MOV.L   @R4,R6                                                  ;
26907                              30 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   374
PROGRAM NAME =

26908 000056D6 0008                   M           CLRT
26909 000056D8 326A                   M           SUBC    R6,R2
26910 000056DA 315A                   M           SUBC    R5,R1
26911                              31 I1  
26912 000056DC 4111                32 I1          CMP/PZ  R1
26913 000056DE 8B0B                33 I1          BF      BCNT_STEP_NEXTCHK_200                   ;"-" 超えたJUMP
26914 000056E0 2118                34 I1          TST     R1,R1                                   ;
26915                              35 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_120                ;
26916 000056E2 8905                   M           BT      BCNT_STEP_NEXTCHK_120
26917                              36 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
26918 000056E4 A030                   M           BRA     BCNT_STEP_NEXTCHK_CHK
26919 000056E6 0009                   M           NOP
26920                                 I1  ***** BEGIN-POOL *****
26921 000056E8 00000000               I1  DATA FOR SOURCE-LINE 20
26922 000056EC 00000000               I1  DATA FOR SOURCE-LINE 27
26923                                 I1  ***** END-POOL *****
26924 000056F0                     37 I1  BCNT_STEP_NEXTCHK_120:
26925 000056F0 2228                38 I1          TST     R2,R2                                   ;
26926                              39 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_200                ;
26927 000056F2 8901                   M           BT      BCNT_STEP_NEXTCHK_200
26928                              40 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
26929 000056F4 A028                   M           BRA     BCNT_STEP_NEXTCHK_CHK
26930 000056F6 0009                   M           NOP
26931                              41 I1  
26932                              42 I1  ;       --- 超えた(サイクル変更を行なう)---
26933 000056F8                     43 I1  BCNT_STEP_NEXTCHK_200:
26934                              44 I1  ;(停止指令が出ていれば足さない)
26935 000056F8 D108                45 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
26936 000056FA 6011                46 I1          MOV.W   @R1,R0                                                  ;
26937 000056FC C804                47 I1          TST     #BIT2,R0                                                ;
26938                              48 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_250                                ;待機点停止しない
                                          運転
26939 000056FE 8B15                   M           BF      BCNT_STEP_NEXTCHK_250
26940                              49 I1  
26941 00005700 D107                50 I1          MOV.L   #_STOP_LATCH_B,R1                                       ;//BIT0:ｽﾄｯﾌﾟ釦
26942 00005702 6011                51 I1          MOV.W   @R1,R0                                                  ;
26943 00005704 C801                52 I1          TST     #BIT0,R0                                                ;
26944                              53 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_250                                ;
26945 00005706 8911                   M           BT      BCNT_STEP_NEXTCHK_250
26946                              54 I1  
26947                              55 I1  ;       ----- 停止ｺﾏﾝﾄﾞON(ありえない) -----
26948                              56 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
26949 00005708 D106                   M           MOV.L   #_STOP_LATCH,R1         ;
26950 0000570A 6011                   M           MOV.W   @R1,R0          ;
26951 0000570C CB01                   M           OR      #BIT0,R0                ;
26952 0000570E 2101                   M           MOV.W   R0,@R1          ;
26953                              57 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
26954 00005710 D105                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
26955 00005712 6011                   M           MOV.W   @R1,R0          ;
26956 00005714 CB01                   M           OR      #BIT0,R0                ;
26957 00005716 2101                   M           MOV.W   R0,@R1          ;
26958                              58 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                                   ;
26959 00005718 A01D                   M           BRA     BCNT_STEP_NEXTCHK_EXT
26960 0000571A 0009                   M           NOP
26961                              59 I1  
26962                              60 I1  
26963                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   375
PROGRAM NAME =

26964 0000571C 00000000               I1  DATA FOR SOURCE-LINE 45
26965 00005720 00000000               I1  DATA FOR SOURCE-LINE 50
26966 00005724 00000000               I1  DATA FOR SOURCE-LINE 56
26967 00005728 00000000               I1  DATA FOR SOURCE-LINE 57
26968                                 I1  ***** END-POOL *****
26969 0000572C                     61 I1  BCNT_STEP_NEXTCHK_250:
26970                              62 I1  
26971 0000572C D104                63 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
26972 0000572E 6011                64 I1          MOV.W   @R1,R0                                                  ;
26973 00005730 C808                65 I1          TST     #BIT3,R0                                                ;
26974                              66 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_300                                ;(停止のない運転時
                                          のみ補正する)
26975 00005732 89FF                   M           BT      BCNT_STEP_NEXTCHK_300
26976                              67 I1  
26977                              68 I1  ;       ========== 減速点補正(タイマが全くない運転) ============
26978                              69 I1  ;;;     FAR_JSR #_GPOINT_HOS_CALC,R0                    ;CPU-A/B()
26979                              70 I1  ;       ==================================
26980                              71 I1  ;;;;;;;;20060919        .AIF    0 EQ    1       ;
26981                              72 I1  ;;;;;;;;        FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0               ;
26982                              73 I1  ;;;;;;;;        .AENDI                                  ;
26983                              74 I1  
26984                              75 I1  ;       ========== 新残りﾊﾟﾙｽ補正===============
26985                              76 I1  ;       誤差が1000PLSを超えたら周波数を変える 1HZ
26986                              77 I1  ;       誤差が2000PLSを超えたら周波数を変える 2HZ
26987                              78 I1  ;       誤差が3000PLSを超えたら周波数を変える 4HZ
26988                              79 I1  ;
26989                              80 I1  ;
26990                              81 I1  ;
26991                              82 I1  ;       ====================================
26992 00005734                     83 I1  BCNT_STEP_NEXTCHK_300:
26993                              84 I1  
26994                              85 I1          FAR_JSR #_CNT_VMODE_NEXT_CYCL_START,R0          ;(STOPﾗｯﾁはまずここでﾁｪｯｸされる)
26995 00005734 D003                   M           MOV.L   #_CNT_VMODE_NEXT_CYCL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26996 00005736 400B                   M           JSR     @R0                     ;
26997 00005738 0009                   M           NOP                                     ;
26998                              86 I1  
26999                              87 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;
27000 0000573A A00C                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27001 0000573C 0009                   M           NOP
27002                              88 I1  
27003                              89 I1  
27004                              90 I1  ;       ====(最終工程相当でここにくる)=====
27005                                 I1  ***** BEGIN-POOL *****
27006 0000573E 0000                   I1  ALIGNMENT CODE
27007 00005740 00000000               I1  DATA FOR SOURCE-LINE 63
27008 00005744 00000000               I1  DATA FOR SOURCE-LINE 85
27009                                 I1  ***** END-POOL *****
27010 00005748                     91 I1  BCNT_STEP_NEXTCHK_CHK:
27011 00005748 D104                92 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27012 0000574A 6011                93 I1          MOV.W   @R1,R0                          ;
27013 0000574C 2008                94 I1          TST     R0,R0                           ;
27014                              95 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_EXT        ;
27015 0000574E 8B02                   M           BF      BCNT_STEP_NEXTCHK_EXT
27016                              96 I1  ;       === 停止の減算はどこでも良い====
27017                              97 I1  ;       === 停止がある場合は停止で行うから結局は最終工程相当で引く===
27018                              98 I1          FAR_JSR #_CNT_GPOINT_STOP_TYP2,R0       ;連続停止時減速可能かどうかチェック
27019 00005750 D003                   M           MOV.L   #_CNT_GPOINT_STOP_TYP2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   376
PROGRAM NAME =

27020 00005752 400B                   M           JSR     @R0                     ;
27021 00005754 0009                   M           NOP                                     ;
27022                              99 I1  
27023                             100 I1  
27024 00005756                    101 I1  BCNT_STEP_NEXTCHK_EXT:
27025                             102 I1          SUB_END
27026                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27027 00005756 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27028                             103 I1          M_RTS
27029 00005758 000B                   M           RTS                             ;RTSの後ろの
27030 0000575A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27031                             104 I1  
27032                             105 I1  
27033                             106 I1  
27034                             107 I1  ;       ***********************************
27035                             108 I1  ;       ***                             ***
27036                             109 I1  ;       ***     工程切り替え            ***
27037                             110 I1  ;       ***     data add                ***
27038                             111 I1  ;       ***                             ***
27039                             112 I1  ;       ***********************************
27040                                 I1  ***** BEGIN-POOL *****
27041 0000575C 00000000               I1  DATA FOR SOURCE-LINE 92
27042 00005760 00000000               I1  DATA FOR SOURCE-LINE 98
27043                                 I1  ***** END-POOL *****
27044 00005764                    113 I1  _CNT_VMODE_NEXT_CYCL_START:
27045                             114 I1          SUB_START
27046 00005764 4F22                   M           STS.L   PR,@-R15                ;[必要]
27047                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27048                             115 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0     ;ﾓﾆﾀ用
27049 00005766 D01B                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27050 00005768 400B                   M           JSR     @R0                     ;
27051 0000576A 0009                   M           NOP                                     ;
27052                             116 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0        ;ﾓﾆﾀ用
27053 0000576C D01A                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27054 0000576E 400B                   M           JSR     @R0                     ;
27055 00005770 0009                   M           NOP                                     ;
27056                             117 I1  
27057                             118 I1          FAR_JSR #_CPU_AB_CST_ON_OUT2,R0                 ;次へいくぞ!
27058 00005772 D01A                   M           MOV.L   #_CPU_AB_CST_ON_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27059 00005774 400B                   M           JSR     @R0                     ;
27060 00005776 0009                   M           NOP                                     ;
27061                             119 I1          FAR_JSR #_MOTION_CYCLE_END,R0                   ;
27062 00005778 D019                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27063 0000577A 400B                   M           JSR     @R0                     ;
27064 0000577C 0009                   M           NOP                                     ;
27065                             120 I1          FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
27066 0000577E D019                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27067 00005780 400B                   M           JSR     @R0                     ;
27068 00005782 0009                   M           NOP                                     ;
27069                             121 I1  
27070                             122 I1  
27071                             123 I1          FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
27072 00005784 D018                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27073 00005786 400B                   M           JSR     @R0                     ;
27074 00005788 0009                   M           NOP                                     ;
27075                             124 I1  
27076                             125 I1  ;       --------- 2020-05-07-----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   377
PROGRAM NAME =

27077 0000578A D418               126 I1          MOV.L   #_M_LINK_AREASIG,R4                     ;
27078 0000578C 6041               127 I1          MOV.W   @R4,R0                                          ;
27079 0000578E C802               128 I1          TST     #(BIT1),R0                                              ;下降からの開始
27080                             129 I1          TST_BIT_OF VMODE_LOT_SIG_ON                     ;
27081 00005790 8903                   M           BT      VMODE_LOT_SIG_ON
27082 00005792 D117               130 I1          MOV.L   #_LOT_CHK_FLG,R1                        ;
27083 00005794 6011               131 I1          MOV.W   @R1,R0                                          ;
27084 00005796 CB07               132 I1          OR      #(BIT2+BIT1+BIT0),R0                    ;(待機点は通過)
27085 00005798 2101               133 I1          MOV.W   R0,@R1                                          ;
27086 0000579A                    134 I1  VMODE_LOT_SIG_ON:
27087 0000579A D416               135 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB260,R4     ;
27088 0000579C 2401               136 I1          MOV.W   R0,@R4                                          ;
27089                             137 I1  
27090 0000579E D116               138 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
27091 000057A0 6011               139 I1          MOV.W   @R1,R0
27092 000057A2 7001               140 I1          ADD             #1,R0
27093 000057A4 2101               141 I1          MOV.W   R0,@R1
27094                             142 I1  
27095                             143 I1  ;       -----------------------------------
27096                             144 I1  
27097                             145 I1  
27098                             146 I1  
27099                             147 I1  ;;2016-10-31    FAR_JSR #_DBG_END_CNT3,R0                       ;
27100                             148 I1  
27101 000057A6 200A               149 I1          XOR     R0,R0                                   ;
27102 000057A8 D114               150 I1          MOV.L   #_INT_POS_STEP_FLG,R1                   ;//ｽﾃｯﾌﾟ,段取り共通
27103 000057AA 2101               151 I1          MOV.W   R0,@R1                                  ;
27104                             152 I1  
27105                             153 I1          FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0            ;
27106 000057AC D014                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27107 000057AE 400B                   M           JSR     @R0                     ;
27108 000057B0 0009                   M           NOP                                     ;
27109                             154 I1  
27110                             155 I1  ;       ------------------2006-12-18----------------------
27111                             156 I1          FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0             ;20060919:
27112 000057B2 D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27113 000057B4 400B                   M           JSR     @R0                     ;
27114 000057B6 0009                   M           NOP                                     ;
27115                             157 I1  ;       --------------------------------------------------
27116                             158 I1  
27117 000057B8 D113               159 I1          MOV.L   #_SV_POS_CTL_STEP,R1                    ;//1msec 制御上の見かけ
27118 000057BA 6411               160 I1          MOV.W   @R1,R4                                  ;
27119 000057BC D213               161 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27120 000057BE 2241               162 I1          MOV.W   R4,@R2                                  ;
27121                             163 I1  
27122                             164 I1  
27123                             165 I1  ;;      FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;_LNGTH,SHIN,SPEED<設定から求める>
27124                             166 I1  
27125                             167 I1  
27126                             168 I1  ;       ==== 最終工程相当でなければ速度を切り替えるだけ===
27127                             169 I1  ;       LINKX-->LINKは
27128                             170 I1  ;       その前の処理で行われているはずなので不要
27129 000057C0 D113               171 I1          MOV.L   #_CPOS_MOD_FLG1,R1                      ;
27130 000057C2 6011               172 I1          MOV.W   @R1,R0                                  ;
27131 000057C4 C808               173 I1          TST     #BIT3,R0                                ;
27132                             174 I1          TST_BIT_ON CNT_VMODE_NEXT_CYCLSTR_050           ;
27133 000057C6 8B27                   M           BF      CNT_VMODE_NEXT_CYCLSTR_050
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   378
PROGRAM NAME =

27134                             175 I1  
27135                             176 I1  ;       === ﾀｲﾏ停止有り ===ここで移動量は作成しない===
27136                             177 I1          FAR_JSR #_CNT_SPD_SET,R0                        ;(これではステップ上の運転開始とは
                                          いえ自起動まで落ちているから良い)
27137 000057C8 D012                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27138 000057CA 400B                   M           JSR     @R0                     ;
27139 000057CC 0009                   M           NOP                                     ;
27140                             178 I1          M_BRA   CNT_VMODE_NEXT_CYCLSTR_100
27141 000057CE A029                   M           BRA     CNT_VMODE_NEXT_CYCLSTR_100
27142 000057D0 0009                   M           NOP
27143                             179 I1  
27144                             180 I1  
27145                                 I1  ***** BEGIN-POOL *****
27146 000057D2 0000                   I1  ALIGNMENT CODE
27147 000057D4 00000000               I1  DATA FOR SOURCE-LINE 115
27148 000057D8 00000000               I1  DATA FOR SOURCE-LINE 116
27149 000057DC 00000000               I1  DATA FOR SOURCE-LINE 118
27150 000057E0 00000000               I1  DATA FOR SOURCE-LINE 119
27151 000057E4 00000000               I1  DATA FOR SOURCE-LINE 120
27152 000057E8 00000000               I1  DATA FOR SOURCE-LINE 123
27153 000057EC 00000000               I1  DATA FOR SOURCE-LINE 126
27154 000057F0 00000000               I1  DATA FOR SOURCE-LINE 130
27155 000057F4 00000000               I1  DATA FOR SOURCE-LINE 135
27156 000057F8 00000000               I1  DATA FOR SOURCE-LINE 138
27157 000057FC 00000000               I1  DATA FOR SOURCE-LINE 150
27158 00005800 00000000               I1  DATA FOR SOURCE-LINE 153
27159 00005804 00000000               I1  DATA FOR SOURCE-LINE 156
27160 00005808 00000000               I1  DATA FOR SOURCE-LINE 159
27161 0000580C 00000000               I1  DATA FOR SOURCE-LINE 161
27162 00005810 00000000               I1  DATA FOR SOURCE-LINE 171
27163 00005814 00000000               I1  DATA FOR SOURCE-LINE 177
27164                                 I1  ***** END-POOL *****
27165 00005818                    181 I1  CNT_VMODE_NEXT_CYCLSTR_050:
27166                             182 I1  ;       === ﾀｲﾏ停止全くなし ===ここで移動量を作成===
27167                             183 I1          FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;CNT_SPD
27168 00005818 D014                   M           MOV.L   #_POS_CNT_BANK_DTMAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27169 0000581A 400B                   M           JSR     @R0                     ;
27170 0000581C 0009                   M           NOP                                     ;
27171                             184 I1          FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0             ;
27172 0000581E D014                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27173 00005820 400B                   M           JSR     @R0                     ;
27174 00005822 0009                   M           NOP                                     ;
27175                             185 I1  
27176 00005824                    186 I1  CNT_VMODE_NEXT_CYCLSTR_100:
27177                             187 I1  
27178                             188 I1  
27179                             189 I1  
27180                             190 I1  ;;;だめ FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;
27181                             191 I1  
27182                             192 I1  ;       ==== 2004-03-29 ====
27183                             193 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;OK!
27184 00005824 D013                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27185 00005826 400B                   M           JSR     @R0                     ;
27186 00005828 0009                   M           NOP                                     ;
27187                             194 I1          FAR_JSR #_MOTION_CYCLE_START,R0         ;
27188 0000582A D013                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27189 0000582C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   379
PROGRAM NAME =

27190 0000582E 0009                   M           NOP                                     ;
27191 00005830 D112               195 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1    ;       //連続が１ｽﾃｯﾌﾟになった
27192 00005832 9019               196 I1          MOV.W   #BIT0,R0                ;
27193 00005834 2101               197 I1          MOV.W   R0,@R1                  ;
27194                             198 I1  
27195                             199 I1  
27196                             200 I1  ;       ==================================
27197                             201 I1          FAR_JSR #_CMPCYC_START_CLR,R0
27198 00005836 D012                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27199 00005838 400B                   M           JSR     @R0                     ;
27200 0000583A 0009                   M           NOP                                     ;
27201                             202 I1  ;       ===============================================
27202                             203 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
27203 0000583C D111                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
27204 0000583E 6011                   M           MOV.W   @R1,R0          ;
27205 00005840 C9FE                   M           AND     #LOW ~BIT0,R0           ;
27206 00005842 2101                   M           MOV.W   R0,@R1          ;
27207                             204 I1          FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13
27208 00005844 D010                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27209 00005846 400B                   M           JSR     @R0                     ;
27210 00005848 0009                   M           NOP                                     ;
27211                             205 I1  ;       ===============================================
27212                             206 I1          FAR_JSR #_FUL_DATA_INIT,R0
27213 0000584A D010                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27214 0000584C 400B                   M           JSR     @R0                     ;
27215 0000584E 0009                   M           NOP                                     ;
27216                             207 I1  ;       ==================================
27217                             208 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
27218 00005850 D00F                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27219 00005852 400B                   M           JSR     @R0                     ;
27220 00005854 0009                   M           NOP                                     ;
27221                             209 I1  ;       ================<<<2004-03-25>>>==========
27222                             210 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾓﾆﾀ用
27223 00005856 D00F                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27224 00005858 400B                   M           JSR     @R0                     ;
27225 0000585A 0009                   M           NOP                                     ;
27226                             211 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾓﾆﾀ用
27227 0000585C D00E                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27228 0000585E 400B                   M           JSR     @R0                     ;
27229 00005860 0009                   M           NOP                                     ;
27230                             212 I1          SUB_END
27231                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27232 00005862 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27233                             213 I1          M_RTS
27234 00005864 000B                   M           RTS                             ;RTSの後ろの
27235 00005866 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27236                             214 I1  
27237                             215 I1  
27238                             216 I1  ;       *******************************************
27239                             217 I1  ;       ***                                     ***
27240                             218 I1  ;       ***                                     ***
27241                             219 I1  ;       *******************************************
27242                             220 I1  ;       ***********************************
27243                             221 I1  ;       ***                             ***
27244                             222 I1  ;       ***     移動距離のみ+SPEED      ***
27245                             223 I1  ;       ***                             ***
27246                             224 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   380
PROGRAM NAME =

27247                             225 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27248                             226 I1  ;       が
27249                             227 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
27250                             228 I1  ;       になっているだけ
27251                             229 I1  ;       (回転途中の演算　１回転分)
27252                             230 I1  
27253                             231 I1  ;       ===== タイマ停止後起動時===
27254                                 I1  ***** BEGIN-POOL *****
27255 00005868 0001                   I1  DATA FOR SOURCE-LINE 196
27256 0000586A 0000                   I1  ALIGNMENT CODE
27257 0000586C 00000000               I1  DATA FOR SOURCE-LINE 183
27258 00005870 00000000               I1  DATA FOR SOURCE-LINE 184
27259 00005874 00000000               I1  DATA FOR SOURCE-LINE 193
27260 00005878 00000000               I1  DATA FOR SOURCE-LINE 194
27261 0000587C 00000000               I1  DATA FOR SOURCE-LINE 195
27262 00005880 00000000               I1  DATA FOR SOURCE-LINE 201
27263 00005884 00000000               I1  DATA FOR SOURCE-LINE 203
27264 00005888 00000000               I1  DATA FOR SOURCE-LINE 204
27265 0000588C 00000000               I1  DATA FOR SOURCE-LINE 206
27266 00005890 00000000               I1  DATA FOR SOURCE-LINE 208
27267 00005894 00000000               I1  DATA FOR SOURCE-LINE 210
27268 00005898 00000000               I1  DATA FOR SOURCE-LINE 211
27269                                 I1  ***** END-POOL *****
27270 0000589C                    232 I1  _POS_CNT_BANK_DTMAK3:                           ;上死点ﾀｲﾏ=0で途中で止まる時
27271                             233 I1          SUB_START
27272 0000589C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27273                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27274                             234 I1  
27275                             235 I1  ;       -------debug break-point set----------
27276                             236 I1          PUSH_REG1 R0
27277 0000589E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27278                                 M                                           ;REG=>[SP]
27279                                 M                                           ;"-4" FF,FF,FF,FC
27280                             237 I1          PUSH_REG1 R1
27281 000058A0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27282                                 M                                           ;REG=>[SP]
27283                                 M                                           ;"-4" FF,FF,FF,FC
27284 000058A2 D10C               238 I1          MOV.L   #_di2_cb_ctl2,R1        ;
27285 000058A4 6011               239 I1          MOV.W   @R1,R0                  ;
27286 000058A6 C880               240 I1          TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
27287                             241 I1          TST_BIT_OF CNTBANK_DBGBRK_100   ;
27288 000058A8 8904                   M           BT      CNTBANK_DBGBRK_100
27289                             242 I1  
27290 000058AA 0009               243 I1          NOP
27291 000058AC 0009               244 I1          NOP
27292 000058AE 0009               245 I1          NOP
27293 000058B0 0009               246 I1          NOP
27294 000058B2 0009               247 I1          NOP
27295                             248 I1  
27296                             249 I1  
27297 000058B4                    250 I1  CNTBANK_DBGBRK_100
27298                             251 I1  
27299                             252 I1  
27300                             253 I1          POP_REG1 R1
27301                                 M                                   ; RE"+4" 00,00,00,04
27302 000058B4 61F6                   M           MOV.L   @R15+,R1        ;
27303                             254 I1          POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   381
PROGRAM NAME =

27304                                 M                                   ; RE"+4" 00,00,00,04
27305 000058B6 60F6                   M           MOV.L   @R15+,R0        ;
27306                             255 I1  
27307                             256 I1  
27308                             257 I1  
27309                             258 I1  
27310                             259 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27311 000058B8 D007                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27312 000058BA 400B                   M           JSR     @R0                     ;
27313 000058BC 0009                   M           NOP                                     ;
27314                             260 I1  
27315                             261 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27316 000058BE D007                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27317 000058C0 400B                   M           JSR     @R0                     ;
27318 000058C2 0009                   M           NOP                                     ;
27319                             262 I1  
27320 000058C4 D406               263 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                 ;//起動時,その他で演算 8byte data
27321 000058C6 2008               264 I1          TST     R0,R0                                   ;
27322                             265 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM              ;最終工程でなければ
27323 000058C8 8932                   M           BT      POS_CNT_BANKDTMAK12_COM
27324                             266 I1  
27325 000058CA D406               267 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4                ;//起動時,その他で演算 8byte data
27326 000058CC 9001               268 I1          MOV.W   #1,R0                                   ;
27327                             269 I1          M_BRA   POS_CNT_BANKDTMAK123_COM                ;最終工程相当なら
27328 000058CE A038                   M           BRA     POS_CNT_BANKDTMAK123_COM
27329 000058D0 0009                   M           NOP
27330                             270 I1  
27331                             271 I1  
27332                                 I1  ***** BEGIN-POOL *****
27333 000058D2 0001                   I1  DATA FOR SOURCE-LINE 268
27334 000058D4 00000000               I1  DATA FOR SOURCE-LINE 238
27335 000058D8 00000000               I1  DATA FOR SOURCE-LINE 259
27336 000058DC 00000000               I1  DATA FOR SOURCE-LINE 261
27337 000058E0 00000000               I1  DATA FOR SOURCE-LINE 263
27338 000058E4 00000000               I1  DATA FOR SOURCE-LINE 267
27339                                 I1  ***** END-POOL *****
27340 000058E8                    272 I1  _POS_CNT_BANK_DTMAK2:                                   ;どこにも止まらないとき
27341                             273 I1          SUB_START
27342 000058E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27344                             274 I1          M_BRA   POS_CNT_BANKDTMAK12_COM
27345 000058EA A021                   M           BRA     POS_CNT_BANKDTMAK12_COM
27346 000058EC 0009                   M           NOP
27347                             275 I1  
27348                             276 I1  ;       ===== 初回の起動時===
27349 000058EE                    277 I1  _POS_CNT_BANK_DTMAK1:
27350                             278 I1          SUB_START
27351 000058EE 4F22                   M           STS.L   PR,@-R15                ;[必要]
27352                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27353                             279 I1  
27354                             280 I1  ;;;;2014-09-14  ----------------------------------------------
27355                             281 I1  ;;;;2014-09-14  MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
27356                             282 I1  ;;;;2014-09-14  MOV.W   @R1,R0                          ;
27357                             283 I1  ;;;;2014-09-14  TST     #BIT0,R0                        ;
27358                             284 I1  ;;;;2014-09-14  TST_BIT_OF POSCNT_BANKDT050             ;
27359                             285 I1  ;;;;2014-09-14
27360                             286 I1  ;;;;2014-09-14  MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   382
PROGRAM NAME =

27361                             287 I1  ;;;;2014-09-14  MOV.L   @(0,R4),R1                      ;
27362                             288 I1  ;;;;2014-09-14  MOV.L   @(4,R4),R2                      ;
27363                             289 I1  ;;;;2014-09-14  M_BRA   POSCNT_BANKDT075                ;
27364                             290 I1  ;;;;2014-09-14
27365                             291 I1  ;;;;2014-09-14
27366                             292 I1  ;;;;2014-09-14POSCNT_BANKDT050
27367                             293 I1  ;;;;2014-09-14
27368                             294 I1  ;;;;2014-09-14  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27369                             295 I1  ;;;;2014-09-14
27370                             296 I1  ;;;;2014-09-14  MOV.L   #_LINK_PV_ABSPLS,R4     ;(ﾌﾙｸﾛｰｽﾞ時は対象を変える)
27371                             297 I1  ;;;;2014-09-14  MOV.L   @R4+,R1                         ;
27372                             298 I1  ;;;;2014-09-14  MOV.L   @R4,R2                          ;
27373                             299 I1  ;;;;2014-09-14
27374                             300 I1  ;;;;2014-09-14POSCNT_BANKDT075
27375                             301 I1  
27376 000058F0 D409               302 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27377 000058F2 5140               303 I1          MOV.L   @(0,R4),R1                      ;
27378 000058F4 5241               304 I1          MOV.L   @(4,R4),R2                      ;
27379                             305 I1  
27380 000058F6 D509               306 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27381 000058F8 2512               307 I1          MOV.L   R1,@R5                          ;
27382 000058FA 1521               308 I1          MOV.L   R2,@(4,R5)                      ;
27383 000058FC D508               309 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27384 000058FE 2512               310 I1          MOV.L   R1,@R5                          ;
27385 00005900 1521               311 I1          MOV.L   R2,@(4,R5)                      ;
27386                             312 I1  
27387 00005902                    313 I1  POSCNT_BANKDT100
27388                             314 I1  
27389                             315 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;上死点タイマなしで止まる時・止まらない時
27390 00005902 D008                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27391 00005904 400B                   M           JSR     @R0                     ;
27392 00005906 0009                   M           NOP                                     ;
27393                             316 I1  
27394 00005908 D407               317 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;
27395 0000590A 2008               318 I1          TST     R0,R0                           ;
27396                             319 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM      ;最終工程でなければ
27397 0000590C 8910                   M           BT      POS_CNT_BANKDTMAK12_COM
27398                             320 I1  
27399 0000590E D407               321 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27400 00005910 9001               322 I1          MOV.W   #1,R0                           ;
27401                             323 I1          M_BRA   POS_CNT_BANKDTMAK123_COM        ;最終工程相当なら
27402 00005912 A016                   M           BRA     POS_CNT_BANKDTMAK123_COM
27403 00005914 0009                   M           NOP
27404                             324 I1  
27405                             325 I1  
27406                             326 I1  
27407                             327 I1  
27408                             328 I1  
27409                             329 I1  
27410                             330 I1  
27411                             331 I1  
27412                             332 I1  
27413                             333 I1  
27414                             334 I1  
27415                             335 I1  
27416                             336 I1  
27417                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   383
PROGRAM NAME =

27418 00005916 0001                   I1  DATA FOR SOURCE-LINE 322
27419 00005918 00000000               I1  DATA FOR SOURCE-LINE 302
27420 0000591C 00000000               I1  DATA FOR SOURCE-LINE 306
27421 00005920 00000000               I1  DATA FOR SOURCE-LINE 309
27422 00005924 00000000               I1  DATA FOR SOURCE-LINE 315
27423 00005928 00000000               I1  DATA FOR SOURCE-LINE 317
27424 0000592C 00000000               I1  DATA FOR SOURCE-LINE 321
27425                                 I1  ***** END-POOL *****
27426 00005930                    337 I1  POS_CNT_BANKDTMAK12_COM:
27427                             338 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27428 00005930 D00B                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27429 00005932 400B                   M           JSR     @R0                     ;
27430 00005934 0009                   M           NOP                                     ;
27431                             339 I1  
27432 00005936 D40B               340 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;//起動時,その他で演算 8byte data
27433 00005938 2008               341 I1          TST     R0,R0                           ;
27434                             342 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_050      ;
27435 0000593A 8900                   M           BT      POS_CNT_BANKDTMAK12_050
27436 0000593C D40A               343 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27437 0000593E                    344 I1  POS_CNT_BANKDTMAK12_050:
27438                             345 I1  
27439                             346 I1  
27440                             347 I1  
27441 0000593E D20B               348 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27442 00005940 6021               349 I1          MOV.W   @R2,R0                          ;
27443 00005942                    350 I1  POS_CNT_BANKDTMAK123_COM:
27444 00005942 70FF               351 I1          ADD     #-1,R0                          ;
27445 00005944 4008               352 I1          SHLL2   R0                              ;
27446 00005946 4000               353 I1          SHLL    R0                              ;*2
27447 00005948 340C               354 I1          ADD     R0,R4                           ;
27448 0000594A 6146               355 I1          MOV.L   @R4+,R1                         ;
27449 0000594C 6242               356 I1          MOV.L   @R4,R2                          ;(目標位置)
27450                             357 I1          FAR_JSR #_POS_CNT_BANK_DTMAK_CM,R0      ;LINKXから計算するADDDATA作成
27451 0000594E D008                   M           MOV.L   #_POS_CNT_BANK_DTMAK_CM,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27452 00005950 400B                   M           JSR     @R0                     ;
27453 00005952 0009                   M           NOP                                     ;
27454                             358 I1          FAR_JSR #_CNT_SPD_SET,R0                ;
27455 00005954 D007                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27456 00005956 400B                   M           JSR     @R0                     ;
27457 00005958 0009                   M           NOP                                     ;
27458                             359 I1  
27459                             360 I1  
27460                             361 I1  
27461                             362 I1          SUB_END
27462                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27463 0000595A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27464                             363 I1          M_RTS
27465 0000595C 000B                   M           RTS                             ;RTSの後ろの
27466 0000595E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27467                             364 I1  
27468                             365 I1  
27469                             366 I1  
27470                             367 I1  
27471                             368 I1  ;       ***************************************************
27472                             369 I1  ;       ***     速度継続結果の最終ステップ相当か        ***
27473                             370 I1  ;       ***************************************************
27474                             371 I1  ;       ANS R0!=0 最終
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   384
PROGRAM NAME =

27475                                 I1  ***** BEGIN-POOL *****
27476 00005960 00000000               I1  DATA FOR SOURCE-LINE 338
27477 00005964 00000000               I1  DATA FOR SOURCE-LINE 340
27478 00005968 00000000               I1  DATA FOR SOURCE-LINE 343
27479 0000596C 00000000               I1  DATA FOR SOURCE-LINE 348
27480 00005970 00000000               I1  DATA FOR SOURCE-LINE 357
27481 00005974 00000000               I1  DATA FOR SOURCE-LINE 358
27482                                 I1  ***** END-POOL *****
27483 00005978                    372 I1  _POS_CNT_LAST_STEP_CHK:
27484                             373 I1          SUB_START
27485 00005978 4F22                   M           STS.L   PR,@-R15                ;[必要]
27486                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27487                             374 I1          PUSH_REG1 R1
27488 0000597A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27489                                 M                                           ;REG=>[SP]
27490                                 M                                           ;"-4" FF,FF,FF,FC
27491                             375 I1          PUSH_REG1 R2
27492 0000597C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27493                                 M                                           ;REG=>[SP]
27494                                 M                                           ;"-4" FF,FF,FF,FC
27495                             376 I1          PUSH_REG1 R3
27496 0000597E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
27497                                 M                                           ;REG=>[SP]
27498                                 M                                           ;"-4" FF,FF,FF,FC
27499                             377 I1  
27500 00005980 D209               378 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27501 00005982 6021               379 I1          MOV.W   @R2,R0                          ;
27502 00005984 70FF               380 I1          ADD     #-1,R0                          ;
27503 00005986 4008               381 I1          SHLL2   R0
27504 00005988 D108               382 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
27505 0000598A 021E               383 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
27506 0000598C D108               384 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
27507 0000598E 6311               385 I1          MOV.W   @R1,R3                          ;
27508 00005990 7301               386 I1          ADD     #1,R3                           ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27509                             387 I1  
27510 00005992 200A               388 I1          XOR     R0,R0                           ;
27511 00005994 3320               389 I1          CMP/EQ  R2,R3                           ;
27512 00005996 8B00               390 I1          BF      POS_CNT_LASTSTEPCHK_END         ;
27513 00005998 E0FF               391 I1          MOV     #-1,R0                          ;LAST相当
27514 0000599A                    392 I1  POS_CNT_LASTSTEPCHK_END:                        ;
27515                             393 I1  
27516                             394 I1          POP_REG1 R3
27517                                 M                                   ; RE"+4" 00,00,00,04
27518 0000599A 63F6                   M           MOV.L   @R15+,R3        ;
27519                             395 I1          POP_REG1 R2
27520                                 M                                   ; RE"+4" 00,00,00,04
27521 0000599C 62F6                   M           MOV.L   @R15+,R2        ;
27522                             396 I1          POP_REG1 R1
27523                                 M                                   ; RE"+4" 00,00,00,04
27524 0000599E 61F6                   M           MOV.L   @R15+,R1        ;
27525                             397 I1  
27526                             398 I1          SUB_END
27527                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27528 000059A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27529                             399 I1          M_RTS
27530 000059A2 000B                   M           RTS                             ;RTSの後ろの
27531 000059A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   385
PROGRAM NAME =

27532                             400 I1  
27533                             401 I1  
27534                             402 I1  
27535                             403 I1  ;       ***********************************
27536                             404 I1  ;       ***                             ***
27537                             405 I1  ;       ***     移動距離のみ            ***
27538                             406 I1  ;       ***                             ***
27539                             407 I1  ;       ***********************************
27540                             408 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27541                             409 I1  ;       が
27542                             410 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
27543                             411 I1  ;       になっているだけ
27544                             412 I1  ;       (回転途中の演算　１回転分)
27545                                 I1  ***** BEGIN-POOL *****
27546 000059A6 0000                   I1  ALIGNMENT CODE
27547 000059A8 00000000               I1  DATA FOR SOURCE-LINE 378
27548 000059AC 00000000               I1  DATA FOR SOURCE-LINE 382
27549 000059B0 00000000               I1  DATA FOR SOURCE-LINE 384
27550                                 I1  ***** END-POOL *****
27551 000059B4                    413 I1  _CNT_SPD_SET:
27552                             414 I1          SUB_START
27553 000059B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
27554                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27555 000059B6 D207               415 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27556 000059B8 6021               416 I1          MOV.W   @R2,R0                                  ;
27557 000059BA 70FF               417 I1          ADD     #-1,R0                                  ;
27558 000059BC 4008               418 I1          SHLL2   R0                                      ;
27559 000059BE D406               419 I1          MOV.L   #_CPOS_SDAT1_SPD,R4                     ;       //SETX-->起動時COPY
27560 000059C0 024E               420 I1          MOV.L   @(R0,R4),R2                             ;
27561 000059C2 D106               421 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
27562 000059C4 2122               422 I1          MOV.L   R2,@R1                                  ;
27563                             423 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;
27564 000059C6 D106                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27565 000059C8 410B                   M           JSR     @R1                     ;
27566 000059CA 0009                   M           NOP                                     ;
27567                             424 I1          SUB_END
27568                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27569 000059CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27570                             425 I1          M_RTS
27571 000059CE 000B                   M           RTS                             ;RTSの後ろの
27572 000059D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27573                             426 I1  
27574                                 I1  ***** BEGIN-POOL *****
27575 000059D2 0000                   I1  ALIGNMENT CODE
27576 000059D4 00000000               I1  DATA FOR SOURCE-LINE 415
27577 000059D8 00000000               I1  DATA FOR SOURCE-LINE 419
27578 000059DC 00000000               I1  DATA FOR SOURCE-LINE 421
27579 000059E0 00000000               I1  DATA FOR SOURCE-LINE 423
27580                                 I1  ***** END-POOL *****
27581 000059E4                    427 I1  _POS_CNT_BANK_DTMAK_CM:
27582                             428 I1          SUB_START
27583 000059E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
27584                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27585                             429 I1  
27586                             430 I1          FAR_JSR #_BANK_LENGH_ADD_CALC_SV_TYPE,R0        ;LINKXのみ+
27587 000059E6 D007                   M           MOV.L   #_BANK_LENGH_ADD_CALC_SV_TYPE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27588 000059E8 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   386
PROGRAM NAME =

27589 000059EA 0009                   M           NOP                                     ;
27590                             431 I1  
27591 000059EC 233A               432 I1          XOR     R3,R3                           ;
27592 000059EE 4111               433 I1          CMP/PZ  R1                              ;+正転?
27593 000059F0 8900               434 I1          BT      POS_CNT_BANKDTMKCM_050          ;
27594 000059F2 E301               435 I1          MOV     #BIT0,R3                        ;
27595 000059F4                    436 I1  POS_CNT_BANKDTMKCM_050
27596 000059F4 D104               437 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
27597 000059F6 6011               438 I1          MOV.W   @R1,R0                  ;
27598 000059F8 C9FE               439 I1          AND     #LOW ~BIT0,R0           ;
27599 000059FA 203B               440 I1          OR      R3,R0                   ;
27600 000059FC 2101               441 I1          MOV.W   R0,@R1                  ;
27601                             442 I1  
27602 000059FE                    443 I1  POS_CNT_BANKDTMKCM_EXT:
27603                             444 I1          SUB_END
27604                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27605 000059FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27606                             445 I1          M_RTS
27607 00005A00 000B                   M           RTS                             ;RTSの後ろの
27608 00005A02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27609                             446 I1  
27610                             447 I1  
27611                             448 I1  
27612                             449 I1  
27613                             450 I1  
27614                             451 I1  
27615                             452 I1  
27616                             453 I1  
27617                             454 I1  ;       ***************************************************
27618                             455 I1  ;       ***                                             ***
27619                             456 I1  ;       ***     BANK2 ﾃﾞｰﾀ作成                          ***
27620                             457 I1  ;       ***     起動時BANK1ﾃﾞｰﾀを作成直後に呼ばれる     ***
27621                             458 I1  ;       ***     MODE関係なしで呼ばれるのでこの中でﾁｬｯｸ  ***
27622                             459 I1  ;       ***                                             ***
27623                             460 I1  ;       ***************************************************
27624                             461 I1  ;
27625                                 I1  ***** BEGIN-POOL *****
27626 00005A04 00000000               I1  DATA FOR SOURCE-LINE 430
27627 00005A08 00000000               I1  DATA FOR SOURCE-LINE 437
27628                                 I1  ***** END-POOL *****
27629 00005A0C                    462 I1  _START_CNT_BANK2_MAK_CHK:
27630                             463 I1          SUB_START
27631 00005A0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27632                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27633 00005A0E D108               464 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
27634 00005A10 6011               465 I1          MOV.W   @R1,R0                          ;
27635 00005A12 C801               466 I1          TST     #BIT0,R0                        ;
27636                             467 I1          TST_BIT_OF START_CNT_BANK2_MAKCHK_END   ;
27637 00005A14 8908                   M           BT      START_CNT_BANK2_MAKCHK_END
27638                             468 I1  
27639 00005A16 D107               469 I1          MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R1      ;
27640 00005A18 6212               470 I1          MOV.L   @R1,R2                          ;
27641 00005A1A 7201               471 I1          ADD     #1,R2                           ;
27642                             472 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
27643 00005A1C D006                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27644 00005A1E 400B                   M           JSR     @R0                     ;
27645 00005A20 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   387
PROGRAM NAME =

27646                             473 I1  
27647                             474 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
27648                             475 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
27649 00005A22 D006                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27650 00005A24 400B                   M           JSR     @R0                     ;
27651 00005A26 0009                   M           NOP                                     ;
27652                             476 I1  
27653 00005A28                    477 I1  START_CNT_BANK2_MAKCHK_END:
27654                             478 I1          SUB_END
27655                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27656 00005A28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27657                             479 I1          M_RTS
27658 00005A2A 000B                   M           RTS                             ;RTSの後ろの
27659 00005A2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27660                             480 I1  
27661                             481 I1  
27662                             482 I1  ;       ***********************************
27663                             483 I1  ;       ***                             ***
27664                             484 I1  ;       ***     工程切り替え            ***
27665                             485 I1  ;       ***     前の機能もここで行う    ***
27666                             486 I1  ;       ***                             ***
27667                             487 I1  ;       ***********************************
27668                             488 I1  ;       Input R2
27669                                 I1  ***** BEGIN-POOL *****
27670 00005A2E 0000                   I1  ALIGNMENT CODE
27671 00005A30 00000000               I1  DATA FOR SOURCE-LINE 464
27672 00005A34 00000000               I1  DATA FOR SOURCE-LINE 469
27673 00005A38 00000000               I1  DATA FOR SOURCE-LINE 472
27674 00005A3C 00000000               I1  DATA FOR SOURCE-LINE 475
27675                                 I1  ***** END-POOL *****
27676 00005A40                    489 I1  _BANK_CHK_NEXT_CYCL_STR1;
27677                             490 I1          SUB_START
27678 00005A40 4F22                   M           STS.L   PR,@-R15                ;[必要]
27679                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27680                             491 I1  
27681 00005A42 D10F               492 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
27682 00005A44 6011               493 I1          MOV.W   @R1,R0                          ;
27683 00005A46 C801               494 I1          TST     #BIT0,R0                        ;
27684                             495 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_020    ;
27685 00005A48 892A                   M           BT      BANKCHKNEXT_CYCL_STR1_020
27686                             496 I1  
27687 00005A4A 9417               497 I1          MOV.W   #1,R4                           ;
27688 00005A4C D10D               498 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
27689 00005A4E 2141               499 I1          MOV.W   R4,@R1                          ;W
27690                             500 I1  
27691                             501 I1          FAR_JSR #_BANK2_TO_BANK1_MOV,R0         ;
27692 00005A50 D00D                   M           MOV.L   #_BANK2_TO_BANK1_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27693 00005A52 400B                   M           JSR     @R0                     ;
27694 00005A54 0009                   M           NOP                                     ;
27695 00005A56 D10D               502 I1          MOV.L   #_BANK2_LINK_OBJROT_NUM_ZR,R1   ;//NOW ROTATION 番号
27696 00005A58 6212               503 I1          MOV.L   @R1,R2                          ;
27697                             504 I1          PUSH_REG1 R2                            ;
27698 00005A5A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27699                                 M                                           ;REG=>[SP]
27700                                 M                                           ;"-4" FF,FF,FF,FC
27701                             505 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;
27702 00005A5C D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   388
PROGRAM NAME =

27703 00005A5E 410B                   M           JSR     @R1                     ;
27704 00005A60 0009                   M           NOP                                     ;
27705                             506 I1          POP_REG1 R2                             ;
27706                                 M                                   ; RE"+4" 00,00,00,04
27707 00005A62 62F6                   M           MOV.L   @R15+,R2        ;
27708 00005A64 7201               507 I1          ADD     #1,R2                           ;NEW-ROT
27709                             508 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
27710 00005A66 D00B                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27711 00005A68 400B                   M           JSR     @R0                     ;
27712 00005A6A 0009                   M           NOP                                     ;
27713                             509 I1  
27714                             510 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
27715                             511 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
27716 00005A6C D00A                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27717 00005A6E 400B                   M           JSR     @R0                     ;
27718 00005A70 0009                   M           NOP                                     ;
27719                             512 I1  
27720                             513 I1  ;--------2011-05-11----
27721                             514 I1          FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
27722 00005A72 D00A                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27723 00005A74 400B                   M           JSR     @R0                     ;
27724 00005A76 0009                   M           NOP                                     ;
27725                             515 I1  
27726                             516 I1  ;--------2011-05-05----
27727                             517 I1  ;;      MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
27728                             518 I1  ;;      MOV.W   @R1,R0                          ;
27729                             519 I1  ;;      TST     R0,R0                           ;
27730                             520 I1  ;;      TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
27731                             521 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27732                             522 I1  ;;      MOV.W   @R1,R0                          ;
27733                             523 I1  ;;      OR      #BIT0,R0                        ;
27734                             524 I1  ;;      MOV.W   R0,@R1                          ;
27735                             525 I1  ;;BANKCHKNEXT_CYCL_STR1_010:
27736                             526 I1  
27737                             527 I1          M_BRA   BANKCHKNEXT_CYCL_STR1_100       ;
27738 00005A78 A025                   M           BRA     BANKCHKNEXT_CYCL_STR1_100
27739 00005A7A 0009                   M           NOP
27740                             528 I1  
27741                                 I1  ***** BEGIN-POOL *****
27742 00005A7C 0001                   I1  DATA FOR SOURCE-LINE 497
27743 00005A7E 0000                   I1  ALIGNMENT CODE
27744 00005A80 00000000               I1  DATA FOR SOURCE-LINE 492
27745 00005A84 00000000               I1  DATA FOR SOURCE-LINE 498
27746 00005A88 00000000               I1  DATA FOR SOURCE-LINE 501
27747 00005A8C 00000000               I1  DATA FOR SOURCE-LINE 502
27748 00005A90 00000000               I1  DATA FOR SOURCE-LINE 505
27749 00005A94 00000000               I1  DATA FOR SOURCE-LINE 508
27750 00005A98 00000000               I1  DATA FOR SOURCE-LINE 511
27751 00005A9C 00000000               I1  DATA FOR SOURCE-LINE 514
27752                                 I1  ***** END-POOL *****
27753 00005AA0                    529 I1  BANKCHKNEXT_CYCL_STR1_020:
27754 00005AA0 D10E               530 I1          MOV.L   #_CPOS_CTL_MATH,R1              ;
27755 00005AA2 6011               531 I1          MOV.W   @R1,R0                          ;
27756 00005AA4 C801               532 I1          TST     #_DMATH_CNTROT,R0               ;回転?
27757                             533 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_050
27758 00005AA6 8900                   M           BT      BANKCHKNEXT_CYCL_STR1_050
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   389
PROGRAM NAME =

27759 00005AA8 7201               534 I1          ADD     #1,R2                           ;回転数+1<反転>
27760 00005AAA                    535 I1  BANKCHKNEXT_CYCL_STR1_050:
27761                             536 I1  
27762 00005AAA 9415               537 I1          MOV.W   #1,R4
27763 00005AAC D10C               538 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
27764 00005AAE 2141               539 I1          MOV.W   R4,@R1                          ;(1だけでいいのか/つくり直す必要があるのか
                                          )
27765                             540 I1          PUSH_REG1 R2
27766 00005AB0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27767                                 M                                           ;REG=>[SP]
27768                                 M                                           ;"-4" FF,FF,FF,FC
27769                             541 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
27770 00005AB2 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27771 00005AB4 410B                   M           JSR     @R1                     ;
27772 00005AB6 0009                   M           NOP                                     ;
27773                             542 I1          POP_REG1 R2
27774                                 M                                   ; RE"+4" 00,00,00,04
27775 00005AB8 62F6                   M           MOV.L   @R15+,R2        ;
27776                             543 I1          FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
27777 00005ABA D10B                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27778 00005ABC 410B                   M           JSR     @R1                     ;
27779 00005ABE 0009                   M           NOP                                     ;
27780                             544 I1  
27781                             545 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
27782                             546 I1          FAR_JSR #_HLDCAM_ABS_POS_SET,R0         ;2014-08-30
27783 00005AC0 D00A                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27784 00005AC2 400B                   M           JSR     @R0                     ;
27785 00005AC4 0009                   M           NOP                                     ;
27786                             547 I1  
27787 00005AC6                    548 I1  BANKCHKNEXT_CYCL_STR1_100:
27788                             549 I1  ;       =====2003-07-09 速度============
27789                             550 I1          FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
27790 00005AC6 D00A                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27791 00005AC8 400B                   M           JSR     @R0                     ;
27792 00005ACA 0009                   M           NOP                                     ;
27793                             551 I1  ;       ===== 2003-07-14 TIME ======
27794                             552 I1          FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
27795 00005ACC D009                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27796 00005ACE 400B                   M           JSR     @R0                     ;
27797 00005AD0 0009                   M           NOP                                     ;
27798                             553 I1  
27799                             554 I1  
27800                             555 I1  
27801                             556 I1          SUB_END
27802                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27803 00005AD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27804                             557 I1          M_RTS
27805 00005AD4 000B                   M           RTS                             ;RTSの後ろの
27806 00005AD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27807                             558 I1  
27808                             559 I1  ;       ***************************************************
27809                             560 I1  ;       ***                                             ***
27810                             561 I1  ;       ***     2011-05-11                              ***
27811                             562 I1  ;       ***     ロットカウンタUPの1回転前信号           ***
27812                             563 I1  ;       ***     起動時点でこれがONならこの回転で止める  ***
27813                             564 I1  ;       ***                                             ***
27814                             565 I1  ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   390
PROGRAM NAME =

27815                             566 I1  ;
27816                                 I1  ***** BEGIN-POOL *****
27817 00005AD8 0001                   I1  DATA FOR SOURCE-LINE 537
27818 00005ADA 0000                   I1  ALIGNMENT CODE
27819 00005ADC 00000000               I1  DATA FOR SOURCE-LINE 530
27820 00005AE0 00000000               I1  DATA FOR SOURCE-LINE 538
27821 00005AE4 00000000               I1  DATA FOR SOURCE-LINE 541
27822 00005AE8 00000000               I1  DATA FOR SOURCE-LINE 543
27823 00005AEC 00000000               I1  DATA FOR SOURCE-LINE 546
27824 00005AF0 00000000               I1  DATA FOR SOURCE-LINE 550
27825 00005AF4 00000000               I1  DATA FOR SOURCE-LINE 552
27826                                 I1  ***** END-POOL *****
27827 00005AF8                    567 I1          .ALIGN  4                               ;
27828 00005AF8                    568 I1  _CNT_BEF_LOT_SIGCHK:
27829                             569 I1          SUB_START
27830 00005AF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27831                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27832                             570 I1  
27833 00005AFA D105               571 I1          MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
27834 00005AFC 6011               572 I1          MOV.W   @R1,R0                          ;
27835 00005AFE 2008               573 I1          TST     R0,R0                           ;
27836                             574 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
27837 00005B00 8903                   M           BT      BANKCHKNEXT_CYCL_STR1_010
27838 00005B02 D104               575 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27839 00005B04 6011               576 I1          MOV.W   @R1,R0                          ;
27840 00005B06 CB01               577 I1          OR      #BIT0,R0                        ;
27841 00005B08 2101               578 I1          MOV.W   R0,@R1                          ;
27842 00005B0A                    579 I1  BANKCHKNEXT_CYCL_STR1_010:
27843                             580 I1  
27844                             581 I1          SUB_END
27845                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27846 00005B0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27847                             582 I1          M_RTS
27848 00005B0C 000B                   M           RTS                             ;RTSの後ろの
27849 00005B0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27850                             583 I1  
27851                             584 I1  ;       ***************************************************
27852                             585 I1  ;       ***     停止があるタイプ                        ***
27853                             586 I1  ;       ***     停止がないタイプでも１回転部では可能    ***
27854                             587 I1  ;       ***     BIT3=0 BIT2=1                           ***
27855                             588 I1  ;       ***************************************************
27856                                 I1  ***** BEGIN-POOL *****
27857 00005B10 00000000               I1  DATA FOR SOURCE-LINE 571
27858 00005B14 00000000               I1  DATA FOR SOURCE-LINE 575
27859                                 I1  ***** END-POOL *****
27860 00005B18                    589 I1          .ALIGN  4                               ;
27861 00005B18                    590 I1  _BANK_CNT_STOP_CHK_TYP1
27862                             591 I1          SUB_START
27863 00005B18 4F22                   M           STS.L   PR,@-R15                ;[必要]
27864                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27865                             592 I1  
27866 00005B1A D10F               593 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27867 00005B1C 6011               594 I1          MOV.W   @R1,R0                          ;
27868 00005B1E 2008               595 I1          TST     R0,R0                           ;
27869                             596 I1          TST_BIT_ON BANK_CNT_STOPCHK_TYP1_200    ;停止減算完了
27870 00005B20 8B16                   M           BF      BANK_CNT_STOPCHK_TYP1_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   391
PROGRAM NAME =

27871                             597 I1  
27872                             598 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27873 00005B22 D00E                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27874 00005B24 400B                   M           JSR     @R0                     ;
27875 00005B26 0009                   M           NOP                                     ;
27876 00005B28 2008               599 I1          TST     R0,R0                           ;
27877                             600 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200
27878 00005B2A 8911                   M           BT      BANK_CNT_STOPCHK_TYP1_200
27879                             601 I1  
27880                             602 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;
27881 00005B2C D00C                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27882 00005B2E 400B                   M           JSR     @R0                     ;
27883 00005B30 0009                   M           NOP                                     ;
27884                             603 I1  
27885 00005B32 D10C               604 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27886 00005B34 6011               605 I1          MOV.W   @R1,R0                          ;
27887 00005B36 C801               606 I1          TST     #BIT0,R0                        ;
27888                             607 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200;
27889 00005B38 890A                   M           BT      BANK_CNT_STOPCHK_TYP1_200
27890                             608 I1  
27891                             609 I1  ;       ----- 停止ｺﾏﾝﾄﾞON -----
27892                             610 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0     ;(連続ALL-ではこの処理はない：足しにいく処
                                          理にこない)
27893 00005B3A D00B                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27894 00005B3C 400B                   M           JSR     @R0                     ;
27895 00005B3E 0009                   M           NOP                                     ;
27896                             611 I1  
27897                             612 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
27898 00005B40 D10A                   M           MOV.L   #_STOP_LATCH,R1         ;
27899 00005B42 6011                   M           MOV.W   @R1,R0          ;
27900 00005B44 CB01                   M           OR      #BIT0,R0                ;
27901 00005B46 2101                   M           MOV.W   R0,@R1          ;
27902                             613 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
27903 00005B48 D103                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27904 00005B4A 6011                   M           MOV.W   @R1,R0          ;
27905 00005B4C CB02                   M           OR      #BIT1,R0                ;
27906 00005B4E 2101                   M           MOV.W   R0,@R1          ;
27907                             614 I1  
27908                             615 I1  
27909                             616 I1  
27910 00005B50                    617 I1  BANK_CNT_STOPCHK_TYP1_200
27911                             618 I1  
27912                             619 I1          SUB_END
27913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27914 00005B50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27915                             620 I1          M_RTS
27916 00005B52 000B                   M           RTS                             ;RTSの後ろの
27917 00005B54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27918                             621 I1  
27919                             622 I1  
27920                             623 I1  ;       *******************************************
27921                             624 I1  ;       ***                                     ***
27922                             625 I1  ;       ***     通常運転状態での停止処理        ***
27923                             626 I1  ;       ***                                     ***
27924                             627 I1  ;       *******************************************
27925                                 I1  ***** BEGIN-POOL *****
27926 00005B56 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   392
PROGRAM NAME =

27927 00005B58 00000000               I1  DATA FOR SOURCE-LINE 593,613
27928 00005B5C 00000000               I1  DATA FOR SOURCE-LINE 598
27929 00005B60 00000000               I1  DATA FOR SOURCE-LINE 602
27930 00005B64 00000000               I1  DATA FOR SOURCE-LINE 604
27931 00005B68 00000000               I1  DATA FOR SOURCE-LINE 610
27932 00005B6C 00000000               I1  DATA FOR SOURCE-LINE 612
27933                                 I1  ***** END-POOL *****
27934          000007D0           628 I1  _PROC_2MS_PLS   .EQU    2000    ;2000pls 500KHZ=500pls
27935                             629 I1  
27936 00005B70                    630 I1  _CNT_GPOINT_STOP_TYP2:
27937                             631 I1          SUB_START
27938 00005B70 4F22                   M           STS.L   PR,@-R15                ;[必要]
27939                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27940 00005B72 D11F               632 I1          MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦
27941 00005B74 6011               633 I1          MOV.W   @R1,R0                                  ;
27942 00005B76 C801               634 I1          TST     #BIT0,R0                                ;
27943                             635 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;
27944 00005B78 8937                   M           BT      CNT_GPOINT_STOPTYP2_100
27945                             636 I1  
27946                             637 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0                  ;引きたい量
27947 00005B7A D01E                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27948 00005B7C 400B                   M           JSR     @R0                     ;
27949 00005B7E 0009                   M           NOP                                     ;
27950                             638 I1  
27951                             639 I1  ;;2007-03-02    TST     R0,R0                                   ;
27952                             640 I1  ;;2007-03-02    TST_BIT_ON CNT_GPOINT_STOPTYP2_100              ;減算不可JUMP
27953                             641 I1  
27954                             642 I1  ;       -------- 2007-03-02------
27955                             643 I1          FAR_JSR #_CMP_CNT_CTLGENSOK,R0                  ;
27956 00005B80 D01D                   M           MOV.L   #_CMP_CNT_CTLGENSOK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27957 00005B82 400B                   M           JSR     @R0                     ;
27958 00005B84 0009                   M           NOP                                     ;
27959 00005B86 88FF               644 I1          CMP/EQ  #-1,R0                                  ;
27960 00005B88 892F               645 I1          BT      CNT_GPOINT_STOPTYP2_100                 ;減算不可JUMP(ERR)
27961                             646 I1  
27962 00005B8A 2008               647 I1          TST     R0,R0                                   ;
27963                             648 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_050              ;止まれる
27964 00005B8C 8908                   M           BT      CNT_GPOINT_STOPTYP2_050
27965                             649 I1  
27966                             650 I1  ;       ---- 相手CPUはなんていっているの-----
27967                             651 I1          FAR_JSR #_CPU_BA_CST_ON_JG,R0                   ;
27968 00005B8E D01B                   M           MOV.L   #_CPU_BA_CST_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27969 00005B90 400B                   M           JSR     @R0                     ;
27970 00005B92 0009                   M           NOP                                     ;
27971 00005B94 2008               652 I1          TST     R0,R0                                   ;
27972                             653 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;相手は停まるといっていいないJUMP
27973 00005B96 8928                   M           BT      CNT_GPOINT_STOPTYP2_100
27974                             654 I1  
27975                             655 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT1,WKREG=R1     ;bit-set
27976 00005B98 D119                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
27977 00005B9A 6011                   M           MOV.W   @R1,R0          ;
27978 00005B9C CB02                   M           OR      #BIT1,R0                ;
27979 00005B9E 2101                   M           MOV.W   R0,@R1          ;
27980                             656 I1  
27981 00005BA0                    657 I1  CNT_GPOINT_STOPTYP2_050:
27982 00005BA0 D418               658 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                                       ;
27983 00005BA2 6242               659 I1          MOV.L   @R4,R2                                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   393
PROGRAM NAME =

27984 00005BA4 632B               660 I1          NEG     R2,R3                                                           ;
27985                             661 I1  
27986                             662 I1          POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
27987                                 M           PUSH_REG1 R1
27988 00005BA6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27989                                 M                                           ;REG=>[SP]
27990                                 M                                           ;"-4" FF,FF,FF,FC
27991                                 M           PUSH_REG1 R3
27992 00005BA8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
27993                                 M                                           ;REG=>[SP]
27994                                 M                                           ;"-4" FF,FF,FF,FC
27995                                 M           POS_LSI_WORD_DUM_LOD                                    ;
27996                                 M           PUSH_REG1 R0
27997 00005BAA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27998                                 M                                           ;REG=>[SP]
27999                                 M                                           ;"-4" FF,FF,FF,FC
28000 00005BAC D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28001 00005BAE 6001                   M           MOV.W   @R0,R0
28002                                 M           POP_REG1 R0
28003                                 M                                   ; RE"+4" 00,00,00,04
28004 00005BB0 60F6                   M           MOV.L   @R15+,R0        ;
28005 00005BB2 D116                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
28006 00005BB4 2131                   M           MOV.W   R3,@R1                          ;(LOW)
28007 00005BB6 7102                   M           ADD     #2,R1                                   ;
28008 00005BB8 6339                   M           SWAP.W  R3,R3                           ;
28009                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28010                                 M           PUSH_REG1 R0
28011 00005BBA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28012                                 M                                           ;REG=>[SP]
28013                                 M                                           ;"-4" FF,FF,FF,FC
28014 00005BBC D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28015 00005BBE 6001                   M           MOV.W   @R0,R0
28016                                 M           POP_REG1 R0
28017                                 M                                   ; RE"+4" 00,00,00,04
28018 00005BC0 60F6                   M           MOV.L   @R15+,R0        ;
28019 00005BC2 2131                   M           MOV.W   R3,@R1                          ;(HIGH)
28020                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28021                                 M           PUSH_REG1 R0
28022 00005BC4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28023                                 M                                           ;REG=>[SP]
28024                                 M                                           ;"-4" FF,FF,FF,FC
28025 00005BC6 D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28026 00005BC8 6001                   M           MOV.W   @R0,R0
28027                                 M           POP_REG1 R0
28028                                 M                                   ; RE"+4" 00,00,00,04
28029 00005BCA 60F6                   M           MOV.L   @R15+,R0        ;
28030                                 M           POP_REG1 R3
28031                                 M                                   ; RE"+4" 00,00,00,04
28032 00005BCC 63F6                   M           MOV.L   @R15+,R3        ;
28033                                 M           POP_REG1 R1
28034                                 M                                   ; RE"+4" 00,00,00,04
28035 00005BCE 61F6                   M           MOV.L   @R15+,R1        ;
28036                             663 I1  
28037                             664 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;LINK_SV_O
                                          BJ_ABSPLS-ESUB
28038 00005BD0 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28039 00005BD2 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   394
PROGRAM NAME =

28040 00005BD4 0009                   M           NOP                                     ;
28041                             665 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28042 00005BD6 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28043 00005BD8 400B                   M           JSR     @R0                     ;
28044 00005BDA 0009                   M           NOP                                     ;
28045                             666 I1  
28046                             667 I1  ;;;;    MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28047                             668 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28048 00005BDC D10E                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28049 00005BDE 6011                   M           MOV.W   @R1,R0          ;
28050 00005BE0 CB02                   M           OR      #BIT1,R0                ;
28051 00005BE2 2101                   M           MOV.W   R0,@R1          ;
28052                             669 I1  
28053                             670 I1  ;       ----- 2007-03-02---
28054                             671 I1          FAR_JSR #_STOP_LTH_OUT,R0
28055 00005BE4 D00D                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28056 00005BE6 400B                   M           JSR     @R0                     ;
28057 00005BE8 0009                   M           NOP                                     ;
28058                             672 I1  
28059                             673 I1  
28060 00005BEA                    674 I1  CNT_GPOINT_STOPTYP2_100:
28061                             675 I1          SUB_END
28062                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28063 00005BEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28064                             676 I1          M_RTS
28065 00005BEC 000B                   M           RTS                             ;RTSの後ろの
28066 00005BEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28067                             677 I1  
28068                             678 I1  
28069                             679 I1  ;;_CNT_GPOINT_STOP_TYP2:
28070                             680 I1  ;;      SUB_START
28071                             681 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28072                             682 I1  ;;      MOV.W   @R1,R0                          ;
28073                             683 I1  ;       TST     #BIT0,R0                        ;
28074                             684 I1  ;;      TST_BIT_OF CNT_GPOINT_STOPTYP2_100      ;
28075                             685 I1  ;;
28076                             686 I1  ;;      FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;引きたい量
28077                             687 I1  ;;
28078                             688 I1  ;;      MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28079                             689 I1  ;;      MOV.L   @R4,R2                          ;
28080                             690 I1  ;;      NEG     R2,R3                           ;
28081                             691 I1  ;;
28082                             692 I1  ;;      MOV.W   #_PROC_2MS_PLS,R4               ;
28083                             693 I1  ;;      ADD     R4,R2                           ;
28084                             694 I1  ;;      FAR_JSR #_LOAD_GPOINT_PLS,R0            ;2004-12-19
28085                             695 I1  ;;      MOV     R0,R6                           ;R/W 減速点=R6
28086                             696 I1  ;;      ADD     R6,R2                           ;
28087                             697 I1  ;;
28088                             698 I1  ;;      FAR_JSR #_LOAD_REST_PLS,R0                              ;ANS R0
28089                             699 I1  ;;      SUBPLS+GPOSINT+1000PLS ≦残りﾊﾟﾙｽ                       ;
28090                             700 I1  ;;      CMP/GE  R2,R0                                           ;
28091                             701 I1  ;;      BF      CNT_GPOINT_STOPTYP2_100                         ;減算不可JUMP
28092                             702 I1  ;;
28093                             703 I1  ;;      POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28094                             704 I1  ;;
28095                             705 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;
28096                             706 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   395
PROGRAM NAME =

28097                             707 I1  ;;
28098                             708 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28099                             709 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28100                             710 I1  ;;
28101                             711 I1  ;;
28102                             712 I1  ;;CNT_GPOINT_STOPTYP2_100:
28103                             713 I1  ;;
28104                             714 I1  ;;
28105                             715 I1  ;;      SUB_END
28106                             716 I1  ;;      M_RTS
28107                             717 I1  
28108                             718 I1  ;       ***************************
28109                             719 I1  ;       ***     停止演算        ***
28110                             720 I1  ;       ***************************
28111                             721 I1  ;       CASE1:完全連続  --->    止まれる位置：残りパルス≧１回転(SV_OBJ_-最終)＋今の減速点
28112                             722 I1  ;       CASE2:ﾀｲﾏ有り   --->    最終工程相当の動作開始時にﾊﾟﾙｽを足さない(減算処理完了)
28113                             723 I1  ;                               動作中最終工程相当にパルスを減らす(SV-OBJ-最終)
28114                             724 I1  ;(起動時)
28115                                 I1  ***** BEGIN-POOL *****
28116 00005BF0 00000000               I1  DATA FOR SOURCE-LINE 632
28117 00005BF4 00000000               I1  DATA FOR SOURCE-LINE 637
28118 00005BF8 00000000               I1  DATA FOR SOURCE-LINE 643
28119 00005BFC 00000000               I1  DATA FOR SOURCE-LINE 651
28120 00005C00 00000000               I1  DATA FOR SOURCE-LINE 655
28121 00005C04 00000000               I1  DATA FOR SOURCE-LINE 658
28122 00005C08 00000000               I1  DATA FOR SOURCE-LINE 662,662,662
28123 00005C0C 00000000               I1  DATA FOR SOURCE-LINE 662
28124 00005C10 00000000               I1  DATA FOR SOURCE-LINE 664
28125 00005C14 00000000               I1  DATA FOR SOURCE-LINE 665
28126 00005C18 00000000               I1  DATA FOR SOURCE-LINE 668
28127 00005C1C 00000000               I1  DATA FOR SOURCE-LINE 671
28128                                 I1  ***** END-POOL *****
28129 00005C20                    725 I1  _CNT_SUB_DATA_CALC:
28130                             726 I1          SUB_START
28131 00005C20 4F22                   M           STS.L   PR,@-R15                ;[必要]
28132                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28133                             727 I1  
28134 00005C22 D111               728 I1          MOV.L   #_CPOS_STEP_MAX,R1                              ;
28135 00005C24 6011               729 I1          MOV.W   @R1,R0                                          ;+1して-1した計算
28136 00005C26 D411               730 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
28137 00005C28 4008               731 I1          SHLL2   R0                                                      ;
28138 00005C2A 4000               732 I1          SHLL    R0                                                      ;
28139 00005C2C 340C               733 I1          ADD     R0,R4                                                   ;
28140 00005C2E 6546               734 I1          MOV.L   @R4+,R5                                                 ;
28141 00005C30 6642               735 I1          MOV.L   @R4,R6                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
28142                             736 I1  
28143 00005C32 D40F               737 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28144 00005C34 6146               738 I1          MOV.L   @R4+,R1                                                 ;
28145 00005C36 6242               739 I1          MOV.L   @R4,R2                                                  ;
28146                             740 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28147 00005C38 0008                   M           CLRT
28148 00005C3A 326A                   M           SUBC    R6,R2
28149 00005C3C 315A                   M           SUBC    R5,R1
28150                             741 I1  
28151 00005C3E 4111               742 I1          CMP/PZ  R1                              ;
28152 00005C40 8901               743 I1          BT      CNT_SUB_DATACALC_100            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   396
PROGRAM NAME =

28153 00005C42 211A               744 I1          XOR     R1,R1                           ;
28154 00005C44 222A               745 I1          XOR     R2,R2                           ;ERR(-)
28155                             746 I1  
28156 00005C46                    747 I1  CNT_SUB_DATACALC_100:
28157 00005C46 2118               748 I1          TST     R1,R1                           ;
28158                             749 I1          TST_BIT_ON CNT_SUB_DATACALC_120         ;ERR(over)
28159 00005C48 8B02                   M           BF      CNT_SUB_DATACALC_120
28160                             750 I1  
28161 00005C4A D10A               751 I1          MOV.L   #H'3FFFFFF,R1                   ;(本当はPLS*2+)
28162 00005C4C 3122               752 I1          CMP/HS  R2,R1                           ;
28163 00005C4E 8905               753 I1          BT      CNT_SUB_DATACALC_150            ;許す
28164 00005C50                    754 I1  CNT_SUB_DATACALC_120:
28165 00005C50 211A               755 I1          XOR     R1,R1                           ;
28166 00005C52 222A               756 I1          XOR     R2,R2                           ;ERR(over)
28167                             757 I1  
28168                             758 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_BANK_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1   ;
28169 00005C54 D108                   M           MOV.L   #_CNT_BANK_CALC_ERR,R1          ;
28170 00005C56 6011                   M           MOV.W   @R1,R0          ;
28171 00005C58 CB01                   M           OR      #BIT0,R0                ;
28172 00005C5A 2101                   M           MOV.W   R0,@R1          ;
28173                             759 I1  
28174 00005C5C                    760 I1  CNT_SUB_DATACALC_150:
28175 00005C5C D407               761 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28176 00005C5E 2422               762 I1          MOV.L   R2,@R4                          ;
28177                             763 I1  
28178                             764 I1  ;       (目標)-R2(待機点)
28179                             765 I1          SUB_END
28180                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28181 00005C60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28182                             766 I1          M_RTS
28183 00005C62 000B                   M           RTS                             ;RTSの後ろの
28184 00005C64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28185                             767 I1  
28186                             768 I1  
28187                             769 I1  
28188                             770 I1  
28189                             771 I1  
28190                             772 I1  
28191                             773 I1  
28192                             774 I1  
28193                             775 I1  
28194                             776 I1  
28195                             777 I1  
28196                             778 I1  ;       ***********************************
28197                             779 I1  ;       ***     データの減算1           ***
28198                             780 I1  ;       ***********************************
28199                             781 I1  ;       条件はこの上で見る
28200                                 I1  ***** BEGIN-POOL *****
28201 00005C66 0000                   I1  ALIGNMENT CODE
28202 00005C68 00000000               I1  DATA FOR SOURCE-LINE 728
28203 00005C6C 00000000               I1  DATA FOR SOURCE-LINE 730
28204 00005C70 00000000               I1  DATA FOR SOURCE-LINE 737
28205 00005C74 03FFFFFF               I1  DATA FOR SOURCE-LINE 751
28206 00005C78 00000000               I1  DATA FOR SOURCE-LINE 758
28207 00005C7C 00000000               I1  DATA FOR SOURCE-LINE 761
28208                                 I1  ***** END-POOL *****
28209 00005C80                    782 I1  _CNT_STOP_CMD_DATA_SUB1:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   397
PROGRAM NAME =

28210                             783 I1          SUB_START
28211 00005C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
28212                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28213                             784 I1  
28214 00005C82 D410               785 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28215 00005C84 6642               786 I1          MOV.L   @R4,R6                                                  ;
28216 00005C86 255A               787 I1          XOR     R5,R5                                                   ;
28217                             788 I1  
28218 00005C88 D40F               789 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28219 00005C8A 6142               790 I1          MOV.L   @R4,R1                                                  ;
28220 00005C8C 5241               791 I1          MOV.L   @(4,R4),R2                                              ;
28221                             792 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28222 00005C8E 0008                   M           CLRT
28223 00005C90 326A                   M           SUBC    R6,R2
28224 00005C92 315A                   M           SUBC    R5,R1
28225 00005C94 2412               793 I1          MOV.L   R1,@R4                                                  ;
28226 00005C96 1421               794 I1          MOV.L   R2,@(4,R4)                                              ;
28227 00005C98 D40C               795 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                                ;
28228 00005C9A 2412               796 I1          MOV.L   R1,@R4                                                  ;
28229 00005C9C 1421               797 I1          MOV.L   R2,@(4,R4)                                              ;
28230                             798 I1  
28231 00005C9E D40C               799 I1          MOV.L   #_LNGTH_ADD_DATA,R4                                     ;//符号付き
28232 00005CA0 6142               800 I1          MOV.L   @R4,R1                                                  ;
28233 00005CA2 5241               801 I1          MOV.L   @(4,R4),R2                                              ;
28234                             802 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28235 00005CA4 0008                   M           CLRT
28236 00005CA6 326A                   M           SUBC    R6,R2
28237 00005CA8 315A                   M           SUBC    R5,R1
28238                             803 I1  
28239 00005CAA 4111               804 I1          CMP/PZ  R1
28240 00005CAC 8901               805 I1          BT      CNT_STOP_CMD_DATSUB1_100                                ;
28241 00005CAE 211A               806 I1          XOR     R1,R1                                                   ;
28242 00005CB0 222A               807 I1          XOR     R2,R2                                                   ;
28243 00005CB2                    808 I1  CNT_STOP_CMD_DATSUB1_100:                                               ;
28244                             809 I1  
28245 00005CB2 2412               810 I1          MOV.L   R1,@R4                                                  ;
28246 00005CB4 1421               811 I1          MOV.L   R2,@(4,R4)                                              ;
28247                             812 I1  
28248 00005CB6 D407               813 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                                  ;//符号付き
28249 00005CB8 2412               814 I1          MOV.L   R1,@R4                                                  ;
28250 00005CBA 1421               815 I1          MOV.L   R2,@(4,R4)                                              ;
28251                             816 I1  
28252                             817 I1  
28253                             818 I1          SUB_END
28254                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28255 00005CBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28256                             819 I1          M_RTS
28257 00005CBE 000B                   M           RTS                             ;RTSの後ろの
28258 00005CC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28259                             820 I1  
28260                             821 I1  
28261                                 I1  ***** BEGIN-POOL *****
28262 00005CC2 0000                   I1  ALIGNMENT CODE
28263 00005CC4 00000000               I1  DATA FOR SOURCE-LINE 785
28264 00005CC8 00000000               I1  DATA FOR SOURCE-LINE 789
28265 00005CCC 00000000               I1  DATA FOR SOURCE-LINE 795
28266 00005CD0 00000000               I1  DATA FOR SOURCE-LINE 799
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   398
PROGRAM NAME =

28267 00005CD4 00000000               I1  DATA FOR SOURCE-LINE 813
28268                                 I1  ***** END-POOL *****
28269 00005CD8                    822 I1  _CNT_STOP_CMD_DATA_SUB2:
28270                             823 I1          SUB_START
28271 00005CD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28272                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28273 00005CDA D40A               824 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28274 00005CDC 6642               825 I1          MOV.L   @R4,R6                                                  ;
28275 00005CDE 255A               826 I1          XOR     R5,R5                                                   ;
28276                             827 I1  
28277 00005CE0 D409               828 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R4                                 ;
28278 00005CE2 6142               829 I1          MOV.L   @R4,R1                                                  ;
28279 00005CE4 5241               830 I1          MOV.L   @(4,R4),R2                                              ;
28280                             831 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28281 00005CE6 0008                   M           CLRT
28282 00005CE8 326A                   M           SUBC    R6,R2
28283 00005CEA 315A                   M           SUBC    R5,R1
28284                             832 I1  
28285 00005CEC 4111               833 I1          CMP/PZ  R1                                                      ;
28286 00005CEE 8901               834 I1          BT      CNT_STOP_CMD_DATSUB2_100                                ;
28287 00005CF0 211A               835 I1          XOR     R1,R1
28288 00005CF2 222A               836 I1          XOR     R2,R2
28289 00005CF4                    837 I1  CNT_STOP_CMD_DATSUB2_100:
28290 00005CF4 2412               838 I1          MOV.L   R1,@R4                                                  ;
28291 00005CF6 1421               839 I1          MOV.L   R2,@(4,R4)                                              ;
28292                             840 I1  
28293 00005CF8 D404               841 I1          MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R4                              ;
28294 00005CFA 2412               842 I1          MOV.L   R1,@R4                                                  ;
28295 00005CFC 1421               843 I1          MOV.L   R2,@(4,R4)                                              ;
28296                             844 I1  
28297                             845 I1          SUB_END
28298                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28299 00005CFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28300                             846 I1          M_RTS
28301 00005D00 000B                   M           RTS                             ;RTSの後ろの
28302 00005D02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28303                             847 I1  
28304                             848 I1  
28305                            8339     
28306                            8340     
28307                            8341     ;       ***********************************
28308                            8342     ;       ***                             ***
28309                            8343     ;       ***     2006-05-09              ***
28310                            8344     ;       ***                             ***
28311                            8345     ;       ***********************************
28312                            8346             .EXPORT _SELF_POS_START_WORK_CLR
28313                                     ***** BEGIN-POOL *****
28314 00005D04 00000000                   DATA FOR SOURCE-LINE 824
28315 00005D08 00000000                   DATA FOR SOURCE-LINE 828
28316 00005D0C 00000000                   DATA FOR SOURCE-LINE 841
28317                                     ***** END-POOL *****
28318 00005D10                   8347             .ALIGN  4                               ;
28319 00005D10                   8348     _SELF_POS_START_WORK_CLR:
28320                            8349             SUB_START
28321 00005D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
28322                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28323                            8350             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   399
PROGRAM NAME =

28324 00005D12 D004                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28325 00005D14 400B                   M           JSR     @R0                     ;
28326 00005D16 0009                   M           NOP                                     ;
28327                            8351             FAR_JSR #_POS_LSI_WORK_STOP2,R0
28328 00005D18 D003                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28329 00005D1A 400B                   M           JSR     @R0                     ;
28330 00005D1C 0009                   M           NOP                                     ;
28331                            8352             SUB_END
28332                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28333 00005D1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28334                            8353             M_RTS
28335 00005D20 000B                   M           RTS                             ;RTSの後ろの
28336 00005D22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28337                            8354     
28338                            8355     ;       ***********************************
28339                            8356     ;       ***                             ***
28340                            8357     ;       ***     2006-07-28              ***
28341                            8358     ;       ***                             ***
28342                            8359     ;       ***********************************
28343                                     ***** BEGIN-POOL *****
28344 00005D24 00000000                   DATA FOR SOURCE-LINE 8350
28345 00005D28 00000000                   DATA FOR SOURCE-LINE 8351
28346                                     ***** END-POOL *****
28347 00005D2C                   8360             .ALIGN  4                               ;
28348 00005D2C                   8361     _POS_CALC_MISS0:
28349                            8362             SUB_START
28350 00005D2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28352                            8363             PUSH_REG1 R0
28353 00005D2E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28354                                 M                                           ;REG=>[SP]
28355                                 M                                           ;"-4" FF,FF,FF,FC
28356                            8364             PUSH_REG1 R1
28357 00005D30 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28358                                 M                                           ;REG=>[SP]
28359                                 M                                           ;"-4" FF,FF,FF,FC
28360                            8365             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT0,WKREG=R1      ;
28361 00005D32 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28362 00005D34 6011                   M           MOV.W   @R1,R0          ;
28363 00005D36 CB01                   M           OR      #BIT0,R0                ;
28364 00005D38 2101                   M           MOV.W   R0,@R1          ;
28365                            8366             POP_REG1 R1
28366                                 M                                   ; RE"+4" 00,00,00,04
28367 00005D3A 61F6                   M           MOV.L   @R15+,R1        ;
28368                            8367             POP_REG1 R0
28369                                 M                                   ; RE"+4" 00,00,00,04
28370 00005D3C 60F6                   M           MOV.L   @R15+,R0        ;
28371                            8368             SUB_END
28372                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28373 00005D3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28374                            8369             M_RTS
28375 00005D40 000B                   M           RTS                             ;RTSの後ろの
28376 00005D42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28377                            8370     
28378                                     ***** BEGIN-POOL *****
28379 00005D44 00000000                   DATA FOR SOURCE-LINE 8365
28380                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   400
PROGRAM NAME =

28381 00005D48                   8371             .ALIGN  4                               ;
28382 00005D48                   8372     _POS_CALC_MISS1:
28383                            8373             SUB_START
28384 00005D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
28385                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28386                            8374             PUSH_REG1 R0
28387 00005D4A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28388                                 M                                           ;REG=>[SP]
28389                                 M                                           ;"-4" FF,FF,FF,FC
28390                            8375             PUSH_REG1 R1
28391 00005D4C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28392                                 M                                           ;REG=>[SP]
28393                                 M                                           ;"-4" FF,FF,FF,FC
28394                            8376             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT1,WKREG=R1      ;
28395 00005D4E D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28396 00005D50 6011                   M           MOV.W   @R1,R0          ;
28397 00005D52 CB02                   M           OR      #BIT1,R0                ;
28398 00005D54 2101                   M           MOV.W   R0,@R1          ;
28399                            8377             POP_REG1 R1
28400                                 M                                   ; RE"+4" 00,00,00,04
28401 00005D56 61F6                   M           MOV.L   @R15+,R1        ;
28402                            8378             POP_REG1 R0
28403                                 M                                   ; RE"+4" 00,00,00,04
28404 00005D58 60F6                   M           MOV.L   @R15+,R0        ;
28405                            8379             SUB_END
28406                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28407 00005D5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28408                            8380             M_RTS
28409 00005D5C 000B                   M           RTS                             ;RTSの後ろの
28410 00005D5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28411                            8381     
28412                                     ***** BEGIN-POOL *****
28413 00005D60 00000000                   DATA FOR SOURCE-LINE 8376
28414                                     ***** END-POOL *****
28415 00005D64                   8382             .ALIGN  4                               ;
28416 00005D64                   8383     _POS_CALC_MISS2:
28417                            8384             SUB_START
28418 00005D64 4F22                   M           STS.L   PR,@-R15                ;[必要]
28419                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28420                            8385             PUSH_REG1 R0
28421 00005D66 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28422                                 M                                           ;REG=>[SP]
28423                                 M                                           ;"-4" FF,FF,FF,FC
28424                            8386             PUSH_REG1 R1
28425 00005D68 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28426                                 M                                           ;REG=>[SP]
28427                                 M                                           ;"-4" FF,FF,FF,FC
28428                            8387             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT2,WKREG=R1      ;
28429 00005D6A D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28430 00005D6C 6011                   M           MOV.W   @R1,R0          ;
28431 00005D6E CB04                   M           OR      #BIT2,R0                ;
28432 00005D70 2101                   M           MOV.W   R0,@R1          ;
28433                            8388             POP_REG1 R1
28434                                 M                                   ; RE"+4" 00,00,00,04
28435 00005D72 61F6                   M           MOV.L   @R15+,R1        ;
28436                            8389             POP_REG1 R0
28437                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   401
PROGRAM NAME =

28438 00005D74 60F6                   M           MOV.L   @R15+,R0        ;
28439                            8390             SUB_END
28440                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28441 00005D76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28442                            8391     
28443                            8392             M_RTS
28444 00005D78 000B                   M           RTS                             ;RTSの後ろの
28445 00005D7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28446                            8393     ;       ===================================================================
28447                            8394     ;       ====                                                            ===
28448                            8395     ;       ====                                                            ===
28449                            8396     ;       ====                                                            ===
28450                            8397     ;       ====            2006-09-19オーバライド周波数対応                ===
28451                            8398     ;       ====                                                            ===
28452                            8399     ;       ====                                                            ===
28453                            8400     ;       ====                                                            ===
28454                            8401     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
28455                            8402     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
28456                            8403     ;       ====    <3>:減速の補正は行なわない                              ===
28457                            8404     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
28458                            8405     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
28459                            8406     ;       ====                                                            ===
28460                            8407     ;       ====                                                            ===
28461                            8408     ;       ===================================================================
28462                            8409     
28463                            8410     
28464                            8411     
28465                            8412     
28466                            8413     ;       ***************************************************
28467                            8414     ;       ***                                             ***
28468                            8415     ;       ***     SEQからのｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀの取り込み         ***
28469                            8416     ;       ***                                             ***
28470                            8417     ;       ***************************************************
28471                                     ***** BEGIN-POOL *****
28472 00005D7C 00000000                   DATA FOR SOURCE-LINE 8387
28473                                     ***** END-POOL *****
28474 00005D80                   8418             .ALIGN  4                               ;
28475 00005D80                   8419     _OVER_LIDE_SEQREF:
28476                            8420             SUB_START
28477 00005D80 4F22                   M           STS.L   PR,@-R15                ;[必要]
28478                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28479                            8421     
28480 00005D82 D10A              8422             MOV.L   #_CB_SEQ_CB_COM346,R1
                                          ;
28481 00005D84 6011              8423             MOV.W   @R1,R0
                                          ;
28482 00005D86 6503              8424             MOV     R0,R5
                                          ;
28483 00005D88 C880              8425             TST     #BIT7,R0
                                          ;
28484                            8426             TST_BIT_ON OVER_LIDE_SQRF100
                                          ;
28485 00005D8A 8B15                   M           BF      OVER_LIDE_SQRF100
28486                            8427     
28487 00005D8C D108              8428             MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
28488 00005D8E 6011              8429             MOV.W   @R1,R0                          ;
28489 00005D90 C802              8430             TST     #BIT1,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   402
PROGRAM NAME =

28490                            8431             TST_BIT_OF OVER_LIDE_SQRF300            ;
28491 00005D92 8935                   M           BT      OVER_LIDE_SQRF300
28492                            8432             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=~BIT1,WKREG=R1
                                          ;//
28493 00005D94 D106                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
28494 00005D96 6011                   M           MOV.W   @R1,R0          ;
28495 00005D98 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28496 00005D9A 2101                   M           MOV.W   R0,@R1          ;
28497                            8433             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB230),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                                  ;
28498 00005D9C D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB230),R1           ;
28499 00005D9E 6011                   M           MOV.W   @R1,R0          ;
28500 00005DA0 9403                   M           MOV.W   #LWORD (~BIT7),R4       ;
28501 00005DA2 2049                   M           AND     R4,R0           ;
28502 00005DA4 2101                   M           MOV.W   R0,@R1          ;
28503                            8434             M_BRA   OVER_LIDE_SQRF300
                                          ;
28504 00005DA6 A02B                   M           BRA     OVER_LIDE_SQRF300
28505 00005DA8 0009                   M           NOP
28506                            8435     
28507                            8436     
28508                            8437     ;       --- REQ ON(ON EDGE 取込)--------
28509                                     ***** BEGIN-POOL *****
28510 00005DAA FF7F                       DATA FOR SOURCE-LINE 8433
28511 00005DAC 00000000                   DATA FOR SOURCE-LINE 8422
28512 00005DB0 00000000                   DATA FOR SOURCE-LINE 8428,8432
28513 00005DB4 00000000                   DATA FOR SOURCE-LINE 8433
28514                                     ***** END-POOL *****
28515 00005DB8                   8438     OVER_LIDE_SQRF100:
28516 00005DB8 D114              8439             MOV.L   #_OVER_RIDE_LATE_FLG,R1                                 ;
28517 00005DBA 6011              8440             MOV.W   @R1,R0                                                  ;
28518 00005DBC C802              8441             TST     #BIT1,R0                                                ;
28519                            8442             TST_BIT_ON OVER_LIDE_SQRF300                                    ;
28520 00005DBE 8B1F                   M           BF      OVER_LIDE_SQRF300
28521                            8443     
28522 00005DC0 D113              8444             MOV.L   #_CB_SEQ_CB_COM346,R1                                   ;//20030524
28523 00005DC2 6011              8445             MOV.W   @R1,R0                                                  ;T-LINK=>OVER-RIDE
28524 00005DC4 941F              8446             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4                ;
28525 00005DC6 2049              8447             AND     R4,R0                                                   ;
28526 00005DC8 D112              8448             MOV.L   #_OVER_RIDE_LATE_REQ,R1                                 ;//1~127% OVER-RID
                                          E無効時100%
28527 00005DCA 2101              8449             MOV.W   R0,@R1                                                  ;
28528                            8450     ;       ------------ ANS MAKE ----------------------
28529 00005DCC D412              8451             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28530 00005DCE 2401              8452             MOV.W   R0,@R4                                                          ;
28531 00005DD0 D312              8453             MOV.L   #_SQ_CBWK_TOP+_WKSQCB230,R3                                     ;
28532 00005DD2 6231              8454             MOV.W   @R3,R2                                                          ;
28533 00005DD4 D410              8455             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28534 00005DD6 6041              8456             MOV.W   @R4,R0                                                          ;
28535 00005DD8 CB80              8457             OR      #BIT7,R0                                                        ;ANS+ACK
28536 00005DDA 9115              8458             MOV.W   #H'FF00,R1                                                      ;
28537 00005DDC 2219              8459             AND     R1,R2                                                           ;
28538 00005DDE 6117              8460             NOT     R1,R1                                                           ;
28539 00005DE0 2019              8461             AND     R1,R0                                                           ;
28540 00005DE2 220B              8462             OR      R0,R2                                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   403
PROGRAM NAME =

28541 00005DE4 2321              8463             MOV.W   R2,@R3                                                          ;
28542                            8464     
28543 00005DE6 D40C              8465             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28544 00005DE8 6041              8466             MOV.W   @R4,R0                                                          ;
28545 00005DEA 2008              8467             TST     R0,R0                                                           ;
28546                            8468             TST_BIT_ON OVER_LIDE_SQRF220                                            ;
28547 00005DEC 8B00                   M           BF      OVER_LIDE_SQRF220
28548 00005DEE E001              8469             MOV     #1,R0                                                           ;
28549 00005DF0                   8470     OVER_LIDE_SQRF220:
28550 00005DF0 D10B              8471             MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1                                        ;
28551 00005DF2 2101              8472             MOV.W   R0,@R1                                                          ;
28552 00005DF4 D10B              8473             MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1                                        ;
28553 00005DF6 2101              8474             MOV.W   R0,@R1
28554                            8475     
28555                            8476             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=BIT1,WKREG=R4  ;
28556 00005DF8 D404                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R4         ;
28557 00005DFA 6041                   M           MOV.W   @R4,R0          ;
28558 00005DFC CB02                   M           OR      #BIT1,R0                ;
28559 00005DFE 2401                   M           MOV.W   R0,@R4          ;
28560                            8477     
28561 00005E00                   8478     OVER_LIDE_SQRF300:
28562                            8479             SUB_END
28563                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28564 00005E00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28565                            8480             M_RTS
28566 00005E02 000B                   M           RTS                             ;RTSの後ろの
28567 00005E04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28568                            8481     
28569                            8482     
28570                            8483     
28571                            8484     
28572                            8485     ;       ***********************************
28573                            8486     ;       ***                             ***
28574                            8487     ;       ***     EMG時初期値にする       ***
28575                            8488     ;       ***                             ***
28576                            8489     ;       ***********************************
28577                                     ***** BEGIN-POOL *****
28578 00005E06 007F                       DATA FOR SOURCE-LINE 8446
28579 00005E08 FF00                       DATA FOR SOURCE-LINE 8458
28580 00005E0A 0000                       ALIGNMENT CODE
28581 00005E0C 00000000                   DATA FOR SOURCE-LINE 8439,8476
28582 00005E10 00000000                   DATA FOR SOURCE-LINE 8444
28583 00005E14 00000000                   DATA FOR SOURCE-LINE 8448
28584 00005E18 00000000                   DATA FOR SOURCE-LINE 8451,8455,8465
28585 00005E1C 00000000                   DATA FOR SOURCE-LINE 8453
28586 00005E20 00000000                   DATA FOR SOURCE-LINE 8471
28587 00005E24 00000000                   DATA FOR SOURCE-LINE 8473
28588                                     ***** END-POOL *****
28589 00005E28                   8490             .ALIGN  4                               ;
28590 00005E28                   8491     _OVERLID_DEF_SET:
28591                            8492             SUB_START
28592 00005E28 4F22                   M           STS.L   PR,@-R15                ;[必要]
28593                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28594                            8493             FAR_JSR #_OVERLID_SEQ_DEF_SET,R0
28595 00005E2A D006                   M           MOV.L   #_OVERLID_SEQ_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28596 00005E2C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   404
PROGRAM NAME =

28597 00005E2E 0009                   M           NOP                                     ;
28598                            8494             FAR_JSR #_OVERLID_GMN_DEF_SET,R0
28599 00005E30 D005                   M           MOV.L   #_OVERLID_GMN_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28600 00005E32 400B                   M           JSR     @R0                     ;
28601 00005E34 0009                   M           NOP                                     ;
28602                            8495             FAR_JSR #_OVERLID_CTL_DEF_SET,R0
28603 00005E36 D005                   M           MOV.L   #_OVERLID_CTL_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28604 00005E38 400B                   M           JSR     @R0                     ;
28605 00005E3A 0009                   M           NOP                                     ;
28606                            8496             SUB_END
28607                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28608 00005E3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28609                            8497             M_RTS
28610 00005E3E 000B                   M           RTS                             ;RTSの後ろの
28611 00005E40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28612                            8498     
28613                                     ***** BEGIN-POOL *****
28614 00005E42 0000                       ALIGNMENT CODE
28615 00005E44 00000000                   DATA FOR SOURCE-LINE 8493
28616 00005E48 00000000                   DATA FOR SOURCE-LINE 8494
28617 00005E4C 00000000                   DATA FOR SOURCE-LINE 8495
28618                                     ***** END-POOL *****
28619 00005E50                   8499             .ALIGN  4                               ;
28620 00005E50                   8500     _OVERLID_SEQ_DEF_SET:
28621                            8501             SUB_START
28622 00005E50 4F22                   M           STS.L   PR,@-R15                ;[必要]
28623                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28624 00005E52 9206              8502             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28625                            8503             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28626 00005E54 D103                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1        ;DST_ADR
28627 00005E56 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28628                            8504             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28629 00005E58 D103                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1        ;DST_ADR
28630 00005E5A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28631                            8505             SUB_END
28632                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28633 00005E5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28634                            8506             M_RTS
28635 00005E5E 000B                   M           RTS                             ;RTSの後ろの
28636 00005E60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28637                            8507     
28638                                     ***** BEGIN-POOL *****
28639 00005E62 0064                       DATA FOR SOURCE-LINE 8502
28640 00005E64 00000000                   DATA FOR SOURCE-LINE 8503
28641 00005E68 00000000                   DATA FOR SOURCE-LINE 8504
28642                                     ***** END-POOL *****
28643 00005E6C                   8508             .ALIGN  4                               ;
28644 00005E6C                   8509     _OVERLID_GMN_DEF_SET:
28645                            8510             SUB_START
28646 00005E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28647                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28648 00005E6E 9206              8511             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28649                            8512             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28650 00005E70 D103                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
28651 00005E72 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28652                            8513             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28653 00005E74 D103                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   405
PROGRAM NAME =

28654 00005E76 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28655                            8514             SUB_END
28656                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28657 00005E78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28658                            8515             M_RTS
28659 00005E7A 000B                   M           RTS                             ;RTSの後ろの
28660 00005E7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28661                            8516     
28662                                     ***** BEGIN-POOL *****
28663 00005E7E 0064                       DATA FOR SOURCE-LINE 8511
28664 00005E80 00000000                   DATA FOR SOURCE-LINE 8512
28665 00005E84 00000000                   DATA FOR SOURCE-LINE 8513
28666                                     ***** END-POOL *****
28667 00005E88                   8517             .ALIGN  4                               ;
28668 00005E88                   8518     _OVERLID_CTL_DEF_SET:
28669                            8519             SUB_START
28670 00005E88 4F22                   M           STS.L   PR,@-R15                ;[必要]
28671                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28672 00005E8A 920A              8520             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28673                            8521             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28674 00005E8C D105                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
28675 00005E8E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28676                            8522             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
28677 00005E90 D105                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
28678 00005E92 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28679                            8523     
28680                            8524             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_SPD_LAT,L1=W,DT_REG=R2,WKREG1=R1
28681 00005E94 D105                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R1        ;DST_ADR
28682 00005E96 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28683                            8525             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_ACC_LAT,L1=W,DT_REG=R2,WKREG1=R1   ;
28684 00005E98 D105                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R1        ;DST_ADR
28685 00005E9A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28686                            8526             SUB_END
28687                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28688 00005E9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28689                            8527             M_RTS
28690 00005E9E 000B                   M           RTS                             ;RTSの後ろの
28691 00005EA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28692                            8528     
28693                            8529     
28694                            8530     ;       ***********************************
28695                            8531     ;       ***                             ***
28696                            8532     ;       ***     2006-07-28              ***
28697                            8533     ;       ***     画面ｵｰﾊﾞﾗｲﾄﾞ            ***
28698                            8534     ;       ***                             ***
28699                            8535     ;       ***********************************
28700                            8536     ;------2013-02-08 ---
28701                            8537             .IMPORT _SVP_OVERLIDE_COF
28702                            8538     
28703                                     ***** BEGIN-POOL *****
28704 00005EA2 0064                       DATA FOR SOURCE-LINE 8520
28705 00005EA4 00000000                   DATA FOR SOURCE-LINE 8521
28706 00005EA8 00000000                   DATA FOR SOURCE-LINE 8522
28707 00005EAC 00000000                   DATA FOR SOURCE-LINE 8524
28708 00005EB0 00000000                   DATA FOR SOURCE-LINE 8525
28709                                     ***** END-POOL *****
28710 00005EB4                   8539             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   406
PROGRAM NAME =

28711 00005EB4                   8540     _GAMEN_OVER_RIDE:
28712                            8541             SUB_START
28713 00005EB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
28714                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28715                            8542     
28716                            8543     ;------2013-02-08 ---
28717 00005EB6 D108              8544             MOV.L   #_SVP_OVERLIDE_COF,R1           ;
28718 00005EB8 6211              8545             MOV.W   @R1,R2                          ;
28719 00005EBA D108              8546             MOV.L   #_SET1_OVERLIDE_COF,R1          ;
28720 00005EBC 2121              8547             MOV.W   R2,@R1                          ;
28721                            8548     ;       ----------------------------
28722                            8549     
28723                            8550     
28724 00005EBE D107              8551             MOV.L   #_SET1_OVERLIDE_COF,R1                                          ;
28725 00005EC0 6211              8552             MOV.W   @R1,R2                                                          ;
28726 00005EC2 2228              8553             TST     R2,R2                                                           ;
28727                            8554             TST_BIT_ON GAMEN_OVRIDE_100                                             ;
28728 00005EC4 8B00                   M           BF      GAMEN_OVRIDE_100
28729 00005EC6 9206              8555             MOV.W   #1,R2                                                           ;
28730 00005EC8                   8556     GAMEN_OVRIDE_100:                                                               ;
28731                            8557             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
28732 00005EC8 D105                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
28733 00005ECA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28734                            8558             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
28735 00005ECC D105                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
28736 00005ECE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28737                            8559             SUB_END
28738                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28739 00005ED0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28740                            8560             M_RTS
28741 00005ED2 000B                   M           RTS                             ;RTSの後ろの
28742 00005ED4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28743                            8561     
28744                            8562     ;       ***************************************************
28745                            8563     ;       ***                                             ***
28746                            8564     ;       ***                                             ***
28747                            8565     ;       ***                                             ***
28748                            8566     ;       ***************************************************
28749                                     ***** BEGIN-POOL *****
28750 00005ED6 0001                       DATA FOR SOURCE-LINE 8555
28751 00005ED8 00000000                   DATA FOR SOURCE-LINE 8544
28752 00005EDC 00000000                   DATA FOR SOURCE-LINE 8546,8551
28753 00005EE0 00000000                   DATA FOR SOURCE-LINE 8557
28754 00005EE4 00000000                   DATA FOR SOURCE-LINE 8558
28755                                     ***** END-POOL *****
28756 00005EE8                   8567             .ALIGN  4                               ;
28757 00005EE8                   8568     _SET_OVER_RIDE:
28758                            8569             SUB_START
28759 00005EE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28760                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28761 00005EEA D10D              8570             MOV.L   #_MODE_SEL,R1                                                   ;
28762 00005EEC 6011              8571             MOV.W   @R1,R0                                                          ;
28763 00005EEE C81E              8572             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                                 ;
28764                            8573             TST_BIT_OF SET_OVERID500                                                ;
28765 00005EF0 8948                   M           BT      SET_OVERID500
28766                            8574     
28767 00005EF2 D10C              8575             MOV.L   #_OVERLIDE_DT_SEL,R1                                            ;画面ｵｰﾊﾞﾗ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   407
PROGRAM NAME =

                                          ｲﾄﾞ有効
28768 00005EF4 6011              8576             MOV.W   @R1,R0                                                          ;
28769 00005EF6 8801              8577             CMP/EQ  #1,R0                                                           ;
28770 00005EF8 8B20              8578             BF      SET_OVERID200                                                   ;
28771                            8579     ;       ------ 画面ﾃﾞｰﾀ有効--------
28772                            8580             MEM_MOV_TO_MEM  _SET_GMN_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
28773 00005EFA D10B                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1
28774 00005EFC 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28775 00005EFE D30B                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
28776 00005F00 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28777                            8581             MEM_MOV_TO_MEM  _SET_GMN_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
28778 00005F02 D10B                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1
28779 00005F04 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28780 00005F06 D30B                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
28781 00005F08 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28782                            8582             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT0,WKREG=R4    ;
28783 00005F0A D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28784 00005F0C 6041                   M           MOV.W   @R4,R0          ;
28785 00005F0E CB01                   M           OR      #BIT0,R0                ;
28786 00005F10 2401                   M           MOV.W   R0,@R4          ;
28787                            8583             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
28788 00005F12 D409                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28789 00005F14 6041                   M           MOV.W   @R4,R0          ;
28790 00005F16 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28791 00005F18 2401                   M           MOV.W   R0,@R4          ;
28792                            8584             M_BRA   SET_OVERID900
28793 00005F1A A040                   M           BRA     SET_OVERID900
28794 00005F1C 0009                   M           NOP
28795                            8585     
28796                                     ***** BEGIN-POOL *****
28797 00005F1E 0000                       ALIGNMENT CODE
28798 00005F20 00000000                   DATA FOR SOURCE-LINE 8570
28799 00005F24 00000000                   DATA FOR SOURCE-LINE 8575
28800 00005F28 00000000                   DATA FOR SOURCE-LINE 8580
28801 00005F2C 00000000                   DATA FOR SOURCE-LINE 8580
28802 00005F30 00000000                   DATA FOR SOURCE-LINE 8581
28803 00005F34 00000000                   DATA FOR SOURCE-LINE 8581
28804 00005F38 00000000                   DATA FOR SOURCE-LINE 8582,8583
28805                                     ***** END-POOL *****
28806 00005F3C                   8586     SET_OVERID200:
28807                            8587             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT0,WKREG=R4  ;
28808 00005F3C D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28809 00005F3E 6041                   M           MOV.W   @R4,R0          ;
28810 00005F40 C9FE                   M           AND     #LOW ~BIT0,R0           ;
28811 00005F42 2401                   M           MOV.W   R0,@R4          ;
28812                            8588     
28813                            8589     ;       ===========================
28814                            8590     ;       ===     ｼｰｹﾝｽ           ===
28815                            8591     ;       ===========================
28816 00005F44 D10A              8592             MOV.L   #_CB_SEQ_CB_COM346,R1                                           ;
28817 00005F46 6311              8593             MOV.W   @R1,R3                                                          ;
28818 00005F48 940F              8594             MOV.W   #BIT15,R4                                                       ;
28819 00005F4A 2348              8595             TST     R4,R3                                                           ;
28820                            8596             TST_BIT_OF SET_OVERID500
28821 00005F4C 891A                   M           BT      SET_OVERID500
28822                            8597             MEM_MOV_TO_MEM  _SET_SEQ_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
28823 00005F4E D109                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   408
PROGRAM NAME =

28824 00005F50 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28825 00005F52 D309                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
28826 00005F54 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28827                            8598             MEM_MOV_TO_MEM  _SET_SEQ_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
28828 00005F56 D109                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1
28829 00005F58 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28830 00005F5A D309                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
28831 00005F5C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28832                            8599             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT1,WKREG=R4    ;
28833 00005F5E D403                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28834 00005F60 6041                   M           MOV.W   @R4,R0          ;
28835 00005F62 CB02                   M           OR      #BIT1,R0                ;
28836 00005F64 2401                   M           MOV.W   R0,@R4          ;
28837                            8600             M_BRA   SET_OVERID900                                                   ;
28838 00005F66 A01A                   M           BRA     SET_OVERID900
28839 00005F68 0009                   M           NOP
28840                            8601     
28841                                     ***** BEGIN-POOL *****
28842 00005F6A 8000                       DATA FOR SOURCE-LINE 8594
28843 00005F6C 00000000                   DATA FOR SOURCE-LINE 8587,8599
28844 00005F70 00000000                   DATA FOR SOURCE-LINE 8592
28845 00005F74 00000000                   DATA FOR SOURCE-LINE 8597
28846 00005F78 00000000                   DATA FOR SOURCE-LINE 8597
28847 00005F7C 00000000                   DATA FOR SOURCE-LINE 8598
28848 00005F80 00000000                   DATA FOR SOURCE-LINE 8598
28849                                     ***** END-POOL *****
28850 00005F84                   8602     SET_OVERID500:
28851 00005F84 920E              8603             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28852                            8604             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
28853 00005F86 D108                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
28854 00005F88 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28855                            8605             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
28856 00005F8A D108                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
28857 00005F8C 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28858                            8606             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
28859 00005F8E D408                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28860 00005F90 6041                   M           MOV.W   @R4,R0          ;
28861 00005F92 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28862 00005F94 2401                   M           MOV.W   R0,@R4          ;
28863                            8607     
28864                            8608             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
28865 00005F96 D406                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28866 00005F98 6041                   M           MOV.W   @R4,R0          ;
28867 00005F9A C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
28868 00005F9C 2401                   M           MOV.W   R0,@R4          ;
28869                            8609     
28870 00005F9E                   8610     SET_OVERID900:
28871                            8611     
28872                            8612             SUB_END
28873                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28874 00005F9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28875                            8613             M_RTS
28876 00005FA0 000B                   M           RTS                             ;RTSの後ろの
28877 00005FA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28878                            8614     
28879                            8615     
28880                            8616     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   409
PROGRAM NAME =

28881                            8617     
28882                            8618     ;       ***********************************************************
28883                            8619     ;       ***                                                     ***
28884                            8620     ;       ***                                                     ***
28885                            8621     ;       ***                     化石                            ***
28886                            8622     ;       ***                                                     ***
28887                            8623     ;       ***                                                     ***
28888                            8624     ;       ***********************************************************
28889                            8625     
28890                            8626     
28891                            8627     
28892                            8628     
28893                            8629     
28894                            8630     
28895                            8631     
28896                            8632     
28897                            8633     
28898                            8634     
28899                            8635     
28900                            8636     
28901                            8637     
28902                            8638     
28903                            8639     
28904                            8640     
28905                            8641     ;       ***********************************************************
28906                            8642     ;       ***                                                     ***
28907                            8643     ;       ***                                                     ***
28908                            8644     ;       ***                                                     ***
28909                            8645     ;       ***             その他からのＣＡＬＬ                    ***
28910                            8646     ;       ***                                                     ***
28911                            8647     ;       ***                                                     ***
28912                            8648     ;       ***                                                     ***
28913                            8649     ;       ***********************************************************
28914                            8650     ;       *******************************************
28915                            8651     ;       ***                                     ***
28916                            8652     ;       ***             運転釦ON起動時          ***
28917                            8653     ;       ***                                     ***
28918                            8654     ;       *******************************************
28919                            8655             .EXPORT _OVER_RID_UPDN_LAT_DTMK
28920                                     ***** BEGIN-POOL *****
28921 00005FA4 0064                       DATA FOR SOURCE-LINE 8603
28922 00005FA6 0000                       ALIGNMENT CODE
28923 00005FA8 00000000                   DATA FOR SOURCE-LINE 8604
28924 00005FAC 00000000                   DATA FOR SOURCE-LINE 8605
28925 00005FB0 00000000                   DATA FOR SOURCE-LINE 8606,8608
28926                                     ***** END-POOL *****
28927 00005FB4                   8656             .ALIGN  4                               ;
28928 00005FB4                   8657     _OVER_RID_UPDN_LAT_DTMK:
28929                            8658             SUB_START
28930 00005FB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
28931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28932 00005FB6 D10B              8659             MOV.L   #_OVER_UPDN_DBGCNT,R1
28933 00005FB8 6011              8660             MOV.W   @R1,R0
28934 00005FBA 7001              8661             ADD     #1,R0
28935 00005FBC 2101              8662             MOV.W   R0,@R1                          ;
28936                            8663             FAR_JSR #_SET_OVER_RIDE,R0              ;起動時
28937 00005FBE D00A                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   410
PROGRAM NAME =

28938 00005FC0 400B                   M           JSR     @R0                     ;
28939 00005FC2 0009                   M           NOP                                     ;
28940                            8664     
28941                            8665             FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
28942 00005FC4 D009                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28943 00005FC6 400B                   M           JSR     @R0                     ;
28944 00005FC8 0009                   M           NOP                                     ;
28945                            8666             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
28946 00005FCA D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28947 00005FCC 400B                   M           JSR     @R0                     ;
28948 00005FCE 0009                   M           NOP                                     ;
28949                            8667     
28950                            8668     ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
28951                            8669             FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
28952 00005FD0 D008                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28953 00005FD2 400B                   M           JSR     @R0                     ;
28954 00005FD4 0009                   M           NOP                                     ;
28955                            8670             FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
28956 00005FD6 D008                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28957 00005FD8 400B                   M           JSR     @R0                     ;
28958 00005FDA 0009                   M           NOP                                     ;
28959                            8671     
28960                            8672             SUB_END
28961                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28962 00005FDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28963                            8673             M_RTS
28964 00005FDE 000B                   M           RTS                             ;RTSの後ろの
28965 00005FE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28966                            8674     
28967                            8675     
28968                            8676     ;       *******************************************
28969                            8677     ;       ***                                     ***
28970                            8678     ;       ***                                     ***
28971                            8679     ;       ***     起動時及び１回転毎              ***
28972                            8680     ;       ***                                     ***
28973                            8681     ;       ***                                     ***
28974                            8682     ;       *******************************************
28975                                     ***** BEGIN-POOL *****
28976 00005FE2 0000                       ALIGNMENT CODE
28977 00005FE4 00000000                   DATA FOR SOURCE-LINE 8659
28978 00005FE8 00000000                   DATA FOR SOURCE-LINE 8663
28979 00005FEC 00000000                   DATA FOR SOURCE-LINE 8665
28980 00005FF0 00000000                   DATA FOR SOURCE-LINE 8666
28981 00005FF4 00000000                   DATA FOR SOURCE-LINE 8669
28982 00005FF8 00000000                   DATA FOR SOURCE-LINE 8670
28983                                     ***** END-POOL *****
28984 00005FFC                   8683             .ALIGN  4                               ;
28985 00005FFC                   8684     _OVERRIDE_CALC_LATE_SEL:                                                        ;
28986                            8685             SUB_START                                                               ;
28987 00005FFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
28988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28989                            8686     
28990                            8687             MEM_MOV_TO_MEM  _SET_ACC_OVRLIDE,W,_POSCTL_OVER_ACC_LAT,W,R1,R2,R3      ;%
28991 00005FFE D106                   M           MOV.L   #_SET_ACC_OVRLIDE,R1
28992 00006000 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28993 00006002 D306                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R3        ;DST_ADR
28994 00006004 2321                   M           MOV.W   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   411
PROGRAM NAME =

28995                            8688             FAR_JSR #_ACCLAT1_SV_MAK_OVR,R0                                         ;
28996 00006006 D006                   M           MOV.L   #_ACCLAT1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28997 00006008 400B                   M           JSR     @R0                     ;
28998 0000600A 0009                   M           NOP                                     ;
28999                            8689             FAR_JSR #_ACCBRK1_SV_MAK_OVR,R0                                         ;
29000 0000600C D005                   M           MOV.L   #_ACCBRK1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29001 0000600E 400B                   M           JSR     @R0                     ;
29002 00006010 0009                   M           NOP                                     ;
29003                            8690     
29004                            8691             SUB_END
29005                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29006 00006012 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29007                            8692             M_RTS
29008 00006014 000B                   M           RTS                             ;RTSの後ろの
29009 00006016 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29010                            8693     
29011                                     ***** BEGIN-POOL *****
29012 00006018 00000000                   DATA FOR SOURCE-LINE 8687
29013 0000601C 00000000                   DATA FOR SOURCE-LINE 8687
29014 00006020 00000000                   DATA FOR SOURCE-LINE 8688
29015 00006024 00000000                   DATA FOR SOURCE-LINE 8689
29016                                     ***** END-POOL *****
29017 00006028                   8694             .ALIGN  4                               ;
29018 00006028                   8695     _OVERRIDE_CALC_SPED_SEL:                                                ;
29019                            8696             SUB_START                                                       ;
29020 00006028 4F22                   M           STS.L   PR,@-R15                ;[必要]
29021                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29022                            8697     
29023                            8698             MEM_MOV_TO_MEM  _SET_SPD_OVRLIDE,W,_POSCTL_OVER_SPD_LAT,W,R1,R2,R3      ;
29024 0000602A D103                   M           MOV.L   #_SET_SPD_OVRLIDE,R1
29025 0000602C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29026 0000602E D303                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R3        ;DST_ADR
29027 00006030 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29028                            8699     
29029                            8700             SUB_END
29030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29031 00006032 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29032                            8701             M_RTS
29033 00006034 000B                   M           RTS                             ;RTSの後ろの
29034 00006036 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29035                            8702     
29036                            8703     
29037                            8704     
29038                            8705     
29039                            8706     
29040                            8707     
29041                            8708     
29042                            8709     
29043                            8710     
29044                            8711     
29045                            8712     ;       *******************************************
29046                            8713     ;       ***                                     ***
29047                            8714     ;       ***     Input  R1:時間                  ***
29048                            8715     ;       ***     Output R1:時間×100/OVER        ***
29049                            8716     ;       ***                                     ***
29050                            8717     ;       *******************************************
29051                            8718     ;       ===================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   412
PROGRAM NAME =

29052                            8719     ;       ==== 2005-01-17 ===
29053                            8720             .EXPORT _OVER_RIDE_ERR_TIMCHG
29054                                     ***** BEGIN-POOL *****
29055 00006038 00000000                   DATA FOR SOURCE-LINE 8698
29056 0000603C 00000000                   DATA FOR SOURCE-LINE 8698
29057                                     ***** END-POOL *****
29058 00006040                   8721             .ALIGN  4                               ;
29059 00006040                   8722     _OVER_RIDE_ERR_TIMCHG:
29060                            8723             SUB_START
29061 00006040 4F22                   M           STS.L   PR,@-R15                ;[必要]
29062                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29063                            8724             PUSH_REG1 R2
29064 00006042 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29065                                 M                                           ;REG=>[SP]
29066                                 M                                           ;"-4" FF,FF,FF,FC
29067                            8725     
29068 00006044 6213              8726             MOV     R1,R2                                           ;R1-->R2
29069                            8727     
29070 00006046 D107              8728             MOV.L   #_OVER_RIDE_USEFUL,R1                           ;
29071 00006048 6011              8729             MOV.W   @R1,R0                                          ;
29072 0000604A C801              8730             TST     #BIT0,R0                                        ;
29073                            8731             TST_BIT_OF OVER_RIDE_ERRTIMCHG_100
29074 0000604C 8904                   M           BT      OVER_RIDE_ERRTIMCHG_100
29075                            8732     
29076 0000604E D006              8733             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                        ;ｵｰﾊﾞﾗｲﾄﾞ%
29077 00006050 6401              8734             MOV.W   @R0,R4                                          ;
29078                            8735     
29079                            8736     ;       ============ 2005-04-06(距離一定) =========
29080                            8737                                                                     ;
29081                            8738             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                        ;
29082 00006052 D006                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29083 00006054 400B                   M           JSR     @R0                     ;
29084 00006056 0009                   M           NOP                                     ;
29085                            8739                                                                     ;
29086                            8740     ;       ===========================================
29087                            8741     
29088 00006058                   8742     OVER_RIDE_ERRTIMCHG_100                                         ;
29089 00006058 6123              8743             MOV     R2,R1                                           ;
29090                            8744     
29091                            8745             POP_REG1 R2                                             ;ANS:R1
29092                                 M                                   ; RE"+4" 00,00,00,04
29093 0000605A 62F6                   M           MOV.L   @R15+,R2        ;
29094                            8746             SUB_END
29095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29096 0000605C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29097                            8747             M_RTS
29098 0000605E 000B                   M           RTS                             ;RTSの後ろの
29099 00006060 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29100                            8748     
29101                            8749     
29102                            8750     ;       *******************************************
29103                            8751     ;       ***                                     ***
29104                            8752     ;       ***     時間の次元                      ***
29105                            8753     ;       ***     2005-01-17                      ***
29106                            8754     ;       ***     Input R2        ANS R2          ***
29107                            8755     ;       *******************************************
29108                            8756     ;       R0,R2 DESTROY
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   413
PROGRAM NAME =

29109                            8757     ;       ANS:R2:_POS_LSI_ACCLT1
29110                            8758     ;       (R2)data * 100/SV
29111                            8759     ;       BREAK ERR用
29112                                     ***** BEGIN-POOL *****
29113 00006062 0000                       ALIGNMENT CODE
29114 00006064 00000000                   DATA FOR SOURCE-LINE 8728
29115 00006068 00000000                   DATA FOR SOURCE-LINE 8733
29116 0000606C 00000000                   DATA FOR SOURCE-LINE 8738
29117                                     ***** END-POOL *****
29118 00006070                   8760             .ALIGN  4                               ;
29119 00006070                   8761     _OVER_RID_UPDN_LAT_CALC:
29120                            8762             SUB_START
29121 00006070 4F22                   M           STS.L   PR,@-R15                ;[必要]
29122                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29123                            8763     
29124                            8764             SUB_END
29125                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29126 00006072 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29127                            8765             M_RTS
29128 00006074 000B                   M           RTS                             ;RTSの後ろの
29129 00006076 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29130                            8766     
29131                            8767     
29132                            8768     ;       ===================================================================
29133                            8769     ;       ====                                                            ===
29134                            8770     ;       ====                                                            ===
29135                            8771     ;       ====                                                            ===
29136                            8772     ;       ====            2006-09-19オーバライド周波数対応                ===
29137                            8773     ;       ====                                                            ===
29138                            8774     ;       ====                                                            ===
29139                            8775     ;       ====                                                            ===
29140                            8776     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29141                            8777     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29142                            8778     ;       ====    <3>:減速の補正は行なわない                              ===
29143                            8779     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29144                            8780     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29145                            8781     ;       ====                                                            ===
29146                            8782     ;       ====                                                            ===
29147                            8783     ;       ===================================================================
29148                            8784     
29149                            8785             .EXPORT _PRESET_PV_ABS_TO_OBJ
29150 00006078                   8786     _PRESET_PV_ABS_TO_OBJ:
29151                            8787             SUB_START
29152 00006078 4F22                   M           STS.L   PR,@-R15                ;[必要]
29153                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29154 0000607A D106              8788             MOV.L   #_ERR_FIRST_ST,R1
29155 0000607C 6011              8789             MOV.W   @R1,R0
29156 0000607E C801              8790             TST     #BIT0,R0
29157                            8791             TST_BIT_ON PRESET_PVABSTOOBJ_100
29158 00006080 8B0C                   M           BF      PRESET_PVABSTOOBJ_100
29159                            8792     
29160                            8793             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0                                          ;
29161 00006082 D005                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29162 00006084 400B                   M           JSR     @R0                     ;
29163 00006086 0009                   M           NOP                                     ;
29164                            8794             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_FIRST_ST,LG=W,BIT=BIT0,WKREG=R1        ;
29165 00006088 D102                   M           MOV.L   #_ERR_FIRST_ST,R1               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   414
PROGRAM NAME =

29166 0000608A 6011                   M           MOV.W   @R1,R0          ;
29167 0000608C CB01                   M           OR      #BIT0,R0                ;
29168 0000608E 2101                   M           MOV.W   R0,@R1          ;
29169                            8795             M_BRA   PRESET_PVABSTOOBJ_EXT                                           ;
29170 00006090 A004                   M           BRA     PRESET_PVABSTOOBJ_EXT
29171 00006092 0009                   M           NOP
29172                            8796     
29173                                     ***** BEGIN-POOL *****
29174 00006094 00000000                   DATA FOR SOURCE-LINE 8788,8794
29175 00006098 00000000                   DATA FOR SOURCE-LINE 8793
29176                                     ***** END-POOL *****
29177 0000609C                   8797     PRESET_PVABSTOOBJ_100:
29178                            8798             .AIF    0 EQ    0
29179                            8799 C   
29180                            8800             .AELSE
29181                            8801     
29182                            8802             FAR_JSR #_CPUB_GET_CPUA_OBJPOS,R0
29183                            8803     
29184                            8804             .AENDI
29185                            8805     
29186                            8806     
29187 0000609C                   8807     PRESET_PVABSTOOBJ_EXT:
29188                            8808             SUB_END
29189                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29190 0000609C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29191                            8809             M_RTS
29192 0000609E 000B                   M           RTS                             ;RTSの後ろの
29193 000060A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29194                            8810     
29195                            8811     
29196                            8812             .EXPORT _PRESET_PV_FLGCLR
29197 000060A2                   8813     _PRESET_PV_FLGCLR
29198                            8814             SUB_START
29199 000060A2 4F22                   M           STS.L   PR,@-R15                ;[必要]
29200                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29201 000060A4 200A              8815             XOR     R0,R0
29202 000060A6 D102              8816             MOV.L   #_ERR_FIRST_ST,R1       ;
29203 000060A8 2101              8817             MOV.W   R0,@R1                  ;
29204                            8818     
29205                            8819             SUB_END
29206                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29207 000060AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29208                            8820             M_RTS
29209 000060AC 000B                   M           RTS                             ;RTSの後ろの
29210 000060AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29211                            8821     
29212                            8822     
29213                            8823     
29214                            8824     
29215                                     ***** BEGIN-POOL *****
29216 000060B0 00000000                   DATA FOR SOURCE-LINE 8816
29217                                     ***** END-POOL *****
29218 000060B4                   8825     _CPUB_GET_CPUA_OBJPOS
29219                            8826             SUB_START
29220 000060B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29221                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29222                            8827     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   415
PROGRAM NAME =

29223                            8828     ;;;;;;;;;;2015-04-08 全ﾓｰﾄﾞ対象
29224                            8829     ;;;;;;;;;;      MOV.L   #_MODE_SEL,R1                           ;
29225                            8830     ;;;;;;;;;;      MOV.W   @R1,R0                                  ;
29226                            8831     ;;;;;;;;;;      TST     #_W1CNT+_W1SGL,R0               ;
29227                            8832     ;;;;;;;;;;      TST_BIT_OF CPUB_GET_OBJPOS_EXT                  ;
29228                            8833     
29229                            8834     
29230 000060B6 D409              8835             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4                ;[CPUAのﾃﾞｰﾀをCPUB側で使用する2014
                                          -11-07]
29231 000060B8 5140              8836             MOV.L   @(0,R4),R1                              ;
29232 000060BA 5241              8837             MOV.L   @(4,R4),R2                              ;
29233                            8838     
29234 000060BC 5540              8839             MOV.L   @(0,R4),R5                              ;
29235 000060BE 5641              8840             MOV.L   @(4,R4),R6                              ;
29236 000060C0 3518              8841             SUB     R1,R5
29237 000060C2 3628              8842             SUB     R2,R6                                   ;
29238 000060C4 265B              8843             OR      R5,R6                                   ;
29239 000060C6 2668              8844             TST     R6,R6                                   ;
29240                            8845             TST_BIT_OF CPUB_GET_OBJPOS_100                  ;8ﾊﾞｲﾄｱｸｾｽ中の問題
29241 000060C8 8901                   M           BT      CPUB_GET_OBJPOS_100
29242                            8846     
29243 000060CA 5140              8847             MOV.L   @(0,R4),R1                              ;
29244 000060CC 5241              8848             MOV.L   @(4,R4),R2                              ;
29245                            8849     
29246                            8850     
29247 000060CE                   8851     CPUB_GET_OBJPOS_100
29248 000060CE D404              8852             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29249 000060D0 1410              8853             MOV.L   R1,@(0,R4)
29250 000060D2 1421              8854             MOV.L   R2,@(4,R4)
29251                            8855     
29252 000060D4                   8856     CPUB_GET_OBJPOS_EXT
29253                            8857     
29254                            8858             SUB_END
29255                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29256 000060D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29257                            8859             M_RTS
29258 000060D6 000B                   M           RTS                             ;RTSの後ろの
29259 000060D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29260                            8860     
29261                            8861     
29262                            8862     ;       *******************************************
29263                            8863     ;       ***                                     ***
29264                            8864     ;       ***     2006-09-19                      ***
29265                            8865     ;       ***                                     ***
29266                            8866     ;       ***     起動または異常時の位置あわせ    ***
29267                            8867     ;       ***                                     ***
29268                            8868     ;       *******************************************
29269                                     ***** BEGIN-POOL *****
29270 000060DA 0000                       ALIGNMENT CODE
29271 000060DC 00000000                   DATA FOR SOURCE-LINE 8835
29272 000060E0 00000000                   DATA FOR SOURCE-LINE 8852
29273                                     ***** END-POOL *****
29274 000060E4                   8869             .ALIGN  4                               ;
29275 000060E4                   8870     _SET_PV_ABS_TO_OBJ:
29276                            8871             SUB_START
29277 000060E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   416
PROGRAM NAME =

29279                            8872             PUSH_REG1 R0                            ;
29280 000060E6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29281                                 M                                           ;REG=>[SP]
29282                                 M                                           ;"-4" FF,FF,FF,FC
29283                            8873             PUSH_REG1 R1
29284 000060E8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29285                                 M                                           ;REG=>[SP]
29286                                 M                                           ;"-4" FF,FF,FF,FC
29287                            8874             PUSH_REG1 R2
29288 000060EA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29289                                 M                                           ;REG=>[SP]
29290                                 M                                           ;"-4" FF,FF,FF,FC
29291                            8875             PUSH_REG1 R4
29292 000060EC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
29293                                 M                                           ;REG=>[SP]
29294                                 M                                           ;"-4" FF,FF,FF,FC
29295                            8876     
29296                            8877     ;       ----------------------------------------------
29297                            8878     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;//しょうがない
29298                            8879     ;;;;;;; MOV.W   @R1,R0                          ;
29299                            8880     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
29300                            8881     ;;;;;;; MOV.W   @R1,R2                          ;
29301                            8882     ;;;;;;; OR      R2,R0
29302                            8883     ;;;;;;; TST     #BIT0,R0                        ;
29303                            8884     ;;;;;;; TST_BIT_ON SETPVABSTOOBJ_EXT
29304                            8885     
29305 000060EE D406              8886             MOV.L   #_LINK_PV_ABSPLS,R4             ;
29306 000060F0 6146              8887             MOV.L   @R4+,R1                                 ;
29307 000060F2 6242              8888             MOV.L   @R4,R2                                  ;
29308 000060F4 D405              8889             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29309 000060F6 1410              8890             MOV.L   R1,@(0,R4)
29310 000060F8 1421              8891             MOV.L   R2,@(4,R4)
29311                            8892     
29312                            8893     ;;;;;;;SETPVABSTOOBJ_EXT:
29313                            8894     
29314                            8895             POP_REG1 R4
29315                                 M                                   ; RE"+4" 00,00,00,04
29316 000060FA 64F6                   M           MOV.L   @R15+,R4        ;
29317                            8896             POP_REG1 R2
29318                                 M                                   ; RE"+4" 00,00,00,04
29319 000060FC 62F6                   M           MOV.L   @R15+,R2        ;
29320                            8897             POP_REG1 R1
29321                                 M                                   ; RE"+4" 00,00,00,04
29322 000060FE 61F6                   M           MOV.L   @R15+,R1        ;
29323                            8898             POP_REG1 R0
29324                                 M                                   ; RE"+4" 00,00,00,04
29325 00006100 60F6                   M           MOV.L   @R15+,R0        ;
29326                            8899             SUB_END
29327                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29328 00006102 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29329                            8900             M_RTS
29330 00006104 000B                   M           RTS                             ;RTSの後ろの
29331 00006106 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29332                            8901     ;       *******************************************
29333                            8902     ;       ***                                     ***
29334                            8903     ;       ***     2006-09-19                      ***
29335                            8904     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   417
PROGRAM NAME =

29336                            8905     ;       ***     ﾊﾟﾙｽ管理                        ***
29337                            8906     ;       ***     (位置決め部分での処理)          ***
29338                            8907     ;       ***                                     ***
29339                            8908     ;       *******************************************
29340                            8909     ;       *******************************************
29341                            8910     ;       ***                                     ***
29342                            8911     ;       ***                                     ***
29343                            8912     ;       ***             演算INI                 ***
29344                            8913     ;       ***                                     ***
29345                            8914     ;       ***                                     ***
29346                            8915     ;       ***                                     ***
29347                            8916     ;       *******************************************
29348                                     ***** BEGIN-POOL *****
29349 00006108 00000000                   DATA FOR SOURCE-LINE 8886
29350 0000610C 00000000                   DATA FOR SOURCE-LINE 8889
29351                                     ***** END-POOL *****
29352 00006110                   8917             .ALIGN  4                               ;
29353 00006110                   8918     _PLS_LSI_CTL_INI:
29354                            8919             SUB_START
29355 00006110 4F22                   M           STS.L   PR,@-R15                ;[必要]
29356                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29357                            8920     
29358                            8921     
29359                            8922     
29360                            8923             SUB_END
29361                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29362 00006112 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29363                            8924             M_RTS
29364 00006114 000B                   M           RTS                             ;RTSの後ろの
29365 00006116 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29366                            8925     
29367                            8926     
29368                            8927     ;       *******************************************
29369                            8928     ;       ***                                     ***
29370                            8929     ;       ***                                     ***
29371                            8930     ;       ***             演算END                 ***
29372                            8931     ;       ***             どうするか？            ***
29373                            8932     ;       ***                                     ***
29374                            8933     ;       ***                                     ***
29375                            8934     ;       *******************************************
29376 00006118                   8935             .ALIGN  4                               ;
29377 00006118                   8936     _PLS_LSI_SPEED_OFF:
29378                            8937             SUB_START
29379 00006118 4F22                   M           STS.L   PR,@-R15                ;[必要]
29380                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29381                            8938     
29382                            8939             FAR_JSR #_PLS_LSI_STOP_END,R0                                           ;
29383 0000611A D003                   M           MOV.L   #_PLS_LSI_STOP_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29384 0000611C 400B                   M           JSR     @R0                     ;
29385 0000611E 0009                   M           NOP                                     ;
29386                            8940     
29387                            8941             SUB_END
29388                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29389 00006120 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29390                            8942             M_RTS
29391 00006122 000B                   M           RTS                             ;RTSの後ろの
29392 00006124 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   418
PROGRAM NAME =

29393                            8943     
29394                            8944     ;       ***********************************
29395                            8945     ;       ***                             ***
29396                            8946     ;       ***     SPD * OVER LIMIT-->SPD  ***
29397                            8947     ;       ***                             ***
29398                            8948     ;       ***********************************
29399                            8949     ;       input R2 output R2
29400                                     ***** BEGIN-POOL *****
29401 00006126 0000                       ALIGNMENT CODE
29402 00006128 00000000                   DATA FOR SOURCE-LINE 8939
29403                                     ***** END-POOL *****
29404 0000612C                   8950     _OVER_LIDE_SPD_CALC
29405                            8951             SUB_START
29406 0000612C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29407                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29408 0000612E D307              8952             MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
29409 00006130 6131              8953             MOV.W   @R3,R1                                  ;
29410 00006132 940A              8954             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100
29411                            8955             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
29412 00006134 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29413 00006136 400B                   M           JSR     @R0                     ;
29414 00006138 0009                   M           NOP                                     ;
29415 0000613A D106              8956             MOV.L   #_POSCTL_SV_OFS_SPD,R1                  ;//自起動 PLS/S
29416 0000613C 6312              8957             MOV.L   @R1,R3                                  ;
29417 0000613E 3233              8958             CMP/GE  R3,R2                                   ;
29418 00006140 8900              8959             BT      OVER_LIDE_SPDCAL100                     ;
29419 00006142 6233              8960             MOV     R3,R2                                   ;
29420 00006144                   8961     OVER_LIDE_SPDCAL100
29421                            8962     
29422                            8963             SUB_END
29423                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29424 00006144 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29425                            8964             M_RTS
29426 00006146 000B                   M           RTS                             ;RTSの後ろの
29427 00006148 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29428                            8965     
29429                            8966     
29430                            8967     ;       ***********************************************************
29431                            8968     
29432                            8969     
29433                            8970     ;       ***********************************
29434                            8971     ;       ***                             ***
29435                            8972     ;       ***     上限リミット            ***
29436                            8973     ;       ***     2013-02-15              ***
29437                            8974     ;       ***********************************
29438                            8975     ;       input R2[PLS/S] output R2[PLS/S]
29439                            8976     ;
29440                                     ***** BEGIN-POOL *****
29441 0000614A 0064                       DATA FOR SOURCE-LINE 8954
29442 0000614C 00000000                   DATA FOR SOURCE-LINE 8952
29443 00006150 00000000                   DATA FOR SOURCE-LINE 8955
29444 00006154 00000000                   DATA FOR SOURCE-LINE 8956
29445                                     ***** END-POOL *****
29446 00006158                   8977     _SPD_UPLIMT_CALC
29447                            8978             SUB_START
29448 00006158 4F22                   M           STS.L   PR,@-R15                ;[必要]
29449                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   419
PROGRAM NAME =

29450 0000615A D106              8979             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
29451 0000615C 6011              8980             MOV.W   @R1,R0                  ;
29452 0000615E 2008              8981             TST     R0,R0                   ;
29453                            8982             TST_BIT_OF SPD_UPLIMT_CALEND    ;LIMITしない
29454 00006160 8904                   M           BT      SPD_UPLIMT_CALEND
29455                            8983     
29456 00006162 D105              8984             MOV.L   #_UPLIMIT_SV_SPD,R1     ;
29457 00006164 6312              8985             MOV.L   @R1,R3                  ;
29458 00006166 3323              8986             CMP/GE  R2,R3                   ;R2=< R3
29459 00006168 8900              8987             BT      SPD_UPLIMT_CALEND       ;
29460 0000616A 6233              8988             MOV     R3,R2                   ;UP LIMIT
29461 0000616C                   8989     SPD_UPLIMT_CALEND                       ;
29462                            8990             SUB_END
29463                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29464 0000616C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29465                            8991             M_RTS
29466 0000616E 000B                   M           RTS                             ;RTSの後ろの
29467 00006170 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29468                            8992     
29469                            8993     ;       ***********************************************************
29470                            8994     ;       ***                                                     ***
29471                            8995     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29472                            8996     ;       ***     位置決め部演算                                  ***
29473                            8997     ;       ***********************************************************
29474                            8998     ;       Input   R1,R2:残り距離 +/-
29475                            8999     ;               R11
29476                            9000     ;               R12
29477                            9001     ;
29478                            9002     
29479                            9003     
29480                                     ***** BEGIN-POOL *****
29481 00006172 0000                       ALIGNMENT CODE
29482 00006174 00000000                   DATA FOR SOURCE-LINE 8979
29483 00006178 00000000                   DATA FOR SOURCE-LINE 8984
29484                                     ***** END-POOL *****
29485 0000617C                   9004             .ALIGN  4                               ;
29486 0000617C                   9005     _CMP_POSLSI_CTLGENSOK:
29487                            9006             SUB_START
29488 0000617C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29489                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29490                            9007     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29491 0000617E D40F              9008             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
29492 00006180 5140              9009             MOV.L   @(0,R4),R1                                              ;
29493 00006182 5241              9010             MOV.L   @(4,R4),R2                                              ;
29494                            9011     
29495                            9012     ;       ---------------リアルタイム目標位置-----------
29496 00006184 D40E              9013             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29497 00006186 5540              9014             MOV.L   @(0,R4),R5                                              ;
29498 00006188 5641              9015             MOV.L   @(4,R4),R6                                              ;
29499                            9016             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29500 0000618A 0008                   M           CLRT
29501 0000618C 326A                   M           SUBC    R6,R2
29502 0000618E 315A                   M           SUBC    R5,R1
29503                            9017     
29504 00006190 D40C              9018             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29505 00006192 6041              9019             MOV.W   @R4,R0                                                  ;
29506 00006194 C801              9020             TST     #BIT0,R0                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   420
PROGRAM NAME =

29507                            9021             TST_BIT_OF CMP_PLSLSI_CTLCAL_200                                        ;正転
29508 00006196 8905                   M           BT      CMP_PLSLSI_CTLCAL_200
29509                            9022             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29510 00006198 6227                   M           NOT     R2,R2                           ;
29511 0000619A 6117                   M           NOT     R1,R1                           ;
29512 0000619C 200A                   M           XOR     R0,R0                           ;
29513 0000619E 0018                   M           SETT
29514 000061A0 320E                   M           ADDC    R0,R2                           ;0+1+R2
29515 000061A2 310E                   M           ADDC    R0,R1                           ;
29516 000061A4                   9023     CMP_PLSLSI_CTLCAL_200:                                                  ;
29517                            9024     
29518                            9025     
29519 000061A4 D408              9026             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29520 000061A6 6942              9027             MOV.L   @R4,R9                                                  ;
29521                            9028     
29522 000061A8 D408              9029             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29523 000061AA 6A42              9030             MOV.L   @R4,R10                                                 ;
29524                            9031     
29525 000061AC D408              9032             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29526 000061AE 6B42              9033             MOV.L   @R4,R11                                                 ;
29527                            9034     
29528                            9035             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29529 000061B0 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29530 000061B2 400B                   M           JSR     @R0                     ;
29531 000061B4 0009                   M           NOP                                     ;
29532                            9036     
29533                            9037             SUB_END
29534                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29535 000061B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29536                            9038             M_RTS
29537 000061B8 000B                   M           RTS                             ;RTSの後ろの
29538 000061BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29539                            9039     
29540                            9040     
29541                            9041     ;       ***********************************************************
29542                            9042     ;       ***                                                     ***
29543                            9043     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29544                            9044     ;       ***     連続切り替え条件演算                            ***
29545                            9045     ;       ***********************************************************
29546                            9046     ;       Input   R1,R2:残り距離 +/-
29547                            9047     ;               R11
29548                            9048     ;               R12
29549                            9049     ;
29550                                     ***** BEGIN-POOL *****
29551 000061BC 00000000                   DATA FOR SOURCE-LINE 9008
29552 000061C0 00000000                   DATA FOR SOURCE-LINE 9013
29553 000061C4 00000000                   DATA FOR SOURCE-LINE 9018
29554 000061C8 00000000                   DATA FOR SOURCE-LINE 9026
29555 000061CC 00000000                   DATA FOR SOURCE-LINE 9029
29556 000061D0 00000000                   DATA FOR SOURCE-LINE 9032
29557 000061D4 00000000                   DATA FOR SOURCE-LINE 9035
29558                                     ***** END-POOL *****
29559 000061D8                   9050             .ALIGN  4                               ;
29560 000061D8                   9051     _CMP_CNT_CTLGENSOK:
29561                            9052             SUB_START
29562 000061D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   421
PROGRAM NAME =

29564                            9053     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29565 000061DA D414              9054             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
29566 000061DC 6146              9055             MOV.L   @R4+,R1                                                 ;
29567 000061DE 6242              9056             MOV.L   @R4,R2                                                  ;
29568                            9057     
29569 000061E0 D413              9058             MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
29570 000061E2 6442              9059             MOV.L   @R4,R4                                                  ;
29571 000061E4 233A              9060             XOR     R3,R3                                                   ;3FFF,FFFF以下
29572 000061E6 901F              9061             MOV.W   #_PROC_2MS_PLS,R0                                       ;
29573 000061E8 340C              9062             ADD     R0,R4                                                   ;R3,R4
29574                            9063             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-DT = 目標'
29575 000061EA 0008                   M           CLRT
29576 000061EC 324A                   M           SUBC    R4,R2
29577 000061EE 313A                   M           SUBC    R3,R1
29578                            9064     
29579                            9065     ;       ---------------リアルタイム目標位置-----------
29580 000061F0 D410              9066             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29581 000061F2 5540              9067             MOV.L   @(0,R4),R5                                              ;
29582 000061F4 5641              9068             MOV.L   @(4,R4),R6                                              ;
29583                            9069             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29584 000061F6 0008                   M           CLRT
29585 000061F8 326A                   M           SUBC    R6,R2
29586 000061FA 315A                   M           SUBC    R5,R1
29587                            9070     
29588 000061FC D40E              9071             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29589 000061FE 6041              9072             MOV.W   @R4,R0                                                  ;
29590 00006200 C801              9073             TST     #BIT0,R0                                                ;
29591                            9074             TST_BIT_OF CMP_CNT_CTLCAL_200                                   ;正転
29592 00006202 8905                   M           BT      CMP_CNT_CTLCAL_200
29593                            9075             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29594 00006204 6227                   M           NOT     R2,R2                           ;
29595 00006206 6117                   M           NOT     R1,R1                           ;
29596 00006208 200A                   M           XOR     R0,R0                           ;
29597 0000620A 0018                   M           SETT
29598 0000620C 320E                   M           ADDC    R0,R2                           ;0+1+R2
29599 0000620E 310E                   M           ADDC    R0,R1                           ;
29600 00006210                   9076     CMP_CNT_CTLCAL_200:                                                     ;
29601                            9077     
29602 00006210 D40A              9078             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29603 00006212 6942              9079             MOV.L   @R4,R9                                                  ;
29604                            9080     
29605 00006214 D40A              9081             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29606 00006216 6A42              9082             MOV.L   @R4,R10                                                 ;
29607                            9083     
29608 00006218 D40A              9084             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29609 0000621A 6B42              9085             MOV.L   @R4,R11                                                 ;
29610                            9086     
29611                            9087             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29612 0000621C D00A                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29613 0000621E 400B                   M           JSR     @R0                     ;
29614 00006220 0009                   M           NOP                                     ;
29615                            9088             SUB_END
29616                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29617 00006222 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29618                            9089             M_RTS
29619 00006224 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   422
PROGRAM NAME =

29620 00006226 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29621                            9090     
29622                            9091     ;       ***********************************************************
29623                            9092     ;       ***                                                     ***
29624                            9093     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29625                            9094     ;       ***     ブレーキ異常条件演算                            ***
29626                            9095     ;       ***********************************************************
29627                            9096     ;       Input   R1,R2:残り距離 +/-
29628                            9097     ;               R11
29629                            9098     ;               R12
29630                            9099     ;
29631                            9100             .EXPORT _CMP_BRK2_CTLGENSOK
29632                                     ***** BEGIN-POOL *****
29633 00006228 07D0                       DATA FOR SOURCE-LINE 9061
29634 0000622A 0000                       ALIGNMENT CODE
29635 0000622C 00000000                   DATA FOR SOURCE-LINE 9054
29636 00006230 00000000                   DATA FOR SOURCE-LINE 9058
29637 00006234 00000000                   DATA FOR SOURCE-LINE 9066
29638 00006238 00000000                   DATA FOR SOURCE-LINE 9071
29639 0000623C 00000000                   DATA FOR SOURCE-LINE 9078
29640 00006240 00000000                   DATA FOR SOURCE-LINE 9081
29641 00006244 00000000                   DATA FOR SOURCE-LINE 9084
29642 00006248 00000000                   DATA FOR SOURCE-LINE 9087
29643                                     ***** END-POOL *****
29644 0000624C                   9101             .ALIGN  4                               ;
29645 0000624C                   9102     _CMP_BRK2_CTLGENSOK:
29646                            9103             SUB_START
29647 0000624C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29648                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29649                            9104     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29650 0000624E D40F              9105             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
29651 00006250 6146              9106             MOV.L   @R4+,R1                                                 ;
29652 00006252 6242              9107             MOV.L   @R4,R2                                                  ;
29653                            9108     
29654                            9109     
29655                            9110     ;       ---------------実測目標位置-----------
29656 00006254 D40E              9111             MOV.L   #_LINK_PV_ABSPLS,R4             ;
29657 00006256 5540              9112             MOV.L   @(0,R4),R5                                              ;
29658 00006258 5641              9113             MOV.L   @(4,R4),R6                                              ;
29659                            9114             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29660 0000625A 0008                   M           CLRT
29661 0000625C 326A                   M           SUBC    R6,R2
29662 0000625E 315A                   M           SUBC    R5,R1
29663                            9115     
29664 00006260 D40C              9116             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29665 00006262 6041              9117             MOV.W   @R4,R0                                                  ;
29666 00006264 C801              9118             TST     #BIT0,R0                                                ;
29667                            9119             TST_BIT_OF CMP_BRK2_CTLCAL_200                                  ;正転
29668 00006266 8905                   M           BT      CMP_BRK2_CTLCAL_200
29669                            9120             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29670 00006268 6227                   M           NOT     R2,R2                           ;
29671 0000626A 6117                   M           NOT     R1,R1                           ;
29672 0000626C 200A                   M           XOR     R0,R0                           ;
29673 0000626E 0018                   M           SETT
29674 00006270 320E                   M           ADDC    R0,R2                           ;0+1+R2
29675 00006272 310E                   M           ADDC    R0,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   423
PROGRAM NAME =

29676 00006274                   9121     CMP_BRK2_CTLCAL_200:                                                    ;
29677 00006274 D408              9122             MOV.L   #_ABS_ENC_PLS_SPD,R4                                    ;実測
29678 00006276 6942              9123             MOV.L   @R4,R9                                                  ;
29679                            9124     
29680 00006278 D408              9125             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29681 0000627A 6A42              9126             MOV.L   @R4,R10                                                 ;
29682                            9127     
29683 0000627C D408              9128             MOV.L   #_BRK2_SV_DN_ACC,R4                                     ;500,000/1000
29684 0000627E 6B42              9129             MOV.L   @R4,R11                                                 ;
29685                            9130     
29686                            9131             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29687 00006280 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29688 00006282 400B                   M           JSR     @R0                     ;
29689 00006284 0009                   M           NOP                                     ;
29690                            9132             SUB_END
29691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29692 00006286 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29693                            9133             M_RTS
29694 00006288 000B                   M           RTS                             ;RTSの後ろの
29695 0000628A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29696                            9134     
29697                            9135     
29698                            9136     
29699                            9137     
29700                            9138     
29701                            9139     
29702                            9140     ;       *******************************************
29703                            9141     ;       ***                                     ***
29704                            9142     ;       ***     一旦停止                        ***
29705                            9143     ;       ***                                     ***
29706                            9144     ;       *******************************************
29707                                     ***** BEGIN-POOL *****
29708 0000628C 00000000                   DATA FOR SOURCE-LINE 9105
29709 00006290 00000000                   DATA FOR SOURCE-LINE 9111
29710 00006294 00000000                   DATA FOR SOURCE-LINE 9116
29711 00006298 00000000                   DATA FOR SOURCE-LINE 9122
29712 0000629C 00000000                   DATA FOR SOURCE-LINE 9125
29713 000062A0 00000000                   DATA FOR SOURCE-LINE 9128
29714 000062A4 00000000                   DATA FOR SOURCE-LINE 9131
29715                                     ***** END-POOL *****
29716 000062A8                   9145             .ALIGN  4                               ;
29717                            9146             .EXPORT _CMP_HOLD_CTLGENSOK
29718 000062A8                   9147     _CMP_HOLD_CTLGENSOK:
29719                            9148             SUB_START
29720 000062A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29721                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29722                            9149     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29723                            9150     ;;;input        MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
29724                            9151     ;;;     MOV.L   @(0,R4),R1                                              ;
29725                            9152     ;;;     MOV.L   @(4,R4),R2                                              ;
29726                            9153     
29727                            9154     ;       ---------------リアルタイム目標位置-----------
29728 000062AA D40E              9155             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29729 000062AC 5540              9156             MOV.L   @(0,R4),R5                                              ;
29730 000062AE 5641              9157             MOV.L   @(4,R4),R6                                              ;
29731                            9158             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29732 000062B0 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   424
PROGRAM NAME =

29733 000062B2 326A                   M           SUBC    R6,R2
29734 000062B4 315A                   M           SUBC    R5,R1
29735                            9159     
29736 000062B6 D40C              9160             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29737 000062B8 6041              9161             MOV.W   @R4,R0                                                  ;
29738 000062BA C801              9162             TST     #BIT0,R0                                                ;
29739                            9163             TST_BIT_OF CMP_HOLD_CTL200                                      ;正転
29740 000062BC 8905                   M           BT      CMP_HOLD_CTL200
29741                            9164             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29742 000062BE 6227                   M           NOT     R2,R2                           ;
29743 000062C0 6117                   M           NOT     R1,R1                           ;
29744 000062C2 200A                   M           XOR     R0,R0                           ;
29745 000062C4 0018                   M           SETT
29746 000062C6 320E                   M           ADDC    R0,R2                           ;0+1+R2
29747 000062C8 310E                   M           ADDC    R0,R1                           ;
29748 000062CA                   9165     CMP_HOLD_CTL200:                                                        ;
29749                            9166     
29750 000062CA D408              9167             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29751 000062CC 6942              9168             MOV.L   @R4,R9                                                  ;
29752                            9169     
29753 000062CE D408              9170             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29754 000062D0 6A42              9171             MOV.L   @R4,R10                                                 ;
29755                            9172     
29756                            9173     ;;;;    MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29757                            9174     ;;;;    MOV.L   @R4,R11                                                 ;
29758                            9175     
29759 000062D2 D408              9176             MOV.L   #_POSHLD_SET_DN_ACC,R4                                  ;500,000/1000
29760 000062D4 6B42              9177             MOV.L   @R4,R11                                                 ;
29761                            9178     
29762                            9179             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29763 000062D6 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29764 000062D8 400B                   M           JSR     @R0                     ;
29765 000062DA 0009                   M           NOP                                     ;
29766                            9180     
29767                            9181             SUB_END
29768                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29769 000062DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29770                            9182             M_RTS
29771 000062DE 000B                   M           RTS                             ;RTSの後ろの
29772 000062E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29773                            9183     
29774                            9184     
29775                            9185     
29776                            9186     ;       *******************************************************************
29777                            9187     ;       ***                                                             ***
29778                            9188     ;       ***                                                             ***
29779                            9189     ;       ***                     クラッチ位置決め部                      ***
29780                            9190     ;       ***                                                             ***
29781                            9191     ;       ***                                                             ***
29782                            9192     ;       ***                                                             ***
29783                            9193     ;       *******************************************************************
29784                            9194     
29785                            9195     ;       *******************************************
29786                            9196     ;       ***                                     ***
29787                            9197     ;       ***     PLS/S --> 位置決めLSI           ***
29788                            9198     ;       ***                                     ***
29789                            9199     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   425
PROGRAM NAME =

29790                            9200     ;       _POS_LSI_SPDMAX=FFFF            ;16bit
29791                            9201     ;       _POS_FRQ_SPDMAX=500000          ;500KHZ(500000PLS/S)
29792                            9202     ;       Input R2:設定PLS/S
29793                                     ***** BEGIN-POOL *****
29794 000062E2 0000                       ALIGNMENT CODE
29795 000062E4 00000000                   DATA FOR SOURCE-LINE 9155
29796 000062E8 00000000                   DATA FOR SOURCE-LINE 9160
29797 000062EC 00000000                   DATA FOR SOURCE-LINE 9167
29798 000062F0 00000000                   DATA FOR SOURCE-LINE 9170
29799 000062F4 00000000                   DATA FOR SOURCE-LINE 9176
29800 000062F8 00000000                   DATA FOR SOURCE-LINE 9179
29801                                     ***** END-POOL *****
29802 000062FC                   9203             .ALIGN  4                               ;
29803 000062FC                   9204     _PLS_LSI_CTL_SPDINI:                                                    ;初回起動時
29804                            9205             SUB_START
29805 000062FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29806                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29807                            9206     
29808 000062FE D114              9207             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
29809 00006300 2122              9208             MOV.L   R2,@R1                                                          ;
29810                            9209     
29811                            9210             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3          ;開始は自
                                          動起動
29812 00006302 D114                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
29813 00006304 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
29814 00006306 D314                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
29815 00006308 2322                   M           MOV.L   R2,@R3  ;DST_ADR
29816 0000630A D112              9211             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;
29817 0000630C 6212              9212             MOV.L   @R1,R2                                                          ;
29818                            9213     ;       ------ BASE時のみ変換が必要---------
29819                            9214             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                         ;
29820 0000630E D013                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29821 00006310 400B                   M           JSR     @R0                     ;
29822 00006312 0009                   M           NOP                                     ;
29823 00006314 D112              9215             MOV.L   #_FREQ_BAS_SV_SPD,R1                                            ;BASE設定
29824 00006316 2122              9216             MOV.L   R2,@R1                                                          ;
29825                            9217             POS_LSI_32BIT_DAT_SET ADR=_PLS_BasFreqL,ADR_REG=R6,DAT_REG=R2           ;R2 KEEP
29826                                 M           PUSH_REG1 R6
29827 00006318 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
29828                                 M                                           ;REG=>[SP]
29829                                 M                                           ;"-4" FF,FF,FF,FC
29830                                 M           PUSH_REG1 R2
29831 0000631A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29832                                 M                                           ;REG=>[SP]
29833                                 M                                           ;"-4" FF,FF,FF,FC
29834                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29835                                 M           PUSH_REG1 R0
29836 0000631C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29837                                 M                                           ;REG=>[SP]
29838                                 M                                           ;"-4" FF,FF,FF,FC
29839 0000631E D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29840 00006320 6001                   M           MOV.W   @R0,R0
29841                                 M           POP_REG1 R0
29842                                 M                                   ; RE"+4" 00,00,00,04
29843 00006322 60F6                   M           MOV.L   @R15+,R0        ;
29844 00006324 D610                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R6                ;
29845 00006326 2621                   M           MOV.W   R2,@R6                          ;(LOW)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   426
PROGRAM NAME =

29846 00006328 7602                   M           ADD     #2,R6                                   ;
29847 0000632A 6229                   M           SWAP.W  R2,R2                           ;
29848                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29849                                 M           PUSH_REG1 R0
29850 0000632C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29851                                 M                                           ;REG=>[SP]
29852                                 M                                           ;"-4" FF,FF,FF,FC
29853 0000632E D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29854 00006330 6001                   M           MOV.W   @R0,R0
29855                                 M           POP_REG1 R0
29856                                 M                                   ; RE"+4" 00,00,00,04
29857 00006332 60F6                   M           MOV.L   @R15+,R0        ;
29858 00006334 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
29859                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29860                                 M           PUSH_REG1 R0
29861 00006336 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29862                                 M                                           ;REG=>[SP]
29863                                 M                                           ;"-4" FF,FF,FF,FC
29864 00006338 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29865 0000633A 6001                   M           MOV.W   @R0,R0
29866                                 M           POP_REG1 R0
29867                                 M                                   ; RE"+4" 00,00,00,04
29868 0000633C 60F6                   M           MOV.L   @R15+,R0        ;
29869                                 M           POP_REG1 R2
29870                                 M                                   ; RE"+4" 00,00,00,04
29871 0000633E 62F6                   M           MOV.L   @R15+,R2        ;
29872                                 M           POP_REG1 R6
29873                                 M                                   ; RE"+4" 00,00,00,04
29874 00006340 66F6                   M           MOV.L   @R15+,R6        ;
29875                            9218     
29876                            9219     
29877                            9220             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;PLS/S-->
29878 00006342 D00A                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29879 00006344 400B                   M           JSR     @R0                     ;
29880 00006346 0009                   M           NOP                                     ;
29881                            9221             SUB_END
29882                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29883 00006348 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29884                            9222             M_RTS
29885 0000634A 000B                   M           RTS                             ;RTSの後ろの
29886 0000634C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29887                            9223     
29888                            9224     
29889                                     ***** BEGIN-POOL *****
29890 0000634E 0000                       ALIGNMENT CODE
29891 00006350 00000000                   DATA FOR SOURCE-LINE 9207
29892 00006354 00000000                   DATA FOR SOURCE-LINE 9210,9211
29893 00006358 00000000                   DATA FOR SOURCE-LINE 9210
29894 0000635C 00000000                   DATA FOR SOURCE-LINE 9214
29895 00006360 00000000                   DATA FOR SOURCE-LINE 9215
29896 00006364 00000000                   DATA FOR SOURCE-LINE 9217,9217,9217
29897 00006368 00000000                   DATA FOR SOURCE-LINE 9217
29898 0000636C 00000000                   DATA FOR SOURCE-LINE 9220
29899                                     ***** END-POOL *****
29900 00006370                   9225             .ALIGN  4                               ;
29901 00006370                   9226     _PLS_LSI_CTL_SPDCNT:                                                            ;運転中の
                                          速度変動時
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   427
PROGRAM NAME =

29902                            9227             SUB_START
29903 00006370 4F22                   M           STS.L   PR,@-R15                ;[必要]
29904                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29905 00006372 D104              9228             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
29906 00006374 2122              9229             MOV.L   R2,@R1                                                          ;SAVE 設定
                                          速度
29907                            9230     
29908                            9231             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;
29909 00006376 D004                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29910 00006378 400B                   M           JSR     @R0                     ;
29911 0000637A 0009                   M           NOP                                     ;
29912                            9232             SUB_END
29913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29914 0000637C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29915                            9233             M_RTS
29916 0000637E 000B                   M           RTS                             ;RTSの後ろの
29917 00006380 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29918                            9234     
29919                            9235     
29920                            9236     ;       -------------------------------------------
29921                            9237     ;       ---     input _POSCTL_RL_SPD            ---
29922                            9238     ;       -------------------------------------------
29923                                     ***** BEGIN-POOL *****
29924 00006382 0000                       ALIGNMENT CODE
29925 00006384 00000000                   DATA FOR SOURCE-LINE 9228
29926 00006388 00000000                   DATA FOR SOURCE-LINE 9231
29927                                     ***** END-POOL *****
29928 0000638C                   9239             .ALIGN  4                               ;
29929 0000638C                   9240     _PLS_LSI_CTL_SPDSET
29930                            9241             SUB_START
29931 0000638C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29932                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29933 0000638E D00F              9242             MOV.L   #_POSCTL_RL_SPD,R0                                      ;内部演算リアルタ
                                          イム速度(PLS/S)
29934 00006390 6202              9243             MOV.L   @R0,R2                                                  ;
29935                            9244             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                 ;
29936 00006392 D00F                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29937 00006394 400B                   M           JSR     @R0                     ;
29938 00006396 0009                   M           NOP                                     ;
29939                            9245     
29940 00006398 D60E              9246             MOV.L   #_FREQ_SV_SPD,R6                                        ;2003-07-01(二重化
                                          対象速度)
29941 0000639A 2622              9247             MOV.L   R2,@R6                                                  ;
29942                            9248             POS_LSI_32BIT_DAT_SET ADR=_PLS_TopFreqL,ADR_REG=R6,DAT_REG=R2   ;
29943                                 M           PUSH_REG1 R6
29944 0000639C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
29945                                 M                                           ;REG=>[SP]
29946                                 M                                           ;"-4" FF,FF,FF,FC
29947                                 M           PUSH_REG1 R2
29948 0000639E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29949                                 M                                           ;REG=>[SP]
29950                                 M                                           ;"-4" FF,FF,FF,FC
29951                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29952                                 M           PUSH_REG1 R0
29953 000063A0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29954                                 M                                           ;REG=>[SP]
29955                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   428
PROGRAM NAME =

29956 000063A2 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29957 000063A4 6001                   M           MOV.W   @R0,R0
29958                                 M           POP_REG1 R0
29959                                 M                                   ; RE"+4" 00,00,00,04
29960 000063A6 60F6                   M           MOV.L   @R15+,R0        ;
29961 000063A8 D60C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R6                ;
29962 000063AA 2621                   M           MOV.W   R2,@R6                          ;(LOW)
29963 000063AC 7602                   M           ADD     #2,R6                                   ;
29964 000063AE 6229                   M           SWAP.W  R2,R2                           ;
29965                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29966                                 M           PUSH_REG1 R0
29967 000063B0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29968                                 M                                           ;REG=>[SP]
29969                                 M                                           ;"-4" FF,FF,FF,FC
29970 000063B2 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29971 000063B4 6001                   M           MOV.W   @R0,R0
29972                                 M           POP_REG1 R0
29973                                 M                                   ; RE"+4" 00,00,00,04
29974 000063B6 60F6                   M           MOV.L   @R15+,R0        ;
29975 000063B8 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
29976                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29977                                 M           PUSH_REG1 R0
29978 000063BA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29979                                 M                                           ;REG=>[SP]
29980                                 M                                           ;"-4" FF,FF,FF,FC
29981 000063BC D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29982 000063BE 6001                   M           MOV.W   @R0,R0
29983                                 M           POP_REG1 R0
29984                                 M                                   ; RE"+4" 00,00,00,04
29985 000063C0 60F6                   M           MOV.L   @R15+,R0        ;
29986                                 M           POP_REG1 R2
29987                                 M                                   ; RE"+4" 00,00,00,04
29988 000063C2 62F6                   M           MOV.L   @R15+,R2        ;
29989                                 M           POP_REG1 R6
29990                                 M                                   ; RE"+4" 00,00,00,04
29991 000063C4 66F6                   M           MOV.L   @R15+,R6        ;
29992                            9249             SUB_END
29993                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29994 000063C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29995                            9250             M_RTS
29996 000063C8 000B                   M           RTS                             ;RTSの後ろの
29997 000063CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29998                            9251     
29999                            9252     
30000                            9253     ;       ***********************************
30001                            9254     ;       ***                             ***
30002                            9255     ;       ***     停止処理                ***
30003                            9256     ;       ***                             ***
30004                            9257     ;       ***********************************
30005                            9258     ;       (1)自起動速度になったらEMGｺﾏﾝﾄﾞを発行する
30006                            9259     ;       (2)速度=0にして残りパルスを0にする
30007                            9260     ;       とりあえず(1)を行なう。
30008                                     ***** BEGIN-POOL *****
30009 000063CC 00000000                   DATA FOR SOURCE-LINE 9242
30010 000063D0 00000000                   DATA FOR SOURCE-LINE 9244
30011 000063D4 00000000                   DATA FOR SOURCE-LINE 9246
30012 000063D8 00000000                   DATA FOR SOURCE-LINE 9248,9248,9248
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   429
PROGRAM NAME =

30013 000063DC 00000000                   DATA FOR SOURCE-LINE 9248
30014                                     ***** END-POOL *****
30015 000063E0                   9261             .ALIGN  4                               ;
30016 000063E0                   9262     _PLS_LSI_STOP_END:
30017                            9263             SUB_START
30018 000063E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30020 000063E2 D41A              9264             MOV.L   #(BIT11*H'10000),R4                                     ;
30021                            9265             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30022 000063E4 D61A                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30023 000063E6 6562                   M           MOV.L   @R6,R5                                          ;
30024 000063E8 254B                   M           OR      R4,R5                                           ;
30025 000063EA 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30026                                 M   
30027 000063EC D619                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30028                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30029 000063EE 6559                   M           SWAP.W  R5,R5                           ;
30030                                 M   
30031 000063F0 2651                   M           MOV.W   R5,@R6
30032 000063F2 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30033 000063F4 6559                   M           SWAP.W  R5,R5                           ;
30034                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30035                                 M           PUSH_REG1 R0
30036 000063F6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30037                                 M                                           ;REG=>[SP]
30038                                 M                                           ;"-4" FF,FF,FF,FC
30039 000063F8 D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30040 000063FA 6001                   M           MOV.W   @R0,R0
30041                                 M           POP_REG1 R0
30042                                 M                                   ; RE"+4" 00,00,00,04
30043 000063FC 60F6                   M           MOV.L   @R15+,R0        ;
30044 000063FE 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30045                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30046                                 M           PUSH_REG1 R0
30047 00006400 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30048                                 M                                           ;REG=>[SP]
30049                                 M                                           ;"-4" FF,FF,FF,FC
30050 00006402 D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30051 00006404 6001                   M           MOV.W   @R0,R0
30052                                 M           POP_REG1 R0
30053                                 M                                   ; RE"+4" 00,00,00,04
30054 00006406 60F6                   M           MOV.L   @R15+,R0        ;
30055 00006408 0009              9266             NOP
30056 0000640A 0009              9267             NOP
30057 0000640C 0009              9268             NOP
30058                            9269             PUSH_REG1 R4
30059 0000640E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30060                                 M                                           ;REG=>[SP]
30061                                 M                                           ;"-4" FF,FF,FF,FC
30062 00006410 200A              9270             XOR     R0,R0                                                           ;
30063                            9271             REG_MOV_TO_MEM  DST_ADR=_POSCTL_SV_OFS_SPD,L1=L,DT_REG=R0,WKREG1=R1     ;
30064 00006412 D112                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1  ;DST_ADR
30065 00006414 2102                   M           MOV.L   R0,@R1  ;DST_ADR
30066                            9272             POP_REG1 R4                                                             ;
30067                                 M                                   ; RE"+4" 00,00,00,04
30068 00006416 64F6                   M           MOV.L   @R15+,R4        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   430
PROGRAM NAME =

30069 00006418 0009              9273             NOP
30070 0000641A 0009              9274             NOP
30071 0000641C 0009              9275             NOP
30072 0000641E D410              9276             MOV.L   #~(BIT11*H'10000),R4            ;
30073                            9277             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30074 00006420 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30075 00006422 6562                   M           MOV.L   @R6,R5                                          ;
30076 00006424 2549                   M           AND     R4,R5                                           ;
30077 00006426 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30078                                 M   
30079 00006428 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30080                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30081 0000642A 6559                   M           SWAP.W  R5,R5                           ;
30082                                 M   
30083 0000642C 2651                   M           MOV.W   R5,@R6
30084 0000642E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30085 00006430 6559                   M           SWAP.W  R5,R5                           ;
30086                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30087                                 M           PUSH_REG1 R0
30088 00006432 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30089                                 M                                           ;REG=>[SP]
30090                                 M                                           ;"-4" FF,FF,FF,FC
30091 00006434 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30092 00006436 6001                   M           MOV.W   @R0,R0
30093                                 M           POP_REG1 R0
30094                                 M                                   ; RE"+4" 00,00,00,04
30095 00006438 60F6                   M           MOV.L   @R15+,R0        ;
30096 0000643A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30097                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30098                                 M           PUSH_REG1 R0
30099 0000643C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30100                                 M                                           ;REG=>[SP]
30101                                 M                                           ;"-4" FF,FF,FF,FC
30102 0000643E D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30103 00006440 6001                   M           MOV.W   @R0,R0
30104                                 M           POP_REG1 R0
30105                                 M                                   ; RE"+4" 00,00,00,04
30106 00006442 60F6                   M           MOV.L   @R15+,R0        ;
30107                            9278     
30108                            9279             SUB_END
30109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30110 00006444 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30111                            9280             M_RTS
30112 00006446 000B                   M           RTS                             ;RTSの後ろの
30113 00006448 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30114                            9281     
30115                            9282     
30116                            9283     
30117                            9284     
30118                            9285     
30119                            9286     
30120                            9287     ;       ***************************************************
30121                            9288     ;       ***                                             ***
30122                            9289     ;       ***     Input R2 PLS/SEC-->LSI(0-FFFF)data      ***
30123                            9290     ;       ***                                             ***
30124                            9291     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   431
PROGRAM NAME =

30125                            9292     ;       Input R2
30126                            9293             .IMPORT _POS_LSI_FRQ_DATA_MAK
30127                            9294     
30128                                     ***** BEGIN-POOL *****
30129 0000644A 0000                       ALIGNMENT CODE
30130 0000644C 08000000                   DATA FOR SOURCE-LINE 9264
30131 00006450 00000000                   DATA FOR SOURCE-LINE 9265,9277
30132 00006454 00000000                   DATA FOR SOURCE-LINE 9265,9277
30133 00006458 00000000                   DATA FOR SOURCE-LINE 9265,9265,9277,9277
30134 0000645C 00000000                   DATA FOR SOURCE-LINE 9271
30135 00006460 F7FFFFFF                   DATA FOR SOURCE-LINE 9276
30136                                     ***** END-POOL *****
30137 00006464                   9295             .ALIGN  4                               ;
30138 00006464                   9296     _PLS_CHG_PLS_TO_LSI
30139                            9297             SUB_START
30140 00006464 4F22                   M           STS.L   PR,@-R15                ;[必要]
30141                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30142                            9298             FAR_JSR #_POS_LSI_FRQ_DATA_MAK,R0                       ;PLS/S → 65535=500KHZ
30143 00006466 D009                   M           MOV.L   #_POS_LSI_FRQ_DATA_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30144 00006468 400B                   M           JSR     @R0                     ;
30145 0000646A 0009                   M           NOP                                     ;
30146                            9299     
30147                            9300     ;       ========== MAX ========
30148 0000646C D108              9301             MOV.L   #_LSI_SET_SPD_MAXLMT,R1                                 ;(周波数上のﾘﾐｯﾀ)
30149 0000646E 6312              9302             MOV.L   @R1,R3                                                  ;
30150 00006470 3322              9303             CMP/HS  R2,R3                                                   ;R2 =< R3
30151 00006472 8900              9304             BT      PLS_CHG_PLSTOLSI_100                                    ;
30152 00006474 6233              9305             MOV     R3,R2                                                   ;LIMIT
30153 00006476                   9306     PLS_CHG_PLSTOLSI_100:
30154                            9307     ;============================ とりあえず策　本当はﾃﾞｰﾀﾚﾍﾞﾙでやるべき==========
30155                            9308     ;       === SIT4は未出荷(SIT3:20070914)(COP2:2007-07-20)===
30156 00006476 D107              9309             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
30157 00006478 6011              9310             MOV.W   @R1,R0                          ;
30158 0000647A C801              9311             TST     #BIT0,R0                        ;
30159                            9312             TST_BIT_OF PLS_CHG_PLSTOLSI_120         ;
30160 0000647C 890E                   M           BT      PLS_CHG_PLSTOLSI_120
30161 0000647E C840              9313             TST     #BIT6,R0                        ;
30162                            9314             TST_BIT_ON PLS_CHG_PLSTOLSI_120         ;
30163 00006480 8B0C                   M           BF      PLS_CHG_PLSTOLSI_120
30164 00006482 D105              9315             MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1      ;//65535=500KHZ
30165 00006484 6312              9316             MOV.L   @R1,R3                          ;
30166                            9317             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30167 00006486 A017                   M           BRA     PLS_CHG_PLSTOLSI_150
30168 00006488 0009                   M           NOP
30169                            9318     
30170                                     ***** BEGIN-POOL *****
30171 0000648A 0000                       ALIGNMENT CODE
30172 0000648C 00000000                   DATA FOR SOURCE-LINE 9298
30173 00006490 00000000                   DATA FOR SOURCE-LINE 9301
30174 00006494 00000000                   DATA FOR SOURCE-LINE 9309
30175 00006498 00000000                   DATA FOR SOURCE-LINE 9315
30176                                     ***** END-POOL *****
30177 0000649C                   9319     PLS_CHG_PLSTOLSI_120:
30178                            9320     
30179                            9321     ;       -----------2013-06-12-----
30180 0000649C D103              9322             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
30181 0000649E 6011              9323             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   432
PROGRAM NAME =

30182 000064A0 2008              9324             TST     R0,R0                           ;
30183                            9325             TST_BIT_OF PLS_CHG_PLSTOLSI_130         ;
30184 000064A2 8907                   M           BT      PLS_CHG_PLSTOLSI_130
30185                            9326     
30186                            9327     
30187                            9328     
30188 000064A4 D102              9329             MOV.L   #_TEP_MIN_SPD_FRQ,R1            ;
30189 000064A6 6312              9330             MOV.L   @R1,R3                          ;FREQ 500.000/65535= 7.62PLS/S
30190                            9331             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30191 000064A8 A006                   M           BRA     PLS_CHG_PLSTOLSI_150
30192 000064AA 0009                   M           NOP
30193                            9332     
30194                                     ***** BEGIN-POOL *****
30195 000064AC 00000000                   DATA FOR SOURCE-LINE 9322
30196 000064B0 00000000                   DATA FOR SOURCE-LINE 9329
30197                                     ***** END-POOL *****
30198 000064B4                   9333     PLS_CHG_PLSTOLSI_130:
30199                            9334     
30200                            9335     
30201                            9336     ;       ========== MIN ========
30202 000064B4 D103              9337             MOV.L   #_POS_LSI_SPDBAS,R1             ;65535=500KHZ
30203 000064B6 6312              9338             MOV.L   @R1,R3                          ;
30204 000064B8                   9339     PLS_CHG_PLSTOLSI_150:
30205                            9340     
30206 000064B8 3232              9341             CMP/HS  R3,R2                                                   ;R3 =< R2
30207 000064BA 8900              9342             BT      PLS_CHG_PLSTOLSI_200                                    ;
30208 000064BC 6233              9343             MOV     R3,R2                                                   ;LIMIT
30209 000064BE                   9344     PLS_CHG_PLSTOLSI_200                                                    ;
30210                            9345             SUB_END
30211                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30212 000064BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30213                            9346             M_RTS
30214 000064C0 000B                   M           RTS                             ;RTSの後ろの
30215 000064C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30216                            9347     
30217                            9348     ;       *******************************************************************
30218                            9349     ;       ***                                                             ***
30219                            9350     ;       ***                                                             ***
30220                            9351     ;       ***                     データ作成                              ***
30221                            9352     ;       ***                                                             ***
30222                            9353     ;       ***                                                             ***
30223                            9354     ;       ***                                                             ***
30224                            9355     ;       *******************************************************************
30225                            9356     ;       起動時または1CYCLE終了時
30226                            9357     
30227                            9358     
30228                            9359     
30229                            9360     ;       ***********************************
30230                            9361     ;       ***                             ***
30231                            9362     ;       ***     加速度データの作成      ***
30232                            9363     ;       ***     _POSCTL_SV_UP_ACC       ***
30233                            9364     ;       ***                             ***
30234                            9365     ;       ***********************************
30235                            9366     ;       1回転CYCLE
30236                            9367     ;       ｵｰﾊﾞﾗｲﾄﾞなし
30237                            9368             .EXPORT _ACCLAT1_SV_MAK_COM                     ;
30238                            9369     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   433
PROGRAM NAME =

30239                                     ***** BEGIN-POOL *****
30240 000064C4 00000000                   DATA FOR SOURCE-LINE 9337
30241                                     ***** END-POOL *****
30242 000064C8                   9370             .ALIGN  4                               ;
30243 000064C8                   9371     _ACCLAT1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30244                            9372             SUB_START
30245 000064C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30246                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30247 000064CA D007              9373             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;time* 100/(1~127)
30248 000064CC 6401              9374             MOV.W   @R0,R4                                  ;1~100
30249                            9375     
30250 000064CE D007              9376             MOV.L   #_SET1_ACCLAT_TIM1,R0                   ;
30251 000064D0 6201              9377             MOV.W   @R0,R2                                  ;R2:時間
30252                            9378     
30253                            9379             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30254 000064D2 D007                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30255 000064D4 400B                   M           JSR     @R0                     ;
30256 000064D6 0009                   M           NOP                                     ;
30257                            9380     
30258 000064D8 D106              9381             MOV.L   #_SET_UP_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30259 000064DA 2122              9382             MOV.L   R2,@R1                                          ;
30260 000064DC D106              9383             MOV.L   #_SET_DN_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30261 000064DE 2122              9384             MOV.L   R2,@R1                                          ;(最終減速専用)
30262                            9385     
30263                            9386             SUB_END
30264                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30265 000064E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30266                            9387             M_RTS
30267 000064E2 000B                   M           RTS                             ;RTSの後ろの
30268 000064E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30269                            9388     
30270                            9389     ;       -----------------------------------------------------------
30271                            9390     ;       ---     INPUT R2(TIME),R4 OVER-LIDE DATA 1~100,100      ---
30272                            9391     ;       -----------------------------------------------------------
30273                                     ***** BEGIN-POOL *****
30274 000064E6 0000                       ALIGNMENT CODE
30275 000064E8 00000000                   DATA FOR SOURCE-LINE 9373
30276 000064EC 00000000                   DATA FOR SOURCE-LINE 9376
30277 000064F0 00000000                   DATA FOR SOURCE-LINE 9379
30278 000064F4 00000000                   DATA FOR SOURCE-LINE 9381
30279 000064F8 00000000                   DATA FOR SOURCE-LINE 9383
30280                                     ***** END-POOL *****
30281 000064FC                   9392             .ALIGN  4                               ;
30282 000064FC                   9393     _ACCLAT1_SV_MAK_COM:
30283                            9394             SUB_START
30284 000064FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30285                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30286                            9395     
30287                            9396             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                ;Input R2,R4 ANS R2
30288 000064FE D008                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30289 00006500 400B                   M           JSR     @R0                     ;
30290 00006502 0009                   M           NOP                                     ;
30291 00006504 D107              9397             MOV.L   #_OVER_LIDE_ANS_TIM,R1                  ;TIME *100*100/1*1 = 10000*
30292 00006506 2122              9398             MOV.L   R2,@R1                                  ;(ﾃﾞﾊﾞｯｸ用)
30293                            9399     ;
30294                            9400     ;       ====時間の次元==>加速度の次元===
30295                            9401     ;;      MOV.L   #_POS_FRQ_SPDMAX,R0                     ;500KHZ(500000PLS/S)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   434
PROGRAM NAME =

30296                            9402     ;       ------- こっちがわかりよい-------
30297 00006508 6423              9403             MOV     R2,R4                                   ;
30298 0000650A D007              9404             MOV.L   #_LINK_MAX_SPD_PLS,R0                           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
30299 0000650C 6202              9405             MOV.L   @R0,R2                                          ;
30300                            9406             FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
30301 0000650E D007                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
30302 00006510 400B                   M           JSR     @R0                     ;
30303 00006512 0009                   M           NOP                                     ;
30304                            9407     
30305 00006514 2228              9408             TST     R2,R2                                           ;
30306                            9409             TST_BIT_ON ACCLAT1_SV_MAKCOM_200                        ;
30307 00006516 8B00                   M           BF      ACCLAT1_SV_MAKCOM_200
30308 00006518 E201              9410             MOV     #1,R2                                           ;
30309 0000651A                   9411     ACCLAT1_SV_MAKCOM_200:                                          ;
30310                            9412     
30311                            9413             SUB_END
30312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30313 0000651A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30314                            9414             M_RTS
30315 0000651C 000B                   M           RTS                             ;RTSの後ろの
30316 0000651E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30317                            9415     
30318                            9416     
30319                            9417     ;       *******************************************
30320                            9418     ;       ***                                     ***
30321                            9419     ;       ***     OVERLIDE 加速度への演算         ***
30322                            9420     ;       ***                                     ***
30323                            9421     ;       *******************************************
30324                            9422     ;       Input R2(ACC時間),R4(0~100per)/OUTPUT R2,R4
30325                                     ***** BEGIN-POOL *****
30326 00006520 00000000                   DATA FOR SOURCE-LINE 9396
30327 00006524 00000000                   DATA FOR SOURCE-LINE 9397
30328 00006528 00000000                   DATA FOR SOURCE-LINE 9404
30329 0000652C 00000000                   DATA FOR SOURCE-LINE 9406
30330                                     ***** END-POOL *****
30331 00006530                   9423             .ALIGN  4                               ;
30332 00006530                   9424     _OVRLIDE_LATE_MULDIV:
30333                            9425             SUB_START
30334 00006530 4F22                   M           STS.L   PR,@-R15                ;[必要]
30335                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30336                            9426     
30337                            9427     ;       ------- 2010-10-06-- ふりこ
30338                            9428             PUSH_REG1 R2
30339 00006532 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30340                                 M                                           ;REG=>[SP]
30341                                 M                                           ;"-4" FF,FF,FF,FC
30342                            9429             PUSH_REG1 R4
30343 00006534 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30344                                 M                                           ;REG=>[SP]
30345                                 M                                           ;"-4" FF,FF,FF,FC
30346                            9430             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0
30347 00006536 D007                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30348 00006538 400B                   M           JSR     @R0                     ;
30349 0000653A 0009                   M           NOP                                     ;
30350                            9431             POP_REG1 R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   435
PROGRAM NAME =

30351                                 M                                   ; RE"+4" 00,00,00,04
30352 0000653C 64F6                   M           MOV.L   @R15+,R4        ;
30353                            9432             POP_REG1 R2
30354                                 M                                   ; RE"+4" 00,00,00,04
30355 0000653E 62F6                   M           MOV.L   @R15+,R2        ;
30356                            9433     
30357 00006540 2008              9434             TST     R0,R0
30358                            9435             TST_BIT_ON OVRLIDE_LATMULDIV200         ;ふりこ時時間一定
30359 00006542 8B0B                   M           BF      OVRLIDE_LATMULDIV200
30360                            9436     
30361                            9437     
30362                            9438     
30363 00006544 D004              9439             MOV.L   #_WPAR_ACCTYP_SEL,R0                            ;0:加速距離一定(SIT3ｴｸｾﾃﾞｨ
                                          ) 1:加速時間一定 2:加速度一定
30364 00006546 6001              9440             MOV.W   @R0,R0                                          ;
30365 00006548 8800              9441             CMP/EQ  #0,R0                                           ;0:距離一定(LATE*LATE)
30366 0000654A 890B              9442             BT      OVRLIDE_LATMULDIV300                            ;
30367 0000654C 8801              9443             CMP/EQ  #1,R0                                           ;
30368 0000654E 8905              9444             BT      OVRLIDE_LATMULDIV200                            ;加速時間一定JUMP
30369                            9445             M_BRA   OVRLIDE_LATMULDIV550                            ;加速度一定
30370 00006550 A017                   M           BRA     OVRLIDE_LATMULDIV550
30371 00006552 0009                   M           NOP
30372                            9446     
30373                            9447     
30374                                     ***** BEGIN-POOL *****
30375 00006554 00000000                   DATA FOR SOURCE-LINE 9430
30376 00006558 00000000                   DATA FOR SOURCE-LINE 9439
30377                                     ***** END-POOL *****
30378 0000655C                   9448     OVRLIDE_LATMULDIV200:                                           ;
30379 0000655C 9101              9449             MOV.W   #_OVRLIDE_LATE_MAX,R1                           ;R2(時間)*(100 R1)/(PER R4
                                          )加速時間一定
30380                            9450             M_BRA   OVRLIDE_LATMULDIV400                            ;V=Vmax/Tmax V*0.5 Tmax->T
                                          max/0.5
30381 0000655E A005                   M           BRA     OVRLIDE_LATMULDIV400
30382 00006560 0009                   M           NOP
30383                            9451     
30384                                     ***** BEGIN-POOL *****
30385 00006562 0064                       DATA FOR SOURCE-LINE 9449
30386                                     ***** END-POOL *****
30387 00006564                   9452     OVRLIDE_LATMULDIV300:                                           ;
30388 00006564 6043              9453             MOV     R4,R0                                           ;
30389 00006566 204E              9454             MULU.W  R4,R0                                           ;
30390 00006568 041A              9455             STS     MACL,R4                                         ;V*V=2*Vmax/Tmax*S
30391 0000656A 910D              9456             MOV.W   #_OVRLIDE_LATE_MAX*_OVRLIDE_LATE_MAX,R1         ;R2(時間)*(100*100 R1)/(PE
                                          R*PER R4)
30392                            9457     
30393 0000656C                   9458     OVRLIDE_LATMULDIV400:                                           ;
30394                            9459     
30395 0000656C 622D              9460             EXTU.W  R2,R2                                           ;R2(TIME)*R1/R4
30396                            9461             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30397 0000656E D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30398 00006570 400B                   M           JSR     @R0                     ;
30399 00006572 0009                   M           NOP                                     ;
30400                            9462     
30401 00006574 D406              9463             MOV.L   #H'0000FFFF,R4                                  ;
30402 00006576 3422              9464             CMP/HS  R2,R4                                           ;
30403 00006578 8900              9465             BT      OVRLIDE_LATMULDIV500                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   436
PROGRAM NAME =

30404 0000657A 6243              9466             MOV     R4,R2                                           ;
30405 0000657C                   9467     OVRLIDE_LATMULDIV500                                            ;
30406 0000657C 2228              9468             TST     R2,R2                                           ;
30407                            9469             TST_BIT_ON OVRLIDE_LATMULDIV550                         ;
30408 0000657E 8B00                   M           BF      OVRLIDE_LATMULDIV550
30409 00006580 E201              9470             MOV     #1,R2                                           ;
30410 00006582                   9471     OVRLIDE_LATMULDIV550:                                           ;
30411                            9472     
30412                            9473             SUB_END
30413                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30414 00006582 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30415                            9474             M_RTS
30416 00006584 000B                   M           RTS                             ;RTSの後ろの
30417 00006586 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30418                            9475     
30419                            9476     
30420                            9477     ;       ***********************************
30421                            9478     ;       ***                             ***
30422                            9479     ;       ***     BRK1ﾃﾞｰﾀMAKE            ***
30423                            9480     ;       ***                             ***
30424                            9481     ;       ***********************************
30425                                     ***** BEGIN-POOL *****
30426 00006588 2710                       DATA FOR SOURCE-LINE 9456
30427 0000658A 0000                       ALIGNMENT CODE
30428 0000658C 00000000                   DATA FOR SOURCE-LINE 9461
30429 00006590 0000FFFF                   DATA FOR SOURCE-LINE 9463
30430                                     ***** END-POOL *****
30431 00006594                   9482             .ALIGN  4                               ;
30432 00006594                   9483     _ACCBRK1_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30433                            9484             SUB_START
30434 00006594 4F22                   M           STS.L   PR,@-R15                ;[必要]
30435                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30436 00006596 9409              9485             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30437 00006598 D005              9486             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30438 0000659A 6201              9487             MOV.W   @R0,R2                                  ;
30439                            9488     
30440                            9489             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30441 0000659C D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30442 0000659E 400B                   M           JSR     @R0                     ;
30443 000065A0 0009                   M           NOP                                     ;
30444                            9490     
30445 000065A2 D105              9491             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30446 000065A4 2122              9492             MOV.L   R2,@R1                                          ;
30447                            9493             SUB_END
30448                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30449 000065A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30450                            9494             M_RTS
30451 000065A8 000B                   M           RTS                             ;RTSの後ろの
30452 000065AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30453                            9495     
30454                                     ***** BEGIN-POOL *****
30455 000065AC 0064                       DATA FOR SOURCE-LINE 9485
30456 000065AE 0000                       ALIGNMENT CODE
30457 000065B0 00000000                   DATA FOR SOURCE-LINE 9486
30458 000065B4 00000000                   DATA FOR SOURCE-LINE 9489
30459 000065B8 00000000                   DATA FOR SOURCE-LINE 9491
30460                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   437
PROGRAM NAME =

30461 000065BC                   9496             .ALIGN  4                               ;
30462 000065BC                   9497     _ACCBRK1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30463                            9498             SUB_START
30464 000065BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30465                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30466 000065BE D006              9499             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;
30467 000065C0 6401              9500             MOV.W   @R0,R4                                  ;1~100
30468                            9501     
30469 000065C2 D006              9502             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30470 000065C4 6201              9503             MOV.W   @R0,R2                                  ;
30471                            9504     
30472                            9505             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30473 000065C6 D006                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30474 000065C8 400B                   M           JSR     @R0                     ;
30475 000065CA 0009                   M           NOP                                     ;
30476                            9506     
30477 000065CC D105              9507             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30478 000065CE 2122              9508             MOV.L   R2,@R1                                          ;
30479                            9509             SUB_END
30480                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30481 000065D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30482                            9510             M_RTS
30483 000065D2 000B                   M           RTS                             ;RTSの後ろの
30484 000065D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30485                            9511     
30486                            9512     
30487                            9513     ;       ***********************************
30488                            9514     ;       ***                             ***
30489                            9515     ;       ***     BRK2ﾃﾞｰﾀMAKE            ***
30490                            9516     ;       ***                             ***
30491                            9517     ;       ***********************************
30492                                     ***** BEGIN-POOL *****
30493 000065D6 0000                       ALIGNMENT CODE
30494 000065D8 00000000                   DATA FOR SOURCE-LINE 9499
30495 000065DC 00000000                   DATA FOR SOURCE-LINE 9502
30496 000065E0 00000000                   DATA FOR SOURCE-LINE 9505
30497 000065E4 00000000                   DATA FOR SOURCE-LINE 9507
30498                                     ***** END-POOL *****
30499 000065E8                   9518             .ALIGN  4                               ;
30500 000065E8                   9519     _ACCBRK2_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30501                            9520             SUB_START
30502 000065E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30503                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30504 000065EA 9409              9521             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30505 000065EC D005              9522             MOV.L   #_WPAR_BRK2_ACCTM,R0                    ;//38 msec
30506 000065EE 6201              9523             MOV.W   @R0,R2                                  ;
30507                            9524     
30508                            9525             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30509 000065F0 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30510 000065F2 400B                   M           JSR     @R0                     ;
30511 000065F4 0009                   M           NOP                                     ;
30512                            9526     
30513 000065F6 D105              9527             MOV.L   #_BRK2_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30514 000065F8 2122              9528             MOV.L   R2,@R1                                          ;
30515                            9529     
30516                            9530     
30517                            9531             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   438
PROGRAM NAME =

30518                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30519 000065FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30520                            9532             M_RTS
30521 000065FC 000B                   M           RTS                             ;RTSの後ろの
30522 000065FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30523                            9533     
30524                            9534     ;       S2b     WPAR_BRK1_ACCTM                 ;//37 msec
30525                            9535     ;       S4b     BRK1_SV_DN_ACC;//目標加速度((PLS/1000)/S/S)
30526                            9536     ;       S4b     BRK1_CAL_DN_ACC;//OVER LIDE 含む
30527                            9537     
30528                            9538     
30529                            9539     ;       *******************************************************************
30530                            9540     ;       ***                                                             ***
30531                            9541     ;       ***                                                             ***
30532                            9542     ;       ***                     演算                                    ***
30533                            9543     ;       ***                                                             ***
30534                            9544     ;       ***                                                             ***
30535                            9545     ;       ***                                                             ***
30536                            9546     ;       *******************************************************************
30537                            9547     
30538                            9548     ;       *******************************************
30539                            9549     ;       ***                                     ***
30540                            9550     ;       ***     2006-09-19                      ***
30541                            9551     ;       ***     演算                            ***
30542                            9552     ;       ***     速度LSI設定→PLS/Sにする        ***
30543                            9553     ;       ***                                     ***
30544                            9554     ;       *******************************************
30545                            9555     ;
30546                                     ***** BEGIN-POOL *****
30547 00006600 0064                       DATA FOR SOURCE-LINE 9521
30548 00006602 0000                       ALIGNMENT CODE
30549 00006604 00000000                   DATA FOR SOURCE-LINE 9522
30550 00006608 00000000                   DATA FOR SOURCE-LINE 9525
30551 0000660C 00000000                   DATA FOR SOURCE-LINE 9527
30552                                     ***** END-POOL *****
30553 00006610                   9556             .ALIGN  4                               ;
30554 00006610                   9557     _CHG_LSI_LATE_TO_PLS            ;2006-09-19
30555                            9558             SUB_START
30556 00006610 4F22                   M           STS.L   PR,@-R15                ;[必要]
30557                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30558 00006612 D005              9559             MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
30559 00006614 6102              9560             MOV.L   @R0,R1                                          ;
30560 00006616 D005              9561             MOV.L   #_POS_LSI_SPDMAX,R0                             ;FFFF
30561 00006618 6402              9562             MOV.L   @R0,R4                                          ;
30562 0000661A 6043              9563             MOV     R4,R0                                           ;
30563                            9564     ;;      ADD     #-1,R0                                          ;
30564                            9565     ;;      ADD     R0,R2                                           ;切上
30565                            9566             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30566 0000661C D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30567 0000661E 400B                   M           JSR     @R0                     ;
30568 00006620 0009                   M           NOP                                     ;
30569                            9567     
30570                            9568             SUB_END
30571                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30572 00006622 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30573                            9569             M_RTS
30574 00006624 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   439
PROGRAM NAME =

30575 00006626 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30576                            9570     
30577                            9571     
30578                            9572     
30579                            9573     
30580                            9574     ;       ***********************************
30581                            9575     ;       ***                             ***
30582                            9576     ;       ***     起動コマンド            ***
30583                            9577     ;       ***                             ***
30584                            9578     ;       ***********************************
30585                                     ***** BEGIN-POOL *****
30586 00006628 00000000                   DATA FOR SOURCE-LINE 9559
30587 0000662C 00000000                   DATA FOR SOURCE-LINE 9561
30588 00006630 00000000                   DATA FOR SOURCE-LINE 9566
30589                                     ***** END-POOL *****
30590 00006634                   9579             .ALIGN  4                               ;
30591 00006634                   9580     _SPD_CTL_START
30592                            9581             SUB_START
30593 00006634 4F22                   M           STS.L   PR,@-R15                ;[必要]
30594                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30595                            9582     
30596 00006636 900F              9583             MOV.W   #1,R0                                                           ;
30597                            9584             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30598 00006638 D108                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30599 0000663A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30600                            9585     
30601 0000663C D108              9586             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0:起動 BIT6:END
30602 0000663E 6011              9587             MOV.W   @R1,R0                                                          ;
30603 00006640 C801              9588             TST     #BIT0,R0                                                        ;
30604                            9589             TST_BIT_OF SPD_CTL_ST100                                                ;
30605 00006642 8903                   M           BT      SPD_CTL_ST100
30606                            9590             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1     ;
30607 00006644 D107                   M           MOV.L   #_POSCTL_CALC_ERR,R1            ;
30608 00006646 6011                   M           MOV.W   @R1,R0          ;
30609 00006648 CB01                   M           OR      #BIT0,R0                ;
30610 0000664A 2101                   M           MOV.W   R0,@R1          ;
30611 0000664C                   9591     SPD_CTL_ST100
30612 0000664C 200A              9592             XOR     R0,R0                   ;
30613                            9593             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
30614 0000664E D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
30615 00006650 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30616                            9594     
30617                            9595             SUB_END
30618                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30619 00006652 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30620                            9596             M_RTS
30621 00006654 000B                   M           RTS                             ;RTSの後ろの
30622 00006656 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30623                            9597     
30624                            9598     ;       -------------------------------------------
30625                            9599     ;       ---                                     ---
30626                            9600     ;       -------------------------------------------
30627                            9601     ;       ***********************************
30628                            9602     ;       ***                             ***
30629                            9603     ;       ***     EMG停止コマンド         ***
30630                            9604     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   440
PROGRAM NAME =

30631                            9605     ;       ***********************************
30632                                     ***** BEGIN-POOL *****
30633 00006658 0001                       DATA FOR SOURCE-LINE 9583
30634 0000665A 0000                       ALIGNMENT CODE
30635 0000665C 00000000                   DATA FOR SOURCE-LINE 9584
30636 00006660 00000000                   DATA FOR SOURCE-LINE 9586,9593
30637 00006664 00000000                   DATA FOR SOURCE-LINE 9590
30638                                     ***** END-POOL *****
30639 00006668                   9606             .ALIGN  4                               ;
30640 00006668                   9607     _SPD_CTL_EMG_STOP
30641                            9608             SUB_START
30642 00006668 4F22                   M           STS.L   PR,@-R15                ;[必要]
30643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30644 0000666A 9004              9609             MOV.W   #3,R0                                                           ;0:EMG
30645                            9610             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30646 0000666C D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30647 0000666E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30648                            9611             SUB_END
30649                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30650 00006670 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30651                            9612             M_RTS
30652 00006672 000B                   M           RTS                             ;RTSの後ろの
30653 00006674 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30654                            9613     
30655                            9614     ;       -------------------------------------------
30656                            9615     ;       ---                                     ---
30657                            9616     ;       -------------------------------------------
30658                            9617     ;       ***********************************
30659                            9618     ;       ***                             ***
30660                            9619     ;       ***     SLOW停止コマンド        ***
30661                            9620     ;       ***                             ***
30662                            9621     ;       ***********************************
30663                                     ***** BEGIN-POOL *****
30664 00006676 0003                       DATA FOR SOURCE-LINE 9609
30665 00006678 00000000                   DATA FOR SOURCE-LINE 9610
30666                                     ***** END-POOL *****
30667 0000667C                   9622             .ALIGN  4                               ;
30668 0000667C                   9623     _SPD_CTL_SLOW_STOP
30669                            9624             SUB_START
30670 0000667C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30671                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30672 0000667E 9004              9625             MOV.W   #2,R0                                                           ;2:SLOW
30673                            9626             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30674 00006680 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30675 00006682 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30676                            9627             SUB_END
30677                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30678 00006684 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30679                            9628             M_RTS
30680 00006686 000B                   M           RTS                             ;RTSの後ろの
30681 00006688 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30682                            9629     
30683                            9630     
30684                            9631     ;       ***********************************************************
30685                            9632     ;       ***                                                     ***
30686                            9633     ;       ***                                                     ***
30687                            9634     ;       ***                     前回I/F                         ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   441
PROGRAM NAME =

30688                            9635     ;       ***                                                     ***
30689                            9636     ;       ***                                                     ***
30690                            9637     ;       ***********************************************************
30691                            9638     ;       *******************************************
30692                            9639     ;       ***     トップ周波数    起動            ***
30693                            9640     ;       *******************************************
30694                            9641     ;       65535へ正規化または7FFFへ正規化
30695                            9642     ;       Input R2:
30696                                     ***** BEGIN-POOL *****
30697 0000668A 0002                       DATA FOR SOURCE-LINE 9625
30698 0000668C 00000000                   DATA FOR SOURCE-LINE 9626
30699                                     ***** END-POOL *****
30700 00006690                   9643             .ALIGN  4                               ;
30701 00006690                   9644     _POS_LSI_TOP_SPEED_SET:
30702                            9645             SUB_START
30703 00006690 4F22                   M           STS.L   PR,@-R15                ;[必要]
30704                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30705                            9646             FAR_JSR #_PLS_LSI_CTL_SPDINI,R0
30706 00006692 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30707 00006694 400B                   M           JSR     @R0                     ;
30708 00006696 0009                   M           NOP                                     ;
30709                            9647             SUB_END
30710                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30711 00006698 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30712                            9648             M_RTS
30713 0000669A 000B                   M           RTS                             ;RTSの後ろの
30714 0000669C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30715                            9649     
30716                            9650     ;       *******************************************
30717                            9651     ;       ***     トップ周波数    速度可変        ***
30718                            9652     ;       *******************************************
30719                                     ***** BEGIN-POOL *****
30720 0000669E 0000                       ALIGNMENT CODE
30721 000066A0 00000000                   DATA FOR SOURCE-LINE 9646
30722                                     ***** END-POOL *****
30723 000066A4                   9653             .ALIGN  4                               ;
30724 000066A4                   9654     _POS_LSI_TOP_SPEED_SETX:
30725                            9655             SUB_START
30726 000066A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
30727                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30728                            9656             FAR_JSR #_PLS_LSI_CTL_SPDCNT,R0
30729 000066A6 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDCNT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30730 000066A8 400B                   M           JSR     @R0                     ;
30731 000066AA 0009                   M           NOP                                     ;
30732                            9657             SUB_END
30733                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30734 000066AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30735                            9658             M_RTS
30736 000066AE 000B                   M           RTS                             ;RTSの後ろの
30737 000066B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30738                            9659     
30739                            9660     ;       ***********************************
30740                            9661     ;       ***     ベース周波数            ***
30741                            9662     ;       ***********************************
30742                            9663     ;       (1回だけ)
30743                                     ***** BEGIN-POOL *****
30744 000066B2 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   442
PROGRAM NAME =

30745 000066B4 00000000                   DATA FOR SOURCE-LINE 9656
30746                                     ***** END-POOL *****
30747 000066B8                   9664             .ALIGN  4                               ;
30748 000066B8                   9665     _POS_LSI_BAS_SPEED_SET:
30749                            9666             SUB_START
30750 000066B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30751                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30752                            9667             MEM_MOV_TO_MEM  _SET_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3 ;
30753 000066BA D103                   M           MOV.L   #_SET_SPDBAS_PLS,R1
30754 000066BC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30755 000066BE D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30756 000066C0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30757                            9668             SUB_END
30758                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30759 000066C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30760                            9669             M_RTS
30761 000066C4 000B                   M           RTS                             ;RTSの後ろの
30762 000066C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30763                            9670     
30764                            9671     ;       *******************************************
30765                            9672     ;       ***     ベース周波数(HAIF-CLOSE)        ***
30766                            9673     ;       *******************************************
30767                            9674             .EXPORT _POS_LSI_CLS_BAS_SPD_SET
30768                                     ***** BEGIN-POOL *****
30769 000066C8 00000000                   DATA FOR SOURCE-LINE 9667
30770 000066CC 00000000                   DATA FOR SOURCE-LINE 9667
30771                                     ***** END-POOL *****
30772 000066D0                   9675             .ALIGN  4                               ;
30773 000066D0                   9676     _POS_LSI_CLS_BAS_SPD_SET:
30774                            9677             SUB_START
30775 000066D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30776                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30777                            9678             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
30778 000066D2 D103                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
30779 000066D4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30780 000066D6 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30781 000066D8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30782                            9679             SUB_END
30783                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30784 000066DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30785                            9680             M_RTS
30786 000066DC 000B                   M           RTS                             ;RTSの後ろの
30787 000066DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30788                            9681     
30789                            9682     
30790                            9683     
30791                            9684     ;       ***********************************
30792                            9685     ;       ***     ベース周波数            ***
30793                            9686     ;       ***********************************
30794                            9687     ;       2013-06-13
30795                            9688             .EXPORT _POS_LSI_TEP_BAS_SPEED_SET
30796                                     ***** BEGIN-POOL *****
30797 000066E0 00000000                   DATA FOR SOURCE-LINE 9678
30798 000066E4 00000000                   DATA FOR SOURCE-LINE 9678
30799                                     ***** END-POOL *****
30800 000066E8                   9689             .ALIGN  4                               ;
30801 000066E8                   9690     _POS_LSI_TEP_BAS_SPEED_SET:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   443
PROGRAM NAME =

30802                            9691             SUB_START
30803 000066E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30805                            9692             MEM_MOV_TO_MEM  _TEP_MIN_SPD_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3        ;
30806 000066EA D103                   M           MOV.L   #_TEP_MIN_SPD_PLS,R1
30807 000066EC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30808 000066EE D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30809 000066F0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30810                            9693             SUB_END
30811                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30812 000066F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30813                            9694             M_RTS
30814 000066F4 000B                   M           RTS                             ;RTSの後ろの
30815 000066F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30816                            9695     
30817                            9696     
30818                            9697     
30819                            9698     ;
30820                            9699     ;       *******************************************
30821                            9700     ;       ***     トップSPEED=自起動=ｲﾝﾁﾝｸﾞ       ***
30822                            9701     ;       *******************************************
30823                            9702     ;       65535へ正規化または7FFFへ正規化
30824                            9703     ;       Input R2:
30825                            9704             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET1
30826                                     ***** BEGIN-POOL *****
30827 000066F8 00000000                   DATA FOR SOURCE-LINE 9692
30828 000066FC 00000000                   DATA FOR SOURCE-LINE 9692
30829                                     ***** END-POOL *****
30830 00006700                   9705             .ALIGN  4                               ;
30831 00006700                   9706     _POS_LSI_CLS_TOP_EQ_BAS_SET1:
30832                            9707             SUB_START
30833 00006700 4F22                   M           STS.L   PR,@-R15                ;[必要]
30834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30835                            9708             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
30836 00006702 D106                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
30837 00006704 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30838 00006706 D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30839 00006708 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30840 0000670A D105              9709             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
30841 0000670C 6212              9710             MOV.L   @R1,R2                          ;
30842                            9711             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
30843 0000670E D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30844 00006710 400B                   M           JSR     @R0                     ;
30845 00006712 0009                   M           NOP                                     ;
30846                            9712             SUB_END
30847                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30848 00006714 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30849                            9713             M_RTS
30850 00006716 000B                   M           RTS                             ;RTSの後ろの
30851 00006718 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30852                            9714     
30853                            9715             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET2
30854                                     ***** BEGIN-POOL *****
30855 0000671A 0000                       ALIGNMENT CODE
30856 0000671C 00000000                   DATA FOR SOURCE-LINE 9708
30857 00006720 00000000                   DATA FOR SOURCE-LINE 9708,9709
30858 00006724 00000000                   DATA FOR SOURCE-LINE 9711
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   444
PROGRAM NAME =

30859                                     ***** END-POOL *****
30860 00006728                   9716             .ALIGN  4                               ;
30861 00006728                   9717     _POS_LSI_CLS_TOP_EQ_BAS_SET2:
30862                            9718             SUB_START
30863 00006728 4F22                   M           STS.L   PR,@-R15                ;[必要]
30864                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30865                            9719             MEM_MOV_TO_MEM  _SET_CLSINC_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3  ;
30866 0000672A D106                   M           MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1
30867 0000672C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30868 0000672E D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30869 00006730 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30870 00006732 D105              9720             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
30871 00006734 6212              9721             MOV.L   @R1,R2                          ;
30872                            9722             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
30873 00006736 D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30874 00006738 400B                   M           JSR     @R0                     ;
30875 0000673A 0009                   M           NOP                                     ;
30876                            9723     
30877                            9724             SUB_END
30878                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30879 0000673C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30880                            9725             M_RTS
30881 0000673E 000B                   M           RTS                             ;RTSの後ろの
30882 00006740 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30883                            9726     
30884                            9727     ;       ***********************************
30885                            9728     ;       ***     通常加減速              ***
30886                            9729     ;       ***********************************
30887                            9730     ;       (1回だけ):加速度
30888                                     ***** BEGIN-POOL *****
30889 00006742 0000                       ALIGNMENT CODE
30890 00006744 00000000                   DATA FOR SOURCE-LINE 9719
30891 00006748 00000000                   DATA FOR SOURCE-LINE 9719,9720
30892 0000674C 00000000                   DATA FOR SOURCE-LINE 9722
30893                                     ***** END-POOL *****
30894 00006750                   9731             .ALIGN  4                               ;
30895 00006750                   9732     _POS_LSI_ACC1_SET:
30896                            9733             SUB_START
30897 00006750 4F22                   M           STS.L   PR,@-R15                ;[必要]
30898                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30899 00006752 D003              9734             MOV.L   #_POS_LSI_ACCLT1,R0             ;
30900 00006754 6201              9735             MOV.W   @R0,R2
30901 00006756 D603              9736             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R6        ;
30902 00006758 2621              9737             MOV.W   R2,@R6                                          ;
30903                            9738             SUB_END
30904                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30905 0000675A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30906                            9739             M_RTS
30907 0000675C 000B                   M           RTS                             ;RTSの後ろの
30908 0000675E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30909                            9740     
30910                            9741     ;       ***********************************
30911                            9742     ;       ***     急停止加減速            ***
30912                            9743     ;       ***********************************
30913                            9744     ;       (1回だけ):加速度
30914                                     ***** BEGIN-POOL *****
30915 00006760 00000000                   DATA FOR SOURCE-LINE 9734
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   445
PROGRAM NAME =

30916 00006764 00000000                   DATA FOR SOURCE-LINE 9736
30917                                     ***** END-POOL *****
30918 00006768                   9745             .ALIGN  4                               ;
30919 00006768                   9746     _POS_LSI_ACC2_SET:
30920                            9747             SUB_START
30921 00006768 4F22                   M           STS.L   PR,@-R15                ;[必要]
30922                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30923 0000676A D003              9748             MOV.L   #_POS_LSI_ACCLT2,R0
30924 0000676C 6201              9749             MOV.W   @R0,R2
30925 0000676E D603              9750             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate2,R6        ;
30926 00006770 2621              9751             MOV.W   R2,@R6                                          ;
30927                            9752             SUB_END
30928                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30929 00006772 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30930                            9753             M_RTS
30931 00006774 000B                   M           RTS                             ;RTSの後ろの
30932 00006776 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30933                            9754     
30934                            9755     ;       ***********************************
30935                            9756     ;       ***     速度LATE                ***
30936                            9757     ;       ***********************************
30937                            9758     ;       (1回だけ):
30938                                     ***** BEGIN-POOL *****
30939 00006778 00000000                   DATA FOR SOURCE-LINE 9748
30940 0000677C 00000000                   DATA FOR SOURCE-LINE 9750
30941                                     ***** END-POOL *****
30942 00006780                   9759             .ALIGN  4                               ;
30943 00006780                   9760     _POS_LSI_SPDLATE_SET:
30944                            9761             SUB_START
30945 00006780 4F22                   M           STS.L   PR,@-R15                ;[必要]
30946                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30947 00006782 D003              9762             MOV.L   #_POS_LSI_SPDLAT,R0                             ;
30948 00006784 6201              9763             MOV.W   @R0,R2
30949 00006786 D603              9764             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R6        ;
30950 00006788 2621              9765             MOV.W   R2,@R6                                          ;
30951                            9766             SUB_END
30952                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30953 0000678A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30954                            9767             M_RTS
30955 0000678C 000B                   M           RTS                             ;RTSの後ろの
30956 0000678E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30957                            9768     
30958                            9769     
30959                            9770     
30960                            9771     
30961                            9772     
30962                            9773     ;       ***********************************
30963                            9774     ;       ***                             ***
30964                            9775     ;       ***     REAL TIME MONITOR       ***
30965                            9776     ;       ***                             ***
30966                            9777     ;       ***********************************
30967                            9778     ;       ============== 20060919 DBG=====================
30968                            9779             .GLOBAL         _SH_POSCTL_SV_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
30969                            9780             .GLOBAL         _SH_POSCTL_RL_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
30970                            9781             .GLOBAL         _SH_POSCTL_ACC          ;.SRES  4*2     ;
30971                            9782             .GLOBAL         _SH_POSCTL_OFS          ;.SRES  4*2     ;
30972                            9783             .GLOBAL         _SH_POSCTL_SV_ABSPLS    ;.SRES  8*2     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   446
PROGRAM NAME =

30973                            9784             .GLOBAL         _SH_POSCTL_RL_ABSPLS    ;.SRES  8*2     ;
30974                            9785             .GLOBAL         _SH_POSCTL_PV_ABSPLS    ;.SRES  8*2     ;
30975                            9786             .GLOBAL         _SH_POSCTL_REST_PLS     ;.SRES  4*2     ;
30976                            9787             .GLOBAL         _SH_POSCTL_CAL_REST     ;.SRES  4*2     ;演算(SV-PV)
30977                            9788             .GLOBAL         _SH_POSCTL_HENSA        ;.SRES  4*2     ;演算(SV-PV)
30978                            9789             .GLOBAL         _SH_POSCTL_LSIFREQ      ;.SRES  4*2     ;LSI
30979                            9790     
30980                            9791             .AIF    0 EQ    0
30981                                 C   ***** BEGIN-POOL *****
30982 00006790 00000000               C   DATA FOR SOURCE-LINE 9762
30983 00006794 00000000               C   DATA FOR SOURCE-LINE 9764
30984                                 C   ***** END-POOL *****
30985          00000000          9792 C   _SH_2B  .EQU    0
30986          00000000          9793 C   _SH_4B  .EQU    0
30987          00000000          9794 C   _SH_8B  .EQU    0
30988                            9795             .AELSE
30989                            9796     _SH_2B  .EQU    2
30990                            9797     _SH_4B  .EQU    4
30991                            9798     _SH_8B  .EQU    8
30992                            9799             .AENDI
30993                            9800     
30994                            9801     
30995                            9802     
30996                            9803     
30997                            9804     
30998 00006798                   9805             .ALIGN  4                               ;
30999 00006798                   9806     _MONI_SEINOU_CMP_OUTPUT:
31000                            9807             SUB_START
31001 00006798 4F22                   M           STS.L   PR,@-R15                ;[必要]
31002                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31003                            9808     
31004                            9809     ;       設定速度
31005                            9810             MEM_MOV_TO_MEM  _POSCTL_SV_SPD,L        ,_SH_POSCTL_SV_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31006 0000679A D12E                   M           MOV.L   #_POSCTL_SV_SPD,R1
31007 0000679C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31008 0000679E D32E                   M           MOV.L   #_SH_POSCTL_SV_SPD+_SH_4B,R3    ;DST_ADR
31009 000067A0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31010                            9811     ;       制御速度
31011                            9812             MEM_MOV_TO_MEM  _POSCTL_RL_SPD,L        ,_SH_POSCTL_RL_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31012 000067A2 D12E                   M           MOV.L   #_POSCTL_RL_SPD,R1
31013 000067A4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31014 000067A6 D32E                   M           MOV.L   #_SH_POSCTL_RL_SPD+_SH_4B,R3    ;DST_ADR
31015 000067A8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31016                            9813             MEM_MOV_TO_MEM  _POSCTL_SV_UP_ACC,L     ,_SH_POSCTL_ACC+_SH_4B          ,L,R1,R2,R
                                          3       ;
31017 000067AA D12E                   M           MOV.L   #_POSCTL_SV_UP_ACC,R1
31018 000067AC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31019 000067AE D32E                   M           MOV.L   #_SH_POSCTL_ACC+_SH_4B,R3       ;DST_ADR
31020 000067B0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31021                            9814             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L    ,_SH_POSCTL_OFS+_SH_4B          ,L,R1,R2,R
                                          3       ;
31022 000067B2 D12E                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
31023 000067B4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31024 000067B6 D32E                   M           MOV.L   #_SH_POSCTL_OFS+_SH_4B,R3       ;DST_ADR
31025 000067B8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   447
PROGRAM NAME =

31026                            9815             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS,L   ,_SH_POSCTL_REST_PLS+_SH_4B     ,L,R1,R2,R
                                          3       ;
31027 000067BA D12E                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
31028 000067BC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31029 000067BE D32E                   M           MOV.L   #_SH_POSCTL_REST_PLS+_SH_4B,R3  ;DST_ADR
31030 000067C0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31031                            9816     
31032                            9817     ;       目標位置
31033 000067C2 D42E              9818             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
31034 000067C4 6146              9819             MOV.L   @R4+,R1                                                 ;
31035 000067C6 6242              9820             MOV.L   @R4,R2                                                  ;
31036 000067C8 D42D              9821             MOV.L   #_SH_POSCTL_SV_ABSPLS+_SH_8B,R4                         ;
31037 000067CA 1410              9822             MOV.L   R1,@(0,R4)
31038 000067CC 1421              9823             MOV.L   R2,@(4,R4)
31039                            9824     
31040                            9825     ;       ﾘｱﾙﾀｲﾑ目標位置
31041 000067CE D42D              9826             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                                 ;
31042 000067D0 6546              9827             MOV.L   @R4+,R5                                                                 ;
31043 000067D2 6642              9828             MOV.L   @R4,R6                                                                  ;
31044 000067D4 D42C              9829             MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH_8B,R4                                         ;[
                                          CPUB側で使用する2014-11-07]
31045 000067D6 1450              9830             MOV.L   R5,@(0,R4)                                                              ;
31046 000067D8 1461              9831             MOV.L   R6,@(4,R4)                                                              ;
31047                            9832             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2                       ;
31048 000067DA 0008                   M           CLRT
31049 000067DC 326A                   M           SUBC    R6,R2
31050 000067DE 315A                   M           SUBC    R5,R1
31051                            9833             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_CAL_REST+_SH_4B,L1=L,DT_REG=R2,WKREG1=R1     ;
31052 000067E0 D12A                   M           MOV.L   #_SH_POSCTL_CAL_REST+_SH_4B,R1  ;DST_ADR
31053 000067E2 2122                   M           MOV.L   R2,@R1  ;DST_ADR
31054                            9834     
31055                            9835     ;       実測位置
31056 000067E4 D42A              9836             MOV.L   #_LINK_PV_ABSPLS,R4                                                     ;
31057 000067E6 6146              9837             MOV.L   @R4+,R1                                                                 ;
31058 000067E8 6242              9838             MOV.L   @R4,R2                                                                  ;
31059 000067EA D42A              9839             MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH_8B,R4                                         ;
31060 000067EC 1410              9840             MOV.L   R1,@(0,R4)                                                              ;
31061 000067EE 1421              9841             MOV.L   R2,@(4,R4)                                                              ;
31062                            9842             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6                       ;
31063 000067F0 0008                   M           CLRT
31064 000067F2 362A                   M           SUBC    R2,R6
31065 000067F4 351A                   M           SUBC    R1,R5
31066                            9843             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_HENSA+_SH_4B,L1=L,DT_REG=R6,WKREG1=R1        ;
31067 000067F6 D128                   M           MOV.L   #_SH_POSCTL_HENSA+_SH_4B,R1     ;DST_ADR
31068 000067F8 2162                   M           MOV.L   R6,@R1  ;DST_ADR
31069                            9844     
31070                            9845             FAR_JSR #_LOAD_NOW_FREQ_PLS,R0                                                  ;
31071 000067FA D028                   M           MOV.L   #_LOAD_NOW_FREQ_PLS,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31072 000067FC 400B                   M           JSR     @R0                     ;
31073 000067FE 0009                   M           NOP                                     ;
31074                            9846             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_LSIFREQ+_SH_4B,L1=L,DT_REG=R0,WKREG1=R1      ;
31075 00006800 D127                   M           MOV.L   #_SH_POSCTL_LSIFREQ+_SH_4B,R1   ;DST_ADR
31076 00006802 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31077                            9847     
31078                            9848     
31079                            9849     ;       ------------------- 2007-03-02--------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   448
PROGRAM NAME =

31080                            9850             .GLOBAL         _SH_SQ200_IN            ;
31081                            9851             .GLOBAL         _SH_CNTSTOP_FLG         ;
31082 00006804 D127              9852             MOV.L   #_di1_cb_ctl1_dt,R1                     ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
31083 00006806 6211              9853             MOV.W   @R1,R2                                  ;
31084 00006808 9422              9854             MOV.W   #(BIT11+BIT10+BIT9+BIT8),R4             ;
31085 0000680A 6447              9855             NOT     R4,R4                                   ;
31086 0000680C 2249              9856             AND     R4,R2                                   ;
31087                            9857     
31088 0000680E D126              9858             MOV.L   #_BTTN_FLG,R1                           ;
31089 00006810 6011              9859             MOV.W   @R1,R0                                  ;BIT8,9,10,11
31090 00006812 4018              9860             SHLL8   R0                                      ;BIT8,9,10
31091 00006814 220B              9861             OR      R0,R2                                   ;
31092 00006816 941C              9862             MOV.W   #BIT7,R4                        ;
31093 00006818 6447              9863             NOT     R4,R4                                   ;
31094 0000681A 2249              9864             AND     R4,R2                                   ;
31095                            9865     
31096 0000681C D123              9866             MOV.L   #_CNT_STOP_CMD,R1                       ;
31097 0000681E 6011              9867             MOV.W   @R1,R0                                  ;
31098 00006820 2008              9868             TST     R0,R0                                   ;
31099                            9869             TST_BIT_OF MONI_DI_CHK_050                      ;
31100 00006822 8901                   M           BT      MONI_DI_CHK_050
31101 00006824 9415              9870             MOV.W   #BIT7,R4                                ;
31102 00006826 224B              9871             OR      R4,R2                                   ;
31103 00006828                   9872     MONI_DI_CHK_050:
31104                            9873             REG_MOV_TO_MEM  DST_ADR=_SH_SQ200_IN+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1    ;
31105 00006828 D121                   M           MOV.L   #_SH_SQ200_IN+_SH_2B,R1 ;DST_ADR
31106 0000682A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31107                            9874     
31108                            9875     
31109 0000682C D121              9876             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
31110 0000682E 6011              9877             MOV.W   @R1,R0                          ;IN
31111 00006830 C901              9878             AND     #BIT0,R0                        ;
31112 00006832 4000              9879             SHLL    R0
31113 00006834 6203              9880             MOV     R0,R2                           ;
31114                            9881     
31115 00006836 D120              9882             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
31116 00006838 6011              9883             MOV.W   @R1,R0                          ;LATCH
31117 0000683A C901              9884             AND     #BIT0,R0                        ;
31118 0000683C 220B              9885             OR      R0,R2                           ;
31119                            9886             REG_MOV_TO_MEM  DST_ADR=_SH_CNTSTOP_FLG+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31120 0000683E D11F                   M           MOV.L   #_SH_CNTSTOP_FLG+_SH_2B,R1      ;DST_ADR
31121 00006840 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31122                            9887     
31123                            9888             .IMPORT _SH_OUTPLS_DELT
31124 00006842 D11F              9889             MOV.L   #_OUTPLS_DELT,R1                        ;
31125 00006844 6211              9890             MOV.W   @R1,R2
31126                            9891             REG_MOV_TO_MEM  DST_ADR=_SH_OUTPLS_DELT+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31127 00006846 D11F                   M           MOV.L   #_SH_OUTPLS_DELT+_SH_2B,R1      ;DST_ADR
31128 00006848 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31129                            9892     
31130                            9893             SUB_END
31131                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31132 0000684A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31133                            9894             M_RTS
31134 0000684C 000B                   M           RTS                             ;RTSの後ろの
31135 0000684E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31136                            9895     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   449
PROGRAM NAME =

31137                            9896     
31138                            9897     
31139                            9898     
31140                            9899     ;       *******************************************
31141                            9900     ;       ***                                     ***
31142                            9901     ;       ***                                     ***
31143                            9902     ;       ***                                     ***
31144                            9903     ;       *******************************************
31145                                     ***** BEGIN-POOL *****
31146 00006850 0F00                       DATA FOR SOURCE-LINE 9854
31147 00006852 0080                       DATA FOR SOURCE-LINE 9862,9870
31148 00006854 00000000                   DATA FOR SOURCE-LINE 9810
31149 00006858 00000000                   DATA FOR SOURCE-LINE 9810
31150 0000685C 00000000                   DATA FOR SOURCE-LINE 9812
31151 00006860 00000000                   DATA FOR SOURCE-LINE 9812
31152 00006864 00000000                   DATA FOR SOURCE-LINE 9813
31153 00006868 00000000                   DATA FOR SOURCE-LINE 9813
31154 0000686C 00000000                   DATA FOR SOURCE-LINE 9814
31155 00006870 00000000                   DATA FOR SOURCE-LINE 9814
31156 00006874 00000000                   DATA FOR SOURCE-LINE 9815
31157 00006878 00000000                   DATA FOR SOURCE-LINE 9815
31158 0000687C 00000000                   DATA FOR SOURCE-LINE 9818
31159 00006880 00000000                   DATA FOR SOURCE-LINE 9821
31160 00006884 00000000                   DATA FOR SOURCE-LINE 9826
31161 00006888 00000000                   DATA FOR SOURCE-LINE 9829
31162 0000688C 00000000                   DATA FOR SOURCE-LINE 9833
31163 00006890 00000000                   DATA FOR SOURCE-LINE 9836
31164 00006894 00000000                   DATA FOR SOURCE-LINE 9839
31165 00006898 00000000                   DATA FOR SOURCE-LINE 9843
31166 0000689C 00000000                   DATA FOR SOURCE-LINE 9845
31167 000068A0 00000000                   DATA FOR SOURCE-LINE 9846
31168 000068A4 00000000                   DATA FOR SOURCE-LINE 9852
31169 000068A8 00000000                   DATA FOR SOURCE-LINE 9858
31170 000068AC 00000000                   DATA FOR SOURCE-LINE 9866
31171 000068B0 00000000                   DATA FOR SOURCE-LINE 9873
31172 000068B4 00000000                   DATA FOR SOURCE-LINE 9876
31173 000068B8 00000000                   DATA FOR SOURCE-LINE 9882
31174 000068BC 00000000                   DATA FOR SOURCE-LINE 9886
31175 000068C0 00000000                   DATA FOR SOURCE-LINE 9889
31176 000068C4 00000000                   DATA FOR SOURCE-LINE 9891
31177                                     ***** END-POOL *****
31178 000068C8                   9904             .ALIGN  4                               ;
31179 000068C8                   9905     _RL_POS_DATA_CHK:
31180                            9906             SUB_START
31181 000068C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31182                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31183 000068CA D40B              9907             MOV.L   #_MONI_CPUAB_PLSDELT,R4
31184                            9908             .AIF    0 EQ    0
31185 000068CC D70B              9909 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R7                      ;自分
31186 000068CE D90C              9910 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R9                      ;相手
31187                            9911             .AELSE
31188                            9912             MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R9                      ;相手
31189                            9913             MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R7                      ;自分
31190                            9914             .AENDI
31191                            9915     
31192 000068D0                   9916     RL_POSDTCHK_SECOND_RD:
31193 000068D0 5590              9917             MOV.L   @(0,R9),R5                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   450
PROGRAM NAME =

31194 000068D2 5691              9918             MOV.L   @(4,R9),R6                                              ;
31195 000068D4 5190              9919             MOV.L   @(0,R9),R1                                              ;
31196 000068D6 5291              9920             MOV.L   @(4,R9),R2                                              ;
31197 000068D8 3510              9921             CMP/EQ  R1,R5                                                   ;相手
31198 000068DA 8BF9              9922             BF      RL_POSDTCHK_SECOND_RD
31199 000068DC 3620              9923             CMP/EQ  R2,R6                                                   ;
31200 000068DE 8BF7              9924             BF      RL_POSDTCHK_SECOND_RD
31201                            9925     
31202 000068E0 5370              9926             MOV.L   @(0,R7),R3                                              ;
31203 000068E2 5471              9927             MOV.L   @(4,R7),R4                                              ;
31204                            9928             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2(相手-自分)
31205 000068E4 0008                   M           CLRT
31206 000068E6 324A                   M           SUBC    R4,R2
31207 000068E8 313A                   M           SUBC    R3,R1
31208                            9929     
31209 000068EA D003              9930             MOV.L   #_MONI_CPUAB_PLSDELT,R0                                 ;相手-自分
31210 000068EC 1010              9931             MOV.L   R1,@(0,R0)
31211 000068EE 1021              9932             MOV.L   R2,@(4,R0)                                              ;
31212                            9933     
31213                            9934     
31214                            9935     
31215                            9936             SUB_END
31216                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31217 000068F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31218                            9937             M_RTS
31219 000068F2 000B                   M           RTS                             ;RTSの後ろの
31220 000068F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31221                            9938     
31222                            9939     ;       ***************************************************
31223                            9940     ;       ***                                             ***
31224                            9941     ;       ***             ためし                          ***
31225                            9942     ;       ***                                             ***
31226                            9943     ;       ***************************************************
31227                            9944     ;       Input R2
31228                                     ***** BEGIN-POOL *****
31229 000068F6 0000                       ALIGNMENT CODE
31230 000068F8 00000000                   DATA FOR SOURCE-LINE 9907,9930
31231 000068FC 00000000                   DATA FOR SOURCE-LINE 9909
31232 00006900 00000000                   DATA FOR SOURCE-LINE 9910
31233                                     ***** END-POOL *****
31234 00006904                   9945             .ALIGN  4                               ;
31235 00006904                   9946     _CNT_HOSEI_CHK_CALC:
31236                            9947             SUB_START
31237 00006904 4F22                   M           STS.L   PR,@-R15                ;[必要]
31238                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31239                            9948             .AIF    0 EQ    1                       ;ﾊﾟﾙｽ補正
31240                            9949             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
31241                            9950             MOV.W   @R1,R0                          ;
31242                            9951             TST     R0,R0                           ;
31243                            9952             TST_BIT_ON CNT_HOSEI_CHKCAL_050         ;
31244                            9953             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
31245                            9954             MOV.W   @R1,R0                          ;
31246                            9955             TST     R0,R0                           ;
31247                            9956             TST_BIT_ON CNT_HOSEI_CHKCAL_050                                 ;
31248                            9957     
31249                            9958             MOV.L   #_MODE_SEL,R1                                           ;
31250                            9959             MOV.W   @R1,R0                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   451
PROGRAM NAME =

31251                            9960             TST     #_W1CNT,R0                                              ;
31252                            9961             TST_BIT_OF CNT_HOSEI_CHKCAL_050                                 ;
31253                            9962     
31254                            9963             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
31255                            9964             MOV.W   @R1,R0                                                  ;
31256                            9965             TST     #BIT3,R0                                                ;
31257                            9966             TST_BIT_ON CNT_HOSEI_CHKCAL_100                                 ;VMODE
31258                            9967     CNT_HOSEI_CHKCAL_050:
31259                            9968             FAR_JSR #_CNTREST_HOS_RESET,R0                                  ;
31260                            9969             M_BRA   CNT_HOSEI_SPDSET_EXT                                    ;
31261                            9970     
31262                            9971     CNT_HOSEI_CHKCAL_100:
31263                            9972             MOV.L   #_MONI_CPUAB_PLSDELT,R0
31264                            9973             MOV.L   @(0,R0),R1                      ;(0or1)
31265                            9974             MOV.L   @(4,R0),R2                      ;
31266                            9975             MOV     R2,R3                           ;+/-
31267                            9976             CMP/PZ  R1                              ;+
31268                            9977             BT      CNT_HOSEI_CHKCAL_200            ;相手-自分
31269                            9978             NEG     R2,R2                           ;
31270                            9979     CNT_HOSEI_CHKCAL_200:                           ;
31271                            9980             FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0       ;
31272                            9981     
31273                            9982     
31274                            9983     CNT_HOSEI_SPDSET_EXT:
31275                            9984             .AENDI
31276                            9985     
31277                            9986     
31278                            9987             SUB_END
31279                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31280 00006906 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31281                            9988             M_RTS
31282 00006908 000B                   M           RTS                             ;RTSの後ろの
31283 0000690A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31284                            9989     
31285                            9990     
31286                            9991     ;       *******************************************
31287                            9992     ;       ***                                     ***
31288                            9993     ;       ***                                     ***
31289                            9994     ;       ***                                     ***
31290                            9995     ;       *******************************************
31291                            9996     ;       HOS1 1000:1000~  1:7HZ
31292                            9997     ;       HOS1 2000:2000~  2:14HZ
31293                            9998     ;       HOS1 3000:3000~  4:28HZ
31294                            9999     ;       HOS1 4000:ERR
31295          00001F40         10000     _SYNC2_ERR_HABPLS1      .EQU    8000    ;16000
31296                           10001     
31297          0000012C         10002     _SYNC2_ERR_HOSHAB1      .EQU    300     ;
31298          00000190         10003     _SYNC2_ERR_HOSHAB2      .EQU    400     ;(100)
31299          000001F4         10004     _SYNC2_ERR_HOSHAB3      .EQU    500     ;(500)
31300          000003E8         10005     _SYNC2_ERR_HOSHAB4      .EQU    1000    ;(500)
31301          000005DC         10006     _SYNC2_ERR_HOSHAB5      .EQU    1500    ;(500)
31302          000007D0         10007     _SYNC2_ERR_HOSHAB6      .EQU    2000    ;(500)
31303          000009C4         10008     _SYNC2_ERR_HOSHAB7      .EQU    2500    ;(500)
31304                           10009     
31305                           10010     
31306          00000001         10011     _SYNC2_HOS_SPD1         .EQU    1       ;
31307          00000004         10012     _SYNC2_HOS_SPD2         .EQU    4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   452
PROGRAM NAME =

31308          00000008         10013     _SYNC2_HOS_SPD3         .EQU    8       ;
31309          00000020         10014     _SYNC2_HOS_SPD4         .EQU    32      ;
31310          00000040         10015     _SYNC2_HOS_SPD5         .EQU    64      ;
31311          00000080         10016     _SYNC2_HOS_SPD6         .EQU    128     ;
31312          00000100         10017     _SYNC2_HOS_SPD7         .EQU    256     ;2000khz
31313          00000200         10018     _SYNC2_HOS_SPD8         .EQU    512     ;2000khz 2006-10-28
31314                           10019     
31315 0000690C                  10020             .ALIGN  4                               ;
31316 0000690C                  10021     _CNT_SYNC_HOS_SPD_TYP:
31317                           10022             SUB_START
31318 0000690C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31319                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31320                           10023     
31321 0000690E D105             10024             MOV.L   #_CNT_SYNC_HOS_DAT2,R1          ;相手-自分
31322 00006910 2132             10025             MOV.L   R3,@R1                          ;(+/-生ﾃﾞｰﾀ)
31323                           10026     
31324 00006912 9105             10027             MOV.W   #_SYNC2_ERR_HABPLS1,R1          ;
31325 00006914 3122             10028             CMP/HS  R2,R1                           ;
31326 00006916 8909             10029             BT      CNT_SYNCHOS_SPDTYP_080          ;
31327                           10030     
31328                           10031     ;       -------- 2006-10-23--
31329 00006918 E401             10032             MOV     #BIT0,R4                        ;
31330 0000691A D503             10033             MOV.L   #_SYNC2_HOS_SPD8,R5             ;MAX
31331                           10034             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31332 0000691C A049                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31333 0000691E 0009                   M           NOP
31334                           10035     
31335                           10036     
31336                           10037     ;;;     MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_SYNC_ERR_FLG,LG=W,BIT=(BIT1+BIT0),WKREG=R1     ;S
                                          YNC_ERR
31337                           10038     ;;;
31338                           10039     ;;;     M_BRA   CNT_SYNCHOS_SPDTYP_EXT                                                  ;
31339                           10040     
31340                                     ***** BEGIN-POOL *****
31341 00006920 1F40                       DATA FOR SOURCE-LINE 10027
31342 00006922 0000                       ALIGNMENT CODE
31343 00006924 00000000                   DATA FOR SOURCE-LINE 10024
31344 00006928 00000200                   DATA FOR SOURCE-LINE 10033
31345                                     ***** END-POOL *****
31346 0000692C                  10041     CNT_SYNCHOS_SPDTYP_080:
31347                           10042     
31348 0000692C 9105             10043             MOV.W   #_SYNC2_ERR_HOSHAB1,R1          ;
31349 0000692E 3216             10044             CMP/HI  R1,R2                           ;=<data1(1000)
31350 00006930 8904             10045             BT      CNT_SYNCHOS_SPDTYP_200          ;R1(1000)<R2(PLS) JUMP
31351 00006932                  10046     CNT_SYNCHOS_SPDTYP_100:
31352                           10047     ;       === 正常補正なし====
31353 00006932 244A             10048             XOR     R4,R4                           ;FLG_BIT
31354 00006934 255A             10049             XOR     R5,R5                           ;data
31355                           10050             M_BRA   CNT_SYNCHOS_SPDTYP_450          ;
31356 00006936 A043                   M           BRA     CNT_SYNCHOS_SPDTYP_450
31357 00006938 0009                   M           NOP
31358                           10051     
31359                                     ***** BEGIN-POOL *****
31360 0000693A 012C                       DATA FOR SOURCE-LINE 10043
31361                                     ***** END-POOL *****
31362 0000693C                  10052     CNT_SYNCHOS_SPDTYP_200:
31363 0000693C 9105             10053             MOV.W   #_SYNC2_ERR_HOSHAB2,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   453
PROGRAM NAME =

31364 0000693E 3216             10054             CMP/HI  R1,R2                           ;=<data2(2000)
31365 00006940 8905             10055             BT      CNT_SYNCHOS_SPDTYP_250          ;R1(2000)<R2(PLS) JUMP
31366 00006942 E401             10056             MOV     #BIT0,R4                        ;
31367 00006944 9502             10057             MOV.W   #_SYNC2_HOS_SPD1,R5
31368                           10058             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31369 00006946 A034                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31370 00006948 0009                   M           NOP
31371                           10059     
31372                                     ***** BEGIN-POOL *****
31373 0000694A 0190                       DATA FOR SOURCE-LINE 10053
31374 0000694C 0001                       DATA FOR SOURCE-LINE 10057
31375                                     ***** END-POOL *****
31376 0000694E                  10060     CNT_SYNCHOS_SPDTYP_250:
31377 0000694E 9105             10061             MOV.W   #_SYNC2_ERR_HOSHAB3,R1          ;
31378 00006950 3216             10062             CMP/HI  R1,R2                           ;=<data3(3000)
31379 00006952 8905             10063             BT      CNT_SYNCHOS_SPDTYP_300          ;R1(3000)<R2(PLS) JUMP
31380 00006954 E401             10064             MOV     #BIT0,R4                        ;
31381 00006956 9502             10065             MOV.W   #_SYNC2_HOS_SPD2,R5
31382                           10066             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31383 00006958 A02B                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31384 0000695A 0009                   M           NOP
31385                           10067     
31386                                     ***** BEGIN-POOL *****
31387 0000695C 01F4                       DATA FOR SOURCE-LINE 10061
31388 0000695E 0004                       DATA FOR SOURCE-LINE 10065
31389                                     ***** END-POOL *****
31390 00006960                  10068     CNT_SYNCHOS_SPDTYP_300:
31391                           10069     
31392 00006960 9105             10070             MOV.W   #_SYNC2_ERR_HOSHAB4,R1          ;
31393 00006962 3216             10071             CMP/HI  R1,R2                           ;=<data4(3000)
31394 00006964 8905             10072             BT      CNT_SYNCHOS_SPDTYP_310          ;R1(3000)<R2(PLS) JUMP
31395 00006966 E401             10073             MOV     #BIT0,R4                        ;
31396 00006968 9502             10074             MOV.W   #_SYNC2_HOS_SPD3,R5
31397                           10075             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31398 0000696A A022                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31399 0000696C 0009                   M           NOP
31400                           10076     
31401                                     ***** BEGIN-POOL *****
31402 0000696E 03E8                       DATA FOR SOURCE-LINE 10070
31403 00006970 0008                       DATA FOR SOURCE-LINE 10074
31404                                     ***** END-POOL *****
31405 00006972                  10077     CNT_SYNCHOS_SPDTYP_310:
31406 00006972 9105             10078             MOV.W   #_SYNC2_ERR_HOSHAB5,R1          ;
31407 00006974 3216             10079             CMP/HI  R1,R2                           ;=<data4(3000)
31408 00006976 8905             10080             BT      CNT_SYNCHOS_SPDTYP_320          ;R1(3000)<R2(PLS) JUMP
31409 00006978 E401             10081             MOV     #BIT0,R4                        ;
31410 0000697A 9502             10082             MOV.W   #_SYNC2_HOS_SPD4,R5
31411                           10083             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31412 0000697C A019                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31413 0000697E 0009                   M           NOP
31414                           10084     
31415                                     ***** BEGIN-POOL *****
31416 00006980 05DC                       DATA FOR SOURCE-LINE 10078
31417 00006982 0020                       DATA FOR SOURCE-LINE 10082
31418                                     ***** END-POOL *****
31419 00006984                  10085     CNT_SYNCHOS_SPDTYP_320:
31420 00006984 9105             10086             MOV.W   #_SYNC2_ERR_HOSHAB6,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   454
PROGRAM NAME =

31421 00006986 3216             10087             CMP/HI  R1,R2                           ;=<data4(3000)
31422 00006988 8905             10088             BT      CNT_SYNCHOS_SPDTYP_330          ;R1(3000)<R2(PLS) JUMP
31423 0000698A E401             10089             MOV     #BIT0,R4                        ;
31424 0000698C 9502             10090             MOV.W   #_SYNC2_HOS_SPD5,R5
31425                           10091             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31426 0000698E A010                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31427 00006990 0009                   M           NOP
31428                           10092     
31429                                     ***** BEGIN-POOL *****
31430 00006992 07D0                       DATA FOR SOURCE-LINE 10086
31431 00006994 0040                       DATA FOR SOURCE-LINE 10090
31432                                     ***** END-POOL *****
31433 00006996                  10093     CNT_SYNCHOS_SPDTYP_330:
31434 00006996 9105             10094             MOV.W   #_SYNC2_ERR_HOSHAB7,R1          ;
31435 00006998 3216             10095             CMP/HI  R1,R2                           ;=<data4(3000)
31436 0000699A 8905             10096             BT      CNT_SYNCHOS_SPDTYP_390          ;R1(3000)<R2(PLS) JUMP
31437 0000699C E401             10097             MOV     #BIT0,R4                        ;
31438 0000699E 9502             10098             MOV.W   #_SYNC2_HOS_SPD6,R5
31439                           10099             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31440 000069A0 A007                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31441 000069A2 0009                   M           NOP
31442                           10100     
31443                                     ***** BEGIN-POOL *****
31444 000069A4 09C4                       DATA FOR SOURCE-LINE 10094
31445 000069A6 0080                       DATA FOR SOURCE-LINE 10098
31446                                     ***** END-POOL *****
31447 000069A8                  10101     CNT_SYNCHOS_SPDTYP_390:
31448 000069A8 E401             10102             MOV     #BIT0,R4                        ;
31449 000069AA 9501             10103             MOV.W   #_SYNC2_HOS_SPD7,R5
31450                           10104             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31451 000069AC A001                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31452 000069AE 0009                   M           NOP
31453                           10105     
31454                                     ***** BEGIN-POOL *****
31455 000069B0 0100                       DATA FOR SOURCE-LINE 10103
31456                                     ***** END-POOL *****
31457 000069B2                  10106     CNT_SYNCHOS_SPDTYP_400:
31458 000069B2 D109             10107             MOV.L   #_CNT_SYNC_CHK_CNT2,R1
31459 000069B4 6011             10108             MOV.W   @R1,R0
31460 000069B6 7001             10109             ADD     #1,R0
31461 000069B8 2101             10110             MOV.W   R0,@R1                          ;
31462                           10111     
31463 000069BA 4311             10112             CMP/PZ  R3                              ;相手-自分= 10 +に溜まっている.速度UP
31464 000069BC 8900             10113             BT      CNT_SYNCHOS_SPDTYP_450          ;          -10 -に溜まっている.速度DN
31465 000069BE 655B             10114             NEG     R5,R5                           ;
31466 000069C0                  10115     CNT_SYNCHOS_SPDTYP_450:                         ;
31467 000069C0 D106             10116             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
31468 000069C2 2141             10117             MOV.W   R4,@R1                          ;
31469 000069C4 D106             10118             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31470 000069C6 2152             10119             MOV.L   R5,@R1                          ;
31471                           10120     
31472 000069C8                  10121     CNT_SYNCHOS_SPDTYP_EXT:
31473 000069C8 D105             10122             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31474 000069CA 6012             10123             MOV.L   @R1,R0                          ;
31475 000069CC D105             10124             MOV.L   #_CNT_SYNC_HOS_DAT1,R1          ;
31476 000069CE 2102             10125             MOV.L   R0,@R1                          ;
31477                           10126     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   455
PROGRAM NAME =

31478                           10127             SUB_END
31479                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31480 000069D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31481                           10128             M_RTS
31482 000069D2 000B                   M           RTS                             ;RTSの後ろの
31483 000069D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31484                           10129     
31485                           10130     ;       ***********************************
31486                           10131     ;       ***                             ***
31487                           10132     ;       ***     速度設定                ***
31488                           10133     ;       ***     FFFF(500Kはありえない)  ***
31489                           10134     ;       ***                             ***
31490                           10135     ;       ***********************************
31491                           10136     ;       input R2 speed
31492                                     ***** BEGIN-POOL *****
31493 000069D6 0000                       ALIGNMENT CODE
31494 000069D8 00000000                   DATA FOR SOURCE-LINE 10107
31495 000069DC 00000000                   DATA FOR SOURCE-LINE 10116
31496 000069E0 00000000                   DATA FOR SOURCE-LINE 10118,10122
31497 000069E4 00000000                   DATA FOR SOURCE-LINE 10124
31498                                     ***** END-POOL *****
31499 000069E8                  10137             .ALIGN  4                               ;
31500 000069E8                  10138     _CNT_REST_HOSEI_SPD_TYP:
31501                           10139             SUB_START
31502 000069E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31503                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31504 000069EA D105             10140             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
31505 000069EC 6011             10141             MOV.W   @R1,R0                          ;
31506 000069EE C801             10142             TST     #BIT0,R0                        ;
31507                           10143             TST_BIT_OF CNT_REST_HOSEI_SPDTYP_EXT    ;
31508 000069F0 8902                   M           BT      CNT_REST_HOSEI_SPDTYP_EXT
31509 000069F2 D104             10144             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31510 000069F4 6012             10145             MOV.L   @R1,R0                          ;
31511 000069F6 320C             10146             ADD     R0,R2                           ;
31512 000069F8                  10147     CNT_REST_HOSEI_SPDTYP_EXT:
31513                           10148             SUB_END
31514                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31515 000069F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31516                           10149             M_RTS
31517 000069FA 000B                   M           RTS                             ;RTSの後ろの
31518 000069FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31519                           10150     
31520                           10151             .EXPORT _CNTREST_HOS_RESET
31521                                     ***** BEGIN-POOL *****
31522 000069FE 0000                       ALIGNMENT CODE
31523 00006A00 00000000                   DATA FOR SOURCE-LINE 10140
31524 00006A04 00000000                   DATA FOR SOURCE-LINE 10144
31525                                     ***** END-POOL *****
31526 00006A08                  10152             .ALIGN  4                               ;
31527 00006A08                  10153     _CNTREST_HOS_RESET
31528                           10154             SUB_START
31529 00006A08 4F22                   M           STS.L   PR,@-R15                ;[必要]
31530                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31531 00006A0A 200A             10155             XOR     R0,R0
31532                           10156             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_FLG ,L1=W,DT_REG=R0,WKREG1=R1       ;
31533 00006A0C D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;DST_ADR
31534 00006A0E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   456
PROGRAM NAME =

31535                           10157             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_DAT ,L1=L,DT_REG=R0,WKREG1=R1       ;
31536 00006A10 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;DST_ADR
31537 00006A12 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31538                           10158             SUB_END
31539                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31540 00006A14 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31541                           10159             M_RTS
31542 00006A16 000B                   M           RTS                             ;RTSの後ろの
31543 00006A18 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31544                           10160     
31545                           10161     
31546                           10162     
31547                           10163     ;       *******************************************
31548                           10164     ;       ***                                     ***
31549                           10165     ;       ***     2010-10-05                      ***
31550                           10166     ;       ***                                     ***
31551                           10167     ;       ***                                     ***
31552                           10168     ;       *******************************************
31553                                     ***** BEGIN-POOL *****
31554 00006A1A 0000                       ALIGNMENT CODE
31555 00006A1C 00000000                   DATA FOR SOURCE-LINE 10156
31556 00006A20 00000000                   DATA FOR SOURCE-LINE 10157
31557                                     ***** END-POOL *****
31558 00006A24                  10169             .ALIGN  4                               ;
31559 00006A24                  10170     _dum_SET_PV_ABS_TO_OBJ:
31560                           10171             SUB_START
31561 00006A24 4F22                   M           STS.L   PR,@-R15                ;[必要]
31562                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31563                           10172             SUB_END
31564                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31565 00006A26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31566                           10173             M_RTS
31567 00006A28 000B                   M           RTS                             ;RTSの後ろの
31568 00006A2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31569                           10174     
31570                           10175     ;       ***************************************************
31571                           10176     ;       ***                                             ***
31572                           10177     ;       ***     反転のタイマ途中からの再起動            ***
31573                           10178     ;       ***     (安全一、寸動、連続寸動一、連続タイマ)  ***
31574                           10179     ;       ***     2012-05-15                              ***
31575                           10180     ;       ***                                             ***
31576                           10181     ;       ***************************************************
31577                           10182     ;       起動時,
31578                           10183     ;
31579 00006A2C                  10184             .ALIGN  4                               ;
31580 00006A2C                  10185     _DURING_TIM_CNTINUE_CHK
31581                           10186             SUB_START
31582 00006A2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31583                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31584 00006A2E D102             10187             MOV.L   #_DURING_TIM_FX,R1                              ;
31585 00006A30 6011             10188             MOV.W   @R1,R0                                          ;
31586 00006A32                  10189     DURING_TIM_CNTCK_END
31587                           10190             SUB_END
31588                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31589 00006A32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31590                           10191             M_RTS
31591 00006A34 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   457
PROGRAM NAME =

31592 00006A36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31593                           10192     
31594                           10193     
31595                           10194     ;       ------------- 再度0から行うか,途中から行うか,ﾀｲﾌﾟｱｯﾌﾟから行うか
31596                           10195     ;       input R1:設定
31597                           10196     ;
31598                                     ***** BEGIN-POOL *****
31599 00006A38 00000000                   DATA FOR SOURCE-LINE 10187
31600                                     ***** END-POOL *****
31601 00006A3C                  10197     _DURING_TIM_PRESET_CALC
31602                           10198             SUB_START
31603 00006A3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31604                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31605                           10199     
31606 00006A3E D007             10200             MOV.L   #_DURING_TIM_FX,R0                                      ;
31607 00006A40 6001             10201             MOV.W   @R0,R0                                                  ;
31608 00006A42 2008             10202             TST     R0,R0                                                   ;
31609                           10203             TST_BIT_OF DURING_TIM_PRECALC200                                ;通常の処理
31610 00006A44 890F                   M           BT      DURING_TIM_PRECALC200
31611                           10204     
31612 00006A46 2118             10205             TST     R1,R1                                                   ;
31613                           10206             TST_BIT_OF DURING_TIM_PRECALC200                                ;ﾃﾞｰﾀが0
31614 00006A48 890D                   M           BT      DURING_TIM_PRECALC200
31615                           10207     
31616 00006A4A D005             10208             MOV.L   #(_PAR_STOPTIM_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R0    ;
31617 00006A4C 6001             10209             MOV.W   @R0,R0                                                  ;
31618 00006A4E 8802             10210             CMP/EQ  #2,R0                                                   ;
31619 00006A50 8908             10211             BT      DURING_TIM_PRECALC100                                   ;"ｸﾘｱ":ﾀｲﾑｱｯﾌﾟから
                                          はじめる
31620                           10212     
31621 00006A52 8801             10213             CMP/EQ  #1,R0                                                   ;
31622 00006A54 8B07             10214             BF      DURING_TIM_PRECALC200                                   ;0:(2,1以外):(設定
                                          をｾｯﾄする)
31623                           10215             M_BRA   DURING_TIM_PRECALCEND                                   ;1:設定しない:継続
31624 00006A56 A008                   M           BRA     DURING_TIM_PRECALCEND
31625 00006A58 0009                   M           NOP
31626                           10216     
31627                           10217     
31628                                     ***** BEGIN-POOL *****
31629 00006A5A 0000                       ALIGNMENT CODE
31630 00006A5C 00000000                   DATA FOR SOURCE-LINE 10200
31631 00006A60 00000000                   DATA FOR SOURCE-LINE 10208
31632                                     ***** END-POOL *****
31633 00006A64                  10218     DURING_TIM_PRECALC100
31634 00006A64 211A             10219             XOR     R1,R1                                                   ;
31635 00006A66                  10220     DURING_TIM_PRECALC200
31636 00006A66 D402             10221             MOV.L   #_SDAT_WAIT_PVTIM,R4                                    ;
31637 00006A68 2412             10222             MOV.L   R1,@R4                                                  ;
31638 00006A6A                  10223     DURING_TIM_PRECALCEND
31639                           10224             SUB_END
31640                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31641 00006A6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31642                           10225             M_RTS
31643 00006A6C 000B                   M           RTS                             ;RTSの後ろの
31644 00006A6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31645                           10226     
31646                           10227     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   458
PROGRAM NAME =

31647                           10228     
31648                           10229     ;       *******************************************
31649                           10230     ;       ***                                     ***
31650                           10231     ;       ***             2013-02-08              ***
31651                           10232     ;       ***             CPUB_CURVSEL[4]         ***
31652                           10233     ;       *******************************************
31653                           10234     ;;      CPUA=CPUB=TBLCURV時に生かす
31654                           10235             .IMPORT         _PAR_DNMDEND_DLY
31655                           10236     
31656                                     ***** BEGIN-POOL *****
31657 00006A70 00000000                   DATA FOR SOURCE-LINE 10221
31658                                     ***** END-POOL *****
31659 00006A74                  10237     _DNMODE_ENDWAIT_TIM_SET                         ;[[[2013-03-24復活]]]
31660                           10238             SUB_START                               ;[[[2013-03-24復活]]]
31661 00006A74 4F22                   M           STS.L   PR,@-R15                ;[必要]
31662                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31663                           10239     
31664 00006A76 D106             10240             MOV.L   #_SETX_POS_CTL_MATH,R1          ;[[[2013-03-24復活]]]
31665 00006A78 6011             10241             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
31666 00006A7A C804             10242             TST     #_DMATH_DNDRIV,R0               ;[[[2013-03-24復活]]]
31667                           10243             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
31668 00006A7C 890E                   M           BT      DNMODE_ENDWAIT_TIMST100
31669                           10244     
31670 00006A7E D105             10245             MOV.L   #_MODE_SEL,R1                   ;[[[2013-03-24復活]]]
31671 00006A80 6011             10246             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
31672 00006A82 C808             10247             TST     #_W1CNT,R0                      ;[[[2013-03-24復活]]]
31673                           10248             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
31674 00006A84 890A                   M           BT      DNMODE_ENDWAIT_TIMST100
31675                           10249     
31676 00006A86 D104             10250             MOV.L   #(_PAR_DNMDEND_DLY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[[[2013-03-24復活
                                          ]]]
31677 00006A88 6011             10251             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
31678                           10252             M_BRA   DNMODE_ENDWAIT_TIMST200                                 ;[[[2013-03-24復活
                                          ]]]
31679 00006A8A A008                   M           BRA     DNMODE_ENDWAIT_TIMST200
31680 00006A8C 0009                   M           NOP
31681                           10253     
31682                                     ***** BEGIN-POOL *****
31683 00006A8E 0000                       ALIGNMENT CODE
31684 00006A90 00000000                   DATA FOR SOURCE-LINE 10240
31685 00006A94 00000000                   DATA FOR SOURCE-LINE 10245
31686 00006A98 00000000                   DATA FOR SOURCE-LINE 10250
31687                                     ***** END-POOL *****
31688 00006A9C                  10254     DNMODE_ENDWAIT_TIMST100                                                 ;[[[2013-03-24復活
                                          ]]]
31689 00006A9C 200A             10255             XOR     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
31690 00006A9E                  10256     DNMODE_ENDWAIT_TIMST200                                                 ;
31691 00006A9E D102             10257             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
31692 00006AA0 2101             10258             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
31693                           10259                                                                             ;
31694                           10260             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
31695                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   459
PROGRAM NAME =

31696 00006AA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31697                           10261             M_RTS                                                           ;
31698 00006AA4 000B                   M           RTS                             ;RTSの後ろの
31699 00006AA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31700                           10262     
31701                                     ***** BEGIN-POOL *****
31702 00006AA8 00000000                   DATA FOR SOURCE-LINE 10257
31703                                     ***** END-POOL *****
31704 00006AAC                  10263     _DNMODE_ENDWAIT_TIM_CHK                                                 ;[[[2013-03-24復活
                                          ]]]
31705                           10264             SUB_START                                                       ;[[[2013-03-24復活
                                          ]]]
31706 00006AAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31707                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31708 00006AAE D105             10265             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
31709 00006AB0 6011             10266             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
31710 00006AB2 2008             10267             TST     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
31711                           10268             TST_BIT_OF DNMODE_ENDWAIT_TIMCK_END                             ;ANS R0=0 [[[2013-
                                          03-24復活]]]
31712 00006AB4 8902                   M           BT      DNMODE_ENDWAIT_TIMCK_END
31713                           10269                                                                             ;[[[2013-03-24復活
                                          ]]]
31714 00006AB6 70FF             10270             ADD     #-1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
31715 00006AB8 2101             10271             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
31716 00006ABA E001             10272             MOV.B   #1,R0                                                   ;R0=1 NOT TIM UP[[
                                          [2013-03-24復活]]]
31717                           10273     
31718 00006ABC                  10274     DNMODE_ENDWAIT_TIMCK_END                                                ;[[[2013-03-24復活
                                          ]]]
31719                           10275     
31720                           10276             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
31721                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31722 00006ABC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31723                           10277             M_RTS                                                           ;[[[2013-03-24復活
                                          ]]]
31724 00006ABE 000B                   M           RTS                             ;RTSの後ろの
31725 00006AC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31726                           10278     
31727                           10279     ;       ***************************************************
31728                           10280     ;       ***                                             ***
31729                           10281     ;       ***             寸動時上限制限をかける          ***
31730                           10282     ;       ***             2013-02-15                      ***
31731                           10283     ;       ***************************************************
31732                                     ***** BEGIN-POOL *****
31733 00006AC2 0000                       ALIGNMENT CODE
31734 00006AC4 00000000                   DATA FOR SOURCE-LINE 10265
31735                                     ***** END-POOL *****
31736 00006AC8                  10284     _INC_UPLIMT_CALC:
31737                           10285             SUB_START
31738 00006AC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31739                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   460
PROGRAM NAME =

31740 00006ACA D10A             10286             MOV.L   #_MODE_SEL,R1                           ;
31741 00006ACC 6011             10287             MOV.W   @R1,R0                                  ;
31742 00006ACE C802             10288             TST     #(_W1INC),R0                            ;
31743                           10289             TST_BIT_OF INC_UPLIMT_CAL100                    ;
31744 00006AD0 891A                   M           BT      INC_UPLIMT_CAL100
31745                           10290     
31746 00006AD2 D109             10291             MOV.L   #_CB_SEQ_CB_COM349,R1                   ;
31747 00006AD4 6011             10292             MOV.W   @R1,R0                                  ;
31748 00006AD6 940B             10293             MOV.W   #BIT8,R4                                ;
31749 00006AD8 2048             10294             TST     R4,R0                                   ;
31750                           10295             TST_BIT_OF INC_UPLIMT_CAL100                    ;
31751 00006ADA 8915                   M           BT      INC_UPLIMT_CAL100
31752                           10296     
31753 00006ADC D107             10297             MOV.L   #(_PAR_INCSPD_UPLMT-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
31754 00006ADE 6211             10298             MOV.W   @R1,R2                                                  ;
31755                           10299             FAR_JSR #_CYCLE_SPD1,R0                                         ;
31756 00006AE0 D007                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31757 00006AE2 400B                   M           JSR     @R0                     ;
31758 00006AE4 0009                   M           NOP                                     ;
31759 00006AE6 D107             10300             MOV.L   #_UPLIMIT_SV_SPD,R1                     ;//(上限共通DATA)PLS/S
31760 00006AE8 2122             10301             MOV.L   R2,@R1                                  ;
31761                           10302     
31762 00006AEA 9002             10303             MOV.W   #BIT0,R0                                ;
31763                           10304             M_BRA   INC_UPLIMT_CAL200                       ;
31764 00006AEC A00D                   M           BRA     INC_UPLIMT_CAL200
31765 00006AEE 0009                   M           NOP
31766                           10305     
31767                                     ***** BEGIN-POOL *****
31768 00006AF0 0100                       DATA FOR SOURCE-LINE 10293
31769 00006AF2 0001                       DATA FOR SOURCE-LINE 10303
31770 00006AF4 00000000                   DATA FOR SOURCE-LINE 10286
31771 00006AF8 00000000                   DATA FOR SOURCE-LINE 10291
31772 00006AFC 00000000                   DATA FOR SOURCE-LINE 10297
31773 00006B00 00000000                   DATA FOR SOURCE-LINE 10299
31774 00006B04 00000000                   DATA FOR SOURCE-LINE 10300
31775                                     ***** END-POOL *****
31776 00006B08                  10306     INC_UPLIMT_CAL100:
31777 00006B08 200A             10307             XOR     R0,R0
31778 00006B0A                  10308     INC_UPLIMT_CAL200:
31779 00006B0A D102             10309             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
31780 00006B0C 2101             10310             MOV.W   R0,@R1                  ;
31781 00006B0E                  10311     INC_UPLIMT_CALEND:
31782                           10312     
31783                           10313             SUB_END
31784                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31785 00006B0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31786                           10314             M_RTS
31787 00006B10 000B                   M           RTS                             ;RTSの後ろの
31788 00006B12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31789                           10315     
31790                           10316     
31791                           10317     ;       *******************************************
31792                           10318     ;       ***                                     ***
31793                           10319     ;       ***     2009-10-07                      ***
31794                           10320     ;       ***     下振子                          ***
31795                           10321     ;       ***     非常停止                        ***
31796                           10322     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   461
PROGRAM NAME =

31797                                     ***** BEGIN-POOL *****
31798 00006B14 00000000                   DATA FOR SOURCE-LINE 10309
31799                                     ***** END-POOL *****
31800 00006B18                  10323             .ALIGN  4                               ;
31801 00006B18                  10324     _DNM_DATA_CLR:
31802                           10325             SUB_START
31803 00006B18 4F22                   M           STS.L   PR,@-R15                ;[必要]
31804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31805                           10326     
31806                           10327              .AIF   1 EQ 1  ;
31807                           10328 C   ;       -------- 2016-10-31 ADD 二重回路対策
31808                           10329              .AENDI
31809                           10330     ;       ---2016-06-13--
31810                           10331             UP_TIME LG=W,MEM_ADR=_DBG_DNM_CLR_CNT,WKREG1=R1,WKREG2=R0
31811 00006B1A D107                   M           MOV.L   #_DBG_DNM_CLR_CNT,R1            ;SORCE ADRESS SET
31812 00006B1C 6011                   M           MOV.W   @R1,R0          ;
31813 00006B1E 7001                   M           ADD     #1,R0                   ;
31814 00006B20 2008                   M           TST     R0,R0                   ;
31815                                 M           TST_BIT_OF JMP_0100022                  ;ZERO THEN JUMP
31816 00006B22 8900                   M           BT      JMP_0100022
31817 00006B24 2101                   M           MOV.W   R0,@R1          ;STORE
31818 00006B26                        M   JMP_0100022:                                    ;
31819                           10332     
31820 00006B26 200A             10333             XOR     R0,R0
31821 00006B28 D104             10334             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
31822 00006B2A 2101             10335             MOV.W   R0,@R1
31823 00006B2C D104             10336             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時
31824 00006B2E 2101             10337             MOV.W   R0,@R1
31825                           10338             SUB_END
31826                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31827 00006B30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31828                           10339             M_RTS
31829 00006B32 000B                   M           RTS                             ;RTSの後ろの
31830 00006B34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31831                           10340     
31832                           10341     ;       *******************************************
31833                           10342     ;       ***                                     ***
31834                           10343     ;       ***     2014-09-17                      ***
31835                           10344     ;       ***     下振子                          ***
31836                           10345     ;       ***     左待機点からの開始              ***
31837                           10346     ;       ***                                     ***
31838                           10347     ;       *******************************************
31839                           10348     ;       初期値は0：右
31840                           10349             .EXPORT _DNM_DATA_REV_SET
31841                                     ***** BEGIN-POOL *****
31842 00006B36 0000                       ALIGNMENT CODE
31843 00006B38 00000000                   DATA FOR SOURCE-LINE 10331
31844 00006B3C 00000000                   DATA FOR SOURCE-LINE 10334
31845 00006B40 00000000                   DATA FOR SOURCE-LINE 10336
31846                                     ***** END-POOL *****
31847 00006B44                  10350     _DNM_DATA_REV_SET:
31848                           10351             SUB_START
31849 00006B44 4F22                   M           STS.L   PR,@-R15                ;[必要]
31850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31851 00006B46 E001             10352             MOV.B   #BIT0,R0                        ;
31852 00006B48 D102             10353             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   462
PROGRAM NAME =

                                          に切り替わり)
31853 00006B4A 2101             10354             MOV.W   R0,@R1
31854                           10355     
31855                           10356     ;;;;;;; MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時,次のｻｲｸﾙ起動時 SET_FLG=>NO
                                          W_FLG
31856                           10357     ;;;;;;; MOV.W   R0,@R1
31857                           10358     
31858                           10359             SUB_END
31859                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31860 00006B4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31861                           10360             M_RTS
31862 00006B4E 000B                   M           RTS                             ;RTSの後ろの
31863 00006B50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31864                           10361     
31865                           10362     
31866                           10363             .EXPORT _DNM_CYCLE_END                  ;2016-04-16
31867                                     ***** BEGIN-POOL *****
31868 00006B52 0000                       ALIGNMENT CODE
31869 00006B54 00000000                   DATA FOR SOURCE-LINE 10353
31870                                     ***** END-POOL *****
31871 00006B58                  10364     _DNM_CYCLE_END:                                 ;
31872                           10365             SUB_START                               ;
31873 00006B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
31874                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31875                           10366     
31876                           10367              .AIF   1 EQ 1  ;
31877                           10368 C   ;       -------- 2016-10-31 ADD 二重回路対策
31878                           10369              .AENDI
31879                           10370     
31880                           10371     ;       ---2016-06-13--
31881                           10372             UP_TIME LG=W,MEM_ADR=_DBG_DNM_END_CNT,WKREG1=R1,WKREG2=R0
31882 00006B5A D10D                   M           MOV.L   #_DBG_DNM_END_CNT,R1            ;SORCE ADRESS SET
31883 00006B5C 6011                   M           MOV.W   @R1,R0          ;
31884 00006B5E 7001                   M           ADD     #1,R0                   ;
31885 00006B60 2008                   M           TST     R0,R0                   ;
31886                                 M           TST_BIT_OF JMP_0100023                  ;ZERO THEN JUMP
31887 00006B62 8900                   M           BT      JMP_0100023
31888 00006B64 2101                   M           MOV.W   R0,@R1          ;STORE
31889 00006B66                        M   JMP_0100023:                                    ;
31890                           10373     
31891 00006B66 222A             10374             XOR     R2,R2                           ;
31892 00006B68 D10A             10375             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
31893 00006B6A 6011             10376             MOV.W   @R1,R0                          ;
31894 00006B6C C804             10377             TST     #_DMATH_DNDRIV,R0
31895                           10378             TST_BIT_OF DNM_CYCLE_ED_100             ;
31896 00006B6E 8904                   M           BT      DNM_CYCLE_ED_100
31897                           10379     
31898 00006B70 D109             10380             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
31899 00006B72 6011             10381             MOV.W   @R1,R0                          ;
31900 00006B74 2008             10382             TST     R0,R0                           ;
31901                           10383             TST_BIT_ON DNM_CYCLE_ED_100             ;
31902 00006B76 8B00                   M           BF      DNM_CYCLE_ED_100
31903 00006B78 E201             10384             MOV     #1,R2                           ;
31904 00006B7A                  10385     DNM_CYCLE_ED_100:                               ;
31905 00006B7A D108             10386             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
31906 00006B7C 2121             10387             MOV.W   R2,@R1                          ;NEXT-SET
31907                           10388     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   463
PROGRAM NAME =

31908                           10389     ;       ----------------[2014-11-10 add]---------
31909 00006B7E D108             10390             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向(今回動
                                          きべき方向)
31910 00006B80 2121             10391             MOV.W   R2,@R1                          ;
31911                           10392     
31912                           10393             .AIF    0 EQ    0
31913                           10394 C           FAR_JSR #_API_CAM_DRV_DNM_DIR_SET,R0    ;2016-11-16
31914 00006B82 D008                   M           MOV.L   #_API_CAM_DRV_DNM_DIR_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31915 00006B84 400B                   M           JSR     @R0                     ;
31916 00006B86 0009                   M           NOP                                     ;
31917                           10395             .AENDI
31918                           10396     ;       ---------------------------------------------
31919                           10397     
31920                           10398             SUB_END
31921                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31922 00006B88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31923                           10399             M_RTS
31924 00006B8A 000B                   M           RTS                             ;RTSの後ろの
31925 00006B8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31926                           10400     
31927                           10401     ;       ***************************************************
31928                           10402     ;       ***                                             ***
31929                           10403     ;       ***     ふりこ　連続の次のサイクル開始          ***
31930                           10404     ;       ***             運転釦起動もここ                ***
31931                           10405     ;       ***************************************************
31932                           10406     ;       ここでオーバライド演算も追加する(2010-10-05)
31933                           10407     ;
31934                                     ***** BEGIN-POOL *****
31935 00006B8E 0000                       ALIGNMENT CODE
31936 00006B90 00000000                   DATA FOR SOURCE-LINE 10372
31937 00006B94 00000000                   DATA FOR SOURCE-LINE 10375
31938 00006B98 00000000                   DATA FOR SOURCE-LINE 10380
31939 00006B9C 00000000                   DATA FOR SOURCE-LINE 10386
31940 00006BA0 00000000                   DATA FOR SOURCE-LINE 10390
31941 00006BA4 00000000                   DATA FOR SOURCE-LINE 10394
31942                                     ***** END-POOL *****
31943 00006BA8                  10408     _DNM_CYCLE_START:                               ;
31944                           10409             SUB_START                               ;
31945 00006BA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31946                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31947                           10410     
31948                           10411              .AIF   1 EQ 1  ;
31949                           10412 C   ;       -------- 2016-10-31 ADD 二重回路対策
31950                           10413              .AENDI
31951                           10414     ;       ---2016-06-13--
31952                           10415             UP_TIME LG=W,MEM_ADR=_DBG_DNM_STR_CNT,WKREG1=R1,WKREG2=R0
31953 00006BAA D10B                   M           MOV.L   #_DBG_DNM_STR_CNT,R1            ;SORCE ADRESS SET
31954 00006BAC 6011                   M           MOV.W   @R1,R0          ;
31955 00006BAE 7001                   M           ADD     #1,R0                   ;
31956 00006BB0 2008                   M           TST     R0,R0                   ;
31957                                 M           TST_BIT_OF JMP_0100024                  ;ZERO THEN JUMP
31958 00006BB2 8900                   M           BT      JMP_0100024
31959 00006BB4 2101                   M           MOV.W   R0,@R1          ;STORE
31960 00006BB6                        M   JMP_0100024:                                    ;
31961                           10416     
31962                           10417     
31963 00006BB6 222A             10418             XOR     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   464
PROGRAM NAME =

31964 00006BB8 D108             10419             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
31965 00006BBA 6011             10420             MOV.W   @R1,R0                          ;
31966 00006BBC C804             10421             TST     #_DMATH_DNDRIV,R0               ;
31967                           10422             TST_BIT_OF DNM_CYCLE_STR_100            ;
31968 00006BBE 8917                   M           BT      DNM_CYCLE_STR_100
31969                           10423     
31970 00006BC0 D107             10424             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
31971 00006BC2 6211             10425             MOV.W   @R1,R2                          ;
31972 00006BC4 D107             10426             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
31973 00006BC6 2121             10427             MOV.W   R2,@R1                          ;
31974                           10428     
31975                           10429     ;       ----------------[2014-11-10 add]---------
31976 00006BC8 D107             10430             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
31977 00006BCA 2121             10431             MOV.W   R2,@R1                          ;
31978                           10432     
31979                           10433             FAR_JSR #_CPOS_INI1_DTMOV2,R0
31980 00006BCC D007                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31981 00006BCE 400B                   M           JSR     @R0                     ;
31982 00006BD0 0009                   M           NOP                                     ;
31983                           10434             M_BRA   DNM_CYCLE_STR_200               ;
31984 00006BD2 A00F                   M           BRA     DNM_CYCLE_STR_200
31985 00006BD4 0009                   M           NOP
31986                           10435     
31987                                     ***** BEGIN-POOL *****
31988 00006BD6 0000                       ALIGNMENT CODE
31989 00006BD8 00000000                   DATA FOR SOURCE-LINE 10415
31990 00006BDC 00000000                   DATA FOR SOURCE-LINE 10419
31991 00006BE0 00000000                   DATA FOR SOURCE-LINE 10424
31992 00006BE4 00000000                   DATA FOR SOURCE-LINE 10426
31993 00006BE8 00000000                   DATA FOR SOURCE-LINE 10430
31994 00006BEC 00000000                   DATA FOR SOURCE-LINE 10433
31995                                     ***** END-POOL *****
31996 00006BF0                  10436     DNM_CYCLE_STR_100:
31997 00006BF0 D106             10437             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
31998 00006BF2 2121             10438             MOV.W   R2,@R1                          ;
31999                           10439     
32000 00006BF4                  10440     DNM_CYCLE_STR_200:
32001                           10441     
32002                           10442     
32003                           10443     ;---------- (ここには全ての起動がくる)------------
32004                           10444             .AIF    0 EQ    0
32005 00006BF4 D106             10445 C           MOV.L   #_MODE_SEL,R1                                   ;2016-11-16
32006 00006BF6 6011             10446 C           MOV.W   @R1,R0                                          ;2016-11-16
32007 00006BF8 C83E             10447 C           TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT+_W1DIC,R0          ;2016-11-16(段取寸動も対象
                                          )
32008                           10448 C           TST_BIT_OF DNM_CYCLE_STR_CAM_SET300                     ;2016-11-16
32009 00006BFA 8904                   M           BT      DNM_CYCLE_STR_CAM_SET300
32010                           10449 C   
32011 00006BFC D103             10450 C           MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//
32012 00006BFE 6211             10451 C           MOV.W   @R1,R2                                  ;
32013                           10452 C           FAR_JSR #_API_CAM_DRV_DNM_DIR_SET,R0            ;2016-11-16
32014 00006C00 D004                   M           MOV.L   #_API_CAM_DRV_DNM_DIR_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32015 00006C02 400B                   M           JSR     @R0                     ;
32016 00006C04 0009                   M           NOP                                     ;
32017                           10453 C   
32018 00006C06                  10454 C   DNM_CYCLE_STR_CAM_SET300
32019                           10455             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   465
PROGRAM NAME =

32020                           10456     ;       ---------------------------------------------
32021                           10457     
32022                           10458     
32023                           10459             SUB_END
32024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32025 00006C06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32026                           10460             M_RTS
32027 00006C08 000B                   M           RTS                             ;RTSの後ろの
32028 00006C0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32029                           10461     
32030                           10462     ;       ***************************
32031                           10463     ;       ***     1MS-MAINでCALL  ***
32032                           10464     ;       ***************************
32033                           10465             .EXPORT _DNM_MATH_ELSE_DAT_MAKE
32034                           10466     
32035                           10467     
32036                                     ***** BEGIN-POOL *****
32037 00006C0C 00000000                   DATA FOR SOURCE-LINE 10437,10450
32038 00006C10 00000000                   DATA FOR SOURCE-LINE 10445
32039 00006C14 00000000                   DATA FOR SOURCE-LINE 10452
32040                                     ***** END-POOL *****
32041 00006C18                  10468     _DNM_MATH_ELSE_DAT_MAKE:
32042                           10469             SUB_START
32043 00006C18 4F22                   M           STS.L   PR,@-R15                ;[必要]
32044                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32045 00006C1A D10D             10470             MOV.L   #_INC_ENC360,R1                                 ;
32046 00006C1C 6211             10471             MOV.W   @R1,R2
32047                           10472     
32048 00006C1E D10D             10473             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32049 00006C20 6011             10474             MOV.W   @R1,R0                          ;
32050 00006C22 C804             10475             TST     #_DMATH_DNDRIV,R0               ;
32051                           10476             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;
32052 00006C24 890E                   M           BT      DNM_MATH_ELSE_DATMK100
32053                           10477     
32054 00006C26 D10C             10478             MOV.L   #_MODE_SEL,R1                                           ;
32055 00006C28 6011             10479             MOV.W   @R1,R0                                                  ;
32056 00006C2A C81E             10480             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                         ;
32057                           10481             TST_BIT_OF DNM_MATH_ELSE_DATMK100                               ;
32058 00006C2C 890A                   M           BT      DNM_MATH_ELSE_DATMK100
32059                           10482     
32060 00006C2E D10B             10483             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;
32061 00006C30 6011             10484             MOV.W   @R1,R0                          ;
32062                           10485     
32063                           10486     ;;;;2013-02-15不要      MOV.W   @R1,R3                          ;必ず同じになる
32064                           10487     ;;;;2013-02-15不要      CMP/EQ  R0,R3                           ;
32065                           10488     ;;;;2013-02-15不要      BF      DNM_MATH_ELSE_DATMK050          ;違ったら更新したかったの
                                          かな？
32066                           10489     
32067 00006C32 D10B             10490             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32068 00006C34 2101             10491             MOV.W   R0,@R1                          ;動作・動かしたいデータが同じ
32069                           10492     
32070                           10493     ;;;;2013-02-15不要      DNM_MATH_ELSE_DATMK050:
32071 00006C36 D10A             10494             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;
32072 00006C38 6011             10495             MOV.W   @R1,R0                          ;
32073 00006C3A 2008             10496             TST     R0,R0                           ;
32074                           10497             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;180
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   466
PROGRAM NAME =

32075 00006C3C 8902                   M           BT      DNM_MATH_ELSE_DATMK100
32076                           10498     
32077                           10499             FAR_JSR #_DIG01_CHG_DN_DATA_MAKE,R0     ;上限が0度　下限が180で左右同じじゃないとｸ
                                          ﾗﾝｸに戻す必要有り
32078 00006C3E D009                   M           MOV.L   #_DIG01_CHG_DN_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32079 00006C40 400B                   M           JSR     @R0                     ;
32080 00006C42 0009                   M           NOP                                     ;
32081                           10500     
32082 00006C44                  10501     DNM_MATH_ELSE_DATMK100:
32083 00006C44 D108             10502             MOV.L   #_DNM_CTL_INC3600,R1            ;//CAM、ﾛｯﾄｶｳﾝﾀ、荷重用
32084 00006C46 2121             10503             MOV.W   R2,@R1                          ;
32085                           10504     
32086                           10505             SUB_END
32087                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32088 00006C48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32089                           10506             M_RTS
32090 00006C4A 000B                   M           RTS                             ;RTSの後ろの
32091 00006C4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32092                           10507     
32093                           10508     ;       ***********************************
32094                           10509     ;       ***     2015-04-08              ***
32095                           10510     ;       ***     工程集終了ﾊﾝﾄﾞｼｪｲｸ      ***
32096                           10511     ;       ***********************************
32097                                     ***** BEGIN-POOL *****
32098 00006C4E 0000                       ALIGNMENT CODE
32099 00006C50 00000000                   DATA FOR SOURCE-LINE 10470
32100 00006C54 00000000                   DATA FOR SOURCE-LINE 10473
32101 00006C58 00000000                   DATA FOR SOURCE-LINE 10478
32102 00006C5C 00000000                   DATA FOR SOURCE-LINE 10483
32103 00006C60 00000000                   DATA FOR SOURCE-LINE 10490,10494
32104 00006C64 00000000                   DATA FOR SOURCE-LINE 10499
32105 00006C68 00000000                   DATA FOR SOURCE-LINE 10502
32106                                     ***** END-POOL *****
32107 00006C6C                  10512     _ENDHAND_WAIT_TIMCNT
32108                           10513             SUB_START
32109 00006C6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32110                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32111                           10514     
32112 00006C6E D105             10515             MOV.L   #_CMPSTEP_STEP_END,R1           ;
32113 00006C70 6011             10516             MOV.W   @R1,R0                          ;
32114 00006C72 2008             10517             TST     R0,R0                           ;
32115                           10518             TST_BIT_ON ENDHAND_WAIT_TIMC100         ;[ﾆｱｾﾞﾛ確認が終わっている]
32116 00006C74 8B0A                   M           BF      ENDHAND_WAIT_TIMC100
32117 00006C76 9203             10519             MOV.W   #D'10,R2                        ;10msec
32118 00006C78 D103             10520             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32119 00006C7A 2121             10521             MOV.W   R2,@R1                          ;
32120                           10522             M_BRA   ENDHAND_WAIT_TIMC200
32121 00006C7C A00C                   M           BRA     ENDHAND_WAIT_TIMC200
32122 00006C7E 0009                   M           NOP
32123                           10523     
32124                                     ***** BEGIN-POOL *****
32125 00006C80 000A                       DATA FOR SOURCE-LINE 10519
32126 00006C82 0000                       ALIGNMENT CODE
32127 00006C84 00000000                   DATA FOR SOURCE-LINE 10515
32128 00006C88 00000000                   DATA FOR SOURCE-LINE 10520
32129                                     ***** END-POOL *****
32130 00006C8C                  10524     ENDHAND_WAIT_TIMC100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   467
PROGRAM NAME =

32131                           10525             DN_TIME LG=W,MEM_ADR=_ENDHAND_TIMOUT_PV,WKREG1=R1,WKREG2=R2     ;
32132 00006C8C D104                   M           MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;SORCE ADRESS SET
32133 00006C8E 6211                   M           MOV.W   @R1,R2          ;
32134 00006C90 2228                   M           TST     R2,R2                   ;
32135 00006C92 8901                   M           BT      JMP_0100025                     ;ZERO THEN JUMP
32136 00006C94 4210                   M           DT      R2                              ;
32137 00006C96 2121                   M           MOV.W   R2,@R1          ;STORE
32138 00006C98                        M   JMP_0100025:
32139 00006C98                  10526     ENDHAND_WAIT_TIMC200
32140                           10527             SUB_END
32141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32142 00006C98 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32143                           10528             M_RTS
32144 00006C9A 000B                   M           RTS                             ;RTSの後ろの
32145 00006C9C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32146                           10529     
32147                           10530     ;       ANS R0!=0 ﾊﾝﾄﾞｼｪｲｸを強制実行
32148                           10531             .EXPORT _API_ENDHAND_SIGCHK
32149                                     ***** BEGIN-POOL *****
32150 00006C9E 0000                       ALIGNMENT CODE
32151 00006CA0 00000000                   DATA FOR SOURCE-LINE 10525
32152                                     ***** END-POOL *****
32153 00006CA4                  10532     _API_ENDHAND_SIGCHK
32154                           10533             SUB_START
32155 00006CA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32156                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32157 00006CA6 D107             10534             MOV.L   #_CMPSTEP_STEP_END,R1   ;
32158 00006CA8 6011             10535             MOV.W   @R1,R0                  ;
32159 00006CAA C804             10536             TST     #BIT2,R0                ;
32160                           10537             TST_BIT_ON API_ENDHANDSIGCHK_EXT
32161 00006CAC 8B06                   M           BF      API_ENDHANDSIGCHK_EXT
32162                           10538     
32163 00006CAE C803             10539             TST     #(BIT1+BIT0),R0                 ;
32164                           10540             TST_BIT_OF API_ENDHANDSIGCHK_100        ;
32165 00006CB0 8903                   M           BT      API_ENDHANDSIGCHK_100
32166                           10541     
32167 00006CB2 D105             10542             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32168 00006CB4 6111             10543             MOV.W   @R1,R1                          ;
32169 00006CB6 2118             10544             TST     R1,R1                           ;
32170                           10545             TST_BIT_ON API_ENDHANDSIGCHK_EXT        ;TIME ｱｯﾌﾟ前
32171 00006CB8 8B00                   M           BF      API_ENDHANDSIGCHK_EXT
32172 00006CBA                  10546     API_ENDHANDSIGCHK_100
32173 00006CBA 200A             10547             XOR     R0,R0
32174 00006CBC                  10548     API_ENDHANDSIGCHK_EXT
32175                           10549     
32176                           10550             SUB_END
32177                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32178 00006CBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32179                           10551             M_RTS
32180 00006CBE 000B                   M           RTS                             ;RTSの後ろの
32181 00006CC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32182                           10552     
32183                           10553     ;       *******************************************
32184                           10554     ;       ***                                     ***
32185                           10555     ;       ***                                     ***
32186                           10556     ;       ***                                     ***
32187                           10557     ;       ***     モーション繰り返し              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   468
PROGRAM NAME =

32188                           10558     ;       ***     位置決め部                      ***
32189                           10559     ;       ***                                     ***
32190                           10560     ;       *******************************************
32191                           10561     ;
32192                           10562     ;非常停止,ｻｲｸﾙ終了後の初起動時
32193                           10563     ;非常停止(exqは運転継続だからCLRしない)
32194                           10564     ;ｻｲｸﾙ終了
32195                           10565     ;ﾘﾋﾟｰﾄ終了
32196                           10566     ;[EXQはｸﾘｱしない：運転継続だから]
32197                           10567     ;
32198                           10568     ;BIT0(ﾘﾋﾟｰﾄ戻り中)
32199                           10569     ;BIT1(ﾚﾋﾟｰﾄ戻演算しろ)
32200                           10570     ;BIT2(ﾘﾋﾟｰﾄ戻り→ﾘﾋﾟｰﾄ開始)
32201                           10571     ;
32202                           10572     
32203                                     ***** BEGIN-POOL *****
32204 00006CC2 0000                       ALIGNMENT CODE
32205 00006CC4 00000000                   DATA FOR SOURCE-LINE 10534
32206 00006CC8 00000000                   DATA FOR SOURCE-LINE 10542
32207                                     ***** END-POOL *****
32208 00006CCC                  10573             .ALIGN  4                                       ;
32209 00006CCC                  10574     _MOT_REP_CLR                                    ;
32210                           10575             SUB_START
32211 00006CCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32212                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32213 00006CCE 200A             10576             XOR     R0,R0                           ;
32214 00006CD0 D103             10577             MOV.L   #_MOT_REP_CNT,R1                ;
32215 00006CD2 2101             10578             MOV.W   R0,@R1                          ;
32216 00006CD4 D103             10579             MOV.L   #_MOT_REP_F,R1                  ;
32217 00006CD6 2101             10580             MOV.W   R0,@R1                          ;
32218                           10581             SUB_END
32219                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32220 00006CD8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32221                           10582             M_RTS
32222 00006CDA 000B                   M           RTS                             ;RTSの後ろの
32223 00006CDC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32224                           10583     
32225                           10584     ;       -----------ｽﾃｯﾌﾟ終了時CHECK-------------
32226                                     ***** BEGIN-POOL *****
32227 00006CDE 0000                       ALIGNMENT CODE
32228 00006CE0 00000000                   DATA FOR SOURCE-LINE 10577
32229 00006CE4 00000000                   DATA FOR SOURCE-LINE 10579
32230                                     ***** END-POOL *****
32231 00006CE8                  10585     _MOT_REP_STEPCHK
32232                           10586             SUB_START
32233 00006CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32234                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32235                           10587     
32236 00006CEA D108             10588             MOV.L   #_SET1_MOTREP_USEFUL,R1         ;
32237 00006CEC 6011             10589             MOV.W   @R1,R0                          ;
32238 00006CEE 2008             10590             TST     R0,R0                           ;
32239                           10591             TST_BIT_OF MOT_REP_STEPCK_EXT           ;
32240 00006CF0 8935                   M           BT      MOT_REP_STEPCK_EXT
32241                           10592     
32242 00006CF2 D107             10593             MOV.L   #_MOT_REP_F,R1                  ;
32243 00006CF4 6011             10594             MOV.W   @R1,R0                          ;
32244 00006CF6 C801             10595             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ戻り実行中?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   469
PROGRAM NAME =

32245                           10596             TST_BIT_OF MOT_REP_STEPCK_100           ;NO
32246 00006CF8 890E                   M           BT      MOT_REP_STEPCK_100
32247                           10597     
32248 00006CFA E004             10598             MOV.B   #BIT2,R0                        ;戻り開始工程演算しろ
32249 00006CFC D104             10599             MOV.L   #_MOT_REP_F,R1                  ;BIT2:CLR
32250 00006CFE 2101             10600             MOV.W   R0,@R1                          ;
32251                           10601     
32252                           10602     
32253                           10603             FAR_JSR #_DEBUG_BRK_POINT1,R0           ;
32254 00006D00 D004                   M           MOV.L   #_DEBUG_BRK_POINT1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32255 00006D02 400B                   M           JSR     @R0                     ;
32256 00006D04 0009                   M           NOP                                     ;
32257                           10604     
32258                           10605             M_BRA   MOT_REP_STEPCK_EXT              ;
32259 00006D06 A02A                   M           BRA     MOT_REP_STEPCK_EXT
32260 00006D08 0009                   M           NOP
32261                           10606     
32262                           10607     
32263                           10608     
32264                           10609     
32265                                     ***** BEGIN-POOL *****
32266 00006D0A 0000                       ALIGNMENT CODE
32267 00006D0C 00000000                   DATA FOR SOURCE-LINE 10588
32268 00006D10 00000000                   DATA FOR SOURCE-LINE 10593,10599
32269 00006D14 00000000                   DATA FOR SOURCE-LINE 10603
32270                                     ***** END-POOL *****
32271 00006D18                  10610     MOT_REP_STEPCK_100
32272 00006D18 D10A             10611             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
32273 00006D1A 6011             10612             MOV.W   @R1,R0                          ;
32274 00006D1C D10A             10613             MOV.L   #_SET1_MOTREP_STGE,R1           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32275 00006D1E 6211             10614             MOV.W   @R1,R2                          ;
32276 00006D20 3020             10615             CMP/EQ  R2,R0                           ;
32277 00006D22 8B1C             10616             BF      MOT_REP_STEPCK_EXT              ;終了ｽﾃｯﾌﾟ?
32278                           10617     
32279 00006D24 D109             10618             MOV.L   #_SET1_MOTREP_CNT,R1            ;//繰り返し回数
32280 00006D26 6311             10619             MOV.W   @R1,R3                          ;
32281 00006D28 2338             10620             TST     R3,R3                           ;
32282                           10621             TST_BIT_OF MOT_REP_STEPCK_EXT
32283 00006D2A 8918                   M           BT      MOT_REP_STEPCK_EXT
32284                           10622     
32285 00006D2C D408             10623             MOV.L   #_MOT_REP_CNT,R4                ;
32286 00006D2E 6241             10624             MOV.W   @R4,R2                          ;
32287 00006D30 3232             10625             CMP/HS  R3,R2                           ;設定<=CNT
32288 00006D32 8911             10626             BT      MOT_REP_STEPCK_200              ;終了
32289 00006D34 7201             10627             ADD     #1,R2                           ;
32290 00006D36 2421             10628             MOV.W   R2,@R4                          ;
32291                           10629     
32292                           10630     ;       ------- 戻る----------
32293 00006D38 E003             10631             MOV.B   #(BIT1+BIT0),R0                 ;戻り実行中、戻り演算しろ
32294 00006D3A D106             10632             MOV.L   #_MOT_REP_F,R1                  ;
32295 00006D3C 2101             10633             MOV.W   R0,@R1                          ;
32296                           10634             M_BRA   MOT_REP_STEPCK_EXT              ;
32297 00006D3E A00E                   M           BRA     MOT_REP_STEPCK_EXT
32298 00006D40 0009                   M           NOP
32299                           10635     
32300                           10636     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   470
PROGRAM NAME =

32301                                     ***** BEGIN-POOL *****
32302 00006D42 0000                       ALIGNMENT CODE
32303 00006D44 00000000                   DATA FOR SOURCE-LINE 10611
32304 00006D48 00000000                   DATA FOR SOURCE-LINE 10613
32305 00006D4C 00000000                   DATA FOR SOURCE-LINE 10618
32306 00006D50 00000000                   DATA FOR SOURCE-LINE 10623
32307 00006D54 00000000                   DATA FOR SOURCE-LINE 10632
32308                                     ***** END-POOL *****
32309 00006D58                  10637     MOT_REP_STEPCK_200
32310                           10638             FAR_JSR #_MOT_REP_CLR,R0                ;
32311 00006D58 D002                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32312 00006D5A 400B                   M           JSR     @R0                     ;
32313 00006D5C 0009                   M           NOP                                     ;
32314                           10639     
32315 00006D5E                  10640     MOT_REP_STEPCK_EXT
32316                           10641             SUB_END
32317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32318 00006D5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32319                           10642             M_RTS
32320 00006D60 000B                   M           RTS                             ;RTSの後ろの
32321 00006D62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32322                           10643     
32323                           10644     
32324                                     ***** BEGIN-POOL *****
32325 00006D64 00000000                   DATA FOR SOURCE-LINE 10638
32326                                     ***** END-POOL *****
32327 00006D68                  10645     _MOT_REPSTART_CALC:
32328                           10646             SUB_START
32329 00006D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
32330                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32331                           10647     
32332 00006D6A D108             10648             MOV.L   #_SET1_MOTREP_SPD,R1            ;//一定速度時の速度
32333 00006D6C 6212             10649             MOV.L   @R1,R2                          ;
32334 00006D6E D108             10650             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
32335 00006D70 2122             10651             MOV.L   R2,@R1                          ;
32336                           10652     
32337                           10653     
32338                           10654             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
32339 00006D72 D108                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32340 00006D74 410B                   M           JSR     @R1                     ;
32341 00006D76 0009                   M           NOP                                     ;
32342                           10655     
32343 00006D78 D407             10656             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32344 00006D7A 6041             10657             MOV.W   @R4,R0                          ;
32345 00006D7C 8801             10658             CMP/EQ  #1,R0                           ;
32346 00006D7E 8B0F             10659             BF      MOT_REPSTART_CL050              ;
32347 00006D80 D406             10660             MOV.L   #_CPOS_SDAT1_UP_POS,R4          ;//待機点または各段
32348 00006D82 6146             10661             MOV.L   @R4+,R1                         ;
32349 00006D84 6242             10662             MOV.L   @R4,R2                          ;(目標位置)
32350                           10663             M_BRA   MOT_REPSTART_CL100              ;
32351 00006D86 A012                   M           BRA     MOT_REPSTART_CL100
32352 00006D88 0009                   M           NOP
32353                           10664     
32354                                     ***** BEGIN-POOL *****
32355 00006D8A 0000                       ALIGNMENT CODE
32356 00006D8C 00000000                   DATA FOR SOURCE-LINE 10648
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   471
PROGRAM NAME =

32357 00006D90 00000000                   DATA FOR SOURCE-LINE 10650
32358 00006D94 00000000                   DATA FOR SOURCE-LINE 10654
32359 00006D98 00000000                   DATA FOR SOURCE-LINE 10656
32360 00006D9C 00000000                   DATA FOR SOURCE-LINE 10660
32361                                     ***** END-POOL *****
32362 00006DA0                  10665     MOT_REPSTART_CL050:
32363 00006DA0 70FE             10666             ADD     #-2,R0
32364 00006DA2 4008             10667             SHLL2   R0
32365 00006DA4 4000             10668             SHLL    R0
32366 00006DA6 D40C             10669             MOV.L   #_CPOS_SDAT1_CHGAPOS,R4         ;8byte
32367 00006DA8 340C             10670             ADD     R0,R4
32368 00006DAA 6146             10671             MOV.L   @R4+,R1                         ;
32369 00006DAC 6242             10672             MOV.L   @R4,R2                          ;(目標位置)
32370 00006DAE                  10673     MOT_REPSTART_CL100:
32371                           10674     
32372                           10675     
32373                           10676     ;       --------- 反転用---------------
32374 00006DAE D40B             10677             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32375 00006DB0 2412             10678             MOV.L   R1,@R4                          ;
32376 00006DB2 1421             10679             MOV.L   R2,@(4,R4)                      ;save
32377                           10680     
32378 00006DB4 D40A             10681             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
32379 00006DB6 2412             10682             MOV.L   R1,@R4                          ;
32380 00006DB8 1421             10683             MOV.L   R2,@(4,R4)                      ;save
32381                           10684     
32382                           10685     ;       -------- 通常用-----------------
32383                           10686             FAR_JSR #_LENGH_ADD_CALC,R0             ;
32384 00006DBA D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32385 00006DBC 400B                   M           JSR     @R0                     ;
32386 00006DBE 0009                   M           NOP                                     ;
32387                           10687     
32388 00006DC0 233A             10688             XOR     R3,R3                           ;
32389 00006DC2 4111             10689             CMP/PZ  R1                              ;+正転?
32390 00006DC4 8900             10690             BT      MOT_REPSTART_CL200              ;
32391 00006DC6 E301             10691             MOV     #BIT0,R3                        ;
32392 00006DC8                  10692     MOT_REPSTART_CL200:
32393 00006DC8 D107             10693             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
32394 00006DCA 6011             10694             MOV.W   @R1,R0                          ;
32395 00006DCC C9FE             10695             AND     #LOW ~BIT0,R0                   ;
32396 00006DCE 203B             10696             OR      R3,R0                           ;
32397 00006DD0 2101             10697             MOV.W   R0,@R1                          ;
32398                           10698     ;       ----------------------------------------
32399                           10699     
32400                           10700             SUB_END
32401                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32402 00006DD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32403                           10701             M_RTS
32404 00006DD4 000B                   M           RTS                             ;RTSの後ろの
32405 00006DD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32406                           10702     
32407                           10703     ;       *******************************************
32408                           10704     ;       ***                                     ***
32409                           10705     ;       ***                                     ***
32410                           10706     ;       ***                                     ***
32411                           10707     ;       ***     制動性能試験                    ***
32412                           10708     ;       ***                                     ***
32413                           10709     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   472
PROGRAM NAME =

32414                           10710     ;       *******************************************
32415                                     ***** BEGIN-POOL *****
32416 00006DD8 00000000                   DATA FOR SOURCE-LINE 10669
32417 00006DDC 00000000                   DATA FOR SOURCE-LINE 10677
32418 00006DE0 00000000                   DATA FOR SOURCE-LINE 10681
32419 00006DE4 00000000                   DATA FOR SOURCE-LINE 10686
32420 00006DE8 00000000                   DATA FOR SOURCE-LINE 10693
32421                                     ***** END-POOL *****
32422 00006DEC                  10711             .ALIGN  4                                               ;
32423                           10712             .INCLUDE        "ssa_btst.inc"          ;//2010-08-30
32424                               1 I1  ;       ***********************************
32425                               2 I1  ;       ***                             ***
32426                               3 I1  ;       ***     制動制御                ***
32427                               4 I1  ;       ***     位置決め部              ***
32428                               5 I1  ;       ***                             ***
32429                               6 I1  ;       ***********************************
32430                               7 I1  ;       ------- 2010-08-20[制動モード]
32431                               8 I1          .EXPORT _BRKTST_POS_START
32432                               9 I1  
32433 00006DEC                     10 I1          .ALIGN  4                               ;
32434 00006DEC                     11 I1  _BRKTST_POS_CTL:
32435                              12 I1          SUB_START
32436 00006DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32437                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32438 00006DEE D103                13 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32439 00006DF0 6011                14 I1          MOV.W   @R1,R0                          ;
32440 00006DF2 C808                15 I1          TST     #BIT3,R0                        ;
32441                              16 I1          TST_BIT_OF BRKTST_POSCTL_0020           ;
32442 00006DF4 8904                   M           BT      BRKTST_POSCTL_0020
32443                              17 I1          M_BRA   BRKTST_POSCTL_0800              ;非常停止中
32444 00006DF6 A099                   M           BRA     BRKTST_POSCTL_0800
32445 00006DF8 0009                   M           NOP
32446                              18 I1  
32447                                 I1  ***** BEGIN-POOL *****
32448 00006DFA 0000                   I1  ALIGNMENT CODE
32449 00006DFC 00000000               I1  DATA FOR SOURCE-LINE 13
32450                                 I1  ***** END-POOL *****
32451 00006E00                     19 I1  BRKTST_POSCTL_0020:
32452 00006E00 C801                20 I1          TST     #BIT0,R0                        ;
32453                              21 I1          TST_BIT_OF BRKTST_POSCTL_0040           ;
32454 00006E02 8901                   M           BT      BRKTST_POSCTL_0040
32455                              22 I1          M_BRA   BRKTST_POSCTL_0200              ;起動中
32456 00006E04 A064                   M           BRA     BRKTST_POSCTL_0200
32457 00006E06 0009                   M           NOP
32458                              23 I1  
32459                              24 I1  
32460 00006E08                     25 I1  BRKTST_POSCTL_0040:
32461 00006E08 D603                26 I1          MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
32462 00006E0A 6061                27 I1          MOV.W   @R6,R0                  ;
32463 00006E0C C907                28 I1          AND     #(BIT2+BIT1+BIT0),R0    ;
32464 00006E0E 8801                29 I1          CMP/EQ  #BIT0,R0                ;
32465 00006E10 8904                30 I1          BT      BRKTST_POSCTL_0048              ;001
32466                              31 I1          M_BRA   BRKTST_POSCTL_0190              ;EXIT
32467 00006E12 A035                   M           BRA     BRKTST_POSCTL_0190
32468 00006E14 0009                   M           NOP
32469                              32 I1  ;       ==== 通常の位置決め起動コマンド状態
32470                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   473
PROGRAM NAME =

32471 00006E16 0000                   I1  ALIGNMENT CODE
32472 00006E18 00000000               I1  DATA FOR SOURCE-LINE 26
32473                                 I1  ***** END-POOL *****
32474 00006E1C                     33 I1  BRKTST_POSCTL_0048:
32475                              34 I1  
32476 00006E1C 222A                35 I1          XOR     R2,R2
32477 00006E1E D11A                36 I1          MOV.L   #_INT_POS_STEP_FLG,R1   ;
32478 00006E20 2121                37 I1          MOV.W   R2,@R1                  ;
32479 00006E22 D11A                38 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
32480 00006E24 2121                39 I1          MOV.W   R2,@R1
32481 00006E26 D11A                40 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
32482 00006E28 2121                41 I1          MOV.W   R2,@R1                  ;
32483 00006E2A D11A                42 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
32484 00006E2C 2121                43 I1          MOV.W   R2,@R1                          ;
32485                              44 I1  
32486                              45 I1  ;       ------ ﾓｰｼｮﾝ運転 --------
32487 00006E2E D11A                46 I1          MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
32488 00006E30 6411                47 I1          MOV.W   @R1,R4                  ;
32489 00006E32 D21A                48 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
32490 00006E34 2241                49 I1          MOV.W   R4,@R2                  ;
32491                              50 I1  
32492                              51 I1  
32493                              52 I1          FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
32494 00006E36 D01A                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32495 00006E38 400B                   M           JSR     @R0                     ;
32496 00006E3A 0009                   M           NOP                                     ;
32497                              53 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
32498 00006E3C D019                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32499 00006E3E 400B                   M           JSR     @R0                     ;
32500 00006E40 0009                   M           NOP                                     ;
32501                              54 I1  
32502                              55 I1  
32503                              56 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0
32504 00006E42 D019                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32505 00006E44 400B                   M           JSR     @R0                     ;
32506 00006E46 0009                   M           NOP                                     ;
32507                              57 I1          FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
32508 00006E48 D018                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32509 00006E4A 400B                   M           JSR     @R0                     ;
32510 00006E4C 0009                   M           NOP                                     ;
32511                              58 I1  
32512                              59 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
32513 00006E4E D018                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32514 00006E50 400B                   M           JSR     @R0                     ;
32515 00006E52 0009                   M           NOP                                     ;
32516                              60 I1  
32517                              61 I1  ;       == 2004-03 ===
32518                              62 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
32519 00006E54 D017                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32520 00006E56 400B                   M           JSR     @R0                     ;
32521 00006E58 0009                   M           NOP                                     ;
32522 00006E5A 9013                63 I1          MOV.W   #D'2,R0                 ;
32523 00006E5C D116                64 I1          MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
32524 00006E5E 2101                65 I1          MOV.W   R0,@R1                          ;
32525                              66 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   474
PROGRAM NAME =

32526                              67 I1          FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
32527 00006E60 D016                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32528 00006E62 400B                   M           JSR     @R0                     ;
32529 00006E64 0009                   M           NOP                                     ;
32530                              68 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
32531 00006E66 D116                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32532 00006E68 410B                   M           JSR     @R1                     ;
32533 00006E6A 0009                   M           NOP                                     ;
32534                              69 I1  
32535                              70 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
32536 00006E6C D115                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32537 00006E6E 6011                   M           MOV.W   @R1,R0          ;
32538 00006E70 CB01                   M           OR      #BIT0,R0                ;
32539 00006E72 2101                   M           MOV.W   R0,@R1          ;
32540                              71 I1  
32541                              72 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
32542 00006E74 D014                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32543 00006E76 400B                   M           JSR     @R0                     ;
32544 00006E78 0009                   M           NOP                                     ;
32545                              73 I1  
32546                              74 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0
32547 00006E7A D014                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32548 00006E7C 400B                   M           JSR     @R0                     ;
32549 00006E7E 0009                   M           NOP                                     ;
32550                              75 I1  
32551 00006E80                     76 I1  BRKTST_POSCTL_0190:
32552                              77 I1          M_BRA   BRKTST_POSCTL_0800                      ;
32553 00006E80 A054                   M           BRA     BRKTST_POSCTL_0800
32554 00006E82 0009                   M           NOP
32555                              78 I1  
32556                              79 I1  ;       ===========================================
32557                              80 I1  ;       ===             起動中                  ===
32558                              81 I1  ;       ===========================================
32559                                 I1  ***** BEGIN-POOL *****
32560 00006E84 0002                   I1  DATA FOR SOURCE-LINE 63
32561 00006E86 0000                   I1  ALIGNMENT CODE
32562 00006E88 00000000               I1  DATA FOR SOURCE-LINE 36
32563 00006E8C 00000000               I1  DATA FOR SOURCE-LINE 38
32564 00006E90 00000000               I1  DATA FOR SOURCE-LINE 40
32565 00006E94 00000000               I1  DATA FOR SOURCE-LINE 42
32566 00006E98 00000000               I1  DATA FOR SOURCE-LINE 46
32567 00006E9C 00000000               I1  DATA FOR SOURCE-LINE 48
32568 00006EA0 00000000               I1  DATA FOR SOURCE-LINE 52
32569 00006EA4 00000000               I1  DATA FOR SOURCE-LINE 53
32570 00006EA8 00000000               I1  DATA FOR SOURCE-LINE 56
32571 00006EAC 00000000               I1  DATA FOR SOURCE-LINE 57
32572 00006EB0 00000000               I1  DATA FOR SOURCE-LINE 59
32573 00006EB4 00000000               I1  DATA FOR SOURCE-LINE 62
32574 00006EB8 00000000               I1  DATA FOR SOURCE-LINE 64
32575 00006EBC 00000000               I1  DATA FOR SOURCE-LINE 67
32576 00006EC0 00000000               I1  DATA FOR SOURCE-LINE 68
32577 00006EC4 00000000               I1  DATA FOR SOURCE-LINE 70
32578 00006EC8 00000000               I1  DATA FOR SOURCE-LINE 72
32579 00006ECC 00000000               I1  DATA FOR SOURCE-LINE 74
32580                                 I1  ***** END-POOL *****
32581 00006ED0                     82 I1  BRKTST_POSCTL_0200:
32582 00006ED0 D609                83 I1          MOV.L   #_MNWR_POS_CMD,R6                                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   475
PROGRAM NAME =

32583 00006ED2 6061                84 I1          MOV.W   @R6,R0                                                          ;
32584 00006ED4 8801                85 I1          CMP/EQ  #BIT0,R0                                                        ;
32585 00006ED6 8919                86 I1          BT      BRKTST_POSCTL_0240                                              ;
32586                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
32587 00006ED8 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32588 00006EDA 6011                   M           MOV.W   @R1,R0          ;
32589 00006EDC CB08                   M           OR      #BIT3,R0                ;
32590 00006EDE 2101                   M           MOV.W   R0,@R1          ;
32591                              88 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
32592 00006EE0 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32593 00006EE2 400B                   M           JSR     @R0                     ;
32594 00006EE4 0009                   M           NOP                                     ;
32595                              89 I1          FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
32596 00006EE6 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32597 00006EE8 400B                   M           JSR     @R0                     ;
32598 00006EEA 0009                   M           NOP                                     ;
32599                              90 I1          FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
32600 00006EEC D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32601 00006EEE 400B                   M           JSR     @R0                     ;
32602 00006EF0 0009                   M           NOP                                     ;
32603                              91 I1          M_BRA   BRKTST_POSCTL_0800                                                      ;
32604 00006EF2 A01B                   M           BRA     BRKTST_POSCTL_0800
32605 00006EF4 0009                   M           NOP
32606                              92 I1  
32607                              93 I1  
32608                                 I1  ***** BEGIN-POOL *****
32609 00006EF6 0000                   I1  ALIGNMENT CODE
32610 00006EF8 00000000               I1  DATA FOR SOURCE-LINE 83
32611 00006EFC 00000000               I1  DATA FOR SOURCE-LINE 87
32612 00006F00 00000000               I1  DATA FOR SOURCE-LINE 88
32613 00006F04 00000000               I1  DATA FOR SOURCE-LINE 89
32614 00006F08 00000000               I1  DATA FOR SOURCE-LINE 90
32615                                 I1  ***** END-POOL *****
32616 00006F0C                     94 I1  BRKTST_POSCTL_0240:
32617                              95 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
32618 00006F0C D009                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32619 00006F0E 400B                   M           JSR     @R0                     ;
32620 00006F10 0009                   M           NOP                                     ;
32621                              96 I1  
32622                              97 I1  ;       === FLAG SET(REST-PLS REFLASH-END)====
32623                              98 I1          eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
32624                                 M           PUSH_REG1 R1            ;
32625 00006F12 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
32626                                 M                                           ;REG=>[SP]
32627                                 M                                           ;"-4" FF,FF,FF,FC
32628                                 M           PUSH_REG1 R0            ;
32629 00006F14 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
32630                                 M                                           ;REG=>[SP]
32631                                 M                                           ;"-4" FF,FF,FF,FC
32632 00006F16 900C                   M           MOV.W   #1,R0           ;
32633 00006F18 D107                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
32634 00006F1A 2101                   M           MOV.W   R0,@R1  ;
32635                                 M           POP_REG1 R0             ;
32636                                 M                                   ; RE"+4" 00,00,00,04
32637 00006F1C 60F6                   M           MOV.L   @R15+,R0        ;
32638                                 M           POP_REG1 R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   476
PROGRAM NAME =

32639                                 M                                   ; RE"+4" 00,00,00,04
32640 00006F1E 61F6                   M           MOV.L   @R15+,R1        ;
32641                              99 I1  
32642                             100 I1  
32643                             101 I1  ;       === 2004-01-28===
32644                             102 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
32645 00006F20 D006                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32646 00006F22 400B                   M           JSR     @R0                     ;
32647 00006F24 0009                   M           NOP                                     ;
32648                             103 I1          FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
32649 00006F26 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32650 00006F28 400B                   M           JSR     @R0                     ;
32651 00006F2A 0009                   M           NOP                                     ;
32652                             104 I1  
32653                             105 I1          .AIF 0  EQ 1    ;2006-09-19
32654                             106             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
32655                             107             .AENDI
32656                             108 I1  
32657                             109 I1  
32658 00006F2C                    110 I1  BRKTST_POSCTL_0800:
32659                             111 I1  
32660                             112 I1          SUB_END
32661                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32662 00006F2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32663                             113 I1          M_RTS
32664 00006F2E 000B                   M           RTS                             ;RTSの後ろの
32665 00006F30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32666                             114 I1  
32667                             115 I1  ;       *******************************************
32668                             116 I1  ;       ***                                     ***
32669                             117 I1  ;       ***             目標位置作成            ***
32670                             118 I1  ;       ***                                     ***
32671                             119 I1  ;       *******************************************
32672                                 I1  ***** BEGIN-POOL *****
32673 00006F32 0001                   I1  DATA FOR SOURCE-LINE 98
32674 00006F34 00000000               I1  DATA FOR SOURCE-LINE 95
32675 00006F38 00000000               I1  DATA FOR SOURCE-LINE 98
32676 00006F3C 00000000               I1  DATA FOR SOURCE-LINE 102
32677 00006F40 00000000               I1  DATA FOR SOURCE-LINE 103
32678                                 I1  ***** END-POOL *****
32679 00006F44                    120 I1          .ALIGN  4                               ;
32680 00006F44                    121 I1  _BRKTST_POS_START:
32681                             122 I1          SUB_START
32682 00006F44 4F22                   M           STS.L   PR,@-R15                ;[必要]
32683                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32684                             123 I1  
32685                             124 I1  ;       ----------2014-11-10------------
32686 00006F46 200A               125 I1          XOR     R0,R0
32687 00006F48 D12C               126 I1          MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
32688 00006F4A 2101               127 I1          MOV.W   R0,@R1                          ;
32689                             128 I1  ;       ----------------------------------
32690                             129 I1  
32691                             130 I1  
32692                             131 I1  ;       === 目標位置生成=========
32693                             132 I1          FAR_JSR #_BRKTST_OBJ_MAKE,R0
32694 00006F4C D02C                   M           MOV.L   #_BRKTST_OBJ_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   477
PROGRAM NAME =

32695 00006F4E 400B                   M           JSR     @R0                     ;
32696 00006F50 0009                   M           NOP                                     ;
32697                             133 I1  
32698                             134 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
32699 00006F52 D02C                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32700 00006F54 400B                   M           JSR     @R0                     ;
32701 00006F56 0009                   M           NOP                                     ;
32702                             135 I1          FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
32703 00006F58 D02B                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32704 00006F5A 400B                   M           JSR     @R0                     ;
32705 00006F5C 0009                   M           NOP                                     ;
32706                             136 I1  
32707                             137 I1          FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
32708 00006F5E D02B                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32709 00006F60 400B                   M           JSR     @R0                     ;
32710 00006F62 0009                   M           NOP                                     ;
32711                             138 I1          FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
32712 00006F64 D02A                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32713 00006F66 400B                   M           JSR     @R0                     ;
32714 00006F68 0009                   M           NOP                                     ;
32715                             139 I1  
32716 00006F6A 222A               140 I1          XOR     R2,R2
32717 00006F6C D129               141 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
32718 00006F6E 2121               142 I1          MOV.W   R2,@R1
32719 00006F70 D129               143 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
32720 00006F72 2121               144 I1          MOV.W   R2,@R1
32721                             145 I1  
32722 00006F74 200A               146 I1          XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
32723 00006F76 D129               147 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32724 00006F78 2101               148 I1          MOV.W   R0,@R1                          ;
32725                             149 I1  
32726                             150 I1  ;       === 2004-12-20 ===
32727 00006F7A D129               151 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
32728 00006F7C 2101               152 I1          MOV.W   R0,@R1                          ;
32729                             153 I1  
32730                             154 I1          FAR_JSR #_CNTREST_HOS_RESET,R1  ;
32731 00006F7E D129                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32732 00006F80 410B                   M           JSR     @R1                     ;
32733 00006F82 0009                   M           NOP                                     ;
32734                             155 I1  
32735                             156 I1  ;       === 2004-01-26 CCS===
32736 00006F84 200A               157 I1          XOR     R0,R0
32737 00006F86 D128               158 I1          MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
32738 00006F88 2101               159 I1          MOV.W   R0,@R1                          ;
32739                             160 I1  
32740                             161 I1  
32741                             162 I1  ;       ====== 一旦停止信号OFF=====
32742                             163 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
32743 00006F8A D128                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
32744 00006F8C 6011                   M           MOV.W   @R1,R0          ;
32745 00006F8E 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
32746 00006F90 2049                   M           AND     R4,R0           ;
32747 00006F92 2101                   M           MOV.W   R0,@R1          ;
32748                             164 I1  
32749                             165 I1          FAR_JSR #_CMPCYC_START_CLR,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   478
PROGRAM NAME =

32750 00006F94 D026                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32751 00006F96 400B                   M           JSR     @R0                     ;
32752 00006F98 0009                   M           NOP                                     ;
32753                             166 I1          FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
32754 00006F9A D026                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32755 00006F9C 400B                   M           JSR     @R0                     ;
32756 00006F9E 0009                   M           NOP                                     ;
32757                             167 I1  
32758                             168 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
32759 00006FA0 D025                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32760 00006FA2 400B                   M           JSR     @R0                     ;
32761 00006FA4 0009                   M           NOP                                     ;
32762                             169 I1  
32763                             170 I1          FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
32764 00006FA6 D025                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32765 00006FA8 400B                   M           JSR     @R0                     ;
32766 00006FAA 0009                   M           NOP                                     ;
32767                             171 I1          FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
32768 00006FAC D024                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32769 00006FAE 400B                   M           JSR     @R0                     ;
32770 00006FB0 0009                   M           NOP                                     ;
32771                             172 I1  
32772                             173 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
32773 00006FB2 D024                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32774 00006FB4 400B                   M           JSR     @R0                     ;
32775 00006FB6 0009                   M           NOP                                     ;
32776                             174 I1  
32777 00006FB8 200A               175 I1          XOR     R0,R0                   ;
32778 00006FBA D123               176 I1          MOV.L   #_INT_CYC_DRV_STS,R1    ;
32779 00006FBC 2101               177 I1          MOV.W   R0,@R1                  ;
32780 00006FBE D123               178 I1          MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
32781 00006FC0 2101               179 I1          MOV.W   R0,@R1                  ;
32782 00006FC2 D123               180 I1          MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
32783 00006FC4 2101               181 I1          MOV.W   R0,@R1                  ;
32784 00006FC6 D123               182 I1          MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
32785 00006FC8 2101               183 I1          MOV.W   R0,@R1                  ;
32786                             184 I1  ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
32787                             185 I1  ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
32788                             186 I1  
32789                             187 I1  
32790                             188 I1  
32791                             189 I1  
32792 00006FCA D123               190 I1          MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
32793 00006FCC 200A               191 I1          XOR     R0,R0                           ;
32794 00006FCE 2101               192 I1          MOV.W   R0,@R1                          ;
32795                             193 I1  
32796                             194 I1  
32797 00006FD0 9012               195 I1          MOV.W   #BIT0,R0                        ;起動
32798 00006FD2 D122               196 I1          MOV.L   #_MNWR_POS_CMD,R1               ;
32799 00006FD4 2101               197 I1          MOV.W   R0,@R1                          ;
32800                             198 I1  
32801                             199 I1  ;       --------2009-04-01 起動したらフラグクリア[原点時の]
32802                             200 I1          MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
32803 00006FD6 D422                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
32804 00006FD8 6041                   M           MOV.W   @R4,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   479
PROGRAM NAME =

32805 00006FDA 910E                   M           MOV.W   #LWORD (~BIT5),R1       ;
32806 00006FDC 2019                   M           AND     R1,R0           ;
32807 00006FDE 2401                   M           MOV.W   R0,@R4          ;
32808                             201 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
32809 00006FE0 D420                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
32810 00006FE2 6041                   M           MOV.W   @R4,R0          ;
32811 00006FE4 9109                   M           MOV.W   #LWORD (~BIT5),R1       ;
32812 00006FE6 2019                   M           AND     R1,R0           ;
32813 00006FE8 2401                   M           MOV.W   R0,@R4          ;
32814                             202 I1  
32815                             203 I1  ;       ------- 起動------------
32816 00006FEA 9005               204 I1          MOV.W   #BIT0,R0                ;
32817 00006FEC D11E               205 I1          MOV.L   #_BRKTST_STR_FLG,R1     ;
32818 00006FEE 2101               206 I1          MOV.W   R0,@R1                  ;
32819                             207 I1  
32820                             208 I1          SUB_END
32821                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32822 00006FF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32823                             209 I1          M_RTS
32824 00006FF2 000B                   M           RTS                             ;RTSの後ろの
32825 00006FF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32826                             210 I1  
32827                             211 I1  
32828                                 I1  ***** BEGIN-POOL *****
32829 00006FF6 FDFF                   I1  DATA FOR SOURCE-LINE 163
32830 00006FF8 0001                   I1  DATA FOR SOURCE-LINE 195,204
32831 00006FFA FFDF                   I1  DATA FOR SOURCE-LINE 200,201
32832 00006FFC 00000000               I1  DATA FOR SOURCE-LINE 126
32833 00007000 00000000               I1  DATA FOR SOURCE-LINE 132
32834 00007004 00000000               I1  DATA FOR SOURCE-LINE 134
32835 00007008 00000000               I1  DATA FOR SOURCE-LINE 135
32836 0000700C 00000000               I1  DATA FOR SOURCE-LINE 137
32837 00007010 00000000               I1  DATA FOR SOURCE-LINE 138
32838 00007014 00000000               I1  DATA FOR SOURCE-LINE 141
32839 00007018 00000000               I1  DATA FOR SOURCE-LINE 143
32840 0000701C 00000000               I1  DATA FOR SOURCE-LINE 147
32841 00007020 00000000               I1  DATA FOR SOURCE-LINE 151
32842 00007024 00000000               I1  DATA FOR SOURCE-LINE 154
32843 00007028 00000000               I1  DATA FOR SOURCE-LINE 158
32844 0000702C 00000000               I1  DATA FOR SOURCE-LINE 163
32845 00007030 00000000               I1  DATA FOR SOURCE-LINE 165
32846 00007034 00000000               I1  DATA FOR SOURCE-LINE 166
32847 00007038 00000000               I1  DATA FOR SOURCE-LINE 168
32848 0000703C 00000000               I1  DATA FOR SOURCE-LINE 170
32849 00007040 00000000               I1  DATA FOR SOURCE-LINE 171
32850 00007044 00000000               I1  DATA FOR SOURCE-LINE 173
32851 00007048 00000000               I1  DATA FOR SOURCE-LINE 176
32852 0000704C 00000000               I1  DATA FOR SOURCE-LINE 178
32853 00007050 00000000               I1  DATA FOR SOURCE-LINE 180
32854 00007054 00000000               I1  DATA FOR SOURCE-LINE 182
32855 00007058 00000000               I1  DATA FOR SOURCE-LINE 190
32856 0000705C 00000000               I1  DATA FOR SOURCE-LINE 196
32857 00007060 00000000               I1  DATA FOR SOURCE-LINE 200
32858 00007064 00000000               I1  DATA FOR SOURCE-LINE 201
32859 00007068 00000000               I1  DATA FOR SOURCE-LINE 205
32860                                 I1  ***** END-POOL *****
32861 0000706C                    212 I1          .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   480
PROGRAM NAME =

32862 0000706C                    213 I1  _BRKTST_OBJ_MAKE
32863                             214 I1          SUB_START
32864 0000706C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32865                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32866                             215 I1  ;       --------------------------------------------
32867 0000706E D024               216 I1          MOV.L   #_CTL_ENC360,R0                         ;//360.0度(いまのところ不要)
32868 00007070 6101               217 I1          MOV.W   @R0,R1                                  ;
32869 00007072 D424               218 I1          MOV.L   #_STR_ENC3600_DIG,R4                    ;//運転開始時の360.0角度
32870 00007074 2411               219 I1          MOV.W   R1,@R4                                  ;
32871                             220 I1  
32872                             221 I1  ;       -----------------------------------------
32873 00007076 D424               222 I1          MOV.L   #_LINK_PV_ABSPLS,R4                     ;
32874 00007078 6146               223 I1          MOV.L   @R4+,R1                                 ;
32875 0000707A 6242               224 I1          MOV.L   @R4,R2                                  ;
32876 0000707C D423               225 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
32877 0000707E 1410               226 I1          MOV.L   R1,@(0,R4)                              ;
32878 00007080 1421               227 I1          MOV.L   R2,@(4,R4)                              ;
32879                             228 I1  
32880                             229 I1  ;       ---------- 目標位置設定------
32881 00007082 D423               230 I1          MOV.L   #_LINK_1ROT_PLS,R4                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
32882 00007084 6642               231 I1          MOV.L   @R4,R6                                  ;
32883 00007086 255A               232 I1          XOR     R5,R5                                   ;
32884                             233 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
32885 00007088 0008                   M           CLRT
32886 0000708A 326E                   M           ADDC    R6,R2
32887 0000708C 315E                   M           ADDC    R5,R1
32888                             234 I1  
32889 0000708E D421               235 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32890 00007090 2412               236 I1          MOV.L   R1,@R4                          ;
32891 00007092 1421               237 I1          MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
32892                             238 I1  
32893                             239 I1  
32894                             240 I1  ;       ---------- 方向------
32895 00007094 200A               241 I1          XOR     R0,R0                           ;BIT0=0:正
32896 00007096 D120               242 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
32897 00007098 2101               243 I1          MOV.W   R0,@R1
32898                             244 I1  
32899                             245 I1  
32900                             246 I1  ;       ---------- 目標位置設定------
32901                             247 I1  ;;;;;2011-09-14 MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
32902                             248 I1  ;;;;;2011-09-14 MOV.W   @R1,R0
32903                             249 I1  ;;;;;2011-09-14 FAR_JSR #_LINK_P_M_MAX,R4               ;Input R0:BIT0 DIRECT
32904                             250 I1                                                  ;_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止
                                          目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32905                             251 I1  
32906                             252 I1  
32907                             253 I1  
32908                             254 I1  
32909                             255 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
32910 0000709A D020                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32911 0000709C 400B                   M           JSR     @R0                     ;
32912 0000709E 0009                   M           NOP                                     ;
32913                             256 I1  
32914                             257 I1  ;       ---------- SPEED SET---------------
32915                             258 I1  ;;      MOV.L   #_FREQ_PLSI_MAX_FRQ,R1  ;
32916                             259 I1  ;;;     MOV.L   #_LINK_MAX_SPD_PLS,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   481
PROGRAM NAME =

32917                             260 I1  
32918 000070A0 D11F               261 I1          MOV.L   #_BRKTST_OUTSPD_PLS,R1  ;
32919 000070A2 6212               262 I1          MOV.L   @R1,R2                  ;
32920 000070A4 D11F               263 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
32921 000070A6 2122               264 I1          MOV.L   R2,@R1                  ;
32922                             265 I1  
32923                             266 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0      ;input R2
32924 000070A8 D01F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32925 000070AA 400B                   M           JSR     @R0                     ;
32926 000070AC 0009                   M           NOP                                     ;
32927                             267 I1  
32928                             268 I1  
32929                             269 I1  
32930                             270 I1  
32931                             271 I1  ;       -------------------ｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀMAX-----------
32932 000070AE 9226               272 I1          MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
32933                             273 I1          REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
32934 000070B0 D11E                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
32935 000070B2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
32936                             274 I1          REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
32937 000070B4 D11E                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
32938 000070B6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
32939                             275 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
32940 000070B8 D41E                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
32941 000070BA 6041                   M           MOV.W   @R4,R0          ;
32942 000070BC C9FD                   M           AND     #LOW ~BIT1,R0           ;
32943 000070BE 2401                   M           MOV.W   R0,@R4          ;
32944                             276 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
32945 000070C0 D41C                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
32946 000070C2 6041                   M           MOV.W   @R4,R0          ;
32947 000070C4 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
32948 000070C6 2401                   M           MOV.W   R0,@R4          ;
32949                             277 I1  
32950                             278 I1          FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
32951 000070C8 D01B                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32952 000070CA 400B                   M           JSR     @R0                     ;
32953 000070CC 0009                   M           NOP                                     ;
32954                             279 I1          FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
32955 000070CE D01B                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32956 000070D0 400B                   M           JSR     @R0                     ;
32957 000070D2 0009                   M           NOP                                     ;
32958                             280 I1  
32959                             281 I1  ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
32960                             282 I1          FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
32961 000070D4 D01A                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32962 000070D6 400B                   M           JSR     @R0                     ;
32963 000070D8 0009                   M           NOP                                     ;
32964                             283 I1          FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
32965 000070DA D01A                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32966 000070DC 400B                   M           JSR     @R0                     ;
32967 000070DE 0009                   M           NOP                                     ;
32968                             284 I1  
32969                             285 I1  
32970                             286 I1  ;       ------------------2011-09-14----------停止位置-----
32971 000070E0 D40A               287 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
32972 000070E2 5140               288 I1          MOV.L   @(0,R4),R1
32973 000070E4 5241               289 I1          MOV.L   @(4,R4),R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   482
PROGRAM NAME =

32974                             290 I1  
32975 000070E6 D418               291 I1          MOV.L   #_WPARX_BRKTST_STPLNG,R4                ;//相対ﾊﾟﾙｽ
32976 000070E8 6642               292 I1          MOV.L   @R4,R6                                  ;
32977 000070EA 255A               293 I1          XOR     R5,R5                                   ;
32978                             294 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
32979 000070EC 0008                   M           CLRT
32980 000070EE 326E                   M           ADDC    R6,R2
32981 000070F0 315E                   M           ADDC    R5,R1
32982                             295 I1  
32983 000070F2 D416               296 I1          MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
32984 000070F4 2412               297 I1          MOV.L   R1,@R4                                                  ;
32985 000070F6 1421               298 I1          MOV.L   R2,@(1*4,R4)                                            ;
32986                             299 I1  
32987                             300 I1  
32988                             301 I1          SUB_END
32989                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32990 000070F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32991                             302 I1          M_RTS
32992 000070FA 000B                   M           RTS                             ;RTSの後ろの
32993 000070FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32994                             303 I1  
32995                           10713     
32996                           10714     
32997                           10715     ;       *******************************************
32998                           10716     ;       ***                                     ***
32999                           10717     ;       ***                                     ***
33000                           10718     ;       ***                                     ***
33001                           10719     ;       ***     ポジショナ- CPUA                ***
33002                           10720     ;       ***                                     ***
33003                           10721     ;       ***                                     ***
33004                           10722     ;       *******************************************
33005                                     ***** BEGIN-POOL *****
33006 000070FE 0064                       DATA FOR SOURCE-LINE 272
33007 00007100 00000000                   DATA FOR SOURCE-LINE 216
33008 00007104 00000000                   DATA FOR SOURCE-LINE 218
33009 00007108 00000000                   DATA FOR SOURCE-LINE 222
33010 0000710C 00000000                   DATA FOR SOURCE-LINE 225,287
33011 00007110 00000000                   DATA FOR SOURCE-LINE 230
33012 00007114 00000000                   DATA FOR SOURCE-LINE 235
33013 00007118 00000000                   DATA FOR SOURCE-LINE 242
33014 0000711C 00000000                   DATA FOR SOURCE-LINE 255
33015 00007120 00000000                   DATA FOR SOURCE-LINE 261
33016 00007124 00000000                   DATA FOR SOURCE-LINE 263
33017 00007128 00000000                   DATA FOR SOURCE-LINE 266
33018 0000712C 00000000                   DATA FOR SOURCE-LINE 273
33019 00007130 00000000                   DATA FOR SOURCE-LINE 274
33020 00007134 00000000                   DATA FOR SOURCE-LINE 275,276
33021 00007138 00000000                   DATA FOR SOURCE-LINE 278
33022 0000713C 00000000                   DATA FOR SOURCE-LINE 279
33023 00007140 00000000                   DATA FOR SOURCE-LINE 282
33024 00007144 00000000                   DATA FOR SOURCE-LINE 283
33025 00007148 00000000                   DATA FOR SOURCE-LINE 291
33026 0000714C 00000000                   DATA FOR SOURCE-LINE 296
33027                                     ***** END-POOL *****
33028 00007150                  10723             .ALIGN  4                                       ;
33029                           10724             .INCLUDE        "ssa_cop1pos.inc"               ; //
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   483
PROGRAM NAME =

33030                               1 I1  ;       ***********************************
33031                               2 I1  ;       ***                             ***
33032                               3 I1  ;       ***     ﾎﾟｼﾞｼｮﾅ動作             ***
33033                               4 I1  ;       ***                             ***
33034                               5 I1  ;       ***********************************
33035                               6 I1  ;       cpuaだけ
33036                               7 I1  ;
33037                               8 I1  ;       @"自動ﾀﾞｲﾊｲﾄｽﾀｰﾄ":手動ﾀﾞｲﾊｲﾄと同一演算にてﾀﾞｲﾊｲﾄ位置を表示する
33038                               9 I1  ;       A位置比較
33039                              10 I1  ;
33040                              11 I1  ;       341.9
33041                              12 I1          .IMPORT         _SVP_ATSLID_OBJ1        ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33042                              13 I1          .IMPORT         _SVP_ATSLID_DNOBJ1      ; スライド自動調節　下降停止 0~99
33043                              14 I1          .IMPORT         _SVP_ATSLID_UPOBJ1      ; スライド自動調節　上昇停止 "
33044                              15 I1          .IMPORT         _SVP_ATSLID_BAKLNG      ; スライド自動調節　戻り量   "
33045                              16 I1          .IMPORT         _SVP_ATSLID_COEF1       ; スライド自動調節　制御精度 "
33046                              17 I1          .IMPORT         _SVP_SLPOS_DIR          ;位置決め方向 0(上昇)/1(下降)
33047                              18 I1          .IMPORT         _SVP_SL_TENPOS          ;小数点
33048                              19 I1  
33049                              20 I1  
33050                              21 I1          .EXPORT _POSITIONER_DAIHAITO
33051 00007150                     22 I1  _POSITIONER_DAIHAITO
33052                              23 I1          SUB_START
33053 00007150 4F22                   M           STS.L   PR,@-R15                ;[必要]
33054                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33055                              24 I1  
33056 00007152 D506                25 I1          MOV.L   #_POSINER_FLG,R5                ;
33057 00007154 6051                26 I1          MOV.W   @R5,R0                          ;
33058 00007156 2008                27 I1          TST     R0,R0                           ;
33059                              28 I1          TST_BIT_ON POSITIONER_DAICTL_100        ;
33060 00007158 8B26                   M           BF      POSITIONER_DAICTL_100
33061                              29 I1  
33062 0000715A D105                30 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33063 0000715C 6011                31 I1          MOV.W   @R1,R0                          ;
33064 0000715E 9403                32 I1          MOV.W   #BIT9,R4                        ;
33065 00007160 2048                33 I1          TST     R4,R0                           ;
33066                              34 I1          TST_BIT_ON POSITIONER_DAICTL_020        ;
33067 00007162 8B07                   M           BF      POSITIONER_DAICTL_020
33068                              35 I1          M_BRA   POSITIONER_DAICTL_EXT           ;
33069 00007164 A0E1                   M           BRA     POSITIONER_DAICTL_EXT
33070 00007166 0009                   M           NOP
33071                              36 I1  
33072                              37 I1  ;       -------------- 起動-----------------
33073                                 I1  ***** BEGIN-POOL *****
33074 00007168 0200                   I1  DATA FOR SOURCE-LINE 32
33075 0000716A 0000                   I1  ALIGNMENT CODE
33076 0000716C 00000000               I1  DATA FOR SOURCE-LINE 25
33077 00007170 00000000               I1  DATA FOR SOURCE-LINE 30
33078                                 I1  ***** END-POOL *****
33079 00007174                     38 I1  POSITIONER_DAICTL_020
33080 00007174 E001                39 I1          MOV.B   #BIT0,R0                        ;
33081 00007176 2501                40 I1          MOV.W   R0,@R5                          ;FLG.0=1
33082                              41 I1  
33083                              42 I1  ;       ------------------------------------
33084 00007178 200A                43 I1          XOR     R0,R0                           ;
33085 0000717A D107                44 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   484
PROGRAM NAME =

33086 0000717C 2101                45 I1          MOV.W   R0,@R1                          ;
33087                              46 I1  
33088                              47 I1  
33089 0000717E E002                48 I1          MOV.B   #BIT1,R0                        ;上昇からの+位置決め中
33090 00007180 D106                49 I1          MOV.L   #_SVP_SLPOS_DIR,R1              ;位置決め方向
33091 00007182 6411                50 I1          MOV.W   @R1,R4                          ;
33092 00007184 2448                51 I1          TST     R4,R4                           ;
33093                              52 I1          TST_BIT_OF POSITIONER_DAICTL_040        ;
33094 00007186 8900                   M           BT      POSITIONER_DAICTL_040
33095 00007188 E042                53 I1          MOV.B   #BIT6+BIT1,R0                   ;下降からの+位置決め中
33096 0000718A                     54 I1  POSITIONER_DAICTL_040:
33097 0000718A D105                55 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33098 0000718C 2101                56 I1          MOV.W   R0,@R1                          ;
33099                              57 I1          FAR_JSR #_POSITIONER_DAI_DATA,R0
33100 0000718E D005                   M           MOV.L   #_POSITIONER_DAI_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33101 00007190 400B                   M           JSR     @R0                     ;
33102 00007192 0009                   M           NOP                                     ;
33103                              58 I1          M_BRA   POSITIONER_DAICTL_800
33104 00007194 A0BE                   M           BRA     POSITIONER_DAICTL_800
33105 00007196 0009                   M           NOP
33106                              59 I1  
33107                              60 I1  
33108                              61 I1  
33109                              62 I1  ;       ----------------------------------------------
33110                                 I1  ***** BEGIN-POOL *****
33111 00007198 00000000               I1  DATA FOR SOURCE-LINE 44
33112 0000719C 00000000               I1  DATA FOR SOURCE-LINE 49
33113 000071A0 00000000               I1  DATA FOR SOURCE-LINE 55
33114 000071A4 00000000               I1  DATA FOR SOURCE-LINE 57
33115                                 I1  ***** END-POOL *****
33116 000071A8                     63 I1  POSITIONER_DAICTL_100
33117                              64 I1  
33118 000071A8 D108                65 I1          MOV.L   #_PVX_DAI_POS1,R1               ;ﾀﾞｲﾊｲﾄ表示値・制御値
33119 000071AA 6212                66 I1          MOV.L   @R1,R2                          ;SAVE R2 -->NEXT CALC USED
33120 000071AC D108                67 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33121 000071AE 2122                68 I1          MOV.L   R2,@R1                          ;
33122                              69 I1  
33123 000071B0 D108                70 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33124 000071B2 6211                71 I1          MOV.W   @R1,R2                          ;
33125 000071B4 9408                72 I1          MOV.W   #BIT9,R4                        ;
33126 000071B6 2248                73 I1          TST     R4,R2                           ;
33127                              74 I1          TST_BIT_ON POSITIONER_DAICTL_200        ;
33128 000071B8 8B12                   M           BF      POSITIONER_DAICTL_200
33129                              75 I1  
33130                              76 I1  ;       --------------- 指令OFF 終了---------------
33131 000071BA 200A                77 I1          XOR     R0,R0                           ;
33132 000071BC D506                78 I1          MOV.L   #_POSINER_FLG,R5                ;
33133 000071BE 2501                79 I1          MOV.W   R0,@R5                          ;
33134 000071C0 D106                80 I1          MOV.L   #_POSINER_STS,R1                ;
33135 000071C2 2101                81 I1          MOV.W   R0,@R1                          ;
33136                              82 I1          M_BRA   POSITIONER_DAICTL_800
33137 000071C4 A0A6                   M           BRA     POSITIONER_DAICTL_800
33138 000071C6 0009                   M           NOP
33139                              83 I1  
33140                              84 I1  ;       -------------- 運転--------------------
33141                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   485
PROGRAM NAME =

33142 000071C8 0200                   I1  DATA FOR SOURCE-LINE 72
33143 000071CA 0000                   I1  ALIGNMENT CODE
33144 000071CC 00000000               I1  DATA FOR SOURCE-LINE 65
33145 000071D0 00000000               I1  DATA FOR SOURCE-LINE 67
33146 000071D4 00000000               I1  DATA FOR SOURCE-LINE 70
33147 000071D8 00000000               I1  DATA FOR SOURCE-LINE 78
33148 000071DC 00000000               I1  DATA FOR SOURCE-LINE 80
33149                                 I1  ***** END-POOL *****
33150 000071E0                     85 I1  POSITIONER_DAICTL_200
33151 000071E0 D506                86 I1          MOV.L   #_POSINER_FLG,R5                ;
33152 000071E2 6051                87 I1          MOV.W   @R5,R0                          ;
33153 000071E4 C802                88 I1          TST     #BIT1,R0                        ;
33154                              89 I1          TST_BIT_ON POSITIONER_DAICTL_300        ;
33155 000071E6 8B0D                   M           BF      POSITIONER_DAICTL_300
33156                              90 I1  
33157                              91 I1  ;       ------- 初期演算--------
33158                              92 I1          FAR_JSR #_POSITIONER_DAI_OBJ1MAK,R0                             ;
33159 000071E8 D005                   M           MOV.L   #_POSITIONER_DAI_OBJ1MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33160 000071EA 400B                   M           JSR     @R0                     ;
33161 000071EC 0009                   M           NOP                                     ;
33162                              93 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT1,WKREG=R1 ;
33163 000071EE D103                   M           MOV.L   #_POSINER_FLG,R1                ;
33164 000071F0 6011                   M           MOV.W   @R1,R0          ;
33165 000071F2 CB02                   M           OR      #BIT1,R0                ;
33166 000071F4 2101                   M           MOV.W   R0,@R1          ;
33167                              94 I1          M_BRA   POSITIONER_DAICTL_800
33168 000071F6 A08D                   M           BRA     POSITIONER_DAICTL_800
33169 000071F8 0009                   M           NOP
33170                              95 I1  
33171                              96 I1  ;       ----------------------------------------
33172                                 I1  ***** BEGIN-POOL *****
33173 000071FA 0000                   I1  ALIGNMENT CODE
33174 000071FC 00000000               I1  DATA FOR SOURCE-LINE 86,93
33175 00007200 00000000               I1  DATA FOR SOURCE-LINE 92
33176                                 I1  ***** END-POOL *****
33177 00007204                     97 I1  POSITIONER_DAICTL_300
33178 00007204 C804                98 I1          TST     #BIT2,R0                        ;
33179                              99 I1          TST_BIT_ON POSITIONER_DAICTL_400        ;
33180 00007206 8B15                   M           BF      POSITIONER_DAICTL_400
33181                             100 I1  
33182                             101 I1          FAR_JSR #_POSITIONER_DAI_OBJ1CMP,R0     ;//目標位置+ｵｰﾊﾞ量
33183 00007208 D007                   M           MOV.L   #_POSITIONER_DAI_OBJ1CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33184 0000720A 400B                   M           JSR     @R0                     ;
33185 0000720C 0009                   M           NOP                                     ;
33186                             102 I1          PUSH_REG1 R0                            ;
33187 0000720E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33188                                 M                                           ;REG=>[SP]
33189                                 M                                           ;"-4" FF,FF,FF,FC
33190                             103 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33191 00007210 D106                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33192 00007212 410B                   M           JSR     @R1                     ;
33193 00007214 0009                   M           NOP                                     ;
33194                             104 I1          POP_REG1 R0
33195                                 M                                   ; RE"+4" 00,00,00,04
33196 00007216 60F6                   M           MOV.L   @R15+,R0        ;
33197 00007218 2008               105 I1          TST     R0,R0
33198                             106 I1          TST_BIT_ON POSITIONER_DAICTL_350
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   486
PROGRAM NAME =

33199 0000721A 8B03                   M           BF      POSITIONER_DAICTL_350
33200                             107 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT2,WKREG=R1 ;
33201 0000721C D104                   M           MOV.L   #_POSINER_FLG,R1                ;
33202 0000721E 6011                   M           MOV.W   @R1,R0          ;
33203 00007220 CB04                   M           OR      #BIT2,R0                ;
33204 00007222 2101                   M           MOV.W   R0,@R1          ;
33205 00007224                    108 I1  POSITIONER_DAICTL_350
33206                             109 I1          M_BRA   POSITIONER_DAICTL_800
33207 00007224 A076                   M           BRA     POSITIONER_DAICTL_800
33208 00007226 0009                   M           NOP
33209                             110 I1  
33210                             111 I1  
33211                             112 I1  ;       ----------------------------------------
33212                                 I1  ***** BEGIN-POOL *****
33213 00007228 00000000               I1  DATA FOR SOURCE-LINE 101
33214 0000722C 00000000               I1  DATA FOR SOURCE-LINE 103
33215 00007230 00000000               I1  DATA FOR SOURCE-LINE 107
33216                                 I1  ***** END-POOL *****
33217 00007234                    113 I1  POSITIONER_DAICTL_400
33218 00007234 C808               114 I1          TST     #BIT3,R0                        ;
33219                             115 I1          TST_BIT_ON POSITIONER_DAICTL_500        ;
33220 00007236 8B2B                   M           BF      POSITIONER_DAICTL_500
33221                             116 I1          FAR_JSR #_POSITIONER_DAI_OBJ2CMP,R0     ;//目標位置+ｵｰﾊﾞ量-すべり
33222 00007238 D00D                   M           MOV.L   #_POSITIONER_DAI_OBJ2CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33223 0000723A 400B                   M           JSR     @R0                     ;
33224 0000723C 0009                   M           NOP                                     ;
33225                             117 I1          PUSH_REG1 R0                            ;
33226 0000723E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33227                                 M                                           ;REG=>[SP]
33228                                 M                                           ;"-4" FF,FF,FF,FC
33229                             118 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33230 00007240 D10C                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33231 00007242 410B                   M           JSR     @R1                     ;
33232 00007244 0009                   M           NOP                                     ;
33233                             119 I1          POP_REG1 R0
33234                                 M                                   ; RE"+4" 00,00,00,04
33235 00007246 60F6                   M           MOV.L   @R15+,R0        ;
33236 00007248 2008               120 I1          TST     R0,R0
33237                             121 I1          TST_BIT_ON POSITIONER_DAICTL_450
33238 0000724A 8B0E                   M           BF      POSITIONER_DAICTL_450
33239                             122 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
33240 0000724C D10A                   M           MOV.L   #_POSINER_FLG,R1                ;
33241 0000724E 6011                   M           MOV.W   @R1,R0          ;
33242 00007250 CB08                   M           OR      #BIT3,R0                ;
33243 00007252 2101                   M           MOV.W   R0,@R1          ;
33244                             123 I1  
33245                             124 I1  
33246 00007254 D109               125 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
33247 00007256 920A               126 I1          MOV.W   #D'1000,R2              ;
33248 00007258 2121               127 I1          MOV.W   R2,@R1                  ;
33249 0000725A D109               128 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1;//1000 1秒
33250 0000725C 2121               129 I1          MOV.W   R2,@R1                  ;
33251                             130 I1  
33252                             131 I1  
33253 0000725E D109               132 I1          MOV.L   #_POSINER_PV_POS,R1     ;
33254 00007260 6212               133 I1          MOV.L   @R1,R2                  ;
33255 00007262 D109               134 I1          MOV.L   #_POSINER_OLDPV_POS,R1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   487
PROGRAM NAME =

33256 00007264 2122               135 I1          MOV.L   R2,@R1                  ;
33257 00007266 D109               136 I1          MOV.L   #_POSINER_MOSTPV_POS,R1 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
33258 00007268 2122               137 I1          MOV.L   R2,@R1                  ;
33259                             138 I1  
33260 0000726A                    139 I1  POSITIONER_DAICTL_450
33261                             140 I1          M_BRA   POSITIONER_DAICTL_800
33262 0000726A A053                   M           BRA     POSITIONER_DAICTL_800
33263 0000726C 0009                   M           NOP
33264                             141 I1  
33265                             142 I1  
33266                             143 I1  ;       -------------- 停止待ち------------------
33267                                 I1  ***** BEGIN-POOL *****
33268 0000726E 03E8                   I1  DATA FOR SOURCE-LINE 126
33269 00007270 00000000               I1  DATA FOR SOURCE-LINE 116
33270 00007274 00000000               I1  DATA FOR SOURCE-LINE 118
33271 00007278 00000000               I1  DATA FOR SOURCE-LINE 122
33272 0000727C 00000000               I1  DATA FOR SOURCE-LINE 125
33273 00007280 00000000               I1  DATA FOR SOURCE-LINE 128
33274 00007284 00000000               I1  DATA FOR SOURCE-LINE 132
33275 00007288 00000000               I1  DATA FOR SOURCE-LINE 134
33276 0000728C 00000000               I1  DATA FOR SOURCE-LINE 136
33277                                 I1  ***** END-POOL *****
33278 00007290                    144 I1  POSITIONER_DAICTL_500
33279 00007290 C810               145 I1          TST     #BIT4,R0                        ;
33280                             146 I1          TST_BIT_ON POSITIONER_DAICTL_800        ;
33281 00007292 8B3F                   M           BF      POSITIONER_DAICTL_800
33282                             147 I1  
33283                             148 I1          FAR_JSR #_POSITIONER_DAI_STPCHK,R1      ;
33284 00007294 D10A                   M           MOV.L   #_POSITIONER_DAI_STPCHK,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33285 00007296 410B                   M           JSR     @R1                     ;
33286 00007298 0009                   M           NOP                                     ;
33287 0000729A 2008               149 I1          TST     R0,R0                           ;
33288                             150 I1          TST_BIT_OF POSITIONER_DAICTL_590        ;"R0=1 END R0=-1 END(失敗)
33289 0000729C 8935                   M           BT      POSITIONER_DAICTL_590
33290                             151 I1  
33291 0000729E 8801               152 I1          CMP/EQ  #1,R0                           ;
33292 000072A0 8B14               153 I1          BF      POSITIONER_DAICTL_530           ;
33293                             154 I1  
33294                             155 I1  ;       正常終了
33295                             156 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33296 000072A2 D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33297 000072A4 6011                   M           MOV.W   @R1,R0          ;
33298 000072A6 CB10                   M           OR      #BIT4,R0                ;
33299 000072A8 2101                   M           MOV.W   R0,@R1          ;
33300                             157 I1  
33301                             158 I1  ;       位置決め完了ON
33302                             159 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33303                             160 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33304 000072AA D107                   M           MOV.L   #_POSINER_STS,R1                ;
33305 000072AC 6011                   M           MOV.W   @R1,R0          ;
33306 000072AE C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33307 000072B0 2101                   M           MOV.W   R0,@R1          ;
33308                             161 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT0,WKREG=R1 ;
33309 000072B2 D105                   M           MOV.L   #_POSINER_STS,R1                ;
33310 000072B4 6011                   M           MOV.W   @R1,R0          ;
33311 000072B6 CB01                   M           OR      #BIT0,R0                ;
33312 000072B8 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   488
PROGRAM NAME =

33313                             162 I1          M_BRA   POSITIONER_DAICTL_800
33314 000072BA A02B                   M           BRA     POSITIONER_DAICTL_800
33315 000072BC 0009                   M           NOP
33316                             163 I1  
33317                             164 I1  
33318                                 I1  ***** BEGIN-POOL *****
33319 000072BE 0000                   I1  ALIGNMENT CODE
33320 000072C0 00000000               I1  DATA FOR SOURCE-LINE 148
33321 000072C4 00000000               I1  DATA FOR SOURCE-LINE 156
33322 000072C8 00000000               I1  DATA FOR SOURCE-LINE 160,161
33323                                 I1  ***** END-POOL *****
33324 000072CC                    165 I1  POSITIONER_DAICTL_530
33325                             166 I1  ;       異常終了
33326 000072CC D10A               167 I1          MOV.L   #_POSINER_RETRY_CNT,R1
33327 000072CE 6211               168 I1          MOV.W   @R1,R2
33328 000072D0 7201               169 I1          ADD     #1,R2
33329 000072D2 2121               170 I1          MOV.W   R2,@R1
33330 000072D4 E403               171 I1          MOV.B   #3,R4
33331 000072D6 3422               172 I1          CMP/HS  R2,R4                   ;
33332 000072D8 8914               173 I1          BT      POSITIONER_DAICTL_550   ;R2=<R4(3) ﾘﾄﾗｲ(通常+ﾘﾄﾗｲ3回=4回までやる)
33333                             174 I1  
33334                             175 I1  ;       異常終了
33335                             176 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33336 000072DA D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33337 000072DC 6011                   M           MOV.W   @R1,R0          ;
33338 000072DE CB10                   M           OR      #BIT4,R0                ;
33339 000072E0 2101                   M           MOV.W   R0,@R1          ;
33340                             177 I1  ;       異常完了ON
33341                             178 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33342                             179 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33343 000072E2 D107                   M           MOV.L   #_POSINER_STS,R1                ;
33344 000072E4 6011                   M           MOV.W   @R1,R0          ;
33345 000072E6 C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33346 000072E8 2101                   M           MOV.W   R0,@R1          ;
33347                             180 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT2,WKREG=R1 ;
33348 000072EA D105                   M           MOV.L   #_POSINER_STS,R1                ;
33349 000072EC 6011                   M           MOV.W   @R1,R0          ;
33350 000072EE CB04                   M           OR      #BIT2,R0                ;
33351 000072F0 2101                   M           MOV.W   R0,@R1          ;
33352                             181 I1          M_BRA   POSITIONER_DAICTL_800
33353 000072F2 A00F                   M           BRA     POSITIONER_DAICTL_800
33354 000072F4 0009                   M           NOP
33355                             182 I1  
33356                             183 I1  ;       ----------------ﾘﾄﾗｲ開始-----------
33357                                 I1  ***** BEGIN-POOL *****
33358 000072F6 0000                   I1  ALIGNMENT CODE
33359 000072F8 00000000               I1  DATA FOR SOURCE-LINE 167
33360 000072FC 00000000               I1  DATA FOR SOURCE-LINE 176
33361 00007300 00000000               I1  DATA FOR SOURCE-LINE 179,180
33362                                 I1  ***** END-POOL *****
33363 00007304                    184 I1  POSITIONER_DAICTL_550
33364 00007304 E001               185 I1          MOV.B   #BIT0,R0                        ;
33365 00007306 D102               186 I1          MOV.L   #_POSINER_FLG,R1                ;
33366 00007308 2101               187 I1          MOV.W   R0,@R1                          ;初期化
33367                             188 I1  
33368 0000730A                    189 I1  POSITIONER_DAICTL_590
33369                             190 I1          M_BRA   POSITIONER_DAICTL_800
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   489
PROGRAM NAME =

33370 0000730A A003                   M           BRA     POSITIONER_DAICTL_800
33371 0000730C 0009                   M           NOP
33372                             191 I1  
33373                             192 I1  
33374                             193 I1  
33375                             194 I1  ;       -----------------------------------
33376                                 I1  ***** BEGIN-POOL *****
33377 0000730E 0000                   I1  ALIGNMENT CODE
33378 00007310 00000000               I1  DATA FOR SOURCE-LINE 186
33379                                 I1  ***** END-POOL *****
33380 00007314                    195 I1  POSITIONER_DAICTL_800
33381                             196 I1  
33382                             197 I1  
33383                             198 I1  
33384                             199 I1  
33385                             200 I1  
33386 00007314 D107               201 I1          MOV.L   #_POSINER_STS,R1                        ;
33387 00007316 6011               202 I1          MOV.W   @R1,R0                                  ;
33388 00007318 D107               203 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33389 0000731A 6211               204 I1          MOV.W   @R1,R2                                  ;
33390 0000731C 9408               205 I1          MOV.W   #(BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4     ;
33391 0000731E 2049               206 I1          AND     R4,R0
33392 00007320 6447               207 I1          NOT     R4,R4
33393 00007322 2249               208 I1          AND     R4,R2
33394 00007324 220B               209 I1          OR      R0,R2
33395 00007326 D104               210 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33396 00007328 2121               211 I1          MOV.W   R2,@R1                                  ;
33397                             212 I1  
33398                             213 I1  
33399                             214 I1  
33400                             215 I1  
33401                             216 I1  
33402 0000732A                    217 I1  POSITIONER_DAICTL_EXT
33403                             218 I1  
33404                             219 I1          SUB_END
33405                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33406 0000732A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33407                             220 I1          M_RTS
33408 0000732C 000B                   M           RTS                             ;RTSの後ろの
33409 0000732E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33410                             221 I1  
33411                             222 I1  
33412                             223 I1  ;_SVP_KANDO_A21                         .SRES   4       ;感度
33413                             224 I1  ;_SVP_UPDATA_A21                        .SRES   4       ;上限
33414                             225 I1  ;_SVP_DNDATA_A21                        .SRES   4       ;下限
33415                             226 I1  ;_SVP_GENITI_A21                        .SRES   4       ;現位置
33416                             227 I1  ;_SVP_MODORI_A21                        .SRES   2       ;戻り量
33417                             228 I1  ;_SVP_DNSTOP_A21                        .SRES   2       ;下降停止
33418                             229 I1  ;_SVP_UPSTOP_A21                        .SRES   2       ;上昇停止
33419                             230 I1  ;_SVP_SSEIDO_A21                        .SRES   2       ;制御精度
33420                             231 I1  
33421                             232 I1  
33422                             233 I1  ;_SVP_SLID_POS1         .SRES   4       ;ｽﾗｲﾄﾞ位置　生産
33423                             234 I1  ;_SVP_SLID_POS2         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取1
33424                             235 I1  ;_SVP_SLID_POS3         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取2
33425                             236 I1  ;
33426                             237 I1  ;       ***********************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   490
PROGRAM NAME =

33427                             238 I1  ;       ***                                                     ***
33428                             239 I1  ;       ***     [上昇から開始]                                  ***
33429                             240 I1  ;       ***     設定+戻り量(現在位置＋戻り量)                   ***
33430                             241 I1  ;       ***     設定+戻り量-下降量(現在位置＋戻り量-下降量)     ***
33431                             242 I1  ;       ***                                                     ***
33432                             243 I1  ;       ***********************************************************
33433                             244 I1  
33434                                 I1  ***** BEGIN-POOL *****
33435 00007330 003F                   I1  DATA FOR SOURCE-LINE 205
33436 00007332 0000                   I1  ALIGNMENT CODE
33437 00007334 00000000               I1  DATA FOR SOURCE-LINE 201
33438 00007338 00000000               I1  DATA FOR SOURCE-LINE 203,210
33439                                 I1  ***** END-POOL *****
33440 0000733C                    245 I1  _POSITIONER_DAI_OBJ1MAK:
33441                             246 I1          SUB_START
33442 0000733C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33444                             247 I1  
33445 0000733E D109               248 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33446 00007340 6212               249 I1          MOV.L   @R1,R2                          ;
33447                             250 I1  
33448 00007342 D109               251 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33449 00007344 6011               252 I1          MOV.W   @R1,R0                          ;
33450 00007346 2008               253 I1          TST     R0,R0                           ;
33451                             254 I1          TST_BIT_OF POSITIONER_DAIOBJ1MK_100     ;
33452 00007348 8901                   M           BT      POSITIONER_DAIOBJ1MK_100
33453                             255 I1  
33454 0000734A D108               256 I1          MOV.L   #_POSINER_PV_POS,R1             ;
33455 0000734C 6212               257 I1          MOV.L   @R1,R2                          ;[R5目標位置]
33456                             258 I1  
33457 0000734E                    259 I1  POSITIONER_DAIOBJ1MK_100:
33458                             260 I1  
33459                             261 I1  ;       in R2
33460                             262 I1  
33461 0000734E D108               263 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33462 00007350 6011               264 I1          MOV.W   @R1,R0                          ;
33463 00007352 C840               265 I1          TST     #BIT6,R0                        ;方向
33464                             266 I1          TST_BIT_ON POSITIONER_DAIOBJ1MK_200     ;
33465 00007354 8B12                   M           BF      POSITIONER_DAIOBJ1MK_200
33466                             267 I1  
33467                             268 I1  ;       ---------- 上昇から開始-----------
33468 00007356 D107               269 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33469 00007358 6312               270 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33470                             271 I1  
33471 0000735A D107               272 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33472 0000735C 6412               273 I1          MOV.L   @R1,R4                          ;0.001mm
33473                             274 I1          M_BRA   POSITIONER_DAIOBJ1MK_300
33474 0000735E A013                   M           BRA     POSITIONER_DAIOBJ1MK_300
33475 00007360 0009                   M           NOP
33476                             275 I1  
33477                             276 I1  
33478                                 I1  ***** BEGIN-POOL *****
33479 00007362 0000                   I1  ALIGNMENT CODE
33480 00007364 00000000               I1  DATA FOR SOURCE-LINE 248
33481 00007368 00000000               I1  DATA FOR SOURCE-LINE 251
33482 0000736C 00000000               I1  DATA FOR SOURCE-LINE 256
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   491
PROGRAM NAME =

33483 00007370 00000000               I1  DATA FOR SOURCE-LINE 263
33484 00007374 00000000               I1  DATA FOR SOURCE-LINE 269
33485 00007378 00000000               I1  DATA FOR SOURCE-LINE 272
33486                                 I1  ***** END-POOL *****
33487 0000737C                    277 I1  POSITIONER_DAIOBJ1MK_200:
33488                             278 I1  ;       ------- 下降から開始 -------------
33489 0000737C D10B               279 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33490 0000737E 6312               280 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33491 00007380 633B               281 I1          NEG     R3,R3
33492                             282 I1  
33493 00007382 D10B               283 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 0~99
33494 00007384 6412               284 I1          MOV.L   @R1,R4                          ;0.001mm
33495 00007386 644B               285 I1          NEG     R4,R4                           ;
33496                             286 I1  
33497 00007388                    287 I1  POSITIONER_DAIOBJ1MK_300:
33498                             288 I1  
33499                             289 I1  
33500 00007388 323C               290 I1          ADD     R3,R2                           ;
33501                             291 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
33502 0000738A D00A                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33503 0000738C 400B                   M           JSR     @R0                     ;
33504 0000738E 0009                   M           NOP                                     ;
33505                             292 I1  
33506                             293 I1  
33507                             294 I1  ;       -------------停止位置は一定--------------
33508 00007390 D109               295 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
33509 00007392 2122               296 I1          MOV.L   R2,@R1                          ;
33510                             297 I1  
33511                             298 I1  
33512 00007394 D109               299 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33513 00007396 6212               300 I1          MOV.L   @R1,R2                          ;
33514                             301 I1  
33515 00007398 324C               302 I1          ADD     R4,R2                           ;目標+β
33516                             303 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
33517 0000739A D006                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33518 0000739C 400B                   M           JSR     @R0                     ;
33519 0000739E 0009                   M           NOP                                     ;
33520 000073A0 D107               304 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+停止量
33521 000073A2 2122               305 I1          MOV.L   R2,@R1                          ;
33522                             306 I1  
33523                             307 I1          SUB_END
33524                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33525 000073A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33526                             308 I1          M_RTS
33527 000073A6 000B                   M           RTS                             ;RTSの後ろの
33528 000073A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33529                             309 I1  
33530                             310 I1  
33531                             311 I1  ;       INPU R2,DESTORY R1,R3,ANS R2
33532                                 I1  ***** BEGIN-POOL *****
33533 000073AA 0000                   I1  ALIGNMENT CODE
33534 000073AC 00000000               I1  DATA FOR SOURCE-LINE 279
33535 000073B0 00000000               I1  DATA FOR SOURCE-LINE 283
33536 000073B4 00000000               I1  DATA FOR SOURCE-LINE 291,303
33537 000073B8 00000000               I1  DATA FOR SOURCE-LINE 295
33538 000073BC 00000000               I1  DATA FOR SOURCE-LINE 299
33539 000073C0 00000000               I1  DATA FOR SOURCE-LINE 304
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   492
PROGRAM NAME =

33540                                 I1  ***** END-POOL *****
33541 000073C4                    312 I1  _POSITIONER_UPDN_LIMIT
33542                             313 I1          SUB_START
33543 000073C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
33544                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33545                             314 I1  
33546 000073C6 D106               315 I1          MOV.L   #_SET1_RNAPOS_MAXP,R1   ;19機械上限機械 ?0.001mm
33547 000073C8 6312               316 I1          MOV.L   @R1,R3                  ;UP
33548 000073CA 3323               317 I1          CMP/GE  R2,R3                   ;
33549 000073CC 8900               318 I1          BT      POSITIONER_UPDNLMT100   ;R2(SV)=<R3(MAX) OK
33550 000073CE 6233               319 I1          MOV     R3,R2                   ;
33551 000073D0                    320 I1  POSITIONER_UPDNLMT100                   ;
33552                             321 I1  
33553 000073D0 D104               322 I1          MOV.L   #_SET1_RNAPOS_MINP,R1   ;1A 機械下限機械
33554 000073D2 6312               323 I1          MOV.L   @R1,R3                  ;DN
33555 000073D4 3233               324 I1          CMP/GE  R3,R2                   ;
33556 000073D6 8900               325 I1          BT      POSITIONER_UPDNLMT200   ;R3(MIN)=<R2(MAX) OK
33557 000073D8 6233               326 I1          MOV     R3,R2                   ;
33558 000073DA                    327 I1  POSITIONER_UPDNLMT200                   ;
33559                             328 I1  
33560                             329 I1          SUB_END
33561                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33562 000073DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33563                             330 I1          M_RTS
33564 000073DC 000B                   M           RTS                             ;RTSの後ろの
33565 000073DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33566                             331 I1  
33567                             332 I1  
33568                             333 I1  
33569                             334 I1  ;       *******************************************
33570                             335 I1  ;       ***                                     ***
33571                             336 I1  ;       ***     設定データを0.001mmにする       ***
33572                             337 I1  ;       ***                                     ***
33573                             338 I1  ;       *******************************************
33574                                 I1  ***** BEGIN-POOL *****
33575 000073E0 00000000               I1  DATA FOR SOURCE-LINE 315
33576 000073E4 00000000               I1  DATA FOR SOURCE-LINE 322
33577                                 I1  ***** END-POOL *****
33578 000073E8                    339 I1  _POSITIONER_DAI_DATA
33579                             340 I1          SUB_START
33580 000073E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
33581                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33582                             341 I1  
33583 000073EA D118               342 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
33584 000073EC 6011               343 I1          MOV.W   @R1,R0                          ;
33585 000073EE D118               344 I1          MOV.L   #_SET1_ATDAT_DOTPOS,R1          ;//小数点
33586 000073F0 2101               345 I1          MOV.W   R0,@R1                          ;
33587                             346 I1  
33588 000073F2 9327               347 I1          MOV.W   #D'1,R3                         ;LATE
33589 000073F4 8803               348 I1          CMP/EQ  #3,R0
33590 000073F6 8906               349 I1          BT      POSITIONER_DAIDAT_100           ;小数点3桁
33591                             350 I1  
33592 000073F8 9325               351 I1          MOV.W   #D'10,R3                        ;
33593 000073FA 8802               352 I1          CMP/EQ  #2,R0
33594 000073FC 8903               353 I1          BT      POSITIONER_DAIDAT_100           ;小数点2桁
33595                             354 I1  
33596 000073FE 9323               355 I1          MOV.W   #D'100,R3                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   493
PROGRAM NAME =

33597 00007400 8801               356 I1          CMP/EQ  #1,R0
33598 00007402 8900               357 I1          BT      POSITIONER_DAIDAT_100           ;小数点1桁
33599                             358 I1  
33600 00007404 9321               359 I1          MOV.W   #D'1000,R3                      ;小数点無し
33601                             360 I1  
33602 00007406                    361 I1  POSITIONER_DAIDAT_100                           ;
33603                             362 I1  
33604                             363 I1  
33605 00007406 D113               364 I1          MOV.L   #_SVP_ATSLID_DNOBJ1,R1          ; スライド自動調節　下降停止 0~99
33606 00007408 6211               365 I1          MOV.W   @R1,R2                          ;
33607 0000740A 332D               366 I1          DMULS.L R2,R3                           ;
33608 0000740C 021A               367 I1          STS.L   MACL,R2                         ;
33609 0000740E D112               368 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33610 00007410 2122               369 I1          MOV.L   R2,@R1                          ;0.001mm
33611                             370 I1  
33612 00007412 D112               371 I1          MOV.L   #_SVP_ATSLID_UPOBJ1,R1          ; スライド自動調節　上昇停止 "
33613 00007414 6211               372 I1          MOV.W   @R1,R2                          ;
33614 00007416 332D               373 I1          DMULS.L R2,R3                           ;
33615 00007418 021A               374 I1          STS.L   MACL,R2                         ;
33616 0000741A D111               375 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 "
33617 0000741C 2122               376 I1          MOV.L   R2,@R1                          ;0.001mm
33618                             377 I1  
33619 0000741E D111               378 I1          MOV.L   #_SVP_ATSLID_BAKLNG,R1          ; スライド自動調節　戻り量   "
33620 00007420 6211               379 I1          MOV.W   @R1,R2                          ;
33621 00007422 332D               380 I1          DMULS.L R2,R3                           ;
33622 00007424 021A               381 I1          STS.L   MACL,R2                         ;
33623 00007426 D110               382 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33624 00007428 2122               383 I1          MOV.L   R2,@R1                          ;0.001mm
33625                             384 I1  
33626 0000742A D110               385 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
33627 0000742C 6211               386 I1          MOV.W   @R1,R2                          ;
33628 0000742E 332D               387 I1          DMULS.L R2,R3                           ;
33629 00007430 021A               388 I1          STS.L   MACL,R2                         ;
33630 00007432 D10F               389 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
33631 00007434 2122               390 I1          MOV.L   R2,@R1                          ;0.001mm
33632                             391 I1  
33633                             392 I1  
33634 00007436 D10F               393 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1            ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33635 00007438 6212               394 I1          MOV.L   @R1,R2                          ;0.001mm
33636 0000743A D10F               395 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置0.001mm
33637 0000743C 2122               396 I1          MOV.L   R2,@R1                          ;
33638                             397 I1  
33639                             398 I1  
33640                             399 I1          SUB_END
33641                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33642 0000743E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33643                             400 I1          M_RTS
33644 00007440 000B                   M           RTS                             ;RTSの後ろの
33645 00007442 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33646                             401 I1  
33647                             402 I1  ;       *******************************************
33648                             403 I1  ;       ***                                     ***
33649                             404 I1  ;       ***             戻り位置比較            ***
33650                             405 I1  ;       ***                                     ***
33651                             406 I1  ;       *******************************************
33652                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   494
PROGRAM NAME =

33653 00007444 0001                   I1  DATA FOR SOURCE-LINE 347
33654 00007446 000A                   I1  DATA FOR SOURCE-LINE 351
33655 00007448 0064                   I1  DATA FOR SOURCE-LINE 355
33656 0000744A 03E8                   I1  DATA FOR SOURCE-LINE 359
33657 0000744C 00000000               I1  DATA FOR SOURCE-LINE 342
33658 00007450 00000000               I1  DATA FOR SOURCE-LINE 344
33659 00007454 00000000               I1  DATA FOR SOURCE-LINE 364
33660 00007458 00000000               I1  DATA FOR SOURCE-LINE 368
33661 0000745C 00000000               I1  DATA FOR SOURCE-LINE 371
33662 00007460 00000000               I1  DATA FOR SOURCE-LINE 375
33663 00007464 00000000               I1  DATA FOR SOURCE-LINE 378
33664 00007468 00000000               I1  DATA FOR SOURCE-LINE 382
33665 0000746C 00000000               I1  DATA FOR SOURCE-LINE 385
33666 00007470 00000000               I1  DATA FOR SOURCE-LINE 389
33667 00007474 00000000               I1  DATA FOR SOURCE-LINE 393
33668 00007478 00000000               I1  DATA FOR SOURCE-LINE 395
33669                                 I1  ***** END-POOL *****
33670 0000747C                    407 I1  _POSITIONER_DAI_OBJ1CMP:
33671                             408 I1          SUB_START
33672 0000747C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33673                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33674                             409 I1  
33675                             410 I1  
33676 0000747E D106               411 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33677 00007480 6212               412 I1          MOV.L   @R1,R2                          ;
33678                             413 I1  
33679 00007482 D106               414 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
33680 00007484 6312               415 I1          MOV.L   @R1,R3                          ;
33681                             416 I1  
33682 00007486 D106               417 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33683 00007488 6011               418 I1          MOV.W   @R1,R0                          ;
33684 0000748A C840               419 I1          TST     #BIT6,R0                        ;方向
33685                             420 I1          TST_BIT_ON POSITIONER_DAI_OBJ1CP_100    ;
33686 0000748C 8B0A                   M           BF      POSITIONER_DAI_OBJ1CP_100
33687                             421 I1  
33688                             422 I1  ;       上昇
33689 0000748E 3233               423 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
33690 00007490 8912               424 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
33691                             425 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATUP     ;
33692 00007492 A00B                   M           BRA     POSITIONER_DAI_OBJ1CP_WATUP
33693 00007494 0009                   M           NOP
33694                             426 I1  
33695                                 I1  ***** BEGIN-POOL *****
33696 00007496 0000                   I1  ALIGNMENT CODE
33697 00007498 00000000               I1  DATA FOR SOURCE-LINE 411
33698 0000749C 00000000               I1  DATA FOR SOURCE-LINE 414
33699 000074A0 00000000               I1  DATA FOR SOURCE-LINE 417
33700                                 I1  ***** END-POOL *****
33701 000074A4                    427 I1  POSITIONER_DAI_OBJ1CP_100:
33702                             428 I1  
33703                             429 I1  ;       下降
33704 000074A4 3323               430 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
33705 000074A6 8907               431 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
33706                             432 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATDN     ;
33707 000074A8 A003                   M           BRA     POSITIONER_DAI_OBJ1CP_WATDN
33708 000074AA 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   495
PROGRAM NAME =

33709                             433 I1  
33710                             434 I1  
33711                             435 I1  
33712 000074AC                    436 I1  POSITIONER_DAI_OBJ1CP_WATUP:
33713 000074AC E001               437 I1          MOV.B   #1,R0
33714                             438 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
33715 000074AE A004                   M           BRA     POSITIONER_DAI_OBJ1CP_END
33716 000074B0 0009                   M           NOP
33717                             439 I1  
33718 000074B2                    440 I1  POSITIONER_DAI_OBJ1CP_WATDN:
33719 000074B2 E0FF               441 I1          MOV.B   #-1,R0
33720                             442 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
33721 000074B4 A001                   M           BRA     POSITIONER_DAI_OBJ1CP_END
33722 000074B6 0009                   M           NOP
33723                             443 I1  
33724 000074B8                    444 I1  POSITIONER_DAI_OBJ1CP_OVR:
33725 000074B8 200A               445 I1          XOR     R0,R0                           ;
33726 000074BA                    446 I1  POSITIONER_DAI_OBJ1CP_END:
33727                             447 I1  
33728                             448 I1          SUB_END
33729                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33730 000074BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33731                             449 I1          M_RTS
33732 000074BC 000B                   M           RTS                             ;RTSの後ろの
33733 000074BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33734                             450 I1  
33735                             451 I1  
33736                             452 I1  ;       *******************************************
33737                             453 I1  ;       ***                                     ***
33738                             454 I1  ;       ***             指令OFF位置比較         ***
33739                             455 I1  ;       ***                                     ***
33740                             456 I1  ;       *******************************************
33741 000074C0                    457 I1  _POSITIONER_DAI_OBJ2CMP:
33742                             458 I1          SUB_START
33743 000074C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
33744                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33745                             459 I1  
33746                             460 I1  
33747 000074C2 D106               461 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33748 000074C4 6212               462 I1          MOV.L   @R1,R2                          ;
33749                             463 I1  
33750 000074C6 D106               464 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+ｵｰﾊ量-下降量
33751 000074C8 6312               465 I1          MOV.L   @R1,R3                          ;
33752                             466 I1  
33753 000074CA D106               467 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33754 000074CC 6011               468 I1          MOV.W   @R1,R0                          ;
33755 000074CE C840               469 I1          TST     #BIT6,R0                        ;方向
33756                             470 I1          TST_BIT_ON POSITIONER_DAI_OBJ2CP_100    ;
33757 000074D0 8B0A                   M           BF      POSITIONER_DAI_OBJ2CP_100
33758                             471 I1  
33759                             472 I1  ;       上昇から開始の下降中
33760 000074D2 3323               473 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
33761 000074D4 8912               474 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
33762                             475 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATDN     ;
33763 000074D6 A00E                   M           BRA     POSITIONER_DAI_OBJ2CP_WATDN
33764 000074D8 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   496
PROGRAM NAME =

33765                             476 I1  
33766                                 I1  ***** BEGIN-POOL *****
33767 000074DA 0000                   I1  ALIGNMENT CODE
33768 000074DC 00000000               I1  DATA FOR SOURCE-LINE 461
33769 000074E0 00000000               I1  DATA FOR SOURCE-LINE 464
33770 000074E4 00000000               I1  DATA FOR SOURCE-LINE 467
33771                                 I1  ***** END-POOL *****
33772 000074E8                    477 I1  POSITIONER_DAI_OBJ2CP_100:
33773                             478 I1  
33774                             479 I1  ;       下降から開始の上昇中
33775 000074E8 3233               480 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
33776 000074EA 8907               481 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
33777                             482 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATUP     ;
33778 000074EC A000                   M           BRA     POSITIONER_DAI_OBJ2CP_WATUP
33779 000074EE 0009                   M           NOP
33780                             483 I1  
33781                             484 I1  
33782                             485 I1  
33783 000074F0                    486 I1  POSITIONER_DAI_OBJ2CP_WATUP:
33784 000074F0 E001               487 I1          MOV.B   #1,R0
33785                             488 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
33786 000074F2 A004                   M           BRA     POSITIONER_DAI_OBJ2CP_END
33787 000074F4 0009                   M           NOP
33788 000074F6                    489 I1  POSITIONER_DAI_OBJ2CP_WATDN:
33789 000074F6 E0FF               490 I1          MOV.B   #-1,R0                          ;
33790                             491 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
33791 000074F8 A001                   M           BRA     POSITIONER_DAI_OBJ2CP_END
33792 000074FA 0009                   M           NOP
33793                             492 I1  
33794 000074FC                    493 I1  POSITIONER_DAI_OBJ2CP_STP:
33795 000074FC 200A               494 I1          XOR     R0,R0
33796 000074FE                    495 I1  POSITIONER_DAI_OBJ2CP_END:
33797                             496 I1  
33798                             497 I1          SUB_END
33799                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33800 000074FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33801                             498 I1          M_RTS
33802 00007500 000B                   M           RTS                             ;RTSの後ろの
33803 00007502 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33804                             499 I1  
33805                             500 I1  
33806                             501 I1  
33807 00007504                    502 I1  _POSITIONER_DAI_OUT:
33808                             503 I1          SUB_START
33809 00007504 4F22                   M           STS.L   PR,@-R15                ;[必要]
33810                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33811                             504 I1  
33812 00007506 222A               505 I1          XOR     R2,R2           ;停止
33813                             506 I1  
33814 00007508 2008               507 I1          TST     R0,R0
33815                             508 I1          TST_BIT_OF POSITIONER_DAIOUT_100
33816 0000750A 8903                   M           BT      POSITIONER_DAIOUT_100
33817                             509 I1  
33818 0000750C E208               510 I1          MOV.B   #BIT3,R2
33819 0000750E 8801               511 I1          CMP/EQ  #1,R0
33820 00007510 8900               512 I1          BT      POSITIONER_DAIOUT_100
33821                             513 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   497
PROGRAM NAME =

33822 00007512 E210               514 I1          MOV.B   #BIT4,R2
33823                             515 I1  
33824 00007514                    516 I1  POSITIONER_DAIOUT_100:
33825 00007514 D103               517 I1          MOV.L   #_POSINER_STS,R1
33826 00007516 6011               518 I1          MOV.W   @R1,R0
33827 00007518 C9E7               519 I1          AND     #LOW ~(BIT4+BIT3),R0
33828 0000751A 202B               520 I1          OR      R2,R0
33829 0000751C 2101               521 I1          MOV.W   R0,@R1                  ;
33830                             522 I1  
33831                             523 I1          SUB_END
33832                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33833 0000751E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33834                             524 I1          M_RTS
33835 00007520 000B                   M           RTS                             ;RTSの後ろの
33836 00007522 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33837                             525 I1  
33838                             526 I1  ;       *******************************************
33839                             527 I1  ;       ***                                     ***
33840                             528 I1  ;       ***             停止待ち                ***
33841                             529 I1  ;       ***                                     ***
33842                             530 I1  ;       *******************************************
33843                             531 I1  ;       基本は１秒間動作しなくなって、インポジ内にいるか
33844                             532 I1  ;       R0=0(動作中) R0=1(停止　ｲﾝﾎﾟｼﾞOK) R0=-1(停止,ｲﾝﾎﾟｼﾞ異常)
33845                             533 I1  ;       ・動作方向の位置が１秒間更新されなかったとき
33846                             534 I1  ;               MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
33847                             535 I1  ;       ・0.01mmの移動が1秒間無い
33848                                 I1  ***** BEGIN-POOL *****
33849 00007524 00000000               I1  DATA FOR SOURCE-LINE 517
33850                                 I1  ***** END-POOL *****
33851 00007528                    536 I1  _POSITIONER_DAI_STPCHK:
33852                             537 I1          SUB_START
33853 00007528 4F22                   M           STS.L   PR,@-R15                ;[必要]
33854                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33855                             538 I1  
33856 0000752A D106               539 I1          MOV.L   #_POSINER_PV_POS,R1     ;
33857 0000752C 6212               540 I1          MOV.L   @R1,R2                  ;
33858                             541 I1  
33859 0000752E D506               542 I1          MOV.L   #_POSINER_MOSTPV_POS,R5 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
33860 00007530 6452               543 I1          MOV.L   @R5,R4                          ;
33861                             544 I1  
33862 00007532 D106               545 I1          MOV.L   #_POSINER_STS,R1                ;
33863 00007534 6011               546 I1          MOV.W   @R1,R0                          ;
33864 00007536 C840               547 I1          TST     #BIT6,R0                        ;方向 0:下降(減少)で終了
33865                             548 I1          TST_BIT_ON POSITIONER_DAI_STPCK100      ;
33866 00007538 8B0A                   M           BF      POSITIONER_DAI_STPCK100
33867                             549 I1  
33868 0000753A 3243               550 I1          CMP/GE  R4,R2                           ;最下位置(R4)=<現在位置(R2)
33869 0000753C 8910               551 I1          BT      POSITIONER_DAI_STPCK200         ;OK
33870                             552 I1          M_BRA   POSITIONER_DAI_STPCK150         ;移動した
33871 0000753E A009                   M           BRA     POSITIONER_DAI_STPCK150
33872 00007540 0009                   M           NOP
33873                             553 I1  
33874                             554 I1  
33875                                 I1  ***** BEGIN-POOL *****
33876 00007542 0000                   I1  ALIGNMENT CODE
33877 00007544 00000000               I1  DATA FOR SOURCE-LINE 539
33878 00007548 00000000               I1  DATA FOR SOURCE-LINE 542
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   498
PROGRAM NAME =

33879 0000754C 00000000               I1  DATA FOR SOURCE-LINE 545
33880                                 I1  ***** END-POOL *****
33881 00007550                    555 I1  POSITIONER_DAI_STPCK100:
33882 00007550 3423               556 I1          CMP/GE  R2,R4                           ;現在位置(R2)=<最上位置(R4)
33883 00007552 8905               557 I1          BT      POSITIONER_DAI_STPCK200         ;OK
33884 00007554                    558 I1  POSITIONER_DAI_STPCK150:                        ;
33885                             559 I1  
33886 00007554 2522               560 I1          MOV.L   R2,@R5                          ;最下位置(最上位置)更新:動いた
33887                             561 I1  
33888 00007556 900F               562 I1          MOV.W   #D'1000,R0
33889 00007558 D108               563 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1       ;
33890 0000755A 2101               564 I1          MOV.W   R0,@R1
33891 0000755C D108               565 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
33892 0000755E 2101               566 I1          MOV.W   R0,@R1
33893                             567 I1  
33894                             568 I1  
33895 00007560                    569 I1  POSITIONER_DAI_STPCK200:
33896 00007560 D406               570 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R4
33897 00007562 6041               571 I1          MOV.W   @R4,R0
33898 00007564 2008               572 I1          TST     R0,R0
33899                             573 I1          TST_BIT_OF POSITIONER_DAI_STPCK250              ;
33900 00007566 890F                   M           BT      POSITIONER_DAI_STPCK250
33901 00007568 70FF               574 I1          ADD     #-1,R0
33902 0000756A 2401               575 I1          MOV.W   R0,@R4                                  ;
33903 0000756C 2008               576 I1          TST     R0,R0                                   ;
33904                             577 I1          TST_BIT_ON POSITIONER_DAI_STPCK230
33905 0000756E 8B01                   M           BF      POSITIONER_DAI_STPCK230
33906 00007570 D104               578 I1          MOV.L   #_POSINER_OLDPV_POS,R1                  ;
33907 00007572 2122               579 I1          MOV.L   R2,@R1                                  ;R2(NOW),R3(OLD)
33908 00007574                    580 I1  POSITIONER_DAI_STPCK230:
33909                             581 I1          M_BRA   POSITIONER_DAI_STPCKWAT                 ;
33910 00007574 A03A                   M           BRA     POSITIONER_DAI_STPCKWAT
33911 00007576 0009                   M           NOP
33912                             582 I1  
33913                             583 I1  
33914                                 I1  ***** BEGIN-POOL *****
33915 00007578 03E8                   I1  DATA FOR SOURCE-LINE 562
33916 0000757A 0000                   I1  ALIGNMENT CODE
33917 0000757C 00000000               I1  DATA FOR SOURCE-LINE 563,570
33918 00007580 00000000               I1  DATA FOR SOURCE-LINE 565
33919 00007584 00000000               I1  DATA FOR SOURCE-LINE 578
33920                                 I1  ***** END-POOL *****
33921 00007588                    584 I1  POSITIONER_DAI_STPCK250:
33922                             585 I1  ;       ---FIRSTﾀｲﾏOK---
33923 00007588 D513               586 I1          MOV.L   #_POSINER_OLDPV_POS,R5
33924 0000758A 6352               587 I1          MOV.L   @R5,R3                  ;R2(NOW),R3(OLD)
33925 0000758C 3328               588 I1          SUB     R2,R3                   ;
33926 0000758E 4311               589 I1          CMP/PZ  R3                      ;
33927 00007590 8900               590 I1          BT      POSITIONER_DAI_STPCK280 ;
33928 00007592 633B               591 I1          NEG     R3,R3                   ;
33929 00007594                    592 I1  POSITIONER_DAI_STPCK280:                ;
33930 00007594 901D               593 I1          MOV.W   #D'10,R0
33931 00007596 3036               594 I1          CMP/HI  R3,R0                   ;R3<R0(10 0.01mm)
33932 00007598 8903               595 I1          BT      POSITIONER_DAI_STPCK300 ;
33933                             596 I1  
33934                             597 I1  ;       ------------- 0.01mm動いた------------
33935 0000759A 2522               598 I1          MOV.L   R2,@R5                          ;前回位置更新
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   499
PROGRAM NAME =

33936 0000759C 901A               599 I1          MOV.W   #D'1000,R0                      ;
33937 0000759E D10F               600 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
33938 000075A0 2101               601 I1          MOV.W   R0,@R1                          ;
33939                             602 I1  
33940 000075A2                    603 I1  POSITIONER_DAI_STPCK300:                        ;
33941                             604 I1  
33942                             605 I1  
33943                             606 I1          DN_TIME LG=W,MEM_ADR=_POSINER_STOPCHK_TIM2,WKREG1=R1,WKREG2=R4  ;10msec 定周期
33944 000075A2 D10E                   M           MOV.L   #_POSINER_STOPCHK_TIM2,R1               ;SORCE ADRESS SET
33945 000075A4 6411                   M           MOV.W   @R1,R4          ;
33946 000075A6 2448                   M           TST     R4,R4                   ;
33947 000075A8 8901                   M           BT      JMP_0100026                     ;ZERO THEN JUMP
33948 000075AA 4410                   M           DT      R4                              ;
33949 000075AC 2141                   M           MOV.W   R4,@R1          ;STORE
33950 000075AE                        M   JMP_0100026:
33951                             607 I1  
33952 000075AE D40B               608 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R4
33953 000075B0 6041               609 I1          MOV.W   @R4,R0
33954 000075B2 2008               610 I1          TST     R0,R0
33955                             611 I1          TST_BIT_ON POSITIONER_DAI_STPCKWAT              ;
33956 000075B4 8B1A                   M           BF      POSITIONER_DAI_STPCKWAT
33957                             612 I1  
33958                             613 I1  
33959                             614 I1  ;       停止終了,ｲﾝﾎﾟｼﾞｼｮﾝ
33960 000075B6 D10A               615 I1          MOV.L   #_POSINER_PV_POS,R1             ;
33961 000075B8 6212               616 I1          MOV.L   @R1,R2                          ;
33962 000075BA D10A               617 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33963 000075BC 6312               618 I1          MOV.L   @R1,R3                          ;
33964 000075BE 3328               619 I1          SUB     R2,R3                           ;
33965 000075C0 4311               620 I1          CMP/PZ  R3
33966 000075C2 8900               621 I1          BT      POSITIONER_DAI_STPCK320         ;
33967 000075C4 633B               622 I1          NEG     R3,R3
33968 000075C6                    623 I1  POSITIONER_DAI_STPCK320:                        ;
33969                             624 I1  
33970 000075C6 D108               625 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
33971 000075C8 6012               626 I1          MOV.L   @R1,R0                          ;0.001mm
33972 000075CA 3033               627 I1          CMP/GE  R3,R0                           ;
33973 000075CC 8914               628 I1          BT      POSITIONER_DAI_STPCKINP         ;ｲﾝﾎﾟｼﾞｼｮﾝ
33974                             629 I1          M_BRA   POSITIONER_DAI_STPCKERR         ;
33975 000075CE A010                   M           BRA     POSITIONER_DAI_STPCKERR
33976 000075D0 0009                   M           NOP
33977                             630 I1  
33978                             631 I1  
33979                                 I1  ***** BEGIN-POOL *****
33980 000075D2 000A                   I1  DATA FOR SOURCE-LINE 593
33981 000075D4 03E8                   I1  DATA FOR SOURCE-LINE 599
33982 000075D6 0000                   I1  ALIGNMENT CODE
33983 000075D8 00000000               I1  DATA FOR SOURCE-LINE 586
33984 000075DC 00000000               I1  DATA FOR SOURCE-LINE 600,606,608
33985 000075E0 00000000               I1  DATA FOR SOURCE-LINE 615
33986 000075E4 00000000               I1  DATA FOR SOURCE-LINE 617
33987 000075E8 00000000               I1  DATA FOR SOURCE-LINE 625
33988                                 I1  ***** END-POOL *****
33989 000075EC                    632 I1  POSITIONER_DAI_STPCKWAT:
33990 000075EC 200A               633 I1          XOR     R0,R0
33991                             634 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
33992 000075EE A004                   M           BRA     POSITIONER_DAI_STPCKEND
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   500
PROGRAM NAME =

33993 000075F0 0009                   M           NOP
33994                             635 I1  
33995 000075F2                    636 I1  POSITIONER_DAI_STPCKERR:                        ;
33996 000075F2 E0FF               637 I1          MOV.B   #-1,R0                          ;
33997                             638 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
33998 000075F4 A001                   M           BRA     POSITIONER_DAI_STPCKEND
33999 000075F6 0009                   M           NOP
34000                             639 I1  
34001 000075F8                    640 I1  POSITIONER_DAI_STPCKINP:                        ;
34002 000075F8 E001               641 I1          MOV.B   #1,R0                           ;
34003                             642 I1  
34004 000075FA                    643 I1  POSITIONER_DAI_STPCKEND:
34005                             644 I1  
34006                             645 I1          SUB_END
34007                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34008 000075FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34009                             646 I1          M_RTS
34010 000075FC 000B                   M           RTS                             ;RTSの後ろの
34011 000075FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34012                             647 I1  
34013                             648 I1  
34014                           10725     
34015                           10726     
34016                           10727     
34017                           10728     
34018                           10729     
34019                           10730     
34020                           10731     
34021                           10732     
34022                           10733     
34023                           10734     
34024                           10735     
34025                           10736     
34026                           10737     
34027                           10738     
34028                           10739     
34029                           10740     
34030                           10741     
34031                           10742     
34032                           10743     
34033                           10744     
34034                           10745     
34035                           10746     
34036                           10747     ;       ***************************************************
34037                           10748     ;       ***                                             ***
34038                           10749     ;       ***                                             ***
34039                           10750     ;       ***                                             ***
34040                           10751     ;       ***     行程前に加速・減速処理                  ***
34041                           10752     ;       ***     行程後に加速・減速処理                  ***
34042                           10753     ;       ***     各行程での指定                          ***
34043                           10754     ;       ***     2016-04-18                              ***
34044                           10755     ;       ***                                             ***
34045                           10756     ;       ***                                             ***
34046                           10757     ;       ***                                             ***
34047                           10758     ;       ***************************************************
34048                           10759             .EXPORT _ACC_MATHED_SEL_MAIN                    ;ﾒｲﾝｽｷｬﾝ有効/無効程度
34049                           10760             .EXPORT _API_ACC_MATHED_COM_DRV_START1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   501
PROGRAM NAME =

34050                           10761             .EXPORT _API_ACC_MATHED_COM_DRV_STOP            ;
34051                           10762             .EXPORT _ACC_MATHED_SEL_CTRL                    ;1MS(制御ﾒｲﾝ):
34052                           10763                                                             ;_PLS_LSI_CTRLの中でPOSCTL_SET_SPD
34053                           10764                                                             ;(ｵｰﾊﾞﾗｲﾄﾞ前の設定ﾚﾍﾞﾙの変換演算)
34054                           10765             .EXPORT _ACCSEL_CHGSPD_LIMIT_INFO_LOAD          ;
34055                           10766     
34056                           10767             .INCLUDE        "ssa_accupdn_sel.inc"           ;
34057                               1 I1  ;       ***************************************************
34058                               2 I1  ;       ***                                             ***
34059                               3 I1  ;       ***                                             ***
34060                               4 I1  ;       ***                                             ***
34061                               5 I1  ;       ***     行程前に加速・減速処理                  ***
34062                               6 I1  ;       ***     行程後に加速・減速処理                  ***
34063                               7 I1  ;       ***     各行程での指定                          ***
34064                               8 I1  ;       ***     2016-04-18                              ***
34065                               9 I1  ;       ***                                             ***
34066                              10 I1  ;       ***                                             ***
34067                              11 I1  ;       ***                                             ***
34068                              12 I1  ;       ***************************************************
34069                              13 I1          .IMPORT         _PAR_ACCDN_MATH         ;5 2015-11-18 加減速　減速優先[CE2]
34070                              14 I1  ;       *******************************************
34071                              15 I1  ;       ***                                     ***
34072                              16 I1  ;       ***     バックグランドでCALL            ***
34073                              17 I1  ;       ***     条件作成                        ***
34074                              18 I1  ;       ***                                     ***
34075                              19 I1  ;       *******************************************
34076 00007600                     20 I1  _ACC_MATHED_SEL_MAIN
34077                              21 I1          SUB_START
34078 00007600 4F22                   M           STS.L   PR,@-R15                ;[必要]
34079                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34080 00007602 D104                22 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34081 00007604 6011                23 I1          MOV.W   @R1,R0                          ;
34082 00007606 8801                24 I1          CMP/EQ  #1,R0                           ;
34083 00007608 8B08                25 I1          BF      ACC_MATHED_SEL_MN_100           ;
34084                              26 I1  
34085                              27 I1  ;       -----   低速優先        -----
34086                              28 I1          FAR_JSR #_ACCLW_DATA_MAIN,R0            ;[1だ]
34087 0000760A D003                   M           MOV.L   #_ACCLW_DATA_MAIN,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34088 0000760C 400B                   M           JSR     @R0                     ;
34089 0000760E 0009                   M           NOP                                     ;
34090                              29 I1          M_BRA   ACC_MATHED_SEL_MN_END           ;
34091 00007610 A009                   M           BRA     ACC_MATHED_SEL_MN_END
34092 00007612 0009                   M           NOP
34093                              30 I1  
34094                              31 I1  
34095                                 I1  ***** BEGIN-POOL *****
34096 00007614 00000000               I1  DATA FOR SOURCE-LINE 22
34097 00007618 00000000               I1  DATA FOR SOURCE-LINE 28
34098                                 I1  ***** END-POOL *****
34099 0000761C                     32 I1  ACC_MATHED_SEL_MN_100                           ;
34100 0000761C 8802                33 I1          CMP/EQ  #2,R0                           ;
34101 0000761E 8B02                34 I1          BF      ACC_MATHED_SEL_MN_END           ;
34102                              35 I1  
34103                              36 I1  ;       -----   各段指定        -----
34104                              37 I1          FAR_JSR #_ACCST_DATA_MAIN,R0            ;[2だ]
34105 00007620 D002                   M           MOV.L   #_ACCST_DATA_MAIN,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34106 00007622 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   502
PROGRAM NAME =

34107 00007624 0009                   M           NOP                                     ;
34108                              38 I1  
34109                              39 I1  
34110 00007626                     40 I1  ACC_MATHED_SEL_MN_END                           ;
34111                              41 I1  
34112                              42 I1  
34113                              43 I1          SUB_END
34114                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34115 00007626 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34116                              44 I1          M_RTS
34117 00007628 000B                   M           RTS                             ;RTSの後ろの
34118 0000762A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34119                              45 I1  
34120                              46 I1  
34121                              47 I1  
34122                              48 I1  ;       ***************************************************
34123                              49 I1  ;       ***                                             ***
34124                              50 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
34125                              51 I1  ;       ***                                             ***
34126                              52 I1  ;       ***************************************************
34127                                 I1  ***** BEGIN-POOL *****
34128 0000762C 00000000               I1  DATA FOR SOURCE-LINE 37
34129                                 I1  ***** END-POOL *****
34130 00007630                     53 I1  _API_ACC_MATHED_COM_DRV_START1
34131                              54 I1          SUB_START
34132 00007630 4F22                   M           STS.L   PR,@-R15                ;[必要]
34133                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34134                              55 I1  
34135 00007632 D104                56 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34136 00007634 6011                57 I1          MOV.W   @R1,R0                          ;
34137 00007636 8801                58 I1          CMP/EQ  #1,R0                           ;
34138 00007638 8B08                59 I1          BF      ACC_MATHED_COM_DRVST1_100       ;
34139                              60 I1  
34140                              61 I1  ;       -----   低速優先        -----
34141                              62 I1          FAR_JSR #_API_ACCLW_DRV_START1,R0       ;
34142 0000763A D003                   M           MOV.L   #_API_ACCLW_DRV_START1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34143 0000763C 400B                   M           JSR     @R0                     ;
34144 0000763E 0009                   M           NOP                                     ;
34145                              63 I1  
34146                              64 I1          M_BRA   ACC_MATHED_COM_DRVST1_END       ;
34147 00007640 A009                   M           BRA     ACC_MATHED_COM_DRVST1_END
34148 00007642 0009                   M           NOP
34149                              65 I1  
34150                              66 I1  
34151                                 I1  ***** BEGIN-POOL *****
34152 00007644 00000000               I1  DATA FOR SOURCE-LINE 56
34153 00007648 00000000               I1  DATA FOR SOURCE-LINE 62
34154                                 I1  ***** END-POOL *****
34155 0000764C                     67 I1  ACC_MATHED_COM_DRVST1_100                       ;
34156 0000764C 8802                68 I1          CMP/EQ  #2,R0                           ;
34157 0000764E 8B02                69 I1          BF      ACC_MATHED_COM_DRVST1_END       ;
34158                              70 I1  
34159                              71 I1  ;       -----   各段指定        -----
34160                              72 I1          FAR_JSR #_API_ACCST_DRV_START1,R0       ;
34161 00007650 D002                   M           MOV.L   #_API_ACCST_DRV_START1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34162 00007652 400B                   M           JSR     @R0                     ;
34163 00007654 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   503
PROGRAM NAME =

34164                              73 I1  
34165 00007656                     74 I1  ACC_MATHED_COM_DRVST1_END:      ;
34166                              75 I1  
34167                              76 I1          SUB_END
34168                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34169 00007656 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34170                              77 I1          M_RTS
34171 00007658 000B                   M           RTS                             ;RTSの後ろの
34172 0000765A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34173                              78 I1  
34174                              79 I1  
34175                              80 I1  
34176                              81 I1  
34177                              82 I1  
34178                              83 I1  ;       *******************************************
34179                              84 I1  ;       ***                                     ***
34180                              85 I1  ;       ***     位置決め中断時CALL              ***
34181                              86 I1  ;       ***     位置決め停止タイマ時CALL        ***
34182                              87 I1  ;       ***     異常時CALL                      ***
34183                              88 I1  ;       ***                                     ***
34184                              89 I1  ;       *******************************************
34185                              90 I1  ;//BIT0:起動[API]
34186                              91 I1  ;//BIT6:[減速開始]
34187                              92 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
34188                              93 I1  ;//
34189                              94 I1  
34190                                 I1  ***** BEGIN-POOL *****
34191 0000765C 00000000               I1  DATA FOR SOURCE-LINE 72
34192                                 I1  ***** END-POOL *****
34193 00007660                     95 I1  _API_ACC_MATHED_COM_DRV_STOP
34194                              96 I1          SUB_START
34195 00007660 4F22                   M           STS.L   PR,@-R15                ;[必要]
34196                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34197                              97 I1  ;       (ここは判断がなくてもいいでしょう)
34198                              98 I1  
34199                              99 I1  ;       -----   低速優先        -----
34200                             100 I1  ;       ---     フラグクリア    ---
34201                             101 I1          FAR_JSR #_API_ACCLW_DRV_STOP,R0
34202 00007662 D004                   M           MOV.L   #_API_ACCLW_DRV_STOP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34203 00007664 400B                   M           JSR     @R0                     ;
34204 00007666 0009                   M           NOP                                     ;
34205                             102 I1  
34206                             103 I1  ;       -----   各段指定        -----
34207                             104 I1  ;       ---     フラグクリア    ---
34208                             105 I1          FAR_JSR #_API_ACCST_DRV_STOP,R0
34209 00007668 D003                   M           MOV.L   #_API_ACCST_DRV_STOP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34210 0000766A 400B                   M           JSR     @R0                     ;
34211 0000766C 0009                   M           NOP                                     ;
34212                             106 I1  
34213                             107 I1  
34214                             108 I1          SUB_END
34215                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34216 0000766E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34217                             109 I1          M_RTS
34218 00007670 000B                   M           RTS                             ;RTSの後ろの
34219 00007672 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34220                             110 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   504
PROGRAM NAME =

34221                             111 I1  
34222                             112 I1  
34223                             113 I1  ;       *******************************************
34224                             114 I1  ;       ***                                     ***
34225                             115 I1  ;       ***     1msecでCALL     メイン          ***
34226                             116 I1  ;       ***                                     ***
34227                             117 I1  ;       *******************************************
34228                             118 I1  ;       [Input R2]
34229                                 I1  ***** BEGIN-POOL *****
34230 00007674 00000000               I1  DATA FOR SOURCE-LINE 101
34231 00007678 00000000               I1  DATA FOR SOURCE-LINE 105
34232                                 I1  ***** END-POOL *****
34233 0000767C                    119 I1  _ACC_MATHED_SEL_CTRL
34234                             120 I1          SUB_START
34235 0000767C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34236                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34237                             121 I1  
34238 0000767E D104               122 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34239 00007680 6011               123 I1          MOV.W   @R1,R0                          ;
34240 00007682 8801               124 I1          CMP/EQ  #1,R0                           ;
34241 00007684 8B08               125 I1          BF      ACC_MATHED_CTLSEL_100           ;
34242                             126 I1  
34243                             127 I1  ;       -----   低速優先        -----
34244                             128 I1          FAR_JSR #_ACCLW_CTRL_CALC,R0            ;2015-11-17 減速選択
34245 00007686 D003                   M           MOV.L   #_ACCLW_CTRL_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34246 00007688 400B                   M           JSR     @R0                     ;
34247 0000768A 0009                   M           NOP                                     ;
34248                             129 I1  
34249                             130 I1          M_BRA   ACC_MATHED_CTLSEL_END           ;
34250 0000768C A009                   M           BRA     ACC_MATHED_CTLSEL_END
34251 0000768E 0009                   M           NOP
34252                             131 I1  
34253                             132 I1  
34254                                 I1  ***** BEGIN-POOL *****
34255 00007690 00000000               I1  DATA FOR SOURCE-LINE 122
34256 00007694 00000000               I1  DATA FOR SOURCE-LINE 128
34257                                 I1  ***** END-POOL *****
34258 00007698                    133 I1  ACC_MATHED_CTLSEL_100                           ;
34259 00007698 8802               134 I1          CMP/EQ  #2,R0                           ;
34260 0000769A 8B02               135 I1          BF      ACC_MATHED_CTLSEL_END           ;
34261                             136 I1  
34262                             137 I1  ;       -----   各段指定        -----
34263                             138 I1          FAR_JSR #_ACCST_CTRL_CALC,R0            ;[2だ]
34264 0000769C D002                   M           MOV.L   #_ACCST_CTRL_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34265 0000769E 400B                   M           JSR     @R0                     ;
34266 000076A0 0009                   M           NOP                                     ;
34267                             139 I1  
34268 000076A2                    140 I1  ACC_MATHED_CTLSEL_END                           ;
34269                             141 I1  
34270                             142 I1  
34271                             143 I1          SUB_END
34272                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34273 000076A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34274                             144 I1          M_RTS
34275 000076A4 000B                   M           RTS                             ;RTSの後ろの
34276 000076A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34277                             145 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   505
PROGRAM NAME =

34278                             146 I1  
34279                             147 I1  
34280                             148 I1  
34281                             149 I1  
34282                             150 I1  
34283                             151 I1  
34284                             152 I1  
34285                             153 I1  
34286                             154 I1  
34287                             155 I1  
34288                             156 I1  
34289                             157 I1  
34290                             158 I1  ;       *******************************************
34291                             159 I1  ;       ***                                     ***
34292                             160 I1  ;       ***                                     ***
34293                             161 I1  ;       ***                                     ***
34294                             162 I1  ;       ***                                     ***
34295                             163 I1  ;       *******************************************
34296                             164 I1  ;       レジスタはR0以外破壊しないこと
34297                             165 I1  ;       R0=0/R0=1(前減速,前加速)-速度チェック１不要
34298                                 I1  ***** BEGIN-POOL *****
34299 000076A8 00000000               I1  DATA FOR SOURCE-LINE 138
34300                                 I1  ***** END-POOL *****
34301 000076AC                    166 I1  _ACCSEL_CHGSPD_LIMIT_INFO_LOAD:
34302                             167 I1          SUB_START
34303 000076AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
34304                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34305                             168 I1  
34306                             169 I1          PUSH_REG1 R1
34307 000076AE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
34308                                 M                                           ;REG=>[SP]
34309                                 M                                           ;"-4" FF,FF,FF,FC
34310                             170 I1  
34311 000076B0 D103               171 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34312 000076B2 6011               172 I1          MOV.W   @R1,R0                          ;
34313 000076B4 8801               173 I1          CMP/EQ  #1,R0                           ;
34314 000076B6 8B05               174 I1          BF      ACCCHGSPD_LMT_INF_LD_100        ;
34315                             175 I1  
34316                             176 I1  ;       -----   低速優先        -----
34317 000076B8 200A               177 I1          XOR     R0,R0
34318                             178 I1          M_BRA   ACCCHGSPD_LMT_INF_LD_END        ;
34319 000076BA A00E                   M           BRA     ACCCHGSPD_LMT_INF_LD_END
34320 000076BC 0009                   M           NOP
34321                             179 I1  
34322                             180 I1  
34323                                 I1  ***** BEGIN-POOL *****
34324 000076BE 0000                   I1  ALIGNMENT CODE
34325 000076C0 00000000               I1  DATA FOR SOURCE-LINE 171
34326                                 I1  ***** END-POOL *****
34327 000076C4                    181 I1  ACCCHGSPD_LMT_INF_LD_100:
34328 000076C4 8802               182 I1          CMP/EQ  #2,R0                           ;
34329 000076C6 8B07               183 I1          BF      ACCCHGSPD_LMT_INF_LD_200
34330                             184 I1  
34331                             185 I1  ;       -----   各段指定        -----
34332                             186 I1          FAR_JSR #_ACCST_CHGSPD_LIMIT_INFO_LOAD,R0       ;
34333 000076C8 D002                   M           MOV.L   #_ACCST_CHGSPD_LIMIT_INFO_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34334 000076CA 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   506
PROGRAM NAME =

34335 000076CC 0009                   M           NOP                                     ;
34336                             187 I1          M_BRA   ACCCHGSPD_LMT_INF_LD_END                ;
34337 000076CE A004                   M           BRA     ACCCHGSPD_LMT_INF_LD_END
34338 000076D0 0009                   M           NOP
34339                             188 I1  
34340                                 I1  ***** BEGIN-POOL *****
34341 000076D2 0000                   I1  ALIGNMENT CODE
34342 000076D4 00000000               I1  DATA FOR SOURCE-LINE 186
34343                                 I1  ***** END-POOL *****
34344 000076D8                    189 I1  ACCCHGSPD_LMT_INF_LD_200                                ;
34345 000076D8 200A               190 I1          XOR     R0,R0
34346 000076DA                    191 I1  ACCCHGSPD_LMT_INF_LD_END                                ;
34347                             192 I1  
34348                             193 I1          POP_REG1 R1
34349                                 M                                   ; RE"+4" 00,00,00,04
34350 000076DA 61F6                   M           MOV.L   @R15+,R1        ;
34351                             194 I1  
34352                             195 I1          SUB_END
34353                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34354 000076DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34355                             196 I1          M_RTS
34356 000076DE 000B                   M           RTS                             ;RTSの後ろの
34357 000076E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34358                             197 I1  
34359                           10768     
34360                           10769     ;       *******************************************
34361                           10770     ;       ***                                     ***
34362                           10771     ;       ***                                     ***
34363                           10772     ;       ***                                     ***
34364                           10773     ;       ***     低速減速優先演算                ***
34365                           10774     ;       ***     2015-11-17                      ***
34366                           10775     ;       ***                                     ***
34367                           10776     ;       ***                                     ***
34368                           10777     ;       *******************************************
34369                           10778     ;;;;;;;         2016-04-18 必ず ssa_accupdn_sel.incの中でCALL
34370                           10779     ;;;;;;;         .EXPORT _ACCLW_DATA_MAIN                ;
34371                           10780     ;;;;;;;         .EXPORT _API_ACCLW_DRV_START1           ;
34372                           10781     ;;;;;;;         .EXPORT _API_ACCLW_DRV_STOP             ;
34373                           10782     ;;;;;;;         .EXPORT _ACCLW_CTRL_CALC                ;
34374                           10783     
34375                           10784             .INCLUDE        "ssa_aclw.inc"          ;//低速優先減速演算
34376                               1 I1  ;       ***************************************************
34377                               2 I1  ;       ***                                             ***
34378                               3 I1  ;       ***                                             ***
34379                               4 I1  ;       ***                                             ***
34380                               5 I1  ;       ***             低速優先　内部減速処理          ***
34381                               6 I1  ;       ***             2015-11-17 減速選択             ***
34382                               7 I1  ;       ***                                             ***
34383                               8 I1  ;       ***                                             ***
34384                               9 I1  ;       ***                                             ***
34385                              10 I1  ;       ***************************************************
34386                              11 I1  
34387                              12 I1  ;       *******************************************
34388                              13 I1  ;       ***                                     ***
34389                              14 I1  ;       ***     バックグランドでCALL            ***
34390                              15 I1  ;       ***     条件作成                        ***
34391                              16 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   507
PROGRAM NAME =

34392                              17 I1  ;       *******************************************
34393                              18 I1  ;;;;;;;;;2016-04-18     .IMPORT         _PAR_ACCDN_MATH         ;5 2015-11-18 加減速　減速
                                          優先[CE2]
34394                              19 I1  
34395 000076E2                     20 I1  _ACCLW_DATA_MAIN
34396                              21 I1          SUB_START
34397 000076E2 4F22                   M           STS.L   PR,@-R15                ;[必要]
34398                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34399                              22 I1  
34400                              23 I1  ;;;;;;;;;2016-04-18
34401                              24 I1  ;;;;;;;;;       ================ USE-CHECK-----------------
34402                              25 I1  ;;;;;;;;;       MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
34403                              26 I1  ;;;;;;;;;       MOV.W   @R1,R0                          ;
34404                              27 I1  ;;;;;;;;;       CMP/EQ  #1,R0                           ;
34405                              28 I1  ;;;;;;;;;       BF      ACCLW_USECHK_EXT                ;
34406                              29 I1  
34407 000076E4 222A                30 I1          XOR     R2,R2
34408 000076E6 D109                31 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
34409 000076E8 6011                32 I1          MOV.W   @R1,R0                                  ;
34410 000076EA C801                33 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
34411                              34 I1          TST_BIT_OF ACCLW_USECHK_100                     ;no use
34412 000076EC 8908                   M           BT      ACCLW_USECHK_100
34413                              35 I1  
34414 000076EE D108                36 I1          MOV.L   #_MODE_SEL,R1                           ;
34415 000076F0 6011                37 I1          MOV.W   @R1,R0                                  ;
34416 000076F2 C81E                38 I1          TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
34417                              39 I1          TST_BIT_OF ACCLW_USECHK_100                     ;no use
34418 000076F4 8904                   M           BT      ACCLW_USECHK_100
34419                              40 I1  
34420                              41 I1  
34421 000076F6 D107                42 I1          MOV.L   #_LINK_1ROT_PLS,R1                      ;
34422 000076F8 6412                43 I1          MOV.L   @R1,R4                                  ;
34423 000076FA D107                44 I1          MOV.L   #_ACCLW_GEN_MAX_LNG,R1                  ;最大速度時の減速距離
34424 000076FC 2142                45 I1          MOV.L   R4,@R1                                  ;(とりあえず360度分)
34425                              46 I1  
34426                              47 I1  
34427 000076FE E201                48 I1          MOV.B   #BIT0,R2                                ;
34428                              49 I1  
34429 00007700                     50 I1  ACCLW_USECHK_100
34430 00007700 D106                51 I1          MOV.L   #_ACCLW_USE_CONF,R1                     ;
34431 00007702 2121                52 I1          MOV.W   R2,@R1                                  ;
34432                              53 I1  
34433                              54 I1  ;;;;;;;;;ACCLW_USECHK_EXT
34434                              55 I1  
34435                              56 I1          SUB_END
34436                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34437 00007704 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34438                              57 I1          M_RTS
34439 00007706 000B                   M           RTS                             ;RTSの後ろの
34440 00007708 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34441                              58 I1  
34442                              59 I1  ;       ***************************************************
34443                              60 I1  ;       ***                                             ***
34444                              61 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
34445                              62 I1  ;       ***                                             ***
34446                              63 I1  ;       ***************************************************
34447                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   508
PROGRAM NAME =

34448 0000770A 0000                   I1  ALIGNMENT CODE
34449 0000770C 00000000               I1  DATA FOR SOURCE-LINE 31
34450 00007710 00000000               I1  DATA FOR SOURCE-LINE 36
34451 00007714 00000000               I1  DATA FOR SOURCE-LINE 42
34452 00007718 00000000               I1  DATA FOR SOURCE-LINE 44
34453 0000771C 00000000               I1  DATA FOR SOURCE-LINE 51
34454                                 I1  ***** END-POOL *****
34455 00007720                     64 I1  _API_ACCLW_DRV_START1
34456                              65 I1          SUB_START
34457 00007720 4F22                   M           STS.L   PR,@-R15                ;[必要]
34458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34459                              66 I1  
34460                              67 I1  
34461                              68 I1          FAR_JSR #_API_ACCLW_DRV_START2,R0       ;
34462 00007722 D004                   M           MOV.L   #_API_ACCLW_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34463 00007724 400B                   M           JSR     @R0                     ;
34464 00007726 0009                   M           NOP                                     ;
34465                              69 I1          FAR_JSR #_API_ACCLW_DRV_WORK_CLR,R0     ;デバック用
34466 00007728 D003                   M           MOV.L   #_API_ACCLW_DRV_WORK_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34467 0000772A 400B                   M           JSR     @R0                     ;
34468 0000772C 0009                   M           NOP                                     ;
34469                              70 I1  
34470                              71 I1          SUB_END
34471                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34472 0000772E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34473                              72 I1          M_RTS
34474 00007730 000B                   M           RTS                             ;RTSの後ろの
34475 00007732 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34476                              73 I1  
34477                              74 I1  ;       ----------- ﾃﾞﾊﾞｯｸ用にｸﾘｱ------------
34478                                 I1  ***** BEGIN-POOL *****
34479 00007734 00000000               I1  DATA FOR SOURCE-LINE 68
34480 00007738 00000000               I1  DATA FOR SOURCE-LINE 69
34481                                 I1  ***** END-POOL *****
34482 0000773C                     75 I1  _API_ACCLW_DRV_WORK_CLR
34483                              76 I1          SUB_START
34484 0000773C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34485                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34486 0000773E 200A                77 I1          XOR     R0,R0
34487 00007740 D104                78 I1          MOV.L   #_ACCLW_GET_STEP_NO,R1          ;//BIT1=1時の対象行程
34488 00007742 2101                79 I1          MOV.W   R0,@R1                          ;
34489 00007744 D104                80 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
34490 00007746 2102                81 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
34491 00007748 D104                82 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;//出力速度
34492 0000774A 2102                83 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
34493                              84 I1          SUB_END
34494                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34495 0000774C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34496                              85 I1          M_RTS
34497 0000774E 000B                   M           RTS                             ;RTSの後ろの
34498 00007750 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34499                              86 I1  
34500                              87 I1  ;       ***************************************************
34501                              88 I1  ;       ***                                             ***
34502                              89 I1  ;       ***     起動時CALL(減速完了,次の減速演算)       ***
34503                              90 I1  ;       ***                                             ***
34504                              91 I1  ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   509
PROGRAM NAME =

34505                                 I1  ***** BEGIN-POOL *****
34506 00007752 0000                   I1  ALIGNMENT CODE
34507 00007754 00000000               I1  DATA FOR SOURCE-LINE 78
34508 00007758 00000000               I1  DATA FOR SOURCE-LINE 80
34509 0000775C 00000000               I1  DATA FOR SOURCE-LINE 82
34510                                 I1  ***** END-POOL *****
34511 00007760                     92 I1  _API_ACCLW_DRV_START2
34512                              93 I1          SUB_START
34513 00007760 4F22                   M           STS.L   PR,@-R15                ;[必要]
34514                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34515                              94 I1  
34516 00007762 D105                95 I1          MOV.L   #_ACCLW_USE_CONF,R1                     ;
34517 00007764 6011                96 I1          MOV.W   @R1,R0                                  ;
34518 00007766 C801                97 I1          TST     #BIT0,R0                                ;
34519                              98 I1          TST_BIT_OF API_ACCLW_DRVSTR2_EXT                ;
34520 00007768 8902                   M           BT      API_ACCLW_DRVSTR2_EXT
34521                              99 I1  
34522 0000776A E001               100 I1          MOV.B   #BIT0,R0                        ;
34523 0000776C D103               101 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
34524 0000776E 2101               102 I1          MOV.W   R0,@R1                          ;[BIT6,BIT7CLR BIT0=1]
34525                             103 I1  
34526 00007770                    104 I1  API_ACCLW_DRVSTR2_EXT
34527                             105 I1  
34528                             106 I1          SUB_END
34529                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34530 00007770 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34531                             107 I1          M_RTS
34532 00007772 000B                   M           RTS                             ;RTSの後ろの
34533 00007774 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34534                             108 I1  
34535                             109 I1  
34536                             110 I1  
34537                             111 I1  ;       *******************************************
34538                             112 I1  ;       ***                                     ***
34539                             113 I1  ;       ***     位置決め中断時CALL              ***
34540                             114 I1  ;       ***     位置決め停止タイマ時CALL        ***
34541                             115 I1  ;       ***     異常時CALL                      ***
34542                             116 I1  ;       ***                                     ***
34543                             117 I1  ;       *******************************************
34544                             118 I1  ;//BIT0:起動[API]
34545                             119 I1  ;//BIT6:[減速開始]
34546                             120 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
34547                             121 I1  ;//
34548                             122 I1  
34549                                 I1  ***** BEGIN-POOL *****
34550 00007776 0000                   I1  ALIGNMENT CODE
34551 00007778 00000000               I1  DATA FOR SOURCE-LINE 95
34552 0000777C 00000000               I1  DATA FOR SOURCE-LINE 101
34553                                 I1  ***** END-POOL *****
34554 00007780                    123 I1  _API_ACCLW_DRV_STOP
34555                             124 I1          SUB_START
34556 00007780 4F22                   M           STS.L   PR,@-R15                ;[必要]
34557                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34558 00007782 200A               125 I1          XOR     R0,R0
34559 00007784 D102               126 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
34560 00007786 2101               127 I1          MOV.W   R0,@R1                          ;
34561                             128 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   510
PROGRAM NAME =

34562                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34563 00007788 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34564                             129 I1          M_RTS
34565 0000778A 000B                   M           RTS                             ;RTSの後ろの
34566 0000778C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34567                             130 I1  
34568                             131 I1  
34569                             132 I1  
34570                             133 I1  ;       *******************************************
34571                             134 I1  ;       ***                                     ***
34572                             135 I1  ;       ***     1msecでCALL     メイン          ***
34573                             136 I1  ;       ***                                     ***
34574                             137 I1  ;       *******************************************
34575                             138 I1  ;       2015-11-17 減速選択
34576                             139 I1  ;       [オーバライド前にCALL]
34577                             140 I1  ;       Input  R2:設定速度
34578                             141 I1  ;       Output R2:設定速度相当
34579                             142 I1  ;       PAR_ACCDN_MATH=1 減速優先演算
34580                             143 I1  ;
34581                                 I1  ***** BEGIN-POOL *****
34582 0000778E 0000                   I1  ALIGNMENT CODE
34583 00007790 00000000               I1  DATA FOR SOURCE-LINE 126
34584                                 I1  ***** END-POOL *****
34585 00007794                    144 I1  _ACCLW_CTRL_CALC                        ;2015-11-17 減速選択
34586                             145 I1          SUB_START
34587 00007794 4F22                   M           STS.L   PR,@-R15                ;[必要]
34588                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34589                             146 I1  
34590 00007796 D107               147 I1          MOV.L   #_ACCLW_SET_SPD,R1                              ;//INPUT モーション演算部
                                          からの速度 (オーバライド前)
34591 00007798 2122               148 I1          MOV.L   R2,@R1                                          ;
34592                             149 I1  
34593 0000779A 940A               150 I1          MOV.W   #D'1000,R4                                      ;
34594                             151 I1          FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
34595 0000779C D006                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
34596 0000779E 400B                   M           JSR     @R0                     ;
34597 000077A0 0009                   M           NOP                                     ;
34598 000077A2 D106               152 I1          MOV.L   #_ACCLW_REAL_SPD1MS,R1                          ;1ms差分
34599 000077A4 2122               153 I1          MOV.L   R2,@R1                                          ;
34600                             154 I1  
34601                             155 I1  
34602 000077A6 D106               156 I1          MOV.L   #_ACCLW_CALC_FLG,R1     ;
34603 000077A8 6011               157 I1          MOV.W   @R1,R0                  ;
34604 000077AA C801               158 I1          TST     #BIT0,R0                ;
34605                             159 I1          TST_BIT_ON ACCLW_CTRLCALC_100   ;[起動中]
34606 000077AC 8B0A                   M           BF      ACCLW_CTRLCALC_100
34607                             160 I1          M_BRA   ACCLW_CTRLCALC_800
34608 000077AE A033                   M           BRA     ACCLW_CTRLCALC_800
34609 000077B0 0009                   M           NOP
34610                             161 I1  
34611                                 I1  ***** BEGIN-POOL *****
34612 000077B2 03E8                   I1  DATA FOR SOURCE-LINE 150
34613 000077B4 00000000               I1  DATA FOR SOURCE-LINE 147
34614 000077B8 00000000               I1  DATA FOR SOURCE-LINE 151
34615 000077BC 00000000               I1  DATA FOR SOURCE-LINE 152
34616 000077C0 00000000               I1  DATA FOR SOURCE-LINE 156
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   511
PROGRAM NAME =

34617                                 I1  ***** END-POOL *****
34618 000077C4                    162 I1  ACCLW_CTRLCALC_100
34619 000077C4 C880               163 I1          TST     #BIT7,R0                ;
34620                             164 I1          TST_BIT_OF ACCLW_CTRLCALC_120   ;
34621 000077C6 8901                   M           BT      ACCLW_CTRLCALC_120
34622                             165 I1          M_BRA   ACCLW_CTRLCALC_800      ;演算不要:再起動かかるまで演算しなくていい
34623 000077C8 A026                   M           BRA     ACCLW_CTRLCALC_800
34624 000077CA 0009                   M           NOP
34625                             166 I1  
34626 000077CC                    167 I1  ACCLW_CTRLCALC_120
34627 000077CC C840               168 I1          TST     #BIT6,R0                ;
34628                             169 I1          TST_BIT_ON ACCLW_CTRLCALC_200   ;[減速中か? YES]
34629 000077CE 8B0D                   M           BF      ACCLW_CTRLCALC_200
34630                             170 I1  
34631                             171 I1  
34632                             172 I1  ;       ------- 減速開始条件チェック---------
34633                             173 I1  
34634                             174 I1          FAR_JSR #_ACCLW_GEN_START_CONF_CHECK,R0
34635 000077D0 D004                   M           MOV.L   #_ACCLW_GEN_START_CONF_CHECK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34636 000077D2 400B                   M           JSR     @R0                     ;
34637 000077D4 0009                   M           NOP                                     ;
34638                             175 I1  
34639 000077D6 D104               176 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
34640 000077D8 6011               177 I1          MOV.W   @R1,R0                          ;
34641 000077DA C840               178 I1          TST     #BIT6,R0                        ;
34642                             179 I1          TST_BIT_ON ACCLW_CTRLCALC_300           ;
34643 000077DC 8B14                   M           BF      ACCLW_CTRLCALC_300
34644                             180 I1          M_BRA   ACCLW_CTRLCALC_800              ;
34645 000077DE A01B                   M           BRA     ACCLW_CTRLCALC_800
34646 000077E0 0009                   M           NOP
34647                             181 I1  
34648                             182 I1  
34649                             183 I1  
34650                             184 I1  ;       ------------- 減速中-----------
34651                                 I1  ***** BEGIN-POOL *****
34652 000077E2 0000                   I1  ALIGNMENT CODE
34653 000077E4 00000000               I1  DATA FOR SOURCE-LINE 174
34654 000077E8 00000000               I1  DATA FOR SOURCE-LINE 176
34655                                 I1  ***** END-POOL *****
34656 000077EC                    185 I1  ACCLW_CTRLCALC_200
34657                             186 I1  ;       ------- 減速終了条件チェック---------
34658                             187 I1          FAR_JSR #_ACCLW_GEN_END_CONF_CHECK,R0
34659 000077EC D004                   M           MOV.L   #_ACCLW_GEN_END_CONF_CHECK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34660 000077EE 400B                   M           JSR     @R0                     ;
34661 000077F0 0009                   M           NOP                                     ;
34662 000077F2 2008               188 I1          TST     R0,R0                           ;
34663                             189 I1          TST_BIT_ON ACCLW_CTRLCALC_300           ;減速中
34664 000077F4 8B08                   M           BF      ACCLW_CTRLCALC_300
34665                             190 I1  
34666                             191 I1          FAR_JSR #_API_ACCLW_DRV_START2,R0       ;減速完了:次を探す
34667 000077F6 D003                   M           MOV.L   #_API_ACCLW_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34668 000077F8 400B                   M           JSR     @R0                     ;
34669 000077FA 0009                   M           NOP                                     ;
34670                             192 I1          M_BRA   ACCLW_CTRLCALC_800              ;
34671 000077FC A00C                   M           BRA     ACCLW_CTRLCALC_800
34672 000077FE 0009                   M           NOP
34673                             193 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   512
PROGRAM NAME =

34674                                 I1  ***** BEGIN-POOL *****
34675 00007800 00000000               I1  DATA FOR SOURCE-LINE 187
34676 00007804 00000000               I1  DATA FOR SOURCE-LINE 191
34677                                 I1  ***** END-POOL *****
34678 00007808                    194 I1  ACCLW_CTRLCALC_300
34679                             195 I1          FAR_JSR #_ACCLW_GEN_OUTSPD_CALC,R0      ;
34680 00007808 D002                   M           MOV.L   #_ACCLW_GEN_OUTSPD_CALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34681 0000780A 400B                   M           JSR     @R0                     ;
34682 0000780C 0009                   M           NOP                                     ;
34683                             196 I1          M_BRA   ACCLW_CTRLCALC_900                              ;
34684 0000780E A009                   M           BRA     ACCLW_CTRLCALC_900
34685 00007810 0009                   M           NOP
34686                             197 I1  
34687                             198 I1  
34688                                 I1  ***** BEGIN-POOL *****
34689 00007812 0000                   I1  ALIGNMENT CODE
34690 00007814 00000000               I1  DATA FOR SOURCE-LINE 195
34691                                 I1  ***** END-POOL *****
34692 00007818                    199 I1  ACCLW_CTRLCALC_800                              ;
34693 00007818 D101               200 I1          MOV.L   #_ACCLW_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
34694 0000781A 6212               201 I1          MOV.L   @R1,R2                          ;
34695                             202 I1          M_BRA   ACCLW_CTRLCALC_EXT              ;
34696 0000781C A004                   M           BRA     ACCLW_CTRLCALC_EXT
34697 0000781E 0009                   M           NOP
34698                             203 I1  
34699                                 I1  ***** BEGIN-POOL *****
34700 00007820 00000000               I1  DATA FOR SOURCE-LINE 200
34701                                 I1  ***** END-POOL *****
34702 00007824                    204 I1  ACCLW_CTRLCALC_900                              ;
34703 00007824 D104               205 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;       //出力速度
34704 00007826 6212               206 I1          MOV.L   @R1,R2                          ;
34705                             207 I1  
34706 00007828                    208 I1  ACCLW_CTRLCALC_EXT                              ;
34707                             209 I1  
34708                             210 I1  
34709 00007828 D104               211 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
34710 0000782A 6011               212 I1          MOV.W   @R1,R0                          ;
34711 0000782C D104               213 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB255,R1     ;255
34712 0000782E 2101               214 I1          MOV.W   R0,@R1                          ;
34713                             215 I1  
34714                             216 I1          SUB_END
34715                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34716 00007830 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34717                             217 I1          M_RTS
34718 00007832 000B                   M           RTS                             ;RTSの後ろの
34719 00007834 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34720                             218 I1  
34721                             219 I1  
34722                             220 I1  ;       *******************************************
34723                             221 I1  ;       ***                                     ***
34724                             222 I1  ;       ***     減速終了条件                    ***
34725                             223 I1  ;       ***                                     ***
34726                             224 I1  ;       *******************************************
34727                             225 I1  ;       OUTPUT R0:0:減速終了 1:減速中
34728                             226 I1  ;       INPUT:R2(設定速度:符号無し)
34729                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   513
PROGRAM NAME =

34730 00007836 0000                   I1  ALIGNMENT CODE
34731 00007838 00000000               I1  DATA FOR SOURCE-LINE 205
34732 0000783C 00000000               I1  DATA FOR SOURCE-LINE 211
34733 00007840 00000000               I1  DATA FOR SOURCE-LINE 213
34734                                 I1  ***** END-POOL *****
34735 00007844                    227 I1  _ACCLW_GEN_END_CONF_CHECK
34736                             228 I1          SUB_START
34737 00007844 4F22                   M           STS.L   PR,@-R15                ;[必要]
34738                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34739 00007846 D104               229 I1          MOV.L   #_ACCLW_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
34740 00007848 6212               230 I1          MOV.L   @R1,R2                          ;
34741 0000784A D104               231 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
34742 0000784C 6312               232 I1          MOV.L   @R1,R3                          ;
34743 0000784E 3323               233 I1          CMP/GE  R2,R3                           ;R2≦R3(R2=R3)
34744 00007850 8906               234 I1          BT      ACCLW_GEN_END_CONFCHK_100       ;
34745 00007852 E001               235 I1          MOV.B   #BIT0,R0                        ;まだ減速継続
34746                             236 I1          M_BRA   ACCLW_GEN_END_CONFCHK_300       ;
34747 00007854 A005                   M           BRA     ACCLW_GEN_END_CONFCHK_300
34748 00007856 0009                   M           NOP
34749                             237 I1  
34750                                 I1  ***** BEGIN-POOL *****
34751 00007858 00000000               I1  DATA FOR SOURCE-LINE 229
34752 0000785C 00000000               I1  DATA FOR SOURCE-LINE 231
34753                                 I1  ***** END-POOL *****
34754 00007860                    238 I1  ACCLW_GEN_END_CONFCHK_100
34755 00007860 200A               239 I1          XOR     R0,R0
34756 00007862                    240 I1  ACCLW_GEN_END_CONFCHK_300
34757                             241 I1  
34758                             242 I1          SUB_END
34759                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34760 00007862 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34761                             243 I1          M_RTS
34762 00007864 000B                   M           RTS                             ;RTSの後ろの
34763 00007866 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34764                             244 I1  
34765                             245 I1  
34766                             246 I1  
34767                             247 I1  
34768                             248 I1  ;       *******************************************
34769                             249 I1  ;       ***                                     ***
34770                             250 I1  ;       ***     出力演算                        ***
34771                             251 I1  ;       ***     通常の減速演算を使用するので    ***
34772                             252 I1  ;       ***     今のところ演算不要              ***
34773                             253 I1  ;       ***                                     ***
34774                             254 I1  ;       *******************************************
34775                             255 I1  ;       出力速度演算
34776 00007868                    256 I1  _ACCLW_GEN_OUTSPD_CALC
34777                             257 I1          SUB_START
34778 00007868 4F22                   M           STS.L   PR,@-R15                ;[必要]
34779                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34780 0000786A D103               258 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;
34781 0000786C 6312               259 I1          MOV.L   @R1,R3                          ;
34782                             260 I1  
34783 0000786E D103               261 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;出力速度
34784 00007870 2132               262 I1          MOV.L   R3,@R1                          ;
34785                             263 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   514
PROGRAM NAME =

34786                             264 I1          SUB_END
34787                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34788 00007872 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34789                             265 I1          M_RTS
34790 00007874 000B                   M           RTS                             ;RTSの後ろの
34791 00007876 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34792                             266 I1  
34793                             267 I1  
34794                             268 I1  ;       ***************************************************
34795                             269 I1  ;       ***                                             ***
34796                             270 I1  ;       ***     判定用に現在速度・現在加速度の算出      ***
34797                             271 I1  ;       ***     [オーバライド後で演算する]              ***
34798                             272 I1  ;       ***                                             ***
34799                             273 I1  ;       ***************************************************
34800                             274 I1  ;       *******************************************
34801                             275 I1  ;       ***                                     ***
34802                             276 I1  ;       ***     現在の行程から減速行程を探す    ***
34803                             277 I1  ;       ***                                     ***
34804                             278 I1  ;       *******************************************
34805                             279 I1  ;       S4b     CPOS_SDAT1_CNTSTEP[100+10];             //SETX-->起動時COPY
34806                             280 I1  ;       S4b     CPOS_SDAT1_INF1[100+10];                //SETX-->起動時COPY
34807                             281 I1  ;       S4b     CPOS_SDAT1_CHGAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
34808                             282 I1  ;       S4b     CPOS_SDAT1_STPAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
34809                             283 I1  ;
34810                             284 I1  
34811                                 I1  ***** BEGIN-POOL *****
34812 00007878 00000000               I1  DATA FOR SOURCE-LINE 258
34813 0000787C 00000000               I1  DATA FOR SOURCE-LINE 261
34814                                 I1  ***** END-POOL *****
34815 00007880                    285 I1  _ACCLW_GEN_START_CONF_CHECK
34816                             286 I1          SUB_START
34817 00007880 4F22                   M           STS.L   PR,@-R15                ;[必要]
34818                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34819 00007882 D103               287 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
34820 00007884 6011               288 I1          MOV.W   @R1,R0                          ;
34821                             289 I1  
34822 00007886 2008               290 I1          TST     R0,R0                           ;
34823                             291 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_050  ;
34824 00007888 8B04                   M           BF      ACCLW_GEN_START_CONFCHK_050
34825                             292 I1          M_BRA   ACCLW_GEN_START_CONFCHK_EXT     ;
34826 0000788A A092                   M           BRA     ACCLW_GEN_START_CONFCHK_EXT
34827 0000788C 0009                   M           NOP
34828                             293 I1  
34829                                 I1  ***** BEGIN-POOL *****
34830 0000788E 0000                   I1  ALIGNMENT CODE
34831 00007890 00000000               I1  DATA FOR SOURCE-LINE 287
34832                                 I1  ***** END-POOL *****
34833 00007894                    294 I1  ACCLW_GEN_START_CONFCHK_050
34834 00007894 D103               295 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
34835 00007896 6511               296 I1          MOV.W   @R1,R5                          ;
34836 00007898 7501               297 I1          ADD     #1,R5                           ;[MAX:R5]
34837 0000789A 3053               298 I1          CMP/GE  R5,R0                           ;最終行程
34838 0000789C 8B04               299 I1          BF      ACCLW_GEN_START_CONFCHK_100     ;
34839                             300 I1          M_BRA   ACCLW_GEN_START_CONFCHK_EXT     ;R5=R0最終行程
34840 0000789E A088                   M           BRA     ACCLW_GEN_START_CONFCHK_EXT
34841 000078A0 0009                   M           NOP
34842                             301 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   515
PROGRAM NAME =

34843                             302 I1  ;       ---------------------------------------
34844                                 I1  ***** BEGIN-POOL *****
34845 000078A2 0000                   I1  ALIGNMENT CODE
34846 000078A4 00000000               I1  DATA FOR SOURCE-LINE 295
34847                                 I1  ***** END-POOL *****
34848 000078A8                    303 I1  ACCLW_GEN_START_CONFCHK_100
34849 000078A8 6803               304 I1          MOV     R0,R8                           ;行程
34850                             305 I1  
34851 000078AA 3508               306 I1          SUB     R0,R5                           ;1~98
34852 000078AC 944C               307 I1          MOV.W   #D'10,R4                        ;先読み10段まで[100段はかわいそう]
34853 000078AE 3453               308 I1          CMP/GE  R5,R4                           ;R5≦R4
34854 000078B0 8900               309 I1          BT      ACCLW_GEN_START_CONFCHK_120     ;
34855 000078B2 6543               310 I1          MOV     R4,R5                           ;
34856 000078B4                    311 I1  ACCLW_GEN_START_CONFCHK_120
34857                             312 I1  ;       現状の行程〜最大１０段の中で
34858                             313 I1  ;       停止行程または戻り行程終了まで検索を行う.
34859                             314 I1  ;
34860                             315 I1  ;       行程1の場合
34861                             316 I1  ;       INF1:行程1を参照
34862                             317 I1  ;       CHG :行程1を参照
34863                             318 I1  ;       速度:行程2を参照
34864                             319 I1  
34865 000078B4 70FF               320 I1          ADD     #-1,R0                          ;
34866 000078B6 4008               321 I1          SHLL2   R0                              ;*4
34867 000078B8 DD24               322 I1          MOV.L   #_CPOS_SDAT1_SPD,R13            ;4B
34868 000078BA 3D0C               323 I1          ADD     R0,R13                          ;
34869 000078BC 7D04               324 I1          ADD     #4,R13                          ;速度は次の段の速度
34870                             325 I1  
34871 000078BE DE24               326 I1          MOV.L   #_CPOS_SDAT1_INF1,R14           ;4B
34872 000078C0 3E0C               327 I1          ADD     R0,R14                          ;
34873                             328 I1  
34874 000078C2 4000               329 I1          SHLL    R0
34875 000078C4 DC23               330 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R12        ;切替位置8B
34876 000078C6 3C0C               331 I1          ADD     R0,R12                          ;
34877                             332 I1  
34878                             333 I1  
34879 000078C8                    334 I1  ACCLW_GEN_START_CONFCHK_200LOP:                 ;
34880                             335 I1          PUSH_REG1 R5
34881 000078C8 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
34882                                 M                                           ;REG=>[SP]
34883                                 M                                           ;"-4" FF,FF,FF,FC
34884                             336 I1  
34885 000078CA 60E2               337 I1          MOV.L   @R14,R0                         ;INF
34886 000078CC C801               338 I1          TST     #BIT0,R0                        ;連続か?
34887                             339 I1          TST_BIT_OF ACCLW_GEN_START_CONFCHK_550  ;この行程は停止なので終了
34888 000078CE 895A                   M           BT      ACCLW_GEN_START_CONFCHK_550
34889                             340 I1  
34890                             341 I1  ;       (------- 方向判別は不要R0.BIT1--------)
34891                             342 I1  ;       --------- 連続-----------
34892 000078D0 D421               343 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
34893 000078D2 6546               344 I1          MOV.L   @R4+,R5                                                 ;
34894 000078D4 6642               345 I1          MOV.L   @R4,R6                                                  ;ﾘｱﾙﾀｲﾑ目標位置
34895 000078D6 51C0               346 I1          MOV.L   @(0,R12),R1                                             ;
34896 000078D8 52C1               347 I1          MOV.L   @(4,R12),R2                                             ;設定位置
34897                             348 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2-R5,R6
34898 000078DA 0008                   M           CLRT
34899 000078DC 326A                   M           SUBC    R6,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   516
PROGRAM NAME =

34900 000078DE 315A                   M           SUBC    R5,R1
34901                             349 I1  
34902 000078E0 4111               350 I1          CMP/PZ  R1                              ;
34903 000078E2 8905               351 I1          BT      ACCLW_GEN_START_CONFCHK_250     ;
34904                             352 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;|R1,R2|
34905 000078E4 6227                   M           NOT     R2,R2                           ;
34906 000078E6 6117                   M           NOT     R1,R1                           ;
34907 000078E8 200A                   M           XOR     R0,R0                           ;
34908 000078EA 0018                   M           SETT
34909 000078EC 320E                   M           ADDC    R0,R2                           ;0+1+R2
34910 000078EE 310E                   M           ADDC    R0,R1                           ;
34911 000078F0                    353 I1  ACCLW_GEN_START_CONFCHK_250:                    ;
34912                             354 I1  
34913                             355 I1  
34914 000078F0 2118               356 I1          TST     R1,R1                                   ;
34915                             357 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_550          ;まだ距離が十分にある
34916 000078F2 8B48                   M           BF      ACCLW_GEN_START_CONFCHK_550
34917                             358 I1  
34918 000078F4 D519               359 I1          MOV.L   #_ACCLW_REAL_SPD1MS,R5                  ;
34919 000078F6 6452               360 I1          MOV.L   @R5,R4                                  ;
34920 000078F8 3248               361 I1          SUB     R4,R2                                   ;
34921 000078FA 4215               362 I1          CMP/PL  R2
34922 000078FC 8900               363 I1          BT      ACCLW_GEN_START_CONFCHK_280             ;
34923 000078FE 9224               364 I1          MOV.W   #1,R2                                   ;
34924 00007900                    365 I1  ACCLW_GEN_START_CONFCHK_280:                            ;
34925                             366 I1  
34926 00007900 D517               367 I1          MOV.L   #_ACCLW_GEN_MAX_LNG,R5                  ;最大速度時の減速距離
34927 00007902 6452               368 I1          MOV.L   @R5,R4                                  ;
34928 00007904 3246               369 I1          CMP/HI  R4,R2                                   ;R4<R2
34929 00007906 893E               370 I1          BT      ACCLW_GEN_START_CONFCHK_550             ;まだ距離が十分にある
34930                             371 I1  
34931                             372 I1  ;[速度が高い場合評価をやめる]
34932                             373 I1  
34933                             374 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
34934                             375 I1          PUSH_REG1 R8    ;行程
34935 00007908 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
34936                                 M                                           ;REG=>[SP]
34937                                 M                                           ;"-4" FF,FF,FF,FC
34938                             376 I1          PUSH_REG1 R12   ;POS
34939 0000790A 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
34940                                 M                                           ;REG=>[SP]
34941                                 M                                           ;"-4" FF,FF,FF,FC
34942                             377 I1          PUSH_REG1 R13   ;SPD
34943 0000790C 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
34944                                 M                                           ;REG=>[SP]
34945                                 M                                           ;"-4" FF,FF,FF,FC
34946                             378 I1          PUSH_REG1 R14   ;INF1
34947 0000790E 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
34948                                 M                                           ;REG=>[SP]
34949                                 M                                           ;"-4" FF,FF,FF,FC
34950 00007910 D414               379 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
34951 00007912 6942               380 I1          MOV.L   @R4,R9                                                  ;
34952                             381 I1  
34953 00007914 6AD2               382 I1          MOV.L   @R13,R10                                                ;SPD
34954                             383 I1          PUSH_REG1 R1                                                    ;
34955 00007916 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
34956                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   517
PROGRAM NAME =

34957                                 M                                           ;"-4" FF,FF,FF,FC
34958                             384 I1          PUSH_REG1 R2                                                    ;
34959 00007918 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
34960                                 M                                           ;REG=>[SP]
34961                                 M                                           ;"-4" FF,FF,FF,FC
34962 0000791A 62A3               385 I1          MOV     R10,R2                                                  ;
34963                             386 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
34964 0000791C D012                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34965 0000791E 400B                   M           JSR     @R0                     ;
34966 00007920 0009                   M           NOP                                     ;
34967 00007922 6A23               387 I1          MOV     R2,R10                                                  ;
34968                             388 I1          POP_REG1 R2                                                     ;
34969                                 M                                   ; RE"+4" 00,00,00,04
34970 00007924 62F6                   M           MOV.L   @R15+,R2        ;
34971                             389 I1          POP_REG1 R1                                                     ;
34972                                 M                                   ; RE"+4" 00,00,00,04
34973 00007926 61F6                   M           MOV.L   @R15+,R1        ;
34974                             390 I1  
34975 00007928 D410               391 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
34976 0000792A 6B42               392 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
34977                             393 I1                                                                          ;Input R1,R2 距離
34978                             394 I1                                                                          ;Input R9    現在
                                          速度
34979                             395 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
34980                             396 I1                                                                          ;Input R11   減速
                                          距離
34981                             397 I1  
34982 0000792C 200A               398 I1          XOR     R0,R0
34983 0000792E 3A93               399 I1          CMP/GE  R9,R10                                  ;R9(現在速度)≦R10(設定速度)
34984 00007930 8902               400 I1          BT      ACCLW_GEN_START_CONFCHK_400             ;
34985                             401 I1  
34986                             402 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0             ;
34987 00007932 D00F                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34988 00007934 400B                   M           JSR     @R0                     ;
34989 00007936 0009                   M           NOP                                     ;
34990                             403 I1  
34991 00007938                    404 I1  ACCLW_GEN_START_CONFCHK_400:                    ;
34992                             405 I1  
34993                             406 I1  
34994                             407 I1          POP_REG1 R14
34995                                 M                                   ; RE"+4" 00,00,00,04
34996 00007938 6EF6                   M           MOV.L   @R15+,R14        ;
34997                             408 I1          POP_REG1 R13
34998                                 M                                   ; RE"+4" 00,00,00,04
34999 0000793A 6DF6                   M           MOV.L   @R15+,R13        ;
35000                             409 I1          POP_REG1 R12
35001                                 M                                   ; RE"+4" 00,00,00,04
35002 0000793C 6CF6                   M           MOV.L   @R15+,R12        ;
35003                             410 I1          POP_REG1 R8
35004                                 M                                   ; RE"+4" 00,00,00,04
35005 0000793E 68F6                   M           MOV.L   @R15+,R8        ;
35006                             411 I1  
35007 00007940 2008               412 I1          TST     R0,R0
35008                             413 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_500                          ;減速すべき
35009 00007942 8B17                   M           BF      ACCLW_GEN_START_CONFCHK_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   518
PROGRAM NAME =

35010                             414 I1          M_BRA   ACCLW_GEN_START_CONFCHK_580                             ;
35011 00007944 A028                   M           BRA     ACCLW_GEN_START_CONFCHK_580
35012 00007946 0009                   M           NOP
35013                             415 I1  
35014                             416 I1  
35015                             417 I1  ;       ---------------- 減速開始する[減速スタートする]、演算はやめる-----------
35016                                 I1  ***** BEGIN-POOL *****
35017 00007948 000A                   I1  DATA FOR SOURCE-LINE 307
35018 0000794A 0001                   I1  DATA FOR SOURCE-LINE 364
35019 0000794C 00000000               I1  DATA FOR SOURCE-LINE 322
35020 00007950 00000000               I1  DATA FOR SOURCE-LINE 326
35021 00007954 00000000               I1  DATA FOR SOURCE-LINE 330
35022 00007958 00000000               I1  DATA FOR SOURCE-LINE 343
35023 0000795C 00000000               I1  DATA FOR SOURCE-LINE 359
35024 00007960 00000000               I1  DATA FOR SOURCE-LINE 367
35025 00007964 00000000               I1  DATA FOR SOURCE-LINE 379
35026 00007968 00000000               I1  DATA FOR SOURCE-LINE 386
35027 0000796C 00000000               I1  DATA FOR SOURCE-LINE 391
35028 00007970 00000000               I1  DATA FOR SOURCE-LINE 402
35029                                 I1  ***** END-POOL *****
35030 00007974                    418 I1  ACCLW_GEN_START_CONFCHK_500:                                    ;
35031 00007974 62D2               419 I1          MOV.L   @R13,R2                                         ;NEW SPEED
35032 00007976 D105               420 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1                          ;
35033 00007978 2122               421 I1          MOV.L   R2,@R1                                          ;
35034 0000797A D105               422 I1          MOV.L   #_ACCLW_GET_STEP_NO,R1                          ;//BIT1=1時の対象行程
35035 0000797C 2181               423 I1          MOV.W   R8,@R1                                          ;
35036                             424 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCLW_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1      ;[減速する
                                          から演算はやめるR0=BIT0]
35037 0000797E D105                   M           MOV.L   #_ACCLW_CALC_FLG,R1             ;
35038 00007980 6011                   M           MOV.W   @R1,R0          ;
35039 00007982 CB40                   M           OR      #BIT6,R0                ;
35040 00007984 2101                   M           MOV.W   R0,@R1          ;
35041                             425 I1  
35042                             426 I1  
35043                             427 I1  ;       ---------------- 停止行程なのでやめる----------------
35044 00007986                    428 I1  ACCLW_GEN_START_CONFCHK_550:                    ;
35045 00007986 E001               429 I1          MOV.B   #BIT0,R0                        ;
35046                             430 I1          M_BRA   ACCLW_GEN_START_CONFCHK_600     ;
35047 00007988 A007                   M           BRA     ACCLW_GEN_START_CONFCHK_600
35048 0000798A 0009                   M           NOP
35049                             431 I1  
35050                             432 I1  ;       --------------- 次を演算する-------------------------
35051                                 I1  ***** BEGIN-POOL *****
35052 0000798C 00000000               I1  DATA FOR SOURCE-LINE 420
35053 00007990 00000000               I1  DATA FOR SOURCE-LINE 422
35054 00007994 00000000               I1  DATA FOR SOURCE-LINE 424
35055                                 I1  ***** END-POOL *****
35056 00007998                    433 I1  ACCLW_GEN_START_CONFCHK_580:                    ;
35057 00007998 200A               434 I1          XOR     R0,R0                           ;
35058 0000799A                    435 I1  ACCLW_GEN_START_CONFCHK_600:                    ;
35059                             436 I1  
35060                             437 I1          POP_REG1 R5
35061                                 M                                   ; RE"+4" 00,00,00,04
35062 0000799A 65F6                   M           MOV.L   @R15+,R5        ;
35063 0000799C 75FF               438 I1          ADD     #-1,R5                          ;
35064 0000799E 2558               439 I1          TST     R5,R5                           ;
35065                             440 I1          TST_BIT_OF ACCLW_GEN_START_CONFCHK_EXT  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   519
PROGRAM NAME =

35066 000079A0 8907                   M           BT      ACCLW_GEN_START_CONFCHK_EXT
35067 000079A2 2008               441 I1          TST     R0,R0                           ;
35068                             442 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_EXT  ;終わり
35069 000079A4 8B05                   M           BF      ACCLW_GEN_START_CONFCHK_EXT
35070 000079A6 7D04               443 I1          ADD     #4,R13                          ;SPD
35071 000079A8 7E04               444 I1          ADD     #4,R14                          ;INF
35072 000079AA 7C08               445 I1          ADD     #8,R12                          ;POS
35073 000079AC 7801               446 I1          ADD     #1,R8                           ;行程[不要だが]
35074                             447 I1          M_BRA   ACCLW_GEN_START_CONFCHK_200LOP  ;
35075 000079AE AF8B                   M           BRA     ACCLW_GEN_START_CONFCHK_200LOP
35076 000079B0 0009                   M           NOP
35077                             448 I1  
35078                             449 I1  
35079                             450 I1  
35080 000079B2                    451 I1  ACCLW_GEN_START_CONFCHK_EXT
35081                             452 I1          SUB_END
35082                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35083 000079B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35084                             453 I1          M_RTS
35085 000079B4 000B                   M           RTS                             ;RTSの後ろの
35086 000079B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35087                           10785     
35088                           10786     
35089                           10787     
35090                           10788     ;       *******************************************
35091                           10789     ;       ***                                     ***
35092                           10790     ;       ***                                     ***
35093                           10791     ;       ***                                     ***
35094                           10792     ;       ***     各段指定演算                    ***
35095                           10793     ;       ***                                     ***
35096                           10794     ;       ***                                     ***
35097                           10795     ;       *******************************************
35098                           10796             .INCLUDE        "ssa_accstep.inc"       ;//各段指定加速・減速演算
35099                               1 I1  ;       ***************************************************
35100                               2 I1  ;       ***                                             ***
35101                               3 I1  ;       ***                                             ***
35102                               4 I1  ;       ***                                             ***
35103                               5 I1  ;       ***             各段前/後変則指定処理           ***
35104                               6 I1  ;       ***             2016-04-18 前・後選択           ***
35105                               7 I1  ;       ***             (加速でも減速でも)              ***
35106                               8 I1  ;       ***                                             ***
35107                               9 I1  ;       ***                                             ***
35108                              10 I1  ;       ***************************************************
35109                              11 I1  
35110                              12 I1  ;       *******************************************
35111                              13 I1  ;       ***                                     ***
35112                              14 I1  ;       ***     バックグランドでCALL            ***
35113                              15 I1  ;       ***     条件作成                        ***
35114                              16 I1  ;       ***                                     ***
35115                              17 I1  ;       *******************************************
35116                              18 I1  
35117 000079B8                     19 I1  _ACCST_DATA_MAIN
35118                              20 I1          SUB_START
35119 000079B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
35120                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35121                              21 I1  
35122                              22 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   520
PROGRAM NAME =

35123 000079BA 222A                23 I1          XOR     R2,R2
35124 000079BC D108                24 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
35125 000079BE 6011                25 I1          MOV.W   @R1,R0                                  ;
35126 000079C0 C801                26 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
35127                              27 I1          TST_BIT_OF ACCST_USECHK_100                     ;no use
35128 000079C2 8908                   M           BT      ACCST_USECHK_100
35129                              28 I1  
35130 000079C4 D107                29 I1          MOV.L   #_MODE_SEL,R1                           ;
35131 000079C6 6011                30 I1          MOV.W   @R1,R0                                  ;
35132 000079C8 C81E                31 I1          TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
35133                              32 I1          TST_BIT_OF ACCST_USECHK_100                     ;no use
35134 000079CA 8904                   M           BT      ACCST_USECHK_100
35135                              33 I1  
35136 000079CC D106                34 I1          MOV.L   #_LINK_1ROT_PLS,R1                      ;
35137 000079CE 6412                35 I1          MOV.L   @R1,R4                                  ;
35138 000079D0 D106                36 I1          MOV.L   #_ACCST_GEN_MAX_LNG,R1                  ;最大速度時の減速距離
35139 000079D2 2142                37 I1          MOV.L   R4,@R1                                  ;(とりあえず360度分)
35140                              38 I1  
35141 000079D4 E201                39 I1          MOV.B   #BIT0,R2                                ;
35142                              40 I1  
35143 000079D6                     41 I1  ACCST_USECHK_100
35144 000079D6 D106                42 I1          MOV.L   #_ACCST_USE_CONF,R1                     ;
35145 000079D8 2121                43 I1          MOV.W   R2,@R1                                  ;
35146                              44 I1  
35147                              45 I1  
35148                              46 I1  
35149                              47 I1          SUB_END
35150                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35151 000079DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35152                              48 I1          M_RTS
35153 000079DC 000B                   M           RTS                             ;RTSの後ろの
35154 000079DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35155                              49 I1  
35156                              50 I1  ;       ***************************************************
35157                              51 I1  ;       ***                                             ***
35158                              52 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
35159                              53 I1  ;       ***                                             ***
35160                              54 I1  ;       ***************************************************
35161                                 I1  ***** BEGIN-POOL *****
35162 000079E0 00000000               I1  DATA FOR SOURCE-LINE 24
35163 000079E4 00000000               I1  DATA FOR SOURCE-LINE 29
35164 000079E8 00000000               I1  DATA FOR SOURCE-LINE 34
35165 000079EC 00000000               I1  DATA FOR SOURCE-LINE 36
35166 000079F0 00000000               I1  DATA FOR SOURCE-LINE 42
35167                                 I1  ***** END-POOL *****
35168 000079F4                     55 I1  _API_ACCST_DRV_START1
35169                              56 I1          SUB_START
35170 000079F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
35171                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35172                              57 I1  
35173                              58 I1  
35174                              59 I1          FAR_JSR #_API_ACCST_DRV_START2,R0       ;
35175 000079F6 D004                   M           MOV.L   #_API_ACCST_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35176 000079F8 400B                   M           JSR     @R0                     ;
35177 000079FA 0009                   M           NOP                                     ;
35178                              60 I1          FAR_JSR #_API_ACCST_DRV_WORK_CLR,R0     ;デバック用
35179 000079FC D003                   M           MOV.L   #_API_ACCST_DRV_WORK_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   521
PROGRAM NAME =

35180 000079FE 400B                   M           JSR     @R0                     ;
35181 00007A00 0009                   M           NOP                                     ;
35182                              61 I1  
35183                              62 I1          SUB_END
35184                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35185 00007A02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35186                              63 I1          M_RTS
35187 00007A04 000B                   M           RTS                             ;RTSの後ろの
35188 00007A06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35189                              64 I1  
35190                              65 I1  ;       ----------- ﾃﾞﾊﾞｯｸ用にｸﾘｱ------------
35191                                 I1  ***** BEGIN-POOL *****
35192 00007A08 00000000               I1  DATA FOR SOURCE-LINE 59
35193 00007A0C 00000000               I1  DATA FOR SOURCE-LINE 60
35194                                 I1  ***** END-POOL *****
35195 00007A10                     66 I1  _API_ACCST_DRV_WORK_CLR
35196                              67 I1          SUB_START
35197 00007A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
35198                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35199 00007A12 200A                68 I1          XOR     R0,R0
35200 00007A14 D103                69 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
35201 00007A16 2102                70 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
35202 00007A18 D103                71 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;//出力速度
35203 00007A1A 2102                72 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
35204                              73 I1          SUB_END
35205                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35206 00007A1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35207                              74 I1          M_RTS
35208 00007A1E 000B                   M           RTS                             ;RTSの後ろの
35209 00007A20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35210                              75 I1  
35211                              76 I1  ;       ***************************************************
35212                              77 I1  ;       ***                                             ***
35213                              78 I1  ;       ***     起動時CALL(減速完了,次の減速演算)       ***
35214                              79 I1  ;       ***                                             ***
35215                              80 I1  ;       ***************************************************
35216                                 I1  ***** BEGIN-POOL *****
35217 00007A22 0000                   I1  ALIGNMENT CODE
35218 00007A24 00000000               I1  DATA FOR SOURCE-LINE 69
35219 00007A28 00000000               I1  DATA FOR SOURCE-LINE 71
35220                                 I1  ***** END-POOL *****
35221 00007A2C                     81 I1  _API_ACCST_DRV_START2
35222                              82 I1          SUB_START
35223 00007A2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35224                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35225                              83 I1  
35226 00007A2E D105                84 I1          MOV.L   #_ACCST_USE_CONF,R1                     ;
35227 00007A30 6011                85 I1          MOV.W   @R1,R0                                  ;
35228 00007A32 C801                86 I1          TST     #BIT0,R0                                ;
35229                              87 I1          TST_BIT_OF API_ACCST_DRVSTR2_EXT                ;
35230 00007A34 8902                   M           BT      API_ACCST_DRVSTR2_EXT
35231                              88 I1  
35232 00007A36 E001                89 I1          MOV.B   #BIT0,R0                                ;
35233 00007A38 D103                90 I1          MOV.L   #_ACCST_CALC_FLG,R1                     ;
35234 00007A3A 2101                91 I1          MOV.W   R0,@R1                                  ;[BIT6,BIT7CLR BIT0=1]
35235                              92 I1  
35236                              93 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   522
PROGRAM NAME =

35237 00007A3C                     94 I1  API_ACCST_DRVSTR2_EXT
35238                              95 I1  
35239                              96 I1          SUB_END
35240                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35241 00007A3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35242                              97 I1          M_RTS
35243 00007A3E 000B                   M           RTS                             ;RTSの後ろの
35244 00007A40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35245                              98 I1  
35246                              99 I1  
35247                             100 I1  
35248                             101 I1  ;       *******************************************
35249                             102 I1  ;       ***                                     ***
35250                             103 I1  ;       ***     位置決め中断時CALL              ***
35251                             104 I1  ;       ***     位置決め停止タイマ時CALL        ***
35252                             105 I1  ;       ***     異常時CALL                      ***
35253                             106 I1  ;       ***                                     ***
35254                             107 I1  ;       *******************************************
35255                             108 I1  ;//BIT0:起動[API]
35256                             109 I1  ;//BIT6:[減速開始]
35257                             110 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
35258                             111 I1  
35259                                 I1  ***** BEGIN-POOL *****
35260 00007A42 0000                   I1  ALIGNMENT CODE
35261 00007A44 00000000               I1  DATA FOR SOURCE-LINE 84
35262 00007A48 00000000               I1  DATA FOR SOURCE-LINE 90
35263                                 I1  ***** END-POOL *****
35264 00007A4C                    112 I1  _API_ACCST_DRV_STOP
35265                             113 I1          SUB_START
35266 00007A4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35267                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35268 00007A4E 200A               114 I1          XOR     R0,R0
35269 00007A50 D103               115 I1          MOV.L   #_ACCST_CALC_FLG,R1             ;
35270 00007A52 2101               116 I1          MOV.W   R0,@R1                          ;
35271                             117 I1  
35272                             118 I1  ;       ---------行程番号-------
35273 00007A54 200A               119 I1          XOR     R0,R0                                   ;
35274 00007A56 D103               120 I1          MOV.L   #_ACCST_GET_STEP_NO,R1                  ;//BIT1=1時の対象行程
35275 00007A58 2101               121 I1          MOV.W   R0,@R1                                  ;
35276                             122 I1  
35277                             123 I1          SUB_END
35278                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35279 00007A5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35280                             124 I1          M_RTS
35281 00007A5C 000B                   M           RTS                             ;RTSの後ろの
35282 00007A5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35283                             125 I1  
35284                             126 I1  
35285                             127 I1  
35286                             128 I1  ;       *******************************************
35287                             129 I1  ;       ***                                     ***
35288                             130 I1  ;       ***     1msecでCALL     メイン          ***
35289                             131 I1  ;       ***                                     ***
35290                             132 I1  ;       *******************************************
35291                             133 I1  ;       2015-11-17 減速選択
35292                             134 I1  ;       [オーバライド前にCALL]
35293                             135 I1  ;       Input  R2:設定速度
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   523
PROGRAM NAME =

35294                             136 I1  ;       Output R2:設定速度相当
35295                             137 I1  ;       PAR_ACCDN_MATH=1 減速優先演算
35296                             138 I1  ;
35297                                 I1  ***** BEGIN-POOL *****
35298 00007A60 00000000               I1  DATA FOR SOURCE-LINE 115
35299 00007A64 00000000               I1  DATA FOR SOURCE-LINE 120
35300                                 I1  ***** END-POOL *****
35301 00007A68                    139 I1  _ACCST_CTRL_CALC                        ;2015-11-17 減速選択
35302                             140 I1          SUB_START
35303 00007A68 4F22                   M           STS.L   PR,@-R15                ;[必要]
35304                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35305                             141 I1  
35306 00007A6A D107               142 I1          MOV.L   #_ACCST_SET_SPD,R1                              ;//INPUT モーション演算部
                                          からの速度 (オーバライド前)
35307 00007A6C 2122               143 I1          MOV.L   R2,@R1                                          ;
35308                             144 I1  
35309 00007A6E 940A               145 I1          MOV.W   #D'1000,R4                                      ;
35310                             146 I1          FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
35311 00007A70 D006                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
35312 00007A72 400B                   M           JSR     @R0                     ;
35313 00007A74 0009                   M           NOP                                     ;
35314 00007A76 D106               147 I1          MOV.L   #_ACCST_REAL_SPD1MS,R1                          ;1ms差分
35315 00007A78 2122               148 I1          MOV.L   R2,@R1                                          ;
35316                             149 I1  
35317 00007A7A D106               150 I1          MOV.L   #_ACCST_CALC_FLG,R1     ;
35318 00007A7C 6011               151 I1          MOV.W   @R1,R0                  ;
35319 00007A7E C801               152 I1          TST     #BIT0,R0                ;
35320                             153 I1          TST_BIT_ON ACCST_CTRLCALC_100   ;[起動中]
35321 00007A80 8B0A                   M           BF      ACCST_CTRLCALC_100
35322                             154 I1          M_BRA   ACCST_CTRLCALC_800
35323 00007A82 A041                   M           BRA     ACCST_CTRLCALC_800
35324 00007A84 0009                   M           NOP
35325                             155 I1  
35326                                 I1  ***** BEGIN-POOL *****
35327 00007A86 03E8                   I1  DATA FOR SOURCE-LINE 145
35328 00007A88 00000000               I1  DATA FOR SOURCE-LINE 142
35329 00007A8C 00000000               I1  DATA FOR SOURCE-LINE 146
35330 00007A90 00000000               I1  DATA FOR SOURCE-LINE 147
35331 00007A94 00000000               I1  DATA FOR SOURCE-LINE 150
35332                                 I1  ***** END-POOL *****
35333 00007A98                    156 I1  ACCST_CTRLCALC_100
35334                             157 I1  ;       ---------- 行程変更チェック----------------------------------
35335                             158 I1  ;       [行程変更があれば=ACCST_CALC_FLG=BIT0(BIT6,BIT7をｸﾘｱする)]      ;
35336 00007A98 D111               159 I1          MOV.L   #_INT_POS_CTL_STEP,R1                                   ;//内部制御工程1~1
                                          1
35337 00007A9A 6311               160 I1          MOV.W   @R1,R3                                                  ;
35338 00007A9C 2338               161 I1          TST     R3,R3                                                   ;
35339                             162 I1          TST_BIT_OF ACCST_CTRLCALC_800                                   ;ありえない(CALC_F
                                          LG=0)
35340 00007A9E 8933                   M           BT      ACCST_CTRLCALC_800
35341                             163 I1  
35342                             164 I1          FAR_JSR #_ACCST_CHGSTEP_GET_MAKE,R0                             ;(停止,最終行程で
                                          はやらない.ACCST_ACC_MATH_SEL=0)
35343 00007AA0 D010                   M           MOV.L   #_ACCST_CHGSTEP_GET_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35344 00007AA2 400B                   M           JSR     @R0                     ;
35345 00007AA4 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   524
PROGRAM NAME =

35346                             165 I1  
35347                             166 I1  ;       -------------------------------------------------------------
35348 00007AA6 D110               167 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1                                 ;//1STEP分
35349 00007AA8 6011               168 I1          MOV.W   @R1,R0                                                  ;
35350 00007AAA C801               169 I1          TST     #BIT0,R0                                                ;
35351                             170 I1          TST_BIT_OF ACCST_CTRLCALC_800                                   ;(後加速,減速の場
                                          合は何もしない)
35352 00007AAC 892C                   M           BT      ACCST_CTRLCALC_800
35353                             171 I1  
35354 00007AAE D10F               172 I1          MOV.L   #_ACCST_CALC_FLG,R1                                     ;
35355 00007AB0 6011               173 I1          MOV.W   @R1,R0                                          ;
35356 00007AB2 C880               174 I1          TST     #BIT7,R0                                        ;
35357                             175 I1          TST_BIT_ON ACCST_CTRLCALC_800                           ;演算不要:行程変更が変わる
                                          まで演算しなくていい
35358 00007AB4 8B28                   M           BF      ACCST_CTRLCALC_800
35359                             176 I1  
35360 00007AB6 C840               177 I1          TST     #BIT6,R0                ;
35361                             178 I1          TST_BIT_ON ACCST_CTRLCALC_200   ;[減速or加速中か YES]
35362 00007AB8 8B06                   M           BF      ACCST_CTRLCALC_200
35363                             179 I1  
35364                             180 I1  ;       ------- 減速/加速開始条件チェック---------
35365                             181 I1          FAR_JSR #_ACCST_UPDN_START_CONF_CHECK,R0                ;この行程だけ見ればいい.AC
                                          CST_ACC_MATH_SEL.BIT1=0/1(減速加速)
35366 00007ABA D00D                   M           MOV.L   #_ACCST_UPDN_START_CONF_CHECK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35367 00007ABC 400B                   M           JSR     @R0                     ;
35368 00007ABE 0009                   M           NOP                                     ;
35369                             182 I1  
35370 00007AC0 D10A               183 I1          MOV.L   #_ACCST_CALC_FLG,R1                     ;
35371 00007AC2 6011               184 I1          MOV.W   @R1,R0                                  ;
35372 00007AC4 C840               185 I1          TST     #BIT6,R0                                ;
35373                             186 I1          TST_BIT_OF ACCST_CTRLCALC_800                   ;演算不要
35374 00007AC6 891F                   M           BT      ACCST_CTRLCALC_800
35375                             187 I1  
35376                             188 I1  ;       ------------- 減速中-----------
35377 00007AC8                    189 I1  ACCST_CTRLCALC_200
35378                             190 I1  
35379                             191 I1  ;       ------- 加速・減速終了条件チェック---------
35380                             192 I1          FAR_JSR #_ACCST_UPDN_END_CONF_CHECK,R0
35381 00007AC8 D00A                   M           MOV.L   #_ACCST_UPDN_END_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35382 00007ACA 400B                   M           JSR     @R0                     ;
35383 00007ACC 0009                   M           NOP                                     ;
35384 00007ACE 2008               193 I1          TST     R0,R0                                                           ;
35385                             194 I1          TST_BIT_ON ACCST_CTRLCALC_300                                           ;減速/加速
                                          演算継続
35386 00007AD0 8B12                   M           BF      ACCST_CTRLCALC_300
35387                             195 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT7,WKREG=R1      ;
35388 00007AD2 D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
35389 00007AD4 6011                   M           MOV.W   @R1,R0          ;
35390 00007AD6 CB80                   M           OR      #BIT7,R0                ;
35391 00007AD8 2101                   M           MOV.W   R0,@R1          ;
35392                             196 I1          M_BRA   ACCST_CTRLCALC_800                                              ;演算終了:
35393 00007ADA A015                   M           BRA     ACCST_CTRLCALC_800
35394 00007ADC 0009                   M           NOP
35395                             197 I1  
35396                                 I1  ***** BEGIN-POOL *****
35397 00007ADE 0000                   I1  ALIGNMENT CODE
35398 00007AE0 00000000               I1  DATA FOR SOURCE-LINE 159
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   525
PROGRAM NAME =

35399 00007AE4 00000000               I1  DATA FOR SOURCE-LINE 164
35400 00007AE8 00000000               I1  DATA FOR SOURCE-LINE 167
35401 00007AEC 00000000               I1  DATA FOR SOURCE-LINE 172,183,195
35402 00007AF0 00000000               I1  DATA FOR SOURCE-LINE 181
35403 00007AF4 00000000               I1  DATA FOR SOURCE-LINE 192
35404                                 I1  ***** END-POOL *****
35405 00007AF8                    198 I1  ACCST_CTRLCALC_300
35406                             199 I1          FAR_JSR #_ACCST_UPDN_OUTSPD_CALC,R0     ;
35407 00007AF8 D002                   M           MOV.L   #_ACCST_UPDN_OUTSPD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35408 00007AFA 400B                   M           JSR     @R0                     ;
35409 00007AFC 0009                   M           NOP                                     ;
35410                             200 I1          M_BRA   ACCST_CTRLCALC_900              ;
35411 00007AFE A009                   M           BRA     ACCST_CTRLCALC_900
35412 00007B00 0009                   M           NOP
35413                             201 I1  
35414                             202 I1  ;       ----------- R2を設定値に戻す----------------
35415                                 I1  ***** BEGIN-POOL *****
35416 00007B02 0000                   I1  ALIGNMENT CODE
35417 00007B04 00000000               I1  DATA FOR SOURCE-LINE 199
35418                                 I1  ***** END-POOL *****
35419 00007B08                    203 I1  ACCST_CTRLCALC_800                              ;
35420 00007B08 D101               204 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35421 00007B0A 6212               205 I1          MOV.L   @R1,R2                          ;
35422                             206 I1          M_BRA   ACCST_CTRLCALC_EXT              ;
35423 00007B0C A004                   M           BRA     ACCST_CTRLCALC_EXT
35424 00007B0E 0009                   M           NOP
35425                             207 I1  
35426                             208 I1  ;       ---------  演算中なので演算結果を出力する---------
35427                                 I1  ***** BEGIN-POOL *****
35428 00007B10 00000000               I1  DATA FOR SOURCE-LINE 204
35429                                 I1  ***** END-POOL *****
35430 00007B14                    209 I1  ACCST_CTRLCALC_900                              ;
35431 00007B14 D107               210 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;       //出力速度
35432 00007B16 6212               211 I1          MOV.L   @R1,R2                          ;
35433                             212 I1  
35434 00007B18                    213 I1  ACCST_CTRLCALC_EXT                              ;
35435                             214 I1  
35436 00007B18 D107               215 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;//1STEP分
35437 00007B1A 6011               216 I1          MOV.W   @R1,R0                          ;
35438 00007B1C C903               217 I1          AND     #BIT1+BIT0,R0                   ;
35439 00007B1E 4018               218 I1          SHLL8   R0                              ;
35440 00007B20 6403               219 I1          MOV     R0,R4
35441 00007B22 D106               220 I1          MOV.L   #_ACCST_CALC_FLG,R1             ;
35442 00007B24 6011               221 I1          MOV.W   @R1,R0                          ;BIT0,BIT6,BIT7
35443 00007B26 C9C1               222 I1          AND     #BIT0+BIT6+BIT7,R0              ;
35444 00007B28 204B               223 I1          OR      R4,R0                           ;BIT0,BIT6,BIT7,BIT8,BIT9
35445 00007B2A D105               224 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB255,R1     ;255
35446 00007B2C 2101               225 I1          MOV.W   R0,@R1                          ;
35447                             226 I1  
35448                             227 I1  ;       ------- output [R2] --------------
35449                             228 I1  
35450                             229 I1          SUB_END
35451                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35452 00007B2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35453                             230 I1          M_RTS
35454 00007B30 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   526
PROGRAM NAME =

35455 00007B32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35456                             231 I1  
35457                             232 I1  
35458                             233 I1  ;       *******************************************
35459                             234 I1  ;       ***                                     ***
35460                             235 I1  ;       ***                                     ***
35461                             236 I1  ;       ***     加速または減速終了条件          ***
35462                             237 I1  ;       ***                                     ***
35463                             238 I1  ;       ***                                     ***
35464                             239 I1  ;       *******************************************
35465                             240 I1  ;       前変則でのみ実行
35466                             241 I1  ;       OUTPUT R0       R0=0:加速,減速終了
35467                             242 I1  ;                       R0=1:加速中,減速中
35468                             243 I1  ;
35469                                 I1  ***** BEGIN-POOL *****
35470 00007B34 00000000               I1  DATA FOR SOURCE-LINE 210
35471 00007B38 00000000               I1  DATA FOR SOURCE-LINE 215
35472 00007B3C 00000000               I1  DATA FOR SOURCE-LINE 220
35473 00007B40 00000000               I1  DATA FOR SOURCE-LINE 224
35474                                 I1  ***** END-POOL *****
35475 00007B44                    244 I1  _ACCST_UPDN_END_CONF_CHECK
35476                             245 I1          SUB_START
35477 00007B44 4F22                   M           STS.L   PR,@-R15                ;[必要]
35478                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35479 00007B46 D104               246 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;//1STEP分
35480 00007B48 6011               247 I1          MOV.W   @R1,R0                          ;
35481 00007B4A C802               248 I1          TST     #BIT1,R0                        ;
35482                             249 I1          TST_BIT_ON ACCST_UPDN_END_CONFCHK_100   ;BIT1=1減速
35483 00007B4C 8B08                   M           BF      ACCST_UPDN_END_CONFCHK_100
35484                             250 I1  
35485                             251 I1          FAR_JSR #_ACCST_UP_END_CONF_CHECK,R0    ;
35486 00007B4E D003                   M           MOV.L   #_ACCST_UP_END_CONF_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35487 00007B50 400B                   M           JSR     @R0                     ;
35488 00007B52 0009                   M           NOP                                     ;
35489                             252 I1          M_BRA   ACCST_UPDN_END_CONFCHK_200      ;
35490 00007B54 A007                   M           BRA     ACCST_UPDN_END_CONFCHK_200
35491 00007B56 0009                   M           NOP
35492                             253 I1  
35493                                 I1  ***** BEGIN-POOL *****
35494 00007B58 00000000               I1  DATA FOR SOURCE-LINE 246
35495 00007B5C 00000000               I1  DATA FOR SOURCE-LINE 251
35496                                 I1  ***** END-POOL *****
35497 00007B60                    254 I1  ACCST_UPDN_END_CONFCHK_100
35498                             255 I1          FAR_JSR #_ACCST_DN_END_CONF_CHECK,R0    ;
35499 00007B60 D002                   M           MOV.L   #_ACCST_DN_END_CONF_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35500 00007B62 400B                   M           JSR     @R0                     ;
35501 00007B64 0009                   M           NOP                                     ;
35502 00007B66                    256 I1  ACCST_UPDN_END_CONFCHK_200
35503                             257 I1          SUB_END
35504                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35505 00007B66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35506                             258 I1          M_RTS
35507 00007B68 000B                   M           RTS                             ;RTSの後ろの
35508 00007B6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35509                             259 I1  
35510                             260 I1  
35511                             261 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   527
PROGRAM NAME =

35512                             262 I1  ;       ***                                     ***
35513                             263 I1  ;       ***     減速終了条件                    ***
35514                             264 I1  ;       ***                                     ***
35515                             265 I1  ;       *******************************************
35516                             266 I1  ;       OUTPUT R0:0:減速終了 1:減速中
35517                             267 I1  ;       INPUT:R2(設定速度:符号無し)
35518                                 I1  ***** BEGIN-POOL *****
35519 00007B6C 00000000               I1  DATA FOR SOURCE-LINE 255
35520                                 I1  ***** END-POOL *****
35521 00007B70                    268 I1  _ACCST_DN_END_CONF_CHECK
35522                             269 I1          SUB_START
35523 00007B70 4F22                   M           STS.L   PR,@-R15                ;[必要]
35524                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35525 00007B72 D104               270 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35526 00007B74 6212               271 I1          MOV.L   @R1,R2                          ;
35527 00007B76 D104               272 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
35528 00007B78 6312               273 I1          MOV.L   @R1,R3                          ;
35529 00007B7A 3323               274 I1          CMP/GE  R2,R3                           ;R2(ﾓｰｼｮﾝ演算部演算結果)≦R3(設定)(R2=R3)
35530 00007B7C 8906               275 I1          BT      ACCST_DN_END_CONFCHK_100        ;
35531 00007B7E E001               276 I1          MOV.B   #BIT0,R0                        ;まだ減速継続
35532                             277 I1          M_BRA   ACCST_DN_END_CONFCHK_300        ;
35533 00007B80 A005                   M           BRA     ACCST_DN_END_CONFCHK_300
35534 00007B82 0009                   M           NOP
35535                             278 I1  
35536                                 I1  ***** BEGIN-POOL *****
35537 00007B84 00000000               I1  DATA FOR SOURCE-LINE 270
35538 00007B88 00000000               I1  DATA FOR SOURCE-LINE 272
35539                                 I1  ***** END-POOL *****
35540 00007B8C                    279 I1  ACCST_DN_END_CONFCHK_100
35541 00007B8C 200A               280 I1          XOR     R0,R0
35542 00007B8E                    281 I1  ACCST_DN_END_CONFCHK_300
35543                             282 I1  
35544                             283 I1          SUB_END
35545                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35546 00007B8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35547                             284 I1          M_RTS
35548 00007B90 000B                   M           RTS                             ;RTSの後ろの
35549 00007B92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35550                             285 I1  
35551                             286 I1  ;       *******************************************
35552                             287 I1  ;       ***                                     ***
35553                             288 I1  ;       ***     加速終了条件                    ***
35554                             289 I1  ;       ***                                     ***
35555                             290 I1  ;       *******************************************
35556                             291 I1  ;       OUTPUT R0:0:加速終了 1:加速中
35557                             292 I1  ;       INPUT:R2(設定速度:符号無し)
35558 00007B94                    293 I1  _ACCST_UP_END_CONF_CHECK
35559                             294 I1          SUB_START
35560 00007B94 4F22                   M           STS.L   PR,@-R15                ;[必要]
35561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35562 00007B96 D104               295 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35563 00007B98 6212               296 I1          MOV.L   @R1,R2                          ;
35564 00007B9A D104               297 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
35565 00007B9C 6312               298 I1          MOV.L   @R1,R3                          ;
35566 00007B9E 3233               299 I1          CMP/GE  R3,R2                           ;R3(対象の設定速度)≦R2(モーション演算部の
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   528
PROGRAM NAME =

                                          速度)(R2=R3)
35567 00007BA0 8906               300 I1          BT      ACCST_UP_END_CONFCHK_100        ;
35568 00007BA2 E001               301 I1          MOV.B   #BIT0,R0                        ;まだ加速継続
35569                             302 I1          M_BRA   ACCST_UP_END_CONFCHK_300        ;
35570 00007BA4 A005                   M           BRA     ACCST_UP_END_CONFCHK_300
35571 00007BA6 0009                   M           NOP
35572                             303 I1  
35573                                 I1  ***** BEGIN-POOL *****
35574 00007BA8 00000000               I1  DATA FOR SOURCE-LINE 295
35575 00007BAC 00000000               I1  DATA FOR SOURCE-LINE 297
35576                                 I1  ***** END-POOL *****
35577 00007BB0                    304 I1  ACCST_UP_END_CONFCHK_100
35578 00007BB0 200A               305 I1          XOR     R0,R0
35579 00007BB2                    306 I1  ACCST_UP_END_CONFCHK_300
35580                             307 I1  
35581                             308 I1          SUB_END
35582                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35583 00007BB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35584                             309 I1          M_RTS
35585 00007BB4 000B                   M           RTS                             ;RTSの後ろの
35586 00007BB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35587                             310 I1  
35588                             311 I1  ;       *******************************************
35589                             312 I1  ;       ***                                     ***
35590                             313 I1  ;       ***     行程切替時                      ***
35591                             314 I1  ;       ***                                     ***
35592                             315 I1  ;       *******************************************
35593                             316 I1  ;       INPUT R3: INT_POS_CTL_STEP 0以外
35594                             317 I1  ;       (停止,最終行程ではやらない.ACCST_ACC_MATH_SEL=0)
35595                             318 I1  ;
35596 00007BB8                    319 I1  _ACCST_CHGSTEP_GET_MAKE
35597                             320 I1          SUB_START
35598 00007BB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
35599                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35600                             321 I1  
35601 00007BBA D513               322 I1          MOV.L   #_ACCST_GET_STEP_NO,R5                  ;//BIT1=1時の対象行程
35602 00007BBC 6051               323 I1          MOV.W   @R5,R0                                  ;
35603 00007BBE 2531               324 I1          MOV.W   R3,@R5                                  ;
35604 00007BC0 3030               325 I1          CMP/EQ  R3,R0                                   ;
35605 00007BC2 891D               326 I1          BT      ACCST_CHGSTEP_GETINF_EXT                ;同じ
35606                             327 I1  
35607                             328 I1          PUSH_REG1 R3
35608 00007BC4 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
35609                                 M                                           ;REG=>[SP]
35610                                 M                                           ;"-4" FF,FF,FF,FC
35611                             329 I1          FAR_JSR #_API_ACCST_DRV_START2,R0               ;
35612 00007BC6 D011                   M           MOV.L   #_API_ACCST_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35613 00007BC8 400B                   M           JSR     @R0                     ;
35614 00007BCA 0009                   M           NOP                                     ;
35615                             330 I1          POP_REG1 R3
35616                                 M                                   ; RE"+4" 00,00,00,04
35617 00007BCC 63F6                   M           MOV.L   @R15+,R3        ;
35618                             331 I1  
35619                             332 I1  ;       ---------------------------------------------
35620 00007BCE 266A               333 I1          XOR     R6,R6
35621 00007BD0 D10F               334 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
35622 00007BD2 6011               335 I1          MOV.W   @R1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   529
PROGRAM NAME =

35623 00007BD4 7001               336 I1          ADD     #1,R0                                   ;[MAX:R0]
35624 00007BD6 3303               337 I1          CMP/GE  R0,R3                                   ;最終行程
35625 00007BD8 8910               338 I1          BT      ACCST_CHGSTEP_GETINF_SET                ;最終行程は固定
35626                             339 I1  
35627 00007BDA DE0E               340 I1          MOV.L   #_CPOS_SDAT1_INF1,R14                   ;4B
35628 00007BDC 6433               341 I1          MOV     R3,R4                                   ;
35629 00007BDE 74FF               342 I1          ADD     #-1,R4                                  ;
35630 00007BE0 4408               343 I1          SHLL2   R4                                      ;
35631 00007BE2 3E4C               344 I1          ADD     R4,R14                                  ;
35632 00007BE4 60E2               345 I1          MOV.L   @R14,R0                                 ;
35633 00007BE6 C801               346 I1          TST     #BIT0,R0                                ;連続か?
35634                             347 I1          TST_BIT_OF ACCST_CHGSTEP_GETINF_SET             ;演算しない
35635 00007BE8 8908                   M           BT      ACCST_CHGSTEP_GETINF_SET
35636                             348 I1  
35637                             349 I1  ;       -----------------------------------------------
35638 00007BEA D50B               350 I1          MOV.L   #_SET1_MOT_INF,R5                       ;
35639 00007BEC 6433               351 I1          MOV     R3,R4
35640 00007BEE 74FF               352 I1          ADD     #-1,R4                                  ;
35641 00007BF0 4400               353 I1          SHLL    R4                                      ;
35642 00007BF2 354C               354 I1          ADD     R4,R5                                   ;
35643 00007BF4 6051               355 I1          MOV.W   @R5,R0                                  ;
35644 00007BF6 C802               356 I1          TST     #BIT1,R0                                ;
35645                             357 I1          TST_BIT_ON ACCST_CHGSTEP_GETINF_100             ;BIT1=1[後変則]:通常ソフト(R6=0)
35646 00007BF8 8B00                   M           BF      ACCST_CHGSTEP_GETINF_100
35647 00007BFA E601               358 I1          MOV.B   #BIT0,R6                                ;BIT1=0[前変則]:行程切替前変則
35648 00007BFC                    359 I1  ACCST_CHGSTEP_GETINF_100                                ;
35649                             360 I1  ;       ---------------------------------------------------
35650                             361 I1  
35651 00007BFC                    362 I1  ACCST_CHGSTEP_GETINF_SET
35652 00007BFC D107               363 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1                 ;//1STEP分
35653 00007BFE 2161               364 I1          MOV.W   R6,@R1                                  ;指定されている行程の終わり方の抽
                                          出
35654                             365 I1                                                          ;BIT0:SET,BIT1=CLR()
35655 00007C00                    366 I1  ACCST_CHGSTEP_GETINF_EXT
35656                             367 I1  
35657                             368 I1          SUB_END
35658                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35659 00007C00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35660                             369 I1          M_RTS
35661 00007C02 000B                   M           RTS                             ;RTSの後ろの
35662 00007C04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35663                             370 I1  
35664                             371 I1  
35665                             372 I1  
35666                             373 I1  
35667                             374 I1  
35668                             375 I1  ;       *******************************************
35669                             376 I1  ;       ***                                     ***
35670                             377 I1  ;       ***     出力演算                        ***
35671                             378 I1  ;       ***     通常の減速演算を使用するので    ***
35672                             379 I1  ;       ***     今のところ演算不要              ***
35673                             380 I1  ;       ***                                     ***
35674                             381 I1  ;       *******************************************
35675                             382 I1  ;       出力速度演算
35676                                 I1  ***** BEGIN-POOL *****
35677 00007C06 0000                   I1  ALIGNMENT CODE
35678 00007C08 00000000               I1  DATA FOR SOURCE-LINE 322
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   530
PROGRAM NAME =

35679 00007C0C 00000000               I1  DATA FOR SOURCE-LINE 329
35680 00007C10 00000000               I1  DATA FOR SOURCE-LINE 334
35681 00007C14 00000000               I1  DATA FOR SOURCE-LINE 340
35682 00007C18 00000000               I1  DATA FOR SOURCE-LINE 350
35683 00007C1C 00000000               I1  DATA FOR SOURCE-LINE 363
35684                                 I1  ***** END-POOL *****
35685 00007C20                    383 I1  _ACCST_UPDN_OUTSPD_CALC
35686                             384 I1          SUB_START
35687 00007C20 4F22                   M           STS.L   PR,@-R15                ;[必要]
35688                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35689 00007C22 D103               385 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
35690 00007C24 6312               386 I1          MOV.L   @R1,R3                          ;
35691                             387 I1  
35692 00007C26 D103               388 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;出力速度
35693 00007C28 2132               389 I1          MOV.L   R3,@R1                          ;
35694                             390 I1  
35695                             391 I1          SUB_END
35696                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35697 00007C2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35698                             392 I1          M_RTS
35699 00007C2C 000B                   M           RTS                             ;RTSの後ろの
35700 00007C2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35701                             393 I1  
35702                             394 I1  
35703                             395 I1  ;       ***************************************************
35704                             396 I1  ;       ***                                             ***
35705                             397 I1  ;       ***     判定用に現在速度・現在加速度の算出      ***
35706                             398 I1  ;       ***     [オーバライド後で演算する]              ***
35707                             399 I1  ;       ***                                             ***
35708                             400 I1  ;       ***************************************************
35709                             401 I1  ;       *******************************************
35710                             402 I1  ;       ***                                     ***
35711                             403 I1  ;       ***     現在の行程から減速行程を探す    ***
35712                             404 I1  ;       ***                                     ***
35713                             405 I1  ;       *******************************************
35714                             406 I1  ;       S4b     CPOS_SDAT1_CNTSTEP[100+10];             //SETX-->起動時COPY
35715                             407 I1  ;       S4b     CPOS_SDAT1_INF1[100+10];                //SETX-->起動時COPY
35716                             408 I1  ;       S4b     CPOS_SDAT1_CHGAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
35717                             409 I1  ;       S4b     CPOS_SDAT1_STPAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
35718                             410 I1  ;
35719                             411 I1  
35720                                 I1  ***** BEGIN-POOL *****
35721 00007C30 00000000               I1  DATA FOR SOURCE-LINE 385
35722 00007C34 00000000               I1  DATA FOR SOURCE-LINE 388
35723                                 I1  ***** END-POOL *****
35724 00007C38                    412 I1  _ACCST_UPDN_START_CONF_CHECK
35725                             413 I1          SUB_START
35726 00007C38 4F22                   M           STS.L   PR,@-R15                ;[必要]
35727                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35728 00007C3A D103               414 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
35729 00007C3C 6011               415 I1          MOV.W   @R1,R0                          ;
35730 00007C3E 2008               416 I1          TST     R0,R0                           ;
35731                             417 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_050 ;
35732 00007C40 8B04                   M           BF      ACCST_UPDN_START_CONFCHK_050
35733                             418 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT    ;
35734 00007C42 A08B                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
35735 00007C44 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   531
PROGRAM NAME =

35736                             419 I1  
35737                                 I1  ***** BEGIN-POOL *****
35738 00007C46 0000                   I1  ALIGNMENT CODE
35739 00007C48 00000000               I1  DATA FOR SOURCE-LINE 414
35740                                 I1  ***** END-POOL *****
35741 00007C4C                    420 I1  ACCST_UPDN_START_CONFCHK_050
35742 00007C4C D103               421 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
35743 00007C4E 6511               422 I1          MOV.W   @R1,R5                          ;
35744 00007C50 7501               423 I1          ADD     #1,R5                           ;[MAX:R5]
35745 00007C52 3053               424 I1          CMP/GE  R5,R0                           ;最終行程
35746 00007C54 8B04               425 I1          BF      ACCST_UPDN_START_CONFCHK_100    ;
35747                             426 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT    ;R5=R0最終行程
35748 00007C56 A081                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
35749 00007C58 0009                   M           NOP
35750                             427 I1  
35751                             428 I1  ;       ---------------------------------------
35752                                 I1  ***** BEGIN-POOL *****
35753 00007C5A 0000                   I1  ALIGNMENT CODE
35754 00007C5C 00000000               I1  DATA FOR SOURCE-LINE 421
35755                                 I1  ***** END-POOL *****
35756 00007C60                    429 I1  ACCST_UPDN_START_CONFCHK_100
35757 00007C60 6803               430 I1          MOV     R0,R8                           ;行程
35758                             431 I1  
35759                             432 I1  ;       行程1の場合
35760                             433 I1  ;       INF1:行程1を参照
35761                             434 I1  ;       CHG :行程1を参照
35762                             435 I1  ;       速度:行程2を参照
35763                             436 I1  
35764 00007C62 70FF               437 I1          ADD     #-1,R0                          ;
35765 00007C64 4008               438 I1          SHLL2   R0                              ;*4
35766 00007C66 DD1A               439 I1          MOV.L   #_CPOS_SDAT1_SPD,R13            ;4B
35767 00007C68 3D0C               440 I1          ADD     R0,R13                          ;
35768 00007C6A 67D2               441 I1          MOV.L   @R13,R7                         ;現段の設定速度
35769 00007C6C 7D04               442 I1          ADD     #4,R13                          ;次段の設定速度(評価対象目標速度)
35770                             443 I1  
35771 00007C6E DE19               444 I1          MOV.L   #_CPOS_SDAT1_INF1,R14           ;4B
35772 00007C70 3E0C               445 I1          ADD     R0,R14                          ;
35773                             446 I1  
35774 00007C72 4000               447 I1          SHLL    R0
35775 00007C74 DC18               448 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R12        ;切替位置8B
35776 00007C76 3C0C               449 I1          ADD     R0,R12                          ;
35777                             450 I1  
35778                             451 I1  
35779                             452 I1  
35780 00007C78 60E2               453 I1          MOV.L   @R14,R0                         ;INF
35781 00007C7A C801               454 I1          TST     #BIT0,R0                        ;連続か?
35782                             455 I1          TST_BIT_OF ACCST_UPDN_START_CONFCHK_550 ;この行程は停止なので終了
35783 00007C7C 896B                   M           BT      ACCST_UPDN_START_CONFCHK_550
35784                             456 I1  
35785                             457 I1  ;       (------- 方向判別は不要R0.BIT1--------)
35786                             458 I1  ;       --------- 連続-----------
35787 00007C7E D417               459 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
35788 00007C80 6546               460 I1          MOV.L   @R4+,R5                                                 ;
35789 00007C82 6642               461 I1          MOV.L   @R4,R6                                                  ;ﾘｱﾙﾀｲﾑ目標位置
35790 00007C84 51C0               462 I1          MOV.L   @(0,R12),R1                                             ;
35791 00007C86 52C1               463 I1          MOV.L   @(4,R12),R2                                             ;設定位置
35792                             464 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2-R5,R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   532
PROGRAM NAME =

35793 00007C88 0008                   M           CLRT
35794 00007C8A 326A                   M           SUBC    R6,R2
35795 00007C8C 315A                   M           SUBC    R5,R1
35796                             465 I1  
35797 00007C8E 4111               466 I1          CMP/PZ  R1                              ;
35798 00007C90 8905               467 I1          BT      ACCST_UPDN_START_CONFCHK_250    ;
35799                             468 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;|R1,R2|=設定-現在目標位置
35800 00007C92 6227                   M           NOT     R2,R2                           ;
35801 00007C94 6117                   M           NOT     R1,R1                           ;
35802 00007C96 200A                   M           XOR     R0,R0                           ;
35803 00007C98 0018                   M           SETT
35804 00007C9A 320E                   M           ADDC    R0,R2                           ;0+1+R2
35805 00007C9C 310E                   M           ADDC    R0,R1                           ;
35806 00007C9E                    469 I1  ACCST_UPDN_START_CONFCHK_250:                   ;
35807                             470 I1  
35808                             471 I1  
35809 00007C9E 2118               472 I1          TST     R1,R1                                   ;
35810                             473 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_580         ;まだ距離が十分にある
35811 00007CA0 8B5C                   M           BF      ACCST_UPDN_START_CONFCHK_580
35812                             474 I1  
35813 00007CA2 D50F               475 I1          MOV.L   #_ACCST_REAL_SPD1MS,R5                  ;
35814 00007CA4 6452               476 I1          MOV.L   @R5,R4                                  ;
35815 00007CA6 3248               477 I1          SUB     R4,R2                                   ;
35816 00007CA8 4215               478 I1          CMP/PL  R2
35817 00007CAA 8900               479 I1          BT      ACCST_UPDN_START_CONFCHK_280            ;
35818 00007CAC 920F               480 I1          MOV.W   #1,R2                                   ;
35819 00007CAE                    481 I1  ACCST_UPDN_START_CONFCHK_280:                           ;R2:残り距離
35820                             482 I1  
35821 00007CAE D50D               483 I1          MOV.L   #_ACCST_GEN_MAX_LNG,R5                  ;最大速度時の減速距離(100->0 0->10
                                          0%に必要な距離)
35822 00007CB0 6452               484 I1          MOV.L   @R5,R4                                  ;
35823 00007CB2 3246               485 I1          CMP/HI  R4,R2                                   ;R4<R2
35824 00007CB4 8952               486 I1          BT      ACCST_UPDN_START_CONFCHK_580            ;まだ距離が十分にある
35825                             487 I1  
35826 00007CB6 60D2               488 I1          MOV.L   @R13,R0                                 ;次の段
35827 00007CB8 3700               489 I1          CMP/EQ  R0,R7                                   ;現行の段
35828 00007CBA 8949               490 I1          BT      ACCST_UPDN_START_CONFCHK_540            ;
35829                             491 I1  
35830 00007CBC 3073               492 I1          CMP/GE  R7,R0                                   ;
35831 00007CBE 8915               493 I1          BT      ACCST_UPDN_START_CONFCHK_300            ;加速
35832                             494 I1  
35833                             495 I1  ;       -------------- 減速 -------------
35834                             496 I1  ;INPUT R13:ターゲット設定 R1,R2:距離
35835                             497 I1          FAR_JSR #_ACCST_DN_START_CONF_CHECK,R0
35836 00007CC0 D009                   M           MOV.L   #_ACCST_DN_START_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35837 00007CC2 400B                   M           JSR     @R0                     ;
35838 00007CC4 0009                   M           NOP                                     ;
35839 00007CC6 2008               498 I1          TST     R0,R0
35840                             499 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_500                         ;減速すべき
35841 00007CC8 8B1A                   M           BF      ACCST_UPDN_START_CONFCHK_500
35842                             500 I1          M_BRA   ACCST_UPDN_START_CONFCHK_580                            ;まだ減速は不要
35843 00007CCA A047                   M           BRA     ACCST_UPDN_START_CONFCHK_580
35844 00007CCC 0009                   M           NOP
35845                             501 I1  
35846                                 I1  ***** BEGIN-POOL *****
35847 00007CCE 0001                   I1  DATA FOR SOURCE-LINE 480
35848 00007CD0 00000000               I1  DATA FOR SOURCE-LINE 439
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   533
PROGRAM NAME =

35849 00007CD4 00000000               I1  DATA FOR SOURCE-LINE 444
35850 00007CD8 00000000               I1  DATA FOR SOURCE-LINE 448
35851 00007CDC 00000000               I1  DATA FOR SOURCE-LINE 459
35852 00007CE0 00000000               I1  DATA FOR SOURCE-LINE 475
35853 00007CE4 00000000               I1  DATA FOR SOURCE-LINE 483
35854 00007CE8 00000000               I1  DATA FOR SOURCE-LINE 497
35855                                 I1  ***** END-POOL *****
35856 00007CEC                    502 I1  ACCST_UPDN_START_CONFCHK_300:                                                   ;
35857                             503 I1  ;       -------------- 加速 ---------------
35858                             504 I1          FAR_JSR #_ACCST_UP_START_CONF_CHECK,R0
35859 00007CEC D003                   M           MOV.L   #_ACCST_UP_START_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35860 00007CEE 400B                   M           JSR     @R0                     ;
35861 00007CF0 0009                   M           NOP                                     ;
35862 00007CF2 2008               505 I1          TST     R0,R0
35863                             506 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_520                         ;加速すべき
35864 00007CF4 8B18                   M           BF      ACCST_UPDN_START_CONFCHK_520
35865                             507 I1          M_BRA   ACCST_UPDN_START_CONFCHK_580                            ;まだ加速は不要
35866 00007CF6 A031                   M           BRA     ACCST_UPDN_START_CONFCHK_580
35867 00007CF8 0009                   M           NOP
35868                             508 I1  
35869                             509 I1  
35870                             510 I1  
35871                             511 I1  ;       ---------------- 減速開始する[減速スタートする]、演算はやめる-----------
35872                                 I1  ***** BEGIN-POOL *****
35873 00007CFA 0000                   I1  ALIGNMENT CODE
35874 00007CFC 00000000               I1  DATA FOR SOURCE-LINE 504
35875                                 I1  ***** END-POOL *****
35876 00007D00                    512 I1  ACCST_UPDN_START_CONFCHK_500:                                                           ;
35877 00007D00 62D2               513 I1          MOV.L   @R13,R2                                                                 ;
                                          設定速度NEW SPEED
35878 00007D02 D106               514 I1          MOV.L   #_ACCST_GET_SET_SPD,R1                                                  ;
35879 00007D04 2122               515 I1          MOV.L   R2,@R1                                                                  ;
35880                             516 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1              ;
35881 00007D06 D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
35882 00007D08 6011                   M           MOV.W   @R1,R0          ;
35883 00007D0A CB40                   M           OR      #BIT6,R0                ;
35884 00007D0C 2101                   M           MOV.W   R0,@R1          ;
35885                             517 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_ACC_MATH_SEL,LG=W,BIT=BIT1,WKREG=R1          ;<
                                          <<<<<<<減速 これは上で評価>>>>>>>
35886 00007D0E D105                   M           MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;
35887 00007D10 6011                   M           MOV.W   @R1,R0          ;
35888 00007D12 CB02                   M           OR      #BIT1,R0                ;
35889 00007D14 2101                   M           MOV.W   R0,@R1          ;
35890                             518 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT                                            ;
35891 00007D16 A021                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
35892 00007D18 0009                   M           NOP
35893                             519 I1  
35894                             520 I1  
35895                             521 I1  ;       ---------------- 加速開始する[加速スタートする]、演算はやめる-----------
35896                                 I1  ***** BEGIN-POOL *****
35897 00007D1A 0000                   I1  ALIGNMENT CODE
35898 00007D1C 00000000               I1  DATA FOR SOURCE-LINE 514
35899 00007D20 00000000               I1  DATA FOR SOURCE-LINE 516
35900 00007D24 00000000               I1  DATA FOR SOURCE-LINE 517
35901                                 I1  ***** END-POOL *****
35902 00007D28                    522 I1  ACCST_UPDN_START_CONFCHK_520:                                                           ;
35903 00007D28 62D2               523 I1          MOV.L   @R13,R2                                                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   534
PROGRAM NAME =

                                          設定速度NEW SPEED
35904 00007D2A D106               524 I1          MOV.L   #_ACCST_GET_SET_SPD,R1                                                  ;
35905 00007D2C 2122               525 I1          MOV.L   R2,@R1                                                                  ;
35906                             526 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1              ;
35907 00007D2E D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
35908 00007D30 6011                   M           MOV.W   @R1,R0          ;
35909 00007D32 CB40                   M           OR      #BIT6,R0                ;
35910 00007D34 2101                   M           MOV.W   R0,@R1          ;
35911                             527 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_ACCST_ACC_MATH_SEL,LG=W,BIT=~BIT1,WKREG=R1        ;
35912 00007D36 D105                   M           MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;
35913 00007D38 6011                   M           MOV.W   @R1,R0          ;
35914 00007D3A C9FD                   M           AND     #LOW ~BIT1,R0           ;
35915 00007D3C 2101                   M           MOV.W   R0,@R1          ;
35916                             528 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT                                            ;
35917 00007D3E A00D                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
35918 00007D40 0009                   M           NOP
35919                             529 I1  
35920                             530 I1  ;       ---------------- 停止行程なのでやめる----------------
35921                                 I1  ***** BEGIN-POOL *****
35922 00007D42 0000                   I1  ALIGNMENT CODE
35923 00007D44 00000000               I1  DATA FOR SOURCE-LINE 524
35924 00007D48 00000000               I1  DATA FOR SOURCE-LINE 526
35925 00007D4C 00000000               I1  DATA FOR SOURCE-LINE 527
35926                                 I1  ***** END-POOL *****
35927 00007D50                    531 I1  ACCST_UPDN_START_CONFCHK_540:                   ;
35928 00007D50 0009               532 I1          NOP                                     ;ここははじくべき
35929                             533 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT
35930 00007D52 A003                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
35931 00007D54 0009                   M           NOP
35932 00007D56                    534 I1  ACCST_UPDN_START_CONFCHK_550:                   ;
35933 00007D56 0009               535 I1          NOP                                     ;ここははじいているのでこない
35934                             536 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT
35935 00007D58 A000                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
35936 00007D5A 0009                   M           NOP
35937                             537 I1  ;       ----------まだその判定の位置にない------------
35938 00007D5C                    538 I1  ACCST_UPDN_START_CONFCHK_580:                   ;
35939 00007D5C                    539 I1  ACCST_UPDN_START_CONFCHK_EXT
35940                             540 I1          SUB_END
35941                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35942 00007D5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35943                             541 I1          M_RTS
35944 00007D5E 000B                   M           RTS                             ;RTSの後ろの
35945 00007D60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35946                             542 I1  
35947                             543 I1  
35948                             544 I1  
35949                             545 I1  
35950                             546 I1  
35951                             547 I1  
35952                             548 I1  
35953                             549 I1  ;       ***********************************************************
35954                             550 I1  ;       ***                                                     ***
35955                             551 I1  ;       ***     減速すべき設定で減速すべき範囲内でR0 !=0        ***
35956                             552 I1  ;       ***                                                     ***
35957                             553 I1  ;       ***********************************************************
35958                             554 I1  ;       ANS R0!=0 減速すべき位置
35959 00007D62                    555 I1  _ACCST_DN_START_CONF_CHECK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   535
PROGRAM NAME =

35960                             556 I1          SUB_START
35961 00007D62 4F22                   M           STS.L   PR,@-R15                ;[必要]
35962                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35963                             557 I1  
35964                             558 I1  ;[速度が高い場合評価をやめる]
35965                             559 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
35966                             560 I1  
35967                             561 I1  ;;不要  PUSH_REG1 R8    ;行程
35968                             562 I1  ;;不要  PUSH_REG1 R12   ;POS
35969                             563 I1  ;;不要  PUSH_REG1 R13   ;SPD
35970                             564 I1  ;;不要  PUSH_REG1 R14   ;INF1
35971 00007D64 D40B               565 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
35972 00007D66 6942               566 I1          MOV.L   @R4,R9                                                  ;
35973                             567 I1  
35974 00007D68 6AD2               568 I1          MOV.L   @R13,R10                                                ;SPD：次段設定
35975                             569 I1          PUSH_REG1 R1                                                    ;
35976 00007D6A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35977                                 M                                           ;REG=>[SP]
35978                                 M                                           ;"-4" FF,FF,FF,FC
35979                             570 I1          PUSH_REG1 R2                                                    ;
35980 00007D6C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
35981                                 M                                           ;REG=>[SP]
35982                                 M                                           ;"-4" FF,FF,FF,FC
35983 00007D6E 62A3               571 I1          MOV     R10,R2                                                  ;
35984                             572 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
35985 00007D70 D009                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35986 00007D72 400B                   M           JSR     @R0                     ;
35987 00007D74 0009                   M           NOP                                     ;
35988 00007D76 6A23               573 I1          MOV     R2,R10                                                  ;
35989                             574 I1          POP_REG1 R2                                                     ;
35990                                 M                                   ; RE"+4" 00,00,00,04
35991 00007D78 62F6                   M           MOV.L   @R15+,R2        ;
35992                             575 I1          POP_REG1 R1                                                     ;
35993                                 M                                   ; RE"+4" 00,00,00,04
35994 00007D7A 61F6                   M           MOV.L   @R15+,R1        ;
35995                             576 I1  
35996 00007D7C D407               577 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35997 00007D7E 6B42               578 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
35998                             579 I1                                                                          ;Input R1,R2 距離
35999                             580 I1                                                                          ;Input R9    現在
                                          速度
36000                             581 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
36001                             582 I1                                                                          ;Input R11   減速
                                          距離
36002                             583 I1  
36003 00007D80 200A               584 I1          XOR     R0,R0
36004 00007D82 3A93               585 I1          CMP/GE  R9,R10                                                  ;R9(現在速度)≦R10
                                          (設定速度):不要
36005 00007D84 8902               586 I1          BT      ACCST_DN_START_CONFCHK_400                              ;
36006                             587 I1  
36007                             588 I1  ;       ***     Input R1,R2(残り距離)           ***
36008                             589 I1  ;       ***     Input R9:SPEED  DATA            ***
36009                             590 I1  ;       ***     Input R10:OFFSET SPEED          ***
36010                             591 I1  ;       ***     Input R11:ACC_LATE              ***
36011                             592 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;ANS R0!=0 減速
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   536
PROGRAM NAME =

36012 00007D86 D006                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36013 00007D88 400B                   M           JSR     @R0                     ;
36014 00007D8A 0009                   M           NOP                                     ;
36015                             593 I1  
36016 00007D8C                    594 I1  ACCST_DN_START_CONFCHK_400:                                             ;
36017                             595 I1  
36018                             596 I1  
36019                             597 I1  ;;不要  POP_REG1 R14
36020                             598 I1  ;;不要  POP_REG1 R13
36021                             599 I1  ;;不要  POP_REG1 R12
36022                             600 I1  ;;不要  POP_REG1 R8
36023                             601 I1  
36024                             602 I1          SUB_END
36025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36026 00007D8C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36027                             603 I1          M_RTS
36028 00007D8E 000B                   M           RTS                             ;RTSの後ろの
36029 00007D90 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36030                             604 I1  
36031                             605 I1  
36032                             606 I1  ;       ***********************************************************
36033                             607 I1  ;       ***                                                     ***
36034                             608 I1  ;       ***     加速すべき設定で加速すべき範囲内でR0 !=0        ***
36035                             609 I1  ;       ***                                                     ***
36036                             610 I1  ;       ***********************************************************
36037                             611 I1  ;       ANS R0!=0 減速すべき位置
36038                                 I1  ***** BEGIN-POOL *****
36039 00007D92 0000                   I1  ALIGNMENT CODE
36040 00007D94 00000000               I1  DATA FOR SOURCE-LINE 565
36041 00007D98 00000000               I1  DATA FOR SOURCE-LINE 572
36042 00007D9C 00000000               I1  DATA FOR SOURCE-LINE 577
36043 00007DA0 00000000               I1  DATA FOR SOURCE-LINE 592
36044                                 I1  ***** END-POOL *****
36045 00007DA4                    612 I1  _ACCST_UP_START_CONF_CHECK
36046                             613 I1          SUB_START
36047 00007DA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36048                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36049                             614 I1  
36050                             615 I1  ;[速度が高い場合評価をやめる]
36051                             616 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
36052                             617 I1  
36053                             618 I1  ;;不要  PUSH_REG1 R8    ;行程
36054                             619 I1  ;;不要  PUSH_REG1 R12   ;POS
36055                             620 I1  ;;不要  PUSH_REG1 R13   ;SPD
36056                             621 I1  ;;不要  PUSH_REG1 R14   ;INF1
36057 00007DA6 D40D               622 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
36058 00007DA8 6942               623 I1          MOV.L   @R4,R9                                                  ;
36059                             624 I1  
36060 00007DAA 6AD2               625 I1          MOV.L   @R13,R10                                                ;SPD：次段設定
36061                             626 I1          PUSH_REG1 R1                                                    ;
36062 00007DAC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36063                                 M                                           ;REG=>[SP]
36064                                 M                                           ;"-4" FF,FF,FF,FC
36065                             627 I1          PUSH_REG1 R2                                                    ;
36066 00007DAE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36067                                 M                                           ;REG=>[SP]
36068                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   537
PROGRAM NAME =

36069 00007DB0 62A3               628 I1          MOV     R10,R2                                                  ;
36070                             629 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
36071 00007DB2 D00B                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36072 00007DB4 400B                   M           JSR     @R0                     ;
36073 00007DB6 0009                   M           NOP                                     ;
36074 00007DB8 6A23               630 I1          MOV     R2,R10                                                  ;
36075                             631 I1          POP_REG1 R2                                                     ;
36076                                 M                                   ; RE"+4" 00,00,00,04
36077 00007DBA 62F6                   M           MOV.L   @R15+,R2        ;
36078                             632 I1          POP_REG1 R1                                                     ;
36079                                 M                                   ; RE"+4" 00,00,00,04
36080 00007DBC 61F6                   M           MOV.L   @R15+,R1        ;
36081                             633 I1  
36082 00007DBE D409               634 I1          MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
36083 00007DC0 6B42               635 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
36084                             636 I1                                                                          ;Input R1,R2 距離
36085                             637 I1                                                                          ;Input R9    現在
                                          速度
36086                             638 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
36087                             639 I1                                                                          ;Input R11   減速
                                          距離
36088                             640 I1  
36089 00007DC2 200A               641 I1          XOR     R0,R0
36090 00007DC4 39A3               642 I1          CMP/GE  R10,R9                                                  ;R10(設定速度)≦R9
                                          (現在速度):不要
36091 00007DC6 8905               643 I1          BT      ACCST_UP_START_CONFCHK_400                              ;
36092                             644 I1  
36093                             645 I1  ;       ***     Input R1,R2(残り距離)           ***
36094                             646 I1  ;       ***     Input R9:SPEED  DATA            ***
36095                             647 I1  ;       ***     Input R10:OFFSET SPEED          ***
36096                             648 I1  ;       ***     Input R11:ACC_LATE              ***
36097                             649 I1  
36098 00007DC8 60A3               650 I1          MOV     R10,R0
36099 00007DCA 6A93               651 I1          MOV     R9,R10
36100 00007DCC 6903               652 I1          MOV     R0,R9                                                   ;
36101                             653 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;ANS R0!=0 減速
36102 00007DCE D006                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36103 00007DD0 400B                   M           JSR     @R0                     ;
36104 00007DD2 0009                   M           NOP                                     ;
36105                             654 I1  
36106 00007DD4                    655 I1  ACCST_UP_START_CONFCHK_400:                                             ;
36107                             656 I1  
36108                             657 I1  
36109                             658 I1  ;;不要  POP_REG1 R14
36110                             659 I1  ;;不要  POP_REG1 R13
36111                             660 I1  ;;不要  POP_REG1 R12
36112                             661 I1  ;;不要  POP_REG1 R8
36113                             662 I1  
36114                             663 I1          SUB_END
36115                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36116 00007DD4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36117                             664 I1          M_RTS
36118 00007DD6 000B                   M           RTS                             ;RTSの後ろの
36119 00007DD8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36120                             665 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   538
PROGRAM NAME =

36121                             666 I1  
36122                             667 I1  
36123                             668 I1  
36124                             669 I1  
36125                             670 I1  
36126                             671 I1  ;       *******************************************
36127                             672 I1  ;       ***                                     ***
36128                             673 I1  ;       ***                                     ***
36129                             674 I1  ;       ***                                     ***
36130                             675 I1  ;       ***                                     ***
36131                             676 I1  ;       *******************************************
36132                             677 I1  ;       レジスタはR0以外破壊しないこと
36133                             678 I1  ;       R0=0/R0=1(前減速,前加速)
36134                             679 I1  ;       input R5:行程番号
36135                             680 I1  ;
36136                                 I1  ***** BEGIN-POOL *****
36137 00007DDA 0000                   I1  ALIGNMENT CODE
36138 00007DDC 00000000               I1  DATA FOR SOURCE-LINE 622
36139 00007DE0 00000000               I1  DATA FOR SOURCE-LINE 629
36140 00007DE4 00000000               I1  DATA FOR SOURCE-LINE 634
36141 00007DE8 00000000               I1  DATA FOR SOURCE-LINE 653
36142                                 I1  ***** END-POOL *****
36143 00007DEC                    681 I1  _ACCST_CHGSPD_LIMIT_INFO_LOAD
36144                             682 I1          SUB_START
36145 00007DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
36146                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36147                             683 I1          PUSH_REG1 R1
36148 00007DEE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36149                                 M                                           ;REG=>[SP]
36150                                 M                                           ;"-4" FF,FF,FF,FC
36151                             684 I1          PUSH_REG1 R2
36152 00007DF0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36153                                 M                                           ;REG=>[SP]
36154                                 M                                           ;"-4" FF,FF,FF,FC
36155                             685 I1  
36156 00007DF2 D107               686 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
36157 00007DF4 6011               687 I1          MOV.W   @R1,R0                                  ;
36158 00007DF6 C801               688 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
36159                             689 I1          TST_BIT_OF ACCST_CHGSPD_LMT_INF_LD_200          ;回転ではない
36160 00007DF8 8910                   M           BT      ACCST_CHGSPD_LMT_INF_LD_200
36161                             690 I1  
36162 00007DFA D106               691 I1          MOV.L   #_MOTION_SPD_CHKCNT,R1
36163 00007DFC 6011               692 I1          MOV.W   @R1,R0                                  ;1段目=0 2段目=4 3段目=8,,,
36164 00007DFE D106               693 I1          MOV.L   #_SET1_MOT_INF,R1                       ;評価の前の段が前変速か
36165 00007E00 4000               694 I1          SHLL    R0                                      ;
36166 00007E02 310C               695 I1          ADD     R0,R1                                   ;
36167 00007E04 6011               696 I1          MOV.W   @R1,R0                                  ;
36168 00007E06 C802               697 I1          TST     #BIT1,R0                                ;
36169                             698 I1          TST_BIT_ON ACCST_CHGSPD_LMT_INF_LD_200          ;ON:後変速
36170 00007E08 8B08                   M           BF      ACCST_CHGSPD_LMT_INF_LD_200
36171                             699 I1          M_BRA   ACCST_CHGSPD_LMT_INF_LD_300             ;OFF:前変速
36172 00007E0A A00A                   M           BRA     ACCST_CHGSPD_LMT_INF_LD_300
36173 00007E0C 0009                   M           NOP
36174                             700 I1  
36175                             701 I1  
36176                             702 I1  
36177                             703 I1  ;       --------------- 通常の評価を実施する---------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   539
PROGRAM NAME =

36178                                 I1  ***** BEGIN-POOL *****
36179 00007E0E 0000                   I1  ALIGNMENT CODE
36180 00007E10 00000000               I1  DATA FOR SOURCE-LINE 686
36181 00007E14 00000000               I1  DATA FOR SOURCE-LINE 691
36182 00007E18 00000000               I1  DATA FOR SOURCE-LINE 693
36183                                 I1  ***** END-POOL *****
36184 00007E1C                    704 I1  ACCST_CHGSPD_LMT_INF_LD_200                             ;
36185 00007E1C 200A               705 I1          XOR     R0,R0
36186                             706 I1          M_BRA   ACCST_CHGSPD_LMT_INF_LD_END             ;
36187 00007E1E A001                   M           BRA     ACCST_CHGSPD_LMT_INF_LD_END
36188 00007E20 0009                   M           NOP
36189                             707 I1  
36190                             708 I1  
36191                             709 I1  ;       --------------- 前変則だから評価不要-----------
36192 00007E22                    710 I1  ACCST_CHGSPD_LMT_INF_LD_300                             ;
36193 00007E22 E001               711 I1          MOV.B   #1,R0                                   ;
36194 00007E24                    712 I1  ACCST_CHGSPD_LMT_INF_LD_END                             ;
36195                             713 I1  
36196                             714 I1          POP_REG1 R2
36197                                 M                                   ; RE"+4" 00,00,00,04
36198 00007E24 62F6                   M           MOV.L   @R15+,R2        ;
36199                             715 I1          POP_REG1 R1
36200                                 M                                   ; RE"+4" 00,00,00,04
36201 00007E26 61F6                   M           MOV.L   @R15+,R1        ;
36202                             716 I1  
36203                             717 I1  
36204                             718 I1          SUB_END
36205                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36206 00007E28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36207                             719 I1          M_RTS
36208 00007E2A 000B                   M           RTS                             ;RTSの後ろの
36209 00007E2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36210                             720 I1  
36211                             721 I1  
36212                           10797     
36213                           10798     
36214                           10799     
36215                           10800     
36216                           10801     
36217                           10802     
36218                           10803     
36219                           10804     
36220                           10805     
36221                           10806     
36222                           10807     
36223                           10808     
36224                           10809     ;       **********************************************************
36225                           10810     ;       ***                                                     ***
36226                           10811     ;       ***                                                     ***
36227                           10812     ;       ***                                                     ***
36228                           10813     ;       ***                                                     ***
36229                           10814     ;       ***     CPUBの高速化「以下にはプログラム追加しないこと」***
36230                           10815     ;       ***     2013-03-15                                      ***
36231                           10816     ;       ***                                                     ***
36232                           10817     ;       ***     A5007000~A5008FFFまで                           ***
36233                           10818     ;       ***     [PHiRAM]                                        ***
36234                           10819     ;       ***                                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   540
PROGRAM NAME =

36235                           10820     ;       ***                                                     ***
36236                           10821     ;       ***********************************************************
36237 00007E30                  10822             .ALIGN  4                                       ;
36238                           10823             .AIF    2 EQ 3          ;
36239                           10824             .SECTION        PHiROM,CODE                     ;
36240                           10825             .AENDI                                          ;
36241                           10826     
36242                           10827     ;
36243                           10828     ;
36244                           10829     ;
36245                           10830     ;
36246                           10831     ;
36247 00007E30                  10832             .ALIGN  4                                               ;
36248                           10833     ;       *******************************************
36249                           10834     ;       ***                                     ***
36250                           10835     ;       ***     2006-09-19                      ***
36251                           10836     ;       ***                                     ***
36252                           10837     ;       ***     ﾊﾟﾙｽ管理                        ***
36253                           10838     ;       ***     (位置決め部分での処理)          ***
36254                           10839     ;       ***                                     ***
36255                           10840     ;       *******************************************
36256                           10841     ;       Input :現在位置(出力ﾊﾟﾙｽ側)    [8byte]
36257                           10842     ;       Input :最終停止位置(出力ﾊﾟﾙｽ上)[8byte]
36258                           10843     ;       Input :設定速度(0.01%単位)     [4byte]
36259                           10844     ;       Input :制御周期 TIME-LATE:1/1000
36260                           10845     ;       Input :加速度(0.001%/s/s)[4byte]
36261                           10846     ;       Input :
36262                           10847     ;       Input :処理状態：起動/減速停止/処理継続
36263                           10848     ;       Output:加速度書換え
36264                           10849     ;
36265                           10850     ;       *******************************************
36266                           10851     ;       ***                                     ***
36267                           10852     ;       ***                                     ***
36268                           10853     ;       ***             主制御                  ***
36269                           10854     ;       ***     (ここは標準・ふりこ共通)        ***
36270                           10855     ;       ***                                     ***
36271                           10856     ;       ***                                     ***
36272                           10857     ;       *******************************************
36273                           10858     ;_POSCTL_STEP_FLG BIT0 ACTIVE
36274                           10859     ;                 BIT1 減速ｺﾏﾝﾄﾞ
36275                           10860     ;                 BIT2 最終減速ﾗｯﾁ：解除は目標位置変更
36276                           10861     ;                 BIT6:END
36277 00007E30                  10862             .ALIGN  4                               ;
36278 00007E30                  10863     _PLS_LSI_CTRL:
36279                           10864             SUB_START
36280 00007E30 4F22                   M           STS.L   PR,@-R15                ;[必要]
36281                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36282                           10865     
36283                           10866     
36284                           10867     ;       ---------------最終目標位置-----------
36285 00007E32 D410             10868             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;LINKX_SV_OBJ_ABSPLSの場合があるか
                                          も
36286 00007E34 6146             10869             MOV.L   @R4+,R1                                 ;
36287 00007E36 6242             10870             MOV.L   @R4,R2                                  ;
36288 00007E38 D40F             10871             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
36289 00007E3A 5540             10872             MOV.L   @(0,R4),R5                              ;
36290 00007E3C 5641             10873             MOV.L   @(4,R4),R6                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   541
PROGRAM NAME =

36291 00007E3E 1410             10874             MOV.L   R1,@(0,R4)                              ;
36292 00007E40 1421             10875             MOV.L   R2,@(4,R4)                              ;
36293                           10876     
36294 00007E42 251A             10877             XOR     R1,R5
36295 00007E44 262A             10878             XOR     R2,R6                                   ;
36296 00007E46 265B             10879             OR      R5,R6                                   ;
36297 00007E48 2668             10880             TST     R6,R6                                   ;
36298                           10881             TST_BIT_OF PLS_LSICTRL_050                      ;
36299 00007E4A 8903                   M           BT      PLS_LSICTRL_050
36300                           10882             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSCTL_STEP_FLG,LG=W,BIT=~BIT2,WKREG=R1   ;
36301 00007E4C D10B                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36302 00007E4E 6011                   M           MOV.W   @R1,R0          ;
36303 00007E50 C9FB                   M           AND     #LOW ~BIT2,R0           ;
36304 00007E52 2101                   M           MOV.W   R0,@R1          ;
36305                           10883     
36306 00007E54                  10884     PLS_LSICTRL_050                 ;
36307                           10885     
36308                           10886     
36309                           10887     ;       ---------------リアルタイム目標位置-----------
36310 00007E54 D40A             10888             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
36311 00007E56 6146             10889             MOV.L   @R4+,R1                                 ;
36312 00007E58 6242             10890             MOV.L   @R4,R2                                  ;
36313 00007E5A D40A             10891             MOV.L   #_POSCTL_RL_PLS,R4                      ;RL
36314 00007E5C 1410             10892             MOV.L   R1,@(0,R4)                              ;
36315 00007E5E 1421             10893             MOV.L   R2,@(4,R4)                              ;
36316                           10894     
36317                           10895     
36318                           10896     ;       ==================================================
36319 00007E60 D109             10897             MOV.L   #_POS_HLDSTOP1_FLG,R1                   ;
36320 00007E62 6011             10898             MOV.W   @R1,R0                                  ;
36321 00007E64 C801             10899             TST     #BIT0,R0                                ;HOLD減速
36322                           10900             TST_BIT_OF PLS_LSICTRL_070                      ;
36323 00007E66 8915                   M           BT      PLS_LSICTRL_070
36324                           10901     
36325                           10902     ;       ---------------------------------
36326 00007E68 D108             10903             MOV.L   #_POSHLD_SET_DN_ACC,R1                  ;//位置決めキャンセル減速
36327 00007E6A 6212             10904             MOV.L   @R1,R2                                  ;
36328 00007E6C D108             10905             MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
36329 00007E6E 2122             10906             MOV.L   R2,@R1                                  ;
36330                           10907             M_BRA   PLS_LSICTRL_080                         ;
36331 00007E70 A018                   M           BRA     PLS_LSICTRL_080
36332 00007E72 0009                   M           NOP
36333                           10908     
36334                                     ***** BEGIN-POOL *****
36335 00007E74 00000000                   DATA FOR SOURCE-LINE 10868
36336 00007E78 00000000                   DATA FOR SOURCE-LINE 10871
36337 00007E7C 00000000                   DATA FOR SOURCE-LINE 10882
36338 00007E80 00000000                   DATA FOR SOURCE-LINE 10888
36339 00007E84 00000000                   DATA FOR SOURCE-LINE 10891
36340 00007E88 00000000                   DATA FOR SOURCE-LINE 10897
36341 00007E8C 00000000                   DATA FOR SOURCE-LINE 10903
36342 00007E90 00000000                   DATA FOR SOURCE-LINE 10905
36343                                     ***** END-POOL *****
36344 00007E94                  10909     PLS_LSICTRL_070                                 ;
36345                           10910     ;       --------- ｵｰﾊﾞﾗｲﾄﾞ転送---- -----------
36346                           10911             MEM_MOV_TO_MEM  _SET_UP_ACC_LATE,L,_POSCTL_SV_UP_ACC,L,R1,R2,R3 ;
36347 00007E94 D11B                   M           MOV.L   #_SET_UP_ACC_LATE,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   542
PROGRAM NAME =

36348 00007E96 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
36349 00007E98 D31B                   M           MOV.L   #_POSCTL_SV_UP_ACC,R3   ;DST_ADR
36350 00007E9A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
36351                           10912             MEM_MOV_TO_MEM  _SET_DN_ACC_LATE,L,_POSCTL_SV_DN_ACC,L,R1,R2,R3 ;
36352 00007E9C D11B                   M           MOV.L   #_SET_DN_ACC_LATE,R1
36353 00007E9E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
36354 00007EA0 D31B                   M           MOV.L   #_POSCTL_SV_DN_ACC,R3   ;DST_ADR
36355 00007EA2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
36356                           10913     
36357 00007EA4                  10914     PLS_LSICTRL_080                                 ;
36358                           10915     
36359                           10916     ;       -------------------------------------------
36360                           10917     ;       ---             2015-11-17              ---
36361                           10918     ;       -------------------------------------------
36362 00007EA4 D31B             10919             MOV.L   #_POSCTL_SET_SPD,R3                     ;速度
36363 00007EA6 6232             10920             MOV.L   @R3,R2                                  ;
36364                           10921     
36365                           10922     ;       -------- 減速選択--------
36366                           10923             FAR_JSR #_ACC_MATHED_SEL_CTRL,R0        ;2016-04-18 INPUT R2,OUTPUT R2
36367 00007EA8 D01B                   M           MOV.L   #_ACC_MATHED_SEL_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36368 00007EAA 400B                   M           JSR     @R0                     ;
36369 00007EAC 0009                   M           NOP                                     ;
36370                           10924     
36371                           10925     ;2016-04-18     FAR_JSR #_ACCLW_CTRL_CALC,R0            ;2015-11-17 減速選択
36372                           10926                                                             ;INPUT R2-OUTPUT R2
36373                           10927     
36374                           10928     ;;;2015-11-17   MOV.L   #_POSCTL_SET_SPD,R3             ;速度
36375                           10929     ;;;2015-11-17   MOV.L   @R3,R2                          ;
36376                           10930     ;       -------------------------------------------
36377                           10931     
36378                           10932             FAR_JSR #_OVER_LIDE_SPD_CALC,R0                 ;INPUT R2-OUTPUT R2
36379 00007EAE D01B                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36380 00007EB0 400B                   M           JSR     @R0                     ;
36381 00007EB2 0009                   M           NOP                                     ;
36382                           10933     
36383                           10934     
36384                           10935     ;       -------------2013-02-15 速度上限制限[ここはふりこも共通]-----------------------
36385                           10936             FAR_JSR #_SPD_UPLIMT_CALC,R0                    ;INPUT R2-OUTPUT R2
36386 00007EB4 D01A                   M           MOV.L   #_SPD_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36387 00007EB6 400B                   M           JSR     @R0                     ;
36388 00007EB8 0009                   M           NOP                                     ;
36389                           10937     ;       --------------------------------------------------------------
36390                           10938     
36391                           10939             FAR_JSR #_CNT_REST_HOSEI_SPD_TYP,R0             ;INPUT R2 OUTPUT R2
36392 00007EBA D01A                   M           MOV.L   #_CNT_REST_HOSEI_SPD_TYP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36393 00007EBC 400B                   M           JSR     @R0                     ;
36394 00007EBE 0009                   M           NOP                                     ;
36395                           10940     
36396                           10941     
36397 00007EC0 D119             10942             MOV.L   #_POSCTL_SV_SPD,R1                      ;
36398 00007EC2 2122             10943             MOV.L   R2,@R1                                  ;
36399                           10944     
36400                           10945     ;       ========== 管理=============
36401 00007EC4 D119             10946             MOV.L   #_POSCTL_STEP_FLG,R1                    ;//0(IDLE) BIT0/BIT6 (BIT2,3,4 減
                                          速関連)
36402 00007EC6 6011             10947             MOV.W   @R1,R0                                  ;
36403 00007EC8 C840             10948             TST     #BIT6,R0                                ;終了?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   543
PROGRAM NAME =

36404                           10949             TST_BIT_ON PLS_LSICTRL_END                      ;
36405 00007ECA 8B48                   M           BF      PLS_LSICTRL_END
36406                           10950     
36407 00007ECC C801             10951             TST     #BIT0,R0                                ;ACTIVE
36408                           10952             TST_BIT_ON PLS_LSICTRL_100                      ;
36409 00007ECE 8B09                   M           BF      PLS_LSICTRL_100
36410                           10953     
36411                           10954     ;       --- 停止中---
36412 00007ED0 D117             10955             MOV.L   #_POSCTL_STEP_CMD,R1                    ;
36413 00007ED2 6011             10956             MOV.W   @R1,R0                                  ;
36414 00007ED4 8801             10957             CMP/EQ  #1,R0                                   ;起動?
36415 00007ED6 8B42             10958             BF      PLS_LSICTRL_END                         ;NO
36416                           10959     
36417                           10960             FAR_JSR #_PLS_LSI_CTL_INI,R0                    ;起動
36418 00007ED8 D016                   M           MOV.L   #_PLS_LSI_CTL_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36419 00007EDA 400B                   M           JSR     @R0                     ;
36420 00007EDC 0009                   M           NOP                                     ;
36421 00007EDE 900F             10961             MOV.W   #BIT0,R0                                ;
36422                           10962             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
36423 00007EE0 D112                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
36424 00007EE2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
36425                           10963     
36426 00007EE4                  10964     PLS_LSICTRL_100:
36427 00007EE4 D112             10965             MOV.L   #_POSCTL_STEP_CMD,R1                    ;//3:EMG停止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2
                                          :(減速停止)
36428 00007EE6 6011             10966             MOV.W   @R1,R0                                  ;EMG-STOP
36429 00007EE8 8803             10967             CMP/EQ  #3,R0                                   ;
36430 00007EEA 8B27             10968             BF      PLS_LSICTRL_200                         ;
36431                           10969     
36432 00007EEC 200A             10970             XOR     R0,R0                                   ;
36433                           10971             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
36434 00007EEE D10F                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
36435 00007EF0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
36436                           10972             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1
36437 00007EF2 D10F                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
36438 00007EF4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
36439                           10973     
36440                           10974             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                  ;
36441 00007EF6 D010                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36442 00007EF8 400B                   M           JSR     @R0                     ;
36443 00007EFA 0009                   M           NOP                                     ;
36444                           10975             M_BRA   PLS_LSICTRL_END                         ;
36445 00007EFC A02F                   M           BRA     PLS_LSICTRL_END
36446 00007EFE 0009                   M           NOP
36447                           10976     
36448                                     ***** BEGIN-POOL *****
36449 00007F00 0001                       DATA FOR SOURCE-LINE 10961
36450 00007F02 0000                       ALIGNMENT CODE
36451 00007F04 00000000                   DATA FOR SOURCE-LINE 10911
36452 00007F08 00000000                   DATA FOR SOURCE-LINE 10911
36453 00007F0C 00000000                   DATA FOR SOURCE-LINE 10912
36454 00007F10 00000000                   DATA FOR SOURCE-LINE 10912
36455 00007F14 00000000                   DATA FOR SOURCE-LINE 10919
36456 00007F18 00000000                   DATA FOR SOURCE-LINE 10923
36457 00007F1C 00000000                   DATA FOR SOURCE-LINE 10932
36458 00007F20 00000000                   DATA FOR SOURCE-LINE 10936
36459 00007F24 00000000                   DATA FOR SOURCE-LINE 10939
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   544
PROGRAM NAME =

36460 00007F28 00000000                   DATA FOR SOURCE-LINE 10942
36461 00007F2C 00000000                   DATA FOR SOURCE-LINE 10946,10962,10971
36462 00007F30 00000000                   DATA FOR SOURCE-LINE 10955,10965,10972
36463 00007F34 00000000                   DATA FOR SOURCE-LINE 10960
36464 00007F38 00000000                   DATA FOR SOURCE-LINE 10974
36465                                     ***** END-POOL *****
36466 00007F3C                  10977     PLS_LSICTRL_200:
36467                           10978     
36468                           10979     ;       ----------- ふりこ加減速と通常加減速を分ける---
36469                           10980     ;;;;2010-09-27 ふりこのため     FAR_JSR #_PLS_LSI_CTL_CALC,R0                   ;
36470                           10981     
36471 00007F3C D104             10982             MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
36472 00007F3E 6011             10983             MOV.W   @R1,R0                          ;
36473 00007F40 8801             10984             CMP/EQ  #1,R0                           ;
36474 00007F42 8B09             10985             BF      PLS_LSICTRL_220                 ;
36475                           10986             FAR_JSR #_DNM_PLS_LSICTL_CALC,R0        ;
36476 00007F44 D003                   M           MOV.L   #_DNM_PLS_LSICTL_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36477 00007F46 400B                   M           JSR     @R0                     ;
36478 00007F48 0009                   M           NOP                                     ;
36479                           10987             M_BRA   PLS_LSICTRL_END                 ;ふりこ加減速
36480 00007F4A A008                   M           BRA     PLS_LSICTRL_END
36481 00007F4C 0009                   M           NOP
36482                           10988     
36483                                     ***** BEGIN-POOL *****
36484 00007F4E 0000                       ALIGNMENT CODE
36485 00007F50 00000000                   DATA FOR SOURCE-LINE 10982
36486 00007F54 00000000                   DATA FOR SOURCE-LINE 10986
36487                                     ***** END-POOL *****
36488 00007F58                  10989     PLS_LSICTRL_220:
36489                           10990             FAR_JSR #_PLS_LSI_CTL_CALC,R0           ;通常減速
36490 00007F58 D002                   M           MOV.L   #_PLS_LSI_CTL_CALC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36491 00007F5A 400B                   M           JSR     @R0                     ;
36492 00007F5C 0009                   M           NOP                                     ;
36493                           10991     
36494 00007F5E                  10992     PLS_LSICTRL_END:
36495                           10993     
36496                           10994     ;       -------- 2013-07-18 DEBUG ----------
36497                           10995     ;;;;;;;;;;;;;;;;        MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
36498                           10996     ;;;;;;;;;;;;;;;;        MOV.W   @R1,R0                                  ;BIT1:減速時
36499                           10997     ;;;;;;;;;;;;;;;;        MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1             ;
36500                           10998     ;;;;;;;;;;;;;;;;        MOV.W   R0,@R1                                  ;
36501                           10999     
36502                           11000             SUB_END
36503                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36504 00007F5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36505                           11001             M_RTS
36506 00007F60 000B                   M           RTS                             ;RTSの後ろの
36507 00007F62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36508                           11002     
36509                           11003     ;       *******************************************
36510                           11004     ;       ***                                     ***
36511                           11005     ;       ***                                     ***
36512                           11006     ;       ***             加減速演算              ***
36513                           11007     ;       ***                                     ***
36514                           11008     ;       ***                                     ***
36515                           11009     ;       ***                                     ***
36516                           11010     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   545
PROGRAM NAME =

36517                           11011     
36518                                     ***** BEGIN-POOL *****
36519 00007F64 00000000                   DATA FOR SOURCE-LINE 10990
36520                                     ***** END-POOL *****
36521 00007F68                  11012             .ALIGN  4                               ;
36522 00007F68                  11013     _PLS_LSI_CTL_CALC:
36523                           11014             SUB_START
36524 00007F68 4F22                   M           STS.L   PR,@-R15                ;[必要]
36525                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36526                           11015     
36527                           11016     ;       --------- 2010-09-27 残りパルス演算の共通化----
36528                           11017             FAR_JSR #_ACC_REST_INFO_MAKE,R0
36529 00007F6A D005                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36530 00007F6C 400B                   M           JSR     @R0                     ;
36531 00007F6E 0009                   M           NOP                                     ;
36532                           11018     
36533                           11019     
36534 00007F70 D104             11020             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
36535 00007F72 6011             11021             MOV.W   @R1,R0                                                          ;
36536 00007F74 C802             11022             TST     #BIT1,R0                                                        ;
36537                           11023             TST_BIT_ON PLS_LSI_CTLCAL_020                                           ;強制減速
                                          停止中(寸動停止)
36538 00007F76 8B07                   M           BF      PLS_LSI_CTLCAL_020
36539 00007F78 C804             11024             TST     #BIT2,R0                                                        ;
36540                           11025             TST_BIT_ON PLS_LSI_CTLCAL_050                                           ;最終減速
                                          状態YES
36541 00007F7A 8B11                   M           BF      PLS_LSI_CTLCAL_050
36542                           11026             M_BRA   PLS_LSI_CTLCAL_100                                              ;
36543 00007F7C A012                   M           BRA     PLS_LSI_CTLCAL_100
36544 00007F7E 0009                   M           NOP
36545                           11027     
36546                                     ***** BEGIN-POOL *****
36547 00007F80 00000000                   DATA FOR SOURCE-LINE 11017
36548 00007F84 00000000                   DATA FOR SOURCE-LINE 11020
36549                                     ***** END-POOL *****
36550 00007F88                  11028     PLS_LSI_CTLCAL_020
36551                           11029     ;       --- 減速コマンドラッチ---
36552 00007F88 D103             11030             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
36553 00007F8A 6212             11031             MOV.L   @R1,R2                                                          ;
36554 00007F8C D503             11032             MOV.L   #_POSCTL_RL_SPD,R5                                              ;
36555 00007F8E 6352             11033             MOV.L   @R5,R3                                                          ;
36556 00007F90 3326             11034             CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
36557 00007F92 8905             11035             BT      PLS_LSI_CTLCAL_050                                              ;YES
36558                           11036             M_BRA   PLS_LSI_CTLCAL_800                                              ;(減速停止
                                          )終了処理
36559 00007F94 A076                   M           BRA     PLS_LSI_CTLCAL_800
36560 00007F96 0009                   M           NOP
36561                                     ***** BEGIN-POOL *****
36562 00007F98 00000000                   DATA FOR SOURCE-LINE 11030
36563 00007F9C 00000000                   DATA FOR SOURCE-LINE 11032
36564                                     ***** END-POOL *****
36565 00007FA0                  11037     PLS_LSI_CTLCAL_050:
36566                           11038             M_BRA   PLS_LSI_CTLCAL_700                                              ;減速処理
36567 00007FA0 A040                   M           BRA     PLS_LSI_CTLCAL_700
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   546
PROGRAM NAME =

36568 00007FA2 0009                   M           NOP
36569                           11039     
36570 00007FA4                  11040     PLS_LSI_CTLCAL_100:
36571 00007FA4 D104             11041             MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
36572 00007FA6 6011             11042             MOV.W   @R1,R0                                                          ;EMG-STOP
36573 00007FA8 8802             11043             CMP/EQ  #2,R0                                                           ;減速停止
36574 00007FAA 8B09             11044             BF      PLS_LSI_CTLCAL_150                                              ;NO
36575                           11045             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
36576 00007FAC D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36577 00007FAE 6011                   M           MOV.W   @R1,R0          ;
36578 00007FB0 CB02                   M           OR      #BIT1,R0                ;
36579 00007FB2 2101                   M           MOV.W   R0,@R1          ;
36580                           11046             M_BRA   PLS_LSI_CTLCAL_500                                              ;
36581 00007FB4 A01E                   M           BRA     PLS_LSI_CTLCAL_500
36582 00007FB6 0009                   M           NOP
36583                           11047     
36584                           11048     ;-------通常制御----
36585                                     ***** BEGIN-POOL *****
36586 00007FB8 00000000                   DATA FOR SOURCE-LINE 11041
36587 00007FBC 00000000                   DATA FOR SOURCE-LINE 11045
36588                                     ***** END-POOL *****
36589 00007FC0                  11049     PLS_LSI_CTLCAL_150:
36590 00007FC0 D102             11050             MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
36591 00007FC2 6011             11051             MOV.W   @R1,R0                                                          ;
36592 00007FC4 C801             11052             TST     #BIT0,R0                                                        ;
36593                           11053             TST_BIT_OF PLS_LSI_CTLCAL_160                                           ;
36594 00007FC6 8903                   M           BT      PLS_LSI_CTLCAL_160
36595                           11054     ;       -----------やるべきことが今一不明--------
36596                           11055             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
36597 00007FC8 A07D                   M           BRA     PLS_LSI_CTLCAL_EXT
36598 00007FCA 0009                   M           NOP
36599                           11056     
36600                           11057     
36601                                     ***** BEGIN-POOL *****
36602 00007FCC 00000000                   DATA FOR SOURCE-LINE 11050
36603                                     ***** END-POOL *****
36604 00007FD0                  11058     PLS_LSI_CTLCAL_160:
36605                           11059     
36606                           11060     ;<<<2010-09-21>>>
36607                           11061             FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<<<2010-0
                                          9-21>>>
36608 00007FD0 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36609 00007FD2 400B                   M           JSR     @R0                     ;
36610 00007FD4 0009                   M           NOP                                     ;
36611                           11062     
36612 00007FD6 2008             11063             TST     R0,R0                                                           ;
36613                           11064             TST_BIT_OF PLS_LSI_CTLCAL_500
36614 00007FD8 890C                   M           BT      PLS_LSI_CTLCAL_500
36615 00007FDA 8801             11065             CMP/EQ  #1,R0                                                           ;
36616 00007FDC 8922             11066             BT      PLS_LSI_CTLCAL_700
36617                           11067     ;       ----- ABNOMAL CALC------                                                ;
36618                           11068             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
36619 00007FDE D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
36620 00007FE0 6041                   M           MOV.W   @R4,R0          ;
36621 00007FE2 CB02                   M           OR      #BIT1,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   547
PROGRAM NAME =

36622 00007FE4 2401                   M           MOV.W   R0,@R4          ;
36623                           11069             M_BRA   PLS_LSI_CTLCAL_700
36624 00007FE6 A01D                   M           BRA     PLS_LSI_CTLCAL_700
36625 00007FE8 0009                   M           NOP
36626                           11070     ;;;;;;  M_BRA   PLS_LSI_CTLCAL_ERR      手動ﾊﾟﾙｻでうまくいかない 2013-06-20
36627                           11071     
36628                           11072     ;       ===== 距離がありそう =====
36629                                     ***** BEGIN-POOL *****
36630 00007FEA 0000                       ALIGNMENT CODE
36631 00007FEC 00000000                   DATA FOR SOURCE-LINE 11061
36632 00007FF0 00000000                   DATA FOR SOURCE-LINE 11068
36633                                     ***** END-POOL *****
36634 00007FF4                  11073     PLS_LSI_CTLCAL_500:                                                             ;
36635                           11074     ;<<<2010-09-21>>>
36636                           11075     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0
                                          ;<<<2010-09-21>>>
36637                           11076     ;;;;;;2015-03-10
36638                           11077     ;;;;;;2015-03-10        TST     R0,R0
                                          ;
36639                           11078     ;;;;;;2015-03-10        TST_BIT_OF PLS_LSI_CTLCAL_EXT
                                          ;書き換えない
36640                           11079     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_CTL_SPDSET,R0
                                          ;LSI SET
36641                           11080     ;;;;;;2015-03-10        M_BRA   PLS_LSI_CTLCAL_900
                                          ;
36642                           11081     
36643                           11082     ;       --------- 自起動速度設定の動作も対応[各機種共通事項]-----------
36644                           11083             FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
36645 00007FF4 D005                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36646 00007FF6 400B                   M           JSR     @R0                     ;
36647 00007FF8 0009                   M           NOP                                     ;
36648 00007FFA 2008             11084             TST     R0,R0                                                           ;
36649                           11085             TST_BIT_ON PLS_LSI_CTLCAL_580
36650 00007FFC 8B0A                   M           BF      PLS_LSI_CTLCAL_580
36651                           11086     
36652                           11087     ;       ---払い出し完了ならやめる---------
36653                           11088             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
36654 00007FFE D004                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36655 00008000 400B                   M           JSR     @R0                     ;
36656 00008002 0009                   M           NOP                                     ;
36657 00008004 C804             11089             TST     #BIT2,R0                        ;停止?
36658                           11090             TST_BIT_ON PLS_LSI_CTLCAL_800           ;YES:
36659 00008006 8B3D                   M           BF      PLS_LSI_CTLCAL_800
36660                           11091             M_BRA   PLS_LSI_CTLCAL_EXT              ;
36661 00008008 A05D                   M           BRA     PLS_LSI_CTLCAL_EXT
36662 0000800A 0009                   M           NOP
36663                           11092     
36664                                     ***** BEGIN-POOL *****
36665 0000800C 00000000                   DATA FOR SOURCE-LINE 11083
36666 00008010 00000000                   DATA FOR SOURCE-LINE 11088
36667                                     ***** END-POOL *****
36668 00008014                  11093     PLS_LSI_CTLCAL_580:
36669                           11094             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
36670 00008014 D002                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36671 00008016 400B                   M           JSR     @R0                     ;
36672 00008018 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   548
PROGRAM NAME =

36673                           11095             M_BRA   PLS_LSI_CTLCAL_900                                              ;
36674 0000801A A045                   M           BRA     PLS_LSI_CTLCAL_900
36675 0000801C 0009                   M           NOP
36676                           11096     
36677                           11097     
36678                           11098     
36679                           11099     ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
36680                                     ***** BEGIN-POOL *****
36681 0000801E 0000                       ALIGNMENT CODE
36682 00008020 00000000                   DATA FOR SOURCE-LINE 11094
36683                                     ***** END-POOL *****
36684 00008024                  11100     PLS_LSI_CTLCAL_700:
36685                           11101             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
36686 00008024 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36687 00008026 6011                   M           MOV.W   @R1,R0          ;
36688 00008028 CB04                   M           OR      #BIT2,R0                ;
36689 0000802A 2101                   M           MOV.W   R0,@R1          ;
36690                           11102     ;       ---払い出し完了ならやめる---------
36691                           11103             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
36692 0000802C D010                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36693 0000802E 400B                   M           JSR     @R0                     ;
36694 00008030 0009                   M           NOP                                     ;
36695 00008032 C804             11104             TST     #BIT2,R0                        ;停止?
36696                           11105             TST_BIT_ON PLS_LSI_CTLCAL_820           ;YES:ﾌﾗｸﾞ終了
36697 00008034 8B2D                   M           BF      PLS_LSI_CTLCAL_820
36698                           11106     
36699                           11107     ;<<<2010-09-21>>>
36700                           11108     ;       ----ここにきたら目標位置が変わるまで加速はしない------
36701 00008036 D50F             11109             MOV.L   #_POSCTL_RL_SPD,R5              ;
36702 00008038 6252             11110             MOV.L   @R5,R2                          ;
36703 0000803A D40F             11111             MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
36704 0000803C 6342             11112             MOV.L   @R4,R3                          ;
36705 0000803E 2338             11113             TST     R3,R3                           ;
36706                           11114             TST_BIT_ON PLS_LSI_CTLCAL_720           ;
36707 00008040 8B00                   M           BF      PLS_LSI_CTLCAL_720
36708 00008042 E301             11115             MOV     #1,R3                           ;
36709 00008044                  11116     PLS_LSI_CTLCAL_720:                             ;
36710 00008044 3238             11117             SUB     R3,R2                           ;
36711 00008046 4211             11118             CMP/PZ  R2                              ;
36712 00008048 8900             11119             BT      PLS_LSI_CTLCAL_740              ;
36713 0000804A 222A             11120             XOR     R2,R2                           ;
36714 0000804C                  11121     PLS_LSI_CTLCAL_740:                             ;
36715                           11122     
36716                           11123     
36717                           11124     
36718 0000804C D10B             11125             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
36719 0000804E 6312             11126             MOV.L   @R1,R3                          ;
36720 00008050 3236             11127             CMP/HI  R3,R2                           ;
36721 00008052 8904             11128             BT      PLS_LSI_CTLCAL_760              ;OFS < CALC
36722 00008054 6233             11129             MOV     R3,R2                           ;MNINLINIT
36723                           11130     ;       -------------------
36724 00008056 D105             11131             MOV.L   #_POSCTL_STEP_FLG,R1            ;
36725 00008058 6011             11132             MOV.W   @R1,R0                          ;
36726 0000805A C802             11133             TST     #BIT1,R0                        ;手動減速中
36727                           11134             TST_BIT_ON PLS_LSI_CTLCAL_800           ;
36728 0000805C 8B12                   M           BF      PLS_LSI_CTLCAL_800
36729                           11135     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   549
PROGRAM NAME =

36730 0000805E                  11136     PLS_LSI_CTLCAL_760:                             ;
36731 0000805E 2522             11137             MOV.L   R2,@R5                          ;
36732                           11138             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0         ;LSI SET
36733 00008060 D007                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36734 00008062 400B                   M           JSR     @R0                     ;
36735 00008064 0009                   M           NOP                                     ;
36736                           11139             M_BRA   PLS_LSI_CTLCAL_900              ;
36737 00008066 A01F                   M           BRA     PLS_LSI_CTLCAL_900
36738 00008068 0009                   M           NOP
36739                           11140     
36740                           11141     ;       -------------終了処理(STEP STOP)----------
36741                                     ***** BEGIN-POOL *****
36742 0000806A 0000                       ALIGNMENT CODE
36743 0000806C 00000000                   DATA FOR SOURCE-LINE 11101,11131
36744 00008070 00000000                   DATA FOR SOURCE-LINE 11103
36745 00008074 00000000                   DATA FOR SOURCE-LINE 11109
36746 00008078 00000000                   DATA FOR SOURCE-LINE 11111
36747 0000807C 00000000                   DATA FOR SOURCE-LINE 11125
36748 00008080 00000000                   DATA FOR SOURCE-LINE 11138
36749                                     ***** END-POOL *****
36750 00008084                  11142     PLS_LSI_CTLCAL_800:
36751                           11143             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
36752 00008084 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36753 00008086 400B                   M           JSR     @R0                     ;
36754 00008088 0009                   M           NOP                                     ;
36755                           11144             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
36756 0000808A D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36757 0000808C 6011                   M           MOV.W   @R1,R0          ;
36758 0000808E CB20                   M           OR      #BIT5,R0                ;
36759 00008090 2101                   M           MOV.W   R0,@R1          ;
36760 00008092                  11145     PLS_LSI_CTLCAL_820:
36761                           11146             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
36762 00008092 D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36763 00008094 6011                   M           MOV.W   @R1,R0          ;
36764 00008096 CB40                   M           OR      #BIT6,R0                ;
36765 00008098 2101                   M           MOV.W   R0,@R1          ;
36766                           11147             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
36767 0000809A D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36768 0000809C 6011                   M           MOV.W   @R1,R0          ;
36769 0000809E CB08                   M           OR      #BIT3,R0                ;
36770 000080A0 2101                   M           MOV.W   R0,@R1          ;
36771                           11148     
36772                           11149             .AIF    0 EQ    0
36773                           11150 C   
36774                           11151 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
36775 000080A2 D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36776 000080A4 400B                   M           JSR     @R0                     ;
36777 000080A6 0009                   M           NOP                                     ;
36778                           11152             .AENDI
36779                           11153     
36780 000080A8                  11154     PLS_LSI_CTLCAL_900:
36781                           11155             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
36782 000080A8 A00D                   M           BRA     PLS_LSI_CTLCAL_EXT
36783 000080AA 0009                   M           NOP
36784                           11156     
36785                                     ***** BEGIN-POOL *****
36786 000080AC 00000000                   DATA FOR SOURCE-LINE 11143
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   550
PROGRAM NAME =

36787 000080B0 00000000                   DATA FOR SOURCE-LINE 11144,11146,11147
36788 000080B4 00000000                   DATA FOR SOURCE-LINE 11151
36789                                     ***** END-POOL *****
36790 000080B8                  11157     PLS_LSI_CTLCAL_ERR:
36791                           11158             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
36792 000080B8 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36793 000080BA 400B                   M           JSR     @R0                     ;
36794 000080BC 0009                   M           NOP                                     ;
36795                           11159             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
36796 000080BE D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
36797 000080C0 6011                   M           MOV.W   @R1,R0          ;
36798 000080C2 CB40                   M           OR      #BIT6,R0                ;
36799 000080C4 2101                   M           MOV.W   R0,@R1          ;
36800                           11160     
36801 000080C6                  11161     PLS_LSI_CTLCAL_EXT:
36802                           11162     
36803                           11163     
36804                           11164     
36805                           11165     
36806                           11166     
36807                           11167     
36808                           11168             SUB_END
36809                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36810 000080C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36811                           11169             M_RTS
36812 000080C8 000B                   M           RTS                             ;RTSの後ろの
36813 000080CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36814                           11170     
36815                           11171     ;       *******************************************
36816                           11172     ;       ***                                     ***
36817                           11173     ;       ***                                     ***
36818                           11174     ;       ***             加速・減速              ***
36819                           11175     ;       ***                                     ***
36820                           11176     ;       ***                                     ***
36821                           11177     ;       ***                                     ***
36822                           11178     ;       *******************************************
36823                           11179     ;
36824                           11180     ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
36825                           11181     ;
36826                                     ***** BEGIN-POOL *****
36827 000080CC 00000000                   DATA FOR SOURCE-LINE 11158
36828 000080D0 00000000                   DATA FOR SOURCE-LINE 11159
36829                                     ***** END-POOL *****
36830 000080D4                  11182             .ALIGN  4                               ;
36831 000080D4                  11183     _PLS_LSI_SPD_ACC_ADD:
36832                           11184             SUB_START
36833 000080D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36835 000080D6 200A             11185             XOR     R0,R0                                           ;
36836 000080D8 D107             11186             MOV.L   #_POSCTL_SV_SPD,R1                              ;
36837 000080DA 6312             11187             MOV.L   @R1,R3                                          ;
36838 000080DC D507             11188             MOV.L   #_POSCTL_RL_SPD,R5                              ;
36839 000080DE 6252             11189             MOV.L   @R5,R2                                          ;
36840 000080E0 3320             11190             CMP/EQ  R2,R3                                           ;
36841 000080E2 8917             11191             BT      PLS_LSI_SPD_ACCADD_END                          ;SV=REAL
36842 000080E4 3323             11192             CMP/GE  R2,R3                                           ;R2<R3
36843 000080E6 8B0D             11193             BF      PLS_LSI_SPD_ACCADD_200                                  ;NO 減速しろ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   551
PROGRAM NAME =

36844                           11194     ;       ---加速しろ----
36845 000080E8 D405             11195             MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
36846 000080EA 6142             11196             MOV.L   @R4,R1                                                  ;
36847 000080EC 321C             11197             ADD     R1,R2
36848 000080EE 3327             11198             CMP/GT  R2,R3                                                   ;
36849 000080F0 890E             11199             BT      PLS_LSI_SPD_ACCADD_300                                  ;R2<R3(SV) THEN そ
                                          のまま加速
36850 000080F2 6233             11200             MOV     R3,R2                                                   ;SV→REAL
36851                           11201             M_BRA   PLS_LSI_SPD_ACCADD_300                                  ;
36852 000080F4 A00C                   M           BRA     PLS_LSI_SPD_ACCADD_300
36853 000080F6 0009                   M           NOP
36854                           11202     
36855                                     ***** BEGIN-POOL *****
36856 000080F8 00000000                   DATA FOR SOURCE-LINE 11186
36857 000080FC 00000000                   DATA FOR SOURCE-LINE 11188
36858 00008100 00000000                   DATA FOR SOURCE-LINE 11195
36859                                     ***** END-POOL *****
36860 00008104                  11203     PLS_LSI_SPD_ACCADD_200:
36861                           11204     ;       ---減速しろ---
36862 00008104 D405             11205             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
36863 00008106 6142             11206             MOV.L   @R4,R1                                                  ;
36864 00008108 3218             11207             SUB     R1,R2                                                   ;
36865 0000810A 3237             11208             CMP/GT  R3,R2                                                   ;
36866 0000810C 8900             11209             BT      PLS_LSI_SPD_ACCADD_300                                  ;R3<R2
36867 0000810E 6233             11210             MOV     R3,R2                                                   ;
36868 00008110                  11211     PLS_LSI_SPD_ACCADD_300:                                                 ;
36869 00008110 2522             11212             MOV.L   R2,@R5                                                  ;
36870 00008112 E001             11213             MOV     #1,R0                                                   ;
36871 00008114                  11214     PLS_LSI_SPD_ACCADD_END:
36872                           11215             SUB_END
36873                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36874 00008114 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36875                           11216             M_RTS
36876 00008116 000B                   M           RTS                             ;RTSの後ろの
36877 00008118 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36878                           11217     
36879                           11218     
36880                           11219     
36881                           11220     
36882                           11221     ;       *******************************************
36883                           11222     ;       ***                                     ***
36884                           11223     ;       ***     Input R1,R2(残り距離)           ***
36885                           11224     ;       ***     Input R9:SPEED  DATA            ***
36886                           11225     ;       ***     Input R10:OFFSET SPEED          ***
36887                           11226     ;       ***     Input R11:ACC_LATE              ***
36888                           11227     ;       ***                                     ***
36889                           11228     ;       *******************************************
36890                           11229     ;       ANS
36891                           11230     ;       00:KEEP
36892                           11231     ;       01:STOP
36893                           11232     ;       -1:ERR
36894                           11233     ;
36895                                     ***** BEGIN-POOL *****
36896 0000811A 0000                       ALIGNMENT CODE
36897 0000811C 00000000                   DATA FOR SOURCE-LINE 11205
36898                                     ***** END-POOL *****
36899 00008120                  11234             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   552
PROGRAM NAME =

36900 00008120                  11235     _CMP_SPD_REST_PLSCHKCOM:
36901                           11236             SUB_START
36902 00008120 4F22                   M           STS.L   PR,@-R15                ;[必要]
36903                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36904 00008122 4111             11237             CMP/PZ  R1                                              ;
36905 00008124 8901             11238             BT      CMPSPD_RSTPLS_250                               ;NOMAL
36906                           11239     ;       ----- ABNOMAL CALC------                                ;
36907                           11240             M_BRA   CMP_SPD_REST_ERR                                ;
36908 00008126 A024                   M           BRA     CMP_SPD_REST_ERR
36909 00008128 0009                   M           NOP
36910                           11241     
36911 0000812A                  11242     CMPSPD_RSTPLS_250:
36912                           11243     
36913 0000812A 2118             11244             TST     R1,R1                                           ;
36914                           11245             TST_BIT_OF CMPSPD_RSTPLS_280                            ;
36915 0000812C 8901                   M           BT      CMPSPD_RSTPLS_280
36916                           11246             M_BRA   CMP_SPD_REST_MOV                                ;まだまだ残り距離がある(32
                                          bit以上残り距離がある)
36917 0000812E A01D                   M           BRA     CMP_SPD_REST_MOV
36918 00008130 0009                   M           NOP
36919 00008132                  11247     CMPSPD_RSTPLS_280:
36920 00008132 D40D             11248             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
36921 00008134 3243             11249             CMP/GE  R4,R2                                           ;
36922 00008136 8919             11250             BT      CMP_SPD_REST_MOV                                ;減速距離がまだまだ大きい(
                                          連続でもありえない)
36923                           11251     ;       ---------------------------------------------------
36924                           11252     
36925                           11253     ;       -------減速距離比較------------
36926                           11254     ;       (R2:距離S)
36927                           11255     ;;      MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
36928                           11256     ;;      MOV.L   @R4,R11                                                 ;
36929                           11257     
36930 00008138 9415             11258             MOV.W   #_ACC_UNIT,R4                                           ;α:(PLS/1000)/s/s
36931 0000813A 3B4D             11259             DMULS.L R4,R11                                                  ;α'=α*1000
36932 0000813C 031A             11260             STS     MACL,R3                                                 ;
36933 0000813E 333C             11261             ADD     R3,R3                                                   ;2*α*1000
36934                           11262     
36935 00008140 332D             11263             DMULS.L R2,R3                                                   ;2*α'*S
36936 00008142 081A             11264             STS     MACL,R8                                                 ;
36937 00008144 070A             11265             STS     MACH,R7                                                 ;R7,R8=2*α*S
36938                           11266     ;;      MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
36939                           11267     ;;      MOV.L   @R4,R10                                                 ;
36940 00008146 3AAD             11268             DMULS.L R10,R10                                                 ;
36941 00008148 021A             11269             STS     MACL,R2                                                 ;
36942 0000814A 010A             11270             STS     MACH,R1                                                 ;
36943                           11271             ADD8B DT_REGH=R7,DT_REGL=R8,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2=2*α*S+β*
                                          β
36944 0000814C 0008                   M           CLRT
36945 0000814E 328E                   M           ADDC    R8,R2
36946 00008150 317E                   M           ADDC    R7,R1
36947                           11272     
36948                           11273     ;加速しないならこれでよい。
36949                           11274     ;この状態で演算し、且つ加速した結果でも演算する必要がある。             ;
36950                           11275     ;;      MOV.L   #_POSCTL_RL_SPD,R4                                      ;
36951                           11276     ;;      MOV.L   @R4,R9                                                  ;
36952 00008152 399D             11277             DMULS.L R9,R9                                                   ;V*V
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   553
PROGRAM NAME =

36953 00008154 061A             11278             STS     MACL,R6                                                 ;
36954 00008156 050A             11279             STS     MACH,R5                                                 ;R5,R6=V*V
36955                           11280     
36956                           11281             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;2*α*S+β*β - V*
                                          V
36957 00008158 0008                   M           CLRT
36958 0000815A 326A                   M           SUBC    R6,R2
36959 0000815C 315A                   M           SUBC    R5,R1
36960 0000815E 4111             11282             CMP/PZ  R1                                                      ;
36961 00008160 8904             11283             BT      CMP_SPD_REST_MOV                                        ;
36962                           11284             M_BRA   CMP_SPD_REST_STOP                                       ;
36963 00008162 A009                   M           BRA     CMP_SPD_REST_STOP
36964 00008164 0009                   M           NOP
36965                           11285     
36966                                     ***** BEGIN-POOL *****
36967 00008166 03E8                       DATA FOR SOURCE-LINE 11258
36968 00008168 00E4E1C0                   DATA FOR SOURCE-LINE 11248
36969                                     ***** END-POOL *****
36970 0000816C                  11286     CMP_SPD_REST_MOV:
36971 0000816C 200A             11287             XOR     R0,R0
36972                           11288             M_BRA   CMP_SPD_REST_END
36973 0000816E A004                   M           BRA     CMP_SPD_REST_END
36974 00008170 0009                   M           NOP
36975                           11289     
36976                           11290     ;       ====== 減速開始すべき位置======
36977 00008172                  11291     CMP_SPD_REST_ERR:
36978 00008172 E0FF             11292             MOV     #-1,R0
36979                           11293             M_BRA   CMP_SPD_REST_END        ;
36980 00008174 A001                   M           BRA     CMP_SPD_REST_END
36981 00008176 0009                   M           NOP
36982 00008178                  11294     CMP_SPD_REST_STOP:
36983 00008178 E001             11295             MOV     #1,R0
36984 0000817A                  11296     CMP_SPD_REST_END:
36985                           11297             SUB_END
36986                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36987 0000817A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36988                           11298             M_RTS
36989 0000817C 000B                   M           RTS                             ;RTSの後ろの
36990 0000817E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36991                           11299     
36992                           11300     
36993                           11301     
36994                           11302     ;       ***************************************************
36995                           11303     ;       ***                                             ***
36996                           11304     ;       ***             残距離作成                      ***
36997                           11305     ;       ***             2010-09-22                      ***
36998                           11306     ;       ***             演算の簡略化                    ***
36999                           11307     ;       ***                                             ***
37000                           11308     ;       ***************************************************
37001 00008180                  11309             .ALIGN  4                               ;
37002 00008180                  11310     _ACC_REST_INFO_MAKE
37003                           11311             SUB_START
37004 00008180 4F22                   M           STS.L   PR,@-R15                ;[必要]
37005                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37006                           11312     ;       ----------- 設定目標位置        ---------
37007 00008182 D411             11313             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
37008 00008184 5140             11314             MOV.L   @(0,R4),R1                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   554
PROGRAM NAME =

37009 00008186 5241             11315             MOV.L   @(4,R4),R2                                              ;
37010                           11316     
37011                           11317     ;       ---------------リアルタイム目標位置-----------
37012 00008188 D410             11318             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
37013 0000818A 5540             11319             MOV.L   @(0,R4),R5                                              ;
37014 0000818C 5641             11320             MOV.L   @(4,R4),R6                                              ;
37015                           11321             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
37016 0000818E 0008                   M           CLRT
37017 00008190 326A                   M           SUBC    R6,R2
37018 00008192 315A                   M           SUBC    R5,R1
37019                           11322     
37020 00008194 D40E             11323             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
37021 00008196 6041             11324             MOV.W   @R4,R0                                                  ;
37022 00008198 C801             11325             TST     #BIT0,R0                                                ;
37023                           11326             TST_BIT_OF ACC_REST_INFMK_100                                   ;正転
37024 0000819A 8905                   M           BT      ACC_REST_INFMK_100
37025                           11327             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
37026 0000819C 6227                   M           NOT     R2,R2                           ;
37027 0000819E 6117                   M           NOT     R1,R1                           ;
37028 000081A0 200A                   M           XOR     R0,R0                           ;
37029 000081A2 0018                   M           SETT
37030 000081A4 320E                   M           ADDC    R0,R2                           ;0+1+R2
37031 000081A6 310E                   M           ADDC    R0,R1                           ;
37032 000081A8                  11328     ACC_REST_INFMK_100                                                      ;正転
37033                           11329     
37034 000081A8 D50A             11330             MOV.L   #_ACC_REST_ABS_PLS,R5   ;
37035 000081AA 2512             11331             MOV.L   R1,@R5                  ;
37036 000081AC 1521             11332             MOV.L   R2,@(4,R5)              ;
37037                           11333     
37038                           11334     
37039 000081AE 200A             11335             XOR     R0,R0
37040 000081B0 2118             11336             TST     R1,R1                                   ;8byteの上位4byteがあるか？
37041                           11337             TST_BIT_ON ACC_REST_INFMK_200                   ;まだ4BYTE以上ある
37042 000081B2 8B03                   M           BF      ACC_REST_INFMK_200
37043                           11338     
37044 000081B4 D408             11339             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
37045 000081B6 3243             11340             CMP/GE  R4,R2                                           ;
37046 000081B8 8900             11341             BT      ACC_REST_INFMK_200                              ;減速距離がまだまだ大きい(
                                          連続でもありえない)
37047                           11342     
37048 000081BA E0FF             11343             MOV.B   #-1,R0                                          ;4BYTE以下なので減速演算し
                                          てもいい
37049                           11344                                                             ;演算オーバフロー対策
37050                           11345     
37051 000081BC                  11346     ACC_REST_INFMK_200                                                      ;
37052 000081BC D407             11347             MOV.L   #_ACC_REST_FLG,R4                                       ;
37053 000081BE 2401             11348             MOV.W   R0,@R4                                                  ;0:まだまだ距離が
                                          十分ある
37054                           11349     
37055                           11350             SUB_END
37056                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37057 000081C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37058                           11351             M_RTS
37059 000081C2 000B                   M           RTS                             ;RTSの後ろの
37060 000081C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37061                           11352     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   555
PROGRAM NAME =

37062                           11353     ;       *******************************************
37063                           11354     ;       ***                                     ***
37064                           11355     ;       ***                                     ***
37065                           11356     ;       ***                                     ***
37066                           11357     ;       ***     振り子加速・減速演算            ***
37067                           11358     ;       ***                                     ***
37068                           11359     ;       ***                                     ***
37069                           11360     ;       *******************************************
37070                           11361             .EXPORT _DNM_TBL_CALC
37071                           11362             .EXPORT _DNM_START_ACC_CALC
37072                           11363             .EXPORT _DNM_STEP_ACC_CHANGE
37073                           11364     
37074                           11365             .EXPORT _DNM_SPD_CALC
37075                           11366             .EXPORT _DNM_ACC_CALC
37076                           11367             .IMPORT _DATA_CMP2B_R5R6_REF            ;DTMK
37077                           11368     
37078                           11369     ;       ===================================
37079                           11370     ;       ===  SCURVが有効であれば生かす  ===
37080                           11371     ;       ===================================
37081                           11372     
37082                           11373             .EXPORT _USE_IN_TBL_MOV                 ;
37083                           11374             .INCLUDE        "ssa_acct.inc"          ;//2010-09-21ふりこテーブル演算
37084                               1 I1  ;       ***************************************************
37085                               2 I1  ;       ***                                             ***
37086                               3 I1  ;       ***                                             ***
37087                               4 I1  ;       ***                                             ***
37088                               5 I1  ;       ***             振り子加速度演算                ***
37089                               6 I1  ;       ***                                             ***
37090                               7 I1  ;       ***                                             ***
37091                               8 I1  ;       ***                                             ***
37092                               9 I1  ;       ***************************************************
37093                              10 I1  ;       SSA_POS1.SRCにｲﾝｸﾙｰﾄﾞされる
37094                                 I1  ***** BEGIN-POOL *****
37095 000081C6 0000                   I1  ALIGNMENT CODE
37096 000081C8 00000000               I1  DATA FOR SOURCE-LINE 11313
37097 000081CC 00000000               I1  DATA FOR SOURCE-LINE 11318
37098 000081D0 00000000               I1  DATA FOR SOURCE-LINE 11323
37099 000081D4 00000000               I1  DATA FOR SOURCE-LINE 11330
37100 000081D8 00E4E1C0               I1  DATA FOR SOURCE-LINE 11339
37101 000081DC 00000000               I1  DATA FOR SOURCE-LINE 11347
37102                                 I1  ***** END-POOL *****
37103          00002710            11 I1  _ACC_PER_V_MAX  .EQU    10000   ;10000換算
37104          000003E8            12 I1  _ACC_CALC_TIM   .EQU    1000    ;1/1000msec
37105                              13 I1  ;
37106                              14 I1          .INCLUDE        "ssa_acrm.ext"          ; //
37107                               1 I2  ;//     *******************************************
37108                               2 I2  ;//     ***             振り子加速              ***
37109                               3 I2  ;//     *******************************************
37110                               4 I2  
37111                               5 I2  
37112                               6 I2  
37113                               7 I2          .GLOBAL         _ACC_LAST_SPD           ;最大速度から求まる
37114                               8 I2          .GLOBAL         _ACC_STOP_SPD           ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
37115                               9 I2          .GLOBAL         _ACC_STEP_SPD           ;ステップ
37116                              10 I2  
37117                              11 I2          .GLOBAL         _ACC_LAST_POINT         ;最大速度から求まる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   556
PROGRAM NAME =

37118                              12 I2          .GLOBAL         _ACC_STOP_POINT         ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
37119                              13 I2          .GLOBAL         _ACC_STEP_POINT         ;ステップ
37120                              14 I2  
37121                              15 I2          .GLOBAL         _ACC_STEP_FLG           ;BIT0:START BIT1:CALC BIT2:LIMIT
37122                              16 I2          .GLOBAL         _ACC_CTRL_STS1          ;
37123                              17 I2          .GLOBAL         _ACC_CTRL_STS2          ;
37124                              18 I2  
37125                              19 I2          .GLOBAL         _ACC_POS_STEP           ;
37126                              20 I2          .GLOBAL         _ACC_STR_STEP           ;
37127                              21 I2  
37128                              22 I2          .GLOBAL         _ACC_STOP_NUMBER        ;停止に使用するデータ番号=停止ステップ
37129                              23 I2          .GLOBAL         _ACC_STEP_NUMBER        ;加減速に使用するデータ番号=動作ステップ
37130                              24 I2          .GLOBAL         _ACC_ANS_ACCDAT         ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37131                              25 I2  
37132                              26 I2  
37133                              27 I2  
37134                              28 I2  ;       ------------------------------------------
37135                              29 I2          .GLOBAL         _ACCB_ACCLAT_TIM1       ;最大加減速時間 設定
37136                              30 I2  
37137                              31 I2  
37138                              32 I2  ;
37139                              33 I2  ;       ・各段に変速テーブル（加速または減速）と停止テーブルが存在する
37140                              34 I2  ;       ・変速状態（加速中または減速）での停止は、そのテーブルの停止テーブルに従う
37141                              35 I2  ;       ・停止テーブルは常に増加方向:パルスが必要(パルスでサーチする)
37142                              36 I2  ;       ・加速テーブルも常に増加方向:パルスは不要(速度でサーチする)
37143                              37 I2  ;       ・減速テーブルは常に増加方向:パルスは不要(速度でサーチする)
37144                              38 I2  ;
37145                              39 I2  
37146                              40 I2  
37147                              41 I2  
37148                              42 I2          .GLOBAL         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
37149                              43 I2          .GLOBAL         _ACC_INF1_STEPSP02      ;050%[前状態],100%[設定]
37150                              44 I2          .GLOBAL         _ACC_INF1_STEPSP03      ;100%[前状態],100%[設定](この場合は前の状
                                          態の加減速をCOPY)
37151                              45 I2          .GLOBAL         _ACC_INF1_STEPSP04      ;
37152                              46 I2          .GLOBAL         _ACC_INF1_STEPSP05      ;
37153                              47 I2          .GLOBAL         _ACC_INF1_STEPSP06      ;
37154                              48 I2          .GLOBAL         _ACC_INF1_STEPSP07      ;
37155                              49 I2          .GLOBAL         _ACC_INF1_STEPSP08      ;
37156                              50 I2          .GLOBAL         _ACC_INF1_STEPSP09      ;
37157                              51 I2          .GLOBAL         _ACC_INF1_STEPSP10      ;
37158                              52 I2          .GLOBAL         _ACC_INF1_STEPSP11      ;
37159                              53 I2  
37160                              54 I2  
37161                              55 I2                                          ;INFOMAINTION
37162                              56 I2          .GLOBAL         _ACC_INF1_STEP001       ;//(加速:0/減速:1)
37163                              57 I2          .GLOBAL         _ACC_INF1_STEP002       ;//
37164                              58 I2          .GLOBAL         _ACC_INF1_STEP003       ;
37165                              59 I2          .GLOBAL         _ACC_INF1_STEP004       ;
37166                              60 I2          .GLOBAL         _ACC_INF1_STEP005       ;
37167                              61 I2          .GLOBAL         _ACC_INF1_STEP006       ;
37168                              62 I2          .GLOBAL         _ACC_INF1_STEP007       ;
37169                              63 I2          .GLOBAL         _ACC_INF1_STEP008       ;
37170                              64 I2          .GLOBAL         _ACC_INF1_STEP009       ;
37171                              65 I2          .GLOBAL         _ACC_INF1_STEP010       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   557
PROGRAM NAME =

37172                              66 I2          .GLOBAL         _ACC_INF1_STEP011       ;
37173                              67 I2  
37174                              68 I2  
37175                              69 I2  
37176                              70 I2  
37177                              71 I2  ;       ----------------------------------------------
37178                              72 I2  ;;;[2013-05-20 前から未使用];   最大速度時の加減速時間(設定値と同じもの：上下限チェック済
                                          み)
37179                              73 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_ACCTM      ;加減速時間
37180                              74 I2  ;;;[2013-05-20 前から未使用]
37181                              75 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速速度
37182                              76 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPVTBL    ;//
37183                              77 I2  ;;;[2013-05-20 前から未使用]
37184                              78 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速パルス
37185                              79 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPPTBL    ;//
37186                              80 I2  
37187                              81 I2  
37188                              82 I2  ;
37189                              83 I2  ;       ---------------------------------------------------
37190                              84 I2  ;各段可変速用の加減速速度
37191                              85 I2  
37192                              86 I2          .GLOBAL         _ACC_STEP001_VTBL       ;//
37193                              87 I2          .GLOBAL         _ACC_STEP002_VTBL       ;//
37194                              88 I2          .GLOBAL         _ACC_STEP003_VTBL       ;//
37195                              89 I2          .GLOBAL         _ACC_STEP004_VTBL       ;//
37196                              90 I2          .GLOBAL         _ACC_STEP005_VTBL       ;//
37197                              91 I2          .GLOBAL         _ACC_STEP006_VTBL       ;//
37198                              92 I2          .GLOBAL         _ACC_STEP007_VTBL       ;//
37199                              93 I2          .GLOBAL         _ACC_STEP008_VTBL       ;//
37200                              94 I2          .GLOBAL         _ACC_STEP009_VTBL       ;//
37201                              95 I2          .GLOBAL         _ACC_STEP010_VTBL       ;//
37202                              96 I2          .GLOBAL         _ACC_STEP011_VTBL       ;//
37203                              97 I2  
37204                              98 I2  
37205                              99 I2  ;       ---------------------------------------------------
37206                             100 I2  ;各段可変速用の加減速時間
37207                             101 I2  
37208                             102 I2          .GLOBAL         _ACC_STEP001_ACTM       ;
37209                             103 I2          .GLOBAL         _ACC_STEP002_ACTM       ;
37210                             104 I2          .GLOBAL         _ACC_STEP003_ACTM       ;
37211                             105 I2          .GLOBAL         _ACC_STEP004_ACTM       ;
37212                             106 I2          .GLOBAL         _ACC_STEP005_ACTM       ;
37213                             107 I2          .GLOBAL         _ACC_STEP006_ACTM       ;
37214                             108 I2          .GLOBAL         _ACC_STEP007_ACTM       ;
37215                             109 I2          .GLOBAL         _ACC_STEP008_ACTM       ;
37216                             110 I2          .GLOBAL         _ACC_STEP009_ACTM       ;
37217                             111 I2          .GLOBAL         _ACC_STEP010_ACTM       ;
37218                             112 I2          .GLOBAL         _ACC_STEP011_ACTM       ;
37219                             113 I2  
37220                             114 I2  ;       ================================================
37221                             115 I2  ;
37222                             116 I2  ;各段停止用の減速速度
37223                             117 I2  ;                                       格段の停止時
37224                             118 I2  
37225                             119 I2          .GLOBAL         _ACC_STOP001_VTBL       ;//
37226                             120 I2          .GLOBAL         _ACC_STOP002_VTBL       ;//
37227                             121 I2          .GLOBAL         _ACC_STOP003_VTBL       ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   558
PROGRAM NAME =

37228                             122 I2          .GLOBAL         _ACC_STOP004_VTBL       ;//
37229                             123 I2          .GLOBAL         _ACC_STOP005_VTBL       ;//
37230                             124 I2          .GLOBAL         _ACC_STOP006_VTBL       ;//
37231                             125 I2          .GLOBAL         _ACC_STOP007_VTBL       ;//
37232                             126 I2          .GLOBAL         _ACC_STOP008_VTBL       ;//
37233                             127 I2          .GLOBAL         _ACC_STOP009_VTBL       ;//
37234                             128 I2          .GLOBAL         _ACC_STOP010_VTBL       ;//
37235                             129 I2          .GLOBAL         _ACC_STOP011_VTBL       ;//
37236                             130 I2  
37237                             131 I2  ;各段停止用の減速パルス
37238                             132 I2  
37239                             133 I2          .GLOBAL         _ACC_STOP001_PTBL       ;//
37240                             134 I2          .GLOBAL         _ACC_STOP002_PTBL       ;//
37241                             135 I2          .GLOBAL         _ACC_STOP003_PTBL       ;//
37242                             136 I2          .GLOBAL         _ACC_STOP004_PTBL       ;//
37243                             137 I2          .GLOBAL         _ACC_STOP005_PTBL       ;//
37244                             138 I2          .GLOBAL         _ACC_STOP006_PTBL       ;//
37245                             139 I2          .GLOBAL         _ACC_STOP007_PTBL       ;//
37246                             140 I2          .GLOBAL         _ACC_STOP008_PTBL       ;//
37247                             141 I2          .GLOBAL         _ACC_STOP009_PTBL       ;//
37248                             142 I2          .GLOBAL         _ACC_STOP010_PTBL       ;//
37249                             143 I2          .GLOBAL         _ACC_STOP011_PTBL       ;//
37250                             144 I2  
37251                             145 I2  
37252                             146 I2          .GLOBAL         _ACC_STOP001_ACTM       ;
37253                             147 I2          .GLOBAL         _ACC_STOP002_ACTM       ;
37254                             148 I2          .GLOBAL         _ACC_STOP003_ACTM       ;
37255                             149 I2          .GLOBAL         _ACC_STOP004_ACTM       ;
37256                             150 I2          .GLOBAL         _ACC_STOP005_ACTM       ;
37257                             151 I2          .GLOBAL         _ACC_STOP006_ACTM       ;
37258                             152 I2          .GLOBAL         _ACC_STOP007_ACTM       ;
37259                             153 I2          .GLOBAL         _ACC_STOP008_ACTM       ;
37260                             154 I2          .GLOBAL         _ACC_STOP009_ACTM       ;
37261                             155 I2          .GLOBAL         _ACC_STOP010_ACTM       ;
37262                             156 I2          .GLOBAL         _ACC_STOP011_ACTM       ;
37263                             157 I2  
37264                             158 I2  ;       *******************************************
37265                             159 I2  ;       ***                                     ***
37266                             160 I2  ;       ***     加速度パターン入れ替え          ***
37267                             161 I2  ;       ***                                     ***
37268                             162 I2  ;       *******************************************
37269                             163 I2          .GLOBAL         _ACC_IN_TBL_TIM         ;255msec時間 ループ数は256
37270                             164 I2          .GLOBAL         _ACC_IN_TBLUSE          ;
37271                             165 I2  
37272                             166 I2  
37273                             167 I2  ;       -----------------------------------
37274                             168 I2  ;       ---                             ---
37275                             169 I2  ;       ---     ｵｰﾊﾞﾗｲﾄﾞ対策            ---
37276                             170 I2  ;       ---                             ---
37277                             171 I2  ;       -----------------------------------
37278                             172 I2          .GLOBAL         _ACC_REST_ABS_PLSX      ;//比率倍(CPUAのみ使用)
37279                             173 I2          .GLOBAL         _ACC_CALC_SPDX          ;
37280                             174 I2          .GLOBAL         _ACC_CALC_SPD           ;
37281                             175 I2          .GLOBAL         _ACC_POSCTL_SV_SPDX             ;                               ;･
                                          ････
37282                             176 I2          .GLOBAL         _ACC_POSCTL_RL_SPDX             ;
37283                             177 I2          .GLOBAL         _ACC_POSCTL_SV_UP_ACCX          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   559
PROGRAM NAME =

37284                             178 I2          .GLOBAL         _ACC_POSCTL_SV_DN_ACCX          ;
37285                             179 I2  
37286                             180 I2  
37287                             181 I2  ;//     -----------------------------------
37288                             182 I2  ;//     ---     2013-02-05              ---
37289                             183 I2  ;//     -----------------------------------
37290                             184 I2          .GLOBAL _SVX_OBJ_SPD_OLDTOP;
37291                             185 I2          .GLOBAL _SVX_UPAREA_SPD0OLD;
37292                             186 I2  
37293                              15 I1  
37294                              16 I1  
37295                              17 I1  
37296                              18 I1          .IMPORT         _DNM_MAXSPM_ACCLAT_MAK          ;2010-10-05
37297                              19 I1  
37298                              20 I1  
37299                              21 I1  ;//     *******************************************
37300                              22 I1  ;//     ***             振り子加速              ***
37301                              23 I1  ;//     *******************************************
37302                              24 I1  ;       ***************************************************
37303                              25 I1  ;       ***                                             ***
37304                              26 I1  ;       ***             ふりこ加速テーブル              ***
37305                              27 I1  ;       ***             パラメータに入れる              ***
37306                              28 I1  ;       ***                                             ***
37307                              29 I1  ;       ***************************************************
37308                              30 I1          .GLOBAL         _CB_SYS_PARTBL001       ;CODE:ｺｰﾄﾞ存在なければﾃﾞｰﾀなし
37309                              31 I1          .GLOBAL         _CB_SYS_PARTBL002       ;1:加速度ﾃｰﾌﾞﾙ使用NO.[1個より増えた場合用]
37310                              32 I1          .GLOBAL         _CB_SYS_PARTBL003       ;1:最大回転速度/加減速時間ﾃｰﾌﾞﾙ使用[1個よ
                                          り増えた場合用]
37311                              33 I1          .GLOBAL         _CB_SYS_PARTBL004       ;加速度ﾃｰﾌﾞﾙ1　<設定位置１未満
37312                              34 I1          .GLOBAL         _CB_SYS_PARTBL005       ;加速度ﾃｰﾌﾞﾙ2　位置1≦＜位置2
37313                              35 I1  
37314                              36 I1  
37315                              37 I1  ;       ***************************************************
37316                              38 I1  ;       ***                                             ***
37317                              39 I1  ;       ***             mm-最大回転数,加減速時間        ***
37318                              40 I1  ;       ***                                             ***
37319                              41 I1  ;       ***************************************************
37320                              42 I1          .GLOBAL         _CB_SYS_DNMTBL1_CNT             ;
37321                              43 I1          .GLOBAL         _CB_SYS_DNMTBL1_DATA_TOP        ;
37322                              44 I1          .GLOBAL         _CB_SYS_ACCTBL1_CNT             ;
37323                              45 I1          .GLOBAL         _CB_SYS_ACCTBL1_IN_TOP          ;
37324                              46 I1          .GLOBAL         _CB_SYS_ACCTBL2_CNT             ;
37325                              47 I1          .GLOBAL         _CB_SYS_ACCTBL2_IN_TOP          ;
37326                              48 I1          .GLOBAL         _CB_SYS_ACCTBL3_CNT             ;
37327                              49 I1          .GLOBAL         _CB_SYS_ACCTBL3_IN_TOP          ;
37328                              50 I1  
37329                              51 I1          .import         _SYS2_DT_LOAD
37330                              52 I1  
37331                              53 I1  ;       ***************************************************
37332                              54 I1  ;       ***                                             ***
37333                              55 I1  ;       ***             速度テーブル                    ***
37334                              56 I1  ;       ***                                             ***
37335                              57 I1  ;       ***************************************************
37336 000081E0                     58 I1          .ALIGN  4                                               ;
37337                              59 I1  ;;;;;   .INCLUDE        "ssa_atbl.inc"          ;//2010-09-21
37338                              60 I1  
37339                              61 I1          .AIF    0 EQ    0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   560
PROGRAM NAME =

37340                              62 C   
37341                              63 C           .IMPORT _PDTRB
37342                              64 C           .MACRO  _A_WDT_CLR
37343                              65 C           PUSH_REG1 R10
37344                              66 C           PUSH_REG1 R11
37345                              67 C           PUSH_REG1 R12
37346                              68 C   
37347                              69 C           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
37348                              70 C   
37349                              71 C           MOV.L   #_PDTRB,R10
37350                              72 C           MOV.W   @R10,R11
37351                              73 C           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
37352                              74 C           AND     R12,R11                 ;
37353                              75 C           MOV.W   R11,@R10                ;
37354                              76 C           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
37355                              77 C           OR      R12,R11                 ;
37356                              78 C           MOV.W   R11,@R10                ;
37357                              79 C   
37358                              80 C           EI_POP_SR_SHn                   ;
37359                              81 C   
37360                              82 C           POP_REG1 R12
37361                              83 C           POP_REG1 R11
37362                              84 C           POP_REG1 R10
37363                              85 C           .ENDM
37364                              86 C   
37365                              87             .AELSE
37366                              88     ;CPU-Bは5msecでたたいているから不要
37367                              89             .MACRO  _A_WDT_CLR
37368                              90             .ENDM
37369                              91     
37370                              92     
37371                              93             .AENDI
37372                              94 I1  
37373                              95 I1  ;
37374                              96 I1  ;       _DNM_TBL_CALC:  ﾃｰﾌﾞﾙ作成[DTMK]
37375                              97 I1  ;       _DNM_START_ACC_CALC:API 起動 往路/復路CHANGE [POS1]
37376                              98 I1  ;       _DNM_STEP_ACC_CHANGE:API 工程切替 ;[POS1]
37377                              99 I1  ;       _DNM_SPD_CALC:速度演算→ACC算出,反映[POS1]
37378                             100 I1  ;
37379                             101 I1  
37380                             102 I1  
37381                             103 I1  ;       ***************************************************
37382                             104 I1  ;       ***                                             ***
37383                             105 I1  ;       ***                                             ***
37384                             106 I1  ;       ***                                             ***
37385                             107 I1  ;       ***                                             ***
37386                             108 I1  ;       ***                                             ***
37387                             109 I1  ;       ***                                             ***
37388                             110 I1  ;       ***             振り子加速度テーブル作成        ***
37389                             111 I1  ;       ***                                             ***
37390                             112 I1  ;       ***                                             ***
37391                             113 I1  ;       ***                                             ***
37392                             114 I1  ;       ***                                             ***
37393                             115 I1  ;       ***                                             ***
37394                             116 I1  ;       ***                                             ***
37395                             117 I1  ;       ***************************************************
37396                             118 I1  ;       dtmkにて演算(WDT-CLR必要)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   561
PROGRAM NAME =

37397 000081E0                    119 I1          .ALIGN  4                                               ;
37398 000081E0                    120 I1  _DNM_TBL_CALC:
37399                             121 I1          SUB_START
37400 000081E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
37401                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37402                             122 I1  
37403                             123 I1          FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
37404 000081E2 D006                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37405 000081E4 400B                   M           JSR     @R0                     ;
37406 000081E6 0009                   M           NOP                                     ;
37407 000081E8 2008               124 I1          TST     R0,R0
37408                             125 I1          TST_BIT_OF DNM_TBLCAL_200                               ;ふりこでない
37409 000081EA 890B                   M           BT      DNM_TBLCAL_200
37410                             126 I1  
37411                             127 I1          FAR_JSR #_DNM_MOTION_DATA_MAK,R0                        ;振り子時
37412 000081EC D004                   M           MOV.L   #_DNM_MOTION_DATA_MAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37413 000081EE 400B                   M           JSR     @R0                     ;
37414 000081F0 0009                   M           NOP                                     ;
37415 000081F2 9001               128 I1          MOV.W   #1,R0
37416                             129 I1          M_BRA   DNM_TBLCAL_300                                  ;
37417 000081F4 A007                   M           BRA     DNM_TBLCAL_300
37418 000081F6 0009                   M           NOP
37419                             130 I1  
37420                                 I1  ***** BEGIN-POOL *****
37421 000081F8 0001                   I1  DATA FOR SOURCE-LINE 128
37422 000081FA 0000                   I1  ALIGNMENT CODE
37423 000081FC 00000000               I1  DATA FOR SOURCE-LINE 123
37424 00008200 00000000               I1  DATA FOR SOURCE-LINE 127
37425                                 I1  ***** END-POOL *****
37426 00008204                    131 I1  DNM_TBLCAL_200:
37427 00008204 200A               132 I1          XOR     R0,R0
37428 00008206                    133 I1  DNM_TBLCAL_300:
37429 00008206 D104               134 I1          MOV.L   #_DNM_ACC_CALFLG,R1                             ;//0/1
37430 00008208 2101               135 I1          MOV.W   R0,@R1                                          ;
37431                             136 I1  
37432                             137 I1  
37433                             138 I1  
37434                             139 I1  ;       ============ ﾃﾞﾊﾞｯｸ===========
37435                             140 I1   .AIF   0 EQ    0
37436 0000820A D104               141 C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
37437                             142      .AELSE
37438                             143             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
37439                             144      .AENDI
37440 0000820C 6011               145 I1          MOV.W   @R1,R0
37441 0000820E D104               146 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB258,R1     ;258,328
37442 00008210 2101               147 I1          MOV.W   R0,@R1
37443                             148 I1  
37444                             149 I1          SUB_END
37445                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37446 00008212 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37447                             150 I1          M_RTS
37448 00008214 000B                   M           RTS                             ;RTSの後ろの
37449 00008216 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37450                             151 I1  
37451                             152 I1  
37452                             153 I1  ;       *******************************************
37453                             154 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   562
PROGRAM NAME =

37454                             155 I1  ;       ***             各データ作成CALL        ***
37455                             156 I1  ;       ***                                     ***
37456                             157 I1  ;       *******************************************
37457                             158 I1  ;       速度演算結果 * 速度比率/100　･･･速度
37458                             159 I1  ;       ﾃｰﾌﾞﾙの距離を速度比率/100････残距離比較
37459                             160 I1  ;       残り距離*100/速度比率
37460                             161 I1  ;
37461                             162 I1  ;       [起動時に比率を取込む]
37462                             163 I1  ;
37463                             164 I1  ;       --------2015-03-15[ふりこの設定状態]
37464                             165 I1  
37465                             166 I1          .MACRO  DNM_INFO_SET SETCOD
37466                             167 I1  
37467                             168 I1          MOV.W   #\SETCOD,R0
37468                             169 I1   .AIF   0 EQ    0
37469                             170 I1          MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
37470                             171 I1   .AELSE
37471                             172 I1          MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
37472                             173 I1   .AENDI
37473                             174 I1          MOV.W   R0,@R1                          ;
37474                             175 I1  
37475                             176 I1          .ENDM
37476                             177 I1  
37477                             178 I1          .IMPORT _SH4_DNM_CALC_INFO              ;
37478                             179 I1          .IMPORT _SH2_DNM_CALC_INFO              ;
37479                             180 I1  
37480                             181 I1  
37481                                 I1  ***** BEGIN-POOL *****
37482 00008218 00000000               I1  DATA FOR SOURCE-LINE 134
37483 0000821C 00000000               I1  DATA FOR SOURCE-LINE 141
37484 00008220 00000000               I1  DATA FOR SOURCE-LINE 146
37485                                 I1  ***** END-POOL *****
37486 00008224                    182 I1  _DNM_MOTION_DATA_MAK:
37487                             183 I1          SUB_START
37488 00008224 4F22                   M           STS.L   PR,@-R15                ;[必要]
37489                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37490                             184 I1  
37491                             185 I1  
37492                             186 I1  
37493 00008226 277A               187 I1          XOR     R7,R7                           ;
37494 00008228 D50E               188 I1          MOV.L   #_SVP_UPAREA_SPD0,R5            ;基準速度(戻速度)
37495 0000822A D60F               189 I1          MOV.L   #_SVX_UPAREA_SPD0OLD,R6         ;
37496                             190 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
37497 0000822C D00F                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37498 0000822E 400B                   M           JSR     @R0                     ;
37499 00008230 0009                   M           NOP                                     ;
37500                             191 I1  
37501                             192 I1  
37502 00008232 9315               193 I1          MOV.W   #D'20,R3                        ;
37503 00008234 D50E               194 I1          MOV.L   #_SVPX1_OBJECT_SPD_TOP,R5               ;
37504 00008236 D60F               195 I1          MOV.L   #_SVX_OBJ_SPD_OLDTOP,R6         ;
37505                             196 I1  
37506 00008238                    197 I1  ACC_INFMAK1_DTCHGCHKLOP
37507                             198 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
37508 00008238 D00C                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37509 0000823A 400B                   M           JSR     @R0                     ;
37510 0000823C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   563
PROGRAM NAME =

37511 0000823E 73FF               199 I1          ADD     #-1,R3                          ;
37512 00008240 2338               200 I1          TST     R3,R3                           ;
37513                             201 I1          TST_BIT_ON ACC_INFMAK1_DTCHGCHKLOP      ;
37514 00008242 8BF9                   M           BF      ACC_INFMAK1_DTCHGCHKLOP
37515 00008244 2778               202 I1          TST     R7,R7                           ;
37516                             203 I1          TST_BIT_ON ACC_INFMAK1_START            ;[速度設定変更有り]
37517 00008246 8B1D                   M           BF      ACC_INFMAK1_START
37518                             204 I1  
37519 00008248 D10B               205 I1          MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
37520 0000824A 6011               206 I1          MOV.W   @R1,R0                          ;
37521 0000824C D10B               207 I1          MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
37522 0000824E 6211               208 I1          MOV.W   @R1,R2                          ;
37523 00008250 202B               209 I1          OR      R2,R0                           ;
37524 00008252 2008               210 I1          TST     R0,R0                           ;
37525                             211 I1          TST_BIT_ON ACC_INFMAK1_START050         ;異常状態での演算
37526 00008254 8B1E                   M           BF      ACC_INFMAK1_START050
37527                             212 I1  
37528                             213 I1          FAR_JSR #_API_SETACC_STS_CLR,R0         ;
37529 00008256 D00A                   M           MOV.L   #_API_SETACC_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37530 00008258 400B                   M           JSR     @R0                     ;
37531 0000825A 0009                   M           NOP                                     ;
37532                             214 I1  
37533                             215 I1          M_BRA   ACC_INFMAK1_EXT                 ;
37534 0000825C A029                   M           BRA     ACC_INFMAK1_EXT
37535 0000825E 0009                   M           NOP
37536                             216 I1  
37537                             217 I1  ;       ----------[CPUA/B間で演算完了状態であれば 反映して良い]--------
37538                                 I1  ***** BEGIN-POOL *****
37539 00008260 0014                   I1  DATA FOR SOURCE-LINE 193
37540 00008262 0000                   I1  ALIGNMENT CODE
37541 00008264 00000000               I1  DATA FOR SOURCE-LINE 188
37542 00008268 00000000               I1  DATA FOR SOURCE-LINE 189
37543 0000826C 00000000               I1  DATA FOR SOURCE-LINE 190,198
37544 00008270 00000000               I1  DATA FOR SOURCE-LINE 194
37545 00008274 00000000               I1  DATA FOR SOURCE-LINE 195
37546 00008278 00000000               I1  DATA FOR SOURCE-LINE 205
37547 0000827C 00000000               I1  DATA FOR SOURCE-LINE 207
37548 00008280 00000000               I1  DATA FOR SOURCE-LINE 213
37549                                 I1  ***** END-POOL *****
37550 00008284                    218 I1  ACC_INFMAK1_START
37551                             219 I1          DNM_INFO_SET SETCOD=BIT0;       ;演算中
37552                                 M   
37553 00008284 9003                   M           MOV.W   #BIT0,R0
37554                                 M    .AIF   0 EQ    0
37555 00008286 D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
37556                                      .AELSE
37557                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
37558                                      .AENDI
37559 00008288 2101                   M           MOV.W   R0,@R1                          ;
37560                                 M   
37561                             220 I1          M_BRA   ACC_INFMAK1_START100            ;
37562 0000828A A006                   M           BRA     ACC_INFMAK1_START100
37563 0000828C 0009                   M           NOP
37564                             221 I1  
37565                                 I1  ***** BEGIN-POOL *****
37566 0000828E 0001                   I1  DATA FOR SOURCE-LINE 219
37567 00008290 00000000               I1  DATA FOR SOURCE-LINE 219
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   564
PROGRAM NAME =

37568                                 I1  ***** END-POOL *****
37569 00008294                    222 I1  ACC_INFMAK1_START050:
37570                             223 I1          DNM_INFO_SET SETCOD=BIT1                ;演算中
37571                                 M   
37572 00008294 9010                   M           MOV.W   #BIT1,R0
37573                                 M    .AIF   0 EQ    0
37574 00008296 D109                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
37575                                      .AELSE
37576                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
37577                                      .AENDI
37578 00008298 2101                   M           MOV.W   R0,@R1                          ;
37579                                 M   
37580                             224 I1  
37581 0000829A                    225 I1  ACC_INFMAK1_START100:
37582                             226 I1  
37583                             227 I1          FAR_JSR #_SYS2_DT_LOAD,R0                       ;
37584 0000829A D009                   M           MOV.L   #_SYS2_DT_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37585 0000829C 400B                   M           JSR     @R0                     ;
37586 0000829E 0009                   M           NOP                                     ;
37587                             228 I1  
37588                             229 I1  
37589                             230 I1          FAR_JSR #_ACC_STEP_INF_MAKE1,R0         ;
37590 000082A0 D008                   M           MOV.L   #_ACC_STEP_INF_MAKE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37591 000082A2 400B                   M           JSR     @R0                     ;
37592 000082A4 0009                   M           NOP                                     ;
37593                             231 I1                                                  ;_ACC_INF1_STEPSP01     ;000%[前状態],050%
                                          [設定]
37594                             232 I1                                                  ;_ACC_INF1_STEP001      ;BIT2=[0=加速/1=減
                                          速]
37595                             233 I1                                                  ;
37596                             234 I1          FAR_JSR #_ACC_TBL_MAKE1,R0              ;
37597 000082A6 D008                   M           MOV.L   #_ACC_TBL_MAKE1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37598 000082A8 400B                   M           JSR     @R0                     ;
37599 000082AA 0009                   M           NOP                                     ;
37600                             235 I1  
37601                             236 I1  
37602                             237 I1          DNM_INFO_SET SETCOD=BIT2                ;演算すべき状態、演算結果を反映して良い状
                                          態
37603                                 M   
37604 000082AC 9005                   M           MOV.W   #BIT2,R0
37605                                 M    .AIF   0 EQ    0
37606 000082AE D103                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
37607                                      .AELSE
37608                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
37609                                      .AENDI
37610 000082B0 2101                   M           MOV.W   R0,@R1                          ;
37611                                 M   
37612                             238 I1  
37613 000082B2                    239 I1  ACC_INFMAK1_EXT
37614                             240 I1  
37615                             241 I1          SUB_END
37616                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37617 000082B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37618                             242 I1          M_RTS
37619 000082B4 000B                   M           RTS                             ;RTSの後ろの
37620 000082B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37621                             243 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   565
PROGRAM NAME =

37622                             244 I1  ;       ***************************************************
37623                             245 I1  ;       ***                                             ***
37624                             246 I1  ;       *** 自分がBIT2=1で相手がBIT2=1またはBIT3=1      ***
37625                             247 I1  ;       *** なら演算を反映する                          ***
37626                             248 I1  ;       ***                                             ***
37627                             249 I1  ;       ***************************************************
37628                             250 I1  ;
37629                             251 I1  ;
37630                             252 I1          .EXPORT _API_SETACC_INFO_GET
37631                                 I1  ***** BEGIN-POOL *****
37632 000082B8 0002                   I1  DATA FOR SOURCE-LINE 223
37633 000082BA 0004                   I1  DATA FOR SOURCE-LINE 237
37634 000082BC 00000000               I1  DATA FOR SOURCE-LINE 223,237
37635 000082C0 00000000               I1  DATA FOR SOURCE-LINE 227
37636 000082C4 00000000               I1  DATA FOR SOURCE-LINE 230
37637 000082C8 00000000               I1  DATA FOR SOURCE-LINE 234
37638                                 I1  ***** END-POOL *****
37639 000082CC                    253 I1  _API_SETACC_INFO_GET:
37640                             254 I1          SUB_START
37641 000082CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
37642                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37643                             255 I1  
37644                             256 I1  
37645                             257 I1   .AIF   0 EQ    0
37646 000082CE D507               258 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
37647 000082D0 D607               259 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
37648                             260 C   
37649                             261      .AELSE
37650                             262             MOV.L   #_SH2_DNM_CALC_INFO,R5          ;SH2 TO SH4 +SH2演算部
37651                             263             MOV.L   #_SH4_DNM_CALC_INFO,R6          ;SH4 TO SH2 +SH4演算部
37652                             264      .AENDI
37653 000082D2 6051               265 I1          MOV.W   @R5,R0                          ;
37654 000082D4 6261               266 I1          MOV.W   @R6,R2
37655 000082D6 6423               267 I1          MOV     R2,R4
37656 000082D8 240B               268 I1          OR      R0,R4
37657                             269 I1  
37658 000082DA 2448               270 I1          TST     R4,R4                           ;
37659                             271 I1          TST_BIT_OF API_SETACC_INFOGET_CALOK2    ;演算してもいいよ
37660 000082DC 890D                   M           BT      API_SETACC_INFOGET_CALOK2
37661                             272 I1  
37662 000082DE C804               273 I1          TST     #BIT2,R0                        ;自分がON
37663                             274 I1          TST_BIT_OF API_SETACC_INFOGET_CALNG     ;
37664 000082E0 890E                   M           BT      API_SETACC_INFOGET_CALNG
37665                             275 I1  
37666 000082E2 E40C               276 I1          MOV.B   #(BIT3+BIT2),R4                 ;
37667 000082E4 2248               277 I1          TST     R4,R2                           ;
37668                             278 I1          TST_BIT_ON API_SETACC_INFOGET_CALOK1    ;
37669 000082E6 8B05                   M           BF      API_SETACC_INFOGET_CALOK1
37670                             279 I1          M_BRA   API_SETACC_INFOGET_CALNG        ;
37671 000082E8 A00A                   M           BRA     API_SETACC_INFOGET_CALNG
37672 000082EA 0009                   M           NOP
37673                             280 I1  
37674                             281 I1  
37675                                 I1  ***** BEGIN-POOL *****
37676 000082EC 00000000               I1  DATA FOR SOURCE-LINE 258
37677 000082F0 00000000               I1  DATA FOR SOURCE-LINE 259
37678                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   566
PROGRAM NAME =

37679 000082F4                    282 I1  API_SETACC_INFOGET_CALOK1:
37680 000082F4 E001               283 I1          MOV.B   #BIT0,R0                        ;演算しろ[完了にしてね！！]
37681                             284 I1          M_BRA   API_SETACC_INFOGET_CALEXT       ;
37682 000082F6 A004                   M           BRA     API_SETACC_INFOGET_CALEXT
37683 000082F8 0009                   M           NOP
37684                             285 I1  
37685 000082FA                    286 I1  API_SETACC_INFOGET_CALOK2:
37686 000082FA E002               287 I1          MOV.B   #BIT1,R0                        ;完了にしないでね
37687                             288 I1          M_BRA   API_SETACC_INFOGET_CALEXT
37688 000082FC A001                   M           BRA     API_SETACC_INFOGET_CALEXT
37689 000082FE 0009                   M           NOP
37690                             289 I1  
37691 00008300                    290 I1  API_SETACC_INFOGET_CALNG:
37692 00008300 200A               291 I1          XOR     R0,R0
37693 00008302                    292 I1  API_SETACC_INFOGET_CALEXT:
37694                             293 I1  
37695                             294 I1          SUB_END
37696                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37697 00008302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37698                             295 I1          M_RTS
37699 00008304 000B                   M           RTS                             ;RTSの後ろの
37700 00008306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37701                             296 I1  
37702                             297 I1          .EXPORT _API_SETACC_STS_END             ;
37703                             298 I1  
37704 00008308                    299 I1  _API_SETACC_STS_END:
37705                             300 I1          SUB_START
37706 00008308 4F22                   M           STS.L   PR,@-R15                ;[必要]
37707                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37708                             301 I1  
37709                             302 I1          DNM_INFO_SET SETCOD=BIT3                ;演算終了した状態
37710                                 M   
37711 0000830A 9004                   M           MOV.W   #BIT3,R0
37712                                 M    .AIF   0 EQ    0
37713 0000830C D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
37714                                      .AELSE
37715                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
37716                                      .AENDI
37717 0000830E 2101                   M           MOV.W   R0,@R1                          ;
37718                                 M   
37719                             303 I1  
37720                             304 I1          SUB_END
37721                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37722 00008310 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37723                             305 I1          M_RTS
37724 00008312 000B                   M           RTS                             ;RTSの後ろの
37725 00008314 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37726                             306 I1  
37727                             307 I1  ;       ----CLRはCPUAはCPUAとCPUBを行う-----------
37728                                 I1  ***** BEGIN-POOL *****
37729 00008316 0008                   I1  DATA FOR SOURCE-LINE 302
37730 00008318 00000000               I1  DATA FOR SOURCE-LINE 302
37731                                 I1  ***** END-POOL *****
37732 0000831C                    308 I1  _API_SETACC_STS_CLR:
37733                             309 I1          SUB_START
37734 0000831C 4F22                   M           STS.L   PR,@-R15                ;[必要]
37735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   567
PROGRAM NAME =

37736                             310 I1   .AIF   0 EQ    0
37737 0000831E D507               311 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
37738 00008320 6051               312 C           MOV.W   @R5,R0                          ;
37739 00008322 D607               313 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
37740 00008324 6261               314 C           MOV.W   @R6,R2                          ;
37741                             315 C   ;;;;[本当はこっち]      MOV.B   #BIT3,R4
37742 00008326 E404               316 C           MOV.B   #BIT2,R4                        ;ｽｷｬﾝﾃｽﾄ
37743 00008328 3240               317 C           CMP/EQ  R4,R2                           ;(R2==R0 R0?BIT3　の論理は危険 )
37744 0000832A 8B04               318 C           BF      API_SETACC_STSCLR_EXT           ;
37745 0000832C 3040               319 C           CMP/EQ  R4,R0                           ;完了？
37746 0000832E 8B02               320 C           BF      API_SETACC_STSCLR_EXT           ;
37747                             321 C   
37748 00008330 200A               322 C           XOR     R0,R0                           ;IDEL
37749 00008332 2501               323 C           MOV.W   R0,@R5                          ;
37750 00008334 2601               324 C           MOV.W   R0,@R6                          ;
37751                             325 C   
37752 00008336                    326 C   API_SETACC_STSCLR_EXT:
37753                             327 C   
37754                             328 I1   .AENDI
37755                             329 I1  
37756                             330 I1          SUB_END
37757                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37758 00008336 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37759                             331 I1          M_RTS
37760 00008338 000B                   M           RTS                             ;RTSの後ろの
37761 0000833A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37762                             332 I1  
37763                             333 I1  
37764                             334 I1  
37765                             335 I1  ;       *******************************************
37766                             336 I1  ;       ***                                     ***
37767                             337 I1  ;       ***             ステップINFOMATION      ***
37768                             338 I1  ;       ***                                     ***
37769                             339 I1  ;       *******************************************
37770                             340 I1  
37771                             341 I1  
37772                                 I1  ***** BEGIN-POOL *****
37773 0000833C 00000000               I1  DATA FOR SOURCE-LINE 311
37774 00008340 00000000               I1  DATA FOR SOURCE-LINE 313
37775                                 I1  ***** END-POOL *****
37776 00008344                    342 I1  _ACC_STEP_INF_MAKE1:
37777                             343 I1          SUB_START
37778 00008344 4F22                   M           STS.L   PR,@-R15                ;[必要]
37779                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37780                             344 I1  
37781                             345 I1  
37782 00008346 DE0F               346 I1          MOV.L   #_SETX_POS_SDAT1_INF1,R14               ;往路情報 long data(BIT1=0正/1逆,
                                          BIT0=0 速度停止)
37783                             347 I1  
37784 00008348 D10F               348 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
37785 0000834A 6511               349 I1          MOV.W   @R1,R5                                  ;
37786 0000834C 7501               350 I1          ADD     #1,R5
37787                             351 I1  
37788                             352 I1  
37789 0000834E D80F               353 I1          MOV.L   #_ACC_INF1_STEP001,R8                   ;BIT2=[0=加速/1=減速]
37790                             354 I1                                                          ;BIT1=[0=正,1=逆]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   568
PROGRAM NAME =

37791                             355 I1                                                          ;BIT0=[0=停/1=連続]
37792                             356 I1  
37793 00008350 D90F               357 I1          MOV.L   #_ACC_INF1_STEPSP01,R9                  ;000%[前状態],050%[設定]
37794                             358 I1  
37795 00008352 277A               359 I1          XOR     R7,R7                                   ;(前回速度)
37796 00008354 DA0F               360 I1          MOV.L   #_SVPX1_OBJECT_SPD_TOP,R10              ;
37797                             361 I1  
37798 00008356                    362 I1  ACC_STEPINF_MAK1_100LOP:                                        ;
37799                             363 I1  
37800                             364 I1  
37801 00008356 62A5               365 I1          MOV.W   @R10+,R2                                ;
37802                             366 I1  
37803 00008358 9412               367 I1          MOV.W   #1,R4                                   ;
37804 0000835A 3540               368 I1          CMP/EQ  R4,R5                                   ;"残りｽﾃｯﾌﾟ数=1"(戻りﾃﾞｰﾀ)
37805 0000835C 8B01               369 I1          BF      ACC_STEPINF_MAK1_120                    ;
37806 0000835E D10E               370 I1          MOV.L   #_SVP_UPAREA_SPD0,R1                    ;0.1%　戻り速度
37807 00008360 6211               371 I1          MOV.W   @R1,R2                                  ;
37808 00008362                    372 I1  ACC_STEPINF_MAK1_120:
37809                             373 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1                    ;
37810 00008362 D10E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37811 00008364 410B                   M           JSR     @R1                     ;
37812 00008366 0009                   M           NOP                                     ;
37813                             374 I1  
37814                             375 I1  
37815                             376 I1  ;R7=0,R2=sv
37816                             377 I1  
37817 00008368 60E6               378 I1          MOV.L   @R14+,R0                                ;
37818 0000836A C9FB               379 I1          AND     #LOW ~BIT2,R0                           ;
37819                             380 I1  
37820 0000836C 3270               381 I1          CMP/EQ  R7,R2                                   ;R7(OLD)==R2
37821 0000836E 8B17               382 I1          BF      ACC_STEPINF_MAK1_180                    ;NO
37822                             383 I1  
37823                             384 I1  ;       ====== 速度が同じ場合、前の段の加速・減速情報を使用する
37824 00008370 78FE               385 I1          ADD     #-2,R8                                  ;
37825 00008372 6185               386 I1          MOV.W   @R8+,R1                                 ;
37826 00008374 9405               387 I1          MOV.W   #BIT2,R4                                ;
37827 00008376 2148               388 I1          TST     R4,R1                                   ;
37828                             389 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;
37829 00008378 8915                   M           BT      ACC_STEPINF_MAK1_200
37830 0000837A CB04               390 I1          OR      #BIT2,R0                                ;
37831                             391 I1          M_BRA   ACC_STEPINF_MAK1_200                    ;
37832 0000837C A013                   M           BRA     ACC_STEPINF_MAK1_200
37833 0000837E 0009                   M           NOP
37834                             392 I1  
37835                             393 I1  
37836                             394 I1  
37837                                 I1  ***** BEGIN-POOL *****
37838 00008380 0001                   I1  DATA FOR SOURCE-LINE 367
37839 00008382 0004                   I1  DATA FOR SOURCE-LINE 387
37840 00008384 00000000               I1  DATA FOR SOURCE-LINE 346
37841 00008388 00000000               I1  DATA FOR SOURCE-LINE 348
37842 0000838C 00000000               I1  DATA FOR SOURCE-LINE 353
37843 00008390 00000000               I1  DATA FOR SOURCE-LINE 357
37844 00008394 00000000               I1  DATA FOR SOURCE-LINE 360
37845 00008398 00000000               I1  DATA FOR SOURCE-LINE 370
37846 0000839C 00000000               I1  DATA FOR SOURCE-LINE 373
37847                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   569
PROGRAM NAME =

37848 000083A0                    395 I1  ACC_STEPINF_MAK1_180:                                   ;
37849 000083A0 3273               396 I1          CMP/GE  R7,R2                                   ;R7(OLD)=<R2
37850                             397 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;加速JUMP
37851 000083A2 8900                   M           BT      ACC_STEPINF_MAK1_200
37852 000083A4 CB04               398 I1          OR      #BIT2,R0                                ;
37853 000083A6                    399 I1  ACC_STEPINF_MAK1_200:                                   ;
37854 000083A6 2801               400 I1          MOV.W   R0,@R8                                  ;BIT2,BIT1,BIT0 SAVE
37855 000083A8 7802               401 I1          ADD     #2,R8                                   ;
37856                             402 I1  
37857 000083AA 2971               403 I1          MOV.W   R7,@R9                                  ;OLD
37858 000083AC 7902               404 I1          ADD     #2,R9                                   ;
37859 000083AE 2921               405 I1          MOV.W   R2,@R9                                  ;TARGET
37860 000083B0 7902               406 I1          ADD     #2,R9                                   ;
37861                             407 I1  
37862                             408 I1  
37863 000083B2 C801               409 I1          TST     #BIT0,R0                                ;
37864                             410 I1          TST_BIT_ON ACC_STEPINF_MAK1_250                 ;BIT0=0(停止) NO! JUMP
37865 000083B4 8B00                   M           BF      ACC_STEPINF_MAK1_250
37866 000083B6 222A               411 I1          XOR     R2,R2                                   ;
37867 000083B8                    412 I1  ACC_STEPINF_MAK1_250:                                   ;
37868 000083B8 6723               413 I1          MOV     R2,R7                                   ;
37869 000083BA 75FF               414 I1          ADD     #-1,R5                                  ;
37870 000083BC 2558               415 I1          TST     R5,R5                                   ;
37871                             416 I1          TST_BIT_OF ACC_STEPINF_MAK1_300                 ;
37872 000083BE 8901                   M           BT      ACC_STEPINF_MAK1_300
37873                             417 I1          M_BRA   ACC_STEPINF_MAK1_100LOP                 ;
37874 000083C0 AFC9                   M           BRA     ACC_STEPINF_MAK1_100LOP
37875 000083C2 0009                   M           NOP
37876                             418 I1  
37877 000083C4                    419 I1  ACC_STEPINF_MAK1_300:                                   ;
37878                             420 I1  
37879                             421 I1          SUB_END
37880                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37881 000083C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37882                             422 I1          M_RTS
37883 000083C6 000B                   M           RTS                             ;RTSの後ろの
37884 000083C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37885                             423 I1  
37886                             424 I1  
37887 000083CA                    425 I1  _R2_MUL10_ANS_R2:
37888                             426 I1          SUB_START
37889 000083CA 4F22                   M           STS.L   PR,@-R15                ;[必要]
37890                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37891                             427 I1          PUSH_REG1 R1
37892 000083CC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
37893                                 M                                           ;REG=>[SP]
37894                                 M                                           ;"-4" FF,FF,FF,FC
37895 000083CE 9105               428 I1          MOV.W   #D'10,R1        ;
37896 000083D0 321D               429 I1          DMULS.L R1,R2           ;
37897 000083D2 021A               430 I1          STS     MACL,R2         ;
37898                             431 I1          POP_REG1 R1
37899                                 M                                   ; RE"+4" 00,00,00,04
37900 000083D4 61F6                   M           MOV.L   @R15+,R1        ;
37901                             432 I1          SUB_END
37902                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37903 000083D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37904                             433 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   570
PROGRAM NAME =

37905 000083D8 000B                   M           RTS                             ;RTSの後ろの
37906 000083DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37907                             434 I1  
37908                             435 I1  
37909                             436 I1  ;       ***************************************************
37910                             437 I1  ;       ***                                             ***
37911                             438 I1  ;       ***     振り子加速度テーブル作成                ***
37912                             439 I1  ;       ***                                             ***
37913                             440 I1  ;       ***                                             ***
37914                             441 I1  ;       ***                                             ***
37915                             442 I1  ;       ***************************************************
37916                             443 I1  ;       256個　0番目=0と255番目=10000とすること
37917                             444 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         255             ;255msec時間 ループ数は256
37918                             445 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         50              ;255msec時間 ループ数は256
37919                             446 I1  ;
37920                             447 I1  ;
37921                             448 I1  ;       演算タイミングは
37922                             449 I1  ;                       「速度設定変更時」
37923                             450 I1  ;                       「非常停止時」
37924                             451 I1  ;                       「起動中」
37925                             452 I1  ;
37926                             453 I1  ;
37927                                 I1  ***** BEGIN-POOL *****
37928 000083DC 000A                   I1  DATA FOR SOURCE-LINE 428
37929                                 I1  ***** END-POOL *****
37930 000083DE                    454 I1  _ACC_TBL_MAKE1
37931                             455 I1          SUB_START
37932 000083DE 4F22                   M           STS.L   PR,@-R15                ;[必要]
37933                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37934                             456 I1  
37935                             457 I1  
37936                             458 I1  
37937                             459 I1  ;;;;2013-02-05[移動]    FAR_JSR #_USE_IN_TBL_MOV,R0             ;2010-10-20
37938                             460 I1  ;;;;2013-02-05[移動];   ---------<<<<<加減速時間 1~1000>>>>>-----------
37939                             461 I1  ;;;;2013-02-05[移動]    MOV.L   #_TBL_ANS_ACCTIM,R1                             ;2010-10-2
                                          5
37940                             462 I1  ;;;;2013-02-05[移動]    MOV.W   @R1,R2                                          ;
37941                             463 I1  ;;;;2013-02-05[移動]    TST     R2,R2
37942                             464 I1  ;;;;2013-02-05[移動]    TST_BIT_ON ACC_TBLMAK1_DTCHK050                         ;
37943                             465 I1  ;;;;2013-02-05[移動]    MOV.W   #1,R2                                           ;
37944                             466 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK050                                                ;
37945                             467 I1  ;;;;2013-02-05[移動]    MOV.W   #D'1000,R0                                      ;
37946                             468 I1  ;;;;2013-02-05[移動]    CMP/HS  R2,R0                                           ;
37947                             469 I1  ;;;;2013-02-05[移動]    BT      ACC_TBLMAK1_DTCHK100                            ;
37948                             470 I1  ;;;;2013-02-05[移動]    MOV     R0,R2                                           ;1msec~100
                                          0でﾘﾐｯﾄ
37949                             471 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK100                                                ;
37950                             472 I1  ;;;;2013-02-05[移動]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;
37951                             473 I1  ;;;;2013-02-05[移動]    MOV.W   R2,@R1                                          ;
37952                             474 I1  
37953                             475 I1  
37954                             476 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
37955                             477 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
37956                             478 I1  ;;;[2013-05-20 前から未使用];   ---     BASE(0%->100%=100%→0% 最終減速)ﾃﾞｰﾀの作成      --
                                          -
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   571
PROGRAM NAME =

37957                             479 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
37958                             480 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
37959                             481 I1  ;;;[2013-05-20 前から未使用]
37960                             482 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(0~100.00%の加速時間,速度ﾃｰﾌﾞﾙ作成)----
                                          -----------
37961                             483 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBLUSE,R11                             ;
                                          元ﾃｰﾌﾞﾙADR(2byte)
37962                             484 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBL_TIM,R1                             ;2
                                          55msec ﾙｰﾌﾟは256回
37963                             485 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R12                                         ;
37964                             486 I1  ;;;[2013-05-20 前から未使用]
37965                             487 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_
                                          SET1_ACCLAT_TIM1
37966                             488 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R7                                          ;R
                                          7=最大加速時間
37967                             489 I1  ;;;[2013-05-20 前から未使用]
37968                             490 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #0,R8                                           ;R
                                          8:BASE SPEED速度
37969                             491 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #_ACC_PER_V_MAX,R9                              ;R
                                          9:目標速度
37970                             492 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R13                       ;R
                                          13:速度格納用//
37971                             493 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R5                        ;(
                                          このｹｰｽでは不要)前の段の速度-RAM
37972                             494 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R14                         ;R
                                          14:加減速時間
37973                             495 I1  ;;;[2013-05-20 前から未使用]                                                            ;
37974                             496 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          5:前の段の速度-RAM
37975                             497 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          7:最大加減速時間
37976                             498 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          8:OLD-SPD
37977                             499 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          9:TARGET
37978                             500 I1  ;;;[2013-05-20 前から未使用]    MOV     R7,R10                                          ;2
                                          013-05-20 R10:(前段の加速時間/PLS TABLE用/)
37979                             501 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          11:SRC - SPD TABLE
37980                             502 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          12:SRC - 時間
37981                             503 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R13:Output - SPD RAM>
37982                             504 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R14:Output - ACC RAM>
37983                             505 I1  ;;;[2013-05-20 前から未使用]
37984                             506 I1  ;;;[2013-05-20 前から未使用]    PUSH_ALL                                                ;
37985                             507 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;
37986                             508 I1  ;;;[2013-05-20 前から未使用]    POP_ALL                                                 ;
37987                             509 I1  ;;;[2013-05-20 前から未使用]
37988                             510 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)---------
                                          --
37989                             511 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
37990                             512 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R6                                          ;
37991                             513 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R10                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   572
PROGRAM NAME =

37992                             514 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          6=MAX pls/s
37993                             515 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          13=_ACC_BASEDAT_STPVTBL
37994                             516 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          14=_ACC_BASEDAT_ACCTM
37995                             517 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          10=_ACC_BASEDAT_STPPTBL
37996                             518 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
37997                             519 I1  ;;;[2013-05-20 前から未使用]
37998                             520 I1  ;;;[2013-05-20 前から未使用];   -------- 2013-02-25 ﾃﾞｰﾀﾁｪｯｸ及び金型ﾀｯﾁ用 ----------
37999                             521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_DNM_MAX_GENSOK_LENGTH,R1                      ;/
                                          /100%時→0時の減速距離
38000                             522 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R7,@R1                                          ;
38001                             523 I1  
38002                             524 I1  
38003                             525 I1                                                                  ;
38004                             526 I1  
38005                             527 I1  ;       -----------------------------------------------------------
38006                             528 I1  ;       ---                                                     ---
38007                             529 I1  ;       ---     1段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
38008                             530 I1  ;       ---     1段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
38009                             531 I1  ;       ---                                                     ---
38010                             532 I1  ;       -----------------------------------------------------------
38011 000083E0 D00C               533 I1          MOV.L   #_ACC_STEP01_TBL_TOP,R0                         ;
38012 000083E2 401E               534 I1          LDC     R0,GBR                                          ;
38013                             535 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
38014 000083E4 D00C                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38015 000083E6 400B                   M           JSR     @R0                     ;
38016 000083E8 0009                   M           NOP                                     ;
38017                             536 I1  
38018                             537 I1  ;       -----------------------------------------------------------
38019                             538 I1  ;       ---                                                     ---
38020                             539 I1  ;       ---     2段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
38021                             540 I1  ;       ---     2段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
38022                             541 I1  ;       ---                                                     ---
38023                             542 I1  ;       -----------------------------------------------------------
38024 000083EA D10C               543 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
38025 000083EC 6511               544 I1          MOV.W   @R1,R5                                          ;
38026 000083EE 7501               545 I1          ADD     #1,R5
38027                             546 I1  
38028 000083F0 D60B               547 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
38029 000083F2 6066               548 I1          MOV.L   @R6+,R0                                         ;1段目分
38030 000083F4 75FF               549 I1          ADD     #-1,R5                                          ;
38031                             550 I1  
38032 000083F6                    551 I1  ACC_TBLMAK1_200LOP
38033 000083F6 6066               552 I1          MOV.L   @R6+,R0                                         ;
38034                             553 I1          PUSH_REG1 R5
38035 000083F8 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
38036                                 M                                           ;REG=>[SP]
38037                                 M                                           ;"-4" FF,FF,FF,FC
38038                             554 I1          PUSH_REG1 R6
38039 000083FA 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38040                                 M                                           ;REG=>[SP]
38041                                 M                                           ;"-4" FF,FF,FF,FC
38042                             555 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   573
PROGRAM NAME =

38043 000083FC 401E               556 I1          LDC     R0,GBR                                          ;
38044                             557 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
38045 000083FE D006                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38046 00008400 400B                   M           JSR     @R0                     ;
38047 00008402 0009                   M           NOP                                     ;
38048                             558 I1  
38049                             559 I1          POP_REG1 R6
38050                                 M                                   ; RE"+4" 00,00,00,04
38051 00008404 66F6                   M           MOV.L   @R15+,R6        ;
38052                             560 I1          POP_REG1 R5
38053                                 M                                   ; RE"+4" 00,00,00,04
38054 00008406 65F6                   M           MOV.L   @R15+,R5        ;
38055 00008408 75FF               561 I1          ADD     #-1,R5
38056 0000840A 2558               562 I1          TST     R5,R5                                           ;
38057                             563 I1          TST_BIT_ON ACC_TBLMAK1_200LOP                           ;
38058 0000840C 8BF3                   M           BF      ACC_TBLMAK1_200LOP
38059                             564 I1  
38060                             565 I1  
38061                             566 I1  
38062                             567 I1          SUB_END
38063                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38064 0000840E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38065                             568 I1          M_RTS
38066 00008410 000B                   M           RTS                             ;RTSの後ろの
38067 00008412 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38068                             569 I1  
38069                             570 I1  
38070                             571 I1  
38071                             572 I1  
38072                             573 I1  ;       *******************************************
38073                             574 I1  ;       ***                                     ***
38074                             575 I1  ;       ***     加速度パターン選択+転送         ***
38075                             576 I1  ;       ***                                     ***
38076                             577 I1  ;       *******************************************
38077                                 I1  ***** BEGIN-POOL *****
38078 00008414 00000000               I1  DATA FOR SOURCE-LINE 533
38079 00008418 00000000               I1  DATA FOR SOURCE-LINE 535,557
38080 0000841C 00000000               I1  DATA FOR SOURCE-LINE 543
38081 00008420 00000000               I1  DATA FOR SOURCE-LINE 547
38082                                 I1  ***** END-POOL *****
38083 00008424                    578 I1  _USE_IN_TBL_MOV:
38084                             579 I1          SUB_START
38085 00008424 4F22                   M           STS.L   PR,@-R15                ;[必要]
38086                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38087                             580 I1  
38088                             581 I1  
38089                             582 I1  ;       -----------------------------------------------
38090                             583 I1  ;;;;2013-02-05  MOV.L   #_TBL_ANS_ACC_SEL,R1                            ;(0,1),2[TBL2],3[T
                                          BL3]
38091                             584 I1  ;;;;2013-02-05  MOV.W   @R1,R0                                          ;
38092                             585 I1  ;;;;2013-02-05
38093                             586 I1  ;;;;2013-02-05
38094                             587 I1  ;;;;2013-02-05
38095                             588 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_CNT,R7                         ;
38096                             589 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_IN_TOP,R5                      ;
38097                             590 I1  ;;;;2013-02-05
38098                             591 I1  ;;;;2013-02-05  CMP/EQ  #3,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   574
PROGRAM NAME =

38099                             592 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
38100                             593 I1  ;;;;2013-02-05
38101                             594 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_CNT,R7                         ;
38102                             595 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_IN_TOP,R5
38103                             596 I1  ;;;;2013-02-05  CMP/EQ  #2,R0                                           ;
38104                             597 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
38105                             598 I1  ;;;;2013-02-05
38106                             599 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
38107                             600 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
38108                             601 I1  ;;;;2013-02-05
38109                             602 I1  ;;;;2013-02-05  USE_IN_TBLMV_100:
38110                             603 I1  
38111 00008426 D707               604 I1          MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
38112 00008428 D507               605 I1          MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
38113 0000842A 6371               606 I1          MOV.W   @R7,R3                                          ;
38114 0000842C D107               607 I1          MOV.L   #_ACC_IN_TBL_TIM,R1                             ;255msec ﾙｰﾌﾟは256回
38115 0000842E 2131               608 I1          MOV.W   R3,@R1                                          ;
38116 00008430 7302               609 I1          ADD     #2,R3                                           ;
38117                             610 I1  
38118 00008432 D607               611 I1          MOV.L   #_ACC_IN_TBLUSE,R6                              ;元ﾃｰﾌﾞﾙADR(2byte)
38119                             612 I1  
38120 00008434                    613 I1  USE_IN_TBLMV_100LOP:
38121 00008434 2338               614 I1          TST     R3,R3
38122                             615 I1          TST_BIT_OF USE_IN_TBLMV_500
38123 00008436 890D                   M           BT      USE_IN_TBLMV_500
38124 00008438 6055               616 I1          MOV.W   @R5+,R0
38125 0000843A 2601               617 I1          MOV.W   R0,@R6
38126 0000843C 7602               618 I1          ADD     #2,R6                           ;
38127 0000843E 73FF               619 I1          ADD     #-1,R3                          ;
38128                             620 I1          M_BRA   USE_IN_TBLMV_100LOP             ;
38129 00008440 AFF8                   M           BRA     USE_IN_TBLMV_100LOP
38130 00008442 0009                   M           NOP
38131                             621 I1  
38132                                 I1  ***** BEGIN-POOL *****
38133 00008444 00000000               I1  DATA FOR SOURCE-LINE 604
38134 00008448 00000000               I1  DATA FOR SOURCE-LINE 605
38135 0000844C 00000000               I1  DATA FOR SOURCE-LINE 607
38136 00008450 00000000               I1  DATA FOR SOURCE-LINE 611
38137                                 I1  ***** END-POOL *****
38138 00008454                    622 I1  USE_IN_TBLMV_500:
38139                             623 I1  
38140                             624 I1          SUB_END
38141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38142 00008454 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38143                             625 I1          M_RTS
38144 00008456 000B                   M           RTS                             ;RTSの後ろの
38145 00008458 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38146                             626 I1  
38147                             627 I1  
38148                             628 I1  ;       ***************************************************
38149                             629 I1  ;       ***                                             ***
38150                             630 I1  ;       ***             INFO->TABLE                     ***
38151                             631 I1  ;       ***                                             ***
38152                             632 I1  ;       ***************************************************
38153                             633 I1  ;       Input GBR
38154 0000845A                    634 I1  _ACC_INFO_CHNAGE_TBL_MAK:
38155                             635 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   575
PROGRAM NAME =

38156 0000845A 4F22                   M           STS.L   PR,@-R15                ;[必要]
38157                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38158 0000845C C600               636 I1          MOV.L   @(AFM_SRC_TBL_TOP-ACC_FORM_TOP,GBR),R0          ;
38159 0000845E 6B03               637 I1          MOV     R0,R11                                          ;ACC_IN_TBL1;元ﾃｰﾌﾞﾙADR(2b
                                          yte)
38160                             638 I1  
38161 00008460 C601               639 I1          MOV.L   @(AFM_SRC_TBL_MEM-ACC_FORM_TOP,GBR),R0          ;
38162 00008462 6C01               640 I1          MOV.W   @R0,R12                                         ;_ACC_IN_TBL_TIM
38163                             641 I1  
38164 00008464 D144               642 I1          MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_SET1_ACCLAT_TIM1
38165 00008466 6711               643 I1          MOV.W   @R1,R7                                          ;R7=最大加速時間
38166                             644 I1  
38167 00008468 C602               645 I1          MOV.L   @(AFM_STEP_INF_SPD-ACC_FORM_TOP,GBR),R0         ;
38168 0000846A 6805               646 I1          MOV.W   @R0+,R8                                         ;R8:BASE SPEED速度
38169 0000846C 6901               647 I1          MOV.W   @R0,R9                                          ;R9:目標速度
38170                             648 I1  
38171 0000846E C604               649 I1          MOV.L   @(AFM_OLD_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;前段の速度TBL(前段=現段速
                                          度時使用)
38172 00008470 6503               650 I1          MOV     R0,R5                                           ;
38173 00008472 C606               651 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;今回の速度格納用
38174 00008474 6D03               652 I1          MOV     R0,R13                                          ;
38175                             653 I1  
38176 00008476 C607               654 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0          ;
38177 00008478 6E03               655 I1          MOV     R0,R14                                          ;今回の加速時間格納用
38178                             656 I1  
38179 0000847A C605               657 I1          MOV.L   @(AFM_OLD_CTLACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
38180 0000847C 6A01               658 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
38181                             659 I1  
38182                             660 I1  
38183                             661 I1  
38184                             662 I1          PUSH_ALL                                                ;
38185                                 M           PUSH_REG1       R0      ;
38186 0000847E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
38187                                 M                                           ;REG=>[SP]
38188                                 M                                           ;"-4" FF,FF,FF,FC
38189                                 M           PUSH_REG1       R1      ;
38190 00008480 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
38191                                 M                                           ;REG=>[SP]
38192                                 M                                           ;"-4" FF,FF,FF,FC
38193                                 M           PUSH_REG1       R2      ;
38194 00008482 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38195                                 M                                           ;REG=>[SP]
38196                                 M                                           ;"-4" FF,FF,FF,FC
38197                                 M           PUSH_REG1       R3      ;
38198 00008484 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
38199                                 M                                           ;REG=>[SP]
38200                                 M                                           ;"-4" FF,FF,FF,FC
38201                                 M           PUSH_REG1       R4      ;
38202 00008486 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
38203                                 M                                           ;REG=>[SP]
38204                                 M                                           ;"-4" FF,FF,FF,FC
38205                                 M           PUSH_REG1       R5      ;
38206 00008488 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
38207                                 M                                           ;REG=>[SP]
38208                                 M                                           ;"-4" FF,FF,FF,FC
38209                                 M           PUSH_REG1       R6      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   576
PROGRAM NAME =

38210 0000848A 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38211                                 M                                           ;REG=>[SP]
38212                                 M                                           ;"-4" FF,FF,FF,FC
38213                                 M           PUSH_REG1       R7      ;
38214 0000848C 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38215                                 M                                           ;REG=>[SP]
38216                                 M                                           ;"-4" FF,FF,FF,FC
38217                                 M           PUSH_REG1       R8      ;
38218 0000848E 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
38219                                 M                                           ;REG=>[SP]
38220                                 M                                           ;"-4" FF,FF,FF,FC
38221                                 M           PUSH_REG1       R9      ;
38222 00008490 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
38223                                 M                                           ;REG=>[SP]
38224                                 M                                           ;"-4" FF,FF,FF,FC
38225                                 M           PUSH_REG1       R10     ;
38226 00008492 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38227                                 M                                           ;REG=>[SP]
38228                                 M                                           ;"-4" FF,FF,FF,FC
38229                                 M           PUSH_REG1       R11     ;
38230 00008494 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38231                                 M                                           ;REG=>[SP]
38232                                 M                                           ;"-4" FF,FF,FF,FC
38233                                 M           PUSH_REG1       R12     ;
38234 00008496 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38235                                 M                                           ;REG=>[SP]
38236                                 M                                           ;"-4" FF,FF,FF,FC
38237                                 M           PUSH_REG1       R13     ;
38238 00008498 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
38239                                 M                                           ;REG=>[SP]
38240                                 M                                           ;"-4" FF,FF,FF,FC
38241                                 M           PUSH_REG1       R14     ;
38242 0000849A 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
38243                                 M                                           ;REG=>[SP]
38244                                 M                                           ;"-4" FF,FF,FF,FC
38245                                 M           PUSH_MACHL              ;
38246 0000849C 4F02                   M           STS.L   MACH,@-R15
38247 0000849E 4F12                   M           STS.L   MACL,@-R15
38248                                 M           PUSH_SYS_REG    GBR     ;
38249 000084A0 4F13                   M           STC.L   GBR,@-R15
38250                                 M           .AIF    2 EQ 3
38251                                             .AELSE
38252                                 C           PUSH_FPU_ALL            ;2001-07-08
38253                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
38254 000084A2 4F52                   M           STS.L   FPUL,@-R15
38255 000084A4 4F62                   M           STS.L   FPSCR,@-R15
38256                                 M                   PUSH_FPU_REG1 FR0       ;
38257 000084A6 FF0B                   M           FMOV.S  FR0,@-R15
38258                                 M                   PUSH_FPU_REG1 FR1       ;
38259 000084A8 FF1B                   M           FMOV.S  FR1,@-R15
38260                                 M                   PUSH_FPU_REG1 FR2       ;
38261 000084AA FF2B                   M           FMOV.S  FR2,@-R15
38262                                 M                   PUSH_FPU_REG1 FR3       ;
38263 000084AC FF3B                   M           FMOV.S  FR3,@-R15
38264                                 M                   PUSH_FPU_REG1 FR4       ;
38265 000084AE FF4B                   M           FMOV.S  FR4,@-R15
38266                                 M           .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   577
PROGRAM NAME =

38267                             663 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;X%(OLD)->Y%(NEW:ﾀｰｹﾞｯﾄ作
                                          成)ANS R13,R14
38268 000084B0 D032                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38269 000084B2 400B                   M           JSR     @R0                     ;
38270 000084B4 0009                   M           NOP                                     ;
38271                             664 I1          POP_ALL                                                 ;
38272                                 M           .AIF    2 EQ 3
38273                                             .AELSE
38274                                 C           POP_FPU_ALL             ;2001-07-08
38275                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
38276 000084B6 F4F9                   M           FMOV.S  @R15+,FR4
38277                                 M                   POP_FPU_REG1 FR3        ;
38278 000084B8 F3F9                   M           FMOV.S  @R15+,FR3
38279                                 M                   POP_FPU_REG1 FR2        ;
38280 000084BA F2F9                   M           FMOV.S  @R15+,FR2
38281                                 M                   POP_FPU_REG1 FR1        ;
38282 000084BC F1F9                   M           FMOV.S  @R15+,FR1
38283                                 M                   POP_FPU_REG1 FR0        ;
38284 000084BE F0F9                   M           FMOV.S  @R15+,FR0
38285                                 M                   POP_SYS_FPU             ;
38286 000084C0 4F66                   M           LDS.L   @R15+,FPSCR
38287 000084C2 4F56                   M           LDS.L   @R15+,FPUL
38288                                 M           .AENDI
38289                                 M           POP_SYS_REG     GBR     ;
38290 000084C4 4F17                   M           LDC.L   @R15+,GBR
38291                                 M           POP_MACHL               ;
38292 000084C6 4F16                   M           LDS.L   @R15+,MACL
38293 000084C8 4F06                   M           LDS.L   @R15+,MACH
38294                                 M           POP_REG1        R14     ;
38295                                 M                                   ; RE"+4" 00,00,00,04
38296 000084CA 6EF6                   M           MOV.L   @R15+,R14        ;
38297                                 M           POP_REG1        R13     ;
38298                                 M                                   ; RE"+4" 00,00,00,04
38299 000084CC 6DF6                   M           MOV.L   @R15+,R13        ;
38300                                 M           POP_REG1        R12     ;
38301                                 M                                   ; RE"+4" 00,00,00,04
38302 000084CE 6CF6                   M           MOV.L   @R15+,R12        ;
38303                                 M           POP_REG1        R11     ;
38304                                 M                                   ; RE"+4" 00,00,00,04
38305 000084D0 6BF6                   M           MOV.L   @R15+,R11        ;
38306                                 M           POP_REG1        R10     ;
38307                                 M                                   ; RE"+4" 00,00,00,04
38308 000084D2 6AF6                   M           MOV.L   @R15+,R10        ;
38309                                 M           POP_REG1        R9      ;
38310                                 M                                   ; RE"+4" 00,00,00,04
38311 000084D4 69F6                   M           MOV.L   @R15+,R9        ;
38312                                 M           POP_REG1        R8      ;
38313                                 M                                   ; RE"+4" 00,00,00,04
38314 000084D6 68F6                   M           MOV.L   @R15+,R8        ;
38315                                 M           POP_REG1        R7      ;
38316                                 M                                   ; RE"+4" 00,00,00,04
38317 000084D8 67F6                   M           MOV.L   @R15+,R7        ;
38318                                 M           POP_REG1        R6      ;
38319                                 M                                   ; RE"+4" 00,00,00,04
38320 000084DA 66F6                   M           MOV.L   @R15+,R6        ;
38321                                 M           POP_REG1        R5      ;
38322                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   578
PROGRAM NAME =

38323 000084DC 65F6                   M           MOV.L   @R15+,R5        ;
38324                                 M           POP_REG1        R4      ;
38325                                 M                                   ; RE"+4" 00,00,00,04
38326 000084DE 64F6                   M           MOV.L   @R15+,R4        ;
38327                                 M           POP_REG1        R3      ;
38328                                 M                                   ; RE"+4" 00,00,00,04
38329 000084E0 63F6                   M           MOV.L   @R15+,R3        ;
38330                                 M           POP_REG1        R2      ;
38331                                 M                                   ; RE"+4" 00,00,00,04
38332 000084E2 62F6                   M           MOV.L   @R15+,R2        ;
38333                                 M           POP_REG1        R1      ;
38334                                 M                                   ; RE"+4" 00,00,00,04
38335 000084E4 61F6                   M           MOV.L   @R15+,R1        ;
38336                                 M           POP_REG1        R0      ;
38337                                 M                                   ; RE"+4" 00,00,00,04
38338 000084E6 60F6                   M           MOV.L   @R15+,R0        ;
38339                             665 I1  
38340                             666 I1  
38341                             667 I1  ;       -----------------(停止演算 0->設定% 速度)--------
38342 000084E8 288A               668 I1          XOR     R8,R8                                           ;0(R8)--設定(R9)
38343 000084EA C608               669 I1          MOV.L   @(AFM_OLD_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
38344 000084EC 6503               670 I1          MOV     R0,R5                                           ;(暴走対策/ありえない)
38345 000084EE C60A               671 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
38346 000084F0 6D03               672 I1          MOV     R0,R13                                          ;
38347 000084F2 C60B               673 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0          ;
38348 000084F4 6E03               674 I1          MOV     R0,R14                                          ;
38349                             675 I1  
38350 000084F6 C609               676 I1          MOV.L   @(AFM_OLD_STPACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
38351 000084F8 6A01               677 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
38352                             678 I1  
38353                             679 I1          PUSH_ALL                                                ;
38354                                 M           PUSH_REG1       R0      ;
38355 000084FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
38356                                 M                                           ;REG=>[SP]
38357                                 M                                           ;"-4" FF,FF,FF,FC
38358                                 M           PUSH_REG1       R1      ;
38359 000084FC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
38360                                 M                                           ;REG=>[SP]
38361                                 M                                           ;"-4" FF,FF,FF,FC
38362                                 M           PUSH_REG1       R2      ;
38363 000084FE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38364                                 M                                           ;REG=>[SP]
38365                                 M                                           ;"-4" FF,FF,FF,FC
38366                                 M           PUSH_REG1       R3      ;
38367 00008500 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
38368                                 M                                           ;REG=>[SP]
38369                                 M                                           ;"-4" FF,FF,FF,FC
38370                                 M           PUSH_REG1       R4      ;
38371 00008502 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
38372                                 M                                           ;REG=>[SP]
38373                                 M                                           ;"-4" FF,FF,FF,FC
38374                                 M           PUSH_REG1       R5      ;
38375 00008504 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
38376                                 M                                           ;REG=>[SP]
38377                                 M                                           ;"-4" FF,FF,FF,FC
38378                                 M           PUSH_REG1       R6      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   579
PROGRAM NAME =

38379 00008506 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38380                                 M                                           ;REG=>[SP]
38381                                 M                                           ;"-4" FF,FF,FF,FC
38382                                 M           PUSH_REG1       R7      ;
38383 00008508 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38384                                 M                                           ;REG=>[SP]
38385                                 M                                           ;"-4" FF,FF,FF,FC
38386                                 M           PUSH_REG1       R8      ;
38387 0000850A 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
38388                                 M                                           ;REG=>[SP]
38389                                 M                                           ;"-4" FF,FF,FF,FC
38390                                 M           PUSH_REG1       R9      ;
38391 0000850C 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
38392                                 M                                           ;REG=>[SP]
38393                                 M                                           ;"-4" FF,FF,FF,FC
38394                                 M           PUSH_REG1       R10     ;
38395 0000850E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38396                                 M                                           ;REG=>[SP]
38397                                 M                                           ;"-4" FF,FF,FF,FC
38398                                 M           PUSH_REG1       R11     ;
38399 00008510 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38400                                 M                                           ;REG=>[SP]
38401                                 M                                           ;"-4" FF,FF,FF,FC
38402                                 M           PUSH_REG1       R12     ;
38403 00008512 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38404                                 M                                           ;REG=>[SP]
38405                                 M                                           ;"-4" FF,FF,FF,FC
38406                                 M           PUSH_REG1       R13     ;
38407 00008514 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
38408                                 M                                           ;REG=>[SP]
38409                                 M                                           ;"-4" FF,FF,FF,FC
38410                                 M           PUSH_REG1       R14     ;
38411 00008516 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
38412                                 M                                           ;REG=>[SP]
38413                                 M                                           ;"-4" FF,FF,FF,FC
38414                                 M           PUSH_MACHL              ;
38415 00008518 4F02                   M           STS.L   MACH,@-R15
38416 0000851A 4F12                   M           STS.L   MACL,@-R15
38417                                 M           PUSH_SYS_REG    GBR     ;
38418 0000851C 4F13                   M           STC.L   GBR,@-R15
38419                                 M           .AIF    2 EQ 3
38420                                             .AELSE
38421                                 C           PUSH_FPU_ALL            ;2001-07-08
38422                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
38423 0000851E 4F52                   M           STS.L   FPUL,@-R15
38424 00008520 4F62                   M           STS.L   FPSCR,@-R15
38425                                 M                   PUSH_FPU_REG1 FR0       ;
38426 00008522 FF0B                   M           FMOV.S  FR0,@-R15
38427                                 M                   PUSH_FPU_REG1 FR1       ;
38428 00008524 FF1B                   M           FMOV.S  FR1,@-R15
38429                                 M                   PUSH_FPU_REG1 FR2       ;
38430 00008526 FF2B                   M           FMOV.S  FR2,@-R15
38431                                 M                   PUSH_FPU_REG1 FR3       ;
38432 00008528 FF3B                   M           FMOV.S  FR3,@-R15
38433                                 M                   PUSH_FPU_REG1 FR4       ;
38434 0000852A FF4B                   M           FMOV.S  FR4,@-R15
38435                                 M           .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   580
PROGRAM NAME =

38436                             680 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;0%->Y%(NEW:ﾀｰｹﾞｯﾄ作成)ANS
                                           R13,R14
38437 0000852C D013                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38438 0000852E 400B                   M           JSR     @R0                     ;
38439 00008530 0009                   M           NOP                                     ;
38440                             681 I1          POP_ALL                                                 ;
38441                                 M           .AIF    2 EQ 3
38442                                             .AELSE
38443                                 C           POP_FPU_ALL             ;2001-07-08
38444                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
38445 00008532 F4F9                   M           FMOV.S  @R15+,FR4
38446                                 M                   POP_FPU_REG1 FR3        ;
38447 00008534 F3F9                   M           FMOV.S  @R15+,FR3
38448                                 M                   POP_FPU_REG1 FR2        ;
38449 00008536 F2F9                   M           FMOV.S  @R15+,FR2
38450                                 M                   POP_FPU_REG1 FR1        ;
38451 00008538 F1F9                   M           FMOV.S  @R15+,FR1
38452                                 M                   POP_FPU_REG1 FR0        ;
38453 0000853A F0F9                   M           FMOV.S  @R15+,FR0
38454                                 M                   POP_SYS_FPU             ;
38455 0000853C 4F66                   M           LDS.L   @R15+,FPSCR
38456 0000853E 4F56                   M           LDS.L   @R15+,FPUL
38457                                 M           .AENDI
38458                                 M           POP_SYS_REG     GBR     ;
38459 00008540 4F17                   M           LDC.L   @R15+,GBR
38460                                 M           POP_MACHL               ;
38461 00008542 4F16                   M           LDS.L   @R15+,MACL
38462 00008544 4F06                   M           LDS.L   @R15+,MACH
38463                                 M           POP_REG1        R14     ;
38464                                 M                                   ; RE"+4" 00,00,00,04
38465 00008546 6EF6                   M           MOV.L   @R15+,R14        ;
38466                                 M           POP_REG1        R13     ;
38467                                 M                                   ; RE"+4" 00,00,00,04
38468 00008548 6DF6                   M           MOV.L   @R15+,R13        ;
38469                                 M           POP_REG1        R12     ;
38470                                 M                                   ; RE"+4" 00,00,00,04
38471 0000854A 6CF6                   M           MOV.L   @R15+,R12        ;
38472                                 M           POP_REG1        R11     ;
38473                                 M                                   ; RE"+4" 00,00,00,04
38474 0000854C 6BF6                   M           MOV.L   @R15+,R11        ;
38475                                 M           POP_REG1        R10     ;
38476                                 M                                   ; RE"+4" 00,00,00,04
38477 0000854E 6AF6                   M           MOV.L   @R15+,R10        ;
38478                                 M           POP_REG1        R9      ;
38479                                 M                                   ; RE"+4" 00,00,00,04
38480 00008550 69F6                   M           MOV.L   @R15+,R9        ;
38481                                 M           POP_REG1        R8      ;
38482                                 M                                   ; RE"+4" 00,00,00,04
38483 00008552 68F6                   M           MOV.L   @R15+,R8        ;
38484                                 M           POP_REG1        R7      ;
38485                                 M                                   ; RE"+4" 00,00,00,04
38486 00008554 67F6                   M           MOV.L   @R15+,R7        ;
38487                                 M           POP_REG1        R6      ;
38488                                 M                                   ; RE"+4" 00,00,00,04
38489 00008556 66F6                   M           MOV.L   @R15+,R6        ;
38490                                 M           POP_REG1        R5      ;
38491                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   581
PROGRAM NAME =

38492 00008558 65F6                   M           MOV.L   @R15+,R5        ;
38493                                 M           POP_REG1        R4      ;
38494                                 M                                   ; RE"+4" 00,00,00,04
38495 0000855A 64F6                   M           MOV.L   @R15+,R4        ;
38496                                 M           POP_REG1        R3      ;
38497                                 M                                   ; RE"+4" 00,00,00,04
38498 0000855C 63F6                   M           MOV.L   @R15+,R3        ;
38499                                 M           POP_REG1        R2      ;
38500                                 M                                   ; RE"+4" 00,00,00,04
38501 0000855E 62F6                   M           MOV.L   @R15+,R2        ;
38502                                 M           POP_REG1        R1      ;
38503                                 M                                   ; RE"+4" 00,00,00,04
38504 00008560 61F6                   M           MOV.L   @R15+,R1        ;
38505                                 M           POP_REG1        R0      ;
38506                                 M                                   ; RE"+4" 00,00,00,04
38507 00008562 60F6                   M           MOV.L   @R15+,R0        ;
38508                             682 I1  
38509                             683 I1  
38510                             684 I1  ;       ---------------(停止演算 0->設定% pls)--------
38511                             685 I1  ;       -------------- (速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)-----------
38512 00008564 D106               686 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
38513 00008566 6612               687 I1          MOV.L   @R1,R6                                          ;
38514 00008568 C60C               688 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0          ;
38515 0000856A 6A03               689 I1          MOV     R0,R10                                          ;
38516                             690 I1                                                                  ;
38517                             691 I1                                                                  ;R6=MAX pls/s
38518                             692 I1                                                                  ;R13=_ACC_****_STPVTBL(ﾃﾞｰ
                                          ﾀ元)
38519                             693 I1                                                                  ;R14=_ACC_****_ACTM(LOOP個
                                          数)
38520                             694 I1                                                                  ;R10=_ACC_****_STPPTBL ANS
38521                             695 I1          FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
38522 0000856C D005                   M           MOV.L   #_ACC_TBL_MAKPLS1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38523 0000856E 400B                   M           JSR     @R0                     ;
38524 00008570 0009                   M           NOP                                     ;
38525                             696 I1  
38526                             697 I1          SUB_END
38527                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38528 00008572 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38529                             698 I1          M_RTS
38530 00008574 000B                   M           RTS                             ;RTSの後ろの
38531 00008576 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38532                             699 I1  
38533                             700 I1  
38534                             701 I1  
38535                             702 I1  
38536                                 I1  ***** BEGIN-POOL *****
38537 00008578 00000000               I1  DATA FOR SOURCE-LINE 642
38538 0000857C 00000000               I1  DATA FOR SOURCE-LINE 663,680
38539 00008580 00000000               I1  DATA FOR SOURCE-LINE 686
38540 00008584 00000000               I1  DATA FOR SOURCE-LINE 695
38541                                 I1  ***** END-POOL *****
38542 00008588                    703 I1          .ALIGN  4                                       ;
38543 00008588                    704 I1  _ACC_TBL_CAL_IN_TOP
38544 00008588 00000000           705 I1          .DATA.L _ACC_STEP01_TBL_TOP
38545 0000858C 00000000           706 I1          .DATA.L _ACC_STEP02_TBL_TOP
38546 00008590 00000000           707 I1          .DATA.L _ACC_STEP03_TBL_TOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   582
PROGRAM NAME =

38547 00008594 00000000           708 I1          .DATA.L _ACC_STEP04_TBL_TOP
38548 00008598 00000000           709 I1          .DATA.L _ACC_STEP05_TBL_TOP
38549 0000859C 00000000           710 I1          .DATA.L _ACC_STEP06_TBL_TOP
38550 000085A0 00000000           711 I1          .DATA.L _ACC_STEP07_TBL_TOP
38551 000085A4 00000000           712 I1          .DATA.L _ACC_STEP08_TBL_TOP
38552 000085A8 00000000           713 I1          .DATA.L _ACC_STEP09_TBL_TOP
38553 000085AC 00000000           714 I1          .DATA.L _ACC_STEP10_TBL_TOP
38554 000085B0 00000000           715 I1          .DATA.L _ACC_STEP11_TBL_TOP
38555                             716 I1  
38556                             717 I1  
38557                             718 I1  
38558 000085B4                    719 I1          .ALIGN  4                                       ;
38559 000085B4                    720 I1  _ACC_STEP01_TBL_TOP
38560 000085B4                    721 I1  ACC_FORM_TOP
38561 000085B4 00000000           722 I1  AFM_SRC_TBL_TOP         .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38562 000085B8 00000000           723 I1  AFM_SRC_TBL_MEM         .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38563 000085BC 00000000           724 I1  AFM_STEP_INF_SPD        .DATA.L         _ACC_INF1_STEPSP01      ;[03]000%[前状態],050%[設
                                          定]
38564 000085C0 00000000           725 I1  AFM_STEP_INF_FLG        .DATA.L         _ACC_INF1_STEP001       ;[04]//BIT2=[加速:0/減速:1
                                          ] BIT1=[]   BIT0=0(停止) =1(連続)
38565 000085C4 00000000           726 I1  AFM_OLD_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速
                                          度)1段では使用しない
38566 000085C8 00000000           727 I1  AFM_OLD_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速
                                          度)1段では使用しない
38567 000085CC 00000000           728 I1  AFM_DST_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[07]
38568 000085D0 00000000           729 I1  AFM_DST_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[08]
38569 000085D4 00000000           730 I1  AFM_OLD_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速
                                          度)1段では使用しない
38570 000085D8 00000000           731 I1  AFM_OLD_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速
                                          度)1段では使用しない
38571 000085DC 00000000           732 I1  AFM_DST_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[11]
38572 000085E0 00000000           733 I1  AFM_DST_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[12]
38573 000085E4 00000000           734 I1  AFM_DST_STPPTBL         .DATA.L         _ACC_STOP001_PTBL       ;[13]
38574                             735 I1  
38575                             736 I1  
38576                             737 I1  
38577 000085E8                    738 I1  _ACC_STEP02_TBL_TOP
38578 000085E8 00000000           739 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38579 000085EC 00000000           740 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38580 000085F0 00000000           741 I1          .DATA.L         _ACC_INF1_STEPSP02      ;[03]000%[前状態],050%[設定]
38581 000085F4 00000000           742 I1          .DATA.L         _ACC_INF1_STEP002       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38582 000085F8 00000000           743 I1          .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速度)
38583 000085FC 00000000           744 I1          .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速度)
38584 00008600 00000000           745 I1          .DATA.L         _ACC_STEP002_VTBL       ;[07]
38585 00008604 00000000           746 I1          .DATA.L         _ACC_STEP002_ACTM       ;[08]
38586 00008608 00000000           747 I1          .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速度)
38587 0000860C 00000000           748 I1          .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速度)
38588 00008610 00000000           749 I1          .DATA.L         _ACC_STOP002_VTBL       ;[11]
38589 00008614 00000000           750 I1          .DATA.L         _ACC_STOP002_ACTM       ;[12]
38590 00008618 00000000           751 I1          .DATA.L         _ACC_STOP002_PTBL       ;[13]
38591                             752 I1  
38592 0000861C                    753 I1  _ACC_STEP03_TBL_TOP
38593 0000861C 00000000           754 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38594 00008620 00000000           755 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38595 00008624 00000000           756 I1          .DATA.L         _ACC_INF1_STEPSP03      ;[03]000%[前状態],050%[設定]
38596 00008628 00000000           757 I1          .DATA.L         _ACC_INF1_STEP003       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   583
PROGRAM NAME =

                                          =0(停止) =1(連続)
38597 0000862C 00000000           758 I1          .DATA.L         _ACC_STEP002_VTBL       ;[05]
38598 00008630 00000000           759 I1          .DATA.L         _ACC_STEP002_ACTM       ;[06]
38599 00008634 00000000           760 I1          .DATA.L         _ACC_STEP003_VTBL       ;[07]
38600 00008638 00000000           761 I1          .DATA.L         _ACC_STEP003_ACTM       ;[08]
38601 0000863C 00000000           762 I1          .DATA.L         _ACC_STOP002_VTBL       ;[09]
38602 00008640 00000000           763 I1          .DATA.L         _ACC_STOP002_ACTM       ;[10]
38603 00008644 00000000           764 I1          .DATA.L         _ACC_STOP003_VTBL       ;[11]
38604 00008648 00000000           765 I1          .DATA.L         _ACC_STOP003_ACTM       ;[12]
38605 0000864C 00000000           766 I1          .DATA.L         _ACC_STOP003_PTBL       ;[13]
38606                             767 I1  
38607 00008650                    768 I1  _ACC_STEP04_TBL_TOP
38608 00008650 00000000           769 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38609 00008654 00000000           770 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38610 00008658 00000000           771 I1          .DATA.L         _ACC_INF1_STEPSP04      ;[03]000%[前状態],050%[設定]
38611 0000865C 00000000           772 I1          .DATA.L         _ACC_INF1_STEP004       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38612 00008660 00000000           773 I1          .DATA.L         _ACC_STEP003_VTBL       ;[05](STEP1では使用しない)
38613 00008664 00000000           774 I1          .DATA.L         _ACC_STEP003_ACTM       ;[06]
38614 00008668 00000000           775 I1          .DATA.L         _ACC_STEP004_VTBL       ;[07]
38615 0000866C 00000000           776 I1          .DATA.L         _ACC_STEP004_ACTM       ;[08]
38616 00008670 00000000           777 I1          .DATA.L         _ACC_STOP003_VTBL       ;[09]
38617 00008674 00000000           778 I1          .DATA.L         _ACC_STOP003_ACTM       ;[10]
38618 00008678 00000000           779 I1          .DATA.L         _ACC_STOP004_VTBL       ;[11]
38619 0000867C 00000000           780 I1          .DATA.L         _ACC_STOP004_ACTM       ;[12]
38620 00008680 00000000           781 I1          .DATA.L         _ACC_STOP004_PTBL       ;[13]
38621                             782 I1  
38622                             783 I1  
38623 00008684                    784 I1  _ACC_STEP05_TBL_TOP
38624 00008684 00000000           785 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38625 00008688 00000000           786 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38626 0000868C 00000000           787 I1          .DATA.L         _ACC_INF1_STEPSP05      ;[03]000%[前状態],050%[設定]
38627 00008690 00000000           788 I1          .DATA.L         _ACC_INF1_STEP005       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38628 00008694 00000000           789 I1          .DATA.L         _ACC_STEP004_VTBL       ;[05](STEP1では使用しない)
38629 00008698 00000000           790 I1          .DATA.L         _ACC_STEP004_ACTM       ;[06]
38630 0000869C 00000000           791 I1          .DATA.L         _ACC_STEP005_VTBL       ;[07]
38631 000086A0 00000000           792 I1          .DATA.L         _ACC_STEP005_ACTM       ;[08]
38632 000086A4 00000000           793 I1          .DATA.L         _ACC_STOP004_VTBL       ;[09]
38633 000086A8 00000000           794 I1          .DATA.L         _ACC_STOP004_ACTM       ;[10]
38634 000086AC 00000000           795 I1          .DATA.L         _ACC_STOP005_VTBL       ;[11]
38635 000086B0 00000000           796 I1          .DATA.L         _ACC_STOP005_ACTM       ;[12]
38636 000086B4 00000000           797 I1          .DATA.L         _ACC_STOP005_PTBL       ;[13]
38637                             798 I1  
38638 000086B8                    799 I1  _ACC_STEP06_TBL_TOP
38639 000086B8 00000000           800 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38640 000086BC 00000000           801 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38641 000086C0 00000000           802 I1          .DATA.L         _ACC_INF1_STEPSP06      ;[03]000%[前状態],050%[設定]
38642 000086C4 00000000           803 I1          .DATA.L         _ACC_INF1_STEP006       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38643 000086C8 00000000           804 I1          .DATA.L         _ACC_STEP005_VTBL       ;[05](STEP1では使用しない)
38644 000086CC 00000000           805 I1          .DATA.L         _ACC_STEP005_ACTM       ;[06]
38645 000086D0 00000000           806 I1          .DATA.L         _ACC_STEP006_VTBL       ;[07]
38646 000086D4 00000000           807 I1          .DATA.L         _ACC_STEP006_ACTM       ;[08]
38647 000086D8 00000000           808 I1          .DATA.L         _ACC_STOP005_VTBL       ;[09]
38648 000086DC 00000000           809 I1          .DATA.L         _ACC_STOP005_ACTM       ;[10]
38649 000086E0 00000000           810 I1          .DATA.L         _ACC_STOP006_VTBL       ;[11]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   584
PROGRAM NAME =

38650 000086E4 00000000           811 I1          .DATA.L         _ACC_STOP006_ACTM       ;[12]
38651 000086E8 00000000           812 I1          .DATA.L         _ACC_STOP006_PTBL       ;[13]
38652                             813 I1  
38653 000086EC                    814 I1  _ACC_STEP07_TBL_TOP
38654 000086EC 00000000           815 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38655 000086F0 00000000           816 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38656 000086F4 00000000           817 I1          .DATA.L         _ACC_INF1_STEPSP07      ;[03]000%[前状態],050%[設定]
38657 000086F8 00000000           818 I1          .DATA.L         _ACC_INF1_STEP007       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38658 000086FC 00000000           819 I1          .DATA.L         _ACC_STEP006_VTBL       ;[05](STEP1では使用しない)
38659 00008700 00000000           820 I1          .DATA.L         _ACC_STEP006_ACTM       ;[06]
38660 00008704 00000000           821 I1          .DATA.L         _ACC_STEP007_VTBL       ;[07]
38661 00008708 00000000           822 I1          .DATA.L         _ACC_STEP007_ACTM       ;[08]
38662 0000870C 00000000           823 I1          .DATA.L         _ACC_STOP006_VTBL       ;[09]
38663 00008710 00000000           824 I1          .DATA.L         _ACC_STOP006_ACTM       ;[10]
38664 00008714 00000000           825 I1          .DATA.L         _ACC_STOP007_VTBL       ;[11]
38665 00008718 00000000           826 I1          .DATA.L         _ACC_STOP007_ACTM       ;[12]
38666 0000871C 00000000           827 I1          .DATA.L         _ACC_STOP007_PTBL       ;[13]
38667                             828 I1  
38668 00008720                    829 I1  _ACC_STEP08_TBL_TOP
38669 00008720 00000000           830 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38670 00008724 00000000           831 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38671 00008728 00000000           832 I1          .DATA.L         _ACC_INF1_STEPSP08      ;[03]000%[前状態],050%[設定]
38672 0000872C 00000000           833 I1          .DATA.L         _ACC_INF1_STEP008       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38673 00008730 00000000           834 I1          .DATA.L         _ACC_STEP007_VTBL       ;[05](STEP1では使用しない)
38674 00008734 00000000           835 I1          .DATA.L         _ACC_STEP007_ACTM       ;[06]
38675 00008738 00000000           836 I1          .DATA.L         _ACC_STEP008_VTBL       ;[07]
38676 0000873C 00000000           837 I1          .DATA.L         _ACC_STEP008_ACTM       ;[08]
38677 00008740 00000000           838 I1          .DATA.L         _ACC_STOP007_VTBL       ;[09]
38678 00008744 00000000           839 I1          .DATA.L         _ACC_STOP007_ACTM       ;[10]
38679 00008748 00000000           840 I1          .DATA.L         _ACC_STOP008_VTBL       ;[11]
38680 0000874C 00000000           841 I1          .DATA.L         _ACC_STOP008_ACTM       ;[12]
38681 00008750 00000000           842 I1          .DATA.L         _ACC_STOP008_PTBL       ;[13]
38682                             843 I1  
38683 00008754                    844 I1  _ACC_STEP09_TBL_TOP
38684 00008754 00000000           845 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38685 00008758 00000000           846 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38686 0000875C 00000000           847 I1          .DATA.L         _ACC_INF1_STEPSP09      ;[03]000%[前状態],050%[設定]
38687 00008760 00000000           848 I1          .DATA.L         _ACC_INF1_STEP009       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38688 00008764 00000000           849 I1          .DATA.L         _ACC_STEP008_VTBL       ;[05](STEP1では使用しない)
38689 00008768 00000000           850 I1          .DATA.L         _ACC_STEP008_ACTM       ;[06]
38690 0000876C 00000000           851 I1          .DATA.L         _ACC_STEP009_VTBL       ;[07]
38691 00008770 00000000           852 I1          .DATA.L         _ACC_STEP009_ACTM       ;[08]
38692 00008774 00000000           853 I1          .DATA.L         _ACC_STOP008_VTBL       ;[09]
38693 00008778 00000000           854 I1          .DATA.L         _ACC_STOP008_ACTM       ;[10]
38694 0000877C 00000000           855 I1          .DATA.L         _ACC_STOP009_VTBL       ;[11]
38695 00008780 00000000           856 I1          .DATA.L         _ACC_STOP009_ACTM       ;[12]
38696 00008784 00000000           857 I1          .DATA.L         _ACC_STOP009_PTBL       ;[13]
38697                             858 I1  
38698 00008788                    859 I1  _ACC_STEP10_TBL_TOP
38699 00008788 00000000           860 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38700 0000878C 00000000           861 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38701 00008790 00000000           862 I1          .DATA.L         _ACC_INF1_STEPSP10      ;[03]000%[前状態],050%[設定]
38702 00008794 00000000           863 I1          .DATA.L         _ACC_INF1_STEP010       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   585
PROGRAM NAME =

38703 00008798 00000000           864 I1          .DATA.L         _ACC_STEP009_VTBL       ;[05](STEP1では使用しない)
38704 0000879C 00000000           865 I1          .DATA.L         _ACC_STEP009_ACTM       ;[06]
38705 000087A0 00000000           866 I1          .DATA.L         _ACC_STEP010_VTBL       ;[07]
38706 000087A4 00000000           867 I1          .DATA.L         _ACC_STEP010_ACTM       ;[08]
38707 000087A8 00000000           868 I1          .DATA.L         _ACC_STOP009_VTBL       ;[09]
38708 000087AC 00000000           869 I1          .DATA.L         _ACC_STOP009_ACTM       ;[10]
38709 000087B0 00000000           870 I1          .DATA.L         _ACC_STOP010_VTBL       ;[11]
38710 000087B4 00000000           871 I1          .DATA.L         _ACC_STOP010_ACTM       ;[12]
38711 000087B8 00000000           872 I1          .DATA.L         _ACC_STOP010_PTBL       ;[13]
38712                             873 I1  
38713 000087BC                    874 I1  _ACC_STEP11_TBL_TOP
38714 000087BC 00000000           875 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
38715 000087C0 00000000           876 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
38716 000087C4 00000000           877 I1          .DATA.L         _ACC_INF1_STEPSP11      ;[03]000%[前状態],050%[設定]
38717 000087C8 00000000           878 I1          .DATA.L         _ACC_INF1_STEP011       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
38718 000087CC 00000000           879 I1          .DATA.L         _ACC_STEP010_VTBL       ;[05](STEP1では使用しない)
38719 000087D0 00000000           880 I1          .DATA.L         _ACC_STEP010_ACTM       ;[06]
38720 000087D4 00000000           881 I1          .DATA.L         _ACC_STEP011_VTBL       ;[07]
38721 000087D8 00000000           882 I1          .DATA.L         _ACC_STEP011_ACTM       ;[08]
38722 000087DC 00000000           883 I1          .DATA.L         _ACC_STOP010_VTBL       ;[09]
38723 000087E0 00000000           884 I1          .DATA.L         _ACC_STOP010_ACTM       ;[10]
38724 000087E4 00000000           885 I1          .DATA.L         _ACC_STOP011_VTBL       ;[11]
38725 000087E8 00000000           886 I1          .DATA.L         _ACC_STOP011_ACTM       ;[12]
38726 000087EC 00000000           887 I1          .DATA.L         _ACC_STOP011_PTBL       ;[13]
38727                             888 I1  
38728                             889 I1  
38729                             890 I1  
38730                             891 I1  
38731                             892 I1  
38732                             893 I1  
38733                             894 I1  
38734                             895 I1  
38735                             896 I1  
38736                             897 I1  
38737                             898 I1  ;       ***********************************************************
38738                             899 I1  ;       ***                                                     ***
38739                             900 I1  ;       ***     振り子加速度テーブル作成SUB1                    ***
38740                             901 I1  ;       ***                                                     ***
38741                             902 I1  ;       ***     速度のみを算出する                              ***
38742                             903 I1  ;       ***     ﾃﾞｰﾀ元ﾃｰﾌﾞﾙ→最大加速時間と速度の変化量から     ***
38743                             904 I1  ;       ***     加速時間と速度ﾃｰﾌﾞﾙを求める                     ***
38744                             905 I1  ;       ***     [完成済み]                                      ***
38745                             906 I1  ;       ***                                                     ***
38746                             907 I1  ;       ***********************************************************
38747                             908 I1  ;       input    R5:前段のOUTPUT-TABLE-TOP
38748                             909 I1  ;       Input   R11:BASE-TABLE-TOP         :ﾃｰﾌﾞﾙは1~1000または1~255まで使用する。
38749                             910 I1  ;       Input   R12:BASE-TABLE-時間 1000(ROM),255(ROM),設定(1~1000)加減速時間
38750                             911 I1  ;       Input   R13:OUTPUT-TABLE-TOP       :
38751                             912 I1  ;       Input   R14:OUTPUT-ACC時間　　　　 :加減速時間
38752                             913 I1  ;
38753                             914 I1  ;       Input   R7 :最大加減速時間
38754                             915 I1  ;       Input   R8:BASE  -SPD
38755                             916 I1  ;       Input   R9:TARGET-SPD  BASE=< TARGET SPD
38756                             917 I1  ;               (R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ)
38757                             918 I1  ;       Output ﾃｰﾌﾞﾙに速度を周波数で記述
38758                             919 I1  ;       [1ﾃｰﾌﾞﾙ作成前にWDTを叩く]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   586
PROGRAM NAME =

38759                             920 I1  ;
38760                             921 I1  ;       ・速度は0.01%で扱う
38761                             922 I1  ;
38762 000087F0                    923 I1  _ACC_TBL_MAKSPD1_SUB
38763                             924 I1          SUB_START
38764 000087F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
38765                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38766                             925 I1          _A_WDT_CLR                              ;
38767                                 M           PUSH_REG1 R10
38768 000087F2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38769                                 M                                           ;REG=>[SP]
38770                                 M                                           ;"-4" FF,FF,FF,FC
38771                                 M           PUSH_REG1 R11
38772 000087F4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38773                                 M                                           ;REG=>[SP]
38774                                 M                                           ;"-4" FF,FF,FF,FC
38775                                 M           PUSH_REG1 R12
38776 000087F6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38777                                 M                                           ;REG=>[SP]
38778                                 M                                           ;"-4" FF,FF,FF,FC
38779                                 M   
38780                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
38781 000087F8 0A02                   M           STC     SR,R10                  ;
38782 000087FA 9B21                   M           MOV.W   #H'000000F0,R11         ;
38783 000087FC 2ABB                   M           OR      R11,R10         ;INT15
38784 000087FE 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
38785 00008800 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
38786                                 M   
38787 00008802 DA11                   M           MOV.L   #_PDTRB,R10
38788 00008804 6BA1                   M           MOV.W   @R10,R11
38789 00008806 9C1C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
38790 00008808 2BC9                   M           AND     R12,R11                 ;
38791 0000880A 2AB1                   M           MOV.W   R11,@R10                ;
38792 0000880C 9C1A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
38793 0000880E 2BCB                   M           OR      R12,R11                 ;
38794 00008810 2AB1                   M           MOV.W   R11,@R10                ;
38795                                 M   
38796                                 M           EI_POP_SR_SHn                   ;
38797 00008812 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
38798                                 M   
38799                                 M           POP_REG1 R12
38800                                 M                                   ; RE"+4" 00,00,00,04
38801 00008814 6CF6                   M           MOV.L   @R15+,R12        ;
38802                                 M           POP_REG1 R11
38803                                 M                                   ; RE"+4" 00,00,00,04
38804 00008816 6BF6                   M           MOV.L   @R15+,R11        ;
38805                                 M           POP_REG1 R10
38806                                 M                                   ; RE"+4" 00,00,00,04
38807 00008818 6AF6                   M           MOV.L   @R15+,R10        ;
38808                             926 I1  
38809                             927 I1  
38810                             928 I1  
38811 0000881A 3987               929 I1          CMP/GT  R8,R9                           ;R8[前段]<R9[今回]
38812 0000881C 8902               930 I1          BT      ACC_TBLMKSPD1_SB100
38813 0000881E 6083               931 I1          MOV     R8,R0                           ;
38814 00008820 6893               932 I1          MOV     R9,R8                           ;
38815 00008822 6903               933 I1          MOV     R0,R9                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   587
PROGRAM NAME =

38816 00008824                    934 I1  ACC_TBLMKSPD1_SB100:                            ;
38817 00008824 3988               935 I1          SUB     R8,R9                           ;R9=R9-R8
38818 00008826 2998               936 I1          TST     R9,R9                           ;
38819                             937 I1          TST_BIT_ON ACC_TBLMKSPD1_SB200          ;
38820 00008828 8B10                   M           BF      ACC_TBLMKSPD1_SB200
38821                             938 I1  
38822                             939 I1  ;       ----速度が同じ場合、前段の速度データをＣＯＰＹする---
38823 0000882A 6373               940 I1          MOV     R7,R3                           ;最大時間1000
38824 0000882C 7301               941 I1          ADD     #1,R3                           ;ﾙｰﾌﾟ数は1001個ﾙｰﾌﾟ
38825 0000882E                    942 I1  ACC_TBLMKSPD1_SB150:                            ;
38826 0000882E 6055               943 I1          MOV.W   @R5+,R0                         ;前段ﾃｰﾌﾞﾙ速度
38827 00008830 2D01               944 I1          MOV.W   R0,@R13                         ;今回ﾃｰﾌﾞﾙ速度
38828 00008832 7D02               945 I1          ADD     #2,R13                          ;
38829 00008834 73FF               946 I1          ADD     #-1,R3                          ;
38830 00008836 2338               947 I1          TST     R3,R3                           ;(2013-05-15 COPY されていない)
38831                             948 I1          TST_BIT_ON ACC_TBLMKSPD1_SB150          ;
38832 00008838 8BF9                   M           BF      ACC_TBLMKSPD1_SB150
38833                             949 I1  
38834 0000883A 2EA1               950 I1          MOV.W   R10,@R14                        ;前段の加速時間を今回に使用
38835                             951 I1          M_BRA   ACC_TBLMKSPD1_SB900             ;
38836 0000883C A041                   M           BRA     ACC_TBLMKSPD1_SB900
38837 0000883E 0009                   M           NOP
38838                             952 I1  
38839                                 I1  ***** BEGIN-POOL *****
38840 00008840 00F0                   I1  DATA FOR SOURCE-LINE 925
38841 00008842 00FB                   I1  DATA FOR SOURCE-LINE 925
38842 00008844 0004                   I1  DATA FOR SOURCE-LINE 925
38843 00008846 0000                   I1  ALIGNMENT CODE
38844 00008848 00000000               I1  DATA FOR SOURCE-LINE 925
38845                                 I1  ***** END-POOL *****
38846 0000884C                    953 I1  ACC_TBLMKSPD1_SB200:                            ;
38847 0000884C 6273               954 I1          MOV     R7,R2                           ;最大時間
38848 0000884E 6193               955 I1          MOV     R9,R1                           ;変化率
38849 00008850 9431               956 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38850                             957 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
38851 00008852 D019                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38852 00008854 400B                   M           JSR     @R0                     ;
38853 00008856 0009                   M           NOP                                     ;
38854 00008858 6423               958 I1          MOV     R2,R4
38855                             959 I1  
38856 0000885A 2448               960 I1          TST     R4,R4                           ;
38857                             961 I1          TST_BIT_ON ACC_TBLMKSPD1_SB220          ;
38858 0000885C 8B00                   M           BF      ACC_TBLMKSPD1_SB220
38859 0000885E 7401               962 I1          ADD     #1,R4                           ;
38860 00008860                    963 I1  ACC_TBLMKSPD1_SB220:                            ;
38861 00008860 2E41               964 I1          MOV.W   R4,@R14                         ;時間
38862                             965 I1  
38863                             966 I1  ;       R8はオフセット速度
38864                             967 I1  ;       R9は変化率
38865                             968 I1  ;       @R14=R4=時間　+すればﾙｰﾌﾟ回数1
38866                             969 I1  
38867 00008862 6343               970 I1          MOV     R4,R3                           ;R4:減速時間
38868 00008864 7301               971 I1          ADD     #1,R3                           ;
38869                             972 I1  
38870 00008866 222A               973 I1          XOR     R2,R2                           ;Tx
38871                             974 I1  
38872 00008868                    975 I1  ACC_TBLMKSPD1_SB250LOP:                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   588
PROGRAM NAME =

38873 00008868 2338               976 I1          TST     R3,R3                           ;
38874                             977 I1          TST_BIT_OF ACC_TBLMKSPD1_SB500          ;
38875 0000886A 8929                   M           BT      ACC_TBLMKSPD1_SB500
38876                             978 I1          PUSH_REG1 R2
38877 0000886C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38878                                 M                                           ;REG=>[SP]
38879                                 M                                           ;"-4" FF,FF,FF,FC
38880                             979 I1  
38881                             980 I1  
38882 0000886E 61C3               981 I1          MOV     R12,R1                          ;R12 ﾃﾞｰﾀ元側MAX時間
38883                             982 I1  
38884                             983 I1          PUSH_REG1 R4                            ;R4 ﾃﾞｰﾀ格納側MAX時間
38885 00008870 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
38886                                 M                                           ;REG=>[SP]
38887                                 M                                           ;"-4" FF,FF,FF,FC
38888                             984 I1  ;R2*R1/R4 =data･･･MOD
38889 00008872 312D               985 I1          DMULS.L R2,R1                                           ;
38890 00008874 021A               986 I1          STS     MACL,R2                                         ;
38891                             987 I1          FAR_JSR #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0       ;R2...R1
38892 00008876 D011                   M           MOV.L   #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
38893 00008878 400B                   M           JSR     @R0                     ;
38894 0000887A 0009                   M           NOP                                     ;
38895                             988 I1  
38896 0000887C 65B3               989 I1          MOV     R11,R5                          ;ﾃﾞｰﾀ元側 TOP
38897 0000887E 352C               990 I1          ADD     R2,R5                           ;TOP+NUM*2byte
38898 00008880 352C               991 I1          ADD     R2,R5                           ;
38899 00008882 6655               992 I1          MOV.W   @R5+,R6                         ;Fn[]
38900                             993 I1  
38901 00008884 3C26               994 I1          CMP/HI  R2,R12                          ;
38902 00008886 8900               995 I1          BT      ACC_TBLMKSPD1_SB300             ;
38903 00008888 75FE               996 I1          ADD     #-2,R5                          ;
38904 0000888A                    997 I1  ACC_TBLMKSPD1_SB300:                            ;
38905 0000888A 6251               998 I1          MOV.W   @R5,R2                          ;Fn+1
38906 0000888C 3268               999 I1          SUB     R6,R2                           ;R2=(Fn+1 -Fn )
38907                            1000 I1          POP_REG1 R4                             ;
38908                                 M                                   ; RE"+4" 00,00,00,04
38909 0000888E 64F6                   M           MOV.L   @R15+,R4        ;
38910                            1001 I1  
38911                            1002 I1  
38912                            1003 I1          PUSH_REG1 R4                            ;
38913 00008890 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
38914                                 M                                           ;REG=>[SP]
38915                                 M                                           ;"-4" FF,FF,FF,FC
38916                            1004 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](Fn+1 -Fn ) * [R1]MOD/[R4]格納側Tmax
38917 00008892 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38918 00008894 400B                   M           JSR     @R0                     ;
38919 00008896 0009                   M           NOP                                     ;
38920 00008898 326C              1005 I1          ADD     R6,R2                           ;R2速度
38921                            1006 I1  
38922 0000889A 6193              1007 I1          MOV     R9,R1                           ;
38923 0000889C 940B              1008 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38924                            1009 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](速度) * [R1]変化率/[R4]100.00
38925 0000889E D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38926 000088A0 400B                   M           JSR     @R0                     ;
38927 000088A2 0009                   M           NOP                                     ;
38928                            1010 I1          POP_REG1 R4                             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   589
PROGRAM NAME =

38929                                 M                                   ; RE"+4" 00,00,00,04
38930 000088A4 64F6                   M           MOV.L   @R15+,R4        ;
38931                            1011 I1  
38932 000088A6 328C              1012 I1          ADD     R8,R2                           ;+ｵﾌｾｯﾄ
38933                            1013 I1  
38934 000088A8 2D21              1014 I1          MOV.W   R2,@R13                         ;速度SAVE
38935                            1015 I1  
38936                            1016 I1          POP_REG1 R2
38937                                 M                                   ; RE"+4" 00,00,00,04
38938 000088AA 62F6                   M           MOV.L   @R15+,R2        ;
38939 000088AC 7D02              1017 I1          ADD     #2,R13                          ;
38940 000088AE 73FF              1018 I1          ADD     #-1,R3                          ;
38941 000088B0 7201              1019 I1          ADD     #1,R2                           ;
38942                            1020 I1          M_BRA   ACC_TBLMKSPD1_SB250LOP          ;
38943 000088B2 AFD9                   M           BRA     ACC_TBLMKSPD1_SB250LOP
38944 000088B4 0009                   M           NOP
38945                            1021 I1  
38946                                 I1  ***** BEGIN-POOL *****
38947 000088B6 2710                   I1  DATA FOR SOURCE-LINE 956,1008
38948 000088B8 00000000               I1  DATA FOR SOURCE-LINE 957,1004,1009
38949 000088BC 00000000               I1  DATA FOR SOURCE-LINE 987
38950                                 I1  ***** END-POOL *****
38951 000088C0                   1022 I1  ACC_TBLMKSPD1_SB500:                            ;
38952 000088C0 0009              1023 I1          NOP                                     ;
38953                            1024 I1  
38954 000088C2                   1025 I1  ACC_TBLMKSPD1_SB900:                            ;
38955                            1026 I1          _A_WDT_CLR                              ;
38956                                 M           PUSH_REG1 R10
38957 000088C2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38958                                 M                                           ;REG=>[SP]
38959                                 M                                           ;"-4" FF,FF,FF,FC
38960                                 M           PUSH_REG1 R11
38961 000088C4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38962                                 M                                           ;REG=>[SP]
38963                                 M                                           ;"-4" FF,FF,FF,FC
38964                                 M           PUSH_REG1 R12
38965 000088C6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38966                                 M                                           ;REG=>[SP]
38967                                 M                                           ;"-4" FF,FF,FF,FC
38968                                 M   
38969                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
38970 000088C8 0A02                   M           STC     SR,R10                  ;
38971 000088CA 9B11                   M           MOV.W   #H'000000F0,R11         ;
38972 000088CC 2ABB                   M           OR      R11,R10         ;INT15
38973 000088CE 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
38974 000088D0 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
38975                                 M   
38976 000088D2 DA09                   M           MOV.L   #_PDTRB,R10
38977 000088D4 6BA1                   M           MOV.W   @R10,R11
38978 000088D6 9C0C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
38979 000088D8 2BC9                   M           AND     R12,R11                 ;
38980 000088DA 2AB1                   M           MOV.W   R11,@R10                ;
38981 000088DC 9C0A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
38982 000088DE 2BCB                   M           OR      R12,R11                 ;
38983 000088E0 2AB1                   M           MOV.W   R11,@R10                ;
38984                                 M   
38985                                 M           EI_POP_SR_SHn                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   590
PROGRAM NAME =

38986 000088E2 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
38987                                 M   
38988                                 M           POP_REG1 R12
38989                                 M                                   ; RE"+4" 00,00,00,04
38990 000088E4 6CF6                   M           MOV.L   @R15+,R12        ;
38991                                 M           POP_REG1 R11
38992                                 M                                   ; RE"+4" 00,00,00,04
38993 000088E6 6BF6                   M           MOV.L   @R15+,R11        ;
38994                                 M           POP_REG1 R10
38995                                 M                                   ; RE"+4" 00,00,00,04
38996 000088E8 6AF6                   M           MOV.L   @R15+,R10        ;
38997                            1027 I1          SUB_END
38998                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38999 000088EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39000                            1028 I1          M_RTS
39001 000088EC 000B                   M           RTS                             ;RTSの後ろの
39002 000088EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39003                            1029 I1  
39004                            1030 I1  ;       ***************************************************
39005                            1031 I1  ;       ***                                             ***
39006                            1032 I1  ;       ***     振り子加速度テーブル作成SUB1            ***
39007                            1033 I1  ;       ***                                             ***
39008                            1034 I1  ;       ***     速度テーブルをパルスに変換する          ***
39009                            1035 I1  ;       ***     [完成済み]                              ***
39010                            1036 I1  ;       ***************************************************
39011                            1037 I1  ;       Input   R6:最大周波数　PLS/Sec
39012                            1038 I1  ;       Input   R13:V-TABLE-TOP
39013                            1039 I1  ;       Input   R14:加減速時間-MEM WORD: ﾙｰﾌﾟ数は0番目を含むから+1回
39014                            1040 I1  ;       Input   R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ
39015                            1041 I1  ;
39016                                 I1  ***** BEGIN-POOL *****
39017 000088F0 00F0                   I1  DATA FOR SOURCE-LINE 1026
39018 000088F2 00FB                   I1  DATA FOR SOURCE-LINE 1026
39019 000088F4 0004                   I1  DATA FOR SOURCE-LINE 1026
39020 000088F6 0000                   I1  ALIGNMENT CODE
39021 000088F8 00000000               I1  DATA FOR SOURCE-LINE 1026
39022                                 I1  ***** END-POOL *****
39023 000088FC                   1042 I1  _ACC_TBL_MAKPLS1_SUB
39024                            1043 I1          SUB_START
39025 000088FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
39026                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39027                            1044 I1          _A_WDT_CLR                                      ;
39028                                 M           PUSH_REG1 R10
39029 000088FE 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39030                                 M                                           ;REG=>[SP]
39031                                 M                                           ;"-4" FF,FF,FF,FC
39032                                 M           PUSH_REG1 R11
39033 00008900 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39034                                 M                                           ;REG=>[SP]
39035                                 M                                           ;"-4" FF,FF,FF,FC
39036                                 M           PUSH_REG1 R12
39037 00008902 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39038                                 M                                           ;REG=>[SP]
39039                                 M                                           ;"-4" FF,FF,FF,FC
39040                                 M   
39041                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
39042 00008904 0A02                   M           STC     SR,R10                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   591
PROGRAM NAME =

39043 00008906 9B22                   M           MOV.W   #H'000000F0,R11         ;
39044 00008908 2ABB                   M           OR      R11,R10         ;INT15
39045 0000890A 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
39046 0000890C 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
39047                                 M   
39048 0000890E DA11                   M           MOV.L   #_PDTRB,R10
39049 00008910 6BA1                   M           MOV.W   @R10,R11
39050 00008912 9C1D                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
39051 00008914 2BC9                   M           AND     R12,R11                 ;
39052 00008916 2AB1                   M           MOV.W   R11,@R10                ;
39053 00008918 9C1B                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
39054 0000891A 2BCB                   M           OR      R12,R11                 ;
39055 0000891C 2AB1                   M           MOV.W   R11,@R10                ;
39056                                 M   
39057                                 M           EI_POP_SR_SHn                   ;
39058 0000891E 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
39059                                 M   
39060                                 M           POP_REG1 R12
39061                                 M                                   ; RE"+4" 00,00,00,04
39062 00008920 6CF6                   M           MOV.L   @R15+,R12        ;
39063                                 M           POP_REG1 R11
39064                                 M                                   ; RE"+4" 00,00,00,04
39065 00008922 6BF6                   M           MOV.L   @R15+,R11        ;
39066                                 M           POP_REG1 R10
39067                                 M                                   ; RE"+4" 00,00,00,04
39068 00008924 6AF6                   M           MOV.L   @R15+,R10        ;
39069                            1045 I1  
39070 00008926 65E1              1046 I1          MOV.W   @R14,R5                                         ;時間
39071 00008928 7501              1047 I1          ADD     #1,R5                                           ;LOOPは+1
39072                            1048 I1  
39073 0000892A 277A              1049 I1          XOR     R7,R7                                           ;積算数 500,000HZ/1000*100
                                          0=4byte
39074 0000892C 6163              1050 I1          MOV     R6,R1                                           ;data(0~10000) *500,000/(1
                                          0000*1/1000(msec)
39075 0000892E D40A              1051 I1          MOV.L   #_ACC_PER_V_MAX*_ACC_CALC_TIM,R4                ;
39076                            1052 I1  
39077 00008930                   1053 I1  ACC_TBLMKPLS1_SBLOP200
39078 00008930 2558              1054 I1          TST     R5,R5                           ;
39079                            1055 I1          TST_BIT_OF ACC_TBLMKPLS1_SB_END         ;
39080 00008932 8915                   M           BT      ACC_TBLMKPLS1_SB_END
39081 00008934 62D5              1056 I1          MOV.W   @R13+,R2                        ;V% LOAD
39082                            1057 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
39083 00008936 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39084 00008938 400B                   M           JSR     @R0                     ;
39085 0000893A 0009                   M           NOP                                     ;
39086                            1058 I1                                                  ;R2(10000)*500000 8BYTE
39087                            1059 I1  
39088                            1060 I1  
39089                            1061 I1  
39090                            1062 I1  
39091                            1063 I1  
39092                            1064 I1  
39093                            1065 I1  ;;      ADD     #1,R2                           ;(1ﾊﾟﾙｽはMOD分･･最大1000ﾊﾟﾙｽ程度の+側に誤
                                          差がでる)
39094 0000893C 2228              1066 I1          TST     R2,R2
39095                            1067 I1          TST_BIT_ON ACC_TBLMKPLS1_SBLOP220       ;
39096 0000893E 8B00                   M           BF      ACC_TBLMKPLS1_SBLOP220
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   592
PROGRAM NAME =

39097 00008940 7201              1068 I1          ADD     #1,R2
39098 00008942                   1069 I1  ACC_TBLMKPLS1_SBLOP220
39099                            1070 I1  
39100 00008942 372C              1071 I1          ADD     R2,R7                           ;S=S+deltV
39101 00008944 2A72              1072 I1          MOV.L   R7,@R10                         ;
39102 00008946 7A04              1073 I1          ADD     #4,R10                          ;
39103                            1074 I1  
39104 00008948 75FF              1075 I1          ADD     #-1,R5
39105                            1076 I1          M_BRA   ACC_TBLMKPLS1_SBLOP200          ;
39106 0000894A AFF1                   M           BRA     ACC_TBLMKPLS1_SBLOP200
39107 0000894C 0009                   M           NOP
39108                            1077 I1  
39109                            1078 I1  
39110                                 I1  ***** BEGIN-POOL *****
39111 0000894E 00F0                   I1  DATA FOR SOURCE-LINE 1044
39112 00008950 00FB                   I1  DATA FOR SOURCE-LINE 1044
39113 00008952 0004                   I1  DATA FOR SOURCE-LINE 1044
39114 00008954 00000000               I1  DATA FOR SOURCE-LINE 1044
39115 00008958 00989680               I1  DATA FOR SOURCE-LINE 1051
39116 0000895C 00000000               I1  DATA FOR SOURCE-LINE 1057
39117                                 I1  ***** END-POOL *****
39118 00008960                   1079 I1  ACC_TBLMKPLS1_SB_END
39119                            1080 I1  
39120                            1081 I1          SUB_END
39121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39122 00008960 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39123                            1082 I1          M_RTS
39124 00008962 000B                   M           RTS                             ;RTSの後ろの
39125 00008964 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39126                            1083 I1  
39127                            1084 I1  
39128                            1085 I1  
39129                            1086 I1  
39130                            1087 I1  
39131                            1088 I1  
39132                            1089 I1  
39133                            1090 I1  
39134                            1091 I1  
39135                            1092 I1  ;       ***************************************************
39136                            1093 I1  ;       ***                                             ***
39137                            1094 I1  ;       ***                                             ***
39138                            1095 I1  ;       ***                                             ***
39139                            1096 I1  ;       ***             振り子API                       ***
39140                            1097 I1  ;       ***                                             ***
39141                            1098 I1  ;       ***                                             ***
39142                            1099 I1  ;       ***************************************************
39143                            1100 I1  ;       サイクル開始(往路/復路),停止からの起動,タイマ停止からの起動
39144 00008966                   1101 I1  _DNM_START_ACC_CALC:
39145                            1102 I1          SUB_START
39146 00008966 4F22                   M           STS.L   PR,@-R15                ;[必要]
39147                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39148                            1103 I1  
39149 00008968 200A              1104 I1          XOR     R0,R0
39150 0000896A D108              1105 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
39151 0000896C 2101              1106 I1          MOV.W   R0,@R1                  ;
39152 0000896E D108              1107 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
39153 00008970 2101              1108 I1          MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   593
PROGRAM NAME =

39154 00008972 D108              1109 I1          MOV.L   #_ACC_STR_STEP,R1       ;
39155 00008974 2101              1110 I1          MOV.W   R0,@R1                  ;
39156 00008976 D108              1111 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
39157 00008978 2101              1112 I1          MOV.W   R0,@R1                  ;
39158                            1113 I1  
39159                            1114 I1  ;       ---- 2010-09-29---
39160 0000897A 200A              1115 I1          XOR     R0,R0
39161 0000897C D107              1116 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
39162 0000897E 2101              1117 I1          MOV.W   R0,@R1                  ;
39163 00008980 D107              1118 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
39164 00008982 2101              1119 I1          MOV.W   R0,@R1                  ;
39165                            1120 I1  
39166                            1121 I1          SUB_END
39167                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39168 00008984 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39169                            1122 I1          M_RTS
39170 00008986 000B                   M           RTS                             ;RTSの後ろの
39171 00008988 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39172                            1123 I1  
39173                            1124 I1  ;       工程切替
39174                                 I1  ***** BEGIN-POOL *****
39175 0000898A 0000                   I1  ALIGNMENT CODE
39176 0000898C 00000000               I1  DATA FOR SOURCE-LINE 1105
39177 00008990 00000000               I1  DATA FOR SOURCE-LINE 1107
39178 00008994 00000000               I1  DATA FOR SOURCE-LINE 1109
39179 00008998 00000000               I1  DATA FOR SOURCE-LINE 1111
39180 0000899C 00000000               I1  DATA FOR SOURCE-LINE 1116
39181 000089A0 00000000               I1  DATA FOR SOURCE-LINE 1118
39182                                 I1  ***** END-POOL *****
39183 000089A4                   1125 I1  _DNM_STEP_ACC_CHANGE:
39184                            1126 I1          SUB_START
39185 000089A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
39186                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39187                            1127 I1  
39188 000089A6 D10F              1128 I1          MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
39189 000089A8 6011              1129 I1          MOV.W   @R1,R0                  ;
39190 000089AA 2008              1130 I1          TST     R0,R0
39191                            1131 I1          TST_BIT_OF DNM_STEP_ACC_CHG_100 ;WHY
39192 000089AC 8916                   M           BT      DNM_STEP_ACC_CHG_100
39193                            1132 I1  
39194 000089AE D10E              1133 I1          MOV.L   #_ACC_POS_STEP,R1       ;
39195 000089B0 6211              1134 I1          MOV.W   @R1,R2                  ;
39196 000089B2 2101              1135 I1          MOV.W   R0,@R1                  ;
39197 000089B4 3200              1136 I1          CMP/EQ  R0,R2                   ;
39198 000089B6 8911              1137 I1          BT      DNM_STEP_ACC_CHG_100    ;変更なし
39199 000089B8 D10C              1138 I1          MOV.L   #_ACC_STR_STEP,R1       ;
39200 000089BA 2101              1139 I1          MOV.W   R0,@R1                  ;
39201                            1140 I1  
39202 000089BC 8801              1141 I1          cmp/eq  #1,r0                   ;
39203 000089BE 8B00              1142 I1          BF      DNM_STEP_ACC_CHGDBG10
39204 000089C0 0009              1143 I1          NOP
39205 000089C2                   1144 I1  DNM_STEP_ACC_CHGDBG10:
39206 000089C2 8802              1145 I1          cmp/eq  #2,r0                   ;
39207 000089C4 8B00              1146 I1          BF      DNM_STEP_ACC_CHGDBG20   ;
39208 000089C6 0009              1147 I1          NOP
39209 000089C8                   1148 I1  DNM_STEP_ACC_CHGDBG20:                  ;
39210                            1149 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   594
PROGRAM NAME =

39211 000089C8 200A              1150 I1          XOR     R0,R0
39212 000089CA D109              1151 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
39213 000089CC 2101              1152 I1          MOV.W   R0,@R1
39214 000089CE D109              1153 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
39215 000089D0 2101              1154 I1          MOV.W   R0,@R1
39216                            1155 I1  
39217                            1156 I1  
39218                            1157 I1  
39219                            1158 I1  ;       ---- 2010-09-29---
39220 000089D2 200A              1159 I1          XOR     R0,R0
39221 000089D4 D108              1160 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
39222 000089D6 2101              1161 I1          MOV.W   R0,@R1                  ;
39223 000089D8 D108              1162 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
39224 000089DA 2101              1163 I1          MOV.W   R0,@R1                  ;
39225                            1164 I1  
39226                            1165 I1  
39227                            1166 I1  
39228 000089DC                   1167 I1  DNM_STEP_ACC_CHG_100:
39229                            1168 I1  
39230                            1169 I1          SUB_END
39231                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39232 000089DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39233                            1170 I1          M_RTS
39234 000089DE 000B                   M           RTS                             ;RTSの後ろの
39235 000089E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39236                            1171 I1  
39237                            1172 I1  
39238                            1173 I1  ;       ***************************************************
39239                            1174 I1  ;       ***                                             ***
39240                            1175 I1  ;       ***                                             ***
39241                            1176 I1  ;       ***                                             ***
39242                            1177 I1  ;       ***                                             ***
39243                            1178 I1  ;       ***                                             ***
39244                            1179 I1  ;       ***                                             ***
39245                            1180 I1  ;       ***             振り子加速度演算                ***
39246                            1181 I1  ;       ***             (LSIの演算部の代わり)           ***
39247                            1182 I1  ;       ***                                             ***
39248                            1183 I1  ;       ***                                             ***
39249                            1184 I1  ;       ***                                             ***
39250                            1185 I1  ;       ***                                             ***
39251                            1186 I1  ;       ***                                             ***
39252                            1187 I1  ;       ***************************************************
39253                            1188 I1  ;       _PLS_LSI_CTRL
39254                            1189 I1  ;               _PLS_LSI_CTL_CALC
39255                            1190 I1  ;                       POSCTL_SV_SPD
39256                                 I1  ***** BEGIN-POOL *****
39257 000089E2 0000                   I1  ALIGNMENT CODE
39258 000089E4 00000000               I1  DATA FOR SOURCE-LINE 1128
39259 000089E8 00000000               I1  DATA FOR SOURCE-LINE 1133
39260 000089EC 00000000               I1  DATA FOR SOURCE-LINE 1138
39261 000089F0 00000000               I1  DATA FOR SOURCE-LINE 1151
39262 000089F4 00000000               I1  DATA FOR SOURCE-LINE 1153
39263 000089F8 00000000               I1  DATA FOR SOURCE-LINE 1160
39264 000089FC 00000000               I1  DATA FOR SOURCE-LINE 1162
39265                                 I1  ***** END-POOL *****
39266 00008A00                   1191 I1  _DNM_SPD_CALC:
39267                            1192 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   595
PROGRAM NAME =

39268 00008A00 4F22                   M           STS.L   PR,@-R15                ;[必要]
39269                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39270 00008A02 200A              1193 I1          XOR     R0,R0
39271 00008A04 D123              1194 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
39272 00008A06 2102              1195 I1          MOV.L   R0,@R1                          ;
39273                            1196 I1  
39274                            1197 I1  
39275 00008A08 200A              1198 I1          XOR     R0,R0                           ;
39276 00008A0A D123              1199 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
39277 00008A0C 2101              1200 I1          MOV.W   R0,@R1                          ;
39278                            1201 I1  
39279                            1202 I1          FAR_JSR #_DNM_STEP_ACC_CHANGE,R0        ;
39280 00008A0E D023                   M           MOV.L   #_DNM_STEP_ACC_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39281 00008A10 400B                   M           JSR     @R0                     ;
39282 00008A12 0009                   M           NOP                                     ;
39283                            1203 I1  
39284                            1204 I1          FAR_JSR #_DNM_ACC_CALC,R0               ;
39285 00008A14 D022                   M           MOV.L   #_DNM_ACC_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39286 00008A16 400B                   M           JSR     @R0                     ;
39287 00008A18 0009                   M           NOP                                     ;
39288                            1205 I1  
39289                            1206 I1  ;       -------- DEBUG OUT ------------------
39290 00008A1A D122              1207 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
39291 00008A1C 6011              1208 I1          MOV.W   @R1,R0                          ;
39292 00008A1E D11E              1209 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
39293 00008A20 6211              1210 I1          MOV.W   @R1,R2                          ;
39294 00008A22 202B              1211 I1          OR      R2,R0                           ;
39295                            1212 I1  
39296 00008A24 D120              1213 I1          MOV.L   #_ACC_STEP_FLG,R1               ;
39297 00008A26 6311              1214 I1          MOV.W   @R1,R3                          ;
39298 00008A28 4318              1215 I1          SHLL8   R3                              ;
39299 00008A2A 203B              1216 I1          OR      R3,R0                           ;
39300                            1217 I1  
39301                            1218 I1  ;;;;;;;;2015-07-22      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
39302                            1219 I1  ;;;;;;;;2015-07-22      MOV.W   R0,@R1                          ;
39303                            1220 I1  
39304 00008A2C D119              1221 I1          MOV.L   #_ACC_ANS_ACCDAT,R1     ;(加速または減速すべき　加速度):0変化するﾃﾞｰﾀがな
                                          い
39305 00008A2E 6212              1222 I1          MOV.L   @R1,R2                  ;
39306 00008A30 D11E              1223 I1          MOV.L   #_ACC_MONITOR_DAT1,R1   ;リニア
39307 00008A32 2122              1224 I1          MOV.L   R2,@R1                  ;+/-1
39308                            1225 I1  
39309 00008A34 D11E              1226 I1          MOV.L   #_ACC_LAST_POINT,R1     ;最大速度から求まる
39310 00008A36 6211              1227 I1          MOV.W   @R1,R2                  ;
39311                            1228 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
39312 00008A38 D11E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39313 00008A3A 410B                   M           JSR     @R1                     ;
39314 00008A3C 0009                   M           NOP                                     ;
39315 00008A3E D11E              1229 I1          MOV.L   #_ACC_MONITOR_DAT2,R1   ;ｴﾝｺｰﾀﾞ角度
39316 00008A40 2122              1230 I1          MOV.L   R2,@R1                  ;
39317                            1231 I1  
39318 00008A42 D11E              1232 I1          MOV.L   #_ACC_STOP_POINT,R1     ;ステップ速度停止の中で求まる（停止予定の行程）
39319 00008A44 6211              1233 I1          MOV.W   @R1,R2                  ;
39320                            1234 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
39321 00008A46 D11B                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39322 00008A48 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   596
PROGRAM NAME =

39323 00008A4A 0009                   M           NOP                                     ;
39324 00008A4C D11C              1235 I1          MOV.L   #_ACC_MONITOR_DAT3,R1   ;PG角度
39325 00008A4E 2122              1236 I1          MOV.L   R2,@R1                  ;
39326                            1237 I1  
39327 00008A50 D11C              1238 I1          MOV.L   #_ACC_STEP_POINT,R1     ;ステップ
39328 00008A52 6211              1239 I1          MOV.W   @R1,R2                  ;
39329 00008A54 D11C              1240 I1          MOV.L   #_ACC_MONITOR_DAT4,R1   ;負荷率
39330 00008A56 2122              1241 I1          MOV.L   R2,@R1                  ;
39331                            1242 I1  
39332                            1243 I1  
39333                            1244 I1  ;DAT5
39334                            1245 I1  
39335                            1246 I1  
39336 00008A58 D11C              1247 I1          MOV.L   #_ACC_LAST_SPD,R1       ;
39337 00008A5A 6212              1248 I1          MOV.L   @R1,R2                  ;
39338 00008A5C 4201              1249 I1          SHLR    R2
39339 00008A5E 4201              1250 I1          SHLR    R2
39340 00008A60 4201              1251 I1          SHLR    R2
39341 00008A62 4201              1252 I1          SHLR    R2
39342 00008A64 4201              1253 I1          SHLR    R2
39343 00008A66 D11A              1254 I1          MOV.L   #_ACC_MONITOR_DAT6,R1   ;左
39344 00008A68 2122              1255 I1          MOV.L   R2,@R1                  ;
39345                            1256 I1  
39346 00008A6A D11A              1257 I1          MOV.L   #_ACC_STOP_SPD,R1       ;
39347 00008A6C 6212              1258 I1          MOV.L   @R1,R2                  ;
39348 00008A6E 4201              1259 I1          SHLR    R2
39349 00008A70 4201              1260 I1          SHLR    R2
39350 00008A72 4201              1261 I1          SHLR    R2
39351 00008A74 4201              1262 I1          SHLR    R2
39352 00008A76 4201              1263 I1          SHLR    R2
39353 00008A78 D117              1264 I1          MOV.L   #_ACC_MONITOR_DAT7,R1   ;右
39354 00008A7A 2122              1265 I1          MOV.L   R2,@R1                  ;
39355                            1266 I1  
39356 00008A7C D117              1267 I1          MOV.L   #_ACC_STEP_SPD,R1       ;
39357 00008A7E 6212              1268 I1          MOV.L   @R1,R2                  ;
39358 00008A80 4201              1269 I1          SHLR    R2
39359 00008A82 4201              1270 I1          SHLR    R2
39360 00008A84 4201              1271 I1          SHLR    R2
39361 00008A86 4201              1272 I1          SHLR    R2
39362 00008A88 4201              1273 I1          SHLR    R2
39363 00008A8A D115              1274 I1          MOV.L   #_ACC_MONITOR_DAT8,R1   ;合計
39364 00008A8C 2122              1275 I1          MOV.L   R2,@R1                  ;
39365                            1276 I1  
39366                            1277 I1  
39367                            1278 I1  
39368                            1279 I1  
39369                            1280 I1          SUB_END
39370                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39371 00008A8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39372                            1281 I1          M_RTS
39373 00008A90 000B                   M           RTS                             ;RTSの後ろの
39374 00008A92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39375                            1282 I1  
39376                            1283 I1  
39377                            1284 I1  
39378                                 I1  ***** BEGIN-POOL *****
39379 00008A94 00000000               I1  DATA FOR SOURCE-LINE 1194,1221
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   597
PROGRAM NAME =

39380 00008A98 00000000               I1  DATA FOR SOURCE-LINE 1199,1209
39381 00008A9C 00000000               I1  DATA FOR SOURCE-LINE 1202
39382 00008AA0 00000000               I1  DATA FOR SOURCE-LINE 1204
39383 00008AA4 00000000               I1  DATA FOR SOURCE-LINE 1207
39384 00008AA8 00000000               I1  DATA FOR SOURCE-LINE 1213
39385 00008AAC 00000000               I1  DATA FOR SOURCE-LINE 1223
39386 00008AB0 00000000               I1  DATA FOR SOURCE-LINE 1226
39387 00008AB4 00000000               I1  DATA FOR SOURCE-LINE 1228,1234
39388 00008AB8 00000000               I1  DATA FOR SOURCE-LINE 1229
39389 00008ABC 00000000               I1  DATA FOR SOURCE-LINE 1232
39390 00008AC0 00000000               I1  DATA FOR SOURCE-LINE 1235
39391 00008AC4 00000000               I1  DATA FOR SOURCE-LINE 1238
39392 00008AC8 00000000               I1  DATA FOR SOURCE-LINE 1240
39393 00008ACC 00000000               I1  DATA FOR SOURCE-LINE 1247
39394 00008AD0 00000000               I1  DATA FOR SOURCE-LINE 1254
39395 00008AD4 00000000               I1  DATA FOR SOURCE-LINE 1257
39396 00008AD8 00000000               I1  DATA FOR SOURCE-LINE 1264
39397 00008ADC 00000000               I1  DATA FOR SOURCE-LINE 1267
39398 00008AE0 00000000               I1  DATA FOR SOURCE-LINE 1274
39399                                 I1  ***** END-POOL *****
39400 00008AE4                   1285 I1  _DNM_ACC_CALC
39401                            1286 I1          SUB_START
39402 00008AE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
39403                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39404                            1287 I1  
39405                            1288 I1          FAR_JSR #_DNM_ACC_OVER_PLS_MAK,R0
39406 00008AE6 D024                   M           MOV.L   #_DNM_ACC_OVER_PLS_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39407 00008AE8 400B                   M           JSR     @R0                     ;
39408 00008AEA 0009                   M           NOP                                     ;
39409                            1289 I1  
39410 00008AEC D123              1290 I1          MOV.L   #_ACC_POS_STEP,R1       ;//内部制御工程1~11
39411 00008AEE 6011              1291 I1          MOV.W   @R1,R0                  ;
39412                            1292 I1  ;----------必要か？  2011-03-22
39413 00008AF0 2008              1293 I1          TST     R0,R0
39414                            1294 I1          TST_BIT_ON DNM_ACCCALC_020
39415 00008AF2 8B00                   M           BF      DNM_ACCCALC_020
39416 00008AF4 903C              1295 I1          MOV.W   #1,R0                   ;
39417 00008AF6                   1296 I1  DNM_ACCCALC_020
39418                            1297 I1  
39419                            1298 I1  
39420 00008AF6 D122              1299 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
39421 00008AF8 2101              1300 I1          MOV.W   R0,@R1                  ;
39422                            1301 I1  
39423 00008AFA D122              1302 I1          MOV.L   #_ACC_STEP_NUMBER,R1    ;加減速に使用するデータ番号=動作ステップ
39424 00008AFC 2101              1303 I1          MOV.W   R0,@R1                  ;
39425                            1304 I1  
39426 00008AFE 200A              1305 I1          XOR     R0,R0
39427 00008B00 D121              1306 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
39428 00008B02 2102              1307 I1          MOV.L   R0,@R1                          ;
39429                            1308 I1  
39430                            1309 I1  ;;;     FAR_JSR #_TBLACC_LAST_SP_MAKE,R0        ;最終減速演算：現在速度より高ければこれに
                                          置き換える
39431                            1310 I1  
39432 00008B04 D121              1311 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
39433 00008B06 6012              1312 I1          MOV.L   @R1,R0                          ;
39434 00008B08 D121              1313 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   598
PROGRAM NAME =

39435 00008B0A 2102              1314 I1          MOV.L   R0,@R1                          ;PLS/S
39436                            1315 I1  
39437                            1316 I1  
39438                            1317 I1  
39439                            1318 I1          FAR_JSR #_TBLACC_STOP_SP_MAKE,R0        ;現行ｽﾃｯﾌﾟからの減速演算：最大以下であれば
                                          最大
39440 00008B0C D021                   M           MOV.L   #_TBLACC_STOP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39441 00008B0E 400B                   M           JSR     @R0                     ;
39442 00008B10 0009                   M           NOP                                     ;
39443                            1319 I1  
39444                            1320 I1          FAR_JSR #_TBLACC_STEP_SP_MAKE,R0        ;減速演算２つより低い範囲で加速または減速
                                          する
39445 00008B12 D021                   M           MOV.L   #_TBLACC_STEP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39446 00008B14 400B                   M           JSR     @R0                     ;
39447 00008B16 0009                   M           NOP                                     ;
39448                            1321 I1  
39449                            1322 I1  ;       比較結果を加速度で表す
39450                            1323 I1  
39451 00008B18 288A              1324 I1          XOR     R8,R8                           ;FLAG
39452 00008B1A D11D              1325 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
39453 00008B1C 6612              1326 I1          MOV.L   @R1,R6                          ;PLS/S
39454 00008B1E D11F              1327 I1          MOV.L   #_ACC_STOP_SPD,R1               ;停止ステップのデータから求まる
39455 00008B20 6512              1328 I1          MOV.L   @R1,R5                          ;
39456 00008B22 3653              1329 I1          CMP/GE  R5,R6                           ;
39457 00008B24 8902              1330 I1          BT      DNM_ACCCALC_100                 ;
39458 00008B26 9423              1331 I1          MOV.W   #BIT0,R4                        ;
39459 00008B28 284B              1332 I1          OR      R4,R8                           ;
39460 00008B2A 6563              1333 I1          MOV     R6,R5                           ;R5:LIMIT
39461 00008B2C                   1334 I1  DNM_ACCCALC_100
39462                            1335 I1  
39463                            1336 I1  
39464 00008B2C D11C              1337 I1          MOV.L   #_ACC_STEP_SPD,R1               ;これから変化させようと考えている速度
39465 00008B2E 6212              1338 I1          MOV.L   @R1,R2                          ;
39466 00008B30 3523              1339 I1          CMP/GE  R2,R5                           ;
39467 00008B32 8902              1340 I1          BT      DNM_ACCCALC_200                 ;
39468                            1341 I1  
39469                            1342 I1  ;       --- limit on----
39470 00008B34 941D              1343 I1          MOV.W   #BIT1,R4                        ;
39471 00008B36 284B              1344 I1          OR      R4,R8                           ;
39472 00008B38 6253              1345 I1          MOV     R5,R2                           ;LIMIT
39473                            1346 I1  
39474 00008B3A                   1347 I1  DNM_ACCCALC_200
39475 00008B3A D11A              1348 I1          MOV.L   #_ACC_CALC_SPDX,R1              ;
39476 00008B3C 2122              1349 I1          MOV.L   R2,@R1                          ;
39477                            1350 I1  
39478                            1351 I1          FAR_JSR #_DNM_ACC_OVER_SPD_MAK,R0               ;
39479 00008B3E D01A                   M           MOV.L   #_DNM_ACC_OVER_SPD_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39480 00008B40 400B                   M           JSR     @R0                     ;
39481 00008B42 0009                   M           NOP                                     ;
39482 00008B44 D119              1352 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
39483 00008B46 6212              1353 I1          MOV.L   @R1,R2                          ;
39484                            1354 I1  
39485                            1355 I1  
39486 00008B48 D119              1356 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
39487 00008B4A 6312              1357 I1          MOV.L   @R1,R3                          ;
39488 00008B4C 3233              1358 I1          CMP/GE  R3,R2                           ;
39489 00008B4E 8902              1359 I1          BT      DNM_ACCCALC_300                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   599
PROGRAM NAME =

39490                            1360 I1  
39491                            1361 I1  ;       --- UNDER　LIMIT----
39492 00008B50 9410              1362 I1          MOV.W   #BIT2,R4                        ;[BIT2はにせもの]
39493 00008B52 284B              1363 I1          OR      R4,R8                           ;
39494 00008B54 6233              1364 I1          MOV     R3,R2                           ;
39495                            1365 I1  
39496 00008B56                   1366 I1  DNM_ACCCALC_300
39497 00008B56 D117              1367 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
39498 00008B58 6011              1368 I1          MOV.W   @R1,R0                          ;
39499 00008B5A C9FB              1369 I1          AND     #LOW ~BIT2,R0
39500 00008B5C 208B              1370 I1          OR      R8,R0                           ;
39501 00008B5E 2101              1371 I1          MOV.W   R0,@R1                          ;
39502                            1372 I1  
39503 00008B60 D115              1373 I1          MOV.L   #_POSCTL_RL_SPD,R1              ;現在速度
39504 00008B62 6312              1374 I1          MOV.L   @R1,R3                          ;
39505 00008B64 3238              1375 I1          SUB     R3,R2                           ;
39506 00008B66 D108              1376 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
39507 00008B68 2122              1377 I1          MOV.L   R2,@R1                          ;
39508                            1378 I1  
39509                            1379 I1          SUB_END
39510                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39511 00008B6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39512                            1380 I1          M_RTS
39513 00008B6C 000B                   M           RTS                             ;RTSの後ろの
39514 00008B6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39515                            1381 I1  
39516                            1382 I1  
39517                            1383 I1  
39518                            1384 I1  
39519                            1385 I1  
39520                            1386 I1  
39521                            1387 I1  ;       *******************************************
39522                            1388 I1  ;       ***                                     ***
39523                            1389 I1  ;       ***     演算上で使用するデータ          ***
39524                            1390 I1  ;       ***                                     ***
39525                            1391 I1  ;       *******************************************
39526                                 I1  ***** BEGIN-POOL *****
39527 00008B70 0001                   I1  DATA FOR SOURCE-LINE 1295,1331
39528 00008B72 0002                   I1  DATA FOR SOURCE-LINE 1343
39529 00008B74 0004                   I1  DATA FOR SOURCE-LINE 1362
39530 00008B76 0000                   I1  ALIGNMENT CODE
39531 00008B78 00000000               I1  DATA FOR SOURCE-LINE 1288
39532 00008B7C 00000000               I1  DATA FOR SOURCE-LINE 1290
39533 00008B80 00000000               I1  DATA FOR SOURCE-LINE 1299
39534 00008B84 00000000               I1  DATA FOR SOURCE-LINE 1302
39535 00008B88 00000000               I1  DATA FOR SOURCE-LINE 1306,1376
39536 00008B8C 00000000               I1  DATA FOR SOURCE-LINE 1311
39537 00008B90 00000000               I1  DATA FOR SOURCE-LINE 1313,1325
39538 00008B94 00000000               I1  DATA FOR SOURCE-LINE 1318
39539 00008B98 00000000               I1  DATA FOR SOURCE-LINE 1320
39540 00008B9C 00000000               I1  DATA FOR SOURCE-LINE 1327
39541 00008BA0 00000000               I1  DATA FOR SOURCE-LINE 1337
39542 00008BA4 00000000               I1  DATA FOR SOURCE-LINE 1348
39543 00008BA8 00000000               I1  DATA FOR SOURCE-LINE 1351
39544 00008BAC 00000000               I1  DATA FOR SOURCE-LINE 1352
39545 00008BB0 00000000               I1  DATA FOR SOURCE-LINE 1356
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   600
PROGRAM NAME =

39546 00008BB4 00000000               I1  DATA FOR SOURCE-LINE 1367
39547 00008BB8 00000000               I1  DATA FOR SOURCE-LINE 1373
39548                                 I1  ***** END-POOL *****
39549 00008BBC                   1392 I1  _DNM_ACC_OVER_PLS_MAK:
39550                            1393 I1          SUB_START
39551 00008BBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
39552                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39553 00008BBE D50A              1394 I1          MOV.L   #_ACC_REST_ABS_PLS,R5   ;//
39554 00008BC0 6156              1395 I1          MOV.L   @R5+,R1                 ;
39555 00008BC2 6252              1396 I1          MOV.L   @R5,R2                  ;
39556                            1397 I1  
39557                            1398 I1  ;       *1/比率
39558 00008BC4 D409              1399 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
39559 00008BC6 6041              1400 I1          MOV.W   @R4,R0                          ;
39560 00008BC8 2008              1401 I1          TST     R0,R0                           ;
39561                            1402 I1          TST_BIT_OF DNM_ACC_OVER_PLSMK200        ;
39562 00008BCA 891A                   M           BT      DNM_ACC_OVER_PLSMK200
39563                            1403 I1  
39564 00008BCC D308              1404 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
39565 00008BCE 6431              1405 I1          MOV.W   @R3,R4                                  ;
39566 00008BD0 9109              1406 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
39567                            1407 I1          FAR_JSR #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0   ;
39568 00008BD2 D008                   M           MOV.L   #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39569 00008BD4 400B                   M           JSR     @R0                     ;
39570 00008BD6 0009                   M           NOP                                     ;
39571                            1408 I1  
39572 00008BD8 2118              1409 I1          TST     R1,R1                                   ;
39573                            1410 I1          TST_BIT_ON DNM_ACC_OVER_PLSMK100                ;まだ4byte以上ある
39574 00008BDA 8B0F                   M           BF      DNM_ACC_OVER_PLSMK100
39575                            1411 I1  
39576 00008BDC D406              1412 I1          MOV.L   #_GENSOK_LNGTH_MAX,R4                   ;30秒*500KHよりも距離がある
39577 00008BDE 3243              1413 I1          CMP/GE  R4,R2                                   ;
39578 00008BE0 890C              1414 I1          BT      DNM_ACC_OVER_PLSMK100                   ;
39579                            1415 I1          M_BRA   DNM_ACC_OVER_PLSMK200                   ;
39580 00008BE2 A00E                   M           BRA     DNM_ACC_OVER_PLSMK200
39581 00008BE4 0009                   M           NOP
39582                            1416 I1  
39583                                 I1  ***** BEGIN-POOL *****
39584 00008BE6 0064                   I1  DATA FOR SOURCE-LINE 1406
39585 00008BE8 00000000               I1  DATA FOR SOURCE-LINE 1394
39586 00008BEC 00000000               I1  DATA FOR SOURCE-LINE 1399
39587 00008BF0 00000000               I1  DATA FOR SOURCE-LINE 1404
39588 00008BF4 00000000               I1  DATA FOR SOURCE-LINE 1407
39589 00008BF8 00E4E1C0               I1  DATA FOR SOURCE-LINE 1412
39590                                 I1  ***** END-POOL *****
39591 00008BFC                   1417 I1  DNM_ACC_OVER_PLSMK100
39592 00008BFC 902F              1418 I1          MOV.W   #-1,R0
39593 00008BFE D419              1419 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
39594 00008C00 2401              1420 I1          MOV.W   R0,@R4                          ;
39595                            1421 I1  
39596 00008C02                   1422 I1  DNM_ACC_OVER_PLSMK200:
39597 00008C02 D619              1423 I1          MOV.L   #_ACC_REST_ABS_PLSX,R6  ;//これで演算
39598 00008C04 2612              1424 I1          MOV.L   R1,@R6                  ;
39599 00008C06 1621              1425 I1          MOV.L   R2,@(4,R6)              ;
39600                            1426 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   601
PROGRAM NAME =

39601                            1427 I1  
39602                            1428 I1  ;       _TBLACC_ACC_ADDCHKの演算に使用している箇所の拡大
39603                            1429 I1  ;       設定速度の拡大 DATA*MAX/比率
39604 00008C08 D118              1430 I1          MOV.L   #_POSCTL_SV_SPD,R1                      ;
39605 00008C0A 6212              1431 I1          MOV.L   @R1,R2                                  ;
39606 00008C0C D318              1432 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
39607 00008C0E 6431              1433 I1          MOV.W   @R3,R4                                  ;
39608 00008C10 9126              1434 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
39609                            1435 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
39610 00008C12 D018                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39611 00008C14 400B                   M           JSR     @R0                     ;
39612 00008C16 0009                   M           NOP                                     ;
39613 00008C18 D117              1436 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                 ;
39614 00008C1A 2122              1437 I1          MOV.L   R2,@R1                                  ;
39615                            1438 I1  
39616                            1439 I1  
39617                            1440 I1  
39618                            1441 I1  ;       実速度の拡大 DATA*MAX/比率(ACC_)
39619 00008C1C D117              1442 I1          MOV.L   #_POSCTL_RL_SPD,R1                      ;
39620 00008C1E 6212              1443 I1          MOV.L   @R1,R2                                  ;
39621 00008C20 D313              1444 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
39622 00008C22 6431              1445 I1          MOV.W   @R3,R4                                  ;
39623 00008C24 911C              1446 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
39624                            1447 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
39625 00008C26 D013                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39626 00008C28 400B                   M           JSR     @R0                     ;
39627 00008C2A 0009                   M           NOP                                     ;
39628 00008C2C D114              1448 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R1                 ;
39629 00008C2E 2122              1449 I1          MOV.L   R2,@R1                                  ;
39630                            1450 I1  
39631                            1451 I1  
39632                            1452 I1  
39633                            1453 I1  ;       加速度の拡大 DATA*MAX/比率
39634 00008C30 D114              1454 I1          MOV.L   #_POSCTL_SV_UP_ACC,R1                   ;
39635 00008C32 6212              1455 I1          MOV.L   @R1,R2                                  ;
39636 00008C34 D30E              1456 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
39637 00008C36 6431              1457 I1          MOV.W   @R3,R4                                  ;
39638 00008C38 9112              1458 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
39639                            1459 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
39640 00008C3A D00E                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39641 00008C3C 400B                   M           JSR     @R0                     ;
39642 00008C3E 0009                   M           NOP                                     ;
39643 00008C40 D111              1460 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R1              ;
39644 00008C42 2122              1461 I1          MOV.L   R2,@R1                                  ;
39645                            1462 I1  
39646                            1463 I1  
39647                            1464 I1  ;       加速度の拡大 DATA*MAX/比率
39648 00008C44 D111              1465 I1          MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
39649 00008C46 6212              1466 I1          MOV.L   @R1,R2                                  ;
39650 00008C48 D309              1467 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
39651 00008C4A 6431              1468 I1          MOV.W   @R3,R4                                  ;
39652 00008C4C 9108              1469 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
39653                            1470 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
39654 00008C4E D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39655 00008C50 400B                   M           JSR     @R0                     ;
39656 00008C52 0009                   M           NOP                                     ;
39657 00008C54 D10E              1471 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R1              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   602
PROGRAM NAME =

39658 00008C56 2122              1472 I1          MOV.L   R2,@R1                                  ;
39659                            1473 I1  
39660                            1474 I1  
39661                            1475 I1  
39662                            1476 I1  
39663                            1477 I1  
39664                            1478 I1  
39665                            1479 I1          SUB_END
39666                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39667 00008C58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39668                            1480 I1          M_RTS
39669 00008C5A 000B                   M           RTS                             ;RTSの後ろの
39670 00008C5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39671                            1481 I1  
39672                            1482 I1  
39673                                 I1  ***** BEGIN-POOL *****
39674 00008C5E FFFF                   I1  DATA FOR SOURCE-LINE 1418
39675 00008C60 0064                   I1  DATA FOR SOURCE-LINE 1434,1446,1458,1469
39676 00008C62 0000                   I1  ALIGNMENT CODE
39677 00008C64 00000000               I1  DATA FOR SOURCE-LINE 1419
39678 00008C68 00000000               I1  DATA FOR SOURCE-LINE 1423
39679 00008C6C 00000000               I1  DATA FOR SOURCE-LINE 1430
39680 00008C70 00000000               I1  DATA FOR SOURCE-LINE 1432,1444,1456,1467
39681 00008C74 00000000               I1  DATA FOR SOURCE-LINE 1435,1447,1459,1470
39682 00008C78 00000000               I1  DATA FOR SOURCE-LINE 1436
39683 00008C7C 00000000               I1  DATA FOR SOURCE-LINE 1442
39684 00008C80 00000000               I1  DATA FOR SOURCE-LINE 1448
39685 00008C84 00000000               I1  DATA FOR SOURCE-LINE 1454
39686 00008C88 00000000               I1  DATA FOR SOURCE-LINE 1460
39687 00008C8C 00000000               I1  DATA FOR SOURCE-LINE 1465
39688 00008C90 00000000               I1  DATA FOR SOURCE-LINE 1471
39689                                 I1  ***** END-POOL *****
39690 00008C94                   1483 I1  _DNM_ACC_OVER_SPD_MAK:
39691                            1484 I1          SUB_START
39692 00008C94 4F22                   M           STS.L   PR,@-R15                ;[必要]
39693                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39694 00008C96 D107              1485 I1          MOV.L   #_ACC_CALC_SPDX,R1                      ;
39695 00008C98 6212              1486 I1          MOV.L   @R1,R2                                  ;
39696                            1487 I1  
39697                            1488 I1  ;      *比率
39698 00008C9A D307              1489 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
39699 00008C9C 6131              1490 I1          MOV.W   @R3,R1                                  ;
39700 00008C9E 9407              1491 I1          MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
39701                            1492 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
39702 00008CA0 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39703 00008CA2 400B                   M           JSR     @R0                     ;
39704 00008CA4 0009                   M           NOP                                     ;
39705                            1493 I1  
39706                            1494 I1  
39707 00008CA6 D106              1495 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
39708 00008CA8 2122              1496 I1          MOV.L   R2,@R1                          ;
39709                            1497 I1          SUB_END
39710                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39711 00008CAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39712                            1498 I1          M_RTS
39713 00008CAC 000B                   M           RTS                             ;RTSの後ろの
39714 00008CAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   603
PROGRAM NAME =

39715                            1499 I1  
39716                            1500 I1  
39717                            1501 I1  
39718                            1502 I1  ;       ***************************************************
39719                            1503 I1  ;       ***                                             ***
39720                            1504 I1  ;       ***             最終減速演算                    ***
39721                            1505 I1  ;       ***             100%->0%                        ***
39722                            1506 I1  ;       ***             距離を使用する                  ***
39723                            1507 I1  ;       ***                                             ***
39724                            1508 I1  ;       ***************************************************
39725                            1509 I1  ;@全工程
39726                            1510 I1  ;;;[2013-05-20 前から未使用]_TBLACC_LAST_SP_MAKE
39727                            1511 I1  ;;;[2013-05-20 前から未使用]    SUB_START
39728                            1512 I1  ;;;[2013-05-20 前から未使用]
39729                            1513 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速速度
39730                            1514 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速パルス
39731                            1515 I1  ;;;[2013-05-20 前から未使用]
39732                            1516 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
39733                            1517 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R6                          ;
39734                            1518 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
39735                            1519 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
39736                            1520 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ
                                          換算値　pls/s
39737                            1521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R5                          ;
39738                            1522 I1  ;;;[2013-05-20 前から未使用]
39739                            1523 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
39740                            1524 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R0,R1                          ;
39741                            1525 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @(4,R0),R2                      ;USED R2
39742                            1526 I1  ;;;[2013-05-20 前から未使用]
39743                            1527 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_SERCH_PLS1,R0
39744                            1528 I1  ;;;[2013-05-20 前から未使用]
39745                            1529 I1  ;;;[2013-05-20 前から未使用]
39746                            1530 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
39747                            1531 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   R2,@R1                          ;PLS/S
39748                            1532 I1  ;;;[2013-05-20 前から未使用]
39749                            1533 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_POINT,R1             ;
39750                            1534 I1  ;;;[2013-05-20 前から未使用];;  MOV.W   R0,@R1
39751                            1535 I1  ;;;[2013-05-20 前から未使用]
39752                            1536 I1  ;;;[2013-05-20 前から未使用]
39753                            1537 I1  ;;;[2013-05-20 前から未使用]
39754                            1538 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
39755                            1539 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK100          ;
39756                            1540 I1  ;;;[2013-05-20 前から未使用]    NOP
39757                            1541 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_LASTSP_MK150
39758                            1542 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK100
39759                            1543 I1  ;;;[2013-05-20 前から未使用]    NOP
39760                            1544 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK150
39761                            1545 I1  ;;;[2013-05-20 前から未使用]
39762                            1546 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
39763                            1547 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
39764                            1548 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
39765                            1549 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK500          ;
39766                            1550 I1  ;;;[2013-05-20 前から未使用]
39767                            1551 I1  ;;;[2013-05-20 前から未使用]
39768                            1552 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
39769                            1553 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_LASTSP_MK200             ;NO! R0<R3 ok減速
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   604
PROGRAM NAME =

                                          した
39770                            1554 I1  ;;;[2013-05-20 前から未使用]
39771                            1555 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
39772                            1556 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
39773                            1557 I1  ;;;[2013-05-20 前から未使用]
39774                            1558 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK200:
39775                            1559 I1  ;;;[2013-05-20 前から未使用]
39776                            1560 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
39777                            1561 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_LASTSP_MK400
39778                            1562 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
39779                            1563 I1  ;;;[2013-05-20 前から未使用]
39780                            1564 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK400
39781                            1565 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
39782                            1566 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
39783                            1567 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
39784                            1568 I1  ;;;[2013-05-20 前から未使用]
39785                            1569 I1  ;;;[2013-05-20 前から未使用]
39786                            1570 I1  ;;;[2013-05-20 前から未使用]
39787                            1571 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK500                         ;
39788                            1572 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
39789                            1573 I1  ;;;[2013-05-20 前から未使用]    MOV.W   R0,@R5
39790                            1574 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
39791                            1575 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R2,@R1                          ;PLS/S
39792                            1576 I1  ;;;[2013-05-20 前から未使用]
39793                            1577 I1  ;;;[2013-05-20 前から未使用];   ----------- 使用しない---
39794                            1578 I1  ;;;[2013-05-20 前から未使用]
39795                            1579 I1  ;;;[2013-05-20 前から未使用]
39796                            1580 I1  ;;;[2013-05-20 前から未使用]    SUB_END
39797                            1581 I1  ;;;[2013-05-20 前から未使用]    M_RTS
39798                            1582 I1  
39799                            1583 I1  
39800                            1584 I1  
39801                            1585 I1  ;       ***************************************************
39802                            1586 I1  ;       ***                                             ***
39803                            1587 I1  ;       ***             停止減速演算                    ***
39804                            1588 I1  ;       ***             x%->0%                          ***
39805                            1589 I1  ;       ***             距離を使用する                  ***
39806                            1590 I1  ;       ***                                             ***
39807                            1591 I1  ;       ***************************************************
39808                            1592 I1  ;A全工程(全段数に対して存在する)
39809                                 I1  ***** BEGIN-POOL *****
39810 00008CB0 0064                   I1  DATA FOR SOURCE-LINE 1491
39811 00008CB2 0000                   I1  ALIGNMENT CODE
39812 00008CB4 00000000               I1  DATA FOR SOURCE-LINE 1485
39813 00008CB8 00000000               I1  DATA FOR SOURCE-LINE 1489
39814 00008CBC 00000000               I1  DATA FOR SOURCE-LINE 1492
39815 00008CC0 00000000               I1  DATA FOR SOURCE-LINE 1495
39816                                 I1  ***** END-POOL *****
39817 00008CC4                   1593 I1  _TBLACC_STOP_SP_MAKE
39818                            1594 I1          SUB_START
39819 00008CC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
39820                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39821                            1595 I1  
39822 00008CC6 D107              1596 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
39823 00008CC8 6511              1597 I1          MOV.W   @R1,R5                  ;
39824                            1598 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   605
PROGRAM NAME =

39825                            1599 I1          FAR_JSR #_ACC_NUMBER_SELTBL1,R0 ;
39826 00008CCA D007                   M           MOV.L   #_ACC_NUMBER_SELTBL1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39827 00008CCC 400B                   M           JSR     @R0                     ;
39828 00008CCE 0009                   M           NOP                                     ;
39829                            1600 I1  
39830 00008CD0 D106              1601 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
39831 00008CD2 6512              1602 I1          MOV.L   @R1,R5                          ;
39832                            1603 I1  
39833 00008CD4 D006              1604 I1          MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
39834 00008CD6 6102              1605 I1          MOV.L   @R0,R1                          ;
39835 00008CD8 5201              1606 I1          MOV.L   @(4,R0),R2                      ;USED R2
39836                            1607 I1  
39837                            1608 I1          FAR_JSR #_POINT_SERCH_PLS_HOKAN1,R0     ;
39838 00008CDA D006                   M           MOV.L   #_POINT_SERCH_PLS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39839 00008CDC 400B                   M           JSR     @R0                     ;
39840 00008CDE 0009                   M           NOP                                     ;
39841                            1609 I1          M_BRA   TBLACC_STOPSP_MK500
39842 00008CE0 A00A                   M           BRA     TBLACC_STOPSP_MK500
39843 00008CE2 0009                   M           NOP
39844                            1610 I1  
39845                            1611 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
39846                            1612 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK100          ;
39847                            1613 I1  ;;;[2013-05-20 前から未使用]    NOP
39848                            1614 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_STOPSP_MK150
39849                            1615 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK100
39850                            1616 I1  ;;;[2013-05-20 前から未使用]    NOP
39851                            1617 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK150
39852                            1618 I1  ;;;[2013-05-20 前から未使用]
39853                            1619 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_STOP_POINT,R5             ;
39854                            1620 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
39855                            1621 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
39856                            1622 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK500          ;
39857                            1623 I1  ;;;[2013-05-20 前から未使用]
39858                            1624 I1  ;;;[2013-05-20 前から未使用]
39859                            1625 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
39860                            1626 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_STOPSP_MK200             ;NO! R0<R3 ok減速
                                          した
39861                            1627 I1  ;;;[2013-05-20 前から未使用]
39862                            1628 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
39863                            1629 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
39864                            1630 I1  ;;;[2013-05-20 前から未使用]
39865                            1631 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK200:
39866                            1632 I1  ;;;[2013-05-20 前から未使用]
39867                            1633 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
39868                            1634 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_STOPSP_MK400
39869                            1635 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
39870                            1636 I1  ;;;[2013-05-20 前から未使用]
39871                            1637 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK400
39872                            1638 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
39873                            1639 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
39874                            1640 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
39875                            1641 I1  ;;;[2013-05-20 前から未使用]
39876                            1642 I1  ;;;[2013-05-20 前から未使用]
39877                            1643 I1  ;;;[2013-05-20 前から未使用]
39878                                 I1  ***** BEGIN-POOL *****
39879 00008CE4 00000000               I1  DATA FOR SOURCE-LINE 1596
39880 00008CE8 00000000               I1  DATA FOR SOURCE-LINE 1599
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   606
PROGRAM NAME =

39881 00008CEC 00000000               I1  DATA FOR SOURCE-LINE 1601
39882 00008CF0 00000000               I1  DATA FOR SOURCE-LINE 1604
39883 00008CF4 00000000               I1  DATA FOR SOURCE-LINE 1608
39884                                 I1  ***** END-POOL *****
39885 00008CF8                   1644 I1  TBLACC_STOPSP_MK500                             ;
39886 00008CF8 D503              1645 I1          MOV.L   #_ACC_STOP_POINT,R5             ;
39887 00008CFA 2501              1646 I1          MOV.W   R0,@R5
39888 00008CFC D103              1647 I1          MOV.L   #_ACC_STOP_SPD,R1               ;最終速度から求まる
39889 00008CFE 2122              1648 I1          MOV.L   R2,@R1                          ;PLS/S
39890                            1649 I1  
39891                            1650 I1          SUB_END
39892                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39893 00008D00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39894                            1651 I1          M_RTS
39895 00008D02 000B                   M           RTS                             ;RTSの後ろの
39896 00008D04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39897                            1652 I1  
39898                            1653 I1  ;       ***************************************************
39899                            1654 I1  ;       ***                                             ***
39900                            1655 I1  ;       ***                                             ***
39901                            1656 I1  ;       ***             加速演算                        ***
39902                            1657 I1  ;       ***             減速演算                        ***
39903                            1658 I1  ;       ***                                             ***
39904                            1659 I1  ;       ***                                             ***
39905                            1660 I1  ;       ***************************************************
39906                            1661 I1  
39907                                 I1  ***** BEGIN-POOL *****
39908 00008D06 0000                   I1  ALIGNMENT CODE
39909 00008D08 00000000               I1  DATA FOR SOURCE-LINE 1645
39910 00008D0C 00000000               I1  DATA FOR SOURCE-LINE 1647
39911                                 I1  ***** END-POOL *****
39912 00008D10                   1662 I1  _TBLACC_STEP_SP_MAKE
39913                            1663 I1          SUB_START
39914 00008D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
39915                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39916                            1664 I1  
39917 00008D12 D115              1665 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
39918 00008D14 6511              1666 I1          MOV.W   @R1,R5                          ;
39919                            1667 I1          FAR_JSR #_ACC_NUMBER_SELTBL2,R0         ;
39920 00008D16 D015                   M           MOV.L   #_ACC_NUMBER_SELTBL2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39921 00008D18 400B                   M           JSR     @R0                     ;
39922 00008D1A 0009                   M           NOP                                     ;
39923                            1668 I1  
39924                            1669 I1  
39925 00008D1C D114              1670 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
39926 00008D1E 6011              1671 I1          MOV.W   @R1,R0                          ;
39927 00008D20 C804              1672 I1          TST     #BIT2,R0                        ;
39928                            1673 I1          TST_BIT_ON TBLACC_STEP_SPMAK_400        ;
39929 00008D22 8B5F                   M           BF      TBLACC_STEP_SPMAK_400
39930 00008D24 C803              1674 I1          TST     #(BIT1+BIT0),R0                 ;
39931                            1675 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
39932 00008D26 8B36                   M           BF      TBLACC_STEP_SPMAK_200
39933                            1676 I1  
39934 00008D28 D112              1677 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
39935 00008D2A 6011              1678 I1          MOV.W   @R1,R0                          ;
39936 00008D2C 2008              1679 I1          TST     R0,R0                           ;
39937                            1680 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   607
PROGRAM NAME =

39938 00008D2E 8B32                   M           BF      TBLACC_STEP_SPMAK_200
39939                            1681 I1  
39940                            1682 I1  ;;;;    MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
39941 00008D30 D011              1683 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R0         ;
39942 00008D32 6202              1684 I1          MOV.L   @R0,R2                          ;
39943                            1685 I1  
39944                            1686 I1  
39945                            1687 I1  ;       ========= DEBUG
39946 00008D34 D10C              1688 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
39947 00008D36 6011              1689 I1          MOV.W   @R1,R0                          ;
39948 00008D38 8802              1690 I1          CMP/EQ  #2,R0                           ;
39949 00008D3A 8B02              1691 I1          BF      DEBUG_JMP10                     ;
39950 00008D3C 0009              1692 I1          NOP
39951 00008D3E 0009              1693 I1          NOP
39952 00008D40 0009              1694 I1          NOP
39953 00008D42                   1695 I1  DEBUG_JMP10
39954                            1696 I1  
39955                            1697 I1  ;       -------------加減速直線演算固定させたいだけ2014-09-22
39956 00008D42 D10E              1698 I1          MOV.L   #_MOT_REP_F,R1                  ;//BIT0
39957 00008D44 6011              1699 I1          MOV.W   @R1,R0                          ;
39958 00008D46 C801              1700 I1          TST     #BIT0,R0                        ;
39959                            1701 I1          TST_BIT_ON TBLACC_STEP_SPMAK_CNST050
39960 00008D48 8B04                   M           BF      TBLACC_STEP_SPMAK_CNST050
39961                            1702 I1  
39962                            1703 I1          FAR_JSR #_POINT_SERCH_SPD1,R0           ;
39963 00008D4A D00D                   M           MOV.L   #_POINT_SERCH_SPD1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39964 00008D4C 400B                   M           JSR     @R0                     ;
39965 00008D4E 0009                   M           NOP                                     ;
39966                            1704 I1  
39967 00008D50 2008              1705 I1          TST     R0,R0                           ;
39968                            1706 I1          TST_BIT_ON TBLACC_STEP_SPMAK_100        ;範囲内でいる JUMP
39969 00008D52 8B1B                   M           BF      TBLACC_STEP_SPMAK_100
39970                            1707 I1  
39971 00008D54                   1708 I1  TBLACC_STEP_SPMAK_CNST050:
39972                            1709 I1  
39973                            1710 I1  ;一定加速・一定減速演算
39974                            1711 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT4,WKREG=R1       ;
39975 00008D54 D10B                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
39976 00008D56 6011                   M           MOV.W   @R1,R0          ;
39977 00008D58 CB10                   M           OR      #BIT4,R0                ;
39978 00008D5A 2101                   M           MOV.W   R0,@R1          ;
39979                            1712 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
39980 00008D5C D00A                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39981 00008D5E 400B                   M           JSR     @R0                     ;
39982 00008D60 0009                   M           NOP                                     ;
39983                            1713 I1          M_BRA   TBLACC_STEP_SPMAK_500   ;
39984 00008D62 A046                   M           BRA     TBLACC_STEP_SPMAK_500
39985 00008D64 0009                   M           NOP
39986                            1714 I1  
39987                            1715 I1  
39988                                 I1  ***** BEGIN-POOL *****
39989 00008D66 0000                   I1  ALIGNMENT CODE
39990 00008D68 00000000               I1  DATA FOR SOURCE-LINE 1665,1688
39991 00008D6C 00000000               I1  DATA FOR SOURCE-LINE 1667
39992 00008D70 00000000               I1  DATA FOR SOURCE-LINE 1670
39993 00008D74 00000000               I1  DATA FOR SOURCE-LINE 1677
39994 00008D78 00000000               I1  DATA FOR SOURCE-LINE 1683
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   608
PROGRAM NAME =

39995 00008D7C 00000000               I1  DATA FOR SOURCE-LINE 1698
39996 00008D80 00000000               I1  DATA FOR SOURCE-LINE 1703
39997 00008D84 00000000               I1  DATA FOR SOURCE-LINE 1711
39998 00008D88 00000000               I1  DATA FOR SOURCE-LINE 1712
39999                                 I1  ***** END-POOL *****
40000 00008D8C                   1716 I1  TBLACC_STEP_SPMAK_100
40001 00008D8C D108              1717 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40002 00008D8E 2101              1718 I1          MOV.W   R0,@R1                          ;
40003                            1719 I1  
40004 00008D90 900C              1720 I1          MOV.W   #BIT0,R0
40005 00008D92 D108              1721 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40006 00008D94 2101              1722 I1          MOV.W   R0,@R1                          ;
40007                            1723 I1  
40008                            1724 I1  
40009 00008D96                   1725 I1  TBLACC_STEP_SPMAK_200
40010 00008D96 6083              1726 I1          MOV     R8,R0                           ;
40011 00008D98 C804              1727 I1          TST     #BIT2,R0                        ;BIT2=0加速
40012                            1728 I1          TST_BIT_OF TBLACC_STEP_SPMAK_250        ;
40013 00008D9A 890D                   M           BT      TBLACC_STEP_SPMAK_250
40014                            1729 I1  ;       ---減速--
40015 00008D9C D104              1730 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40016 00008D9E 6011              1731 I1          MOV.W   @R1,R0                          ;
40017 00008DA0 8801              1732 I1          CMP/EQ  #1,R0                           ;
40018 00008DA2 891F              1733 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
40019 00008DA4 70FF              1734 I1          ADD     #-1,R0                          ;
40020 00008DA6 2101              1735 I1          MOV.W   R0,@R1                          ;
40021                            1736 I1          M_BRA   TBLACC_STEP_SPMAK_300           ;
40022 00008DA8 A00C                   M           BRA     TBLACC_STEP_SPMAK_300
40023 00008DAA 0009                   M           NOP
40024                            1737 I1  
40025                                 I1  ***** BEGIN-POOL *****
40026 00008DAC 0001                   I1  DATA FOR SOURCE-LINE 1720
40027 00008DAE 0000                   I1  ALIGNMENT CODE
40028 00008DB0 00000000               I1  DATA FOR SOURCE-LINE 1717,1730
40029 00008DB4 00000000               I1  DATA FOR SOURCE-LINE 1721
40030                                 I1  ***** END-POOL *****
40031 00008DB8                   1738 I1  TBLACC_STEP_SPMAK_250
40032                            1739 I1  ;       ---加速--
40033 00008DB8 D107              1740 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40034 00008DBA 6011              1741 I1          MOV.W   @R1,R0                          ;
40035 00008DBC 3062              1742 I1          CMP/HS  R6,R0                           ;
40036 00008DBE 8911              1743 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
40037 00008DC0 7001              1744 I1          ADD     #1,R0                           ;
40038 00008DC2 2101              1745 I1          MOV.W   R0,@R1                          ;
40039 00008DC4                   1746 I1  TBLACC_STEP_SPMAK_300
40040                            1747 I1          FAR_JSR #_POINT_GET_SPD1,R1             ;input R0
40041 00008DC4 D105                   M           MOV.L   #_POINT_GET_SPD1,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40042 00008DC6 410B                   M           JSR     @R1                     ;
40043 00008DC8 0009                   M           NOP                                     ;
40044                            1748 I1  
40045 00008DCA 9003              1749 I1          MOV.W   #(BIT1+BIT0),R0                 ;
40046 00008DCC D104              1750 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40047 00008DCE 2101              1751 I1          MOV.W   R0,@R1                          ;
40048                            1752 I1          M_BRA   TBLACC_STEP_SPMAK_500           ;
40049 00008DD0 A00F                   M           BRA     TBLACC_STEP_SPMAK_500
40050 00008DD2 0009                   M           NOP
40051                            1753 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   609
PROGRAM NAME =

40052                            1754 I1  ;       ---------LIMIT-ON  ---------
40053                                 I1  ***** BEGIN-POOL *****
40054 00008DD4 0003                   I1  DATA FOR SOURCE-LINE 1749
40055 00008DD6 0000                   I1  ALIGNMENT CODE
40056 00008DD8 00000000               I1  DATA FOR SOURCE-LINE 1740
40057 00008DDC 00000000               I1  DATA FOR SOURCE-LINE 1747
40058 00008DE0 00000000               I1  DATA FOR SOURCE-LINE 1750
40059                                 I1  ***** END-POOL *****
40060 00008DE4                   1755 I1  TBLACC_STEP_SPMAK_400
40061                            1756 I1  ;;;不要 MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
40062                            1757 I1  ;;不要  MOV.L   @R0,R2                          ;
40063                            1758 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
40064 00008DE4 D005                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40065 00008DE6 400B                   M           JSR     @R0                     ;
40066 00008DE8 0009                   M           NOP                                     ;
40067                            1759 I1  
40068                            1760 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1        ;
40069 00008DEA D105                   M           MOV.L   #_ACC_STEP_FLG,R1               ;
40070 00008DEC 6011                   M           MOV.W   @R1,R0          ;
40071 00008DEE CB04                   M           OR      #BIT2,R0                ;
40072 00008DF0 2101                   M           MOV.W   R0,@R1          ;
40073                            1761 I1  
40074 00008DF2                   1762 I1  TBLACC_STEP_SPMAK_500
40075 00008DF2 D104              1763 I1          MOV.L   #_ACC_STEP_SPD,R1               ;ステップ
40076 00008DF4 2122              1764 I1          MOV.L   R2,@R1                          ;
40077                            1765 I1  
40078                            1766 I1          SUB_END
40079                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40080 00008DF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40081                            1767 I1          M_RTS
40082 00008DF8 000B                   M           RTS                             ;RTSの後ろの
40083 00008DFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40084                            1768 I1  
40085                            1769 I1  
40086                            1770 I1  
40087                            1771 I1  ;       *******************************************
40088                            1772 I1  ;       ***                                     ***
40089                            1773 I1  ;       ***     各工程時のインフォメーション    ***
40090                            1774 I1  ;       ***                                     ***
40091                            1775 I1  ;       *******************************************
40092                            1776 I1  ;;      MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40093                            1777 I1  ;;      MOV.W   @R1,R6                          ;
40094                            1778 I1  ;;      MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40095                            1779 I1  ;;      MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40096                            1780 I1  ;       MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
40097                            1781 I1  ;       MOV.W   R0,R8                                   ;BIT2=[0=加速/1=減速]
40098                                 I1  ***** BEGIN-POOL *****
40099 00008DFC 00000000               I1  DATA FOR SOURCE-LINE 1758
40100 00008E00 00000000               I1  DATA FOR SOURCE-LINE 1760
40101 00008E04 00000000               I1  DATA FOR SOURCE-LINE 1763
40102                                 I1  ***** END-POOL *****
40103 00008E08                   1782 I1  _ACC_NUMBER_SELTBL1:
40104                            1783 I1          SUB_START
40105 00008E08 4F22                   M           STS.L   PR,@-R15                ;[必要]
40106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40107                            1784 I1  
40108 00008E0A 75FF              1785 I1          ADD     #-1,R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   610
PROGRAM NAME =

40109 00008E0C 4508              1786 I1          SHLL2   R5                                              ;*4byte
40110 00008E0E D607              1787 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
40111 00008E10 365C              1788 I1          ADD     R5,R6                                           ;
40112 00008E12 6062              1789 I1          MOV.L   @R6,R0
40113 00008E14 401E              1790 I1          LDC     R0,GBR
40114                            1791 I1  
40115 00008E16 C60B              1792 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0  ;
40116 00008E18 6601              1793 I1          MOV.W   @R0,R6                                  ;
40117 00008E1A C60C              1794 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
40118 00008E1C 6D03              1795 I1          MOV     R0,R13
40119 00008E1E C60A              1796 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0  ;
40120 00008E20 6B03              1797 I1          MOV     R0,R11                                  ;
40121 00008E22 C603              1798 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
40122 00008E24 6801              1799 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
40123                            1800 I1  
40124                            1801 I1          SUB_END
40125                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40126 00008E26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40127                            1802 I1          M_RTS
40128 00008E28 000B                   M           RTS                             ;RTSの後ろの
40129 00008E2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40130                            1803 I1  
40131                                 I1  ***** BEGIN-POOL *****
40132 00008E2C 00000000               I1  DATA FOR SOURCE-LINE 1787
40133                                 I1  ***** END-POOL *****
40134 00008E30                   1804 I1  _ACC_NUMBER_SELTBL2:
40135                            1805 I1          SUB_START
40136 00008E30 4F22                   M           STS.L   PR,@-R15                ;[必要]
40137                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40138                            1806 I1  
40139 00008E32 75FF              1807 I1          ADD     #-1,R5                                          ;
40140 00008E34 4508              1808 I1          SHLL2   R5                                              ;*4byte
40141 00008E36 D607              1809 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
40142 00008E38 365C              1810 I1          ADD     R5,R6                                           ;
40143 00008E3A 6062              1811 I1          MOV.L   @R6,R0
40144 00008E3C 401E              1812 I1          LDC     R0,GBR
40145                            1813 I1  
40146 00008E3E C607              1814 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0  ;
40147 00008E40 6601              1815 I1          MOV.W   @R0,R6                                  ;
40148                            1816 I1  ;;;;;   MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
40149                            1817 I1  ;;;;;   MOV     R0,R13
40150 00008E42 C606              1818 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0  ;
40151 00008E44 6B03              1819 I1          MOV     R0,R11                                  ;
40152 00008E46 6D03              1820 I1          MOV     R0,R13                                  ;
40153 00008E48 C603              1821 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
40154 00008E4A 6801              1822 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
40155                            1823 I1  
40156                            1824 I1          SUB_END
40157                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40158 00008E4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40159                            1825 I1          M_RTS
40160 00008E4E 000B                   M           RTS                             ;RTSの後ろの
40161 00008E50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40162                            1826 I1  
40163                            1827 I1  
40164                            1828 I1  ;AFM_SRC_TBL_TOP                .DATA.L         _ACC_IN_TBLUSE          ;元ﾃｰﾌﾞﾙADR(2byte)
40165                            1829 I1  ;AFM_SRC_TBL_MEM                .DATA.L         _ACC_IN_TBL_TIM         ;255msec WOD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   611
PROGRAM NAME =

40166                            1830 I1  ;AFM_STEP_INF_SPD       .DATA.L         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
40167                            1831 I1  ;AFM_STEP_INF_FLG       .DATA.L         _ACC_INF1_STEP001       ;//BIT2=[加速:0/減速:1] BI
                                          T1=[]   BIT0=0(停止) =1(連続)
40168                            1832 I1  ;AFM_OLD_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;(STEP1では使用し
                                          ない)
40169                            1833 I1  ;AFM_DST_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;
40170                            1834 I1  ;AFM_DST_CTLACTM                .DATA.L         _ACC_STEP001_ACTM       ;
40171                            1835 I1  ;AFM_OLD_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
40172                            1836 I1  ;AFM_DST_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
40173                            1837 I1  ;AFM_DST_STPACTM                .DATA.L         _ACC_STOP001_ACTM       ;
40174                            1838 I1  ;AFM_DST_STPPTBL                .DATA.L         _ACC_STOP001_PTBL       ;
40175                            1839 I1  
40176                            1840 I1  ;       *******************************************
40177                            1841 I1  ;       ***                                     ***
40178                            1842 I1  ;       ***             サーチ                  ***
40179                            1843 I1  ;       ***             速度型サーチ            ***
40180                            1844 I1  ;       ***                                     ***
40181                            1845 I1  ;       *******************************************
40182                            1846 I1  ;       テーブルは増加方向である
40183                            1847 I1  ;       サーチは加速方向と減速方向がある。
40184                            1848 I1  ;
40185                            1849 I1  ;       Input 現在速度 R2 ()
40186                            1850 I1  ;             TABEL_TOP_ADR R13
40187                            1851 I1  ;             TABEL個数(加減速時間+1)をもらう R6
40188                            1852 I1  ;               ﾃｰﾌﾞﾙ方向
40189                            1853 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする) 1:減速（小さくなる限界点をサー
                                          チする）
40190                            1854 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
40191                            1855 I1  ;
40192                            1856 I1  ;       MAX 10回:1023まで
40193                            1857 I1  ;       0~15(16個)   4回   5bit
40194                            1858 I1  ;       0~31(32個)   5回   6
40195                            1859 I1  ;       0~63(64個)   6回   7
40196                            1860 I1  ;       0~127(128個) 7回   8
40197                            1861 I1  ;       0~255(256個) 8回   9
40198                            1862 I1  ;       0~511(512個) 9回   10
40199                            1863 I1  ;       0~1023(1024個)10回 11
40200                            1864 I1  ;
40201                            1865 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40202                            1866 I1  ;       MOV.W   @R1,R6                          ;
40203                            1867 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40204                            1868 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40205                            1869 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40206                            1870 I1  ;       MOV.L   @R1,R5                          ;
40207                            1871 I1  ;
40208                            1872 I1  ;
40209                            1873 I1  ;
40210                            1874 I1  ;
40211                            1875 I1  ;
40212                                 I1  ***** BEGIN-POOL *****
40213 00008E52 0000                   I1  ALIGNMENT CODE
40214 00008E54 00000000               I1  DATA FOR SOURCE-LINE 1809
40215                                 I1  ***** END-POOL *****
40216 00008E58                   1876 I1  _POINT_SERCH_SPD1
40217                            1877 I1          SUB_START
40218 00008E58 4F22                   M           STS.L   PR,@-R15                ;[必要]
40219                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   612
PROGRAM NAME =

40220                            1878 I1          PUSH_REG1 R2
40221 00008E5A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
40222                                 M                                           ;REG=>[SP]
40223                                 M                                           ;"-4" FF,FF,FF,FC
40224                            1879 I1  
40225 00008E5C D00A              1880 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40226 00008E5E 6402              1881 I1          MOV.L   @R0,R4                          ;
40227 00008E60 9110              1882 I1          MOV.W   #_ACC_PER_V_MAX,R1              ;
40228                            1883 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
40229 00008E62 D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40230 00008E64 400B                   M           JSR     @R0                     ;
40231 00008E66 0009                   M           NOP                                     ;
40232                            1884 I1  
40233 00008E68 6063              1885 I1          MOV     R6,R0                           ;加減速時間
40234 00008E6A 4000              1886 I1          SHLL    R0                              ;2byte
40235 00008E6C 01BD              1887 I1          MOV.W   @(R0,R11),R1                    ;(V)
40236 00008E6E 3216              1888 I1          CMP/HI  R1,R2                           ;
40237 00008E70 8910              1889 I1          BT      POINT_SERCHSPD1_100             ;最大よりも大きい:範囲外
40238                            1890 I1  
40239 00008E72 61B1              1891 I1          MOV.W   @R11,R1                         ;(V)MIN
40240 00008E74 3126              1892 I1          CMP/HI  R2,R1                           ;
40241 00008E76 890D              1893 I1          BT      POINT_SERCHSPD1_100             ;最小よりも小さい:範囲外
40242                            1894 I1  
40243                            1895 I1          FAR_JSR #_POINT_SERCH_BIG_2B,R0         ;
40244 00008E78 D005                   M           MOV.L   #_POINT_SERCH_BIG_2B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40245 00008E7A 400B                   M           JSR     @R0                     ;
40246 00008E7C 0009                   M           NOP                                     ;
40247 00008E7E 6093              1896 I1          MOV     R9,R0                           ;
40248                            1897 I1          M_BRA   POINT_SERCHSPD1_END             ;
40249 00008E80 A00B                   M           BRA     POINT_SERCHSPD1_END
40250 00008E82 0009                   M           NOP
40251                            1898 I1  
40252                            1899 I1  
40253                            1900 I1  
40254                                 I1  ***** BEGIN-POOL *****
40255 00008E84 2710                   I1  DATA FOR SOURCE-LINE 1882
40256 00008E86 0000                   I1  ALIGNMENT CODE
40257 00008E88 00000000               I1  DATA FOR SOURCE-LINE 1880
40258 00008E8C 00000000               I1  DATA FOR SOURCE-LINE 1883
40259 00008E90 00000000               I1  DATA FOR SOURCE-LINE 1895
40260                                 I1  ***** END-POOL *****
40261 00008E94                   1901 I1  POINT_SERCHSPD1_100:                            ;
40262 00008E94 200A              1902 I1          XOR     R0,R0                           ;範囲外
40263                            1903 I1          M_BRA   POINT_SERCHSPD1_END             ;
40264 00008E96 A000                   M           BRA     POINT_SERCHSPD1_END
40265 00008E98 0009                   M           NOP
40266                            1904 I1  
40267 00008E9A                   1905 I1  POINT_SERCHSPD1_END:                            ;
40268                            1906 I1  
40269                            1907 I1          POP_REG1 R2
40270                                 M                                   ; RE"+4" 00,00,00,04
40271 00008E9A 62F6                   M           MOV.L   @R15+,R2        ;
40272                            1908 I1          SUB_END
40273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40274 00008E9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40275                            1909 I1          M_RTS
40276 00008E9E 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   613
PROGRAM NAME =

40277 00008EA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40278                            1910 I1  
40279                            1911 I1  
40280                            1912 I1  ;input R0
40281 00008EA2                   1913 I1  _POINT_GET_SPD1
40282                            1914 I1          SUB_START
40283 00008EA2 4F22                   M           STS.L   PR,@-R15                ;[必要]
40284                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40285 00008EA4 4000              1915 I1          SHLL    R0                              ;2byte
40286 00008EA6 02BD              1916 I1          MOV.W   @(R0,R11),R2                    ;
40287 00008EA8 D004              1917 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40288 00008EAA 6102              1918 I1          MOV.L   @R0,R1                          ;
40289 00008EAC 9405              1919 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
40290                            1920 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;ANS R2
40291 00008EAE D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40292 00008EB0 400B                   M           JSR     @R0                     ;
40293 00008EB2 0009                   M           NOP                                     ;
40294                            1921 I1          SUB_END
40295                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40296 00008EB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40297                            1922 I1          M_RTS
40298 00008EB6 000B                   M           RTS                             ;RTSの後ろの
40299 00008EB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40300                            1923 I1  
40301                            1924 I1  
40302                            1925 I1  
40303                            1926 I1  
40304                            1927 I1  
40305                            1928 I1  
40306                            1929 I1  ;       *******************************************
40307                            1930 I1  ;       ***                                     ***
40308                            1931 I1  ;       ***             サーチ                  ***
40309                            1932 I1  ;       ***             位置型サーチ            ***
40310                            1933 I1  ;       ***                                     ***
40311                            1934 I1  ;       *******************************************
40312                            1935 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40313                            1936 I1  ;       MOV.W   @R1,R6                          ;
40314                            1937 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40315                            1938 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40316                            1939 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40317                            1940 I1  ;       MOV.L   @R1,R5                          ;
40318                            1941 I1  ;
40319                            1942 I1  ;       [減速位置のため]
40320                            1943 I1  ;
40321                                 I1  ***** BEGIN-POOL *****
40322 00008EBA 2710                   I1  DATA FOR SOURCE-LINE 1919
40323 00008EBC 00000000               I1  DATA FOR SOURCE-LINE 1917
40324 00008EC0 00000000               I1  DATA FOR SOURCE-LINE 1920
40325                                 I1  ***** END-POOL *****
40326 00008EC4                   1944 I1  _POINT_SERCH_PLS1
40327                            1945 I1          SUB_START
40328 00008EC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
40329                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40330                            1946 I1  
40331 00008EC6 D40E              1947 I1          MOV.L   #_ACC_REST_FLG,R4               ;
40332 00008EC8 6041              1948 I1          MOV.W   @R4,R0                          ;
40333 00008ECA 2008              1949 I1          TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   614
PROGRAM NAME =

40334                            1950 I1          TST_BIT_OF POINT_SERCHPLS1_100          ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
40335 00008ECC 8920                   M           BT      POINT_SERCHPLS1_100
40336                            1951 I1  
40337 00008ECE 6063              1952 I1          MOV     R6,R0                           ;加減速時間
40338 00008ED0 4008              1953 I1          SHLL2   R0                              ;4byte
40339 00008ED2 01DE              1954 I1          MOV.L   @(R0,R13),R1                    ;(P)
40340 00008ED4 3216              1955 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
40341 00008ED6 891B              1956 I1          BT      POINT_SERCHPLS1_100             ;
40342                            1957 I1  
40343                            1958 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
40344 00008ED8 D00A                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40345 00008EDA 400B                   M           JSR     @R0                     ;
40346 00008EDC 0009                   M           NOP                                     ;
40347                            1959 I1  ;;;;不要        ADD     #-1,R9                          ;
40348 00008EDE 4915              1960 I1          CMP/PL  R9                              ;
40349 00008EE0 8900              1961 I1          BT      POINT_SERCHPLS1_050             ;
40350 00008EE2 990A              1962 I1          MOV.W   #1,R9                           ;
40351 00008EE4                   1963 I1  POINT_SERCHPLS1_050:
40352 00008EE4 6093              1964 I1          MOV     R9,R0                           ;
40353 00008EE6 4000              1965 I1          SHLL    R0                              ;2byte
40354 00008EE8 01BD              1966 I1          MOV.W   @(R0,R11),R1                    ;(V)SPEED
40355 00008EEA D007              1967 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40356 00008EEC 6202              1968 I1          MOV.L   @R0,R2                          ;
40357 00008EEE 9405              1969 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
40358                            1970 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
40359 00008EF0 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40360 00008EF2 400B                   M           JSR     @R0                     ;
40361 00008EF4 0009                   M           NOP                                     ;
40362                            1971 I1          M_BRA   POINT_SERCHPLS1_200             ;PLS/sec
40363 00008EF6 A00F                   M           BRA     POINT_SERCHPLS1_200
40364 00008EF8 0009                   M           NOP
40365                            1972 I1  
40366                                 I1  ***** BEGIN-POOL *****
40367 00008EFA 0001                   I1  DATA FOR SOURCE-LINE 1962
40368 00008EFC 2710                   I1  DATA FOR SOURCE-LINE 1969
40369 00008EFE 0000                   I1  ALIGNMENT CODE
40370 00008F00 00000000               I1  DATA FOR SOURCE-LINE 1947
40371 00008F04 00000000               I1  DATA FOR SOURCE-LINE 1958
40372 00008F08 00000000               I1  DATA FOR SOURCE-LINE 1967
40373 00008F0C 00000000               I1  DATA FOR SOURCE-LINE 1970
40374                                 I1  ***** END-POOL *****
40375 00008F10                   1973 I1  POINT_SERCHPLS1_100:
40376 00008F10 6253              1974 I1          MOV     R5,R2
40377 00008F12 200A              1975 I1          XOR     R0,R0
40378                            1976 I1          M_BRA   POINT_SERCHPLS1_END             ;
40379 00008F14 A001                   M           BRA     POINT_SERCHPLS1_END
40380 00008F16 0009                   M           NOP
40381 00008F18                   1977 I1  POINT_SERCHPLS1_200:                            ;
40382 00008F18 6093              1978 I1          MOV     R9,R0                           ;POINTER(0以外)
40383 00008F1A                   1979 I1  POINT_SERCHPLS1_END:
40384                            1980 I1  
40385                            1981 I1          SUB_END
40386                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40387 00008F1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40388                            1982 I1          M_RTS
40389 00008F1C 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   615
PROGRAM NAME =

40390 00008F1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40391                            1983 I1  
40392                            1984 I1  
40393                            1985 I1  
40394                            1986 I1  ;       *******************************************
40395                            1987 I1  ;       ***                                     ***
40396                            1988 I1  ;       ***             サーチ                  ***
40397                            1989 I1  ;       ***             位置型サーチ            ***
40398                            1990 I1  ;       ***                                     ***
40399                            1991 I1  ;       *******************************************
40400                            1992 I1  ;R5
40401 00008F20                   1993 I1  _POINT_SERCH_PLS_HOKAN1
40402                            1994 I1          SUB_START
40403 00008F20 4F22                   M           STS.L   PR,@-R15                ;[必要]
40404                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40405                            1995 I1          PUSH_REG1 R6
40406 00008F22 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
40407                                 M                                           ;REG=>[SP]
40408                                 M                                           ;"-4" FF,FF,FF,FC
40409                            1996 I1          PUSH_REG1 R7
40410 00008F24 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
40411                                 M                                           ;REG=>[SP]
40412                                 M                                           ;"-4" FF,FF,FF,FC
40413                            1997 I1          PUSH_REG1 R8
40414 00008F26 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
40415                                 M                                           ;REG=>[SP]
40416                                 M                                           ;"-4" FF,FF,FF,FC
40417                            1998 I1  
40418 00008F28 D416              1999 I1          MOV.L   #_ACC_REST_FLG,R4               ;
40419 00008F2A 6041              2000 I1          MOV.W   @R4,R0                          ;
40420 00008F2C 2008              2001 I1          TST     R0,R0                           ;
40421                            2002 I1          TST_BIT_OF POINT_SERCHPLS_HKN1_400      ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
40422 00008F2E 8933                   M           BT      POINT_SERCHPLS_HKN1_400
40423                            2003 I1  ;-----ｵｰﾊﾞﾌﾛｰはしない-----
40424 00008F30 6063              2004 I1          MOV     R6,R0                           ;加減速時間
40425 00008F32 4008              2005 I1          SHLL2   R0                              ;4byte
40426 00008F34 01DE              2006 I1          MOV.L   @(R0,R13),R1                    ;(P)
40427 00008F36 3216              2007 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
40428 00008F38 892E              2008 I1          BT      POINT_SERCHPLS_HKN1_400         ;
40429                            2009 I1  
40430                            2010 I1          PUSH_REG1 R2                            ;残り距離ﾊﾟﾙｽ
40431 00008F3A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
40432                                 M                                           ;REG=>[SP]
40433                                 M                                           ;"-4" FF,FF,FF,FC
40434                            2011 I1  
40435                            2012 I1  
40436                            2013 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
40437 00008F3C D012                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40438 00008F3E 400B                   M           JSR     @R0                     ;
40439 00008F40 0009                   M           NOP                                     ;
40440 00008F42 6893              2014 I1          MOV     R9,R8                           ;
40441                            2015 I1  
40442 00008F44 4915              2016 I1          CMP/PL  R9                              ;
40443 00008F46 8900              2017 I1          BT      POINT_SERCHPLS_HKN1_050         ;
40444 00008F48 991A              2018 I1          MOV.W   #1,R9                           ;
40445 00008F4A                   2019 I1  POINT_SERCHPLS_HKN1_050:                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   616
PROGRAM NAME =

40446 00008F4A 6093              2020 I1          MOV     R9,R0                           ;
40447 00008F4C 4000              2021 I1          SHLL    R0                              ;2byte
40448 00008F4E 03BD              2022 I1          MOV.W   @(R0,R11),R3                    ;(Yn_1)SPEED
40449 00008F50 4000              2023 I1          SHLL    R0
40450 00008F52 05DE              2024 I1          MOV.L   @(R0,R13),R5                    ;(Xn_1)POS
40451                            2025 I1  
40452 00008F54 7801              2026 I1          ADD     #1,R8                           ;
40453 00008F56 3682              2027 I1          CMP/HS  R8,R6                           ;
40454 00008F58 8900              2028 I1          BT      POINT_SERCHPLS_HKN1_100         ;
40455 00008F5A 6863              2029 I1          MOV     R6,R8                           ;加減速時間
40456 00008F5C                   2030 I1  POINT_SERCHPLS_HKN1_100:                        ;
40457 00008F5C 6083              2031 I1          MOV     R8,R0                           ;
40458 00008F5E 4000              2032 I1          SHLL    R0                              ;2byte
40459 00008F60 02BD              2033 I1          MOV.W   @(R0,R11),R2                    ;(Yn)SPEED
40460 00008F62 4000              2034 I1          SHLL    R0
40461 00008F64 04DE              2035 I1          MOV.L   @(R0,R13),R4                    ;(Xn_1)POS
40462                            2036 I1  
40463                            2037 I1          POP_REG1 R1                             ;残り距離ﾊﾟﾙｽ
40464                                 M                                   ; RE"+4" 00,00,00,04
40465 00008F66 61F6                   M           MOV.L   @R15+,R1        ;
40466 00008F68 6623              2038 I1          MOV     R2,R6                           ;
40467                            2039 I1  
40468                            2040 I1  ;       R3:Yn_1         R5:Xn_1
40469                            2041 I1  ;       R2:Yn           R4:Xn
40470                            2042 I1  ;       ANS:R2=y        R1:x
40471                            2043 I1  ;       limit R6(Yn)
40472                            2044 I1  
40473                            2045 I1          FAR_JSR #_FPU_POS_HOKAN1,R0             ;V%=算出 R2
40474 00008F6A D008                   M           MOV.L   #_FPU_POS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40475 00008F6C 400B                   M           JSR     @R0                     ;
40476 00008F6E 0009                   M           NOP                                     ;
40477                            2046 I1  
40478 00008F70 D007              2047 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40479 00008F72 6102              2048 I1          MOV.L   @R0,R1                          ;
40480 00008F74 9405              2049 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
40481                            2050 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
40482 00008F76 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40483 00008F78 400B                   M           JSR     @R0                     ;
40484 00008F7A 0009                   M           NOP                                     ;
40485                            2051 I1          M_BRA   POINT_SERCHPLS_HKN1_500         ;PLS/sec
40486 00008F7C A010                   M           BRA     POINT_SERCHPLS_HKN1_500
40487 00008F7E 0009                   M           NOP
40488                            2052 I1  
40489                                 I1  ***** BEGIN-POOL *****
40490 00008F80 0001                   I1  DATA FOR SOURCE-LINE 2018
40491 00008F82 2710                   I1  DATA FOR SOURCE-LINE 2049
40492 00008F84 00000000               I1  DATA FOR SOURCE-LINE 1999
40493 00008F88 00000000               I1  DATA FOR SOURCE-LINE 2013
40494 00008F8C 00000000               I1  DATA FOR SOURCE-LINE 2045
40495 00008F90 00000000               I1  DATA FOR SOURCE-LINE 2047
40496 00008F94 00000000               I1  DATA FOR SOURCE-LINE 2050
40497                                 I1  ***** END-POOL *****
40498 00008F98                   2053 I1  POINT_SERCHPLS_HKN1_400:
40499 00008F98 6253              2054 I1          MOV     R5,R2
40500 00008F9A 200A              2055 I1          XOR     R0,R0
40501                            2056 I1          M_BRA   POINT_SERCHPLS_HKN1_END         ;
40502 00008F9C A001                   M           BRA     POINT_SERCHPLS_HKN1_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   617
PROGRAM NAME =

40503 00008F9E 0009                   M           NOP
40504                            2057 I1  
40505 00008FA0                   2058 I1  POINT_SERCHPLS_HKN1_500:                        ;
40506 00008FA0 6093              2059 I1          MOV     R9,R0                           ;POINTER(0以外)
40507 00008FA2                   2060 I1  POINT_SERCHPLS_HKN1_END:
40508                            2061 I1  
40509                            2062 I1  
40510                            2063 I1          POP_REG1 R8
40511                                 M                                   ; RE"+4" 00,00,00,04
40512 00008FA2 68F6                   M           MOV.L   @R15+,R8        ;
40513                            2064 I1          POP_REG1 R7
40514                                 M                                   ; RE"+4" 00,00,00,04
40515 00008FA4 67F6                   M           MOV.L   @R15+,R7        ;
40516                            2065 I1          POP_REG1 R6
40517                                 M                                   ; RE"+4" 00,00,00,04
40518 00008FA6 66F6                   M           MOV.L   @R15+,R6        ;
40519                            2066 I1  
40520                            2067 I1          SUB_END
40521                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40522 00008FA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40523                            2068 I1          M_RTS
40524 00008FAA 000B                   M           RTS                             ;RTSの後ろの
40525 00008FAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40526                            2069 I1  
40527                            2070 I1  
40528                            2071 I1  
40529                            2072 I1  
40530                            2073 I1  
40531                            2074 I1  ;       *******************************************
40532                            2075 I1  ;       ***                                     ***
40533                            2076 I1  ;       ***             サーチ                  ***
40534                            2077 I1  ;       ***                                     ***
40535                            2078 I1  ;       *******************************************
40536                            2079 I1  ;       テーブルは増加方向である
40537                            2080 I1  ;       サーチは加速方向で行う
40538                            2081 I1  ;
40539                            2082 I1  ;       Input 現在速度 R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
40540                            2083 I1  ;                                加速時はnをそのまま使用する
40541                            2084 I1  ;                                減速時はn-1を使用
40542                            2085 I1  ;             TABEL_TOP_ADR R13
40543                            2086 I1  ;             TABEL個数-1(加減速時間)をもらう R6
40544                            2087 I1  ;               ﾃｰﾌﾞﾙ方向
40545                            2088 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする)
40546                            2089 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
40547                            2090 I1  ;
40548                            2091 I1  ;       MAX 10回:1023まで
40549                            2092 I1  ;       0~15(16個)   4回   5bit
40550                            2093 I1  ;       0~31(32個)   5回   6
40551                            2094 I1  ;       0~63(64個)   6回   7
40552                            2095 I1  ;       0~127(128個) 7回   8
40553                            2096 I1  ;       0~255(256個) 8回   9
40554                            2097 I1  ;       0~511(512個) 9回   10
40555                            2098 I1  ;       0~1023(1024個)10回 11
40556                            2099 I1  
40557                            2100 I1  ;       *******************************************
40558                            2101 I1  ;       ***                                     ***
40559                            2102 I1  ;       ***     2byte ｻｰﾁ                       ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   618
PROGRAM NAME =

40560                            2103 I1  ;       ***                                     ***
40561                            2104 I1  ;       *******************************************
40562                            2105 I1  ;       ANS R9
40563                            2106 I1  ;
40564 00008FAE                   2107 I1  _POINT_SERCH_BIG_2B
40565                            2108 I1          SUB_START
40566 00008FAE 4F22                   M           STS.L   PR,@-R15                ;[必要]
40567                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40568                            2109 I1          PUSH_REG1 R6
40569 00008FB0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
40570                                 M                                           ;REG=>[SP]
40571                                 M                                           ;"-4" FF,FF,FF,FC
40572                            2110 I1          PUSH_REG1 R7
40573 00008FB2 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
40574                                 M                                           ;REG=>[SP]
40575                                 M                                           ;"-4" FF,FF,FF,FC
40576                            2111 I1          PUSH_REG1 R8
40577 00008FB4 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
40578                                 M                                           ;REG=>[SP]
40579                                 M                                           ;"-4" FF,FF,FF,FC
40580                            2112 I1          PUSH_REG1 R10
40581 00008FB6 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
40582                                 M                                           ;REG=>[SP]
40583                                 M                                           ;"-4" FF,FF,FF,FC
40584                            2113 I1          PUSH_REG1 R11
40585 00008FB8 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
40586                                 M                                           ;REG=>[SP]
40587                                 M                                           ;"-4" FF,FF,FF,FC
40588                            2114 I1          PUSH_REG1 R12
40589 00008FBA 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
40590                                 M                                           ;REG=>[SP]
40591                                 M                                           ;"-4" FF,FF,FF,FC
40592                            2115 I1          PUSH_REG1 R13
40593 00008FBC 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
40594                                 M                                           ;REG=>[SP]
40595                                 M                                           ;"-4" FF,FF,FF,FC
40596                            2116 I1          PUSH_REG1 R14
40597 00008FBE 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
40598                                 M                                           ;REG=>[SP]
40599                                 M                                           ;"-4" FF,FF,FF,FC
40600                            2117 I1  
40601 00008FC0 6763              2118 I1          MOV     R6,R7                           ;カウンタ個数
40602                            2119 I1  
40603 00008FC2 288A              2120 I1          XOR     R8,R8                           ;min
40604 00008FC4 6A73              2121 I1          MOV     R7,R10                          ;max
40605 00008FC6 4701              2122 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
40606 00008FC8 6973              2123 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
40607                            2124 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
40608                            2125 I1  
40609 00008FCA 277A              2126 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
40610                            2127 I1  
40611 00008FCC 6B83              2128 I1          MOV     R8,R11                          ;MIN
40612 00008FCE 6CA3              2129 I1          MOV     R10,R12                         ;MAX
40613                            2130 I1  
40614                            2131 I1  
40615 00008FD0                   2132 I1  PINT_SERCH_BIG2B_200LOP
40616                            2133 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   619
PROGRAM NAME =

40617                            2134 I1  ;======= 2byte/4byteの相違部分=====
40618 00008FD0 6093              2135 I1          MOV     R9,R0                           ;ANS R9
40619 00008FD2 4000              2136 I1          SHLL    R0                              ;2byte
40620 00008FD4 01DD              2137 I1          MOV.W   @(R0,R13),R1                    ;2byte SV
40621                            2138 I1  
40622 00008FD6 3210              2139 I1          CMP/EQ  R1,R2                           ;
40623 00008FD8 8914              2140 I1          BT      PINT_SERCH_BIG2B_800            ;ﾋﾟｯﾀﾘ賞
40624 00008FDA 3212              2141 I1          CMP/HS  R1,R2                           ;SV=<PV
40625 00008FDC 8904              2142 I1          BT      PINT_SERCH_BIG2B_300            ;YES:大きい
40626                            2143 I1  
40627                            2144 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
40628 00008FDE 6A93              2145 I1          MOV     R9,R10                          ;
40629 00008FE0 398C              2146 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
40630 00008FE2 4901              2147 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
40631                            2148 I1          M_BRA   PINT_SERCH_BIG2B_500            ;
40632 00008FE4 A003                   M           BRA     PINT_SERCH_BIG2B_500
40633 00008FE6 0009                   M           NOP
40634                            2149 I1  
40635                            2150 I1  
40636                            2151 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
40637 00008FE8                   2152 I1  PINT_SERCH_BIG2B_300
40638 00008FE8 6893              2153 I1          MOV     R9,R8                           ;
40639 00008FEA 39AC              2154 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
40640 00008FEC 4901              2155 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
40641                            2156 I1  
40642 00008FEE                   2157 I1  PINT_SERCH_BIG2B_500
40643 00008FEE 7701              2158 I1          ADD     #1,R7                           ;デバック
40644                            2159 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
40645 00008FF0 3B80              2160 I1          CMP/EQ  R8,R11                          ;
40646 00008FF2 8B03              2161 I1          BF      PINT_SERCH_BIG2B_600            ;MIN=OLD-MIN NO
40647 00008FF4 3CA0              2162 I1          CMP/EQ  R10,R12                         ;
40648 00008FF6 8B01              2163 I1          BF      PINT_SERCH_BIG2B_600            ;MAX=OLD-MAX NO
40649                            2164 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
40650 00008FF8 A038                   M           BRA     PINT_SERCH_BIG4B_900
40651 00008FFA 0009                   M           NOP
40652                            2165 I1  
40653                            2166 I1  
40654 00008FFC                   2167 I1  PINT_SERCH_BIG2B_600
40655 00008FFC 6B83              2168 I1          MOV     R8,R11                          ;
40656 00008FFE 6CA3              2169 I1          MOV     R10,R12                         ;
40657                            2170 I1          M_BRA   PINT_SERCH_BIG2B_200LOP         ;
40658 00009000 AFE6                   M           BRA     PINT_SERCH_BIG2B_200LOP
40659 00009002 0009                   M           NOP
40660                            2171 I1  
40661                            2172 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
40662 00009004                   2173 I1  PINT_SERCH_BIG2B_800
40663                            2174 I1  ;       ----------- R9:ANS--------------
40664 00009004                   2175 I1  PINT_SERCH_BIG2B_900
40665                            2176 I1  
40666                            2177 I1          POP_REG1 R14
40667                                 M                                   ; RE"+4" 00,00,00,04
40668 00009004 6EF6                   M           MOV.L   @R15+,R14        ;
40669                            2178 I1          POP_REG1 R13
40670                                 M                                   ; RE"+4" 00,00,00,04
40671 00009006 6DF6                   M           MOV.L   @R15+,R13        ;
40672                            2179 I1          POP_REG1 R12
40673                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   620
PROGRAM NAME =

40674 00009008 6CF6                   M           MOV.L   @R15+,R12        ;
40675                            2180 I1          POP_REG1 R11
40676                                 M                                   ; RE"+4" 00,00,00,04
40677 0000900A 6BF6                   M           MOV.L   @R15+,R11        ;
40678                            2181 I1          POP_REG1 R10
40679                                 M                                   ; RE"+4" 00,00,00,04
40680 0000900C 6AF6                   M           MOV.L   @R15+,R10        ;
40681                            2182 I1          POP_REG1 R8
40682                                 M                                   ; RE"+4" 00,00,00,04
40683 0000900E 68F6                   M           MOV.L   @R15+,R8        ;
40684                            2183 I1          POP_REG1 R7
40685                                 M                                   ; RE"+4" 00,00,00,04
40686 00009010 67F6                   M           MOV.L   @R15+,R7        ;
40687                            2184 I1          POP_REG1 R6
40688                                 M                                   ; RE"+4" 00,00,00,04
40689 00009012 66F6                   M           MOV.L   @R15+,R6        ;
40690                            2185 I1          SUB_END
40691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40692 00009014 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40693                            2186 I1          M_RTS
40694 00009016 000B                   M           RTS                             ;RTSの後ろの
40695 00009018 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40696                            2187 I1  
40697                            2188 I1  
40698                            2189 I1  
40699                            2190 I1  ;       *******************************************
40700                            2191 I1  ;       ***                                     ***
40701                            2192 I1  ;       ***     4byte ｻｰﾁ                       ***
40702                            2193 I1  ;       ***                                     ***
40703                            2194 I1  ;       *******************************************
40704                            2195 I1  ;       Input 現在ﾊﾟﾙｽ R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
40705                            2196 I1  ;                                減速時はn-1を使用する
40706                            2197 I1  ;       Input TABEL_TOP_ADR R13
40707                            2198 I1  ;       Input TABEL個数-1(加減速時間)をもらう R6
40708                            2199 I1  ;
40709                            2200 I1  ;       ANS R9 TABLE NO.
40710                            2201 I1  ;
40711 0000901A                   2202 I1  _POINT_SERCH_BIG_4B
40712                            2203 I1          SUB_START
40713 0000901A 4F22                   M           STS.L   PR,@-R15                ;[必要]
40714                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40715                            2204 I1          PUSH_REG1 R6
40716 0000901C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
40717                                 M                                           ;REG=>[SP]
40718                                 M                                           ;"-4" FF,FF,FF,FC
40719                            2205 I1          PUSH_REG1 R7
40720 0000901E 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
40721                                 M                                           ;REG=>[SP]
40722                                 M                                           ;"-4" FF,FF,FF,FC
40723                            2206 I1          PUSH_REG1 R8
40724 00009020 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
40725                                 M                                           ;REG=>[SP]
40726                                 M                                           ;"-4" FF,FF,FF,FC
40727                            2207 I1          PUSH_REG1 R10
40728 00009022 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
40729                                 M                                           ;REG=>[SP]
40730                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   621
PROGRAM NAME =

40731                            2208 I1          PUSH_REG1 R11
40732 00009024 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
40733                                 M                                           ;REG=>[SP]
40734                                 M                                           ;"-4" FF,FF,FF,FC
40735                            2209 I1          PUSH_REG1 R12
40736 00009026 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
40737                                 M                                           ;REG=>[SP]
40738                                 M                                           ;"-4" FF,FF,FF,FC
40739                            2210 I1          PUSH_REG1 R13
40740 00009028 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
40741                                 M                                           ;REG=>[SP]
40742                                 M                                           ;"-4" FF,FF,FF,FC
40743                            2211 I1          PUSH_REG1 R14
40744 0000902A 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
40745                                 M                                           ;REG=>[SP]
40746                                 M                                           ;"-4" FF,FF,FF,FC
40747                            2212 I1  
40748 0000902C 6763              2213 I1          MOV     R6,R7                           ;カウンタ個数
40749                            2214 I1  
40750 0000902E 288A              2215 I1          XOR     R8,R8                           ;min
40751 00009030 6A73              2216 I1          MOV     R7,R10                          ;max
40752 00009032 4701              2217 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
40753 00009034 6973              2218 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
40754                            2219 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
40755 00009036 277A              2220 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
40756                            2221 I1  
40757 00009038                   2222 I1  PINT_SERCH_BIG4B_200LOP
40758                            2223 I1  
40759                            2224 I1  ;======= 2byte/4byteの相違部分=====
40760 00009038 6093              2225 I1          MOV     R9,R0                           ;ANS R9
40761 0000903A 4008              2226 I1          SHLL2   R0                              ;4byte
40762 0000903C 01DE              2227 I1          MOV.L   @(R0,R13),R1                    ;4byte SV
40763                            2228 I1  
40764 0000903E 3210              2229 I1          CMP/EQ  R1,R2                           ;
40765 00009040 8914              2230 I1          BT      PINT_SERCH_BIG4B_800            ;ﾋﾟｯﾀﾘ賞
40766 00009042 3212              2231 I1          CMP/HS  R1,R2                           ;SV=<PV
40767 00009044 8904              2232 I1          BT      PINT_SERCH_BIG4B_300            ;YES:大きい
40768                            2233 I1  
40769                            2234 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
40770 00009046 6A93              2235 I1          MOV     R9,R10                          ;
40771 00009048 398C              2236 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
40772 0000904A 4901              2237 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
40773                            2238 I1          M_BRA   PINT_SERCH_BIG4B_500            ;
40774 0000904C A003                   M           BRA     PINT_SERCH_BIG4B_500
40775 0000904E 0009                   M           NOP
40776                            2239 I1  
40777                            2240 I1  
40778                            2241 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
40779 00009050                   2242 I1  PINT_SERCH_BIG4B_300
40780 00009050 6893              2243 I1          MOV     R9,R8                           ;
40781 00009052 39AC              2244 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
40782 00009054 4901              2245 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
40783                            2246 I1  
40784 00009056                   2247 I1  PINT_SERCH_BIG4B_500
40785 00009056 7701              2248 I1          ADD     #1,R7                           ;デバック
40786                            2249 I1  
40787                            2250 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   622
PROGRAM NAME =

40788 00009058 3B80              2251 I1          CMP/EQ  R8,R11                          ;
40789 0000905A 8B03              2252 I1          BF      PINT_SERCH_BIG4B_600            ;MIN=OLD-MIN NO
40790 0000905C 3CA0              2253 I1          CMP/EQ  R10,R12                         ;
40791 0000905E 8B01              2254 I1          BF      PINT_SERCH_BIG4B_600            ;MAX=OLD-MAX NO
40792                            2255 I1  
40793                            2256 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
40794 00009060 A004                   M           BRA     PINT_SERCH_BIG4B_900
40795 00009062 0009                   M           NOP
40796                            2257 I1  
40797 00009064                   2258 I1  PINT_SERCH_BIG4B_600
40798 00009064 6B83              2259 I1          MOV     R8,R11                          ;
40799 00009066 6CA3              2260 I1          MOV     R10,R12                         ;
40800                            2261 I1          M_BRA   PINT_SERCH_BIG4B_200LOP         ;
40801 00009068 AFE6                   M           BRA     PINT_SERCH_BIG4B_200LOP
40802 0000906A 0009                   M           NOP
40803                            2262 I1  
40804                            2263 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
40805 0000906C                   2264 I1  PINT_SERCH_BIG4B_800
40806                            2265 I1  ;       ----------- R9:ANS--------------
40807 0000906C                   2266 I1  PINT_SERCH_BIG4B_900
40808                            2267 I1  
40809                            2268 I1          POP_REG1 R14
40810                                 M                                   ; RE"+4" 00,00,00,04
40811 0000906C 6EF6                   M           MOV.L   @R15+,R14        ;
40812                            2269 I1          POP_REG1 R13
40813                                 M                                   ; RE"+4" 00,00,00,04
40814 0000906E 6DF6                   M           MOV.L   @R15+,R13        ;
40815                            2270 I1          POP_REG1 R12
40816                                 M                                   ; RE"+4" 00,00,00,04
40817 00009070 6CF6                   M           MOV.L   @R15+,R12        ;
40818                            2271 I1          POP_REG1 R11
40819                                 M                                   ; RE"+4" 00,00,00,04
40820 00009072 6BF6                   M           MOV.L   @R15+,R11        ;
40821                            2272 I1          POP_REG1 R10
40822                                 M                                   ; RE"+4" 00,00,00,04
40823 00009074 6AF6                   M           MOV.L   @R15+,R10        ;
40824                            2273 I1          POP_REG1 R8
40825                                 M                                   ; RE"+4" 00,00,00,04
40826 00009076 68F6                   M           MOV.L   @R15+,R8        ;
40827                            2274 I1          POP_REG1 R7
40828                                 M                                   ; RE"+4" 00,00,00,04
40829 00009078 67F6                   M           MOV.L   @R15+,R7        ;
40830                            2275 I1          POP_REG1 R6
40831                                 M                                   ; RE"+4" 00,00,00,04
40832 0000907A 66F6                   M           MOV.L   @R15+,R6        ;
40833                            2276 I1          SUB_END
40834                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40835 0000907C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40836                            2277 I1          M_RTS
40837 0000907E 000B                   M           RTS                             ;RTSの後ろの
40838 00009080 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40839                            2278 I1  
40840                            2279 I1  
40841                            2280 I1  
40842                            2281 I1  
40843                            2282 I1  ;       ***************************************************
40844                            2283 I1  ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   623
PROGRAM NAME =

40845                            2284 I1  ;       ***                                             ***
40846                            2285 I1  ;       ***             直線加速・減速                  ***
40847                            2286 I1  ;       ***                                             ***
40848                            2287 I1  ;       ***                                             ***
40849                            2288 I1  ;       ***                                             ***
40850                            2289 I1  ;       ***************************************************
40851                            2290 I1  ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
40852                            2291 I1  ;       ANS R2
40853 00009082                   2292 I1  _TBLACC_ACC_ADDCHK:
40854                            2293 I1          SUB_START
40855 00009082 4F22                   M           STS.L   PR,@-R15                ;[必要]
40856                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40857                            2294 I1  
40858                            2295 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT5,WKREG=R1       ;
40859 00009084 D10A                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
40860 00009086 6011                   M           MOV.W   @R1,R0          ;
40861 00009088 CB20                   M           OR      #BIT5,R0                ;
40862 0000908A 2101                   M           MOV.W   R0,@R1          ;
40863                            2296 I1  
40864                            2297 I1  
40865                            2298 I1  
40866 0000908C 200A              2299 I1          XOR     R0,R0                                           ;変化してない　R0=0
40867                            2300 I1  
40868 0000908E D109              2301 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                         ;･････
40869 00009090 6312              2302 I1          MOV.L   @R1,R3                                          ;
40870 00009092 D509              2303 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R5                         ;
40871 00009094 6252              2304 I1          MOV.L   @R5,R2                                          ;
40872 00009096 3320              2305 I1          CMP/EQ  R2,R3                                           ;
40873 00009098 8919              2306 I1          BT      TBLACC_ACC_ADD_END                              ;SV=REAL
40874 0000909A 3323              2307 I1          CMP/GE  R2,R3                                           ;R2<R3
40875 0000909C 8B10              2308 I1          BF      TBLACC_ACC_ADD_200                                      ;NO 減速しろ
40876                            2309 I1  ;       ---加速しろ----
40877 0000909E D407              2310 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R4                              ;500,000/1000
40878 000090A0 6142              2311 I1          MOV.L   @R4,R1                                                  ;
40879 000090A2 321C              2312 I1          ADD     R1,R2                                                   ;
40880 000090A4 3327              2313 I1          CMP/GT  R2,R3                                                   ;
40881 000090A6 8911              2314 I1          BT      TBLACC_ACC_ADD_300                                      ;R2<R3(SV) THEN そ
                                          のまま加速
40882 000090A8 6233              2315 I1          MOV     R3,R2                                                   ;SV→REAL
40883                            2316 I1          M_BRA   TBLACC_ACC_ADD_300                                      ;
40884 000090AA A00F                   M           BRA     TBLACC_ACC_ADD_300
40885 000090AC 0009                   M           NOP
40886                            2317 I1  
40887                                 I1  ***** BEGIN-POOL *****
40888 000090AE 0000                   I1  ALIGNMENT CODE
40889 000090B0 00000000               I1  DATA FOR SOURCE-LINE 2295
40890 000090B4 00000000               I1  DATA FOR SOURCE-LINE 2301
40891 000090B8 00000000               I1  DATA FOR SOURCE-LINE 2303
40892 000090BC 00000000               I1  DATA FOR SOURCE-LINE 2310
40893                                 I1  ***** END-POOL *****
40894 000090C0                   2318 I1  TBLACC_ACC_ADD_200:
40895                            2319 I1  ;       ---減速しろ---
40896 000090C0 D404              2320 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R4                              ;500,000/1000
40897 000090C2 6142              2321 I1          MOV.L   @R4,R1                                                  ;
40898 000090C4 3218              2322 I1          SUB     R1,R2                                                   ;
40899 000090C6 3237              2323 I1          CMP/GT  R3,R2                                                   ;
40900 000090C8 8900              2324 I1          BT      TBLACC_ACC_ADD_300                                      ;R3<R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   624
PROGRAM NAME =

40901 000090CA 6233              2325 I1          MOV     R3,R2                                                   ;
40902 000090CC                   2326 I1  TBLACC_ACC_ADD_300:                                                     ;
40903 000090CC E001              2327 I1          MOV     #1,R0                                                   ;変化した R0=1
40904 000090CE                   2328 I1  TBLACC_ACC_ADD_END:
40905                            2329 I1          SUB_END
40906                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40907 000090CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40908                            2330 I1          M_RTS
40909 000090D0 000B                   M           RTS                             ;RTSの後ろの
40910 000090D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40911                            2331 I1  
40912                            2332 I1  
40913                            2333 I1  
40914                            2334 I1  
40915                            2335 I1  
40916                            2336 I1  
40917                            2337 I1  
40918                            2338 I1  
40919                            2339 I1  
40920                            2340 I1  
40921                            2341 I1  
40922                            2342 I1  
40923                            2343 I1  
40924                            2344 I1  
40925                            2345 I1  
40926                            2346 I1  
40927                            2347 I1  
40928                            2348 I1  
40929                            2349 I1  
40930                            2350 I1  
40931                            2351 I1  
40932                            2352 I1  
40933                            2353 I1  
40934                            2354 I1  
40935                            2355 I1  
40936                            2356 I1  
40937                            2357 I1  
40938                            2358 I1  
40939                            2359 I1  
40940                            2360 I1  
40941                            2361 I1  
40942                            2362 I1  ;       *******************************************
40943                            2363 I1  ;       ***                                     ***
40944                            2364 I1  ;       ***                                     ***
40945                            2365 I1  ;       ***             演算                    ***
40946                            2366 I1  ;       ***                                     ***
40947                            2367 I1  ;       ***             (等身大結果で扱う)      ***
40948                            2368 I1  ;       ***                                     ***
40949                            2369 I1  ;       *******************************************
40950                                 I1  ***** BEGIN-POOL *****
40951 000090D4 00000000               I1  DATA FOR SOURCE-LINE 2320
40952                                 I1  ***** END-POOL *****
40953 000090D8                   2370 I1  _DNM_PLS_LSICTL_CALC:
40954                            2371 I1          SUB_START
40955 000090D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
40956                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40957                            2372 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   625
PROGRAM NAME =

40958                            2373 I1  ;       --------- 2010-09-27 残りパルス演算の共通化----
40959                            2374 I1          FAR_JSR #_ACC_REST_INFO_MAKE,R0
40960 000090DA D009                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40961 000090DC 400B                   M           JSR     @R0                     ;
40962 000090DE 0009                   M           NOP                                     ;
40963                            2375 I1  
40964 000090E0 D108              2376 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
40965 000090E2 6011              2377 I1          MOV.W   @R1,R0                                  ;
40966 000090E4 8801              2378 I1          CMP/EQ  #1,R0                                   ;
40967 000090E6 8B02              2379 I1          BF      DNM_PLS_LSICTLCAL_010                   ;
40968                            2380 I1          FAR_JSR #_DNM_SPD_CALC,R0                       ;
40969 000090E8 D007                   M           MOV.L   #_DNM_SPD_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40970 000090EA 400B                   M           JSR     @R0                     ;
40971 000090EC 0009                   M           NOP                                     ;
40972 000090EE                   2381 I1  DNM_PLS_LSICTLCAL_010:
40973                            2382 I1  
40974                            2383 I1  
40975 000090EE D107              2384 I1          MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
40976 000090F0 6011              2385 I1          MOV.W   @R1,R0                                                          ;
40977 000090F2 C802              2386 I1          TST     #BIT1,R0                                                        ;
40978                            2387 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_020                                        ;強制減速
                                          停止中(寸動停止)
40979 000090F4 8B0C                   M           BF      DNM_PLS_LSICTLCAL_020
40980                            2388 I1  
40981 000090F6 C804              2389 I1          TST     #BIT2,R0                                                        ;
40982                            2390 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_050                                        ;最終減速
                                          状態YES
40983 000090F8 8B16                   M           BF      DNM_PLS_LSICTLCAL_050
40984                            2391 I1          M_BRA   DNM_PLS_LSICTLCAL_100                                           ;
40985 000090FA A017                   M           BRA     DNM_PLS_LSICTLCAL_100
40986 000090FC 0009                   M           NOP
40987                            2392 I1  
40988                                 I1  ***** BEGIN-POOL *****
40989 000090FE 0000                   I1  ALIGNMENT CODE
40990 00009100 00000000               I1  DATA FOR SOURCE-LINE 2374
40991 00009104 00000000               I1  DATA FOR SOURCE-LINE 2376
40992 00009108 00000000               I1  DATA FOR SOURCE-LINE 2380
40993 0000910C 00000000               I1  DATA FOR SOURCE-LINE 2384
40994                                 I1  ***** END-POOL *****
40995 00009110                   2393 I1  DNM_PLS_LSICTLCAL_020
40996                            2394 I1  ;       --- 減速コマンドラッチ---
40997 00009110 D103              2395 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
40998 00009112 6212              2396 I1          MOV.L   @R1,R2                                                          ;
40999 00009114 D503              2397 I1          MOV.L   #_POSCTL_RL_SPD,R5                                              ;
41000 00009116 6352              2398 I1          MOV.L   @R5,R3                                                          ;
41001 00009118 3326              2399 I1          CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
41002 0000911A 8905              2400 I1          BT      DNM_PLS_LSICTLCAL_050                                           ;YES
41003                            2401 I1          M_BRA   DNM_PLS_LSICTLCAL_800                                           ;(減速停止
                                          )終了処理
41004 0000911C A092                   M           BRA     DNM_PLS_LSICTLCAL_800
41005 0000911E 0009                   M           NOP
41006                                 I1  ***** BEGIN-POOL *****
41007 00009120 00000000               I1  DATA FOR SOURCE-LINE 2395
41008 00009124 00000000               I1  DATA FOR SOURCE-LINE 2397
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   626
PROGRAM NAME =

41009                                 I1  ***** END-POOL *****
41010 00009128                   2402 I1  DNM_PLS_LSICTLCAL_050:
41011                            2403 I1          M_BRA   DNM_PLS_LSICTLCAL_700                                           ;減速処理
41012 00009128 A04A                   M           BRA     DNM_PLS_LSICTLCAL_700
41013 0000912A 0009                   M           NOP
41014                            2404 I1  
41015                            2405 I1  
41016                            2406 I1  
41017                            2407 I1  
41018 0000912C                   2408 I1  DNM_PLS_LSICTLCAL_100:
41019 0000912C D104              2409 I1          MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
41020 0000912E 6011              2410 I1          MOV.W   @R1,R0                                                          ;EMG-STOP
41021 00009130 8802              2411 I1          CMP/EQ  #2,R0                                                           ;減速停止
41022 00009132 8B09              2412 I1          BF      DNM_PLS_LSICTLCAL_150                                           ;NO
41023                            2413 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
41024 00009134 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41025 00009136 6011                   M           MOV.W   @R1,R0          ;
41026 00009138 CB02                   M           OR      #BIT1,R0                ;
41027 0000913A 2101                   M           MOV.W   R0,@R1          ;
41028                            2414 I1          M_BRA   DNM_PLS_LSICTLCAL_500                                           ;
41029 0000913C A032                   M           BRA     DNM_PLS_LSICTLCAL_500
41030 0000913E 0009                   M           NOP
41031                            2415 I1  
41032                            2416 I1  ;-------通常制御----
41033                                 I1  ***** BEGIN-POOL *****
41034 00009140 00000000               I1  DATA FOR SOURCE-LINE 2409
41035 00009144 00000000               I1  DATA FOR SOURCE-LINE 2413
41036                                 I1  ***** END-POOL *****
41037 00009148                   2417 I1  DNM_PLS_LSICTLCAL_150:
41038 00009148 D102              2418 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
41039 0000914A 6011              2419 I1          MOV.W   @R1,R0                                                          ;
41040 0000914C C801              2420 I1          TST     #BIT0,R0                                                        ;
41041                            2421 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_160                                                ;
41042 0000914E 8903                   M           BT      DNM_PLS_LSICTLCAL_160
41043                            2422 I1  ;       -----------やるべきことが今一不明--------
41044                            2423 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
41045 00009150 A099                   M           BRA     DNM_PLS_LSICTLCAL_EXT
41046 00009152 0009                   M           NOP
41047                            2424 I1  
41048                            2425 I1  
41049                                 I1  ***** BEGIN-POOL *****
41050 00009154 00000000               I1  DATA FOR SOURCE-LINE 2418
41051                                 I1  ***** END-POOL *****
41052 00009158                   2426 I1  DNM_PLS_LSICTLCAL_160:
41053                            2427 I1  
41054                            2428 I1  ;;;;ふりこ      FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<
                                          <<2010-09-21>>>
41055                            2429 I1  
41056                            2430 I1  ;<<<2010-09-21>>>
41057 00009158 D106              2431 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
41058 0000915A 6011              2432 I1          MOV.W   @R1,R0                                          ;
41059 0000915C 8801              2433 I1          CMP/EQ  #1,R0                                           ;
41060 0000915E 8B0F              2434 I1          BF      DNM_PLS_LSICTLCAL_180                           ;
41061 00009160 D105              2435 I1          MOV.L   #_ACC_CTRL_STS1,R1                              ;
41062 00009162 6011              2436 I1          MOV.W   @R1,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   627
PROGRAM NAME =

41063 00009164 C906              2437 I1          AND     #(BIT2+BIT1),R0                                 ;
41064 00009166 8806              2438 I1          CMP/EQ  #(BIT2+BIT1),R0                                 ;
41065 00009168 892A              2439 I1          BT      DNM_PLS_LSICTLCAL_700                           ;
41066                            2440 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0                        ;
41067 0000916A D004                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41068 0000916C 400B                   M           JSR     @R0                     ;
41069 0000916E 0009                   M           NOP                                     ;
41070                            2441 I1          M_BRA   DNM_PLS_LSICTLCAL_510                           ;
41071 00009170 A01B                   M           BRA     DNM_PLS_LSICTLCAL_510
41072 00009172 0009                   M           NOP
41073                            2442 I1  
41074                            2443 I1  
41075                                 I1  ***** BEGIN-POOL *****
41076 00009174 00000000               I1  DATA FOR SOURCE-LINE 2431
41077 00009178 00000000               I1  DATA FOR SOURCE-LINE 2435
41078 0000917C 00000000               I1  DATA FOR SOURCE-LINE 2440
41079                                 I1  ***** END-POOL *****
41080 00009180                   2444 I1  DNM_PLS_LSICTLCAL_180:
41081                            2445 I1          FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;
41082 00009180 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41083 00009182 400B                   M           JSR     @R0                     ;
41084 00009184 0009                   M           NOP                                     ;
41085 00009186                   2446 I1  DNM_PLS_LSICTLCAL_190:
41086                            2447 I1  
41087 00009186 2008              2448 I1          TST     R0,R0                                                           ;
41088                            2449 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_500
41089 00009188 890C                   M           BT      DNM_PLS_LSICTLCAL_500
41090 0000918A 8801              2450 I1          CMP/EQ  #1,R0                                                           ;
41091 0000918C 8918              2451 I1          BT      DNM_PLS_LSICTLCAL_700
41092                            2452 I1  ;       ----- ABNOMAL CALC------                                                ;
41093                            2453 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
41094 0000918E D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
41095 00009190 6041                   M           MOV.W   @R4,R0          ;
41096 00009192 CB02                   M           OR      #BIT1,R0                ;
41097 00009194 2401                   M           MOV.W   R0,@R4          ;
41098                            2454 I1          M_BRA   DNM_PLS_LSICTLCAL_ERR
41099 00009196 A06F                   M           BRA     DNM_PLS_LSICTLCAL_ERR
41100 00009198 0009                   M           NOP
41101                            2455 I1  
41102                            2456 I1  ;       ===== 距離がありそう =====
41103                                 I1  ***** BEGIN-POOL *****
41104 0000919A 0000                   I1  ALIGNMENT CODE
41105 0000919C 00000000               I1  DATA FOR SOURCE-LINE 2445
41106 000091A0 00000000               I1  DATA FOR SOURCE-LINE 2453
41107                                 I1  ***** END-POOL *****
41108 000091A4                   2457 I1  DNM_PLS_LSICTLCAL_500:                                                          ;
41109                            2458 I1  ;<<<2010-09-21>>>
41110                            2459 I1          FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
41111 000091A4 D004                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41112 000091A6 400B                   M           JSR     @R0                     ;
41113 000091A8 0009                   M           NOP                                     ;
41114 000091AA                   2460 I1  DNM_PLS_LSICTLCAL_510:                                                          ;
41115                            2461 I1  
41116 000091AA 2008              2462 I1          TST     R0,R0                                                           ;
41117                            2463 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_EXT                                                ;
                                          書き換えない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   628
PROGRAM NAME =

41118 000091AC 896B                   M           BT      DNM_PLS_LSICTLCAL_EXT
41119                            2464 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
41120 000091AE D003                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41121 000091B0 400B                   M           JSR     @R0                     ;
41122 000091B2 0009                   M           NOP                                     ;
41123                            2465 I1          M_BRA   DNM_PLS_LSICTLCAL_900                                           ;
41124 000091B4 A058                   M           BRA     DNM_PLS_LSICTLCAL_900
41125 000091B6 0009                   M           NOP
41126                            2466 I1  
41127                            2467 I1  
41128                            2468 I1  
41129                            2469 I1  ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
41130                                 I1  ***** BEGIN-POOL *****
41131 000091B8 00000000               I1  DATA FOR SOURCE-LINE 2459
41132 000091BC 00000000               I1  DATA FOR SOURCE-LINE 2464
41133                                 I1  ***** END-POOL *****
41134 000091C0                   2470 I1  DNM_PLS_LSICTLCAL_700:
41135                            2471 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
41136 000091C0 D10A                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41137 000091C2 6011                   M           MOV.W   @R1,R0          ;
41138 000091C4 CB04                   M           OR      #BIT2,R0                ;
41139 000091C6 2101                   M           MOV.W   R0,@R1          ;
41140                            2472 I1  ;       ---払い出し完了ならやめる---------
41141                            2473 I1          FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
41142 000091C8 D009                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41143 000091CA 400B                   M           JSR     @R0                     ;
41144 000091CC 0009                   M           NOP                                     ;
41145 000091CE C804              2474 I1          TST     #BIT2,R0                        ;停止?
41146                            2475 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_820        ;YES:ﾌﾗｸﾞ終了
41147 000091D0 8B3F                   M           BF      DNM_PLS_LSICTLCAL_820
41148                            2476 I1  
41149                            2477 I1  ;       ============================================
41150                            2478 I1  ;<<<2010-09-21>>>
41151 000091D2 D108              2479 I1          MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
41152 000091D4 6011              2480 I1          MOV.W   @R1,R0                          ;
41153 000091D6 8801              2481 I1          CMP/EQ  #1,R0                           ;
41154 000091D8 8B10              2482 I1          BF      DNM_PLS_LSICTLCAL_710           ;
41155                            2483 I1  
41156 000091DA D104              2484 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
41157 000091DC 6011              2485 I1          MOV.W   @R1,R0                          ;
41158 000091DE C802              2486 I1          TST     #BIT1,R0                        ;
41159                            2487 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_710        ;
41160 000091E0 8B0C                   M           BF      DNM_PLS_LSICTLCAL_710
41161                            2488 I1  
41162                            2489 I1  ;       自動減速
41163                            2490 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0        ;
41164 000091E2 D005                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41165 000091E4 400B                   M           JSR     @R0                     ;
41166 000091E6 0009                   M           NOP                                     ;
41167                            2491 I1          M_BRA   DNM_PLS_LSICTLCAL_740           ;
41168 000091E8 A013                   M           BRA     DNM_PLS_LSICTLCAL_740
41169 000091EA 0009                   M           NOP
41170                            2492 I1  
41171                            2493 I1  
41172                                 I1  ***** BEGIN-POOL *****
41173 000091EC 00000000               I1  DATA FOR SOURCE-LINE 2471,2484
41174 000091F0 00000000               I1  DATA FOR SOURCE-LINE 2473
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   629
PROGRAM NAME =

41175 000091F4 00000000               I1  DATA FOR SOURCE-LINE 2479
41176 000091F8 00000000               I1  DATA FOR SOURCE-LINE 2490
41177                                 I1  ***** END-POOL *****
41178 000091FC                   2494 I1  DNM_PLS_LSICTLCAL_710:
41179                            2495 I1  ;       ============================================
41180                            2496 I1  
41181                            2497 I1  ;       ----ここにきたら目標位置が変わるまで加速はしない------
41182 000091FC D50C              2498 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
41183 000091FE 6252              2499 I1          MOV.L   @R5,R2                          ;
41184 00009200 D40C              2500 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
41185 00009202 6342              2501 I1          MOV.L   @R4,R3                          ;
41186 00009204 2338              2502 I1          TST     R3,R3                           ;
41187                            2503 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_720                ;
41188 00009206 8B00                   M           BF      DNM_PLS_LSICTLCAL_720
41189 00009208 E301              2504 I1          MOV     #1,R3                           ;
41190 0000920A                   2505 I1  DNM_PLS_LSICTLCAL_720:                          ;
41191 0000920A 3238              2506 I1          SUB     R3,R2                           ;
41192 0000920C 4211              2507 I1          CMP/PZ  R2                              ;
41193 0000920E 8900              2508 I1          BT      DNM_PLS_LSICTLCAL_740           ;
41194 00009210 222A              2509 I1          XOR     R2,R2                           ;
41195 00009212                   2510 I1  DNM_PLS_LSICTLCAL_740:                          ;
41196                            2511 I1  
41197                            2512 I1  
41198                            2513 I1  
41199 00009212 D109              2514 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
41200 00009214 6312              2515 I1          MOV.L   @R1,R3                          ;
41201 00009216 3236              2516 I1          CMP/HI  R3,R2                           ;
41202 00009218 8904              2517 I1          BT      DNM_PLS_LSICTLCAL_760           ;OFS < CALC
41203 0000921A 6233              2518 I1          MOV     R3,R2                           ;MNINLINIT
41204                            2519 I1  ;       -------------------
41205 0000921C D107              2520 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
41206 0000921E 6011              2521 I1          MOV.W   @R1,R0                          ;
41207 00009220 C802              2522 I1          TST     #BIT1,R0                        ;手動減速中
41208                            2523 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_800        ;手動減速中なら終了
41209 00009222 8B0F                   M           BF      DNM_PLS_LSICTLCAL_800
41210                            2524 I1  
41211 00009224                   2525 I1  DNM_PLS_LSICTLCAL_760:                          ;
41212 00009224 2522              2526 I1          MOV.L   R2,@R5                          ;
41213                            2527 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
41214 00009226 D006                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41215 00009228 400B                   M           JSR     @R0                     ;
41216 0000922A 0009                   M           NOP                                     ;
41217                            2528 I1          M_BRA   DNM_PLS_LSICTLCAL_900           ;
41218 0000922C A01C                   M           BRA     DNM_PLS_LSICTLCAL_900
41219 0000922E 0009                   M           NOP
41220                            2529 I1  
41221                            2530 I1  ;       -------------終了処理(STEP STOP)----------
41222                                 I1  ***** BEGIN-POOL *****
41223 00009230 00000000               I1  DATA FOR SOURCE-LINE 2498
41224 00009234 00000000               I1  DATA FOR SOURCE-LINE 2500
41225 00009238 00000000               I1  DATA FOR SOURCE-LINE 2514
41226 0000923C 00000000               I1  DATA FOR SOURCE-LINE 2520
41227 00009240 00000000               I1  DATA FOR SOURCE-LINE 2527
41228                                 I1  ***** END-POOL *****
41229 00009244                   2531 I1  DNM_PLS_LSICTLCAL_800:
41230                            2532 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
41231 00009244 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   630
PROGRAM NAME =

41232 00009246 400B                   M           JSR     @R0                     ;
41233 00009248 0009                   M           NOP                                     ;
41234                            2533 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
41235 0000924A D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41236 0000924C 6011                   M           MOV.W   @R1,R0          ;
41237 0000924E CB20                   M           OR      #BIT5,R0                ;
41238 00009250 2101                   M           MOV.W   R0,@R1          ;
41239 00009252                   2534 I1  DNM_PLS_LSICTLCAL_820:
41240                            2535 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
41241 00009252 D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41242 00009254 6011                   M           MOV.W   @R1,R0          ;
41243 00009256 CB40                   M           OR      #BIT6,R0                ;
41244 00009258 2101                   M           MOV.W   R0,@R1          ;
41245                            2536 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
41246 0000925A D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41247 0000925C 6011                   M           MOV.W   @R1,R0          ;
41248 0000925E CB08                   M           OR      #BIT3,R0                ;
41249 00009260 2101                   M           MOV.W   R0,@R1          ;
41250                            2537 I1  
41251                            2538 I1          .AIF    0 EQ    0
41252                            2539 C   
41253                            2540 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
41254 00009262 D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41255 00009264 400B                   M           JSR     @R0                     ;
41256 00009266 0009                   M           NOP                                     ;
41257                            2541 I1          .AENDI
41258                            2542 I1  
41259 00009268                   2543 I1  DNM_PLS_LSICTLCAL_900:
41260                            2544 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
41261 00009268 A00D                   M           BRA     DNM_PLS_LSICTLCAL_EXT
41262 0000926A 0009                   M           NOP
41263                            2545 I1  
41264                                 I1  ***** BEGIN-POOL *****
41265 0000926C 00000000               I1  DATA FOR SOURCE-LINE 2532
41266 00009270 00000000               I1  DATA FOR SOURCE-LINE 2533,2535,2536
41267 00009274 00000000               I1  DATA FOR SOURCE-LINE 2540
41268                                 I1  ***** END-POOL *****
41269 00009278                   2546 I1  DNM_PLS_LSICTLCAL_ERR:
41270                            2547 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
41271 00009278 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41272 0000927A 400B                   M           JSR     @R0                     ;
41273 0000927C 0009                   M           NOP                                     ;
41274                            2548 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
41275 0000927E D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41276 00009280 6011                   M           MOV.W   @R1,R0          ;
41277 00009282 CB40                   M           OR      #BIT6,R0                ;
41278 00009284 2101                   M           MOV.W   R0,@R1          ;
41279                            2549 I1  
41280 00009286                   2550 I1  DNM_PLS_LSICTLCAL_EXT:
41281                            2551 I1          SUB_END
41282                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41283 00009286 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41284                            2552 I1          M_RTS
41285 00009288 000B                   M           RTS                             ;RTSの後ろの
41286 0000928A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41287                            2553 I1  
41288                            2554 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   631
PROGRAM NAME =

41289                            2555 I1  ;
41290                            2556 I1  ;
41291                            2557 I1  ;
41292                            2558 I1  ;
41293                            2559 I1  ;
41294                                 I1  ***** BEGIN-POOL *****
41295 0000928C 00000000               I1  DATA FOR SOURCE-LINE 2547
41296 00009290 00000000               I1  DATA FOR SOURCE-LINE 2548
41297                                 I1  ***** END-POOL *****
41298 00009294                   2560 I1  _DNM_AUTO_UP_DN_CALC:
41299                            2561 I1          SUB_START
41300 00009294 4F22                   M           STS.L   PR,@-R15                ;[必要]
41301                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41302 00009296 D104              2562 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;
41303 00009298 6012              2563 I1          MOV.L   @R1,R0                          ;
41304 0000929A D504              2564 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
41305 0000929C 6252              2565 I1          MOV.L   @R5,R2                          ;
41306 0000929E 320C              2566 I1          ADD     R0,R2                           ;
41307 000092A0 2522              2567 I1          MOV.L   R2,@R5                          ;
41308                            2568 I1          SUB_END
41309                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41310 000092A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41311                            2569 I1          M_RTS
41312 000092A4 000B                   M           RTS                             ;RTSの後ろの
41313 000092A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41314                            2570 I1  
41315                            2571 I1  
41316                            2572 I1  
41317                            2573 I1  
41318                            2574 I1  ;
41319                           11375     
41320                           11376     
41321                           11377     ;       ***********************************************************
41322                           11378     ;       ***                                                     ***
41323                           11379     ;       ***     CPUBの高速化「以下にはプログラム追加しないこと」***
41324                           11380     ;       ***     2013-03-15                                      ***
41325                           11381     ;       ***********************************************************
41326                           11382     
41327                           11383     
41328                           11384     ;       ***************************************************
41329                           11385     ;       ***                                             ***
41330                           11386     ;       ***             CPUBの高速化終了                ***
41331                           11387     ;       ***             2013-03-15                      ***
41332                           11388     ;       ***                                             ***
41333                           11389     ;       ***************************************************
41334                                     ***** BEGIN-POOL *****
41335 000092A8 00000000                   DATA FOR SOURCE-LINE 2562
41336 000092AC 00000000                   DATA FOR SOURCE-LINE 2564
41337                                     ***** END-POOL *****
41338 000092B0                  11390             .ALIGN  4                                       ;
41339                           11391             .AIF    2 EQ 3          ;
41340                           11392             .SECTION        P,CODE                          ;
41341                           11393             .AENDI                                          ;
41342                           11394     
41343                           11395     
41344                           11396     
41345                           11397             .END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   632
PROGRAM NAME =

  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   633

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCCHGSPD_LMT_INF_LD_100         P             000076C4  34314 34327*
ACCCHGSPD_LMT_INF_LD_200         P             000076D8  34329 34344*
ACCCHGSPD_LMT_INF_LD_END         P             000076DA  34319 34337 34346*
ACCLAT1_SV_MAKCOM_200            P             0000651A  30307 30309*
ACCLW_CTRLCALC_100               P             000077C4  34606 34618*
ACCLW_CTRLCALC_120               P             000077CC  34621 34626*
ACCLW_CTRLCALC_200               P             000077EC  34629 34656*
ACCLW_CTRLCALC_300               P             00007808  34643 34664 34678*
ACCLW_CTRLCALC_800               P             00007818  34608 34623 34645 34671 34692*
ACCLW_CTRLCALC_900               P             00007824  34684 34702*
ACCLW_CTRLCALC_EXT               P             00007828  34696 34706*
ACCLW_GEN_END_CONFCHK_100        P             00007860  34744 34754*
ACCLW_GEN_END_CONFCHK_300        P             00007862  34747 34756*
ACCLW_GEN_START_CONFCHK_050      P             00007894  34824 34833*
ACCLW_GEN_START_CONFCHK_100      P             000078A8  34838 34848*
ACCLW_GEN_START_CONFCHK_120      P             000078B4  34854 34856*
ACCLW_GEN_START_CONFCHK_200LOP   P             000078C8  34879*35075 
ACCLW_GEN_START_CONFCHK_250      P             000078F0  34903 34911*
ACCLW_GEN_START_CONFCHK_280      P             00007900  34922 34924*
ACCLW_GEN_START_CONFCHK_400      P             00007938  34984 34991*
ACCLW_GEN_START_CONFCHK_500      P             00007974  35009 35030*
ACCLW_GEN_START_CONFCHK_550      P             00007986  34888 34916 34929 35044*
ACCLW_GEN_START_CONFCHK_580      P             00007998  35011 35056*
ACCLW_GEN_START_CONFCHK_600      P             0000799A  35047 35058*
ACCLW_GEN_START_CONFCHK_EXT      P             000079B2  34826 34840 35066 35069 35080*
ACCLW_USECHK_100                 P             00007700  34412 34418 34429*
ACCST_CHGSPD_LMT_INF_LD_200      P             00007E1C  36160 36170 36184*
ACCST_CHGSPD_LMT_INF_LD_300      P             00007E22  36172 36192*
ACCST_CHGSPD_LMT_INF_LD_END      P             00007E24  36187 36194*
ACCST_CHGSTEP_GETINF_100         P             00007BFC  35646 35648*
ACCST_CHGSTEP_GETINF_EXT         P             00007C00  35605 35655*
ACCST_CHGSTEP_GETINF_SET         P             00007BFC  35625 35635 35651*
ACCST_CTRLCALC_100               P             00007A98  35321 35333*
ACCST_CTRLCALC_200               P             00007AC8  35362 35377*
ACCST_CTRLCALC_300               P             00007AF8  35386 35405*
ACCST_CTRLCALC_800               P             00007B08  35323 35340 35352 35358 35374 35393 35419*
ACCST_CTRLCALC_900               P             00007B14  35411 35430*
ACCST_CTRLCALC_EXT               P             00007B18  35423 35434*
ACCST_DN_END_CONFCHK_100         P             00007B8C  35530 35540*
ACCST_DN_END_CONFCHK_300         P             00007B8E  35533 35542*
ACCST_DN_START_CONFCHK_400       P             00007D8C  36005 36016*
ACCST_UPDN_END_CONFCHK_100       P             00007B60  35483 35497*
ACCST_UPDN_END_CONFCHK_200       P             00007B66  35490 35502*
ACCST_UPDN_START_CONFCHK_050     P             00007C4C  35732 35741*
ACCST_UPDN_START_CONFCHK_100     P             00007C60  35746 35756*
ACCST_UPDN_START_CONFCHK_250     P             00007C9E  35798 35806*
ACCST_UPDN_START_CONFCHK_280     P             00007CAE  35817 35819*
ACCST_UPDN_START_CONFCHK_300     P             00007CEC  35831 35856*
ACCST_UPDN_START_CONFCHK_500     P             00007D00  35841 35876*
ACCST_UPDN_START_CONFCHK_520     P             00007D28  35864 35902*
ACCST_UPDN_START_CONFCHK_540     P             00007D50  35828 35927*
ACCST_UPDN_START_CONFCHK_550     P             00007D56  35783 35932*
ACCST_UPDN_START_CONFCHK_580     P             00007D5C  35811 35824 35843 35866 35938*
ACCST_UPDN_START_CONFCHK_EXT     P             00007D5C  35734 35748 35891 35917 35930 35935 35939*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   634

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCST_UP_END_CONFCHK_100         P             00007BB0  35567 35577*
ACCST_UP_END_CONFCHK_300         P             00007BB2  35570 35579*
ACCST_UP_START_CONFCHK_400       P             00007DD4  36091 36106*
ACCST_USECHK_100                 P             000079D6  35128 35134 35143*
ACC_FORM_TOP                     P             000085B4  38158 38161 38167 38171 38173 38176 38179 38343 38345 38347 38350 38514 
                                                         38560*40115 40117 40119 40121 40146 40150 40153 
ACC_INFMAK1_DTCHGCHKLOP          P             00008238  37506*37514 
ACC_INFMAK1_EXT                  P             000082B2  37534 37613*
ACC_INFMAK1_START                P             00008284  37517 37550*
ACC_INFMAK1_START050             P             00008294  37526 37569*
ACC_INFMAK1_START100             P             0000829A  37562 37581*
ACC_MATHED_COM_DRVST1_100        P             0000764C  34138 34155*
ACC_MATHED_COM_DRVST1_END        P             00007656  34147 34157 34165*
ACC_MATHED_CTLSEL_100            P             00007698  34241 34258*
ACC_MATHED_CTLSEL_END            P             000076A2  34250 34260 34268*
ACC_MATHED_SEL_MN_100            P             0000761C  34083 34099*
ACC_MATHED_SEL_MN_END            P             00007626  34091 34101 34110*
ACC_REST_INFMK_100               P             000081A8  37024 37032*
ACC_REST_INFMK_200               P             000081BC  37042 37046 37051*
ACC_STEPINF_MAK1_100LOP          P             00008356  37798*37874 
ACC_STEPINF_MAK1_120             P             00008362  37805 37808*
ACC_STEPINF_MAK1_180             P             000083A0  37821 37848*
ACC_STEPINF_MAK1_200             P             000083A6  37829 37832 37851 37853*
ACC_STEPINF_MAK1_250             P             000083B8  37865 37867*
ACC_STEPINF_MAK1_300             P             000083C4  37872 37877*
ACC_TBLMAK1_200LOP               P             000083F6  38032*38058 
ACC_TBLMKPLS1_SBLOP200           P             00008930  39077*39106 
ACC_TBLMKPLS1_SBLOP220           P             00008942  39096 39098*
ACC_TBLMKPLS1_SB_END             P             00008960  39080 39118*
ACC_TBLMKSPD1_SB100              P             00008824  38812 38816*
ACC_TBLMKSPD1_SB150              P             0000882E  38825*38832 
ACC_TBLMKSPD1_SB200              P             0000884C  38820 38846*
ACC_TBLMKSPD1_SB220              P             00008860  38858 38860*
ACC_TBLMKSPD1_SB250LOP           P             00008868  38872*38943 
ACC_TBLMKSPD1_SB300              P             0000888A  38902 38904*
ACC_TBLMKSPD1_SB500              P             000088C0  38875 38951*
ACC_TBLMKSPD1_SB900              P             000088C2  38836 38954*
AFM_DST_CTLACTM                  P             000085D0  38176 38568*40146 
AFM_DST_CTLVTBL                  P             000085CC  38173 38567*40150 
AFM_DST_STPACTM                  P             000085E0  38347 38572*40115 
AFM_DST_STPPTBL                  P             000085E4  38514 38573*40117 
AFM_DST_STPVTBL                  P             000085DC  38345 38571*40119 
AFM_OLD_CTLACTM                  P             000085C8  38179 38566*
AFM_OLD_CTLVTBL                  P             000085C4  38171 38565*
AFM_OLD_STPACTM                  P             000085D8  38350 38570*
AFM_OLD_STPVTBL                  P             000085D4  38343 38569*
AFM_SRC_TBL_MEM                  P             000085B8  38161 38562*
AFM_SRC_TBL_TOP                  P             000085B4  38158 38561*
AFM_STEP_INF_FLG                 P             000085C0  38564*40121 40153 
AFM_STEP_INF_SPD                 P             000085BC  38167 38563*
API_ACCLW_DRVSTR2_EXT            P             00007770  34520 34526*
API_ACCST_DRVSTR2_EXT            P             00007A3C  35230 35237*
API_ENDHANDSIGCHK_100            P             00006CBA  32165 32172*
API_ENDHANDSIGCHK_EXT            P             00006CBC  32161 32171 32174*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   635

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

API_SETACC_INFOGET_CALEXT        P             00008302  37682 37688 37693*
API_SETACC_INFOGET_CALNG         P             00008300  37664 37671 37691*
API_SETACC_INFOGET_CALOK1        P             000082F4  37669 37679*
API_SETACC_INFOGET_CALOK2        P             000082FA  37660 37685*
API_SETACC_STSCLR_EXT            P             00008336  37744 37746 37752*
BANKCHKNEXT_CYCL_STR1_010        P             00005B0A  27837 27842*
BANKCHKNEXT_CYCL_STR1_020        P             00005AA0  27685 27753*
BANKCHKNEXT_CYCL_STR1_050        P             00005AAA  27758 27760*
BANKCHKNEXT_CYCL_STR1_100        P             00005AC6  27738 27787*
BANK_CNT_STOPCHK_TYP1_200        P             00005B50  27870 27878 27889 27910*
BCNT_STEP_NEXTCHK_100            P             000056C4  26884 26896*
BCNT_STEP_NEXTCHK_120            P             000056F0  26916 26924*
BCNT_STEP_NEXTCHK_200            P             000056F8  26913 26927 26933*
BCNT_STEP_NEXTCHK_250            P             0000572C  26939 26945 26969*
BCNT_STEP_NEXTCHK_300            P             00005734  26975 26992*
BCNT_STEP_NEXTCHK_CHK            P             00005748  26918 26929 27010*
BCNT_STEP_NEXTCHK_EXT            P             00005756  26886 26959 27000 27015 27024*
BIT0                                      EQU  00000001     15* 2040  2349  2364  6643  6886  6893  7053  7104  7290  7424  7582 
                                                          7728  7788  8030  8037  8381  8388  8451  8458  8609  8793  8800  8964 
                                                          8971  9256  9293  9385  9477  9541  9600  9611  9612  9685  9726  9777 
                                                          9936 10411 10590 10594 10721 10725 10929 10933 11026 11030 11094 11217 
                                                         11241 11276 11301 11361 11380 11462 11479 11495 11509 11563 11646 11807 
                                                         11834 11933 11996 12069 12919 13167 13178 13222 13282 13303 13306 13368 
                                                         13465 13658 13711 13760 13943 14018 14019 14131 14132 14290 14291 14294 
                                                         14512 14529 14636 14673 14785 14957 15250 15257 15410 15669 15708 16689 
                                                         17418 17831 18474 18595 18735 18835 18931 19058 19186 19489 19624 19647 
                                                         19652 19660 19711 19735 19741 20144 20850 20966 21025 21076 21130 21269 
                                                         21272 21504 21617 21630 21986 22061 22287 22535 22540 23056 23068 23098 
                                                         23457 23476 23536 23539 24325 24342 24458 24475 24645 24704 24829 24990 
                                                         24995 26943 26951 26956 27084 27192 27205 27594 27598 27635 27683 27840 
                                                         27887 27900 27942 28171 28363 28524 28785 28810 28867 29072 29156 29167 
                                                         29506 29590 29666 29738 30158 30603 30609 31111 31117 31329 31366 31380 
                                                         31395 31409 31423 31437 31448 31506 31762 31851 32163 32244 32293 32391 
                                                         32395 32452 32463 32464 32538 32584 32797 32816 32947 33080 33311 33364 
                                                         33390 34427 34518 34522 34604 34745 34886 35045 35141 35228 35232 35319 
                                                         35350 35438 35443 35531 35568 35633 35647 35781 36321 36407 36421 36592 
                                                         37022 37553 37680 37863 39458 39930 39958 40004 40045 41040 
BIT1                                      EQU  00000002     16* 2041  2350  2365  7418  7424  7582  9391  9541  9611 10018 10320 
                                                         10344 10396 10680 11094 11324 11545 11606 11682 11831 11996 12922 13164 
                                                         13178 13234 13254 13270 13513 13711 13772 13802 13943 14018 14019 14131 
                                                         14132 14290 14291 14623 14706 15445 15605 17418 19629 19665 19716 19746 
                                                         20838 21293 21558 21647 21676 22412 23052 23098 23823 23829 24355 24488 
                                                         24729 27079 27084 27905 27978 28050 28397 28489 28495 28518 28524 28558 
                                                         28790 28835 28861 28867 32163 32293 32463 32942 32947 33089 33095 33153 
                                                         33165 33306 33345 33390 35438 35481 35644 35888 35914 36168 36536 36578 
                                                         36621 36726 37572 37686 39470 39930 40045 40977 41026 41063 41064 41096 
                                                         41158 41207 
BIT10                                     EQU  00000400     25* 2375 17711 17752 22106 22118 31084 
BIT11                                     EQU  00000800     26* 2376 11232 17610 17651 30020 30072 31084 
BIT12                                     EQU  00001000     27* 2381 11232 17166 17249 23044 23550 23585 
BIT13                                     EQU  00002000     28* 2382  9303 11613 23472 23495 
BIT14                                     EQU  00004000     29* 2383  9298 
BIT15                                     EQU  00008000     30* 2384  6907 28818 
BIT16                                     EQU  00010000     31*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   636

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2042  2351  2366  2386  9589  9611 10024 10187 10235 11178 11432 
                                                         11732 11804 11996 13196 13732 13969 14648 14699 15088 16831 16835 17520 
                                                         17572 17895 17985 18059 18163 18172 18206 18474 18539 18595 20013 20825 
                                                         20838 21012 21043 21113 21234 21272 21293 21314 21504 21676 21688 21714 
                                                         23823 24366 24499 24751 26275 26937 27084 28431 28524 32159 32248 32463 
                                                         33178 33203 33350 33390 36303 36539 36657 36688 36695 37604 37662 37666 
                                                         37742 37818 37826 37830 37852 38792 38981 39053 39492 39499 39927 40011 
                                                         40071 40981 41063 41064 41138 41145 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2043  2352  2367  2387  6202  7781  9589  9991 10184 10214 11457 
                                                         11974 11996 12988 13591 17829 23823 24779 26973 27131 28524 32440 32589 
                                                         33218 33242 33306 33345 33390 33818 33827 36769 37666 37711 41248 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2353  2368  2388  9589 11198 11991 13665 15072 15688 18679 18835 
                                                         23823 24522 24546 24580 24878 28524 33279 33298 33306 33338 33345 33390 
                                                         33822 33827 39977 
BIT5                                      EQU  00000020     20* 2354  2369  2389  7113  7119  8258  8546  8589  9045  9070 13957 
                                                         14043 15075 15674 20144 22000 22103 23823 28524 32805 32811 33390 36758 
                                                         40861 41237 
BIT6                                      EQU  00000040     21* 2355  2370  2390  7197  8100  9569  9589 10053 10077 10181 10241 
                                                         10264 10267 11082 12258 13143 13584 16448 16689 18168 18615 21226 21403 
                                                         21918 21986 22094 23823 26307 28524 30161 33095 33463 33684 33755 33864 
                                                         34627 34641 35039 35360 35372 35443 35883 35909 36403 36764 36798 41243 
                                                         41277 
BIT7                                      EQU  00000080     22* 2356  2371  2391  8148 12271 12325 12371 12417 23823 27286 28483 
                                                         28500 28535 31092 31101 34619 35356 35390 35443 
BIT8                                      EQU  00000100     23* 2357  2372 23823 31084 31748 
BIT9                                      EQU  00000200     24* 2358  2373  6755 11620 11637 22097 22118 23823 31084 32745 33064 
                                                         33125 
BRKTST_POSCTL_0020               P             00006E00  32442 32451*
BRKTST_POSCTL_0040               P             00006E08  32454 32460*
BRKTST_POSCTL_0048               P             00006E1C  32465 32474*
BRKTST_POSCTL_0190               P             00006E80  32467 32551*
BRKTST_POSCTL_0200               P             00006ED0  32456 32581*
BRKTST_POSCTL_0240               P             00006F0C  32585 32616*
BRKTST_POSCTL_0800               P             00006F2C  32444 32553 32604 32658*
CHG_STEP_INFO_MAKSTP_END_010     P             00005240  25400 25413*
CHG_STEP_INFO_MAKSTP_END_020     P             00005254  25415 25427*
CHG_STEP_INFO_MAKSTP_END_EXT     P             00005254  25406 25421 25429*
CLSINC1_SEL_020                  P             00004AC8  23728 23742*
CLSINC1_SEL_END                  P             00004AD2  23735 23750*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   637

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

CLSINC2_SEL_020                  P             00004AFC  23776 23790*
CLSINC2_SEL_END                  P             00004B06  23783 23798*
CLSINC_SEL_050LOP                P             00004B26  23832*23841 
CLSINC_SEL_100                   P             00004B34  23835 23842*
CLSINC_SEL_300                   P             00004B50  23846 23849 23862*
CLSINC_SEL_DEF                   P             00004B4C  23826 23859*
CLS_POS_LENGTH_ADDATA_050        P             000044E4  22289 22297*
CMPSPD_RSTPLS_250                P             0000812A  36905 36911*
CMPSPD_RSTPLS_280                P             00008132  36915 36919*
CMP_BRK2_CTLCAL_200              P             00006274  29668 29676*
CMP_CNT_CTLCAL_200               P             00006210  29592 29600*
CMP_HOLD_CTL200                  P             000062CA  29740 29748*
CMP_PLSLSI_CTLCAL_200            P             000061A4  29508 29516*
CMP_SPD_REST_END                 P             0000817A  36973 36980 36984*
CMP_SPD_REST_ERR                 P             00008172  36908 36977*
CMP_SPD_REST_MOV                 P             0000816C  36917 36922 36961 36970*
CMP_SPD_REST_STOP                P             00008178  36963 36982*
CNTBANK_DBGBRK_100               P             000058B4  27288 27297*
CNT_GPOINT_STOPTYP2_050          P             00005BA0  27964 27981*
CNT_GPOINT_STOPTYP2_100          P             00005BEA  27944 27960 27973 28060*
CNT_REST_HOSEI_SPDTYP_EXT        P             000069F8  31508 31512*
CNT_STOP_CMD_DATSUB1_100         P             00005CB2  28240 28243*
CNT_STOP_CMD_DATSUB2_100         P             00005CF4  28286 28289*
CNT_SUB_DATACALC_100             P             00005C46  28152 28156*
CNT_SUB_DATACALC_120             P             00005C50  28159 28164*
CNT_SUB_DATACALC_150             P             00005C5C  28163 28174*
CNT_SYNCHOS_SPDTYP_080           P             0000692C  31326 31346*
CNT_SYNCHOS_SPDTYP_100           P             00006932  31351*
CNT_SYNCHOS_SPDTYP_200           P             0000693C  31350 31362*
CNT_SYNCHOS_SPDTYP_250           P             0000694E  31365 31376*
CNT_SYNCHOS_SPDTYP_300           P             00006960  31379 31390*
CNT_SYNCHOS_SPDTYP_310           P             00006972  31394 31405*
CNT_SYNCHOS_SPDTYP_320           P             00006984  31408 31419*
CNT_SYNCHOS_SPDTYP_330           P             00006996  31422 31433*
CNT_SYNCHOS_SPDTYP_390           P             000069A8  31436 31447*
CNT_SYNCHOS_SPDTYP_400           P             000069B2  31332 31369 31383 31398 31412 31426 31440 31451 31457*
CNT_SYNCHOS_SPDTYP_450           P             000069C0  31356 31464 31466*
CNT_SYNCHOS_SPDTYP_EXT           P             000069C8  31472*
CNT_VMODE_NEXT_CYCLSTR_050       P             00005818  27133 27165*
CNT_VMODE_NEXT_CYCLSTR_100       P             00005824  27141 27176*
CPUB_GET_OBJPOS_100              P             000060CE  29241 29247*
CPUB_GET_OBJPOS_EXT              P             000060D4  29252*
DAI_CHK01_100                    P             000037FC  19126 19134*
DAI_CHK01_200                    P             000002B0   7251  7256*
DAI_CHK03_300                    P             0000385E  19201 19217*
DEBUG_BRK_PNT1_100               P             00001A74  12327 12336*
DEBUG_BRK_PNT2_100               P             00001A9C  12373 12382*
DEBUG_BRK_PNT3_100               P             00001AC4  12419 12428*
DEBUG_JMP10                      P             00008D42  39949 39953*
DEBUG_SIGINC_100                 P             0000111A  10395 10397*
DELT_POS_SPDCG1_020              P             00003E04  20644 20646*
DELT_POS_SPDCG1_050              P             00003E16  20653 20661*
DELT_POS_SPDCG1_100              P             00003E1A  20658 20667*
DELT_POS_SPDCG1_150              P             00003EC2  20792*20798 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   638

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DELT_POS_SPDCG1_200              P             00003E22  20650 20656 20664 20677*
DELT_POS_SPDCG1_250              P             00003E3E  20690 20692*
DELT_POS_SPDCG1_300              P             00003E56  20706 20709*
DELT_POS_SPDCG1_350              P             00003E58  20702 20711*
DELT_POS_SPDCG1_380              P             00003E62  20717 20719*
DELT_POS_SPDCG1_430              P             00003E8E  20749 20751*
DNDINC_MAKOBJPOS_100             P             000023BC  14292 14304*
DNDINC_MAKOBJPOS_120             P             000023C6  14296 14310*
DNDINC_MAKOBJPOS_150             P             000023D8  14298 14309 14322*
DNDINC_MAKOBJPOS_200             P             000023DC  14314 14326*
DNDINC_SPDSET_100                P             00000658   8102  8108  8110*
DNDINC_STEP_MK100                P             000022B4  14083 14093 14103 14120*
DNDINC_STEP_MK150                P             000022EC  14105 14133 14151*
DNDINC_STEP_MK180                P             00002328  14156 14190*
DNDINC_STEP_MK200                P             00002346  14179 14213*
DNDINC_STEP_MK220                P             00002390  14250 14261*
DNDINC_STEP_MK300                P             00002396  14139 14255 14265*
DNDINC_ST_100                    P             00000400   7565  7579*
DNDINC_ST_350                    P             00000430   7589  7610*
DNDINC_ST_380                    P             00000442   7601  7627*
DNDINC_ST_520                    P             0000045C   7584  7644*
DNDINC_ST_550                    P             00000480   7648  7668*
DNDINC_ST_580                    P             00000490   7660  7682*
DNDINC_ST_END                    P             00000496   7572  7633  7687*
DND_1STEP_DATMK1_050             P             00001408  11025 11027*
DND_ALLSTEPCTL_005               P             00001D78  13088 13102*
DND_ALLSTEPCTL_010               P             00001D94  13108 13124*
DND_ALLSTEPCTL_020               P             00001DA4  13081 13140*
DND_ALLSTEPCTL_050               P             00001DB4  13145 13153*
DND_ALLSTEPCTL_060               P             00001DCC  13166 13169 13174*
DND_ALLSTEPCTL_100               P             00001DE8  13180 13191*
DND_ALLSTEPCTL_200               P             00001E04  13198 13214*
DND_ALLSTEPCTL_300               P             00001E20  13182 13233*
DND_ALLSTEPCTL_320               P             00001E40  13250 13256*
DND_ALLSTEPCTL_400               P             00001E4C  13236 13267*
DND_ALLSTEPCTL_420               P             00001E5C  13272 13279*
DND_ALLSTEPCTL_425               P             00001E64  13284 13288*
DND_ALLSTEPCTL_450               P             00001F58  13298 13440*
DND_ALLSTEPCTL_500               P             00001FA4  13286 13485*
DND_ALLSTEPCTL_580               P             00001FD0  13473 13523*
DND_ALLSTEPCTL_600               P             00002044  13274 13580*
DND_ALLSTEPCTL_900               P             00002066  13094 13116 13130 13147 13204 13225 13258 13422 13560 13619*
DND_LNKPLS_OBJMK1_END            P             0000054A   7844  7861*
DND_LNKPLS_OBJ_CHG050            P             00000522   7833  7836*
DND_LNKPLS_OBJ_DNPOS1            P             00000540   7819  7854*
DND_LNKPLS_OBJ_UPPOS0            P             00000512   7825*
DND_LNKPLS_OBJ_UPPOS1            P             00000512   7821  7824*
DND_LNK_STEP_CK1_050             P             000004EE   7790  7792*
DND_LNK_STEP_CK1_100             P             000004F2   7783  7796*
DND_NEGSTEPCTL_100               P             000020D0  13713 13722*
DND_NEGSTEPCTL_200               P             000020EC  13734 13747*
DND_NEGSTEPCTL_300               P             0000210C  13715 13771*
DND_NEGSTEPCTL_320               P             0000212C  13790 13798*
DND_NEGSTEPCTL_400               P             0000213C  13774 13813*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   639

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_NEGSTEPCTL_420               P             00002150  13824 13833*
DND_NEGSTEPCTL_440               P             0000216C  13843 13852*
DND_NEGSTEPCTL_460               P             0000216E  13846 13854*
DND_NEGSTEPCTL_580               P             0000217C  13868*
DND_NEGSTEPCTL_900               P             000021A0  13736 13763 13792 13805 13826 13893*
DND_ORGIN_SIG_FORON_EXT          P             000020A4  13648 13654 13660 13668*
DND_ORGIN_STEP_050               P             00001EE0  13305 13367*
DND_ORGIN_STEP_100               P             00001F22  13350 13416*
DND_ROTSTEPCTL_050               P             000021DC  13945 13954*
DND_ROTSTEPCTL_080               P             000021F4  13959 13972*
DND_ROTSTEPCTL_200               P             00002204  13971 13986*
DND_ROTSTEPCTL_400               P             00002204  13987*
DND_ROTSTEPCTL_420               P             00002218  13998 14007*
DND_ROTSTEPCTL_440               P             00002240  14020 14031*
DND_ROTSTEPCTL_500               P             0000224A  14023 14035 14037*
DND_ROTSTEPCTL_900               P             0000225A  13974 14000 14052*
DND_ROTSTEPCTL_EXT               P             0000225C  13947 14054*
DND_SPD_SEQSET_100               P             00000690   8159  8161*
DND_SPD_SEQSET_END               P             0000069E   8150  8155  8171*
DND_TEPSTEPCTL_020               P             0000251C  14625 14634*
DND_TEPSTEPCTL_180               P             0000254C  14650 14664 14676*
DND_TEPSTEPCTL_200               P             00002568  14638 14690*
DND_TEPSTEPCTL_220               P             000025AC  14701 14732*
DND_TEPSTEPCTL_290               P             000025B2  14740*
DND_TEPSTEPCTL_400               P             000025BC  14627 14751*
DND_TEPSTEPCTL_420               P             000025D0  14756 14769*
DND_TEPSTEPCTL_800               P             000025F8  14776 14799*
DND_TEPSTEPCTL_900               P             000025FE  14678 14720 14742 14762 14788 14806*
DND_TEPSTEPCTL_EXT               P             00002600  14808*
DNMODE_ENDWAIT_TIMCK_END         P             00006ABC  31712 31718*
DNMODE_ENDWAIT_TIMST100          P             00006A9C  31668 31674 31688*
DNMODE_ENDWAIT_TIMST200          P             00006A9E  31679 31690*
DNM_ACCCALC_020                  P             00008AF6  39415 39417*
DNM_ACCCALC_100                  P             00008B2C  39457 39461*
DNM_ACCCALC_200                  P             00008B3A  39467 39474*
DNM_ACCCALC_300                  P             00008B56  39489 39496*
DNM_ACC_OVER_PLSMK100            P             00008BFC  39574 39578 39591*
DNM_ACC_OVER_PLSMK200            P             00008C02  39562 39580 39596*
DNM_CYCLE_ED_100                 P             00006B7A  31896 31902 31904*
DNM_CYCLE_STR_100                P             00006BF0  31968 31996*
DNM_CYCLE_STR_200                P             00006BF4  31984 32000*
DNM_CYCLE_STR_CAM_SET300         P             00006C06  32009 32018*
DNM_MATH_ELSE_DATMK100           P             00006C44  32052 32058 32075 32082*
DNM_PLS_LSICTLCAL_010            P             000090EE  40967 40972*
DNM_PLS_LSICTLCAL_020            P             00009110  40979 40995*
DNM_PLS_LSICTLCAL_050            P             00009128  40983 41002 41010*
DNM_PLS_LSICTLCAL_100            P             0000912C  40985 41018*
DNM_PLS_LSICTLCAL_150            P             00009148  41022 41037*
DNM_PLS_LSICTLCAL_160            P             00009158  41042 41052*
DNM_PLS_LSICTLCAL_180            P             00009180  41060 41080*
DNM_PLS_LSICTLCAL_190            P             00009186  41085*
DNM_PLS_LSICTLCAL_500            P             000091A4  41029 41089 41108*
DNM_PLS_LSICTLCAL_510            P             000091AA  41071 41114*
DNM_PLS_LSICTLCAL_700            P             000091C0  41012 41065 41091 41134*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   640

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DNM_PLS_LSICTLCAL_710            P             000091FC  41154 41160 41178*
DNM_PLS_LSICTLCAL_720            P             0000920A  41188 41190*
DNM_PLS_LSICTLCAL_740            P             00009212  41168 41193 41195*
DNM_PLS_LSICTLCAL_760            P             00009224  41202 41211*
DNM_PLS_LSICTLCAL_800            P             00009244  41004 41209 41229*
DNM_PLS_LSICTLCAL_820            P             00009252  41147 41239*
DNM_PLS_LSICTLCAL_900            P             00009268  41124 41218 41259*
DNM_PLS_LSICTLCAL_ERR            P             00009278  41099 41269*
DNM_PLS_LSICTLCAL_EXT            P             00009286  41045 41118 41261 41280*
DNM_STEP_ACC_CHGDBG10            P             000089C2  39203 39205*
DNM_STEP_ACC_CHGDBG20            P             000089C8  39207 39209*
DNM_STEP_ACC_CHG_100             P             000089DC  39192 39198 39228*
DNM_TBLCAL_200                   P             00008204  37409 37426*
DNM_TBLCAL_300                   P             00008206  37417 37428*
DURING_TIM_CNTCK_END             P             00006A32  31586*
DURING_TIM_PRECALC100            P             00006A64  31619 31633*
DURING_TIM_PRECALC200            P             00006A66  31610 31614 31622 31635*
DURING_TIM_PRECALCEND            P             00006A6A  31624 31638*
ENDHAND_WAIT_TIMC100             P             00006C8C  32116 32130*
ENDHAND_WAIT_TIMC200             P             00006C98  32121 32139*
ERR_INFO_BAKUP_ST_END            P             0000502E  24986 24999*
ERR_INFO_DTCHK1_EXT              P             00004D4A  24308 24314 24320 24327 24371*
ERR_INFO_DTCHK2_050              P             00004DEC  24509 24511*
ERR_INFO_DTCHK2_100              P             00004E00  24518 24524*
ERR_INFO_DTCHK2_150              P             00004E16  24531 24539*
ERR_INFO_DTCHK2_200              P             00004E5C  24542 24570*
ERR_INFO_DTCHK2_300              P             00004E70  24549 24576 24582*
ERR_INFO_DTCHK2_EXT              P             00004E72  24440 24446 24453 24460 24587*
ERR_INFO_DTCHK3X_100             P             00004FB4  24831 24840*
ERR_INFO_DTCHK3X_200             P             0000500C  24833 24899*
ERR_INFO_DTCHK3X_300             P             0000500C  24872 24888 24900*
ERR_INFO_DTCHK3_050              P             00004ED4  24654 24669*
ERR_INFO_DTCHK3_060              P             00004EFE  24697 24699*
ERR_INFO_DTCHK3_100              P             00004F08  24682 24710*
ERR_INFO_DTCHK3_200              P             00004F22  24719 24732*
ERR_INFO_DTCHK3_220              P             00004F30  24741 24743*
ERR_INFO_DTCHK3_300              P             00004F46  24746 24760*
ERR_INFO_DTCHK3_350              P             00004F4C  24766*24772 
ERR_INFO_DTCHK3_380              P             00004F62  24775 24781*
ERR_INFO_DTCHK3_EXT              P             00004F68  24628 24634 24640 24647 24658 24791*
ERR_INFO_DTIN1_EXT               P             00004BEE  24040 24046 24053*
ERR_INFO_DTIN2_EXT               P             00004C3E  24096 24130*
ERR_INFO_DTIN3_EXT               P             00004C8E  24192 24199*
ERR_INFO_DTIN4_EXT               P             00004CC8  24239 24245 24257*
ERR_INFO_WKCLR_LOP               P             00005068  25054*25060 
ERR_STOP_MOVCK050                P             00003BA8  20015 20017*
FULCLS_LNG_ADD_CAL200            P             0000454C  22379 22384 22386*
FULCLS_LNG_ADD_CAL300            P             00004594  22414 22436*
FULCLS_LNG_ADD_CAL400            P             00004596  22424 22446*
FULCLS_LNG_ADD_CAL450            P             0000459E  22449 22451*
FULCLS_MAXOVER_ERRS100           P             000043EC  21995 22003*
FULCLS_MAXOVER_ERRSET            P             000043CC  21955 21967 21977*
FULCLS_MAXOVER_ERRWAT            P             000043EC  21971 21981 22008*
FULCLS_MAXPLSCAL_100             P             00004354  21855 21857*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   641

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

FULCLS_MAXPLSCAL_200             P             0000435C  21866*
FULCLS_OVERSG_100                P             0000443E  22096 22105 22109*
FUL_BEFOR_CAL100                 P             00001328  10787 10799*
FUL_BEFOR_CAL500                 P             0000132E  10779 10789 10806*
FUL_CLS_OBJPLSCK_050             P             0000451C  22332 22338 22340*
FUL_PLS_ST120                    P             000045F2  22539 22541*
FWD_REV_STR_050                  P             00003296  17833 17835*
FWD_REV_STR_055                  P             000032A4  17841 17844*
FWD_REV_STSIG_OFSPEC_050         P             000033B8  18058 18094*
GAMEN_OVRIDE_100                 P             00005EC8  28728 28730*
GENSOK_SIGMK_050                 P             00003EE8  20827 20835*
GENSOK_SIGMK_END                 P             00003F00  20852 20856*
GENSOK_SIGMK_OF                  P             00003EFE  20829 20842 20854*
GENSOK_SIGMK_ON                  P             00003EF8  20840 20849*
HENSA_DAT_MONMK_050              P             00005648  26799 26801*
HENSA_DAT_MONMK_100              P             00005662  26817 26819*
H_BYTE                                    EQU  00000000     82*
INCENC_SV_HENSA_MK050            P             00003AE2  19844 19852*
INCENC_SV_HENSA_MK100            P             00003AE8  19855 19857*
INC_UPLIMT_CAL100                P             00006B08  31744 31751 31776*
INC_UPLIMT_CAL200                P             00006B0A  31764 31778*
INC_UPLIMT_CALEND                P             00006B0E  31781*
INT_POSCTL_0020                  P             00000CC4   9571  9586*
INT_POSCTL_0040                  P             00000CD4   9591  9599*
INT_POSCTL_0045                  P             00000CDC   9602  9606*
INT_POSCTL_0048                  P             00000CF0   9613  9622*
INT_POSCTL_0080                  P             00000D18   9643  9655*
INT_POSCTL_0100                  P             00000D20   9668*
INT_POSCTL_0102                  P             00000D64   9681  9704*
INT_POSCTL_0102A                 P             00000D98   9728  9748*
INT_POSCTL_0103                  P             00000DE8   9779  9799*
INT_POSCTL_0105                  P             00000DEE   9787  9805*
INT_POSCTL_0110                  P             00000E00   9754  9819*
INT_POSCTL_0115                  P             00000E0C   9736  9812  9831*
INT_POSCTL_0120                  P             00000E24   9713  9848*
INT_POSCTL_0130                  P             00000E5C   9854  9882*
INT_POSCTL_0140                  P             00000E68   9837  9871  9893*
INT_POSCTL_0190                  P             00000EB2   9615  9688  9955*
INT_POSCTL_0200                  P             00000EF0   9604  9977*
INT_POSCTL_0220                  P             00000F2C   9987 10017*
INT_POSCTL_0240                  P             00000F60  10020 10049*
INT_POSCTL_0250                  P             00000F9C  10055 10092*
INT_POSCTL_0260                  P             00000FBC  10097 10101 10118*
INT_POSCTL_0280                  P             00000FC2  10110 10123*
INT_POSCTL_0300                  P             00000FFC   9593 10180*
INT_POSCTL_0320                  P             0000100C  10189 10194*
INT_POSCTL_0500                  P             0000103C  10186 10202 10230*
INT_POSCTL_0700                  P             0000105C   9573 10183 10261*
INT_POSCTL_0800                  P             0000106E   9957 10006 10039 10080 10165 10217 10237 10244 10276*
INT_POSCTL_0900                  P             00001070  10191 10266 10278*
INT_POSCTL_0910                  P             0000108E   9462  9487 10302*
INT_POSCTL_0920                  P             000010D4  10316 10340*
INT_POSCTL_0950                  P             000010DE  10324 10347*
INT_POSCTL_CHK00                 P             00000C54   9460  9472*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   642

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

INT_POSCTL_CHK10                 P             00000C70   9479  9495*
JMP0100000                       P             00000598   7920  7940*
JMP0100001                       P             0000071C   8267  8290*
JMP0100002                       P             000008E0   8683  8701*
JMP0100003                       P             00000B3A   9209  9212*
JMP0100007                       P             00002304  14164 14167*
JMP0100008                       P             00002312  14174 14177*
JMP0100009                       P             00002338  14199 14201*
JMP0100010                       P             00002346  14209 14211*
JMP0100011                       P             00002370  14219 14240*
JMP0100013                       P             000027F0  15202 15204*
JMP0100014                       P             00003E78  20734 20736*
JMP0100016                       P             00004D26  24341 24343*
JMP0100017                       P             00004D38  24354 24356*
JMP0100018                       P             00004D46  24365 24367*
JMP0100019                       P             00004DBE  24474 24476*
JMP0100020                       P             00004DD0  24487 24489*
JMP0100021                       P             00004DDE  24498 24500*
JMP0200000                       P             000005A4   7924  7926  7929  7943  7945  7947*
JMP0200001                       P             00000728   8271  8273  8276  8293  8295  8297*
JMP0200002                       P             000008EC   8687  8689  8692  8704  8706  8708*
JMP0200003                       P             00000B52   9219  9223  9226*
JMP0200011                       P             0000237C  14223 14225 14228 14243 14245 14247*
JMP0200014                       P             00003E80  20739 20741*
JMP_0100004                      P             00001702  11653 11656*
JMP_0100005                      P             00001E30  13242 13245*
JMP_0100006                      P             0000211C  13781 13784*
JMP_0100012                      P             000024FE  14610 14613*
JMP_0100015                      P             00004050  21215 21218*
JMP_0100022                      P             00006B26  31816 31818*
JMP_0100023                      P             00006B66  31887 31889*
JMP_0100024                      P             00006BB6  31958 31960*
JMP_0100025                      P             00006C98  32135 32138*
JMP_0100026                      P             000075AE  33947 33950*
KAJYU_START_UPCK_EXT             P             00004A1C  23532 23538 23545 23554*
KJYU_DATA_INFOSL100              P             000049D4  23431 23437 23460 23491*
KJYU_DATA_INFOSL300              P             000049E0  23478 23499*
KJYU_NEARZERO3CHK_100            P             000048C4  23253 23255*
KJYU_NEARZERO3CHK_200            P             000048DE  23270 23272*
KJYU_NEARZERO3CHK_END            P             00004914  23280 23295 23302 23308 23314*
KJYU_NEARZERO3CHK_OUT_OFF        P             00004906  23260 23299*
KJYU_NEARZERO3CHK_TOUTATU        P             0000490C  23274 23292 23305*
KJYU_NEARZERO3CHK_YES            P             00004912  23277 23311*
KJYU_NEARZERO3_CK100             P             000048FC  23290*
KJYU_NEARZERO_CK200              P             000048A2  23170 23174 23176*
KJYU_OUTDIR100                   P             00004930  23333 23343*
KJYU_OUTDIR200                   P             00004932  23336 23346*
LINK_DIR_OBJMK3_250              P             000009B4   8869  8874  8876*
LINK_DIR_OBJMK3_280              P             000009C0   8883  8885*
LINK_DIR_OBJMK3_300              P             000009DC   8865  8899*
LINK_DIR_OBJMK3_400              P             000009F0   8903  8908  8910*
LINK_DIR_OBJMK3_450              P             000009FC   8918  8920*
LINK_DIR_OBJMK3_500              P             000009FE   8887  8923*
LINK_DIR_OBJMK3_600              P             00000A08   8927  8929*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   643

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LINK_DIR_OBJMK3_750              P             00000A30   8963  8965*
LINK_PM_MX50                     P             00000B76   9258  9262*
LINK_UPPLSDN_DRV050              P             00000A7C   9015  9026*
LINK_UPPLSDN_DRV130              P             00000AA8   9017  9041  9047  9053  9064*
LINK_UPPLSDN_DRV135              P             00000AAE   9069*
LINK_UPPLSDN_DRV140              P             00000AB0   9067  9072*
LINK_UPPLS_A_OBJMK1_100          P             000006D4   8233  8235*
LINK_UPPLS_A_OBJMK1_110          P             000006DA   8239  8241*
LINK_UPPLS_A_OBJMK1_145          P             0000072E   8260  8302*
LINK_UPPLS_A_OBJMK1_150          P             00000730   8301  8304*
LINK_UPPLS_A_OBJMK1_300          P             00000750   8308  8327*
LINK_UPPLS_A_OBJMK1_400          P             00000764   8331  8336  8338*
LINK_UPPLS_A_OBJMK1_500          P             00000766   8312  8317  8320  8340*
LINK_UPPLS_A_OBJMK1_600          P             00000770   8344  8346*
LINK_UPPLS_A_OBJMK1_700          P             00000798   8380  8382*
LINK_UPPLS_A_OBJMK2_030          P             000007DA   8429  8431*
LINK_UPPLS_A_OBJMK2_050          P             000007FA   8450  8452*
LINK_UPPLS_OBJ_SEL_050           P             00000884   8591  8604*
LINK_UPPLS_OBJ_SEL_100A          P             0000089C   8611  8625*
LINK_UPPLS_OBJ_SEL_110B          P             000008AC   8596  8616  8637*
LINK_UPPLS_OBJ_SEL_END           P             000008AE   8630  8640*
LNKPLS_OBJ_DAT_MK1_150           P             000005AC   7951  7953*
LNKPLS_OBJ_DAT_MK1_300           P             000005CC   7957  7976*
LNKPLS_OBJ_DAT_MK1_400           P             000005E0   7980  7985  7987*
LNKPLS_OBJ_DAT_MK1_500           P             000005E2   7961  7966  7969  7989*
LNKPLS_OBJ_DAT_MK1_600           P             000005EC   7993  7995*
LNKPLS_OBJ_DAT_MK1_750           P             00000614   8029  8031*
LNKPLS_OBJ_DAT_MK2_050           P             0000242E  14405 14410 14416*
LNKPLS_OBJ_DAT_MK2_080           P             0000243C  14421 14425*
LNKPLS_OBJ_DAT_MK2_100           P             00002458  14401 14440*
LNKPLS_OBJ_DAT_MK2_150           P             00002464  14443 14447*
LNKPLS_OBJ_DAT_MK2_200           P             00002470  14449 14455*
LNKPLS_OBJ_DAT_MK2_280           P             00002480  14462 14466*
LNKPLS_OBJ_DAT_MK2_300           P             00002480  14427 14470*
LNKPLS_OBJ_DAT_MK2_600           P             0000248A  14474 14476*
LNKPLS_OBJ_DAT_MK2_750           P             000024B2  14511 14513*
LNKPLS_OBJ_DAT_MK2_800           P             000024C4  14520 14525*
LOAD_RESTPLS_050                 P             00003C00  20120 20122 20131*
LOAD_RESTPLS_END                 P             00003C16  20124 20149*
LOAD_RESTPLS_LOP                 P             00003BD0  20096*20139 
LOD_POS_STSRG00                  P             0000341E  18207*18268 
LOD_POS_STS_REGSLOW_END          P             00003406  18165 18171 18174*
L_BYTE                                    EQU  00000001     81*
MN_POSCTL_ST050                  P             00000016   6635  6641  6645*
MN_POSCTL_START_110              P             00000128   6800  6835*
MN_POSCTL_START_200              P             0000013C   6840  6883*
MN_POSCTL_START_220              P             00000180   6888  6895  6903  6910  6984*
MN_POSCTL_START_500              P             000001AC   6802  7015*
MN_POSCTL_START_540              P             000001E8   7055  7086*
MN_POSCTL_START_600              P             000001F8   7036  7072  7097*
MN_POSCTL_START_800              P             000001FE   6848  6919  7006  7101*
MN_POS_CTLACT_100                P             00000280   7199  7208*
MN_POS_CTLACT_130                P             0000029C   7216  7233*
MN_POS_CTLACT_150                P             000002A2   7225  7240*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   644

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MN_POS_CTLACT_800                P             000002CC   7201  7273*
MN_POS_CTLACT_CONTINUE           P             000002F4   7263  7284  7304*
MN_POS_CTLACT_CYCLE_END          P             00000300   7292  7315*
MN_POS_CTLACT_EXIT               P             00000302   7307  7313  7317*
MN_POS_CTLACT_STOP_END           P             000002FA   7294  7310*
MONI_DI_CHK_050                  P             00006828  31100 31103*
MOST_DISP_DATSMP_050             P             00003B50  19933 19935*
MOST_DISP_DATSMP_100             P             00003B60  19943 19945*
MOST_DISP_DATSMP_150             P             00003B70  19956 19958*
MOTCYC_ED2_050                   P             000038CA  19314 19317*
MOTION_CYC_ST200                 P             00003802  19119 19141*
MOT_REPSTART_CL050               P             00006DA0  32346 32362*
MOT_REPSTART_CL100               P             00006DAE  32351 32370*
MOT_REPSTART_CL200               P             00006DC8  32390 32392*
MOT_REP_STEPCK_100               P             00006D18  32246 32271*
MOT_REP_STEPCK_200               P             00006D58  32288 32309*
MOT_REP_STEPCK_EXT               P             00006D5E  32240 32259 32277 32283 32297 32315*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*38789 38978 39050 
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEG_TEPA_ARACHK100               P             000028A0  15347 15363*
NEG_TEPA_ARACHK200               P             000028A6  15332 15370*
NEG_TEPA_ARACHK300               P             000028A8  15351 15366 15372*
NEXT_CYCL_STR1_050               P             00001C10  12754 12766 12779 12795 12797*
OBJ_NEAR_CK_030                  P             00000AF8   9147  9149*
OBJ_NEAR_CK_050                  P             00000B08   9152  9162*
OBJ_NEAR_CK_EXT                  P             00000B14   9155  9167  9169*
OPEN_ROT_NEAR1_ZR_CK100          P             00003A02  19634 19670*
OPEN_ROT_NEAR1_ZR_CK20           P             000039B8  19588 19595 19602 19614*
OPEN_ROT_NEAR1_ZR_CK40           P             000039BC  19604 19617*
OPEN_ROT_NEAR1_ZR_CK50           P             000039E0  19619 19642*
OPEN_ROT_NEAR2_ZR_CK100          P             00003A66  19721 19751*
OPEN_ROT_NEAR2_ZR_CK50           P             00003A4C  19706 19730*
ORGIN_OBJ_POSCTLST2_EXT          P             00000C1E   9387  9394*
ORGIN_OBJ_POS_CTLST1_100         P             00000BCC   9301  9323*
ORGIN_OBJ_POS_CTLST1_150         P             00000BE8   9329  9349*
ORGIN_OBJ_POS_CTLST1_200         P             00000BEE   9310  9338  9354*
OUTPLS_CNT_CHK010                P             000038F0  19455 19458*
OUTPLS_CNT_CHK020                P             00003900  19469 19471*
OUTPLS_CNT_CHK050                P             00003914  19482 19484*
OUTPLS_CNT_CHK100                P             0000392E  19497 19500 19502*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   645

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

OVERRIDE_CHG050                  P             00000C9A   9535  9543  9550*
OVER_DIGCHK_END                  P             000043AA  21924 21934*
OVER_DIGCHK_ERR                  P             00004384  21911*
OVER_DIGCHK_NOMAL                P             000043A8  21909 21921 21932*
OVER_LIDE_SPDCAL100              P             00006144  29418 29420*
OVER_LIDE_SQRF100                P             00005DB8  28485 28515*
OVER_LIDE_SQRF220                P             00005DF0  28547 28549*
OVER_LIDE_SQRF300                P             00005E00  28491 28504 28520 28561*
OVER_RIDE_ERRTIMCHG_100          P             00006058  29074 29088*
OVRLIDE_LATMULDIV200             P             0000655C  30359 30368 30378*
OVRLIDE_LATMULDIV300             P             00006564  30366 30387*
OVRLIDE_LATMULDIV400             P             0000656C  30381 30393*
OVRLIDE_LATMULDIV500             P             0000657C  30403 30405*
OVRLIDE_LATMULDIV550             P             00006582  30370 30408 30410*
OutputPLS_REGCLR_100             P             0000306C  17291 17306*
OutputPLS_REGCLR_150             P             000030C4  17377 17388*
OutputPLS_REGCLR_END             P             000030F4  17293 17379 17421*
OutputPLS_REGCLR_ERR             P             000030EC  17398 17413*
OutputPLS_REGCLR_LOP             P             00002FB6  17161*17405 
P                                P        SCT  00000000   6182*
PINT_SERCH_BIG2B_200LOP          P             00008FD0  40615*40658 
PINT_SERCH_BIG2B_300             P             00008FE8  40625 40637*
PINT_SERCH_BIG2B_500             P             00008FEE  40632 40642*
PINT_SERCH_BIG2B_600             P             00008FFC  40646 40648 40654*
PINT_SERCH_BIG2B_800             P             00009004  40623 40662*
PINT_SERCH_BIG2B_900             P             00009004  40664*
PINT_SERCH_BIG4B_200LOP          P             00009038  40757*40801 
PINT_SERCH_BIG4B_300             P             00009050  40767 40779*
PINT_SERCH_BIG4B_500             P             00009056  40774 40784*
PINT_SERCH_BIG4B_600             P             00009064  40789 40791 40797*
PINT_SERCH_BIG4B_800             P             0000906C  40765 40805*
PINT_SERCH_BIG4B_900             P             0000906C  40650 40794 40807*
PLS_CHG_PLSTOLSI_100             P             00006476  30151 30153*
PLS_CHG_PLSTOLSI_120             P             0000649C  30160 30163 30177*
PLS_CHG_PLSTOLSI_130             P             000064B4  30184 30198*
PLS_CHG_PLSTOLSI_150             P             000064B8  30167 30191 30204*
PLS_CHG_PLSTOLSI_200             P             000064BE  30207 30209*
PLS_LSICTRL_050                  P             00007E54  36299 36306*
PLS_LSICTRL_070                  P             00007E94  36323 36344*
PLS_LSICTRL_080                  P             00007EA4  36331 36357*
PLS_LSICTRL_100                  P             00007EE4  36409 36426*
PLS_LSICTRL_200                  P             00007F3C  36430 36466*
PLS_LSICTRL_220                  P             00007F58  36474 36488*
PLS_LSICTRL_END                  P             00007F5E  36405 36415 36445 36480 36494*
PLS_LSI_CTLCAL_020               P             00007F88  36538 36550*
PLS_LSI_CTLCAL_050               P             00007FA0  36541 36557 36565*
PLS_LSI_CTLCAL_100               P             00007FA4  36543 36570*
PLS_LSI_CTLCAL_150               P             00007FC0  36574 36589*
PLS_LSI_CTLCAL_160               P             00007FD0  36594 36604*
PLS_LSI_CTLCAL_500               P             00007FF4  36581 36614 36634*
PLS_LSI_CTLCAL_580               P             00008014  36650 36668*
PLS_LSI_CTLCAL_700               P             00008024  36567 36616 36624 36684*
PLS_LSI_CTLCAL_720               P             00008044  36707 36709*
PLS_LSI_CTLCAL_740               P             0000804C  36712 36714*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   646

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

PLS_LSI_CTLCAL_760               P             0000805E  36721 36730*
PLS_LSI_CTLCAL_800               P             00008084  36559 36659 36728 36750*
PLS_LSI_CTLCAL_820               P             00008092  36697 36760*
PLS_LSI_CTLCAL_900               P             000080A8  36674 36737 36780*
PLS_LSI_CTLCAL_ERR               P             000080B8  36790*
PLS_LSI_CTLCAL_EXT               P             000080C6  36597 36661 36782 36801*
PLS_LSI_SPD_ACCADD_200           P             00008104  36843 36860*
PLS_LSI_SPD_ACCADD_300           P             00008110  36849 36852 36866 36868*
PLS_LSI_SPD_ACCADD_END           P             00008114  36841 36871*
POINT_SERCHPLS1_050              P             00008EE4  40349 40351*
POINT_SERCHPLS1_100              P             00008F10  40335 40341 40375*
POINT_SERCHPLS1_200              P             00008F18  40363 40381*
POINT_SERCHPLS1_END              P             00008F1A  40379 40383*
POINT_SERCHPLS_HKN1_050          P             00008F4A  40443 40445*
POINT_SERCHPLS_HKN1_100          P             00008F5C  40454 40456*
POINT_SERCHPLS_HKN1_400          P             00008F98  40422 40428 40498*
POINT_SERCHPLS_HKN1_500          P             00008FA0  40486 40505*
POINT_SERCHPLS_HKN1_END          P             00008FA2  40502 40507*
POINT_SERCHSPD1_100              P             00008E94  40237 40241 40261*
POINT_SERCHSPD1_END              P             00008E9A  40249 40264 40267*
POSCNT_BANKDT100                 P             00005902  27387*
POSITIONER_DAICTL_020            P             00007174  33067 33079*
POSITIONER_DAICTL_040            P             0000718A  33094 33096*
POSITIONER_DAICTL_100            P             000071A8  33060 33116*
POSITIONER_DAICTL_200            P             000071E0  33128 33150*
POSITIONER_DAICTL_300            P             00007204  33155 33177*
POSITIONER_DAICTL_350            P             00007224  33199 33205*
POSITIONER_DAICTL_400            P             00007234  33180 33217*
POSITIONER_DAICTL_450            P             0000726A  33238 33260*
POSITIONER_DAICTL_500            P             00007290  33220 33278*
POSITIONER_DAICTL_530            P             000072CC  33292 33324*
POSITIONER_DAICTL_550            P             00007304  33332 33363*
POSITIONER_DAICTL_590            P             0000730A  33289 33368*
POSITIONER_DAICTL_800            P             00007314  33104 33137 33168 33207 33262 33281 33314 33353 33370 33380*
POSITIONER_DAICTL_EXT            P             0000732A  33069 33402*
POSITIONER_DAIDAT_100            P             00007406  33590 33594 33598 33602*
POSITIONER_DAIOBJ1MK_100         P             0000734E  33452 33457*
POSITIONER_DAIOBJ1MK_200         P             0000737C  33465 33487*
POSITIONER_DAIOBJ1MK_300         P             00007388  33474 33497*
POSITIONER_DAIOUT_100            P             00007514  33816 33820 33824*
POSITIONER_DAI_OBJ1CP_100        P             000074A4  33686 33701*
POSITIONER_DAI_OBJ1CP_END        P             000074BA  33715 33721 33726*
POSITIONER_DAI_OBJ1CP_OVR        P             000074B8  33690 33705 33724*
POSITIONER_DAI_OBJ1CP_WATDN      P             000074B2  33707 33718*
POSITIONER_DAI_OBJ1CP_WATUP      P             000074AC  33692 33712*
POSITIONER_DAI_OBJ2CP_100        P             000074E8  33757 33772*
POSITIONER_DAI_OBJ2CP_END        P             000074FE  33786 33791 33796*
POSITIONER_DAI_OBJ2CP_STP        P             000074FC  33761 33776 33794*
POSITIONER_DAI_OBJ2CP_WATDN      P             000074F6  33763 33788*
POSITIONER_DAI_OBJ2CP_WATUP      P             000074F0  33778 33783*
POSITIONER_DAI_STPCK100          P             00007550  33866 33881*
POSITIONER_DAI_STPCK150          P             00007554  33871 33884*
POSITIONER_DAI_STPCK200          P             00007560  33869 33883 33895*
POSITIONER_DAI_STPCK230          P             00007574  33905 33908*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   647

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSITIONER_DAI_STPCK250          P             00007588  33900 33921*
POSITIONER_DAI_STPCK280          P             00007594  33927 33929*
POSITIONER_DAI_STPCK300          P             000075A2  33932 33940*
POSITIONER_DAI_STPCK320          P             000075C6  33966 33968*
POSITIONER_DAI_STPCKEND          P             000075FA  33992 33998 34004*
POSITIONER_DAI_STPCKERR          P             000075F2  33975 33995*
POSITIONER_DAI_STPCKINP          P             000075F8  33973 34001*
POSITIONER_DAI_STPCKWAT          P             000075EC  33910 33956 33989*
POSITIONER_UPDNLMT100            P             000073D0  33549 33551*
POSITIONER_UPDNLMT200            P             000073DA  33556 33558*
POS_1STEP_DATA_MKSL100           P             00001AF0  12466 12482*
POS_1STEP_DATA_MKSL200           P             00001AF6  12474 12487*
POS_1STEP_DATMK1CL_020           P             000012B8  10682 10702*
POS_1STEP_DATMK1CL_040           P             000012BE  10689 10709*
POS_1STEP_DATMK1CL_050           P             000012CC  10720 10722*
POS_1STEP_DATMK1_050             P             00001222  10589 10591*
POS_1STEP_DATMK2_050             P             000013B6  10928 10930*
POS_ALLSTEPCTL_020               P             00001440  11084 11093*
POS_ALLSTEPCTL_100               P             00001448  11096 11101*
POS_ALLSTEPCTL_101               P             0000145C  11111 11120*
POS_ALLSTEPCTL_105               P             0000147C  11140 11150*
POS_ALLSTEPCTL_120               P             00001480  11131 11155*
POS_ALLSTEPCTL_189               P             00001514  11225 11231 11235 11272*
POS_ALLSTEPCTL_189A              P             00001530  11243 11278 11292*
POS_ALLSTEPCTL_190               P             00001532  11219 11251 11284 11295*
POS_ALLSTEPCTL_200               P             0000154C  11180 11320*
POS_ALLSTEPCTL_210               P             00001582  11358 11363*
POS_ALLSTEPCTL_211               P             00001598  11376 11382*
POS_ALLSTEPCTL_220               P             000015C0  11349 11399*
POS_ALLSTEPCTL_225               P             000015D4  11415 11424*
POS_ALLSTEPCTL_230               P             000015F4  11113 11142 11441 11451*
POS_ALLSTEPCTL_280               P             00001654  11527 11537 11539*
POS_ALLSTEPCTL_285               P             0000165E  11547 11549*
POS_ALLSTEPCTL_300               P             000016BC  11098 11605*
POS_ALLSTEPCTL_310               P             000016E4  11616 11633*
POS_ALLSTEPCTL_320               P             0000171C  11662 11673*
POS_ALLSTEPCTL_400               P             00001738  11608 11701*
POS_ALLSTEPCTL_415               P             00001766  11711 11718 11727 11734 11740 11746*
POS_ALLSTEPCTL_420               P             00001798  11767 11781*
POS_ALLSTEPCTL_428               P             000017E4  11806 11830*
POS_ALLSTEPCTL_430               P             00001804  11833 11855*
POS_ALLSTEPCTL_450               P             00001840  11867 11894*
POS_ALLSTEPCTL_530               P             00001894  11928 11971*
POS_ALLSTEPCTL_550               P             000018A8  11951 11977 11987*
POS_ALLSTEPCTL_580               P             000018E6  11816 11883 12044*
POS_ALLSTEPCTL_583               P             00001954  12071 12099*
POS_ALLSTEPCTL_585               P             0000196C  12065 12117*
POS_ALLSTEPCTL_590               P             00001972  11847 12077 12110 12128*
POS_ALLSTEPCTL_600               P             00001A08  11958 11979 12233*
POS_ALLSTEPCTL_600X              P             00001874  11924 11935 11956*
POS_ALLSTEPCTL_900               P             00001A38  11086 11152 11309 11385 11417 11443 11582 11624 11664 11691 11769 12212 
                                                         12275*
POS_ALLSTEPCTL_REP231            P             0000163C  11511 11513*
POS_CLS_CPUB_TO_CPUA_100         P             000044C4  22259 22261*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   648

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_CLS_OBJPVPLSMAK100           P             00004732  22846 22852*
POS_CLS_OBJPVPLSMAK300           P             00004784  22870 22900*
POS_CLS_OBJPVPLSMAK310           P             00004794  22920 22924*
POS_CLS_OBJPVPLSMAK500           P             00004798  22884 22932*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK100 P             000047C0  22963 22977*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK120 P             000047D4  22989 22991*
POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND P             000047DA  22970 22993 22996*
POS_CLS_RNA_KJYU_NZ_CHK100       P             00004808  23023 23037*
POS_CLS_RNA_KJYU_NZ_CHK200       P             0000484C  23058 23088*
POS_CLS_RNA_KJYU_NZ_CHK400       P             0000485A  23054 23102*
POS_CLS_RNA_KJYU_NZ_CHK490       P             00004868  23066 23077 23095 23113*
POS_CLS_RNA_KJYU_NZ_CHK500       P             00004878  23048 23128*
POS_CLS_RNA_KJYU_NZ_CHKEND       P             0000487E  23030 23105 23119 23135*
POS_CLS_START_050                P             00004706  22800 22802*
POS_CLS_TYP1_NEAR_ZR_CHK_100     P             00004482  22180 22184*
POS_CLS_TYP1_NEAR_ZR_CHK_200     P             000044AC  22205 22221*
POS_CLS_TYP1_NEAR_ZR_CHK_201     P             000044B2  22209 22226*
POS_CLS_TYP1_NEAR_ZR_CHK_202     P             000044B4  22212 22224 22228*
POS_CLS_TYP1_POSCTL1_000         P             00003FAA  20975 21073*
POS_CLS_TYP1_POSCTL1_050         P             00003FDC  21115 21129*
POS_CLS_TYP1_POSCTL1_100         P             00004044  21078 21208*
POS_CLS_TYP1_POSCTL1_105         P             00004044  21209*
POS_CLS_TYP1_POSCTL1_107         P             0000406C  21236 21245*
POS_CLS_TYP1_POSCTL1_108         P             00004080  21244 21256*
POS_CLS_TYP1_POSCTL1_110         P             00004084  21228 21264*
POS_CLS_TYP1_POSCTL1_112         P             000040AC  21271 21289*
POS_CLS_TYP1_POSCTL1_113         P             000040BC  21295 21303*
POS_CLS_TYP1_POSCTL1_115         P             000040D8  21316 21325*
POS_CLS_TYP1_POSCTL1_117         P             000040EC  21330 21339*
POS_CLS_TYP1_POSCTL1_118         P             00004168  21369 21436*
POS_CLS_TYP1_POSCTL1_119A        P             000041A0  21454 21482*
POS_CLS_TYP1_POSCTL1_119E        P             000041A6  21471 21487*
POS_CLS_TYP1_POSCTL1_119E_EX     P             000041C2  21464 21511*
POS_CLS_TYP1_POSCTL1_200         P             000041E0  21297 21527*
POS_CLS_TYP1_POSCTL1_220         P             00004230  21546 21577*
POS_CLS_TYP1_POSCTL1_222         P             00004248  21597 21606*
POS_CLS_TYP1_POSCTL1_240         P             0000425C  21613 21627*
POS_CLS_TYP1_POSCTL1_250         P             00004264  21599 21621 21635*
POS_CLS_TYP1_POSCTL1_260         P             00004298  21619 21632 21665*
POS_CLS_TYP1_POSCTL1_280         P             000042B6  21678 21690 21699*
POS_CLS_TYP1_POSCTL1_ED050       P             0000412A  21359 21392*
POS_CLS_TYP1_POSCTL1_END         P             000042D4  21045 21064 21716 21721*
POS_CLS_TYP1_POSCTL1_NOT         P             00003F32  20961 20981*
POS_CLS_TYP1_POSCTL1_NOT20       P             00003F38  20968 20990*
POS_CLS_TYP1_POSCTL1_OUT_WAIT    P             000042D2  21117 21192 21247 21318 21334 21422 21513 21565 21654 21701 21719*
POS_CLS_TYP1_POSCTL1_OVER98      P             00004120  21280 21384*
POS_CLS_TYP1_POSCTL1_OVER99      P             00004124  21367 21387*
POS_CLS_TYP1_POSCTL1_PC_END      P             000042CC  21258 21713*
POS_CNT_BANKDTMAK123_COM         P             00005942  27328 27402 27443*
POS_CNT_BANKDTMAK12_050          P             0000593E  27435 27437*
POS_CNT_BANKDTMAK12_COM          P             00005930  27323 27345 27397 27426*
POS_CNT_BANKDTMKCM_050           P             000059F4  27593 27595*
POS_CNT_BANKDTMKCM_EXT           P             000059FE  27602*
POS_CNT_LASTSTEPCHK_END          P             0000599A  27512 27514*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   649

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_ENDMYUTTIM_KEEP              P             00000364   7430*
POS_ENDMYUTTIM_STOP              P             0000036A   7414  7420  7426  7436*
POS_ENDWAIT_TIMSET_END           P             00000324   7350  7357  7364*
POS_LSI_EMGSTOP_END              P             0000314E  17522 17538*
POS_LSI_SLWSTOP_END              P             0000317C  17574 17586*
POS_PLSOUT_SETRY100              P             000034E4  18383 18399*
POS_PLSOUT_SETRY120              P             0000352A  18457 18465*
POS_PLSOUT_SETRY130              P             00003560  18468 18494*
POS_PLSOUT_SETRY900              P             00003608  18481 18512 18515 18518 18639*
POS_PLSOUT_SETRYERR              P             000035DC  18569 18591*
POS_PLSOUT_SETRYEXT              P             00003616  18390 18631 18660*
POS_PLSOUT_SETRYLOP              P             00003502  18431*18576 
POS_PLS_OUTDAT_050               P             00003660  18731 18738*
POS_PLS_OUTDAT_080               P             0000368C  18752 18765*
POS_PLS_OUTDAT_100               P             0000369E  18771 18779*
POS_PLS_OUTDAT_200               P             000036A8  18782 18784 18786*
POS_PLS_OUTDAT_250               P             000036C2  18796 18804*
POS_PLS_OUTDAT_300               P             000036C6  18755 18809*
POS_PLS_OUTDAT_320_ECK10         P             00003750  18979 18981*
POS_PLS_OUTDAT_320_END           P             00003794  18983 19023*
POS_PLS_OUTDAT_320_ERR1          P             00003784  18973 19008*
POS_PLS_OUTDAT_320_EXT           P             0000379C  18992 19017 19029*
POS_PLS_OUTDAT_400               P             000037C2  19060 19068*
POS_START_ROT_CAL_040            P             00001B98  12655 12659 12664 12689*
POS_START_ROT_CAL_050            P             00001B9C  12649 12696*
POS_START_ROT_CAL_100            P             00001BBC  12673 12703 12709 12725*
POS_START_ROT_CAL_200            P             00001BC8  12727 12736*
POS_START_ROT_CAL_900            P             00001BD8  12691 12713 12732 12738 12742 12750*
POS_START_ROT_CAL_950            P             00001BE4  12730 12761*
POS_START_ROT_CAL_999            P             00001BF4  12715 12744 12774*
PRESET_PVABSTOOBJ_100            P             0000609C  29158 29177*
PRESET_PVABSTOOBJ_EXT            P             0000609C  29170 29187*
RESTART_WAIT_PLS_DATASEL_100     P             00004314  21763 21791*
RESTART_WAIT_PLS_DATASEL_END     P             00004326  21760 21806*
RESTART_WAIT_PLS_DATASEL_OUT     P             00004324  21779 21804*
REVRSE_KAJYU_AREACK_END          P             00004AA2  23678 23694*
REVRSE_KAJYU_AREACK_LASTSPD      P             00004A9C  23656 23669 23671 23688*
REV_BEFORE_CHGKOUTEICK090        P             00004698  22646 22657*
REV_BEFORE_CHGKOUTEICK100        P             0000469A  22640 22659*
REV_BEFORE_CHGKOUTEICK200        P             000046A8  22668*
REV_BEFORE_CHGKOUTEICK300        P             000046B4  22648 22666 22678*
REV_BEFORE_CHGKOUTEICK400        P             000046B6  22671 22680*
RL_POSDTCHK_SECOND_RD            P             000068D0  31192*31198 31200 
SET_OVERID200                    P             00005F3C  28770 28806*
SET_OVERID500                    P             00005F84  28765 28821 28850*
SET_OVERID900                    P             00005F9E  28793 28838 28870*
SPD_CTL_ST100                    P             0000664C  30605 30611*
SPD_STEP_CHGFWD_090              P             00001CD4  12938 12946 12960*
SPD_STEP_CHGFWD_100              P             00001CD8  12924 12966*
SPD_STEP_CHGFWD_200              P             00001CE2  12931 12974*
SPD_STEP_CHGFWD_202              P             00001CE4  12949 12977*
SPD_STEP_CHGFWD_250              P             00001D04  12982 12999*
SPD_STEP_CHGFWD_EXT              P             00001D2E  12921 12962 12973 12991 13038*
SPD_UPLIMT_CALEND                P             0000616C  29454 29459 29461*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   650

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

START_CNT_BANK2_MAKCHK_END       P             00005A28  27637 27653*
TBLACC_ACC_ADD_200               P             000090C0  40875 40894*
TBLACC_ACC_ADD_300               P             000090CC  40881 40884 40900 40902*
TBLACC_ACC_ADD_END               P             000090CE  40873 40904*
TBLACC_STEP_SPMAK_100            P             00008D8C  39969 40000*
TBLACC_STEP_SPMAK_200            P             00008D96  39932 39938 40009*
TBLACC_STEP_SPMAK_250            P             00008DB8  40013 40031*
TBLACC_STEP_SPMAK_300            P             00008DC4  40022 40039*
TBLACC_STEP_SPMAK_400            P             00008DE4  39929 40018 40036 40060*
TBLACC_STEP_SPMAK_500            P             00008DF2  39984 40049 40074*
TBLACC_STEP_SPMAK_CNST050        P             00008D54  39960 39971*
TBLACC_STOPSP_MK500              P             00008CF8  39842 39885*
TEPA_ADDLSI_010                  P             000029C8  15672 15687*
TEPA_ADDLSI_020                  P             000029D0  15676 15690 15695*
TEPA_ADDLSI_025                  P             000029E4  15655 15711*
TEPA_ADDLSI_030                  P             000029F4  15665 15678 15692 15722*
TEPA_ADDLSI_EXT                  P             00002A3C  15713 15728 15739 15751 15782*
TEPA_PLSCNTCHK_050               P             00002972  15601 15609*
TEPA_PLSCNTCHK_100               P             00002978  15595 15607 15615*
TEPA_STARTCHK_050                P             000028F0  15452 15454*
TEPA_STARTCHK_END                P             00002914  15461 15477*
TEPA_STARTCHK_NG                 P             000028F6  15441 15447 15458*
TEPA_STARTCHK_OK                 P             0000290C  15457 15471*
TEP_1STEP_DATMK1_050             P             000027D4  15169 15183*
TEP_1STEP_DATMK1_070             P             000027D8  15172 15186*
TEP_1STEP_DATMK1_080             P             000027DE  15156 15164 15174 15185 15192*
TEP_1STEP_DATMK1_100             P             00002816  15249 15251*
TEP_ADD_PLSMK_020                P             00002746  15074 15076*
TEP_ADD_PLSMK_030                P             0000274E  15070 15081*
TEP_ADD_PLSMK_050                P             0000275A  15090 15092*
TEP_ADD_PLSMK_100                P             00002764  15096 15098*
TEP_ADD_PLSMK_150                P             0000276A  15101 15103*
TEP_SPD_CALCCOM_100              P             00002AD0  15895 15897*
TEP_SPD_CALCCOM_200              P             00002ADE  15907 15909*
TEP_SPD_CALCCOM_300              P             00002AE8  15917 15919*
TEP_SPD_CALCCOM_400              P             00002AF2  15927 15929*
TEP_SYS_SET080                   P             00002B7E  16049 16051*
TEP_SYS_SET100                   P             00002B8E  16061 16063*
TEP_SYS_SET200                   P             00002BA6  16078 16080*
TYP1_OPEN_PRC_050                P             00003F60  21022 21027*
TYP1_OPEN_PRC_200                P             00003FA4  21014 21033 21041 21061*
UPPLS1_OBJMAK_COM_145            P             000008F2   8678  8713*
UPPLS1_OBJMAK_COM_150            P             000008F4   8712  8715*
UPPLS1_OBJMAK_COM_300            P             00000914   8719  8738*
UPPLS1_OBJMAK_COM_400            P             00000928   8742  8747  8749*
UPPLS1_OBJMAK_COM_500            P             0000092A   8723  8728  8731  8751*
UPPLS1_OBJMAK_COM_600            P             00000934   8755  8757*
UPPLS1_OBJMAK_COM_750            P             0000095C   8792  8794*
USE_IN_TBLMV_100LOP              P             00008434  38120*38129 
USE_IN_TBLMV_500                 P             00008454  38123 38138*
VMODE_LOT_SIG_ON                 P             0000579A  27081 27086*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   651

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3442 20527 20585 29677 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3452 20476 
_ACCBRK1_SV_MAKE                 P             00006594  28952 30432*32961 
_ACCBRK1_SV_MAK_OVR              P             000065BC  29000 30462*
_ACCBRK2_SV_MAKE                 P             000065E8  28956 30500*32965 
_ACCB_ACCLAT_TIM1                         IMPT 00000000  37135 38164 
_ACCERR_ACC_HENSA                         IMPT 00000000   4459 
_ACCERR_ACC_OBJ                           IMPT 00000000   4458 
_ACCERR_ACC_PV                            IMPT 00000000   4457 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4468 
_ACCERR_ERR_CNT                           IMPT 00000000   4460 
_ACCESS_ERR1                              IMPT 00000000   3538 24765 
_ACCLAT1_SV_MAK_COM              P        EXPT 000064FC  30237 30254 30282*30441 30473 30509 
_ACCLAT1_SV_MAK_OVR              P             000064C8  28996 30243*
_ACCLW_CALC_FLG                           IMPT 00000000   5400 34523 34559 34602 34639 34709 35037 
_ACCLW_CTRL_CALC                 P             00007794  34245 34585*
_ACCLW_DATA_MAIN                 P             000076E2  34087 34395*
_ACCLW_GEN_END_CONF_CHECK        P             00007844  34659 34735*
_ACCLW_GEN_MAX_LNG                        IMPT 00000000   5409 34423 34926 
_ACCLW_GEN_OUTSPD_CALC           P             00007868  34680 34776*
_ACCLW_GEN_START_CONF_CHECK      P             00007880  34635 34815*
_ACCLW_GET_SET_SPD                        IMPT 00000000   5406 34489 34741 34780 35032 
_ACCLW_GET_STEP_NO                        IMPT 00000000   5405 34487 35034 
_ACCLW_OUT_SET_SPD                        IMPT 00000000   5407 34491 34703 34783 
_ACCLW_REAL_SPD1MS                        IMPT 00000000   5395 34598 34918 
_ACCLW_SET_SPD                            IMPT 00000000   5394 34590 34693 34739 
_ACCLW_USE_CONF                           IMPT 00000000   5396 34430 34516 
_ACCSEL_CHGSPD_LIMIT_INFO_LOAD   P        EXPT 000076AC  34054 34301*
_ACCST_ACC_MATH_SEL                       IMPT 00000000   5426 35348 35436 35479 35652 35886 35912 
_ACCST_CALC_FLG                           IMPT 00000000   5421 35233 35269 35317 35354 35370 35388 35441 35881 35907 
_ACCST_CHGSPD_LIMIT_INFO_LOAD    P             00007DEC  34333 36143*
_ACCST_CHGSTEP_GET_MAKE          P             00007BB8  35343 35596*
_ACCST_CTRL_CALC                 P             00007A68  34264 35301*
_ACCST_DATA_MAIN                 P             000079B8  34105 35117*
_ACCST_DN_END_CONF_CHECK         P             00007B70  35499 35521*
_ACCST_DN_START_CONF_CHECK       P             00007D62  35836 35959*
_ACCST_GEN_MAX_LNG                        IMPT 00000000   5432 35138 35821 
_ACCST_GET_SET_SPD                        IMPT 00000000   5430 35200 35527 35564 35689 35878 35904 
_ACCST_GET_STEP_NO                        IMPT 00000000   5425 35274 35601 
_ACCST_OUT_SET_SPD                        IMPT 00000000   5431 35202 35431 35692 
_ACCST_REAL_SPD1MS                        IMPT 00000000   5419 35314 35813 
_ACCST_SET_SPD                            IMPT 00000000   5418 35306 35420 35525 35562 
_ACCST_UPDN_END_CONF_CHECK       P             00007B44  35381 35475*
_ACCST_UPDN_OUTSPD_CALC          P             00007C20  35407 35685*
_ACCST_UPDN_START_CONF_CHECK     P             00007C38  35366 35724*
_ACCST_UP_END_CONF_CHECK         P             00007B94  35486 35558*
_ACCST_UP_START_CONF_CHECK       P             00007DA4  35859 36045*
_ACCST_USE_CONF                           IMPT 00000000   5420 35144 35226 
_ACC_ANS_ACCDAT                           IMPT 00000000  37130 39271 39304 39427 39506 41302 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   652

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_CALC_SPD                             IMPT 00000000  37280 39482 39707 
_ACC_CALC_SPDX                            IMPT 00000000  37279 39475 39694 
_ACC_CALC_TIM                             EQU  000003E8  37104*39075 
_ACC_CTRL_STS1                            IMPT 00000000  37122 39156 39290 39497 41061 
_ACC_CTRL_STS2                            IMPT 00000000  37123 39276 39292 39975 40859 
_ACC_INF1_STEP001                         IMPT 00000000  37162 37789 38564 
_ACC_INF1_STEP002                         IMPT 00000000  37163 38581 
_ACC_INF1_STEP003                         IMPT 00000000  37164 38596 
_ACC_INF1_STEP004                         IMPT 00000000  37165 38611 
_ACC_INF1_STEP005                         IMPT 00000000  37166 38627 
_ACC_INF1_STEP006                         IMPT 00000000  37167 38642 
_ACC_INF1_STEP007                         IMPT 00000000  37168 38657 
_ACC_INF1_STEP008                         IMPT 00000000  37169 38672 
_ACC_INF1_STEP009                         IMPT 00000000  37170 38687 
_ACC_INF1_STEP010                         IMPT 00000000  37171 38702 
_ACC_INF1_STEP011                         IMPT 00000000  37172 38717 
_ACC_INF1_STEPSP01                        IMPT 00000000  37148 37793 38563 
_ACC_INF1_STEPSP02                        IMPT 00000000  37149 38580 
_ACC_INF1_STEPSP03                        IMPT 00000000  37150 38595 
_ACC_INF1_STEPSP04                        IMPT 00000000  37151 38610 
_ACC_INF1_STEPSP05                        IMPT 00000000  37152 38626 
_ACC_INF1_STEPSP06                        IMPT 00000000  37153 38641 
_ACC_INF1_STEPSP07                        IMPT 00000000  37154 38656 
_ACC_INF1_STEPSP08                        IMPT 00000000  37155 38671 
_ACC_INF1_STEPSP09                        IMPT 00000000  37156 38686 
_ACC_INF1_STEPSP10                        IMPT 00000000  37157 38701 
_ACC_INF1_STEPSP11                        IMPT 00000000  37158 38716 
_ACC_INFO_CHNAGE_TBL_MAK         P             0000845A  38014 38045 38154*
_ACC_IN_TBLUSE                            IMPT 00000000  37270 38118 38561 38578 38593 38608 38624 38639 38654 38669 38684 38699 
                                                         38714 
_ACC_IN_TBL_TIM                           IMPT 00000000  37269 38114 38562 38579 38594 38609 38625 38640 38655 38670 38685 38700 
                                                         38715 
_ACC_LAST_POINT                           IMPT 00000000  37117 39161 39221 39309 
_ACC_LAST_SPD                             IMPT 00000000  37113 39336 39434 39452 
_ACC_MATHED_SEL_CTRL             P        EXPT 0000767C  34051 34233*36367 
_ACC_MATHED_SEL_MAIN             P        EXPT 00007600  34048 34076*
_ACC_MONITOR_DAT1                         IMPT 00000000   4271 39306 
_ACC_MONITOR_DAT2                         IMPT 00000000   4272 39315 
_ACC_MONITOR_DAT3                         IMPT 00000000   4273 39324 
_ACC_MONITOR_DAT4                         IMPT 00000000   4274 39329 
_ACC_MONITOR_DAT5                         IMPT 00000000   4275 
_ACC_MONITOR_DAT6                         IMPT 00000000   4276 39343 
_ACC_MONITOR_DAT7                         IMPT 00000000   4277 39353 
_ACC_MONITOR_DAT8                         IMPT 00000000   4278 39363 
_ACC_NUMBER_SELTBL1              P             00008E08  39826 40103*
_ACC_NUMBER_SELTBL2              P             00008E30  39920 40134*
_ACC_PER_V_MAX                            EQU  00002710  37103*38849 38923 39075 40227 40289 40357 40480 
_ACC_POSCTL_RL_SPDX                       IMPT 00000000  37282 39628 39941 40870 
_ACC_POSCTL_SV_DN_ACCX                    IMPT 00000000  37284 39657 40896 
_ACC_POSCTL_SV_SPDX                       IMPT 00000000  37281 39613 40868 
_ACC_POSCTL_SV_UP_ACCX                    IMPT 00000000  37283 39643 40877 
_ACC_POS_STEP                             IMPT 00000000  37125 39194 39410 
_ACC_REST_ABS_PLS                         IMPT 00000000   4228 37034 39553 
_ACC_REST_ABS_PLSX                        IMPT 00000000  37278 39597 39833 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   653

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_REST_FLG                             IMPT 00000000   4229 37052 39558 39593 40331 40418 
_ACC_REST_INFO_MAKE              P             00008180  36529 37002*40960 
_ACC_STEP001_ACTM                         IMPT 00000000  37208 38566 38568 38583 
_ACC_STEP001_VTBL                         IMPT 00000000  37192 38565 38567 38582 
_ACC_STEP002_ACTM                         IMPT 00000000  37209 38585 38598 
_ACC_STEP002_VTBL                         IMPT 00000000  37193 38584 38597 
_ACC_STEP003_ACTM                         IMPT 00000000  37210 38600 38613 
_ACC_STEP003_VTBL                         IMPT 00000000  37194 38599 38612 
_ACC_STEP004_ACTM                         IMPT 00000000  37211 38615 38629 
_ACC_STEP004_VTBL                         IMPT 00000000  37195 38614 38628 
_ACC_STEP005_ACTM                         IMPT 00000000  37212 38631 38644 
_ACC_STEP005_VTBL                         IMPT 00000000  37196 38630 38643 
_ACC_STEP006_ACTM                         IMPT 00000000  37213 38646 38659 
_ACC_STEP006_VTBL                         IMPT 00000000  37197 38645 38658 
_ACC_STEP007_ACTM                         IMPT 00000000  37214 38661 38674 
_ACC_STEP007_VTBL                         IMPT 00000000  37198 38660 38673 
_ACC_STEP008_ACTM                         IMPT 00000000  37215 38676 38689 
_ACC_STEP008_VTBL                         IMPT 00000000  37199 38675 38688 
_ACC_STEP009_ACTM                         IMPT 00000000  37216 38691 38704 
_ACC_STEP009_VTBL                         IMPT 00000000  37200 38690 38703 
_ACC_STEP010_ACTM                         IMPT 00000000  37217 38706 38719 
_ACC_STEP010_VTBL                         IMPT 00000000  37201 38705 38718 
_ACC_STEP011_ACTM                         IMPT 00000000  37218 38721 
_ACC_STEP011_VTBL                         IMPT 00000000  37202 38720 
_ACC_STEP01_TBL_TOP              P             000085B4  38011 38544 38559*
_ACC_STEP02_TBL_TOP              P             000085E8  38545 38577*
_ACC_STEP03_TBL_TOP              P             0000861C  38546 38592*
_ACC_STEP04_TBL_TOP              P             00008650  38547 38607*
_ACC_STEP05_TBL_TOP              P             00008684  38548 38623*
_ACC_STEP06_TBL_TOP              P             000086B8  38549 38638*
_ACC_STEP07_TBL_TOP              P             000086EC  38550 38653*
_ACC_STEP08_TBL_TOP              P             00008720  38551 38668*
_ACC_STEP09_TBL_TOP              P             00008754  38552 38683*
_ACC_STEP10_TBL_TOP              P             00008788  38553 38698*
_ACC_STEP11_TBL_TOP              P             000087BC  38554 38713*
_ACC_STEP_FLG                             IMPT 00000000  37121 39152 39214 39296 39925 40005 40046 40069 
_ACC_STEP_INF_MAKE1              P             00008344  37590 37776*
_ACC_STEP_NUMBER                          IMPT 00000000  37129 39423 39917 39946 
_ACC_STEP_POINT                           IMPT 00000000  37119 39150 39212 39327 39934 40001 40015 40033 
_ACC_STEP_SPD                             IMPT 00000000  37115 39356 39464 40075 
_ACC_STOP001_ACTM                         IMPT 00000000  37252 38570 38572 38587 
_ACC_STOP001_PTBL                         IMPT 00000000  37239 38573 
_ACC_STOP001_VTBL                         IMPT 00000000  37225 38569 38571 38586 
_ACC_STOP002_ACTM                         IMPT 00000000  37253 38589 38602 
_ACC_STOP002_PTBL                         IMPT 00000000  37240 38590 
_ACC_STOP002_VTBL                         IMPT 00000000  37226 38588 38601 
_ACC_STOP003_ACTM                         IMPT 00000000  37254 38604 38617 
_ACC_STOP003_PTBL                         IMPT 00000000  37241 38605 
_ACC_STOP003_VTBL                         IMPT 00000000  37227 38603 38616 
_ACC_STOP004_ACTM                         IMPT 00000000  37255 38619 38633 
_ACC_STOP004_PTBL                         IMPT 00000000  37242 38620 
_ACC_STOP004_VTBL                         IMPT 00000000  37228 38618 38632 
_ACC_STOP005_ACTM                         IMPT 00000000  37256 38635 38648 
_ACC_STOP005_PTBL                         IMPT 00000000  37243 38636 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   654

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STOP005_VTBL                         IMPT 00000000  37229 38634 38647 
_ACC_STOP006_ACTM                         IMPT 00000000  37257 38650 38663 
_ACC_STOP006_PTBL                         IMPT 00000000  37244 38651 
_ACC_STOP006_VTBL                         IMPT 00000000  37230 38649 38662 
_ACC_STOP007_ACTM                         IMPT 00000000  37258 38665 38678 
_ACC_STOP007_PTBL                         IMPT 00000000  37245 38666 
_ACC_STOP007_VTBL                         IMPT 00000000  37231 38664 38677 
_ACC_STOP008_ACTM                         IMPT 00000000  37259 38680 38693 
_ACC_STOP008_PTBL                         IMPT 00000000  37246 38681 
_ACC_STOP008_VTBL                         IMPT 00000000  37232 38679 38692 
_ACC_STOP009_ACTM                         IMPT 00000000  37260 38695 38708 
_ACC_STOP009_PTBL                         IMPT 00000000  37247 38696 
_ACC_STOP009_VTBL                         IMPT 00000000  37233 38694 38707 
_ACC_STOP010_ACTM                         IMPT 00000000  37261 38710 38723 
_ACC_STOP010_PTBL                         IMPT 00000000  37248 38711 
_ACC_STOP010_VTBL                         IMPT 00000000  37234 38709 38722 
_ACC_STOP011_ACTM                         IMPT 00000000  37262 38725 
_ACC_STOP011_PTBL                         IMPT 00000000  37249 38726 
_ACC_STOP011_VTBL                         IMPT 00000000  37235 38724 
_ACC_STOP_NUMBER                          IMPT 00000000  37128 39420 39822 
_ACC_STOP_POINT                           IMPT 00000000  37118 39163 39223 39318 39886 
_ACC_STOP_SPD                             IMPT 00000000  37114 39346 39454 39888 
_ACC_STR_STEP                             IMPT 00000000  37126 39154 39199 
_ACC_TBL_CAL_IN_TOP              P             00008588  38028 38543*40110 40141 
_ACC_TBL_MAKE1                   P             000083DE  37597 37930*
_ACC_TBL_MAKPLS1_SUB             P             000088FC  38522 39023*
_ACC_TBL_MAKSPD1_SUB             P             000087F0  38268 38437 38762*
_ACC_UNIT                                 EQU  000003E8   6206*36930 
_ADDR56_R12_ANS_R12_LIMIT_MAX_MI*P             00000B20   8433  9192*
_ANTI_OF                                  IMPT 00000000   5606 
_ANTI_ON                                  IMPT 00000000   5605 
_API_ACCLW_DRV_START1            P             00007720  34142 34455*
_API_ACCLW_DRV_START2            P             00007760  34462 34511*34667 
_API_ACCLW_DRV_STOP              P             00007780  34202 34554*
_API_ACCLW_DRV_WORK_CLR          P             0000773C  34466 34482*
_API_ACCST_DRV_START1            P             000079F4  34161 35168*
_API_ACCST_DRV_START2            P             00007A2C  35175 35221*35612 
_API_ACCST_DRV_STOP              P             00007A4C  34209 35264*
_API_ACCST_DRV_WORK_CLR          P             00007A10  35179 35195*
_API_ACC_MATHED_COM_DRV_START1   P        EXPT 00007630   7152 12208 34049 34130*
_API_ACC_MATHED_COM_DRV_STOP     P        EXPT 00007660  10513 11330 12264 16617 34050 34193*
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6321 13611 14048 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6320 
_API_CAM_DRV_DNM_DIR_SET                  IMPT 00000000   6430 31914 32014 
_API_ENDHAND_SIGCHK              P        EXPT 00006CA4  32148 32153*
_API_IVW_CYC_END                          IMPT 00000000   6313 12250 16574 
_API_IVW_CYC_START                        IMPT 00000000   6312 11902 19151 
_API_SETACC_INFO_GET             P        EXPT 000082CC  37630 37639*
_API_SETACC_STS_CLR              P             0000831C  37529 37732*
_API_SETACC_STS_END              P        EXPT 00008308  37702 37704*
_AREACHK_0DIG_TO_180             P             00000AC0   9032  9091*
_AUTO_OF                                  IMPT 00000000   5608 
_AUTO_ON                                  IMPT 00000000   5607 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3685 12800 27639 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   655

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3678 
_BANK2_CPOS_ABS_POS_SET                   IMPT 00000000   6301 27643 27710 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3683 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3682 27695 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3679 
_BANK2_TO_BANK1_MOV                       IMPT 00000000   6302 27692 
_BANK_CHK_NEXT_CYCL_STR1         P             00005A40  12025 27106 27676*
_BANK_CNT_STEP_NEXT_CHK          P             0000569C  11247 11280 26869*
_BANK_CNT_STOP_CHK_TYP1          P             00005B18  12106 27172 27861*
_BANK_LENGH_ADD_CALC_SV_TYPE     P             00002C98  16327*27587 
_BASE_TIM010MS                            IMPT 00000000   2499 
_BASE_TIM100MS                            IMPT 00000000   2500 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4444 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4443 
_BBN_MESURE_POINT                         IMPT 00000000   4438 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4428 
_BBN_MESURE_PSPD                          IMPT 00000000   4430 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4429 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4424 
_BBN_MESURE_SSPD                          IMPT 00000000   4426 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4425 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4442 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4436 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4433 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4435 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4432 
_BBN_SET_TIME                             IMPT 00000000   4439 
_BKTMCL_ACCDAT                            IMPT 00000000   4630 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4631 
_BKTMCL_ACCPOINT                          IMPT 00000000   4633 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4647 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4655 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4654 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4660 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4661 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4662 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4657 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4665 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4666 
_BKTMCL_ENC_DIR                           IMPT 00000000   4638 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4637 
_BKTMCL_POINTMAX                          IMPT 00000000   4634 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4649 
_BKTMCL_SPDBUF                            IMPT 00000000   4629 
_BKTMCL_STOP_SPD                          IMPT 00000000   4653 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4646 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4648 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4642 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4643 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4645 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3431 
_BRK1_CHKDLY_TM                           IMPT 00000000   3419 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3427 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3426 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   656

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3425 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3424 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3422 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3423 
_BRK1_SV_DN_ACC                           IMPT 00000000   3430 30445 30477 
_BRK2_CHKDLY_TM                           IMPT 00000000   3420 
_BRK2_SV_DN_ACC                           IMPT 00000000   3432 29683 30513 
_BRKTST_AREA_SIG                          IMPT 00000000   4169 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4179 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4180 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4177 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4178 
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4159 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4172 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4171 
_BRKTST_INPUT_CMD                         IMPT 00000000   4162 24323 24456 24643 
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4174 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4173 
_BRKTST_MOD_FLG                           IMPT 00000000   4157  9475 
_BRKTST_OBJ_MAKE                 P             0000706C  32694 32862*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4158 32918 
_BRKTST_POS_CTL                  P             00006DEC   9482 32434*
_BRKTST_POS_START                P        EXPT 00006F44  32431 32680*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4166 32983 
_BRKTST_STR_FLG                           IMPT 00000000   4167 32817 
_BRKTST_SW_IN                             IMPT 00000000   4168  8607 
_BRK_CHK_COM                              IMPT 00000000   3416 
_BRK_CHK_FLG                              IMPT 00000000   3417 
_BRK_ERR_CHK_START4                       IMPT 00000000   6295 11158 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6291  9940 12184 13552 14960 27218 32542 
_BTTN_FLG                                 IMPT 00000000   2567 15443 15603 31088 
_BTTN_ON_TIME                             IMPT 00000000   3708 
_BVLV_CTL_FLG                             IMPT 00000000   4839 
_BVLV_CTL_ON                              IMPT 00000000   4840 
_BVLV_START_IN                            IMPT 00000000   4843 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3188 21175 21867 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2913 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2912 
_CALC_MISS_FLG1                           IMPT 00000000   3791 28361 28395 28429 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2089* 9216  9225  9259 
_CALC_PLS_MMIN_L32                        EQU  00000001   2090* 9214  9224  9260 
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2085* 9206  9211  9253 
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2086* 9204  9210  9254 
_CALC_ROT_MAX                             EQU  60000000   2081*
_CALPOSANSLNG                             IMPT 00000000   4774 
_CALPOSLNWORK                             IMPT 00000000   4776 
_CALPOSWORK1                              IMPT 00000000   4770 
_CALPOSWORK2                              IMPT 00000000   4771 
_CALSPDANSPER                             IMPT 00000000   4773 
_CALSPDWORK1                              IMPT 00000000   4768 
_CALSPDWORK2                              IMPT 00000000   4769 
_CALSPDWORKANS                            IMPT 00000000   4772 
_CAM_1STEP_END_SIG1              P             00003A74  11578 19771*
_CAM_1STEP_END_SIG2              P             00003A98  11791 19797*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   657

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_CNT_CHG_FLG                          IMPT 00000000   3288  9633 10483 11872 12016 13019 27191 32483 
_CAM_CTL_STEP                             IMPT 00000000   2643 
_CAM_DNM_USE_DIR_FLG                      IMPT 00000000   5095 
_CAM_DT_FLG                               EQU  0000000E   2199*
_CAM_INF_D1                               EQU  00000010   2200*
_CAM_INF_D2                               EQU  00000012   2201*
_CAM_NOW_DIG                              IMPT 00000000   3285 
_CAM_OF_DGT                               EQU  0000000C   2198*
_CAM_OF_DIG                               EQU  00000008   2195* 2196 
_CAM_OF_DIR                               EQU  0000000A   2197*
_CAM_OF_STP                               EQU  00000006   2194*
_CAM_OF_TIM                               EQU  00000008   2196*
_CAM_OLD_DIG                              IMPT 00000000   3286 
_CAM_ON_DIG                               EQU  00000002   2192*
_CAM_ON_DIR                               EQU  00000004   2193*
_CAM_ON_STP                               EQU  00000000   2191*
_CAM_OUTPUT_DT                            IMPT 00000000   3279 
_CAM_OUTPUT_SW                            IMPT 00000000   3277 
_CAM_POS_CTL_STEP                         IMPT 00000000   3287 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3043 19781 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3044 19807 
_CAM_SELECT_SW                            IMPT 00000000   3278 
_CAM_START_FLG                            IMPT 00000000   3280 
_CAM_START_MODE                           IMPT 00000000   3281 
_CAM_STEP_MAX                             IMPT 00000000   3284 
_CAM_STEP_NO                              IMPT 00000000   3282 
_CAM_STEP_NO_OLD                          IMPT 00000000   3283 
_CAM_STRCUT                               EQU  00000014   2190*
_CBSTS_LOAD_FLG                           IMPT 00000000   4579 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4587 
_CBSTS_SAVE_DAT                           IMPT 00000000   4596 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*25052 
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2496 
_CB_IN_HANYO                              IMPT 00000000   4878 
_CB_SEQ_CB_COM340                         IMPT 00000000   3029 11611 
_CB_SEQ_CB_COM345                         IMPT 00000000   3032 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5567 
_CB_SEQ_CB_COM346                         IMPT 00000000   3033  9296 28480 28522 28816 
_CB_SEQ_CB_COM347                         IMPT 00000000   3034 
_CB_SEQ_CB_COM348                         IMPT 00000000   3035 
_CB_SEQ_CB_COM349                         IMPT 00000000   3036  8098  8587 23042 31746 
_CB_SEQ_CB_COM350                         IMPT 00000000   3038 
_CB_SEQ_CB_COM351                         IMPT 00000000   3039 23821 
_CB_SEQ_CB_COM352                         IMPT 00000000   3040 
_CB_SEQ_CB_COM356                         IMPT 00000000   5441  8146 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3030  6905  7726  7786 15086 33062 33123 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3031  7779 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3024 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3025 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   658

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SEQ_SW_SEL028                         IMPT 00000000   3026 11972 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3027 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4928 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_ACCTBL1_CNT                       IMPT 00000000  37322 38111 
_CB_SYS_ACCTBL1_IN_TOP                    IMPT 00000000  37323 38112 
_CB_SYS_ACCTBL2_CNT                       IMPT 00000000  37324 
_CB_SYS_ACCTBL2_IN_TOP                    IMPT 00000000  37325 
_CB_SYS_ACCTBL3_CNT                       IMPT 00000000  37326 
_CB_SYS_ACCTBL3_IN_TOP                    IMPT 00000000  37327 
_CB_SYS_DNMTBL1_CNT                       IMPT 00000000  37320 
_CB_SYS_DNMTBL1_DATA_TOP                  IMPT 00000000  37321 
_CB_SYS_PARAM000                          IMPT 00000000   6349  7213  7343  7360  7405 13751 16045 16057 16074 21141 21768 21794 
                                                         21978 22984 23257 23266 23652 23724 23772 23830 31616 31676 31753 34080 
                                                         34135 34238 34311 
_CB_SYS_PARTBL001                         IMPT 00000000  37308 
_CB_SYS_PARTBL002                         IMPT 00000000  37309 
_CB_SYS_PARTBL003                         IMPT 00000000  37310 
_CB_SYS_PARTBL004                         IMPT 00000000  37311 
_CB_SYS_PARTBL005                         IMPT 00000000  37312 
_CB_TIME                                  EQU  0000000A   2004* 2017  2018  2019  2024 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3530  6747 32737 
_CGRF_GENSOK_LNG1                         EQU  00000014  26346*
_CGRF_SYNC_ERR                            EQU  00000020  26351*
_CGRF_SYNC_STS                            EQU  0000001E  26350*
_CGRF_iADD_PLS                            EQU  00000010  26345*
_CGRF_iNOW_STEP                           EQU  0000001C  26349*
_CGRF_iSTEP_FRQ                           EQU  00000018  26347*
_CGRF_iSTEP_PV_PLS                        EQU  00000004  26342*
_CGRF_iSTEP_REST                          EQU  00000008  26343*
_CGRF_iSTEP_SV_PLS                        EQU  00000000  26341*
_CGRF_iSTEP_TIM                           EQU  0000001A  26348*
_CGRF_iTOTAL_PLS                          EQU  0000000C  26344*
_CGRF_yADD_PLS                            EQU  00000034  26357*
_CGRF_yNOW_STEP                           EQU  0000003E  26360*
_CGRF_ySTEP_FRQ                           EQU  00000038  26358*
_CGRF_ySTEP_PV_PLS                        EQU  00000028  26354*
_CGRF_ySTEP_REST                          EQU  0000002C  26355*
_CGRF_ySTEP_SV_PLS                        EQU  00000024  26353*
_CGRF_ySTEP_TIM                           EQU  0000003C  26359*
_CGRF_yTOTAL_PLS                          EQU  00000030  26356*
_CHG_LSI_LATE_TO_PLS             P        EXPT 00006610   6408 23744 23792 23864 30554*
_CHG_STEP_INFO_MAKE_1STEP_END    P             00005260  25402 25446*
_CHG_STEP_INFO_MAKE_2STEP_END    P             000052D8  25417 25532*
_CHG_STEP_INFO_MAKE_ESTEP_AFTER  P             000051A8  25295*27223 
_CHG_STEP_INFO_MAKE_ESTEP_BEFOR  P             00005130  25208*27049 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   659

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CHG_STEP_INFO_MAKE_STEP_DAT     P             0000508C  13028 25090*27053 27227 
_CHG_STEP_INFO_MAKE_STEP_END     P             00005220  13024 25385*
_CHKACCINF0                               IMPT 00000000   4761 
_CHKACCINF1                               IMPT 00000000   4762 
_CHKACCINF2                               IMPT 00000000   4763 
_CHKPOSANSDIG                             IMPT 00000000   4750 
_CHKPOSWORK0                              IMPT 00000000   4757 
_CHKPOSWORK1                              IMPT 00000000   4737 
_CHKPOSWORK2                              IMPT 00000000   4738 
_CHKPOSWORKANS                            IMPT 00000000   4743 
_CHKPOS_Ln1                               IMPT 00000000   4765 
_CHKSPDANSPER                             IMPT 00000000   4742 
_CHKSPDPERWORK0                           IMPT 00000000   4758 
_CHKSPDPERWORK1                           IMPT 00000000   4745 
_CHKSPDPERWORK2                           IMPT 00000000   4746 
_CHKSPDPOSINFO                            IMPT 00000000   4748 
_CHKSPDPOSOFS                             IMPT 00000000   4749 
_CHKSPDWORK0                              IMPT 00000000   4756 
_CHKSPDWORK1                              IMPT 00000000   4735 
_CHKSPDWORK2                              IMPT 00000000   4736 
_CHKSPDWORKANS                            IMPT 00000000   4739 
_CHKSPDWORKTMAX                           IMPT 00000000   4741 
_CHKSPDWORKVMAX                           IMPT 00000000   4740 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4268 24117 24122 24527 25063 
_CHK_CLK_SIG                              IMPT 00000000   4804 
_CHK_DNM_SPEC_MOD1                        IMPT 00000000   6222  9530 30347 37404 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4017 19451 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   4016 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   5385 
_CHK_SET1_UPAREA_TIM0                     IMPT 00000000   5384 
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2779 19900 19940 
_CLS_KJYU_PLS_CHANGE             P             000046C2  22732*22910 
_CLS_POS_LENGTH_ADD_DATA         P             000044CE  22281*22546 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2778 19895 19930 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3597 25900 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3591 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3594 25891 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3588 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3596 25897 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3590 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3598 25903 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3592 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3595 25894 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3589 
_CMPAB_NEAR_END_PROC                      IMPT 00000000   6269 11436 21036 21239 
_CMPAB_STEP_END_PROC                      IMPT 00000000   6270 11762 13819 13993 
_CMPCYC_END_CLR                           IMPT 00000000   6280 
_CMPCYC_START_CLR                         IMPT 00000000   6279  6760 27198 32750 
_CMPEMG_EXQ_FLG_CLR                       IMPT 00000000   6282 
_CMPSTEP_CNT_STOP                         IMPT 00000000   2687 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2683 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2682 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2686 
_CMPSTEP_POS_START                        IMPT 00000000   2684 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   660

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2685 
_CMPSTEP_STEP_END                         IMPT 00000000   2688 11707 32112 32157 
_CMPSTP_CNT_STOP_CLR                      IMPT 00000000   6277  6764 32754 
_CMPSTP_CTRL_BUSY_CLR                     IMPT 00000000   6273 
_CMPSTP_CTRL_REDY_CLR                     IMPT 00000000   6272 
_CMPSTP_NEAR_ZERO_CLR                     IMPT 00000000   6276 11483 
_CMPSTP_POS_START_CLR                     IMPT 00000000   6274 
_CMPSTP_SFTY_AUTO_CLR                     IMPT 00000000   6275 
_CMPSTP_STEP_END_CLR                      IMPT 00000000   6278 11783 13835 14009 
_CMP_BRK2_CTLGENSOK              P        EXPT 0000624C  29631 29645*
_CMP_CNT_CTLGENSOK               P             000061D8  27956 29560*
_CMP_ERR_CHK_STSA                         IMPT 00000000   2896 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2897 
_CMP_ERR_STEP_A                           IMPT 00000000   2902 
_CMP_ERR_STEP_B                           IMPT 00000000   2903 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2898 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2899 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2900 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2901 
_CMP_ERR_STS_REF                 P             00003B90  19983*
_CMP_ERR_TIM1                             IMPT 00000000   2599 
_CMP_HOLD_CTLGENSOK              P        EXPT 000062A8  29717 29718*
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3701 26851 
_CMP_POSLSI_CTLGENSOK            P             0000617C  29486*36608 41082 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3906 
_CMP_RECOVER_FLG                          IMPT 00000000   4011 27976 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3702 26854 
_CMP_SPD_REST_PLSCHKCOM          P             00008120  29529 29612 29687 29763 34987 36012 36102 36900*
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2601 
_CNTREST_HOS_RESET               P        EXPT 00006A08   6741 31520 31527*32731 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3688 28169 
_CNT_BEF_LOT_SIGCHK              P             00005AF8   7126 27722 27828*
_CNT_GPOINT_STOP_TYP2            P             00005B70  27019 27936*
_CNT_GRF_1BLOCK                           EQU  00000040  26340*
_CNT_GRF_I_DATA                           IMPT 00000000   5560 
_CNT_GRF_MAX                              EQU  000000C8  26338*
_CNT_GRF_POINT                            IMPT 00000000   5562 25991 
_CNT_GRF_Y_DATA                           IMPT 00000000   5561 
_CNT_HOSEI_CHK_CALC              P             00006904  10360 31235*
_CNT_HOS_DT_MAK                  P             00005590  26158*
_CNT_NEAR_TIM_CHK                P             00001B00  12516*
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3955 11335 26085 
_CNT_REST_CHK_CLR                P             00005508  25908 26053*
_CNT_REST_HOSEI_SPD_TYP          P             000069E8  31500*36392 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3694 31469 31473 31509 31536 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3695 31467 31504 31533 
_CNT_SPD_SET                     P             000059B4  27137 27455 27551*
_CNT_STOP_CMD                             IMPT 00000000   2522 31096 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4405 27833 
_CNT_STOP_CMD_DATA_SUB1          P             00005C80  27893 28038 28209*
_CNT_STOP_CMD_DATA_SUB2          P             00005CD8  28042 28269*
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3675  6737 26954 27011 27866 27903 28048 32727 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5502 
_CNT_STOP_LNGTH                           IMPT 00000000   3681 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   661

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_STOP_WAIT_TIM                        IMPT 00000000   5501 11714 11758 
_CNT_SUB_DATA_CALC               P             00005C20  27881 27947 28129*
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3970 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3971 26075 31458 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3953 26082 
_CNT_SYNC_HOS_CALC               P             00005598  26175*
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3972 26088 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3967 26066 31475 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3968 26069 31321 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3969 26072 26131 
_CNT_SYNC_HOS_SPD_TYP            P             0000690C  31316*
_CNT_SYNC_STS_FLG                         IMPT 00000000   3954 26079 
_CNT_VMODE_NEXT_CYCL_START       P             00005764  26995 27044*
_CONT_MOD_CNT_PV                          IMPT 00000000   3100 
_CONT_MOD_TIM_PV                          IMPT 00000000   3102 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3687 27982 28175 28214 28273 29569 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3348 
_COP_DIG_SIG_FLG                          IMPT 00000000   3347 
_COP_OLD_ENC3600                          IMPT 00000000   3366 
_CPOS_ABS_POS_SET                         IMPT 00000000   6233 12818 27777 
_CPOS_BANK_USELFUL                        IMPT 00000000   3674  9775 11239 11274 12067 27633 27681 
_CPOS_CTL_MATH                            IMPT 00000000   2763  6631  7247  9750 11127 12061 12462 12651 12699 12791 12934 15151 
                                                         19121 19196 24316 24448 24636 27754 
_CPOS_DND_DIGTOP                          IMPT 00000000   3783 14159 14169 14193 14203 
_CPOS_DND_PLSTOP                          IMPT 00000000   3784 14311 14323 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3782 14097 14128 
_CPOS_DND_STOP_SW                         IMPT 00000000   3780  7580 13941 14016 14085 14121 14288 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3781 14087 14123 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4863 
_CPOS_INI1_DTMOV1                         IMPT 00000000   6230  6709 
_CPOS_INI1_DTMOV2                         IMPT 00000000   6231  7017 31980 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4865 23463 
_CPOS_MOD_FLG1                            IMPT 00000000   2762 11730 26935 26971 27129 
_CPOS_ROT_NUM_SET                         IMPT 00000000   6232 12811 27702 27770 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2760 12908 22616 32366 34875 35775 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3676 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2757 11861 22663 22794 26878 27504 
_CPOS_SDAT1_INF1                          IMPT 00000000   2758 10677 12917 22410 34871 35627 35771 
_CPOS_SDAT1_NUM                           IMPT 00000000   2759 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2754 12634 
_CPOS_SDAT1_SPD                           IMPT 00000000   2755 10560 10642 10900 13008 27559 34867 35766 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2761 10578 10666 10917 26897 27320 27394 27432 28136 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3677 27325 27399 27436 
_CPOS_SDAT1_TIM                           IMPT 00000000   2756 11502 23372 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2782 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2783 32347 
_CPOS_SPD_DTMOV                           IMPT 00000000   6234 12824 27790 
_CPOS_STEP_MAX                            IMPT 00000000   2764 10783 11533 11863 12978 20971 22842 23433 26880 27506 28134 34834 
                                                         35621 35742 
_CPOS_TIM_DTMOV                           IMPT 00000000   6235 12829 27795 
_CPOS_UPAREA_PLS                          IMPT 00000000   2777 12627 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5110 
_CPUA_PLS_OUTF                            IMPT 00000000  20000 20024 
_CPUBX_MEM1_BUF                           IMPT 00000000   5576 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   662

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5575 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5574 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5585 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5587 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5586 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5582 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5583 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5581 
_CPUB_GET_CPUA_OBJPOS            P             000060B4  29218*
_CPUB_HENSA_FLG_CLR                       IMPT 00000000   6620  6657 21397 21508 21561 21650 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5204 
_CPUB_PLS_OUTF                            IMPT 00000000  20001 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5203 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5578 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5577 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5101 
_CPUD_CHK_TIME                            IMPT 00000000   5102 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5193 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5194 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5653 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5649 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5651 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5716 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5712 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5714 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5705 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5699 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5700 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5702 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5703 27058 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5731 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5730 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5671 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5672 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5691 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5687 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5689 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5642 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5638 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5640 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5664 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5660 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5662 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5650 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5652 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5713 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5715 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5701 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5704 27968 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5733 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5732 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5674 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5673 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5688 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   663

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_BA_NZR_ON_JG                         IMPT 00000000   5690 11353 21017 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5639 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5641 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5723 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5661 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5663 
_CPU_CTRL_CLK                             IMPT 00000000   6219 25148 25255 25342 25493 25579 
_CPU_SV_HAND_IN                           IMPT 00000000   2524 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2525 
_CPU_SV_HAND_OUT                          IMPT 00000000   2527 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3973 25817 26091 
_CTL_ENC360                               IMPT 00000000   2536  7721 32867 
_CTL_ENC360_OLD                           IMPT 00000000   4057 
_CYCLE_SPD1                               IMPT 00000000   6417 16082 31756 
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4315 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4316 
_CYCLE_TIME_DAT                           IMPT 00000000   3016 
_CYCLE_TIME_FLG                           IMPT 00000000   3018 
_CYCLE_TIME_PV                            IMPT 00000000   3017 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6254 
_CYCLE_TIME_REFLASH_END                   IMPT 00000000   6253 19191 
_CYCLE_TIME_REFLASH_START                 IMPT 00000000   6252 19137 
_CYCL_DOWN_POS_REF               P             000038A4  19235 19277*
_CYCL_DSP_CNT_PV                          IMPT 00000000   3482 19310 
_CYCL_DSP_DISENB                          IMPT 00000000   3481 
_CYCL_START_CNT                           IMPT 00000000   2780 19880 
_CYC_END_POS_FLG_CLR             P        EXPT 00002E4C  10061 16444 16655 16656*
_CYC_END_POS_FLG_SET             P             00002E60  10057 16683*
_DAIHAI_CALC_WORK1                        IMPT 00000000   4356 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4365 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4367 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4368 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4369 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4357 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4358 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4359 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4360 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4361 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4362 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4363 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4364 
_DAI_CMP_SMPSTART                         IMPT 00000000   2960 
_DAI_FULL_SCALE_SMPLE                     IMPT 00000000   6264  7253 
_DAI_FULL_SCALE_SMP_END                   IMPT 00000000   6265 19204 
_DAI_FULL_SCALE_SMP_INI                   IMPT 00000000   6263 19130 
_DAI_HOSEI1_FLG                           IMPT 00000000   2950 
_DAI_MOSTPOS_CMPARE                       IMPT 00000000   6261 19208 
_DAI_MOSTPOS_SMPINI                       IMPT 00000000   6259 19107 32764 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6260 
_DATA_CMP2B_R5R6_REF                      IMPT 00000000  37076 37497 37508 
_DATA_GRF_CNT_DATA_MAKE          P        EXPT 000055F4  25159 26404 26406*
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6258 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5131 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5132 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   664

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5134 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5133 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5135 
_DBG_CNT_GPOSINT                          IMPT 00000000   3612 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3606 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3605 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3607 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5485 31811 
_DBG_DNM_END_CNT                          IMPT 00000000   5484 31882 
_DBG_DNM_STR_CNT                          IMPT 00000000   5483 31953 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3246 22881 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3248 22189 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3245 22862 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3247 22187 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3615 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3619 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3627 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3623 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3609 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3616 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3620 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3628 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3624 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3610 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3617 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3631 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3621 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3629 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3625 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3611 
_DBG_XOR_SIG                              EQU  00080000   6202*17842 
_DEBUG_BRK_POINT1                P             00001A5C  12310*32254 
_DEBUG_BRK_POINT2                P             00001A84  11838 12356*
_DEBUG_BRK_POINT3                P             00001AAC  12402*
_DEBUG_ENC360_STS                         IMPT 00000000   4669 
_DEBUG_ENC360_STS2                        IMPT 00000000   4670 
_DEBUG_MOD_CODE                           IMPT 00000000   5129 
_DEBUG_SIGNAL_OFF                P        EXPT 000055B8  26251 26253*
_DEBUG_SPD_CHG_FLG1                       IMPT 00000000   5520 
_DEBUG_SPD_CHG_FLG2                       IMPT 00000000   5521 
_DEBUG_SPD_OLD_DAT1                       IMPT 00000000   5519 
_DEBUG_STS_CNT1                           IMPT 00000000   5507 
_DEBUG_STS_CNT2                           IMPT 00000000   5508 
_DEF_DAI_POS_PV                           IMPT 00000000   2989 
_DELT_POS_SPD_CHG1               P             00003DFC  20481 20531 20637*
_DELT_POS_SPD_CLR                P             00003EB0  20576 20669 20778*
_DG_PS_INF_CHK1                           EQU  00000000   2208*
_DG_PS_INF_CHK2                           EQU  0000003C   2213*
_DG_PS_INF_CONT                           EQU  00000004   2209*
_DG_PS_INF_LATE                           EQU  00000010   2212*
_DG_PS_INF_STLK                           EQU  0000000C   2211*
_DG_PS_INF_UNIT                           EQU  00000008   2210*
_DIG01_CHG_DN_DATA_MAKE                   IMPT 00000000   6411 32078 
_DIG36000_CHG_RENEA1                      IMPT 00000000   6413 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   665

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DIG_AREA_CHK0                            IMPT 00000000   5755  9105 
_DIG_AREA_CHK1                            IMPT 00000000   5756 15328 15344 
_DIG_LNGTH_CALC1                          IMPT 00000000   6241 
_DIR_FLG                                  IMPT 00000000   4069 
_DISP_ENC360                              IMPT 00000000   2540 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3019 19184 
_DISP_SV_DG_DAT                           IMPT 00000000   3332 
_DISP_SV_MM_DAT                           IMPT 00000000   3333 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5738 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5739 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5752 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5740 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5753 
_DMATH_CNTROT                             EQU  00000001   2040* 7249  9752 11129 12063 12464 12653 12793 12936 15154 19124 19199 
                                                         24318 24451 24638 27756 34410 35126 36158 
_DMATH_DNDRIV                             EQU  00000004   2042* 6633  7249  9327  9752 11129 12464 12701 12936 15154 19124 19199 
                                                         19600 24451 31666 31894 31966 32050 
_DMATH_REVRSE                             EQU  00000002   2041* 7588  7647 13106 
_DMATH_UPDRIV                             EQU  00000008   2043*
_DNDINC_CTRL_STEP                         IMPT 00000000   3779 14014 14079 14135 14251 14262 14305 16461 
_DNDINC_DIRECT_MAKE1             P             000004AC   7615  7673  7717*
_DNDINC_MAKE_OBJPOS              P             000023A4   7623 14283*
_DNDINC_SPD_SET                  P             0000063C   7629  7684  8077*14857 
_DNDINC_STEP_MAKE                P             00002270   7619 14075*
_DNDUPS_CLEEP_SPD_SET            P             000003CC   7530*13322 13383 13451 13501 
_DNDUPS_SPD_SET                  P             000003B4   6998  7510* 9358 13518 
_DND_1STEP_DATA_MAK1             P             000013E8   9888 11004*13870 32498 
_DND_ALL_STEP_CTRL               P             00001D50  10120 13073*
_DND_AREA_HIS                             EQU  00000014  14074*14158 14192 
_DND_CALC_WORK                            IMPT 00000000   2806 
_DND_LNKPLS_OBJMAK1              P             00000504   7597  7656  7812*13861 
_DND_LNK_STEP_CHECK1             P             000004D8   7593  7652  7774*13857 
_DND_NEG_STEP_CTRL               P             000020BC  13112 13704*
_DND_ORGIN_SIG_FORCE_ON          P             00002080  13598 13641*
_DND_OVERCHK_DIG                          IMPT 00000000   4269 
_DND_POS_START_DAT_INI                    IMPT 00000000   6305  6713 
_DND_ROT_STEP_CTRL               P             000021C8  13126 13936*
_DND_SPD_SEQ_SET                 P             00000674   8093  8138*
_DND_TEP_STEP_CTRL               P             000024F0  13090 14600*
_DNMODE_ENDWAIT_TIM_CHK          P             00006AAC  11410 31704*
_DNMODE_ENDWAIT_TIM_SET          P             00006A74  11190 31659*
_DNM_ACC_CALC                    P        EXPT 00008AE4  37075 39285 39400*
_DNM_ACC_CALFLG                           IMPT 00000000   4239 36471 37429 40964 41057 41151 
_DNM_ACC_OVER_PLS_MAK            P             00008BBC  39406 39549*
_DNM_ACC_OVER_SPD_MAK            P             00008C94  39479 39690*
_DNM_AUTO_UP_DN_CALC             P             00009294  41067 41164 41298*
_DNM_CTL_INC3600                          IMPT 00000000   4107 32083 
_DNM_CYCLE_END                   P        EXPT 00006B58  10070 12004 31866 31871*
_DNM_CYCLE_START                 P             00006BA8   6704 12010 31943*
_DNM_DATA_CLR                    P             00006B18  16475 31801*
_DNM_DATA_REV_SET                P        EXPT 00006B44  31840 31847*
_DNM_DEBUG_CNT                            IMPT 00000000   4710 
_DNM_DEBUG_STS1                           IMPT 00000000   4709 11196 11322 11430 11455 11989 11994 19650 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4105 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   666

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_DIR_CHG_TIM                          IMPT 00000000   4106 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5088 10391 31909 31976 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4145 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4103 12705 31823 31898 31972 31997 32011 32060 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4104 32067 32071 
_DNM_DIR_SET_FLG                          IMPT 00000000   4102 31821 31852 31905 31970 
_DNM_MATH_ELSE_DAT_MAKE          P        EXPT 00006C18  32033 32041*
_DNM_MAXSPM_ACCLAT_MAK                    IMPT 00000000  37296 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4781 
_DNM_MOTION_DATA_MAK             P             00008224  37412 37486*
_DNM_PLS_LSICTL_CALC             P             000090D8  36476 40953*
_DNM_RESET_AREA                           IMPT 00000000   5043 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5475 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4101 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4099 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4100 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4098 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4474 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4115 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4114 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5068 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4110 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4109  9050 
_DNM_SPD_CALC                    P        EXPT 00008A00  37074 39266*40969 
_DNM_START_ACC_CALC              P        EXPT 00008966   9929 12179 37071 39144*
_DNM_STEP_ACC_CHANGE             P        EXPT 000089A4  37072 39183*39280 
_DNM_TBL_CALC                    P        EXPT 000081E0  37070 37398*
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4111 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4113 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4112 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5176 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5185 
_DPCHK_ERR_SIG                            IMPT 00000000   5175 
_DPCHK_WR_COD                             IMPT 00000000   5177 
_DPSQ022                                  EQU  0000002C   2095*
_DPSQ024                                  EQU  00000030   2096*
_DPSQ028                                  EQU  00000038   2097*
_DPSQ029                                  EQU  0000003A   2098*
_DPSQ058                                  EQU  00000074   2099*
_DPSQ287                                  EQU  0000023E   2110*
_DPSQ288                                  EQU  00000240   2111*
_DPSQ340                                  EQU  000002A8   2101*
_DPSQ341                                  EQU  000002AA   2102*
_DPSQ356                                  EQU  000002C8   2103*
_DPSQ358                                  EQU  000002CC   2104*
_DPSQ359                                  EQU  000002CE   2105*
_DPSQ367                                  EQU  000002DE   2106*
_DPSQ368                                  EQU  000002E0   2107*
_DPSQ369                                  EQU  000002E2   2108*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2982 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2974 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2981 
_DRVHOS_IDO_BUF                           IMPT 00000000   2986 
_DRVHOS_IDO_CNT                           IMPT 00000000   2977 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   667

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DRVHOS_IDO_POINT                         IMPT 00000000   2975 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2985 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2983 
_DRVHOS_USE_FLG                           IMPT 00000000   2972 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2973 
_DRVHOS_WORK_BUF                          IMPT 00000000   2987 
_DRV_ACT_FLG                              IMPT 00000000   2673 
_DRV_START_KEEP                           IMPT 00000000   4005 
_DT_100PER_0                              EQU  00000064   2008*
_DT_100PER_1                              EQU  000003E8   2007*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3342 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3341 
_DUM_OVERLIDE_COF                         IMPT 00000000   5382 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3340 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5381 
_DUM_SET1_UPAREA_SPD0                     IMPT 00000000   5380 
_DUM_UPAREA_DIG0                          IMPT 00000000   3339 
_DURING_TIM_CNTINUE_CHK          P             00006A2C   9676 11106 31580*
_DURING_TIM_FX                            IMPT 00000000   4672 10372 11644 11688 12838 31584 31606 
_DURING_TIM_PRESET_CALC          P             00006A3C  11554 31601*
_ELSE_ERR_FLG1                            IMPT 00000000   2595 
_ELSE_ERR_FLG2                            IMPT 00000000   2596 
_EMG_OUT                                  IMPT 00000000   5593 
_EMG_POS_FLG_PROC                P        EXPT 00002D1C   6386 16439*
_EMG_SCANCUT_FLG                          IMPT 00000000   4817 
_ENC360_BITERR_CNT                        IMPT 00000000   2560 
_ENC360_BITFLW_CNT                        IMPT 00000000   2559 
_ENC360_BITNML_CNT                        IMPT 00000000   2561 
_ENC360_HEX                               IMPT 00000000   2535 
_ENC360_INDT                              IMPT 00000000   2534 
_ENC360_INOLD                             IMPT 00000000   2533 
_ENC360_LINK_AREASIG                      IMPT 00000000   3654 
_ENC360_OVER_ENC                          IMPT 00000000   3546 
_ENC360_OVER_FLG                          IMPT 00000000   3545 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3448 20525 
_ENCPLS_DELT                              IMPT 00000000   3444 20515 20567 
_ENCPLS_POINT_SEL                         IMPT 00000000   3447 20520 20572 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3445 20519 20571 
_ENCPLS_SPD_POINT                         IMPT 00000000   3446 20523 20574 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3440 20518 20570 
_ENC_PLS_SPD                              IMPT 00000000   3441 20526 20583 
_ENC_PLS_SPD_CALC                P        EXPT 00003D4C  20449 20509*
_ENC_PLS_SPD_CLR                 P             00003DA4  20561*
_ENC_PLS_SPD_DIR                          IMPT 00000000   3443 20524 
_ENC_SYSRST_CMD                           IMPT 00000000   2551 
_ENC_TIMEXT_FLG                           IMPT 00000000   2552 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5144 32118 32132 32167 
_ENDHAND_WAIT_TIMCNT             P             00006C6C   9452 32107*
_END_CMD_LATCH                            IMPT 00000000   2646 
_EPCHK_COM                                IMPT 00000000   4962 
_EPCHK_DLY_TIM                            IMPT 00000000   4965 
_EPCHK_ERR_TIM                            IMPT 00000000   4966 
_EPCHK_FLG                                IMPT 00000000   4963 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   668

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EPCHK_FORCE_VONCMD                       IMPT 00000000   4969 
_EPCHK_RETRY_CNT                          IMPT 00000000   4967 
_EPCHK_STEP                               IMPT 00000000   4964 
_EPCHK_STOP_DISENB                        IMPT 00000000   5289 
_EPCHK_STS                                IMPT 00000000   4968 
_EQ_DND_MAX                               EQU  00000002   2045*
_EQ_STEP_MAX                              EQU  00000005   2034*
_EQ_STEP_MX2                              EQU  0000000A   2035*
_EQ_STEP_MX3                              EQU  00000062   2036*
_EQ_STOP_START_WAIT_DND                   EQU  00000064  13069*
_EQ_STOP_START_WAIT_ORG                   EQU  000001F4  13068*13215 
_ERRCHK_ENC360                            IMPT 00000000   4621 
_ERR_FIRST_ST                             IMPT 00000000   5031 29154 29165 29202 
_ERR_INFO_A01                             EQU  00000020   2264*24330 24369 
_ERR_INFO_A02                             EQU  00000022   2265*24463 24502 24520 24544 24578 
_ERR_INFO_A03                             EQU  00000024   2266*24702 24727 24749 24777 24876 
_ERR_INFO_A04                             EQU  00000026   2267*
_ERR_INFO_A05                             EQU  00000028   2268*
_ERR_INFO_A06                             EQU  0000002A   2269*
_ERR_INFO_A07                             EQU  0000002C   2270*
_ERR_INFO_A08                             EQU  0000002E   2271*
_ERR_INFO_B01                             EQU  00000030   2272*24002 
_ERR_INFO_B02                             EQU  00000032   2273*24005 
_ERR_INFO_B03                             EQU  00000034   2274*24688 
_ERR_INFO_B04                             EQU  00000036   2275*24694 
_ERR_INFO_B05                             EQU  00000038   2276*24721 
_ERR_INFO_B06                             EQU  0000003A   2277*24754 
_ERR_INFO_B07                             EQU  0000003C   2278*24882 
_ERR_INFO_B08                             EQU  0000003E   2279*
_ERR_INFO_BAKUP_START            P        EXPT 00005014  24973 24978*
_ERR_INFO_C01                             EQU  00000000   2256*24050 
_ERR_INFO_C02                             EQU  00000004   2257*24100 
_ERR_INFO_C03                             EQU  00000008   2258*24105 
_ERR_INFO_C04                             EQU  0000000C   2259*24110 24506 24738 
_ERR_INFO_C05                             EQU  00000010   2260*24196 
_ERR_INFO_C06                             EQU  00000014   2261*24252 24715 
_ERR_INFO_C07                             EQU  00000018   2262*24254 24675 24735 
_ERR_INFO_C08                             EQU  0000001C   2263*24678 
_ERR_INFO_DLY_TIM                         IMPT 00000000   3540  9915 12165 24650 32523 
_ERR_INFO_DT_CHK1                P             00004CE8   9767 24283*
_ERR_INFO_DT_CHK2                P             00004D80   9911 10152 12161 24413*32519 32645 
_ERR_INFO_DT_CHK3                P             00004E8C  10156 24619*32649 
_ERR_INFO_DT_CHK3X               P             00004FA0  24786 24822*
_ERR_INFO_DT_IN0                 P             00004BAC   9446 23996*
_ERR_INFO_DT_IN1                 P             00004BD0   9771 24022*
_ERR_INFO_DT_IN2                 P             00004C08   9808 12138 24080*
_ERR_INFO_DT_IN2A                P             00004C70  24161*
_ERR_INFO_DT_IN3                 P             00004C78   9899 12147 24176*32508 
_ERR_INFO_DT_IN4                 P             00004CA4   9919 12169 24223*32527 
_ERR_INFO_RST_CLR                P        EXPT 0000503C  25007 25013*
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3541 24993 25023 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3542 24036 24092 24188 24235 24304 24436 24624 24982 24988 25026 
_ERR_INFO_WK_CLR                 P             00005060  25018 25046*
_ERR_LEV_IN2                              IMPT 00000000   4294 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   669

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_LEV_IN3                              IMPT 00000000   4295 
_ERR_LEV_IN4                              IMPT 00000000   4296 
_ERR_LEV_IN5                              IMPT 00000000   4297 
_ERR_LEV_IN6                              IMPT 00000000   4298 
_ERR_STOP_MOV_CHK                P             00003B98  10311 20004*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5459 
_EXQ_LT_GET_FLG                           IMPT 00000000   5458 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5460 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5461 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5462 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5463 
_EXQ_OUT                                  IMPT 00000000   5594 
_EXQ_POS_FLG_PROC                P        EXPT 00002D9C   6387 16486 16525*
_EXQ_STOP_LEV_POS_CLR            P        EXPT 0000556C  26106 26122*
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4886 
_EXTDRV_BTTN_USE                          IMPT 00000000   4879 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4880 
_EXT_BTTN_FLG                             IMPT 00000000   4883 
_FCLS_KJYU_STEPCHG_CLR           P             0000495C   7140 11569 16588 23391*
_FCLS_NZ_TIM_SET                 P             00004938  23073 23363*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5745 30301 34595 35311 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5746 38892 
_FPU_POS_HOKAN1                           IMPT 00000000   5758 40474 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5743  8167 15901 16093 20728 29412 30397 30566 38851 38917 38925 39083 
                                                         39610 39625 39640 39654 39702 40229 40291 40359 40482 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5744 
_FPU_TIM_HOKAN1                           IMPT 00000000   5759 
_FRCYCL_OF                                IMPT 00000000   5609 
_FRCYCL_ON                                IMPT 00000000   5610 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3587 29823 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3586 
_FREQ_SV_SPD                              IMPT 00000000   3519 29940 
_FR_CYL_MASK_FLG                          IMPT 00000000   2645  7422 
_FULCLS_ELSE_STS                          IMPT 00000000   4869 23534 23607 
_FULCLS_MATHED                            IMPT 00000000   4859 21450 21992 22866 22959 23019 23399 23500 23529 
_FULCLS_MAXOVER_CLR              P        EXPT 00004400   7133 16581 22028 22029*
_FULCLS_MAXOVER_ERR              P             000043B0  21913 21950*
_FULCLS_MAXOVER_ERR_WT           P             000043B6  21694 21958*
_FULCLS_MAXOVER_STEP_INI         P             00004414  21137 21276 22053*
_FULCLS_MAXPLS_CALC              P             0000433C  21097 21833*
_FULCLS_OVER_SIG                 P        EXPT 00004428  22079 22085*
_FULCLS_TIM_SETFLG                        IMPT 00000000   4867 11543 23050 23069 23099 23396 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3081 
_FUL_BEFOR_CALC                  P             000012E8  10705 10745*
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4676 21149 
_FUL_CLS_LENGH_ADD_CALC          P             0000452C  22363*
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4677 10376 21267 21916 21984 21998 22034 22059 22092 
_FUL_CLS_OBJPLS_CHK              P        EXPT 00004504  22319 22325*22388 22398 22857 22877 
_FUL_CLS_RNADIG                           EQU  00000320   2012*
_FUL_DATA_INIT                   P        EXPT 000045B0  11472 22465 22470*27213 
_FUL_PLS_START                   P             000045C4  21179 21501 22498*
_FUL_START_FUL_OBJ_SET           P             00001340  10832*
_FWD_REV_START                   P        EXPT 00003280   6402  9923 12173 13346 13408 13547 13882 14951 17818*22554 32531 
_FWD_REV_STSIG_OFF               P        EXPT 00003340   6392  9994 10027 10204 16465 16534 17512 17564 17823 17981*20993 21106 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   670

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         21307 21406 21548 21637 21681 22561 32592 
_FWD_REV_STSIG_OFF_SPEC          P        EXPT 00003380   6405 11203 13200 13724 13962 14641 14692 18039*
_GAMEN_OVER_RIDE                 P             00005EB4   9502 28711*
_GENSOK_LNGTH_MAX                         EQU  00E4E1C0   6205*36920 37044 39576 
_GENSOK_SIG_MAK                  P        EXPT 00003ED4  20814 20816*
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3885 
_GPOINT_HOS_CALC                 P             000055B0  26235*
_GPOSIN_HOS_DRV_INI              P             000055A8   6722 26216*32712 
_GPOSIN_HOS_RESET                P        EXPT 000055A0  26199 26201*
_HENSA_DAT_MONI_MAK              P        EXPT 0000562C  26776 26778*
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3961 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3962 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2881 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2880 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5741 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5742 
_HIST_DAT_SEND_COM                        IMPT 00000000   5554 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5553 
_HIST_EVENT_COD                           IMPT 00000000   5555 
_HIST_INFO_DT_IN1                P             00004B6C   9757 23909*
_HIST_KEP_SEND_COM                        IMPT 00000000   5556 
_HLDCAM_ABS_POS_SET                       IMPT 00000000   6237 12844 27783 
_HLDCAM_BANK2_ABS_POS_SET                 IMPT 00000000   6238 27649 27716 
_INCENC_ADD                               EQU  00000000   2067*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2702 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2701 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2703 
_INCENC_SV_HENSA_MAKE            P        EXPT 00003ABC  19579 19697 19821 19828*
_INCHEN_ADD                               EQU  00000000   2066*
_INCREV_ADD                               EQU  00000000   2071*
_INCRNA_ADD                               EQU  00000000   2068*
_INCSTP_ADD                               EQU  00000000   2069*
_INC_ABS_ORGWORK                          IMPT 00000000   2928 
_INC_ABS_ORGWORK2                         IMPT 00000000   4348 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4349 
_INC_ENC360                               IMPT 00000000   2539  9099 14214 15325 15341 21905 32045 
_INC_ENC_MM_POS                           IMPT 00000000   2723 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4350 
_INC_RESET_STEP                           IMPT 00000000   5083  9645 12666 
_INC_RESET_USE_F                          IMPT 00000000   5084  9639 12645 
_INC_RST_WORK_CLR                         IMPT 00000000   6419  9651 
_INC_STOP_CNT                             IMPT 00000000   3260 
_INC_UPLIMT_CALC                 P             00006AC8   6691 31736*
_INFO_CHK1_COD                            EQU  5AA51234   2206*
_INFO_CHK2_COD                            EQU  4321A55A   2207*
_INPUT_MODE_SW                            IMPT 00000000   2594 
_INP_ERR_FLG                              IMPT 00000000   4612 11378 
_INP_MODE                                 IMPT 00000000   2626 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5152 
_INT1MS_SCAN_02MS                         IMPT 00000000   4287 
_INT1MS_SCAN_03MS                         IMPT 00000000   4288 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4289 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4290 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   671

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT1MS_SCAN_10MS                         IMPT 00000000   4291 
_INT_CLS_CTL_FLG                          IMPT 00000000   2847  6789 10385 21074 21131 21224 21273 21291 21401 21505 21556 21645 
                                                         21674 22474 30156 32784 36590 41038 
_INT_CLS_DYL_TIM                          IMPT 00000000   2848 21151 21326 21770 21796 
_INT_CYC_DRV_STS                          IMPT 00000000   2846  6783  7051  7195  7288  9567 10262 16449 16688 32778 
_INT_DND_CTL_STEP                         IMPT 00000000   2842  6727  9389  9627 10487 13162 13268 13463 13511 32479 32717 
_INT_DND_NEG_STEP                         IMPT 00000000   2850  7793  7816 13840 16459 
_INT_DND_STEP_FLG                         IMPT 00000000   2845  6729  9629 10489 13141 13176 13220 13252 13418 13557 13582 13709 
                                                         13758 13800 13886 13955 14041 32481 32719 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2859 
_INT_POS_CTL_END                 P             00001178  10273 10471*
_INT_POS_CTL_FLAG                         IMPT 00000000   2843  6733  9587  9683  9934  9989 10022 10075 10212 10239 10476 14955 
                                                         32438 32536 32587 32723 
_INT_POS_CTL_STEP                         IMPT 00000000   2840  9659 10480 10556 10638 10781 10896 11499 11531 11811 11857 12031 
                                                         12901 19042 19775 19801 22406 22609 22789 23369 25153 25397 26874 27119 
                                                         27441 27500 27555 32272 32489 34819 35336 35728 39188 
_INT_POS_CTRL                    P        EXPT 00000C2C   6383  9440*
_INT_POS_DATA_REF                P        EXPT 000038D4   6384 19410*
_INT_POS_STEP_FLG                         IMPT 00000000   2844  9625 10051 10478 11080 11561 11680 12019 12189 12256 16544 27102 
                                                         32477 
_INT_SFY_INP_DAT                          IMPT 00000000   3647 
_INT_SPD_CHG_FLG                          IMPT 00000000   5513 
_INT_STP_INP_DAT                          IMPT 00000000   3648 
_INT_STP_INP_DAT1                         IMPT 00000000   3649 
_INT_STP_INP_DAT2                         IMPT 00000000   3650 
_INT_STP_INP_DAT3                         IMPT 00000000   3651 
_INT_TEP_RESTART                 P             00002664  14667 14779 14896*
_INT_TIM_CHG_FLG                          IMPT 00000000   5514 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4044 
_IN_POS_GPOINT_POS                        IMPT 00000000   3946 
_IN_RDY_FLG                               IMPT 00000000   2634 
_IRQ_EMG_CNT                              IMPT 00000000   3641 
_IRQ_EMG_FLG                              IMPT 00000000   3640 
_IRQ_SFY_CNT                              IMPT 00000000   3643 
_IRQ_SFY_FLG                              IMPT 00000000   3642 
_IRQ_STP_CNT                              IMPT 00000000   3645 
_IRQ_STP_FLG                              IMPT 00000000   3644 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4202 
_KAJLIV_TTL_POINT                         IMPT 00000000   4201 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4199 
_KAJYU_ELSE_STS_CLR              P        EXPT 00004A34   7144 16592 23564 23572*
_KAJYU_ELSE_STS_FLG_CLR          P             00004A58  23578 23602*
_KAJYU_START_UPCHK               P             000049F4  21186 23525*
_KJPHOS_CAL_PRS                           IMPT 00000000   3009 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   3001 
_KJPHOS_IDO_BUF                           IMPT 00000000   3004 
_KJPHOS_IDO_CNT                           IMPT 00000000   2998 
_KJPHOS_IDO_POINT                         IMPT 00000000   2997 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   3003 
_KJPHOS_SMPINI                            IMPT 00000000   6368 19111 32768 
_KJPHOS_SMPLING_END1                      IMPT 00000000   6369 19213 
_KJPHOS_USE_FLG                           IMPT 00000000   2996 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   3000 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4856 22742 22986 23160 23250 23329 23542 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   672

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4857 22746 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4855 22737 23466 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   3007 
_KJYUU_IN_DAT_PV                          IMPT 00000000   3006 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   3008 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4866 23178 
_KJYU_CMP_CMD                             IMPT 00000000   4925 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4931 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4930 
_KJYU_DATA_INFO_SEL              P             00004978  20941 23422*
_KJYU_NEARZERO3_CHK              P             000048B8  21755 23245*23665 
_KJYU_NEARZERO_CHK               P             00004888  22980 23061 23131 23155*
_KJYU_OUT_DIRCT                  P             0000491A  23115 23324*
_KJ_AREATRD_SIG                           IMPT 00000000   4907 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4908 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3765 
_KJ_AREA_SIG                              IMPT 00000000   3764 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2487 
_LENGH_ADD_CALC                  P        EXPT 00002C14   6397 10583 10714 11020 13334 13396 13535 16222*32384 
_LENGH_ADD_CALC_SV_TYPE          P        EXPT 00002C58   6398 10922 16277*
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3680 15235 16235 16291 16331 27383 28227 
_LINK_1000ROT_PLS                         IMPT 00000000   4220 
_LINK_1ROT_PLS                            IMPT 00000000   2774  7962  7981  8228  8313  8332  8724  8743  8870  8904  9163 12629 
                                                         14406 14422 14444 14463 22333 22380 24513 24571 32881 34421 35136 
_LINK_2ROT_PLS                            IMPT 00000000   4217 
_LINK_3ROT_PLS                            IMPT 00000000   4218 
_LINK_4ROT_PLS                            IMPT 00000000   4219 
_LINK_CLANK_PV                            IMPT 00000000   3497 
_LINK_DIR_OBJMAK3                P             00000984   8831* 9306 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3049  8163 30298 38512 39432 39830 40225 40287 40355 40478 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2697 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2696 12622 12751 12762 12775 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2698 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2699  7911  8247  8668  8855 12625 14390 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2768 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2767  7087 12021 
_LINK_POS_OFFSET1                         IMPT 00000000   2861 
_LINK_POS_OFFSET2                         IMPT 00000000   2862 
_LINK_PV_ABSPLS                           IMPT 00000000   2860 19835 23934 24103 24857 25126 25240 25327 25478 25564 26788 29305 
                                                         29656 31056 32873 
_LINK_P_M_MAX                    P             00000B68   7679  9248*
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2821  7997  8349  8441  8760  8932 10850 12913 14479 14839 16244 19534 
                                                         22631 26904 27376 29248 29308 31041 32876 32971 34892 35787 36310 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2829  8013  8365  8422  8437  8776  8947  9263 10841 11016 13330 13392 
                                                         13531 14495 14842 15193 15232 16226 16281 16340 19832 22368 23926 24048 
                                                         24098 24846 25121 25235 25322 25473 25559 26784 26805 27380 28143 28218 
                                                         29565 29650 31033 32889 36285 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2830  7516  7536  8113  9860 10562 10644 10902 11008 13010 13524 14931 
                                                         15983 16008 27561 32334 32920 
_LINK_UPPLS_A_OBJMAK1            P             000006B8   6994  8211*13379 
_LINK_UPPLS_A_OBJMAK2            P             000007C0   8413*13318 13447 
_LINK_UPPLS_A_OBJMAK3            P             0000082C   8487* 9351 13496 
_LINK_UPPLS_DNDRIV               P             00000A5C   8998* 9334 
_LINK_UPPLS_OBJ_SELECT1          P             00000868   8506  8581* 9010 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   673

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LNGTH_ADD_DATA                           IMPT 00000000   2855 10492 15239 16251 16303 16353 16389 18330 22454 24108 24115 24120 
                                                         24334 24467 28231 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2856 10496 16386 18337 18413 18433 18559 18745 22298 24194 24347 24480 
                                                         25136 28277 
_LNKPLS_OBJ_DAT_MAK1             P             00000558   7840  7858  7883*
_LNKPLS_OBJ_DAT_MAK2             P             000023F8  14330 14358*
_LOAD_ACCS1_LATE                 P        EXPT 00003C68  20054 20251*
_LOAD_BASE_FREQ_PLS              P        EXPT 00003C4C  20055 20218*
_LOAD_FREQ_PLS                   P        EXPT 00003C30  20049 20183*25115 25229 25316 25467 25553 
_LOAD_GPOINT_PLS                 P        EXPT 00003CAC  20051 20352*
_LOAD_NOW_FREQ_PLS               P        EXPT 00003C90  20050 20315*31071 
_LOAD_REST_PLS                   P        EXPT 00003BC4  15743 17163 17285 17316 17372 18048 18497 18721 18811 18947 20048 20074*
                                                         24249 24672 24842 
_LOAD_SPD_LATE                   P        EXPT 00003C7C  20053 20281*
_LOD_POS_STS_REG                 P        EXPT 000033D4   6403 13729 13966 14645 14696 17517 17569 18115*20009 20822 
_LOD_POS_STS_REG_IN              P             00003418  18125 18160 18197*36654 36692 41142 
_LOD_POS_STS_REG_POR             P        EXPT 000033EC   6404 11175 13193 18149*21009 21110 21231 21311 21685 
_LOD_POS_STS_REG_SLOW            P             000033EC  10232 18150*
_LONG_BIT_TBL0                            IMPT 00000000   6326 19778 19804 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3484 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3485 
_LOT_CHK_FLG                              IMPT 00000000   2666 27082 
_LOT_CNT_FLG                              IMPT 00000000   2664 
_LOT_SIG_FLG_CLR                          IMPT 00000000   6286 11913 12243 27072 
_LOT_SIG_SET                              IMPT 00000000   6250 
_LSA1_FILETR_TIM                          IMPT 00000000   3746 
_LSA2_FILETR_TIM                          IMPT 00000000   3747 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3752 
_LSA_ENC_DIG                              IMPT 00000000   3739 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3740 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3741 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3742 
_LSA_ERR_SIG                              IMPT 00000000   3751 
_LSA_SIG_DT                               IMPT 00000000   3743 
_LSA_SIG_DT2                              IMPT 00000000   4068 
_LSA_SIG_OLD_DT                           IMPT 00000000   3744 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3745 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3603 16832 16837 17168 17251 17612 17653 17713 17754 17848 17897 17987 
                                                         18061 30022 30074 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4476 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4477 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4478 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4479 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3582 25855 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3581 25852 
_LSI_CMP_ERR_MAX                          EQU  0000000A   6198*
_LSI_G_HOS_SPD                            EQU  0000000F   6201*
_LSI_LOAD_32BIT_DATA             P             00003CC8  20100 20107 20114 20195 20229 20327 20363 20388*
_LSI_LOAD_PLS                             IMPT 00000000   5213 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3571 17155 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3572 17310 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3573 17400 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3554 17151 17390 17394 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3567 25845 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   674

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3565 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3564 25800 25862 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3568 20132 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3574 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3575 19025 25848 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3576 18571 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3577 18986 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3578 19011 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3555 18401 18563 
_LSI_REST_PLS_CHK_START_CLR      P             00005394   6718 25838*32708 
_LSI_REST_PLS_CHK_STOP_CLR       P             00005358  10002 10035 11340 16559 25792*32600 
_LSI_RETRY_ERR_MAX                        EQU  00000003   6197*17396 18565 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3665 30148 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3666 
_LSI_SET_SPD_SV                           IMPT 00000000   3664 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3515 23935 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3514 23927 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3516 15243 16256 16307 16357 28248 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3517 18348 28293 
_MAIN_CLK                                 IMPT 00000000   4803 
_MAIN_SPD_CHG_FLG                         IMPT 00000000   5515 
_MAIN_START_OK                            IMPT 00000000   2497 
_MAIN_TIM_CHG_FLG                         IMPT 00000000   5516 
_MCN_DBG_COD11                            EQU  00000063   2241*
_MCN_DBG_COD21                            EQU  00000059   2243*
_MCN_DBG_COD22                            EQU  00000058   2244*
_MCN_DBG_COD23                            EQU  00000058   2245*
_MCN_DBG_COD31                            EQU  0000004F   2247*
_MCN_DBG_COD32                            EQU  0000004E   2248*
_MCN_DBG_COD33                            EQU  0000004D   2249*
_MCN_FUJI_DBG1                            EQU  000004D2   2251*
_MNWR_POS_CMD                             IMPT 00000000   2790  7105  7275  9609  9983 10198 16452 16530 32461 32582 32798 
_MN_DNDINC_START                 P             000003E4   6844  7557*
_MN_POS_CTRL_ACT                 P        EXPT 0000026C   6390  7190*
_MN_POS_CTRL_START               P        EXPT 00000000   6389  6623*
_MN_TEP_START                    P             0000260C   7568 14826*
_MODE_SEL                                 IMPT 00000000   2627  6637  6796  7346  7410  9709 10093 11227 11523 11723 11920 13077 
                                                         13650 18378 19115 19584 24042 24241 24310 24442 24630 28761 31670 31740 
                                                         32005 32054 34414 35130 
_MONI_CHG_PROC1                  P        EXPT 00005350  25605 25621*
_MONI_CNT_HIST_INFO_DISP         P        EXPT 00005624  26432 26761*
_MONI_CNT_NOW_INFO_DISP          P        EXPT 000055FC  26431 26443*
_MONI_CNT_NOW_INFO_DSP1          P             00005604  26483*
_MONI_CNT_NOW_INFO_DSP2          P             0000560C  26536*
_MONI_CNT_NOW_INFO_DSP3          P             00005614  26589*
_MONI_CNT_NOW_INFO_DSP4          P             0000561C  26649*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3921 31183 31209 
_MONI_DISP_MOD                            IMPT 00000000   5558 
_MONI_RDY_STEP                            IMPT 00000000   5024 
_MONI_RESET_STEP                          IMPT 00000000   5023 
_MONI_SEINOU_CMP_OUTPUT          P             00006798  10351 30999*
_MONI_SELF_STS1                           IMPT 00000000   5025 
_MONI_SELF_STS2                           IMPT 00000000   5026 
_MOST_DISP_DAT_INI               P             00003AFC  19144 19876*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   675

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MOST_DISP_DAT_SMP               P             00003B40   7259 19923*
_MOTION_CHK_START_FLG                     IMPT 00000000   5330 
_MOTION_CYCLE_ED2                P             000038BC  11909 12239 19304*27066 
_MOTION_CYCLE_END                P             00003834  11896 12235 19178*27062 
_MOTION_CYCLE_START              P             000037D8   6773 12036 19094*27188 
_MOTION_SPD_CHKCNT                        IMPT 00000000   5447 36162 
_MOT_REPSTART_CALC               P             00006D68   9732 11843 32327*
_MOT_REP_CLR                     P             00006CCC  16497 19249 32209*32311 
_MOT_REP_CNT                              IMPT 00000000   5070 32214 32285 
_MOT_REP_F                                IMPT 00000000   5069  9724 11507 11802 20964 32216 32242 32249 32294 39956 
_MOT_REP_STEPCHK                 P             00006CE8  11798 32231*
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5087  6646 32687 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2600 
_MOV_ERR_FLG1                             IMPT 00000000   2597 
_MRTION_SEL                               IMPT 00000000   2632 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5749 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5748 39568 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5750 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4729 
_M_LINK_AREASIG                           IMPT 00000000   2706 27077 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2814 
_NEAR_IN_FLG                              IMPT 00000000   2689 11345 11359 11477 19645 19733 21023 21029 27203 
_NEAR_ZERO_IN_CHK                P             00001B10  12538*
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4328 10685 10770 10837 32374 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4326 10774 22622 32378 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4327 
_NEG_EXITTIM                              IMPT 00000000   4698 21143 21963 
_NEG_TEPA_AREA_CHK               P             00002854  15159 15312*
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3583 18950 25131 25245 25332 25483 25569 31027 
_NEW_TEP_CNT                              IMPT 00000000   3811 15542 15585 
_NEXT_CYCL_START1                P             00001C04   7090 12787*
_NEXT_CYCL_START2                P             00001B28   7059 12613*
_NOW_INC_DIG_MAK                          IMPT 00000000   6256  7899  8218  8500  8848  9004 12619 14384 14846 32910 
_NOW_MOTREP_DIR                           IMPT 00000000   5071 
_NZ_TIM_CHK1                              IMPT 00000000   6298 11366 
_NZ_TIM_OUT_PV1                           IMPT 00000000   3399 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3400 11372 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3397 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3398 
_OBJDIG_CLANK                             IMPT 00000000   4701 
_OBJ_ENC360                               IMPT 00000000   2541 
_OBJ_NEAR_CHK1                   P             00000AE8   8878  8913  9138*
_OBJ_POS_DIG_MAK                          IMPT 00000000  21824 21844 
_OLD_RNAORG_POS1                          IMPT 00000000   2528 
_OPEN_ROT_NEAR1_ZERO_CHK         P             00003984  11169 19574*
_OPEN_ROT_NEAR2_ZERO_CHK         P             00003A14  19692*21003 
_ORGIN2_STEP_FLG                          IMPT 00000000   4337 
_ORGIN_END_FLG1                           IMPT 00000000   3071  6884 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3835 
_ORGIN_MOD2_SEL                           IMPT 00000000   3834  6899 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3836 
_ORGIN_MODE_END                           IMPT 00000000   6247 13488 
_ORGIN_MODE_INI                           IMPT 00000000   6245 13460 
_ORGIN_MODE_SMP                           IMPT 00000000   6246 13171 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   676

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORGIN_OBJ_POS_CTRL_ST1          P             00000B98   6913  9288*
_ORGIN_OBJ_POS_CTRL_ST2          P             00000C0C   9379*13156 
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4393 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4394 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4395 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2604 
_ORG_DRV_CNT_PV                           IMPT 00000000   3471 13294 13412 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2603  6891 
_ORG_END_SIG_CLR                          IMPT 00000000   6267  7002  9362 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3062  8225 
_ORG_PRESET_TIM                           IMPT 00000000   2612 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3472 13301 13589 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3063  8425 
_ORIGIN_POS_CHK_INI2                      IMPT 00000000   6371 13605 
_ORIGN_180ARA_FLG                         IMPT 00000000   4029  7111  8256  8544  9043 32803 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3667  6985  9292  9383 13656 32792 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3458 20474 
_OUTPLS_DELT                              IMPT 00000000   3454 19505 20459 31124 
_OUTPLS_DIV                               IMPT 00000000   2864 
_OUTPLS_MOD                               IMPT 00000000   2863 10506 16392 24360 24493 
_OUTPLS_POINT_SEL                         IMPT 00000000   3457 20469 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3455 20468 
_OUTPLS_SPD_POINT                         IMPT 00000000   3456 20472 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3450 20467 
_OUT_PLS_SPD                              IMPT 00000000   3451 20475 
_OUT_PLS_SPD_CALC                P        EXPT 00003CF4  20448 20455*
_OUT_PLS_SPD_DIR                          IMPT 00000000   3453 20473 
_OUT_UP_DN_TOTAL_CNT             P        EXPT 000038DC  19425 19427*
_OVER1_JGDIG                              EQU  00000032   2050*
_OVERH_CALC_USE                           IMPT 00000000   4695 
_OVERH_CYC_END                            IMPT 00000000   6316 19242 
_OVERH_MODE_SEL                           IMPT 00000000   4693 
_OVERLIDE_DT_SEL                          IMPT 00000000   3883 28767 
_OVERLID_CTL_DEF_SET             P             00005E88  28603 28668*
_OVERLID_DEF_SET                 P        EXPT 00005E28   6409 28590*
_OVERLID_GMN_DEF_SET             P             00005E6C  28599 28644*
_OVERLID_SEQ_DEF_SET             P             00005E50  28595 28620*
_OVERRIDE_CALC_LATE_SEL          P             00005FFC  28942 28985*32951 
_OVERRIDE_CALC_SPED_SEL          P             00006028   9546 28946 29018*32955 
_OVER_DIG_CHK                    P             00004378  21362 21587 21901*
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3910 30291 
_OVER_LIDE_SEQREF                P             00005D80   9506 28475*
_OVER_LIDE_SPD_CALC              P             0000612C  29404*34964 35985 36071 36379 
_OVER_RIDE_ERR_TIMCHG            P        EXPT 00006040  29053 29059*
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3873 28529 28533 28543 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3871 28487 28493 28516 28556 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3872 28526 
_OVER_RIDE_USEFUL                         IMPT 00000000   3905  9539 28783 28788 28808 28833 28859 28865 29070 32940 32945 
_OVER_RID_UPDN_LAT_CALC          P             00006070  29119*
_OVER_RID_UPDN_LAT_DTMK          P        EXPT 00005FB4  12057 27112 28919 28928*
_OVER_UPDN_DBGCNT                         IMPT 00000000   3907 28932 
_OVRLIDE_LATE_MAX                         EQU  00000064   2282*28624 28648 28672 28851 29410 30379 30391 30391 30436 30504 32932 
                                                         39566 39608 39623 39638 39652 39700 
_OVRLIDE_LATE_MULDIV             P             00006530  29082 30288 30332*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   677

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OutputPLS_REG_CLR               P             00002F74  16417 17063*18477 18556 
_PAR_ACCDN_MATH                           IMPT 00000000  34069 34080 34135 34238 34311 
_PAR_DNMDEND_DLY                          IMPT 00000000  31654 31676 
_PAR_INCSPD_UPLMT                         IMPT 00000000   6350 31753 
_PAR_INSERT_SMPTM                         IMPT 00000000   6348 
_PAR_KAJYU_ARASPD                         IMPT 00000000  20879 23724 
_PAR_KAJYU_CHGARA                         IMPT 00000000  20880 23266 23652 
_PAR_KAJYU_CTIM1                          IMPT 00000000  20884 21768 
_PAR_KAJYU_CTIM2                          IMPT 00000000  20885 21794 
_PAR_KAJYU_FIRST                          IMPT 00000000  20887 22984 
_PAR_KAJYU_HLDSPD                         IMPT 00000000  20878 23772 
_PAR_KAJYU_STPARA                         IMPT 00000000  20886 23257 
_PAR_MYUBRK_TIM1                          IMPT 00000000   6424  7360 
_PAR_MYUBRK_TIM2                          IMPT 00000000   6425  7343 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6426  7213 
_PAR_NEGCTL_SPDS1                         IMPT 00000000  20882 23830 
_PAR_NEGERR_ENB                           IMPT 00000000  20875 21978 
_PAR_NEG_EXITTIM                          IMPT 00000000  20876 21141 
_PAR_ORGDRV_CNT                           IMPT 00000000   6346 
_PAR_ORGDRV_MOD                           IMPT 00000000   6345 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6427  7405 
_PAR_START_WAIT_DND                       IMPT 00000000  13209 13751 
_PAR_STOPTIM_SEL                          IMPT 00000000   6351 31616 
_PAR_TEP_BEFPLS                           IMPT 00000000  14584 16045 
_PAR_TEP_MINSPD                           IMPT 00000000  14585 16074 
_PAR_TEP_WATTIM                           IMPT 00000000  14583 16057 
_PAR_WTSEL_USE                            IMPT 00000000   6178  7830 12661 13645 
_PDTRA                                    IMPT 00000000   6569 18537 18613 18677 18833 18929 26273 26305 
_PDTRB                                    IMPT 00000000  37341 38787 38976 39048 
_PLSI_CH1                                 EQU  00000000   6461*16809 16842 17173 17225 17256 17339 17617 17658 17718 17759 17855 
                                                         17902 17992 18066 18218 18247 18299 18870 19447 19456 20098 20105 20112 
                                                         20193 20227 20261 20290 20325 20361 28005 29844 29961 30027 30079 30901 
                                                         30925 30949 
_PLSI_CH2                                 EQU  00000030   6462*
_PLSI_CH_COM                              EQU  00000000   6488*20419 
_PLSOUTEND_FLG                            IMPT 00000000   5236 
_PLSOUTEND_PVPLS                          IMPT 00000000   5234 
_PLSOUTEND_SHIN                           IMPT 00000000   5235 
_PLSOUT_STEP_END_TIMSET          P             00001B18  12549*
_PLS_AccLate1                             EQU  0000001C   6478*20261 30901 
_PLS_AccLate2                             EQU  0000001E   6479*30925 
_PLS_BasFreqL                             EQU  0000000C   6470*20227 29844 
_PLS_BitComdL                             EQU  00000000   6464*16842 17173 17256 17617 17658 17718 17759 17855 17902 17992 18066 
                                                         30027 30079 
_PLS_BitInfoL                             EQU  00000004   6466*18218 18247 
_PLS_CHG_PLS_TO_LSI              P             00006464  29820 29936 30138*
_PLS_CtrlReg                              EQU  0000002A   6485*16809 
_PLS_ERR_HABPLS1                          EQU  000007D0   6186*24515 24573 24850 
_PLS_GNpointL                             EQU  00000018   6476*20361 
_PLS_LSI_CTL_CALC                P             00007F68  36490 36522*
_PLS_LSI_CTL_INI                 P             00006110  29353*36418 
_PLS_LSI_CTL_SPDCNT              P             00006370  29901*30729 
_PLS_LSI_CTL_SPDINI              P             000062FC  29803*30706 
_PLS_LSI_CTL_SPDSET              P             0000638C  29878 29909 29929*36670 36733 41120 41214 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   678

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLS_LSI_CTRL                    P             00007E30  10366 36278*
_PLS_LSI_SPD_ACC_ADD             P             000080D4  36645 36831*41111 
_PLS_LSI_SPEED_OFF               P             00006118  29377*36441 36752 36792 41231 41271 
_PLS_LSI_STOP_END                P             000063E0  29383 30016*
_PLS_LTCHReg                              EQU  0000007E   6489*20419 
_PLS_NowFreqL                             EQU  00000010   6472*20325 
_PLS_NowPos1L                             EQU  00000024   6482*18299 
_PLS_NowPos2                              EQU  00000028   6484*
_PLS_OUTPUT_FLG                           IMPT 00000000   3390 20019 
_PLS_OUTPUT_MAX                           EQU  00FFFFFF   6460*18728 
_PLS_OUT_END_STS                          IMPT 00000000   4786 
_PLS_OutPposL                             EQU  00000014   6474*17225 17339 18870 20098 20105 20112 28005 
_PLS_OutcntPS                             EQU  00000022   6481*19447 19456 
_PLS_SpedLate                             EQU  00000020   6480*20290 30949 
_PLS_TopFreqL                             EQU  00000008   6468*20193 29961 
_POINT_GET_SPD1                  P             00008EA2  40041 40281*
_POINT_SERCH_BIG_2B              P             00008FAE  40244 40564*
_POINT_SERCH_BIG_4B              P             0000901A  40344 40437 40711*
_POINT_SERCH_PLS1                P             00008EC4  40326*
_POINT_SERCH_PLS_HOKAN1          P             00008F20  39838 40401*
_POINT_SERCH_SPD1                P             00008E58  39963 40216*
_PON_ERR_WAIT_TIM                         IMPT 00000000   5166 
_POSCANSEL_CMD                            IMPT 00000000   5474 
_POSCHG_LINK_ABSPLS_ROTNUMBER             IMPT 00000000   8187 
_POSCHG_LINK_ABSPLS_ROTNUM_OFSPL*         IMPT 00000000  22357 22374 
_POSCHG_LINK_DIG_TO_LINK_PLS              IMPT 00000000  21823 21860 
_POSCHG_LINK_ROTNUM_PLS                   IMPT 00000000   8188 
_POSCTL_CALC_ERR                          IMPT 00000000   3858 16492 16599 30607 36619 41094 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3914 28684 28993 29076 30247 30466 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3913 28681 29026 29408 39564 39606 39621 39636 39650 39698 
_POSCTL_RL_PLS                            IMPT 00000000   3845 10854 29496 29580 29728 36313 37012 
_POSCTL_RL_SPD                            IMPT 00000000   3849 16907 16950 16995 17036 29519 29602 29750 29814 29933 31012 34950 
                                                         35971 36057 36554 36701 36838 39503 39619 40999 41182 41304 
_POSCTL_SET_SPD                           IMPT 00000000   3847 29808 29905 36362 
_POSCTL_STEP_CMD                          IMPT 00000000   3856 30598 30646 30674 36412 36427 36437 36571 41019 
_POSCTL_STEP_FLG                          IMPT 00000000   3857 10423 18166 20836 30601 30614 36301 36401 36423 36434 36534 36576 
                                                         36686 36724 36756 36762 36767 36796 40975 41024 41136 41156 41205 41235 
                                                         41241 41246 41275 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3852 29525 29608 34975 35996 36328 36354 36703 36862 39648 41184 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3854 16905 16948 16993 17034 29415 29522 29605 29680 29753 29812 29816 
                                                         30064 30755 30780 30808 30838 30840 30868 30870 31022 36552 36718 39486 
                                                         40997 41199 
_POSCTL_SV_PLS                            IMPT 00000000   3844 10845 29491 36288 37007 
_POSCTL_SV_SPD                            IMPT 00000000   3848 31006 36397 36836 39604 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3851 31017 36082 36349 36845 39634 
_POSHLD1_CHKLST_FLG                       IMPT 00000000   5018 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4997 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4998 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   5000 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   5001 
_POSHLD1_STOPLATCH                        IMPT 00000000   5006 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4995 
_POSHLD1_STOP_STEP                        IMPT 00000000   4994 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4993 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   679

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSHLD_SET_DN_ACC                        IMPT 00000000   5005 29759 36326 
_POSINER_FLG                              IMPT 00000000   4947 33056 33132 33151 33163 33201 33240 33296 33336 33365 
_POSINER_MOSTPV_POS                       IMPT 00000000   4943 33257 33859 
_POSINER_OLDPV_POS                        IMPT 00000000   4942 33255 33906 33923 
_POSINER_PV_POS                           IMPT 00000000   4941 33120 33253 33454 33676 33747 33856 33960 
_POSINER_RETRY_CNT                        IMPT 00000000   4949 33085 33326 33448 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4950 33246 33889 33896 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4951 33249 33891 33937 33944 33952 
_POSINER_STS                              IMPT 00000000   4948 33097 33134 33304 33309 33343 33348 33386 33461 33682 33753 33825 
                                                         33862 
_POSINER_SV_OVRPOS                        IMPT 00000000   4945 33508 33679 
_POSINER_SV_POS                           IMPT 00000000   4944 33445 33512 33636 33962 
_POSINER_SV_STPPOS                        IMPT 00000000   4946 33520 33750 
_POSITIONER_DAIHAITO             P        EXPT 00007150  33050 33051*
_POSITIONER_DAI_DATA             P             000073E8  33100 33578*
_POSITIONER_DAI_OBJ1CMP          P             0000747C  33183 33670*
_POSITIONER_DAI_OBJ1MAK          P             0000733C  33159 33440*
_POSITIONER_DAI_OBJ2CMP          P             000074C0  33222 33741*
_POSITIONER_DAI_OUT              P             00007504  33191 33230 33807*
_POSITIONER_DAI_STPCHK           P             00007528  33284 33851*
_POSITIONER_UPDN_LIMIT           P             000073C4  33502 33517 33541*
_POSLSI_CHK_CNT                           IMPT 00000000   2873 19474 
_POSLSI_CHK_DLT                           IMPT 00000000   2874 19485 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2867 18725 26809 
_POSLSI_CHK_STS                           IMPT 00000000   2875 12986 18733 
_POSLSI_CMP_DATA                          IMPT 00000000   2857 10500 16421 
_POSLSI_DELT_POS                          IMPT 00000000   2858 10503 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2866  8035  8386  8456  8798  8969 10409 10592 10723 10931 11028 14527 
                                                         15255 17827 19056 19487 21615 21628 22285 22533 24827 27596 29504 29588 
                                                         29664 29736 32393 37020 
_POSLSI_DRV_FRQ                           IMPT 00000000   3584 25118 25143 25232 25250 25319 25337 25470 25488 25556 25574 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2871 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2869 19517 
_POS_1STEP_DATA_MAK1             P             000011E8   9782 10547*
_POS_1STEP_DATA_MAK1CL           P             00001254   9826 10628*12470 
_POS_1STEP_DATA_MAK2             P             0000137C  10886*12073 12484 
_POS_1STEP_DATA_MAK_SEL          P             00001AD4  12120 12457*
_POS_ALLSTEP_STOP_SPD_CHK        P             00001B08  12527*
_POS_ALL_STEP_CTRL               P             0000142C  10105 11059*
_POS_CALC_ERR_FLG1                        IMPT 00000000   3557 10280 16552 18472 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3558 10285 16555 
_POS_CALC_ERR_INF1                        IMPT 00000000   3561 10282 
_POS_CALC_ERR_INF2                        IMPT 00000000   3562 10287 
_POS_CALC_MISS0                  P             00005D2C  14412 14451 14522 28348*
_POS_CALC_MISS1                  P             00005D48  28382*
_POS_CALC_MISS2                  P             00005D64  28416*
_POS_CLS_OBJPLS_PVPLS_MAKE       P             00004718  21348 21534 22523 22833*
_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK P             000047A4  21538 22954*
_POS_CLS_RNA_KJYU_NZ_CHEAK       P             000047EC  21352 23014*
_POS_CLS_START_CONF              P             000046EC  20929 21344 21530 22519 22785*
_POS_CLS_TYP1_NEAR_ZERO_CHEAK    P             00004464  22166*22966 23026 
_POS_CLS_TYP1_POS_CTL1           P             00003F06  11135 20915*
_POS_CMP_1STEP_START_INI                  IMPT 00000000   6283  6768  9945 12194 13889 14964 32547 32759 
_POS_CNT_BANK_DTMAK1             P             000058EE   9801 27349*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   680

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CNT_BANK_DTMAK2             P             000058E8  27168 27340*
_POS_CNT_BANK_DTMAK3             P             0000589C  12102 27270*
_POS_CNT_BANK_DTMAK_CM           P             000059E4  27451 27581*
_POS_CNT_LAST_STEP_CHK           P             00005978  27316 27390 27428 27483*27873 
_POS_CTRL_SQ_STS                          IMPT 00000000   2837 11299 11460 11493 19622 19627 19658 19663 19709 19714 19739 19744 
_POS_DRV_DIRECT                           IMPT 00000000   2831  7676  7730  8032  8383  8453  8795  8966 14095 14126 14152 14327 
                                                         14514 15252 15667 32896 
_POS_ENDMYUT_TIM_SET             P             00000344   7236  7400*
_POS_ENDWAIT_TIM_SET             P             00000308   7221  7336*
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5255  7439  7473 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5254  7437  7470 
_POS_END_MYUTIG_TIMER_CLR        P             00000390   7465*16610 
_POS_END_WAIT_TIM                         IMPT 00000000   5245  7280  7365  7476 
_POS_FRQ_SPDMAX                           IMPT 00000000   3055 16090 30558 
_POS_GEN_BEFORE_LNG                       EQU  000003E8  20872*
_POS_GPOINT_POS                           IMPT 00000000   3947 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4977 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4978 36319 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4979 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4980 
_POS_HOLDABS_CALCF                        IMPT 00000000   5017 
_POS_HOLD_CMD                             IMPT 00000000   5012 
_POS_HOLD_FLG                             IMPT 00000000   5013 
_POS_HOLD_FLG_STR2CLR                     IMPT 00000000   6378  9833 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   5014 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   5015 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   5011 
_POS_LATE1                                EQU  000003E8  20871*
_POS_LATE_CALC_MAX                        EQU  000003E8  20873*
_POS_LENGTH_ADD_DATA             P        EXPT 0000348C   6400  9895 12143 13338 13400 13539 13874 14943 15769 18326*27184 32504 
_POS_LSI_ABSPLS                           IMPT 00000000   2919 
_POS_LSI_ACC1_SET                P             00006750  30895*
_POS_LSI_ACC2_SET                P             00006768  30919*
_POS_LSI_ACCLT1                           IMPT 00000000   3059 30899 
_POS_LSI_ACCLT2                           IMPT 00000000   3060 30923 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3556 10290 16549 17416 18593 20142 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3560 10292 
_POS_LSI_BAS_SPEED_SET           P             000066B8  16901 16944 30748*
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3077 23860 
_POS_LSI_CLS_BAS_SPD_SET         P        EXPT 000066D0  16989 30767 30773*
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3076 
_POS_LSI_CLS_TOP_EQ_BAS_SET1     P        EXPT 00006700  30825 30831*
_POS_LSI_CLS_TOP_EQ_BAS_SET2     P        EXPT 00006728  21169 21491 30853 30861*
_POS_LSI_CNT_LOAD_R1reg          P        EXPT 00003478  18288 18295*
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2923 
_POS_LSI_DATA_INITAL             P        EXPT 00002EC4  16723 16892*
_POS_LSI_EMG_STOP                P             00003130   9998 10208 16469 16538 17506*32596 
_POS_LSI_EMG_STOP_CMD            P             00003190  17530 17606*
_POS_LSI_FRQ_DATA_MAK                     IMPT 00000000  30126 30143 
_POS_LSI_HARD_INITAL             P        EXPT 00002E74  16722 16804*
_POS_LSI_OFFSET1                          IMPT 00000000   2921 
_POS_LSI_OFFSET2                          IMPT 00000000   2922 
_POS_LSI_OLDCNT                           IMPT 00000000   2925 
_POS_LSI_SLOW_STOP               P        EXPT 00003164   6393 10031 17558*21552 21641 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   681

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_SLOW_STOP_CMD           P             00003208  17707*
_POS_LSI_SPDBAS                           IMPT 00000000   3058 30202 
_POS_LSI_SPDLAT                           IMPT 00000000   3057 30947 
_POS_LSI_SPDLATE_SET             P             00006780  16897 30943*
_POS_LSI_SPDMAX                           IMPT 00000000   3056 16088 30560 
_POS_LSI_START_INITAL            P        EXPT 00002EF0   6395  9762  9884 12047 16935*32494 
_POS_LSI_START_INITAL_TEP        P             00002F48   9857 14927 17024*
_POS_LSI_START_INITL2            P             00002F1C   9822 16981*
_POS_LSI_TEP_BAS_SPEED_SET       P        EXPT 000066E8  17030 30795 30801*
_POS_LSI_TOP_SPEED_SET           P        EXPT 00006690   6396  9863 10571 10653 10910 11012 13326 13387 13455 13505 13527 14934 
                                                         30701*30843 30873 32339 32924 
_POS_LSI_TOP_SPEED_SETX          P             000066A4  13013 16012 27564 30724*
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2918 
_POS_LSI_WORK_STOP2              P             00002D00   6778 16412*21412 22507 28328 32773 
_POS_LSI_WORK_STOP_CLR           P             00002CD8  16380*16959 17001 17039 17647 17748 21416 22512 28324 
_POS_OVER_RUN_CHK1                        IMPT 00000000   6289 10298 
_POS_PLSOUT_SET_RETRY            P             000034C4   9905 12155 14947 18374*32513 
_POS_PLS_OUTPUT_DATA             P        EXPT 00003640   6401 10125 13342 13404 13543 13878 15773 18386 18445 18714*22550 32618 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3509 
_PRD_DAI_POS0                             IMPT 00000000   3507 
_PRD_DAI_POS1                             IMPT 00000000   3508 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3995 
_PRESET_PV_ABS_TO_OBJ            P        EXPT 00006078   6681 29149 29150*
_PRESET_PV_FLGCLR                P        EXPT 000060A2  16603 29196 29197*
_PROC_2MS_PLS                             EQU  000007D0  27934*29572 
_PS_DG_INF_CHK1                           EQU  00000000   2215*
_PS_DG_INF_CHK2                           EQU  0000003C   2220*
_PS_DG_INF_CONT                           EQU  00000004   2216*
_PS_DG_INF_LATE                           EQU  00000010   2219*
_PS_DG_INF_STLK                           EQU  0000000C   2218*
_PS_DG_INF_UNIT                           EQU  00000008   2217*
_PS_TIME                                  EQU  00000002   2005*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3258 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3462 20529 20589 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3463 20478 
_PVPAB_KAJLIV_TTL                         IMPT 00000000   6375 
_PVPX1_CKLMT_AGLTOP                       IMPT 00000000   5332 
_PVPX1_CKLMT_SPDTOP                       IMPT 00000000   5333 
_PVP_CB_A_VER                             IMPT 00000000   6364 16854 16865 17185 17196 17208 17232 17243 17268 17279 17334 17348 
                                                         17359 17629 17640 17670 17681 17730 17741 17771 17782 17867 17878 17888 
                                                         17914 17925 17935 18004 18015 18078 18089 18213 18226 18242 18254 18865 
                                                         18879 18890 20409 20429 28000 28014 28025 29839 29853 29864 29956 29970 
                                                         29981 30039 30050 30091 30102 
_PVP_CPUA_TEPPLS                          IMPT 00000000  15522 15535 15578 
_PVP_CPUB_TEPPLS                          IMPT 00000000  15523 
_PVP_MONALM_A01                           IMPT 00000000  25651 
_PVP_MONALM_A02                           IMPT 00000000  25652 
_PVP_MONALM_A03                           IMPT 00000000  25653 
_PVP_MONALM_A04                           IMPT 00000000  25654 
_PVP_MONALM_A05                           IMPT 00000000  25655 
_PVP_MONALM_A06                           IMPT 00000000  25656 
_PVP_MONALM_A07                           IMPT 00000000  25657 
_PVP_MONALM_A08                           IMPT 00000000  25658 
_PVP_MONALM_B01                           IMPT 00000000  25659 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   682

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVP_MONALM_B02                           IMPT 00000000  25660 
_PVP_MONALM_B03                           IMPT 00000000  25661 
_PVP_MONALM_B04                           IMPT 00000000  25662 
_PVP_MONALM_B05                           IMPT 00000000  25663 
_PVP_MONALM_B06                           IMPT 00000000  25664 
_PVP_MONALM_B07                           IMPT 00000000  25665 
_PVP_MONALM_B08                           IMPT 00000000  25666 
_PVP_MONALM_C01                           IMPT 00000000  25643 
_PVP_MONALM_C02                           IMPT 00000000  25644 
_PVP_MONALM_C03                           IMPT 00000000  25645 
_PVP_MONALM_C04                           IMPT 00000000  25646 
_PVP_MONALM_C05                           IMPT 00000000  25647 
_PVP_MONALM_C06                           IMPT 00000000  25648 
_PVP_MONALM_C07                           IMPT 00000000  25649 
_PVP_MONALM_C08                           IMPT 00000000  25650 
_PVP_MONALM_P01                           IMPT 00000000  25668 
_PVP_MONALM_P02                           IMPT 00000000  25669 
_PVP_MONALM_P03                           IMPT 00000000  25670 
_PVP_MONALM_P04                           IMPT 00000000  25671 
_PVX_AMPERR_TIM1                          IMPT 00000000   3195 
_PVX_AMPERR_TIM2                          IMPT 00000000   3196 
_PVX_AMPERR_TIM3                          IMPT 00000000   3197 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4753 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4734 
_PVX_DAI_POS0                             IMPT 00000000   2939 
_PVX_DAI_POS1                             IMPT 00000000   2940 33118 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4718 31691 31708 
_PVX_DYHITO_POS                           IMPT 00000000   2947 
_PVX_IAMP_VLT                             IMPT 00000000   3198 
_PVX_INPPOS_TIM1                          IMPT 00000000   3171 
_PVX_MOTINS_AG2                           IMPT 00000000   4538 
_PVX_MOTINS_AG2X                          IMPT 00000000   4539 
_PVX_MOTINS_AG3                           IMPT 00000000   4544 
_PVX_MOTINS_AG3X                          IMPT 00000000   4545 
_PVX_MOTINS_AGL                           IMPT 00000000   4541 
_PVX_MOTINS_AGLX                          IMPT 00000000   4542 
_PVX_MOTINS_DAN                           IMPT 00000000   4549 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4550 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4548 
_PVX_MOTINS_INF                           IMPT 00000000   4552 
_PVX_MOTINS_POS                           IMPT 00000000   4535 
_PVX_MOTINS_PS2                           IMPT 00000000   4534 
_PVX_MOTINS_PS3                           IMPT 00000000   4536 
_PVX_RNA_STLORK                           IMPT 00000000   2941 
_PV_ENC_SPD_PER                           IMPT 00000000   3460 20528 20587 
_PV_OUT_SPD_PER                           IMPT 00000000   3461 20477 
_PV_POWER_ON_CNT                          IMPT 00000000   6218 24000 
_R2_MUL10_ANS_R2                 P             000083CA  37810 37887*39312 39321 
_RDY_OF                                   IMPT 00000000   5604 
_RDY_ON                                   IMPT 00000000   5603 
_RDY_SFTY_LOCK                            IMPT 00000000   3731 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3732 
_REP_CAMOBJ_DIG                           IMPT 00000000   5072 
_RESET_END_OUT                            IMPT 00000000   5596 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   683

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RESET_OUT                                IMPT 00000000   5595 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2731 
_RESET_ROTNUM_ZR                          IMPT 00000000   2730 
_RESTART_WAIT_PLS_DATA_SELECT    P             000042DA  21459 21748*
_REVCHK_DRIV_SHIN                         IMPT 00000000   4619 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4620 
_REVMOD_REVDN_DIG                         IMPT 00000000   4622 
_REVRSE_BASINC_SPDCALC           P        EXPT 00004B14  20889 21165 21484 23731 23779 23815*
_REVRSE_KAJYU1_BASINCSET         P             00004AAC  23674 23719*
_REVRSE_KAJYU2_BASINCSET         P             00004AE0  23690 23767*
_REVRSE_KAJYU_AREACHK_BASSET     P             00004A6C  21467 23648*
_REV_BEFORE_CHGKOUTEICHK         P             00004640  12941 22592*
_REV_CALC_WORK0                           IMPT 00000000   3249 
_REV_CALC_WORK1                           IMPT 00000000   3250 
_REV_CALC_WORK2                           IMPT 00000000   3251 
_REV_ERR_FLG                              IMPT 00000000   5276 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5279 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5280 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4618 
_REV_LATCH_ENCPOS                         IMPT 00000000   2889 
_REV_LATCH_OUTPLS                         IMPT 00000000   2888 
_REV_LATCH_RNAPOS                         IMPT 00000000   2890 
_RL_POS_DATA_CHK                 P             000068C8  10355 31179*
_RM1_CHK_OLDSTS                           IMPT 00000000   5104 
_RM1_CHK_TIME                             IMPT 00000000   5105 
_RM2_CHK_OLDSTS                           IMPT 00000000   5107 
_RM2_CHK_TIME                             IMPT 00000000   5108 
_RNAREV_ADD                               EQU  00000000   2072*
_RNASTP_ADD                               EQU  00000000   2070*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2980 
_RNA_ABS_MAXPOS                           IMPT 00000000   2959 
_RNA_ABS_MD2_C1                           IMPT 00000000   4352 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4353 
_RNA_ABS_MD2_C2                           IMPT 00000000   4354 
_RNA_ABS_MD_DT0                           IMPT 00000000   2943 
_RNA_ABS_MD_DT1                           IMPT 00000000   2944 
_RNA_ABS_MEMORG                           IMPT 00000000   2936 
_RNA_ABS_MINPOS                           IMPT 00000000   2958 
_RNA_ABS_ORGWORK                          IMPT 00000000   2927 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4346 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4347 
_RNA_ABS_POS                              IMPT 00000000   2935 19886 19951 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2957 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2956 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4493 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4486 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4488 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4487 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4490 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4489 
_RNA_BBN_SET_TIME                         IMPT 00000000   4492 
_RNA_CMD_RD_CNT                           IMPT 00000000   2554 
_RNA_CMD_SND_CNT                          IMPT 00000000   2553 
_RNA_COM_ERR_CNT                          IMPT 00000000   2546 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   684

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_COM_NML_CNT                          IMPT 00000000   2547 
_RNA_CTL_POS0                             IMPT 00000000   2945 
_RNA_CTL_POS1                             IMPT 00000000   2946 19893 19928 
_RNA_ENC360                               IMPT 00000000   2538 
_RNA_HOS_DELT                             IMPT 00000000   2948 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4505 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2722 19898 19938 22395 22873 
_RNA_OLD_STEP                             IMPT 00000000   4508 
_RNA_POS_OFFSET1                          IMPT 00000000   2933 
_RNA_POS_OFFSET2                          IMPT 00000000   2934 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4045 
_RNA_PROTOCOL_X                           IMPT 00000000   4048 
_RNA_RESET_FLG                            IMPT 00000000   2549 
_RNA_RESET_TIM                            IMPT 00000000   2550 
_RNA_STLORK                               IMPT 00000000   2938 
_RNA_STLORK_HALF                          IMPT 00000000   4344 
_RNA_STOP_CNT                             IMPT 00000000   3259 
_RNA_TECH_POINT                           IMPT 00000000   4504 
_RNA_TECH_POSBUF                          IMPT 00000000   4503 
_ROOT_MAIN_INP                            IMPT 00000000   5564 
_ROOT_MAIN_OUT                            IMPT 00000000   5565 
_RST_DLY_TM                               EQU  000000C8   2024*
_RST_ERR_CHK_ERR                          IMPT 00000000   2894 
_RST_ERR_CHK_FLG                          IMPT 00000000   2892 13470 
_SAME_TIM                                 IMPT 00000000   2674 
_SCAN_DBG_CNT                             IMPT 00000000   4822 
_SCAN_SMP_SIG                             IMPT 00000000   4809 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4800 
_SCAN_TIM_IN                              IMPT 00000000   4805 
_SCAN_TIM_POINT                           IMPT 00000000   4801 
_SCAN_TIM_TOTAL                           IMPT 00000000   4799 
_SDATCLS_OBJMM                            IMPT 00000000   3083 
_SDATCLS_OBJPLS                           IMPT 00000000   3082 22848 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3084 22175 
_SDATCLS_TRG_STEP                         IMPT 00000000   3086 22170 22796 22838 23427 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3085 22841 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2776 11650 11658 13216 13239 13246 13754 13778 13786 21212 23091 23375 
                                                         31636 
_SELF_AD_LATCH                            IMPT 00000000   3720 
_SELF_BRK_LOCK                            IMPT 00000000   3716 
_SELF_CHK_MATHED                          IMPT 00000000   3715 
_SELF_CHK_SEL                             IMPT 00000000   2621 
_SELF_COM                                 IMPT 00000000   2619 
_SELF_FIRST_END_FLG                       IMPT 00000000   3713 
_SELF_FLG                                 IMPT 00000000   2617 
_SELF_LOCK_FLG                            IMPT 00000000   4000 
_SELF_MOV_LENGTH                          IMPT 00000000   3723 
_SELF_MOV_SPEED                           IMPT 00000000   3724 
_SELF_POS_START_WORK_CLR         P        EXPT 00005D10  28312 28319*
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3718 
_SELF_SECOND_STEP                         IMPT 00000000   3719 
_SELF_START_POS_LATCH                     IMPT 00000000   3722 
_SELF_START_WAIT_TM                       IMPT 00000000   2620 
_SELF_TIMING_SIG                          IMPT 00000000   3714 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   685

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SEQ_DP_TOP                               IMPT 00000000  23040 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3158 30250 
_SET1_AMP100P_VLT                         IMPT 00000000   3192 
_SET1_ARACHK_LNG1                         IMPT 00000000   3173 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4958 33585 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4954 33468 33489 33623 
_SET1_ATSLID_COEF1                        IMPT 00000000   4957 33630 33970 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4955 33471 33609 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4956 33493 33616 
_SET1_BREAK_DIG                           IMPT 00000000   3495 
_SET1_BREAK_TIM1                          IMPT 00000000   3493 
_SET1_CNT_CNT                             IMPT 00000000   3101 
_SET1_CNT_TIM                             IMPT 00000000   3099 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3184 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3185 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3186 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3203 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3205 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3204 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3207 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3206 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3209 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3208 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3211 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3210 
_SET1_DNAREA_INPX                         IMPT 00000000   3161 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3165 
_SET1_DNAREA_JUDG                         IMPT 00000000   3135 
_SET1_DNDINC_SPD1                         IMPT 00000000   3144  8143 15912 15955 
_SET1_DND_DIGTOP                          IMPT 00000000   3774 
_SET1_DND_PLSTOP                          IMPT 00000000   3775 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3773 
_SET1_DND_STOP_SW                         IMPT 00000000   3772 
_SET1_DND_UPPLS                           IMPT 00000000   3776 
_SET1_EJECAM_OFR                          IMPT 00000000   5061 
_SET1_EJECAM_ONR                          IMPT 00000000   5060 
_SET1_ENC360_HOS1                         IMPT 00000000   3175 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3187 
_SET1_INCDIR_SEL1                         IMPT 00000000   3116 
_SET1_INCENC_ELNG                         IMPT 00000000   3178 
_SET1_INCHEN_ELNG                         IMPT 00000000   3177 
_SET1_INCPLS_1REV                         IMPT 00000000   3113 
_SET1_INCPLS_HOSM                         IMPT 00000000   3118 
_SET1_INCPLS_HOSN                         IMPT 00000000   3117 
_SET1_INCPOS_KP01                         IMPT 00000000   3156 21442 21773 
_SET1_INCREV_ELNG                         IMPT 00000000   3182 
_SET1_INCRNA_ELNG                         IMPT 00000000   3179 
_SET1_INCSTP_ELNG                         IMPT 00000000   3180 
_SET1_INPPOS_TIM1                         IMPT 00000000   3170 
_SET1_INTLIM_AGL                          IMPT 00000000   4983 
_SET1_INTLIM_PLS                          IMPT 00000000   4985 
_SET1_KAJAREA_ENO                         IMPT 00000000   4895 
_SET1_KAJAREA_SEL                         IMPT 00000000   4909 
_SET1_KAJAREA_SNO                         IMPT 00000000   4894 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   686

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_KATTCH_EAG                          IMPT 00000000   4917 
_SET1_KATTCH_SAG                          IMPT 00000000   4916 
_SET1_KATTCH_SPD                          IMPT 00000000   4562 
_SET1_KJEND_DIG1                          IMPT 00000000   3763 
_SET1_KJEND_DIG2                          IMPT 00000000   4898 
_SET1_KJEND_STEP1                         IMPT 00000000   3762 
_SET1_KJSTR_DIG1                          IMPT 00000000   3761 
_SET1_KJSTR_DIG2                          IMPT 00000000   4897 
_SET1_KJSTR_STEP1                         IMPT 00000000   3760 
_SET1_LSAABN_AGL1                         IMPT 00000000   3749 
_SET1_LSAABN_AGL2                         IMPT 00000000   3750 
_SET1_MAX_KJYU                            IMPT 00000000   4205 
_SET1_MISCAM_OFR                          IMPT 00000000   5063 
_SET1_MISCAM_ONR                          IMPT 00000000   5062 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3130 
_SET1_MOTREP_CNT                          IMPT 00000000   5053 32279 
_SET1_MOTREP_SPD                          IMPT 00000000   5052 32332 
_SET1_MOTREP_STGE                         IMPT 00000000   5051 32274 
_SET1_MOTREP_STGS                         IMPT 00000000   5050 11809 32343 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5049 32236 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3120 
_SET1_MOT_INF                             IMPT 00000000   5446 23454 35638 36164 
_SET1_MRTION_SEL1                         IMPT 00000000   3213 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3214 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3191 
_SET1_OBJARA_INPX                         IMPT 00000000   3162 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3166  9143 14418 14458 19615 19700 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3168 19591 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3239 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3224 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3219 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3227 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3231 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3273 
_SET1_OVERLIDE_COF                        IMPT 00000000   3884 28719 28724 
_SET1_PLSAHI_PLS                          IMPT 00000000   3800 15091 
_SET1_PLSALO_PLS                          IMPT 00000000   3799 15085 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3275 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3276 
_SET1_REVDAT_SPD1                         IMPT 00000000   3147 
_SET1_REVDAT_SPD2                         IMPT 00000000   3150 
_SET1_REVDAT_SPD3                         IMPT 00000000   3151 
_SET1_RNADIR_SEL1                         IMPT 00000000   3115 
_SET1_RNAORG_POS1                         IMPT 00000000   3131 
_SET1_RNAPOS_KP01                         IMPT 00000000   3157 21799 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3132 33546 
_SET1_RNAPOS_MINP                         IMPT 00000000   3133 33553 
_SET1_RNAREV_ELNG                         IMPT 00000000   3183 
_SET1_RNASTP_ELNG                         IMPT 00000000   3181 
_SET1_ROTCAM_OFR                          IMPT 00000000   5059 
_SET1_ROTCAM_ONR                          IMPT 00000000   5058 
_SET1_RPARAM_TOP1                         IMPT 00000000   3109 
_SET1_SSCURV_TIM1                         IMPT 00000000   3159 
_SET1_STDINC_SPD1                         IMPT 00000000   3146 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   687

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_TEPCTL_SPD1                         IMPT 00000000   3807 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3153 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3154 
_SET1_UPAREA_DIG0                         IMPT 00000000   3238 
_SET1_UPAREA_DIG1                         IMPT 00000000   3174  9096 15323 
_SET1_UPAREA_INPX                         IMPT 00000000   3160 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3164 
_SET1_UPAREA_JUDG                         IMPT 00000000   3134 
_SET1_UPAREA_PLS0                         IMPT 00000000   3222 
_SET1_UPAREA_PLS1                         IMPT 00000000   3223  7827  8223 
_SET1_UPAREA_POS0                         IMPT 00000000   3218 
_SET1_UPAREA_POS1                         IMPT 00000000   3054 
_SET1_UPAREA_SPD0                         IMPT 00000000   3226 
_SET1_UPAREA_SPD1                         IMPT 00000000   3145  7514 
_SET1_UPAREA_TIM0                         IMPT 00000000   3230 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3148  7534 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4204 
_SET2_INTLIM_AGL                          IMPT 00000000   4984 
_SET2_INTLIM_PLS                          IMPT 00000000   4986 
_SET360_UPAREA_DIG1                       IMPT 00000000   4060 
_SET360_UPAREA_PLS1                       IMPT 00000000   4061 
_SETC_KJEND_DIG1                          IMPT 00000000   4143 
_SETC_KJEND_DIG2                          IMPT 00000000   4905 
_SETC_KJSTR_DIG1                          IMPT 00000000   4142 
_SETC_KJSTR_DIG2                          IMPT 00000000   4904 
_SETD_DEGSPD_MAX                          IMPT 00000000   3311 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4253 20724 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4254 
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4124 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4123 
_SETXY_UPAREA_DIG                         IMPT 00000000   4119 
_SETXY_UPAREA_PLS                         IMPT 00000000   4118 
_SETX_ACCERR_DLY1                         IMPT 00000000   4461 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4456 
_SETX_ACCERR_SEL                          IMPT 00000000   4466 
_SETX_BANK_USELFUL                        IMPT 00000000   3673 
_SETX_BREAK_DIG2                          IMPT 00000000   4189 
_SETX_BREAK_TIM2                          IMPT 00000000   4190 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3140 
_SETX_DAIPOS_MINP                         IMPT 00000000   3141 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3136 15335 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3137  7855 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3079 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3080 22329 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4862 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4473 
_SETX_INCPLS_HOSM                         IMPT 00000000   3119 
_SETX_KJEND_DIG1                          IMPT 00000000   4138 
_SETX_KJEND_DIG2                          IMPT 00000000   4901 
_SETX_KJSTR_DIG1                          IMPT 00000000   4137 
_SETX_KJSTR_DIG2                          IMPT 00000000   4900 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4864 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5156 21444 21498 21775 21801 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2717 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   688

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_LINK_UP_POS_UP                      IMPT 00000000   2716 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4450 
_SETX_MOTREP_DIR                          IMPT 00000000   5067 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3127 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3128 
_SETX_OVERH_AMP                           IMPT 00000000   4692 
_SETX_OVERH_LNGTH                         IMPT 00000000   4691 
_SETX_POS_CTL_MATH                        IMPT 00000000   2750  7586  7645  9325 13104 19597 31664 31892 31964 32048 34408 35124 
                                                         36156 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2749 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2741 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2742 37782 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2738 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2739 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2740 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2748 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2744 
_SETX_POS_STEP_MAX                        IMPT 00000000   2751 37784 38024 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4506 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4507 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4987 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4988 
_SETX_UPAREA_DIG                          IMPT 00000000   3052 
_SETX_UPAREA_PLS                          IMPT 00000000   3050  7834  8626  8853 
_SETX_UPAREA_RNA                          IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3067 15318 15337 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3069  7914  8250  8671 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3066 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3068 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4472 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3125 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3124 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3123 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3122 
_SETY_KJEND_DIG1                          IMPT 00000000   4140 
_SETY_KJEND_DIG2                          IMPT 00000000   4903 
_SETY_KJSTR_DIG1                          IMPT 00000000   4139 
_SETY_KJSTR_DIG2                          IMPT 00000000   4902 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4990 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4991 
_SET_ACC_OVRLIDE                          IMPT 00000000   3895 28677 28780 28830 28856 28991 32937 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3863 23748 23796 23867 30164 30866 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3861 30778 30836 
_SET_DN_ACC_LATE                          IMPT 00000000   3912 30260 36352 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3887 28653 28735 28778 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3886 28650 28732 28773 
_SET_NZ_TIM_DAT                           IMPT 00000000   6297 11304 11488 27208 
_SET_OVER_RIDE                   P             00005EE8   9510 28757*28937 
_SET_PV_ABS_TO_OBJ               P        EXPT 000060E4   6407 29161 29275*
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3875 28552 28629 28828 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3874 28550 28626 28823 
_SET_SPDBAS_PLS                           IMPT 00000000   3862 30753 
_SET_SPD_OVRLIDE                          IMPT 00000000   3894 28674 28775 28825 28853 29024 32934 
_SET_UP_ACC_LATE                          IMPT 00000000   3911 30258 36347 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   689

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_UP_TIM                               IMPT 00000000   2675 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5222 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5223 
_SFTYCHK_RNA_POS                          IMPT 00000000   3391 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2569 
_SFTY_IN_DAT                              IMPT 00000000   2568 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3994 
_SGL_CMPERR_CNTMAX                        EQU  00000014   6185*
_SGL_CMP_ERR_DT_CLR              P        EXPT 00005680   6698 26136 26836 26845*32703 
_SH2_4B                                   EQU  00000004  26643*
_SH2_8B                                   EQU  00000008  26645*
_SH2_ADD_PLS                              IMPT 00000000   5924 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5884 
_SH2_CNT_REST_HF                          IMPT 00000000   5895 
_SH2_CNT_REST_PLS                         IMPT 00000000   5879 
_SH2_DNM_CALC_INFO                        IMPT 00000000  37478 37647 37739 
_SH2_GPOINT_LNG                           IMPT 00000000   6366 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5932 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5933 
_SH2_HD_CNT_STOP                          IMPT 00000000   6340 11944 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6332 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6330 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6338 
_SH2_HD_POS_START                         IMPT 00000000   6334 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6336 
_SH2_HD_STEP_END                          IMPT 00000000   6342 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5880 
_SH2_LOT_CNT_A                            IMPT 00000000   5891 
_SH2_LOT_STEP_A                           IMPT 00000000   5892 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5886 
_SH2_NOW_STEP                             IMPT 00000000   5930 
_SH2_PLSI_ACCS                            IMPT 00000000   5888 
_SH2_PLSI_LATE                            IMPT 00000000   5889 
_SH2_REST_PLS_RL                          IMPT 00000000   5882 
_SH2_REST_PLS_SR                          IMPT 00000000   5881 
_SH2_REST_RL_HF                           IMPT 00000000   5894 
_SH2_REST_SR_HF                           IMPT 00000000   5893 
_SH2_STEP1_FRQ                            IMPT 00000000   5912 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5907 
_SH2_STEP1_REST_P                         IMPT 00000000   5902 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5897 
_SH2_STEP1_TIM                            IMPT 00000000   5917 
_SH2_STEP2_FRQ                            IMPT 00000000   5913 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5908 
_SH2_STEP2_REST_P                         IMPT 00000000   5903 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5898 
_SH2_STEP2_TIM                            IMPT 00000000   5918 
_SH2_STEP3_FRQ                            IMPT 00000000   5914 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5909 
_SH2_STEP3_REST_P                         IMPT 00000000   5904 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5899 
_SH2_STEP3_TIM                            IMPT 00000000   5919 
_SH2_STEP4_FRQ                            IMPT 00000000   5915 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5910 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   690

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP4_REST_P                         IMPT 00000000   5905 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5900 
_SH2_STEP4_TIM                            IMPT 00000000   5920 
_SH2_STEP5_FRQ                            IMPT 00000000   5916 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5911 
_SH2_STEP5_REST_P                         IMPT 00000000   5906 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5901 
_SH2_STEP5_TIM                            IMPT 00000000   5921 
_SH2_STEP_FRQ                             IMPT 00000000   5928 
_SH2_STEP_PV_PLS                          IMPT 00000000   5926 
_SH2_STEP_REST_P                          IMPT 00000000   5927 
_SH2_STEP_SV_PLS                          IMPT 00000000   5925 
_SH2_STEP_TIM                             IMPT 00000000   5929 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5885 
_SH2_TOTAL_PLS                            IMPT 00000000   5923 
_SH4_4B                                   EQU  00000000  26642*
_SH4_8B                                   EQU  00000000  26644*
_SH4_ADD_PLS                              IMPT 00000000   5867 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5829 
_SH4_CNT_REST_HF                          IMPT 00000000   5839 26062 26128 
_SH4_CNT_REST_PLS                         IMPT 00000000   5825 26059 
_SH4_DNM_CALC_INFO                        IMPT 00000000  37436 37477 37555 37574 37606 37646 37713 37737 
_SH4_GPOINT_LNG                           IMPT 00000000   6365 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5875 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5876 
_SH4_HD_CNT_STOP                          IMPT 00000000   6339 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6331 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6329 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6337 
_SH4_HD_POS_START                         IMPT 00000000   6333 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6335 
_SH4_HD_STEP_END                          IMPT 00000000   6341 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5826 18415 25880 
_SH4_LOT_CNT_A                            IMPT 00000000   5835 18424 25804 25867 
_SH4_LOT_STEP_A                           IMPT 00000000   5836 19044 25807 25870 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5831 
_SH4_NOW_STEP                             IMPT 00000000   5873 25155 
_SH4_PLSI_ACCS                            IMPT 00000000   5833 
_SH4_PLSI_LATE                            IMPT 00000000   5834 
_SH4_REST_PLS_RL                          IMPT 00000000   5828 18958 25886 
_SH4_REST_PLS_SR                          IMPT 00000000   5827 18505 25883 
_SH4_REST_RL_HF                           IMPT 00000000   5838 10140 25813 25876 32633 
_SH4_REST_SR_HF                           IMPT 00000000   5837 18651 25810 25873 
_SH4_STEP1_FRQ                            IMPT 00000000   5856 25339 25960 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5851 25329 25945 
_SH4_STEP1_REST_P                         IMPT 00000000   5846 25334 25930 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5841 25324 25915 
_SH4_STEP1_TIM                            IMPT 00000000   5861 25344 25975 
_SH4_STEP2_FRQ                            IMPT 00000000   5857 25490 25963 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5852 25480 25948 
_SH4_STEP2_REST_P                         IMPT 00000000   5847 25485 25933 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5842 25475 25918 
_SH4_STEP2_TIM                            IMPT 00000000   5862 25495 25978 
_SH4_STEP3_FRQ                            IMPT 00000000   5858 25576 25966 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   691

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP3_PV_PLS                         IMPT 00000000   5853 25566 25951 
_SH4_STEP3_REST_P                         IMPT 00000000   5848 25571 25936 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5843 25561 25921 
_SH4_STEP3_TIM                            IMPT 00000000   5863 25581 25981 
_SH4_STEP4_FRQ                            IMPT 00000000   5859 25252 25969 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5854 25242 25954 
_SH4_STEP4_REST_P                         IMPT 00000000   5849 25247 25939 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5844 25237 25924 
_SH4_STEP4_TIM                            IMPT 00000000   5864 25257 25984 
_SH4_STEP5_FRQ                            IMPT 00000000   5860 25972 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5855 25957 
_SH4_STEP5_REST_P                         IMPT 00000000   5850 25942 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5845 25927 
_SH4_STEP5_TIM                            IMPT 00000000   5865 25987 
_SH4_STEP_FRQ                             IMPT 00000000   5871 25145 
_SH4_STEP_PV_PLS                          IMPT 00000000   5869 25128 
_SH4_STEP_REST_P                          IMPT 00000000   5870 25133 
_SH4_STEP_SV_PLS                          IMPT 00000000   5868 25123 
_SH4_STEP_TIM                             IMPT 00000000   5872 25150 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5830 
_SH4_TOTAL_PLS                            IMPT 00000000   5866 25138 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4023 19285 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4024 19283 19888 19953 
_SH_2B                                    EQU  00000000  30985*31105 31120 31127 
_SH_4B                                    EQU  00000000  30986*31008 31014 31019 31024 31029 31052 31067 31075 
_SH_8B                                    EQU  00000000  30987*31036 31044 31059 
_SH_CNTSTOP_FLG                           IMPT 00000000  31081 31120 
_SH_OUTPLS_DELT                           IMPT 00000000  31123 31127 
_SH_POSCTL_ACC                            IMPT 00000000  30970 31019 
_SH_POSCTL_CAL_REST                       IMPT 00000000  30976 31052 
_SH_POSCTL_HENSA                          IMPT 00000000  30977 31067 
_SH_POSCTL_LSIFREQ                        IMPT 00000000  30978 31075 
_SH_POSCTL_OFS                            IMPT 00000000  30971 31024 
_SH_POSCTL_PV_ABSPLS                      IMPT 00000000  30974 31059 
_SH_POSCTL_REST_PLS                       IMPT 00000000  30975 31029 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000  29230 30973 31044 31185 31186 
_SH_POSCTL_RL_SPD                         IMPT 00000000  30969 31014 
_SH_POSCTL_SV_ABSPLS                      IMPT 00000000  30972 31036 
_SH_POSCTL_SV_SPD                         IMPT 00000000  30968 31008 
_SH_SQ200_IN                              IMPT 00000000  31080 31105 
_SINKAKU_INF                              IMPT 00000000   3292 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3294 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3293 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3296 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3295 
_SINWK_CALC_SCAN                          IMPT 00000000   3304 
_SIN_RCAMOF_SW1                           IMPT 00000000   3320 
_SIN_RCAMON_SW1                           IMPT 00000000   3319 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3299 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3323 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3298 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3322 
_SLIDALM_CHK_FLG                          IMPT 00000000   4381 
_SLIDALM_CHK_POS                          IMPT 00000000   4383 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   692

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SLIDALM_CHK_TIM                          IMPT 00000000   4382 
_SLIDALM_POS_MINAS                        IMPT 00000000   4385 
_SLIDALM_POS_PULAS                        IMPT 00000000   4384 
_SPD_CTL_EMG_STOP                P             00006668  17526 30640*
_SPD_CTL_SLOW_STOP               P             0000667C  17578 30668*
_SPD_CTL_START                   P             00006634  17942 30591*
_SPD_PER_MAX                              EQU  00002710   2006*20726 20731 
_SPD_STEP_CHG_FWD                P             00001C70  11209 12897*20986 
_SPD_UPLIMT_CALC                 P             00006158  29446*36386 
_SPLCHK_FLG                               IMPT 00000000   5037 
_SPLCHK_TIM                               IMPT 00000000   5038 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5117 
_SQ_CBWK_TOP                              IMPT 00000000   6327  6753  7117 10318 10342 10381 10418 10425 11618 11635 12269 13663 
                                                         22116 23470 23493 23548 23583 27087 27090 28498 28531 32743 32809 33388 
                                                         33395 34711 35445 37441 
_SQ_OVERH_CMP                             IMPT 00000000   4694 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4043 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_BANK2_MAK_CHK         P             00005A0C   7063  7094 27629*
_START_FLG_AFTER_EMG                      IMPT 00000000   3373  9717 
_START_REQ_COD                            EQU  00009876    212*
_STEP_CMPERR_TIMX1                        IMPT 00000000   5494 
_STOPCHK_INC_POS                          IMPT 00000000   3257 
_STOPCHK_RNA_POS                          IMPT 00000000   3256 
_STOPPING_STOP_POS                        IMPT 00000000   2653 
_STOPPING_STOP_TIM                        IMPT 00000000   2655 
_STOPPING_TIM_FLG                         IMPT 00000000   2654 
_STOPPING_TIM_PV1                         IMPT 00000000   2656 
_STOPPING_TIM_PV2                         IMPT 00000000   2657 
_STOPPING_TIM_STOP_INI                    IMPT 00000000   6287 
_STOPPING_VLVOFF_POS                      IMPT 00000000   2652 
_STOP_360ENC_DIG                          IMPT 00000000   4076 
_STOP_ERR_LATCH                           IMPT 00000000   3494 
_STOP_LATCH                               IMPT 00000000   2635  6785 11215 11931 26949 27898 31115 32780 
_STOP_LATCH_B                             IMPT 00000000   2636  6787 11736 26941 27838 27885 27940 31109 32782 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2886 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2884 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2883 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2885 
_STOP_LTH_OUT                             IMPT 00000000   6285 11742 28055 
_STR_ENC3600_DIG                          IMPT 00000000   2803  7723 32869 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2804 
_SVCHK_SCAN                               IMPT 00000000   4713 
_SVPX1_FED_DEG                            IMPT 00000000   5316 
_SVPX1_FED_POS                            IMPT 00000000   5317 
_SVPX1_MOT_INF                            IMPT 00000000   5315 
_SVPX1_OBJECT_DIG_TOP                     IMPT 00000000   5311 
_SVPX1_OBJECT_POS_TOP                     IMPT 00000000   5310 
_SVPX1_OBJECT_PRS_TOP                     IMPT 00000000   5314 
_SVPX1_OBJECT_SPD_TOP                     IMPT 00000000   5312 37503 37796 
_SVPX1_OBJECT_TIM_TOP                     IMPT 00000000   5313 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3242 
_SVP_ATSLID_BAKLNG                        IMPT 00000000  33044 33619 
_SVP_ATSLID_COEF1                         IMPT 00000000  33045 33626 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   693

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SVP_ATSLID_DNOBJ1                        IMPT 00000000  33042 33605 
_SVP_ATSLID_OBJ1                          IMPT 00000000  33041 33634 
_SVP_ATSLID_UPOBJ1                        IMPT 00000000  33043 33612 
_SVP_KAJOBJ_HAB                           IMPT 00000000  22948 23163 23262 
_SVP_MACINE_SEL1                          IMPT 00000000   6221 17837 
_SVP_ORGLDN_DEG                           IMPT 00000000  22717 
_SVP_ORGLUP_DEG                           IMPT 00000000  22716 
_SVP_ORGRDN_DEG                           IMPT 00000000  22715 
_SVP_ORGRUP_DEG                           IMPT 00000000  22714 
_SVP_OVERLIDE_COF                         IMPT 00000000  28701 28717 
_SVP_SLPOS_DIR                            IMPT 00000000  33046 33090 
_SVP_SL_TENPOS                            IMPT 00000000  33047 33583 
_SVP_UPAREA_SPD0                          IMPT 00000000   6414 37494 37806 
_SVX_DNM_MAXSPM                           IMPT 00000000   4262 
_SVX_OBJ_SPD_OLDTOP                       IMPT 00000000  37290 37504 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3548 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3549 
_SVX_UPAREA_SPD0OLD                       IMPT 00000000  37291 37495 
_SV_CHG_FLG1                              IMPT 00000000   3335 
_SV_CHG_FLG2                              IMPT 00000000   3336 
_SV_CONST_SUB_PV                          IMPT 00000000   3963 26797 
_SV_DAT_ERR1                              IMPT 00000000   3337 
_SV_OBJ360                                IMPT 00000000   3520 21849 
_SV_POS_CTL_STEP                          IMPT 00000000   2836  7031  9647  9657 11813 11878 12029 12804 13003 16661 27117 27688 
                                                         27763 32487 
_SV_REAL_PLS                              IMPT 00000000   3964 
_SV_REAL_SUB_PV                           IMPT 00000000   3965 26821 
_SW_DEV_MASK_FLG                          IMPT 00000000   2644 
_SYNC2_ERR_HABPLS1                        EQU  00001F40  31295*31324 
_SYNC2_ERR_HOSHAB1                        EQU  0000012C  31297*31348 
_SYNC2_ERR_HOSHAB2                        EQU  00000190  31298*31363 
_SYNC2_ERR_HOSHAB3                        EQU  000001F4  31299*31377 
_SYNC2_ERR_HOSHAB4                        EQU  000003E8  31300*31392 
_SYNC2_ERR_HOSHAB5                        EQU  000005DC  31301*31406 
_SYNC2_ERR_HOSHAB6                        EQU  000007D0  31302*31420 
_SYNC2_ERR_HOSHAB7                        EQU  000009C4  31303*31434 
_SYNC2_HOS_SPD1                           EQU  00000001  31306*31367 
_SYNC2_HOS_SPD2                           EQU  00000004  31307*31381 
_SYNC2_HOS_SPD3                           EQU  00000008  31308*31396 
_SYNC2_HOS_SPD4                           EQU  00000020  31309*31410 
_SYNC2_HOS_SPD5                           EQU  00000040  31310*31424 
_SYNC2_HOS_SPD6                           EQU  00000080  31311*31438 
_SYNC2_HOS_SPD7                           EQU  00000100  31312*31449 
_SYNC2_HOS_SPD8                           EQU  00000200  31313*31330 
_SYNC_ERR_HABPLS1                         EQU  00001770   6189*
_SYNC_ERR_HOSHAB                          EQU  000007D0   6190*
_SYNC_ERR_HOSHAB_M                        EQU  00000064   6191*
_SYNC_GEN_HOS_ADD                         EQU  00000001   6195*
_SYNC_GEN_HOS_ERR                         EQU  00000064   6193*
_SYNC_GEN_HOS_HAB                         EQU  00000001   6194*
_SYS2_DT_LOAD                             IMPT 00000000  37329 37584 
_SYS_100STEP_DNM_SEL                      IMPT 00000000   5308 
_SYS_100STEP_USE                          IMPT 00000000   5307 
_SYS_BSAME_TIM                            EQU  000001F4   2017*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   694

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYS_SETUP_TIM                            EQU  000007D0   2018*
_SYS_STEP_MAX                             IMPT 00000000   5305 
_SYS_STOPPING_TIM                         EQU  00000032   2019*
_TABLE_ERR_FLG                            IMPT 00000000   2501 
_TBLACC_ACC_ADDCHK               P             00009082  39980 40064 40853*
_TBLACC_STEP_SP_MAKE             P             00008D10  39445 39912*
_TBLACC_STOP_SP_MAKE             P             00008CC4  39440 39817*
_TBL_ANS_ACCTIM                           IMPT 00000000   4258 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4260 
_TBL_ANS_MAXSPM                           IMPT 00000000   4259 
_TBL_USE_POS0                             IMPT 00000000   4257 
_TECH2_KJYU_DIG                           IMPT 00000000   4525 
_TECH2_KJYU_LNG                           IMPT 00000000   4523 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4516 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4517 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4518 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4519 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4520 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4521 
_TECH2_KJYU_PLS                           IMPT 00000000   4524 
_TECH2_KJYU_PLSX                          IMPT 00000000   4522 
_TECH2_KN_FLG                             IMPT 00000000   4526 
_TECH_USED_F                              IMPT 00000000   4563 
_TECH_WK_DIG1                             IMPT 00000000   4556 
_TECH_WK_DIG2                             IMPT 00000000   4557 
_TECH_WK_DIG3                             IMPT 00000000   4558 
_TECH_WK_DIG4                             IMPT 00000000   4559 
_TECH_WK_PLS1                             IMPT 00000000   4555 
_TEPA_ADD_LSI                    P             00002994  14736 15640*
_TEPA_PLSCNT_CHK                 P        EXPT 0000294C  14581 15572*
_TEPA_PLSCNT_CLR                 P        EXPT 00002920  14580 15529*
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4419 15437 15597 15612 
_TEPA_START_CHK                  P        EXPT 000028D4  14579 15432*
_TEP_1STEP_DATA_MAK1             P             000027A4   9867 14938 15146*15765 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3821 15747 16052 
_TEP_ADD_PLS_MAK                 P             00002734  14617 14850 15060*
_TEP_CHG_SPD1                             IMPT 00000000   3825 15837 15861 15931 15957 15980 
_TEP_CHG_SPD2                             IMPT 00000000   3826 15839 15863 15959 16005 
_TEP_CNTSMP_TIM                           IMPT 00000000   4792 14607 14863 15724 
_TEP_DND_SPD_PLS                          IMPT 00000000   4791 
_TEP_DNPOS_HIS                            EQU  00000064  15310*15339 
_TEP_DTMAK                       P        EXPT 00002B70  16032 16039*
_TEP_FLG_CLR                     P        EXPT 000028AE  14578 15389*
_TEP_FLG_START                   P             000028C0  15406*15473 
_TEP_INPLS_FLG                            IMPT 00000000   3816 14903 15027 15077 15263 15659 
_TEP_IN_ADD                               IMPT 00000000   3810 15066 15106 15449 15546 15589 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3823 16096 30188 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3822 15923 16085 30806 
_TEP_MODE_DRV                             IMPT 00000000   3812  7561  9850 13084 15394 15411 30180 
_TEP_POS_ADD_CNT                          IMPT 00000000   3808 14660 14772 15022 15113 15166 15187 15197 15549 15735 15778 15892 
_TEP_REVPLS_LT_CLR               P             00002C00  14654 14709 14908 15034 16179*
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4793 15651 15706 16184 
_TEP_SPD_CALC1                   P             00002A6C  14915 15826*
_TEP_SPD_CALC2                   P             00002A98  15756 15856*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   695

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_SPD_CALC3                   P             00002B14  15697 15951*
_TEP_SPD_CALC_COM                P             00002AC4  15833 15869 15887*
_TEP_SPD_SET                     P             00002B34  14919 15975*
_TEP_SPD_SET_CHG                 P             00002B4C  15701 15760 15997*
_TEP_START_INIT1                 P             00002704  14801 14831 14968 15012*
_TEP_STEP_FLG                             IMPT 00000000   3813 14621 14671 14704 14783 15018 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3820 15731 15866 16070 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3819 14715 15830 16064 16067 
_TEP_STEP_WTTM                            IMPT 00000000   3814 14717 14752 14865 
_TIM_1MSEC                                EQU  0000000A   2003* 2017  2018  2019  2024 
_TIM_CNT010MS_DT                          EQU  0000000A   2342*
_TIM_CNT100MS_DT                          EQU  00000064   2343*
_TIM_SEC                                  EQU  00002710   2002*
_TMP_SCI_DEBUG                            IMPT 00000000   5373 
_TRD_CLR_CMD                              IMPT 00000000   5541 
_TRD_DP_MOV_CNT                           IMPT 00000000   5547 
_TRD_DP_MOV_FLG                           IMPT 00000000   5546 
_TRD_EVENT_COD                            IMPT 00000000   5536 
_TRD_EVENT_LATCH                          IMPT 00000000   5538 
_TRD_LATE_PV                              IMPT 00000000   5543 
_TRD_LATE_SV                              IMPT 00000000   5542 
_TRD_POINT_END                            IMPT 00000000   5540 
_TRD_POINT_EVENT                          IMPT 00000000   5539 
_TRD_SIG_SET                              IMPT 00000000  19221 19223 
_TRD_SMP_DAT1                             IMPT 00000000   5527 
_TRD_SMP_DAT2                             IMPT 00000000   5528 
_TRD_SMP_DAT3                             IMPT 00000000   5529 
_TRD_SMP_DAT4                             IMPT 00000000   5530 
_TRD_SMP_DAT5                             IMPT 00000000   5531 
_TRD_SMP_DAT6                             IMPT 00000000   5532 
_TRD_SMP_DAT7                             IMPT 00000000   5533 
_TRD_SMP_DAT8                             IMPT 00000000   5534 
_TRD_SMP_FLG                              IMPT 00000000   5544 
_TRD_SMP_POINT                            IMPT 00000000   5535 
_UP360_CHK_LIST                           IMPT 00000000   4058 
_UP360_JGDIG                              EQU  00000028   2049*
_UPDN_DIRJG_DIG                           EQU  00000708   2011* 9102 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5267 
_UPLIMIT_START_F                          IMPT 00000000   4724 16481 29450 31779 
_UPLIMIT_SV_SPD                           IMPT 00000000   4723 29456 31759 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4684 
_UPMSK2_DRVSEL                            IMPT 00000000   4686 
_UPMSK2_MATH                              IMPT 00000000   4685 
_UPMSK2_MOD                               IMPT 00000000   4682 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4683 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4687 
_UPPLS1_OBJMAK_COMMON            P             000008B4   8549  8663* 9075 
_UP_ACCERR_START_INI                      IMPT 00000000   6373  9951 12200 
_UP_HOLD_DIG                              IMPT 00000000   2641 
_UP_HOLD_FLG                              IMPT 00000000   2642  7416 
_UP_HOLD_STEP                             IMPT 00000000   2638 
_UP_HOLD_STEP1                            IMPT 00000000   2639 
_UP_HOLD_STEP2                            IMPT 00000000   2640 
_USE_IN_TBL_MOV                  P        EXPT 00008424  37082 38083*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   696

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VALV_OFF_DIG_CLANK                       IMPT 00000000   3496 
_VALV_ON_FLG                              IMPT 00000000   4070 
_VIB_DLY_TIM                              IMPT 00000000   4212 
_VIB_GET_SET_TIM                          IMPT 00000000   4209 
_VIB_PLS_OUT_OF                           IMPT 00000000   6310 16566 36775 41254 
_VIB_PLS_OUT_ON                           IMPT 00000000   6309 17950 
_VIB_PV_UP_TIM                            IMPT 00000000   4211 
_VIB_STEP_COM                             IMPT 00000000   4208 
_VIB_STEP_FLG                             IMPT 00000000   4207 
_VIB_USE_SET_TIM                          IMPT 00000000   4210 
_VON1_OF                                  IMPT 00000000   5598 
_VON1_ON                                  IMPT 00000000   5597 
_VON2_OF                                  IMPT 00000000   5600 
_VON2_ON                                  IMPT 00000000   5599 
_VON3_OF                                  IMPT 00000000   5602 
_VON3_ON                                  IMPT 00000000   5601 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2367* 6639  6798  7348 11229 11525 11725 11922 19117 19586 28763 31672 
                                                         32007 32056 34416 35132 
_W1DIC                                    EQU  00000020   2369* 9711 10095 32007 
_W1DUP                                    EQU  00000040   2370* 6838  9711 10099 13079 13652 
_W1END                                    EQU  00000080   2371*
_W1INC                                    EQU  00000002   2365* 6639  6798 11922 11926 19117 28763 31742 32007 32056 34416 35132 
_W1LNC                                    EQU  00000400   2375*
_W1LNO                                    EQU  00000800   2376*
_W1OFF                                    EQU  00000001   2364*
_W1OPT                                    EQU  00000010   2368* 6639  6798  7348 19117 28763 32007 32056 34416 35132 
_W1REV                                    EQU  00004000   2383*
_W1RNC                                    EQU  00000100   2372*
_W1RNO                                    EQU  00000200   2373*
_W1RST                                    EQU  00008000   2384*
_W1SGL                                    EQU  00000004   2366* 6639  6798  7348  7412 18380 19117 24044 24243 24312 24444 24632 
                                                         28763 32007 32056 34416 35132 
_W1SNC                                    EQU  00001000   2381*
_W1SNO                                    EQU  00002000   2382*
_W2LS1                                    EQU  00000004   2386*
_W2LS2                                    EQU  00000008   2387*
_W2SUP                                    EQU  00000080   2391*
_W2WT1                                    EQU  00000010   2388*
_W2WT2                                    EQU  00000020   2389*
_W2WT3                                    EQU  00000040   2390*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5121 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4853 22739 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4851 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4852 
_WAIT_TIM_CNT                    P             00001B20  12560*
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3527 11222 
_WKSQCB200                                EQU  00000000   2115*
_WKSQCB201                                EQU  00000002   2116*
_WKSQCB202                                EQU  00000004   2117*
_WKSQCB203                                EQU  00000006   2118*
_WKSQCB204                                EQU  00000008   2119*
_WKSQCB205                                EQU  0000000A   2120*
_WKSQCB206                                EQU  0000000C   2121* 6753 10318 10342 11618 11635 12269 13663 32743 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   697

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB207                                EQU  0000000E   2122* 7117 32809 
_WKSQCB208                                EQU  00000010   2123*
_WKSQCB209                                EQU  00000012   2124*
_WKSQCB210                                EQU  00000014   2125*
_WKSQCB211                                EQU  00000016   2126*
_WKSQCB212                                EQU  00000018   2127*
_WKSQCB213                                EQU  0000001A   2128*
_WKSQCB214                                EQU  0000001C   2129*
_WKSQCB215                                EQU  0000001E   2130*
_WKSQCB216                                EQU  00000020   2131*
_WKSQCB217                                EQU  00000022   2132*
_WKSQCB218                                EQU  00000024   2133*
_WKSQCB219                                EQU  00000026   2134*
_WKSQCB220                                EQU  00000028   2135*
_WKSQCB221                                EQU  0000002A   2136*
_WKSQCB222                                EQU  0000002C   2137*
_WKSQCB223                                EQU  0000002E   2138*
_WKSQCB224                                EQU  00000030   2139*22116 23548 23583 
_WKSQCB225                                EQU  00000032   2140*
_WKSQCB226                                EQU  00000034   2141*
_WKSQCB227                                EQU  00000036   2142*23470 23493 
_WKSQCB228                                EQU  00000038   2143*
_WKSQCB229                                EQU  0000003A   2144*
_WKSQCB230                                EQU  0000003C   2145*28498 28531 
_WKSQCB231                                EQU  0000003E   2146*10381 
_WKSQCB232                                EQU  00000040   2147*10418 
_WKSQCB233                                EQU  00000042   2148*10425 
_WKSQCB234                                EQU  00000044   2149*
_WKSQCB235                                EQU  00000046   2150*
_WKSQCB236                                EQU  00000048   2151*
_WKSQCB237                                EQU  0000004A   2152*
_WKSQCB238                                EQU  0000004C   2153*
_WKSQCB239                                EQU  0000004E   2154*
_WKSQCB240                                EQU  00000050   2155*
_WKSQCB241                                EQU  00000052   2156*
_WKSQCB242                                EQU  00000054   2157*
_WKSQCB243                                EQU  00000056   2158*
_WKSQCB244                                EQU  00000058   2159*
_WKSQCB245                                EQU  0000005A   2160*
_WKSQCB246                                EQU  0000005C   2161*
_WKSQCB247                                EQU  0000005E   2162*
_WKSQCB248                                EQU  00000060   2163*
_WKSQCB249                                EQU  00000062   2164*
_WKSQCB250                                EQU  00000064   2165*
_WKSQCB251                                EQU  00000066   2166*33388 33395 
_WKSQCB252                                EQU  00000068   2167*
_WKSQCB253                                EQU  0000006A   2168*
_WKSQCB254                                EQU  0000006C   2169*
_WKSQCB255                                EQU  0000006E   2170*34711 35445 
_WKSQCB256                                EQU  00000070   2171*
_WKSQCB257                                EQU  00000072   2172*27090 
_WKSQCB258                                EQU  00000074   2173*37441 
_WKSQCB259                                EQU  00000076   2174*
_WKSQCB260                                EQU  00000078   2175*27087 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   698

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB261                                EQU  0000007A   2176*
_WKSQCB262                                EQU  0000007C   2177*
_WKSQCB263                                EQU  0000007E   2178*
_WKSQCB264                                EQU  00000080   2179*
_WKSQCB265                                EQU  00000082   2180*
_WKSQCB266                                EQU  00000084   2181*
_WKSQCB267                                EQU  00000086   2182*
_WKSQCB268                                EQU  00000088   2183*
_WKSQCB269                                EQU  0000008A   2184*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3539 24002 24005 24050 24100 24105 24110 24196 24252 24254 24330 24369 
                                                         24463 24502 24506 24520 24544 24578 24675 24678 24688 24694 24702 24715 
                                                         24721 24727 24735 24738 24749 24754 24777 24876 24882 25051 
_WK_OBJECT_TIM_TOP                        IMPT 00000000   3233 
_WK_PVP_MOT_STS                           IMPT 00000000   5334 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3317 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3316 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3302 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3309 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3310 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3301 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3307 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3308 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3314 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3313 
_WOANT                                    EQU  00000010   2353*
_WOATO                                    EQU  00000040   2355* 7354 
_WOFCY                                    EQU  00000080   2356*
_WOQST                                    EQU  00000001   2349*
_WORCY                                    EQU  00000100   2357*
_WORDY                                    EQU  00000020   2354*
_WORD_BIT_TBL1                            IMPT 00000000  23415 
_WORST                                    EQU  00000200   2358*
_WOVN1                                    EQU  00000002   2350*
_WOVN2                                    EQU  00000004   2351*
_WOVN3                                    EQU  00000008   2352*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4605  8104 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4413 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4414  8613 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4163 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4165 32975 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4164 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4130 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4131 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4128 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4129 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4134 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4135 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4132 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4133 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4706 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4705  8593 
_WPAR_360STP_HAB                          IMPT 00000000   4055 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3981 30363 
_WPAR_ACC_MATHED                          IMPT 00000000   4225 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   699

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_ANAIN_SEL                           IMPT 00000000   3979 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4652 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3410 30437 30469 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3409 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3411 30505 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4153 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4152 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4412 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3408 20746 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4306 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4307 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3352 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3353 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3350 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3351 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4317 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3357 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3358 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3355 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3356 
_WPAR_COP_SDG1                            IMPT 00000000   3362 
_WPAR_COP_SDG2                            IMPT 00000000   3363 
_WPAR_COP_ZDG1                            IMPT 00000000   3360 
_WPAR_COP_ZDG2                            IMPT 00000000   3361 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4054 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4371 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2969 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2966 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2967 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2970 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2965 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2968 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3414 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3413 
_WPAR_INCOVER_LNG                         IMPT 00000000   3379 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3380 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3381 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3382 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3386 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3384 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3385 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4200 
_WPAR_LSA_FILTIM                          IMPT 00000000   3748 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4053 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4336 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3833 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4396 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3882 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3388 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4154 
_WPAR_SLDALM_LNG                          IMPT 00000000   4378 
_WPAR_SLDALM_TIM                          IMPT 00000000   4379 
_WPAR_STOPING_TIM                         IMPT 00000000   4223 
_WPAR_ZERO_SPD                            IMPT 00000000   3407 20714 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   700

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPVX_KAJLIV_TTL                          IMPT 00000000   4203 
_WPV_ABS_AD_DATA                          IMPT 00000000   3987 
_WPV_AD_DATA                              IMPT 00000000   3986 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5524 
_WPV_CB_STS_POINT                         IMPT 00000000   5549 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5525 
_WPV_CB_TRD_POINT                         IMPT 00000000   5550 
_WPV_POWER_MONI                           IMPT 00000000   3988 
_WPV_POWER_ON_CNT                         IMPT 00000000   5551 
_WPV_SCAN_MAX01                           IMPT 00000000   4811 
_WPV_SCAN_MAX10                           IMPT 00000000   4810 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4807 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4806 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2226*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2227*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2228*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2229*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4120 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4122 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4121 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2713 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2715 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2714 
_WXPV_ERR_DISP                            IMPT 00000000   3658 
_W_PARAM_TOP                              IMPT 00000000   4571  7213  7343  7360  7405 13751 16045 16057 16074 21141 21768 21794 
                                                         21978 22984 23257 23266 23652 23724 23772 23830 31616 31676 31753 34080 
                                                         34135 34238 34311 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5370 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5365 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5358 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5363 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5362 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5371 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5359 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5361 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5369 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5360 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5366 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5760 
_ZERO_INCENC                              EQU  00000000   2058*
_ZERO_INCHEN                              EQU  00000000   2057*
_ZERO_INCREV                              EQU  00000000   2062*
_ZERO_INCRNA                              EQU  00000001   2059*
_ZERO_INCSTP                              EQU  00000000   2060*
_ZERO_RNAREV                              EQU  00000001   2063*
_ZERO_RNASTP                              EQU  00000001   2061*
_cbsys_tbl_err                            IMPT 00000000   4245 
_di1_cb_ctl1                              IMPT 00000000   2506 
_di1_cb_ctl1_dt                           IMPT 00000000   2514 31082 
_di1_cb_ctl1_of                           IMPT 00000000   2516 
_di1_cb_ctl1_on                           IMPT 00000000   2515 
_di2_cb_ctl2                              IMPT 00000000   2507 12323 12369 12415 27284 
_di2_cb_ctl2_dt                           IMPT 00000000   2518 
_di2_cb_ctl2_of                           IMPT 00000000   2520 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   701

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_di2_cb_ctl2_on                           IMPT 00000000   2519 
_di3_cb_inp1                              IMPT 00000000   2508 
_di3_cb_inp1_dt                           IMPT 00000000   2512 
_di4_cb_inp2                              IMPT 00000000   2509 
_dq1_cb_out1                              IMPT 00000000   2510  7352 
_dum_SET_PV_ABS_TO_OBJ           P             00006A24   7888  8418  8494  8843 10552 10634 10892 12052 13313 13374 13443 13492 
                                                         14379 27311 31559*32699 
_emg_err_flg                              IMPT 00000000   2590  9456 37519 
_emg_lev_flg                              IMPT 00000000   2589 
_exq_err_flg                              IMPT 00000000   2593 37521 
_exq_lev_flg                              IMPT 00000000   2591 
_pass_err_flg1                            IMPT 00000000   2587 
_pass_err_flg2                            IMPT 00000000   2588 
_poslsi1_top                              IMPT 00000000   6458 16809 16842 17173 17225 17256 17339 17617 17658 17718 17759 17855 
                                                         17902 17992 18066 18218 18247 18299 18870 19447 19456 20098 20105 20112 
                                                         20193 20227 20261 20290 20325 20361 20419 28005 29844 29961 30027 30079 
                                                         30901 30925 30949 
_reset_dly_tim                            IMPT 00000000   2611 
_reset_flg                                IMPT 00000000   2610 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/13/20 18:21:01                                                  PAGE   702

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    0000092B0        
