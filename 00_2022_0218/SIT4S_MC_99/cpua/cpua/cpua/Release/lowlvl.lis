*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:49                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;------------------------------------------------------------------------
    2                               2     ;                                                                       |
    3                               3     ;   FILE        :lowlvl.src                                             |
    4                               4     ;   DATE        :Fri, May 31, 2002                                      |
    5                               5     ;   DESCRIPTION :Program of Low level                                   |
    6                               6     ;   CPU TYPE    :SH7750                                                 |
    7                               7     ;                                                                       |
    8                               8     ;   This file is generated by Hitachi Project Generator (Ver.2.1).      |
    9                               9     ;                                                                       |
   10                              10     ;------------------------------------------------------------------------
   11                              11     
   12                              12     
   13                              13     
   14                              14     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   15                              15     ;                            lowlvl.src                                 |
   16                              16     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   17                              17     ;            SH-series simulator debugger interface routine             |
   18                              18     ;                         -Input/output one character-                  |
   19                              19     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   20                              20               .EXPORT     _charput
   21                              21               .EXPORT     _charget
   22          00000004            22     SIM_IO:   .EQU            H'0004        ;Specifies TRAP_ADDRESS
   23                              23     
   24 00000000                     24               .SECTION    P, CODE, ALIGN=4
   25                              25     
   26                              26     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   27                              27     ;  _charput: One character output                                       |
   28                              28     ;          C program interface: charput(char)                           |
   29                              29     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   30                              30     
   31 00000000                     31     _charput:
   32 00000000 D006                32               MOV.L       O_PAR,R0          ; Sets output buffer address to R0
   33 00000002 2040                33               MOV.B       R4,@R0            ; Sets output charcter to buffer
   34 00000004 D103                34               MOV.L       #O_PAR,R1         ; Sets parameter block address to R1
   35 00000006 D004                35               MOV.L       #H'01220000,R0    ; Specifies function code (PUTC)
   36 00000008 9203                36               MOV.W       #SIM_IO,R2        ; Sets system call address to R2
   37 0000000A 420B                37               JSR         @R2
   38 0000000C 0009                38               NOP
   39 0000000E 000B                39               RTS
   40 00000010 0009                40               NOP
   41                              41     
   42                                     ***** BEGIN-POOL *****
   43 00000012 0004                       DATA FOR SOURCE-LINE 36
   44 00000014 00000000                   DATA FOR SOURCE-LINE 34
   45 00000018 01220000                   DATA FOR SOURCE-LINE 35
   46                                     ***** END-POOL *****
   47 0000001C                     42               .ALIGN      4
   48 0000001C                     43     O_PAR:                                  ; Parameter block
   49 0000001C 00000000            44               .DATA.L     OUT_BUF
   50                              45     
   51                              46     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   52                              47     ; _charget: One character input                                         |
   53                              48     ;      C program interface: char charget(void)                          |
   54                              49     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   55                              50     
   56 00000020                     51               .ALIGN      4
   57 00000020                     52     _charget:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:49                                                  PAGE     2
PROGRAM NAME =

   58 00000020 D104                53               MOV.L       #I_PAR,R1         ; Sets parameter block address to R1
   59 00000022 D005                54               MOV.L       #H'01210000,R0    ; Specifies function code (GETC)
   60 00000024 9205                55               MOV.W       #SIM_IO,R2        ; Sets system call address to R2
   61 00000026 420B                56               JSR         @R2
   62 00000028 0009                57               NOP
   63 0000002A D004                58               MOV.L       I_PAR,R0          ; Sets input buffer address to R0
   64 0000002C 6000                59               MOV.B       @R0,R0            ; Returns input data
   65 0000002E 000B                60               RTS
   66 00000030 0009                61               NOP
   67                              62     
   68                                     ***** BEGIN-POOL *****
   69 00000032 0004                       DATA FOR SOURCE-LINE 55
   70 00000034 00000000                   DATA FOR SOURCE-LINE 53
   71 00000038 01210000                   DATA FOR SOURCE-LINE 54
   72                                     ***** END-POOL *****
   73 0000003C                     63               .ALIGN      4
   74 0000003C                     64     I_PAR:                                  ; Parameter block
   75 0000003C 00000000            65               .DATA.L     IN_BUF
   76                              66     
   77                              67     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   78                              68     ;                        I/O buffer definition                          |
   79                              69     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   80                              70     
   81 00000000                     71               .SECTION    B,DATA,ALIGN=4
   82                              72     
   83 00000000                     73     OUT_BUF:
   84 00000000 00000004            74               .RES.L      1              ; Output buffer
   85 00000004                     75     IN_BUF:
   86 00000004 00000004            76               .RES.L      1              ; Input buffer
   87                              77     
   88                              78               .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:49                                                  PAGE     3

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

B                                B        SCT  00000000     81*
IN_BUF                           B             00000004     75    85*
I_PAR                            P             0000003C     58    63    74*
OUT_BUF                          B             00000000     49    83*
O_PAR                            P             0000001C     32    34    48*
P                                P        SCT  00000000     24*
SIM_IO                                    EQU  00000004     22*   36    60 
_charget                         P        EXPT 00000020     21    57*
_charput                         P        EXPT 00000000     20    31*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:49                                                  PAGE     4

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000000040        
B                                REL-DATA    000000008        
